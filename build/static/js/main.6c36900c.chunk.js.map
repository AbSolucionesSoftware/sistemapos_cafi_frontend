{"version":3,"sources":["gql/Catalogos/usuarios.js","components/SnackBarMessages.js","components/Layouts/LayoutLogin.js","context/Catalogos/initialStatesProducto.js","context/Catalogos/CtxRegProducto.js","context/Catalogos/empresaContext.js","components/Layouts/BackDrop.js","components/ErrorPage.js","gql/Empresa/empresa.js","config/reuserFunctions.js","pages/sucursales/Facturacion/catalogos.js","gql/Facturacion/Facturacion.js","pages/sucursales/Facturacion/CFDISellos/RegistrarSellos.js","pages/sucursales/Facturacion/CFDISellos/EliminarCSD.js","pages/sucursales/Empresa/InformacionFiscal/InformacionFiscal.js","pages/sucursales/Empresa/Datos/MisDatos.js","pages/sucursales/Empresa/MiEmpresa.js","pages/sucursales/Empresa/Empresa.js","pages/sucursales/Catalogos/Producto/unidades.js","pages/sucursales/Catalogos/Producto/PreciosVenta/UnidadesVenta.js","pages/sucursales/Catalogos/Producto/PreciosVenta/Precios.js","pages/sucursales/Catalogos/Producto/calculos_precios.js","pages/sucursales/Catalogos/Producto/PreciosVenta/registrarInfoAdicional.js","context/Compras/comprasContext.js","pages/sucursales/Catalogos/Producto/TallasColores/TablaPresentaciones.js","pages/sucursales/Compras/AbrirCompra/productos/PreciosProductos.js","gql/Catalogos/productos.js","context/Almacenes/crearAlmacen.js","gql/Almacenes/Almacen.js","pages/sucursales/Almacenes/RegistroAlmacen/ContainerRegistroAlmacen.js","gql/Catalogos/colores.js","pages/sucursales/Catalogos/Producto/TallasColores/crearColor.js","gql/Catalogos/tallas.js","pages/sucursales/Catalogos/Producto/TallasColores/crearTalla.js","pages/sucursales/Catalogos/Producto/TallasColores/TallasColores.js","pages/sucursales/Compras/AbrirCompra/productos/TallasProducto.js","billing/Facturama/facturama.api.js","gql/CatalogosSat/catalogoProductosSat.js","pages/sucursales/Catalogos/Producto/DatosGenerales/CatalogoProductosSAT.js","gql/Catalogos/categorias.js","gql/Catalogos/departamentos.js","gql/Catalogos/marcas.js","pages/sucursales/Catalogos/Producto/DatosGenerales/registrarInfoGeneral.js","pages/sucursales/Catalogos/Producto/Imagenes/cargarImagenesProducto.js","pages/sucursales/Catalogos/Producto/Inventario&Almacen/AlmacenInicial.js","pages/sucursales/Catalogos/Producto/validaciones.js","gql/Catalogos/centroCostos.js","pages/sucursales/Catalogos/Producto/CentroCostos/CentroCostos.js","pages/sucursales/Catalogos/Producto/PrecioPlazos/tabla_precios.js","pages/sucursales/Catalogos/Producto/PrecioPlazos/PrecioPlazos.js","pages/sucursales/Catalogos/Producto/validateDatos.js","pages/sucursales/Catalogos/Producto/crearProducto.js","pages/sucursales/Compras/AbrirCompra/productos/PreciosVenta.js","pages/sucursales/Compras/AbrirCompra/productos/Descuentos.js","context/Catalogos/crearClienteCtx.js","pages/sucursales/Catalogos/Cliente/RegistrarInfoBasica.js","pages/sucursales/Catalogos/Cliente/RegistroInfoCredito.js","gql/Catalogos/clientes.js","pages/sucursales/Catalogos/Cliente/CrearCliente.js","gql/Compras/compras.js","pages/sucursales/Compras/AbrirCompra/initial_states.js","pages/sucursales/Compras/AbrirCompra/productos/DatosProveedorAlmacen.js","pages/sucursales/Compras/AbrirCompra/productos/mostrar_precios.js","pages/sucursales/Compras/AbrirCompra/productos/DatosProducto.js","pages/sucursales/Compras/AbrirCompra/productos/setOrResetData.js","pages/sucursales/Compras/AbrirCompra/TablaCompras.js","pages/sucursales/Compras/AbrirCompra/ConfirmarCompra.js","pages/sucursales/Compras/AbrirCompra/CompraCredito.js","pages/sucursales/Compras/AbrirCompra/AbrirCompra.js","pages/sucursales/Compras/ComprasRealizadas/ExportarProductosCompra.js","pages/sucursales/Compras/ComprasRealizadas/DatosDeCompra.js","pages/sucursales/Compras/ComprasRealizadas/ListaCompras.js","pages/sucursales/Compras/ComprasRealizadas/ExportarComprasExcel.js","pages/sucursales/Compras/ComprasRealizadas/ComprasRealizadas.js","pages/sucursales/Compras/ComprasEnEspera/VerificarProductos.js","pages/sucursales/Compras/ComprasEnEspera/DatosDeCompraEspera.js","pages/sucursales/Compras/ComprasEnEspera/ListaEnEspera.js","pages/sucursales/Compras/ComprasEnEspera/ComprasEnEspera.js","pages/sucursales/Compras/Compras.js","pages/sucursales/Catalogos/Cliente/ListaClientes.js","pages/sucursales/Catalogos/Cliente/Cliente.js","gql/Catalogos/descuentos.js","pages/sucursales/Catalogos/Producto/Descuentos/ListaPrecios.js","pages/sucursales/Catalogos/Producto/Descuentos/Descuento.js","pages/sucursales/Catalogos/Producto/infoProductoDrawer.js","pages/sucursales/Catalogos/Producto/EliminarProducto.js","pages/sucursales/Catalogos/Producto/ListaProductos.js","pages/sucursales/Catalogos/Producto/ProductosEliminados.js","pages/sucursales/Catalogos/Producto/Productos.js","pages/sucursales/Catalogos/Producto/index.js","pages/sucursales/Catalogos/Tallas/ListaTallas.js","pages/sucursales/Catalogos/Tallas/RegistroTallas.js","pages/sucursales/Catalogos/Tallas/Tallas.js","gql/Catalogos/contabilidad.js","pages/sucursales/Catalogos/Contabilidad/ListaServicios.js","pages/sucursales/Catalogos/Contabilidad/RegistroServicio.js","pages/sucursales/Catalogos/Contabilidad/Contabilidad.js","pages/sucursales/Catalogos/Proveedores/ListaProveedores.js","pages/sucursales/Catalogos/Proveedores/Proovedores.js","pages/sucursales/Catalogos/Cajas/ListaCajas.js","gql/Cajas/cajas.js","pages/sucursales/Catalogos/Cajas/RegistrarCajas.js","pages/sucursales/Catalogos/Cajas/Cajas.js","pages/sucursales/Catalogos/Usuarios/AsingarAccesos/arregloVacioAcceso.js","context/Catalogos/usuarioContext.js","pages/sucursales/Catalogos/Usuarios/FormularioUsuario.js","pages/sucursales/Catalogos/Usuarios/AsingarAccesos/Parametros.js","pages/sucursales/Catalogos/Usuarios/AsingarAccesos/Departamentos/Catalogos.js","pages/sucursales/Catalogos/Usuarios/AsingarAccesos/Departamentos/MiEmpresa.js","pages/sucursales/Catalogos/Usuarios/AsingarAccesos/Departamentos/Compras.js","pages/sucursales/Catalogos/Usuarios/AsingarAccesos/Departamentos/Almacenes.js","pages/sucursales/Catalogos/Usuarios/AsingarAccesos/Departamentos/Tesoreria.js","pages/sucursales/Catalogos/Usuarios/AsingarAccesos/Departamentos/Reportes.js","pages/sucursales/Catalogos/Usuarios/AsingarAccesos/Departamentos/Ventas.js","pages/sucursales/Catalogos/Usuarios/AsingarAccesos/AsignarPermisos.js","pages/sucursales/Catalogos/Usuarios/CrearUsuario.js","pages/sucursales/Catalogos/Usuarios/ListaUsuario.js","pages/sucursales/Catalogos/Usuarios/Usuarios.js","context/Catalogos/Departamentos.js","pages/sucursales/Catalogos/Departamentos/ListaDepartamentos.js","pages/sucursales/Catalogos/Departamentos/RegistroDepartamento.js","pages/sucursales/Catalogos/Departamentos/Departamentos.js","pages/sucursales/Catalogos/Categorias/RegistroCategorias.js","pages/sucursales/Catalogos/Categorias/Categorias.js","pages/sucursales/Catalogos/Colores/ListaColores.js","pages/sucursales/Catalogos/Colores/RegistroColores.js","pages/sucursales/Catalogos/Colores/Colores.js","pages/sucursales/Catalogos/Marcas/ListaMarcas.js","context/Catalogos/Marcas.js","pages/sucursales/Catalogos/Marcas/VistaMarcas.js","pages/sucursales/Catalogos/Marcas/Marcas.js","pages/sucursales/Catalogos/CentroCostos/RegistroCentroCostos.js","pages/sucursales/Catalogos/CentroCostos/CentroCostos.js","gql/Catalogos/conceptosAlmacen.js","pages/sucursales/Catalogos/ConceptosAlmacen/ListaConceptos.js","pages/sucursales/Catalogos/ConceptosAlmacen/RegistroConcepto.js","pages/sucursales/Catalogos/ConceptosAlmacen/ConceptosAlmacen.js","pages/sucursales/Catalogos/Catalogos.js","context/Tesoreria/tesoreriaCtx.js","gql/Empresa/sucursales.js","pages/sucursales/Tesoreria/CuentasEmpresaSucursales/RetiroDeposito.js","pages/sucursales/Tesoreria/CuentasEmpresaSucursales/HistorialCuentas.js","pages/sucursales/Tesoreria/CuentasEmpresaSucursales/ListaCuentas.js","pages/sucursales/Tesoreria/CuentasEmpresaSucursales/CuentasEmpresaSucursales.js","gql/Tesoreria/egresos.js","pages/sucursales/Tesoreria/Egresos/TablaProductosEgresos.js","pages/sucursales/Tesoreria/Egresos/FormRegistroEgresos.js","pages/sucursales/Tesoreria/Egresos/VistaRegistroEgreso.js","pages/sucursales/Tesoreria/Egresos/Egresos.js","pages/sucursales/Tesoreria/Abonos/Provedores/Components/DetalleCuenta/TablaCompras.js","gql/Tesoreria/abonos.js","pages/sucursales/Tesoreria/Abonos/Provedores/Components/DetalleCuenta/TablaDeAbonos.js","pages/sucursales/Tesoreria/Abonos/Provedores/Components/AbonoPercibir.js","pages/sucursales/Tesoreria/Abonos/Provedores/Components/DetalleCuenta/DetallesCuenta.js","pages/sucursales/Tesoreria/Abonos/Provedores/Components/LiquidarCuenta.js","pages/sucursales/Tesoreria/Abonos/Provedores/Components/TablaAbonos.js","pages/sucursales/Tesoreria/Abonos/Provedores/AbonosProovedores.js","pages/sucursales/Tesoreria/Abonos/Clientes/Components/DetalleCuenta/TablaCompras.js","pages/sucursales/Tesoreria/Abonos/Clientes/Components/DetalleCuenta/TablaDeAbonos.js","pages/sucursales/Tesoreria/Abonos/Clientes/Components/DetalleCuenta/DetallesCuenta.js","pages/sucursales/Tesoreria/Abonos/Clientes/Components/LiquidarCuenta.js","pages/sucursales/Tesoreria/Abonos/Clientes/Components/TablaAbonos.js","pages/sucursales/Tesoreria/Abonos/Clientes/Components/AbonoPercibir.js","pages/sucursales/Tesoreria/Abonos/Clientes/AbonosClientes.js","pages/sucursales/Tesoreria/Tesoreria.js","pages/sucursales/Tesoreria/IndexTesoreria.js","context/Facturacion/facturacionCtx.js","pages/sucursales/Facturacion/NuevaFactura/ListaVentas/DetallesVenta.js","pages/sucursales/Facturacion/NuevaFactura/TablaVenta/array_test.js","pages/sucursales/Facturacion/NuevaFactura/ListaVentas/ListaVentasFactura.js","pages/sucursales/Facturacion/NuevaFactura/Catalogos/CodigoPostal.js","pages/sucursales/Facturacion/NuevaFactura/ClientesSelect.js","pages/sucursales/Facturacion/NuevaFactura/RegistroFactura.js","pages/sucursales/Facturacion/NuevaFactura/TablaVenta/EditarProductoFactura.js","pages/sucursales/Facturacion/NuevaFactura/TablaVenta/EliminarProductoFactura.js","pages/sucursales/Facturacion/NuevaFactura/TablaVenta/TablaDetallesFactura.js","pages/sucursales/Facturacion/NuevaFactura/validacion_factura.js","pages/sucursales/Facturacion/NuevaFactura/initial_factura_states.js","pages/sucursales/Facturacion/NuevaFactura/RealizarFactura.js","pages/sucursales/Facturacion/NuevaFactura/NuevaFactura.js","pages/sucursales/Facturacion/CFDISeries/RegistroSeries.js","pages/sucursales/Facturacion/CFDISeries/ListaSeries.js","pages/sucursales/Facturacion/CFDISeries/SeriesCdfi.js","pages/sucursales/Facturacion/FacturasRealizadas/ExportarProductosFactura.js","pages/sucursales/Facturacion/FacturasRealizadas/DatosFactura.js","pages/sucursales/Facturacion/FacturasRealizadas/ListaFacturas.js","pages/sucursales/Facturacion/FacturasRealizadas/ExportarListaFacturasExcel.js","pages/sucursales/Facturacion/FacturasRealizadas/FacturasRealizadas.js","pages/sucursales/Facturacion/Facturacion.js","pages/sucursales/Almacenes/RegistroAlmacen/ListaAlmacen.js","pages/sucursales/Almacenes/RegistroAlmacen/RegistroAlmacen.js","icons/almacen.svg","context/Almacenes/traspasosAlmacen.js","components/Traspasos/TablePresentacionesNotOrigen.js","components/Traspasos/TallasColoresTraspasos.js","components/Traspasos/TableSelectMedidas.js","components/Traspasos/TableSelectProducts.js","pages/sucursales/Almacenes/Traspasos/Traspasos.js","components/ExportExcel.js","pages/sucursales/Almacenes/InventarioPorAlmacen/ListaProductos.js","pages/sucursales/Almacenes/InventarioPorAlmacen/InventariosPorAlmacen.js","pages/sucursales/Almacenes/Almacenes.js","pages/sucursales/Reportes/Cajas/TablaHistorialFiltrado.js","pages/sucursales/Reportes/Cajas/HistorialCaja.js","pages/sucursales/Reportes/Cajas/CardCaja.js","pages/sucursales/Reportes/Cajas/Cajas.js","pages/sucursales/Reportes/TurnosUsuarios/TablaTurnosFiltrados.js","gql/Ventas/abrir_cerrar_turno.js","pages/sucursales/Reportes/TurnosUsuarios/ReportesTurnosUsuarios.js","pages/sucursales/Reportes/Compras/TablaComprasFiltradas.js","gql/Compras/reporte_compras.js","pages/sucursales/Reportes/Compras/ExportarCompras.js","pages/sucursales/Reportes/Compras/FiltrosCompra.js","pages/sucursales/Reportes/Compras/ReportesCompras.js","pages/sucursales/Reportes/Ventas/TablaVentasFiltradas.js","pages/sucursales/Reportes/Ventas/ReportesVentas.js","pages/sucursales/Reportes/Almacenes/ExportarTraspasos.js","pages/sucursales/Reportes/Almacenes/TablaAlmacenFiltradas.js","pages/sucursales/Reportes/Almacenes/ReportesAlmacen.js","pages/sucursales/Reportes/Cortes/TablaCortesFiltradas.js","pages/sucursales/Reportes/Cortes/ExportExcel.js","pages/sucursales/Reportes/Cortes/ReportesCortes.js","pages/sucursales/Reportes/Tesoreria/ListaEgresos.js","pages/sucursales/Reportes/Tesoreria/ListaTransferencias.js","pages/sucursales/Reportes/Tesoreria/Reporte_Tesoreria.js","pages/sucursales/Reportes/Reportes.js","pages/sucursales/AdminInicio.js","components/Navegaciones/NavegacionAdmin.js","components/Navegaciones/styles.js","pages/ventas/styles.js","context/Ventas/ventasContext.js","pages/ventas/Operaciones/DepositoRetiroCaja.js","pages/ventas/AbrirCerrarTurno/AbrirTurno.js","pages/ventas/AbrirCerrarTurno/CerrarTurno.js","pages/ventas/AbrirCerrarTurno/Turnos.js","pages/ventas/Operaciones/PreCorteCaja.js","gql/Ventas/cotizaciones.js","pages/ventas/Cotizacion/NuevaCotizacion.js","pages/ventas/Cotizacion/CotizacionesPendientes.js","pages/ventas/Cotizacion/Cotizacion.js","pages/ventas/Operaciones/VentaEnEspera.js","pages/ventas/ArticuloRapido/RegistroInformacionRapido.js","pages/ventas/ArticuloRapido/TallasColoresRapidos/TablaPresentaciones.js","pages/ventas/ArticuloRapido/TallasColoresRapidos/TallasColoresRapidos.js","pages/ventas/ArticuloRapido/ArticuloRapido.js","pages/ventas/ArticuloRapido/indexArticuloRapido.js","components/Navegaciones/NavegacionVentas.js","pages/ventas/Abonos/Abonos.js","pages/ventas/BuscarProductos/ListaProductos.js","gql/Ventas/ventas_generales.js","pages/ventas/BuscarProductos/InformacionProducto.js","pages/ventas/BuscarProductos/BuscarProducto.js","pages/ventas/ClientesVentas/ClientesVentas.js","pages/ventas/Operaciones/AbrirCajon.js","pages/ventas/Operaciones/CancelarVenta.js","icons/ventas/tarjeta-de-credito.svg","pages/ventas/Operaciones/CerrarVenta.js","pages/ventas/Operaciones/ConsultarPrecio.js","pages/ventas/Operaciones/PreciosProducto.js","pages/ventas/VentasEspera/ListaVentas.js","pages/ventas/VentasEspera/VentasEspera.js","pages/ventas/VentasRealizadas/ListaVentasRealizadas.js","pages/ventas/VentasRealizadas/VentasRealizadas.js","components/Navegaciones/NavegacionVentasLateral.js","pages/ventas/EliminarProductoVenta.js","pages/ventas/Tabla_ventas_checkbox.js","pages/ventas/ClientesVentas.js","icons/ventas/peso.svg","pages/ventas/Operaciones/MonedaCambio.js","pages/ventas/VentasGenerales.js","pages/ventas/venta_index.js","components/Layouts/LayoutVentas.js","img/logochafa.PNG","icons/ventas/admin.svg","icons/ventas/cart-add.svg","components/Layouts/LayoutHome.js","config/routes.js","img/abLogo.jpeg","components/Layouts/LayoutAdmin.js","config/colors.js","config/apollo.js","App.js","reportWebVitals.js","index.js"],"names":["CREAR_USUARIO","gql","OBTENER_USUARIOS","ACTUALIZAR_USUARIO","LOGEAR_USUARIO","useStyles","makeStyles","theme","snack","zIndex","SnackBarMessages","alert","setAlert","classes","Portal","Snackbar","className","anchorOrigin","vertical","horizontal","open","onClose","status","message","autoHideDuration","Box","display","style","color","mr","Typography","margin","marginTop","spacing","marginBottom","containerImagen","maxWidth","maxHeight","imagen","width","height","initial_state_datos_generales","receta_farmacia","clave_producto_sat","Name","Value","initial_state_precios","monedero","monedero_electronico","iva_activo","ieps_activo","ieps","iva","granel","inventario","inventario_minimo","inventario_maximo","unidad_de_inventario","codigo_unidad","precio_de_compra","precio_con_impuesto","precio_sin_impuesto","unidad_de_compra","unidad","cantidad","precio_unitario_sin_impuesto","precio_unitario_con_impuesto","initial_state_unidadVentaXDefecto","codigo_barras","precio","precio_unidad","numero_precio","precio_neto","precio_venta","unidad_mayoreo","iva_precio","ieps_precio","utilidad","precio_general","cantidad_unidad","unidad_maxima","unidad_principal","default","initial_state_preciosP","initial_state_unidadesVenta","initial_state_almacen_inicial","id_almacen","almacen","fecha_de_expiracion","initial_state_centro_de_costos","initial_state_preciosPlazos","precio_piezas","precio_cajas","precio_costales","initial_state_subcategorias","initial_state_imagenes","initial_state_imagenes_eliminadas","initial_state_onPreview","index","image","initial_state_validacion","error","initial_state_subcostos","initial_state_presentaciones","RegProductoContext","createContext","RegProductoProvider","children","useState","datos_generales","setDatosGenerales","precios","setPrecios","unidadVentaXDefecto","setUnidadVentaXDefecto","preciosP","setPreciosP","unidadesVenta","setUnidadesVenta","almacen_inicial","setAlmacenInicial","centro_de_costos","setCentroDeCostos","preciosPlazos","setPreciosPlazos","subcategorias","setSubcategorias","imagenes","setImagenes","imagenes_eliminadas","setImagenesEliminadas","onPreview","setOnPreview","validacion","setValidacion","subcostos","setSubcostos","selectedDate","setSelectedDate","update","setUpdate","presentaciones","setPresentaciones","presentaciones_eliminadas","setPresentacionesEliminadas","React","actualizarLista","setActualizarLista","datosPreciosProducto","setDatosPreciosProducto","preciosDescuentos","setPreciosDescuentos","preciosProductos","setPreciosProductos","datosEnDescuentos","setDatosEnDescuentos","almacen_existente","setAlmacenExistente","Provider","value","EmpresaContext","EmpresaProvider","nombre_empresa","nombre_dueno","telefono_dueno","celular","correo_empresa","nombre_fiscal","rfc","regimen_fiscal","curp","info_adicio","direccion","calle","no_ext","no_int","codigo_postal","colonia","municipio","localidad","estado","pais","direccionFiscal","datosBancarios","cuenta","sucursal","clave_banco","empresa","setEmpresa","toUpdate","setToUpdate","setError","backdrop","drawer","backgroundColor","BackdropComponent","loading","setLoading","Backdrop","CircularProgress","ErrorPage","altura","flexDirection","justifyContent","alignItems","fontSize","align","OBTENER_DATOS_EMPRESA","ACTUALIZAR_EMPRESA","formatoFecha","fecha","Date","toLocaleDateString","weekday","year","month","day","formatoFechaCorta","formatoMexico","number","parseFloat","toFixed","toString","replace","cleanTypenames","Array","isArray","map","newObject","property","findProductArray","producto","a","venta","JSON","parse","localStorage","getItem","productosVentas","productos","found","producto_found","i","length","id_producto","clave_alterna","console","log","calculatePrices","newP","newPrising","subtotalCalculo","totalCalculo","impuestoCalculo","ivaCalculo","iepsCalculo","descuentoCalculo","monederoCalculo","cantidadNueva","precios_producto","iva_producto","ieps_producto","precioProducto","valor","descuento_activo","descuento","dinero_descontado","calculatePrices2","origen","precio_boolean","valor_granel","precio_actual","cantidadCaja","cantidad_unidads","ob","cantidad_venta","granel_producto","precio_a_vender","precio_actual_producto","precio_actual_object","precio_anterior","verifiPrising","amount","pricings","filter","p","finalPrising","pricing","number_pricing","object_prising","datoFinal","precio_seleccionado","usosCfdi","tiposCfdi","NameId","tipoCambio","formaPago","metodoPago","regimenFiscal","Natural","Moral","CREAR_FACTURA","CREAR_SERIE","ACTUALIZAR_DEFAULT_SERIE","ELIMINAR_SERIE","OBTENER_SERIES","CREAR_SELLO_CFDI","ELIMINAR_SELLO_CFDI","RegistroSellos","datosEmpresa","firma_disabled","refetch","sesion","setOpen","certificate","private_key","private_key_password","_id","datos","setDatos","show","setShow","handleClose","useMutation","crearCSDS","obtenerFiles","e","target","name","files","getBase64","file","Promise","resolve","baseURL","reader","FileReader","readAsDataURL","onload","result","guardarBD","data","cer","key","then","base","split","nombre_cer","catch","err","nombre_key","variables","input","networkError","graphQLErrors","Button","onClick","startIcon","Add","disabled","Dialog","fullWidth","DialogTitle","DialogContent","mb","TextField","size","variant","InputProps","endAdornment","InputAdornment","position","htmlFor","CloudUpload","component","disableElevation","readOnly","accept","id","multiple","type","onChange","mt","my","IconButton","onMouseDown","event","preventDefault","edge","DialogActions","Done","EliminarSellos","eliminarCSD","eliminarSelloCSD","DeleteOutline","DialogContentText","appBar","title","marginLeft","flex","icon","subtitle","require","Transition","forwardRef","props","ref","Slide","direction","InformacionFiscal","loadingPage","setLoadingPage","errorPage","setErrorPage","errorForm","setErrorForm","accesos","mi_empresa","informacion_fiscal","editar","bloqueo","useContext","actualizarEmpresa","setFirmaDisabled","empresaFiscal","setEmpresaFiscal","useQuery","useEffect","errorCatch","undefined","obtenerEmpresa","new_sesion","setItem","stringify","sello_sat","limite_timbres","timbres_usados","actEmp","response","obtenerCampos","obtenerCamposDireccion","obtenerCamposBancarios","fullScreen","TransitionComponent","AppBar","Toolbar","m","Container","Grid","container","item","md","xs","helperText","FormControl","Select","MenuItem","res","multiline","Divider","Alert","severity","action","AlertTitle","sm","autoFocus","avatarContainer","border","borderRadius","avatar","MisDatos","datos_empresa","preview","setPreview","empresaDatos","setEmpresaDatos","onDrop","useCallback","acceptedFiles","useDropzone","noKeyboard","getRootProps","getInputProps","Avatar","src","MiEmpresa","justify","ver","lg","idEmpresa","Empresa","unitCodes","unitCodes_granel","formInputFlex","PreciosDeCompra","unidades","setUnidades","obtenerUnidadesVentas","child","inputProps","min","Math","round","porciento","obtenerPrecioUVentas","OutlinedInput","floor","random","GenCodigoBarras","suma_impuestos","PVCI","PVSI","PCSI","new_unidad","agregarNuevaUnidad","TableContainer","Table","TableHead","TableRow","TableCell","TableBody","LocalOffer","Checkbox","checked","nuevo_array","element","new_element","push","checkUnidadDefault","RenderUnidadesRows","aplicarDescuento","checkUnidadPrincipal","ModalDelete","toggleModal","splice","precioTitle","marginInput","PreciosDeVenta","newPreciosP","RenderPreciosP","preciosVenta","calculos","PUCSI","utilidad_base","unidadXDefecto","new_precio_venta_desc","precio_con_descuento","verificarCampoVacio","minWidth","valor_base","obtenerUtilidad","onBlur","pl","suma","obtenerPrecioNeto","parseInt","obtenerMayoreo","calcular_iva","calcular_ieps","formInput","RegistroInfoAdidional","obtenerIva","setPrecioConImpuesto","setPrecioSinImpuesto","obtenerIeps","precioConImpuesto","precioSinImpuesto","useDebounce","PCI","PSI","obtenerUnidadCompra","total_impuesto","isNaN","obtenerPrecioConImpuesto","obtenerPrecioSinImpuesto","FormControlLabel","control","label","mx","ml","FormHelperText","ComprasContext","ComprasProvider","costo","cantidad_regalo","unidad_regalo","cantidad_total","descuento_porcentaje","descuento_precio","iva_total","ieps_total","subtotal","impuestos","total","mantener_precio","subtotal_descuento","total_descuento","datosProducto","setDatosProducto","proveedor","en_espera","fecha_registro","moment","locale","format","compra_credito","fecha_vencimiento_credito","credito_pagado","saldo_credito_pendiente","forma_pago","descuento_aplicado","porcentaje","cantidad_descontada","datosCompra","setDatosCompra","setPreciosVenta","productoOriginal","setProductoOriginal","productosCompra","setProductosCompra","isEditing","setIsEditing","editFinish","setEditFinish","setCosto","setCantidad","issue","setIssue","loadingProductos","setLoadingProductos","descuentoCompra","setDescuentoCompra","compareFunction","b","medida","talla","localeCompare","root","paper","table","tableRow","alpha","palette","primary","main","visuallyHidden","clip","overflow","padding","top","colorContainer","TablaPresentaciones","from","setOnUpdate","onUpdate","withoutPrice","onlyPrice","mostrar_presentaciones","sort","Paper","stickyHeader","RenderPresentacionesRows","disabledInput","setDisabledInput","textfield","useRef","copy_presentaciones","copy_element_presentacion","copy_element_presentacion_descuento","copy_producto","obtenerDatos","existencia","cantidad_nueva","actionButton","hover","selected","Input","inputRef","nuevo","Cached","nombre_comercial","Chip","Tooltip","nombre","placement","arrow","Zoom","hex","LocalOfferOutlined","checkedIcon","Edit","TabPanel","other","role","hidden","a11yProps","AlertDialogSlide","agregarCompra","cargando","toggleDrawer","resetProducto","new_precios","unidadxdefecto","unidades_de_venta","setValue","actualizarContextProducto","keepMounted","tipo_producto","Tabs","newValue","scrollButtons","indicatorColor","textColor","Tab","LocalAtm","SquareFoot","OBTENER_CONSULTAS","CREAR_PRODUCTO","OBTENER_PRODUCTOS","ACTUALIZAR_PRODUCTO","ELIMINAR_PRODUCTO","PRODUCTOS_ELIMINADOS","ACTIVAR_PRODUCTOS","CREAR_PRODUCTO_RAPIDO","CrearAlmacenContext","AlmacenProvider","nombre_almacen","id_usuario_encargado","datosAlmacen","setDatosAlmacen","openRegistro","setOpenRegistro","REGISTRO_ALMACEN","OBTENER_ALMACENES","ACTUALIZAR_ALMACEN","OBTENER_PRODUCTOS_ALMACEN","OBTENER_CATEGORIAS","REALIZAR_TRASPASO","OBTENER_PRODUCTOS_EMPRESA","OBTENER_TRASPASOS","ContainerRegistroAlmacen","accion","CrearAlmacen","ActualizarAlmacen","obtenerUsuarios","limpiarCampos","onCloseModal","saveData","almacen_creado","crearAlmacen","id_sucursal","labelId","user","fontWeight","nombre_sucursal","CREAR_COLOR","OBTENER_COLORES","ACTUALIZAR_COLOR","ELIMINAR_COLOR","CrearColorProducto","setColor","values","setValues","crearColor","GuardarDatosBD","colores","scroll","disableEscapeKeyDown","reason","onChangeComplete","toUpperCase","bgcolor","onSubmit","focused","form","CREAR_TALLAS","OBTENER_TALLAS","ACTUALIZAR_TALLA","ELIMINAR_TALLA","CrearTallasProducto","setMedidasSeleccionadas","crearTalla","nueva_talla","tipo","cursor","ColoresTallas","obtenerConsultasProducto","almacenes","tallas","calzados","medidasSeleccionadas","coloresSeleccionados","setColoresSeleccionados","medidas","obtenerColoresSeleccinados","colors","forEach","hashColor","hashMedida","colores_existentes","existColor","medidas_existentes","existMedida","medidas_registradas","FormLabel","pointerEvents","opacity","RenderTallas","useTheme","setSelected","seleccionarMedidas","medidas_seleccionadas_temp","presentacion_temp","array_medidad_finales","producto_medida","k","producto_color","presentacion_existente","producto_array_final","x","objeto_presentaciones_final","handleAddTallas","getContrastText","Colores","seleccionarColores","obtenerColores","verificate","setVerificate","disableHoverListener","valuesFacturama","$","ajaxSetup","beforeSend","xhr","withCredentials","setRequestHeader","facturama","settings","url","retrieve","path","callback","jQuery","get","list","postSyncWithData","callbackError","ajax","dataType","contentType","success","putSyncWithData","deleteSyncWithParam","param","async","facturamaObject","Clients","Get","List","Create","Remove","Update","Products","BranchOffice","Series","idBranch","Cfdi","listWithParam","Send","postSyncWithParam","Cancel","params","Download","Acuse","TaxEntity","UploadCsd","UploadImage","Catalogs","States","country","Municipalities","state","Localities","Neighborhoods","postalCode","ProductsOrServices","keyword","PostalCodes","Units","Currencies","Countries","PaymentForms","PaymentMethods","FederalTaxes","FiscalRegimens","CfdiTypes","RelationTypes","CfdiUses","CREAR_CODIGO_PRODUCTO","ELIMINAR_CODIGO_PRODUCTO","background","CatalogosProductosSAT","codigos","busqueda","setBusqueda","setProductos","loading_save","setLoadingSave","loading_delete","setLoadingDelete","selectedIndex","setSelectedIndex","crearCodigoProducto","eliminarCodigoProducto","limpiarDataModal","handleOk","eliminarCodigoBD","handleCancel","buscarCatalogo","Facturama","responseJSON","Message","Autocomplete","options","getOptionLabel","option","renderInput","renderOption","flexGrow","_","getOptionSelected","Search","dense","SelectedListItem","contiene","includes","ListItem","button","ListItemText","CREAR_CATEGORIA","CREAR_SUBCATEGORIA","ACTUALIZAR_CATEGORIA","ACTUALIZAR_SUBCATEGORIA","ELIMINAR_CATEGORIA","ELIMINAR_SUBCATEGORIA","OBTENER_DEPARTAMENTOS","REGISTRAR_DEPARTAMENTO","ACTUALIZAR_DEPARTAMENTO","ELIMINAR_DEPARTAMENTO","OBTENER_MARCAS","REGISTRAR_MARCAS","ACTUALIZAR_MARCAS","ELIMINAR_MARCAS","obligatorio","RegistroInfoGenerales","categorias","departamentos","marcas","centro_costos","obtenerChecks","obtenerIDs","categoria","id_categoria","costos","id_cuenta","subcuentas","Autorenew","nombre_generico","descripcion","subcategoria","departamento","nombre_departamentos","marca","nombre_marca","RegistrarNuevoSelect","crearCategoria","crearSubcategoria","CrearDepartamentos","CrearMarca","handleToggle","guardarDatos","idCategoria","categoria_creada","subcategoria_creada","id_subcategoria","departamento_creado","id_departamento","crearDepartamentos","marca_creada","id_marca","crearMarcas","endIcon","CargarImagenesProducto","render_imagenes","URL","createObjectURL","AddPhotoAlternate","minHeight","orientation","alt","RenderImagenes","key_imagen","url_imagen","handleModal","noWrap","eliminarImagen","array","Delete","RegistroAlmacenInicial","obtenerInventario","utils","DateFnsUtils","local","placeholder","date","KeyboardButtonProps","validaciones","generales","vista3","vista1","vista2","CREAR_CUENTA","CREAR_SUBCUENTA","ACTUALIZAR_CUENTA","ACTUALIZAR_SUBCUENTA","OBTENER_CUENTAS","ELIMINAR_CUENTA","ELIMINAR_SUBCUENTA","CentroCostos","obtenerAlmacenes","subcuenta","crearCuenta","crearSubcuenta","idCuenta","cuenta_creada","subcuenta_creada","id_subcuenta","TablaPreciosPlazos","RenderTablePlazos","plazo","ModalDeletePlazos","eliminarUnidad","PrecioPlazos","setPlazo","obtenerPlazos","guardarPlazo","validateJsonEdit","object_date","end_array","object","iconSvg","dialogContent","CrearProducto","productosRefetch","fromCompra","crearProducto","actualizarProducto","setInitialStates","resetInitialStates","validate","vista7","copy_unidadesVenta","imagenes_without_aws","precio_plazos","usuario","unidades_venta","medidas_producto","inventario_general","window","onkeydown","keyCode","document","getElementById","click","saveButton","ButtonActions","NavigateNext","elevation","Badge","badgeContent","invisible","NavigateBefore","ContenidoModal","PreciosDeVentaCompras","numero","RenderPrecios","setPrecioNeto","copy_preciosVenta","calculosCompra","DescuentosInputs","inputMode","obtenerPrecio","startAdornment","obtenerPorcentaje","ClienteCtx","ClienteProvider","estado_cliente","cliente","setCliente","updateClientVenta","setUpdateClientVenta","RegistrarInfoBasica","numero_cliente","nombre_cliente","representante","clave_cliente","fecha_nacimiento","email","telefono","RegistrarInfoCredito","razon_social","numero_descuento","limite_credito","dias_credito","banco","numero_cuenta","CREAR_CLIENTE","OBTENER_CLIENTES","ACTUALIZAR_CLIENTE","ELIMINAR_CLIENTE","CrearCliente","ventas","handleClickOpen","crearCliente","actualizarCliente","copy_cliente","tipo_cliente","clienteBase","venta_actual","subTotal","tipo_cambio","venta_cliente","CREAR_COMPRA","CREAR_COMPRA_ESPERA","OBTENER_COMPRAS_REALIZADAS","OBTENER_COMPRAS_ESPERA","OBTENER_CONSULTA_GENERAL_PRODUCTO","ELIMINAR_COMPRA_ESPERA","initial_state_datosProducto","initial_state_datosCompra","initial_state_precios_venta","initial_state_productoOriginal","initial_state_productosCompra","DatosProveedorAlmacen","refetchProductos","getProductos","obtenerProveedorAlmacen","id_proveedor","errorRender","loadingRender","obtenerConsultaGeneralCompras","proveedores","MostrarPrecios","cantida_suma","presentacion","DatosProducto","count","setCargando","useLazyQuery","fetchPolicy","COSTO","CANTIDAD","obtenerCosto","obtenerCantidad","obtenerProductos","obtenerSelectsProducto","obtenerUnidadRegalo","nuevo_iva","nuevo_impuesto","actualizar_Precios","copy_datosProducto","copy_datosGenerales","copy_precios","copy_preciosP","copy_almacenInicial","copy_centroCostos","copy_presentacionesEliminadas","copy_precioPlazos","nueva","factor","cantidad_total_media","cantidad_regalo_media","productosCompra_ordenados","existente","prod_exist","Boolean","array_ordenado","ModalAgregarCompra","InfoOutlined","SetOrResetData","setStates","ListaCompras","productos_ordernados","RenderProductosCompra","isSelected","setIsSelected","productoCTX","seStates","unidad_producto","tabIndex","finish","ModalDeleteProducto","copy_compras","objeto_eliminado","ConfirmarCompra","realizarCompraBD","loading_modal","setLoadingModal","InputLabel","CompraCredito","CreditCard","AbrirCompra","compra","handleOpenDetalles","refetchEspera","ModalCompra","openDelete","setOpenDelete","crearCompra","crearCompraEnEspera","compra_en_espera","credito","conflicto","handleToggleDelete","Timer","CancelarCompra","ExcelFile","ReactExport","ExcelSheet","ExcelColumn","ExportarProductosComprasExcel","compra_realizada","productos_detalles","Cantidad_regalo","CloudDownloadOutlined","filename","DatosDeCompra","productosFiltrados","setProductosFiltrados","toLowerCase","marginRight","ListaProductos","obtenerComprasRealizadas","RenderRowsCompras","DetallesCompra","handleOpen","AssignmentOutlined","ExportarComprasExcel","filtro","filtroFecha","compras","nombre_documento","since","ComprasRealizadas","ContentDialogCompras","setFiltro","setFiltroFecha","searchfilter","filterDate","obtenerBusqueda","subtract","obtenerFecha","onDelete","current","VerificarProductosCompras","nuevoArray","setNuevoArray","setVerificado","setSuccess","VerifiedUser","ModalVerificacion","loadingVerificacion","setLoadingVerificacion","getQuery","productos_nuevos","copy_producto_compra","productos_filtrados","precios_base","unidades_base","presentaciones_base","u_default","u_default_base","present","y","present_base","nuevo_producto_compra","total_con_descuento","setTimeout","verificarProductos","compra_temp","setCompraTemp","permisosUsuario","verificado","compras_espera","eliminar","paddingTop","paddingBottom","ModalEliminarCompra","eliminarCompraEnEspera","eliminarCompra","DeleteOutlined","ListaEnEspera","obtenerComprasEnEspera","elimina","RenderRowsComprasEspera","ModalContinuarCompra","ComprasEnEspera","Compras","abrir_compra","compras_realizadas","ListaClientes","selectDataClient","showModal","setShowModal","dataSelectRowClient","setDataSelectRowClient","handleClickOpenModal","obtenerClientes","row","handleClickSelectClient","RowsRender","cambiarEstado","Switch","catalogos","clientes","EliminarCliente","eliminarCliente","eliminarClienteBD","paddingLeft","Cliente","InputBase","onKeyPress","defaultValue","agregar","REGISTRAR_DESCUENTOS","DESACTIVAR_DESCUENTOS","ELIMINAR_DESCUENTOS","headCells","EnhancedTableHead","onSelectAllClick","numSelected","rowCount","datosPrecios","variable","indeterminate","headCell","numeric","disablePadding","TablaPreciosDescuentos","setCleanList","cleanList","verificarDatos","setPrecioPrueba","page","rowsPerPage","handleClick","indexOf","newSelected","concat","slice","emptyRows","newSelecteds","n","isItemSelected","colSpan","openModal","setOpenModal","DesactivarDescuentoUnidad","ELiminarDescuentoUnidad","handleChangeActivo","editarDatos","handleDelete","resultado","eliminarDescuentoUnidad","defaultChecked","Modal","avatarGroup","rootSlice","rootTable","DescuentoProductos","CrearDescuentoUnidad","openDescuento","setOpenDescuento","precioPrueba","handleCloseDescuentos","cerrarModal","arrayDescuento","descuentos","eliminado","textAlign","dislay","gutterBottom","justifyItems","Slider","getAriaValueText","valueLabelDisplay","PVCDSI","dineroDescontado","valorText","obtenerPrecioText","drawWidth","breakpoints","down","InfoProductoDrawer","ListAlt","Drawer","anchor","CropOriginal","bottom","EliminarProducto","eliminarProducto","handleToggleModal","eliminarProductoBD","RenderTableRows","cantidad_existente","unidad_inventario","ProdcutosEliminados","productosActivosRefetch","handleModalToggle","RestoreFromTrash","TablaProductosEliminados","obtenerProductosInactivos","RenderProductosTabla","activarProducto","handleDeleteToggle","reactivarProducto","Publish","Productos","RegistroComponent","existencias","setExistencias","ArrowBack","ProductoIndex","TablaTallas","setPage","setRowsPerPage","tallas_numeros","TablePagination","rowsPerPageOptions","onChangePage","newPage","onChangeRowsPerPage","eliminarTalla","resp","msgAlert","dato","RegistroTallas","actualizarTalla","obtenerTallas","talla_actualizada","iconSvgSecondary","Tallas","centered","OBTENER_CONTABILIDAD","REGISTRAR_CONTABILIDAD","ACTUALIZAR_CONTABILIDAD","ELIMINAR_CONTABILIDAD","TablaServicios","setData","setIdService","idService","setAccion","updateData","obtenerContabilidad","EliminarContabilidad","contabilidad","nombre_servicio","RegistroServicios","setUpdateData","CrearContabilidad","ActualizarContabilidad","handleSubmit","inputActualizado","Contabilidad","columns","TablaProveedores","column","provedores","Proveedores","TablaCajas","permisos","cajas","obtenerCajasSucursal","numero_caja","deleteCaja","CREAR_CAJA","OBTENER_CAJAS","CREAR_HISTORIAL_CAJA","OBTENER_HISTORIAL_CAJA","ELIMINAR_CAJA","OBTENER_PRE_CORTE_CAJA","OBTENER_CORTES_CAJA","OBTENER_CORTE_CAJA","RegistroCajas","crearCaja","eliminarCaja","nuevaCaja","usuario_creador","numero_usuario_creador","numero_usuario","nombre_usuario_creador","Cajas","arregloVacio","tesoreria","cuentas_empresa","egresos","abonos_proveedores","abonos_clientes","reportes","reporte_historial_cajas","reporte_turnos","reporte_compras","reporte_ventas","rerporte_almacen","reporte_corte_caja","reporte_tesoreria","cancelar_venta","precios_productos","pre_corte","cotizaciones","administrador","eliminar_ventas","producto_rapido","traspasos","inventario_almacen","usuarios","conceptos_almacen","UsuarioContext","UsuarioProvider","estado_usuario","setUsuario","FormularioUsuario","showPassword","setShowPassword","autoComplete","password","repeatPassword","ActualizarPasswordModal","actualizarUsuario","confirmarPassowrd","Parametros","arregloAccesos","obtenerAccesos","subDepartamento","Catalogos","Almacenes","Tesoreria","Reportes","Ventas","AsignarPermisos","rootPrincipal","CrearUsuario","turno_en_caja_activo","crearUsuario","max","subDepartamentos","ListaUsuarios","openDetalles","setOpenDetalles","handleDetalles","ModalDetalles","Dehaze","Usuarios","CreateDepartamentosContext","DepartamentosProvider","idDepartamento","setIdDepartamento","TablaDepartamentos","obtenerDepartamentos","eliminarDepartamento","RegistroDepartamentos","ActualzarDepartamentos","Departamentos","fade","secondary","RegistroCategorias","setCategoria","toUpdateID","setToUpdateID","loadingBackDrop","setLoadingBackDrop","actualizarCategoria","guardarCategoria","categoriaActualizada","render_categorias","obtenerCategorias","RenderCategorias","setSubcategoria","actualizarSubcategoria","eliminarCategoria","render_subcategorias","guardarSubcategoria","subCategoriaActualizada","idSubcategoria","stopPropagation","Accordion","AccordionSummary","expandIcon","ExpandMore","onFocus","scrollTo","AccordionDetails","RenderSubcategorias","eliminarSubcategoria","px","Categorias","TablaColores","cache","eliminarColor","readQuery","query","writeQuery","RegistroColores","actualizarColor","colorActualizado","msg","ListaMarcas","obtenerMarcas","eliminarMarca","CreateMarcasContext","MarcasProvider","datosMarcas","setDatosMarcas","VistaMarcas","actualizarMarca","Marcas","setCuenta","actualizarCuenta","render_cuentas","obtenerCuentas","guardarCuenta","cuentaActualizada","RenderCuentas","setSubcuenta","eliminarCuenta","actualizarSubcuenta","render_subcuentas","guardarSubcuenta","subCuentaActualizada","idSubcuenta","deleteCuenta","RenderSubcuentas","eliminarSubcuenta","deleteSubCuenta","idSubCuenta","OBTENER_CONCEPTOS_ALMACEN","REGISTRAR_CONCEPTO_ALMACEN","ACTUALIZAR_CONCEPTO_ALMACEN","ELIMINAR_CONCEPTO_ALMACEN","TablaConceptos","setIdConcepto","idConcepto","obtenerConcepto","EliminarConceptoAlmacen","obtenerConceptosAlmacen","nombre_concepto","destino","editable","formControl","MenuProps","PaperProps","ITEM_HEIGHT","tipos","getStyles","tipoName","typography","fontWeightRegular","fontWeightMedium","crearConceptoAlmacen","actualizarConceptoAlmacen","ConceptosAlmacen","alignSelf","TesoreriaCtx","TesoreriaProvider","cuentas","setCuentas","reload","setReload","OBTENER_SUCURSALES","CREAR_MOVIMIENTO_CUENTA","OBTENER_HISTORIAL_CUENTAS","formComboBox","RetiroDeposito","turnoEnCurso","CrearMovimientoCuenta","datosMovimiento","setDatosMovimiento","onChangeDatos","tipo_movimiento","id_usuario","rol_movimiento","id_Caja","id_caja","horario_turno","concepto","hora_moviento","hora","minutos","segundos","completa","fecha_movimiento","mes","dia","no_semana_year","week","no_dia_year","dayOfYear","montos_en_caja","monto_efectivo","monto","metodo_pago","monto_tarjeta_debito","monto_tarjeta_credito","monto_creditos","monto_monedero","monto_transferencia","monto_cheques","monto_vales_despensa","comentarios","enviarDatos","movimiento","crearMovimientoCuenta","rows","rootBusqueda","HistorialCuentas","datosFiltro","setDatosFiltro","fecha_inicio","fecha_fin","historialCuenta","obtenerHistorialCuenta","RowsHistorial","ListaCuentas","cuentaEmpresa","cuentasSucursalesEmpresa","cuentaPrincipal","obtenerSucursalesEmpresa","cuenta_empresa","dinero_actual","RowsCuentas","cuenta_sucursal","buttons","CuentasEmpresaSucursales","OBTENER_HISTORIAL_EGRESOS","CREAR_EGRESO","TablaProductosEgresos","borrarProducto","RowsProductos","onPageChange","onRowsPerPageChange","cantidad_productos","precio_unitario","FormRegistroEgresos","CrearEgreso","upload","setUpload","datosEgreso","setDatosEgreso","totalCompra","setTotalCompra","subCuentas","setSubCuentas","setProducto","obtenerDatoProductos","totalCompraVenta","folio_egreso","folio_factura","empresa_distribuidora","provedor","subCategoria","fecha_compra","fecha_vencimiento","fecha_vencimiento0","observaciones","id_user","saldo_total","egreso","crearEgreso","GenFolio","InputLabelProps","shrink","obtenerSubCuentas","subCuenta","producto_guardado","elemento","indice","iconSize","info","VistaRegistroEgreso","iconSizeSecond","Egresos","TablaCompras","OBTENER_HISTORIAL_ABONOS","CREAR_ABONO","TablaAbonos","id_cliente","id_egreso","id_compra","abonos","obtenerHistorialAbonos","monto_total_abonado","AbonoaRecibir","CrearAbono","abono","setAbono","setMetodoPago","metodo_de_pago","clave","metodo","telefono_cliente","email_cliente","alignContent","DetallesCuenta","LiquidarCuenta","cuentaTotalDescuento","setCuentaTotalDescuento","setDineroDescontado","porciento_descuento","valueLabelFormat","cuenta_con_descuento","cuentaSelect","clearTimeout","timer","detail","TwoClickInRowTableBuy","rootSearch","AbonosProveedores","toLocaleString","createData","code","population","density","ToggleButtonGroup","exclusive","calories","fat","carbs","protein","scope","AbonosClientes","IndexTesoreria","FacturacionCtx","FacturacionProvider","serie","currency","expedition_place","folio","cfdi_type","payment_form","payment_method","logo_url","issuer","FiscalRegime","Rfc","receiver","CfdiUse","items","datosFactura","setDatosFactura","venta_factura","setVentaFactura","cp_valido","setCPValido","setCodigoPostal","error_validation","DetallesDeVenta","compra_test","monto_tarjeta","descuento_general_activo","decuento_general","cantidad_descontado","dias_de_credito_venta","fecha_de_vencimiento_credito","fecha_vencimiento_cotizacion","iva_total_producto","ieps_total_producto","impuestos_total_producto","subtotal_total_producto","total_total_producto","cantidad_existente_maxima","ListaVentasFactura","RenderLista","CodigoPostal","CP","obtenerCodigoPostal","Fragment","ListaClientesFacturas","minwidth","RegistroFactura","serie_default","ModificarProductoFactura","EliminarProductoFactura","copy_venta","copy_productos","precio_resta","DetallesFactura","RowTableProductos","verificarDatosFactura","factura_initial_state","RealizarFactura","productosFactura","setProductosFactura","crearFactura","nuevo_obj","ProductCode","IdentificationNumber","Description","UnitCode","UnitPrice","Quantity","Subtotal","Discount","Taxes","Total","Base","Rate","IsRetention","InputsFacturaModal","NuevaFactura","FacturaModalContent","seriesCfdi","obtenerSeriesCdfi","cancelarCFDI","RegistroSeries","crearSerieCFDI","obtenerDatosSeries","guardarDatosBD","ListaSeriesCDFI","modificarDefaultSerie","setPredeterminado","ModalDeleteSerie","eliminarSerie","eliminarSerieBD","SeriesCDFI","ContentSeriesCFDI","ExportarProductosFacturaExcel","ListaFacturas","Facturacion","ListaAlmacen","RegistroAlmacen","TraspasosAlmacenContext","TraspasosProvider","productosTo","setProductosTo","productosEmpTo","setProductosEmpTo","productosTras","setProductosTras","setNew_medidas","nuevaCantidad","new_medidas","presentaciones_existentes","paddingRight","cell","idProducto","cantidadAnt","copy_medida","product_selected","new_medidasCopia","med","Object","hasOwnProperty","call","cant","descendingComparator","orderBy","getComparator","order","stableSort","comparator","stabilizedThis","el","onRequestSort","sortDirection","TableSortLabel","active","useToolbarStyles","inputCantidad","highlight","lighten","light","text","dark","flexWrap","DialogTallas","close","setOpenTallas","setproduct_selected","prod","openTallas","almacenOrigen","newMedidasCopy","prodSelect","existe","copyProductosTras","medidasTo","newMed","obj","EnhancedTableToolbar","cantidadTo","setCantidadTo","mensaje","tipoPieza","setValueToTrans","find","totalCantExistMasNuevaCantidad","add","piezas","onlyNumbers","onlyNums","intValue","unidadMaxima","TipoPiezaComponent","TIPO_PIEZA","unidad_minima","clsx","editItem","prodSet","deleteItem","EnhancedTable","setOrder","setOrderBy","setCant","setTipoPieza","handleSelectAllClick","labelRowsPerPage","boxUpData","selected2","inputBox","boxControl","centerControl","almacenName","transportes","steps","Traspasos","haveConcepto","setHaveConcepto","conceptoTraspaso","setConceptoTraspaso","isAlmacenOrigen","setIsAlmacenOrigen","isAlmacenDestino","setIsAlmacenDestino","setAlmacenOrigen","almacenDestino","setAlmacenDestino","almacenesDestino","setAlmacenesDestino","transporte","setTransporte","placas","setPlacas","nombreQuien","setNombreQuien","activeStep","setActiveStep","Set","skipped","setSkipped","openEnd","setOpenEnd","CrearTraspaso","conceptos","queryObtenerAlmacenes","dataConceptos","categoriasQuery","productosQuery","productosEmpresaQuery","obtenerProductosAlmacen","obtenerProductosEmpresa","obtenerProductosPorEmpresa","isStepSkipped","step","has","handleBack","prevActiveStep","traspasar","concepto_traspaso","almacen_origen","almacen_destino","datos_transporte","nombre_encargado","sucursalOrigen","sucursalDestino","traspaso","crearTraspaso","sx","almacenIcon","Stepper","stepProps","completed","Step","StepLabel","trans","pt","newSkipped","delete","handleNext","withRouter","fileName","columnName","ListaAlmacenes","dataExcel","widthPx","Rowrow","arrayCantidades","font","sz","alignment","wrapText","rgb","almacenColumna","existencia_almacenes","InventariosPorAlmacen","InventarioPorAlmacen","filtroTo","setFiltroTo","categoriaTo","setCategoriaTo","subcategoriaTo","setSubCategoriaTo","productosAlmacenQuery","obtenerProductosAlmacenes","setValToFilter","cat","fil","subcat","Moviminetos","TablaHistorialFiltrado","historial","iconSave","right","HistorialCaja","datosBuscar","setDatosBuscar","datosExcel","obtenerHistorialCaja","cajaSelected","fecha_incio","arrayExcel","datosHistorial","hora_movimiento","caja","agruparDatos","handleDatos","StyledBadge","withStyles","badge","boxShadow","left","animation","content","transform","media","expand","transition","transitions","create","duration","shortest","expandOpen","red","textActive","CardCaja","styleProps","activa","Card","CardHeader","overlap","openHistorial","setOpenHistorial","setCajaSelected","handleClickOpenHistorial","cantidad_efectivo_actual","fetchCajas","TablaTurnosFiltrados","turnos","turno","hora_entrada","hora_salida","usuario_en_turno","horario_en_turno","REGISTRAR_TURNOS","OBTENER_HISTORIAL_TURNOS","ReportesTurnosUsuarios","FiltroTablaTurnos","filtros","setFiltros","historialTurnos","fechaInicio","fechaFin","fecha_entrada","fecha_salida","obtenerFiltroTurnos","TablaComprasFiltradas","OBTENER_REPORTE_COMPRAS","ExportarCompras","forma","FiltrosCompras","obtenerProductoMovimientos","CapturaDeDatos","obtenerCamposFiltro","realizarBusquedaBD","ClearOutlined","ReportesCompras","TablaVentasFiltradas","ReportesVentas","ExportarTraspasos","id_traspaso","TablaAlmacenFiltradas","ReportesAlmacen","fecha_final","inputFilter","setFilter","encargado","setEncargado","queryObtenerUsuarios","traspasosAlmacenes","setDatosInput","obtenerTraspasos","enc","almDes","almOri","encId","setEncargadoInput","alm","setQueryAlmacenOrigen","setQueryAlmacenDestino","filt","limpiarFiltros","TablaCortesFiltradas","cortes","corte","token_turno_user","number_user","obtenerCorte","montos_sistema","obtenerCorteCaja","montos_en_sistema","InformacionCorteCaja","ExportExcel","historialCortes","ReportesCortes","cajasBase","fecha_consulta","obtenerCortesDeCaja","ListaEgresos","historialEgresos","obtenerHistorialEgresos","RowsEgresos","DialogCaracteristicas","ListaTransferencias","ReportesTesoreria","ventana","setVentana","anchorEl","setAnchorEl","currentTarget","Menu","ListItemIcon","iconSvgVenta","history","axis","onChangeIndex","appbar","navbar","grey","menuButton","token","removeItem","flexShrink","drawerColor","drawerPaper","navigationTop","iconSizeSuperior","iconSizeSecondSuperior","iconSizeInferior","iconSizeSecondInferior","iconSizeSecondInferiorGrande","iconSizeInferiorGrande","borderBoton","borderBotonChico","rootPrecioProductos","containerImage","rootBusquedaProductos","rootFecha","iconSizeDialogs","iconSizeDialogsPequeno","containerImagenesProducto","imagenProducto","VentasContext","VentasProvider","datosProductoVentas","setDatosProductoVentas","setProductosVentas","datosVentas","setDatosVentas","productoCambioPrecio","setProductoCambioPrecio","precioSelectProductoVenta","setPrecioSelectProductoVenta","clientesVentas","setClientesVentas","turnoActivo","setTurnoActivo","ubicacionTurno","setUbicacionTurno","abrirTurnosDialog","setAbrirTurnosDialog","updateTablaVentas","setUpdateTablaVentas","DepositoRetiroCaja","CrearHistorialCaja","setMovimiento","preCorteDeCaja","dineroEnCaja","obtenerPreCorteCaja","monto_efectivo_precorte","addEventListener","altKey","id_User","textTransform","newAlignment","ToggleButton","AbrirTurno","CrearRegistroDeTurno","abrirTurno","setAbrirTurno","numeroCaja","setNumeroCaja","obtenerTurno","arraySesion","exp","iat","turno_en_curso","caja_elegida","monto_abrir","variableTurnoAbierto","crearRegistroDeTurno","montoTurno","setMontoTurno","cerrarTurno","setCerrarTurno","obtenerCamposMontos","monto_puntos","actualizarTurnoSesion","Turnos","ContenidoTurnos","PreCorteCaja","CREAR_COTIZACION","NuevaCotizacion","CrearCotizacion","newCotizacion","setNewCotizacion","descuento_general","totalDescount","setTotalDescount","crearCotizacion","tipo_venta","registroCotizacion","errors","CotizacionesPendientes","CotizacionesRows","Cotizacion","VentanasCotizaciones","VentaEnEspera","agregarVentaEnEspera","justifySelf","RegistroInformacionRapido","setAbrirTallaColor","varIVA","varIEPS","TallasColoresRapidos","ArticuloRapido","crearProductoRapido","abrirTallaColor","ProductoRapidoIndex","BottomNavigation","showLabels","srsc","Abonos","productosBusqueda","setProductoSeleccionado","CONSULTA_PRODUCTO_UNITARIO","CONSULTA_PRODUCTOS_VENTAS","OBTENER_CLIENTES_VENTAS","InformacionProducto","productoSeleccionado","BuscarProducto","searchProducto","setSearchProducto","obtenerProductosVentas","keyUpEvent","onKeyUp","ClientesVentas","AbrirCajon","CancelarVenta","CerrarVenta","cambio","setCambio","abrirCajon","openModalDescuento","totalVenta","setTotalVenta","valorActual","setValorActual","totalARestar","setTotalARestar","cambioVenta","setCambioVenta","datosCliente","setDatosCliente","setMonedero","changeValue","handlerChangeValue","location","tarjeta","ConsultarPrecio","activeItemIndex","setActiveItemIndex","productoBase","obtenerUnProductoVentas","input_value","datosProductos","displa","requestToChangeActive","numberOfCards","leftChevron","rightChevron","infiniteLoop","outsideChevron","chevronWidth","PreciosProductos","selectPrisingProduct","setSelectPrisingProduct","handleAceptChangePrising","venta_existente","productosVentasTemp","newProductoPrecioNuevo","newProductoPrecioActual","producto_encontrado","new_resta","new_suma","CalculosData","doubleClick","ListaVentas","listaEnEspera","RowsVentas","borrarVenta","VentasEspera","ListaVentasRealizadas","VentasRealizadas","NavegacionVentasLateral","setDatosVentasActual","setNewProductoVentas","newProductoVentas","calculoResta","datosTabla","setDatosTabla","newCantidadProduct","setNewCantidadProduct","tempAmount","setTempAmount","CalculeDataPricing","new_cant","verify_prising","precio_actual_porducto","calculateNewPricingAmount","selectClient","setSelectClient","obtenerClientesVentas","dataCliente","ChangeClientAutocomplate","moneda","MonedaCambio","VentasGenerales","granelBase","setGranelBase","DatosVentasActual","consultaBase","setConsultaBase","productosBase","agregarProductos","trim","data_operation","data_key","productoPrecioFinal","new_prices","calculo_resta","calculo_sumar","elevantion","VentaIndex","varActive","setVarActive","AbrirTurnoEnVentas","toolbar","routes","logearUsuario","signin","decoded","jwt_decode","labelWidth","exact","logo","Link","to","adminIcon","cartIcon","AdminInicio","createMuiTheme","blue","httpLink","createUploadLink","uri","client","ApolloClient","connectToDevTools","InMemoryCache","addTypename","link","RoutesWithSubRoutes","route","render","App","ApolloProvider","ThemeProvider","CssBaseline","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM"],"mappings":"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","file":"static/js/main.6c36900c.chunk.js","sourcesContent":["import { gql } from '@apollo/client';\n\nexport const CREAR_USUARIO = gql`\n\tmutation crearUsuario($input: CrearUsuarioInput) {\n\t\tcrearUsuario(input: $input) {\n\t\t\t_id\n\t\t\tnumero_usuario\n\t\t\tnombre\n\t\t\ttelefono\n\t\t\tcelular\n\t\t\temail\n\t\t\tturno_en_caja_activo\n\t\t\tdireccion {\n\t\t\t\tcalle\n\t\t\t\tno_ext\n\t\t\t\tno_int\n\t\t\t\tcodigo_postal\n\t\t\t\tcolonia\n\t\t\t\tmunicipio\n\t\t\t\tlocalidad\n\t\t\t\testado\n\t\t\t\tpais\n\t\t\t}\n\t\t\timagen\n\t\t\testado_usuario\n\t\t\tempresa {\n\t\t\t\t_id\n\t\t\t\tnombre_empresa\n\t\t\t\tcorreo_empresa\n\t\t\t\tnombre_dueno\n\t\t\t\ttelefono_dueno\n\t\t\t}\n\t\t\tsucursal {\n\t\t\t\t_id\n\t\t\t\tnombre_sucursal\n\t\t\t\tdescripcion\n\t\t\t}\n\t\t\taccesos {\n\t\t\t\tmi_empresa {\n\t\t\t\t\tdatos_empresa {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tinformacion_fiscal {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tcompras {\n\t\t\t\t\tabrir_compra {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tcompras_realizadas {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tcompras_espera {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\ttesoreria {\n\t\t\t\t\tcuentas_empresa {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tegresos {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tabonos_proveedores {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tabonos_clientes {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treportes {\n\t\t\t\t\treporte_historial_cajas {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\treporte_turnos {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\treporte_compras {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\treporte_ventas {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\trerporte_almacen {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\treporte_corte_caja {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\treporte_tesoreria {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tventas {\n\t\t\t\t\tcancelar_venta {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tprecios_productos {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tpre_corte {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tcotizaciones {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tadministrador {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\teliminar_ventas {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tproducto_rapido {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\talmacenes {\n\t\t\t\t\talmacen {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\ttraspasos {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tinventario_almacen {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tcatalogos {\n\t\t\t\t\tclientes {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tusuarios {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tmarcas {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tcontabilidad {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tprovedores {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tcajas {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tdepartamentos {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tcentro_costos {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tconceptos_almacen {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tcategorias {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tcolores {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tcolores {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\ttallas_numeros {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n`;\n\nexport const OBTENER_USUARIOS = gql`\n\tquery obtenerUsuarios($sucursal: String!, $filtro: String) {\n\t\tobtenerUsuarios(sucursal: $sucursal, filtro: $filtro) {\n\t\t\t_id\n\t\t\tnumero_usuario\n\t\t\tnombre\n\t\t\ttelefono\n\t\t\tcelular\n\t\t\tturno_en_caja_activo\n\t\t\temail\n\t\t\tdireccion {\n\t\t\t\tcalle\n\t\t\t\tno_ext\n\t\t\t\tno_int\n\t\t\t\tcodigo_postal\n\t\t\t\tcolonia\n\t\t\t\tmunicipio\n\t\t\t\tlocalidad\n\t\t\t\testado\n\t\t\t\tpais\n\t\t\t}\n\t\t\timagen\n\t\t\testado_usuario\n\t\t\tempresa {\n\t\t\t\t_id\n\t\t\t\tnombre_empresa\n\t\t\t\tcorreo_empresa\n\t\t\t\tnombre_dueno\n\t\t\t\ttelefono_dueno\n\t\t\t}\n\t\t\tsucursal {\n\t\t\t\t_id\n\t\t\t\tnombre_sucursal\n\t\t\t\tdescripcion\n\t\t\t}\n\t\t\taccesos {\n\t\t\t\tmi_empresa {\n\t\t\t\t\tdatos_empresa {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tinformacion_fiscal {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tcompras {\n\t\t\t\t\tabrir_compra {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tcompras_realizadas {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tcompras_espera {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\ttesoreria {\n\t\t\t\t\tcuentas_empresa {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tegresos {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tabonos_proveedores {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tabonos_clientes {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treportes {\n\t\t\t\t\treporte_historial_cajas {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\treporte_turnos {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\treporte_compras {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\treporte_ventas {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\trerporte_almacen {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\treporte_corte_caja {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\treporte_tesoreria {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tventas {\n\t\t\t\t\tcancelar_venta {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tprecios_productos {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tpre_corte {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tcotizaciones {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tadministrador {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\teliminar_ventas {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tproducto_rapido {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\talmacenes {\n\t\t\t\t\talmacen {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\ttraspasos {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tinventario_almacen {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tcatalogos {\n\t\t\t\t\tclientes {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tusuarios {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tmarcas {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tcontabilidad {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tprovedores {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tcajas {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tdepartamentos {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tcentro_costos {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tconceptos_almacen {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tcategorias {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tcolores {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\ttallas_numeros {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n`;\n\nexport const ACTUALIZAR_USUARIO = gql`\n\tmutation actualizarUsuario($input: ActualizarUsuarioInput, $id: ID!) {\n\t\tactualizarUsuario(id: $id, input: $input) {\n\t\t\tmessage\n\t\t}\n\t}\n`;\n\nexport const LOGEAR_USUARIO = gql`\n\tmutation logearUsuario($input: LogearUsuarioInput) {\n\t\tlogearUsuario(input: $input) {\n\t\t\ttoken\n\t\t}\n\t}\n`;\n\nexport const AGIGNAR_PERMISOS_USUARIO = gql`\n\tmutation asignarAccesosUsuario($input: CrearArregloDeAccesosInput, $id: ID!) {\n\t\tasignarAccesosUsuario(id: $id, input: $input) {\n\t\t\tmessage\n\t\t}\n}\n`;\n","import { Box, makeStyles, Snackbar, Typography, Portal } from '@material-ui/core';\n/* import { Alert } from '@material-ui/lab'; */\nimport React from 'react';\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\nimport ErrorIcon from '@material-ui/icons/Error';\n\nconst useStyles = makeStyles((theme) => ({\n\tsnack: {\n\t\tzIndex: `${99999}!important`\n\t}\n}));\n\nexport default function SnackBarMessages({ alert, setAlert }) {\n\tconst classes = useStyles();\n\n\tconst handleClose = () => {\n\t\tsetAlert({ open: false, status: alert.status, message: '' });\n\t};\n\n\treturn (\n\t\t<Portal>\n\t\t\t<Snackbar\n\t\t\t\tclassName={classes.snack}\n\t\t\t\tanchorOrigin={{ vertical: 'top', horizontal: 'center' }}\n\t\t\t\topen={alert.open}\n\t\t\t\tonClose={handleClose}\n\t\t\t\tautoHideDuration={3000}\n\t\t\t\tmessage={\n\t\t\t\t\t<Box display=\"flex\">\n\t\t\t\t\t\t{alert.status === 'success' ? (\n\t\t\t\t\t\t\t<CheckCircleIcon style={{ color: '#22bb33' }} />\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<ErrorIcon style={{ color: 'red' }} />\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<Box mr={1} />\n\t\t\t\t\t\t<Typography>{alert.message}</Typography>\n\t\t\t\t\t</Box>\n\t\t\t\t}\n\t\t\t/>\n\t\t</Portal>\n\t);\n\t/* return (\n\t\t<Snackbar\n\t\t\tclassName={classes.snack}\n\t\t\tanchorOrigin={{ vertical: 'top', horizontal: 'center' }}\n\t\t\topen={alert.open}\n\t\t\tonClose={handleClose}\n\t\t\tautoHideDuration={2000}\n\t\t>\n\t\t\t<Alert onClose={handleClose} severity={alert.status}>\n\t\t\t\t{alert.message}\n\t\t\t</Alert>\n\t\t</Snackbar>\n\t); */\n}\n","import React, { useState } from 'react';\nimport { Box, Button, Container, TextField, Typography, CircularProgress } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useMutation } from '@apollo/client';\nimport { LOGEAR_USUARIO } from '../../gql/Catalogos/usuarios';\nimport SnackBarMessages from '../SnackBarMessages';\nimport jwt_decode from 'jwt-decode';\nimport { FormControl } from '@material-ui/core';\nimport { InputLabel } from '@material-ui/core';\nimport { OutlinedInput } from '@material-ui/core';\nimport { InputAdornment } from '@material-ui/core';\nimport { IconButton } from '@material-ui/core';\nimport Visibility from '@material-ui/icons/Visibility';\nimport VisibilityOff from '@material-ui/icons/VisibilityOff';\nimport ab from '../../img/abLogo.jpeg'\n\nconst useStyles = makeStyles((theme) => ({\n\tmargin: {\n\t\tmarginTop: theme.spacing(2),\n\t\tmarginBottom: theme.spacing(2)\n\t},\n\tcontainerImagen:{\n\t\tmaxWidth: 170,\n\t\tmaxHeight: 170\n\t},\n\timagen:{\n\t\twidth: '100%',\n\t\theight: '100%'\n\t}\n}));\n\nexport default function LayoutLogin(props) {\n\tconst classes = useStyles();\n\tconst sesion = localStorage.getItem('sesionCafi');\n\tconst [ datos, setDatos ] = useState([]);\n\tconst [ loading, setLoading ] = useState(false);\n\tconst [ alert, setAlert ] = useState({ message: '', status: '', open: false });\n\tconst [ showPassword, setShowPassword ] = useState(false);\n\n\tif (sesion) props.history.push('/ventas/venta-general');\n\n\tconst [ logearUsuario ] = useMutation(LOGEAR_USUARIO);\n\n\tconst signin = async (e) => {\n\t\te.preventDefault();\n\t\tif (!datos.numero_usuario || !datos.password) {\n\t\t\tsetAlert({ message: 'Los campos estan vacíos', status: 'error', open: true });\n\t\t\treturn;\n\t\t}\n\t\tsetLoading(true);\n\n\t\ttry {\n\t\t\tconst result = await logearUsuario({\n\t\t\t\tvariables: {\n\t\t\t\t\tinput: datos\n\t\t\t\t}\n\t\t\t});\n\t\t\tconst { token } = result.data.logearUsuario;\n\t\t\tconst decoded = jwt_decode(token);\n\t\t\tsetLoading(false);\n\t\t\tlocalStorage.setItem('sesionCafi', JSON.stringify(decoded));\n\t\t\tlocalStorage.setItem('tokenCafi', JSON.stringify(token));\n\t\t\tprops.history.push('/ventas/venta-general');\n\t\t} catch (error) {\n\t\t\tsetAlert({ message: error.message, status: 'error', open: true });\n\t\t\tsetLoading(false);\n\t\t}\n\t};\n\n\tconst obtenerCampos = (e) => {\n\t\tif (e.target.name === 'numero_usuario') {\n\t\t\tsetDatos({\n\t\t\t\t...datos,\n\t\t\t\t[e.target.name]: parseInt(e.target.value)\n\t\t\t});\n\t\t} else {\n\t\t\tsetDatos({\n\t\t\t\t...datos,\n\t\t\t\t[e.target.name]: e.target.value\n\t\t\t});\n\t\t}\n\t};\n\n\tconst handleClickShowPassword = () => {\n\t\tsetShowPassword(!showPassword);\n\t};\n\n\tconst handleMouseDownPassword = (event) => {\n\t\tevent.preventDefault();\n\t};\n\n\treturn (\n\t\t<Container maxWidth=\"sm\">\n\t\t\t<SnackBarMessages alert={alert} setAlert={setAlert} />\n\t\t\t<Box height=\"100vh\" display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t<Box boxShadow=\"3\" p={3} width=\"80%\">\n\t\t\t\t\t<Box display='flex' justifyContent='center' alignItems='center' justifyItems='center' >\n\t\t\t\t\t\t<Box className={classes.containerImagen} textAlign='center'>\n\t\t\t\t\t\t\t<img className={classes.imagen} src={ab} alt=\"imagen no disponible\" />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box display='flex' textAlign='center' justifyContent='center'>\n\t\t\t\t\t\t<Typography variant=\"h4\" component=\"p\" className={classes.margin}>\n\t\t\t\t\t\t\t<b>Inicia sesión</b>\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<form autoComplete=\"off\" onSubmit={signin} >\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tlabel=\"Numero de usuario\"\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\tname=\"numero_usuario\"\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tclassName={classes.margin}\n\t\t\t\t\t\t\tonChange={obtenerCampos}\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t<FormControl variant=\"outlined\" name=\"password\" className={classes.margin} fullWidth>\n\t\t\t\t\t\t\t<InputLabel htmlFor=\"usuario-password\">Contraseña</InputLabel>\n\t\t\t\t\t\t\t<OutlinedInput\n\t\t\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\t\t\tid=\"usuario-password\"\n\t\t\t\t\t\t\t\ttype={showPassword ? 'text' : 'password'}\n\t\t\t\t\t\t\t\tonChange={obtenerCampos}\n\t\t\t\t\t\t\t\tendAdornment={\n\t\t\t\t\t\t\t\t\t<InputAdornment position=\"end\">\n\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\tonClick={handleClickShowPassword}\n\t\t\t\t\t\t\t\t\t\t\tonMouseDown={handleMouseDownPassword}\n\t\t\t\t\t\t\t\t\t\t\tedge=\"end\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{showPassword ? <Visibility /> : <VisibilityOff />}\n\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t</InputAdornment>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tlabelWidth={70}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tsize=\"large\"\n\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\tdisableElevation\n\t\t\t\t\t\t\tclassName={classes.margin}\n\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\tendIcon={loading ? <CircularProgress size={25} color=\"inherit\" /> : null}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tEntrar\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</form>\n\t\t\t\t</Box>\n\t\t\t</Box>\n\t\t</Container>\n\t);\n}\n","export const initial_state_datos_generales = {\n  receta_farmacia: false,\n  clave_producto_sat: {\n    Name: \"\",\n    Value: \"\",\n  },\n};\nexport const initial_state_precios = {\n  monedero: false,\n  monedero_electronico: 0,\n  iva_activo: true,\n  ieps_activo: false,\n  ieps: 0,\n  iva: 16,\n  granel: false,\n  inventario: {\n    inventario_minimo: 0,\n    inventario_maximo: 0,\n    unidad_de_inventario: \"Pz\",\n    codigo_unidad: \"H87\",\n  },\n  precio_de_compra: {\n    precio_con_impuesto: 0,\n    precio_sin_impuesto: 0,\n    iva: 0,\n    ieps: 0,\n  },\n  unidad_de_compra: {\n    unidad: \"Pz\",\n    codigo_unidad: \"H87\",\n    cantidad: 1,\n    precio_unitario_sin_impuesto: 0,\n    precio_unitario_con_impuesto: 0,\n  },\n};\n\nexport const initial_state_unidadVentaXDefecto = {\n  codigo_barras: \"\",\n  unidad: \"Pz\",\n  codigo_unidad: \"H87\",\n  cantidad: 1,\n  precio: 0,\n  precio_unidad: {\n    numero_precio: 0,\n    precio_neto: 0,\n    precio_venta: 0,\n    unidad_mayoreo: 0,\n    iva_precio: 0,\n    ieps_precio: 0,\n    utilidad: 0,\n    precio_general: 0,\n    cantidad_unidad: 0,\n    unidad_maxima: false\n  },\n  unidad_principal: true,\n  default: true,\n};\n\nexport const initial_state_preciosP = [\n  {\n    numero_precio: 1,\n    utilidad: 0,\n    precio_neto: 0,\n    unidad_mayoreo: 0,\n    precio_venta: 0,\n    iva_precio: 0,\n    ieps_precio: 0,\n  },\n  {\n    numero_precio: 2,\n    utilidad: 0,\n    precio_neto: 0,\n    unidad_mayoreo: 0,\n    precio_venta: 0,\n    iva_precio: 0,\n    ieps_precio: 0,\n  },\n  {\n    numero_precio: 3,\n    utilidad: 0,\n    precio_neto: 0,\n    unidad_mayoreo: 0,\n    precio_venta: 0,\n    iva_precio: 0,\n    ieps_precio: 0,\n  },\n  {\n    numero_precio: 4,\n    utilidad: 0,\n    precio_neto: 0,\n    unidad_mayoreo: 0,\n    precio_venta: 0,\n    iva_precio: 0,\n    ieps_precio: 0,\n  },\n  {\n    numero_precio: 5,\n    utilidad: 0,\n    precio_neto: 0,\n    unidad_mayoreo: 0,\n    precio_venta: 0,\n    iva_precio: 0,\n    ieps_precio: 0,\n  },\n  {\n    numero_precio: 6,\n    utilidad: 0,\n    precio_neto: 0,\n    unidad_mayoreo: 0,\n    precio_venta: 0,\n    iva_precio: 0,\n    ieps_precio: 0,\n  },\n];\n\nexport const initial_state_unidadesVenta = [];\n\nexport const initial_state_almacen_inicial = {\n  id_almacen: \"\",\n  almacen: \"\",\n  cantidad: 0,\n  fecha_de_expiracion: \"\",\n};\nexport const initial_state_centro_de_costos = {};\n\nexport const initial_state_preciosPlazos = {\n  precio_piezas: [],\n  precio_cajas: [],\n  precio_costales: [],\n};\n\nexport const initial_state_subcategorias = [];\nexport const initial_state_imagenes = [];\nexport const initial_state_imagenes_eliminadas = [];\nexport const initial_state_onPreview = { index: \"\", image: \"\" };\nexport const initial_state_validacion = { error: false, message: \"\" };\nexport const initial_state_subcostos = [];\nexport const initial_state_selectedDate = null;\nexport const initial_state_presentaciones = [];\n","import React, { createContext, useState } from \"react\";\nimport {\n  initial_state_datos_generales,\n  initial_state_precios,\n  initial_state_unidadVentaXDefecto,\n  initial_state_preciosP,\n  initial_state_unidadesVenta,\n  initial_state_almacen_inicial,\n  initial_state_centro_de_costos,\n  initial_state_preciosPlazos,\n  initial_state_subcategorias,\n  initial_state_imagenes,\n  initial_state_imagenes_eliminadas,\n  initial_state_onPreview,\n  initial_state_validacion,\n  initial_state_subcostos,\n  initial_state_selectedDate,\n  initial_state_presentaciones,\n} from \"./initialStatesProducto\";\n\nexport const RegProductoContext = createContext();\n\nexport const RegProductoProvider = ({ children }) => {\n  const [datos_generales, setDatosGenerales] = useState(\n    initial_state_datos_generales\n  );\n  const [precios, setPrecios] = useState(initial_state_precios);\n  const [unidadVentaXDefecto, setUnidadVentaXDefecto] = useState(\n    initial_state_unidadVentaXDefecto\n  );\n  const [preciosP, setPreciosP] = useState(initial_state_preciosP);\n  const [unidadesVenta, setUnidadesVenta] = useState(\n    initial_state_unidadesVenta\n  );\n  const [almacen_inicial, setAlmacenInicial] = useState(\n    initial_state_almacen_inicial\n  );\n  const [centro_de_costos, setCentroDeCostos] = useState(\n    initial_state_centro_de_costos\n  );\n  const [preciosPlazos, setPreciosPlazos] = useState(\n    initial_state_preciosPlazos\n  );\n  const [subcategorias, setSubcategorias] = useState(\n    initial_state_subcategorias\n  );\n  const [imagenes, setImagenes] = useState(initial_state_imagenes);\n  const [imagenes_eliminadas, setImagenesEliminadas] = useState(\n    initial_state_imagenes_eliminadas\n  );\n  const [onPreview, setOnPreview] = useState(initial_state_onPreview);\n  const [validacion, setValidacion] = useState(initial_state_validacion);\n  const [subcostos, setSubcostos] = useState(initial_state_subcostos);\n  const [selectedDate, setSelectedDate] = useState(initial_state_selectedDate);\n  const [update, setUpdate] = useState(false);\n  const [presentaciones, setPresentaciones] = useState(\n    initial_state_presentaciones\n  );\n  const [presentaciones_eliminadas, setPresentacionesEliminadas] = useState([]);\n  const [actualizarLista, setActualizarLista] = React.useState(false);\n  const [alert, setAlert] = useState({ message: \"\", status: \"\", open: false });\n\n  // USESTATES DE DESCUENTOS DE PRODUCTOS\n  const [ datosPreciosProducto, setDatosPreciosProducto ] = useState([]);\n  const [ preciosDescuentos, setPreciosDescuentos] = useState([]);\n  const [ preciosProductos, setPreciosProductos ] = useState([]);\n  const [ datosEnDescuentos, setDatosEnDescuentos ] = useState([]);\n  const [ almacen_existente, setAlmacenExistente] = useState(false);\n\n  return (\n    <RegProductoContext.Provider\n      value={{\n        datos_generales,\n        setDatosGenerales,\n        precios,\n        setPrecios,\n        almacen_inicial,\n        setAlmacenInicial,\n        imagenes,\n        setImagenes,\n        imagenes_eliminadas,\n        setImagenesEliminadas,\n        onPreview,\n        setOnPreview,\n        validacion,\n        setValidacion,\n        preciosP,\n        setPreciosP,\n        preciosPlazos,\n        setPreciosPlazos,\n        unidadesVenta,\n        setUnidadesVenta,\n        centro_de_costos,\n        setCentroDeCostos,\n        unidadVentaXDefecto,\n        setUnidadVentaXDefecto,\n        subcategorias,\n        setSubcategorias,\n        subcostos,\n        setSubcostos,\n        selectedDate,\n        setSelectedDate,\n        update,\n        setUpdate,\n        presentaciones,\n        setPresentaciones,\n        presentaciones_eliminadas,\n        setPresentacionesEliminadas,\n        actualizarLista,\n        setActualizarLista,\n        alert,\n        setAlert,\n\n        datosPreciosProducto, \n        setDatosPreciosProducto,\n        preciosDescuentos, \n        setPreciosDescuentos,\n        preciosProductos, \n        setPreciosProductos,\n        datosEnDescuentos, \n        setDatosEnDescuentos,\n        almacen_existente, \n        setAlmacenExistente\n      }}\n    >\n      {children}\n    </RegProductoContext.Provider>\n  );\n};\n","import React, { createContext, useState } from 'react';\n\nexport const EmpresaContext = createContext();\n\nexport const EmpresaProvider = ({ children }) => {\n   \n\tconst [ empresa, setEmpresa ] = useState({\n\t\tnombre_empresa:'',\n        nombre_dueno:'',\n\t\ttelefono_dueno:'',\n\t\tcelular:'',\n\t\tcorreo_empresa:'',\n        nombre_fiscal:'',\n        rfc:'',\n        regimen_fiscal:'',\n        curp:'',\n        info_adicio:'',\n\t\tdireccion: {\n\t\t\tcalle: '',\n\t\t\tno_ext: '',\n\t\t\tno_int: '',\n\t\t\tcodigo_postal: '',\n\t\t\tcolonia: '',\n\t\t\tmunicipio: '',\n\t\t\tlocalidad: '',\n\t\t\testado: '',\n\t\t\tpais: ''\n\t\t},\n        direccionFiscal: {\n            calle: '',\n\t\t\tno_ext: '',\n\t\t\tno_int: '',\n\t\t\tcodigo_postal: '',\n\t\t\tcolonia: '',\n\t\t\tmunicipio: '',\n\t\t\tlocalidad: '',\n\t\t\testado: '',\n\t\t\tpais: ''\n        },\n        datosBancarios:{\n            cuenta: '',\n            sucursal: '',\n            clave_banco: ''\n        },\n\t\timagen: null\n\t});\n\tconst [ toUpdate, setToUpdate ] = useState(false);\n\tconst [ error, setError ] = useState({error: false, message: ''});\n\tconst [ update, setUpdate ] = useState(false);\n\n\treturn (\n\t\t<EmpresaContext.Provider\n\t\t\tvalue={{\n\t\t\t\tempresa,\n\t\t\t\tsetEmpresa,\n\t\t\t\ttoUpdate,\n\t\t\t\tsetToUpdate,\n\t\t\t\terror,\n\t\t\t\tsetError,\n\t\t\t\tupdate,\n\t\t\t\tsetUpdate\n\t\t\t}}\n\t\t>\n\t\t\t{children}\n\t\t</EmpresaContext.Provider>\n\t);\n};","import React from 'react';\nimport Backdrop from '@material-ui/core/Backdrop';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles((theme) => ({\n  backdrop: {\n    zIndex: theme.zIndex.drawer + 1,\n    color: '#fff',\n    backgroundColor: \"rgba(0, 0, 0, 0.3)\"\n  },\n}));\n\nexport default function BackdropComponent({loading, setLoading}) {\n  const classes = useStyles();\n\n  /* const handleClose = () => {\n    setLoading(false);\n  }; */\n\n  return (\n    <div>\n      <Backdrop className={classes.backdrop} open={loading} /* onClick={handleClose} */>\n        <CircularProgress color=\"inherit\" />\n      </Backdrop>\n    </div>\n  );\n}\n","import React from 'react';\nimport ErrorOutlineIcon from '@material-ui/icons/ErrorOutline';\nimport { Box, Typography } from '@material-ui/core';\n\nexport default function ErrorPage({ error, altura}) {\n\tlet height = altura\n\tif(!height) height = 400;\n\treturn (\n\t\t<Box display=\"flex\" flexDirection=\"column\" justifyContent=\"center\" alignItems=\"center\" height={height}>\n\t\t\t<ErrorOutlineIcon style={{ fontSize: 100, color: 'rgba(17,85,204, 0.7)' }} />\n\t\t\t<Typography align=\"center\" style={{ fontSize: 18, color: 'rgba(17,85,204)' }}>\n\t\t\t\tHubo un problema\n\t\t\t</Typography>\n\t\t</Box>\n\t);\n}\n","import { gql } from \"@apollo/client\";\nexport const OBTENER_DATOS_EMPRESA = gql`\n  query obtenerEmpresa($id: ID!) {\n    obtenerEmpresa(id: $id) {\n      _id\n      nombre_empresa\n      nombre_dueno\n      telefono_dueno\n      celular\n      correo_empresa\n      limite_timbres\n      timbres_usados\n      sello_sat\n      nombre_cer\n      nombre_key\n      imagen\n      nombre_fiscal\n      rfc\n      regimen_fiscal\n      curp\n      info_adicio\n      direccion {\n        calle\n        no_ext\n        no_int\n        codigo_postal\n        colonia\n        municipio\n        localidad\n        estado\n        pais\n      }\n      direccionFiscal {\n        calle\n        no_ext\n        no_int\n        codigo_postal\n        colonia\n        municipio\n        localidad\n        estado\n        pais\n      }\n      cuenta_empresa{\n        dinero_actual\n      }\n      datosBancarios {\n        cuenta\n        sucursal\n        clave_banco\n      }\n    }\n  }\n`;\n\nexport const ACTUALIZAR_EMPRESA = gql`\n  mutation actualizarEmpresa($id: ID!, $input: EditarEmpresa) {\n    actualizarEmpresa(id: $id, input: $input) {\n      _id\n      nombre_empresa\n      nombre_dueno\n      telefono_dueno\n      celular\n      correo_empresa\n      limite_timbres\n      timbres_usados\n      sello_sat\n      nombre_cer\n      nombre_key\n      imagen\n      nombre_fiscal\n      rfc\n      regimen_fiscal\n      curp\n      info_adicio\n      direccion {\n        calle\n        no_ext\n        no_int\n        codigo_postal\n        colonia\n        municipio\n        localidad\n        estado\n        pais\n      }\n      direccionFiscal {\n        calle\n        no_ext\n        no_int\n        codigo_postal\n        colonia\n        municipio\n        localidad\n        estado\n        pais\n      }\n      datosBancarios {\n        cuenta\n        sucursal\n        clave_banco\n      }\n    }\n  }\n`;\n","export const numerosRandom = (min, max) => {\n  return Math.floor(Math.random() * (max - min + 1) + min);\n};\n\nexport const generateCode = (length) => {\n  var result = \"\";\n  var characters =\n    \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\n  var charactersLength = characters.length;\n  for (var i = 0; i < length; i++) {\n    result += characters.charAt(Math.floor(Math.random() * charactersLength));\n  }\n  return result;\n};\n\nexport const formatoHora = (hora) => {\n  if (!hora) {\n    return null;\n  } else {\n    var newtime = new Date(hora);\n    return newtime.toLocaleTimeString(\"en-US\", { hour12: \"false\" });\n  }\n};\n\nexport const formatoFecha = (fecha) => {\n  if (!fecha) {\n    return null;\n  } else {\n    var newdate = new Date(fecha);\n    return newdate.toLocaleDateString(\"es-MX\", {\n      weekday: \"long\",\n      year: \"numeric\",\n      month: \"long\",\n      day: \"numeric\",\n    });\n  }\n};\n\nexport const formatoFechaCorta = (fecha) => {\n  if (!fecha) {\n    return null;\n  } else {\n    var newdate = new Date(fecha);\n    return newdate.toLocaleDateString(\"es-MX\", {\n      weekday: \"short\",\n      year: \"numeric\",\n      month: \"short\",\n      day: \"numeric\",\n    });\n  }\n};\n\nexport const formatoMexico = (number) => {\n  if (!number) {\n    return null;\n  } else {\n    let nueva;\n    if (number % 1 === 0) {\n      nueva = number;\n    } else {\n      nueva = parseFloat(number).toFixed(2);\n    }\n    const exp = /(\\d)(?=(\\d{3})+(?!\\d))/g;\n    const rep = \"$1,\";\n    return nueva.toString().replace(exp, rep);\n  }\n};\n\nexport const cleanTypenames = (value) => {\n  if (Array.isArray(value)) {\n    return value.map(cleanTypenames);\n  } else if (value !== null && typeof value === \"object\") {\n    const newObject = {};\n    for (const property in value)\n      if (property !== \"__typename\")\n        newObject[property] = cleanTypenames(value[property]);\n    return newObject;\n  } else {\n    return value;\n  }\n};\n\nexport const findProductArray = async (producto) => {\n  try {\n    let venta = JSON.parse(localStorage.getItem(\"DatosVentas\"));\n    let productosVentas = venta === null ? [] : venta.productos;\n    let found = false;\n    let producto_found = {\n      producto: {},\n      index: 0,\n    };\n\n    for (let i = 0; i < productosVentas.length; i++) {\n      if (typeof productosVentas[i].codigo_barras !== \"undefined\") {\n        if (productosVentas[i].codigo_barras === producto.codigo_barras) {\n          producto_found = {\n            producto: productosVentas[i],\n            index: i,\n          };\n          found = true;\n          return {\n            producto_found,\n            found,\n          };\n        }\n      } else {\n        if (\n          productosVentas[i].id_producto.datos_generales.clave_alterna ===\n          producto.id_producto.datos_generales.clave_alterna\n        ) {\n          producto_found = {\n            producto: productosVentas[i],\n            index: i,\n          };\n          found = true;\n          return {\n            producto_found,\n            found,\n          };\n        }\n      }\n    }\n\n    return {\n      producto_found,\n      found,\n    };\n  } catch (error) {\n    console.log(error);\n    return false;\n  }\n};\n\nexport const calculatePrices = async (\n  newP,\n  cantidad,\n  granel,\n  newPrising = 0\n) => {\n  let subtotalCalculo = 0,\n    totalCalculo = 0,\n    impuestoCalculo = 0,\n    ivaCalculo = 0,\n    iepsCalculo = 0,\n    descuentoCalculo = 0,\n    monederoCalculo = 0;\n  // console.log(\"newPrising\",newPrising);\n  const cantidadNueva = cantidad > 0 ? cantidad : 1;\n  console.log(newP.id_producto.precios.precios_producto[0].precio_venta);\n  // console.log(newP);\n  const iva_producto =\n    parseFloat(newP.id_producto.precios.precios_producto[0].precio_venta) *\n    parseFloat(\n      `0.${\n        newP.id_producto.precios.iva < 9\n          ? `0${newP.id_producto.precios.iva}`\n          : newP.id_producto.precios.iva\n      }`\n    );\n\n  const ieps_producto =\n    parseFloat(newP.id_producto.precios.precios_producto[0].precio_venta) *\n    parseFloat(\n      `0.${\n        newP.id_producto.precios.ieps < 9\n          ? `0${newP.id_producto.precios.ieps}`\n          : newP.id_producto.precios.ieps\n      }`\n    );\n\n  const precioProducto = newPrising;\n  // const precioDescuentoProducto = newP.descuento_activo ? parseFloat(newP.descuento.precio_con_descuento) : 0;\n\n  totalCalculo =\n    granel.granel === true\n      ? precioProducto * cantidadNueva * parseFloat(granel.valor)\n      : precioProducto * cantidadNueva;\n\n  subtotalCalculo =\n    granel.granel === true\n      ? (precioProducto - (iva_producto + ieps_producto)) *\n        cantidadNueva *\n        parseFloat(granel.valor)\n      : (precioProducto - (iva_producto + ieps_producto)) * cantidadNueva;\n\n  impuestoCalculo =\n    granel.granel === true\n      ? (iva_producto + ieps_producto) *\n        cantidadNueva *\n        parseFloat(granel.valor)\n      : (iva_producto + ieps_producto) * cantidadNueva;\n\n  console.log(cantidadNueva);\n\n  ivaCalculo =\n    granel.granel === true\n      ? iva_producto * cantidadNueva * parseFloat(granel.valor)\n      : iva_producto * cantidadNueva;\n\n  iepsCalculo =\n    granel.granel === true\n      ? ieps_producto * cantidadNueva * parseFloat(granel.valor)\n      : ieps_producto * cantidadNueva;\n\n  descuentoCalculo =\n    granel.granel === true\n      ? newP.descuento_activo === true\n        ? parseFloat(newP.descuento.dinero_descontado) *\n          cantidadNueva *\n          parseFloat(granel.valor)\n        : 0\n      : newP.descuento_activo === true\n      ? parseFloat(newP.descuento.dinero_descontado) * cantidadNueva\n      : 0;\n\n  monederoCalculo = newP.id_producto.precios.monedero\n    ? newP.id_producto.precios.monedero_electronico * cantidadNueva\n    : 0;\n\n  return {\n    totalCalculo,\n    subtotalCalculo,\n    impuestoCalculo,\n    ivaCalculo,\n    iepsCalculo,\n    descuentoCalculo,\n    monederoCalculo,\n  };\n};\n\nexport const calculatePrices2 = async ({ newP, cantidad, granel, origen, precio_boolean = false, precio}) => {\n  try {\n    let subtotalCalculo = 0,\n      totalCalculo = 0,\n      impuestoCalculo = 0,\n      ivaCalculo = 0,\n      iepsCalculo = 0,\n      descuentoCalculo = 0,\n      monederoCalculo = 0;\n    // const descuento = newP.descuento_activo === null ? false : true;\n    const cantidadNueva = cantidad > 0 ? cantidad : 1;\n    const valor_granel = granel.granel ? granel.valor : 1;\n    const precio_actual = precio_boolean ? precio : newP.descuento_activo ? newP.descuento : newP.precio_unidad;\n    const cantidadCaja =\n    precio_actual.unidad_maxima === true\n      ? precio_actual.cantidad_unidads\n      : 1;\n    ivaCalculo = precio_actual.iva_precio * cantidadCaja;\n    iepsCalculo = precio_actual.ieps_precio * cantidadCaja;\n    impuestoCalculo = ivaCalculo + iepsCalculo;\n    subtotalCalculo = precio_actual.precio_venta * cantidadCaja;\n    totalCalculo = precio_actual.precio_neto * cantidadCaja;\n    monederoCalculo = newP.id_producto.precios.monedero\n      ? newP.id_producto.precios.monedero_electronico * cantidadCaja\n      : 0;\n    descuentoCalculo = totalCalculo - newP.precio_unidad.precio_neto;\n    const ob = {\n      ivaCalculo: parseFloat((ivaCalculo * valor_granel * cantidadNueva).toFixed(2)),\n      iepsCalculo: parseFloat((iepsCalculo * valor_granel * cantidadNueva).toFixed(2)) ,\n      impuestoCalculo: parseFloat((impuestoCalculo * valor_granel * cantidadNueva).toFixed(2)) ,\n      subtotalCalculo: parseFloat((subtotalCalculo * valor_granel * cantidadNueva).toFixed(2)) ,\n      totalCalculo: parseFloat((totalCalculo * valor_granel * cantidadNueva).toFixed(2)) ,\n      monederoCalculo: parseFloat((monederoCalculo * valor_granel * cantidadNueva).toFixed(2)) ,\n      descuentoCalculo: parseFloat((descuentoCalculo * valor_granel * cantidadNueva).toFixed(2)) ,\n      newP\n    };\n    if(origen === \"Ventas1\"){\n      newP.cantidad_venta = 1;\n      newP.granel_producto  = granel;\n      newP.precio_a_vender = ob.totalCalculo;\n      newP.precio_actual_producto = parseFloat((precio_actual.precio_neto).toFixed(2));\n      newP.precio_actual_object = precio_actual;\n    }else if(origen === \"Ventas2\") {\n      newP.granel_producto = granel;\n      newP.precio_a_vender = ob.totalCalculo;\n      newP.precio_anterior = newP.precio_actual_producto;\n    }\n\n    return ob;\n\n  } catch (error) {\n    return false;\n  }\n};\n\nexport const verifiPrising = async (newP) => {\n  try {\n    if (!newP) return false;\n    const amount = newP.cantidad_venta;\n    const pricings = newP.id_producto.precios.precios_producto.filter(\n      (p) => p.unidad_mayoreo > 0 && p.precio_neto > 0\n    );\n\n    let finalPrising = {\n      found: false,\n      pricing: 0,\n      number_pricing: 0,\n      object_prising: {}\n    };\n    const datoFinal = pricings.length;\n    if (newP.precio_seleccionado) return finalPrising;\n    //CONIDICONAR SI EL PRECIO ES MENOR Y MENOR PERO QUE NO SEA MAYOR AL SEGUNDO\n    if (amount < newP.id_producto.precios.precios_producto[1].unidad_mayoreo)\n      return (finalPrising = {\n        found: true,\n        pricing: newP.descuento_activo\n          ? newP.descuento.precio_neto\n          : newP.id_producto.precios.precios_producto[0].precio_neto,\n        number_pricing:\n          newP.id_producto.precios.precios_producto[0].numero_precio,\n        object_prising: newP.descuento_activo ? newP.descuento : newP.id_producto.precios.precios_producto[0]\n      });\n\n    for (let i = 0; i < pricings.length; i++) {\n      if (i + 1 === datoFinal && amount >= pricings[i].unidad_mayoreo)\n        return (finalPrising = {\n          found: true,\n          pricing: pricings[i].precio_neto,\n          number_pricing: pricings[i].numero_precio,\n          object_prising: pricings[i]\n        });\n\n      if (\n        i + 1 < datoFinal &&\n        amount >= pricings[i].unidad_mayoreo &&\n        amount < pricings[i + 1].unidad_mayoreo\n      ) {\n        finalPrising = {\n          found: true,\n          pricing: pricings[i].precio_neto,\n          number_pricing: pricings[i].numero_precio,\n          object_prising: pricings[i]\n        };\n      }\n    }\n    return finalPrising;\n  } catch (error) {\n    console.log(error);\n    return false;\n  }\n};\n\nexport function formatCurrency(number) {\n  var formatted = new Intl.NumberFormat(\"en-US\", {\n    style: \"currency\",\n    currency: \"USD\",\n    minimumFractionDigits: 2,\n  }).format(number);\n  console.log(formatted);\n  return formatted;\n}\n\nexport const findProductArrayRefactor = async (producto) => {\n  try {\n    let venta = JSON.parse(localStorage.getItem(\"DatosVentas\"));\n    let productosVentas = venta === null ? [] : venta.productos;\n    //Declarar variables\n    let found = false;\n    let producto_found = {\n      producto: {},\n      index: 0,\n    };\n    //Se recorren los productos\n    for (let i = 0; i < productosVentas.length; i++) {\n      //Se verifica si tiene codigo de barras ya que no es obligatorio\n      if (typeof productosVentas[i].codigo_barras !== \"undefined\") {\n        if (productosVentas[i].codigo_barras === producto.codigo_barras) {\n          return {\n            producto_found: {\n              producto: productosVentas[i],\n              index: i,\n            },\n            found: true,\n          };\n        }\n      } else {\n        if (\n          productosVentas[i].id_producto.datos_generales.clave_alterna ===\n          producto.id_producto.datos_generales.clave_alterna\n        ) {\n          return {\n            producto_found: {\n              producto: productosVentas[i],\n              index: i,\n            },\n            found: true,\n          };\n        }\n      }\n    }\n\n    return {\n      producto_found,\n      found,\n    };\n  } catch (error) {\n    console.log(error);\n    return false;\n  }\n};\n","import moment from \"moment\";\n\nexport const usosCfdi = [\n  {\n    Value: \"G01\",\n    Name: \"Adquisición de mercancías\",\n  },\n  {\n    Value: \"G02\",\n    Name: \"Devoluciones, descuentos o bonificaciones\",\n  },\n  {\n    Value: \"G03\",\n    Name: \"Gastos en general\",\n  },\n  {\n    Value: \"I01\",\n    Name: \"Construcciones\",\n  },\n  {\n    Value: \"I02\",\n    Name: \"Mobiliario y equipo de oficina por inversiones\",\n  },\n  {\n    Value: \"I03\",\n    Name: \"Equipo de transporte\",\n  },\n  {\n    Value: \"I04\",\n    Name: \"Equipo de cómputo y accesorios\",\n  },\n  {\n    Value: \"I05\",\n    Name: \"Dados, troqueles, moldes, matrices y herramental\",\n  },\n  {\n    Value: \"I06\",\n    Name: \"Comunicaciones telefónicas\",\n  },\n  {\n    Value: \"I07\",\n    Name: \"Comunicaciones satelitales\",\n  },\n  {\n    Value: \"I08\",\n    Name: \"Otra maquinaria y equipo\",\n  },\n  {\n    Value: \"D01\",\n    Name: \"Honorarios médicos, dentales y gastos hospitalarios\",\n  },\n  {\n    Value: \"D02\",\n    Name: \"Gastos médicos por incapacidad o discapacidad\",\n  },\n  {\n    Value: \"D03\",\n    Name: \"Gastos funerales.\",\n  },\n  {\n    Value: \"D04\",\n    Name: \"Donativos\",\n  },\n  {\n    Value: \"D05\",\n    Name:\n      \"Intereses reales efectivamente pagados por créditos hipotecarios (casa habitación).\",\n  },\n  {\n    Value: \"D06\",\n    Name: \"Aportaciones voluntarias al SAR.\",\n  },\n  {\n    Value: \"D07\",\n    Name: \"Primas por seguros de gastos médicos.\",\n  },\n  {\n    Value: \"D08\",\n    Name: \"Gastos de transportación escolar obligatoria.\",\n  },\n  {\n    Value: \"D09\",\n    Name:\n      \"Depósitos en cuentas para el ahorro, primas que tengan como base planes de pensiones.\",\n  },\n  {\n    Value: \"D10\",\n    Name: \"Pagos por servicios educativos (colegiaturas)\",\n  },\n  {\n    Value: \"P01\",\n    Name: \"Por definir\",\n  },\n];\nexport const tiposCfdi = [\n  {\n    NameId: 1,\n    Name: \"Factura\",\n    Value: \"I\",\n  },\n  {\n    NameId: 2,\n    Name: \"Nota de Crédito\",\n    Value: \"E\",\n  },\n  {\n    NameId: 14,\n    Name: \"Complemento de pago\",\n    Value: \"P\",\n  },\n];\nexport const tipoCambio = [\n  {\n    Value: \"MXN\",\n    Name: \"Peso Mexicano\",\n  },\n  {\n    Value: \"EUR\",\n    Name: \"Euro\",\n  },\n  {\n    Value: \"USD\",\n    Name: \"Dolar Americano\",\n  },\n];\nexport const formaPago = [\n  {\n    Name: \"Efectivo\",\n    Value: \"01\",\n  },\n  {\n    Name: \"Cheque nominativo\",\n    Value: \"02\",\n  },\n  {\n    Name: \"Transferencia electrónica de fondos\",\n    Value: \"03\",\n  },\n  {\n    Name: \"Tarjeta de crédito\",\n    Value: \"04\",\n  },\n  {\n    Name: \"Monedero electrónico\",\n    Value: \"05\",\n  },\n  {\n    Name: \"Dinero electrónico\",\n    Value: \"06\",\n  },\n  {\n    Name: \"Vales de despensa\",\n    Value: \"08\",\n  },\n  /* {\n        Name: \"Dación en pago\",\n        Value: \"12\"\n    },\n    {\n        Name: \"Pago por subrogación\",\n        Value: \"13\"\n    },\n    {\n        Name: \"Pago por consignación\",\n        Value: \"14\"\n    },\n    {\n        Name: \"Condonación\",\n        Value: \"15\"\n    },\n    {\n        Name: \"Compensación\",\n        Value: \"17\"\n    },\n    {\n        Name: \"Novación\",\n        Value: \"23\"\n    },\n    {\n        Name: \"Confusión\",\n        Value: \"24\"\n    },\n    {\n        Name: \"Remisión de deuda\",\n        Value: \"25\"\n    },\n    {\n        Name: \"Prescripción o caducidad\",\n        Value: \"26\"\n    },\n    {\n        Name: \"A satisfacción del acreedor\",\n        Value: \"27\"\n    }, */\n  {\n    Name: \"Tarjeta de débito\",\n    Value: \"28\",\n  },\n  /* {\n        Name: \"Tarjeta de servicios\",\n        Value: \"29\"\n    }, */\n  {\n    Name: \"Aplicación de anticipos\",\n    Value: \"30\",\n  },\n  /* {\n        Name: \"Intermediarios\",\n        Value: \"31\"\n    }, */\n  {\n    Name: \"Por definir\",\n    Value: \"99\",\n  },\n];\nexport const metodoPago = [\n  {\n    Value: \"PPD\",\n    Name: \"Pago en parcialidades ó diferido\",\n  },\n  {\n    Value: \"PUE\",\n    Name: \"Pago en una sola exhibición\",\n  },\n];\nexport const regimenFiscal = [\n  {\n    Natural: false,\n    Moral: true,\n    Name: \"General de Ley Personas Morales\",\n    Value: \"601\",\n  },\n  {\n    Natural: false,\n    Moral: true,\n    Name: \"Personas Morales con Fines no Lucrativos\",\n    Value: \"603\",\n  },\n  {\n    Natural: true,\n    Moral: false,\n    Name: \"Sueldos y Salarios e Ingresos Asimilados a Salarios\",\n    Value: \"605\",\n  },\n  {\n    Natural: true,\n    Moral: false,\n    Name: \"Arrendamiento\",\n    Value: \"606\",\n  },\n  {\n    Natural: false,\n    Moral: true,\n    Name: \"Régimen de Enajenación o Adquisición de Bienes\",\n    Value: \"607\",\n  },\n  {\n    Natural: true,\n    Moral: false,\n    Name: \"Demás ingresos\",\n    Value: \"608\",\n  },\n  {\n    Natural: true,\n    Moral: true,\n    Name:\n      \"Residentes en el Extranjero sin Establecimiento Permanente en México\",\n    Value: \"610\",\n  },\n  {\n    Natural: true,\n    Moral: false,\n    Name: \"Ingresos por Dividendos (socios y accionistas)\",\n    Value: \"611\",\n  },\n  {\n    Natural: true,\n    Moral: false,\n    Name: \"Personas Físicas con Actividades Empresariales y Profesionales\",\n    Value: \"612\",\n  },\n  {\n    Natural: true,\n    Moral: false,\n    Name: \"Ingresos por intereses\",\n    Value: \"614\",\n  },\n  {\n    Natural: true,\n    Moral: false,\n    Name: \"Régimen de los ingresos por obtención de premios\",\n    Value: \"615\",\n  },\n  {\n    Natural: true,\n    Moral: false,\n    Name: \"Sin obligaciones fiscales\",\n    Value: \"616\",\n  },\n  {\n    Natural: false,\n    Moral: true,\n    Name:\n      \"Sociedades Cooperativas de Producción que optan por diferir sus ingresos\",\n    Value: \"620\",\n  },\n  {\n    Natural: true,\n    Moral: false,\n    Name: \"Incorporación Fiscal\",\n    Value: \"621\",\n  },\n  {\n    Natural: true,\n    Moral: true,\n    Name: \"Actividades Agrícolas, Ganaderas, Silvícolas y Pesqueras\",\n    Value: \"622\",\n  },\n  {\n    Natural: false,\n    Moral: true,\n    Name: \"Opcional para Grupos de Sociedades\",\n    Value: \"623\",\n  },\n  {\n    Natural: false,\n    Moral: true,\n    Name: \"Coordinados\",\n    Value: \"624\",\n  },\n  {\n    Natural: true,\n    Moral: false,\n    Name:\n      \"Régimen de las Actividades Empresariales con ingresos a través de Plataformas Tecnológicas\",\n    Value: \"625\",\n  },\n  {\n    Natural: false,\n    Moral: true,\n    Name: \"Hidrocarburos\",\n    Value: \"628\",\n  },\n  {\n    Natural: true,\n    Moral: false,\n    Name:\n      \"De los Regímenes Fiscales Preferentes y de las Empresas Multinacionales\",\n    Value: \"629\",\n  },\n  {\n    Natural: true,\n    Moral: false,\n    Name: \"Enajenación de acciones en bolsa de valores\",\n    Value: \"630\",\n  },\n];\n\n","import { gql } from \"@apollo/client\";\n\nexport const CREAR_FACTURA = gql`\n  mutation crearFactura($input: CrearFacturaInput) {\n    crearFactura(input: $input) {\n      message\n      success\n      pdf\n      xml\n    }\n  }\n`;\n\nexport const CREAR_SERIE = gql`\n  mutation crearSerieCFDI($input: CrearSerieCfdiInput!) {\n    crearSerieCFDI(input: $input) {\n      message\n      success\n    }\n  }\n`;\n\nexport const ACTUALIZAR_DEFAULT_SERIE = gql`\n  mutation modificarDefaultSerie($id: ID!, $empresa: ID!, $sucursal: ID!) {\n    modificarDefaultSerie(id: $id, empresa: $empresa, sucursal: $sucursal) {\n      message\n    }\n  }\n`;\n\nexport const ELIMINAR_SERIE = gql`\n  mutation eliminarSerie($id: ID!) {\n    eliminarSerie(id: $id) {\n      message\n    }\n  }\n`;\n\nexport const OBTENER_SERIES = gql`\n  query obtenerSeriesCdfi($empresa: ID!, $sucursal: ID!) {\n    obtenerSeriesCdfi(empresa: $empresa, sucursal: $sucursal) {\n      message\n      success\n      seriesCfdi {\n        _id\n        serie\n        folio\n        default\n      }\n    }\n  }\n`;\n\nexport const CREAR_SELLO_CFDI = gql`\n  mutation crearCSDS($input: CrearCSDSInput!) {\n    crearCSDS(input: $input) {\n      message\n      success\n    }\n  }\n`;\n\nexport const ELIMINAR_SELLO_CFDI = gql`\n  mutation eliminarCSD($rfc: String, $empresa: ID!) {\n    eliminarCSD(rfc: $rfc, empresa: $empresa) {\n      message\n    }\n  }\n`;\n\nexport const CONSULTA_CATALOGOS_SAT_API = gql`\n  query obtenerCatalogosSAT($input: CrearFacturaInput!) {\n    obtenerCatalogosSAT(input: $input) {\n      message\n      currencies {\n        Decimals\n        PrecisionRate\n        Name\n        Value\n      }\n      paymentForms {\n        Name\n        Value\n      }\n      paymentMethods {\n        Name\n        Value\n      }\n      fiscalRegimens {\n        Natural\n        Moral\n        Name\n        Value\n      }\n      cfdiTypes {\n        NameId\n        Name\n        Value\n      }\n    }\n  }\n`;\n\nexport const CONSULTA_PRODUCTOS_SERVICIOS_SAT_API = gql`\n  query obtenerProductosOServicios($input: CrearFacturaInput!) {\n    obtenerProductosOServicios(input: $input) {\n      message\n      productosOServicios {\n        DangerousMaterial\n        Complement\n        Name\n        Value\n      }\n    }\n  }\n`;\n\nexport const CONSULTA_POSTAL_CODES_SAT_API = gql`\n  query obtenerCodigoPostal($input: CrearFacturaInput!) {\n    obtenerCodigoPostal(input: $input) {\n      message\n      codigoPostal {\n        StateCode\n        MunicipalityCode\n        LocationCode\n        Name\n        Value\n      }\n    }\n  }\n`;\n\nexport const CONSULTA_CFDIU_USES_SAT_API = gql`\n  query obtenerCfdiUses($input: CrearFacturaInput!) {\n    obtenerCfdiUses(input: $input) {\n      message\n      cfdiUses {\n        message\n        Natural\n        Moral\n        Name\n        Value\n      }\n    }\n  }\n`;\n","import React, { useState } from \"react\";\nimport {\n  Box,\n  Button,\n  CircularProgress,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  IconButton,\n  InputAdornment,\n  TextField,\n  Typography,\n} from \"@material-ui/core\";\nimport {\n  Add,\n  Close,\n  CloudUpload,\n  Done,\n  Visibility,\n  VisibilityOff,\n} from \"@material-ui/icons\";\nimport SnackBarMessages from \"../../../../components/SnackBarMessages\";\nimport { CREAR_SELLO_CFDI } from \"../../../../gql/Facturacion/Facturacion\";\nimport { useMutation } from \"@apollo/client\";\n\nexport default function RegistroSellos({\n  datosEmpresa,\n  firma_disabled,\n  refetch,\n}) {\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n  const [open, setOpen] = useState(false);\n  const [datos, setDatos] = useState({\n    certificate: \"\",\n    private_key: \"\",\n    private_key_password: \"\",\n    rfc: sesion && datosEmpresa.rfc ? datosEmpresa.rfc : \"\",\n    empresa: sesion && sesion.empresa._id ? sesion.empresa._id : \"\",\n    sucursal: sesion && sesion.sucursal._id ? sesion.sucursal._id : \"\",\n  });\n  const [show, setShow] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [alert, setAlert] = useState({ message: \"\", status: \"\", open: false });\n\n  const handleClickOpen = () => setOpen(true);\n  const handleClose = () => {\n    setOpen(false);\n    setDatos({\n      certificate: \"\",\n      private_key: \"\",\n      private_key_password: \"\",\n      rfc: sesion && datosEmpresa.rfc ? datosEmpresa.rfc : \"\",\n      empresa: sesion && sesion.empresa._id ? sesion.empresa._id : \"\",\n      sucursal: sesion && sesion.sucursal._id ? sesion.sucursal._id : \"\",\n    });\n  };\n\n  const [crearCSDS] = useMutation(CREAR_SELLO_CFDI);\n\n  const handleClickShowPassword = () => setShow(!show);\n  const handleMouseDownPassword = (event) => event.preventDefault();\n\n  const obtenerFiles = (e) => {\n    const { name, files } = e.target;\n    setDatos({\n      ...datos,\n      [name]: files[0],\n    });\n  };\n\n  const obtenerDatos = (e) => {\n    setDatos({\n      ...datos,\n      private_key_password: e.target.value,\n    });\n  };\n\n  const getBase64 = (file) => {\n    return new Promise((resolve) => {\n      let baseURL = \"\";\n      let reader = new FileReader();\n      reader.readAsDataURL(file);\n      reader.onload = () => {\n        baseURL = reader.result;\n        resolve(baseURL);\n      };\n    });\n  };\n\n  const guardarBD = async () => {\n    if (\n      !datos.certificate ||\n      !datos.private_key ||\n      !datos.private_key_password ||\n      !datos.rfc\n    )\n      return;\n\n    try {\n      let data = { ...datos };\n      let cer = data.certificate;\n      let key = data.private_key;\n      await getBase64(cer)\n        .then((result) => {\n          const base = result.split(\",\");\n          data.certificate = base[1];\n          data.nombre_cer = cer.name;\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n      await getBase64(key)\n        .then((result) => {\n          const base = result.split(\",\");\n          data.private_key = base[1];\n          data.nombre_key = key.name;\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n\n      setLoading(true);\n      const result = await crearCSDS({\n        variables: {\n          input: {\n            certificate: data.certificate,\n            private_key: data.private_key,\n            private_key_password: data.private_key_password,\n            rfc: data.rfc,\n            empresa: data.empresa,\n            sucursal: data.sucursal,\n            nombre_cer: data.nombre_cer,\n            nombre_key: data.nombre_key,\n          },\n        },\n      });\n      setAlert({\n        message: `¡Listo! ${result.data.crearCSDS.message}`,\n        status: \"success\",\n        open: true,\n      });\n      setLoading(false);\n      handleClose();\n      refetch();\n    } catch (error) {\n      setLoading(false);\n      setAlert({\n        message: `Error: ${error.message}`,\n        status: \"error\",\n        open: true,\n      });\n      console.log(error);\n      if (error.networkError) {\n        console.log(error.networkError.result);\n      } else if (error.graphQLErrors) {\n        console.log(error.graphQLErrors);\n      }\n    }\n  };\n\n  return (\n    <div>\n      <SnackBarMessages alert={alert} setAlert={setAlert} />\n      <Box display=\"flex\" justifyContent=\"flex-end\">\n        <Button\n          onClick={() => handleClickOpen()}\n          color=\"inherit\"\n          startIcon={<Add />}\n          disabled={firma_disabled}\n        >\n          Agregar CSD\n        </Button>\n      </Box>\n      <Dialog maxWidth=\"xs\" fullWidth open={open} onClose={() => handleClose()}>\n        <DialogTitle>Registrar firma digital</DialogTitle>\n        <DialogContent>\n          <Box mb={2}>\n            {datosEmpresa.rfc ? (\n              <Typography>{`RFC: ${datosEmpresa.rfc}`}</Typography>\n            ) : (\n              <Typography color=\"error\">\n                *No tienes registrado un RFC\n              </Typography>\n            )}\n          </Box>\n          <Box width=\"100%\">\n            <Typography>\n              Archivo *.cer <b>Certificado de la firma Digital</b>\n            </Typography>\n            <Box display=\"flex\" alignItems=\"center\">\n              <TextField\n                fullWidth\n                value={datos.certificate ? datos.certificate.name : \"\"}\n                size=\"small\"\n                variant=\"outlined\"\n                InputProps={{\n                  endAdornment: (\n                    <InputAdornment position=\"end\">\n                      <label htmlFor=\"archivo-cer-sello-digital\">\n                        <Button\n                          startIcon={<CloudUpload />}\n                          color=\"primary\"\n                          component=\"span\"\n                          disableElevation\n                        >\n                          Upload\n                        </Button>\n                      </label>\n                    </InputAdornment>\n                  ),\n                  readOnly: true,\n                }}\n              />\n              <input\n                accept=\".cer\"\n                style={{ display: \"none\" }}\n                id=\"archivo-cer-sello-digital\"\n                multiple\n                type=\"file\"\n                name=\"certificate\"\n                onChange={obtenerFiles}\n              />\n            </Box>\n          </Box>\n          <Box width=\"100%\" mt={2}>\n            <Typography>\n              Archivo *.key <b>Llave Privada de la Firma Digital</b>\n            </Typography>\n            <Box display=\"flex\" alignItems=\"center\">\n              <TextField\n                fullWidth\n                value={datos.private_key ? datos.private_key.name : \"\"}\n                size=\"small\"\n                variant=\"outlined\"\n                InputProps={{\n                  endAdornment: (\n                    <InputAdornment position=\"end\">\n                      <label htmlFor=\"archivo-key-llave_privada\">\n                        <Button\n                          startIcon={<CloudUpload />}\n                          color=\"primary\"\n                          component=\"span\"\n                          disableElevation\n                        >\n                          Upload\n                        </Button>\n                      </label>\n                    </InputAdornment>\n                  ),\n                  readOnly: true,\n                }}\n              />\n              <input\n                accept=\".key\"\n                style={{ display: \"none\" }}\n                id=\"archivo-key-llave_privada\"\n                multiple\n                type=\"file\"\n                name=\"private_key\"\n                onChange={obtenerFiles}\n              />\n            </Box>\n          </Box>\n          <Box width=\"100%\" my={2}>\n            <Typography>\n              Contraseña de la llave <b>Privada de la Firma Digital</b>\n            </Typography>\n            <Box display=\"flex\" alignItems=\"center\">\n              <TextField\n                fullWidth\n                type={show ? \"text\" : \"password\"}\n                size=\"small\"\n                variant=\"outlined\"\n                name=\"private_key_password\"\n                onChange={obtenerDatos}\n                InputProps={{\n                  endAdornment: (\n                    <InputAdornment position=\"end\">\n                      <IconButton\n                        onClick={handleClickShowPassword}\n                        onMouseDown={handleMouseDownPassword}\n                        edge=\"end\"\n                      >\n                        {show ? <Visibility /> : <VisibilityOff />}\n                      </IconButton>\n                    </InputAdornment>\n                  ),\n                }}\n              />\n            </Box>\n          </Box>\n        </DialogContent>\n        <DialogActions style={{ justifyContent: \"center\" }}>\n          <Button\n            startIcon={<Close />}\n            size=\"large\"\n            onClick={() => handleClose()}\n          >\n            Cancelar\n          </Button>\n          <Button\n            startIcon={loading ? <CircularProgress size={20} /> : <Done />}\n            color=\"primary\"\n            size=\"large\"\n            onClick={() => guardarBD()}\n            disabled={loading || !datos.rfc}\n          >\n            Guardar\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n}\n","import React, { useState } from \"react\";\nimport {\n  Box,\n  Button,\n  CircularProgress,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogContentText,\n  DialogTitle,\n} from \"@material-ui/core\";\nimport { Close, DeleteOutline } from \"@material-ui/icons\";\nimport SnackBarMessages from \"../../../../components/SnackBarMessages\";\nimport { ELIMINAR_SELLO_CFDI } from \"../../../../gql/Facturacion/Facturacion\";\nimport { useMutation } from \"@apollo/client\";\n\nexport default function EliminarSellos({ datosEmpresa, refetch }) {\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n  const [open, setOpen] = useState(false);\n  const [datos, setDatos] = useState({\n    rfc: datosEmpresa && datosEmpresa.rfc ? datosEmpresa.rfc : \"\",\n    empresa: sesion && sesion.empresa._id ? sesion.empresa._id : \"\",\n  });\n  const [loading, setLoading] = useState(false);\n  const [alert, setAlert] = useState({ message: \"\", status: \"\", open: false });\n\n  const handleClickOpen = () => setOpen(true);\n  const handleClose = () => {\n    setOpen(false);\n    setDatos({\n      rfc: sesion && datosEmpresa.rfc ? datosEmpresa.rfc : \"\",\n      empresa: sesion && sesion.empresa._id ? sesion.empresa._id : \"\",\n    });\n  };\n\n  const [eliminarCSD] = useMutation(ELIMINAR_SELLO_CFDI);\n\n  const eliminarSelloCSD = async () => {\n    if (!datos.rfc) return;\n\n    try {\n      setLoading(true);\n      const result = await eliminarCSD({\n        variables: {\n          rfc: datos.rfc,\n          empresa: datos.empresa,\n        },\n      });\n\n      setAlert({\n        message: `¡Listo! ${result.data.eliminarCSD.message}`,\n        status: \"success\",\n        open: true,\n      });\n      setLoading(false);\n      handleClose();\n      refetch();\n    } catch (error) {\n      setLoading(false);\n      setAlert({\n        message: `Error: ${error.message}`,\n        status: \"error\",\n        open: true,\n      });\n      console.log(error);\n      if (error.networkError) {\n        console.log(error.networkError.result);\n      } else if (error.graphQLErrors) {\n        console.log(error.graphQLErrors);\n      }\n    }\n  };\n\n  return (\n    <div>\n      <SnackBarMessages alert={alert} setAlert={setAlert} />\n      <Box display=\"flex\" justifyContent=\"flex-end\">\n        <Button\n          onClick={() => handleClickOpen()}\n          color=\"inherit\"\n          startIcon={<DeleteOutline />}\n        >\n          Remover CSD\n        </Button>\n      </Box>\n      <Dialog maxWidth=\"xs\" fullWidth open={open} onClose={() => handleClose()}>\n        <DialogTitle>Eliminar Firma Digital</DialogTitle>\n        <DialogContent>\n          <DialogContentText>\n            {`Se eliminara el CSD registrado con el RFC ${datosEmpresa.rfc}`}\n          </DialogContentText>\n        </DialogContent>\n        <DialogActions style={{ justifyContent: \"center\" }}>\n          <Button\n            startIcon={<Close />}\n            size=\"large\"\n            onClick={() => handleClose()}\n          >\n            Cancelar\n          </Button>\n          <Button\n            startIcon={\n              loading ? <CircularProgress size={20} /> : <DeleteOutline />\n            }\n            color=\"secondary\"\n            size=\"large\"\n            onClick={() => eliminarSelloCSD()}\n            disabled={loading || !datos.rfc}\n          >\n            Eliminar\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n}\n","import React, { useContext, useState, useEffect } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nimport {\n  Box,\n  Grid,\n  TextField,\n  Button,\n  Dialog,\n  Container,\n  FormControl,\n  Select,\n  MenuItem,\n  DialogContent,\n} from \"@material-ui/core\";\nimport {\n  Slide,\n  Typography,\n  Toolbar,\n  AppBar,\n  Divider,\n  DialogActions,\n} from \"@material-ui/core\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport SnackBarMessages from \"../../../../components/SnackBarMessages\";\nimport BackdropComponent from \"../../../../components/Layouts/BackDrop\";\nimport ErrorPage from \"../../../../components/ErrorPage\";\nimport { FcDocument } from \"react-icons/fc\";\nimport { useMutation, useQuery } from \"@apollo/client\";\n\nimport { EmpresaContext } from \"../../../../context/Catalogos/empresaContext\";\nimport {\n  ACTUALIZAR_EMPRESA,\n  OBTENER_DATOS_EMPRESA,\n} from \"../../../../gql/Empresa/empresa\";\nimport { cleanTypenames } from \"../../../../config/reuserFunctions\";\nimport { regimenFiscal } from \"../../Facturacion/catalogos\";\nimport { Alert, AlertTitle } from \"@material-ui/lab\";\nimport RegistroSellos from \"../../Facturacion/CFDISellos/RegistrarSellos\";\nimport EliminarSellos from \"../../Facturacion/CFDISellos/EliminarCSD\";\n\nconst useStyles = makeStyles((theme) => ({\n  appBar: {\n    position: \"relative\",\n  },\n  title: {\n    marginLeft: theme.spacing(2),\n    flex: 1,\n  },\n  icon: {\n    fontSize: 100,\n  },\n  subtitle: {\n    marginLeft: \"10px\",\n    width: \"100%\",\n  },\n  require: {\n    \"& span\": {\n      color: \"red\",\n    },\n  },\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function InformacionFiscal() {\n  const classes = useStyles();\n  const [loadingPage, setLoadingPage] = React.useState(false);\n  const [open, setOpen] = React.useState(false);\n  const [errorPage, setErrorPage] = React.useState(false);\n  const [errorForm, setErrorForm] = React.useState(\n    useState({ error: false, message: \"\" })\n  );\n  const [alert, setAlert] = useState({ message: \"\", status: \"\", open: false });\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n  const [bloqueo] = useState(\n    sesion.accesos.mi_empresa.informacion_fiscal.editar === false ? true : false\n  );\n  const { empresa, setEmpresa } = useContext(EmpresaContext);\n  const [actualizarEmpresa] = useMutation(ACTUALIZAR_EMPRESA);\n  const [firma_disabled, setFirmaDisabled] = useState(false);\n  const [empresaFiscal, setEmpresaFiscal] = useState({\n    nombre_fiscal: \"\",\n    rfc: \"\",\n    curp: \"\",\n    info_adicio: \"\",\n    regimen_fiscal: \"\",\n    direccionFiscal: {\n      calle: \"\",\n      no_ext: \"\",\n      no_int: \"\",\n      codigo_postal: \"\",\n      colonia: \"\",\n      municipio: \"\",\n      localidad: \"\",\n      estado: \"\",\n      pais: \"\",\n    },\n    datosBancarios: {\n      cuenta: \"\",\n      sucursal: \"\",\n      clave_banco: \"\",\n    },\n  });\n  /* Queries */\n  const { loading, data, refetch, error } = useQuery(OBTENER_DATOS_EMPRESA, {\n    variables: { id: sesion.empresa._id },\n  });\n\n  useEffect(() => {\n    try {\n      setErrorPage(error);\n    } catch (errorCatch) {\n      // console.log(\"SESSIONREFECT\",errorCatch)\n    }\n  }, [error]);\n\n  useEffect(() => {\n    try {\n      if (data !== undefined) {\n        setEmpresa(data.obtenerEmpresa);\n        let new_sesion = sesion;\n        new_sesion.empresa = data.obtenerEmpresa;\n        localStorage.setItem(\"sesionCafi\", JSON.stringify(new_sesion));\n        if (!data.obtenerEmpresa.rfc) {\n          setFirmaDisabled(true);\n        } else {\n          setFirmaDisabled(false);\n        }\n      }\n    } catch (errorCatch) {\n      // console.log(\"SESSIONREFECT\",errorCatch)\n    }\n  }, [data, setEmpresa]);\n\n  useEffect(() => {\n    try {\n      setErrorPage(error);\n    } catch (errorCatch) {\n      // console.log(\"SESSIONREFECT\",errorCatch)\n    }\n  }, [error]);\n\n  useEffect(() => {\n    try {\n      setLoadingPage(loading);\n    } catch (errorCatch) {\n      // console.log(\"SESSIONREFECTUPDATE\",errorCatch)\n    }\n  }, [loading]);\n\n  useEffect(() => {\n    try {\n      setEmpresaFiscal({\n        nombre_fiscal: empresa.nombre_fiscal,\n        rfc: empresa.rfc,\n        curp: empresa.curp,\n\n        info_adicio: empresa.info_adicio,\n        regimen_fiscal: empresa.regimen_fiscal,\n        sello_sat: empresa.sello_sat,\n        nombre_cer: empresa.nombre_cer,\n        nombre_key: empresa.nombre_key,\n        limite_timbres: empresa.limite_timbres,\n        timbres_usados: empresa.timbres_usados,\n        direccionFiscal: {\n          calle: empresa.direccionFiscal.calle,\n          no_ext: empresa.direccionFiscal.no_ext,\n          no_int: empresa.direccionFiscal.no_int,\n          codigo_postal: empresa.direccionFiscal.codigo_postal,\n          colonia: empresa.direccionFiscal.colonia,\n          municipio: empresa.direccionFiscal.municipio,\n          localidad: empresa.direccionFiscal.localidad,\n          estado: empresa.direccionFiscal.estado,\n          pais: empresa.direccionFiscal.pais,\n        },\n        datosBancarios: {\n          cuenta: empresa.datosBancarios.cuenta,\n          sucursal: empresa.datosBancarios.sucursal,\n          clave_banco: empresa.datosBancarios.clave_banco,\n        },\n      });\n    } catch (errorCatch) {}\n  }, [empresa]);\n\n  const actEmp = async () => {\n    try {\n      setLoadingPage(true);\n      /* const input = cleanTypenames(empresaFiscal); */\n      await actualizarEmpresa({\n        variables: {\n          id: sesion.empresa._id,\n          input: empresaFiscal,\n        },\n      });\n      setLoadingPage(false);\n      setAlert({\n        message: \"Se han actualizado correctamente los datos.\",\n        status: \"success\",\n        open: true,\n      });\n      setErrorForm(false);\n      refetch();\n    } catch (error) {\n      setLoadingPage(false);\n      setAlert({ message: \"Hubo un error\", status: \"error\", open: true });\n      console.log(error);\n      if (error.response) {\n        console.log(error.response);\n      } else if (error.networkError) {\n        console.log(error.networkError.result);\n      } else if (error.graphQLErrors) {\n        console.log(error.graphQLErrors);\n      }\n    }\n  };\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n  const obtenerCampos = (e) => {\n    setEmpresaFiscal({\n      ...empresaFiscal,\n      [e.target.name]: e.target.value,\n    });\n  };\n  const obtenerCamposDireccion = (e) => {\n    setEmpresaFiscal({\n      ...empresaFiscal,\n      direccionFiscal: {\n        ...empresaFiscal.direccionFiscal,\n        [e.target.name]: e.target.value,\n      },\n    });\n  };\n  const obtenerCamposBancarios = (e) => {\n    setEmpresaFiscal({\n      ...empresaFiscal,\n      datosBancarios: {\n        ...empresaFiscal.datosBancarios,\n        [e.target.name]: e.target.value,\n      },\n    });\n  };\n\n  return (\n    <div>\n      <Button fullWidth onClick={handleClickOpen}>\n        <Box display=\"flex\" flexDirection=\"column\">\n          <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n            <FcDocument className={classes.icon} />\n          </Box>\n          Información fiscal\n        </Box>\n      </Button>\n      <Dialog\n        fullScreen\n        open={open}\n        onClose={handleClose}\n        TransitionComponent={Transition}\n      >\n        <SnackBarMessages alert={alert} setAlert={setAlert} />\n        <BackdropComponent loading={loadingPage} setLoading={setLoadingPage} />\n        <AppBar className={classes.appBar}>\n          <Toolbar>\n            <Typography variant=\"h6\" className={classes.title}>\n              Información fiscal\n            </Typography>\n            <Box m={1}>\n              <Button\n                variant=\"contained\"\n                color=\"secondary\"\n                onClick={handleClose}\n                size=\"large\"\n              >\n                <CloseIcon style={{ fontSize: 30 }} />\n              </Button>\n            </Box>\n          </Toolbar>\n        </AppBar>\n        <DialogContent>\n          {errorPage ? (\n            <ErrorPage error={errorPage} />\n          ) : (\n            <Container>\n              <Grid container spacing={3} style={{ marginTop: 8 }}>\n                <Grid item md={6} xs={12} className={classes.require}>\n                  <Box my={1}>\n                    <Typography>\n                      <span>* </span>Nombre fiscal\n                    </Typography>\n                    <TextField\n                      fullWidth\n                      disabled={bloqueo}\n                      type=\"text\"\n                      size=\"small\"\n                      error={errorForm.error && !empresaFiscal.nombre_fiscal}\n                      name=\"nombre_fiscal\"\n                      variant=\"outlined\"\n                      value={\n                        empresaFiscal.nombre_fiscal\n                          ? empresaFiscal.nombre_fiscal\n                          : \"\"\n                      }\n                      helperText={\n                        errorForm.error &&\n                        errorForm.message !== \"El campo nombre es obligatorio\"\n                          ? errorForm.message\n                          : \"\"\n                      }\n                      onChange={obtenerCampos}\n                    />\n                  </Box>\n                  <Box my={1}>\n                    <Typography>RFC</Typography>\n                    <TextField\n                      fullWidth\n                      disabled={bloqueo}\n                      size=\"small\"\n                      name=\"rfc\"\n                      variant=\"outlined\"\n                      value={empresaFiscal.rfc ? empresaFiscal.rfc : \"\"}\n                      onChange={obtenerCampos}\n                    />\n                  </Box>\n                  <Box my={1}>\n                    <Typography>Régimen fiscal</Typography>\n                    <FormControl\n                      variant=\"outlined\"\n                      fullWidth\n                      size=\"small\"\n                      name=\"regimen_fiscal\"\n                    >\n                      <Select\n                        value={\n                          empresaFiscal.regimen_fiscal\n                            ? empresaFiscal.regimen_fiscal\n                            : \"\"\n                        }\n                        name=\"regimen_fiscal\"\n                        onChange={obtenerCampos}\n                      >\n                        <MenuItem value=\"\">\n                          <em>Selecciona uno</em>\n                        </MenuItem>\n                        {regimenFiscal.map((res, index) => (\n                          <MenuItem\n                            key={index}\n                            value={res.Value}\n                          >{`${res.Value} - ${res.Name}`}</MenuItem>\n                        ))}\n                      </Select>\n                    </FormControl>\n                  </Box>\n                  <Box my={1}>\n                    <Typography>CURP</Typography>\n                    <TextField\n                      disabled={bloqueo}\n                      fullWidth\n                      size=\"small\"\n                      name=\"curp\"\n                      variant=\"outlined\"\n                      value={empresaFiscal.curp ? empresaFiscal.curp : \"\"}\n                      onChange={obtenerCampos}\n                    />\n                  </Box>\n                  <Box my={1}>\n                    <Typography>Info. Adicional</Typography>\n                    <TextField\n                      disabled={bloqueo}\n                      fullWidth\n                      size=\"small\"\n                      name=\"info_adicio\"\n                      variant=\"outlined\"\n                      value={\n                        empresaFiscal.info_adicio\n                          ? empresaFiscal.info_adicio\n                          : \"\"\n                      }\n                      onChange={obtenerCampos}\n                      multiline\n                    />\n                  </Box>\n                </Grid>\n                <Grid item md={6} xs={12}>\n                  <Typography className={classes.subtitle}>\n                    <b>Firma digital</b>\n                  </Typography>\n                  <Divider />\n                  <Box m={1}>\n                    {empresaFiscal.sello_sat === true ? (\n                      <Alert\n                        severity=\"success\"\n                        action={\n                          <EliminarSellos\n                            firma_disabled={firma_disabled}\n                            datosEmpresa={empresaFiscal}\n                            refetch={refetch}\n                          />\n                        }\n                      >\n                        <AlertTitle>Firma Digital Activa</AlertTitle>\n                      </Alert>\n                    ) : (\n                      <Alert\n                        severity=\"info\"\n                        action={\n                          <RegistroSellos\n                            firma_disabled={firma_disabled}\n                            datosEmpresa={empresaFiscal}\n                            refetch={refetch}\n                          />\n                        }\n                      >\n                        <AlertTitle>Sin Firma Digital</AlertTitle>\n                        Sin esta firma no prodrás realizar facturas\n                        {firma_disabled ? (\n                          <li>Necesitas tener un RFC registrado</li>\n                        ) : null}\n                      </Alert>\n                    )}\n                  </Box>\n                  <Box my={1}>\n                    <Typography>Archivo *.cer</Typography>\n                    <TextField\n                      disabled\n                      fullWidth\n                      size=\"small\"\n                      variant=\"outlined\"\n                    />\n                  </Box>\n                  <Box my={1}>\n                    <Typography>Archivo *.key</Typography>\n                    <TextField\n                      disabled\n                      fullWidth\n                      size=\"small\"\n                      variant=\"outlined\"\n                    />\n                  </Box>\n                  <Box my={1}>\n                    <Typography>Fecha de registro</Typography>\n                    <TextField\n                      disabled\n                      fullWidth\n                      size=\"small\"\n                      variant=\"outlined\"\n                    />\n                  </Box>\n                </Grid>\n              </Grid>\n              <Box mt={2}>\n                <Typography className={classes.subtitle}>\n                  <b>Domicilio</b>\n                </Typography>\n                <Divider />\n              </Box>\n              <Grid container spacing={3}>\n                <Grid item xs={12} sm={4}>\n                  <Box>\n                    <Typography>Calle</Typography>\n                    <TextField\n                      fullWidth\n                      size=\"small\"\n                      name=\"calle\"\n                      variant=\"outlined\"\n                      disabled={bloqueo}\n                      value={\n                        empresaFiscal.direccionFiscal.calle\n                          ? empresaFiscal.direccionFiscal.calle\n                          : \"\"\n                      }\n                      onChange={obtenerCamposDireccion}\n                    />\n                  </Box>\n                  <Box>\n                    <Typography>Num. Ext</Typography>\n                    <TextField\n                      fullWidth\n                      size=\"small\"\n                      name=\"no_ext\"\n                      variant=\"outlined\"\n                      disabled={bloqueo}\n                      value={\n                        empresaFiscal.direccionFiscal.no_ext\n                          ? empresaFiscal.direccionFiscal.no_ext\n                          : \"\"\n                      }\n                      onChange={obtenerCamposDireccion}\n                    />\n                  </Box>\n                  <Box>\n                    <Typography>Num. Int</Typography>\n                    <TextField\n                      fullWidth\n                      size=\"small\"\n                      name=\"no_int\"\n                      variant=\"outlined\"\n                      disabled={bloqueo}\n                      value={\n                        empresaFiscal.direccionFiscal.no_int\n                          ? empresaFiscal.direccionFiscal.no_int\n                          : \"\"\n                      }\n                      onChange={obtenerCamposDireccion}\n                    />\n                  </Box>\n                </Grid>\n                <Grid item xs={12} sm={4}>\n                  <Box>\n                    <Typography>C.P.</Typography>\n                    <TextField\n                      fullWidth\n                      size=\"small\"\n                      name=\"codigo_postal\"\n                      variant=\"outlined\"\n                      disabled={bloqueo}\n                      value={\n                        empresaFiscal.direccionFiscal.codigo_postal\n                          ? empresaFiscal.direccionFiscal.codigo_postal\n                          : \"\"\n                      }\n                      onChange={obtenerCamposDireccion}\n                    />\n                  </Box>\n                  <Box>\n                    <Typography>Colonia</Typography>\n                    <TextField\n                      fullWidth\n                      size=\"small\"\n                      name=\"colonia\"\n                      variant=\"outlined\"\n                      disabled={bloqueo}\n                      value={\n                        empresaFiscal.direccionFiscal.colonia\n                          ? empresaFiscal.direccionFiscal.colonia\n                          : \"\"\n                      }\n                      onChange={obtenerCamposDireccion}\n                    />\n                  </Box>\n                  <Box>\n                    <Typography>Municipio</Typography>\n                    <TextField\n                      fullWidth\n                      size=\"small\"\n                      name=\"municipio\"\n                      variant=\"outlined\"\n                      disabled={bloqueo}\n                      value={\n                        empresaFiscal.direccionFiscal.municipio\n                          ? empresaFiscal.direccionFiscal.municipio\n                          : \"\"\n                      }\n                      onChange={obtenerCamposDireccion}\n                    />\n                  </Box>\n                </Grid>\n                <Grid item xs={12} sm={4}>\n                  <Box>\n                    <Typography>Localidad</Typography>\n                    <TextField\n                      fullWidth\n                      size=\"small\"\n                      name=\"localidad\"\n                      variant=\"outlined\"\n                      disabled={bloqueo}\n                      value={\n                        empresaFiscal.direccionFiscal.localidad\n                          ? empresaFiscal.direccionFiscal.localidad\n                          : \"\"\n                      }\n                      onChange={obtenerCamposDireccion}\n                    />\n                  </Box>\n                  <Box>\n                    <Typography>Estado</Typography>\n                    <TextField\n                      fullWidth\n                      size=\"small\"\n                      name=\"estado\"\n                      variant=\"outlined\"\n                      disabled={bloqueo}\n                      value={\n                        empresaFiscal.direccionFiscal.estado\n                          ? empresaFiscal.direccionFiscal.estado\n                          : \"\"\n                      }\n                      onChange={obtenerCamposDireccion}\n                    />\n                  </Box>\n                  <Box>\n                    <Typography>Pais</Typography>\n                    <TextField\n                      fullWidth\n                      size=\"small\"\n                      name=\"pais\"\n                      variant=\"outlined\"\n                      disabled={bloqueo}\n                      value={\n                        empresaFiscal.direccionFiscal.pais\n                          ? empresaFiscal.direccionFiscal.pais\n                          : \"\"\n                      }\n                      onChange={obtenerCamposDireccion}\n                    />\n                  </Box>\n                </Grid>\n              </Grid>\n              <Box mt={2}>\n                <Typography className={classes.subtitle}>\n                  <b>Datos bancarios</b>\n                </Typography>\n                <Divider />\n              </Box>\n              <Grid container spacing={3}>\n                <Grid item xs={12} md={4}>\n                  <Box>\n                    <Typography>Cuenta</Typography>\n                    <TextField\n                      fullWidth\n                      size=\"small\"\n                      name=\"cuenta\"\n                      variant=\"outlined\"\n                      disabled={bloqueo}\n                      value={\n                        empresaFiscal.datosBancarios.cuenta\n                          ? empresaFiscal.datosBancarios.cuenta\n                          : \"\"\n                      }\n                      onChange={obtenerCamposBancarios}\n                    />\n                  </Box>\n                </Grid>\n                <Grid item xs={12} md={4}>\n                  <Box>\n                    <Typography>Sucursal</Typography>\n                    <TextField\n                      fullWidth\n                      size=\"small\"\n                      name=\"sucursal\"\n                      variant=\"outlined\"\n                      disabled={bloqueo}\n                      value={\n                        empresaFiscal.datosBancarios.sucursal\n                          ? empresaFiscal.datosBancarios.sucursal\n                          : \"\"\n                      }\n                      onChange={obtenerCamposBancarios}\n                    />\n                  </Box>\n                </Grid>\n                <Grid item xs={12} md={4}>\n                  <Box>\n                    <Typography>Clave de banco</Typography>\n                    <TextField\n                      fullWidth\n                      size=\"small\"\n                      name=\"clave_banco\"\n                      variant=\"outlined\"\n                      disabled={bloqueo}\n                      value={\n                        empresaFiscal.datosBancarios.clave_banco\n                          ? empresaFiscal.datosBancarios.clave_banco\n                          : \"\"\n                      }\n                      onChange={obtenerCamposBancarios}\n                    />\n                  </Box>\n                </Grid>\n              </Grid>\n            </Container>\n          )}\n        </DialogContent>\n        {sesion.accesos.mi_empresa.informacion_fiscal.editar ===\n        false ? null : (\n          <DialogActions style={{ justifyContent: \"center\" }}>\n            <Button onClick={handleClose} color=\"primary\">\n              Cancelar\n            </Button>\n            <Button\n              onClick={() => actEmp()}\n              color=\"primary\"\n              variant=\"contained\"\n              autoFocus\n            >\n              Guardar\n            </Button>\n          </DialogActions>\n        )}\n      </Dialog>\n    </div>\n  );\n}\n","import React, { useContext, useState, useCallback, useEffect } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport {\n  Box,\n  Grid,\n  TextField,\n  Button,\n  Dialog,\n  Avatar,\n  DialogContent,\n  Container,\n} from \"@material-ui/core\";\nimport {\n  Slide,\n  Typography,\n  Toolbar,\n  AppBar,\n  Divider,\n  DialogActions,\n} from \"@material-ui/core\";\nimport { useDropzone } from \"react-dropzone\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport { FcNook } from \"react-icons/fc\";\nimport { useMutation, useQuery } from \"@apollo/client\";\nimport { EmpresaContext } from \"../../../../context/Catalogos/empresaContext\";\nimport SnackBarMessages from \"../../../../components/SnackBarMessages\";\nimport BackdropComponent from \"../../../../components/Layouts/BackDrop\";\nimport ErrorPage from \"../../../../components/ErrorPage\";\nimport {\n  ACTUALIZAR_EMPRESA,\n  OBTENER_DATOS_EMPRESA,\n} from \"../../../../gql/Empresa/empresa\";\nimport { cleanTypenames } from \"../../../../config/reuserFunctions\";\n\nconst useStyles = makeStyles((theme) => ({\n  appBar: {\n    position: \"relative\",\n  },\n  title: {\n    marginLeft: theme.spacing(2),\n    flex: 1,\n  },\n  icon: {\n    fontSize: 100,\n  },\n  subtitle: {\n    marginLeft: \"10px\",\n    width: \"100%\",\n  },\n  require: {\n    \"& span\": {\n      color: \"red\",\n    },\n  },\n  avatarContainer: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    width: \"100%\",\n    height: \"100%\",\n    border: \"dashed 2px black\",\n    borderRadius: \"100%\",\n  },\n  avatar: {\n    width: \"90%\",\n    height: \"90%\",\n    \"& > .icon\": {\n      fontSize: 100,\n    },\n  },\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function MisDatos() {\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n  const classes = useStyles();\n  const [loadingPage, setLoadingPage] = React.useState(false);\n  const [bloqueo] = useState(\n    sesion.accesos.mi_empresa.datos_empresa.editar === false ? true : false\n  );\n  const [preview, setPreview] = useState(\"\");\n  const [open, setOpen] = React.useState(false);\n  const [errorPage, setErrorPage] = React.useState(false);\n  const [errorForm, setErrorForm] = React.useState(\n    useState({ error: false, message: \"\" })\n  );\n\n  const [alert, setAlert] = useState({ message: \"\", status: \"\", open: false });\n  const { empresa, update, setEmpresa, setUpdate } = useContext(EmpresaContext);\n\n  const [actualizarEmpresa] = useMutation(ACTUALIZAR_EMPRESA);\n\n  /* Queries */\n  const { loading, data, refetch, error } = useQuery(OBTENER_DATOS_EMPRESA, {\n    variables: { id: sesion.empresa._id },\n  });\n\n  const [empresaDatos, setEmpresaDatos] = useState({\n    nombre_empresa: \"\",\n    nombre_dueno: \"\",\n    telefono_dueno: \"\",\n    celular: \"\",\n    correo_empresa: \"\",\n    nombre_fiscal: \"\",\n    rfc: \"\",\n    regimen_fiscal: \"\",\n    curp: \"\",\n    info_adicio: \"\",\n    direccion: {\n      calle: \"\",\n      no_ext: \"\",\n      no_int: \"\",\n      codigo_postal: \"\",\n      colonia: \"\",\n      municipio: \"\",\n      localidad: \"\",\n      estado: \"\",\n      pais: \"\",\n    },\n    direccionFiscal: {\n      calle: \"\",\n      no_ext: \"\",\n      no_int: \"\",\n      codigo_postal: \"\",\n      colonia: \"\",\n      municipio: \"\",\n      localidad: \"\",\n      estado: \"\",\n      pais: \"\",\n    },\n    datosBancarios: {\n      cuenta: \"\",\n      sucursal: \"\",\n      clave_banco: \"\",\n    },\n    imagen: null,\n  });\n  useEffect(() => {\n    try {\n      refetch();\n    } catch (errorCatch) {\n      // console.log(\"SESSIONREFECTUPDATE\",errorCatch)\n    }\n  }, [update, refetch]);\n  useEffect(() => {\n    try {\n      setLoadingPage(loading);\n    } catch (errorCatch) {\n      // console.log(\"SESSIONREFECTUPDATE\",errorCatch)\n    }\n  }, [loading]);\n  useEffect(() => {\n    try {\n      if (data !== undefined) {\n        setEmpresa(data.obtenerEmpresa);\n      }\n    } catch (errorCatch) {\n      // console.log(\"SESSIONREFECT\",errorCatch)\n    }\n  }, [data, setEmpresa]);\n  useEffect(() => {\n    try {\n      setErrorPage(error);\n    } catch (errorCatch) {\n      // console.log(\"SESSIONREFECT\",errorCatch)\n    }\n  }, [error]);\n  useEffect(() => {\n    try {\n      setEmpresaDatos({\n        nombre_empresa: empresa.nombre_empresa,\n        nombre_dueno: empresa.nombre_dueno,\n        telefono_dueno: empresa.telefono_dueno,\n        celular: empresa.celular,\n        correo_empresa: empresa.correo_empresa,\n        direccion: empresa.direccion,\n        imagen: empresa.imagen,\n      });\n    } catch (errorCatch) {\n      // console.log(errorCatch)\n    }\n  }, [empresa]);\n\n  const actEmp = async () => {\n    try {\n      setLoadingPage(true);\n      /* const input = cleanTypenames(empresaDatos); */\n      await actualizarEmpresa({\n        variables: {\n          id: sesion.empresa._id,\n          input: empresaDatos,\n        },\n      });\n      setUpdate(true);\n      setLoadingPage(false);\n      setAlert({\n        message: \"Se han actualizado correctamente los datos.\",\n        status: \"success\",\n        open: true,\n      });\n      setErrorForm(false);\n    } catch (errorCatch) {\n      console.log(errorCatch);\n      if (errorCatch.networkError) {\n        console.log(errorCatch.networkError.result);\n      } else if (errorCatch.graphQLErrors) {\n        console.log(errorCatch.graphQLErrors);\n      }\n      setAlert({ message: \"Hubo un error\", status: \"error\", open: true });\n      setLoadingPage(false);\n    }\n  };\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n  const obtenerCampos = (e) => {\n    setEmpresaDatos({\n      ...empresaDatos,\n      [e.target.name]: e.target.value,\n    });\n  };\n  const obtenerCamposDireccion = (e) => {\n    setEmpresaDatos({\n      ...empresaDatos,\n      direccion: { ...empresaDatos.direccion, [e.target.name]: e.target.value },\n    });\n  };\n\n  //dropzone\n  const onDrop = useCallback(\n    (acceptedFiles) => {\n      let reader = new FileReader();\n      reader.readAsDataURL(acceptedFiles[0]);\n      reader.onload = function () {\n        let image = reader.result;\n        setPreview(image);\n      };\n      setEmpresaDatos({\n        ...empresaDatos,\n        imagen: acceptedFiles[0],\n      });\n    },\n    [empresaDatos, setEmpresaDatos]\n  );\n  const { getRootProps, getInputProps } = useDropzone({\n    accept: \"image/jpeg, image/png\",\n    noKeyboard: true,\n    onDrop,\n  });\n\n  return (\n    <div>\n      <Button fullWidth onClick={handleClickOpen}>\n        <Box display=\"flex\" flexDirection=\"column\">\n          <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n            <FcNook className={classes.icon} />\n          </Box>\n          Datos de empresa\n        </Box>\n      </Button>\n      <Dialog\n        fullScreen\n        open={open}\n        onClose={handleClose}\n        TransitionComponent={Transition}\n      >\n        <SnackBarMessages alert={alert} setAlert={setAlert} />\n        <BackdropComponent loading={loadingPage} setLoading={setLoadingPage} />\n\n        <AppBar className={classes.appBar}>\n          <Toolbar>\n            <Typography variant=\"h6\" className={classes.title}>\n              Datos\n            </Typography>\n            <Box m={1}>\n              <Button\n                variant=\"contained\"\n                color=\"secondary\"\n                onClick={handleClose}\n                size=\"large\"\n              >\n                <CloseIcon style={{ fontSize: 30 }} />\n              </Button>\n            </Box>\n          </Toolbar>\n        </AppBar>\n        <DialogContent>\n          {errorPage ? (\n            <ErrorPage error={errorPage} />\n          ) : (\n            <Container style={{ marginTop: 8 }}>\n              <Grid container spacing={3} className={classes.require}>\n                <Grid item md={2}>\n                  <Box className={classes.avatarContainer} {...getRootProps()}>\n                    <input {...getInputProps()} />\n                    {preview ? (\n                      <Avatar className={classes.avatar} src={`${preview}`} />\n                    ) : (\n                      <Avatar\n                        className={classes.avatar}\n                        src={`${empresa.imagen}`}\n                      />\n                    )}\n                  </Box>\n                </Grid>\n                <Grid item md={4}>\n                  <Box>\n                    <Typography>\n                      <span>* </span>Nombre de empresa\n                    </Typography>\n                    <TextField\n                      fullWidth\n                      disabled={bloqueo}\n                      type=\"text\"\n                      size=\"small\"\n                      error={errorForm.error && !empresaDatos.nombre_empresa}\n                      name=\"nombre_empresa\"\n                      variant=\"outlined\"\n                      value={\n                        empresaDatos.nombre_empresa\n                          ? empresaDatos.nombre_empresa\n                          : \"\"\n                      }\n                      helperText={\n                        errorForm.error &&\n                        errorForm.message !== \"El campo nombre es obligatorio\"\n                          ? errorForm.message\n                          : \"\"\n                      }\n                      onChange={obtenerCampos}\n                    />\n                  </Box>\n                  <Box>\n                    <Typography>\n                      <span>* </span>Nombre dueño\n                    </Typography>\n                    <TextField\n                      fullWidth\n                      disabled={bloqueo}\n                      type=\"text\"\n                      size=\"small\"\n                      error={errorForm.error && !empresaDatos.nombre_dueno}\n                      name=\"nombre_dueno\"\n                      variant=\"outlined\"\n                      value={\n                        empresaDatos.nombre_dueno\n                          ? empresaDatos.nombre_dueno\n                          : \"\"\n                      }\n                      helperText={\n                        errorForm.error &&\n                        errorForm.message !== \"El campo nombre es obligatorio\"\n                          ? errorForm.message\n                          : \"\"\n                      }\n                      onChange={obtenerCampos}\n                    />\n                  </Box>\n                  <Box>\n                    <Typography>Teléfono</Typography>\n                    <TextField\n                      fullWidth\n                      disabled={bloqueo}\n                      size=\"small\"\n                      name=\"telefono_dueno\"\n                      variant=\"outlined\"\n                      value={\n                        empresaDatos.telefono_dueno\n                          ? empresaDatos.telefono_dueno\n                          : \"\"\n                      }\n                      onChange={obtenerCampos}\n                    />\n                  </Box>\n                </Grid>\n                <Grid item md={4}>\n                  <Box>\n                    <Typography>Celular</Typography>\n                    <TextField\n                      fullWidth\n                      disabled={bloqueo}\n                      size=\"small\"\n                      name=\"celular\"\n                      variant=\"outlined\"\n                      value={empresaDatos.celular ? empresaDatos.celular : \"\"}\n                      onChange={obtenerCampos}\n                    />\n                  </Box>\n                  <Box>\n                    <Typography>E-mail</Typography>\n                    <TextField\n                      fullWidth\n                      disabled={bloqueo}\n                      size=\"small\"\n                      name=\"correo_empresa\"\n                      variant=\"outlined\"\n                      value={\n                        empresaDatos.correo_empresa\n                          ? empresaDatos.correo_empresa\n                          : \"\"\n                      }\n                      onChange={obtenerCampos}\n                    />\n                  </Box>\n                </Grid>\n              </Grid>\n\n              <Box mt={5}>\n                <Typography className={classes.subtitle}>\n                  <b>Domicilio empresa</b>\n                </Typography>\n                <Divider />\n              </Box>\n              <Grid container spacing={3} className={classes.require}>\n                <Grid item md={4}>\n                  <Box>\n                    <Typography>Calle</Typography>\n                    <TextField\n                      fullWidth\n                      size=\"small\"\n                      name=\"calle\"\n                      variant=\"outlined\"\n                      disabled={bloqueo}\n                      value={\n                        empresaDatos.direccion.calle\n                          ? empresaDatos.direccion.calle\n                          : \"\"\n                      }\n                      onChange={obtenerCamposDireccion}\n                    />\n                  </Box>\n                  <Box>\n                    <Typography>Num. Ext</Typography>\n                    <TextField\n                      fullWidth\n                      size=\"small\"\n                      name=\"no_ext\"\n                      variant=\"outlined\"\n                      disabled={bloqueo}\n                      value={\n                        empresaDatos.direccion.no_ext\n                          ? empresaDatos.direccion.no_ext\n                          : \"\"\n                      }\n                      onChange={obtenerCamposDireccion}\n                    />\n                  </Box>\n                  <Box>\n                    <Typography>Num. Int</Typography>\n                    <TextField\n                      fullWidth\n                      size=\"small\"\n                      name=\"no_int\"\n                      variant=\"outlined\"\n                      disabled={bloqueo}\n                      value={\n                        empresaDatos.direccion.no_int\n                          ? empresaDatos.direccion.no_int\n                          : \"\"\n                      }\n                      onChange={obtenerCamposDireccion}\n                    />\n                  </Box>\n                </Grid>\n                <Grid item md={4}>\n                  <Box>\n                    <Typography>C.P. </Typography>\n                    <TextField\n                      fullWidth\n                      size=\"small\"\n                      name=\"codigo_postal\"\n                      variant=\"outlined\"\n                      disabled={bloqueo}\n                      value={\n                        empresaDatos.direccion.codigo_postal\n                          ? empresaDatos.direccion.codigo_postal\n                          : \"\"\n                      }\n                      onChange={obtenerCamposDireccion}\n                    />\n                  </Box>\n                  <Box>\n                    <Typography>Colonia</Typography>\n                    <TextField\n                      fullWidth\n                      size=\"small\"\n                      name=\"colonia\"\n                      variant=\"outlined\"\n                      disabled={bloqueo}\n                      value={\n                        empresaDatos.direccion.colonia\n                          ? empresaDatos.direccion.colonia\n                          : \"\"\n                      }\n                      onChange={obtenerCamposDireccion}\n                    />\n                  </Box>\n                  <Box>\n                    <Typography>Municipio</Typography>\n                    <TextField\n                      fullWidth\n                      size=\"small\"\n                      name=\"municipio\"\n                      variant=\"outlined\"\n                      disabled={bloqueo}\n                      value={\n                        empresaDatos.direccion.municipio\n                          ? empresaDatos.direccion.municipio\n                          : \"\"\n                      }\n                      onChange={obtenerCamposDireccion}\n                    />\n                  </Box>\n                </Grid>\n                <Grid item md={4}>\n                  <Box>\n                    <Typography>Localidad</Typography>\n                    <TextField\n                      fullWidth\n                      size=\"small\"\n                      name=\"localidad\"\n                      variant=\"outlined\"\n                      disabled={bloqueo}\n                      value={\n                        empresaDatos.direccion.localidad\n                          ? empresaDatos.direccion.localidad\n                          : \"\"\n                      }\n                      onChange={obtenerCamposDireccion}\n                    />\n                  </Box>\n                  <Box>\n                    <Typography>Estado</Typography>\n                    <TextField\n                      fullWidth\n                      size=\"small\"\n                      name=\"estado\"\n                      variant=\"outlined\"\n                      disabled={bloqueo}\n                      value={\n                        empresaDatos.direccion.estado\n                          ? empresaDatos.direccion.estado\n                          : \"\"\n                      }\n                      onChange={obtenerCamposDireccion}\n                    />\n                  </Box>\n                  <Box>\n                    <Typography>Pais</Typography>\n                    <TextField\n                      fullWidth\n                      size=\"small\"\n                      name=\"pais\"\n                      variant=\"outlined\"\n                      disabled={bloqueo}\n                      value={\n                        empresaDatos.direccion.pais\n                          ? empresaDatos.direccion.pais\n                          : \"\"\n                      }\n                      onChange={obtenerCamposDireccion}\n                    />\n                  </Box>\n                </Grid>\n              </Grid>\n            </Container>\n          )}\n        </DialogContent>\n        {sesion.accesos.mi_empresa.datos_empresa.editar === false ? null : (\n          <DialogActions style={{ justifyContent: \"center\" }}>\n            <Button onClick={handleClose} color=\"primary\">\n              Cancelar\n            </Button>\n            <Button\n              onClick={() => actEmp()}\n              color=\"primary\"\n              variant=\"contained\"\n              autoFocus\n            >\n              Guardar\n            </Button>\n          </DialogActions>\n        )}\n      </Dialog>\n    </div>\n  );\n}\n","import React from 'react';\nimport { Box, Container, Grid } from '@material-ui/core';\nimport InformacionFiscal from './InformacionFiscal/InformacionFiscal';\nimport Datos from './Datos/MisDatos';\n\nexport default function MiEmpresa() {\n\t\n\t\n\tconst sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\n\t\n\treturn (\n\t\t<div>\n\t\t\t<Container>\n\t\t\t<Grid container spacing={5} justify=\"center\">\n\t\t\t\t{sesion.accesos.mi_empresa.datos_empresa.ver === false ? (null):(\n\t\t\t\t\t<Grid item lg={2}>\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t<Datos idEmpresa={sesion.empresa._id} />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t)}\n\t\t\t\t{sesion.accesos.mi_empresa.informacion_fiscal.ver === false ? (null):(\n\t\t\t\t\t<Grid item lg={2}>\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t<InformacionFiscal />\n\t\t\t\t\t\t</Box> \n\t\t\t\t\t</Grid>\n\t\t\t\t)}\n\t\t\t</Grid>\n\t\t</Container>\n\t\t</div>\n\t);\n}\n","import { EmpresaProvider } from '../../../context/Catalogos/empresaContext';\nimport MiEmpresa from './MiEmpresa';\n\nexport default function Empresa() {\n    return(\n        <div>\n            <EmpresaProvider>\n                <MiEmpresa/>\n            </EmpresaProvider>\n        </div>\n    )\n}","export const unitCodes = [\n    {unidad: \"Pz\", codigo_unidad: \"H87\"},\n    {unidad: \"Caja\", codigo_unidad: \"XBX\"}\n]\n\nexport const unitCodes_granel = [\n  {unidad: \"Kg\", codigo_unidad: \"KGM\"},\n  {unidad: \"Lt\", codigo_unidad: \"LTR\"},\n  {unidad: \"Costal\", codigo_unidad: \"KGM\"},\n]","import React, { Fragment, useContext, useState } from \"react\";\nimport {\n  IconButton,\n  InputAdornment,\n  OutlinedInput,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n} from \"@material-ui/core\";\nimport {\n  Box,\n  TextField,\n  Typography,\n  Table,\n  Checkbox,\n  Select,\n  MenuItem,\n  Button,\n} from \"@material-ui/core\";\nimport { Dialog, DialogActions, DialogTitle } from \"@material-ui/core\";\nimport { Add, DeleteOutline, LocalOffer } from \"@material-ui/icons\";\nimport { makeStyles } from \"@material-ui/core\";\nimport { FormControl } from \"@material-ui/core\";\nimport { RegProductoContext } from \"../../../../../context/Catalogos/CtxRegProducto\";\nimport { formatoMexico } from \"../../../../../config/reuserFunctions\";\nimport { unitCodes, unitCodes_granel } from \"../unidades\";\n\nconst useStyles = makeStyles((theme) => ({\n  formInputFlex: {\n    display: \"flex\",\n    \"& > *\": {\n      margin: `5px 5px`,\n    },\n  },\n}));\n\nexport default function PreciosDeCompra() {\n  const classes = useStyles();\n  const {\n    datos_generales,\n    precios,\n    unidadesVenta,\n    setUnidadesVenta,\n    unidadVentaXDefecto,\n    setUnidadVentaXDefecto,\n    update,\n  } = useContext(RegProductoContext);\n  const [unidades, setUnidades] = useState({\n    unidad: precios.unidad_de_compra.unidad,\n    codigo_unidad: precios.unidad_de_compra.codigo_unidad,\n    unidad_principal: false,\n    cantidad: 1,\n  });\n\n  const obtenerUnidadesVentas = (e, child) => {\n    if (e.target.name === \"cantidad\") {\n      let cantidad = parseFloat(e.target.value);\n      setUnidades({\n        ...unidades,\n        cantidad: cantidad,\n        precio: cantidad * unidadVentaXDefecto.precio,\n      });\n    } else if (e.target.name === \"unidad\") {\n      const { codigo_unidad, unidad } = child.props.unidad;\n      setUnidades({\n        ...unidades,\n        [e.target.name]: unidad,\n        codigo_unidad,\n        precio: unidades.cantidad * unidadVentaXDefecto.precio,\n      });\n    } else {\n      setUnidades({\n        ...unidades,\n        [e.target.name]: e.target.value,\n      });\n    }\n  };\n\n  const obtenerPrecioUVentas = (value) => {\n    console.log(\"obtenreprecio\");\n    if (unidades.descuento_activo && unidades.descuento_activo === true) {\n      console.log(\"entra\");\n      //calcular nuevo precio entre %\n      let precio_neto = Math.round(\n        value -\n          value *\n            parseFloat(\n              `0.${\n                unidades.descuento.porciento < 10\n                  ? `0${unidades.descuento.porciento}`\n                  : unidades.descuento.porciento\n              }`\n            )\n      );\n      setUnidades({\n        ...unidades,\n        precio: parseFloat(value),\n        descuento: { ...unidades.descuento, precio_neto },\n      });\n    } else {\n      setUnidades({\n        ...unidades,\n        precio: parseFloat(value),\n      });\n    }\n  };\n\n  const agregarNuevaUnidad = () => {\n    if (!unidades.unidad || !unidades.precio || !unidades.cantidad) return;\n    unidades.descuento_activo = null;\n    const { precio, cantidad } = unidades;\n    const { iva, ieps } = precios;\n\n    let suma_impuestos =\n      parseFloat(`0.${iva < 10 ? `0${iva}` : iva}`) +\n      parseFloat(`0.${ieps < 10 ? `0${ieps}` : ieps}`);\n    let PVCI = parseFloat((precio / cantidad).toFixed(2));\n    let PVSI = parseFloat((PVCI / (suma_impuestos + 1)).toFixed(2));\n\n    let PCSI = precios.unidad_de_compra.precio_unitario_sin_impuesto;\n    let iva_precio = parseFloat(\n      PVSI * parseFloat(`0.${iva < 10 ? `0${iva}` : iva}`).toFixed(2)\n    );\n    let ieps_precio = parseFloat(\n      PVSI * parseFloat(`0.${ieps < 10 ? `0${ieps}` : ieps}`).toFixed(2)\n    );\n    let utilidad = parseFloat((((PVSI - PCSI) / PCSI) * 100).toFixed(2));\n\n    let new_unidad = {\n      ...unidades,\n      precio_unidad: {\n        numero_precio: 1,\n        precio_venta: PVSI,\n        precio_neto: PVCI,\n        unidad_mayoreo: 0,\n        iva_precio,\n        ieps_precio,\n        utilidad,\n        unidad_maxima: false,\n      },\n    };\n\n    if (unidades.codigo_unidad === \"XBX\" || unidades.codigo_unidad === \"KGM\") {\n      new_unidad.precio_unidad.precio_general = precio;\n      new_unidad.precio_unidad.cantidad_unidad = cantidad;\n      new_unidad.precio_unidad.unidad_maxima = true;\n    }\n    setUnidadesVenta([...unidadesVenta, new_unidad]);\n    setUnidades({\n      unidad: \"Pz\",\n      codigo_unidad: \"H87\",\n      unidad_principal: false,\n    });\n  };\n\n  const descuentoUnidadXdefecto = (descuento_activo) => {\n    setUnidadVentaXDefecto({\n      ...unidadVentaXDefecto,\n      descuento_activo,\n    })\n  } \n\n  const checkUnidadDefault = (checked) => {\n    setUnidadVentaXDefecto({\n      ...unidadVentaXDefecto,\n      unidad_principal: checked,\n    });\n    if (checked) {\n      let nuevo_array = [];\n      for (let i = 0; i < unidadesVenta.length; i++) {\n        const element = unidadesVenta[i];\n        let new_element = {\n          _id: element._id,\n          codigo_barras: element.codigo_barras,\n          unidad: element.unidad,\n          codigo_unidad: element.codigo_unidad,\n          precio: parseFloat(element.precio),\n          cantidad: parseFloat(element.cantidad),\n          unidad_principal: false,\n          default: element.default,\n          descuento: element.descuento,\n          descuento_activo: element.descuento_activo,\n          precio_unidad: element.precio_unidad,\n        };\n        nuevo_array.push(new_element);\n      }\n      setUnidadesVenta([...nuevo_array]);\n    }\n  };\n\n  const GenCodigoBarras = () => {\n    const max = 999999999999;\n    const min = 100000000000;\n    const codigo_barras = Math.floor(\n      Math.random() * (max - min + 1) + min\n    ).toString();\n    setUnidades({\n      ...unidades,\n      codigo_barras,\n    });\n  };\n\n  return (\n    <Fragment>\n      <Box className={classes.formInputFlex} justifyContent=\"center\">\n        <Box width={100}>\n          <Typography>Unidad</Typography>\n          <Box display=\"flex\">\n            <FormControl\n              variant=\"outlined\"\n              fullWidth\n              size=\"small\"\n              name=\"unidad\"\n            >\n              {precios.granel ? (\n                <Select\n                  name=\"unidad\"\n                  value={unidades.unidad}\n                  onChange={obtenerUnidadesVentas}\n                >\n                  {unitCodes_granel.map((res, index) => (\n                    <MenuItem key={index} unidad={res} value={res.unidad}>\n                      {res.unidad}\n                    </MenuItem>\n                  ))}\n                </Select>\n              ) : (\n                <Select\n                  name=\"unidad\"\n                  value={unidades.unidad}\n                  onChange={obtenerUnidadesVentas}\n                >\n                  {unitCodes.map((res, index) => (\n                    <MenuItem key={index} unidad={res} value={res.unidad}>\n                      {res.unidad}\n                    </MenuItem>\n                  ))}\n                </Select>\n              )}\n            </FormControl>\n          </Box>\n        </Box>\n        <Box width={180}>\n          <Typography>\n            Cantidad{\" \"}\n            <b>\n              {unidades.unidad === \"Caja\"\n                ? \"(pz por caja)\"\n                : unidades.unidad === \"Costal\"\n                ? \"(kg por costal)\"\n                : \"\"}\n            </b>\n          </Typography>\n          <TextField\n            disabled={unidades.codigo_unidad === \"H87\"}\n            type=\"number\"\n            InputProps={{ inputProps: { min: 0 } }}\n            size=\"small\"\n            name=\"cantidad\"\n            variant=\"outlined\"\n            onChange={obtenerUnidadesVentas}\n            value={unidades.cantidad ? unidades.cantidad : \"\"}\n            fullWidth\n          />\n        </Box>\n        <Box width={130}>\n          <Typography>\n            Precio por <b>{unidades.unidad}</b>\n          </Typography>\n          <TextField\n            type=\"number\"\n            InputProps={{ inputProps: { min: 0 } }}\n            size=\"small\"\n            name=\"precio\"\n            variant=\"outlined\"\n            onChange={(e) => obtenerPrecioUVentas(e.target.value)}\n            value={unidades.precio ? unidades.precio : \"\"}\n            fullWidth\n          />\n        </Box>\n        {unidades.descuento_activo === true ? (\n          <Box width={130}>\n            <Typography>\n              <b>$ </b>Descuento\n            </Typography>\n            <TextField\n              inputProps={{ readOnly: true }}\n              size=\"small\"\n              variant=\"outlined\"\n              value={unidades.descuento.precio_neto}\n              fullWidth\n            />\n          </Box>\n        ) : null}\n        <Box width={240}>\n          <FormControl\n            variant=\"outlined\"\n            size=\"small\"\n            name=\"codigo_barras\"\n            fullWidth\n          >\n            <Typography>Código de barras</Typography>\n            <OutlinedInput\n              fullWidth\n              disabled={update}\n              id=\"input-codigo-barras\"\n              name=\"codigo_barras\"\n              value={unidades.codigo_barras ? unidades.codigo_barras : \"\"}\n              onChange={obtenerUnidadesVentas}\n              endAdornment={\n                <InputAdornment position=\"end\">\n                  <Button\n                    onClick={() => GenCodigoBarras()}\n                    edge=\"end\"\n                    color=\"primary\"\n                    disabled={update}\n                  >\n                    Generar\n                  </Button>\n                </InputAdornment>\n              }\n            />\n          </FormControl>\n        </Box>\n        <Box display=\"flex\" alignItems=\"flex-end\">\n          <Button\n            color=\"primary\"\n            onClick={() => agregarNuevaUnidad()}\n            startIcon={<Add fontSize=\"large\" />}\n            /* startIcon={\n              actualizarUnidad ? (\n                <Done fontSize=\"large\" />\n              ) : (\n                <Add fontSize=\"large\" />\n              )\n            } */\n            variant=\"outlined\"\n            size=\"large\"\n          >\n            Guardar\n          </Button>\n        </Box>\n      </Box>\n      <Box>\n        <TableContainer>\n          <Table size=\"small\" aria-label=\"a dense table\">\n            <TableHead>\n              <TableRow>\n                <TableCell>Código de barras</TableCell>\n                <TableCell>Unidad</TableCell>\n                <TableCell>Precio</TableCell>\n                <TableCell>Cantidad</TableCell>\n                <TableCell>Aplicar Descuento</TableCell>\n                <TableCell>Unidad Principal</TableCell>\n                <TableCell>Acciones</TableCell>\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              <TableRow /* selected={actualizarUnidad ? true : false} */>\n                <TableCell>{datos_generales.codigo_barras}</TableCell>\n                <TableCell>{unidadVentaXDefecto.unidad}</TableCell>\n                <TableCell>\n                  <Box display=\"flex\" alignItems=\"center\">\n                    {unidadVentaXDefecto.descuento_activo !== null ? (\n                      <LocalOffer\n                        color={\n                          unidadVentaXDefecto.descuento_activo === true\n                            ? \"primary\"\n                            : \"action\"\n                        }\n                      />\n                    ) : null}\n                    <Box mr={1} />\n                    <Typography>\n                      <b>\n                        $\n                        {formatoMexico(\n                          unidadVentaXDefecto.descuento_activo === true\n                            ? unidadVentaXDefecto.descuento.precio_neto\n                            : unidadVentaXDefecto.precio\n                        )}\n                      </b>\n                    </Typography>\n                  </Box>\n                </TableCell>\n                <TableCell>{unidadVentaXDefecto.cantidad}</TableCell>\n                <TableCell>\n                  {unidadVentaXDefecto.descuento_activo !== undefined &&\n                  unidadVentaXDefecto.descuento_activo !== null ? (\n                    <Box display=\"flex\" alignItems=\"center\">\n                      <Checkbox\n                        checked={\n                          unidadVentaXDefecto.descuento_activo === true\n                            ? unidadVentaXDefecto.descuento_activo\n                            : false\n                        }\n                        onChange={(e) =>\n                          descuentoUnidadXdefecto(e.target.checked)\n                        }\n                        inputProps={{ \"aria-label\": \"check descuento\" }}\n                        color=\"primary\"\n                        disabled={unidadVentaXDefecto.descuento_activo === null}\n                      />\n                      <Typography color=\"primary\">\n                        %\n                        {parseFloat(\n                          unidadVentaXDefecto.descuento_activo !== null\n                            ? unidadVentaXDefecto.descuento.porciento\n                            : 0\n                        )}\n                      </Typography>\n                    </Box>\n                  ) : null}\n                </TableCell>\n                <TableCell>\n                  <Checkbox\n                    checked={unidadVentaXDefecto.unidad_principal}\n                    onChange={(e) => checkUnidadDefault(e.target.checked)}\n                    inputProps={{ \"aria-label\": \"primary checkbox\" }}\n                    disabled={unidadesVenta.length === 0}\n                  />\n                </TableCell>\n                <TableCell>\n                  {/* {actualizarUnidad ? (\n                    <IconButton\n                      color=\"primary\"\n                      onClick={() => cancelarUpdate()}\n                    >\n                      <Close color=\"primary\" />\n                    </IconButton>\n                  ) : (\n                    <IconButton\n                      color=\"primary\"\n                      onClick={() => updateUnidadPrincipal()}\n                    >\n                      <EditOutlined color=\"primary\" />\n                    </IconButton>\n                  )} */}\n                </TableCell>\n              </TableRow>\n              {unidadesVenta.map((unidades, index) => {\n                if (unidades.default !== true)\n                  return (\n                    <RenderUnidadesRows\n                      key={index}\n                      unidades={unidades}\n                      index={index}\n                    />\n                  );\n                return null;\n              })}\n            </TableBody>\n          </Table>\n        </TableContainer>\n      </Box>\n    </Fragment>\n  );\n}\n\nconst RenderUnidadesRows = ({ unidades, index }) => {\n  const {\n    unidadesVenta,\n    setUnidadesVenta,\n    unidadVentaXDefecto,\n    setUnidadVentaXDefecto,\n  } = useContext(RegProductoContext);\n\n  const checkUnidadPrincipal = () => {\n    let nuevo_array = [];\n    for (let i = 0; i < unidadesVenta.length; i++) {\n      const element = unidadesVenta[i];\n      let new_element = {\n        _id: element._id,\n        codigo_barras: element.codigo_barras,\n        unidad: element.unidad,\n        codigo_unidad: element.codigo_unidad,\n        precio: parseFloat(element.precio),\n        cantidad: parseFloat(element.cantidad),\n        unidad_principal: i === index ? true : false,\n        default: element.default,\n        descuento: element.descuento,\n        descuento_activo: element.descuento_activo,\n        precio_unidad: element.precio_unidad,\n      };\n      nuevo_array.push(new_element);\n    }\n    setUnidadesVenta([...nuevo_array]);\n    setUnidadVentaXDefecto({\n      ...unidadVentaXDefecto,\n      unidad_principal: false,\n    });\n  };\n\n  const aplicarDescuento = (value) => {\n    let nuevo_array = [];\n    for (let i = 0; i < unidadesVenta.length; i++) {\n      const element = unidadesVenta[i];\n\n      let new_element = {\n        _id: element._id,\n        codigo_barras: element.codigo_barras,\n        unidad: element.unidad,\n        codigo_unidad: element.codigo_unidad,\n        precio: parseFloat(element.precio),\n        cantidad: parseFloat(element.cantidad),\n        unidad_principal: element.unidad_principal,\n        default: element.default,\n        descuento: element.descuento,\n        descuento_activo: i === index ? value : element.descuento_activo,\n        precio_unidad: element.precio_unidad,\n      };\n      nuevo_array.push(new_element);\n    }\n    setUnidadesVenta([...nuevo_array]);\n  };\n\n  return (\n    <TableRow>\n      <TableCell>{unidades.codigo_barras}</TableCell>\n      <TableCell>{unidades.unidad}</TableCell>\n      <TableCell>\n        <Box display=\"flex\" alignItems=\"center\">\n          {unidades.descuento_activo !== null ? (\n            <LocalOffer\n              color={unidades.descuento_activo ? \"primary\" : \"action\"}\n            />\n          ) : null}\n          <Box mr={1} />\n          <Typography>\n            <b>\n              $\n              {formatoMexico(\n                unidades.descuento_activo === true\n                  ? unidades.descuento.precio_neto\n                  : unidades.precio\n              )}\n            </b>\n          </Typography>\n        </Box>\n      </TableCell>\n      <TableCell>{unidades.cantidad}</TableCell>\n      <TableCell>\n        {unidades.descuento_activo !== null ? (\n          <Box display=\"flex\" alignItems=\"center\">\n            <Checkbox\n              checked={\n                unidades.descuento_activo ? unidades.descuento_activo : false\n              }\n              onChange={(e) => aplicarDescuento(e.target.checked)}\n              inputProps={{ \"aria-label\": \"check descuento\" }}\n              color=\"primary\"\n              disabled={unidades.descuento_activo === null}\n            />\n            <Typography color=\"primary\">\n              %\n              {parseFloat(\n                unidades.descuento && unidades.descuento !== null\n                  ? unidades.descuento.porciento\n                  : 0\n              )}\n            </Typography>\n          </Box>\n        ) : null}\n      </TableCell>\n      <TableCell>\n        <Checkbox\n          checked={unidades.unidad_principal}\n          onChange={(e) => checkUnidadPrincipal(e.target.checked)}\n          inputProps={{ \"aria-label\": \"primary checkbox\" }}\n        />\n      </TableCell>\n      <TableCell>\n        <ModalDelete unidades={unidades} index={index} />\n      </TableCell>\n    </TableRow>\n  );\n};\n\nconst ModalDelete = ({ unidades, index }) => {\n  const [open, setOpen] = useState(false);\n  const {\n    unidadesVenta,\n    setUnidadesVenta,\n    unidadVentaXDefecto,\n    setUnidadVentaXDefecto,\n  } = useContext(RegProductoContext);\n\n  const toggleModal = () => {\n    setOpen(!open);\n  };\n\n  const eliminarUnidad = () => {\n    unidadesVenta.splice(index, 1);\n    if (unidadesVenta.length === 0 || unidades.unidad_principal) {\n      setUnidadVentaXDefecto({\n        ...unidadVentaXDefecto,\n        unidad_principal: true,\n      });\n    }\n    setUnidadesVenta([...unidadesVenta]);\n    toggleModal();\n  };\n\n  return (\n    <div>\n      <IconButton color=\"primary\" onClick={() => toggleModal()}>\n        <DeleteOutline color=\"primary\" />\n      </IconButton>\n      <Dialog open={open} onClose={toggleModal}>\n        <DialogTitle>{\"se eliminará esta unidad de venta\"}</DialogTitle>\n        <DialogActions>\n          <Button onClick={() => toggleModal()} color=\"primary\">\n            Cancelar\n          </Button>\n          <Button onClick={() => eliminarUnidad()} color=\"secondary\" autoFocus>\n            Eliminar\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n};\n","import React, { Fragment, useContext, useEffect } from \"react\";\nimport {\n  Box,\n  InputAdornment,\n  makeStyles,\n  TextField,\n  Typography,\n} from \"@material-ui/core\";\nimport { RegProductoContext } from \"../../../../../context/Catalogos/CtxRegProducto\";\n\nconst useStyles = makeStyles((theme) => ({\n  precioTitle: {\n    width: theme.spacing(20),\n  },\n  marginInput: {\n    marginTop: 19,\n  },\n  input: {\n    \"& input[type=number]\": {\n      \"-moz-appearance\": \"textfield\",\n    },\n    \"& input[type=number]::-webkit-outer-spin-button\": {\n      \"-webkit-appearance\": \"none\",\n      margin: 0,\n    },\n    \"& input[type=number]::-webkit-inner-spin-button\": {\n      \"-webkit-appearance\": \"none\",\n      margin: 0,\n    },\n  },\n}));\n\nexport default function PreciosDeVenta() {\n  const { preciosP } = useContext(RegProductoContext);\n  let newPreciosP = [...preciosP];\n\n  return (\n    <Fragment>\n      {preciosP.map((res, index) => (\n        <RenderPreciosP\n          key={index}\n          data={res}\n          index={index}\n          newPreciosP={newPreciosP}\n        />\n      ))}\n    </Fragment>\n  );\n}\n\nconst RenderPreciosP = ({ data, index, newPreciosP }) => {\n  const classes = useStyles();\n  const {\n    preciosP,\n    precios,\n    unidadVentaXDefecto,\n    setUnidadVentaXDefecto,\n    setPreciosP,\n  } = useContext(RegProductoContext);\n  let preciosVenta = { ...preciosP[index] };\n\n  const obtenerUtilidad = (valor_base) => {\n    if (!valor_base) {\n      preciosVenta.utilidad = \"\";\n      newPreciosP.splice(index, 1, preciosVenta);\n      setPreciosP(newPreciosP);\n      return;\n    }\n\n    /* let utilidad = 1; */\n    let PUCSI = precios.unidad_de_compra.precio_unitario_sin_impuesto;\n    let { unidad, cantidad, descuento, descuento_activo } = unidadVentaXDefecto;\n    let { iva, ieps } = precios;\n    let utilidad = valor_base / 100;\n\n    const precio_venta = PUCSI * utilidad + PUCSI;\n    let iva_precio =\n      precio_venta * parseFloat(`0.${iva < 10 ? `0${iva}` : iva}`);\n    let ieps_precio =\n      precio_venta * parseFloat(`0.${ieps < 10 ? `0${ieps}` : ieps}`);\n    let impuestos = iva_precio + ieps_precio;\n    const precio_neto = precio_venta + impuestos;\n\n    preciosVenta.utilidad = parseFloat(valor_base);\n    preciosVenta.precio_venta = parseFloat(precio_venta.toFixed(2));\n    preciosVenta.precio_neto = parseFloat(precio_neto.toFixed(2));\n\n    //meter los precios a unidadXdefecto\n    let unidadXDefecto = {\n      ...unidadVentaXDefecto,\n      precio_unidad: {\n        numero_precio: preciosVenta.numero_precio,\n        precio_neto: precio_neto,\n        precio_venta: precio_venta,\n        unidad_mayoreo: preciosVenta.unidad_mayoreo,\n        iva_precio,\n        ieps_precio,\n        utilidad: preciosVenta.utilidad,\n        unidad_maxima: false,\n      },\n    };\n\n    if (preciosVenta.numero_precio === 1) {\n      if (unidad === \"Caja\" || unidad === \"Costal\") {\n        unidadXDefecto = {\n          ...unidadXDefecto,\n          precio: parseFloat((cantidad * precio_neto).toFixed(2)),\n        };\n      } else {\n        unidadXDefecto = {\n          ...unidadXDefecto,\n          precio: precio_neto,\n        };\n      }\n      if (descuento_activo === true) {\n        //calcular nuevo precio entre %\n        /* let precio_con_descuento = Math.round(\n          precio_neto - precio_neto * parseFloat(\".\" + descuento.porciento)\n        ); */\n\n        let new_precio_venta_desc = (precio_venta * descuento.porciento) / 100;\n        let new_iva_precio =\n          new_precio_venta_desc * parseFloat(`0.${iva < 10 ? `0${iva}` : iva}`);\n        let new_ieps_precio =\n          new_precio_venta_desc * parseFloat(`0.${ieps < 10 ? `0${ieps}` : ieps}`);\n        let new_impuestos = new_iva_precio + new_ieps_precio;\n        let precio_con_descuento = new_precio_venta_desc + new_impuestos;\n\n        unidadXDefecto = {\n          ...unidadXDefecto,\n          precio: parseFloat(precio_neto.toFixed(2)),\n          descuento: {\n            ...unidadVentaXDefecto.descuento,\n            precio_neto: precio_con_descuento,\n          },\n        };\n      }\n    }\n    setUnidadVentaXDefecto(unidadXDefecto);\n\n    newPreciosP.splice(index, 1, preciosVenta);\n    setPreciosP(newPreciosP);\n  };\n\n  const obtenerPrecioNeto = (value) => {\n    if (!value) {\n      preciosVenta.precio_neto = \"\";\n      newPreciosP.splice(index, 1, preciosVenta);\n      setPreciosP(newPreciosP);\n      return;\n    }\n\n    let precio_neto = parseFloat(value);\n    let { unidad, cantidad, descuento, descuento_activo } = unidadVentaXDefecto;\n    let { iva, ieps } = precios;\n    let PUCSI = precios.unidad_de_compra.precio_unitario_sin_impuesto;\n\n    let suma =\n      parseFloat(`0.${iva < 10 ? `0${iva}` : iva}`) +\n      parseFloat(`0.${ieps < 10 ? `0${ieps}` : ieps}`);\n    let precio_venta = parseFloat((precio_neto / (suma + 1)).toFixed(2));\n    let iva_precio =\n      precio_venta * parseFloat(`0.${iva < 10 ? `0${iva}` : iva}`);\n    let ieps_precio =\n      precio_venta * parseFloat(`0.${ieps < 10 ? `0${ieps}` : ieps}`);\n    let impuestos = iva_precio + ieps_precio;\n    let utilidad_base = ((precio_neto - impuestos - PUCSI) / PUCSI) * 100;\n\n    preciosVenta.precio_neto = precio_neto;\n    preciosVenta.precio_venta = precio_venta;\n    preciosVenta.utilidad = parseFloat(utilidad_base.toFixed(2));\n\n    //meter los precios a unidadXdefecto\n    let unidadXDefecto = {\n      ...unidadVentaXDefecto,\n      precio_unidad: {\n        numero_precio: preciosVenta.numero_precio,\n        precio_neto: precio_neto,\n        precio_venta: precio_venta,\n        unidad_mayoreo: preciosVenta.unidad_mayoreo,\n        iva_precio,\n        ieps_precio,\n        utilidad: preciosVenta.utilidad,\n        unidad_maxima: false,\n      },\n    };\n\n    if (preciosVenta.numero_precio === 1) {\n      if (unidad === \"Caja\" || unidad === \"Costal\") {\n        unidadXDefecto = {\n          ...unidadXDefecto,\n          precio: parseFloat((cantidad * precio_neto).toFixed(2)),\n        };\n      } else {\n        unidadXDefecto = {\n          ...unidadXDefecto,\n          precio: precio_neto,\n        };\n      }\n      if (descuento_activo === true) {\n        //calcular nuevo precio entre %\n        /* let precio_con_descuento = Math.round(\n          precio_neto - precio_neto * parseFloat(\".\" + descuento.porciento)\n        ); */\n\n        let new_precio_venta_desc = (precio_venta * descuento.porciento) / 100;\n        let new_iva_precio =\n          new_precio_venta_desc * parseFloat(`0.${iva < 10 ? `0${iva}` : iva}`);\n        let new_ieps_precio =\n          new_precio_venta_desc * parseFloat(`0.${ieps < 10 ? `0${ieps}` : ieps}`);\n        let new_impuestos = new_iva_precio + new_ieps_precio;\n        let precio_con_descuento = new_precio_venta_desc + new_impuestos;\n\n        unidadXDefecto = {\n          ...unidadXDefecto,\n          precio: parseFloat(precio_neto.toFixed(2)),\n          descuento: {\n            ...unidadVentaXDefecto.descuento,\n            precio_neto: precio_con_descuento,\n          },\n        };\n      }\n    }\n    setUnidadVentaXDefecto(unidadXDefecto);\n\n    newPreciosP.splice(index, 1, preciosVenta);\n    setPreciosP(newPreciosP);\n  };\n\n  const obtenerMayoreo = (value) => {\n    if (!value) {\n      preciosVenta.unidad_mayoreo = \"\";\n      newPreciosP.splice(index, 1, preciosVenta);\n      setPreciosP(newPreciosP);\n      return;\n    }\n    preciosVenta.unidad_mayoreo = parseInt(value);\n    newPreciosP.splice(index, 1, preciosVenta);\n    setPreciosP(newPreciosP);\n  };\n\n  const calculos = () => {\n    let { iva, ieps } = precios;\n    let { unidad, cantidad, descuento, descuento_activo } = unidadVentaXDefecto;\n    let PUCSI = precios.unidad_de_compra.precio_unitario_sin_impuesto;\n    let utilidad_base = preciosVenta.utilidad ? preciosVenta.utilidad : 0;\n    let utilidad = utilidad_base / 100;\n\n    //precio venta y neto con utilidad\n    const precio_venta = parseFloat((PUCSI * utilidad + PUCSI).toFixed(2));\n    let iva_precio =\n      precio_venta * parseFloat(`0.${iva < 10 ? `0${iva}` : iva}`);\n    let ieps_precio =\n      precio_venta * parseFloat(`0.${ieps < 10 ? `0${ieps}` : ieps}`);\n    let impuestos = iva_precio + ieps_precio;\n\n    const precio_neto = parseFloat((precio_venta + impuestos).toFixed(2));\n\n    //meter los valores a preciosVenta\n    preciosVenta.precio_venta = precio_venta;\n    preciosVenta.precio_neto = precio_neto;\n    preciosVenta.iva_precio = iva;\n    preciosVenta.ieps_precio = ieps;\n\n    //meter los precios a unidadXdefecto\n    let unidadXDefecto = {\n      ...unidadVentaXDefecto,\n      precio_unidad: {\n        numero_precio: preciosVenta.numero_precio,\n        precio_neto: precio_neto,\n        precio_venta: precio_venta,\n        unidad_mayoreo: preciosVenta.unidad_mayoreo,\n        iva_precio,\n        ieps_precio,\n        utilidad: preciosVenta.utilidad,\n        unidad_maxima: false,\n      },\n    };\n\n    if (preciosVenta.numero_precio === 1) {\n      if (unidad === \"Caja\" || unidad === \"Costal\") {\n        unidadXDefecto = {\n          ...unidadXDefecto,\n          precio: parseFloat((cantidad * precio_neto).toFixed(2)),\n        };\n      } else {\n        unidadXDefecto = {\n          ...unidadXDefecto,\n          precio: precio_neto,\n        };\n      }\n      if (descuento_activo === true) {\n        //calcular nuevo precio entre %\n        /* let precio_con_descuento = Math.round(\n          precio_neto - precio_neto * parseFloat(\".\" + descuento.porciento)\n        ); */\n\n        let new_precio_venta_desc = (precio_venta * descuento.porciento) / 100;\n        let new_iva_precio =\n          new_precio_venta_desc * parseFloat(`0.${iva < 10 ? `0${iva}` : iva}`);\n        let new_ieps_precio =\n          new_precio_venta_desc * parseFloat(`0.${ieps < 10 ? `0${ieps}` : ieps}`);\n        let new_impuestos = new_iva_precio + new_ieps_precio;\n        let precio_con_descuento = new_precio_venta_desc + new_impuestos;\n\n        unidadXDefecto = {\n          ...unidadXDefecto,\n          precio: parseFloat(precio_neto.toFixed(2)),\n          descuento: {\n            ...unidadVentaXDefecto.descuento,\n            precio_neto: precio_con_descuento,\n          },\n        };\n      }\n    }\n    setUnidadVentaXDefecto(unidadXDefecto);\n\n    newPreciosP.splice(index, 1, preciosVenta);\n    setPreciosP(newPreciosP);\n  };\n\n  useEffect(() => {\n    if (preciosVenta.numero_precio === 1) {\n      calculos();\n    } else if (preciosVenta.numero_precio > 1 && preciosVenta.precio_neto) {\n      calculos();\n    }\n\n    /* preciosP.splice(index, 1, preciosVenta); */\n  }, [precios.unidad_de_compra.precio_unitario_con_impuesto]);\n\n  const verificarCampoVacio = (name, value) => {\n    switch (name) {\n      case \"utilidad\":\n        if (!value) {\n          preciosVenta.utilidad = 0;\n          preciosVenta.precio_neto =\n            precios.unidad_de_compra.precio_unitario_con_impuesto;\n          newPreciosP.splice(index, 1, preciosVenta);\n          setPreciosP(newPreciosP);\n        }\n        break;\n      case \"precio_neto\":\n        if (!value) {\n          preciosVenta.precio_neto =\n            preciosVenta.numero_precio > 1\n              ? 0\n              : precios.unidad_de_compra.precio_unitario_con_impuesto;\n          preciosVenta.utilidad = 0;\n          newPreciosP.splice(index, 1, preciosVenta);\n          setPreciosP(newPreciosP);\n        }\n        break;\n      case \"unidad_mayoreo\":\n        if (!value) {\n          preciosVenta.unidad_mayoreo = 0;\n          newPreciosP.splice(index, 1, preciosVenta);\n          setPreciosP(newPreciosP);\n        }\n        break;\n      default:\n        break;\n    }\n  };\n\n  return (\n    <Box className={classes.input}>\n      <Box display=\"flex\" my={1} mr={1}>\n        <Box\n          alignItems=\"flex-end\"\n          display={data.numero_precio > 1 ? \"none\" : \"flex\"}\n        >\n          <Typography className={classes.precioTitle}>\n            <b>Utilidad</b>\n          </Typography>\n        </Box>\n        <Box minWidth={100}>\n          <Typography>Precio {data.numero_precio}</Typography>\n          <Box mb={2} />\n          <TextField\n            disabled={\n              !parseFloat(precios.unidad_de_compra.precio_unitario_sin_impuesto)\n            }\n            fullWidth\n            type=\"number\"\n            InputProps={{\n              inputProps: { min: 0 },\n              endAdornment: <InputAdornment position=\"start\">%</InputAdornment>,\n            }}\n            size=\"small\"\n            value={preciosVenta.utilidad}\n            name=\"utilidad\"\n            variant=\"outlined\"\n            onChange={(e) => obtenerUtilidad(e.target.value)}\n            onBlur={() =>\n              verificarCampoVacio(\"utilidad\", preciosVenta.utilidad)\n            }\n            error={preciosVenta.utilidad === \"\"}\n          />\n        </Box>\n      </Box>\n      <Box display=\"flex\" my={2} mr={1}>\n        <Box\n          alignItems=\"flex-end\"\n          display={data.numero_precio > 1 ? \"none\" : \"flex\"}\n        >\n          <Box\n            alignItems=\"flex-end\"\n            flexDirection=\"column\"\n            display={data.numero_precio > 1 ? \"none\" : \"flex\"}\n          >\n            <Typography className={classes.precioTitle}>\n              <b>Precio de venta</b>\n            </Typography>\n            <Typography\n              className={classes.precioTitle}\n              variant=\"caption\"\n              color=\"textSecondary\"\n            >\n              (precio sin impuestos)\n            </Typography>\n          </Box>\n        </Box>\n        <Box pl={1}>\n          <Typography>\n            <b>{parseFloat(preciosVenta.precio_venta).toFixed(2)}</b>\n          </Typography>\n        </Box>\n      </Box>\n      <Box display=\"flex\" my={1} mr={1}>\n        <Box\n          alignItems=\"flex-end\"\n          flexDirection=\"column\"\n          display={data.numero_precio > 1 ? \"none\" : \"flex\"}\n        >\n          <Typography className={classes.precioTitle}>\n            <b>Precio venta neto</b>\n          </Typography>\n          <Typography\n            className={classes.precioTitle}\n            variant=\"caption\"\n            color=\"textSecondary\"\n          >\n            (precio con impuestos)\n          </Typography>\n        </Box>\n        <Box className={data.numero_precio > 1 ? classes.marginInput : \"\"}>\n          <TextField\n            disabled={\n              !parseFloat(precios.unidad_de_compra.precio_unitario_sin_impuesto)\n            }\n            fullWidth\n            type=\"number\"\n            InputProps={{ inputProps: { min: 0 } }}\n            size=\"small\"\n            name=\"precio_neto\"\n            variant=\"outlined\"\n            value={preciosVenta.precio_neto}\n            onChange={(e) => obtenerPrecioNeto(e.target.value)}\n            onBlur={() =>\n              verificarCampoVacio(\"precio_neto\", preciosVenta.precio_neto)\n            }\n            error={preciosVenta.precio_neto === \"\"}\n          />\n        </Box>\n      </Box>\n\n      <Box display=\"flex\" my={2} mr={1}>\n        <Box\n          alignItems=\"flex-end\"\n          display={data.numero_precio > 1 ? \"none\" : \"flex\"}\n        >\n          <Typography className={classes.precioTitle}>\n            <b>Unidad por mayoreo</b>\n          </Typography>\n        </Box>\n        {data.numero_precio > 1 ? (\n          <Box>\n            <TextField\n              disabled={\n                !parseFloat(\n                  precios.unidad_de_compra.precio_unitario_sin_impuesto\n                )\n              }\n              fullWidth\n              type=\"number\"\n              InputProps={{ inputProps: { min: 0 } }}\n              size=\"small\"\n              name=\"unidad_mayoreo\"\n              variant=\"outlined\"\n              value={preciosVenta.unidad_mayoreo}\n              onChange={(e) => obtenerMayoreo(e.target.value)}\n              onBlur={() =>\n                verificarCampoVacio(\n                  \"unidad_mayoreo\",\n                  preciosVenta.unidad_mayoreo\n                )\n              }\n              error={preciosVenta.unidad_mayoreo === \"\"}\n            />\n          </Box>\n        ) : null}\n      </Box>\n    </Box>\n  );\n};\n","export const calcular_iva = (input, name, value, precios) => {\n  let precio_con_impuesto = 0;\n  let precio_sin_impuesto = 0;\n  let iva = 0;\n  let ieps = 0;\n  let precio_unitario_sin_impuesto = 0;\n  let precio_unitario_con_impuesto = 0;\n  if (name === \"iva_activo\") {\n    if (value) {\n      precio_sin_impuesto = parseFloat(\n        precios.precio_de_compra.precio_sin_impuesto\n      );\n      iva = parseFloat(precio_sin_impuesto) * 0.16;\n      ieps =\n        parseFloat(precio_sin_impuesto) *\n        parseFloat(\n          precios.ieps < 10 ? \".0\" + precios.ieps : \".\" + precios.ieps\n        );\n      precio_con_impuesto = precio_sin_impuesto + iva + ieps;\n      precio_unitario_sin_impuesto =\n        precio_sin_impuesto / precios.unidad_de_compra.cantidad;\n      precio_unitario_con_impuesto =\n        precio_con_impuesto / precios.unidad_de_compra.cantidad;\n    } else {\n      precio_sin_impuesto = parseFloat(\n        precios.precio_de_compra.precio_sin_impuesto\n      );\n      iva = 0;\n      ieps =\n        parseFloat(precio_sin_impuesto) *\n        parseFloat(\n          precios.ieps < 10 ? \".0\" + precios.ieps : \".\" + precios.ieps\n        );\n      precio_con_impuesto = precio_sin_impuesto + iva + ieps;\n      precio_unitario_sin_impuesto =\n        precio_sin_impuesto / precios.unidad_de_compra.cantidad;\n      precio_unitario_con_impuesto =\n        precio_con_impuesto / precios.unidad_de_compra.cantidad;\n      if (!precios.ieps_activo) {\n        precio_con_impuesto = 0;\n        precio_unitario_con_impuesto =\n          precio_sin_impuesto / precios.unidad_de_compra.cantidad;\n      }\n    }\n  } else {\n    precio_sin_impuesto = parseFloat(\n      precios.precio_de_compra.precio_sin_impuesto\n    );\n    iva =\n      parseFloat(precio_sin_impuesto) *\n      parseFloat(value < 10 ? \".0\" + value : \".\" + value);\n    ieps =\n      parseFloat(precio_sin_impuesto) *\n      parseFloat(precios.ieps < 10 ? \".0\" + precios.ieps : \".\" + precios.ieps);\n    precio_con_impuesto = precio_sin_impuesto + iva + ieps;\n    precio_unitario_con_impuesto =\n      precio_con_impuesto / precios.unidad_de_compra.cantidad;\n    precio_unitario_sin_impuesto =\n      precio_sin_impuesto / precios.unidad_de_compra.cantidad;\n  }\n\n  return {\n    ...precios,\n    iva_activo: name === \"iva_activo\" ? value : precios.iva_activo,\n    iva: name === \"iva\" ? parseFloat(value) : value ? 16 : 0,\n    precio_de_compra: {\n      ...precios.precio_de_compra,\n      precio_sin_impuesto: parseFloat(precio_sin_impuesto.toFixed(2)),\n      iva: parseFloat(iva.toFixed(2)),\n      ieps: parseFloat(ieps.toFixed(2)),\n      precio_con_impuesto: parseFloat(precio_con_impuesto.toFixed(2)),\n    },\n    unidad_de_compra: {\n      ...precios.unidad_de_compra,\n      precio_unitario_sin_impuesto: parseFloat(\n        precio_unitario_sin_impuesto.toFixed(2)\n      ),\n      precio_unitario_con_impuesto: parseFloat(\n        precio_unitario_con_impuesto.toFixed(2)\n      ),\n    },\n  };\n};\n\nexport const calcular_ieps = (input, name, value, precios) => {\n  let precio_con_impuesto = 0;\n  let precio_sin_impuesto = 0;\n  let iva = 0;\n  let ieps = 0;\n  let precio_unitario_sin_impuesto = 0;\n  let precio_unitario_con_impuesto = 0;\n  if (name === \"ieps_activo\") {\n    if (value) {\n      precio_sin_impuesto = parseFloat(\n        precios.precio_de_compra.precio_sin_impuesto\n      );\n      iva =\n        parseFloat(precio_sin_impuesto) *\n        parseFloat(precios.iva < 10 ? \".0\" + precios.iva : \".\" + precios.iva);\n      ieps = parseFloat(precio_sin_impuesto) * precios.ieps;\n      precio_con_impuesto = precio_sin_impuesto + iva + ieps;\n      precio_unitario_sin_impuesto =\n        precio_sin_impuesto / precios.unidad_de_compra.cantidad;\n      precio_unitario_con_impuesto =\n        precio_con_impuesto / precios.unidad_de_compra.cantidad;\n    } else {\n      precio_sin_impuesto = parseFloat(\n        precios.precio_de_compra.precio_sin_impuesto\n      );\n      ieps = 0;\n      iva =\n        parseFloat(precio_sin_impuesto) *\n        parseFloat(precios.iva < 10 ? \".0\" + precios.iva : \".\" + precios.iva);\n      precio_con_impuesto = precio_sin_impuesto + iva + ieps;\n      precio_unitario_sin_impuesto =\n        precio_sin_impuesto / precios.unidad_de_compra.cantidad;\n      precio_unitario_con_impuesto =\n        precio_con_impuesto / precios.unidad_de_compra.cantidad;\n      if (!precios.iva_activo) {\n        precio_con_impuesto = 0;\n        precio_unitario_con_impuesto =\n          precio_sin_impuesto / precios.unidad_de_compra.cantidad;\n      }\n    }\n  } else {\n    precio_sin_impuesto = parseFloat(\n      precios.precio_de_compra.precio_sin_impuesto\n    );\n    iva =\n      parseFloat(precio_sin_impuesto) *\n      parseFloat(precios.iva < 10 ? \".0\" + precios.iva : \".\" + precios.iva);\n    ieps =\n      parseFloat(precio_sin_impuesto) *\n      parseFloat(value < 10 ? \".0\" + value : \".\" + value);\n    precio_con_impuesto = precio_sin_impuesto + iva + ieps;\n    precio_unitario_con_impuesto =\n      precio_con_impuesto / precios.unidad_de_compra.cantidad;\n    precio_unitario_sin_impuesto =\n      precio_sin_impuesto / precios.unidad_de_compra.cantidad;\n  }\n  return {\n    ...precios,\n    ieps_activo: name === \"ieps_activo\" ? value : precios.ieps_activo,\n    ieps: name === \"ieps\" ? parseFloat(value) : value ? precios.ieps : 0,\n    precio_de_compra: {\n      ...precios.precio_de_compra,\n      precio_sin_impuesto: parseFloat(precio_sin_impuesto.toFixed(2)),\n      iva: parseFloat(iva.toFixed(2)),\n      ieps: parseFloat(ieps.toFixed(2)),\n      precio_con_impuesto: parseFloat(precio_con_impuesto.toFixed(2)),\n    },\n    unidad_de_compra: {\n      ...precios.unidad_de_compra,\n      precio_unitario_sin_impuesto: parseFloat(\n        precio_unitario_sin_impuesto.toFixed(2)\n      ),\n      precio_unitario_con_impuesto: parseFloat(\n        precio_unitario_con_impuesto.toFixed(2)\n      ),\n    },\n  };\n};\n\n/* export const calcular_precios = (\n  input,\n  name,\n  value,\n  precios,\n  preciosP,\n  unidadVentaXDefecto\n) => {\n  \n    return \"hola piter\"\n\n  //retornar todo array de precios, preciosP y unidades de venta\n}; */\n","import React, { useContext, useEffect, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport {\n  Box,\n  Checkbox,\n  FormControlLabel,\n  TextField,\n  MenuItem,\n  FormHelperText,\n  InputAdornment,\n} from \"@material-ui/core\";\nimport { Typography, Divider, FormControl, Select } from \"@material-ui/core\";\nimport PreciosDeCompra from \"./UnidadesVenta\";\nimport { RegProductoContext } from \"../../../../../context/Catalogos/CtxRegProducto\";\nimport { Alert } from \"@material-ui/lab\";\nimport { useDebounce } from \"use-debounce/lib\";\nimport PreciosDeVenta from \"./Precios\";\nimport { unitCodes, unitCodes_granel } from \"../unidades\";\nimport { calcular_ieps, calcular_iva } from \"../calculos_precios\";\n\nconst useStyles = makeStyles((theme) => ({\n  formInputFlex: {\n    display: \"flex\",\n    \"& > *\": {\n      margin: `${theme.spacing(1)}px ${theme.spacing(1)}px`,\n    },\n    \"& .obligatorio\": {\n      color: \"red\",\n    },\n  },\n  formInput: {\n    margin: `${theme.spacing(0)}px ${theme.spacing(1)}px`,\n  },\n  precioTitle: {\n    width: theme.spacing(20),\n    display: \"flex\",\n    alignItems: \"center\",\n  },\n  input: {\n    \"& input[type=number]\": {\n      \"-moz-appearance\": \"textfield\",\n    },\n    \"& input[type=number]::-webkit-outer-spin-button\": {\n      \"-webkit-appearance\": \"none\",\n      margin: 0,\n    },\n    \"& input[type=number]::-webkit-inner-spin-button\": {\n      \"-webkit-appearance\": \"none\",\n      margin: 0,\n    },\n  },\n}));\n\nexport default function RegistroInfoAdidional() {\n  const classes = useStyles();\n  const {\n    precios,\n    setPrecios,\n    validacion,\n    preciosP,\n    update,\n    unidadVentaXDefecto,\n    setUnidadVentaXDefecto,\n  } = useContext(RegProductoContext);\n\n  /* CHECKBOX IVA */\n  const obtenerIva = async (e) => {\n    if (e.target.name === \"iva\" && !e.target.value) {\n      setPrecios({\n        ...precios,\n        iva: \"\",\n      });\n      return;\n    }\n    const name = e.target.name;\n    const value = name === \"iva_activo\" ? e.target.checked : e.target.value;\n    const result = await calcular_iva(\"iva\", name, value, precios, preciosP, unidadVentaXDefecto);\n    setPrecioConImpuesto(result.precio_de_compra.precio_con_impuesto)\n    setPrecioSinImpuesto(result.precio_de_compra.precio_sin_impuesto)\n    setPrecios(result);\n  };\n\n  /* CHECKBOX IEPS */\n  const obtenerIeps = async (e) => {\n    if (e.target.name === \"ieps\" && !e.target.value) {\n      setPrecios({\n        ...precios,\n        ieps: \"\",\n      });\n      return;\n    }\n    const name = e.target.name;\n    const value = name === \"ieps_activo\" ? e.target.checked : e.target.value;\n    const result = await calcular_ieps(\"ieps\", name, value, precios, preciosP, unidadVentaXDefecto);\n    setPrecioConImpuesto(result.precio_de_compra.precio_con_impuesto)\n    setPrecioSinImpuesto(result.precio_de_compra.precio_sin_impuesto)\n    setPrecios(result);\n  };\n\n  const [precioConImpuesto, setPrecioConImpuesto] = useState(\n    precios.precio_de_compra.precio_con_impuesto\n  );\n  const [precioSinImpuesto, setPrecioSinImpuesto] = useState(\n    precios.precio_de_compra.precio_sin_impuesto\n  );\n\n  const [PCI] = useDebounce(precioConImpuesto, 800);\n  const [PSI] = useDebounce(precioSinImpuesto, 800);\n\n  /* ARMAR OBJETO DE PRECIOS DE COMPRA */\n  const obtenerPrecioConImpuesto = (value) => {\n    let precio_con_impuesto = 0;\n    let total_impuesto = 0;\n    let precio_sin_impuesto = 0;\n    let iva = 0;\n    let ieps = 0;\n    let precio_unitario_sin_impuesto = 0;\n    let precio_unitario_con_impuesto = 0;\n\n    /* Precio con impuesto */\n    precio_con_impuesto = parseFloat(value);\n    total_impuesto =\n      parseFloat(precios.iva < 10 ? \".0\" + precios.iva : \".\" + precios.iva) +\n      parseFloat(precios.ieps < 10 ? \".0\" + precios.ieps : \".\" + precios.ieps);\n    precio_sin_impuesto = parseFloat(value) / parseFloat(total_impuesto + 1);\n    iva =\n      precio_sin_impuesto *\n      parseFloat(precios.iva < 10 ? \".0\" + precios.iva : \".\" + precios.iva);\n    ieps =\n      precio_sin_impuesto *\n      parseFloat(precios.ieps < 10 ? \".0\" + precios.ieps : \".\" + precios.ieps);\n    precio_unitario_con_impuesto =\n      precio_con_impuesto / precios.unidad_de_compra.cantidad;\n    precio_unitario_sin_impuesto =\n      precio_sin_impuesto / precios.unidad_de_compra.cantidad;\n\n    if (isNaN(precio_unitario_sin_impuesto)) precio_unitario_sin_impuesto = 0;\n    if (isNaN(precio_unitario_con_impuesto)) precio_unitario_con_impuesto = 0;\n    if (isNaN(iva)) iva = 0;\n    if (isNaN(ieps)) ieps = 0;\n    /* if (isNaN(precio_con_impuesto)) precio_con_impuesto = 0;\n\t\tif (isNaN(precio_sin_impuesto)) precio_sin_impuesto = 0; */\n\n    setPrecioSinImpuesto(parseFloat(precio_sin_impuesto.toFixed(2)));\n    setPrecios({\n      ...precios,\n      precio_de_compra: {\n        ...precios.precio_de_compra,\n        precio_sin_impuesto: parseFloat(precio_sin_impuesto.toFixed(2)),\n        iva: parseFloat(iva.toFixed(2)),\n        ieps: parseFloat(ieps.toFixed(2)),\n        precio_con_impuesto: parseFloat(precio_con_impuesto.toFixed(2)),\n      },\n      unidad_de_compra: {\n        ...precios.unidad_de_compra,\n        precio_unitario_sin_impuesto: parseFloat(\n          precio_unitario_sin_impuesto.toFixed(2)\n        ),\n        precio_unitario_con_impuesto: parseFloat(\n          precio_unitario_con_impuesto.toFixed(2)\n        ),\n      },\n    });\n  };\n\n  /* ARMAR OBJETO DE PRECIOS DE COMPRA */\n  const obtenerPrecioSinImpuesto = (value) => {\n    let precio_con_impuesto = 0;\n    let precio_sin_impuesto = 0;\n    let iva = 0;\n    let ieps = 0;\n    let precio_unitario_sin_impuesto = 0;\n    let precio_unitario_con_impuesto = 0;\n\n    /* Precio sin impuesto */\n    precio_sin_impuesto = parseFloat(value);\n    iva =\n      parseFloat(value) *\n      parseFloat(precios.iva < 10 ? \".0\" + precios.iva : \".\" + precios.iva);\n    ieps =\n      parseFloat(value) *\n      parseFloat(precios.ieps < 10 ? \".0\" + precios.ieps : \".\" + precios.ieps);\n    precio_con_impuesto = precio_sin_impuesto + iva + ieps;\n    precio_unitario_sin_impuesto =\n      precio_sin_impuesto / precios.unidad_de_compra.cantidad;\n    precio_unitario_con_impuesto =\n      precio_con_impuesto / precios.unidad_de_compra.cantidad;\n    if (!precios.iva_activo && !precios.ieps_activo) {\n      precio_con_impuesto = precio_sin_impuesto /*  / precios.unidad_de_compra.cantidad */;\n      precio_unitario_con_impuesto =\n        precio_sin_impuesto / precios.unidad_de_compra.cantidad;\n    }\n\n    if (isNaN(precio_unitario_sin_impuesto)) precio_unitario_sin_impuesto = 0;\n    if (isNaN(precio_unitario_con_impuesto)) precio_unitario_con_impuesto = 0;\n    if (isNaN(iva)) iva = 0;\n    if (isNaN(ieps)) ieps = 0;\n    /* if (isNaN(precio_con_impuesto)) precio_con_impuesto = 0;\n\t\tif (isNaN(precio_sin_impuesto)) precio_sin_impuesto = 0; */\n\n    setPrecioConImpuesto(parseFloat(precio_con_impuesto.toFixed(2)));\n    setPrecios({\n      ...precios,\n      precio_de_compra: {\n        ...precios.precio_de_compra,\n        precio_sin_impuesto: parseFloat(precio_sin_impuesto.toFixed(2)),\n        iva: parseFloat(iva.toFixed(2)),\n        ieps: parseFloat(ieps.toFixed(2)),\n        precio_con_impuesto: parseFloat(precio_con_impuesto.toFixed(2)),\n      },\n      unidad_de_compra: {\n        ...precios.unidad_de_compra,\n        precio_unitario_sin_impuesto: parseFloat(\n          precio_unitario_sin_impuesto.toFixed(2)\n        ),\n        precio_unitario_con_impuesto: parseFloat(\n          precio_unitario_con_impuesto.toFixed(2)\n        ),\n      },\n    });\n  };\n\n  /* ARMAR OBJETO DE UNIDAD DE COMPRA */\n  const obtenerUnidadCompra = (e, child) => {\n    if (e.target.name === \"unidad\") {\n      const { codigo_unidad, unidad } = child.props.unidad;\n      if (unidad === \"Caja\" || unidad === \"Costal\") {\n        let precio = unidadVentaXDefecto.cantidad * unidadVentaXDefecto.precio;\n        setUnidadVentaXDefecto({\n          ...unidadVentaXDefecto,\n          precio: parseFloat(precio.toFixed(2)),\n          codigo_unidad,\n          unidad,\n        });\n        setPrecios({\n          ...precios,\n          unidad_de_compra: {\n            ...precios.unidad_de_compra,\n            unidad,\n            codigo_unidad,\n          },\n          inventario: {\n            ...precios.inventario,\n            unidad_de_inventario: unidad,\n            codigo_unidad,\n          },\n        });\n      } else {\n        setUnidadVentaXDefecto({\n          ...unidadVentaXDefecto,\n          unidad: e.target.value,\n          cantidad: 1,\n          precio: preciosP[0].precio_neto\n            ? preciosP[0].precio_neto\n            : precios.unidad_de_compra.precio_unitario_con_impuesto,\n        });\n        setPrecios({\n          ...precios,\n          unidad_de_compra: {\n            ...precios.unidad_de_compra,\n            [e.target.name]: e.target.value,\n            cantidad: 1,\n          },\n          inventario: {\n            ...precios.inventario,\n            unidad_de_inventario: e.target.value,\n          },\n        });\n      }\n    } else {\n      if (!precios.iva_activo && !precios.ieps_activo) {\n        setPrecios({\n          ...precios,\n          unidad_de_compra: {\n            ...precios.unidad_de_compra,\n            [e.target.name]: parseFloat(e.target.value),\n            precio_unitario_sin_impuesto: parseFloat(\n              (\n                precios.precio_de_compra.precio_sin_impuesto / e.target.value\n              ).toFixed(2)\n            ),\n            precio_unitario_con_impuesto: parseFloat(\n              (\n                precios.precio_de_compra.precio_sin_impuesto / e.target.value\n              ).toFixed(2)\n            ),\n          },\n        });\n      } else {\n        setPrecios({\n          ...precios,\n          unidad_de_compra: {\n            ...precios.unidad_de_compra,\n            [e.target.name]: parseFloat(e.target.value),\n            precio_unitario_sin_impuesto: parseFloat(\n              (\n                precios.precio_de_compra.precio_sin_impuesto / e.target.value\n              ).toFixed(2)\n            ),\n            precio_unitario_con_impuesto: parseFloat(\n              (\n                precios.precio_de_compra.precio_con_impuesto / e.target.value\n              ).toFixed(2)\n            ),\n          },\n        });\n      }\n      setUnidadVentaXDefecto({\n        ...unidadVentaXDefecto,\n        cantidad:\n          precios.unidad_de_compra.unidad !== \"Caja\" ||\n          precios.unidad_de_compra.unidad !== \"Costal\"\n            ? 1\n            : parseFloat(e.target.value),\n      });\n    }\n  };\n\n  const verificarCampoVacio = (name, value) => {\n    if (!value) {\n      setPrecios({\n        ...precios,\n        [name]: 0,\n      });\n    }\n  };\n\n  useEffect(() => {\n    obtenerPrecioConImpuesto(PCI);\n  }, [PCI]);\n\n  useEffect(() => {\n    obtenerPrecioSinImpuesto(PSI);\n  }, [PSI]);\n\n  return (\n    <Box>\n      <div className={classes.input}>\n        <Box>\n          <Typography>\n            <b>Impuestos</b>\n          </Typography>\n        </Box>\n        <Divider />\n        <Box display=\"flex\" alignItems=\"center\" justifyContent=\"center\" my={1}>\n          <FormControlLabel\n            control={\n              <Checkbox\n                checked={precios.iva_activo}\n                onChange={obtenerIva}\n                name=\"iva_activo\"\n              />\n            }\n            label=\"IVA\"\n          />\n          <Box>\n            <TextField\n              disabled={!precios.iva_activo}\n              label=\"porcentaje IVA\"\n              type=\"number\"\n              InputProps={{\n                inputProps: { min: 0 },\n                endAdornment: (\n                  <InputAdornment position=\"start\">%</InputAdornment>\n                ),\n              }}\n              size=\"small\"\n              name=\"iva\"\n              id=\"form-producto-iva\"\n              variant=\"outlined\"\n              value={precios.iva}\n              onChange={obtenerIva}\n              onBlur={() => verificarCampoVacio(\"iva\", precios.iva)}\n              error={precios.iva === \"\"}\n            />\n          </Box>\n          <Box mx={5} />\n          <FormControlLabel\n            control={\n              <Checkbox\n                checked={precios.ieps_activo}\n                onChange={obtenerIeps}\n                name=\"ieps_activo\"\n              />\n            }\n            label=\"IEPS\"\n          />\n          <Box>\n            <TextField\n              disabled={!precios.ieps_activo}\n              label=\"porcentaje IEPS\"\n              type=\"number\"\n              InputProps={{\n                inputProps: { min: 0 },\n                endAdornment: (\n                  <InputAdornment position=\"start\">%</InputAdornment>\n                ),\n              }}\n              size=\"small\"\n              name=\"ieps\"\n              id=\"form-producto-ieps\"\n              variant=\"outlined\"\n              value={precios.ieps}\n              onChange={obtenerIeps}\n              onBlur={() => verificarCampoVacio(\"ieps\", precios.ieps)}\n              error={precios.ieps === \"\"}\n            />\n          </Box>\n          <Box display=\"flex\" alignItems=\"center\" ml={1}>\n            <Alert severity=\"info\">Selecciona los impuestos aplicables</Alert>\n          </Box>\n        </Box>\n        <Box mt={3}>\n          <Typography>\n            <b>Precios y unidad de compra</b>\n          </Typography>\n        </Box>\n        <Divider />\n        <Box className={classes.formInputFlex} justifyContent=\"center\">\n          <Box>\n            <Typography>Unidad de compra</Typography>\n            <Box display=\"flex\">\n              <FormControl\n                variant=\"outlined\"\n                fullWidth\n                size=\"small\"\n                error={validacion.error && !precios.unidad_de_compra.unidad}\n              >\n                {precios.granel ? (\n                  <Select\n                    disabled={update}\n                    id=\"form-producto-categoria\"\n                    name=\"unidad\"\n                    value={precios.unidad_de_compra.unidad}\n                    onChange={obtenerUnidadCompra}\n                  >\n                    {unitCodes_granel.map((res, index) => (\n                      <MenuItem key={index} unidad={res} value={res.unidad}>\n                        {res.unidad}\n                      </MenuItem>\n                    ))}\n                  </Select>\n                ) : (\n                  <Select\n                    disabled={update}\n                    id=\"form-producto-categoria\"\n                    name=\"unidad\"\n                    value={precios.unidad_de_compra.unidad}\n                    onChange={obtenerUnidadCompra}\n                  >\n                    {unitCodes.map((res, index) => (\n                      <MenuItem key={index} unidad={res} value={res.unidad}>\n                        {res.unidad}\n                      </MenuItem>\n                    ))}\n                  </Select>\n                )}\n                <FormHelperText>{validacion.message}</FormHelperText>\n              </FormControl>\n            </Box>\n          </Box>\n          <Box>\n            <Typography align=\"center\">Unidad de conversion</Typography>\n            <Typography align=\"center\" variant=\"h6\">\n              <b>\n                {precios.unidad_de_compra.unidad === \"Caja\"\n                  ? \"Pz\"\n                  : precios.unidad_de_compra.unidad === \"Costal\"\n                  ? \"Kg\"\n                  : precios.unidad_de_compra.unidad}\n              </b>\n            </Typography>\n          </Box>\n          <Box>\n            <Typography>\n              <span className=\"obligatorio\">* </span>Factor por Unidad\n            </Typography>\n            <TextField\n              disabled={\n                precios.unidad_de_compra.unidad === \"Caja\" ||\n                precios.unidad_de_compra.unidad === \"Costal\"\n                  ? false\n                  : true\n              }\n              type=\"number\"\n              InputProps={{ inputProps: { min: 1 } }}\n              size=\"small\"\n              error={validacion.error && !precios.unidad_de_compra.cantidad}\n              name=\"cantidad\"\n              id=\"form-producto-cantidad\"\n              variant=\"outlined\"\n              value={precios.unidad_de_compra.cantidad}\n              helperText={validacion.message}\n              onChange={obtenerUnidadCompra}\n            />\n          </Box>\n          <Box>\n            <Typography>\n              <span className=\"obligatorio\">* </span>Precio sin impuestos\n            </Typography>\n            <TextField\n              type=\"number\"\n              InputProps={{ inputProps: { min: 0 } }}\n              size=\"small\"\n              error={validacion.error && !precioSinImpuesto}\n              name=\"precio_sin_impuesto\"\n              id=\"form-producto-precio_sin_impuesto\"\n              variant=\"outlined\"\n              value={precioSinImpuesto}\n              helperText={validacion.message}\n              onChange={(e) => setPrecioSinImpuesto(e.target.value)}\n            />\n          </Box>\n          <Box>\n            <Typography>\n              <span className=\"obligatorio\">* </span>Precio con impuestos\n            </Typography>\n            <TextField\n              disabled={!precios.iva_activo && !precios.ieps_activo}\n              type=\"number\"\n              InputProps={{ inputProps: { min: 0 } }}\n              size=\"small\"\n              error={validacion.error && !precioConImpuesto}\n              name=\"precio_con_impuesto\"\n              id=\"form-producto-precio_con_impuesto\"\n              variant=\"outlined\"\n              value={precioConImpuesto}\n              helperText={validacion.message}\n              onChange={(e) => setPrecioConImpuesto(e.target.value)}\n            />\n          </Box>\n        </Box>\n        <Box className={classes.formInputFlex} justifyContent=\"center\">\n          <Box width=\"120px\">\n            <Typography align=\"center\">IVA</Typography>\n            <Typography align=\"center\" variant=\"h6\">\n              <b>$ {parseFloat(precios.precio_de_compra.iva).toFixed(2)}</b>\n            </Typography>\n          </Box>\n          <Box width=\"120px\">\n            <Typography align=\"center\">IEPS</Typography>\n            <Typography align=\"center\" variant=\"h6\">\n              <b>$ {parseFloat(precios.precio_de_compra.ieps).toFixed(2)}</b>\n            </Typography>\n          </Box>\n          <Box>\n            <Typography align=\"center\">\n              Precio unitario sin impuestos\n            </Typography>\n            <Typography align=\"center\" variant=\"h6\">\n              <b>\n                ${\" \"}\n                {parseFloat(\n                  precios.unidad_de_compra.precio_unitario_sin_impuesto\n                ).toFixed(2)}\n              </b>\n            </Typography>\n          </Box>\n          <Box>\n            <Typography align=\"center\">\n              Precio unitario con impuestos\n            </Typography>\n            <Typography align=\"center\" variant=\"h6\">\n              <b>\n                ${\" \"}\n                {parseFloat(\n                  precios.unidad_de_compra.precio_unitario_con_impuesto\n                ).toFixed(2)}\n              </b>\n            </Typography>\n          </Box>\n        </Box>\n        <Box mt={1}>\n          <Typography>\n            <b>Precios de venta</b>\n          </Typography>\n        </Box>\n        <Divider />\n        <Box display=\"flex\">\n          <PreciosDeVenta /* key={index} data={res} index={index} */ />\n          {/* {preciosP.map((res, index) => (\n            \n          ))} */}\n        </Box>\n        <Box mt={2}>\n          <Typography>\n            <b>Unidades de venta</b>\n          </Typography>\n        </Box>\n        <Divider />\n        <Box>\n          <PreciosDeCompra />\n        </Box>\n      </div>\n    </Box>\n  );\n}\n","import React, { createContext, useState } from \"react\";\nimport { initial_state_precios } from \"../Catalogos/initialStatesProducto\";\nimport moment from \"moment\";\n\nexport const ComprasContext = createContext();\n\nexport const ComprasProvider = ({ children }) => {\n  const [datosProducto, setDatosProducto] = useState({\n    producto: {},\n    costo: 0,\n    cantidad: 1,\n    cantidad_regalo: 0,\n    unidad_regalo: \"\",\n    cantidad_total: 0,\n    descuento_porcentaje: 0,\n    descuento_precio: 0,\n    iva_total: 0,\n    ieps_total: 0,\n    subtotal: 0,\n    impuestos: 0,\n    total: 0,\n    mantener_precio: true,\n    subtotal_descuento: 0,\n    total_descuento: 0,\n  });\n\n  const [datosCompra, setDatosCompra] = useState({\n    productos: [],\n    proveedor: {},\n    en_espera: false,\n    fecha_registro: moment().locale(\"es-mx\").format(\"YYYY-MM-DD\"),\n    almacen: {},\n    compra_credito: false,\n    fecha_vencimiento_credito: moment().locale(\"es-mx\").format(\"YYYY-MM-DD\"),\n    credito_pagado: false,\n    saldo_credito_pendiente: 0,\n    forma_pago: \"\",\n    descuento_aplicado: false,\n    descuento: {\n      porcentaje: 0,\n      cantidad_descontada: 0,\n      precio_con_descuento: 0,\n    },\n    subtotal: 0,\n    impuestos: 0,\n    total: 0,\n  });\n\n  const [preciosVenta, setPreciosVenta] = useState([\n    {\n      numero_precio: 1,\n      utilidad: 0,\n      precio_neto: 0,\n      unidad_mayoreo: 0,\n      precio_venta: 0,\n      iva_precio: 0,\n      ieps_precio: 0,\n    },\n    {\n      numero_precio: 2,\n      utilidad: 0,\n      precio_neto: 0,\n      unidad_mayoreo: 0,\n      precio_venta: 0,\n      iva_precio: 0,\n      ieps_precio: 0,\n    },\n    {\n      numero_precio: 3,\n      utilidad: 0,\n      precio_neto: 0,\n      unidad_mayoreo: 0,\n      precio_venta: 0,\n      iva_precio: 0,\n      ieps_precio: 0,\n    },\n    {\n      numero_precio: 4,\n      utilidad: 0,\n      precio_neto: 0,\n      unidad_mayoreo: 0,\n      precio_venta: 0,\n      iva_precio: 0,\n      ieps_precio: 0,\n    },\n    {\n      numero_precio: 5,\n      utilidad: 0,\n      precio_neto: 0,\n      unidad_mayoreo: 0,\n      precio_venta: 0,\n      iva_precio: 0,\n      ieps_precio: 0,\n    },\n    {\n      numero_precio: 6,\n      utilidad: 0,\n      precio_neto: 0,\n      unidad_mayoreo: 0,\n      precio_venta: 0,\n      iva_precio: 0,\n      ieps_precio: 0,\n    },\n  ]);\n\n  const [productoOriginal, setProductoOriginal] = useState({\n    precios: initial_state_precios,\n  });\n  const [productosCompra, setProductosCompra] = useState([]);\n  const [isEditing, setIsEditing] = useState({});\n  const [editFinish, setEditFinish] = useState(false);\n  const [costo, setCosto] = useState(0);\n  const [cantidad, setCantidad] = useState(1);\n  const [issue, setIssue] = useState(false);\n  const [loadingProductos, setLoadingProductos] = useState(false);\n\n  const [descuentoCompra, setDescuentoCompra] = useState({\n    subtotal: 0,\n    total: 0,\n    descuento_aplicado: false,\n    porcentaje: 0,\n    cantidad_descontada: 0,\n    precio_con_descuento: 0,\n  });\n\n  return (\n    <ComprasContext.Provider\n      value={{\n        datosProducto,\n        setDatosProducto,\n        productosCompra,\n        setProductosCompra,\n        datosCompra,\n        setDatosCompra,\n        productoOriginal,\n        setProductoOriginal,\n        preciosVenta,\n        setPreciosVenta,\n        isEditing,\n        setIsEditing,\n        editFinish,\n        setEditFinish,\n        costo,\n        setCosto,\n        cantidad,\n        setCantidad,\n        issue,\n        setIssue,\n        loadingProductos,\n        setLoadingProductos,\n        descuentoCompra,\n        setDescuentoCompra,\n      }}\n    >\n      {children}\n    </ComprasContext.Provider>\n  );\n};\n","import React, {\n  Fragment,\n  useContext,\n  useEffect,\n  useRef,\n  useState,\n} from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Input from \"@material-ui/core/Input\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Checkbox from \"@material-ui/core/Checkbox\";\nimport { RegProductoContext } from \"../../../../../context/Catalogos/CtxRegProducto\";\nimport {\n  Box,\n  Chip,\n  IconButton,\n  Tooltip,\n  Typography,\n  Zoom,\n} from \"@material-ui/core\";\nimport {\n  Cached,\n  Close,\n  Edit,\n  LocalOffer,\n  LocalOfferOutlined,\n} from \"@material-ui/icons\";\nimport { alpha } from \"@material-ui/core/styles/colorManipulator\";\n\nconst compareFunction = (a, b) => {\n  if (a.medida.talla && b.medida.talla) {\n    return a.medida.talla.localeCompare(b.medida.talla);\n  }\n};\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: \"100%\",\n  },\n  paper: {\n    width: \"100%\",\n    marginBottom: theme.spacing(2),\n  },\n  table: {\n    minWidth: 750,\n  },\n  container: {\n    maxHeight: \"65vh\",\n  },\n  tableRow: {\n    \"&.Mui-selected, &.Mui-selected:hover\": {\n      backgroundColor: alpha(theme.palette.primary.main, 0.1),\n    },\n  },\n  visuallyHidden: {\n    border: 0,\n    clip: \"rect(0 0 0 0)\",\n    height: 1,\n    margin: -1,\n    overflow: \"hidden\",\n    padding: 0,\n    position: \"absolute\",\n    top: 20,\n    width: 1,\n  },\n  colorContainer: {\n    border: \"1px solid rgba(0,0,0, .3)\",\n    height: 30,\n    width: 30,\n    borderRadius: \"15%\",\n  },\n  input: {\n    \"& input[type=number]\": {\n      \"-moz-appearance\": \"textfield\",\n    },\n    \"& input[type=number]::-webkit-outer-spin-button\": {\n      \"-webkit-appearance\": \"none\",\n      margin: 0,\n    },\n    \"& input[type=number]::-webkit-inner-spin-button\": {\n      \"-webkit-appearance\": \"none\",\n      margin: 0,\n    },\n  },\n}));\n\nexport default function TablaPresentaciones({\n  from,\n  setOnUpdate,\n  onUpdate,\n  withoutPrice,\n  onlyPrice,\n}) {\n  const classes = useStyles();\n  const { presentaciones, setPresentaciones } = useContext(RegProductoContext);\n\n  let mostrar_presentaciones = [...presentaciones].sort((a, b) =>\n    compareFunction(a, b)\n  );\n\n  /* useEffect(() => {\n    let nuevo_array = [];\n    mostrar_presentaciones.forEach((element) => {\n      let obj = {\n        codigo_barras: element.codigo_barras,\n        cantidad: parseFloat(element.cantidad),\n        descuento: element.descuento,\n        descuento_activo: element.descuento_activo,\n        color: element.color,\n        existencia: element.existencia,\n        medida: element.medida,\n        nombre_comercial: element.nombre_comercial,\n      };\n\n      if (element.descuento_activo === true) {\n        obj.aplicar_descuento = true;\n        obj.precio = parseFloat(element.descuento.precio_neto);\n      } else {\n        obj.aplicar_descuento = false;\n        obj.precio = parseFloat(element.precio);\n      }\n      nuevo_array.push(obj);\n    });\n    setPresentaciones(nuevo_array);\n  }, []); */\n\n  return (\n    <div className={classes.root}>\n      <Paper className={classes.paper}>\n        <TableContainer className={classes.container}>\n          <Table\n            className={classes.table}\n            aria-labelledby=\"tableTitle\"\n            size=\"small\"\n            aria-label=\"enhanced table\"\n            stickyHeader\n          >\n            <TableHead>\n              <TableRow>\n                <TableCell>Existencia</TableCell>\n                <TableCell>Código de barras</TableCell>\n                <TableCell width={200}>Nombre</TableCell>\n                <TableCell padding=\"checkbox\">Medida</TableCell>\n                <TableCell padding=\"checkbox\">Color</TableCell>\n                {!withoutPrice ? (\n                  <Fragment>\n                    <TableCell>Precio</TableCell>\n                    <TableCell padding=\"checkbox\">Aplicar descuento</TableCell>\n                  </Fragment>\n                ) : null}\n                {!onlyPrice ? (\n                  <Fragment>\n                    {from && from === \"compra\" ? (\n                      <TableCell padding=\"checkbox\">Existente</TableCell>\n                    ) : null}\n                    <TableCell padding=\"checkbox\">Cantidad</TableCell>\n                  </Fragment>\n                ) : null}\n                <TableCell padding=\"checkbox\">Editar</TableCell>\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {mostrar_presentaciones.map((producto, index) => {\n                return (\n                  <RenderPresentacionesRows\n                    key={index}\n                    producto={producto}\n                    index={index}\n                    from={from}\n                    setOnUpdate={setOnUpdate}\n                    onUpdate={onUpdate}\n                    withoutPrice={withoutPrice}\n                    onlyPrice={onlyPrice}\n                  />\n                );\n              })}\n            </TableBody>\n          </Table>\n        </TableContainer>\n      </Paper>\n    </div>\n  );\n}\n\nconst RenderPresentacionesRows = ({\n  producto,\n  index,\n  from,\n  setOnUpdate,\n  onUpdate,\n  withoutPrice,\n  onlyPrice,\n}) => {\n  const { presentaciones, setPresentaciones, preciosP, precios, unidadVentaXDefecto, setUnidadVentaXDefecto } = useContext(\n    RegProductoContext\n  );\n  const [disabledInput, setDisabledInput] = useState(true);\n  const classes = useStyles();\n  const textfield = useRef(null);\n\n  const copy_presentaciones = [...presentaciones].sort((a, b) =>\n    compareFunction(a, b)\n  );\n  const copy_element_presentacion = { ...copy_presentaciones[index] };\n  const copy_element_presentacion_descuento = {\n    ...copy_presentaciones[index].descuento,\n  };\n  const copy_producto = { ...producto };\n\n  /* if(from && from === 'compra'){\n\t\tcopy_producto.cantidad_nueva = 0\n\t} */\n\n  const handleEditCancel = () => {\n    if (!copy_producto.cantidad) {\n      copy_element_presentacion.cantidad = 0;\n    }\n    if (!copy_producto.cantidad_nueva) {\n      copy_element_presentacion.cantidad_nueva = 0;\n    }\n    if (!copy_producto.precio) {\n      copy_element_presentacion.precio = preciosP[0].precio_neto;\n    }\n    copy_presentaciones.splice(index, 1, copy_element_presentacion);\n    setPresentaciones(copy_presentaciones);\n    setDisabledInput(true);\n  };\n\n  const obtenerDatos = (e) => {\n    const { name, value } = e.target;\n    if (name === \"cantidad\") {\n      if (!value) {\n        copy_element_presentacion.cantidad = \"\";\n        copy_element_presentacion.existencia = false;\n        copy_presentaciones.splice(index, 1, copy_element_presentacion);\n        setPresentaciones(copy_presentaciones);\n        return;\n      }\n      if (value === \"0\") {\n        copy_element_presentacion.existencia = false;\n      } else {\n        copy_element_presentacion.existencia = true;\n      }\n      copy_element_presentacion.cantidad = parseFloat(value);\n    } else if (name === \"cantidad_nueva\") {\n      if (!value) {\n        copy_element_presentacion.cantidad_nueva = \"\";\n        copy_element_presentacion.existencia = copy_producto.existencia;\n        copy_presentaciones.splice(index, 1, copy_element_presentacion);\n        setPresentaciones(copy_presentaciones);\n        return;\n      }\n      copy_element_presentacion.cantidad_nueva = parseFloat(value);\n      copy_element_presentacion.existencia = true;\n    } else if (name === \"precio\") {\n      if (!value) {\n        copy_element_presentacion.precio = \"\";\n        copy_presentaciones.splice(index, 1, copy_element_presentacion);\n        setPresentaciones(copy_presentaciones);\n        return;\n      }\n      let precio_neto = parseFloat(value);\n      let { iva, ieps } = precios;\n      let suma_impuestos = parseFloat(`0.${iva < 10 ? `0${iva}` : iva}`) + parseFloat(`0.${ieps < 10 ? `0${ieps}` : ieps}`);\n      let precio_venta = parseFloat((precio_neto / (suma_impuestos+1)).toFixed(2));\n      let iva_precio = parseFloat((precio_venta * parseFloat(`0.${iva < 10 ? `0${iva}` : iva}`)).toFixed(2));\n      let ieps_precio = parseFloat((precio_venta * parseFloat(`0.${ieps < 10 ? `0${ieps}` : ieps}`)).toFixed(2));\n      let PUCSI = precios.unidad_de_compra.precio_unitario_sin_impuesto;\n      let utilidad = parseFloat((((precio_venta - PUCSI) / PUCSI) * 100).toFixed(2));\n      \n\n      let {descuento_activo, descuento} = copy_element_presentacion;\n      if (descuento_activo && descuento_activo === true) {\n        let new_precio_venta_desc = (precio_venta * descuento.porciento) / 100;\n        let new_iva_precio =\n          new_precio_venta_desc * parseFloat(`0.${iva < 10 ? `0${iva}` : iva}`);\n        let new_ieps_precio =\n          new_precio_venta_desc * parseFloat(`0.${ieps < 10 ? `0${ieps}` : ieps}`);\n        let new_impuestos = new_iva_precio + new_ieps_precio;\n        let precio_con_descuento = new_precio_venta_desc + new_impuestos;\n\n        copy_element_presentacion_descuento.precio_neto = parseFloat(\n          (precio_con_descuento).toFixed(2)\n        );\n        copy_element_presentacion.precio = parseFloat(value);\n        copy_element_presentacion.descuento = copy_element_presentacion_descuento;\n      } else {\n        copy_element_presentacion.precio = parseFloat(value);\n      }\n      copy_element_presentacion.precio_unidad.precio_venta = precio_venta;\n      copy_element_presentacion.precio_unidad.precio_neto = precio_neto;\n      copy_element_presentacion.precio_unidad.utilidad = utilidad;\n      copy_element_presentacion.precio_unidad.iva_precio = iva_precio;\n      copy_element_presentacion.precio_unidad.ieps_precio = ieps_precio;\n    } else {\n      if (!value) {\n        copy_element_presentacion.codigo_barras = \"\";\n        copy_presentaciones.splice(index, 1, copy_element_presentacion);\n        setPresentaciones(copy_presentaciones);\n        return;\n      }\n      copy_element_presentacion.codigo_barras = value;\n    }\n    copy_presentaciones.splice(index, 1, copy_element_presentacion);\n    setPresentaciones(copy_presentaciones);\n  };\n\n  const GenCodigoBarras = () => {\n    const max = 999999999999;\n    const min = 100000000000;\n    const codigo_barras = Math.floor(\n      Math.random() * (max - min + 1) + min\n    ).toString();\n    copy_element_presentacion.codigo_barras = codigo_barras;\n    copy_presentaciones.splice(index, 1, copy_element_presentacion);\n    setPresentaciones(copy_presentaciones);\n  };\n\n  const actionButton = () => {\n    if (!disabledInput) {\n      handleEditCancel();\n      /* quitar del array\t */\n      onUpdate.splice(onUpdate.length - 1, 1);\n      setOnUpdate([...onUpdate]);\n    } else {\n      setDisabledInput(!disabledInput);\n      /*  agregar al array */\n      setOnUpdate([...onUpdate, index]);\n    }\n  };\n\n  const aplicarDescuento = (value) => {\n    copy_element_presentacion.descuento_activo = value;\n\n    let precio_con_descuento = 0;\n    let { iva, ieps } = precios;\n    let {descuento, precio} = copy_element_presentacion;\n    let suma =\n      parseFloat(`0.${iva < 10 ? `0${iva}` : iva}`) +\n      parseFloat(`0.${ieps < 10 ? `0${ieps}` : ieps}`);\n    let precio_venta = parseFloat((precio / (suma + 1)).toFixed(2));\n\n    if(value){\n      let new_precio_venta_desc = (precio_venta * descuento.porciento) / 100;\n        let new_iva_precio =\n          new_precio_venta_desc * parseFloat(`0.${iva < 10 ? `0${iva}` : iva}`);\n        let new_ieps_precio =\n          new_precio_venta_desc * parseFloat(`0.${ieps < 10 ? `0${ieps}` : ieps}`);\n        let new_impuestos = new_iva_precio + new_ieps_precio;\n        precio_con_descuento = new_precio_venta_desc + new_impuestos;\n    }else{\n      precio_con_descuento = precio\n    }\n    \n    copy_element_presentacion_descuento.precio_neto = parseFloat(\n      (precio_con_descuento).toFixed(2)\n    );\n    /* copy_element_presentacion.precio = parseFloat(value); */\n    copy_element_presentacion.descuento = copy_element_presentacion_descuento;\n  \n    copy_presentaciones.splice(index, 1, copy_element_presentacion);\n    setPresentaciones(copy_presentaciones);\n  };\n\n  return (\n    <TableRow hover selected={!disabledInput} className={classes.tableRow}>\n      <TableCell align=\"center\" padding=\"checkbox\">\n        <Checkbox checked={copy_producto.existencia} color=\"primary\" />\n      </TableCell>\n      <TableCell width={220}>\n        <Box display=\"flex\">\n          <Input\n            inputRef={textfield}\n            onChange={(e) => obtenerDatos(e)}\n            /* disabled={disabledInput} */\n            value={copy_producto.codigo_barras}\n            type=\"number\"\n            name=\"codigo_barras\"\n            disabled={\n              presentaciones.length > 0 && !copy_producto.nuevo\n                ? true\n                : disabledInput\n            }\n          />\n          {presentaciones.length === 0 && copy_producto.nuevo ? (\n            <IconButton\n              color=\"primary\"\n              size=\"small\"\n              onClick={() => GenCodigoBarras()}\n            >\n              <Cached />\n            </IconButton>\n          ) : presentaciones.length > 0 && copy_producto.nuevo ? (\n            <IconButton\n              color=\"primary\"\n              size=\"small\"\n              onClick={() => GenCodigoBarras()}\n            >\n              <Cached />\n            </IconButton>\n          ) : null}\n        </Box>\n      </TableCell>\n      <TableCell width={200}>{copy_producto.nombre_comercial}</TableCell>\n      <TableCell padding=\"checkbox\">\n        {copy_producto.medida._id ? (\n          <Chip label={copy_producto.medida.talla} color=\"primary\" />\n        ) : (\n          \"\"\n        )}\n      </TableCell>\n      <TableCell padding=\"checkbox\">\n        {copy_producto.color._id ? (\n          <Tooltip\n            title={copy_producto.color.nombre}\n            placement=\"top\"\n            arrow\n            TransitionComponent={Zoom}\n          >\n            <div\n              className={classes.colorContainer}\n              style={{\n                backgroundColor: copy_producto.color.hex,\n              }}\n            />\n          </Tooltip>\n        ) : null}\n      </TableCell>\n      {!withoutPrice ? (\n        <Fragment>\n          <TableCell width={110} className={classes.input}>\n            <Input\n              inputRef={textfield}\n              onChange={(e) => obtenerDatos(e)}\n              disabled={disabledInput}\n              value={copy_producto.precio}\n              type=\"number\"\n              name=\"precio\"\n            />\n          </TableCell>\n          <TableCell width={200}>\n            <Box display=\"flex\" alignItems=\"center\">\n              {copy_producto.descuento_activo !== undefined &&\n              copy_producto.descuento_activo !== null ? (\n                <Fragment>\n                  <Checkbox\n                    checked={\n                      copy_producto.descuento_activo === true\n                        ? copy_producto.descuento_activo\n                        : false\n                    }\n                    onChange={(e) => aplicarDescuento(e.target.checked)}\n                    icon={<LocalOfferOutlined />}\n                    checkedIcon={<LocalOffer />}\n                    inputProps={{ \"aria-label\": \"check descuento\" }}\n                    color=\"primary\"\n                    disabled={copy_producto.descuento_activo === null}\n                  />\n                  <Typography\n                    color={\n                      copy_producto.descuento_activo === true\n                        ? \"primary\"\n                        : \"textSecondary\"\n                    }\n                  >\n                    %\n                    {parseFloat(\n                      copy_producto.descuento !== null\n                        ? copy_producto.descuento.porciento\n                        : 0\n                    )}{\" \"}\n                    $\n                    {parseFloat(\n                      copy_producto.descuento !== null\n                        ? copy_producto.descuento.precio_neto\n                        : 0\n                    )}\n                  </Typography>\n                </Fragment>\n              ) : null}\n            </Box>\n          </TableCell>\n        </Fragment>\n      ) : null}\n      {!onlyPrice ? (\n        <Fragment>\n          {from && from === \"compra\" ? (\n            <Fragment>\n              <TableCell padding=\"checkbox\">{producto.cantidad}</TableCell>\n              <TableCell padding=\"checkbox\">\n                <Input\n                  inputRef={textfield}\n                  onChange={(e) => obtenerDatos(e)}\n                  disabled={disabledInput}\n                  value={copy_producto.cantidad_nueva}\n                  type=\"tel\"\n                  name=\"cantidad_nueva\"\n                />\n              </TableCell>\n            </Fragment>\n          ) : (\n            <TableCell padding=\"checkbox\">\n              <Input\n                inputRef={textfield}\n                onChange={(e) => obtenerDatos(e)}\n                disabled={disabledInput}\n                value={copy_producto.cantidad}\n                type=\"tel\"\n                name=\"cantidad\"\n              />\n            </TableCell>\n          )}\n        </Fragment>\n      ) : null}\n      <TableCell padding=\"checkbox\">\n        <IconButton size=\"small\" onClick={() => actionButton()}>\n          {!disabledInput ? <Close /> : <Edit />}\n        </IconButton>\n      </TableCell>\n    </TableRow>\n  );\n};\n","import React, { Fragment, useContext, useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Tabs from \"@material-ui/core/Tabs\";\nimport Tab from \"@material-ui/core/Tab\";\nimport Box from \"@material-ui/core/Box\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport Slide from \"@material-ui/core/Slide\";\nimport FormularioPrecios from \"../../../Catalogos/Producto/PreciosVenta/registrarInfoAdicional\";\nimport { Close, LocalAtm, SquareFoot } from \"@material-ui/icons\";\nimport { ComprasContext } from \"../../../../../context/Compras/comprasContext\";\nimport Done from \"@material-ui/icons/Done\";\nimport { RegProductoContext } from \"../../../../../context/Catalogos/CtxRegProducto\";\nimport { CircularProgress, DialogTitle } from \"@material-ui/core\";\nimport TablaPresentaciones from \"../../../Catalogos/Producto/TallasColores/TablaPresentaciones\";\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nfunction TabPanel(props) {\n  const { children, value, index, ...other } = props;\n\n  return (\n    <div\n      style={{ height: \"80vh\" }}\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`scrollable-force-tabpanel-${index}`}\n      aria-labelledby={`scrollable-force-tab-${index}`}\n      {...other}\n    >\n      {value === index && <Box p={3}>{children}</Box>}\n    </div>\n  );\n}\n\nTabPanel.propTypes = {\n  children: PropTypes.node,\n  index: PropTypes.any.isRequired,\n  value: PropTypes.any.isRequired,\n};\n\nfunction a11yProps(index) {\n  return {\n    id: `scrollable-force-tab-${index}`,\n    \"aria-controls\": `scrollable-force-tabpanel-${index}`,\n  };\n}\n\nexport default function AlertDialogSlide({ agregarCompra, handleClose, cargando }) {\n  const [open, setOpen] = useState(false);\n  const [onUpdate, setOnUpdate] = useState([]);\n  const { datosProducto, productoOriginal /* setDatosProducto */ } = useContext(\n    ComprasContext\n  );\n  const {\n    precios,\n    setPrecios,\n    setUnidadesVenta,\n    setPreciosP,\n    setUnidadVentaXDefecto,\n  } = useContext(RegProductoContext);\n\n  const toggleDrawer = () => setOpen(!open);\n\n  const resetProducto = () => {\n    /* SET STATES WHEN UPDATING */\n    const { precios_producto, ...new_precios } = productoOriginal.precios;\n    const unidadxdefecto = productoOriginal.unidades_de_venta.filter(\n      (res) => res.default\n    );\n    /* setDatosProducto({...datosProducto, mantener_precio: true}) */\n    setPrecios(new_precios);\n    setUnidadesVenta(productoOriginal.unidades_de_venta);\n    setPreciosP(productoOriginal.precios.precios_producto);\n    setUnidadVentaXDefecto(unidadxdefecto[0]);\n    toggleDrawer();\n  };\n\n  const actualizarContextProducto = () => {\n    toggleDrawer();\n    let precio_unitario_con_impuesto =\n      datosProducto.costo / precios.unidad_de_compra.cantidad;\n    let precio_unitario_sin_impuesto =\n      precios.precio_de_compra.precio_sin_impuesto /\n      precios.unidad_de_compra.cantidad;\n\n    if (isNaN(precio_unitario_sin_impuesto)) precio_unitario_sin_impuesto = 0;\n    if (isNaN(precio_unitario_con_impuesto)) precio_unitario_con_impuesto = 0;\n\n    setPrecios({\n      ...precios,\n      precio_de_compra: {\n        ...precios.precio_de_compra,\n        precio_con_impuesto: datosProducto.costo,\n      },\n      unidad_de_compra: {\n        ...precios.unidad_de_compra,\n        precio_unitario_con_impuesto: parseFloat(\n          precio_unitario_con_impuesto.toFixed(6)\n        ),\n        precio_unitario_sin_impuesto: parseFloat(\n          precio_unitario_sin_impuesto.toFixed(6)\n        ),\n      },\n    });\n  };\n\n  const [value, setValue] = useState(0);\n\n  const handleChange = (event, newValue) => {\n    setValue(newValue);\n  };\n\n  return (\n    <Fragment>\n      <Button\n        color=\"primary\"\n        size=\"medium\"\n        onClick={() => actualizarContextProducto()}\n      >\n        Actualizar precios\n      </Button>\n      <Dialog\n        open={open}\n        TransitionComponent={Transition}\n        keepMounted\n        onClose={() => resetProducto()}\n        aria-labelledby=\"alert-precios-compra-title\"\n        aria-describedby=\"alert-precios-compra-description\"\n        fullWidth\n        maxWidth=\"lg\"\n      >\n        {datosProducto.producto.datos_generales &&\n        datosProducto.producto.datos_generales.tipo_producto !== \"OTROS\" ? (\n          <DialogTitle style={{ padding: 0 }}>\n            <AppBar position=\"static\" color=\"default\">\n              <Tabs\n                value={value}\n                onChange={handleChange}\n                variant=\"scrollable\"\n                scrollButtons=\"on\"\n                indicatorColor=\"primary\"\n                textColor=\"primary\"\n                aria-label=\"scrollable force tabs example\"\n              >\n                <Tab label=\"Precios\" icon={<LocalAtm />} {...a11yProps(0)} />\n                <Tab\n                  label=\"Precios Medidas\"\n                  icon={<SquareFoot />}\n                  {...a11yProps(1)}\n                />\n              </Tabs>\n            </AppBar>\n          </DialogTitle>\n        ) : null}\n        <DialogContent>\n          {datosProducto.producto.datos_generales &&\n          datosProducto.producto.datos_generales.tipo_producto !== \"OTROS\" ? (\n            <div>\n              <TabPanel value={value} index={0}>\n                <FormularioPrecios />\n              </TabPanel>\n              <TabPanel value={value} index={1}>\n                <TablaPresentaciones\n                  from=\"compras\"\n                  datos={datosProducto.producto}\n                  setOnUpdate={setOnUpdate}\n                  onUpdate={onUpdate}\n                  onlyPrice={true}\n                />\n              </TabPanel>\n            </div>\n          ) : (\n            <FormularioPrecios />\n          )}\n        </DialogContent>\n        <DialogActions>\n          <Button\n            color=\"inherit\"\n            size=\"large\"\n            startIcon={<Close />}\n            onClick={() => resetProducto()}\n          >\n            Cancelar\n          </Button>\n          <Button\n            size=\"large\"\n            onClick={() => {\n              /* setDatosProducto({...datosProducto, mantener_precio: false}) */\n              agregarCompra(\"actualizar_precios\");\n              handleClose();\n              toggleDrawer();\n            }}\n            startIcon={cargando ? <CircularProgress color=\"inherit\" size={20} /> : <Done />}\n            color=\"primary\"\n            variant=\"contained\"\n            disabled={!precios.precio_de_compra.precio_con_impuesto}\n          >\n            Aceptar y agregar compra\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </Fragment>\n  );\n}\n","import { gql } from \"@apollo/client\";\n\nexport const OBTENER_CONSULTAS = gql`\n  query obtenerConsultasProducto($empresa: ID!, $sucursal: ID!) {\n    obtenerConsultasProducto(empresa: $empresa, sucursal: $sucursal) {\n      categorias {\n        _id\n        categoria\n        subcategorias {\n          _id\n          subcategoria\n        }\n      }\n      departamentos {\n        _id\n        nombre_departamentos\n      }\n      marcas {\n        _id\n        nombre_marca\n      }\n      colores {\n        _id\n        nombre\n        hex\n      }\n      tallas {\n        _id\n        talla\n        tipo\n      }\n      calzados {\n        _id\n        talla\n        tipo\n      }\n      almacenes {\n        _id\n        nombre_almacen\n      }\n      centro_costos {\n        _id\n        cuenta\n        subcuentas {\n          _id\n          subcuenta\n        }\n      }\n      codigos {\n        _id\n        Name\n        Value\n      }\n    }\n  }\n`;\n\nexport const CREAR_PRODUCTO = gql`\n  mutation crearProducto($input: CrearProductoInput) {\n    crearProducto(input: $input) {\n      message\n    }\n  }\n`;\n\nexport const OBTENER_PRODUCTOS = gql`\n  query obtenerProductos(\n    $empresa: ID!\n    $sucursal: ID!\n    $filtro: String\n    $almacen: ID\n    $existencias: Boolean\n  ) {\n    obtenerProductos(\n      empresa: $empresa\n      sucursal: $sucursal\n      filtro: $filtro\n      almacen: $almacen\n      existencias: $existencias\n    ) {\n      _id\n      centro_de_costos {\n        id_cuenta\n        cuenta\n        id_subcuenta\n        subcuenta\n      }\n      unidades_de_venta {\n        _id\n        precio\n        cantidad\n        unidad\n        codigo_unidad\n        unidad_principal\n        codigo_barras\n        id_producto\n        descuento_activo\n        descuento {\n          cantidad_unidad\n          numero_precio\n          unidad_maxima\n          precio_general\n          precio_neto\n          precio_venta\n          iva_precio\n          ieps_precio\n          utilidad\n          porciento\n          dinero_descontado\n        }\n        default\n        precio_unidad {\n          numero_precio\n          precio_neto\n          precio_venta\n          iva_precio\n          ieps_precio\n          unidad_mayoreo\n          utilidad\n          precio_general\n          cantidad_unidad\n          unidad_maxima\n        }\n      }\n      datos_generales {\n        codigo_barras\n        clave_alterna\n        tipo_producto\n        nombre_comercial\n        nombre_generico\n        descripcion\n        id_categoria\n        categoria\n        subcategoria\n        id_subcategoria\n        id_departamento\n        departamento\n        id_marca\n        marca\n        clave_producto_sat {\n          Name\n          Value\n        }\n        receta_farmacia\n      }\n      empresa\n      imagenes {\n        location_imagen\n        extencion_imagen\n        url_imagen\n        key_imagen\n      }\n      precio_plazos {\n        precio_cajas {\n          plazo\n          unidad\n          precio\n          codigo_unidad\n        }\n        precio_piezas {\n          plazo\n          unidad\n          precio\n          codigo_unidad\n        }\n        precio_costales {\n          plazo\n          unidad\n          codigo_unidad\n          precio\n        }\n      }\n      precios {\n        ieps\n        ieps_activo\n        iva\n        iva_activo\n        monedero\n        monedero_electronico\n        precio_de_compra {\n          ieps\n          iva\n          precio_con_impuesto\n          precio_sin_impuesto\n        }\n        precios_producto {\n          numero_precio\n          precio_neto\n          precio_venta\n          iva_precio\n          ieps_precio\n          unidad_mayoreo\n          utilidad\n          precio_general\n          cantidad_unidad\n          unidad_maxima\n        }\n        unidad_de_compra {\n          cantidad\n          precio_unitario_con_impuesto\n          precio_unitario_sin_impuesto\n          unidad\n          codigo_unidad\n        }\n        inventario {\n          inventario_minimo\n          inventario_maximo\n          unidad_de_inventario\n          codigo_unidad\n        }\n        granel\n      }\n      medidas_producto {\n        _id\n        cantidad\n        almacen\n        descuento_activo\n        descuento {\n          cantidad_unidad\n          numero_precio\n          unidad_maxima\n          precio_general\n          precio_neto\n          precio_venta\n          iva_precio\n          ieps_precio\n          utilidad\n          porciento\n          dinero_descontado\n        }\n        codigo_barras\n        color {\n          _id\n          nombre\n          hex\n        }\n        existencia\n        medida {\n          _id\n          talla\n          tipo\n        }\n        nombre_comercial\n        precio\n        precio_unidad {\n          numero_precio\n          precio_neto\n          precio_venta\n          iva_precio\n          ieps_precio\n          unidad_mayoreo\n          utilidad\n          precio_general\n          cantidad_unidad\n          unidad_maxima\n        }\n      }\n      inventario_general {\n        _id\n        cantidad_existente\n        unidad_inventario\n        codigo_unidad\n        cantidad_existente_maxima\n        unidad_maxima\n        id_almacen_general\n        eliminado\n      }\n      medidas_registradas\n      sucursal\n      usuario\n    }\n  }\n`;\n\nexport const ACTUALIZAR_PRODUCTO = gql`\n  mutation actualizarProducto($id: ID!, $input: ActualizarProductoInput) {\n    actualizarProducto(id: $id, input: $input) {\n      message\n    }\n  }\n`;\n\nexport const ELIMINAR_PRODUCTO = gql`\n  mutation eliminarProducto($id: ID!) {\n    eliminarProducto(id: $id) {\n      message\n    }\n  }\n`;\n\nexport const PRODUCTOS_ELIMINADOS = gql`\n  query obtenerProductosInactivos($empresa: ID!, $sucursal: ID!) {\n    obtenerProductosInactivos(empresa: $empresa, sucursal: $sucursal) {\n      _id\n      producto {\n        _id\n        datos_generales {\n          codigo_barras\n          clave_alterna\n          tipo_producto\n          nombre_comercial\n          nombre_generico\n          descripcion\n          id_categoria\n          categoria\n          subcategoria\n          id_subcategoria\n          id_departamento\n          departamento\n          id_marca\n          marca\n          clave_producto_sat {\n            Name\n            Value\n          }\n          receta_farmacia\n        }\n        precios {\n          ieps\n          ieps_activo\n          iva\n          iva_activo\n          monedero\n          monedero_electronico\n          precio_de_compra {\n            ieps\n            iva\n            precio_con_impuesto\n            precio_sin_impuesto\n          }\n          precios_producto {\n            numero_precio\n            precio_neto\n            precio_venta\n            unidad_mayoreo\n            utilidad\n          }\n          unidad_de_compra {\n            cantidad\n            precio_unitario_con_impuesto\n            precio_unitario_sin_impuesto\n            unidad\n          }\n          inventario {\n            inventario_minimo\n            inventario_maximo\n            unidad_de_inventario\n          }\n          granel\n        }\n      }\n      cantidad_existente\n      unidad_de_inventario\n      id_almacen\n      eliminado\n      empresa\n      sucursal\n    }\n  }\n`;\n\nexport const ACTIVAR_PRODUCTOS = gql`\n  mutation activarProducto($id: ID!) {\n    activarProducto(id: $id) {\n      message\n    }\n  }\n`;\n\nexport const CREAR_PRODUCTO_RAPIDO = gql`\n  mutation crearProductoRapido($input: CrearProductoRapidoInput) {\n    crearProductoRapido(input: $input) {\n      message\n    }\n  }\n`;\n","import React, { createContext, useState } from 'react';\n\nexport const CrearAlmacenContext = createContext();\n\nexport const AlmacenProvider = ({ children }) => {\n\tconst [ datosAlmacen, setDatosAlmacen ] = useState({\n        nombre_almacen: '',\n        id_usuario_encargado: '',\n        direccion: {\n            calle: '',\n            no_ext: '',\n            no_int: '',\n            codigo_postal: '',\n            colonia: '',\n            municipio: '',\n            localidad: '',\n            estado: '',\n            pais: ''\n        }\n    });\n\n    const [ update, setUpdate ] = useState(false);\n    const [ error, setError ] = useState(false);\n    const [ openRegistro, setOpenRegistro ] = useState(false);\n\n\treturn (\n\t\t<CrearAlmacenContext.Provider value={\n            { \n                datosAlmacen, \n                setDatosAlmacen,\n                update,\n                setUpdate,\n                error,\n                setError,\n                openRegistro,\n                setOpenRegistro\n            }\n        }>\n\t\t\t{children}\n\t\t</CrearAlmacenContext.Provider>\n\t);\n};\n","import { gql } from \"@apollo/client\";\n\nexport const REGISTRO_ALMACEN = gql`\n  mutation CrearAlmacen($input: CrearAlmacen, $id: ID!, $empresa: ID!) {\n    crearAlmacen(input: $input, id: $id, empresa: $empresa) {\n      _id\n    }\n  }\n`;\n\nexport const OBTENER_ALMACENES = gql`\n  query obtenerAlmacenes($id: ID!) {\n    obtenerAlmacenes(id: $id) {\n      _id\n      nombre_almacen\n      id_usuario_encargado {\n        _id\n        nombre\n      }\n      id_sucursal {\n        _id\n        nombre_sucursal\n        descripcion\n        direccion {\n          calle\n          no_ext\n          no_int\n          codigo_postal\n          colonia\n          municipio\n          localidad\n          estado\n          pais\n        }\n      }\n      direccion {\n        calle\n        no_ext\n        no_int\n        codigo_postal\n        colonia\n        municipio\n        localidad\n        estado\n        pais\n      }\n    }\n  }\n`;\n\nexport const ACTUALIZAR_ALMACEN = gql`\n  mutation ActualizarAlmacen($input: EditarAlmacen, $id: ID!) {\n    actualizarAlmacen(input: $input, id: $id) {\n      message\n    }\n  }\n`;\n\nexport const OBTENER_PRODUCTOS_ALMACEN = gql`\n  query obtenerProductosAlmacenes(\n    $empresa: ID!\n    $sucursal: ID!\n    $filtro: FilterProductoInput\n  ) {\n    obtenerProductosAlmacenes(\n      empresa: $empresa\n      sucursal: $sucursal\n      filtro: $filtro\n    ) {\n      _id\n      datos_generales {\n        codigo_barras\n        clave_alterna\n        tipo_producto\n        nombre_comercial\n        nombre_generico\n        descripcion\n        id_categoria\n        categoria\n        subcategoria\n        id_subcategoria\n        id_departamento\n        departamento\n        id_marca\n        marca\n        clave_producto_sat {\n          Name\n          Value\n        }\n        receta_farmacia\n      }\n      existencia_almacenes {\n        _id {\n          producto\n          almacen {\n            _id\n            nombre_almacen\n          }\n        }\n        cantidad_existente\n      }\n      empresa\n      sucursal\n    }\n  }\n`;\n\nexport const OBTENER_CATEGORIAS = gql`\n  query obtenerCategorias($empresa: ID!, $sucursal: ID!) {\n    obtenerCategorias(empresa: $empresa, sucursal: $sucursal) {\n      _id\n      categoria\n      subcategorias {\n        _id\n        subcategoria\n      }\n    }\n  }\n`;\n\nexport const REALIZAR_TRASPASO = gql`\n  mutation CrearTraspaso(\n    $input: CrearTraspasoInput\n    $usuario: ID!\n    $empresa: ID!\n  ) {\n    crearTraspaso(input: $input, usuario: $usuario, empresa: $empresa) {\n      message\n      resp\n    }\n  }\n`;\n\nexport const OBTENER_PRODUCTOS_EMPRESA = gql`\n  query obtenerProductosPorEmpresa($empresa: ID!, $filtro: String) {\n    obtenerProductosPorEmpresa(empresa: $empresa, filtro : $filtro) {\n      _id\n      datos_generales {\n        codigo_barras\n        clave_alterna\n        tipo_producto\n        nombre_comercial\n        nombre_generico\n        descripcion\n        id_categoria\n        categoria\n        subcategoria\n        id_subcategoria\n        id_departamento\n        departamento\n        id_marca\n        marca\n        clave_producto_sat {\n          Name\n          Value\n        }\n        receta_farmacia\n      }\n      precio_plazos {\n        precio_cajas {\n          plazo\n          unidad\n          precio\n        }\n        precio_piezas {\n          plazo\n          unidad\n          precio\n        }\n        precio_costales {\n          plazo\n          unidad\n          precio\n        }\n      }\n      precios {\n        ieps\n        ieps_activo\n        iva\n        iva_activo\n        monedero\n        monedero_electronico\n        precio_de_compra {\n          ieps\n          iva\n          precio_con_impuesto\n          precio_sin_impuesto\n        }\n        precios_producto {\n          numero_precio\n          precio_neto\n          precio_venta\n          unidad_mayoreo\n          utilidad\n          ieps_precio\n          iva_precio\n        }\n        unidad_de_compra {\n          cantidad\n          precio_unitario_con_impuesto\n          precio_unitario_sin_impuesto\n          unidad\n        }\n        inventario {\n          inventario_minimo\n          inventario_maximo\n          unidad_de_inventario\n        }\n        granel\n      }\n      sucursal\n      usuario\n      empresa\n    }\n  }\n`;\n\nexport const OBTENER_TRASPASOS = gql`\n  query obtenerTraspasos( $input: ConsultaTraspasosInput) {\n    obtenerTraspasos(input: $input) {\n      _id  \n      cantidad\n      \n      id_traspaso{\n        concepto_traspaso{\n          nombre_concepto\n        }\n        fecha_registro\n      }\n      producto{\n        datos_generales{\n          nombre_comercial\n        }\n      }\n      almacen_origen{\n        _id\n        nombre_almacen\n      }\n      almacen_destino{\n        _id\n        nombre_almacen\n      }\n    }\n  }\n`;\n","import React, { useState, Fragment, useContext, useCallback } from 'react';\nimport {\n    Button,\n    Dialog,\n    TextField,\n    Container,\n    Typography,\n    Box,\n    IconButton,\n    DialogTitle,\n    Divider,\n    FormControl,\n    Select,\n    MenuItem\n} from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { CrearAlmacenContext } from '../../../../context/Almacenes/crearAlmacen';\nimport { useMutation, useQuery } from '@apollo/client';\nimport { REGISTRO_ALMACEN, ACTUALIZAR_ALMACEN } from '../../../../gql/Almacenes/Almacen';\nimport SnackBarMessages from '../../../../components/SnackBarMessages';\nimport BackdropComponent from '../../../../components/Layouts/BackDrop';\nimport { OBTENER_USUARIOS } from '../../../../gql/Catalogos/usuarios';\nimport { Edit } from '@material-ui/icons';\nimport { RegProductoContext } from '../../../../context/Catalogos/CtxRegProducto';\nimport Add from '@material-ui/icons/Add';\n\nconst useStyles = makeStyles((theme) => ({\n    formInputFlex: {\n        display: 'flex',\n        '& > *': {\n            margin: `${theme.spacing(1)}px ${theme.spacing(1)}px`\n        },\n        '& span': {\n            color: 'red'\n        }\n    },\n    formInput: {\n        margin: `${theme.spacing(1)}px ${theme.spacing(2)}px`\n    }\n}));\n\nexport default function ContainerRegistroAlmacen({ accion, datos, refetch }) {\n\n    /* const sucursal = {\n        _id: \"60c8e180340d5d223432a916\",\n        nombre_sucursal: \"Sucursal 1 editada\"\n    }; */\n    const sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n    const [CrearAlmacen] = useMutation(REGISTRO_ALMACEN);\n    const [ActualizarAlmacen] = useMutation(ACTUALIZAR_ALMACEN);\n    const { data } = useQuery(OBTENER_USUARIOS, {\n        variables: {\n            sucursal: `${sesion.sucursal._id}`\n        }\n    });\n    let obtenerUsuarios = [];\n\n    const classes = useStyles();\n    const [alert, setAlert] = useState({ message: '', status: '', open: false });\n    // const empresa = '609eb3b4b995884dc49bbffa';\n    const [open, setOpen] = useState(false);\n    const { datosAlmacen, setDatosAlmacen, error, setError, update, setUpdate } = useContext(CrearAlmacenContext);\n    const { almacen_inicial, setAlmacenInicial } = useContext(RegProductoContext);\n    const [loading, setLoading] = useState(false);\n\n\n    // const sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\n    const limpiarCampos = useCallback(\n        () => {\n            setDatosAlmacen({\n                nombre_almacen: '',\n                id_usuario_encargado: '',\n                direccion: {\n                    calle: '',\n                    no_ext: '',\n                    no_int: '',\n                    codigo_postal: '',\n                    colonia: '',\n                    municipio: '',\n                    localidad: '',\n                    estado: '',\n                    pais: ''\n                }\n            });\n        },\n        [setDatosAlmacen]\n    );\n    const toggleModal = () => {\n        setOpen(true);\n        if (datos) {\n            let input = {};\n            if (datos.id_usuario_encargado) {\n                const { id_usuario_encargado, ...datosNew } = datos;\n                input = datosNew;\n                input.id_usuario_encargado = id_usuario_encargado._id;\n            } else {\n                input = datos;\n            }\n            setDatosAlmacen(input);\n        }\n    };\n    const onCloseModal = () => {\n        setOpen(false);\n        limpiarCampos();\n    };\n\n    const obtenerCampos = (e) => {\n        setDatosAlmacen({\n            ...datosAlmacen,\n            [e.target.name]: e.target.value\n        });\n    };\n\n    const obtenerCamposDireccion = (e) => {\n        setDatosAlmacen({\n            ...datosAlmacen,\n            direccion: { ...datosAlmacen.direccion, [e.target.name]: e.target.value }\n        });\n    };\n\n    const saveData = async () => {\n        try {\n            if (!datosAlmacen.nombre_almacen) {\n                setError(true);\n                return;\n            } else {\n                if (accion === \"registrar\") {\n                    let input = {};\n                    let almacen_creado;\n                    if (datosAlmacen.id_usuario_encargado === \"\") {\n                        const { id_usuario_encargado, ...input } = datosAlmacen;\n                        almacen_creado = await CrearAlmacen({\n                            variables: {\n                                input,\n                                id: sesion.sucursal._id,\n                                empresa: sesion.empresa._id\n                            }\n                        });\n                    } else {\n                        input = datosAlmacen;\n                        almacen_creado = await CrearAlmacen({\n                            variables: {\n                                input,\n                                id: sesion.sucursal._id,\n                                empresa: sesion.empresa._id\n                            }\n                        });\n                    }\n\n                    const id_almacen = almacen_creado.data.crearAlmacen._id;\n                    if (refetch) {\n                        setAlmacenInicial({\n                            ...almacen_inicial,\n                            id_almacen,\n                            almacen: datosAlmacen.nombre_almacen,\n                        })\n                        refetch();\n                    }\n                } else {\n                    const { id_sucursal, _id, ...input } = datosAlmacen;\n                    await ActualizarAlmacen({\n                        variables: {\n                            input,\n                            id: datosAlmacen._id\n                        }\n                    })\n                }\n                setUpdate(!update);\n                setAlert({ message: '¡Listo!', status: 'success', open: true });\n                setError(false);\n                setLoading(false);\n                onCloseModal();\n            }\n        } catch (error) {\n            setAlert({ message: 'Hubo un error', status: 'error', open: true });\n            setLoading(false);\n        }\n    }\n\n    if (data) {\n        obtenerUsuarios = data.obtenerUsuarios;\n    }\n\n    return (\n        <Fragment>\n            <SnackBarMessages alert={alert} setAlert={setAlert} />\n            {accion === 'registrar' ? refetch ? (\n                <IconButton color=\"primary\" onClick={toggleModal}>\n                    <Add />\n                </IconButton>\n            ) : (\n                <Button color=\"primary\" variant=\"contained\" size=\"large\" onClick={toggleModal}>\n                    Nuevo almacen\n                </Button>\n            ) : (\n                <IconButton onClick={toggleModal}>\n                    <Edit />\n                </IconButton>\n            )}\n            <Dialog open={open} onClose={onCloseModal} fullWidth maxWidth=\"md\">\n                <BackdropComponent loading={loading} setLoading={setLoading} />\n                <DialogTitle id=\"form-dialog-title\">Registro almacen</DialogTitle>\n                <Container maxWidth=\"md\">\n                    <div className={classes.formInputFlex}>\n                        <Box width=\"100%\">\n                            <Typography><span>* </span>Nombre Almacen</Typography>\n                            <TextField\n                                fullWidth\n                                size=\"small\"\n                                error={error}\n                                name=\"nombre_almacen\"\n                                id=\"form-producto-codigo-barras\"\n                                variant=\"outlined\"\n                                value={datosAlmacen.nombre_almacen}\n                                /* helperText=\"Incorrect entry.\" */\n                                onChange={obtenerCampos}\n                            />\n                        </Box>\n                        <Box width=\"100%\">\n                            <Typography>Encargado de almacen</Typography>\n                            <FormControl fullWidth size=\"small\" variant=\"outlined\">\n                                <Select\n                                    labelId=\"demo-simple-select-label\"\n                                    id=\"demo-simple-select\"\n                                    name=\"id_usuario_encargado\"\n                                    value={datosAlmacen.id_usuario_encargado ? datosAlmacen.id_usuario_encargado : \"\"}\n                                    onChange={obtenerCampos}\n                                >\n                                    {\n                                        obtenerUsuarios?.map((user, index) => (\n                                            <MenuItem key={index} value={user._id}>{user.nombre}</MenuItem>\n                                        ))\n                                    }\n                                </Select>\n                            </FormControl>\n                        </Box>\n                        <Box width=\"100%\">\n                            <Typography>Sucursal</Typography>\n                            <Typography style={{ marginTop: \"7px\", fontWeight: \"bold\" }}>{sesion.sucursal.nombre_sucursal}</Typography>\n                        </Box>\n                    </div>\n                    <Box mt={2}>\n                        <Typography>\n                            <b>Domicilio</b>\n                        </Typography>\n                        <Divider />\n                    </Box>\n                    <div className={classes.formInputFlex}>\n                        <Box width=\"100%\">\n                            <Typography>Calle</Typography>\n                            <TextField\n                                fullWidth\n                                size=\"small\"\n                                // error={error && !datosAlmacen.direccion.calle}\n                                name=\"calle\"\n                                variant=\"outlined\"\n                                value={datosAlmacen.direccion.calle}\n                                onChange={obtenerCamposDireccion}\n                            />\n                        </Box>\n                        <Box width=\"100%\">\n                            <Typography>No. exterior</Typography>\n                            <TextField\n                                fullWidth\n                                size=\"small\"\n                                // error={error && !datosAlmacen.direccion.no_ext}\n                                name=\"no_ext\"\n                                variant=\"outlined\"\n                                value={datosAlmacen.direccion.no_ext}\n                                onChange={obtenerCamposDireccion}\n                            />\n                        </Box>\n                        <Box width=\"100%\">\n                            <Typography>No. interior</Typography>\n                            <TextField\n                                fullWidth\n                                size=\"small\"\n                                // error={error && !datosAlmacen.direccion.no_int}\n                                name=\"no_int\"\n                                variant=\"outlined\"\n                                value={datosAlmacen.direccion.no_int}\n                                onChange={obtenerCamposDireccion}\n                            />\n                        </Box>\n                    </div>\n                    <div className={classes.formInputFlex}>\n                        <Box width=\"100%\">\n                            <Typography>Codigo Postal</Typography>\n                            <TextField\n                                fullWidth\n                                size=\"small\"\n                                type=\"number\"\n                                // error={error && !datosAlmacen.direccion.codigo_postal}\n                                name=\"codigo_postal\"\n                                variant=\"outlined\"\n                                value={datosAlmacen.direccion.codigo_postal}\n                                onChange={obtenerCamposDireccion}\n                            />\n                        </Box>\n                        <Box width=\"100%\">\n                            <Typography>Colonia</Typography>\n                            <TextField\n                                fullWidth\n                                size=\"small\"\n                                // error={error && !datosAlmacen.direccion.colonia}\n                                name=\"colonia\"\n                                variant=\"outlined\"\n                                value={datosAlmacen.direccion.colonia}\n                                onChange={obtenerCamposDireccion}\n                            />\n                        </Box>\n                        <Box width=\"100%\">\n                            <Typography>Municipio</Typography>\n                            <TextField\n                                fullWidth\n                                size=\"small\"\n                                // error={error && !datosAlmacen.direccion.municipio}\n                                name=\"municipio\"\n                                variant=\"outlined\"\n                                value={datosAlmacen.direccion.municipio}\n                                onChange={obtenerCamposDireccion}\n                            />\n                        </Box>\n                    </div>\n                    <div className={classes.formInputFlex}>\n                        <Box width=\"100%\">\n                            <Typography>Localidad</Typography>\n                            <TextField\n                                fullWidth\n                                size=\"small\"\n                                // error={error && !datosAlmacen.direccion.localidad}\n                                name=\"localidad\"\n                                variant=\"outlined\"\n                                value={datosAlmacen.direccion.localidad}\n                                onChange={obtenerCamposDireccion}\n                            />\n                        </Box>\n                        <Box width=\"100%\">\n                            <Typography>Estado</Typography>\n                            <TextField\n                                fullWidth\n                                size=\"small\"\n                                // error={error && !datosAlmacen.direccion.estado}\n                                name=\"estado\"\n                                variant=\"outlined\"\n                                value={datosAlmacen.direccion.estado}\n                                onChange={obtenerCamposDireccion}\n                            />\n                        </Box>\n                        <Box width=\"100%\">\n                            <Typography>Pais</Typography>\n                            <TextField\n                                fullWidth\n                                size=\"small\"\n                                //  error={error && !datosAlmacen.direccion.pais}\n                                name=\"pais\"\n                                variant=\"outlined\"\n                                value={datosAlmacen.direccion.pais}\n                                onChange={obtenerCamposDireccion}\n                            />\n                        </Box>\n                    </div>\n                    <Box m={1} display=\"flex\" justifyContent=\"flex-end\">\n                        <Button color=\"primary\" variant=\"contained\" size=\"large\" onClick={saveData} >\n                            Guardar\n                        </Button>\n                    </Box>\n                </Container>\n            </Dialog>\n        </Fragment>\n    )\n}\n","import { gql } from '@apollo/client';\n\nexport const CREAR_COLOR = gql`\n\tmutation crearColor($input: CrearColorInput) {\n\t\tcrearColor(input: $input) {\n\t\t\t_id\n\t\t\tnombre\n\t\t\thex\n\t\t\tempresa {\n\t\t\t\tnombre_empresa\n\t\t\t\tcorreo_empresa\n\t\t\t\tnombre_dueno\n\t\t\t\ttelefono_dueno\n\t\t\t\tsucursales_activas\n\t\t\t\tlimite_sucursales\n\t\t\t\t_id\n\t\t\t}\n\t\t}\n\t}\n`;\n\nexport const OBTENER_COLORES = gql`\n\tquery obtenerColores($sucursal: String!) {\n\t\tobtenerColores(sucursal: $sucursal) {\n\t\t\t_id\n\t\t\tnombre\n\t\t\thex\n\t\t\tempresa {\n\t\t\t\tnombre_empresa\n\t\t\t\tcorreo_empresa\n\t\t\t\tnombre_dueno\n\t\t\t\ttelefono_dueno\n\t\t\t\tsucursales_activas\n\t\t\t\tlimite_sucursales\n\t\t\t\t_id\n\t\t\t}\n\t\t\tsucursal {\n\t\t\t\t_id\n\t\t\t\tnombre_sucursal\n\t\t\t\tdescripcion\n\t\t\t}\n\t\t}\n\t}\n`;\n\nexport const ACTUALIZAR_COLOR = gql`\n\tmutation actualizarColor($input: ActualizarColorInput, $id: ID!) {\n\t\tactualizarColor(id: $id, input: $input) {\n\t\t\tmessage\n\t\t}\n\t}\n`;\nexport const ELIMINAR_COLOR = gql`\n\tmutation eliminarColor($id: ID!) {\n\t\teliminarColor(id: $id) {\n\t\t\tmessage\n\t\t}\n\t}\n`;\n","import React, { useState, Fragment } from \"react\";\nimport {\n  Box,\n  Button,\n  TextField,\n  Typography,\n  Dialog,\n  DialogContent,\n  DialogActions,\n} from \"@material-ui/core\";\nimport { Add, Done } from \"@material-ui/icons\";\nimport { SketchPicker } from \"react-color\";\nimport SnackBarMessages from \"../../../../../components/SnackBarMessages\";\n\nimport { useMutation } from \"@apollo/client\";\nimport { CREAR_COLOR } from \"../../../../../gql/Catalogos/colores\";\n\nexport default function CrearColorProducto({ refetch }) {\n  const [color, setColor] = useState({});\n  const [values, setValues] = useState({ nombre: \"\", hex: \"\" });\n  const [alert, setAlert] = useState({ message: \"\", status: \"\", open: false });\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n  const [open, setOpen] = useState(false);\n\n  const toggleModal = () => setOpen(!open);\n\n  /* Mutations */\n  const [crearColor] = useMutation(CREAR_COLOR);\n\n  const handleChangeComplete = (color) => {\n    setColor(color);\n    setValues({\n      ...values,\n      hex: color.hex.toUpperCase(),\n    });\n  };\n\n  const GuardarDatosBD = async (e) => {\n    e.preventDefault();\n    if (!values.nombre || !values.hex) {\n      return;\n    }\n    try {\n      const colores = values;\n      await crearColor({\n        variables: {\n          input: {\n            nombre: colores.nombre,\n            hex: colores.hex,\n            empresa: sesion.empresa._id,\n            sucursal: sesion.sucursal._id,\n          },\n        },\n      });\n      refetch();\n      setValues({ nombre: \"\", hex: \"\" });\n      setAlert({ message: \"¡Listo!\", status: \"success\", open: true });\n      toggleModal();\n    } catch (error) {\n      setAlert({ message: \"Hubo un error\", status: \"error\", open: true });\n    }\n  };\n\n  return (\n    <Fragment>\n      <Box display=\"flex\" justifyContent=\"flex-end\">\n        <Button color=\"primary\" onClick={() => toggleModal()}>\n          <Add />\n          nuevo color\n        </Button>\n      </Box>\n      <Dialog\n        open={open}\n        /* onClose={() => toggleModal()} */\n        scroll=\"paper\"\n        disableEscapeKeyDown\n        onClose={(event, reason) => {\n          if (reason !== \"backdropClick\") {\n            toggleModal();\n          }\n        }}\n      >\n        <DialogContent>\n          <Box>\n            <SnackBarMessages alert={alert} setAlert={setAlert} />\n            <SketchPicker\n              color={color}\n              onChangeComplete={handleChangeComplete}\n            />\n            <Box mt={2}>\n              <Typography>Color seleccionado:</Typography>\n              {!values.hex ? (\n                <Box display=\"flex\" justifyContent=\"center\" width={220}>\n                  <Typography color=\"secondary\">NINGUNO</Typography>\n                </Box>\n              ) : (\n                <Box bgcolor={values.hex} height={30} width={220} />\n              )}\n            </Box>\n            <Box my={2}>\n              <form\n                id=\"form-registro-color\"\n                onSubmit={(e) => GuardarDatosBD(e)}\n              >\n                <TextField\n                  label=\"Nombre del color\"\n                  variant=\"outlined\"\n                  size=\"small\"\n                  value={values.nombre}\n                  onChange={(e) =>\n                    setValues({\n                      ...values,\n                      nombre: e.target.value.toUpperCase(),\n                    })\n                  }\n                  fullWidth\n                  focused\n                />\n              </form>\n            </Box>\n          </Box>\n        </DialogContent>\n        <DialogActions>\n          <Button\n            variant=\"outlined\"\n            color=\"primary\"\n            onClick={() => toggleModal()}\n            size=\"large\"\n          >\n            Cancelar\n          </Button>\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            type=\"submit\"\n            form=\"form-registro-color\"\n            size=\"large\"\n            startIcon={<Done />}\n          >\n            Guardar\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </Fragment>\n  );\n}\n","import { gql } from '@apollo/client';\n\nexport const CREAR_TALLAS = gql`\n\tmutation crearTalla($input: CrearTallaInput) {\n\t\tcrearTalla(input: $input) {\n\t\t\tmessage\n\t\t}\n\t}\n`;\n\nexport const OBTENER_TALLAS = gql`\n\tquery obtenerTallas($sucursal: String!, $tipo: String! ) {\n\t\tobtenerTallas(sucursal: $sucursal, tipo: $tipo) {\n\t\t\t_id\n\t\t\ttalla\n\t\t\ttipo\n\t\t\tempresa {\n\t\t\t\tnombre_empresa\n\t\t\t\tcorreo_empresa\n\t\t\t\tnombre_dueno\n\t\t\t\ttelefono_dueno\n\t\t\t\tsucursales_activas\n\t\t\t\tlimite_sucursales\n\t\t\t\t_id\n\t\t\t}\n\t\t}\n\t}\n`;\n\nexport const ACTUALIZAR_TALLA = gql`\n\tmutation actualizarTalla($input: ActualizarTallaInput, $id: ID!) {\n\t\tactualizarTalla(id: $id, input: $input) {\n\t\t\tmessage\n\t\t}\n\t}\n`;\nexport const ELIMINAR_TALLA = gql`\n\tmutation eliminarTalla($input: ActualizarTallaInput,$id: ID!) {\n\t\teliminarTalla(id: $id, input: $input) {\n\t\t\tmessage\n\t\t}\n\t}\n`;\n","import React, { useState, Fragment, useContext } from \"react\";\nimport {\n  Box,\n  Button,\n  TextField,\n  Dialog,\n  DialogContent,\n  DialogActions,\n} from \"@material-ui/core\";\nimport { Add, Done } from \"@material-ui/icons\";\nimport SnackBarMessages from \"../../../../../components/SnackBarMessages\";\n\nimport { useMutation } from \"@apollo/client\";\nimport { CREAR_TALLAS } from \"../../../../../gql/Catalogos/tallas\";\nimport { RegProductoContext } from \"../../../../../context/Catalogos/CtxRegProducto\";\n\nexport default function CrearTallasProducto({\n  setMedidasSeleccionadas,\n  refetch,\n}) {\n  const [value, setValue] = useState(\"\");\n  const [open, setOpen] = useState(false);\n  const [alert, setAlert] = useState({ message: \"\", status: \"\", open: false });\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n  const { datos_generales } = useContext(RegProductoContext);\n\n  const [crearTalla] = useMutation(CREAR_TALLAS);\n\n  const toggleModal = () => setOpen(!open);\n\n  const GuardarDatosBD = async (e) => {\n    e.preventDefault();\n    if (!value) {\n      return;\n    }\n    try {\n      const nueva_talla = value;\n      await crearTalla({\n        variables: {\n          input: {\n            talla: nueva_talla,\n            tipo: datos_generales.tipo_producto,\n            empresa: sesion.empresa._id,\n            sucursal: sesion.sucursal._id,\n          },\n        },\n      });\n      refetch();\n      setMedidasSeleccionadas([nueva_talla]);\n      setValue(\"\");\n      setAlert({ message: \"¡Listo!\", status: \"success\", open: true });\n      toggleModal();\n    } catch (error) {\n      setAlert({ message: \"Hubo un error\", status: \"error\", open: true });\n    }\n  };\n\n  return (\n    <Fragment>\n      <Box display=\"flex\" justifyContent=\"flex-end\">\n        <Button color=\"primary\" onClick={() => toggleModal()}>\n          <Add /> Nueva talla\n        </Button>\n      </Box>\n      <Dialog\n        open={open}\n        scroll=\"paper\"\n        disableEscapeKeyDown\n        onClose={(event, reason) => {\n          if (reason !== \"backdropClick\") {\n            toggleModal();\n          }\n        }}\n      >\n        <DialogContent>\n          <Box>\n            <SnackBarMessages alert={alert} setAlert={setAlert} />\n            <Box\n              display=\"flex\"\n              justifyContent=\"center\"\n              alignItems=\"center\"\n              my={2}\n            >\n              <form\n                id=\"form-registro-color\"\n                onSubmit={(e) => GuardarDatosBD(e)}\n              >\n                <TextField\n                  id=\"outlined-error-helper-text\"\n                  label={\n                    datos_generales.tipo_producto === \"ROPA\"\n                      ? \"Talla\"\n                      : \"Número\"\n                  }\n                  variant=\"outlined\"\n                  size=\"small\"\n                  focused\n                  fullWidth\n                  value={value}\n                  onChange={(e) => setValue(e.target.value.toUpperCase())}\n                />\n              </form>\n            </Box>\n          </Box>\n        </DialogContent>\n        <DialogActions>\n          <Button\n            variant=\"outlined\"\n            color=\"primary\"\n            onClick={() => toggleModal()}\n            size=\"large\"\n          >\n            Cancelar\n          </Button>\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            type=\"submit\"\n            form=\"form-registro-color\"\n            size=\"large\"\n            startIcon={<Done />}\n          >\n            Guardar\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </Fragment>\n  );\n}\n","import React, { useContext, useState, Fragment, useEffect, useCallback } from 'react';\nimport { Typography, MenuItem, Divider, Tooltip, FormLabel } from '@material-ui/core';\nimport { Box, FormControl, Grid, Select } from '@material-ui/core';\nimport { makeStyles, useTheme } from '@material-ui/core';\nimport Zoom from '@material-ui/core/Zoom';\n\nimport { Done } from '@material-ui/icons';\nimport TablaPresentaciones from './TablaPresentaciones';\nimport { RegProductoContext } from '../../../../../context/Catalogos/CtxRegProducto';\nimport { AlmacenProvider } from '../../../../../context/Almacenes/crearAlmacen';\nimport ContainerRegistroAlmacen from '../../../Almacenes/RegistroAlmacen/ContainerRegistroAlmacen';\nimport CrearColorProducto from './crearColor';\nimport CrearTallasProducto from './crearTalla';\n\nconst useStyles = makeStyles((theme) => ({\n\tcolorContainer: {\n\t\tborder: '1px solid rgba(0,0,0, .3)',\n\t\tdisplay: 'flex',\n\t\tjustifyContent: 'center',\n\t\talignItems: 'center',\n\t\theight: 50,\n\t\twidth: 50,\n\t\tmargin: 1,\n\t\tborderRadius: '15%',\n\t\tcursor: 'pointer'\n\t}\n}));\n\nconst GenCodigoBarras = () => {\n\treturn Math.floor(Math.random() * (999999999999 - 100000000000 + 1) + 100000000000).toString();\n};\n\nexport default function ColoresTallas({ obtenerConsultasProducto, refetch, datos }) {\n\tconst {\n\t\talmacen_inicial,\n\t\tsetAlmacenInicial,\n\t\tpresentaciones,\n\t\tdatos_generales,\n\t} = useContext(RegProductoContext);\n\tconst { almacenes, colores, tallas, calzados } = obtenerConsultasProducto;\n\tconst [ medidasSeleccionadas, setMedidasSeleccionadas ] = useState([]);\n\tconst [ coloresSeleccionados, setColoresSeleccionados ] = useState([]);\n\tconst medidas = datos_generales.tipo_producto === 'ROPA' ? [ ...tallas ] : [ ...calzados ];\n\tconst [ onUpdate, setOnUpdate ] = useState([]);\n\n\tconst obtenerColoresSeleccinados = useCallback(\n\t\t() => {\n\t\t\tlet colors = [];\n\t\t\tlet medidas = [];\n\t\t\tconst copy_presentaciones = [ ...presentaciones ];\n\n\t\t\tcopy_presentaciones.forEach((element) => {\n\t\t\t\tif (element.color._id) colors.push(element.color);\n\t\t\t\tif (element.medida._id) medidas.push(element.medida);\n\t\t\t});\n\n\t\t\tvar hashColor = {};\n\t\t\tvar hashMedida = {};\n\t\t\tconst colores_existentes = colors.filter((color) => {\n\t\t\t\tvar existColor = !hashColor[color._id];\n\t\t\t\thashColor[color._id] = true;\n\t\t\t\treturn existColor;\n\t\t\t});\n\t\t\tconst medidas_existentes = medidas.filter((medida) => {\n\t\t\t\tvar existMedida = !hashMedida[medida._id];\n\t\t\t\thashMedida[medida._id] = true;\n\t\t\t\treturn existMedida;\n\t\t\t});\n\n\t\t\tsetColoresSeleccionados([ ...colores_existentes ]);\n\t\t\tsetMedidasSeleccionadas([ ...medidas_existentes ]);\n\t\t},\n\t\t[ presentaciones ]\n\t);\n\n\tconst obtenerAlmacenes = (event, child) => {\n\t\tsetAlmacenInicial({\n\t\t\t...almacen_inicial,\n\t\t\t[event.target.name]: event.target.value,\n\t\t\t[child.props.name]: child.props.id\n\t\t});\n\t};\n\n\tuseEffect(\n\t\t() => {\n\t\t\tobtenerColoresSeleccinados();\n\t\t},\n\t\t[ obtenerColoresSeleccinados ]\n\t);\n\n\treturn (\n\t\t<div>\n\t\t\t<Grid container spacing={2}>\n\t\t\t\t<Grid item md={9}>\n\t\t\t\t\t<TablaPresentaciones datos={datos} setOnUpdate={setOnUpdate} onUpdate={onUpdate} />\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item md={3}>\n\t\t\t\t\t{!datos.medidas_registradas ? (\n\t\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t\t<Box width=\"100%\" mb={2}>\n\t\t\t\t\t\t\t\t<Typography>Almacen</Typography>\n\t\t\t\t\t\t\t\t<Box display=\"flex\">\n\t\t\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\t\t\tdisabled={presentaciones.length === 0}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\tname=\"almacen\"\n\t\t\t\t\t\t\t\t\t\terror={presentaciones.length > 0 && !almacen_inicial.almacen}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\t\t\t\t\tname=\"almacen\"\n\t\t\t\t\t\t\t\t\t\t\tvalue={almacen_inicial.almacen}\n\t\t\t\t\t\t\t\t\t\t\tonChange={obtenerAlmacenes}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<MenuItem value=\"\">\n\t\t\t\t\t\t\t\t\t\t\t\t<em>Seleccione uno</em>\n\t\t\t\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t{almacenes ? (\n\t\t\t\t\t\t\t\t\t\t\t\talmacenes.map((res) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"id_almacen\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={res._id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={res.nombre_almacen}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid={res._id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{res.nombre_almacen}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value=\"\" />\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t</Select>\n\t\t\t\t\t\t\t\t\t\t{presentaciones.length > 0 && !almacen_inicial.almacen ? (\n\t\t\t\t\t\t\t\t\t\t\t<FormLabel>* Campo obligatorio</FormLabel>\n\t\t\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t\t\t\t<AlmacenProvider>\n\t\t\t\t\t\t\t\t\t\t<ContainerRegistroAlmacen accion=\"registrar\" refetch={refetch} />\n\t\t\t\t\t\t\t\t\t</AlmacenProvider>\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Divider />\n\t\t\t\t\t\t</Fragment>\n\t\t\t\t\t) : null}\n\t\t\t\t\t<Box\n\t\t\t\t\t\twidth=\"100%\"\n\t\t\t\t\t\tmy={2}\n\t\t\t\t\t\tstyle={\n\t\t\t\t\t\t\tonUpdate.length > 0 ? (\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tpointerEvents: 'none',\n\t\t\t\t\t\t\t\t\topacity: 0.4\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t) : null\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Typography>{datos_generales.tipo_producto === 'ROPA' ? 'Talla' : 'Número'}</Typography>\n\t\t\t\t\t\t<CrearTallasProducto setMedidasSeleccionadas={setMedidasSeleccionadas} refetch={refetch} />\n\t\t\t\t\t\t<Grid container>\n\t\t\t\t\t\t\t{medidas.map((talla, index) => (\n\t\t\t\t\t\t\t\t<RenderTallas\n\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\ttalla={talla}\n\t\t\t\t\t\t\t\t\tcoloresSeleccionados={coloresSeleccionados}\n\t\t\t\t\t\t\t\t\tmedidasSeleccionadas={medidasSeleccionadas}\n\t\t\t\t\t\t\t\t\tsetMedidasSeleccionadas={setMedidasSeleccionadas}\n\t\t\t\t\t\t\t\t\tdatos={datos}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Divider />\n\t\t\t\t\t<Box\n\t\t\t\t\t\twidth=\"100%\"\n\t\t\t\t\t\tmt={1}\n\t\t\t\t\t\tstyle={\n\t\t\t\t\t\t\tonUpdate.length > 0 ? (\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tpointerEvents: 'none',\n\t\t\t\t\t\t\t\t\topacity: 0.4\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t) : null\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Typography>Color</Typography>\n\t\t\t\t\t\t<CrearColorProducto refetch={refetch} />\n\t\t\t\t\t\t<Grid container>\n\t\t\t\t\t\t\t{colores.map((color, index) => (\n\t\t\t\t\t\t\t\t<Colores\n\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\tcolor={color}\n\t\t\t\t\t\t\t\t\tcoloresSeleccionados={coloresSeleccionados}\n\t\t\t\t\t\t\t\t\tsetColoresSeleccionados={setColoresSeleccionados}\n\t\t\t\t\t\t\t\t\tmedidasSeleccionadas={medidasSeleccionadas}\n\t\t\t\t\t\t\t\t\tdatos={datos}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Box>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t</div>\n\t);\n}\n\nconst RenderTallas = ({\n\ttalla,\n\tcoloresSeleccionados,\n\tmedidasSeleccionadas,\n\tsetMedidasSeleccionadas,\n\tdatos\n}) => {\n\tconst classes = useStyles();\n\tconst theme = useTheme();\n\tconst { setPresentaciones, presentaciones, datos_generales, preciosP } = useContext(RegProductoContext);\n\tconst [ selected, setSelected ] = useState(false);\n\n\tconst seleccionarMedidas = useCallback(\n\t\t() => {\n\t\t\tmedidasSeleccionadas.forEach((res) => {\n\t\t\t\tif (res._id === talla._id) setSelected(true);\n\t\t\t});\n\t\t},\n\t\t[ talla._id, medidasSeleccionadas ]\n\t);\n\n\tuseEffect(\n\t\t() => {\n\t\t\tif (datos.medidas_registradas) {\n\t\t\t\treturn seleccionarMedidas();\n\t\t\t}\n\t\t},\n\t\t[ seleccionarMedidas ]\n\t);\n\n\tconst handleAddTallas = (value) => {\n\t\tconst medidas_seleccionadas_temp = [ ...medidasSeleccionadas ];\n\n\t\tif (!selected) {\n\t\t\tmedidas_seleccionadas_temp.push(talla);\n\t\t\tsetSelected(value);\n\t\t} else {\n\t\t\tmedidas_seleccionadas_temp.forEach((res, index) => {\n\t\t\t\tif (res._id === talla._id) {\n\t\t\t\t\tmedidas_seleccionadas_temp.splice(index, 1);\n\t\t\t\t\tsetSelected(value);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tlet presentacion_temp = [];\n\t\tconst array_medidad_finales = [ ...presentaciones ];\n\n\t\tif (!coloresSeleccionados.length && !array_medidad_finales.length) {\n\t\t\t/* SI NO HAY COLORES NI VALORES EN EL ARRAY FINAL SE AGREGA EL PRIMER ELEMENTO */\n\t\t\tfor (let i = 0; i < medidas_seleccionadas_temp.length; i++) {\n\t\t\t\tconst producto_medida = medidas_seleccionadas_temp[i];\n\t\t\t\tpresentacion_temp.push({\n\t\t\t\t\texistencia: false,\n\t\t\t\t\tcodigo_barras: GenCodigoBarras(),\n\t\t\t\t\tnombre_comercial: datos_generales.nombre_comercial,\n\t\t\t\t\tmedida: producto_medida,\n\t\t\t\t\tcolor: { nombre: '', hex: '' },\n\t\t\t\t\tprecio: preciosP[0].precio_neto,\n\t\t\t\t\tcantidad: 0,\n\t\t\t\t\tnuevo: true\n\t\t\t\t});\n\t\t\t}\n\t\t} else if (!coloresSeleccionados.length && array_medidad_finales.length > 0) {\n\t\t\t/* SI NO HAY COLORES REGISTRADOS PERO YA HAY TALLAS SE AGREGAN MAS */\n\t\t\tfor (let i = 0; i < medidas_seleccionadas_temp.length; i++) {\n\t\t\t\tconst producto_medida = medidas_seleccionadas_temp[i];\n\t\t\t\tconst result = array_medidad_finales.filter((res) => res.medida._id === producto_medida._id);\n\t\t\t\tif (result.length) {\n\t\t\t\t\tpresentacion_temp.push(result[0]);\n\t\t\t\t} else {\n\t\t\t\t\tpresentacion_temp.push({\n\t\t\t\t\t\texistencia: false,\n\t\t\t\t\t\tcodigo_barras: GenCodigoBarras(),\n\t\t\t\t\t\tnombre_comercial: datos_generales.nombre_comercial,\n\t\t\t\t\t\tmedida: producto_medida,\n\t\t\t\t\t\tcolor: { nombre: '', hex: '' },\n\t\t\t\t\t\tprecio: preciosP[0].precio_neto,\n\t\t\t\t\t\tcantidad: 0,\n\t\t\t\t\t\tnuevo: true\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (coloresSeleccionados.length > 0 && medidas_seleccionadas_temp.length === 1 && value) {\n\t\t\t/* SI HAY COLORES SE LE AGREGA TALLA POR PRIMERA VEZ */\n\t\t\tfor (let i = 0; i < array_medidad_finales.length; i++) {\n\t\t\t\tfor (let k = 0; k < medidas_seleccionadas_temp.length; k++) {\n\t\t\t\t\tpresentacion_temp.push({\n\t\t\t\t\t\texistencia: array_medidad_finales[i].existencia,\n\t\t\t\t\t\tcodigo_barras: array_medidad_finales[i].codigo_barras,\n\t\t\t\t\t\tnombre_comercial: array_medidad_finales[i].nombre_comercial,\n\t\t\t\t\t\tmedida: medidas_seleccionadas_temp[k],\n\t\t\t\t\t\tcolor: array_medidad_finales[i].color,\n\t\t\t\t\t\tprecio: array_medidad_finales[i].precio,\n\t\t\t\t\t\tcantidad: array_medidad_finales[i].cantidad,\n\t\t\t\t\t\tnuevo: true\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (coloresSeleccionados.length > 0 && medidas_seleccionadas_temp.length > 0) {\n\t\t\t/* YA HAY COLORES Y MEDIDAS EN LAS PRESENTACIONES, SE AGREGAN NORMAL */\n\t\t\tfor (let i = 0; i < medidas_seleccionadas_temp.length; i++) {\n\t\t\t\tconst producto_medida = medidas_seleccionadas_temp[i];\n\t\t\t\tfor (let k = 0; k < coloresSeleccionados.length; k++) {\n\t\t\t\t\tconst producto_color = coloresSeleccionados[k];\n\t\t\t\t\tconst presentacion_existente = array_medidad_finales.filter(\n\t\t\t\t\t\t(producto_array_final) =>\n\t\t\t\t\t\t\tproducto_array_final.medida._id === producto_medida._id &&\n\t\t\t\t\t\t\tproducto_color._id === producto_array_final.color._id\n\t\t\t\t\t);\n\t\t\t\t\tif (!presentacion_existente.length) {\n\t\t\t\t\t\tpresentacion_temp.push({\n\t\t\t\t\t\t\texistencia: false,\n\t\t\t\t\t\t\tcodigo_barras: GenCodigoBarras(),\n\t\t\t\t\t\t\tnombre_comercial: datos_generales.nombre_comercial,\n\t\t\t\t\t\t\tmedida: producto_medida,\n\t\t\t\t\t\t\tcolor: producto_color,\n\t\t\t\t\t\t\tprecio: preciosP[0].precio_neto,\n\t\t\t\t\t\t\tcantidad: 0,\n\t\t\t\t\t\t\tnuevo: true\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tpresentacion_temp.push(presentacion_existente[0]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (coloresSeleccionados.length > 0 && !medidas_seleccionadas_temp.length) {\n\t\t\t/* SI NO HAY TALLAS SE VUELVE A LISTAR LOS COLORES QUE YA ESTABAN EN PRESENTACIONES */\n\t\t\tconst presentaciones_existentes = array_medidad_finales.filter((producto) => producto.medida._id);\n\t\t\tif (presentaciones_existentes.length) {\n\t\t\t\tfor (let x = 0; x < array_medidad_finales.length; x++) {\n\t\t\t\t\tconst objeto_presentaciones_final = array_medidad_finales[x];\n\t\t\t\t\tpresentacion_temp.push({\n\t\t\t\t\t\texistencia: objeto_presentaciones_final.existencia,\n\t\t\t\t\t\tcodigo_barras: objeto_presentaciones_final.codigo_barras,\n\t\t\t\t\t\tnombre_comercial: objeto_presentaciones_final.nombre_comercial,\n\t\t\t\t\t\tmedida: {},\n\t\t\t\t\t\tcolor: objeto_presentaciones_final.color,\n\t\t\t\t\t\tprecio: objeto_presentaciones_final.precio,\n\t\t\t\t\t\tcantidad: objeto_presentaciones_final.cantidad,\n\t\t\t\t\t\tnuevo: true\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tsetMedidasSeleccionadas([ ...medidas_seleccionadas_temp ]);\n\t\tsetPresentaciones(presentacion_temp);\n\t};\n\n\treturn (\n\t\t<Grid item>\n\t\t\t<div\n\t\t\t\tclassName={classes.colorContainer}\n\t\t\t\tonClick={() => handleAddTallas(!selected)}\n\t\t\t\tstyle={\n\t\t\t\t\tselected ? (\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tbackgroundColor: theme.palette.primary.main\n\t\t\t\t\t\t}\n\t\t\t\t\t) : null\n\t\t\t\t}\n\t\t\t>\n\t\t\t\t<Typography\n\t\t\t\t\tvariant=\"button\"\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tcolor: theme.palette.getContrastText(selected ? theme.palette.primary.main : '#FFFFFF'),\n\t\t\t\t\t\tfontSize: 16\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{talla.talla}\n\t\t\t\t</Typography>\n\t\t\t</div>\n\t\t</Grid>\n\t);\n};\n\nconst Colores = ({ color, coloresSeleccionados, setColoresSeleccionados, medidasSeleccionadas, datos }) => {\n\tconst classes = useStyles();\n\tconst theme = useTheme();\n\tconst { presentaciones, setPresentaciones, datos_generales, preciosP } = useContext(RegProductoContext);\n\n\tconst [ selected, setSelected ] = useState(false);\n\n\tconst seleccionarColores = useCallback(\n\t\t() => {\n\t\t\tcoloresSeleccionados.forEach((res) => {\n\t\t\t\tif (res._id === color._id) setSelected(true);\n\t\t\t});\n\t\t},\n\t\t[ color._id, coloresSeleccionados ]\n\t);\n\n\tuseEffect(\n\t\t() => {\n\t\t\tif (datos.medidas_registradas) {\n\t\t\t\treturn seleccionarColores();\n\t\t\t}\n\t\t},\n\t\t[ seleccionarColores ]\n\t);\n\n\tconst obtenerColores = (value) => {\n\t\tif (!selected) {\n\t\t\tcoloresSeleccionados.push(color);\n\t\t\tsetSelected(value);\n\t\t} else {\n\t\t\tcoloresSeleccionados.forEach((res, index) => {\n\t\t\t\tif (res._id === color._id) {\n\t\t\t\t\tcoloresSeleccionados.splice(index, 1);\n\t\t\t\t\tsetSelected(value);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\tlet presentacion_temp = [];\n\t\tconst array_medidad_finales = [ ...presentaciones ];\n\n\t\tif (!medidasSeleccionadas.length && !array_medidad_finales.length) {\n\t\t\t/* SI NO HAY COLORES NI VALORES EN EL ARRAY FINAL SE AGREGA EL PRIMER ELEMENTO */\n\t\t\tfor (let i = 0; i < coloresSeleccionados.length; i++) {\n\t\t\t\tconst producto_color = coloresSeleccionados[i];\n\t\t\t\tpresentacion_temp.push({\n\t\t\t\t\texistencia: false,\n\t\t\t\t\tcodigo_barras: GenCodigoBarras(),\n\t\t\t\t\tnombre_comercial: datos_generales.nombre_comercial,\n\t\t\t\t\tmedida: {},\n\t\t\t\t\tcolor: producto_color,\n\t\t\t\t\tprecio: preciosP[0].precio_neto,\n\t\t\t\t\tcantidad: 0,\n\t\t\t\t\tnuevo: true\n\t\t\t\t});\n\t\t\t}\n\t\t} else if (!medidasSeleccionadas.length && array_medidad_finales.length > 0) {\n\t\t\t/* SI YA HAY COLORES REGISTRADOS SE AGREGAN MAS */\n\t\t\tfor (let i = 0; i < coloresSeleccionados.length; i++) {\n\t\t\t\tconst producto_color = coloresSeleccionados[i];\n\t\t\t\tconst result = array_medidad_finales.filter((res) => res.color._id === producto_color._id);\n\t\t\t\tif (result.length) {\n\t\t\t\t\tpresentacion_temp.push(result[0]);\n\t\t\t\t} else {\n\t\t\t\t\tpresentacion_temp.push({\n\t\t\t\t\t\texistencia: false,\n\t\t\t\t\t\tcodigo_barras: GenCodigoBarras(),\n\t\t\t\t\t\tnombre_comercial: datos_generales.nombre_comercial,\n\t\t\t\t\t\tmedida: {},\n\t\t\t\t\t\tcolor: producto_color,\n\t\t\t\t\t\tprecio: preciosP[0].precio_neto,\n\t\t\t\t\t\tcantidad: 0,\n\t\t\t\t\t\tnuevo: true\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (medidasSeleccionadas.length > 0 && coloresSeleccionados.length === 1 && value) {\n\t\t\t/* SI YA HAY TALLAS SE LE AGREGA EL COLOR POR PRIMERA VEZ */\n\t\t\tfor (let i = 0; i < array_medidad_finales.length; i++) {\n\t\t\t\tfor (let k = 0; k < coloresSeleccionados.length; k++) {\n\t\t\t\t\tpresentacion_temp.push({\n\t\t\t\t\t\texistencia: array_medidad_finales[i].existencia,\n\t\t\t\t\t\tcodigo_barras: array_medidad_finales[i].codigo_barras,\n\t\t\t\t\t\tnombre_comercial: array_medidad_finales[i].nombre_comercial,\n\t\t\t\t\t\tmedida: array_medidad_finales[i].medida,\n\t\t\t\t\t\tcolor: coloresSeleccionados[k],\n\t\t\t\t\t\tprecio: array_medidad_finales[i].precio,\n\t\t\t\t\t\tcantidad: array_medidad_finales[i].cantidad,\n\t\t\t\t\t\tnuevo: true\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (medidasSeleccionadas.length > 0 && coloresSeleccionados.length > 0) {\n\t\t\t/* YA HAY TALLAS Y MEIDAS EN LAS PRESENTACIONES, SE REGISTRAN NORMAL */\n\t\t\tfor (let i = 0; i < coloresSeleccionados.length; i++) {\n\t\t\t\tconst producto_color = coloresSeleccionados[i];\n\t\t\t\tfor (let k = 0; k < medidasSeleccionadas.length; k++) {\n\t\t\t\t\tconst producto_medida = medidasSeleccionadas[k];\n\t\t\t\t\tconst presentacion_existente = array_medidad_finales.filter(\n\t\t\t\t\t\t(producto_array_final) =>\n\t\t\t\t\t\t\tproducto_array_final.medida._id === producto_medida._id &&\n\t\t\t\t\t\t\tproducto_color._id === producto_array_final.color._id\n\t\t\t\t\t);\n\t\t\t\t\tif (!presentacion_existente.length) {\n\t\t\t\t\t\tpresentacion_temp.push({\n\t\t\t\t\t\t\texistencia: false,\n\t\t\t\t\t\t\tcodigo_barras: GenCodigoBarras(),\n\t\t\t\t\t\t\tnombre_comercial: datos_generales.nombre_comercial,\n\t\t\t\t\t\t\tmedida: producto_medida,\n\t\t\t\t\t\t\tcolor: producto_color,\n\t\t\t\t\t\t\tprecio: preciosP[0].precio_neto,\n\t\t\t\t\t\t\tcantidad: 0,\n\t\t\t\t\t\t\tnuevo: true\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tpresentacion_temp.push(presentacion_existente[0]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (medidasSeleccionadas.length > 0 && !coloresSeleccionados.length) {\n\t\t\t/* SI NO HAY COLORES SE VUELVE A LISTAR LAS TALLAS QUE YA ESTABAN EN PRESENTACIONES */\n\t\t\tconst presentaciones_existentes = array_medidad_finales.filter((producto) => producto.color._id);\n\t\t\tif (presentaciones_existentes.length) {\n\t\t\t\tfor (let x = 0; x < array_medidad_finales.length; x++) {\n\t\t\t\t\tconst objeto_presentaciones_final = array_medidad_finales[x];\n\t\t\t\t\tpresentacion_temp.push({\n\t\t\t\t\t\texistencia: objeto_presentaciones_final.existencia,\n\t\t\t\t\t\tcodigo_barras: objeto_presentaciones_final.codigo_barras,\n\t\t\t\t\t\tnombre_comercial: objeto_presentaciones_final.nombre_comercial,\n\t\t\t\t\t\tmedida: objeto_presentaciones_final.medida,\n\t\t\t\t\t\tcolor: { nombre: '', hex: '' },\n\t\t\t\t\t\tprecio: objeto_presentaciones_final.precio,\n\t\t\t\t\t\tcantidad: objeto_presentaciones_final.cantidad,\n\t\t\t\t\t\tnuevo: true\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tsetColoresSeleccionados([ ...coloresSeleccionados ]);\n\t\tsetPresentaciones(presentacion_temp);\n\t};\n\n\treturn (\n\t\t<Grid item>\n\t\t\t<Tooltip title={color.nombre} placement=\"top\" arrow TransitionComponent={Zoom}>\n\t\t\t\t<div\n\t\t\t\t\tclassName={classes.colorContainer}\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tbackgroundColor: color.hex,\n\t\t\t\t\t\tcolor: theme.palette.getContrastText(color.hex)\n\t\t\t\t\t}}\n\t\t\t\t\tonClick={() => obtenerColores(!selected)}\n\t\t\t\t>\n\t\t\t\t\t{selected ? <Done /> : null}\n\t\t\t\t</div>\n\t\t\t</Tooltip>\n\t\t</Grid>\n\t);\n};\n","import React, { Fragment, useContext, useEffect, useState } from \"react\";\nimport { Button, CircularProgress, Tooltip } from \"@material-ui/core\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport Slide from \"@material-ui/core/Slide\";\nimport { Done, SquareFoot } from \"@material-ui/icons\";\nimport { useQuery } from \"@apollo/client\";\nimport { OBTENER_CONSULTAS } from \"../../../../../gql/Catalogos/productos\";\nimport ErrorPage from \"../../../../../components/ErrorPage\";\nimport { ComprasContext } from \"../../../../../context/Compras/comprasContext\";\nimport TallasProducto from \"../../../Catalogos/Producto/TallasColores/TallasColores\";\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function AlertDialogSlide({verificate, setVerificate}) {\n  const [open, setOpen] = useState(false);\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n  const { datosProducto, datosCompra, setLoadingProductos } = useContext(ComprasContext);\n\n  /* Queries */\n  const { loading, data, error, refetch } = useQuery(OBTENER_CONSULTAS, {\n    variables: { empresa: sesion.empresa._id, sucursal: sesion.sucursal._id },\n  });\n\n  useEffect(() => {\n    if(loading){\n      setLoadingProductos(true);\n    }else{\n      setLoadingProductos(false);\n    }\n  }, [loading]);\n\n  if (loading)\n    return (\n      <Button\n        color=\"primary\"\n        size=\"medium\"\n        disabled={true}\n        startIcon={<CircularProgress size={16} color=\"inherit\" />}\n      >\n        Medidas\n      </Button>\n    );\n\n  if (error) return <ErrorPage error={error} />;\n\n  const { obtenerConsultasProducto } = data;\n\n  const toggleDrawer = () => {\n    setOpen(!open);\n    setVerificate(false);\n  }\n\n  return (\n    <Fragment>\n      <Tooltip title=\"Selecciona medidas y colores\" disableHoverListener={true} open={verificate} placement=\"top\">\n        <Button\n          color={verificate ? \"secondary\" :\"inherit\"}\n          variant=\"outlined\"\n          size=\"medium\"\n          onClick={() => toggleDrawer()}\n          startIcon={<SquareFoot />}\n          disabled={!datosProducto.producto.datos_generales}\n        >\n          Medidas\n        </Button>\n      </Tooltip>\n      <Dialog\n        open={open}\n        TransitionComponent={Transition}\n        keepMounted\n        onClose={toggleDrawer}\n        aria-labelledby=\"alert-tallas-compra\"\n        aria-describedby=\"alert-tallas-compra-description\"\n        fullWidth\n        maxWidth=\"lg\"\n      >\n        <DialogContent>\n          <TallasProducto\n            datos={datosProducto.producto}\n            obtenerConsultasProducto={obtenerConsultasProducto}\n            refetch={refetch}\n            from=\"compra\"\n            almacen={datosCompra.almacen}\n            withoutPrice={true}\n          />\n        </DialogContent>\n        <DialogActions>\n          <Button\n            size=\"large\"\n            onClick={() => toggleDrawer()}\n            startIcon={<Done />}\n            color=\"primary\"\n            variant=\"contained\"\n          >\n            Aceptar\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </Fragment>\n  );\n}\n","import $ from \"jquery\"\nimport jQuery from \"jquery\"\n\nvar valuesFacturama = {\n    token: \"QUJTT0xVQ0lPTkVTOkxlb24yMDE4Iw==\",\n    url: \"https://apisandbox.facturama.mx/\"\n};\n\n$.ajaxSetup({\n    beforeSend: function (xhr) {\n        xhr.withCredentials = true;\n        xhr.setRequestHeader(\"Authorization\", \"Basic \" + valuesFacturama.token);\n    }\n});\n\nfunction facturama() {\n\n    var settings = {\n        url: valuesFacturama.url\n    };\n\n    function retrieve(path, id, callback) {\n        return jQuery.get(settings.url + path + '/' + id, undefined, callback, \"json\");\n    }\n\n    function list(path, callback) {\n        return jQuery.get(settings.url + path, undefined, callback, \"json\");\n    }\n\n    function listWithParam(path, param, callback) {\n        return jQuery.get(settings.url + path + param, undefined, callback, \"json\");\n    }\n\n    function postSyncWithParam(path, param, callback) {\n        $.ajax({\n            url: settings.url + path + param,\n            type: 'POST',\n            async: false,\n            success: callback\n        });\n    }\n\n    function postSyncWithData(path, data, callback, callbackError) {\n        $.ajax({\n            url: settings.url + path,\n            type: 'POST',\n            dataType: 'json',\n            data: JSON.stringify(data),\n            contentType: \"application/json\",\n            success: callback,\n            error: callbackError\n        });\n    }\n\n    function putSyncWithData(path, data, callback, callbackError) {\n        $.ajax({\n            url: settings.url + path,\n            type: 'PUT',\n            data: JSON.stringify(data),\n            contentType: \"application/json\",\n            success: callback,\n            error: callbackError\n        });\n    }\n\n    function deleteSyncWithParam(path, param, callback, callbackError) {\n        $.ajax({\n            url: settings.url + path + '/' + param,\n            type: 'DELETE',\n            async: false,\n            success: callback,\n            error: callbackError\n        });\n    }\n\n    var facturamaObject = {\n        Clients: {\n            Get: function (id, callback) {\n                return retrieve('client', id, callback);\n            },\n            List: function (callback) {\n                return list('client', callback);\n            },\n            Create: function (data, callback, callbackError) {\n                postSyncWithData('client', data, callback, callbackError);\n            },\n            Remove: function (id, callback, callbackError) {\n                deleteSyncWithParam('client/', id, callback, callbackError);\n            },\n            Update: function (id, data, callback, callbackError) {\n                putSyncWithData('client/' + id, data, callback, callbackError);\n            }\n        },\n        Products: {\n            Get: function (id, callback) {\n                return retrieve('product', id, callback);\n            },\n            List: function (callback) {\n                return list('product', callback);\n            },\n            Create: function (data, callback, callbackError) {\n                postSyncWithData('product', data, callback, callbackError);\n            },\n            Remove: function (id, callback, callbackError) {\n                deleteSyncWithParam('product/', id, callback, callbackError);\n            },\n            Update: function (id, data, callback, callbackError) {\n                putSyncWithData('product/' + id, data, callback, callbackError);\n            }\n        },\n        BranchOffice: {\n            Get: function (id, callback) {\n                return retrieve('branchOffice', id, callback);\n            },\n            List: function (callback) {\n                return list('branchOffice', callback);\n            },\n            Create: function (data, callback, callbackError) {\n                postSyncWithData('branchOffice', data, callback, callbackError);\n            },\n            Remove: function (id, callback, callbackError) {\n                deleteSyncWithParam('branchOffice', id, callback, callbackError);\n            },\n            Update: function (id, data, callback, callbackError) {\n                putSyncWithData('branchOffice/' + id, data, callback, callbackError);\n            }\n        },\n        Series: {\n            List: function (id, callback) {\n                return retrieve('serie', id, callback);\n            },\n            Create: function (idBranch, data, callback, callbackError) {\n                postSyncWithData('serie/' + idBranch, data, callback, callbackError);\n            },\n            Remove: function (idBranch, name, callback, callbackError) {\n                deleteSyncWithParam('serie/' + idBranch, name, callback, callbackError);\n            },\n            Update: function (idBranch, name, data, callback, callbackError) {\n                putSyncWithData('serie/' + idBranch + '/' + name, data, callback, callbackError);\n            }\n        },\n        Cfdi: {\n            Get: function (id, callback) {\n                return retrieve('cfdi', id, callback);\n            },\n            List: function (param, callback) {\n                return listWithParam('cfdi', param, callback);\n            },\n            Create: function (data, callback, callbackError) {\n                postSyncWithData('2/cfdis', data, callback, callbackError);\n            },\n            Send: function (param, callback) {\n                postSyncWithParam('cfdi', param, callback);\n            },\n            Cancel: function (params, callback, callbackError) {\n                deleteSyncWithParam('cfdi', params, callback, callbackError);\n            },\n            Download: function (format, type, id, callback) {\n                retrieve('cfdi/' + format + '/' + type, id, callback);\n            },\n            Acuse: function (format, type, id, callback) {\n                retrieve('acuse/' + format + '/' + type, id, callback);\n            }\n        },\n        TaxEntity: {\n            Get: function (callback) {\n                return list('taxEntity', callback);\n            },\n            Update: function (data, callback, callbackError) {\n                putSyncWithData('taxEntity', data, callback, callbackError);\n            },\n            UploadCsd: function (data, callback, callbackError) {\n                putSyncWithData('taxEntity/UploadCsd', data, callback, callbackError);\n            },\n            UploadImage: function (data, callback, callbackError) {\n                putSyncWithData('taxEntity/UploadLogo', data, callback, callbackError);\n            }\n        },\n        Catalogs: {\n            States: function (country, callback) {\n                return list('catalogs/municipalities?countryCode' + country, callback);\n            },\n            Municipalities: function (state, callback) {\n                return list('catalogs/municipalities?stateCode' + state, callback);\n            },\n            Localities: function (state, callback) {\n                return list('catalogs/localities?stateCode' + state, callback);\n            },\n            Neighborhoods: function (postalCode, callback) {\n                return list('catalogs/neighborhoods?postalCode' + postalCode, callback);\n            },\n            ProductsOrServices: function (keyword, callback) {\n                return list('catalogs/ProductsOrServices?keyword=' + keyword, callback);\n            },\n            PostalCodes: function (keyword, callback) {\n                return list('catalogs/PostalCodes?keyword=' + keyword, callback);\n            },\n            Units: function (callback) {\n                return list('catalogs/Units', callback);\n            },\n            Currencies: function (callback) {\n                return list('catalogs/Currencies', callback);\n            },\n            Countries: function (callback) {\n                return list('catalogs/Countries', callback);\n            },\n            PaymentForms: function (callback) {\n                return list('catalogs/PaymentForms', callback);\n            },\n            PaymentMethods: function (callback) {\n                return list('catalogs/PaymentMethods', callback);\n            },\n            FederalTaxes: function (callback) {\n                return list('catalogs/FederalTaxes', callback);\n            },\n            FiscalRegimens: function (callback) {\n                return list('catalogs/FiscalRegimens', callback);\n            },\n            CfdiTypes: function (callback) {\n                return list('catalogs/CfdiTypes', callback);\n            },\n            RelationTypes: function (callback) {\n                return list('catalogs/RelationTypes', callback);\n            },\n            CfdiUses: function (keyword, callback) {\n                return list('catalogs/CfdiUses?keyword=' + keyword, callback);\n            }\n        }\n    };\n\n    facturamaObject.getToken = function () {\n        return \"Basic \" + valuesFacturama.token;\n    };\n\n    facturamaObject.getBaseUri = function () {\n        return settings.url;\n    };\n\n    return facturamaObject;\n}\n\n export default facturama()\n","import { gql } from \"@apollo/client\";\n\nexport const CREAR_CODIGO_PRODUCTO = gql`\n  mutation crearCodigoProducto($input: CodigoCatalogoProductoInput) {\n    crearCodigoProducto(input: $input) {\n      message\n    }\n  }\n`;\n\nexport const OBTENER_CODIGOS_PRODUCTO = gql`\n  query obtenerCodigosProducto($empresa: ID!, $sucursal: ID) {\n    obtenerCodigosProducto(empresa: $empresa, sucursal: $sucursal) {\n      _id\n      Name\n      Value\n      empresa {\n        _id\n        nombre_empresa\n      }\n      sucursal {\n        _id\n        nombre_sucursal\n      }\n    }\n  }\n`;\n\nexport const ELIMINAR_CODIGO_PRODUCTO = gql`\n  mutation eliminarCodigoProducto($id: ID!) {\n    eliminarCodigoProducto(id: $id) {\n      message\n    }\n  }\n`;\n","import React, { Fragment, useContext, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Slide from \"@material-ui/core/Slide\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Box from \"@material-ui/core/Box\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport Divider from \"@material-ui/core/Divider\";\n\nimport { RegProductoContext } from \"../../../../../context/Catalogos/CtxRegProducto\";\nimport { Close, Done, Search } from \"@material-ui/icons\";\nimport {\n  CircularProgress,\n  IconButton,\n  InputAdornment,\n} from \"@material-ui/core\";\nimport Facturama from \"../../../../../billing/Facturama/facturama.api\";\nimport {\n  CREAR_CODIGO_PRODUCTO,\n  ELIMINAR_CODIGO_PRODUCTO,\n} from \"../../../../../gql/CatalogosSat/catalogoProductosSat\";\nimport { useMutation } from \"@apollo/client\";\nimport SnackBarMessages from \"../../../../../components/SnackBarMessages\";\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: \"100%\",\n    backgroundColor: theme.palette.background.paper,\n  },\n})); \n\nexport default function CatalogosProductosSAT({ codigos, refetch }) {\n  const classes = useStyles();\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n  const [open, setOpen] = React.useState(false);\n  const { datos_generales, setDatosGenerales } = useContext(RegProductoContext);\n  const [busqueda, setBusqueda] = useState(\"\");\n  const [productos, setProductos] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [loading_save, setLoadingSave] = useState(false);\n  const [loading_delete, setLoadingDelete] = useState(false);\n  const [selectedIndex, setSelectedIndex] = useState({});\n  const [error, setError] = useState(\"\");\n  const [alert, setAlert] = useState({ message: \"\", status: \"\", open: false });\n\n  const [crearCodigoProducto] = useMutation(CREAR_CODIGO_PRODUCTO);\n  const [eliminarCodigoProducto] = useMutation(ELIMINAR_CODIGO_PRODUCTO);\n\n  const handleClickOpen = () => setOpen(true);\n  const handleClose = () => setOpen(false);\n\n  const limpiarDataModal = () => {\n    setSelectedIndex({});\n    setProductos([]);\n    setBusqueda(\"\");\n    handleClose();\n  };\n\n  const handleOk = async () => {\n    const { Name, Value } = selectedIndex;\n    setDatosGenerales({\n      ...datos_generales,\n      clave_producto_sat: {\n        Name,\n        Value,\n      },\n    });\n    //Crear Codigo product a la BD\n    try {\n      setLoadingSave(true);\n      const result = await crearCodigoProducto({\n        variables: {\n          input: {\n            Name,\n            Value,\n            empresa: sesion.empresa._id,\n            sucursal: sesion.sucursal._id,\n          },\n        },\n      });\n\n      if (result) {\n        const { message } = result.data.crearCodigoProducto;\n        setAlert({\n          message: message,\n          status: \"success\",\n          open: true,\n        });\n        setLoadingSave(false);\n        refetch();\n        limpiarDataModal();\n      }\n    } catch (error) {\n      setLoadingSave(false);\n      setAlert({\n        message: `Error: ${error.message}`,\n        status: \"error\",\n        open: true,\n      });\n    }\n  };\n\n  const eliminarCodigoBD = async (data) => {\n    try {\n      setLoadingDelete(true);\n      const result = await eliminarCodigoProducto({\n        variables: {\n          id: data._id,\n        },\n      });\n\n      if (result) {\n        const { message } = result.data.eliminarCodigoProducto;\n        setAlert({\n          message: message,\n          status: \"success\",\n          open: true,\n        });\n        setDatosGenerales({\n          ...datos_generales,\n          clave_producto_sat: {\n            Name: \"\",\n            Value: \"\",\n          },\n        });\n        setLoadingDelete(false);\n        refetch();\n      }\n    } catch (error) {\n      setLoadingDelete(false);\n      setAlert({\n        message: `Error: ${error.message}`,\n        status: \"error\",\n        open: true,\n      });\n    }\n  };\n\n  const handleCancel = () => {\n    limpiarDataModal();\n  };\n\n  const obtenerCampos = (data) => {\n    if (!data) {\n      setDatosGenerales({\n        ...datos_generales,\n        clave_producto_sat: {\n          Name: \"\",\n          Value: \"\",\n        },\n      });\n      return null;\n    }\n    setDatosGenerales({\n      ...datos_generales,\n      clave_producto_sat: {\n        Name: data.Name,\n        Value: data.Value,\n      },\n    });\n  };\n\n  const buscarCatalogo = async (e) => {\n    e.preventDefault();\n    if (!busqueda) {\n      setProductos([]);\n      return;\n    }\n    setLoading(true);\n    try {\n      await Facturama.Catalogs.ProductsOrServices(\n        busqueda,\n        function (result) {\n          setProductos(result);\n          setLoading(false);\n        },\n        function (error) {\n          if (error && error.responseJSON) {\n            setError(error.responseJSON);\n          }\n          setLoading(false);\n        }\n      );\n    } catch (error) {\n      if (error && error.responseJSON) {\n        setError(error.responseJSON.Message);\n      }\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div>\n      <SnackBarMessages alert={alert} setAlert={setAlert} />\n      <Typography>Clave de producto SAT</Typography>\n      <Box display=\"flex\">\n        <Autocomplete\n          id=\"catalogos-bd-productos\"\n          size=\"small\"\n          options={codigos}\n          disabled={loading_delete}\n          getOptionLabel={(option) =>\n            option.Name ? `${option.Value} - ${option.Name}` : \"\"\n          }\n          fullWidth\n          renderInput={(params) => (\n            <TextField\n              {...params}\n              variant=\"outlined\"\n              InputProps={{\n                ...params.InputProps,\n                endAdornment: (\n                  <Fragment>\n                    {loading_delete ? <CircularProgress size={20} /> : null}\n                    {params.InputProps.endAdornment}\n                  </Fragment>\n                ),\n              }}\n            />\n          )}\n          renderOption={(option) => (\n            <Fragment>\n              {`${option.Value} - ${option.Name}`}\n              <div style={{ flexGrow: 1 }} />\n              <IconButton size=\"small\" onClick={() => eliminarCodigoBD(option)}>\n                <Close />\n              </IconButton>\n            </Fragment>\n          )}\n          onChange={(_, data) => obtenerCampos(data)}\n          getOptionSelected={(option, value) =>\n            option.Value === value.Value\n          }\n          value={datos_generales.clave_producto_sat}\n        />\n        <Button color=\"primary\" onClick={handleClickOpen}>\n          <Search />\n        </Button>\n      </Box>\n      <Dialog\n        open={open}\n        TransitionComponent={Transition}\n        keepMounted\n        onClose={handleCancel}\n        aria-labelledby=\"alert-dialog-clave-producto\"\n        fullWidth\n        maxWidth=\"sm\"\n      >\n        <DialogTitle id=\"alert-dialog-clave-producto\">\n          {\"Catalogo de productos y servicios SAT\"}\n        </DialogTitle>\n        <DialogContent style={{ height: \"50vh\" }}>\n          <Box>\n            <form onSubmit={buscarCatalogo}>\n              <TextField\n                variant=\"outlined\"\n                label=\"producto, servicio o giro de la empresa\"\n                fullWidth\n                size=\"small\"\n                onChange={(e) => {\n                  setBusqueda(e.target.value);\n                  setError(\"\");\n                }}\n                value={busqueda}\n                InputProps={{\n                  endAdornment: (\n                    <InputAdornment position=\"end\">\n                      <IconButton size=\"small\" onClick={buscarCatalogo}>\n                        <Search />\n                      </IconButton>\n                    </InputAdornment>\n                  ),\n                }}\n                error={error ? true : false}\n                helperText={error ? error : \"\"}\n              />\n            </form>\n          </Box>\n          <Box my={3} className={classes.root}>\n            {loading ? (\n              <Box\n                display=\"flex\"\n                justifyContent=\"center\"\n                alignItems=\"center\"\n                height=\"25vh\"\n              >\n                <CircularProgress />\n              </Box>\n            ) : (\n              <List dense component=\"nav\" aria-label=\"main mailbox folders\">\n                {productos.map((res, index) => (\n                  <SelectedListItem\n                    key={index}\n                    producto={res}\n                    busqueda={busqueda}\n                    selectedIndex={selectedIndex}\n                    setSelectedIndex={setSelectedIndex}\n                  />\n                ))}\n              </List>\n            )}\n          </Box>\n        </DialogContent>\n        <DialogActions style={{ justifyContent: \"center\" }}>\n          <Button onClick={() => handleCancel()}>Cancelar</Button>\n          <Button\n            onClick={() => handleOk()}\n            color=\"primary\"\n            disabled={loading_save}\n            startIcon={loading_save ? <CircularProgress size={18} /> : <Done />}\n          >\n            Seleccionar\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n}\n\nconst SelectedListItem = ({\n  producto,\n  busqueda,\n  selectedIndex,\n  setSelectedIndex,\n}) => {\n  const handleListItemClick = (data) => {\n    setSelectedIndex(data);\n  };\n\n  const contiene = busqueda.includes(\"potacio\");\n  if (producto.Value === \"0\" && !contiene) {\n    return null;\n  }\n\n  return (\n    <Fragment>\n      <ListItem\n        button\n        selected={selectedIndex.Value === producto.Value}\n        onClick={() => handleListItemClick(producto)}\n      >\n        <ListItemText primary={`${producto.Value} - ${producto.Name}`} />\n      </ListItem>\n      <Divider />\n    </Fragment>\n  );\n};\n","import { gql } from '@apollo/client';\n \nexport const CREAR_CATEGORIA = gql`\n\tmutation crearCategoria($input: CrearCategoriasInput) {\n\t\tcrearCategoria(input: $input) {\n\t\t\t_id\n\t\t\tcategoria\n\t\t\tempresa {\n\t\t\t\t_id\n\t\t\t\tnombre_empresa\n\t\t\t\tcorreo_empresa\n\t\t\t\tnombre_dueno\n\t\t\t\ttelefono_dueno\n\t\t\t}\n\t\t\tsucursal {\n\t\t\t\t_id\n\t\t\t\tnombre_sucursal\n\t\t\t\tdescripcion\n\t\t\t}\n\t\t}\n\t}\n`;\nexport const CREAR_SUBCATEGORIA = gql`\n\tmutation crearSubcategoria($idCategoria: ID!, $input: CrearSubcategoriasInput) {\n\t\tcrearSubcategoria(idCategoria: $idCategoria, input: $input) {\n\t\t\tmessage\n\t\t}\n\t}\n`;\n\nexport const ACTUALIZAR_CATEGORIA = gql`\n\tmutation actualizarCategoria($idCategoria: ID!, $input: ActualizarCategoriasInput) {\n\t\tactualizarCategoria(idCategoria: $idCategoria, input: $input) {\n\t\t\tmessage\n\t\t}\n\t}\n`;\nexport const ACTUALIZAR_SUBCATEGORIA = gql`\n\tmutation actualizarSubcategoria($idCategoria: ID!, $idSubcategoria: ID!, $input: ActualizarSubcategoriasInput) {\n\t\tactualizarSubcategoria(idCategoria: $idCategoria, idSubcategoria: $idSubcategoria, input: $input) {\n\t\t\tmessage\n\t\t}\n\t}\n`;\n\nexport const OBTENER_CATEGORIAS = gql`\n\tquery obtenerCategorias($empresa: ID!, $sucursal: ID!) {\n\t\tobtenerCategorias(empresa: $empresa, sucursal: $sucursal) {\n\t\t\t_id\n\t\t\tcategoria\n\t\t\tsubcategorias {\n\t\t\t\t_id\n\t\t\t\tsubcategoria\n\t\t\t}\n\t\t\tempresa {\n\t\t\t\t_id\n\t\t\t\tnombre_empresa\n\t\t\t\tcorreo_empresa\n\t\t\t\tnombre_dueno\n\t\t\t\ttelefono_dueno\n\t\t\t}\n\t\t\tsucursal {\n\t\t\t\t_id\n\t\t\t\tnombre_sucursal\n\t\t\t\tdescripcion\n\t\t\t}\n\t\t}\n\t}\n`;\nexport const ELIMINAR_CATEGORIA = gql`\n\tmutation eliminarCategoria($idCategoria: ID!) {\n\t\teliminarCategoria(idCategoria: $idCategoria) {\n\t\t\tmessage\n\t\t}\n\t}\n`; \n\nexport const ELIMINAR_SUBCATEGORIA = gql`\n\tmutation eliminarSubcategoria($idCategoria: ID!, $idSubcategoria: ID!) {\n\t\teliminarSubcategoria(idCategoria: $idCategoria, idSubcategoria: $idSubcategoria) {\n\t\t\tmessage\n\t\t}\n\t}\n`;\n","import { gql } from '@apollo/client';\n\nexport const OBTENER_DEPARTAMENTOS = gql`\n\tquery ObtenerDepartamentos($empresa: ID!, $sucursal: ID!){\n        obtenerDepartamentos(empresa: $empresa, sucursal: $sucursal){\n            _id\n            nombre_departamentos\n            empresa{\n                _id\n                nombre_empresa\n            }\n            sucursal{\n                _id\n                nombre_sucursal\n            }\n        }\n    }\n`;\n\nexport const REGISTRAR_DEPARTAMENTO = gql`\n\tmutation CrearDepartamentos($input: DepartamentosInput, $empresa: ID!, $sucursal: ID!){\n        crearDepartamentos(input: $input, empresa: $empresa, sucursal: $sucursal){\n            message\n        }\n    }\n`;\n\nexport const ACTUALIZAR_DEPARTAMENTO = gql`\n\tmutation ActualzarDepartamentos($input: DepartamentosInput, $id: ID!){\n        actualzarDepartamentos(input: $input, id: $id){\n            message\n        }\n    }\n`;\n\nexport const ELIMINAR_DEPARTAMENTO = gql`\n    mutation EliminarDepartamento($id: ID!){\n        eliminarDepartamento(id: $id){\n            message\n        }\n    }\n\t\n`;","import { gql } from '@apollo/client';\n\nexport const OBTENER_MARCAS = gql`\n    query ObtenerMarcas($empresa: ID!, $sucursal: ID!){\n        obtenerMarcas(empresa: $empresa, sucursal: $sucursal){\n            _id\n            nombre_marca\n        }\n    }\n`;\n\nexport const REGISTRAR_MARCAS = gql`\n    mutation CrearMarca($input: MarcasInput!, $empresa: ID!, $sucursal: ID!){\n        crearMarcas(input: $input, empresa: $empresa, sucursal: $sucursal ){\n            message\n        }\n    }\n`;\n\nexport const ACTUALIZAR_MARCAS = gql`\n    mutation actualzarMarcas($input: MarcasInput, $id: ID! ) {\n\t\tactualzarMarcas(id: $id, input: $input) {\n\t\t\tmessage\n\t\t}\n\t}\n`;\n\nexport const ELIMINAR_MARCAS = gql`\n\tmutation eliminarMarca($id: ID!, $empresa: ID!, $sucursal: ID!) {\n\t\teliminarMarca(id: $id, empresa: $empresa, sucursal: $sucursal) {\n\t\t\tmessage\n\t\t}\n\t}\n`;","import React, { Fragment, useContext, useEffect, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport {\n  Box,\n  FormControl,\n  Divider,\n  MenuItem,\n  Select,\n  Container,\n  FormHelperText,\n  OutlinedInput,\n  InputAdornment,\n  Grid,\n  IconButton,\n} from \"@material-ui/core\";\nimport {\n  TextField,\n  Typography,\n  Button,\n  Checkbox,\n  FormControlLabel,\n} from \"@material-ui/core\";\nimport {\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  CircularProgress,\n} from \"@material-ui/core\";\nimport { Add, Autorenew } from \"@material-ui/icons\";\nimport { RegProductoContext } from \"../../../../../context/Catalogos/CtxRegProducto\";\nimport CatalogosProductosSAT from \"./CatalogoProductosSAT\";\n\nimport { useMutation } from \"@apollo/client\";\nimport {\n  CREAR_CATEGORIA,\n  CREAR_SUBCATEGORIA,\n} from \"../../../../../gql/Catalogos/categorias\";\nimport { REGISTRAR_DEPARTAMENTO } from \"../../../../../gql/Catalogos/departamentos\";\nimport { REGISTRAR_MARCAS } from \"../../../../../gql/Catalogos/marcas\";\nimport SnackBarMessages from \"../../../../../components/SnackBarMessages\";\n\nconst useStyles = makeStyles((theme) => ({\n  formInputFlex: {\n    display: \"flex\",\n    \"& > *\": {\n      margin: `${theme.spacing(1)}px ${theme.spacing(1)}px`,\n    },\n  },\n  formInput: {\n    margin: `${theme.spacing(1)}px ${theme.spacing(2)}px`,\n  },\n  obligatorio: {\n    color: \"red\",\n  },\n}));\n\nexport default function RegistroInfoGenerales({\n  obtenerConsultasProducto,\n  refetch,\n}) {\n  const classes = useStyles();\n  const {\n    datos_generales,\n    setDatosGenerales,\n    validacion,\n    precios,\n    setPrecios,\n    centro_de_costos,\n    setSubcostos,\n  } = useContext(RegProductoContext);\n  const {\n    subcategorias,\n    setSubcategorias,\n    unidadVentaXDefecto,\n    setUnidadVentaXDefecto,\n    update,\n  } = useContext(RegProductoContext);\n  const {\n    categorias,\n    departamentos,\n    marcas,\n    centro_costos,\n    codigos,\n  } = obtenerConsultasProducto;\n\n  const obtenerCampos = (e) => {\n    if (e.target.name === \"monedero_electronico\") {\n      if (!e.target.value) {\n        setPrecios({\n          ...precios,\n          [e.target.name]: \"\",\n        });\n        return;\n      }\n      setPrecios({\n        ...precios,\n        [e.target.name]: parseFloat(e.target.value),\n      });\n      return;\n    }\n    if (e.target.name === \"codigo_barras\") {\n      setUnidadVentaXDefecto({\n        ...unidadVentaXDefecto,\n        codigo_barras: e.target.value,\n      });\n    }\n    setDatosGenerales({\n      ...datos_generales,\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  const checkFarmacia = (e) => {\n    setDatosGenerales({\n      ...datos_generales,\n      receta_farmacia: e.target.checked,\n    });\n  };\n\n  const obtenerChecks = (e) => {\n    if (e.target.name === \"monedero\" && e.target.checked) {\n      setPrecios({\n        ...precios,\n        monedero_electronico: 1,\n        monedero: e.target.checked,\n      });\n      return;\n    }\n    /* setPrecios({\n\t\t\t...precios,\n\t\t\t[e.target.name]: e.target.checked\n\t\t}); */\n    if (e.target.name === \"granel\" && e.target.checked) {\n      setPrecios({\n        ...precios,\n        [e.target.name]: e.target.checked,\n        inventario: { ...precios.inventario, unidad_de_inventario: \"Kg\", codigo_unidad: \"KGM\" },\n        unidad_de_compra: { ...precios.unidad_de_compra, unidad: \"Kg\", codigo_unidad: \"KGM\" },\n      });\n      setUnidadVentaXDefecto({\n        ...unidadVentaXDefecto,\n        unidad: \"Kg\",\n        codigo_unidad: \"KGM\"\n      });\n    } else {\n      setPrecios({\n        ...precios,\n        [e.target.name]: e.target.checked,\n        inventario: { ...precios.inventario, unidad_de_inventario: \"Pz\", codigo_unidad: \"H87\" },\n        unidad_de_compra: { ...precios.unidad_de_compra, unidad: \"Pz\", codigo_unidad: \"H87\" },\n      });\n      setUnidadVentaXDefecto({\n        ...unidadVentaXDefecto,\n        unidad: \"Pz\",\n        codigo_unidad: \"H87\"\n      });\n    }\n  };\n\n  const obtenerIDs = (event, child) => {\n    setDatosGenerales({\n      ...datos_generales,\n      [event.target.name]: event.target.value,\n      [child.props.name]: child.props.id,\n    });\n    if (child.props.categoria) {\n      const { subcategorias } = child.props.categoria;\n      setSubcategorias(subcategorias);\n    }\n  };\n\n  const GenCodigoBarras = () => {\n    const max = 999999999999;\n    const min = 100000000000;\n    const codigo_barras = Math.floor(\n      Math.random() * (max - min + 1) + min\n    ).toString();\n    setDatosGenerales({\n      ...datos_generales,\n      codigo_barras,\n    });\n    setUnidadVentaXDefecto({\n      ...unidadVentaXDefecto,\n      codigo_barras,\n    });\n  };\n\n  const verificarCampoVacio = (campo) => {\n    if (!precios.monedero_electronico) {\n      setPrecios({\n        ...precios,\n        monedero_electronico: 1,\n      });\n    }\n  };\n\n  useEffect(() => {\n    if (update) {\n      const categoria = categorias.filter(\n        (res) => res._id === datos_generales.id_categoria\n      );\n      const costos = centro_costos.filter(\n        (res) => res._id === centro_de_costos.id_cuenta\n      );\n      if (categoria.length > 0) {\n        setSubcategorias(categoria[0].subcategorias);\n      }\n      if (costos.length > 0) {\n        setSubcostos(costos[0].subcuentas);\n      }\n    }\n  }, [update]);\n\n  return (\n    <Fragment>\n      <Container maxWidth=\"lg\">\n        <Grid container spacing={2}>\n          <Grid item md={3} xs={12}>\n            <FormControl\n              variant=\"outlined\"\n              size=\"small\"\n              name=\"codigo_barras\"\n              fullWidth\n            >\n              <Typography>Código de barras</Typography>\n              <OutlinedInput\n                disabled={update && datos_generales.codigo_barras}\n                style={{ padding: 0 }}\n                id=\"form-producto-codigo-barras\"\n                name=\"codigo_barras\"\n                value={\n                  datos_generales.codigo_barras\n                    ? datos_generales.codigo_barras\n                    : \"\"\n                }\n                onChange={obtenerCampos}\n                endAdornment={\n                  <InputAdornment position=\"start\">\n                    <IconButton\n                      disabled={update && datos_generales.codigo_barras}\n                      onClick={() => GenCodigoBarras()}\n                      /* edge=\"end\" */\n                      color=\"primary\"\n                      size=\"small\"\n                    >\n                      <Autorenew />\n                    </IconButton>\n                  </InputAdornment>\n                }\n              />\n            </FormControl>\n          </Grid>\n          <Grid item md={2} xs={12}>\n            <Typography>\n              <span className={classes.obligatorio}>* </span>Clave alterna\n            </Typography>\n            <TextField\n              fullWidth\n              size=\"small\"\n              error={validacion.error && !datos_generales.clave_alterna}\n              name=\"clave_alterna\"\n              id=\"form-producto-clave-alterna\"\n              variant=\"outlined\"\n              value={\n                datos_generales.clave_alterna\n                  ? datos_generales.clave_alterna\n                  : \"\"\n              }\n              helperText={validacion.message}\n              onChange={obtenerCampos}\n            />\n          </Grid>\n          <Grid item md={2} xs={12}>\n            <Typography>\n              <span className={classes.obligatorio}>* </span>Tipo de producto\n            </Typography>\n            <FormControl\n              variant=\"outlined\"\n              fullWidth\n              size=\"small\"\n              error={validacion.error && !datos_generales.tipo_producto}\n            >\n              <Select\n                id=\"form-producto-tipo\"\n                name=\"tipo_producto\"\n                value={\n                  datos_generales.tipo_producto\n                    ? datos_generales.tipo_producto\n                    : \"\"\n                }\n                onChange={obtenerCampos}\n              >\n                <MenuItem value=\"\">\n                  <em>Selecciona uno</em>\n                </MenuItem>\n                <MenuItem value=\"ROPA\">Ropa</MenuItem>\n                <MenuItem value=\"CALZADO\">Calzado</MenuItem>\n                <MenuItem value=\"OTROS\">Otros</MenuItem>\n              </Select>\n              <FormHelperText>{validacion.message}</FormHelperText>\n            </FormControl>\n          </Grid>\n          <Grid item md={5} xs={12}>\n            <CatalogosProductosSAT codigos={codigos} refetch={refetch} />\n          </Grid>\n\n          <Grid item md={4} xs={12}>\n            <Typography>\n              <span className={classes.obligatorio}>* </span>Nombre comercial\n            </Typography>\n            <TextField\n              fullWidth\n              size=\"small\"\n              error={validacion.error && !datos_generales.nombre_comercial}\n              name=\"nombre_comercial\"\n              id=\"form-producto-nombre-comercial\"\n              variant=\"outlined\"\n              value={\n                datos_generales.nombre_comercial\n                  ? datos_generales.nombre_comercial\n                  : \"\"\n              }\n              helperText={validacion.message}\n              onChange={obtenerCampos}\n            />\n          </Grid>\n          <Grid item md={4} xs={12}>\n            <Typography>\n              <span className={classes.obligatorio}>* </span>Nombre genérico\n            </Typography>\n            <TextField\n              fullWidth\n              size=\"small\"\n              error={validacion.error && !datos_generales.nombre_generico}\n              name=\"nombre_generico\"\n              id=\"form-producto-nombre-generico\"\n              variant=\"outlined\"\n              value={\n                datos_generales.nombre_generico\n                  ? datos_generales.nombre_generico\n                  : \"\"\n              }\n              helperText={validacion.message}\n              onChange={obtenerCampos}\n            />\n          </Grid>\n          <Grid item md={4} xs={12}>\n            <Typography>Descripción</Typography>\n            <TextField\n              fullWidth\n              size=\"small\"\n              name=\"descripcion\"\n              id=\"form-producto-descripcion\"\n              variant=\"outlined\"\n              value={\n                datos_generales.descripcion ? datos_generales.descripcion : \"\"\n              }\n              onChange={obtenerCampos}\n            />\n          </Grid>\n\n          <Grid item md={6} xs={12}>\n            <Typography>Categoria</Typography>\n            <Box display=\"flex\">\n              <FormControl variant=\"outlined\" fullWidth size=\"small\">\n                <Select\n                  id=\"form-producto-categoria\"\n                  value={\n                    datos_generales.categoria ? datos_generales.categoria : \"\"\n                  }\n                  onChange={(event, child) => obtenerIDs(event, child)}\n                  name=\"categoria\"\n                >\n                  <MenuItem value=\"\">\n                    <em>Seleccione uno</em>\n                  </MenuItem>\n                  {categorias ? (\n                    categorias.map((res) => {\n                      return (\n                        <MenuItem\n                          name=\"id_categoria\"\n                          key={res._id}\n                          value={res.categoria}\n                          id={res._id}\n                          categoria={res}\n                        >\n                          {res.categoria}\n                        </MenuItem>\n                      );\n                    })\n                  ) : (\n                    <MenuItem value=\"\" />\n                  )}\n                </Select>\n              </FormControl>\n              <RegistrarNuevoSelect\n                tipo=\"categoria\"\n                name=\"categoria\"\n                refetch={refetch}\n              />\n            </Box>\n          </Grid>\n          <Grid item md={6} xs={12}>\n            <Typography>Subcategoria</Typography>\n            <Box display=\"flex\">\n              <FormControl variant=\"outlined\" fullWidth size=\"small\">\n                <Select\n                  id=\"form-producto-subcategoria\"\n                  name=\"subcategoria\"\n                  value={\n                    datos_generales.subcategoria\n                      ? datos_generales.subcategoria\n                      : \"\"\n                  }\n                  onChange={(event, child) => obtenerIDs(event, child)}\n                >\n                  <MenuItem value=\"\">\n                    <em>Seleccione uno</em>\n                  </MenuItem>\n                  {subcategorias ? (\n                    subcategorias.map((res) => {\n                      return (\n                        <MenuItem\n                          name=\"id_subcategoria\"\n                          key={res._id}\n                          value={res.subcategoria}\n                          id={res._id}\n                        >\n                          {res.subcategoria}\n                        </MenuItem>\n                      );\n                    })\n                  ) : (\n                    <MenuItem value=\"\" />\n                  )}\n                </Select>\n              </FormControl>\n              <RegistrarNuevoSelect\n                tipo=\"subcategoria\"\n                name=\"subcategoria\"\n                refetch={refetch}\n                subcategorias={subcategorias}\n                setSubcategorias={setSubcategorias}\n              />\n            </Box>\n          </Grid>\n          <Grid item md={6} xs={12}>\n            <Typography>Departamento</Typography>\n            <Box display=\"flex\">\n              <FormControl variant=\"outlined\" fullWidth size=\"small\">\n                <Select\n                  id=\"form-producto-departamento\"\n                  name=\"departamento\"\n                  value={\n                    datos_generales.departamento\n                      ? datos_generales.departamento\n                      : \"\"\n                  }\n                  onChange={(event, child) => obtenerIDs(event, child)}\n                >\n                  <MenuItem value=\"\">\n                    <em>Seleccione uno</em>\n                  </MenuItem>\n                  {departamentos ? (\n                    departamentos.map((res) => {\n                      return (\n                        <MenuItem\n                          name=\"id_departamento\"\n                          key={res._id}\n                          value={res.nombre_departamentos}\n                          id={res._id}\n                        >\n                          {res.nombre_departamentos}\n                        </MenuItem>\n                      );\n                    })\n                  ) : (\n                    <MenuItem value=\"\" />\n                  )}\n                </Select>\n              </FormControl>\n              <RegistrarNuevoSelect\n                tipo=\"departamento\"\n                name=\"nombre_departamentos\"\n                refetch={refetch}\n              />\n            </Box>\n          </Grid>\n          <Grid item md={6} xs={12}>\n            <Typography>Marca</Typography>\n            <Box display=\"flex\">\n              <FormControl variant=\"outlined\" fullWidth size=\"small\">\n                <Select\n                  id=\"form-producto-marca\"\n                  name=\"marca\"\n                  value={datos_generales.marca ? datos_generales.marca : \"\"}\n                  onChange={(event, child) => obtenerIDs(event, child)}\n                >\n                  <MenuItem value=\"\">\n                    <em>Seleccione uno</em>\n                  </MenuItem>\n                  {marcas ? (\n                    marcas.map((res) => {\n                      return (\n                        <MenuItem\n                          name=\"id_marca\"\n                          key={res._id}\n                          value={res.nombre_marca}\n                          id={res._id}\n                        >\n                          {res.nombre_marca}\n                        </MenuItem>\n                      );\n                    })\n                  ) : (\n                    <MenuItem value=\"\" />\n                  )}\n                </Select>\n              </FormControl>\n              <RegistrarNuevoSelect\n                tipo=\"marca\"\n                name=\"nombre_marca\"\n                refetch={refetch}\n              />\n            </Box>\n          </Grid>\n        </Grid>\n        <Box display=\"flex\" mt={4}>\n          <Grid container>\n            <Grid item md={3} xs={12}>\n              {!update ? (\n                <Box>\n                  <Box>\n                    <Typography>\n                      <b>Granel</b>\n                    </Typography>\n                    <Divider />\n                  </Box>\n                  <div className={classes.formInput}>\n                    <FormControlLabel\n                      control={\n                        <Checkbox\n                          checked={precios.granel ? precios.granel : false}\n                          onChange={obtenerChecks}\n                          name=\"granel\"\n                        />\n                      }\n                      label=\"Vender a granel\"\n                    />\n                  </div>\n                </Box>\n              ) : null}\n            </Grid>\n            <Grid item md={3} xs={12}>\n              <Box>\n                <Typography>\n                  <b>Farmacia</b>\n                </Typography>\n                <Divider />\n              </Box>\n              <div className={classes.formInput}>\n                <FormControlLabel\n                  control={\n                    <Checkbox\n                      checked={\n                        datos_generales.receta_farmacia\n                          ? datos_generales.receta_farmacia\n                          : false\n                      }\n                      onChange={checkFarmacia}\n                      name=\"receta_farmacia\"\n                    />\n                  }\n                  label=\"Necesita receta\"\n                  name=\"receta_farmacia\"\n                />\n              </div>\n            </Grid>\n            <Grid item md={6} xs={12}>\n              <Box>\n                <Typography>\n                  <b>Monedero eléctronico</b>\n                </Typography>\n                <Divider />\n              </Box>\n              <Box>\n                <Box className={classes.formInput}>\n                  <FormControlLabel\n                    control={\n                      <Checkbox\n                        checked={precios.monedero}\n                        onChange={obtenerChecks}\n                        name=\"monedero\"\n                      />\n                    }\n                    label=\"Monedero electrónico\"\n                  />\n                  <TextField\n                    type=\"number\"\n                    InputProps={{ inputProps: { min: 0 } }}\n                    size=\"small\"\n                    label=\"Valor por punto\"\n                    name=\"monedero_electronico\"\n                    id=\"form-producto-monedero_electronico\"\n                    variant=\"outlined\"\n                    value={precios.monedero_electronico}\n                    onChange={obtenerCampos}\n                    disabled={precios.monedero ? false : true}\n                    onBlur={() => verificarCampoVacio(\"monedero_electronico\")}\n                    error={precios.monedero_electronico === \"\"}\n                  />\n                </Box>\n              </Box>\n            </Grid>\n          </Grid>\n        </Box>\n      </Container>\n    </Fragment>\n  );\n}\n\nconst RegistrarNuevoSelect = ({\n  tipo,\n  name,\n  refetch,\n  subcategorias,\n  setSubcategorias,\n}) => {\n  const [open, setOpen] = useState(false);\n  const [validacion, setValidacion] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [value, setValue] = useState(\"\");\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n  const { datos_generales, setDatosGenerales } = useContext(RegProductoContext);\n  const [alert, setAlert] = useState({ message: \"\", status: \"\", open: false });\n\n  /*  Categorias Mutation */\n  const [crearCategoria] = useMutation(CREAR_CATEGORIA);\n  /*  Subcategorias Mutation */\n  const [crearSubcategoria] = useMutation(CREAR_SUBCATEGORIA);\n  /*  Departamentos Mutation */\n  const [CrearDepartamentos] = useMutation(REGISTRAR_DEPARTAMENTO);\n  /*  Marcas Mutation */\n  const [CrearMarca] = useMutation(REGISTRAR_MARCAS);\n\n  const handleToggle = () => {\n    setOpen(!open);\n  };\n\n  const obtenerDatos = (e) => {\n    setValue(e.target.value);\n  };\n\n  const guardarDatos = async (e) => {\n    e.preventDefault();\n    if (!value) {\n      setValidacion(true);\n      return;\n    }\n    let variables = {\n      input: {\n        [name]: value,\n      },\n      empresa: sesion.empresa._id,\n      sucursal: sesion.sucursal._id,\n    };\n    if (tipo === \"categoria\") {\n      variables = {\n        input: {\n          [name]: value,\n          empresa: sesion.empresa._id,\n          sucursal: sesion.sucursal._id,\n        },\n      };\n    }\n    if (tipo === \"subcategoria\") {\n      variables = {\n        input: {\n          [name]: value,\n        },\n        idCategoria: datos_generales.id_categoria,\n      };\n    }\n    setLoading(true);\n    try {\n      switch (tipo) {\n        case \"categoria\":\n          const categoria_creada = await crearCategoria({ variables });\n          refetch();\n          const id_categoria = categoria_creada.data.crearCategoria._id;\n          setDatosGenerales({\n            ...datos_generales,\n            categoria: value,\n            id_categoria,\n          });\n          break;\n        case \"subcategoria\":\n          const subcategoria_creada = await crearSubcategoria({ variables });\n          refetch();\n          const id_subcategoria =\n            subcategoria_creada.data.crearSubcategoria.message;\n          setSubcategorias([\n            ...subcategorias,\n            { _id: id_subcategoria, subcategoria: value },\n          ]);\n          setDatosGenerales({\n            ...datos_generales,\n            subcategoria: value,\n            id_subcategoria,\n          });\n          break;\n        case \"departamento\":\n          const departamento_creado = await CrearDepartamentos({ variables });\n          refetch();\n          const id_departamento =\n            departamento_creado.data.crearDepartamentos.message;\n          setDatosGenerales({\n            ...datos_generales,\n            departamento: value,\n            id_departamento,\n          });\n          break;\n        case \"marca\":\n          const marca_creada = await CrearMarca({ variables });\n          refetch();\n          const id_marca = marca_creada.data.crearMarcas.message;\n          setDatosGenerales({\n            ...datos_generales,\n            marca: value,\n            id_marca,\n          });\n          break;\n        default:\n          break;\n      }\n      setAlert({ message: \"¡Listo!\", status: \"success\", open: true });\n      setLoading(false);\n      handleToggle();\n    } catch (error) {\n      setAlert({ message: \"Hubo un error\", status: \"error\", open: true });\n      setLoading(false);\n    }\n  };\n\n  return (\n    <Fragment>\n      <Button\n        color=\"primary\"\n        onClick={() => handleToggle()}\n        disabled={tipo === \"subcategoria\" && !datos_generales.id_categoria}\n      >\n        <Add />\n      </Button>\n      <Dialog\n        open={open}\n        onClose={handleToggle}\n        aria-labelledby={`modal-title-${tipo}`}\n      >\n        <SnackBarMessages alert={alert} setAlert={setAlert} />\n        <DialogTitle id={`modal-title-${tipo}`}>Registrar {tipo}</DialogTitle>\n        <DialogContent>\n          <form id={`registro-${name}`} onSubmit={(e) => guardarDatos(e)}>\n            <TextField\n              error={validacion}\n              name={name}\n              autoFocus\n              label={tipo}\n              fullWidth\n              variant=\"outlined\"\n              onChange={obtenerDatos}\n              helperText={validacion ? \"Campo obligatorio\" : \"\"}\n            />\n          </form>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={() => handleToggle()} color=\"primary\">\n            Cancelar\n          </Button>\n          <Button\n            /* onClick={() => guardarDatos()} */\n            form={`registro-${name}`}\n            type=\"submit\"\n            variant=\"contained\"\n            color=\"primary\"\n            endIcon={\n              loading ? <CircularProgress color=\"inherit\" size={18} /> : null\n            }\n          >\n            Guardar\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </Fragment>\n  );\n};\n","import React, { Fragment, useContext, useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Dialog, DialogActions, DialogTitle } from '@material-ui/core';\nimport { Box, Typography, Button, Divider, Grid } from '@material-ui/core';\nimport { AddPhotoAlternate, Visibility, Delete } from '@material-ui/icons';\nimport { RegProductoContext } from '../../../../../context/Catalogos/CtxRegProducto';\n\nimport PhotoSizeSelectActualOutlinedIcon from '@material-ui/icons/PhotoSizeSelectActualOutlined';\nconst useStyles = makeStyles((theme) => ({\n\tformInputFlex: {\n\t\tdisplay: 'flex',\n\t\twidth: '100%',\n\t\t'& > *': {\n\t\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(1)}px`\n\t\t}\n\t},\n\tformInput: {\n\t\tmargin: `${theme.spacing(0)}px ${theme.spacing(1)}px`\n\t},\n\tinput: {\n\t\tdisplay: 'none'\n\t},\n\timagen: {\n\t\tmaxHeight: \"100%\",\n\t\tmaxWidth: \"100%\"\n\t}\n}));\n\nexport default function CargarImagenesProducto() {\n\tconst classes = useStyles();\n\tconst { imagenes, setImagenes, setOnPreview, onPreview } = useContext(RegProductoContext);\n\n\tconst cargarImagen = (e) => {\n\t\tconst { files } = e.target;\n\t\tif (e.target.files.length < 1) return\n\t\tsetImagenes([\n\t\t\t...imagenes,\n\t\t\tfiles[0]\n\t\t]);\n\t\tsetOnPreview({image: URL.createObjectURL(files[0])})\n\t};\n\n\tconst render_imagenes = imagenes.map((res, index) => <RenderImagenes key={index} index={index} imagen={res} />);\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<Grid container>\n\t\t\t\t<Grid item md={6}>\n\t\t\t\t\t<Box>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\taccept=\"image/*\"\n\t\t\t\t\t\t\tclassName={classes.input}\n\t\t\t\t\t\t\tid=\"contained-button-file\"\n\t\t\t\t\t\t\t/* multiple */\n\t\t\t\t\t\t\ttype=\"file\"\n\t\t\t\t\t\t\tonChange={cargarImagen}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<label htmlFor=\"contained-button-file\">\n\t\t\t\t\t\t\t<Button variant=\"text\" color=\"primary\" component=\"span\" startIcon={<AddPhotoAlternate />}>\n\t\t\t\t\t\t\t\tCargar imagen\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t</Box>\n\t\t\t\t\t{render_imagenes}\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item md={6}>\n\t\t\t\t\t<Box display=\"flex\" minHeight={300}>\n\t\t\t\t\t\t<Box mx={1}>\n\t\t\t\t\t\t\t<Divider orientation=\"vertical\" />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box width=\"100%\" height=\"50vh\" display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t{!onPreview.image ? (\n\t\t\t\t\t\t\t\t<PhotoSizeSelectActualOutlinedIcon style={{ fontSize: 150 }} />\n\t\t\t\t\t\t\t) : (<img alt=\"img-onPreview\" src={onPreview.image} className={classes.imagen} />)}\n\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Box>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t</Fragment>\n\t);\n}\n\nconst RenderImagenes = ({ imagen, index }) => {\n\tconst classes = useStyles();\n\tconst preview = imagen.key_imagen ? imagen.url_imagen : URL.createObjectURL(imagen)\n\tconst { imagenes, setImagenes, setOnPreview, onPreview, imagenes_eliminadas, setImagenesEliminadas } = useContext(RegProductoContext);\n\tconst [open, setOpen] = useState(false);\n\tconst handleModal = () => setOpen(!open);\n\n\tconst eliminarImagen = () => {\n\t\t/* agregar al arrya de imagenes eliminadas */\n\t\tif(imagen.key_imagen){\n\t\t\tsetImagenesEliminadas([\n\t\t\t\t...imagenes_eliminadas, imagen\n\t\t\t])\n\t\t}\n\t\t/* quitar imagenes del array */\n\t\tif (onPreview.index === index) {\n\t\t\tsetOnPreview({ index: '', image: '' })\n\t\t}\n\t\tconst array = [...imagenes];\n\t\tarray.splice(index, 1);\n\t\tsetImagenes([\n\t\t\t...array,\n\t\t]);\n\t\thandleModal();\n\t}\n\n\treturn (\n\t\t<Box my={2} mr={5}>\n\t\t\t<Box className={classes.formInputFlex}>\n\t\t\t\t<Box height={70} width={70}>\n\t\t\t\t\t<img alt=\"producto-img-prev\" src={preview} width=\"100%\" />\n\t\t\t\t</Box>\n\t\t\t\t<Box width=\"90%\">\n\t\t\t\t\t<Typography noWrap>\n\t\t\t\t\t\t{imagen.key_imagen ? imagen.key_imagen : imagen.name}\n\t\t\t\t\t</Typography>\n\t\t\t\t\t{imagen.key_imagen ? null : (<Typography variant=\"caption\">{imagen.size} bits</Typography>)}\n\t\t\t\t\t\n\t\t\t\t\t<Box display=\"flex\" justifyContent=\"flex-end\">\n\t\t\t\t\t\t<Button size=\"small\" startIcon={<Visibility />} onClick={() => setOnPreview({ index, image: preview })}>\n\t\t\t\t\t\t\tprevisualizar\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Box mx={1} />\n\t\t\t\t\t\t<ModalDelete handleModal={handleModal} open={open} eliminarImagen={eliminarImagen} />\n\t\t\t\t\t</Box>\n\t\t\t\t</Box>\n\t\t\t</Box>\n\t\t\t<Divider />\n\t\t</Box>\n\t);\n};\n\nconst ModalDelete = ({ handleModal, open, eliminarImagen }) => {\n\treturn (\n\t\t<div>\n\t\t\t<Button size=\"small\" color=\"secondary\" startIcon={<Delete />} onClick={() => handleModal()}>\n\t\t\t\teliminar\n\t\t\t</Button>\n\t\t\t<Dialog open={open} onClose={handleModal}>\n\t\t\t\t<DialogTitle>{'¿Seguro que quieres eliminar esto?'}</DialogTitle>\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Button onClick={() => handleModal()} color=\"primary\">\n\t\t\t\t\t\tCancelar\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button color=\"secondary\" autoFocus variant=\"contained\" onClick={() => eliminarImagen()}>\n\t\t\t\t\t\tEliminar\n\t\t\t\t\t</Button>\n\t\t\t\t</DialogActions>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n};\n","import React, { Fragment, useContext } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { Divider } from \"@material-ui/core\";\nimport {\n  Box,\n  FormControl,\n  MenuItem,\n  Select,\n  TextField,\n  Typography,\n  Grid,\n} from \"@material-ui/core\";\nimport \"date-fns\";\nimport local from \"date-fns/locale/es\";\nimport DateFnsUtils from \"@date-io/date-fns\";\nimport {\n  MuiPickersUtilsProvider,\n  KeyboardDatePicker,\n} from \"@material-ui/pickers\";\nimport { RegProductoContext } from \"../../../../../context/Catalogos/CtxRegProducto\";\nimport ContainerRegistroAlmacen from \"../../../Almacenes/RegistroAlmacen/ContainerRegistroAlmacen\";\nimport { AlmacenProvider } from \"../../../../../context/Almacenes/crearAlmacen\";\nimport { unitCodes, unitCodes_granel } from \"../unidades\";\n\nconst useStyles = makeStyles((theme) => ({\n  formInputFlex: {\n    display: \"flex\",\n    \"& > *\": {\n      margin: `${theme.spacing(1)}px ${theme.spacing(1)}px`,\n    },\n  },\n  formInput: {\n    margin: `${theme.spacing(1)}px ${theme.spacing(2)}px`,\n  },\n}));\n\nexport default function RegistroAlmacenInicial({\n  obtenerConsultasProducto,\n  refetch,\n}) {\n  const classes = useStyles();\n  const {\n    datos_generales,\n    precios,\n    setPrecios,\n    almacen_inicial,\n    setAlmacenInicial,\n    selectedDate,\n    setSelectedDate,\n    update,\n  } = useContext(RegProductoContext);\n  const { almacenes } = obtenerConsultasProducto;\n\n  /*ARMAR OBJETO DE INVENTARIO  */\n  const obtenerInventario = (e, child) => {\n    if (!e.target.value) {\n      setPrecios({\n        ...precios,\n        inventario: { ...precios.inventario, [e.target.name]: \"\" },\n      });\n      return;\n    }\n    if (e.target.name === \"unidad_de_inventario\") {\n      const { codigo_unidad, unidad } = child.props.unidad;\n      setPrecios({\n        ...precios,\n        inventario: {\n          ...precios.inventario,\n          [e.target.name]: unidad,\n          codigo_unidad,\n        },\n      });\n      return;\n    }\n    setPrecios({\n      ...precios,\n      inventario: {\n        ...precios.inventario,\n        [e.target.name]: parseFloat(e.target.value),\n      },\n    });\n  };\n\n  const obtenerAlmacenInicial = (e) => {\n    if (!e.target.value) {\n      setAlmacenInicial({\n        ...almacen_inicial,\n        [e.target.name]: \"\",\n      });\n      return;\n    }\n    if (e.target.name === \"almacen\") {\n      setAlmacenInicial({\n        ...almacen_inicial,\n        [e.target.name]: e.target.value,\n      });\n      return;\n    }\n    setAlmacenInicial({\n      ...almacen_inicial,\n      [e.target.name]: parseFloat(e.target.value),\n    });\n  };\n\n  const obtenerAlmacenes = (event, child) => {\n    setAlmacenInicial({\n      ...almacen_inicial,\n      [event.target.name]: event.target.value,\n      [child.props.name]: child.props.id,\n    });\n  };\n\n  const handleDateChange = (date) => {\n    setSelectedDate(date);\n    setAlmacenInicial({\n      ...almacen_inicial,\n      fecha_de_expiracion: date,\n    });\n  };\n\n  const verificarCampoVacio = (tipo, name, value) => {\n    if (tipo === \"inventario\") {\n      if (!value) {\n        setPrecios({\n          ...precios,\n          inventario: { ...precios.inventario, [name]: 0 },\n        });\n      }\n    } else {\n      if (!value) {\n        setAlmacenInicial({\n          ...almacen_inicial,\n          [name]: 0,\n        });\n      }\n    }\n  };\n\n  return (\n    <Fragment>\n      <Box mt={3}>\n        <Typography>\n          <b>Inventario</b>\n        </Typography>\n        <Divider />\n      </Box>\n      <Box className={classes.formInputFlex}>\n        <Box width=\"150px\">\n          <Typography>Inventario mínimo</Typography>\n          <TextField\n            type=\"number\"\n            InputProps={{ inputProps: { min: 0 } }}\n            size=\"small\"\n            name=\"inventario_minimo\"\n            id=\"form-producto-inventario_minimo\"\n            variant=\"outlined\"\n            value={precios.inventario.inventario_minimo}\n            onChange={obtenerInventario}\n            onBlur={() =>\n              verificarCampoVacio(\n                \"inventario\",\n                \"inventario_minimo\",\n                precios.inventario.inventario_minimo\n              )\n            }\n            error={precios.inventario.inventario_minimo === \"\"}\n          />\n        </Box>\n        <Box width=\"150px\">\n          <Typography>Inventario máximo</Typography>\n          <TextField\n            type=\"number\"\n            InputProps={{ inputProps: { min: 0 } }}\n            size=\"small\"\n            name=\"inventario_maximo\"\n            id=\"form-producto-inventario_maximo\"\n            variant=\"outlined\"\n            value={precios.inventario.inventario_maximo}\n            onChange={obtenerInventario}\n            onBlur={() =>\n              verificarCampoVacio(\n                \"inventario\",\n                \"inventario_maximo\",\n                precios.inventario.inventario_maximo\n              )\n            }\n            error={precios.inventario.inventario_maximo === \"\"}\n          />\n        </Box>\n        <Box width=\"150px\">\n          <Typography>Unidad de inventario</Typography>\n          <Box display=\"flex\">\n            <FormControl\n              variant=\"outlined\"\n              fullWidth\n              size=\"small\"\n              name=\"unidad_de_inventario\"\n            >\n              {precios.granel ? (\n                <Select\n                  name=\"unidad_de_inventario\"\n                  value={precios.inventario.unidad_de_inventario}\n                  onChange={obtenerInventario}\n                >\n                  {unitCodes_granel.map((res, index) => (\n                    <MenuItem key={index} unidad={res} value={res.unidad}>\n                      {res.unidad}\n                    </MenuItem>\n                  ))}\n                </Select>\n              ) : (\n                <Select\n                  name=\"unidad_de_inventario\"\n                  value={precios.inventario.unidad_de_inventario}\n                  onChange={obtenerInventario}\n                >\n                  {unitCodes.map((res, index) => (\n                    <MenuItem key={index} unidad={res} value={res.unidad}>\n                      {res.unidad}\n                    </MenuItem>\n                  ))}\n                </Select>\n              )}\n            </FormControl>\n          </Box>\n        </Box>\n      </Box>\n      {update ? null : datos_generales.tipo_producto === \"OTROS\" ? (\n        <Fragment>\n          <Box mt={3}>\n            <Typography>\n              <b>Almacen incial</b>\n            </Typography>\n            <Divider />\n          </Box>\n          <div\n            className={classes.formInputFlex}\n            style={{ alignItems: \"center\" }}\n          >\n            <Box width=\"100%\">\n              <Typography>\n                Cantidad inicial en <b>{precios.unidad_de_compra.unidad}</b>\n              </Typography>\n              <Box display=\"flex\" alignItems=\"center\">\n                <TextField\n                  fullWidth\n                  type=\"number\"\n                  InputProps={{ inputProps: { min: 0 } }}\n                  size=\"small\"\n                  name=\"cantidad\"\n                  variant=\"outlined\"\n                  value={almacen_inicial.cantidad}\n                  onChange={obtenerAlmacenInicial}\n                  onBlur={() =>\n                    verificarCampoVacio(\n                      \"almacen\",\n                      \"cantidad\",\n                      almacen_inicial.cantidad\n                    )\n                  }\n                  error={almacen_inicial.cantidad === \"\"}\n                />\n              </Box>\n            </Box>\n            <Box width=\"100%\">\n              <Typography>Almacen</Typography>\n              <Box display=\"flex\" alignItems=\"center\">\n                <FormControl\n                  variant=\"outlined\"\n                  fullWidth\n                  size=\"small\"\n                  name=\"almacen\"\n                  error={\n                    almacen_inicial.cantidad > 0 && !almacen_inicial.almacen\n                  }\n                >\n                  <Select\n                    name=\"almacen\"\n                    value={almacen_inicial.almacen}\n                    onChange={obtenerAlmacenes}\n                  >\n                    <MenuItem value=\"\">\n                      <em>Seleccione uno</em>\n                    </MenuItem>\n                    {almacenes ? (\n                      almacenes.map((res) => {\n                        return (\n                          <MenuItem\n                            name=\"id_almacen\"\n                            key={res._id}\n                            value={res.nombre_almacen}\n                            id={res._id}\n                          >\n                            {res.nombre_almacen}\n                          </MenuItem>\n                        );\n                      })\n                    ) : (\n                      <MenuItem value=\"\" />\n                    )}\n                  </Select>\n                </FormControl>\n                <AlmacenProvider>\n                  <ContainerRegistroAlmacen\n                    accion=\"registrar\"\n                    refetch={refetch}\n                  />\n                </AlmacenProvider>\n              </Box>\n            </Box>\n            <Box width=\"100%\">\n              <Typography>Fecha de expiración</Typography>\n              <MuiPickersUtilsProvider utils={DateFnsUtils} locale={local}>\n                <Grid container justify=\"space-around\">\n                  <KeyboardDatePicker\n                    margin=\"dense\"\n                    id=\"date-picker-dialog\"\n                    placeholder=\"ex: DD/MM/AAAA\"\n                    format=\"dd/MM/yyyy\"\n                    value={selectedDate}\n                    onChange={handleDateChange}\n                    KeyboardButtonProps={{\n                      \"aria-label\": \"change date\",\n                    }}\n                  />\n                </Grid>\n              </MuiPickersUtilsProvider>\n            </Box>\n          </div>\n        </Fragment>\n      ) : null}\n    </Fragment>\n  );\n}\n","export function validaciones(generales, precios, almacen, presentaciones) {\n    /* si no hay generales y datos 2 */\n    /* console.log(almacen); */\n    if (\n        !generales.clave_alterna ||\n        !generales.tipo_producto ||\n        !generales.nombre_generico ||\n        !generales.nombre_comercial\n    ) {\n        if (!precios.precio_de_compra.precio_con_impuesto ||\n            !precios.precio_de_compra.precio_sin_impuesto ||\n            !precios.unidad_de_compra.cantidad) {\n            return { error: true, message: 'Campo obligatorio', vista1: true, vista2: true };\n        }\n        return { error: true, message: 'Campo obligatorio', vista1: true };\n    } else if (\n        /* si solo hay generales */\n        !precios.precio_de_compra.precio_con_impuesto || !precios.precio_de_compra.precio_sin_impuesto || !precios.unidad_de_compra.cantidad\n    ) {\n        return { error: true, message: 'Campo obligatorio', vista2: true };\n    } else if (\n        /* si solo hay precios */\n        !generales.clave_alterna || !generales.tipo_producto || !generales.nombre_generico || !generales.nombre_comercial\n    ) {\n        return { error: true, message: 'Campo obligatorio', vista1: true };\n    } else if(\n        /* si hay cantidad almacen pero no hay almacen seleccionado */\n        almacen.cantidad > 0 && !almacen.almacen && generales.tipo_producto === \"OTROS\"\n    ) {\n        console.log(\"si hay cantidad almacen pero no hay almacen seleccionado\");\n        return { error: true, message: 'Campo obligatorio', vista3: true };\n    }/*  else if(\n        //si no hay almacen seleccionado\n        presentaciones.length > 0 && !almacen.almacen && !almacen_existente\n    ){\n        console.log(\"no hay present\");\n        return { error: true, message: 'Campo obligatorio', vista7: true };\n    } */ else {\n        /* si hay todos los datos */\n        return { error: false, message: '' };\n    }\n}","import { gql } from '@apollo/client';\n\nexport const CREAR_CUENTA = gql`\n\tmutation crearCuenta($input: CrearCuentasInput) {\n\t\tcrearCuenta(input: $input) {\n\t\t\t_id\n\t\t\tcuenta\n\t\t\tempresa {\n\t\t\t\t_id\n\t\t\t\tnombre_empresa\n\t\t\t\tcorreo_empresa\n\t\t\t\tnombre_dueno\n\t\t\t\ttelefono_dueno\n\t\t\t}\n\t\t\tsucursal {\n\t\t\t\t_id\n\t\t\t\tnombre_sucursal\n\t\t\t\tdescripcion\n\t\t\t}\n\t\t}\n\t}\n`;\nexport const CREAR_SUBCUENTA= gql`\n\tmutation crearSubcuenta($idCuenta: ID!, $input: CrearSubcuentasInput) {\n\t\tcrearSubcuenta(idCuenta: $idCuenta, input: $input) {\n\t\t\tmessage\n\t\t}\n\t}\n`;\n\nexport const ACTUALIZAR_CUENTA= gql`\n\tmutation actualizarCuenta($idCuenta: ID!, $input: ActualizarCuentasInput) {\n\t\tactualizarCuenta(idCuenta: $idCuenta, input: $input) {\n\t\t\tmessage\n\t\t}\n\t}\n`;\nexport const ACTUALIZAR_SUBCUENTA = gql`\n\tmutation actualizarSubcuenta($idCuenta: ID!, $idSubcuenta: ID!, $input: ActualizarSubcuentasInput) {\n\t\tactualizarSubcuenta(idCuenta: $idCuenta, idSubcuenta: $idSubcuenta, input: $input) {\n\t\t\tmessage\n\t\t}\n\t}\n`;\n\nexport const OBTENER_CUENTAS = gql`\n\tquery obtenerCuentas($empresa: ID!, $sucursal: ID!) {\n\t\tobtenerCuentas(empresa: $empresa, sucursal: $sucursal) {\n\t\t\t_id\n\t\t\tcuenta\n\t\t\tsubcuentas {\n\t\t\t\t_id\n\t\t\t\tsubcuenta\n\t\t\t}\n\t\t\tempresa {\n\t\t\t\t_id\n\t\t\t\tnombre_empresa\n\t\t\t\tcorreo_empresa\n\t\t\t\tnombre_dueno\n\t\t\t\ttelefono_dueno\n\t\t\t}\n\t\t\tsucursal {\n\t\t\t\t_id\n\t\t\t\tnombre_sucursal\n\t\t\t\tdescripcion\n\t\t\t}\n\t\t}\n\t}\n`;\n\nexport const ELIMINAR_CUENTA = gql`\n\tmutation eliminarCuenta($id: ID!) {\n\t\teliminarCuenta(id: $id) {\n\t\t\tmessage\n\t\t}\n\t}\n`; \nexport const ELIMINAR_SUBCUENTA = gql`\n\tmutation eliminarSubcuenta($idCuenta: ID!, $idSubcuenta: ID!) {\n\t\teliminarSubcuenta(idCuenta: $idCuenta, idSubcuenta: $idSubcuenta) {\n\t\t\tmessage\n\t\t}\n\t}\n`; ","import React, { Fragment, useContext, useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Button, CircularProgress, Dialog, DialogActions, DialogContent, DialogTitle, Divider, TextField } from '@material-ui/core';\nimport { Box, FormControl, MenuItem, Select, Typography } from '@material-ui/core';\nimport { RegProductoContext } from '../../../../../context/Catalogos/CtxRegProducto';\nimport Add from '@material-ui/icons/Add';\nimport SnackBarMessages from '../../../../../components/SnackBarMessages';\nimport { CREAR_CUENTA, CREAR_SUBCUENTA } from '../../../../../gql/Catalogos/centroCostos';\nimport { useMutation } from '@apollo/client';\n\nconst useStyles = makeStyles((theme) => ({\n    formInputFlex: {\n        display: 'flex',\n        '& > *': {\n            margin: `${theme.spacing(1)}px ${theme.spacing(1)}px`\n        }\n    },\n    formInput: {\n        margin: `${theme.spacing(1)}px ${theme.spacing(2)}px`\n    }\n}));\n\nexport default function CentroCostos({ obtenerConsultasProducto, refetch }) {\n    const classes = useStyles();\n    const { centro_de_costos, setCentroDeCostos, subcostos, setSubcostos } = useContext(RegProductoContext);\n    const { centro_costos } = obtenerConsultasProducto;\n\n    const obtenerAlmacenes = (event, child) => {\n        setCentroDeCostos({\n            ...centro_de_costos,\n            [event.target.name]: event.target.value,\n            [child.props.name]: child.props.id,\n        });\n        if (child.props.costos) {\n            const { subcuentas } = child.props.costos;\n            setSubcostos(subcuentas);\n        }\n    };\n    \n    return (\n        <Fragment>\n            <Box mt={3}>\n                <Typography>\n                    <b>Centro de costos</b>\n                </Typography>\n                <Divider />\n            </Box>\n            <div className={classes.formInputFlex}>\n                <Box width=\"100%\">\n                    <Typography>Cuenta</Typography>\n                    <Box display=\"flex\">\n                        <FormControl variant=\"outlined\" fullWidth size=\"small\" name=\"cuenta\">\n                            <Select name=\"cuenta\" value={centro_de_costos.cuenta ? centro_de_costos.cuenta : ''} onChange={obtenerAlmacenes}>\n                                <MenuItem value=\"\">\n                                    <em>Seleccione uno</em>\n                                </MenuItem>\n                                {centro_costos ? centro_costos.map((res) => {\n                                    return (\n                                        <MenuItem\n                                            name=\"id_cuenta\"\n                                            key={res._id}\n                                            value={res.cuenta}\n                                            id={res._id}\n                                            costos={res}\n                                        >\n                                            {res.cuenta}\n                                        </MenuItem>\n                                    );\n                                }) : <MenuItem value=\"\" />}\n                            </Select >\n                        </FormControl>\n                        <RegistrarNuevoSelect tipo=\"cuenta\" name=\"cuenta\" refetch={refetch} />\n                    </Box>\n                </Box>\n                <Box width=\"100%\">\n                    <Typography>Subcuenta</Typography>\n                    <Box display=\"flex\">\n                        <FormControl variant=\"outlined\" fullWidth size=\"small\" name=\"subcuenta\">\n                            <Select name=\"subcuenta\" value={centro_de_costos.subcuenta ? centro_de_costos.subcuenta : ''} onChange={obtenerAlmacenes}>\n                                <MenuItem value=\"\">\n                                    <em>Seleccione uno</em>\n                                </MenuItem>\n                                {subcostos ? subcostos.map((res) => {\n                                    return (\n                                        <MenuItem\n                                            name=\"id_subcuenta\"\n                                            key={res._id}\n                                            value={res.subcuenta}\n                                            id={res._id}\n                                        >\n                                            {res.subcuenta}\n                                        </MenuItem>\n                                    );\n                                }) : <MenuItem value=\"\" />}\n                            </Select >\n                        </FormControl>\n                        <RegistrarNuevoSelect tipo=\"subcuenta\" name=\"subcuenta\" refetch={refetch} />\n                    </Box>\n                </Box>\n            </div>\n        </Fragment>\n    );\n}\n\nconst RegistrarNuevoSelect = ({ tipo, name, refetch }) => {\n\tconst [open, setOpen] = useState(false);\n\tconst [validacion, setValidacion] = useState(false);\n\tconst [loading, setLoading] = useState(false);\n\tconst [value, setValue] = useState('');\n\tconst sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\tconst { centro_de_costos, setCentroDeCostos, subcostos, setSubcostos } = useContext(RegProductoContext);\n\tconst [alert, setAlert] = useState({ message: '', status: '', open: false });\n\n\t/*  costos Mutation */\n\tconst [ crearCuenta ] = useMutation(CREAR_CUENTA);\n\t/*  subcostos Mutation */\n\tconst [ crearSubcuenta ] = useMutation(CREAR_SUBCUENTA);\n\n\tconst handleToggle = () => {\n\t\tsetOpen(!open);\n\t};\n\n\tconst obtenerDatos = (e) => {\n\t\tsetValue(e.target.value);\n\t};\n\n\tconst guardarDatos = async (e) => {\n\t\te.preventDefault();\n\t\tif (!value) {\n\t\t\tsetValidacion(true);\n\t\t\treturn;\n\t\t}\n\t\tlet variables = {\n\t\t\tinput: {\n                [name]: value,\n                empresa: sesion.empresa._id,\n                sucursal: sesion.sucursal._id\n            }\n\t\t};\n\t\tif (tipo === 'subcuenta') {\n\t\t\tvariables = {\n\t\t\t\tinput: {\n\t\t\t\t\t[name]: value\n\t\t\t\t},\n\t\t\t\tidCuenta: centro_de_costos.id_cuenta\n\t\t\t};\n\t\t}\n\n\t\tsetLoading(true);\n\t\ttry {\n\t\t\tswitch (tipo) {\n\t\t\t\tcase 'cuenta':\n\t\t\t\t\tconst cuenta_creada = await crearCuenta({ variables });\n\t\t\t\t\trefetch();\n\t\t\t\t\tconst id_cuenta = cuenta_creada.data.crearCuenta._id;\n\t\t\t\t\tsetCentroDeCostos({\n\t\t\t\t\t\t...centro_de_costos,\n\t\t\t\t\t\tcuenta: value,\n\t\t\t\t\t\tid_cuenta\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'subcuenta':\n\t\t\t\t\tconst subcuenta_creada = await crearSubcuenta({ variables });\n\t\t\t\t\trefetch();\n\t\t\t\t\tconst id_subcuenta = subcuenta_creada.data.crearSubcuenta._id;\n\t\t\t\t\tsetSubcostos([...subcostos, { _id: id_subcuenta, subcuenta: value }]);\n\t\t\t\t\tsetCentroDeCostos({\n\t\t\t\t\t\t...centro_de_costos,\n\t\t\t\t\t\tsubcuenta: value,\n\t\t\t\t\t\tid_subcuenta\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tsetAlert({ message: '¡Listo!', status: 'success', open: true });\n\t\t\tsetLoading(false);\n\t\t\thandleToggle();\n\t\t} catch (error) {\n\t\t\tsetAlert({ message: 'Hubo un error', status: 'error', open: true });\n\t\t\tsetLoading(false);\n\t\t}\n\t};\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<Button\n\t\t\t\tcolor=\"primary\"\n\t\t\t\tonClick={() => handleToggle()}\n\t\t\t\tdisabled={tipo === 'subcuenta' && !centro_de_costos.id_cuenta}\n\t\t\t>\n\t\t\t\t<Add />\n\t\t\t</Button>\n\t\t\t<Dialog open={open} onClose={handleToggle} aria-labelledby={`modal-title-${tipo}`}>\n\t\t\t\t<SnackBarMessages alert={alert} setAlert={setAlert} />\n\t\t\t\t<DialogTitle id={`modal-title-${tipo}`}>Registrar {tipo}</DialogTitle>\n\t\t\t\t<DialogContent>\n\t\t\t\t\t<form id={`registro-${name}`} onSubmit={(e) => guardarDatos(e)}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\terror={validacion}\n\t\t\t\t\t\t\tname={name}\n\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\tlabel={tipo}\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\tonChange={obtenerDatos}\n\t\t\t\t\t\t\thelperText={validacion ? 'Campo obligatorio' : ''}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</form>\n\t\t\t\t</DialogContent>\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Button onClick={() => handleToggle()} color=\"primary\">\n\t\t\t\t\t\tCancelar\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button\n\t\t\t\t\t\t/* onClick={() => guardarDatos()} */\n\t\t\t\t\t\tform={`registro-${name}`}\n\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\tendIcon={loading ? <CircularProgress color=\"inherit\" size={18} /> : null}\n\t\t\t\t\t>\n\t\t\t\t\t\tGuardar\n\t\t\t\t\t</Button>\n\t\t\t\t</DialogActions>\n\t\t\t</Dialog>\n\t\t</Fragment>\n\t);\n};","import React, { useContext, useState } from 'react';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport IconButton from '@material-ui/core/IconButton'\nimport { Dialog, DialogTitle, DialogActions, Button } from '@material-ui/core'\nimport { RegProductoContext } from '../../../../../context/Catalogos/CtxRegProducto';\nimport { DeleteOutline } from '@material-ui/icons';\n\nexport default function TablaPreciosPlazos({ precios }) {\n\t/* const { preciosPlazos } = useContext(RegProductoContext); */\n\n\treturn (\n\n\t\t<TableContainer component={Paper}>\n\t\t\t<Table aria-label=\"simple table\" size=\"small\">\n\t\t\t\t<TableHead>\n\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t<TableCell>Plazo</TableCell>\n\t\t\t\t\t\t<TableCell>Precio</TableCell>\n\t\t\t\t\t\t<TableCell></TableCell>\n\t\t\t\t\t</TableRow>\n\t\t\t\t</TableHead>\n\t\t\t\t<TableBody>\n\t\t\t\t\t{precios.map((precio, index) => (\n\t\t\t\t\t\t<RenderTablePlazos key={index} precio={precio} index={index} />\n\t\t\t\t\t))}\n\t\t\t\t</TableBody>\n\t\t\t</Table>\n\t\t</TableContainer>\n\t);\n}\n\nconst RenderTablePlazos = ({ precio, index }) => {\n\n\treturn (\n\t\t<TableRow >\n\t\t\t<TableCell>{precio.plazo}</TableCell>\n\t\t\t<TableCell>{precio.precio}</TableCell>\n\t\t\t<TableCell>\n\t\t\t\t<ModalDeletePlazos index={index} unidad={precio.unidad} />\n\t\t\t</TableCell>\n\t\t</TableRow>\n\t)\n}\n\nconst ModalDeletePlazos = ({ index, unidad }) => {\n\tconst [open, setOpen] = useState(false);\n\tconst { preciosPlazos, setPreciosPlazos } = useContext(RegProductoContext);\n\n\tconst toggleModal = () => {\n\t\tsetOpen(!open);\n\t};\n\n\tconst eliminarUnidad = () => {\n\n\n\t\tswitch (unidad) {\n\t\t\tcase \"Pz\":\n\t\t\t\tpreciosPlazos.precio_piezas.splice(index, 1);\n\t\t\t\tsetPreciosPlazos({\n                    ...preciosPlazos,\n                    precio_piezas: [...preciosPlazos.precio_piezas]\n                })\n\t\t\t\tbreak;\n\t\t\tcase \"Caja\":\n\t\t\t\tpreciosPlazos.precio_cajas.splice(index, 1);\n\t\t\t\tsetPreciosPlazos({\n                    ...preciosPlazos,\n                    precio_cajas: [...preciosPlazos.precio_cajas]\n                })\n\t\t\t\tbreak;\n\t\t\tcase \"Costal\":\n\t\t\t\tpreciosPlazos.precio_costales.splice(index, 1);\n\t\t\t\tsetPreciosPlazos({\n                    ...preciosPlazos,\n                    precio_costales: [...preciosPlazos.precio_costales]\n                })\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t\ttoggleModal();\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<IconButton color=\"primary\" onClick={() => toggleModal()}>\n\t\t\t\t<DeleteOutline color=\"primary\" />\n\t\t\t</IconButton>\n\t\t\t<Dialog open={open} onClose={toggleModal}>\n\t\t\t\t<DialogTitle>{'Se eliminará este precio'}</DialogTitle>\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Button onClick={() => toggleModal()} color=\"primary\">\n\t\t\t\t\t\tCancelar\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button onClick={() => eliminarUnidad()} color=\"secondary\" autoFocus>\n\t\t\t\t\t\tEliminar\n\t\t\t\t\t</Button>\n\t\t\t\t</DialogActions>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n};\n","import React, { Fragment, useContext, useState } from \"react\";\nimport {\n  Box,\n  Divider,\n  FormControl,\n  Grid,\n  makeStyles,\n  MenuItem,\n  Select,\n  TextField,\n  Typography,\n  Button,\n} from \"@material-ui/core\";\nimport TablaPreciosPlazos from \"./tabla_precios\";\nimport { RegProductoContext } from \"../../../../../context/Catalogos/CtxRegProducto\";\nimport { unitCodes, unitCodes_granel } from \"../unidades\";\n\nconst useStyles = makeStyles((theme) => ({\n  formInputFlex: {\n    display: \"flex\",\n    \"& > *\": {\n      margin: `${theme.spacing(1)}px ${theme.spacing(1)}px`,\n    },\n    \"& > .precios-box\": {\n      margin: `${theme.spacing(1)}px ${theme.spacing(3)}px`,\n    },\n  },\n}));\n\nexport default function PrecioPlazos() {\n  const classes = useStyles();\n  const {\n    precios,\n    preciosPlazos,\n    setPreciosPlazos,\n    unidadesVenta,\n    unidadVentaXDefecto,\n  } = useContext(RegProductoContext);\n  const [plazo, setPlazo] = useState({\n    plazo: \"1\",\n    unidad: precios.granel ? \"Costal\" : \"Pz\",\n    codigo_unidad: precios.granel ? \"KGM\" : \"H87\",\n    precio: 0,\n  });\n\n  const obtenerPlazos = (e, child) => {\n    if (e.target.name === \"precio\") {\n      setPlazo({\n        ...plazo,\n        [e.target.name]: parseFloat(e.target.value),\n      });\n      return;\n    }\n    if (e.target.name === \"unidad\") {\n      const { codigo_unidad, unidad } = child.props.unidad;\n      setPlazo({\n        ...plazo,\n        unidad,\n        codigo_unidad,\n      });\n      return;\n    }\n    setPlazo({\n      ...plazo,\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  const guardarPlazo = () => {\n    if (!plazo.plazo || !plazo.precio || !plazo.unidad) return;\n    switch (plazo.unidad) {\n      case \"Pz\":\n        setPreciosPlazos({\n          ...preciosPlazos,\n          precio_piezas: [...preciosPlazos.precio_piezas, plazo],\n        });\n        break;\n      case \"Caja\":\n        setPreciosPlazos({\n          ...preciosPlazos,\n          precio_cajas: [...preciosPlazos.precio_cajas, plazo],\n        });\n        break;\n      case \"Costal\":\n        setPreciosPlazos({\n          ...preciosPlazos,\n          precio_costales: [...preciosPlazos.precio_costales, plazo],\n        });\n        break;\n      default:\n        break;\n    }\n    setPlazo({\n      ...plazo,\n      precio: 0,\n    });\n  };\n\n  return (\n    <Fragment>\n      <Box className={classes.formInputFlex}>\n        <Typography className=\"precios-box\">\n          Precio venta de <b>{unidadVentaXDefecto.unidad}</b> con\n          impuestos(NETO): <b>${unidadVentaXDefecto.precio}</b>\n        </Typography>\n        {unidadesVenta.map((unidades, index) => {\n          if (!unidades.default)\n            return (\n              <Typography key={index} className=\"precios-box\">\n                Precio venta de <b>{unidades.unidad}</b> con impuestos(NETO):{\" \"}\n                <b>${unidades.precio}</b>\n              </Typography>\n            );\n          return null;\n        })}\n      </Box>\n      <Divider />\n      <Box className={classes.formInputFlex} justifyContent=\"center\">\n        <Box>\n          <Typography>Plazo</Typography>\n          <Box display=\"flex\">\n            <FormControl variant=\"outlined\" fullWidth size=\"small\" name=\"plazo\">\n              <Select name=\"plazo\" value={plazo.plazo} onChange={obtenerPlazos}>\n                <MenuItem value=\"1\">1 Mes</MenuItem>\n                <MenuItem value=\"2\">2 Meses</MenuItem>\n                <MenuItem value=\"6\">6 Meses</MenuItem>\n                <MenuItem value=\"8\">8 Meses</MenuItem>\n                <MenuItem value=\"12\">12 Meses</MenuItem>\n                <MenuItem value=\"18\">18 Meses</MenuItem>\n              </Select>\n            </FormControl>\n          </Box>\n        </Box>\n        <Box>\n          <Typography>Unidad</Typography>\n          <Box display=\"flex\">\n            <FormControl\n              variant=\"outlined\"\n              fullWidth\n              size=\"small\"\n              name=\"unidad\"\n            >\n              {precios.granel ? (\n                <Select\n                  name=\"unidad\"\n                  value={plazo.unidad}\n                  onChange={obtenerPlazos}\n                >\n                  {unitCodes_granel.map((res, index) =>\n                    res.unidad === \"Costal\" ? (\n                      <MenuItem key={index} unidad={res} value={res.unidad}>\n                        {res.unidad}\n                      </MenuItem>\n                    ) : null\n                  )}\n                </Select>\n              ) : (\n                <Select\n                  name=\"unidad\"\n                  value={plazo.unidad}\n                  onChange={obtenerPlazos}\n                >\n                  {unitCodes.map((res, index) => (\n                    <MenuItem key={index} unidad={res} value={res.unidad}>\n                      {res.unidad}\n                    </MenuItem>\n                  ))}\n                </Select>\n              )}\n            </FormControl>\n          </Box>\n        </Box>\n        <Box>\n          <Typography>Precio</Typography>\n          <TextField\n            type=\"number\"\n            InputProps={{ inputProps: { min: 0 } }}\n            size=\"small\"\n            name=\"precio\"\n            value={plazo.precio}\n            variant=\"outlined\"\n            onChange={obtenerPlazos}\n          />\n        </Box>\n        <Box display=\"flex\" alignItems=\"flex-end\">\n          <Button\n            variant=\"contained\"\n            size=\"large\"\n            color=\"primary\"\n            onClick={() => guardarPlazo()}\n          >\n            Agregar\n          </Button>\n        </Box>\n      </Box>\n      <Box>\n        <Grid container spacing={2} justify=\"center\">\n          {precios.granel ? (\n            <Fragment>\n              <Grid item lg={3}>\n                <Typography variant=\"h6\" align=\"center\">\n                  Costal\n                </Typography>\n                <TablaPreciosPlazos precios={preciosPlazos.precio_costales} />\n              </Grid>\n            </Fragment>\n          ) : (\n            <Fragment>\n              <Grid item lg={3}>\n                <Typography variant=\"h6\" align=\"center\">\n                  Piezas\n                </Typography>\n                <TablaPreciosPlazos precios={preciosPlazos.precio_piezas} />\n              </Grid>\n              <Grid item lg={3}>\n                <Typography variant=\"h6\" align=\"center\">\n                  Cajas\n                </Typography>\n                <TablaPreciosPlazos precios={preciosPlazos.precio_cajas} />\n              </Grid>\n            </Fragment>\n          )}\n        </Grid>\n      </Box>\n    </Fragment>\n  );\n}\n","export const validateJsonEdit = async (data, tipo) => {\n    if (tipo === \"datos_generales\") {\n      let object_date = {\n        clave_alterna: data.clave_alterna,\n        tipo_producto: data.tipo_producto,\n        nombre_comercial: data.nombre_comercial,\n        nombre_generico: data.nombre_generico,\n        receta_farmacia: data.receta_farmacia,\n      };\n      if (data.codigo_barras !== null && data.codigo_barras !== \"\")\n        object_date = { ...object_date, codigo_barras: data.codigo_barras };\n      if (data.descripcion !== null && data.descripcion !== \"\")\n        object_date = { ...object_date, descripcion: data.descripcion };\n      if (data.id_categoria !== null && data.id_categoria !== \"\")\n        object_date = { ...object_date, id_categoria: data.id_categoria };\n      if (data.categoria !== null && data.categoria !== \"\")\n        object_date = { ...object_date, categoria: data.categoria };\n      if (data.subcategoria !== null && data.subcategoria !== \"\")\n        object_date = { ...object_date, subcategoria: data.subcategoria };\n      if (data.id_subcategoria !== null && data.id_subcategoria !== \"\")\n        object_date = { ...object_date, id_subcategoria: data.id_subcategoria };\n      if (data.id_departamento !== null && data.id_departamento !== \"\")\n        object_date = { ...object_date, id_departamento: data.id_departamento };\n      if (data.departamento !== null && data.departamento !== \"\")\n        object_date = { ...object_date, departamento: data.departamento };\n      if (data.id_marca !== null && data.id_marca !== \"\")\n        object_date = { ...object_date, id_marca: data.id_marca };\n      if (data.marca !== null && data.marca !== \"\")\n        object_date = { ...object_date, marca: data.marca };\n      if (data.clave_producto_sat.Name !== null && data.clave_producto_sat.Name !== \"\")\n        object_date = {\n          ...object_date,\n          clave_producto_sat: data.clave_producto_sat,\n        };\n      return object_date;\n    } else if (tipo === \"unidades_de_venta\") {\n      let end_array = [];\n      for (var i = 0; i < data.length; i++) {\n        let object = {\n          _id: data[i]._id,\n          cantidad: data[i].cantidad,\n          id_producto: data[i].id_producto,\n          precio: data[i].precio,\n          unidad_principal: data[i].unidad_principal,\n          unidad: data[i].unidad,\n          codigo_unidad: data[i].codigo_unidad,\n          precio_unidad: data[i].precio_unidad\n        };\n        if (data[i].codigo_barras !== null && data[i].codigo_barras !== \"\")\n          object = { ...object, codigo_barras: data[i].codigo_barras };\n        if (data[i].default !== null && data[i].default !== \"\")\n          object = { ...object, default: data[i].default };\n        if (data[i].descuento_activo !== null && data[i].descuento_activo !== \"\")\n          object = { ...object, descuento_activo: data[i].descuento_activo, descuento: data[i].descuento };\n          \n          end_array.push(object);\n      }\n      return end_array;\n    }\n  };","import React, { useState, Fragment, useContext, useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport DoneIcon from \"@material-ui/icons/Done\";\nimport {\n  Button,\n  AppBar,\n  Badge,\n  Typography,\n  CircularProgress,\n  Backdrop,\n  IconButton,\n} from \"@material-ui/core\";\nimport {\n  Dialog,\n  DialogActions,\n  DialogContent,\n  Tabs,\n  Tab,\n  Box,\n} from \"@material-ui/core\";\nimport RegistroInfoGenerales from \"./DatosGenerales/registrarInfoGeneral\";\nimport RegistroInfoAdidional from \"../Producto/PreciosVenta/registrarInfoAdicional\";\nimport CargarImagenesProducto from \"./Imagenes/cargarImagenesProducto\";\nimport { RegProductoContext } from \"../../../../context/Catalogos/CtxRegProducto\";\nimport RegistroAlmacenInicial from \"./Inventario&Almacen/AlmacenInicial\";\nimport ColoresTallas from \"./TallasColores/TallasColores\";\nimport ErrorPage from \"../../../../components/ErrorPage\";\n\nimport { useMutation, useQuery } from \"@apollo/client\";\nimport {\n  CREAR_PRODUCTO,\n  OBTENER_CONSULTAS,\n  ACTUALIZAR_PRODUCTO,\n} from \"../../../../gql/Catalogos/productos\";\nimport { validaciones } from \"./validaciones\";\nimport CentroCostos from \"./CentroCostos/CentroCostos\";\nimport PrecioPlazos from \"./PrecioPlazos/PrecioPlazos\";\n\nimport {\n  initial_state_datos_generales,\n  initial_state_precios,\n  initial_state_unidadVentaXDefecto,\n  initial_state_almacen_inicial,\n  initial_state_centro_de_costos,\n  initial_state_preciosPlazos,\n} from \"../../../../context/Catalogos/initialStatesProducto\";\nimport {\n  Add,\n  Close,\n  Edit,\n  NavigateBefore,\n  NavigateNext,\n} from \"@material-ui/icons\";\nimport { validateJsonEdit } from \"./validateDatos\";\n/* import { cleanTypenames } from \"../../../../config/reuserFunctions\"; */\n/* import SnackBarMessages from '../../../../components/SnackBarMessages'; */\n\nexport const initial_state_preciosP = [\n  {\n    numero_precio: 1,\n    utilidad: 0,\n    precio_neto: 0,\n    unidad_mayoreo: 0,\n    precio_venta: 0,\n    iva_precio: 0,\n    ieps_precio: 0,\n  },\n  {\n    numero_precio: 2,\n    utilidad: 0,\n    precio_neto: 0,\n    unidad_mayoreo: 0,\n    precio_venta: 0,\n    iva_precio: 0,\n    ieps_precio: 0,\n  },\n  {\n    numero_precio: 3,\n    utilidad: 0,\n    precio_neto: 0,\n    unidad_mayoreo: 0,\n    precio_venta: 0,\n    iva_precio: 0,\n    ieps_precio: 0,\n  },\n  {\n    numero_precio: 4,\n    utilidad: 0,\n    precio_neto: 0,\n    unidad_mayoreo: 0,\n    precio_venta: 0,\n    iva_precio: 0,\n    ieps_precio: 0,\n  },\n  {\n    numero_precio: 5,\n    utilidad: 0,\n    precio_neto: 0,\n    unidad_mayoreo: 0,\n    precio_venta: 0,\n    iva_precio: 0,\n    ieps_precio: 0,\n  },\n  {\n    numero_precio: 6,\n    utilidad: 0,\n    precio_neto: 0,\n    unidad_mayoreo: 0,\n    precio_venta: 0,\n    iva_precio: 0,\n    ieps_precio: 0,\n  },\n];\n\nfunction TabPanel(props) {\n  const { children, value, index, ...other } = props;\n\n  return (\n    <div\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`tabpanel-reg-product-${index}`}\n      aria-labelledby={`reg-product-tab-${index}`}\n      {...other}\n    >\n      {value === index && (\n        <Box p={3} height=\"70vh\">\n          {children}\n        </Box>\n      )}\n    </div>\n  );\n}\n\nTabPanel.propTypes = {\n  children: PropTypes.node,\n  index: PropTypes.any.isRequired,\n  value: PropTypes.any.isRequired,\n};\n\nfunction a11yProps(index) {\n  return {\n    id: `reg-product-tab-${index}`,\n    \"aria-controls\": `tabpanel-reg-product-${index}`,\n  };\n}\n\nconst useStyles = makeStyles((theme) => ({\n  formInputFlex: {\n    display: \"flex\",\n    \"& > *\": {\n      margin: `${theme.spacing(1)}px ${theme.spacing(2)}px`,\n    },\n  },\n  formInput: {\n    margin: `${theme.spacing(1)}px ${theme.spacing(2)}px`,\n  },\n  root: {\n    flexGrow: 1,\n    width: \"100%\",\n    backgroundColor: theme.palette.background.paper,\n  },\n  iconSvg: {\n    width: 50,\n  },\n  dialogContent: {\n    padding: 0,\n  },\n  backdrop: {\n    zIndex: theme.zIndex.drawer + 1,\n    color: \"#fff\",\n  },\n}));\n\nexport default function CrearProducto({\n  accion,\n  datos,\n  productosRefetch,\n  fromCompra,\n}) {\n  const classes = useStyles();\n  const [open, setOpen] = useState(false);\n  const [value, setValue] = useState(0);\n  const {\n    datos_generales,\n    setDatosGenerales,\n    precios,\n    setPrecios,\n    validacion,\n    setValidacion,\n    preciosP,\n    setPreciosP,\n    imagenes,\n    setImagenes,\n    unidadesVenta,\n    setUnidadesVenta,\n    almacen_inicial,\n    setAlmacenInicial,\n    unidadVentaXDefecto,\n    setUnidadVentaXDefecto,\n    centro_de_costos,\n    setCentroDeCostos,\n    setUpdate,\n    preciosPlazos,\n    setPreciosPlazos,\n    setSubcategorias,\n    setOnPreview,\n    setSubcostos,\n    imagenes_eliminadas,\n    setImagenesEliminadas,\n    presentaciones,\n    setPresentaciones,\n    presentaciones_eliminadas,\n    setPresentacionesEliminadas,\n    setAlmacenExistente,\n    almacen_existente,\n  } = useContext(RegProductoContext);\n\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n\n  /* const [ alert, setAlert ] = useState({ message: '', status: '', open: false }); */\n  const { setAlert } = useContext(RegProductoContext);\n  const [loading, setLoading] = useState(false);\n  const tipo = datos_generales.tipo_producto;\n\n  /* Mutations */\n  const [crearProducto] = useMutation(CREAR_PRODUCTO);\n  const [actualizarProducto] = useMutation(ACTUALIZAR_PRODUCTO);\n\n  const toggleModal = (producto) => {\n    setOpen(!open);\n    setUpdate(accion);\n    if (producto && accion) {\n      setInitialStates(producto);\n    } else {\n      resetInitialStates();\n    }\n  };\n\n  const handleChange = (event, newValue) => {\n    setValue(newValue);\n  };\n  /* ###### GUARDAR LA INFO EN LA BD ###### */\n\n  const saveData = async () => {\n    const validate = validaciones(\n      datos_generales,\n      precios,\n      almacen_inicial,\n      presentaciones,\n      almacen_existente\n    );\n\n    if (validate.error) {\n      setValidacion(validate);\n      return;\n    }\n    setValidacion(validate);\n    if (presentaciones.length > 0) {\n      const pres = presentaciones.filter(\n        (res) => res.color._id && res.medida._id\n      );\n\n      if (pres.length !== presentaciones.length) {\n        setValidacion({\n          error: true,\n          message: \"Faltan medidas o colores a tus presentaciones\",\n          vista7: true,\n        });\n        setAlert({\n          message: `Faltan medidas o colores en tus presentaciones`,\n          status: \"error\",\n          open: true,\n        });\n        return;\n      }\n    }\n\n    let copy_unidadesVenta = [...unidadesVenta];\n\n    if (copy_unidadesVenta.length === 0) {\n      copy_unidadesVenta.push(unidadVentaXDefecto);\n    } else {\n      const unidadxdefecto = copy_unidadesVenta.filter(\n        (unidades) => unidades.default === true\n      );\n      if (unidadxdefecto.length === 0) {\n        copy_unidadesVenta.splice(0, 0, unidadVentaXDefecto);\n      }\n    }\n\n    precios.precios_producto = preciosP;\n\n    let imagenes_without_aws = imagenes;\n    if (accion) {\n      imagenes_without_aws = [...imagenes].filter((res) => !res.key_imagen);\n    }\n\n    let input = {\n      datos_generales: await validateJsonEdit(\n        datos_generales,\n        \"datos_generales\"\n      ),\n      precios,\n      imagenes: imagenes_without_aws,\n      imagenes_eliminadas,\n      almacen_inicial,\n      centro_de_costos,\n      unidades_de_venta: await validateJsonEdit(\n        copy_unidadesVenta,\n        \"unidades_de_venta\"\n      ),\n      presentaciones,\n      presentaciones_eliminadas,\n      precio_plazos: preciosPlazos,\n      empresa: sesion.empresa._id,\n      sucursal: sesion.sucursal._id,\n      usuario: sesion._id,\n    };\n\n    /* const clean_data = cleanTypenames(input); */\n    /* console.log(input); */\n\n    setLoading(true);\n    try {\n      if (accion) {\n        const result = await actualizarProducto({\n          variables: {\n            input,\n            id: datos._id,\n          },\n        });\n        setAlert({\n          message: `¡Listo! ${result.data.actualizarProducto.message}`,\n          status: \"success\",\n          open: true,\n        });\n      } else {\n        const result = await crearProducto({\n          variables: {\n            input,\n          },\n        });\n        setAlert({\n          message: `¡Listo! ${result.data.crearProducto.message}`,\n          status: \"success\",\n          open: true,\n        });\n      }\n      setLoading(false);\n      toggleModal();\n      productosRefetch();\n    } catch (error) {\n      setLoading(false);\n      setAlert({\n        message: `Error: ${error.message}`,\n        status: \"error\",\n        open: true,\n      });\n      console.log(error);\n      if (error.networkError) {\n        console.log(error.networkError.result);\n      } else if (error.graphQLErrors) {\n        console.log(error.graphQLErrors);\n      }\n    }\n  };\n\n  /* ###### RESET STATES ###### */\n  const resetInitialStates = () => {\n    setDatosGenerales(initial_state_datos_generales);\n    setPrecios(initial_state_precios);\n    setUnidadVentaXDefecto(initial_state_unidadVentaXDefecto);\n    setPreciosP(initial_state_preciosP);\n    setUnidadesVenta([]);\n    setAlmacenInicial(initial_state_almacen_inicial);\n    setCentroDeCostos({});\n    setPreciosPlazos(initial_state_preciosPlazos);\n    setSubcategorias([]);\n    setImagenes([]);\n    setOnPreview({ index: \"\", image: \"\" });\n    setValidacion({ error: false, message: \"\" });\n    setSubcostos([]);\n    setImagenesEliminadas([]);\n    setPresentaciones([]);\n    setPresentacionesEliminadas([]);\n    setValue(0);\n  };\n\n  /* SET STATES WHEN UPDATING */\n  const setInitialStates = (producto) => {\n    /* const producto = cleanTypenames(product); */\n    /* console.log(producto); */\n    const { precios_producto, ...new_precios } = producto.precios;\n    let unidades_venta = producto.unidades_de_venta.filter(\n      (res) => !res.default\n    );\n    let unidadxdefecto = producto.unidades_de_venta.filter(\n      (res) => res.default\n    );\n    setDatosGenerales(producto.datos_generales);\n    setPrecios(new_precios);\n    setCentroDeCostos(\n      producto.centro_de_costos\n        ? producto.centro_de_costos\n        : initial_state_centro_de_costos\n    );\n    setImagenes(producto.imagenes);\n    setPreciosPlazos(producto.precio_plazos);\n    setUnidadesVenta(unidades_venta);\n    setPreciosP(producto.precios.precios_producto);\n    setUnidadVentaXDefecto(unidadxdefecto[0]);\n    setPresentaciones(\n      producto.medidas_producto ? producto.medidas_producto : []\n    );\n    if (producto.inventario_general.length > 0) {\n      setAlmacenExistente(true);\n    } else {\n      setAlmacenExistente(false);\n    }\n  };\n\n  function funcion_tecla(event) {\n    const { keyCode } = event;\n    if (keyCode === 114) {\n      document.getElementById(\"modal-registro-product\").click();\n    }\n  } /* CODIGO PARA PODER EJECUTAR LAS VENTANAS A BASE DE LAS TECLAS */\n\n  window.onkeydown = funcion_tecla;\n\n  const saveButton = (\n    <Button\n      variant=\"contained\"\n      color=\"primary\"\n      onClick={() => saveData()}\n      size=\"large\"\n      startIcon={<DoneIcon />}\n      /* disabled={\n        !datos_generales.clave_alterna ||\n        !datos_generales.tipo_producto ||\n        !datos_generales.nombre_generico ||\n        !datos_generales.nombre_comercial ||\n        !precios.precio_de_compra.precio_con_impuesto ||\n        !precios.precio_de_compra.precio_sin_impuesto ||\n        !precios.unidad_de_compra.cantidad\n          ? true\n          : false\n      } */\n    >\n      Guardar\n    </Button>\n  );\n\n  const ButtonActions = () => {\n    if (!accion && value === 5) {\n      return saveButton;\n    } else if (accion && tipo === \"OTROS\" && value === 5) {\n      return saveButton;\n    } else if (accion && tipo !== \"OTROS\" && value === 6) {\n      return saveButton;\n    } else {\n      return (\n        <Button\n          variant=\"contained\"\n          color=\"primary\"\n          onClick={() => setValue(value + 1)}\n          size=\"large\"\n          endIcon={<NavigateNext />}\n          disableElevation\n        >\n          Siguiente\n        </Button>\n      );\n    }\n  };\n\n  return (\n    <Fragment>\n      {/* <SnackBarMessages alert={alert} setAlert={setAlert} /> */}\n\n      {!accion ? (\n        fromCompra ? (\n          <IconButton color=\"primary\" onClick={() => toggleModal()}>\n            <Add />\n          </IconButton>\n        ) : (\n          <Button\n            id=\"modal-registro-product\"\n            color=\"primary\"\n            variant=\"contained\"\n            size=\"large\"\n            onClick={() => toggleModal()}\n            startIcon={<Add />}\n          >\n            Nuevo\n          </Button>\n        )\n      ) : (\n        <IconButton color=\"default\" onClick={() => toggleModal(datos)}>\n          <Edit />\n        </IconButton>\n      )}\n      <Dialog\n        open={open}\n        fullWidth\n        maxWidth=\"lg\"\n        scroll=\"paper\"\n        disableEscapeKeyDown\n        onClose={(_, reason) => {\n          if (reason !== \"backdropClick\") {\n            toggleModal();\n          }\n        }}\n      >\n        <AppBar position=\"static\" color=\"default\" elevation={0}>\n          <Box display=\"flex\" justifyContent=\"space-between\">\n            <Tabs\n              value={value}\n              onChange={handleChange}\n              variant=\"scrollable\"\n              scrollButtons=\"on\"\n              indicatorColor=\"primary\"\n              textColor=\"primary\"\n              aria-label=\"scrollable force tabs example\"\n            >\n              <Tab\n                label=\"Datos generales\"\n                icon={\n                  <Badge\n                    color=\"secondary\"\n                    badgeContent={<Typography variant=\"h6\">!</Typography>}\n                    anchorOrigin={{\n                      vertical: \"bottom\",\n                      horizontal: \"right\",\n                    }}\n                    invisible={\n                      validacion.error && validacion.vista1 ? false : true\n                    }\n                  >\n                    <img\n                      src=\"https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/portapapeles.svg\"\n                      alt=\"icono registro\"\n                      className={classes.iconSvg}\n                    />\n                  </Badge>\n                }\n                {...a11yProps(0)}\n              />\n              <Tab\n                label=\"Precios de venta\"\n                icon={\n                  <Badge\n                    color=\"secondary\"\n                    badgeContent={<Typography variant=\"h6\">!</Typography>}\n                    anchorOrigin={{\n                      vertical: \"bottom\",\n                      horizontal: \"right\",\n                    }}\n                    invisible={\n                      validacion.error && validacion.vista2 ? false : true\n                    }\n                  >\n                    <img\n                      src=\"https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/etiqueta-de-precio.svg\"\n                      alt=\"icono venta\"\n                      className={classes.iconSvg}\n                    />\n                  </Badge>\n                }\n                {...a11yProps(1)}\n              />\n              <Tab\n                label=\"Inventario y almacen\"\n                icon={\n                  <Badge\n                    color=\"secondary\"\n                    badgeContent={<Typography variant=\"h6\">!</Typography>}\n                    anchorOrigin={{\n                      vertical: \"bottom\",\n                      horizontal: \"right\",\n                    }}\n                    invisible={\n                      validacion.error && validacion.vista3 ? false : true\n                    }\n                  >\n                    <img\n                      src=\"https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/tarea-completada.svg\"\n                      alt=\"icono almacen\"\n                      className={classes.iconSvg}\n                    />\n                  </Badge>\n                }\n                {...a11yProps(2)}\n              />\n              <Tab\n                label=\"Centro de costos\"\n                icon={\n                  <img\n                    src=\"https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/costos.svg\"\n                    alt=\"icono almacen\"\n                    className={classes.iconSvg}\n                  />\n                }\n                {...a11yProps(3)}\n              />\n              <Tab\n                label=\"Precios a plazos\"\n                icon={\n                  <img\n                    src=\"https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/calendar.svg\"\n                    alt=\"icono almacen\"\n                    className={classes.iconSvg}\n                  />\n                }\n                {...a11yProps(4)}\n              />\n              <Tab\n                label=\"Imagenes\"\n                icon={\n                  <img\n                    src=\"https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/imagenes.svg\"\n                    alt=\"icono imagenes\"\n                    className={classes.iconSvg}\n                  />\n                }\n                {...a11yProps(5)}\n              />\n              {accion ? (\n                datos_generales.tipo_producto !== \"OTROS\" ? (\n                  <Tab\n                    label=\"Tallas y colores\"\n                    icon={\n                      <Badge\n                        color=\"secondary\"\n                        badgeContent={<Typography variant=\"h6\">!</Typography>}\n                        anchorOrigin={{\n                          vertical: \"bottom\",\n                          horizontal: \"right\",\n                        }}\n                        invisible={\n                          validacion.error && validacion.vista7 ? false : true\n                        }\n                      >\n                        <img\n                          src=\"https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/tallas-colores.svg\"\n                          alt=\"icono colores\"\n                          className={classes.iconSvg}\n                        />\n                      </Badge>\n                    }\n                    {...a11yProps(6)}\n                  />\n                ) : null\n              ) : null}\n            </Tabs>\n            {/* <Box m={1}>\n\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"secondary\" onClick={() => toggleModal()} size=\"large\">\n\t\t\t\t\t\t\t\t<CloseIcon />\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Box> */}\n          </Box>\n        </AppBar>\n        <DialogContent className={classes.dialogContent}>\n          <Backdrop className={classes.backdrop} open={loading}>\n            <CircularProgress color=\"inherit\" />\n          </Backdrop>\n          <ContenidoModal value={value} />\n        </DialogContent>\n        <DialogActions style={{ display: \"flex\", justifyContent: \"center\" }}>\n          <Button\n            variant=\"outlined\"\n            color=\"primary\"\n            onClick={() => setValue(value - 1)}\n            size=\"large\"\n            startIcon={<NavigateBefore />}\n            disabled={value === 0}\n          >\n            Anterior\n          </Button>\n          <Button\n            variant=\"outlined\"\n            color=\"inherit\"\n            onClick={() => toggleModal()}\n            size=\"large\"\n            startIcon={<Close />}\n            disableElevation\n          >\n            Cancelar\n          </Button>\n          <ButtonActions />\n        </DialogActions>\n      </Dialog>\n    </Fragment>\n  );\n}\n\nconst ContenidoModal = ({ value }) => {\n  const classes = useStyles();\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n\n  /* Queries */\n  const { loading, data, error, refetch } = useQuery(OBTENER_CONSULTAS, {\n    variables: { empresa: sesion.empresa._id, sucursal: sesion.sucursal._id },\n  });\n\n  useEffect(() => {\n    return () => {\n      refetch();\n    };\n  }, [refetch]);\n\n  if (loading)\n    return (\n      <Box\n        display=\"flex\"\n        flexDirection=\"column\"\n        justifyContent=\"center\"\n        alignItems=\"center\"\n        height=\"80vh\"\n      >\n        <CircularProgress />\n        <Typography variant=\"h6\">Cargando...</Typography>\n      </Box>\n    );\n\n  if (error) return <ErrorPage error={error} />;\n\n  const { obtenerConsultasProducto } = data;\n\n  return (\n    <div className={classes.root}>\n      <TabPanel value={value} index={0}>\n        <RegistroInfoGenerales\n          obtenerConsultasProducto={obtenerConsultasProducto}\n          refetch={refetch}\n        />\n      </TabPanel>\n      <TabPanel value={value} index={1}>\n        <RegistroInfoAdidional />\n      </TabPanel>\n      <TabPanel value={value} index={2}>\n        <RegistroAlmacenInicial\n          obtenerConsultasProducto={obtenerConsultasProducto}\n          refetch={refetch}\n        />\n      </TabPanel>\n      <TabPanel value={value} index={3}>\n        <CentroCostos\n          obtenerConsultasProducto={obtenerConsultasProducto}\n          refetch={refetch}\n        />\n      </TabPanel>\n      <TabPanel value={value} index={4}>\n        <PrecioPlazos />\n      </TabPanel>\n      <TabPanel value={value} index={5}>\n        <CargarImagenesProducto />\n      </TabPanel>\n      <TabPanel value={value} index={6}>\n        <ColoresTallas\n          obtenerConsultasProducto={obtenerConsultasProducto}\n          refetch={refetch}\n        />\n      </TabPanel>\n    </div>\n  );\n};\n","import React, { useCallback, useContext, useEffect, useState } from \"react\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport { ComprasContext } from \"../../../../../context/Compras/comprasContext\";\n\nexport default function PreciosDeVentaCompras() {\n  const { preciosVenta } = useContext(ComprasContext);\n\n  return (\n    <div>\n      <TableContainer>\n        <Table aria-label=\"simple table\" size=\"small\">\n          <TableHead>\n            <TableRow>\n              <TableCell style={{ minWidth: 150 }}>Precios de venta</TableCell>\n              {[1, 2, 3, 4, 5, 6].map((numero, index) => (\n                <TableCell style={{ minWidth: 100 }} key={index}>\n                  {numero}\n                </TableCell>\n              ))}\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {[\"Utilidad\", \"Precio de venta\"].map((tipo, index) => (\n              <TableRow key={index}>\n                <TableCell style={{ border: 0 }}>\n                  <b>{tipo}</b>\n                </TableCell>\n                {preciosVenta.map((data, index) => (\n                  <RenderPrecios\n                    key={index}\n                    data={data}\n                    index={index}\n                    tipo={tipo}\n                  />\n                ))}\n              </TableRow>\n            ))}\n          </TableBody>\n        </Table>\n      </TableContainer>\n    </div>\n  );\n}\n\nconst RenderPrecios = ({ data, tipo, index }) => {\n  const { preciosVenta, datosProducto, productoOriginal } = useContext(ComprasContext);\n  const { precios } = productoOriginal;\n\n  const [precio_neto, setPrecioNeto] = useState(data.precio_neto);\n\n  //creamos variables para trabajar con ellas, no causar errores y afectar las originales\n  let copy_preciosVenta = { ...preciosVenta[index] };\n\n  let precio_unitario_con_impuesto =\n    /* datosProducto.costo / datosProducto.cantidad; */\n    datosProducto.costo / precios.unidad_de_compra.cantidad;\n  let precio_unitario_sin_impuesto =\n    /* precios.precio_de_compra.precio_sin_impuesto / datosProducto.cantidad; */\n    precios.precio_de_compra.precio_sin_impuesto / precios.unidad_de_compra.cantidad;\n\n  if (isNaN(precio_unitario_sin_impuesto)) precio_unitario_sin_impuesto = 0;\n  if (isNaN(precio_unitario_con_impuesto)) precio_unitario_con_impuesto = 0;\n\n  const calculosCompra = useCallback(() => {\n    if (copy_preciosVenta.numero_precio === data.numero_precio) {\n      copy_preciosVenta.precio_neto = precio_unitario_con_impuesto;\n      setPrecioNeto(precio_unitario_con_impuesto);\n\n      let utilidad_base = data.utilidad ? data.utilidad : 0;\n      let utilidad = utilidad_base / 100;\n\n      const precio_venta = parseFloat((precio_unitario_sin_impuesto * utilidad + precio_unitario_sin_impuesto).toFixed(2));\n      copy_preciosVenta.precio_venta = parseFloat(\n        precio_venta.toFixed(2)\n      );\n      if (precios.iva_activo || precios.ieps_activo) {\n        const precio_neto =\n          precio_unitario_con_impuesto +\n          precio_unitario_con_impuesto * utilidad;\n\n        copy_preciosVenta.precio_neto = parseFloat(\n          precio_neto.toFixed(2)\n        );\n        setPrecioNeto(parseFloat(precio_neto.toFixed(2)));\n      } else {\n        copy_preciosVenta.precio_neto = parseFloat(\n          precio_venta.toFixed(2)\n        );\n        setPrecioNeto(parseFloat(precio_venta.toFixed(2)));\n      }\n      preciosVenta.splice(index, 1, copy_preciosVenta);\n    }\n  }, [datosProducto.costo, datosProducto.cantidad]);\n\n  useEffect(() => {\n    if(data.numero_precio === 1){\n      calculosCompra();\n    }else if(data.numero_precio > 1 && precio_neto){\n      calculosCompra();\n    }\n  }, [calculosCompra]);\n\n  switch (tipo) {\n    case \"Utilidad\":\n      return <TableCell style={{ border: 0 }}>{data.utilidad}%</TableCell>;\n    case \"Precio de venta\":\n      return <TableCell style={{ border: 0 }}>${parseFloat(precio_neto).toFixed(2)}</TableCell>;\n    default:\n      return null;\n  }\n};\n","import React, { Fragment, useContext } from \"react\";\nimport { Box, InputAdornment, TextField } from \"@material-ui/core\";\nimport { ComprasContext } from \"../../../../../context/Compras/comprasContext\";\n\nexport default function DescuentosInputs() {\n  const { datosProducto, setDatosProducto, productoOriginal } = useContext(\n    ComprasContext\n  );\n  const {\n    precio_sin_impuesto,\n    precio_con_impuesto,\n    iva,\n    ieps,\n  } = productoOriginal.precios.precio_de_compra;\n  const impuestos = iva + ieps;\n\n  const obtenerPorcentaje = (value) => {\n    if (!value || parseFloat(value) === 0) {\n      setDatosProducto({\n        ...datosProducto,\n        descuento_porcentaje: \"\",\n        descuento_precio: \"\",\n        subtotal_descuento: precio_sin_impuesto,\n        total_descuento: precio_con_impuesto,\n      });\n      return;\n    }\n    let porcentaje = parseFloat(value);\n    let cantidad_descontada = Math.round(\n      (datosProducto.subtotal * porcentaje) / 100\n    );\n    let subtotal = datosProducto.subtotal - cantidad_descontada;\n    let total = subtotal + impuestos;\n\n    setDatosProducto({\n      ...datosProducto,\n      descuento_porcentaje: parseFloat(porcentaje),\n      descuento_precio: parseFloat(cantidad_descontada.toFixed(2)),\n      subtotal_descuento: parseFloat(subtotal.toFixed(2)),\n      total_descuento: parseFloat(total.toFixed(2)),\n    });\n  };\n\n  const obtenerPrecio = (value) => {\n    if (!value || parseFloat(value) === 0) {\n      setDatosProducto({\n        ...datosProducto,\n        descuento_porcentaje: \"\",\n        descuento_precio: \"\",\n        subtotal_descuento: precio_sin_impuesto,\n        total_descuento: precio_con_impuesto,\n      });\n      return;\n    }\n    let cantidad_descontada = parseFloat(value);\n\n    let porcentaje = Math.round(\n      (cantidad_descontada / datosProducto.subtotal) * 100\n    );\n    /* let descuento_porcentaje = 100 - porcentaje; */\n    /* let total = datosProducto.total - cantidad_descontada; */\n    let subtotal = datosProducto.subtotal - cantidad_descontada;\n    let total = subtotal + impuestos;\n\n    setDatosProducto({\n      ...datosProducto,\n      descuento_porcentaje: parseFloat(porcentaje),\n      descuento_precio: parseFloat(cantidad_descontada.toFixed(2)),\n      subtotal_descuento: parseFloat(subtotal.toFixed(2)),\n      total_descuento: parseFloat(total.toFixed(2)),\n    });\n  };\n\n  return (\n    <Fragment>\n      <Box display=\"flex\" width={160}>\n        <TextField\n          variant=\"outlined\"\n          size=\"small\"\n          fullWidth\n          inputMode=\"numeric\"\n          onChange={(e) => obtenerPrecio(e.target.value)}\n          disabled={!datosProducto.producto.datos_generales}\n          value={datosProducto.descuento_precio}\n          InputProps={{\n            startAdornment: <InputAdornment position=\"start\">$</InputAdornment>,\n          }}\n        />\n        <Box mr={1} />\n        <TextField\n          variant=\"outlined\"\n          size=\"small\"\n          fullWidth\n          inputMode=\"numeric\"\n          onChange={(e) => obtenerPorcentaje(e.target.value)}\n          disabled={!datosProducto.producto.datos_generales}\n          value={datosProducto.descuento_porcentaje}\n          InputProps={{\n            startAdornment: <InputAdornment position=\"start\">%</InputAdornment>,\n          }}\n        />\n      </Box>\n    </Fragment>\n  );\n}\n","import React, { createContext, useState } from 'react';\n\nexport const ClienteCtx = createContext();\n\nexport const ClienteProvider = ({ children }) => {\n\tconst [ cliente, setCliente ] = useState({\n\t\tdireccion: {\n\t\t\tcalle: '',\n\t\t\tno_ext: '',\n\t\t\tno_int: '',\n\t\t\tcodigo_postal: '',\n\t\t\tcolonia: '',\n\t\t\tmunicipio: '',\n\t\t\tlocalidad: '',\n\t\t\testado: '',\n\t\t\tpais: ''\n\t\t},\n\t\testado_cliente: true\n\t});\n\tconst [ toUpdate, setToUpdate ] = useState(false);\n\tconst [ error, setError ] = useState(false);\n\tconst [ update, setUpdate ] = useState(false);\n\n\tconst [updateClientVenta, setUpdateClientVenta] = useState(false);\n\n\n\treturn (\n\t\t<ClienteCtx.Provider\n\t\t\tvalue={{\n\t\t\t\tcliente,\n\t\t\t\tsetCliente,\n\t\t\t\ttoUpdate,\n\t\t\t\tsetToUpdate,\n\t\t\t\terror,\n\t\t\t\tsetError,\n\t\t\t\tupdate,\n\t\t\t\tsetUpdate,\n\t\t\t\tsetUpdateClientVenta,\n\t\t\t\tupdateClientVenta\n\t\t\t}}\n\t\t>\n\t\t\t{children}\n\t\t</ClienteCtx.Provider>\n\t);\n};\n","import React, { Fragment, useContext, useCallback, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport {\n  Box,\n  Divider,\n  Avatar,\n  InputAdornment,\n  IconButton,\n} from \"@material-ui/core\";\nimport { TextField, Typography, Grid } from \"@material-ui/core\";\nimport { useDropzone } from \"react-dropzone\";\nimport { ClienteCtx } from \"../../../../context/Catalogos/crearClienteCtx\";\nimport { Cached } from \"@material-ui/icons\";\n\nconst useStyles = makeStyles((theme) => ({\n  avatarContainer: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    width: 150,\n    height: 150,\n    border: \"dashed 2px #000000\",\n  },\n  avatar: {\n    width: 135,\n    height: 135,\n    \"& > .icon\": {\n      fontSize: 100,\n    },\n  },\n  input: {\n    \"& input[type=number]\": {\n      \"-moz-appearance\": \"textfield\",\n    },\n    \"& input[type=number]::-webkit-outer-spin-button\": {\n      \"-webkit-appearance\": \"none\",\n      margin: 0,\n    },\n    \"& input[type=number]::-webkit-inner-spin-button\": {\n      \"-webkit-appearance\": \"none\",\n      margin: 0,\n    },\n  },\n  title: {\n    fontWeight: \"500\",\n    \"& span\": {\n      color: \"red\",\n    },\n  },\n}));\n\nexport default function RegistrarInfoBasica({ tipo, accion }) {\n  const classes = useStyles();\n  const { cliente, setCliente, error } = useContext(ClienteCtx);\n  const [preview, setPreview] = useState(\"\");\n\n  //dropzone\n  const onDrop = useCallback(\n    (acceptedFiles) => {\n      let reader = new FileReader();\n      reader.readAsDataURL(acceptedFiles[0]);\n      reader.onload = function () {\n        let image = reader.result;\n        setPreview(image);\n      };\n      setCliente({\n        ...cliente,\n        imagen: acceptedFiles[0],\n      });\n    },\n    [cliente, setCliente]\n  );\n\n  const { getRootProps, getInputProps } = useDropzone({\n    accept: \"image/jpeg, image/png\",\n    noKeyboard: true,\n    onDrop,\n  });\n\n  const obtenerCampos = (e) => {\n    const { name, value } = e.target;\n    setCliente({\n      ...cliente,\n      [name]: value,\n    });\n  };\n  const obtenerCamposDireccion = (e) => {\n    const { name, value } = e.target;\n    setCliente({\n      ...cliente,\n      direccion: { ...cliente.direccion, [name]: value },\n    });\n  };\n\n  const GenCodigoBarras = () => {\n    const max = 999999999999;\n    const min = 100000000000;\n    const clave_cliente = Math.floor(\n      Math.random() * (max - min + 1) + min\n    ).toString();\n    setCliente({\n      ...cliente,\n      clave_cliente,\n    });\n  };\n\n  return (\n    <Fragment>\n      <Grid container className={classes.input}>\n        <Grid\n          item\n          md={3}\n          xs={12}\n          style={{\n            display: \"flex\",\n            justifyContent: \"center\",\n            marginTop: \"8px\",\n          }}\n        >\n          <Box className={classes.avatarContainer} {...getRootProps()}>\n            <input {...getInputProps()} />\n            {preview ? (\n              <Avatar\n                variant=\"square\"\n                className={classes.avatar}\n                src={`${preview}`}\n              />\n            ) : (\n              <Avatar\n                variant=\"square\"\n                className={classes.avatar}\n                src={`${cliente.imagen}`}\n              />\n            )}\n          </Box>\n        </Grid>\n        <Grid item md={9} xs={12}>\n          <Grid container spacing={2}>\n            {accion === \"registrar\" ? null : (\n              <Grid item md={3} xs={12}>\n                <Typography className={classes.title}>N. Cliente</Typography>\n                <TextField\n                  fullWidth\n                  size=\"small\"\n                  name=\"numero_cliente\"\n                  variant=\"outlined\"\n                  value={cliente.numero_cliente ? cliente.numero_cliente : \"\"}\n                  onChange={obtenerCampos}\n                  disabled\n                  type=\"number\"\n                />\n              </Grid>\n            )}\n            <Grid item md={accion === \"registrar\" ? 12 : 9} xs={12}>\n              <Typography className={classes.title}>\n                <span>* </span>Nombre Cliente\n              </Typography>\n              <TextField\n                fullWidth\n                size=\"small\"\n                error={error && !cliente.nombre_cliente}\n                name=\"nombre_cliente\"\n                variant=\"outlined\"\n                value={\n                  cliente.nombre_cliente\n                    ? cliente.nombre_cliente\n                    : \"\"\n                }\n                helperText={error ? \"Campo Requerido\" : \"\"}\n                onChange={obtenerCampos}\n              />\n            </Grid>\n            {tipo === \"CLIENTE\" ? null : (\n              <Grid item md={4} xs={12}>\n                <Typography className={classes.title}>\n                  <span>* </span>Representante\n                </Typography>\n                <TextField\n                  fullWidth\n                  size=\"small\"\n                  error={error && !cliente.representante}\n                  name=\"representante\"\n                  variant=\"outlined\"\n                  value={\n                    cliente.representante\n                      ? cliente.representante\n                      : \"\"\n                  }\n                  helperText={error ? \"Campo Requerido\" : \"\"}\n                  onChange={obtenerCampos}\n                />\n              </Grid>\n            )}\n            <Grid item md={tipo === \"CLIENTE\" ? 6 : 4} xs={12}>\n              <Typography className={classes.title}>\n                <span>* </span>Clave(Tarjeta de puntos)\n              </Typography>\n              <TextField\n                fullWidth\n                size=\"small\"\n                error={error && !cliente.clave_cliente}\n                name=\"clave_cliente\"\n                variant=\"outlined\"\n                value={cliente.clave_cliente ? cliente.clave_cliente : \"\"}\n                helperText={error ? \"Campo Requerido\" : \"\"}\n                onChange={obtenerCampos}\n                InputProps={{\n                  endAdornment: (\n                    <InputAdornment position=\"end\">\n                      <IconButton\n                        color=\"primary\"\n                        size=\"small\"\n                        onClick={() => GenCodigoBarras()}\n                      >\n                        <Cached />\n                      </IconButton>\n                    </InputAdornment>\n                  ),\n                  disabled: true,\n                }}\n                type=\"number\"\n              />\n            </Grid>\n            <Grid item md={tipo === \"CLIENTE\" ? 6 : 4} xs={12}>\n              <Typography className={classes.title}>\n                Fecha nacimiento\n              </Typography>\n              <TextField\n                fullWidth\n                size=\"small\"\n                name=\"fecha_nacimiento\"\n                variant=\"outlined\"\n                type=\"date\"\n                onChange={obtenerCampos}\n                value={cliente.fecha_nacimiento ? cliente.fecha_nacimiento : \"\"}\n              />\n            </Grid>\n          </Grid>\n        </Grid>\n        <Grid item md={12}>\n          <Grid container spacing={2}>\n            <Grid item md={3} xs={12}>\n              <Typography className={classes.title}>CURP</Typography>\n              <TextField\n                fullWidth\n                size=\"small\"\n                name=\"curp\"\n                variant=\"outlined\"\n                value={cliente.curp ? cliente.curp : \"\"}\n                onChange={obtenerCampos}\n              />\n            </Grid>\n            <Grid item md={3} xs={12}>\n              <Typography className={classes.title}>\n                <span>* </span>Email\n              </Typography>\n              <TextField\n                fullWidth\n                size=\"small\"\n                error={error && !cliente.email}\n                name=\"email\"\n                variant=\"outlined\"\n                value={cliente.email ? cliente.email : \"\"}\n                helperText={error ? \"Campo Requerido\" : \"\"}\n                onChange={obtenerCampos}\n              />\n            </Grid>\n\n            <Grid item md={3} xs={12}>\n              <Typography className={classes.title}>\n                <span>* </span>Num. Telefono\n              </Typography>\n              <TextField\n                fullWidth\n                size=\"small\"\n                error={error && !cliente.telefono}\n                name=\"telefono\"\n                variant=\"outlined\"\n                value={cliente.telefono ? cliente.telefono : \"\"}\n                helperText={error ? \"Campo Requerido\" : \"\"}\n                onChange={obtenerCampos}\n                type=\"number\"\n              />\n            </Grid>\n            <Grid item md={3} xs={12}>\n              <Typography className={classes.title}>Num. Celular</Typography>\n              <TextField\n                fullWidth\n                size=\"small\"\n                name=\"celular\"\n                variant=\"outlined\"\n                value={cliente.celular ? cliente.celular : \"\"}\n                onChange={obtenerCampos}\n                type=\"number\"\n              />\n            </Grid>\n          </Grid>\n        </Grid>\n        <Grid item md={12}>\n          <Box my={2}>\n            <Typography className={classes.title}>\n              <b>Domicilio</b>\n            </Typography>\n            <Divider />\n          </Box>\n          <Grid container spacing={2}>\n            <Grid item md={3} xs={12}>\n              <Typography className={classes.title}>\n                <span>* </span>Calle\n              </Typography>\n              <TextField\n                size=\"small\"\n                fullWidth\n                error={error && !cliente.direccion.calle}\n                name=\"calle\"\n                variant=\"outlined\"\n                value={\n                  cliente.direccion.calle\n                    ? cliente.direccion.calle\n                    : \"\"\n                }\n                helperText={error ? \"Campo Requerido\" : \"\"}\n                onChange={obtenerCamposDireccion}\n              />\n            </Grid>\n            <Grid item md={2} xs={12}>\n              <Typography className={classes.title}>\n                <span>* </span>Num. Ext\n              </Typography>\n              <TextField\n                fullWidth\n                size=\"small\"\n                error={error && !cliente.direccion.no_ext}\n                name=\"no_ext\"\n                variant=\"outlined\"\n                value={cliente.direccion.no_ext ? cliente.direccion.no_ext : \"\"}\n                helperText={error ? \"Campo Requerido\" : \"\"}\n                onChange={obtenerCamposDireccion}\n              />\n            </Grid>\n            <Grid item md={2} xs={12}>\n              <Typography className={classes.title}>Num. Int</Typography>\n              <TextField\n                fullWidth\n                size=\"small\"\n                name=\"no_int\"\n                variant=\"outlined\"\n                value={cliente.direccion.no_int ? cliente.direccion.no_int : \"\"}\n                onChange={obtenerCamposDireccion}\n              />\n            </Grid>\n            <Grid item md={2} xs={12}>\n              <Typography className={classes.title}>\n                <span>* </span>Código postal\n              </Typography>\n              <TextField\n                size=\"small\"\n                fullWidth\n                error={error && !cliente.direccion.codigo_postal}\n                name=\"codigo_postal\"\n                variant=\"outlined\"\n                value={\n                  cliente.direccion.codigo_postal\n                    ? cliente.direccion.codigo_postal\n                    : \"\"\n                }\n                helperText={error ? \"Campo Requerido\" : \"\"}\n                onChange={obtenerCamposDireccion}\n              />\n            </Grid>\n            <Grid item md={3} xs={12}>\n              <Typography className={classes.title}>\n                <span>* </span>Colonia\n              </Typography>\n              <TextField\n                fullWidth\n                size=\"small\"\n                error={error && !cliente.direccion.colonia}\n                name=\"colonia\"\n                variant=\"outlined\"\n                value={\n                  cliente.direccion.colonia\n                    ? cliente.direccion.colonia\n                    : \"\"\n                }\n                helperText={error ? \"Campo Requerido\" : \"\"}\n                onChange={obtenerCamposDireccion}\n              />\n            </Grid>\n            <Grid item md={3} xs={12}>\n              <Typography className={classes.title}>\n                <span>* </span>Municipio\n              </Typography>\n              <TextField\n                fullWidth\n                size=\"small\"\n                error={error && !cliente.direccion.municipio}\n                name=\"municipio\"\n                variant=\"outlined\"\n                value={\n                  cliente.direccion.municipio\n                    ? cliente.direccion.municipio\n                    : \"\"\n                }\n                helperText={error ? \"Campo Requerido\" : \"\"}\n                onChange={obtenerCamposDireccion}\n              />\n            </Grid>\n            <Grid item md={3} xs={12}>\n              <Typography className={classes.title}>Localidad</Typography>\n              <TextField\n                size=\"small\"\n                name=\"localidad\"\n                variant=\"outlined\"\n                value={\n                  cliente.direccion.localidad\n                    ? cliente.direccion.localidad\n                    : \"\"\n                }\n                onChange={obtenerCamposDireccion}\n              />\n            </Grid>\n            <Grid item md={3} xs={12}>\n              <Typography className={classes.title}>\n                <span>* </span>Estado\n              </Typography>\n              <TextField\n                fullWidth\n                size=\"small\"\n                error={error && !cliente.direccion.estado}\n                name=\"estado\"\n                variant=\"outlined\"\n                value={\n                  cliente.direccion.estado\n                    ? cliente.direccion.estado\n                    : \"\"\n                }\n                helperText={error ? \"Campo Requerido\" : \"\"}\n                onChange={obtenerCamposDireccion}\n              />\n            </Grid>\n            <Grid item md={3} xs={12}>\n              <Typography className={classes.title}>\n                <span>* </span>Pais\n              </Typography>\n              <TextField\n                fullWidth\n                size=\"small\"\n                error={error && !cliente.direccion.pais}\n                name=\"pais\"\n                variant=\"outlined\"\n                value={\n                  cliente.direccion.pais\n                    ? cliente.direccion.pais\n                    : \"\"\n                }\n                helperText={error ? \"Campo Requerido\" : \"\"}\n                onChange={obtenerCamposDireccion}\n              />\n            </Grid>\n          </Grid>\n        </Grid>\n      </Grid>\n    </Fragment>\n  );\n}\n","import React, { Fragment, useContext } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { Box, Divider, Grid } from \"@material-ui/core\";\nimport { TextField, Typography } from \"@material-ui/core\";\nimport { ClienteCtx } from \"../../../../context/Catalogos/crearClienteCtx\";\nimport { Alert } from \"@material-ui/lab\";\n\nconst useStyles = makeStyles((theme) => ({\n  title: {\n    fontWeight: \"500\",\n  },\n}));\n\nexport default function RegistrarInfoCredito({ tipo }) {\n  const classes = useStyles();\n  const { cliente, setCliente } = useContext(ClienteCtx);\n\n  const obtenerCampos = (e) => {\n    const name = e.target.name;\n    if (name === \"numero_descuento\" || name === \"limite_credito\") {\n      setCliente({\n        ...cliente,\n        [e.target.name]: parseInt(e.target.value),\n      });\n      return;\n    }\n    setCliente({\n      ...cliente,\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  return (\n    <Fragment>\n      <Box my={3}>\n        <Alert severity=\"info\">\n          Si deseas hacer facturas a este cliente el <b>RFC</b> y la{\" \"}\n          <b>Razon social</b> son obligatorios.\n        </Alert>\n      </Box>\n      <Grid container spacing={2}>\n        <Grid item md={6} xs={12}>\n          <Typography className={classes.title}>RFC</Typography>\n          <TextField\n            fullWidth\n            size=\"small\"\n            name=\"rfc\"\n            variant=\"outlined\"\n            value={cliente.rfc ? cliente.rfc : \"\"}\n            onChange={obtenerCampos}\n          />\n        </Grid>\n        <Grid item md={6} xs={12}>\n          <Typography className={classes.title}>Razon social</Typography>\n          <TextField\n            fullWidth\n            size=\"small\"\n            name=\"razon_social\"\n            variant=\"outlined\"\n            value={\n              cliente.razon_social ? cliente.razon_social : \"\"\n            }\n            onChange={obtenerCampos}\n          />\n        </Grid>\n        <Grid item md={4} xs={12}>\n          <Typography className={classes.title}>Descuento</Typography>\n          <TextField\n            fullWidth\n            size=\"small\"\n            name=\"numero_descuento\"\n            variant=\"outlined\"\n            value={cliente.numero_descuento ? cliente.numero_descuento : \"\"}\n            onChange={obtenerCampos}\n          />\n        </Grid>\n        <Grid item md={4} xs={12}>\n          <Typography className={classes.title}>Limite de crédito</Typography>\n          <TextField\n            fullWidth\n            size=\"small\"\n            name=\"limite_credito\"\n            variant=\"outlined\"\n            value={cliente.limite_credito ? cliente.limite_credito : \"\"}\n            onChange={obtenerCampos}\n          />\n        </Grid>\n        <Grid item md={4} xs={12}>\n          <Typography className={classes.title}>Días de crédito</Typography>\n          <TextField\n            fullWidth\n            size=\"small\"\n            name=\"dias_credito\"\n            variant=\"outlined\"\n            value={\n              cliente.dias_credito ? cliente.dias_credito : \"\"\n            }\n            onChange={obtenerCampos}\n          />\n        </Grid>\n      </Grid>\n      {tipo !== \"CLIENTE\" ? (\n        <Fragment>\n          <Box my={3}>\n            <Typography className={classes.title}>\n              Datos bancarios\n            </Typography>\n            <Divider />\n          </Box>\n          <Grid container spacing={2}>\n            <Grid item md={6} xs={12}>\n              <Typography className={classes.title}>Banco</Typography>\n              <TextField\n                fullWidth\n                size=\"small\"\n                name=\"banco\"\n                variant=\"outlined\"\n                value={cliente.banco ? cliente.banco : \"\"}\n                onChange={obtenerCampos}\n              />\n            </Grid>\n            <Grid item md={6} xs={12}>\n              <Typography className={classes.title}>\n                No. de Cuenta Bancaria\n              </Typography>\n              <TextField\n                fullWidth\n                size=\"small\"\n                name=\"numero_cuenta\"\n                variant=\"outlined\"\n                value={cliente.numero_cuenta ? cliente.numero_cuenta : \"\"}\n                onChange={obtenerCampos}\n              />\n            </Grid>\n          </Grid>\n        </Fragment>\n      ) : null}\n    </Fragment>\n  );\n}\n","import { gql } from '@apollo/client';\n\nexport const CREAR_CLIENTE = gql`\n\tmutation crearCliente($input: CrearClienteInput) {\n\t\tcrearCliente(input: $input) {\n\t\t\t_id\n\t\t\tnumero_cliente\n\t\t\tclave_cliente\n\t\t\trepresentante\n\t\t\tnombre_cliente\n\t\t\trfc\n\t\t\tcurp\n\t\t\ttelefono\n\t\t\tcelular\n\t\t\temail\n\t\t\tnumero_descuento\n\t\t\tlimite_credito\n\t\t\tdias_credito\n\t\t\trazon_social\n\t\t\tdireccion {\n\t\t\t\tcalle\n\t\t\t\tno_ext\n\t\t\t\tno_int\n\t\t\t\tcodigo_postal\n\t\t\t\tcolonia\n\t\t\t\tmunicipio\n\t\t\t\tlocalidad\n\t\t\t\testado\n\t\t\t\tpais\n\t\t\t}\n\t\t\timagen\n\t\t\testado_cliente\n\t\t\ttipo_cliente\n\t\t}\n\t}\n`;\n\nexport const OBTENER_CLIENTES = gql`\n\tquery obtenerClientes($tipo: String!, $filtro: String) {\n\t\tobtenerClientes(tipo: $tipo, filtro: $filtro) {\n\t\t\t_id\n\t\t\tnumero_cliente\n\t\t\tclave_cliente\n\t\t\trepresentante\n\t\t\tnombre_cliente\n\t\t\trfc\n\t\t\tcurp\n\t\t\ttelefono\n\t\t\tcelular\n\t\t\temail\n\t\t\tnumero_descuento\n\t\t\tlimite_credito\n\t\t\tdias_credito\n\t\t\trazon_social\n\t\t\tdireccion {\n\t\t\t\tcalle\n\t\t\t\tno_ext\n\t\t\t\tno_int\n\t\t\t\tcodigo_postal\n\t\t\t\tcolonia\n\t\t\t\tmunicipio\n\t\t\t\tlocalidad\n\t\t\t\testado\n\t\t\t\tpais\n\t\t\t}\n\t\t\timagen\n\t\t\testado_cliente\n\t\t\ttipo_cliente\n\t\t\tbanco\n\t\t\tnumero_cuenta\n\t\t\tempresa {\n\t\t\t\t_id\n\t\t\t\tnombre_empresa\n\t\t\t\tcorreo_empresa\n\t\t\t\tnombre_dueno\n\t\t\t\ttelefono_dueno\n\t\t\t\tsucursales_activas\n\t\t\t\tlimite_sucursales\n\t\t\t}\n\t\t\tsucursal {\n\t\t\t\t_id\n\t\t\t\tnombre_sucursal\n\t\t\t\tdescripcion\n\t\t\t}\n\t\t\tmonedero_electronico\n\t\t\tfecha_nacimiento\n    \t\tfecha_registro\n\t\t\teliminado\n\t\t}\n\t}\n`;\n\nexport const ACTUALIZAR_CLIENTE = gql`\n\tmutation actualizarCliente($input: ActualizarClienteInput, $id: ID!) {\n\t\tactualizarCliente(id: $id, input: $input) {\n\t\t\tmessage\n\t\t}\n\t}\n`;\nexport const ELIMINAR_CLIENTE = gql`\n\tmutation eliminarCliente($id: ID!) {\n\t\teliminarCliente(id: $id) {\n\t\t\tmessage\n\t\t}\n\t}\n`;\n","import React, { useState, Fragment, useContext, useCallback } from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport Box from \"@material-ui/core/Box\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Divider from \"@material-ui/core/Divider\";\nimport Container from \"@material-ui/core/Container\";\nimport RegistrarInfoBasica from \"./RegistrarInfoBasica\";\nimport RegistrarInfoCredito from \"./RegistroInfoCredito\";\nimport { Add, Close, Done, Edit } from \"@material-ui/icons\";\nimport { ClienteCtx } from \"../../../../context/Catalogos/crearClienteCtx\";\n// import { VentasContext } from \"../../../../context/Ventas/ventasContext\";\nimport BackdropComponent from \"../../../../components/Layouts/BackDrop\";\nimport SnackBarMessages from \"../../../../components/SnackBarMessages\";\n\nimport { useMutation } from \"@apollo/client\";\nimport {\n  CREAR_CLIENTE,\n  ACTUALIZAR_CLIENTE,\n} from \"../../../../gql/Catalogos/clientes\";\nimport { Toolbar } from \"@material-ui/core\";\n\nexport default function CrearCliente({\n  tipo,\n  accion,\n  datos,\n  refetch,\n  ventas,\n  handleClickOpen,\n}) {\n  const {\n    cliente,\n    setCliente,\n    setError,\n    update,\n    setUpdate,\n    updateClientVenta,\n    setUpdateClientVenta,\n  } = useContext(ClienteCtx);\n  const [open, setOpen] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [alert, setAlert] = useState({ message: \"\", status: \"\", open: false });\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n\n  const limpiarCampos = useCallback(() => {\n    setCliente({\n      direccion: {\n        calle: \"\",\n        no_ext: \"\",\n        no_int: \"\",\n        codigo_postal: \"\",\n        colonia: \"\",\n        municipio: \"\",\n        localidad: \"\",\n        estado: \"\",\n        pais: \"\",\n      },\n      estado_cliente: true,\n    });\n  }, [setCliente]);\n\n  const toggleModal = () => {\n    setOpen(true);\n    if (datos) {\n      setCliente(datos);\n    }\n  };\n\n  const onCloseModal = () => {\n    setOpen(false);\n    limpiarCampos();\n  };\n\n  /* Mutations */\n  const [crearCliente] = useMutation(CREAR_CLIENTE);\n  const [actualizarCliente] = useMutation(ACTUALIZAR_CLIENTE);\n\n  const saveData = async () => {\n    let copy_cliente = { ...cliente };\n    if (\n      !copy_cliente.clave_cliente ||\n      !copy_cliente.nombre_cliente ||\n      !copy_cliente.telefono ||\n      !copy_cliente.email ||\n      !copy_cliente.direccion.calle ||\n      !copy_cliente.direccion.municipio ||\n      !copy_cliente.direccion.estado ||\n      !copy_cliente.direccion.pais\n    ) {\n      if (tipo !== \"CLIENTE\" && !copy_cliente.representante) {\n        setError(true);\n        return;\n      }\n      setError(true);\n      return;\n    }\n    setLoading(true);\n    try {\n      if (accion === \"registrar\") {\n        copy_cliente.tipo_cliente = tipo;\n        copy_cliente.empresa = sesion.empresa._id;\n        copy_cliente.sucursal = sesion.sucursal._id;\n        if (tipo === \"CLIENTE\") {\n          copy_cliente.representante = \"\";\n        }\n        const input = copy_cliente;\n        const clienteBase = await crearCliente({\n          variables: {\n            input,\n          },\n        });\n\n        if (ventas === true) {\n          const venta = JSON.parse(localStorage.getItem(\"DatosVentas\"));\n          let venta_actual = venta === null ? {} : venta;\n          // console.log(venta_actual);\n          localStorage.setItem(\n            \"DatosVentas\",\n            JSON.stringify({\n              subTotal:\n                venta_actual.subTotal === undefined ? 0 : venta_actual.subTotal,\n              total: venta_actual.total === undefined ? 0 : venta_actual.total,\n              impuestos:\n                venta_actual.impuestos === undefined\n                  ? 0\n                  : venta_actual.impuestos,\n              iva: venta_actual.iva === undefined ? 0 : venta_actual.iva,\n              ieps: venta_actual.ieps === undefined ? 0 : venta_actual.ieps,\n              descuento:\n                venta_actual.descuento === undefined\n                  ? 0\n                  : venta_actual.descuento,\n              monedero:\n                venta_actual.monedero === undefined ? 0 : venta_actual.monedero,\n              tipo_cambio: venta_actual.tipo_cambio\n                ? venta_actual.tipo_cambio\n                : {},\n              cliente: clienteBase.data.crearCliente,\n              venta_cliente: true,\n              productos:\n                venta_actual.productos?.length > 0\n                  ? venta_actual.productos\n                  : [],\n            })\n          );\n          setUpdateClientVenta(!updateClientVenta);\n          onCloseModal();\n          handleClickOpen();\n        }\n      } else {\n        const {\n          numero_cliente,\n          _id,\n          clave_cliente,\n          sucursal,\n          empresa,\n          ...input\n        } = copy_cliente;\n        await actualizarCliente({\n          variables: {\n            input: input,\n            id: copy_cliente._id,\n          },\n        });\n      }\n      if (refetch) {\n        refetch();\n      }\n      setUpdate(!update);\n      setAlert({ message: \"¡Listo!\", status: \"success\", open: true });\n      setError(false);\n      setLoading(false);\n      onCloseModal();\n    } catch (error) {\n      setAlert({ message: error.message, status: \"error\", open: true });\n      setLoading(false);\n      console.log(error);\n      if (error.networkError) {\n        console.log(error.networkError.result);\n      } else if (error.graphQLErrors) {\n        console.log(error.graphQLErrors);\n      }\n    }\n  };\n\n  return (\n    <Fragment>\n      <SnackBarMessages alert={alert} setAlert={setAlert} />\n      {accion === \"registrar\" ? (\n        refetch ? (\n          <IconButton color=\"primary\" onClick={toggleModal}>\n            <Add />\n          </IconButton>\n        ) : (\n          <Button\n            color=\"primary\"\n            variant=\"contained\"\n            size=\"large\"\n            onClick={toggleModal}\n            startIcon={<Add />}\n          >\n            Agregar\n          </Button>\n        )\n      ) : (\n        <IconButton onClick={toggleModal}>\n          <Edit />\n        </IconButton>\n      )}\n      <Dialog open={open} onClose={onCloseModal} fullWidth maxWidth=\"md\">\n        <DialogTitle style={{ padding: 0 }}>\n          <BackdropComponent loading={loading} setLoading={setLoading} />\n          <AppBar position=\"static\" color=\"default\" elevation={0}>\n            <Toolbar>\n              <Typography variant=\"h6\">{accion === \"registrar\" ? \"Registrar\" : \"Actualizar\"}</Typography>\n              <Box flexGrow={1} />\n              <Button\n                variant=\"contained\"\n                color=\"secondary\"\n                size=\"large\"\n                onClick={() => onCloseModal()}\n              >\n                <Close />\n              </Button>\n            </Toolbar>\n          </AppBar>\n        </DialogTitle>\n        <DialogContent>\n          <Container>\n            <Typography>\n              <b>Información básica</b>\n            </Typography>\n            <Divider />\n            <RegistrarInfoBasica tipo={tipo} accion={accion} />\n            <Box my={2} />\n            <Typography>\n              <b>Información de credito</b>\n            </Typography>\n            <Divider />\n            <RegistrarInfoCredito tipo={tipo} accion={accion} />\n          </Container>\n        </DialogContent>\n        <DialogActions>\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={saveData}\n            size=\"large\"\n            startIcon={<Done />}\n          >\n            Guardar\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </Fragment>\n  );\n}\n","import { gql } from \"@apollo/client\";\n\nexport const CREAR_COMPRA = gql`\n  mutation crearCompra(\n    $input: CrearCompraInput\n    $empresa: ID!\n    $sucursal: ID!\n    $usuario: ID!\n  ) {\n    crearCompra(\n      input: $input\n      empresa: $empresa\n      sucursal: $sucursal\n      usuario: $usuario\n    ) {\n      message\n    }\n  }\n`;\n\nexport const CREAR_COMPRA_ESPERA = gql`\n  mutation crearCompraEnEspera(\n    $input: CrearCompraInput\n    $empresa: ID!\n    $sucursal: ID!\n    $usuario: ID!\n  ) {\n    crearCompraEnEspera(\n      input: $input\n      empresa: $empresa\n      sucursal: $sucursal\n      usuario: $usuario\n    ) {\n      message\n    }\n  }\n`;\n\nexport const OBTENER_COMPRAS_REALIZADAS = gql`\n  query obtenerComprasRealizadas(\n    $empresa: ID!\n    $sucursal: ID!\n    $filtro: String\n    $fecha: String\n  ) {\n    obtenerComprasRealizadas(\n      empresa: $empresa\n      sucursal: $sucursal\n      filtro: $filtro\n      fecha: $fecha\n    ) {\n      _id\n      usuario {\n        _id\n        numero_usuario\n        nombre\n        estado_usuario\n      }\n      empresa {\n        _id\n        nombre_empresa\n      }\n      sucursal {\n        _id\n        nombre_sucursal\n      }\n      proveedor {\n        id_proveedor {\n          _id\n          numero_cliente\n          clave_cliente\n          nombre_cliente\n          telefono\n          email\n        }\n        numero_cliente\n        clave_cliente\n        nombre_cliente\n      }\n      productos {\n        _id\n        id_compra\n        id_traspaso\n        id_producto\n        producto {\n          almacen_inicial {\n            almacen\n            cantidad\n            fecha_de_expiracion\n            id_almacen\n          }\n          datos_generales {\n            codigo_barras\n            clave_alterna\n            tipo_producto\n            nombre_comercial\n            nombre_generico\n            descripcion\n            id_categoria\n            categoria\n            subcategoria\n            id_subcategoria\n            id_departamento\n            departamento\n            id_marca\n            marca\n            clave_producto_sat {\n              Name\n              Value\n            }\n            receta_farmacia\n          }\n          precios {\n            ieps\n            ieps_activo\n            iva\n            iva_activo\n            monedero\n            monedero_electronico\n            granel\n            inventario {\n              inventario_minimo\n              inventario_maximo\n              unidad_de_inventario\n            }\n            precio_de_compra {\n              precio_con_impuesto\n              precio_sin_impuesto\n              iva\n              ieps\n            }\n            precios_producto {\n              numero_precio\n              precio_neto\n              precio_venta\n              unidad_mayoreo\n              utilidad\n            }\n            unidad_de_compra {\n              cantidad\n              precio_unitario_con_impuesto\n              precio_unitario_sin_impuesto\n              unidad\n            }\n          }\n          unidades_de_venta {\n            _id\n            cantidad\n            codigo_barras\n            id_producto\n            precio\n            unidad\n            unidad_principal\n          }\n        }\n        concepto\n        cantidad\n        cantidad_regalo\n        cantidad_total\n        costo\n        descuento_porcentaje\n        descuento_precio\n        impuestos\n        mantener_precio\n        subtotal\n        total\n        medida {\n          id_medida\n          medida\n          tipo\n        }\n        color {\n          id_color\n          color\n          hex\n        }\n        unidad\n        id_unidad_venta\n        empresa\n        sucursal\n        usuario\n        year_registro\n        numero_semana_year\n        numero_mes_year\n        fecha_registro\n      }\n      almacen {\n        id_almacen {\n          _id\n          nombre_almacen\n          id_usuario_encargado {\n            _id\n            numero_usuario\n            nombre\n          }\n        }\n        nombre_almacen\n      }\n      compra_credito\n      credito_pagado\n      saldo_credito_pendiente\n      fecha_vencimiento_credito\n      subtotal\n      impuestos\n      total\n      year_registro\n      numero_semana_year\n      numero_mes_year\n      fecha_registro\n    }\n  }\n`;\n\nexport const OBTENER_COMPRAS_ESPERA = gql`\n  query obtenerComprasEnEspera($empresa: ID!, $sucursal: ID!, $filtro: String) {\n    obtenerComprasEnEspera(\n      empresa: $empresa\n      sucursal: $sucursal\n      filtro: $filtro\n    ) {\n      _id\n      en_espera\n      proveedor {\n        id_proveedor\n        clave_cliente\n        numero_cliente\n        nombre_cliente\n      }\n      almacen {\n        id_almacen\n        nombre_almacen\n      }\n      productos {\n        producto {\n          almacen_inicial {\n            almacen\n            cantidad\n            fecha_de_expiracion\n            id_almacen\n          }\n          datos_generales {\n            codigo_barras\n            clave_alterna\n            tipo_producto\n            nombre_comercial\n            nombre_generico\n            descripcion\n            id_categoria\n            categoria\n            subcategoria\n            id_subcategoria\n            id_departamento\n            departamento\n            id_marca\n            marca\n            clave_producto_sat {\n              Name\n              Value\n            }\n            receta_farmacia\n          }\n          precios {\n            ieps\n            ieps_activo\n            iva\n            iva_activo\n            monedero\n            monedero_electronico\n            precio_de_compra {\n              ieps\n              iva\n              precio_con_impuesto\n              precio_sin_impuesto\n            }\n            precios_producto {\n              numero_precio\n              precio_neto\n              precio_venta\n              iva_precio\n              ieps_precio\n              utilidad\n              precio_general\n              cantidad_unidad\n              unidad_maxima\n            }\n            unidad_de_compra {\n              cantidad\n              precio_unitario_con_impuesto\n              precio_unitario_sin_impuesto\n              unidad\n            }\n            inventario {\n              inventario_minimo\n              inventario_maximo\n              unidad_de_inventario\n            }\n            granel\n          }\n          imagenes {\n            url_imagen\n            location_imagen\n            key_imagen\n            extencion_imagen\n          }\n          centro_de_costos {\n            cuenta\n            id_cuenta\n            id_subcuenta\n            subcuenta\n          }\n          precio_plazos {\n            precio_cajas {\n              plazo\n              unidad\n              precio\n            }\n            precio_costales {\n              plazo\n              unidad\n              precio\n            }\n            precio_piezas {\n              plazo\n              unidad\n              precio\n            }\n          }\n          empresa\n          sucursal\n          usuario\n          unidades_de_venta {\n            _id\n            precio\n            cantidad\n            unidad\n            unidad_principal\n            codigo_barras\n            id_producto\n            descuento {\n              cantidad_unidad\n              numero_precio\n              unidad_maxima\n              precio_general\n              precio_neto\n              precio_venta\n              iva_precio\n              ieps_precio\n              utilidad\n              porciento\n              dinero_descontado\n            }\n            descuento_activo\n            default\n            precio_unidad {\n              numero_precio\n              precio_neto\n              precio_venta\n              iva_precio\n              unidad_mayoreo\n              utilidad\n              precio_general\n              cantidad_unidad\n              unidad_maxima\n            }\n          }\n          presentaciones {\n            _id\n            almacen\n            cantidad\n            cantidad_nueva\n            codigo_barras\n            color {\n              hex\n              nombre\n              _id\n            }\n            descuento {\n              cantidad_unidad\n              numero_precio\n              unidad_maxima\n              precio_general\n              precio_neto\n              precio_venta\n              iva_precio\n              ieps_precio\n              utilidad\n              porciento\n              dinero_descontado\n            }\n            descuento_activo\n            existencia\n            medida {\n              talla\n              tipo\n              _id\n            }\n            nombre_comercial\n            precio\n            precio_unidad {\n              numero_precio\n              precio_neto\n              precio_venta\n              iva_precio\n              unidad_mayoreo\n              utilidad\n              precio_general\n              cantidad_unidad\n              unidad_maxima\n            }\n          }\n        }\n        id_producto\n        cantidad\n        cantidad_regalo\n        unidad_regalo\n        cantidad_total\n        iva_total\n        ieps_total\n        costo\n        descuento_porcentaje\n        descuento_precio\n        impuestos\n        mantener_precio\n        subtotal\n        total\n        subtotal_descuento\n        total_descuento\n      }\n      impuestos\n      subtotal\n      total\n      fecha_registro\n    }\n  }\n`;\n\nexport const OBTENER_CONSULTA_GENERAL_PRODUCTO = gql`\n  query obtenerConsultaGeneralCompras($empresa: ID!, $sucursal: ID!) {\n    obtenerConsultaGeneralCompras(empresa: $empresa, sucursal: $sucursal) {\n      productos {\n        _id\n        datos_generales {\n          codigo_barras\n          clave_alterna\n          tipo_producto\n          nombre_comercial\n          nombre_generico\n          descripcion\n          descripcion\n          id_categoria\n          categoria\n          subcategoria\n          id_subcategoria\n          id_departamento\n          departamento\n          id_marca\n          marca\n          clave_producto_sat {\n            Name\n            Value\n          }\n          receta_farmacia\n        }\n        precios {\n          ieps\n          ieps_activo\n          inventario {\n            inventario_minimo\n            inventario_maximo\n            unidad_de_inventario\n          }\n          iva\n          iva_activo\n          monedero\n          monedero_electronico\n          precio_de_compra {\n            precio_con_impuesto\n            precio_sin_impuesto\n            iva\n            ieps\n          }\n          precios_producto {\n            numero_precio\n            precio_neto\n            precio_venta\n            unidad_mayoreo\n            utilidad\n          }\n          unidad_de_compra {\n            cantidad\n            precio_unitario_con_impuesto\n            precio_unitario_sin_impuesto\n            unidad\n          }\n          granel\n        }\n        imagenes {\n          url_imagen\n          location_imagen\n          key_imagen\n          extencion_imagen\n        }\n        centro_de_costos {\n          cuenta\n          id_cuenta\n          id_subcuenta\n          subcuenta\n        }\n        precio_plazos {\n          precio_cajas {\n            plazo\n            unidad\n            precio\n          }\n          precio_costales {\n            plazo\n            unidad\n            precio\n          }\n          precio_piezas {\n            plazo\n            unidad\n            precio\n          }\n        }\n        unidades_de_venta {\n          _id\n          precio\n          cantidad\n          concepto\n          unidad\n          unidad_principal\n          codigo_barras\n          id_producto\n          empresa\n          sucursal\n          descuento {\n            cantidad_unidad\n            numero_precio\n            unidad_maxima\n            precio_general\n            precio_neto\n            precio_venta\n            iva_precio\n            ieps_precio\n            utilidad\n            porciento\n            dinero_descontado\n          }\n          descuento_activo\n          default\n        }\n        inventario_general {\n          _id\n          cantidad_existente\n          unidad_inventario\n          cantidad_existente_maxima\n          unidad_maxima\n        }\n        medidas_producto {\n          _id\n          cantidad\n          codigo_barras\n          color {\n            hex\n            nombre\n            _id\n          }\n          existencia\n          medida {\n            talla\n            tipo\n            _id\n          }\n          nombre_comercial\n          precio\n        }\n        medidas_registradas\n        empresa\n        sucursal\n        usuario\n      }\n      proveedores {\n        _id\n        numero_cliente\n        clave_cliente\n        representante\n        nombre_cliente\n        rfc\n        curp\n        telefono\n        celular\n        email\n        numero_descuento\n        limite_credito\n        dias_credito\n        razon_social\n        direccion {\n          calle\n          no_ext\n          no_int\n          codigo_postal\n          colonia\n          municipio\n          localidad\n          estado\n          pais\n        }\n        imagen\n        estado_cliente\n        tipo_cliente\n        banco\n        numero_cuenta\n        empresa {\n          _id\n        }\n        sucursal {\n          _id\n        }\n      }\n      almacenes {\n        _id\n        nombre_almacen\n        id_usuario_encargado {\n          _id\n          numero_usuario\n          nombre\n          email\n          imagen\n          estado_usuario\n        }\n        id_sucursal {\n          _id\n          nombre_sucursal\n          usuario_sucursal\n        }\n        direccion {\n          calle\n          no_ext\n          no_int\n          codigo_postal\n          colonia\n          municipio\n          localidad\n          estado\n          pais\n        }\n      }\n    }\n  }\n`;\n\nexport const ELIMINAR_COMPRA_ESPERA = gql`\n  mutation eliminarCompraEnEspera($id: ID!) {\n    eliminarCompraEnEspera(id: $id) {\n      message\n    }\n  }\n`;\n","import { initial_state_precios } from \"../../../../context/Catalogos/initialStatesProducto\";\nimport moment from 'moment';\n\nexport const initial_state_datosProducto = {\n  producto: {},\n  costo: 0,\n  cantidad: 0,\n  cantidad_regalo: 0,\n  unidad_regalo: '',\n  cantidad_total: 0,\n  descuento_porcentaje: 0,\n  descuento_precio: 0,\n  iva_total: 0,\n  ieps_total: 0,\n  subtotal: 0,\n  impuestos: 0,\n  total: 0,\n  mantener_precio: true,\n  subtotal_descuento: 0,\n  total_descuento: 0,\n};\n\nexport const initial_state_datosCompra = {\n  productos: [],\n    proveedor: {},\n    en_espera: false,\n    fecha_registro: moment().locale(\"es-mx\").format(),\n    almacen: {},\n    compra_credito: false,\n    fecha_vencimiento_credito: moment().locale(\"es-mx\").format(),\n    credito_pagado: false,\n    saldo_credito_pendiente: 0,\n    forma_pago: \"\",\n    descuento_aplicado: false,\n    descuento: {\n      porcentaje: 0,\n      cantidad_descontada: 0,\n      precio_con_descuento: 0\n    },\n    subtotal: 0,\n    impuestos: 0,\n    total: 0,\n};\n\nexport const initial_state_precios_venta = [\n  {\n    numero_precio: 1,\n    utilidad: 0,\n    precio_neto: 0,\n    unidad_mayoreo: 0,\n    precio_venta: 0,\n    iva_precio: 0,\n    ieps_precio: 0,\n  },\n  {\n    numero_precio: 2,\n    utilidad: 0,\n    precio_neto: 0,\n    unidad_mayoreo: 0,\n    precio_venta: 0,\n    iva_precio: 0,\n    ieps_precio: 0,\n  },\n  {\n    numero_precio: 3,\n    utilidad: 0,\n    precio_neto: 0,\n    unidad_mayoreo: 0,\n    precio_venta: 0,\n    iva_precio: 0,\n    ieps_precio: 0,\n  },\n  {\n    numero_precio: 4,\n    utilidad: 0,\n    precio_neto: 0,\n    unidad_mayoreo: 0,\n    precio_venta: 0,\n    iva_precio: 0,\n    ieps_precio: 0,\n  },\n  {\n    numero_precio: 5,\n    utilidad: 0,\n    precio_neto: 0,\n    unidad_mayoreo: 0,\n    precio_venta: 0,\n    iva_precio: 0,\n    ieps_precio: 0,\n  },\n  {\n    numero_precio: 6,\n    utilidad: 0,\n    precio_neto: 0,\n    unidad_mayoreo: 0,\n    precio_venta: 0,\n    iva_precio: 0,\n    ieps_precio: 0,\n  },\n];\n\nexport const initial_state_productoOriginal = {\n  precios: initial_state_precios,\n};\nexport const initial_state_productosCompra = [];\n","import React, { Fragment, useContext } from \"react\";\nimport {\n  Box,\n  CircularProgress,\n  Grid,\n  IconButton,\n  TextField,\n} from \"@material-ui/core\";\nimport { Autocomplete } from \"@material-ui/lab\";\nimport { ClienteProvider } from \"../../../../../context/Catalogos/crearClienteCtx\";\nimport { AlmacenProvider } from \"../../../../../context/Almacenes/crearAlmacen\";\nimport { ComprasContext } from \"../../../../../context/Compras/comprasContext\";\nimport RegistroProvedor from \"../../../Catalogos/Cliente/CrearCliente\";\nimport RegistroAlmacen from \"../../../Almacenes/RegistroAlmacen/ContainerRegistroAlmacen\";\nimport { RegProductoContext } from \"../../../../../context/Catalogos/CtxRegProducto\";\n\nimport { useQuery } from \"@apollo/client\";\nimport { OBTENER_CONSULTA_GENERAL_PRODUCTO } from \"../../../../../gql/Compras/compras\";\nimport { ErrorOutline } from \"@material-ui/icons\";\nimport { initial_state_datosProducto } from \"../initial_states\";\nimport {\n  initial_state_almacen_inicial,\n  initial_state_datos_generales,\n  initial_state_precios,\n  initial_state_preciosP,\n  initial_state_preciosPlazos,\n  initial_state_unidadVentaXDefecto,\n} from \"../../../../../context/Catalogos/initialStatesProducto\";\n\nexport default function DatosProveedorAlmacen({\n  refetchProductos,\n  getProductos,\n  status,\n}) {\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n  const {\n    datosCompra,\n    setDatosCompra,\n    setDatosProducto,\n    productosCompra,\n  } = useContext(ComprasContext);\n\n  const {\n    setDatosGenerales,\n    setPrecios,\n    setValidacion,\n    setPreciosP,\n    setImagenes,\n    setUnidadesVenta,\n    almacen_inicial,\n    setAlmacenInicial,\n    setUnidadVentaXDefecto,\n    setCentroDeCostos,\n    setPreciosPlazos,\n    setSubcategorias,\n    setOnPreview,\n    setSubcostos,\n    setImagenesEliminadas,\n    setPresentaciones,\n    setPresentacionesEliminadas,\n  } = useContext(RegProductoContext);\n\n  /* Queries */\n  const { loading, data, error, refetch } = useQuery(\n    OBTENER_CONSULTA_GENERAL_PRODUCTO,\n    {\n      variables: { sucursal: sesion.sucursal._id, empresa: sesion.empresa._id },\n    }\n  );\n\n  const obtenerProveedorAlmacen = (tipo, value) => {\n    if (!value) {\n      setDatosCompra({ ...datosCompra, [tipo]: {} });\n      return;\n    }\n    if (tipo === \"proveedor\") {\n      setDatosCompra({\n        ...datosCompra,\n        proveedor: {\n          id_proveedor: value._id,\n          nombre_cliente: value.nombre_cliente,\n          numero_cliente: value.numero_cliente,\n          clave_cliente: value.clave_cliente,\n        },\n      });\n    } else {\n      setDatosProducto(initial_state_datosProducto);\n      resetInitialStates();\n      setDatosCompra({\n        ...datosCompra,\n        almacen: {\n          id_almacen: value._id,\n          nombre_almacen: value.nombre_almacen,\n        },\n      });\n      setAlmacenInicial({\n        ...almacen_inicial,\n        id_almacen: value._id,\n        almacen: value.nombre_almacen,\n      });\n      getProductos({\n        variables: {\n          almacen: value._id,\n          empresa: sesion.empresa._id,\n          sucursal: sesion.sucursal._id,\n        },\n      });\n    }\n  };\n\n  const resetInitialStates = () => {\n    setDatosGenerales(initial_state_datos_generales);\n    setPrecios(initial_state_precios);\n    setUnidadVentaXDefecto(initial_state_unidadVentaXDefecto);\n    setPreciosP(initial_state_preciosP);\n    setUnidadesVenta([]);\n    setAlmacenInicial(initial_state_almacen_inicial);\n    setCentroDeCostos({});\n    setPreciosPlazos(initial_state_preciosPlazos);\n    setSubcategorias([]);\n    setImagenes([]);\n    setOnPreview({ index: \"\", image: \"\" });\n    setValidacion({ error: false, message: \"\" });\n    setSubcostos([]);\n    setImagenesEliminadas([]);\n    setPresentaciones([]);\n    setPresentacionesEliminadas([]);\n  };\n\n  const errorRender = (\n    <Grid item xs={12} md={4}>\n      <Box display=\"flex\" alignItems=\"center\">\n        <TextField\n          size=\"small\"\n          fullWidth\n          value=\"Error\"\n          error\n          disabled\n          variant=\"outlined\"\n        />\n        <IconButton disabled>\n          <ErrorOutline fontSize=\"default\" />\n        </IconButton>\n      </Box>\n    </Grid>\n  );\n\n  const loadingRender = (\n    <Grid item xs={12} md={4}>\n      <Box display=\"flex\" alignItems=\"center\">\n        <TextField\n          size=\"small\"\n          fullWidth\n          disabled\n          value=\"Cargando...\"\n          variant=\"outlined\"\n        />\n        <IconButton disabled>\n          <CircularProgress size={24} />\n        </IconButton>\n      </Box>\n    </Grid>\n  );\n\n  if (loading)\n    return (\n      <Grid container spacing={2} alignItems=\"center\">\n        {loadingRender}\n        {loadingRender}\n        {loadingRender}\n      </Grid>\n    );\n  if (error) {\n    return (\n      <Fragment>\n        <Grid container spacing={2} alignItems=\"center\">\n          {errorRender}\n          {errorRender}\n          {errorRender}\n        </Grid>\n      </Fragment>\n    );\n  }\n\n  const { almacenes, proveedores } = data.obtenerConsultaGeneralCompras;\n\n  return (\n    <Fragment>\n      <Grid container spacing={2} alignItems=\"center\">\n        <Grid item xs={12} md={4}>\n          <Box display=\"flex\" alignItems=\"center\">\n            <Autocomplete\n              disabled={productosCompra.length > 0}\n              id=\"combo-box-proveedor\"\n              size=\"small\"\n              fullWidth\n              options={proveedores}\n              getOptionLabel={(option) => option.nombre_cliente}\n              renderInput={(params) => (\n                <TextField {...params} label=\"Proveedor\" variant=\"outlined\" />\n              )}\n              onChange={(_, value) =>\n                obtenerProveedorAlmacen(\"proveedor\", value)\n              }\n              getOptionSelected={(option) => option.nombre_cliente}\n              value={\n                datosCompra.proveedor.nombre_cliente\n                  ? datosCompra.proveedor\n                  : null\n              }\n            />\n            <ClienteProvider>\n              <RegistroProvedor\n                accion=\"registrar\"\n                tipo=\"PROVEEDOR\"\n                refetch={refetch}\n              />\n            </ClienteProvider>\n          </Box>\n        </Grid>\n        <Grid item xs={12} md={4}>\n          <Box display=\"flex\" alignItems=\"center\">\n            <Autocomplete\n              disabled={productosCompra.length > 0}\n              id=\"combo-box-almacen\"\n              size=\"small\"\n              fullWidth\n              options={almacenes}\n              getOptionLabel={(option) => option.nombre_almacen}\n              renderInput={(params) => (\n                <TextField {...params} label=\"Almacen\" variant=\"outlined\" />\n              )}\n              onChange={(_, value) => obtenerProveedorAlmacen(\"almacen\", value)}\n              getOptionSelected={(option) => option.nombre_almacen}\n              value={\n                datosCompra.almacen.nombre_almacen ? datosCompra.almacen : null\n              }\n            />\n            <AlmacenProvider>\n              <RegistroAlmacen accion=\"registrar\" refetch={refetch} />\n            </AlmacenProvider>\n          </Box>\n        </Grid>\n        <Grid item xs={12} md={4}>\n          <Box display=\"flex\" alignItems=\"center\">\n            <TextField\n              fullWidth\n              size=\"small\"\n              variant=\"outlined\"\n              type=\"date\"\n              onChange={(e) => {\n                console.log(e.target.value);\n                setDatosCompra({\n                  ...datosCompra,\n                  fecha_registro: e.target.value,\n                });\n              }}\n              value={datosCompra.fecha_registro}\n            />\n          </Box>\n        </Grid>\n      </Grid>\n    </Fragment>\n  );\n}\n","import { Grid, Typography } from \"@material-ui/core\";\nimport React, { useContext } from \"react\";\nimport { formatoMexico } from \"../../../../../config/reuserFunctions\";\nimport { RegProductoContext } from \"../../../../../context/Catalogos/CtxRegProducto\";\nimport { ComprasContext } from \"../../../../../context/Compras/comprasContext\";\n\nexport default function MostrarPrecios() {\n  const { datosProducto } = useContext(ComprasContext);\n  const { presentaciones } = useContext(RegProductoContext);\n\n  if (presentaciones.length > 0) {\n    let cantida_suma = 0;\n    let cantidad_total = 0;\n    presentaciones.forEach((presentacion) => {\n      const { cantidad, cantidad_nueva } = presentacion;\n      let nueva = cantidad_nueva ? cantidad_nueva : 0;\n\n      cantida_suma += cantidad + nueva;\n    });\n    if (isNaN(cantida_suma)) cantidad_total = 0;\n    cantidad_total = cantida_suma; \n\n    return (\n      <Grid container spacing={2}>\n        <Grid item>\n          <Typography style={{ fontSize: 16 }}>Subtotal:</Typography>\n          <Typography style={{ fontSize: 18 }}>\n            <b>${formatoMexico(datosProducto.subtotal_descuento * cantidad_total)}</b>\n          </Typography>\n        </Grid>\n        <Grid item>\n          <Typography style={{ fontSize: 16 }}>Impuestos:</Typography>\n          <Typography style={{ fontSize: 18 }}>\n            <b>${formatoMexico(datosProducto.impuestos * cantidad_total)}</b>\n          </Typography>\n        </Grid>\n        <Grid item>\n          <Typography style={{ fontSize: 16 }}>Descuento:</Typography>\n          <Typography style={{ fontSize: 18 }}>\n            <b>{datosProducto.descuento_porcentaje}%</b>\n          </Typography>\n        </Grid>\n        <Grid item>\n          <Typography style={{ fontSize: 16 }}>Total:</Typography>\n          <Typography style={{ fontSize: 18 }}>\n            <b>\n              $\n              {formatoMexico(\n                datosProducto.total_descuento * cantidad_total\n              )}\n            </b>\n          </Typography>\n        </Grid>\n      </Grid>\n    );\n  } else {\n    return (\n      <Grid container spacing={2}>\n        <Grid item>\n          <Typography style={{ fontSize: 16 }}>Subtotal:</Typography>\n          <Typography style={{ fontSize: 18 }}>\n            <b>${formatoMexico(datosProducto.subtotal_descuento * datosProducto.cantidad)}</b>\n          </Typography>\n        </Grid>\n        <Grid item>\n          <Typography style={{ fontSize: 16 }}>Impuestos:</Typography>\n          <Typography style={{ fontSize: 18 }}>\n            <b>${formatoMexico(datosProducto.impuestos * datosProducto.cantidad)}</b>\n          </Typography>\n        </Grid>\n        <Grid item>\n          <Typography style={{ fontSize: 16 }}>Descuento:</Typography>\n          <Typography style={{ fontSize: 18 }}>\n            <b>{datosProducto.descuento_porcentaje}%</b>\n          </Typography>\n        </Grid>\n        <Grid item>\n          <Typography style={{ fontSize: 16 }}>Total:</Typography>\n          <Typography style={{ fontSize: 18 }}>\n            <b>\n              $\n              {formatoMexico(\n                datosProducto.total_descuento * datosProducto.cantidad\n              )}\n            </b>\n          </Typography>\n        </Grid>\n      </Grid>\n    );\n  }\n}\n","import React, {\n  Fragment,\n  useContext,\n  useState,\n  forwardRef,\n  useEffect,\n} from \"react\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Box from \"@material-ui/core/Box\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Typography from \"@material-ui/core/Typography\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\n\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Select from \"@material-ui/core/Select\";\nimport Slide from \"@material-ui/core/Slide\";\n\nimport PreciosProductos from \"./PreciosProductos\";\nimport TallasProductos from \"./TallasProducto\";\nimport Add from \"@material-ui/icons/Add\";\n\nimport {\n  initial_state_almacen_inicial,\n  initial_state_centro_de_costos,\n  initial_state_datos_generales,\n  initial_state_precios,\n  initial_state_preciosPlazos,\n  initial_state_unidadVentaXDefecto,\n} from \"../../../../../context/Catalogos/initialStatesProducto\";\n\nimport CrearProducto, {\n  initial_state_preciosP,\n} from \"../../../Catalogos/Producto/crearProducto\";\nimport ErrorPage from \"../../../../../components/ErrorPage\";\nimport { ComprasContext } from \"../../../../../context/Compras/comprasContext\";\nimport { RegProductoContext } from \"../../../../../context/Catalogos/CtxRegProducto\";\nimport { useLazyQuery } from \"@apollo/client\";\nimport { OBTENER_PRODUCTOS } from \"../../../../../gql/Catalogos/productos\";\nimport PreciosDeVentaCompras from \"./PreciosVenta\";\nimport { validateJsonEdit } from \"../../../Catalogos/Producto/validateDatos\";\nimport { Alert, AlertTitle } from \"@material-ui/lab\";\nimport { InfoOutlined } from \"@material-ui/icons\";\nimport DescuentosInputs from \"./Descuentos\";\nimport DatosProveedorAlmacen from \"./DatosProveedorAlmacen\";\nimport { initial_state_datosProducto } from \"../initial_states\";\nimport MostrarPrecios from \"./mostrar_precios\";\nimport { useDebounce } from \"use-debounce/lib\";\n\nexport default function DatosProducto({ status }) {\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n  const {\n    datosProducto,\n    setDatosProducto,\n    productosCompra,\n    setProductosCompra,\n    datosCompra,\n    productoOriginal,\n    setProductoOriginal,\n    setPreciosVenta,\n    setDatosCompra,\n    isEditing,\n    setIsEditing,\n    editFinish,\n    setEditFinish,\n    costo,\n    setCosto,\n    cantidad,\n    setCantidad,\n    loadingProductos,\n    setLoadingProductos,\n  } = useContext(ComprasContext);\n  const {\n    datos_generales,\n    setDatosGenerales,\n    precios,\n    setPrecios,\n    setValidacion,\n    preciosP,\n    setPreciosP,\n    imagenes,\n    setImagenes,\n    unidadesVenta,\n    setUnidadesVenta,\n    almacen_inicial,\n    setAlmacenInicial,\n    unidadVentaXDefecto,\n    setUnidadVentaXDefecto,\n    centro_de_costos,\n    setCentroDeCostos,\n    preciosPlazos,\n    setPreciosPlazos,\n    setSubcategorias,\n    setOnPreview,\n    setSubcostos,\n    imagenes_eliminadas,\n    setImagenesEliminadas,\n    presentaciones,\n    setPresentaciones,\n    presentaciones_eliminadas,\n    setPresentacionesEliminadas,\n    setAlmacenExistente,\n  } = useContext(RegProductoContext);\n  const [verificate, setVerificate] = useState(false);\n\n  let count = 0;\n  if (status === \"enEspera\" && datosCompra) count = 1;\n\n  const [cargando, setCargando] = useState(false);\n\n  /* Queries */\n  const [getProductos, { loading, data, error, refetch }] = useLazyQuery(\n    OBTENER_PRODUCTOS,\n    {\n      variables: { empresa: sesion.empresa._id, sucursal: sesion.sucursal._id },\n      fetchPolicy: \"network-only\",\n    }\n  );\n\n  /* console.log(error.networkError.result);\n   */\n  const [COSTO] = useDebounce(costo, 500);\n  const [CANTIDAD] = useDebounce(cantidad, 500);\n\n  useEffect(() => {\n    if (loading) {\n      setLoadingProductos(true);\n    } else {\n      setLoadingProductos(false);\n    }\n  }, [loading]);\n\n  useEffect(() => {\n    if (data) obtenerCosto(COSTO);\n  }, [COSTO]);\n\n  useEffect(() => {\n    if (data) obtenerCantidad(CANTIDAD);\n  }, [CANTIDAD]);\n\n  useEffect(() => {\n    if (count === 1) {\n      getProductos({\n        variables: {\n          almacen: datosCompra.almacen._id,\n          empresa: sesion.empresa._id,\n          sucursal: sesion.sucursal._id,\n        },\n      });\n    }\n  }, [count]);\n\n  if (loading) {\n    return (\n      <Box\n        display=\"flex\"\n        flexDirection=\"column\"\n        justifyContent=\"center\"\n        alignItems=\"center\"\n        height=\"20vh\"\n      >\n        <CircularProgress />\n        <Typography variant=\"h5\">Cargando</Typography>\n      </Box>\n    );\n  }\n  if (error) {\n    return <ErrorPage error={error} altura={200} />;\n  }\n\n  let obtenerProductos = [];\n  if (data) obtenerProductos = data.obtenerProductos;\n\n  const obtenerSelectsProducto = (producto) => {\n    /* console.log(producto); */\n    if (!producto) {\n      setDatosProducto(initial_state_datosProducto);\n      setCosto(0);\n      setCantidad(0);\n      resetInitialStates();\n      return;\n    }\n\n    const {\n      ieps,\n      iva,\n      precio_con_impuesto,\n      precio_sin_impuesto,\n    } = producto.precios.precio_de_compra;\n\n    const impuestos = iva + ieps;\n\n    setDatosProducto({\n      ...datosProducto,\n      producto,\n      id_producto: producto._id,\n      costo: precio_con_impuesto,\n      cantidad: 1,\n      unidad_regalo: producto.precios.unidad_de_compra.unidad,\n      descuento_porcentaje: 0,\n      descuento_precio: 0,\n      subtotal: precio_sin_impuesto,\n      impuestos: parseFloat(impuestos.toFixed(6)),\n      total: precio_con_impuesto,\n      subtotal_descuento: precio_sin_impuesto,\n      total_descuento: precio_con_impuesto,\n    });\n    setInitialStates(producto);\n    setCosto(precio_con_impuesto);\n    setCantidad(1);\n    setProductoOriginal(producto);\n    setPreciosVenta(producto.precios.precios_producto);\n  };\n\n  const obtenerCantidad = (value) => {\n    if (!value) {\n      setDatosProducto({\n        ...datosProducto,\n        cantidad: \"\",\n      });\n      return;\n    }\n    setDatosProducto({\n      ...datosProducto,\n      cantidad: parseFloat(value),\n    });\n  };\n\n  const obtenerCantidadRegalo = (value) => {\n    if (!value) {\n      setDatosProducto({\n        ...datosProducto,\n        cantidad_regalo: \"\",\n      });\n      return;\n    }\n    setDatosProducto({\n      ...datosProducto,\n      cantidad_regalo: parseFloat(value),\n    });\n  };\n\n  const obtenerUnidadRegalo = (e) => {\n    const { value, name } = e.target;\n    setDatosProducto({\n      ...datosProducto,\n      [name]: value,\n    });\n  };\n\n  const obtenerCosto = (value) => {\n    /* const { name, value } = e.target; */\n    if (!value) {\n      setDatosProducto({\n        ...datosProducto,\n        costo: \"\",\n      });\n      return;\n    }\n\n    const { iva, ieps, precio_de_compra } = datosProducto.producto.precios;\n    const iva_precio = precio_de_compra.iva;\n    const ieps_precio = precio_de_compra.ieps;\n\n    let precio_neto = parseFloat(value);\n    let subtotal = 0;\n    let total = 0;\n    let cantidad_descontada = 0;\n    let impuesto_actual = iva_precio + ieps_precio;\n\n    let precio_sin_impuesto = precio_neto - impuesto_actual;\n    let nuevo_iva =\n      parseFloat(precio_sin_impuesto) *\n      parseFloat(iva < 10 ? \".0\" + iva : \".\" + iva);\n    let nuevo_ieps =\n      parseFloat(precio_sin_impuesto) *\n      parseFloat(ieps < 10 ? \".0\" + ieps : \".\" + ieps);\n    let nuevo_impuesto = nuevo_ieps + nuevo_iva\n\n    if (datosProducto.descuento_porcentaje > 0) {\n      cantidad_descontada = Math.round(\n        (precio_sin_impuesto * datosProducto.descuento_porcentaje) / 100\n      );\n      subtotal = precio_sin_impuesto - cantidad_descontada;\n      total = subtotal + nuevo_impuesto;\n\n      setDatosProducto({\n        ...datosProducto,\n        costo: parseFloat(precio_neto),\n        descuento_precio: parseFloat(cantidad_descontada),\n        subtotal_descuento: parseFloat(subtotal),\n        total_descuento: parseFloat(total),\n      });\n      return;\n    }\n    setDatosProducto({\n      ...datosProducto,\n      costo: parseFloat(precio_neto),\n      subtotal_descuento: parseFloat(precio_sin_impuesto),\n      total_descuento: parseFloat(precio_sin_impuesto + nuevo_impuesto),\n    });\n  };\n\n  const agregarCompra = async (actualizar_Precios) => {\n    let copy_datosProducto = { ...datosProducto };\n    let copy_datosGenerales = { ...datos_generales };\n    let copy_presentaciones = [...presentaciones];\n    let copy_precios = { ...precios };\n    let copy_preciosP = [...preciosP];\n    let copy_almacenInicial = { ...almacen_inicial };\n    let copy_centroCostos = { ...centro_de_costos };\n    let copy_presentacionesEliminadas = [...presentaciones_eliminadas];\n    let copy_precioPlazos = { ...preciosPlazos };\n\n    /* Validaciones */\n    setCargando(true);\n    if (\n      !copy_datosProducto.producto.datos_generales ||\n      !datosCompra.proveedor.nombre_cliente ||\n      !datosCompra.almacen.nombre_almacen\n    ) {\n      setCargando(false);\n      return;\n    }\n\n    if (copy_datosGenerales.tipo_producto !== \"OTROS\") {\n      if (copy_presentaciones.length > 0) {\n        const pres = copy_presentaciones.filter(\n          (res) => res.color._id && res.medida._id && res.existencia\n        );\n        if (pres.length !== copy_presentaciones.length) {\n          setVerificate(true);\n          setCargando(false);\n          return;\n        }\n      } else {\n        setVerificate(true);\n        setCargando(false);\n        return;\n      }\n    }\n\n    let copy_unidadesVenta = [...unidadesVenta];\n\n    if (copy_unidadesVenta.length === 0) {\n      copy_unidadesVenta.push(unidadVentaXDefecto);\n    } else {\n      const unidadxdefecto = copy_unidadesVenta.filter(\n        (unidades) => unidades.default === true\n      );\n      if (unidadxdefecto.length === 0) {\n        copy_unidadesVenta.splice(0, 0, unidadVentaXDefecto);\n      }\n    }\n\n    if (actualizar_Precios) {\n      copy_datosProducto.mantener_precio = false;\n    } else {\n      copy_datosProducto.mantener_precio = true;\n    }\n    copy_precios.precios_producto = copy_preciosP;\n\n    let producto = {\n      datos_generales: await validateJsonEdit(\n        copy_datosGenerales,\n        \"datos_generales\"\n      ),\n      precios: copy_precios,\n      imagenes,\n      imagenes_eliminadas,\n      almacen_inicial: copy_almacenInicial,\n      centro_de_costos: copy_centroCostos,\n      unidades_de_venta: await validateJsonEdit(\n        copy_unidadesVenta,\n        \"unidades_de_venta\"\n      ),\n      presentaciones: copy_presentaciones,\n      presentaciones_eliminadas: copy_presentacionesEliminadas,\n      precio_plazos: copy_precioPlazos,\n      empresa: sesion.empresa._id,\n      sucursal: sesion.sucursal._id,\n      usuario: sesion._id,\n    };\n\n    copy_datosProducto.producto = producto;\n\n    if (copy_datosProducto.producto.datos_generales.tipo_producto !== \"OTROS\") {\n      //si son medidas sumas las cantidades de las presetnaciones\n      if (copy_datosProducto.producto.presentaciones.length > 0) {\n        copy_datosProducto.cantidad = 0;\n        copy_datosProducto.producto.presentaciones.forEach((presentacion) => {\n          const { cantidad, cantidad_nueva } = presentacion;\n          let nueva = cantidad_nueva ? cantidad_nueva : 0;\n          copy_datosProducto.cantidad += cantidad + nueva;\n        });\n        if (isNaN(copy_datosProducto.cantidad)) copy_datosProducto.cantidad = 0;\n        copy_datosProducto.cantidad_total = copy_datosProducto.cantidad;\n      } else {\n        copy_datosProducto.cantidad = 0;\n        copy_datosProducto.cantidad_total = copy_datosProducto.cantidad;\n      }\n    } else {\n      //Si hay cantidad regalo y es diferente unidad hacer las converciones\n      const { cantidad_regalo, cantidad, unidad_regalo } = copy_datosProducto;\n      //convertir todo a la unidad media y sumar (Pz, Kg, Lt)\n      const factor =\n        copy_datosProducto.producto.precios.unidad_de_compra.cantidad;\n      const cantiad_media = cantidad * factor;\n      let cantidad_regalo_media =\n        unidad_regalo === \"Pz\" ||\n        unidad_regalo === \"Kg\" ||\n        unidad_regalo === \"Lt\"\n          ? cantidad_regalo\n          : cantidad_regalo * factor;\n      let cantidad_total_media = cantiad_media + cantidad_regalo_media;\n\n      //si factor es > 1 es caja o costal y dividir unidad media entre factor y si no mandar la cantidad total media;\n      if (factor > 1) {\n        copy_datosProducto.cantidad_regalo = cantidad_regalo_media / factor;\n        copy_datosProducto.cantidad_total = cantidad_total_media / factor;\n      } else {\n        copy_datosProducto.cantidad_regalo = cantidad_regalo_media;\n        copy_datosProducto.cantidad_total = cantidad_total_media;\n      }\n    }\n    copy_datosProducto.subtotal = copy_datosProducto.subtotal_descuento;\n    copy_datosProducto.total = copy_datosProducto.total_descuento;\n\n    if (isEditing.producto) {\n      //se tiene que actualizar el producto en la fila y sumar el subtotal\n      let productosCompra_ordenados = [...productosCompra];\n      //calculos de totales, subtotales e impuestos de compra general\n      const {\n        iva,\n        ieps,\n      } = copy_datosProducto.producto.precios.precio_de_compra;\n\n      copy_datosProducto.iva_total = iva * copy_datosProducto.cantidad_total;\n      copy_datosProducto.ieps_total = ieps * copy_datosProducto.cantidad_total;\n      copy_datosProducto.subtotal =\n        copy_datosProducto.subtotal * copy_datosProducto.cantidad_total;\n      copy_datosProducto.impuestos =\n        copy_datosProducto.impuestos * copy_datosProducto.cantidad_total;\n      copy_datosProducto.total =\n        copy_datosProducto.total * copy_datosProducto.cantidad_total;\n\n      let subtotal =\n        datosCompra.subtotal +\n        copy_datosProducto.subtotal * copy_datosProducto.cantidad_total -\n        isEditing.producto.subtotal;\n      let impuestos =\n        datosCompra.impuestos +\n        copy_datosProducto.impuestos * copy_datosProducto.cantidad_total -\n        isEditing.producto.impuestos;\n      let total =\n        datosCompra.total +\n        copy_datosProducto.total * copy_datosProducto.cantidad_total -\n        isEditing.producto.total;\n\n      productosCompra_ordenados.splice(isEditing.index, 1, copy_datosProducto);\n\n      setProductosCompra(productosCompra_ordenados);\n      setDatosCompra({\n        ...datosCompra,\n        subtotal,\n        impuestos,\n        total,\n      });\n      setIsEditing({});\n      setEditFinish(!editFinish);\n      setProductoOriginal({ precios: initial_state_precios });\n      setDatosProducto(initial_state_datosProducto);\n      setCosto(0);\n      setCantidad(0);\n      setCargando(false);\n    } else {\n      // se agregar el producto normal y verificar si ya esta el producto en la lista\n\n      const existente = productosCompra\n        .map((prod_exist, index) => {\n          if (prod_exist.id_producto === copy_datosProducto.id_producto) {\n            return { prod_exist, index };\n          } else {\n            return \"\";\n          }\n        })\n        .filter(Boolean);\n\n      if (existente.length > 0) {\n        let productosCompra_ordenados = [...productosCompra];\n        const { index, prod_exist } = existente[0];\n        const {\n          iva,\n          ieps,\n        } = copy_datosProducto.producto.precios.precio_de_compra;\n\n        copy_datosProducto.iva_total = iva * copy_datosProducto.cantidad_total;\n        copy_datosProducto.ieps_total =\n          ieps * copy_datosProducto.cantidad_total;\n        copy_datosProducto.subtotal =\n          copy_datosProducto.subtotal * copy_datosProducto.cantidad_total;\n        copy_datosProducto.impuestos =\n          copy_datosProducto.impuestos * copy_datosProducto.cantidad_total;\n        copy_datosProducto.total =\n          copy_datosProducto.total * copy_datosProducto.cantidad_total;\n\n        productosCompra_ordenados.splice(index, 1, copy_datosProducto);\n        setProductosCompra(productosCompra_ordenados);\n        setDatosCompra({\n          ...datosCompra,\n          subtotal:\n            datosCompra.subtotal -\n            prod_exist.subtotal +\n            copy_datosProducto.subtotal,\n          impuestos:\n            datosCompra.impuestos -\n            prod_exist.impuestos +\n            copy_datosProducto.impuestos,\n          total:\n            datosCompra.total - prod_exist.total + copy_datosProducto.total,\n        });\n      } else {\n        let array_ordenado = [...productosCompra];\n        const {\n          iva,\n          ieps,\n        } = copy_datosProducto.producto.precios.precio_de_compra;\n\n        copy_datosProducto.iva_total = iva * copy_datosProducto.cantidad_total;\n        copy_datosProducto.ieps_total =\n          ieps * copy_datosProducto.cantidad_total;\n        copy_datosProducto.subtotal =\n          copy_datosProducto.subtotal * copy_datosProducto.cantidad_total;\n        copy_datosProducto.impuestos =\n          copy_datosProducto.impuestos * copy_datosProducto.cantidad_total;\n        copy_datosProducto.total =\n          copy_datosProducto.total * copy_datosProducto.cantidad_total;\n\n        array_ordenado.splice(0, 0, copy_datosProducto);\n        setProductosCompra(array_ordenado);\n        setDatosCompra({\n          ...datosCompra,\n          subtotal: datosCompra.subtotal + copy_datosProducto.subtotal,\n          impuestos: datosCompra.impuestos + copy_datosProducto.impuestos,\n          total: datosCompra.total + copy_datosProducto.total,\n        });\n      }\n      setProductoOriginal({ precios: initial_state_precios });\n      setDatosProducto(initial_state_datosProducto);\n      setCosto(0);\n      setCantidad(0);\n      setCargando(false);\n    }\n  };\n\n  /* SET STATES WHEN UPDATING */\n  const setInitialStates = (producto) => {\n    const { precios_producto, ...new_precios } = producto.precios;\n    let unidades_venta = producto.unidades_de_venta.filter(\n      (res) => !res.default\n    );\n    const unidadxdefecto = producto.unidades_de_venta.filter(\n      (res) => res.default === true\n    );\n    setDatosGenerales(producto.datos_generales);\n    setPrecios(new_precios);\n    setCentroDeCostos(\n      producto.centro_de_costos\n        ? producto.centro_de_costos\n        : initial_state_centro_de_costos\n    );\n    setImagenes(producto.imagenes);\n    setPreciosPlazos(producto.precio_plazos);\n    setUnidadesVenta(unidades_venta);\n    setPreciosP(producto.precios.precios_producto);\n    setUnidadVentaXDefecto(unidadxdefecto[0]);\n    setPresentaciones(\n      producto.medidas_producto ? producto.medidas_producto : []\n    );\n    if (\n      datosCompra.almacen.id_almacen &&\n      producto.medidas_producto.length === 0\n    ) {\n      setAlmacenInicial({\n        ...almacen_inicial,\n        id_almacen: datosCompra.almacen.id_almacen,\n        almacen: datosCompra.almacen.nombre_almacen,\n      });\n    }\n\n    if (producto.inventario_general.length > 0) {\n      setAlmacenExistente(true);\n    } else {\n      setAlmacenExistente(false);\n    }\n  };\n\n  /* ###### RESET STATES ###### */\n  const resetInitialStates = () => {\n    setDatosGenerales(initial_state_datos_generales);\n    setPrecios(initial_state_precios);\n    setUnidadVentaXDefecto(initial_state_unidadVentaXDefecto);\n    setPreciosP(initial_state_preciosP);\n    setUnidadesVenta([]);\n    setAlmacenInicial(initial_state_almacen_inicial);\n    setCentroDeCostos({});\n    setPreciosPlazos(initial_state_preciosPlazos);\n    setSubcategorias([]);\n    setImagenes([]);\n    setOnPreview({ index: \"\", image: \"\" });\n    setValidacion({ error: false, message: \"\" });\n    setSubcostos([]);\n    setImagenesEliminadas([]);\n    setPresentaciones([]);\n    setPresentacionesEliminadas([]);\n  };\n\n  return (\n    <Fragment>\n      <DatosProveedorAlmacen\n        status={status}\n        refetchProductos={refetch}\n        getProductos={getProductos}\n      />\n      <Box my={1} />\n      <Grid container spacing={1} alignItems=\"center\">\n        <Grid item>\n          <Typography>Código de barras</Typography>\n          <Box width={200}>\n            <Autocomplete\n              id=\"combo-box-producto-codigo\"\n              size=\"small\"\n              fullWidth\n              options={obtenerProductos}\n              getOptionLabel={(option) =>\n                option.datos_generales.codigo_barras\n                  ? option.datos_generales.codigo_barras\n                  : \"N/A\"\n              }\n              renderInput={(params) => (\n                <TextField {...params} variant=\"outlined\" />\n              )}\n              onChange={(_, value) => obtenerSelectsProducto(value)}\n              getOptionSelected={(option, value) => option._id === value._id}\n              value={\n                datosProducto.producto.datos_generales\n                  ? datosProducto.producto\n                  : null\n              }\n              disabled={\n                !datosCompra.almacen.id_almacen ||\n                !datosCompra.proveedor.id_proveedor\n              }\n            />\n          </Box>\n        </Grid>\n        <Grid item>\n          <Typography>Producto</Typography>\n          <Box display=\"flex\" width={250} alignItems=\"center\">\n            <Autocomplete\n              id=\"combo-box-producto-nombre\"\n              size=\"small\"\n              fullWidth\n              options={obtenerProductos}\n              getOptionLabel={(option) =>\n                option.datos_generales.nombre_comercial\n              }\n              renderInput={(params) => (\n                <TextField {...params} variant=\"outlined\" />\n              )}\n              onChange={(_, value) => obtenerSelectsProducto(value)}\n              getOptionSelected={(option, value) => option._id === value._id}\n              value={\n                datosProducto.producto.datos_generales\n                  ? datosProducto.producto\n                  : null\n              }\n              disabled={\n                !datosCompra.almacen.id_almacen ||\n                !datosCompra.proveedor.id_proveedor\n              }\n            />\n            {!datosCompra.almacen.id_almacen ||\n            !datosCompra.proveedor.id_proveedor ? (\n              <IconButton disabled>\n                <Add />\n              </IconButton>\n            ) : (\n              <CrearProducto\n                accion={false}\n                productosRefetch={refetch}\n                fromCompra={true}\n              />\n            )}\n          </Box>\n        </Grid>\n        <Grid item>\n          <Typography>Clave</Typography>\n          <Box width={140}>\n            <Autocomplete\n              id=\"combo-box-producto-clave\"\n              size=\"small\"\n              fullWidth\n              options={obtenerProductos}\n              getOptionLabel={(option) => option.datos_generales.clave_alterna}\n              renderInput={(params) => (\n                <TextField {...params} variant=\"outlined\" />\n              )}\n              onChange={(_, value) => obtenerSelectsProducto(value)}\n              getOptionSelected={(option, value) => option._id === value._id}\n              value={\n                datosProducto.producto.datos_generales\n                  ? datosProducto.producto\n                  : null\n              }\n              disabled={\n                !datosCompra.almacen.id_almacen ||\n                !datosCompra.proveedor.id_proveedor\n              }\n            />\n          </Box>\n        </Grid>\n        <Grid item>\n          <Typography>Costo</Typography>\n          <Box width={100}>\n            <TextField\n              inputMode=\"decimal\"\n              name=\"costo\"\n              variant=\"outlined\"\n              size=\"small\"\n              fullWidth\n              disabled={!datosProducto.producto.datos_generales}\n              value={costo}\n              onChange={(e) => setCosto(e.target.value)}\n              InputProps={{\n                startAdornment: (\n                  <InputAdornment position=\"start\">$</InputAdornment>\n                ),\n              }}\n            />\n          </Box>\n        </Grid>\n        {datosProducto.producto.datos_generales &&\n        datosProducto.producto.datos_generales.tipo_producto === \"OTROS\" ? (\n          <Fragment>\n            <Grid item>\n              <Typography>Unidad</Typography>\n              <Box width={100}>\n                <TextField\n                  variant=\"outlined\"\n                  size=\"small\"\n                  fullWidth\n                  aria-readonly=\"true\"\n                  value={datosProducto.producto.precios.unidad_de_compra.unidad}\n                />\n              </Box>\n            </Grid>\n            <Grid item>\n              <Typography>Cantidad</Typography>\n              <Box width={100}>\n                <TextField\n                  name=\"cantidad\"\n                  variant=\"outlined\"\n                  size=\"small\"\n                  fullWidth\n                  inputMode=\"numeric\"\n                  disabled={!datosProducto.producto.datos_generales}\n                  value={cantidad}\n                  onChange={(e) => setCantidad(e.target.value)}\n                />\n              </Box>\n            </Grid>\n            <Grid item>\n              <Typography>Cant. regalo</Typography>\n              <Box width={100}>\n                <TextField\n                  name=\"cantidad_regalo\"\n                  variant=\"outlined\"\n                  size=\"small\"\n                  fullWidth\n                  inputMode=\"numeric\"\n                  disabled={!datosProducto.producto.datos_generales}\n                  value={datosProducto.cantidad_regalo}\n                  onChange={(e) => obtenerCantidadRegalo(e.target.value)}\n                />\n              </Box>\n            </Grid>\n            <Grid item>\n              <Typography>Unidad. regalo</Typography>\n              <Box width={100}>\n                <FormControl\n                  variant=\"outlined\"\n                  size=\"small\"\n                  name=\"unidad_regalo\"\n                  fullWidth\n                >\n                  {datosProducto.producto.precios.granel ? (\n                    <Select\n                      id=\"select-unidad-regalo\"\n                      disabled={!datosProducto.producto.datos_generales}\n                      name=\"unidad_regalo\"\n                      value={datosProducto.unidad_regalo}\n                      onChange={obtenerUnidadRegalo}\n                    >\n                      <MenuItem value=\"Kg\">Kg</MenuItem>\n                      <MenuItem value=\"Costal\">Costal</MenuItem>\n                      <MenuItem value=\"Lt\">Lt</MenuItem>\n                    </Select>\n                  ) : (\n                    <Select\n                      id=\"select-unidad-regalo\"\n                      disabled={!datosProducto.producto.datos_generales}\n                      name=\"unidad_regalo\"\n                      value={datosProducto.unidad_regalo}\n                      onChange={obtenerUnidadRegalo}\n                    >\n                      <MenuItem value=\"Caja\">Caja</MenuItem>\n                      <MenuItem value=\"Pz\">Pz</MenuItem>\n                    </Select>\n                  )}\n                </FormControl>\n              </Box>\n            </Grid>\n          </Fragment>\n        ) : null}\n\n        <Grid item>\n          <Typography>Descuento</Typography>\n          <DescuentosInputs />\n        </Grid>\n      </Grid>\n      <Box mt={1}>\n        <Grid container>\n          <Grid item xs={12} md={7} padding=\"checkbox\">\n            <PreciosDeVentaCompras />\n          </Grid>\n          <Grid\n            item\n            xs={12}\n            md={5}\n            style={{\n              display: \"flex\",\n              alignItems: \"center\",\n              justifyContent: \"center\",\n              flexDirection: \"column\",\n            }}\n          >\n            <Box m={1}>\n              <MostrarPrecios />\n            </Box>\n            <Box display=\"flex\">\n              {datosProducto.producto.datos_generales &&\n              datosProducto.producto.datos_generales.tipo_producto !==\n                \"OTROS\" ? (\n                <TallasProductos\n                  verificate={verificate}\n                  setVerificate={setVerificate}\n                />\n              ) : null}\n\n              <Box mx={1} />\n              {datosProducto.costo !==\n              productoOriginal.precios.precio_de_compra.precio_con_impuesto ? (\n                <ModalAgregarCompra\n                  agregarCompra={agregarCompra}\n                  cargando={cargando}\n                />\n              ) : (\n                <Button\n                  style={\n                    loadingProductos\n                      ? {\n                          pointerEvents: \"none\",\n                          opacity: 0.4,\n                        }\n                      : null\n                  }\n                  variant=\"contained\"\n                  color=\"primary\"\n                  startIcon={\n                    cargando ? (\n                      <CircularProgress color=\"inherit\" size={20} />\n                    ) : (\n                      <Add />\n                    )\n                  }\n                  disableElevation\n                  disabled={\n                    datosProducto.producto.datos_generales\n                      ? datosProducto.producto.datos_generales.tipo_producto ===\n                        \"OTROS\"\n                        ? !datosCompra.proveedor.nombre_cliente ||\n                          !datosCompra.almacen.nombre_almacen ||\n                          !datosProducto.costo ||\n                          !datosProducto.cantidad\n                          ? true\n                          : false\n                        : !datosCompra.proveedor.nombre_cliente ||\n                          !datosCompra.almacen.nombre_almacen ||\n                          !datosProducto.costo\n                        ? true\n                        : false\n                      : true\n                  }\n                  onClick={() => agregarCompra()}\n                >\n                  {isEditing.producto ? \"Actualizar \" : \"Agregar a compra\"}\n                </Button>\n              )}\n            </Box>\n          </Grid>\n        </Grid>\n      </Box>\n    </Fragment>\n  );\n}\n\nconst Transition = forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nconst ModalAgregarCompra = ({ agregarCompra, cargando }) => {\n  const [open, setOpen] = useState(false);\n  const {\n    datosProducto,\n    datosCompra,\n    isEditing,\n    loadingProductos,\n  } = useContext(ComprasContext);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  return (\n    <div>\n      <Button\n        style={\n          loadingProductos\n            ? {\n                pointerEvents: \"none\",\n                opacity: 0.4,\n              }\n            : null\n        }\n        variant=\"contained\"\n        color=\"primary\"\n        startIcon={<Add />}\n        disableElevation\n        disabled={\n          datosProducto.producto.datos_generales\n            ? datosProducto.producto.datos_generales.tipo_producto === \"OTROS\"\n              ? !datosCompra.proveedor.nombre_cliente ||\n                !datosCompra.almacen.nombre_almacen ||\n                !datosProducto.costo ||\n                !datosProducto.cantidad\n                ? true\n                : false\n              : !datosCompra.proveedor.nombre_cliente ||\n                !datosCompra.almacen.nombre_almacen ||\n                !datosProducto.costo\n              ? true\n              : false\n            : true\n        }\n        onClick={() => handleClickOpen()}\n      >\n        {isEditing.producto ? \"Actualizar \" : \"Agregar a compra\"}\n      </Button>\n      <Dialog\n        open={open}\n        TransitionComponent={Transition}\n        keepMounted\n        onClose={() => handleClose()}\n        aria-labelledby=\"modal-agregar-compra\"\n      >\n        <DialogTitle id=\"modal-agregar-compra\" style={{ padding: 0 }}>\n          <Alert\n            severity=\"info\"\n            icon={<InfoOutlined style={{ fontSize: 30 }} />}\n            style={{ padding: 16 }}\n          >\n            <AlertTitle style={{ fontSize: 20 }}>\n              El costo es diferente al precio de compra actual\n            </AlertTitle>\n            <Typography style={{ fontSize: 18 }}>\n              ¿Desea actualizar los precios o mantenerlos?\n            </Typography>\n          </Alert>\n        </DialogTitle>\n        <DialogActions style={{ display: \"flex\", justifyContent: \"center\" }}>\n          <Button onClick={() => handleClose()} color=\"default\">\n            Cancelar\n          </Button>\n          <Button\n            onClick={() => {\n              agregarCompra();\n              handleClose();\n            }}\n            color=\"primary\"\n          >\n            Mantener\n          </Button>\n          <PreciosProductos\n            cargando={cargando}\n            handleClose={handleClose}\n            agregarCompra={agregarCompra}\n          />\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n};\n","import {\n  initial_state_almacen_inicial,\n  initial_state_centro_de_costos,\n  initial_state_datos_generales,\n  initial_state_precios,\n  initial_state_preciosPlazos,\n  initial_state_unidadVentaXDefecto,\n} from \"../../../../../context/Catalogos/initialStatesProducto\";\n\nimport { initial_state_preciosP } from \"../../../Catalogos/Producto/crearProducto\";\n\nexport const SetOrResetData = (accion,setStates, producto) => {\n  const {\n    setDatosGenerales,\n    setPrecios,\n    setValidacion,\n    setPreciosP,\n    setImagenes,\n    setUnidadesVenta,\n    almacen_inicial,\n    setAlmacenInicial,\n    setUnidadVentaXDefecto,\n    setCentroDeCostos,\n    setPreciosPlazos,\n    setSubcategorias,\n    setOnPreview,\n    setSubcostos,\n    setImagenesEliminadas,\n    setPresentaciones,\n    setPresentacionesEliminadas,\n    datosCompra\n  } = setStates\n\n  if (accion === \"SET\") {\n    const { precios_producto, ...new_precios } = producto.precios;\n    const unidadxdefecto = producto.unidades_de_venta.filter(\n      (res) => res.default\n    );\n\n    setDatosGenerales(producto.datos_generales);\n    setPrecios(new_precios);\n    setCentroDeCostos(\n      producto.centro_de_costos\n        ? producto.centro_de_costos\n        : initial_state_centro_de_costos\n    );\n    setImagenes(producto.imagenes);\n    setPreciosPlazos(producto.precio_plazos);\n    setUnidadesVenta(producto.unidades_de_venta);\n    setPreciosP(producto.precios.precios_producto);\n    setUnidadVentaXDefecto(unidadxdefecto[0]);\n    setPresentaciones(\n      producto.presentaciones ? producto.presentaciones : []\n    );\n    /* if (datosCompra.almacen.id_almacen && !producto.medidas_registradas) */\n    if (datosCompra.almacen.id_almacen && producto.presentaciones.length === 0) {\n      setAlmacenInicial({\n        ...almacen_inicial,\n        id_almacen: datosCompra.almacen.id_almacen,\n        almacen: datosCompra.almacen.nombre_almacen,\n      });\n    }\n  } else {\n    setDatosGenerales(initial_state_datos_generales);\n    setPrecios(initial_state_precios);\n    setUnidadVentaXDefecto(initial_state_unidadVentaXDefecto);\n    setPreciosP(initial_state_preciosP);\n    setUnidadesVenta([]);\n    setAlmacenInicial(initial_state_almacen_inicial);\n    setCentroDeCostos({});\n    setPreciosPlazos(initial_state_preciosPlazos);\n    setSubcategorias([]);\n    setImagenes([]);\n    setOnPreview({ index: \"\", image: \"\" });\n    setValidacion({ error: false, message: \"\" });\n    setSubcostos([]);\n    setImagenesEliminadas([]);\n    setPresentaciones([]);\n    setPresentacionesEliminadas([]);\n  }\n};\n","import React, {\n  useContext,\n  useState,\n  forwardRef,\n  useEffect,\n  Fragment,\n} from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport RemoveCircleOutlineIcon from \"@material-ui/icons/RemoveCircleOutline\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Slide from \"@material-ui/core/Slide\";\nimport { ComprasContext } from \"../../../../context/Compras/comprasContext\";\nimport { Close, Edit, Error } from \"@material-ui/icons\";\nimport { initial_state_datosProducto } from \"./initial_states\";\nimport { SetOrResetData } from \"./productos/setOrResetData\";\nimport { RegProductoContext } from \"../../../../context/Catalogos/CtxRegProducto\";\nimport { formatoMexico } from \"../../../../config/reuserFunctions\";\nimport { Grid, Typography } from \"@material-ui/core\";\n\nconst useStyles = makeStyles({\n  root: {\n    width: \"100%\",\n  },\n  container: {\n    height: \"40vh\",\n  },\n});\n\nexport default function ListaCompras() {\n  const classes = useStyles();\n  const { productosCompra, loadingProductos, datosCompra } = useContext(\n    ComprasContext\n  );\n\n  const productos_ordernados = [...productosCompra];\n\n  return (\n    <Paper className={classes.root} variant=\"outlined\">\n      <TableContainer\n        className={classes.container}\n        style={\n          loadingProductos\n            ? {\n                pointerEvents: \"none\",\n                opacity: 0.4,\n              }\n            : null\n        }\n      >\n        <Table stickyHeader size=\"small\">\n          <TableHead>\n            <TableRow>\n              <TableCell>Código de barras</TableCell>\n              <TableCell>Producto</TableCell>\n              <TableCell>Precio de compra</TableCell>\n              <TableCell padding=\"checkbox\">Cantidad</TableCell>\n              <TableCell padding=\"checkbox\">Cantidad regalo</TableCell>\n              <TableCell padding=\"checkbox\">Cantidad total</TableCell>\n              <TableCell padding=\"checkbox\">Presentaciones</TableCell>\n              <TableCell>IVA</TableCell>\n              <TableCell>IEPS</TableCell>\n              <TableCell>Total IVA</TableCell>\n              <TableCell>Total IEPS</TableCell>\n              <TableCell>Editar</TableCell>\n              <TableCell>Remover</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {productos_ordernados.map((producto, index) => {\n              return (\n                <RenderProductosCompra\n                  key={index}\n                  producto={producto}\n                  index={index}\n                />\n              );\n            })}\n          </TableBody>\n        </Table>\n      </TableContainer>\n        <Grid container spacing={2}>\n          <Grid item>\n            <Typography style={{ fontSize: 18 }}>\n              Subtotal: <b>${ datosCompra.subtotal ? formatoMexico(datosCompra.subtotal) : 0}</b>\n            </Typography>\n          </Grid>\n          <Grid item>\n            <Typography style={{ fontSize: 18 }}>\n              Impuestos: <b>${datosCompra.impuestos ? formatoMexico(datosCompra.impuestos) : 0}</b>\n            </Typography>\n          </Grid>\n          <Grid item>\n            <Typography style={{ fontSize: 18 }}>\n              <b>Total: ${datosCompra.total ? formatoMexico(datosCompra.total) : 0}</b>\n            </Typography>\n          </Grid>\n        </Grid>\n    </Paper>\n  );\n}\n\nconst RenderProductosCompra = ({ producto, index }) => {\n  const {\n    datosCompra,\n    setDatosProducto,\n    setProductoOriginal,\n    setPreciosVenta,\n    isEditing,\n    setIsEditing,\n    editFinish,\n    setCosto,\n    setCantidad,\n    setIssue,\n  } = useContext(ComprasContext);\n  const [isSelected, setIsSelected] = useState(false);\n  const productoCTX = useContext(RegProductoContext);\n\n  const seStates = {\n    setDatosGenerales: productoCTX.setDatosGenerales,\n    setPrecios: productoCTX.setPrecios,\n    setValidacion: productoCTX.setValidacion,\n    setPreciosP: productoCTX.setPreciosP,\n    setImagenes: productoCTX.setImagenes,\n    setUnidadesVenta: productoCTX.setUnidadesVenta,\n    almacen_inicial: productoCTX.almacen_inicial,\n    setAlmacenInicial: productoCTX.setAlmacenInicial,\n    setUnidadVentaXDefecto: productoCTX.setUnidadVentaXDefecto,\n    setCentroDeCostos: productoCTX.setCentroDeCostos,\n    setPreciosPlazos: productoCTX.setPreciosPlazos,\n    setSubcategorias: productoCTX.setSubcategorias,\n    setOnPreview: productoCTX.setOnPreview,\n    setSubcostos: productoCTX.setSubcostos,\n    setImagenesEliminadas: productoCTX.setImagenesEliminadas,\n    setPresentaciones: productoCTX.setPresentaciones,\n    setPresentacionesEliminadas: productoCTX.setPresentacionesEliminadas,\n    datosCompra,\n  };\n\n  const handleEdit = () => {\n    setIsSelected(true);\n    setIsEditing({ producto, index, finish: false });\n    setDatosProducto(producto);\n    SetOrResetData(\"SET\", seStates, producto.producto);\n    setProductoOriginal(producto.producto);\n    setPreciosVenta(producto.producto.precios.precios_producto);\n    setCosto(producto.costo);\n    setCantidad(producto.cantidad);\n  };\n\n  const handleCancelEdit = () => {\n    setIsSelected(false);\n    setIsEditing({});\n    setDatosProducto(initial_state_datosProducto);\n    SetOrResetData(\"RESET\", seStates);\n    setCosto(0);\n    setCantidad(1);\n  };\n\n  useEffect(() => {\n    setIsSelected(false);\n  }, [editFinish]);\n\n  useEffect(() => {\n    if (!producto.cantidad) {\n    } else {\n      setIssue(false);\n    }\n  }, [producto.cantidad]);\n\n  const unidad_producto = producto.producto.precios.unidad_de_compra.unidad;\n  const { cantidad, cantidad_regalo, cantidad_total } = producto;\n\n  return (\n    <TableRow\n      hover\n      role=\"checkbox\"\n      tabIndex={-1}\n      selected={isSelected || !cantidad}\n      style={\n        isEditing.producto && !isSelected\n          ? {\n              pointerEvents: \"none\",\n              opacity: 0.4,\n            }\n          : null\n      }\n    >\n      <TableCell>\n        {producto.producto.datos_generales\n          ? producto.producto.datos_generales.codigo_barras\n            ? producto.producto.datos_generales.codigo_barras\n            : \"-\"\n          : \"-\"}\n      </TableCell>\n      <TableCell>\n        {producto.producto.datos_generales.nombre_comercial}\n      </TableCell>\n      <TableCell width={180}>\n        {!cantidad ? (\n          <Error color=\"error\" />\n        ) : (\n          <b>$ {formatoMexico(producto.total)}</b>\n        )}\n      </TableCell>\n      <TableCell>\n        {cantidad}\n        <b>({unidad_producto})</b>\n      </TableCell>\n      <TableCell>\n        {cantidad_regalo}\n        <b>({unidad_producto})</b>\n      </TableCell>\n      <TableCell>\n        {cantidad_total}\n        <b>({unidad_producto})</b>\n      </TableCell>\n      <TableCell>\n        {producto.producto.presentaciones.length > 0\n          ? producto.producto.presentaciones.length\n          : \"N/A\"}\n      </TableCell>\n      <TableCell>{producto.producto.precios.iva}%</TableCell>\n      <TableCell>{producto.producto.precios.ieps}%</TableCell>\n      <TableCell>${producto.iva_total}</TableCell>\n      <TableCell>${producto.ieps_total}</TableCell>\n      <TableCell>\n        {isSelected ? (\n          <IconButton\n            color=\"inherit\"\n            size=\"small\"\n            onClick={() => handleCancelEdit()}\n          >\n            <Close />\n          </IconButton>\n        ) : (\n          <IconButton color=\"primary\" size=\"small\" onClick={() => handleEdit()}>\n            <Edit />\n          </IconButton>\n        )}\n      </TableCell>\n      <TableCell>\n        <ModalDeleteProducto index={index} isSelected={isSelected} />\n      </TableCell>\n    </TableRow>\n  );\n};\n\nconst Transition = forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nconst ModalDeleteProducto = ({ index, isSelected }) => {\n  const {\n    productosCompra,\n    setProductosCompra,\n    datosCompra,\n    setDatosCompra,\n  } = useContext(ComprasContext);\n  const [open, setOpen] = useState(false);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const eliminarCompra = () => {\n    let copy_compras = [...productosCompra];\n    let objeto_eliminado = copy_compras.splice(index, 1);\n\n    setDatosCompra({\n      ...datosCompra,\n      subtotal: datosCompra.subtotal - objeto_eliminado[0].subtotal,\n      impuestos: datosCompra.impuestos - objeto_eliminado[0].impuestos,\n      total: datosCompra.total - objeto_eliminado[0].total,\n    });\n    setProductosCompra([...copy_compras]);\n    handleClose();\n  };\n\n  return (\n    <Fragment>\n      <IconButton\n        color=\"secondary\"\n        size=\"small\"\n        onClick={handleClickOpen}\n        disabled={isSelected}\n      >\n        <RemoveCircleOutlineIcon />\n      </IconButton>\n      <Dialog\n        open={open}\n        TransitionComponent={Transition}\n        keepMounted\n        onClose={handleClose}\n        aria-labelledby=\"modal-eliminar-compra\"\n      >\n        <DialogTitle id=\"modal-eliminar-compra\">\n          Seguro que quiere eliminar esto de la lista?\n        </DialogTitle>\n\n        <DialogActions>\n          <Button onClick={handleClose} color=\"primary\">\n            Cancelar\n          </Button>\n          <Button onClick={eliminarCompra} color=\"secondary\">\n            Aceptar\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </Fragment>\n  );\n};\n","import React, { useContext, useState } from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport Typography from \"@material-ui/core/Typography\";\nimport {\n  Box,\n  Checkbox,\n  CircularProgress,\n  FormControl,\n  FormControlLabel,\n  Grid,\n  InputAdornment,\n  InputLabel,\n  MenuItem,\n  Select,\n  Slide,\n  TextField,\n} from \"@material-ui/core\";\nimport { ComprasContext } from \"../../../../context/Compras/comprasContext\";\nimport { formatoMexico } from \"../../../../config/reuserFunctions\";\nimport { formaPago } from \"../../Facturacion/catalogos\";\nimport { Done } from \"@material-ui/icons\";\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function ConfirmarCompra({ realizarCompraBD }) {\n  const [open, setOpen] = useState(false);\n  const [loading_modal, setLoadingModal] = useState(false);\n  const {\n    productosCompra,\n    datosCompra,\n    setDatosCompra,\n    issue,\n    descuentoCompra,\n    setDescuentoCompra,\n  } = useContext(ComprasContext);\n  const handleClickOpen = () => setOpen(true);\n  const handleClose = () => setOpen(false);\n\n  const obtenerFormaPago = (forma_pago) => {\n    setDatosCompra({\n      ...datosCompra,\n      forma_pago,\n    });\n  };\n\n  const aplicarDescuento = (descuento_aplicado) => {\n    if (!descuento_aplicado) {\n      setDescuentoCompra({\n        ...descuentoCompra,\n        subtotal: datosCompra.subtotal,\n        total: datosCompra.total,\n        descuento_aplicado,\n        porcentaje: 0,\n        cantidad_descontada: 0,\n        precio_con_descuento: 0,\n      });\n      return;\n    }\n    setDescuentoCompra({\n      ...descuentoCompra,\n      descuento_aplicado,\n    });\n  };\n\n  const obtenerPorcentaje = (value) => {\n    if (!value || parseFloat(value) === 0) {\n      setDescuentoCompra({\n        ...descuentoCompra,\n        subtotal: datosCompra.subtotal,\n        total: datosCompra.total,\n        porcentaje: 0,\n        cantidad_descontada: 0,\n        precio_con_descuento: 0,\n      });\n      return;\n    }\n    let porcentaje = parseFloat(value);\n    let cantidad_descontada = Math.round(\n      (datosCompra.subtotal * porcentaje) / 100\n    );\n    let precio_con_descuento = datosCompra.subtotal - cantidad_descontada;\n\n    setDescuentoCompra({\n      ...descuentoCompra,\n      subtotal: parseFloat((precio_con_descuento).toFixed(2)),\n      total: parseFloat((precio_con_descuento + datosCompra.impuestos).toFixed(2)),\n      porcentaje,\n      cantidad_descontada,\n      precio_con_descuento: parseFloat((precio_con_descuento).toFixed(2)),\n    });\n  };\n\n  const obtenerPrecio = (value) => {\n    if (!value || parseFloat(value) === 0) {\n      setDescuentoCompra({\n        ...descuentoCompra,\n        subtotal: datosCompra.subtotal,\n        total: datosCompra.total,\n        porcentaje: 0,\n        cantidad_descontada: 0,\n        precio_con_descuento: 0,\n      });\n      return;\n    }\n\n    let cantidad_descontada = parseFloat(value);\n    let porcentaje = Math.round(\n      (cantidad_descontada / datosCompra.subtotal) * 100\n    );\n    /* let descuento_porcentaje = 100 - porcentaje; */\n    let precio_con_descuento = datosCompra.subtotal - cantidad_descontada;\n\n    setDescuentoCompra({\n      ...descuentoCompra,\n      subtotal: parseFloat((precio_con_descuento).toFixed(2)),\n      total: parseFloat((precio_con_descuento + datosCompra.impuestos).toFixed(2)),\n      porcentaje,\n      cantidad_descontada,\n      precio_con_descuento: parseFloat((precio_con_descuento).toFixed(2)),\n    });\n  };\n\n  return (\n    <div>\n      <Button\n        autoFocus\n        color=\"primary\"\n        variant=\"contained\"\n        size=\"large\"\n        onClick={() => handleClickOpen()}\n        disabled={!productosCompra.length || issue}\n        startIcon={<Done />}\n      >\n        Realizar compra\n      </Button>\n      <Dialog\n        open={open}\n        TransitionComponent={Transition}\n        keepMounted\n        onClose={handleClose}\n        aria-labelledby=\"dialog-confirmacion-compra\"\n        aria-describedby=\"dialog-confirmacion-compra-description\"\n        fullWidth\n        maxWidth=\"xs\"\n      >\n        <DialogContent>\n          <Box>\n            <Typography>\n              <b>Total de productos:</b>\n              {\" \" + productosCompra.length}\n            </Typography>\n            <Typography>\n              <b>Subtotal:</b>\n              {\" $\" +\n                formatoMexico(\n                  !descuentoCompra.subtotal\n                    ? datosCompra.subtotal\n                    : descuentoCompra.subtotal\n                )}\n            </Typography>\n            <Typography>\n              <b>Impuestos:</b>\n              {\" $\" + formatoMexico(datosCompra.impuestos)}\n            </Typography>\n            <Typography>\n              <b>Total:</b>\n              {\" $\" +\n                formatoMexico(\n                  !descuentoCompra.total\n                    ? datosCompra.total\n                    : descuentoCompra.total\n                )}\n            </Typography>\n          </Box>\n\n          <Box my={2}>\n            <FormControl\n              variant=\"outlined\"\n              fullWidth\n              size=\"small\"\n              name=\"forma_pago\"\n            >\n              <InputLabel id=\"forma_pago\">Forma de pago</InputLabel>\n              <Select\n                labelId=\"forma_pago\"\n                value={datosCompra.forma_pago}\n                name=\"forma_pago\"\n                onChange={(e) => obtenerFormaPago(e.target.value)}\n                label=\"Forma de pago\"\n              >\n                {formaPago.map((res, index) => (\n                  <MenuItem\n                    key={index}\n                    value={res.Value}\n                  >{`${res.Value} - ${res.Name}`}</MenuItem>\n                ))}\n              </Select>\n            </FormControl>\n            <FormControlLabel\n              control={\n                <Checkbox\n                  checked={descuentoCompra.descuento_aplicado}\n                  onChange={(e) => aplicarDescuento(e.target.checked)}\n                  name=\"descuento_aplicado\"\n                />\n              }\n              label=\"Aplicar descuento\"\n            />\n            <Grid container spacing={2}>\n              <Grid item md={6}>\n                <TextField\n                  variant=\"outlined\"\n                  size=\"small\"\n                  fullWidth\n                  onChange={(e) => obtenerPrecio(e.target.value)}\n                  disabled={!descuentoCompra.descuento_aplicado}\n                  value={descuentoCompra.cantidad_descontada}\n                  InputProps={{\n                    startAdornment: (\n                      <InputAdornment position=\"start\">$</InputAdornment>\n                    ),\n                  }}\n                />\n              </Grid>\n              <Grid item md={6}>\n                <TextField\n                  variant=\"outlined\"\n                  type=\"number\"\n                  size=\"small\"\n                  fullWidth\n                  onChange={(e) => obtenerPorcentaje(e.target.value)}\n                  disabled={!descuentoCompra.descuento_aplicado}\n                  value={descuentoCompra.porcentaje}\n                  InputProps={{\n                    startAdornment: (\n                      <InputAdornment position=\"start\">%</InputAdornment>\n                    ),\n                  }}\n                />\n              </Grid>\n            </Grid>\n          </Box>\n        </DialogContent>\n        <DialogActions>\n          <Button\n            onClick={handleClose}\n            color=\"inherit\"\n            disabled={loading_modal}\n          >\n            Cancelar\n          </Button>\n          <Button\n            onClick={() =>\n              realizarCompraBD(false, undefined, handleClose, setLoadingModal)\n            }\n            color=\"primary\"\n            startIcon={\n              loading_modal ? (\n                <CircularProgress color=\"inherit\" size={20} />\n              ) : (\n                <Done />\n              )\n            }\n            disabled={loading_modal || !datosCompra.forma_pago}\n          >\n            Realizar Compra\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n}\n","import React, { useContext, useState } from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Slide from \"@material-ui/core/Slide\";\nimport {\n  Box,\n  Checkbox,\n  CircularProgress,\n  FormControl,\n  FormControlLabel,\n  Grid,\n  InputAdornment,\n  InputLabel,\n  MenuItem,\n  Select,\n  TextField,\n  Typography,\n} from \"@material-ui/core\";\nimport { ComprasContext } from \"../../../../context/Compras/comprasContext\";\nimport { CreditCard, Done } from \"@material-ui/icons\";\nimport { formatoMexico } from \"../../../../config/reuserFunctions\";\nimport { formaPago } from \"../../Facturacion/catalogos\";\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function CompraCredito({ realizarCompraBD }) {\n  const [open, setOpen] = useState(false);\n  const [loading_modal, setLoadingModal] = useState(false);\n  const {\n    productosCompra,\n    datosCompra,\n    setDatosCompra,\n    issue,\n    descuentoCompra,\n    setDescuentoCompra,\n  } = useContext(ComprasContext);\n\n  const handleClickOpen = () => setOpen(true);\n  const handleClose = () => setOpen(false);\n\n  const obtenerFormaPago = (forma_pago) => {\n    setDatosCompra({\n      ...datosCompra,\n      forma_pago,\n    });\n  };\n\n  const aplicarDescuento = (descuento_aplicado) => {\n    if (!descuento_aplicado) {\n      setDescuentoCompra({\n        ...descuentoCompra,\n        subtotal: datosCompra.subtotal,\n        total: datosCompra.total,\n        descuento_aplicado,\n        porcentaje: 0,\n        cantidad_descontada: 0,\n        precio_con_descuento: 0,\n      });\n      return;\n    }\n    setDescuentoCompra({\n      ...descuentoCompra,\n      descuento_aplicado,\n    });\n  };\n\n  const obtenerPorcentaje = (value) => {\n    if (!value || parseFloat(value) === 0) {\n      setDescuentoCompra({\n        ...descuentoCompra,\n        subtotal: datosCompra.subtotal,\n        total: datosCompra.total,\n        porcentaje: 0,\n        cantidad_descontada: 0,\n        precio_con_descuento: 0,\n      });\n      return;\n    }\n    let porcentaje = parseFloat(value);\n    let cantidad_descontada = Math.round(\n      (datosCompra.subtotal * porcentaje) / 100\n    );\n    let precio_con_descuento = datosCompra.subtotal - cantidad_descontada;\n\n    setDescuentoCompra({\n      ...descuentoCompra,\n      subtotal: parseFloat(precio_con_descuento.toFixed(2)),\n      total: parseFloat(\n        (precio_con_descuento + datosCompra.impuestos).toFixed(2)\n      ),\n      porcentaje,\n      cantidad_descontada,\n      precio_con_descuento: parseFloat(precio_con_descuento.toFixed(2)),\n    });\n  };\n\n  const obtenerPrecio = (value) => {\n    if (!value || parseFloat(value) === 0) {\n      setDescuentoCompra({\n        ...descuentoCompra,\n        subtotal: datosCompra.subtotal,\n        total: datosCompra.total,\n        porcentaje: 0,\n        cantidad_descontada: 0,\n        precio_con_descuento: 0,\n      });\n      return;\n    }\n\n    let cantidad_descontada = parseFloat(value);\n    let porcentaje = Math.round(\n      (cantidad_descontada / datosCompra.subtotal) * 100\n    );\n    /* let descuento_porcentaje = 100 - porcentaje; */\n    let precio_con_descuento = datosCompra.subtotal - cantidad_descontada;\n\n    setDescuentoCompra({\n      ...descuentoCompra,\n      subtotal: parseFloat(precio_con_descuento.toFixed(2)),\n      total: parseFloat(\n        (precio_con_descuento + datosCompra.impuestos).toFixed(2)\n      ),\n      porcentaje,\n      cantidad_descontada,\n      precio_con_descuento: parseFloat(precio_con_descuento.toFixed(2)),\n    });\n  };\n\n  return (\n    <div>\n      <Button\n        autoFocus\n        color=\"primary\"\n        size=\"large\"\n        onClick={() => handleClickOpen()}\n        disabled={!productosCompra.length || issue}\n        startIcon={<CreditCard />}\n      >\n        Compra a Credito\n      </Button>\n      <Dialog\n        open={open}\n        TransitionComponent={Transition}\n        keepMounted\n        onClose={handleClose}\n        aria-labelledby=\"dialog-compra-credito\"\n        aria-describedby=\"dialog-compra-credito-description\"\n        fullWidth\n        maxWidth=\"xs\"\n      >\n        <DialogTitle id=\"dialog-compra-credito\">\n          {\"Comprar a credito\"}\n        </DialogTitle>\n        <DialogContent>\n          <Box>\n            <Typography>\n              <b>Total de productos:</b>\n              {\" \" + productosCompra.length}\n            </Typography>\n            <Typography>\n              <b>Subtotal:</b>\n              {\" $\" +\n                formatoMexico(\n                  !descuentoCompra.subtotal\n                    ? datosCompra.subtotal\n                    : descuentoCompra.subtotal\n                )}\n            </Typography>\n            <Typography>\n              <b>Impuestos:</b>\n              {\" $\" + formatoMexico(datosCompra.impuestos)}\n            </Typography>\n            <Typography>\n              <b>Total:</b>\n              {\" $\" +\n                formatoMexico(\n                  !descuentoCompra.total\n                    ? datosCompra.total\n                    : descuentoCompra.total\n                )}\n            </Typography>\n          </Box>\n          <Box my={2}>\n            <FormControl\n              variant=\"outlined\"\n              fullWidth\n              size=\"small\"\n              name=\"forma_pago\"\n            >\n              <InputLabel id=\"forma_pago\">Forma de pago</InputLabel>\n              <Select\n                labelId=\"forma_pago\"\n                value={datosCompra.forma_pago}\n                name=\"forma_pago\"\n                onChange={(e) => obtenerFormaPago(e.target.value)}\n                label=\"Forma de pago\"\n              >\n                {formaPago.map((res, index) => (\n                  <MenuItem\n                    key={index}\n                    value={res.Value}\n                  >{`${res.Value} - ${res.Name}`}</MenuItem>\n                ))}\n              </Select>\n            </FormControl>\n            <FormControlLabel\n              control={\n                <Checkbox\n                  checked={descuentoCompra.descuento_aplicado}\n                  onChange={(e) => aplicarDescuento(e.target.checked)}\n                  name=\"descuento_aplicado\"\n                />\n              }\n              label=\"Aplicar descuento\"\n            />\n            <Grid container spacing={2}>\n              <Grid item md={6}>\n                <TextField\n                  variant=\"outlined\"\n                  size=\"small\"\n                  fullWidth\n                  onChange={(e) => obtenerPrecio(e.target.value)}\n                  disabled={!descuentoCompra.descuento_aplicado}\n                  value={descuentoCompra.cantidad_descontada}\n                  InputProps={{\n                    startAdornment: (\n                      <InputAdornment position=\"start\">$</InputAdornment>\n                    ),\n                  }}\n                />\n              </Grid>\n              <Grid item md={6}>\n                <TextField\n                  variant=\"outlined\"\n                  type=\"number\"\n                  size=\"small\"\n                  fullWidth\n                  onChange={(e) => obtenerPorcentaje(e.target.value)}\n                  disabled={!descuentoCompra.descuento_aplicado}\n                  value={descuentoCompra.porcentaje}\n                  InputProps={{\n                    startAdornment: (\n                      <InputAdornment position=\"start\">%</InputAdornment>\n                    ),\n                  }}\n                />\n              </Grid>\n            </Grid>\n          </Box>\n          <Box>\n            <Typography>Fecha de vencimiento del crédito</Typography>\n            <TextField\n              fullWidth\n              size=\"small\"\n              variant=\"outlined\"\n              type=\"date\"\n              onChange={(e) => {\n                setDatosCompra({\n                  ...datosCompra,\n                  fecha_vencimiento_credito: e.target.value,\n                });\n              }}\n              value={datosCompra.fecha_vencimiento_credito}\n            />\n          </Box>\n        </DialogContent>\n        <DialogActions>\n          <Button\n            onClick={handleClose}\n            color=\"inherit\"\n            disabled={loading_modal}\n          >\n            Cancelar\n          </Button>\n          <Button\n            onClick={() =>\n              realizarCompraBD(false, \"credito\", handleClose, setLoadingModal)\n            }\n            color=\"primary\"\n            startIcon={\n              loading_modal ? (\n                <CircularProgress color=\"inherit\" size={20} />\n              ) : (\n                <Done />\n              )\n            }\n            disabled={loading_modal}\n          >\n            Realizar Compra\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n}\n","import React, { useContext, useEffect, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Slide from \"@material-ui/core/Slide\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Typography from \"@material-ui/core/Typography\";\nimport CloseIcon from \"@material-ui/icons/Close\";\n\nimport DatosProducto from \"./productos/DatosProducto\";\nimport { FcPlus } from \"react-icons/fc\";\nimport { Box } from \"@material-ui/core\";\nimport ListaCompras from \"./TablaCompras\";\nimport {\n  ComprasContext,\n  ComprasProvider,\n} from \"../../../../context/Compras/comprasContext\";\nimport \"date-fns\";\nimport { Done, Timer } from \"@material-ui/icons\";\nimport {\n  initial_state_datosCompra,\n  initial_state_datosProducto,\n  initial_state_precios_venta,\n  initial_state_productoOriginal,\n  initial_state_productosCompra,\n} from \"./initial_states\";\nimport { useMutation } from \"@apollo/client\";\nimport {\n  CREAR_COMPRA,\n  CREAR_COMPRA_ESPERA,\n} from \"../../../../gql/Compras/compras\";\nimport Close from \"@material-ui/icons/Close\";\nimport SnackBarMessages from \"../../../../components/SnackBarMessages\";\nimport BackdropComponent from \"../../../../components/Layouts/BackDrop\";\nimport ConfirmarCompra from \"./ConfirmarCompra\";\nimport CompraCredito from \"./CompraCredito\";\nimport moment from \"moment\";\n\nconst useStyles = makeStyles((theme) => ({\n  appBar: {\n    position: \"relative\",\n  },\n  title: {\n    marginLeft: theme.spacing(2),\n    flex: 1,\n  },\n  icon: {\n    fontSize: 100,\n  },\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function AbrirCompra({\n  compra,\n  status,\n  handleOpenDetalles,\n  refetchEspera,\n}) {\n  const classes = useStyles();\n  const [open, setOpen] = React.useState(false);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n    if (status === \"enEspera\") {\n      handleOpenDetalles();\n      refetchEspera();\n    }\n  };\n\n  return (\n    <div>\n      {status === \"enEspera\" ? (\n        <Button\n          fullWidth\n          onClick={handleClickOpen}\n          color=\"primary\"\n          variant=\"contained\"\n          size=\"large\"\n          startIcon={<Done />}\n        >\n          continuar compra\n        </Button>\n      ) : (\n        <Button fullWidth onClick={handleClickOpen}>\n          <Box display=\"flex\" flexDirection=\"column\">\n            <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n              <FcPlus className={classes.icon} />\n            </Box>\n            Abrir una compra\n          </Box>\n        </Button>\n      )}\n      <ComprasProvider>\n        <ModalCompra\n          open={open}\n          handleClose={handleClose}\n          status={status}\n          compra={compra}\n        />\n      </ComprasProvider>\n    </div>\n  );\n}\n\nconst ModalCompra = ({ open, handleClose, compra, status }) => {\n  const classes = useStyles();\n  const {\n    productosCompra,\n    datosCompra,\n    setDatosProducto,\n    setProductosCompra,\n    setDatosCompra,\n    setProductoOriginal,\n    setPreciosVenta,\n    issue,\n    descuentoCompra,\n    setDescuentoCompra,\n  } = useContext(ComprasContext);\n  const [openDelete, setOpenDelete] = useState(false);\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n  const [alert, setAlert] = useState({ message: \"\", status: \"\", open: false });\n  const [loading, setLoading] = useState(false);\n\n  const [crearCompra] = useMutation(CREAR_COMPRA);\n  const [crearCompraEnEspera] = useMutation(CREAR_COMPRA_ESPERA);\n\n  const limpiarCampos = () => {\n    setDatosProducto(initial_state_datosProducto);\n    setProductosCompra(initial_state_productosCompra);\n    setDatosCompra(initial_state_datosCompra);\n    setProductoOriginal(initial_state_productoOriginal);\n    setPreciosVenta(initial_state_precios_venta);\n    setDescuentoCompra({\n      subtotal: 0,\n      total: 0,\n      descuento_aplicado: false,\n      porcentaje: 0,\n      cantidad_descontada: 0,\n      precio_con_descuento: 0,\n    });\n  };\n\n  useEffect(() => {\n    if (status === \"enEspera\" && compra && open === true) {\n      setDatosCompra(compra);\n      setProductosCompra(compra.productos);\n    }\n  }, [open]);\n\n  const realizarCompraBD = async (\n    compra_en_espera,\n    credito,\n    handleClose,\n    setLoadingModal\n  ) => {\n    let datos = { ...datosCompra };\n    let productos = productosCompra;\n    if (status === \"enEspera\") {\n      productos = productosCompra.map((res) => {\n        delete res.conflicto;\n        return res;\n      });\n      delete datos.empresa;\n      delete datos.sucursal;\n      delete datos.usuario;\n    }\n\n    setLoading(true);\n    if (credito) setLoadingModal(true);\n    try {\n      datos.productos = productos;\n\n      if (compra_en_espera) {\n        datos.en_espera = true;\n        const result = await crearCompraEnEspera({\n          variables: {\n            input: datos,\n            empresa: sesion.empresa._id,\n            sucursal: sesion.sucursal._id,\n            usuario: sesion._id,\n          },\n        });\n        setAlert({\n          message: `¡Listo! ${result.data.crearCompraEnEspera.message}`,\n          status: \"success\",\n          open: true,\n        });\n      } else {\n        if (credito) {\n          datos.compra_credito = true;\n          datos.saldo_credito_pendiente = datos.total;\n        }\n        if (descuentoCompra.descuento_aplicado) {\n          const {\n            descuento_aplicado,\n            subtotal,\n            total,\n            ...descuento\n          } = descuentoCompra;\n          datos.descuento_aplicado = descuentoCompra.descuento_aplicado;\n          datos.subtotal = descuentoCompra.subtotal;\n          datos.total = descuentoCompra.total;\n          datos.descuento = descuento;\n        }\n        /* console.log(datos); */\n        const result = await crearCompra({\n          variables: {\n            input: datos,\n            empresa: sesion.empresa._id,\n            sucursal: sesion.sucursal._id,\n            usuario: sesion._id,\n          },\n        });\n        setAlert({\n          message: `¡Listo! ${result.data.crearCompra.message}`,\n          status: \"success\",\n          open: true,\n        });\n      }\n      setLoading(false);\n      limpiarCampos();\n      if (handleClose) {\n        handleClose();\n        setLoadingModal(false);\n      }\n    } catch (error) {\n      setLoading(false);\n      setAlert({\n        message: `Error de servidor`,\n        status: \"error\",\n        open: true,\n      });\n      if (handleClose) {\n        handleClose();\n        setLoadingModal(false);\n      }\n      console.log(error);\n      if (error.networkError) {\n        console.log(error.networkError.result);\n      } else if (error.graphQLErrors) {\n        console.log(error.graphQLErrors);\n      }\n    }\n  };\n\n  const handleToggleDelete = () => {\n    if (productosCompra.length > 0) {\n      setOpenDelete(!openDelete);\n    } else {\n      limpiarCampos();\n      handleClose();\n    }\n  };\n\n  return (\n    <Dialog\n      fullScreen\n      open={open}\n      onClose={handleClose}\n      TransitionComponent={Transition}\n    >\n      <DialogTitle style={{ padding: 0 }}>\n        <AppBar className={classes.appBar}>\n          <Toolbar>\n            <Typography variant=\"h6\" className={classes.title}>\n              Nueva compra\n            </Typography>\n            <Box m={1}>\n              <Button\n                variant=\"contained\"\n                color=\"secondary\"\n                onClick={handleToggleDelete}\n                size=\"large\"\n              >\n                <CloseIcon style={{ fontSize: 30 }} />\n              </Button>\n              <CancelarCompra\n                handleClose={handleClose}\n                handleToggleDelete={handleToggleDelete}\n                openDelete={openDelete}\n              />\n            </Box>\n          </Toolbar>\n        </AppBar>\n      </DialogTitle>\n      <DialogContent>\n        <SnackBarMessages alert={alert} setAlert={setAlert} />\n        <BackdropComponent loading={loading} setLoading={setLoading} />\n        <DatosProducto status={status} />\n        <Box my={2} />\n        <ListaCompras />\n      </DialogContent>\n\n      <DialogActions style={{ justifyContent: \"center\" }}>\n        <Button\n          color=\"inherit\"\n          size=\"large\"\n          onClick={() => handleToggleDelete()}\n          startIcon={<Close />}\n        >\n          Cancelar\n        </Button>\n        {status === \"enEspera\" ? null : (\n          <Button\n            autoFocus\n            color=\"primary\"\n            variant=\"text\"\n            size=\"large\"\n            onClick={() => realizarCompraBD(true)} //realiza la compra en espera en la funcion\n            disabled={!productosCompra.length}\n            startIcon={<Timer />}\n          >\n            Compra en espera\n          </Button>\n        )}\n        <CompraCredito realizarCompraBD={realizarCompraBD} />\n        <ConfirmarCompra realizarCompraBD={realizarCompraBD} />\n      </DialogActions>\n    </Dialog>\n  );\n};\n\nconst CancelarCompra = ({ handleClose, handleToggleDelete, openDelete }) => {\n  const {\n    setProductosCompra,\n    setDatosCompra,\n    setPreciosVenta,\n    setProductoOriginal,\n    setDatosProducto,\n  } = useContext(ComprasContext);\n\n  const cancelarCompra = () => {\n    /* reset states */\n    setDatosProducto(initial_state_datosProducto);\n    setDatosCompra(initial_state_datosCompra);\n    setPreciosVenta(initial_state_precios_venta);\n    setProductoOriginal(initial_state_productoOriginal);\n    setProductosCompra(initial_state_productosCompra);\n    /* cerrar modales */\n    handleToggleDelete();\n    handleClose();\n  };\n\n  return (\n    <div>\n      <Dialog\n        open={openDelete}\n        TransitionComponent={Transition}\n        keepMounted\n        onClose={handleToggleDelete}\n        aria-labelledby=\"modal-eliminar-compra\"\n      >\n        <DialogTitle id=\"modal-eliminar-compra\">\n          ¿Quieres cancelar esta compra?\n        </DialogTitle>\n\n        <DialogActions>\n          <Button onClick={handleToggleDelete} color=\"primary\">\n            Cancelar\n          </Button>\n          <Button onClick={cancelarCompra} color=\"secondary\">\n            Aceptar\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n};\n","import React, { Fragment } from \"react\";\nimport { CloudDownloadOutlined } from \"@material-ui/icons\";\nimport { Grid, Button, Box } from \"@material-ui/core\";\nimport ReactExport from \"react-export-excel\";\nimport {\n  formatoFecha,\n  formatoMexico,\n} from \"../../../../config/reuserFunctions\";\n\nconst ExcelFile = ReactExport.ExcelFile;\nconst ExcelSheet = ReactExport.ExcelFile.ExcelSheet;\nconst ExcelColumn = ReactExport.ExcelFile.ExcelColumn;\n\nexport default function ExportarProductosComprasExcel({ compra }) {\n  const {\n    almacen,\n    proveedor,\n    fecha_registro,\n    subtotal,\n    impuestos,\n    total,\n    productos,\n  } = compra;\n\n  const compra_realizada = [\n    {\n      almacen: almacen.nombre_almacen,\n      proveedor: proveedor.nombre_cliente,\n      fecha_registro: formatoFecha(fecha_registro),\n      subtotal: formatoMexico(subtotal),\n      impuestos: formatoMexico(impuestos),\n      total: formatoMexico(total),\n    },\n  ];\n\n  const productos_detalles = productos.map((productos) => {\n    const {\n      producto,\n      medida,\n      color,\n      unidad,\n      cantidad,\n      Cantidad_regalo,\n      cantidad_total,\n      descuento_precio,\n      descuento_porcentaje,\n      subtotal,\n      impuestos,\n      total,\n    } = productos;\n    const detalle_producto = {\n      producto: producto.datos_generales.nombre_comercial,\n      medida: medida ? medida.medida : \"N/A\",\n      color: color ? color.color : \"N/A\",\n      unidad,\n      cantidad,\n      Cantidad_regalo,\n      cantidad_total,\n      descuento_precio,\n      descuento_porcentaje,\n      subtotal: formatoMexico(subtotal),\n      impuestos: formatoMexico(impuestos),\n      total: formatoMexico(total),\n    };\n\n    return detalle_producto;\n  });\n\n  return (\n    <Fragment>\n      <Grid>\n        <Grid item>\n          <ExcelFile\n            element={\n              <Box display=\"flex\" justifyContent=\"flex-end\">\n                <Button\n                  variant=\"contained\"\n                  color=\"primary\"\n                  startIcon={<CloudDownloadOutlined />}\n                >\n                  Exportar a Excel\n                </Button>\n              </Box>\n            }\n            filename={\"Detalle de compra\"}\n          >\n            <ExcelSheet data={compra_realizada} name=\"Detalle compra\">\n              <ExcelColumn label=\"Almacen\" value=\"almacen\" />\n              <ExcelColumn label=\"Proveedor\" value=\"proveedor\" />\n              <ExcelColumn label=\"Fecha de compra\" value=\"fecha_registro\" />\n              <ExcelColumn label=\"Subtotal\" value=\"subtotal\" />\n              <ExcelColumn label=\"Impuestos\" value=\"impuestos\" />\n              <ExcelColumn label=\"Total\" value=\"total\" />\n            </ExcelSheet>\n            <ExcelSheet data={productos_detalles} name=\"Productos de la compra\">\n              <ExcelColumn label=\"Producto\" value=\"producto\" />\n              <ExcelColumn label=\"Medida\" value=\"medida\" />\n              <ExcelColumn label=\"Color\" value=\"color\" />\n              <ExcelColumn label=\"Unidad\" value=\"unidad\" />\n              <ExcelColumn label=\"Cantidad\" value=\"cantidad\" />\n              <ExcelColumn label=\"Cantidad de regalo\" value=\"cantidad_regalo\" />\n              <ExcelColumn label=\"Cantidad total\" value=\"cantidad_total\" />\n              <ExcelColumn\n                label=\"Precio de descuento\"\n                value=\"descuento_precio\"\n              />\n              <ExcelColumn\n                label=\"Porcentaje de descuento\"\n                value=\"descuento_porcentaje\"\n              />\n              <ExcelColumn label=\"Subtotal\" value=\"subtotal\" />\n              <ExcelColumn label=\"Impuestos\" value=\"impuestos\" />\n              <ExcelColumn label=\"Total\" value=\"total\" />\n            </ExcelSheet>\n          </ExcelFile>\n        </Grid>\n      </Grid>\n    </Fragment>\n  );\n}\n","import React, { Fragment, useEffect, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\n\nimport Box from \"@material-ui/core/Box\";\nimport Chip from \"@material-ui/core/Chip\";\nimport Grid from \"@material-ui/core/Grid\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { useTheme } from \"@material-ui/core\";\nimport SearchOutlinedIcon from \"@material-ui/icons/SearchOutlined\";\nimport { formatoMexico } from \"../../../../config/reuserFunctions\";\nimport ExportarProductosComprasExcel from \"./ExportarProductosCompra\";\n\nconst useStyles = makeStyles({\n  root: {\n    width: \"100%\",\n  },\n  container: {\n    height: \"50vh\",\n  },\n});\n\nexport default function DatosDeCompra({ compra }) {\n  const classes = useStyles();\n  const theme = useTheme();\n  const { productos } = compra;\n  const [busqueda, setBusqueda] = useState(\"\");\n  const [productosFiltrados, setProductosFiltrados] = useState([]);\n\n  const obtenerBusqueda = (value) => setBusqueda(value);\n\n  useEffect(() => {\n    setProductosFiltrados(\n      productos.filter((datos) => {\n        return datos.producto.datos_generales.nombre_comercial\n          .toLowerCase()\n          .includes(busqueda.toLowerCase());\n      })\n    );\n  }, [busqueda, productos]);\n\n  return (\n    <Fragment>\n      <Box mb={1} display=\"flex\">\n        <Typography style={{ marginRight: 16 }}>\n          <b>Proveedor: </b>\n          {compra.proveedor.nombre_cliente}\n        </Typography>\n        <Typography style={{ marginRight: 16 }}>\n          <b>Almacen: </b>\n          {compra.almacen.nombre_almacen}\n        </Typography>\n        <Typography style={{ marginRight: 16 }}>\n          <b>Subtotal: ${compra.subtotal}</b>\n        </Typography>\n        <Typography style={{ marginRight: 16 }}>\n          <b>Impuestos: ${compra.impuestos}</b>\n        </Typography>\n        <Typography style={{ marginRight: 16 }}>\n          <b>Total: ${compra.total}</b>\n        </Typography>\n        {compra.compra_credito === true ? (\n          <Chip\n          label={\n            compra.credito_pagado === true ? 'Credito pagado' : `Saldo pendiente: $${formatoMexico(compra.saldo_credito_pendiente)}`\n          }\n          color={compra.credito_pagado === true ? \"primary\" : \"secondary\"}\n          variant=\"outlined\"\n        />\n        ) : null}\n      </Box>\n      <Box mb={2} display=\"flex\">\n        <Grid container>\n          <Grid item sm={6} xs={12}>\n            <TextField\n              fullWidth\n              size=\"small\"\n              variant=\"outlined\"\n              placeholder=\"Buscar una compra...\"\n              onChange={(e) => obtenerBusqueda(e.target.value)}\n              InputProps={{\n                startAdornment: (\n                  <InputAdornment position=\"start\">\n                    <SearchOutlinedIcon color=\"action\" />\n                  </InputAdornment>\n                ),\n              }}\n            />\n          </Grid>\n          <Grid item sm={6} xs={12}>\n            <ExportarProductosComprasExcel compra={compra} />\n          </Grid>\n        </Grid>\n      </Box>\n      <Paper className={classes.root}>\n        <TableContainer className={classes.container}>\n          <Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n            <TableHead>\n              <TableRow>\n                <TableCell>Producto</TableCell>\n                <TableCell>Medida</TableCell>\n                <TableCell>Color</TableCell>\n                <TableCell>Unidad</TableCell>\n                <TableCell>Cantidad</TableCell>\n                <TableCell>C. regalo</TableCell>\n                <TableCell>C. total</TableCell>\n                <TableCell>Descuento</TableCell>\n                <TableCell>Subtotal</TableCell>\n                <TableCell>Impuestos</TableCell>\n                <TableCell>Total</TableCell>\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {productosFiltrados.map((datos, index) => {\n                return (\n                  <TableRow hover tabIndex={-1} key={index}>\n                    <TableCell>\n                      {datos.producto.datos_generales.nombre_comercial}\n                    </TableCell>\n                    <TableCell padding=\"checkbox\">\n                      {datos.medida && datos.medida.medida ? datos.medida.medida : \"N/A\"}\n                    </TableCell>\n                    <TableCell padding=\"checkbox\">\n                      {datos.color && datos.color.hex ? (\n                        <Chip\n                          label={datos.color.color}\n                          size=\"small\"\n                          style={{\n                            backgroundColor: datos.color.hex,\n                            color: theme.palette.getContrastText(\n                              datos.color.hex\n                            ),\n                          }}\n                        />\n                      ) : (\n                        \"N/A\"\n                      )}\n                    </TableCell>\n                    <TableCell>{datos.unidad}</TableCell>\n                    <TableCell>{datos.cantidad}</TableCell>\n                    <TableCell>{datos.cantidad_regalo}</TableCell>\n                    <TableCell>{datos.cantidad_total}</TableCell>\n                    <TableCell>{`$${datos.descuento_precio} - %${datos.descuento_porcentaje}`}</TableCell>\n                    <TableCell>\n                      <b>${formatoMexico(datos.subtotal)}</b>\n                    </TableCell>\n                    <TableCell>\n                      <b>${formatoMexico(datos.impuestos)}</b>\n                    </TableCell>\n                    <TableCell>\n                      <b>${formatoMexico(datos.total)}</b>\n                    </TableCell>\n                  </TableRow>\n                );\n              })}\n            </TableBody>\n          </Table>\n        </TableContainer>\n      </Paper>\n    </Fragment>\n  );\n}\n","import React, { Fragment, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport {\n  Dialog,\n  Typography,\n  Box,\n  Button,\n  IconButton,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n  Slide,\n  Chip,\n} from \"@material-ui/core\";\nimport DatosDeCompra from \"./DatosDeCompra\";\nimport {\n  formatoFecha,\n  formatoMexico,\n} from \"../../../../config/reuserFunctions\";\nimport { AssignmentOutlined, Done } from \"@material-ui/icons\";\n\nconst useStyles = makeStyles({\n  root: {\n    width: \"100%\",\n  },\n  container: {\n    height: \"72vh\",\n  },\n});\n\nexport default function ListaProductos({ obtenerComprasRealizadas }) {\n  const classes = useStyles();\n\n  return (\n    <Paper className={classes.root} variant=\"outlined\">\n      <TableContainer className={classes.container}>\n        <Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n          <TableHead>\n            <TableRow>\n              <TableCell>Almacen</TableCell>\n              <TableCell>Proveedor</TableCell>\n              <TableCell>Fecha de compra</TableCell>\n              <TableCell>Compra a credito</TableCell>\n              <TableCell>Subtotal</TableCell>\n              <TableCell>Impuestos</TableCell>\n              <TableCell>Total</TableCell>\n              <TableCell>Productos</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {obtenerComprasRealizadas.map((compra, index) => (\n              <RenderRowsCompras key={index} compra={compra} />\n            ))}\n          </TableBody>\n        </Table>\n      </TableContainer>\n    </Paper>\n  );\n}\n\nconst RenderRowsCompras = ({ compra }) => {\n  const {\n    almacen,\n    proveedor,\n    fecha_registro,\n    compra_credito,\n    credito_pagado,\n    subtotal,\n    impuestos,\n    total,\n  } = compra;\n\n  return (\n    <TableRow hover tabIndex={-1}>\n      <TableCell>{almacen.nombre_almacen}</TableCell>\n      <TableCell>{proveedor.nombre_cliente}</TableCell>\n      <TableCell>{formatoFecha(fecha_registro)}</TableCell>\n      <TableCell>\n        {compra_credito === true ? (\n          <Chip\n          label={\n            credito_pagado === true ? 'Credito: Pagado' : \"Credito: Pendiente\"\n          }\n          color={credito_pagado === true ? \"primary\" : \"secondary\"}\n          variant=\"outlined\"\n        />\n        ) : null}\n      </TableCell>\n      <TableCell>\n        <b>${formatoMexico(subtotal)}</b>\n      </TableCell>\n      <TableCell>\n        <b>${formatoMexico(impuestos)}</b>\n      </TableCell>\n      <TableCell>\n        <b>${formatoMexico(total)}</b>\n      </TableCell>\n      <TableCell>\n        <DetallesCompra compra={compra} />\n      </TableCell>\n    </TableRow>\n  );\n};\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nconst DetallesCompra = ({ compra }) => {\n  const [open, setOpen] = useState(false);\n\n  const handleOpen = () => {\n    setOpen(!open);\n  };\n  return (\n    <Fragment>\n      <IconButton onClick={() => handleOpen()}>\n        <AssignmentOutlined />\n      </IconButton>\n      <Dialog\n        open={open}\n        onClose={handleOpen}\n        fullWidth\n        maxWidth=\"lg\"\n        TransitionComponent={Transition}\n      >\n        <DialogTitle>\n          <Box display=\"flex\">\n            <Typography variant=\"h6\" style={{ flexGrow: 1 }}>\n              Datos de compra\n            </Typography>\n            <Button\n              variant=\"text\"\n              color=\"primary\"\n              onClick={handleOpen}\n              size=\"large\"\n            >\n              <CloseIcon style={{ fontSize: 30 }} />\n            </Button>\n          </Box>\n        </DialogTitle>\n        <DialogContent>\n          <DatosDeCompra compra={compra} />\n        </DialogContent>\n        <DialogActions>\n          <Button\n            variant=\"text\"\n            color=\"primary\"\n            size=\"large\"\n            startIcon={<Done />}\n            onClick={() => handleOpen()}\n          >\n            Acpetar\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </Fragment>\n  );\n};\n","import React, { Fragment } from \"react\";\nimport { CloudDownloadOutlined } from \"@material-ui/icons\";\nimport { Grid, Button, Box } from \"@material-ui/core\";\nimport ReactExport from \"react-export-excel\";\nimport {\n  formatoFecha,\n  formatoMexico,\n} from \"../../../../config/reuserFunctions\";\n\nconst ExcelFile = ReactExport.ExcelFile;\nconst ExcelSheet = ReactExport.ExcelFile.ExcelSheet;\nconst ExcelColumn = ReactExport.ExcelFile.ExcelColumn;\n\nexport default function ExportarComprasExcel({\n  obtenerComprasRealizadas,\n  filtro,\n  filtroFecha,\n}) {\n  const compras = obtenerComprasRealizadas.map((compra) => {\n    const {\n      almacen,\n      proveedor,\n      fecha_registro,\n      subtotal,\n      impuestos,\n      total,\n    } = compra;\n    const compra_realizada = {\n      almacen: almacen.nombre_almacen,\n      proveedor: proveedor.nombre_cliente,\n      fecha_registro: formatoFecha(fecha_registro),\n      subtotal: formatoMexico(subtotal),\n      impuestos: formatoMexico(impuestos),\n      total: formatoMexico(total),\n    };\n\n    return compra_realizada;\n  });\n\n  let nombre_documento = \"\";\n  if (filtro && filtroFecha.fecha) {\n    nombre_documento = `Lista de compras realizadas desde hace ${filtroFecha.since} y filtradas por ${filtro}`;\n  } else if (filtro && !filtroFecha.fecha) {\n    nombre_documento = `Lista de compras realizadas filtradas por ${filtro}`;\n  } else if (!filtro && filtroFecha.fecha) {\n    nombre_documento = `Lista de compras realizadas desde hace ${filtroFecha.since}`;\n  } else if (!filtro && !filtroFecha.fecha) {\n    nombre_documento = `Lista de compras realizadas`;\n  }\n\n  return (\n    <Fragment>\n      <Grid>\n        <Grid item>\n          <ExcelFile\n            element={\n              <Box display=\"flex\" justifyContent=\"flex-end\">\n                <Button\n                  variant=\"contained\"\n                  color=\"primary\"\n                  startIcon={<CloudDownloadOutlined />}\n                >\n                  Exportar a Excel\n                </Button>\n              </Box>\n            }\n            filename={nombre_documento}\n          >\n            <ExcelSheet data={compras} name={nombre_documento}>\n              <ExcelColumn label=\"Almacen\" value=\"almacen\" />\n              <ExcelColumn label=\"Proveedor\" value=\"proveedor\" />\n              <ExcelColumn label=\"Fecha de compra\" value=\"fecha_registro\" />\n              <ExcelColumn label=\"Subtotal\" value=\"subtotal\" />\n              <ExcelColumn label=\"Impuestos\" value=\"impuestos\" />\n              <ExcelColumn label=\"Total\" value=\"total\" />\n            </ExcelSheet>\n          </ExcelFile>\n        </Grid>\n      </Grid>\n    </Fragment>\n  );\n}\n","import React, { Fragment, useRef, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Box from \"@material-ui/core/Box\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport Container from \"@material-ui/core/Container\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Typography from \"@material-ui/core/Typography\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport Slide from \"@material-ui/core/Slide\";\nimport Chip from \"@material-ui/core/Chip\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Select from \"@material-ui/core/Select\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Grid from \"@material-ui/core/Grid\";\nimport { FcInspection } from \"react-icons/fc\";\nimport ListaCompras from \"./ListaCompras\";\nimport { useQuery } from \"@apollo/client\";\nimport { OBTENER_COMPRAS_REALIZADAS } from \"../../../../gql/Compras/compras\";\nimport ErrorPage from \"../../../../components/ErrorPage\";\nimport { SearchOutlined } from \"@material-ui/icons\";\nimport moment from \"moment\";\nimport ExportarComprasExcel from \"./ExportarComprasExcel\";\n\nconst useStyles = makeStyles((theme) => ({\n  appBar: {\n    position: \"relative\",\n  },\n  title: {\n    marginLeft: theme.spacing(2),\n    flex: 1,\n  },\n  icon: {\n    fontSize: 100,\n  },\n  formInputFlex: {\n    display: \"flex\",\n    \"& > *\": {\n      margin: `${theme.spacing(1)}px ${theme.spacing(1)}px`,\n    },\n  },\n  formInput: {\n    margin: `${theme.spacing(1)}px ${theme.spacing(2)}px`,\n  },\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function ComprasRealizadas() {\n  const classes = useStyles();\n  const [open, setOpen] = React.useState(false);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  return (\n    <div>\n      <Button fullWidth onClick={handleClickOpen}>\n        <Box display=\"flex\" flexDirection=\"column\">\n          <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n            <FcInspection className={classes.icon} />\n          </Box>\n          Compras realizadas\n        </Box>\n      </Button>\n      <Dialog\n        fullScreen\n        open={open}\n        onClose={handleClose}\n        TransitionComponent={Transition}\n      >\n        <AppBar className={classes.appBar}>\n          <Toolbar>\n            <Typography variant=\"h6\" className={classes.title}>\n              Compras realizadas\n            </Typography>\n            <Box m={1}>\n              <Button\n                variant=\"contained\"\n                color=\"secondary\"\n                onClick={handleClose}\n                size=\"large\"\n              >\n                <CloseIcon style={{ fontSize: 30 }} />\n              </Button>\n            </Box>\n          </Toolbar>\n        </AppBar>\n        <Container maxWidth=\"xl\">\n          <ContentDialogCompras />\n        </Container>\n      </Dialog>\n    </div>\n  );\n}\n\nconst ContentDialogCompras = () => {\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n  const [filtro, setFiltro] = useState(\"\");\n  const [filtroFecha, setFiltroFecha] = useState({ fecha: \"\", since: \"todos\" });\n  const searchfilter = useRef(null);\n  const filterDate = useRef(null);\n\n  /* Queries */\n  const { loading, data, error, refetch } = useQuery(\n    OBTENER_COMPRAS_REALIZADAS,\n    {\n      variables: {\n        empresa: sesion.empresa._id,\n        sucursal: sesion.sucursal._id,\n        fecha: filtroFecha.fecha,\n      },\n      fetchPolicy: \"network-only\",\n    }\n  );\n\n  if (loading)\n    return (\n      <Box\n        display=\"flex\"\n        flexDirection=\"column\"\n        justifyContent=\"center\"\n        alignItems=\"center\"\n        height=\"40vh\"\n      >\n        <CircularProgress />\n        <Typography variant=\"h5\">Cargando</Typography>\n      </Box>\n    );\n  if (error) {\n    return <ErrorPage error={error} altura={300} />;\n  }\n\n  let obtenerComprasRealizadas = [];\n  if (data) obtenerComprasRealizadas = data.obtenerComprasRealizadas;\n\n  const obtenerBusqueda = (e, value) => {\n    e.preventDefault();\n    refetch({ filtro: value, fecha: filtroFecha.fecha });\n    setFiltro(value);\n  };\n\n  const handleDeleteFiltro = () => {\n    refetch({ filtro: \"\", fecha: filtroFecha.fecha });\n    setFiltro(\"\");\n    searchfilter.current.value = \"\";\n  };\n  const handleDeleteFecha = () => {\n    refetch({ filtro, fecha: \"\" });\n    setFiltroFecha({ since: \"todos\", fecha: \"\" });\n    filterDate.current.value = \"todos\";\n  };\n\n  const obtenerFecha = (value) => {\n    switch (value) {\n      case \"7 dias\":\n        setFiltroFecha({\n          since: value,\n          fecha: moment().subtract(7, \"d\").format(),\n        });\n        refetch({ filtro, fecha: moment().subtract(7, \"d\").format() });\n        break;\n      case \"2 semanas\":\n        setFiltroFecha({\n          since: value,\n          fecha: moment().subtract(2, \"w\").format(),\n        });\n        refetch({ filtro, fecha: moment().subtract(2, \"w\").format() });\n        break;\n      case \"1 mes\":\n        setFiltroFecha({\n          since: value,\n          fecha: moment().subtract(1, \"M\").format(),\n        });\n        refetch({ filtro, fecha: moment().subtract(1, \"M\").format() });\n        break;\n      case \"3 meses\":\n        setFiltroFecha({\n          since: value,\n          fecha: moment().subtract(3, \"M\").format(),\n        });\n        refetch({ filtro, fecha: moment().subtract(3, \"M\").format() });\n        break;\n      case \"6 meses\":\n        setFiltroFecha({\n          since: value,\n          fecha: moment().subtract(6, \"M\").format(),\n        });\n        refetch({ filtro, fecha: moment().subtract(6, \"M\").format() });\n        break;\n      case \"8 meses\":\n        setFiltroFecha({\n          since: value,\n          fecha: moment().subtract(8, \"M\").format(),\n        });\n        refetch({ filtro, fecha: moment().subtract(8, \"M\").format() });\n        break;\n      case \"1 año\":\n        setFiltroFecha({\n          since: value,\n          fecha: moment().subtract(1, \"y\").format(),\n        });\n        refetch({ filtro, fecha: moment().subtract(1, \"y\").format() });\n        break;\n      default:\n        setFiltroFecha({ since: \"todos\", fecha: \"\" });\n        refetch({ filtro, fecha: \"\" });\n        break;\n    }\n  };\n\n  return (\n    <Fragment>\n      <Box my={3}>\n        <Grid container spacing={2}>\n          <Grid item md={4} xs={12}>\n            <form onSubmit={(e) => obtenerBusqueda(e, e.target[0].value)}>\n              <TextField\n                inputRef={searchfilter}\n                fullWidth\n                size=\"small\"\n                variant=\"outlined\"\n                placeholder=\"Buscar una compra...\"\n                InputProps={{\n                  endAdornment: (\n                    <InputAdornment position=\"end\">\n                      <IconButton type=\"submit\" color=\"primary\" size=\"medium\">\n                        <SearchOutlined />\n                      </IconButton>\n                    </InputAdornment>\n                  ),\n                }}\n              />\n            </form>\n          </Grid>\n          <Grid item md={4} xs={12}>\n            <FormControl variant=\"outlined\" fullWidth size=\"small\">\n              <InputLabel id=\"label-select-fecha-filter\">\n                Filtrar desde...\n              </InputLabel>\n              <Select\n                inputRef={filterDate}\n                labelId=\"label-select-fecha-filter\"\n                value={filtroFecha.since}\n                onChange={(e) => obtenerFecha(e.target.value)}\n                label=\"Filtrar desde...\"\n              >\n                <MenuItem value=\"todos\">\n                  <em>Todos los registros</em>\n                </MenuItem>\n                <MenuItem value=\"7 dias\">hace 7 días</MenuItem>\n                <MenuItem value=\"2 semanas\">hace 2 semanas</MenuItem>\n                <MenuItem value=\"1 mes\">hace 1 mes</MenuItem>\n                <MenuItem value=\"3 meses\">hace 3 meses</MenuItem>\n                <MenuItem value=\"6 meses\">hace 6 meses</MenuItem>\n                <MenuItem value=\"8 meses\">hace 8 meses</MenuItem>\n                <MenuItem value=\"1 año\">hace 1 año</MenuItem>\n              </Select>\n            </FormControl>\n          </Grid>\n          <Grid item md={4} xs={12}>\n            <ExportarComprasExcel\n              obtenerComprasRealizadas={obtenerComprasRealizadas}\n              filtro={filtro}\n              filtroFecha={filtroFecha}\n            />\n          </Grid>\n        </Grid>\n      </Box>\n      {filtro || filtroFecha.fecha ? (\n        <Box display=\"flex\" mb={1}>\n          <Typography variant=\"h6\">Resultados de:</Typography>\n          <Box mr={1} />\n          {filtro ? (\n            <Chip\n              variant=\"outlined\"\n              size=\"medium\"\n              label={filtro}\n              onDelete={handleDeleteFiltro}\n            />\n          ) : null}\n          <Box mx={1} />\n          {filtroFecha.fecha ? (\n            <Chip\n              variant=\"outlined\"\n              size=\"medium\"\n              label={`Desde hace ${filtroFecha.since}`}\n              onDelete={handleDeleteFecha}\n            />\n          ) : null}\n        </Box>\n      ) : null}\n\n      <ListaCompras obtenerComprasRealizadas={obtenerComprasRealizadas} />\n    </Fragment>\n  );\n};\n","import React, { Fragment, useCallback, useEffect, useState } from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport Slide from \"@material-ui/core/Slide\";\nimport { CheckCircle, Done, VerifiedUser } from \"@material-ui/icons\";\nimport { Box, CircularProgress } from \"@material-ui/core\";\n\nimport { useLazyQuery } from \"@apollo/client\";\nimport { OBTENER_PRODUCTOS } from \"../../../../gql/Catalogos/productos\";\nimport ErrorPage from \"../../../../components/ErrorPage\";\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function VerificarProductosCompras({\n  compra,\n  nuevoArray,\n  setNuevoArray,\n  setVerificado,\n}) {\n  const [open, setOpen] = useState(false);\n  const [success, setSuccess] = useState(false);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    if (success) {\n      setVerificado(true);\n    }\n    setOpen(false);\n  };\n\n  return (\n    <div>\n      <Button\n        variant=\"contained\"\n        color=\"primary\"\n        onClick={() => handleClickOpen()}\n        startIcon={<VerifiedUser />}\n      >\n        Continuar compra\n      </Button>\n      <Dialog\n        open={open}\n        TransitionComponent={Transition}\n        keepMounted\n        /* onClose={() => handleClose()} */\n        onClose={(event, reason) => {\n          if (reason !== \"backdropClick\") {\n            handleClose();\n          }\n        }}\n        aria-labelledby=\"dialog-verificarcompra-title\"\n        aria-describedby=\"dialog-verificarcompra-description\"\n        fullWidth\n        maxWidth=\"sm\"\n      >\n        <ModalVerificacion\n          handleClose={handleClose}\n          compra={compra}\n          handleClickOpen={handleClickOpen}\n          open={open}\n          nuevoArray={nuevoArray}\n          setNuevoArray={setNuevoArray}\n          setSuccess={setSuccess}\n        />\n      </Dialog>\n    </div>\n  );\n}\n\nconst ModalVerificacion = ({\n  handleClose,\n  compra,\n  handleClickOpen,\n  open,\n  nuevoArray,\n  setNuevoArray,\n  setSuccess,\n}) => {\n  const [loadingVerificacion, setLoadingVerificacion] = useState(false);\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n  let count = 0;\n\n  /* Queries */\n  const [getQuery, { loading, data, error }] = useLazyQuery(OBTENER_PRODUCTOS, {\n    variables: {\n      empresa: sesion.empresa._id,\n      sucursal: sesion.sucursal._id,\n      almacen: compra.almacen.id_almacen,\n    },\n    fetchPolicy: \"network-only\",\n  });\n\n  if (data) count = 1;\n\n  useEffect(() => {\n    if (open && count === 0) {\n      getQuery();\n      count = 1;\n    }\n  }, [handleClickOpen]);\n\n  useEffect(() => {\n    if (data) {\n      verificarProductos();\n    }\n  }, [data]);\n\n  if (loading) {\n    return (\n      <Fragment>\n        <DialogContent\n          style={{\n            height: 150,\n            display: \"flex\",\n            alignItems: \"center\",\n            justifyContent: \"center\",\n            flexDirection: \"column\",\n          }}\n        >\n          <DialogContentText id=\"dialog-verificarcompra-description\">\n            Si ya no hay existencias en tu producto se marcaran en la tabla y se\n            quitaran al retomar la compra para no causar conflictos, podras\n            editar tu compra mas adelante\n          </DialogContentText>\n          <Box display=\"flex\" alignItems=\"center\">\n            <CircularProgress\n              size={18}\n              color=\"primary\"\n              style={{ marginRight: 8 }}\n            />\n            Obteniendo productos de la Base de datos...\n          </Box>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={handleClose} color=\"inherit\">\n            Cancelar\n          </Button>\n        </DialogActions>\n      </Fragment>\n    );\n  }\n\n  if (error) {\n    return (\n      <Fragment>\n        <DialogContent>\n          <ErrorPage error={error} altura={130} />\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={handleClose} color=\"inherit\">\n            Cerrar\n          </Button>\n        </DialogActions>\n      </Fragment>\n    );\n  }\n\n  let obtenerProductos = [];\n  if (data) obtenerProductos = data.obtenerProductos;\n\n  /* console.log(compra); */\n\n  function verificarProductos() {\n    setLoadingVerificacion(true);\n    const { productos } = compra;\n    let productos_nuevos = [...productos];\n    let conflicto = false;\n\n    for (let i = 0; i < productos.length; i++) {\n      const productosCompra = productos[i];\n      let copy_producto_compra = { ...productosCompra };\n      let copy_producto = { ...productosCompra.producto };\n\n      //Filtrar los productos\n      const productos_filtrados = obtenerProductos.filter(\n        (res) => res._id === copy_producto_compra.id_producto\n      );\n\n      const { precios, unidades_de_venta, presentaciones } = copy_producto;\n\n      const precios_base = productos_filtrados[0].precios;\n      const unidades_base = productos_filtrados[0].unidades_de_venta;\n      const presentaciones_base = productos_filtrados[0].medidas_producto;\n\n      //verificacion de Precios\n      if (\n        precios.unidad_de_compra.cantidad !==\n          precios_base.unidad_de_compra.cantidad ||\n        precios.unidad_de_compra.precio_unitario_con_impuesto !==\n          precios_base.unidad_de_compra.precio_unitario_con_impuesto ||\n        precios.unidad_de_compra.unidad !== precios_base.unidad_de_compra.unidad\n      ) {\n        /* console.log(\"conflicto precios\"); */\n        //si son diferentes se agrega los precios_base al compra_nueva\n        copy_producto.precios = precios_base;\n        copy_producto_compra.producto = copy_producto;\n        copy_producto_compra.conflicto = true;\n        productos_nuevos[i] = copy_producto_compra;\n        conflicto = true;\n      }\n      //verificacion de Unidades de venta\n      const u_default = unidades_de_venta.filter((res) => res.default === true);\n      const u_default_base = unidades_base.filter(\n        (res) => res.default === true\n      );\n      if (\n        u_default[0].cantidad !== u_default_base[0].cantidad ||\n        u_default[0].precio !== u_default_base[0].precio ||\n        u_default[0].unidad !== u_default_base[0].unidad\n      ) {\n        //si son diferentes se agrega los precios_base al compra_nueva\n        copy_producto.unidades_de_venta = unidades_base;\n        copy_producto_compra.producto = copy_producto;\n        copy_producto_compra.conflicto = true;\n        productos_nuevos[i] = copy_producto_compra;\n        conflicto = true;\n        /* console.log(\"conflicto unidades\"); */\n      }\n\n      //verificacion de Presentaciones si hay presentaciones\n\n      if (presentaciones.length > 0) {\n        /* console.log(presentaciones, presentaciones_base); */\n        if (presentaciones_base.length > 0) {\n          if (presentaciones.length === presentaciones_base.length) {\n            for (let x = 0; x < presentaciones.length; x++) {\n              const present = presentaciones[x];\n              for (let y = 0; y < presentaciones_base.length; y++) {\n                const present_base = presentaciones_base[y];\n\n                if (\n                  present.medida._id === present_base.medida._id &&\n                  present.color._id === present_base.color._id &&\n                  present.almacen === present_base.almacen\n                ) {\n                  if (\n                    present.cantidad !== present_base.cantidad ||\n                    present.precio !== present_base.precio\n                  ) {\n                    //si son diferentes se agrega las presentaciones_base al compra_nueva\n                    copy_producto.presentaciones = presentaciones_base;\n                    copy_producto_compra.producto = copy_producto;\n                    copy_producto_compra.conflicto = true;\n                    productos_nuevos[i] = copy_producto_compra;\n                    conflicto = true;\n                    /* console.log(\"conflicto presentaciones\"); */\n                  }\n                }\n              }\n            }\n          } else {\n            //si son diferentes se agrega las presentaciones al compra_nueva\n            copy_producto.presentaciones = presentaciones_base;\n            copy_producto_compra.producto = copy_producto;\n            copy_producto_compra.conflicto = true;\n            productos_nuevos[i] = copy_producto_compra;\n            conflicto = true;\n            /* console.log(\"conflicto diferentes presentaciones \"); */\n          }\n        } else {\n          //si no hay se agrega las presentaciones al compra_nueva\n          copy_producto_compra.conflicto = true;\n          productos_nuevos[i] = copy_producto_compra;\n          conflicto = true;\n          /* console.log(\"conflicto sin presentaciones \"); */\n        }\n      }\n    }\n\n    const nuevo_producto_compra = [];\n    let subtotal = 0;\n    let impuestos = 0;\n    let total = 0;\n    if (conflicto) {\n      for (let k = 0; k < productos_nuevos.length; k++) {\n        const datosProducto = { ...productos_nuevos[k] };\n\n        if (datosProducto.producto.datos_generales.tipo_producto !== \"OTROS\") {\n          //si es calzado o ropa\n          //CANTIDADES\n          if (datosProducto.producto.presentaciones.length > 0) {\n            datosProducto.cantidad = 0;\n            datosProducto.producto.presentaciones.forEach((presentacion) => {\n              const { cantidad, cantidad_nueva } = presentacion;\n              let nueva = cantidad_nueva ? cantidad_nueva : 0;\n              datosProducto.cantidad += cantidad + nueva;\n            });\n            if (isNaN(datosProducto.cantidad)) datosProducto.cantidad = 0;\n            datosProducto.cantidad_total = datosProducto.cantidad;\n          } else {\n            datosProducto.cantidad = 0;\n            datosProducto.cantidad_total = datosProducto.cantidad;\n          }\n        } else {\n          //Si es una unidad normal\n\n          //CANTIDADES\n          const { cantidad_regalo, cantidad, unidad_regalo } = datosProducto;\n          //convertir todo a la unidad media y sumar (Pz, Kg, Lt)\n          const factor =\n            datosProducto.producto.precios.unidad_de_compra.cantidad;\n          const cantiad_media = cantidad * factor;\n          let cantidad_regalo_media =\n            unidad_regalo === \"Pz\" ||\n            unidad_regalo === \"Kg\" ||\n            unidad_regalo === \"Lt\"\n              ? cantidad_regalo\n              : cantidad_regalo * factor;\n          let cantidad_total_media = cantiad_media + cantidad_regalo_media;\n\n          //si factor es > 1 es caja o costal y dividir unidad media entre factor y si no mandar la cantidad total media;\n          if (factor > 1) {\n            datosProducto.cantidad_regalo = cantidad_regalo_media / factor;\n            datosProducto.cantidad_total = cantidad_total_media / factor;\n          } else {\n            datosProducto.cantidad_regalo = cantidad_regalo_media;\n            datosProducto.cantidad_total = cantidad_total_media;\n          }\n        }\n\n        //PRECIOS\n        const {\n          iva,\n          ieps,\n          precio_con_impuesto,\n          precio_sin_impuesto,\n        } = datosProducto.producto.precios.precio_de_compra;\n\n        datosProducto.total_con_descuento = precio_con_impuesto;\n        datosProducto.costo = precio_con_impuesto;\n        datosProducto.iva_total = iva * datosProducto.cantidad_total;\n        datosProducto.ieps_total = ieps * datosProducto.cantidad_total;\n        datosProducto.impuestos = (iva + ieps) * datosProducto.cantidad_total;\n        datosProducto.subtotal =\n          precio_sin_impuesto * datosProducto.cantidad_total;\n        datosProducto.total =\n          precio_con_impuesto * datosProducto.cantidad_total;\n\n        if (datosProducto.descuento_porcentaje > 0) {\n          datosProducto.descuento_precio = Math.round(\n            (precio_con_impuesto * datosProducto.descuento_porcentaje) / 100\n          );\n          datosProducto.total_con_descuento =\n            precio_con_impuesto - datosProducto.descuento_precio;\n        }\n\n        subtotal += datosProducto.subtotal;\n        impuestos += datosProducto.impuestos;\n        total +=\n          datosProducto.total_con_descuento * datosProducto.cantidad_total;\n\n        nuevo_producto_compra.push(datosProducto);\n      }\n      setNuevoArray({\n        _id: compra._id,\n        almacen: compra.almacen,\n        proveedor: compra.proveedor,\n        productos: nuevo_producto_compra,\n        en_espera: compra.en_espera,\n        fecha_registro: compra.fecha_registro,\n        impuestos,\n        subtotal,\n        total,\n      });\n    } else {\n      setNuevoArray(compra);\n    }\n\n    setTimeout(() => {\n      setLoadingVerificacion(false);\n      setSuccess(true);\n    }, 1500);\n  }\n\n  return (\n    <Fragment>\n      <DialogContent\n        style={{\n          height: 150,\n          display: \"flex\",\n          alignItems: \"center\",\n          justifyContent: \"center\",\n          flexDirection: \"column\",\n        }}\n      >\n        <DialogContentText id=\"dialog-verificarcompra-description\">\n          Si ya no hay existencias en tu producto se marcaran en la tabla y se\n          quitaran al retomar la compra para no causar conflictos, podras editar\n          tu compra mas adelante\n        </DialogContentText>\n        {loadingVerificacion ? (\n          <Box display=\"flex\" alignItems=\"center\">\n            <CircularProgress\n              size={18}\n              color=\"primary\"\n              style={{ marginRight: 8 }}\n            />\n            Verificando existencias en tus productos...\n          </Box>\n        ) : null}\n        {!loadingVerificacion ? (\n          <Box display=\"flex\" alignItems=\"center\">\n            <CheckCircle color=\"primary\" style={{ marginRight: 8 }} />\n            Listo, producto verificados\n          </Box>\n        ) : null}\n      </DialogContent>\n      <DialogActions>\n        {loadingVerificacion ? (\n          <Button onClick={handleClose} color=\"inherit\">\n            Cancelar\n          </Button>\n        ) : (\n          <Button onClick={handleClose} color=\"primary\" startIcon={<Done />}>\n            Aceptar\n          </Button>\n        )}\n      </DialogActions>\n    </Fragment>\n  );\n};\n","import React, { Fragment, useEffect, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\n\nimport Box from \"@material-ui/core/Box\";\nimport Chip from \"@material-ui/core/Chip\";\nimport Grid from \"@material-ui/core/Grid\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { Button, useTheme } from \"@material-ui/core\";\nimport SearchOutlinedIcon from \"@material-ui/icons/SearchOutlined\";\nimport { formatoMexico } from \"../../../../config/reuserFunctions\";\nimport AbrirCompra from \"../AbrirCompra/AbrirCompra\";\nimport VerificarProductosCompras from \"./VerificarProductos\";\n\nimport {\n  Dialog,\n  CircularProgress,\n  DialogTitle,\n  DialogActions,\n  Slide,\n} from \"@material-ui/core\";\nimport { CheckCircle, DeleteOutlined, Done, Error } from \"@material-ui/icons\";\nimport Close from \"@material-ui/icons/Close\";\nimport { useMutation } from \"@apollo/client\";\nimport { ELIMINAR_COMPRA_ESPERA } from \"../../../../gql/Compras/compras\";\n\nconst useStyles = makeStyles({\n  root: {\n    width: \"100%\",\n  },\n  container: {\n    height: \"50vh\",\n  },\n});\n\nexport default function DatosDeCompra({\n  compra,\n  setAlert,\n  refetch,\n  handleOpenDetalles,\n}) {\n  const classes = useStyles();\n  const theme = useTheme();\n  /* let compra_temp = {...compra} */\n  const [compra_temp, setCompraTemp] = useState({ ...compra });\n  const { productos } = compra_temp;\n\tconst permisosUsuario = JSON.parse(localStorage.getItem('sesionCafi'));\n\n  const [busqueda, setBusqueda] = useState(\"\");\n  const [productosFiltrados, setProductosFiltrados] = useState([]);\n\n  const [nuevoArray, setNuevoArray] = useState();\n  const [verificado, setVerificado] = useState(false);\n\n  const obtenerBusqueda = (value) => setBusqueda(value);\n\n  useEffect(() => {\n    setProductosFiltrados(\n      productos.filter((datos) => {\n        return datos.producto.datos_generales.nombre_comercial\n          .toLowerCase()\n          .includes(busqueda.toLowerCase());\n      })\n    );\n  }, [busqueda, productos]);\n\n  useEffect(() => {\n    if (verificado && nuevoArray) {\n      setCompraTemp(nuevoArray);\n    }\n  }, [verificado]);\n\n  return (\n    <Fragment>\n      <Box mb={1} display=\"flex\">\n        <Typography style={{ marginRight: 16 }}>\n          <b>Proveedor: </b>\n          {compra_temp.proveedor.nombre_cliente}\n        </Typography>\n        <Typography style={{ marginRight: 16 }}>\n          <b>Almacen: </b>\n          {compra_temp.almacen.nombre_almacen}\n        </Typography>\n        <Typography style={{ marginRight: 16 }}>\n          <b>Subtotal: ${parseFloat(compra_temp.subtotal).toFixed(2)}</b>\n        </Typography>\n        <Typography style={{ marginRight: 16 }}>\n          <b>Impuestos: ${parseFloat(compra_temp.impuestos).toFixed(2)}</b>\n        </Typography>\n        <Typography style={{ marginRight: 16 }}>\n          <b>Total: ${formatoMexico(parseFloat(compra_temp.total).toFixed(2))}</b>\n        </Typography>\n      </Box>\n      <Box mb={2} display=\"flex\">\n        <Grid container>\n          <Grid item sm={6} xs={12}>\n            <TextField\n              fullWidth\n              size=\"small\"\n              variant=\"outlined\"\n              placeholder=\"Buscar una compra...\"\n              onChange={(e) => obtenerBusqueda(e.target.value)}\n              InputProps={{\n                startAdornment: (\n                  <InputAdornment position=\"start\">\n                    <SearchOutlinedIcon color=\"action\" />\n                  </InputAdornment>\n                ),\n              }}\n            />\n          </Grid>\n          <Grid item sm={6} xs={12}>\n            <Box display=\"flex\" justifyContent=\"flex-end\">\n              {permisosUsuario.accesos.compras.compras_espera.eliminar === false ? (null) : (\n                <ModalEliminarCompra\n                  compra={compra_temp}\n                  setAlert={setAlert}\n                  refetch={refetch}\n                  handleOpenDetalles={handleOpenDetalles}\n                />\n              )}\n              <Box mx={1} />\n\n              {permisosUsuario.accesos.compras.compras_espera.editar === false ? (null) : (\n                verificado ? (\n                  <AbrirCompra\n                    compra={compra_temp}\n                    status=\"enEspera\"\n                    handleOpenDetalles={handleOpenDetalles}\n                    refetchEspera={refetch}\n                  />\n                ) : (\n                  <VerificarProductosCompras\n                    compra={compra_temp}\n                    nuevoArray={nuevoArray}\n                    setNuevoArray={setNuevoArray}\n                    setVerificado={setVerificado}\n                  />\n                )\n              )}\n            </Box>\n          </Grid>\n        </Grid>\n      </Box>\n      <Paper className={classes.root} variant=\"outlined\">\n        <TableContainer className={classes.container}>\n          <Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n            <TableHead>\n              <TableRow>\n                {verificado ? <TableCell /> : null}\n                <TableCell>Producto</TableCell>\n                <TableCell>Medida</TableCell>\n                <TableCell>Color</TableCell>\n                <TableCell>Unidad</TableCell>\n                <TableCell>Cantidad</TableCell>\n                <TableCell>C. regalo</TableCell>\n                <TableCell>C. total</TableCell>\n                <TableCell>Descuento</TableCell>\n                <TableCell>Subtotal</TableCell>\n                <TableCell>Impuestos</TableCell>\n                <TableCell>Total</TableCell>\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {productosFiltrados.map((datos, index) => {\n                /* console.log(datos); */\n                return (\n                  <TableRow\n                    tabIndex={-1}\n                    key={index}\n                    selected={datos.conflicto}\n                  >\n                    {verificado ? (\n                      <TableCell\n                        style={{\n                          paddingTop: 0,\n                          paddingBottom: 0,\n                        }}\n                      >\n                        {datos.conflicto ? (\n                          <Error color=\"primary\" />\n                        ) : (\n                          <CheckCircle\n                            style={{\n                              color: theme.palette.success.main,\n                            }}\n                          />\n                        )}\n                      </TableCell>\n                    ) : null}\n                    <TableCell>\n                      {datos.producto.datos_generales.nombre_comercial}\n                    </TableCell>\n                    <TableCell padding=\"checkbox\">\n                      {datos.medida && datos.medida.medida\n                        ? datos.medida.medida\n                        : \"N/A\"}\n                    </TableCell>\n                    <TableCell padding=\"checkbox\">\n                      {datos.color && datos.color.hex ? (\n                        <Chip\n                          label={datos.color.color}\n                          size=\"small\"\n                          style={{\n                            backgroundColor: datos.color.hex,\n                            color: theme.palette.getContrastText(\n                              datos.color.hex\n                            ),\n                          }}\n                        />\n                      ) : (\n                        \"N/A\"\n                      )}\n                    </TableCell>\n                    <TableCell>{datos.unidad}</TableCell>\n                    <TableCell>{datos.cantidad}</TableCell>\n                    <TableCell>{datos.cantidad_regalo}</TableCell>\n                    <TableCell>{datos.cantidad_total}</TableCell>\n                    <TableCell>{`$${datos.descuento_precio} - %${datos.descuento_porcentaje}`}</TableCell>\n                    <TableCell>\n                      <b>${formatoMexico(datos.subtotal)}</b>\n                    </TableCell>\n                    <TableCell>\n                      <b>${formatoMexico(datos.impuestos)}</b>\n                    </TableCell>\n                    <TableCell>\n                      <b>${formatoMexico(datos.total)}</b>\n                    </TableCell>\n                  </TableRow>\n                );\n              })}\n            </TableBody>\n          </Table>\n        </TableContainer>\n      </Paper>\n    </Fragment>\n  );\n}\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nconst ModalEliminarCompra = ({\n  compra,\n  setAlert,\n  refetch,\n  handleOpenDetalles,\n}) => {\n  const [open, setOpen] = useState(false);\n  const [loading, setLoading] = useState(false);\n\n  const [eliminarCompraEnEspera] = useMutation(ELIMINAR_COMPRA_ESPERA);\n\n  const handleOpen = () => {\n    setOpen(!open);\n  };\n\n  const eliminarCompra = async () => {\n    setLoading(true);\n    try {\n      const result = await eliminarCompraEnEspera({\n        variables: {\n          id: compra._id,\n        },\n      });\n      setAlert({\n        message: `¡Listo! ${result.data.eliminarCompraEnEspera.message}`,\n        status: \"success\",\n        open: true,\n      });\n      refetch();\n      setLoading(false);\n      handleOpen();\n      handleOpenDetalles();\n    } catch (error) {\n      console.log(error);\n      setLoading(false);\n      setAlert({\n        message: `Error: ${error.message}`,\n        status: \"error\",\n        open: true,\n      });\n    }\n  };\n  return (\n    <Fragment>\n      <Button\n        color=\"secondary\"\n        startIcon={<DeleteOutlined />}\n        onClick={() => handleOpen()}\n      >\n        Eliminar compra\n      </Button>\n      <Dialog open={open} onClose={handleOpen} TransitionComponent={Transition}>\n        <DialogTitle>¿Desea eliminar esta compra?</DialogTitle>\n        <DialogActions>\n          <Button\n            variant=\"text\"\n            color=\"inherit\"\n            size=\"large\"\n            startIcon={<Close />}\n            onClick={() => handleOpen()}\n          >\n            Cancelar\n          </Button>\n          <Button\n            variant=\"text\"\n            color=\"secondary\"\n            size=\"large\"\n            disabled={loading}\n            startIcon={\n              loading ? (\n                <CircularProgress size={18} color=\"inherit\" />\n              ) : (\n                <Done />\n              )\n            }\n            onClick={() => eliminarCompra()}\n          >\n            Eliminar\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </Fragment>\n  );\n};\n","import React, { useState, Fragment } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport {\n  Dialog,\n  Typography,\n  Box,\n  Button,\n  IconButton,\n  CircularProgress,\n} from \"@material-ui/core\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport DatosDeCompraEspera from \"./DatosDeCompraEspera\";\nimport {\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n  Slide,\n} from \"@material-ui/core\";\n\nimport {\n  formatoFecha,\n  formatoMexico,\n} from \"../../../../config/reuserFunctions\";\nimport { AssignmentOutlined, DeleteOutlined, Done } from \"@material-ui/icons\";\nimport Close from \"@material-ui/icons/Close\";\nimport { useMutation } from \"@apollo/client\";\nimport SnackBarMessages from \"../../../../components/SnackBarMessages\";\nimport { ELIMINAR_COMPRA_ESPERA } from \"../../../../gql/Compras/compras\";\n\nconst useStyles = makeStyles({\n  root: {\n    width: \"100%\",\n  },\n  container: {\n    height: \"75vh\",\n  },\n});\n\nexport default function ListaEnEspera({ obtenerComprasEnEspera, refetch }) {\n  const classes = useStyles();\n  const [alert, setAlert] = useState({ message: \"\", status: \"\", open: false });\n\tconst permisosUsuario = JSON.parse(localStorage.getItem('sesionCafi'));\n\n  return (\n    <Paper className={classes.root} variant=\"outlined\">\n      <SnackBarMessages alert={alert} setAlert={setAlert} />\n      <TableContainer className={classes.container}>\n        <Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n          <TableHead>\n            <TableRow>\n              <TableCell>Almacen</TableCell>\n              <TableCell>Proveedor</TableCell>\n              <TableCell>Fecha de compra</TableCell>\n              <TableCell>Subtotal</TableCell>\n              <TableCell>Impuestos</TableCell>\n              <TableCell>Total</TableCell>\n              <TableCell>Detalles</TableCell>\n              {permisosUsuario.accesos.compras.compras_espera.elimina === false ? (null) : (\n                <TableCell>Eliminar</TableCell>\n              )}\n              </TableRow>\n          </TableHead>\n          <TableBody>\n            {obtenerComprasEnEspera.map((compra, index) => (\n              <RenderRowsComprasEspera\n                key={index}\n                compra={compra}\n                refetch={refetch}\n                setAlert={setAlert}\n              />\n            ))}\n          </TableBody>\n        </Table>\n      </TableContainer>\n    </Paper>\n  );\n}\n\nconst RenderRowsComprasEspera = ({ compra, refetch, setAlert }) => {\n  const {\n    almacen,\n    proveedor,\n    fecha_registro,\n    subtotal,\n    impuestos,\n    total,\n  } = compra;\n\tconst permisosUsuario = JSON.parse(localStorage.getItem('sesionCafi'));\n  return (\n    <TableRow hover tabIndex={-1}>\n      <TableCell>{almacen.nombre_almacen}</TableCell>\n      <TableCell>{proveedor.nombre_cliente}</TableCell>\n      <TableCell>{formatoFecha(fecha_registro)}</TableCell>\n      <TableCell>\n        <b>${formatoMexico(subtotal)}</b>\n      </TableCell>\n      <TableCell>\n        <b>${formatoMexico(impuestos)}</b>\n      </TableCell>\n      <TableCell>\n        <b>${formatoMexico(total)}</b>\n      </TableCell>\n      <TableCell>\n        <ModalContinuarCompra\n          compra={compra}\n          refetch={refetch}\n          setAlert={setAlert}\n        />\n      </TableCell>\n      {permisosUsuario.accesos.compras.compras_espera.eliminar === false ? (null) : (\n        <TableCell>\n          <ModalEliminarCompra\n            compra={compra}\n            refetch={refetch}\n            setAlert={setAlert}\n          />\n        </TableCell>\n      )}\n    </TableRow>\n  );\n};\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nconst ModalContinuarCompra = ({ compra, setAlert, refetch }) => {\n  const [open, setOpen] = useState(false);\n\n  const handleOpen = () => {\n    setOpen(!open);\n  };\n  return (\n    <Fragment>\n      <IconButton onClick={() => handleOpen()}>\n        <AssignmentOutlined />\n      </IconButton>\n      <Dialog\n        open={open}\n        onClose={handleOpen}\n        fullWidth\n        maxWidth=\"lg\"\n        TransitionComponent={Transition}\n      >\n        <DialogTitle>\n          <Box display=\"flex\">\n            <Typography variant=\"h6\" style={{ flexGrow: 1 }}>\n              Datos de compra en espera\n            </Typography>\n            <Button\n              variant=\"text\"\n              color=\"primary\"\n              onClick={handleOpen}\n              size=\"large\"\n            >\n              <CloseIcon style={{ fontSize: 30 }} />\n            </Button>\n          </Box>\n        </DialogTitle>\n        <DialogContent>\n          <DatosDeCompraEspera\n            compra={compra}\n            refetch={refetch}\n            setAlert={setAlert}\n            handleOpenDetalles={handleOpen}\n          />\n        </DialogContent>\n      </Dialog>\n    </Fragment>\n  );\n};\n\nconst ModalEliminarCompra = ({ compra, setAlert, refetch }) => {\n  const [open, setOpen] = useState(false);\n  const [loading, setLoading] = useState(false);\n\n  const [eliminarCompraEnEspera] = useMutation(ELIMINAR_COMPRA_ESPERA);\n\n  const handleOpen = () => {\n    setOpen(!open);\n  };\n\n  const eliminarCompra = async () => {\n    setLoading(true);\n    try {\n      const result = await eliminarCompraEnEspera({\n        variables: {\n          id: compra._id,\n        },\n      });\n      setAlert({\n        message: `¡Listo! ${result.data.eliminarCompraEnEspera.message}`,\n        status: \"success\",\n        open: true,\n      });\n      refetch();\n      setLoading(false);\n      handleOpen();\n    } catch (error) {\n      console.log(error);\n      setLoading(false);\n      setAlert({\n        message: `Error: ${error.message}`,\n        status: \"error\",\n        open: true,\n      });\n    }\n  };\n  return (\n    <Fragment>\n      <IconButton onClick={() => handleOpen()}>\n        <DeleteOutlined color=\"error\" />\n      </IconButton>\n      <Dialog open={open} onClose={handleOpen} TransitionComponent={Transition}>\n        <DialogTitle>¿Desea eliminar esta compra?</DialogTitle>\n        <DialogActions>\n          <Button\n            variant=\"text\"\n            color=\"inherit\"\n            size=\"large\"\n            startIcon={<Close />}\n            onClick={() => handleOpen()}\n          >\n            Cancelar\n          </Button>\n          <Button\n            variant=\"text\"\n            color=\"secondary\"\n            size=\"large\"\n            disabled={loading}\n            startIcon={\n              loading ? (\n                <CircularProgress size={18} color=\"inherit\" />\n              ) : (\n                <Done />\n              )\n            }\n            onClick={() => eliminarCompra()}\n          >\n            Eliminar\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </Fragment>\n  );\n};\n","import React, { useState, useRef, Fragment } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Typography from \"@material-ui/core/Typography\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport Slide from \"@material-ui/core/Slide\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport Container from \"@material-ui/core/Container\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport Box from \"@material-ui/core/Box\";\nimport TextField from \"@material-ui/core/TextField\";\nimport { FcOvertime } from \"react-icons/fc\";\nimport { SearchOutlined } from \"@material-ui/icons\";\n\nimport { useQuery } from \"@apollo/client\";\n\nimport ListaEnEspera from \"./ListaEnEspera\";\nimport ErrorPage from \"../../../../components/ErrorPage\";\nimport { OBTENER_COMPRAS_ESPERA } from \"../../../../gql/Compras/compras\";\n\nconst useStyles = makeStyles((theme) => ({\n  appBar: {\n    position: \"relative\",\n  },\n  title: {\n    marginLeft: theme.spacing(2),\n    flex: 1,\n  },\n  icon: {\n    fontSize: 100,\n  },\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function ComprasEnEspera() {\n  const classes = useStyles();\n  const [open, setOpen] = React.useState(false);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  return (\n    <div>\n      <Button fullWidth onClick={handleClickOpen}>\n        <Box display=\"flex\" flexDirection=\"column\">\n          <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n            <FcOvertime className={classes.icon} />\n          </Box>\n          Compras en espera\n        </Box>\n      </Button>\n      <Dialog\n        fullScreen\n        open={open}\n        onClose={handleClose}\n        TransitionComponent={Transition}\n      >\n        <AppBar className={classes.appBar}>\n          <Toolbar>\n            <Typography variant=\"h6\" className={classes.title}>\n              Compras en espera\n            </Typography>\n            <Box m={1}>\n              <Button\n                variant=\"contained\"\n                color=\"secondary\"\n                onClick={handleClose}\n                size=\"large\"\n              >\n                <CloseIcon style={{ fontSize: 30 }} />\n              </Button>\n            </Box>\n          </Toolbar>\n        </AppBar>\n        <Container maxWidth=\"xl\">\n          <ContentDialogCompras />\n        </Container>\n      </Dialog>\n    </div>\n  );\n}\n\nconst ContentDialogCompras = () => {\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n  const [filtro, setFiltro] = useState(\"\");\n  const searchfilter = useRef(null);\n\n  /* Queries */\n  const { loading, data, error, refetch } = useQuery(OBTENER_COMPRAS_ESPERA, {\n    variables: {\n      empresa: sesion.empresa._id,\n      sucursal: sesion.sucursal._id,\n      filtro,\n    },\n    fetchPolicy: \"network-only\",\n  });\n\n  if (loading)\n    return (\n      <Box\n        display=\"flex\"\n        flexDirection=\"column\"\n        justifyContent=\"center\"\n        alignItems=\"center\"\n        height=\"40vh\"\n      >\n        <CircularProgress />\n        <Typography variant=\"h5\">Cargando</Typography>\n      </Box>\n    );\n  if (error) {\n    return <ErrorPage error={error} altura={300} />;\n  }\n\n  let obtenerComprasEnEspera = [];\n  if (data) obtenerComprasEnEspera = data.obtenerComprasEnEspera;\n\n  const obtenerBusqueda = (e, value) => {\n    e.preventDefault();\n    refetch({ filtro: value });\n    setFiltro(value);\n  };\n\n  return (\n    <Fragment>\n      <Box my={3} maxWidth={500}>\n        <form onSubmit={(e) => obtenerBusqueda(e, e.target[0].value)}>\n          <TextField\n            inputRef={searchfilter}\n            fullWidth\n            size=\"small\"\n            variant=\"outlined\"\n            placeholder=\"Buscar una compra...\"\n            InputProps={{\n              endAdornment: (\n                <InputAdornment position=\"end\">\n                  <IconButton type=\"submit\" color=\"primary\" size=\"medium\">\n                    <SearchOutlined />\n                  </IconButton>\n                </InputAdornment>\n              ),\n            }}\n          />\n        </form>\n      </Box>\n      <ListaEnEspera obtenerComprasEnEspera={obtenerComprasEnEspera} refetch={refetch} />\n    </Fragment>\n  );\n};\n","import React from 'react';\nimport { Box, Container, Grid } from '@material-ui/core';\nimport AbrirCompra from './AbrirCompra/AbrirCompra';\nimport ComprasRealizadas from './ComprasRealizadas/ComprasRealizadas';\n/* import CargaMasiva from './CargaMasiva/CargaMasiva'; */\nimport ComprasEnEspera from './ComprasEnEspera/ComprasEnEspera';\n\n\nexport default function Compras() {\n\n\tconst permisosUsuario = JSON.parse(localStorage.getItem('sesionCafi'));\n\n\treturn (\n\t\t<Container maxWidth=\"md\">\n\t\t\t<Grid container spacing={3} justify=\"center\">\n\t\t\t{permisosUsuario.accesos.compras.abrir_compra.ver === false ? (null):(\n\t\t\t\t<Grid item md={4}>\n\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t<AbrirCompra />\n\t\t\t\t\t</Box>\n\t\t\t\t</Grid>\n\t\t\t)}\n\t\t\t{permisosUsuario.accesos.compras.compras_realizadas.ver === false ? (null):(\n\t\t\t\t<Grid item md={4}>\n\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t<ComprasRealizadas />\n\t\t\t\t\t</Box>\n\t\t\t\t</Grid>\n\t\t\t)}\n\t\t\t{permisosUsuario.accesos.compras.compras_espera.ver === false ? (null):(\n                <Grid item md={4}>\n\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t<ComprasEnEspera />\n\t\t\t\t\t</Box>\n\t\t\t\t</Grid>\n\t\t\t)}\n\t\t\t\t{/* <Grid item md={2}>\n\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t<CargaMasiva />\n\t\t\t\t\t</Box>\n\t\t\t\t</Grid> */}\n\t\t\t</Grid>\n\t\t</Container>\n\t);\n}\n","import React, { useContext, useState, Fragment } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport Box from \"@material-ui/core/Box\";\nimport Button from \"@material-ui/core/Button\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Switch from \"@material-ui/core/Switch\";\nimport Slide from \"@material-ui/core/Slide\";\nimport CrearCliente from \"./CrearCliente\";\nimport ErrorPage from \"../../../../components/ErrorPage\";\nimport { Delete } from \"@material-ui/icons\";\nimport { ClienteCtx } from \"../../../../context/Catalogos/crearClienteCtx\";\nimport { useDebounce } from \"use-debounce\";\nimport { useQuery, useMutation } from \"@apollo/client\";\nimport {\n  OBTENER_CLIENTES,\n  ACTUALIZAR_CLIENTE,\n  ELIMINAR_CLIENTE,\n} from \"../../../../gql/Catalogos/clientes\";\nimport { formatoFechaCorta } from \"../../../../config/reuserFunctions\";\nimport SnackBarMessages from \"../../../../components/SnackBarMessages\";\n// import { VentasContext } from \"../../../../context/Ventas/ventasContext\";\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nconst useStyles = makeStyles({\n  root: {\n    width: \"100%\",\n  },\n  container: {\n    maxHeight: \"75vh\",\n  },\n});\n\nexport default function ListaClientes({\n  user,\n  tipo,\n  filtro,\n  ventas,\n  handleClickOpen,\n}) {\n  const classes = useStyles();\n  const { setUpdateClientVenta, updateClientVenta } = useContext(\n    ClienteCtx\n  );\n  const [value] = useDebounce(filtro, 1000);\n  const [selectDataClient, setSelectDataClient] = useState(false);\n  /* Queries */\n  const { loading, data, error, refetch } = useQuery(OBTENER_CLIENTES, {\n    variables: { tipo, filtro: value },\n    fetchPolicy: \"network-only\",\n  });\n\n  /* useEffect(() => {\n    refetch();\n  }, [update, refetch]); */\n\n  //show modal accept client\n  const [showModal, setShowModal] = useState(false);\n\n  const [dataSelectRowClient, setDataSelectRowClient] = useState({});\n  const [alert, setAlert] = useState({ message: \"\", status: \"\", open: false });\n\n  const handleClickOpenModal = (data, e) => {\n    if (ventas && !selectDataClient) {\n      setShowModal(true);\n      setDataSelectRowClient(data);\n    }\n  };\n\n  const handleClickSelectClient = () => {\n    try {\n      const venta = JSON.parse(localStorage.getItem(\"DatosVentas\"));\n      let venta_actual = venta === null ? {} : venta;\n      localStorage.setItem(\n        \"DatosVentas\",\n        JSON.stringify({\n          subTotal:\n            venta_actual.subTotal === undefined ? 0 : venta_actual.subTotal,\n          total: venta_actual.total === undefined ? 0 : venta_actual.total,\n          impuestos:\n            venta_actual.impuestos === undefined ? 0 : venta_actual.impuestos,\n          iva: venta_actual.iva === undefined ? 0 : venta_actual.iva,\n          ieps: venta_actual.ieps === undefined ? 0 : venta_actual.ieps,\n          descuento:\n            venta_actual.descuento === undefined ? 0 : venta_actual.descuento,\n          monedero:\n            venta_actual.monedero === undefined ? 0 : venta_actual.monedero,\n          tipo_cambio: venta_actual.tipo_cambio ? venta_actual.tipo_cambio : {},\n          cliente: dataSelectRowClient,\n          venta_cliente: true,\n          productos:\n            venta_actual.productos?.length > 0 ? venta_actual.productos : [],\n        })\n      );\n      setUpdateClientVenta(!updateClientVenta);\n      setShowModal(!showModal);\n      handleClickOpen();\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  if (loading)\n    return (\n      <Box\n        display=\"flex\"\n        justifyContent=\"center\"\n        alignItems=\"center\"\n        height=\"50vh\"\n        width=\"120vh\"\n      >\n        <CircularProgress />\n      </Box>\n    );\n  if (error) {\n    return <ErrorPage error={error} />;\n  }\n\n  const { obtenerClientes } = data;\n\n  return (\n    <Fragment>\n      <SnackBarMessages alert={alert} setAlert={setAlert} />\n      <Paper className={classes.root}>\n        <TableContainer className={classes.container}>\n          <Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n            <TableHead>\n              <TableRow>\n                <TableCell width=\"110\">No. Cliente</TableCell>\n                <TableCell width=\"100\">Clave</TableCell>\n                <TableCell width=\"200\">Nombre</TableCell>\n                <TableCell width=\"150\">Correo</TableCell>\n                <TableCell width=\"200\">Fecha Registro</TableCell>\n                {user === \"EMPLEADO\" ? null : (\n                  <TableCell width=\"100\">Estado</TableCell>\n                )}\n                <TableCell width=\"50\">Editar</TableCell>\n                {user === \"EMPLEADO\" ? null : (\n                  <TableCell width=\"50\">Eliminar</TableCell>\n                )}\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {obtenerClientes.map((row, index) => {\n                return (\n                  <RowsRender\n                    user={user}\n                    key={index}\n                    datos={row}\n                    handleClickOpenModal={handleClickOpenModal}\n                    setAlert={setAlert}\n                    refetch={refetch}\n                  />\n                );\n              })}\n            </TableBody>\n          </Table>\n        </TableContainer>\n        <Dialog\n          open={showModal}\n          onClose={() => setShowModal(false)}\n          aria-labelledby=\"select-dialog-cliente-venta\"\n          aria-describedby=\"select-cliente-venta-description\"\n        >\n          <DialogTitle id=\"select-dialog-cliente-venta\">\n            {\" Estas seguro que desea seleccionar este cliente ?\"}\n          </DialogTitle>\n          <DialogContent>\n            <DialogContentText id=\"select-cliente-venta-description\">\n              Al seleccionar el cliente se colocara en la venta.\n            </DialogContentText>\n          </DialogContent>\n          <DialogActions>\n            <Button\n              onClick={() => setShowModal(false)}\n              color=\"primary\"\n              autoFocus\n            >\n              cancelar\n            </Button>\n            <Button onClick={() => handleClickSelectClient()} color=\"primary\">\n              Aceptar\n            </Button>\n          </DialogActions>\n        </Dialog>\n      </Paper>\n    </Fragment>\n  );\n}\n\nconst RowsRender = ({\n  datos,\n  user,\n  handleClickOpenModal,\n  setAlert,\n  refetch,\n}) => {\n  const permisosUsuario = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n\n  const { update, setUpdate } = useContext(ClienteCtx);\n  const [loading, setLoading] = useState(false);\n\n  /* console.log(datos); */\n\n  const [actualizarCliente] = useMutation(ACTUALIZAR_CLIENTE);\n\n  const cambiarEstado = async (e) => {\n    setLoading(true);\n\n    try {\n      await actualizarCliente({\n        variables: {\n          input: {\n            estado_cliente: e.target.checked,\n          },\n          id: datos._id,\n        },\n      });\n      setUpdate(!update);\n      setLoading(false);\n    } catch (error) {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <Fragment>\n      <TableRow\n        hover\n        role=\"checkbox\"\n        tabIndex={-1}\n        onClick={(e) => handleClickOpenModal(datos, e)}\n      >\n        <TableCell>\n          <Typography>{datos.numero_cliente}</Typography>\n        </TableCell>\n        <TableCell>\n          <Typography>{datos.clave_cliente}</Typography>\n        </TableCell>\n        <TableCell>\n          <Typography>{datos.nombre_cliente}</Typography>\n        </TableCell>\n        <TableCell>\n          <Typography>{datos.email}</Typography>\n        </TableCell>\n        <TableCell>\n          <Typography>{formatoFechaCorta(datos.fecha_registro)}</Typography>\n        </TableCell>\n        {user === \"EMPLEADO\" ? null : (\n          <TableCell>\n            {loading ? (\n              <CircularProgress size={30} />\n            ) : (\n              <Switch\n                checked={datos.estado_cliente}\n                onChange={cambiarEstado}\n                color=\"primary\"\n              />\n            )}\n          </TableCell>\n        )}\n        <TableCell width={50}>\n          {permisosUsuario.accesos.catalogos.clientes.editar ===\n          false ? null : (\n            <CrearCliente\n              tipo=\"CLIENTE\"\n              accion=\"actualizar\"\n              datos={datos}\n              refetch={refetch}\n            />\n          )}\n        </TableCell>\n        <TableCell width={50}>\n          {permisosUsuario.accesos.catalogos.clientes.editar ===\n          false ? null : (\n            <EliminarCliente\n              datos={datos}\n              setAlert={setAlert}\n              refetch={refetch}\n            />\n          )}\n        </TableCell>\n      </TableRow>\n    </Fragment>\n  );\n};\n\nconst EliminarCliente = ({ datos, setAlert, refetch }) => {\n  const [open, setOpen] = useState(false);\n  const [eliminarCliente] = useMutation(ELIMINAR_CLIENTE);\n  const [loading, setLoading] = useState(false);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const eliminarClienteBD = async () => {\n    setLoading(true);\n    try {\n      const result = await eliminarCliente({\n        variables: {\n          id: datos._id,\n        },\n      });\n      if (result) {\n        const { message } = result.data.eliminarCliente;\n        setAlert({ message, status: \"success\", open: true });\n        refetch();\n      }\n      setLoading(false);\n      handleClose();\n    } catch (error) {\n      console.log(error);\n      setLoading(false);\n      if (error.message) {\n        setAlert({ message: error.message, status: \"error\", open: true });\n        return;\n      }\n      setAlert({ message: \"Hubo un error\", status: \"error\", open: true });\n    }\n  };\n\n  return (\n    <div>\n      <IconButton color=\"secondary\" onClick={() => handleClickOpen()}>\n        <Delete />\n      </IconButton>\n      <Dialog\n        open={open}\n        TransitionComponent={Transition}\n        keepMounted\n        onClose={() => handleClose()}\n        aria-labelledby=\"alert-eliminar-cliente\"\n      >\n        <DialogTitle id=\"alert-eliminar-cliente\">\n          {\"¿Está seguro de eliminar esto?\"}\n        </DialogTitle>\n        <DialogActions>\n          <Button\n            onClick={() => handleClose()}\n            color=\"inherit\"\n            disabled={loading}\n          >\n            Cancelar\n          </Button>\n          <Button\n            onClick={() => eliminarClienteBD()}\n            color=\"secondary\"\n            disabled={loading}\n            startIcon={\n              loading ? <CircularProgress size={20} color=\"inherit\" /> : null\n            }\n          >\n            Eliminar\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n};\n","import React, { useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Typography from \"@material-ui/core/Typography\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport Slide from \"@material-ui/core/Slide\";\nimport { FcManager } from \"react-icons/fc\";\nimport { Box, Grid, IconButton, InputBase, Paper } from \"@material-ui/core\";\nimport { Search } from \"@material-ui/icons\";\nimport ListaClientes from \"./ListaClientes\";\nimport CrearCliente from \"./CrearCliente\";\nimport { ClienteProvider } from \"../../../../context/Catalogos/crearClienteCtx\";\n\nconst useStyles = makeStyles((theme) => ({\n  appBar: {\n    position: \"relative\",\n  },\n  title: {\n    marginLeft: theme.spacing(2),\n    flex: 1,\n  },\n  icon: {\n    fontSize: 100,\n  },\n  root: {\n    display: \"flex\",\n    paddingLeft: theme.spacing(2),\n  },\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function Cliente() {\n  const classes = useStyles();\n\n  const permisosUsuario = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n\n  const [open, setOpen] = useState(false);\n  const [values, setValues] = useState(\"\");\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const pressEnter = (e) => {\n    if (e.key === \"Enter\") setValues(e.target.defaultValue);\n  };\n\n  return (\n    <div>\n      <ClienteProvider>\n        <Button onClick={handleClickOpen}>\n          <Box display=\"flex\" flexDirection=\"column\">\n            <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n              <FcManager className={classes.icon} />\n            </Box>\n            Cliente\n          </Box>\n        </Button>\n        <Dialog\n          fullScreen\n          open={open}\n          onClose={handleClose}\n          TransitionComponent={Transition}\n        >\n          <AppBar className={classes.appBar}>\n            <Toolbar>\n              <Typography variant=\"h6\" className={classes.title}>\n                Cliente\n              </Typography>\n              <Box m={1}>\n                <Button\n                  variant=\"contained\"\n                  color=\"secondary\"\n                  onClick={handleClose}\n                  size=\"large\"\n                >\n                  <CloseIcon style={{ fontSize: 30 }} />\n                </Button>\n              </Box>\n            </Toolbar>\n          </AppBar>\n          <Box m={3}>\n            <Grid container spacing={2}>\n              <Grid item md={6} xs={8}>\n                <Paper className={classes.root}>\n                  <InputBase\n                    fullWidth\n                    placeholder=\"Buscar cliente...\"\n                    onChange={(e) => setValues(e.target.value)}\n                    onKeyPress={pressEnter}\n                    value={values}\n                  />\n                  <IconButton onClick={() => setValues(values)}>\n                    <Search />\n                  </IconButton>\n                </Paper>\n              </Grid>\n              <Grid\n                item\n                md={6}\n                xs={4}\n                style={{ display: \"flex\", justifyContent: \"flex-end\" }}\n              >\n                {permisosUsuario.accesos.catalogos.clientes.agregar ===\n                false ? null : (\n                  <CrearCliente tipo=\"CLIENTE\" accion=\"registrar\" />\n                )}\n              </Grid>\n            </Grid>\n          </Box>\n          <Box mx={4}>\n            <ListaClientes tipo=\"CLIENTE\" filtro={values} />\n          </Box>\n        </Dialog>\n      </ClienteProvider>\n    </div>\n  );\n}\n","import { gql } from '@apollo/client';\n\nexport const REGISTRAR_DESCUENTOS = gql`\n\tmutation CrearDescuentoUnidad($input: ObjetoDescuentoUnidadesInput!){\n        crearDescuentoUnidad(input: $input){\n            message\n        }\n  }\n`;\n\nexport const ACTUALIZAR_DESCUENTOS = gql`\n\tmutation ActualizarDescuentoUnidad($input: ObjetoDescuentoUnidadesInput!){\n        actualizarDescuentoUnidad(input: $input){\n            message\n        }\n    }\n`;\n\nexport const DESACTIVAR_DESCUENTOS = gql`\n\tmutation DesactivarDescuentoUnidad($input: ActivarDescuentoUnidades , $id: ID!){\n        desactivarDescuentoUnidad(input: $input, id: $id){\n            message\n        }\n    }\n`;\n\nexport const ELIMINAR_DESCUENTOS = gql`\n\tmutation ELiminarDescuentoUnidad( $id: ID!){\n        eliminarDescuentoUnidad( id: $id){\n            message\n        }\n    }\n`;","import React, { useContext, useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { Delete } from '@material-ui/icons';\nimport { makeStyles, useTheme } from \"@material-ui/core\";\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport { Button, Dialog, DialogActions, DialogTitle, IconButton, Switch, Tooltip } from '@material-ui/core';\nimport Zoom from \"@material-ui/core/Zoom\";\n\nimport {  DESACTIVAR_DESCUENTOS, ELIMINAR_DESCUENTOS } from '../../../../../gql/Catalogos/descuentos';\nimport { useMutation } from '@apollo/client';\nimport SnackBarMessages from '../../../../../components/SnackBarMessages';\nimport { RegProductoContext } from '../../../../../context/Catalogos/CtxRegProducto';\nimport BackdropComponent from '../../../../../components/Layouts/BackDrop';\n\nconst headCells = [\n\t{ id: 'cantidad',  label: 'Cantidad' },\n\t{ id: 'tipo',  label: 'Tipo' },\n\t{ id: 'precio',  label: 'Precio U.' },\n\t{ id: 'precioDes',  label: 'Precio Desc.' },\n\t{ id: 'descuento',  label: '% Desc.' },\n\t{ id: 'eliminar',  label: 'Eliminar'},\n\t{ id: 'activo',  label: 'Activo'}\n];\n\nfunction EnhancedTableHead(props) {\n\tconst { onSelectAllClick, numSelected, rowCount, datosPrecios } = props;\n\tlet variable = false;\n\tdatosPrecios?.forEach(element => {\n\t\tif (element.medida) {\n\t\t\treturn variable = true;\n\t\t}\n\t});\n\treturn (\n\t\t<TableHead>\n\t\t\t<TableRow>\n\t\t\t\t<TableCell padding=\"checkbox\">\n\t\t\t\t\t<Checkbox\n\t\t\t\t\t\tindeterminate={numSelected > 0 && numSelected < rowCount}\n\t\t\t\t\t\tchecked={rowCount > 0 && numSelected === rowCount}\n\t\t\t\t\t\tonChange={onSelectAllClick}\n\t\t\t\t\t\tinputProps={{ 'aria-label': 'select all desserts' }}\n\t\t\t\t\t/>\n\t\t\t\t</TableCell>\n\t\t\t\t{headCells.map((headCell) => (\n\t\t\t\t\t<TableCell\n\t\t\t\t\t\tkey={headCell.id}\n\t\t\t\t\t\talign={headCell.numeric ? 'right' : 'left'}\n\t\t\t\t\t\tpadding={headCell.disablePadding ? 'none' : 'default'}\n\t\t\t\t\t>\n\t\t\t\t\t\t{headCell.label}\n\t\t\t\t\t</TableCell>\n\t\t\t\t))}\n\t\t\t\t{ variable === true ? (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<TableCell>Talla</TableCell>\n\t\t\t\t\t\t<TableCell>Color</TableCell>\n\t\t\t\t\t</>\n\t\t\t\t): null}\n\t\t\t\t\n\t\t\t</TableRow>\n\t\t</TableHead>\n\t);\n}\n\nEnhancedTableHead.propTypes = {\n\tclasses: PropTypes.object.isRequired,\n\tnumSelected: PropTypes.number.isRequired,\n\tonSelectAllClick: PropTypes.func.isRequired,\n\trowCount: PropTypes.number.isRequired\n};\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n\t\twidth: '100%'\n\t},\n\tpaper: {\n\t\twidth: '100%',\n\t\tmarginBottom: theme.spacing(2)\n\t},\n\ttable: {\n\t\theight: 300\n\t},\n\tvisuallyHidden: {\n\t\tborder: 0,\n\t\tclip: 'rect(0 0 0 0)',\n\t\theight: 1,\n\t\tmargin: -1,\n\t\toverflow: 'hidden',\n\t\tpadding: 0,\n\t\tposition: 'absolute',\n\t\ttop: 20,\n\t\twidth: 1\n\t},\n\tcolorContainer: {\n\t\tborder: \"1px solid rgba(0,0,0, .3)\",\n\t\tdisplay: \"flex\",\n\t\tjustifyContent: \"center\",\n\t\talignItems: \"center\",\n\t\theight: 30,\n\t\twidth: 30,\n\t\tmargin: 1,\n\t\tborderRadius: \"15%\",\n\t\tcursor: \"pointer\",\n\t  },\n}));\n\nexport default function TablaPreciosDescuentos(\n\t{ \n\t\tvalue,\n\t\tdatos,\n\t\tsetCleanList, \n\t\tcleanList, \n\t\tverificarDatos, \n\t\tsetPrecioPrueba,\n\t\tproductosRefetch,\n\t\tsetLoading,\n\t\tloading\n\t}\n\t) {\n\tconst classes = useStyles();\n\tconst { \n\t\t//es este \n\t\tdatosPreciosProducto, \n        setPreciosProductos,\n\t\tsetDatosPreciosProducto\n    } = useContext(RegProductoContext);\n\n\tconst [ alert, setAlert ] = useState({ message: '', status: '', open: false });\n\tvar porcentaje  =  parseFloat((100 - value).toFixed(6));\n\tconst [ selected, setSelected ] = useState([]);\n\tconst [ page, setPage ] = useState(0);\n\tconst [ rowsPerPage, setRowsPerPage ] = useState(5);\n\n\tif(datos){\n\t\tif (datos.medidas_producto.length > 0) {\n\t\t\tsetDatosPreciosProducto(datos.medidas_producto);\n\t\t}else{\n\t\t\tsetDatosPreciosProducto(datos.unidades_de_venta);\n\t\t}\n\t};\n\n\tconst handleSelectAllClick = (event) => {\n\t\tif (event.target.checked) {\n\t\t\tconst newSelecteds = datosPreciosProducto.map((n) => n);\n\t\t\tsetSelected(newSelecteds); \n\t\t\tverificarDatos(newSelecteds);\n\t\t\tsetPreciosProductos(newSelecteds);\n\t\t\treturn;\n\t\t};\n\t\tsetPreciosProductos([]); \n\t\tsetSelected([]);\n\t};\n\n\tconst handleClick = (event, _id) => {\n\t\tconst selectedIndex = selected.indexOf(_id);\n\t\tlet newSelected = [];\n\t\tif (selectedIndex === -1) {\n\t\t\tnewSelected = newSelected.concat(selected, _id);\n\t\t} else if (selectedIndex === 0) {\n\t\t\tnewSelected = newSelected.concat(selected.slice(1));\n\t\t} else if (selectedIndex === selected.length - 1) {\n\t\t\tnewSelected = newSelected.concat(selected.slice(0, -1));\n\t\t} else if (selectedIndex > 0) {\n\t\t\tnewSelected = newSelected.concat(selected.slice(0, selectedIndex), selected.slice(selectedIndex + 1));\n\t\t}\n\t\tsetPrecioPrueba(newSelected.length === 0 ? 0 : newSelected);\n\t\tsetPreciosProductos(newSelected);\n\t\tverificarDatos(newSelected);\n\t\tsetSelected(newSelected);\n\t};\n\t\n\tuseEffect(() => {\n\t\tsetSelected([]);\n\t\tsetCleanList(false);\n\t}, [cleanList]);\n\n\tconst isSelected = (_id) => selected.indexOf(_id) !== -1;\n\n\tconst emptyRows = rowsPerPage - Math.min(rowsPerPage, datosPreciosProducto.length - page * rowsPerPage);\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<SnackBarMessages alert={alert} setAlert={setAlert} />\n\t\t\t<Paper className={classes.paper}>\n\t\t\t\t<BackdropComponent loading={loading} setLoading={setLoading} />\n\t\t\t\t<TableContainer className={classes.table}>\n\t\t\t\t\t<Table\n\t\t\t\t\t\tclassName={classes.table}\n\t\t\t\t\t\taria-labelledby=\"tableTitle\"\n\t\t\t\t\t\tsize=\"small\" \n\t\t\t\t\t\taria-label=\"a dense table\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<EnhancedTableHead\n\t\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\t\tnumSelected={selected.length}\n\t\t\t\t\t\t\tonSelectAllClick={handleSelectAllClick}\n\t\t\t\t\t\t\trowCount={datosPreciosProducto.length}\n\t\t\t\t\t\t\tdatosPrecios={datosPreciosProducto}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t{datosPreciosProducto.map((row, index) => {\n\t\t\t\t\t\t\t\tconst isItemSelected = isSelected(row);\n\t\t\t\t\t\t\t\tconst labelId = `enhanced-table-checkbox-${index}`;\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<RowsRender\n\t\t\t\t\t\t\t\t\t\tkey={row._id}\n\t\t\t\t\t\t\t\t\t    setLoading={setLoading}\n\t\t\t\t\t\t\t\t\t\tproductosRefetch={productosRefetch}\n\t\t\t\t\t\t\t\t\t\thandleClick={handleClick} \n\t\t\t\t\t\t\t\t\t\tselected={selected} \n\t\t\t\t\t\t\t\t\t\trow={row}\n\t\t\t\t\t\t\t\t\t\tsetAlert={setAlert}\n\t\t\t\t\t\t\t\t\t\tporcentaje={porcentaje}\n\t\t\t\t\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\t\t\t\t\tdatos={datos}\n\t\t\t\t\t\t\t\t\t\tisItemSelected={isItemSelected} \n\t\t\t\t\t\t\t\t\t\tlabelId={labelId} \n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t{emptyRows > 0 && (\n\t\t\t\t\t\t\t\t<TableRow style={{ height: 53 * emptyRows }}>\n\t\t\t\t\t\t\t\t\t<TableCell colSpan={6} />\n\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t</Table>\n\t\t\t\t</TableContainer>\n\t\t\t\t\n\t\t\t</Paper>\n\t\t</div>\n\t);\n}\n\nfunction RowsRender({row, value, isItemSelected, setLoading, datos, labelId, setAlert, porcentaje, productosRefetch, handleClick, selected}) {\n\n\tconst classes = useStyles();\n\tconst theme = useTheme();\n\tconst [openModal, setOpenModal] = useState(false);\n\tconst { \n        setDatosPreciosProducto,\n    } = useContext(RegProductoContext);\n\tconst [ DesactivarDescuentoUnidad ] = useMutation(DESACTIVAR_DESCUENTOS);\n\tconst [ ELiminarDescuentoUnidad ] = useMutation(ELIMINAR_DESCUENTOS);\n\n\tconst handleChangeActivo = async () => {\n\t\tsetLoading(true);\n\t\ttry {\n\t\t\tawait DesactivarDescuentoUnidad({\n\t\t\t\tvariables: {\n\t\t\t\t\tinput: {\n\t\t\t\t\t\tdescuento_activo: !row.descuento_activo,\n\t\t\t\t\t},\n\t\t\t\t\tid: row._id\n\t\t\t\t}\n\t\t\t});\n\t\t\tsetLoading(false);\n\t\t\tproductosRefetch();\n\t\t\tsetAlert({ message: 'Estado de descuento actualizado', status: 'success', open: true });\n\t\t} catch (error) {\n\t\t\tsetAlert({ message: 'Ocurrio un problema en el servidor' , status: 'error', open: true });\n\t\t}\n\t};\n\n\tconst handleModal = () => {\n\t\tsetOpenModal(!openModal);\n\t\teditarDatos();\n\t};\n\t\n\tconst editarDatos = () => {\n\t\tif (datos.medidas_producto.length > 0) {\n            setDatosPreciosProducto(datos.medidas_producto);\n\t\t\tsetLoading(false);\n        }else{\n\t\t\tsetDatosPreciosProducto(datos.unidades_de_venta);\n\t\t\tsetLoading(false);\n        }\n\t};\n\n\tconst handleDelete = async () => {\n\t\tsetLoading(true);\n\t\ttry {\n\t\t\tproductosRefetch();\n\t\t\tconst resultado = await ELiminarDescuentoUnidad({\n\t\t\t\tvariables: {\n\t\t\t\t\tid: row._id,\n\t\t\t\t}\n\t\t\t});\n\t\t\thandleModal();\n\t\t\teditarDatos();\n\t\t\tsetAlert({ message: resultado.data.eliminarDescuentoUnidad.message, status: 'success', open: true });\n\t\t} catch (error) {\n\t\t\tsetAlert({ message: error.message, status: 'error', open: true });\n\t\t}\n\t};\n\n\treturn(\n\t\t<TableRow\n\t\t\thover\n\t\t\trole=\"checkbox\"\n\t\t\taria-checked={isItemSelected}\n\t\t\ttabIndex={-1}\n\t\t\tkey={row._id}\n\t\t\tselected={isItemSelected}\n\t\t>\n\t\t\t<TableCell padding=\"checkbox\">\n\t\t\t\t<Checkbox\n\t\t\t\t\tonClick={(event) => {\n\t\t\t\t\t\thandleClick(event, row)\n\t\t\t\t\t}}\n\t\t\t\t\tchecked={isItemSelected}\n\t\t\t\t\tinputProps={{ 'aria-labelledby': labelId }}\n\t\t\t\t/>\n\t\t\t</TableCell>\n\t\t\t<TableCell align=\"center\">{row.cantidad}</TableCell>\n\t\t\t<TableCell align=\"center\">{row?.unidad}</TableCell>\n\t\t\t<TableCell align=\"center\">{row.precio}</TableCell>\n\t\t\t<TableCell align=\"center\">\n\t\t\t\t{\n\t\t\t\t\tisItemSelected === true && selected.length > 1 ? <b style={{color: 'green'}}> ${parseFloat((row.precio * porcentaje / 100).toFixed(2))} </b>\n\t\t\t\t\t: (row.descuento === null ? 0 : <b style={{color: 'green'}}> ${row.descuento.precio_neto} </b> )\n\t\t\t\t}\n\t\t\t</TableCell>\n\t\t\t<TableCell align=\"center\">\n\t\t\t\t{isItemSelected === true && selected.length > 1 ? <b style={{color: 'red'}}> {value}% </b> : (!row.descuento || row.descuento === null ? 0 : <b style={{color: 'red'}}> {row.descuento.porciento}% </b>)}\n\t\t\t</TableCell>\n\t\t\t<TableCell align=\"center\">\n\t\t\t\t<Modal row={row} handleModal={handleModal} openModal={openModal} handleDelete={handleDelete} />\n\t\t\t</TableCell>\n\t\t\t<TableCell key={row._id} align=\"center\">\n\t\t\t\t<Switch\n\t\t\t\t\tkey={row._id}\n\t\t\t\t\tonChange={handleChangeActivo}\n\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\tdisabled={ !row.descuento ? true \n\t\t\t\t\t\t : ( row.descuento.porciento === 0 ? true : false ) }\n\t\t\t\t\tdefaultChecked={row.descuento_activo ? row.descuento_activo : false}\n\t\t\t\t\tname=\"descuento_activo\"\n\t\t\t\t\tinputProps={{ 'aria-label': 'secondary checkbox' }}\n\t\t\t\t/>\n\t\t\t</TableCell>\n\t\t\t{\n\t\t\t\trow.medida ? (\n\t\t\t\t\t<TableCell align=\"center\">{row?.medida?.talla}</TableCell>\n\t\t\t\t) :(\n\t\t\t\t\tnull\n\t\t\t\t)\n\t\t\t}\n\n\t\t\t{\n\t\t\t\trow.color ? (\n\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t<Tooltip\n\t\t\t\t\t\t\ttitle={row?.color?.nombre}\n\t\t\t\t\t\t\tplacement=\"top\"\n\t\t\t\t\t\t\tarrow\n\t\t\t\t\t\t\tTransitionComponent={Zoom}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclassName={classes.colorContainer}\n\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\tbackgroundColor:row?.color?.hex,\n\t\t\t\t\t\t\t\t\tcolor: theme.palette.getContrastText(row?.color?.hex),\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t</TableCell>\n\t\t\t\t) :(\n\t\t\t\t\tnull\n\t\t\t\t)\n\t\t\t}\n\t\t</TableRow>\n\t)\n};\n\n// MODAL PARA ELIMINAR EL DESCUENTO DE LOS PRODUCTOS\nconst Modal = ({row, handleModal, openModal, handleDelete }) => {\n\n\treturn (\n\t\t<div>\n\t\t\t<IconButton \n\t\t\t\tcolor=\"secondary\" \n\t\t\t\tonClick={handleModal}\n\t\t\t\tdisabled={ !row.descuento ? true \n\t\t\t\t\t: ( row.descuento.porciento === 0 ? true : false ) }\n\t\t\t>\n\t\t\t\t<Delete />\n\t\t\t</IconButton>\n\t\t\t<Dialog open={openModal} onClose={handleModal}>\n\t\t\t\t<DialogTitle>{'¿Seguro que quieres eliminar esto?'}</DialogTitle>\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Button onClick={handleModal} color=\"primary\">\n\t\t\t\t\t\tCancelar\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button color=\"secondary\" autoFocus variant=\"contained\" onClick={handleDelete}>\n\t\t\t\t\t\tEliminar\n\t\t\t\t\t</Button>\n\t\t\t\t</DialogActions>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n};\n","import React, { useCallback, useContext, useState } from 'react';\n\nimport LocalOfferIcon from '@material-ui/icons/LocalOffer';\nimport { Button, Dialog, makeStyles, DialogTitle, DialogContent, Grid, Box, Typography, TextField, Slider, IconButton } from '@material-ui/core';\nimport CloseIcon from '@material-ui/icons/Close';\n\nimport TablaPreciosDescuentos from './ListaPrecios';\n\nimport {  REGISTRAR_DESCUENTOS } from '../../../../../gql/Catalogos/descuentos';\nimport { useMutation } from '@apollo/client';\nimport SnackBarMessages from '../../../../../components/SnackBarMessages';\nimport BackdropComponent from '../../../../../components/Layouts/BackDrop';\nimport { RegProductoContext } from '../../../../../context/Catalogos/CtxRegProducto';\n\nconst useStyles = makeStyles((theme) => ({\n\tavatarGroup: {\n\t\t'& > .MuiAvatarGroup-avatar': {\n\t\t\twidth: theme.spacing(8),\n\t\t\theight: theme.spacing(8)\n\t\t}\n\t},\n\troot: {\n\t\twidth: 400\n\t},\n    rootSlice:{\n        width: 350\n    },\n\tmargin: {\n\t\theight: theme.spacing(3)\n\t},\n    rootTable:{\n        height: 300\n    }\n}));\n\nexport default function DescuentoProductos({datos, productosRefetch}) {\n    const [ CrearDescuentoUnidad ] = useMutation(REGISTRAR_DESCUENTOS);\n    const { \n        setDatosPreciosProducto,\n        preciosDescuentos, \n        setPreciosDescuentos,\n        preciosProductos, \n        setPreciosProductos,\n    } = useContext(RegProductoContext);\n\n    let iva = datos.precios.iva;\n    let ieps = datos.precios.ieps;\n    // Precio compra sin impuestos y sin utilidad\n    let PCSI = datos.precios.unidad_de_compra.precio_unitario_sin_impuesto;\n\n    const [ alert, setAlert ] = useState({ message: '', status: '', open: false });\n    const [ openDescuento, setOpenDescuento ] = useState(false);\n    const [ cleanList, setCleanList ] = useState(false);\n    const [ validate ] = useState(false);\n    const [ loading, setLoading ] = useState(false);\n\n    const [ precioPrueba, setPrecioPrueba ] = useState(0);\n    const [ value, setValue] =  useState(0);\n\n    const classes = useStyles();\n\n    const handleCloseDescuentos = () => {\n        if (datos.medidas_producto.length > 0) {\n            setDatosPreciosProducto(datos.medidas_producto);\n            setLoading(false);\n        }else{\n            setDatosPreciosProducto(datos.unidades_de_venta);\n            setLoading(false);\n        }\n        setPrecioPrueba(0);\n        setValue(0);\n        preciosDescuentos.splice(0, preciosDescuentos.length);\n    };\n\n    const cerrarModal =()=>{\n        setOpenDescuento(!openDescuento);\n        handleCloseDescuentos();\n    }\n\n    const verificarDatos = useCallback(\n        (datos) => {\n            for (let i = 0; i < datos.length; i++) {\n                if (datos[i].descuento) {\n                    if ( datos[i].descuento.porciento !== 0) {\n                        setValue(datos[i].descuento.porciento);\n                        if (datos.length === 1) {\n                            setPrecioPrueba(datos[i].descuento.precio_neto);\n                        }\n                    }\n                }\n            };\n    },\n        [datos]\n    );\n    \n    let arrayDescuento = [];\n\n    const obtenerPorcientoSlide = (event, newValue) => {\n        setValue(newValue);\n        preciosDescuentos.splice(0, preciosDescuentos.length);\n\n        for (let i = 0; i < preciosProductos.length; i++) {\n            let porcentaje  =  parseFloat((100 - newValue).toFixed(2));//Porcentaje para calculos de descuento\n            let PVCDSI = 0; // Precio venta con descuento sin impuestos\n            let dineroDescontado = 0; \n            let cantidad_unidad = preciosProductos[i].precio_unidad.cantidad_unidad;\n\n            PVCDSI = parseFloat((preciosProductos[i].precio_unidad.precio_venta * porcentaje / 100).toFixed(2));\n            dineroDescontado = parseFloat((preciosProductos[i].precio_unidad.precio_venta - PVCDSI).toFixed(2));\n\n            let iva_precio = parseFloat((PVCDSI * parseFloat(`0.${iva < 10 ? `0${iva}` : iva}`).toFixed(2)));\n\n            let ieps_precio = parseFloat((PVCDSI * parseFloat(`0.${ieps < 10 ? `0${ieps}` : ieps}`).toFixed(2)));\n            let utilidad = parseFloat((((PVCDSI - PCSI) / PCSI) * 100).toFixed(2));\n            let precio_neto = parseFloat((PVCDSI + iva_precio + ieps_precio).toFixed(2));\n            let precio_general = parseFloat((precio_neto * cantidad_unidad).toFixed(2));\n\n            arrayDescuento = {\n                _id: preciosProductos[i]._id,\n                descuento_activo: true,\n                descuento:{\n                    cantidad_unidad: cantidad_unidad,\n                    numero_precio: preciosProductos[i].precio_unidad.numero_precio,\n                    unidad_maxima: preciosProductos[i].precio_unidad.unidad_maxima,\n                    precio_general: precio_general,\n                    precio_neto: precio_neto,\n                    precio_venta: PVCDSI,\n                    iva_precio: iva_precio,\n                    ieps_precio: ieps_precio,\n                    utilidad: utilidad,\n                    porciento: newValue,\n                    dinero_descontado: dineroDescontado,\n                }\n            };\n\n            setPrecioPrueba(precio_neto);\n            if (preciosProductos.length !== 1) {\n                preciosDescuentos.push(arrayDescuento);\n            }else{\n                setPreciosDescuentos([arrayDescuento]);\n            }\n\n        }\n    };\n\n    const obtenerPrecioText = (e) => {\n        let valorText = parseFloat(e.target.value);\n        if (preciosProductos.length === 1) {\n            setPrecioPrueba(valorText);\n            \n            let suma_impuestos = parseFloat(`0.${iva < 10 ? `0${iva}` : iva}`) + parseFloat(`0.${ieps < 10 ? `0${ieps}` : ieps}`);\n            let PVSI = parseFloat((valorText / (suma_impuestos+1)).toFixed(2));\n\n            let cantidad_unidad = preciosProductos[0].precio_unidad.cantidad_unidad;\n            let dineroDescontado = 0;\n            let PVCDSI = 0; // Precio venta con descuento sin impuestos\n            let porcentaje  = parseFloat(((PVSI / preciosProductos[0].precio_unidad.precio_venta) * 100).toFixed(2));\n            let descuento = parseFloat((100 - porcentaje).toFixed(2));\n\n            PVCDSI = parseFloat((preciosProductos[0].precio_unidad.precio_venta * porcentaje / 100).toFixed(2));\n            dineroDescontado = parseFloat((preciosProductos[0].precio_unidad.precio_venta - PVCDSI).toFixed(2));\n\n            let iva_precio = parseFloat((PVCDSI * parseFloat(`0.${iva < 10 ? `0${iva}` : iva}`).toFixed(2)));\n            let ieps_precio = parseFloat((PVCDSI * parseFloat(`0.${ieps < 10 ? `0${ieps}` : ieps}`).toFixed(2)));\n            let utilidad = parseFloat((((PVCDSI - PCSI) / PCSI) * 100).toFixed(2));\n            let precio_neto = parseFloat((PVCDSI + iva_precio + ieps_precio).toFixed(2));\n            let precio_general = parseFloat((precio_neto * cantidad_unidad).toFixed(2));\n\n            arrayDescuento = {\n                \"_id\": preciosProductos[0]._id,\n                \"descuento_activo\": true,\n                \"descuento\":{\n                    cantidad_unidad: cantidad_unidad,\n                    numero_precio: preciosProductos[0].precio_unidad.numero_precio,\n                    unidad_maxima: preciosProductos[0].precio_unidad.unidad_maxima,\n                    precio_general: precio_general,\n                    precio_neto: precio_neto,\n                    precio_venta: PVCDSI,\n                    iva_precio: iva_precio,\n                    ieps_precio: ieps_precio,\n                    utilidad: utilidad,\n                    porciento: descuento,\n                    dinero_descontado: dineroDescontado,\n                }\n            };\n            \n            setValue(descuento);\n            setPreciosDescuentos([arrayDescuento]);\n        }\n    };\n\n    function valuetext(e) {\n        return `${e}`;\n    };\n\n    const saveData = async () => {\n        setLoading(true);\n\t\ttry {\n            await CrearDescuentoUnidad({\n                variables: {\n                    input: {\n                        descuentos: preciosDescuentos\n                    }\n                }\n            });\n            handleCloseDescuentos()\n            productosRefetch();\n            setValue(0);\n            setPreciosProductos([]);\n            setPreciosDescuentos([]);\n            setCleanList(!cleanList);\n            setAlert({ message: '¡Listo descuentos realizados!', status: 'success', open: true });\n\t\t} catch (error) {\n            setAlert({ message: '¡Oh no, ocurrio un problema con el servidor!', status: 'error', open: true });\n\t\t}\n\t};\n\n    const validacion = () => {\n        if (datos.medidas_producto.length > 0 ) {\n            for (let i = 0; i < datos.medidas_producto.length; i++) {\n                if (datos.medidas_producto[i]?.descuento_activo === true) {\n                    return \"primary\";\n                }else{\n                    return \"default\";\n                }\n            }\n        }else{\n            for (let i = 0; i < datos.unidades_de_venta.length; i++) {\n                if (datos.unidades_de_venta[i]?.descuento_activo === true) {\n                    return \"primary\";\n                }else{\n                    return \"default\";\n                }\n            }\n        }\n    }\n\n    return (\n        <div>\n            <SnackBarMessages alert={alert} setAlert={setAlert} />\n            <IconButton\n                color={validacion()}\n                onClick={cerrarModal}\n                disabled={datos.inventario_general && datos.inventario_general.length > 0 && datos.inventario_general[0].eliminado === true}\n            >\n               <LocalOfferIcon />\n            </IconButton>\n            <Dialog open={openDescuento} onClose={handleCloseDescuentos} fullWidth maxWidth=\"lg\">\n            <BackdropComponent loading={loading} setLoading={setLoading} />\n\t\t\t\t<DialogTitle>\n                    <Grid container>\n                        <Box flexGrow={1} display=\"flex\" alignItems=\"center\">\n                            {'Descuento de Producto'}\n                        </Box>\n                        <Box m={1}>\n                            <Button variant=\"contained\" color=\"secondary\" onClick={cerrarModal} size=\"large\">\n                                <CloseIcon />\n                            </Button>\n                        </Box>\n                    </Grid>\n                </DialogTitle>\n\t\t\t\t<DialogContent>\n                    <Box textAlign=\"center\">\n                        <Typography>\n                            <b>Nombre comercial: </b>\n                            {datos.datos_generales.nombre_comercial ? datos.datos_generales.nombre_comercial : '-'}\n                        </Typography>\n                    </Box>\n                    <Box textAlign=\"center\">\n                        <Typography>\n                            <b>Nombre genérico: </b>\n                            {datos.datos_generales.nombre_generico ? datos.datos_generales.nombre_generico : '-'}\n                        </Typography>\n                    </Box>\n                    <Grid container>\n                        <Grid item lg={8} md={6} xs={12}> \n                            <Box p={1}>\n                                <TablaPreciosDescuentos\n                                    verificarDatos={verificarDatos}\n                                    productosRefetch={productosRefetch}\n                                    datos={datos}\n                                    value={value}\n                                    cleanList={cleanList}\n                                    setCleanList={setCleanList}\n                                    setPrecioPrueba={setPrecioPrueba}\n                                    setLoading={setLoading}\n                                    loading={loading}\n                                />\n                            </Box>\n                        </Grid>\n                        <Grid item lg={4} md={6} xs={12}> \n                            <Box mt={5} dislay=\"flex\" justifyContent=\"center\">\n                                <div className={classes.root}>\n                                    <Box textAlign=\"center\">\n                                        <Typography id=\"discrete-slider-always\" gutterBottom>\n                                            <b>Porcentaje de descuento</b>\n                                        </Typography>\n                                    </Box>\n                                    <Box my={5} />\n                                    <Box display='flex' justifyContent=\"center\" justifyItems=\"center\" className={classes.rootSlice}>\n                                        <Slider\n                                            disabled={preciosProductos.length === 0 ? true : false}\n                                            getAriaValueText={valuetext}\n                                            value={value.toFixed(2)}\n                                            aria-labelledby=\"discrete-slider-small-steps\"\n                                            valueLabelDisplay=\"auto\"\n                                            onChange={obtenerPorcientoSlide} \n                                        />\n                                    </Box>\n                                </div>\n                            </Box>\n                            <Box mt={5} display=\"flex\" justifyContent=\"center\">\n                                {preciosProductos.length === 1 ? ( \n                                    <div>\n                                        <Typography>Precio con Descuento</Typography>\n                                        <TextField\n                                            type=\"number\"\n                                            InputProps={{ inputProps: { min: 0} }}\n                                            size=\"small\"\n                                            variant=\"outlined\"\n                                            value={ precioPrueba }\n                                            onChange={(e) => obtenerPrecioText(e)}\n                                        />\n                                    </div>\n                                ) : (\n                                    null\n                                )}\n\n                            </Box>\n                            <Box mt={2} display=\"flex\" justifyContent=\"center\">\n                                <Button \n                                    disabled={preciosProductos.length === 0 || validate === true ? true : false}\n                                    variant=\"contained\" \n                                    color=\"primary\" \n                                    size=\"large\"\n                                    onClick={saveData}\n                                >\n                                    Guardar \n                                </Button>\n                            </Box>\n                        </Grid>\n                    </Grid>\n\t\t\t\t</DialogContent>\n\t\t\t</Dialog>\n        </div>\n    )\n}\n","import React, { useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport {\n  Drawer,\n  Typography,\n  Box,\n  Grid,\n  Button,\n  IconButton,\n} from \"@material-ui/core\";\nimport { Close, CropOriginal, ListAlt } from \"@material-ui/icons\";\n\nconst useStyles = makeStyles((theme) => ({\n  drawWidth: {\n    width: \"50vw\",\n    [theme.breakpoints.down(\"sm\")]: {\n      width: \"100vw\",\n    },\n  },\n}));\n\nexport default function InfoProductoDrawer({ producto }) {\n  const { datos_generales, imagenes } = producto;\n  const classes = useStyles();\n  const [open, setOpen] = useState(false);\n\n  const toggleDrawer = () => setOpen(!open);\n\n  return (\n    <div>\n      <IconButton\n        color=\"default\"\n        variant=\"contained\"\n        onClick={() => toggleDrawer()}\n      >\n        <ListAlt />\n      </IconButton>\n      <Drawer anchor=\"right\" open={open} onClose={() => toggleDrawer()}>\n        <div className={classes.drawWidth}>\n          <Grid container>\n            <Grid\n              item\n              md={imagenes.length > 1 ? 6 : 12}\n              style={{ display: \"flex\", justifyContent: \"center\" }}\n            >\n              <Box\n                m={1}\n                width=\"300px\"\n                height=\"300px\"\n                display=\"flex\"\n                justifyContent=\"center\"\n                alignItems=\"center\"\n              >\n                {imagenes.length > 0 ? (\n                  <img\n                    width=\"100%\"\n                    alt=\"img producto\"\n                    src={imagenes[0].url_imagen}\n                    /* src=\"https://www.dportenis.mx/wcsstore/ExtendedSitesCatalogAssetStore/images/catalog/zoom/1020139-0001V1.jpg\" */\n                  />\n                ) : (\n                  <CropOriginal style={{ fontSize: 90 }} />\n                )}\n              </Box>\n            </Grid>\n            {imagenes.length > 1 ? (\n              <Grid item md={6}>\n                <Grid container>\n                  {imagenes.map((res, index) => {\n                    return index > 0 ? (\n                      <Grid item key={index}>\n                        <Box\n                          m={1}\n                          key={index}\n                          height={120}\n                          width={120}\n                          display=\"flex\"\n                          justifyContent=\"center\"\n                          alignItems=\"center\"\n                        >\n                          <img\n                            width=\"100%\"\n                            alt=\"img producto\"\n                            src={res.url_imagen}\n                          />\n                        </Box>\n                      </Grid>\n                    ) : null;\n                  })}\n                </Grid>\n              </Grid>\n            ) : null}\n          </Grid>\n          <Box m={5}>\n            <Grid container spacing={3} justify=\"center\">\n              <Grid item>\n                <Typography>\n                  <b>Código de barras: </b>\n                  {datos_generales.codigo_barras\n                    ? datos_generales.codigo_barras\n                    : \"-\"}\n                </Typography>\n                <Typography>\n                  <b>Clave alterna: </b>\n                  {datos_generales.clave_alterna\n                    ? datos_generales.clave_alterna\n                    : \"-\"}\n                </Typography>\n                <Typography>\n                  <b>Clave producto del SAT: </b>\n                  {datos_generales.clave_producto_sat &&\n                  datos_generales.clave_producto_sat.Value\n                    ? datos_generales.clave_producto_sat.Value: \"-\"}\n                </Typography>\n                <Typography>\n                  <b>Nombre comercial: </b>\n                  {datos_generales.nombre_comercial\n                    ? datos_generales.nombre_comercial\n                    : \"-\"}\n                </Typography>\n                <Typography>\n                  <b>Nombre genérico: </b>\n                  {datos_generales.nombre_generico\n                    ? datos_generales.nombre_generico\n                    : \"-\"}\n                </Typography>\n                <Typography>\n                  <b>Descripción: </b>\n                  {datos_generales.descripcion\n                    ? datos_generales.descripcion\n                    : \"-\"}\n                </Typography>\n              </Grid>\n              <Grid item>\n                <Typography>\n                  <b>Tipo de producto: </b>\n                  {datos_generales.tipo_producto\n                    ? datos_generales.tipo_producto\n                    : \"-\"}\n                </Typography>\n                <Typography>\n                  <b>Categoria: </b>\n                  {datos_generales.categoria ? datos_generales.categoria : \"-\"}\n                </Typography>\n                <Typography>\n                  <b>Subcategoria: </b>\n                  {datos_generales.subcategoria\n                    ? datos_generales.subcategoria\n                    : \"-\"}\n                </Typography>\n                <Typography>\n                  <b>Departamento: </b>\n                  {datos_generales.departamento\n                    ? datos_generales.departamento\n                    : \"-\"}\n                </Typography>\n                <Typography>\n                  <b>Marca: </b>\n                  {datos_generales.marca ? datos_generales.marca : \"-\"}\n                </Typography>\n              </Grid>\n            </Grid>\n          </Box>\n        </div>\n        <Box\n          position=\"absolute\"\n          bottom={16}\n          width=\"100%\"\n          display=\"flex\"\n          justifyContent=\"center\"\n        >\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            size=\"large\"\n            onClick={() => toggleDrawer()}\n            startIcon={<Close />}\n          >\n            Cerrar\n          </Button>\n        </Box>\n      </Drawer>\n    </div>\n  );\n}\n","import React, { forwardRef, Fragment, useContext, useState } from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Slide from \"@material-ui/core/Slide\";\nimport { CircularProgress, IconButton } from \"@material-ui/core\";\nimport { Delete } from \"@material-ui/icons\";\n/* import SnackBarMessages from '../../../../components/SnackBarMessages'; */\nimport { useMutation } from \"@apollo/client\";\nimport { ELIMINAR_PRODUCTO } from \"../../../../gql/Catalogos/productos\";\nimport { RegProductoContext } from \"../../../../context/Catalogos/CtxRegProducto\";\n\nconst Transition = forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function EliminarProducto({ datos, productosRefetch }) {\n  const [open, setOpen] = useState(false);\n  const [loading, setLoading] = useState(false);\n  /* const [ alert, setAlert ] = useState({ message: '', status: '', open: false }); */\n  const { actualizarLista, setActualizarLista, setAlert } = useContext(\n    RegProductoContext\n  );\n\n  const [eliminarProducto] = useMutation(ELIMINAR_PRODUCTO);\n\n  const handleToggleModal = () => setOpen(!open);\n\n  const eliminarProductoBD = async () => {\n    setLoading(true);\n    try {\n      const result = await eliminarProducto({\n        variables: {\n          id: datos._id,\n        },\n      });\n      setActualizarLista(!actualizarLista);\n      productosRefetch();\n      setAlert({\n        message: `¡Listo! ${result.data.eliminarProducto.message}`,\n        status: \"success\",\n        open: true,\n      });\n      setLoading(false);\n      handleToggleModal();\n    } catch (error) {\n      setAlert({\n        message: `Error: ${error.message}`,\n        status: \"error\",\n        open: true,\n      });\n      setLoading(false);\n      handleToggleModal();\n    }\n  };\n\n  return (\n    <Fragment>\n      {/* <SnackBarMessages alert={alert} setAlert={setAlert} /> */}\n      <IconButton\n        onClick={() => handleToggleModal()}\n        disabled={\n            datos.inventario_general && datos.inventario_general.length === 0\n              ? true\n              : datos.inventario_general[0].eliminado === true\n              ? true\n              : false\n          }\n      >\n        <Delete\n          color={\n            datos.inventario_general && datos.inventario_general.length === 0\n              ? \"disabled\"\n              : datos.inventario_general[0].eliminado === true\n              ? \"disabled\"\n              : \"error\"\n          }\n        />\n      </IconButton>\n      <Dialog\n        open={open}\n        TransitionComponent={Transition}\n        keepMounted\n        onClose={() => handleToggleModal()}\n        aria-labelledby=\"alert-dialog-delete-producto\"\n      >\n        <DialogTitle id=\"alert-dialog-delete-producto\">\n          {\"¿Estás seguro de eliminar este producto?\"}\n        </DialogTitle>\n        <DialogActions style={{ display: \"flex\", justifyContent: \"center\" }}>\n          <Button onClick={() => handleToggleModal()} color=\"inherit\">\n            Cancelar\n          </Button>\n          <Button\n            onClick={() => eliminarProductoBD()}\n            color=\"secondary\"\n            startIcon={\n              loading ? <CircularProgress color=\"inherit\" size={20} /> : null\n            }\n          >\n            Eliminar\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </Fragment>\n  );\n}\n","import React, { Fragment } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport CrearProducto from \"./crearProducto\";\nimport DescuentoProductos from \"./Descuentos/Descuento\";\nimport InfoProductoDrawer from \"./infoProductoDrawer\";\nimport EliminarProducto from \"./EliminarProducto\";\n\nconst useStyles = makeStyles({\n  root: {\n    width: \"100%\",\n  },\n  container: {\n    maxHeight: \"70vh\",\n\t'& ::-webkit-scrollbar': {\n\t\tdisplay: 'none'\n\t}\n  },\n  avatar: {\n    width: 130,\n    height: 130,\n  },\n});\n\nexport default function ListaProductos({ obtenerProductos, productosRefetch }) {\n  const classes = useStyles();\n\n  return (\n    <div className={classes.root}>\n      <TableContainer className={classes.container}>\n        <Table stickyHeader aria-label=\"sticky table\">\n          <TableHead>\n            <TableRow>\n              <TableCell>Codigo barras</TableCell>\n              <TableCell>Clave alterna</TableCell>\n              <TableCell>Nombre comercial</TableCell>\n              <TableCell>Existencia</TableCell>\n              <TableCell>Tipo</TableCell>\n              <TableCell>Información</TableCell>\n              <TableCell>Editar</TableCell>\n              <TableCell>Descuento</TableCell>\n              <TableCell>Eliminar</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody className=\"hide-scroll\">\n            {obtenerProductos.map((producto, index) => {\n              return (\n                <RenderTableRows\n                  key={index}\n                  producto={producto}\n                  productosRefetch={productosRefetch}\n                />\n              );\n            })}\n          </TableBody>\n        </Table>\n      </TableContainer>\n    </div>\n  );\n}\n\nconst RenderTableRows = ({ producto, productosRefetch }) => {\n  return (\n    <Fragment>\n      <TableRow hover>\n        <TableCell>{producto.datos_generales.codigo_barras}</TableCell>\n        <TableCell>{producto.datos_generales.clave_alterna}</TableCell>\n        <TableCell>{producto.datos_generales.nombre_comercial}</TableCell>\n        <TableCell align=\"center\" padding=\"checkbox\">\n          {producto.inventario_general.map(\n            (existencia) =>\n              `${existencia.cantidad_existente} ${existencia.unidad_inventario}`\n          )}\n        </TableCell>\n        <TableCell>{producto.datos_generales.tipo_producto}</TableCell>\n        <TableCell align=\"center\" padding=\"checkbox\">\n          <InfoProductoDrawer producto={producto} />\n        </TableCell>\n        <TableCell align=\"center\" padding=\"checkbox\">\n          <CrearProducto\n            accion={true}\n            datos={producto}\n            productosRefetch={productosRefetch}\n          />\n        </TableCell>\n        <TableCell align=\"center\" padding=\"checkbox\">\n          <DescuentoProductos\n            datos={producto}\n            productosRefetch={productosRefetch}\n          />\n        </TableCell>\n        <TableCell align=\"center\" padding=\"checkbox\">\n          <EliminarProducto\n            datos={producto}\n            productosRefetch={productosRefetch}\n          />\n        </TableCell>\n      </TableRow>\n    </Fragment>\n  );\n};\n","import React, { useState, forwardRef, useEffect, useContext } from 'react';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Slide from '@material-ui/core/Slide';\nimport { RestoreFromTrash, Publish } from '@material-ui/icons';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport { Box, IconButton, CircularProgress, Typography } from '@material-ui/core';\nimport { Fragment } from 'react';\nimport ErrorPage from '../../../../components/ErrorPage';\nimport { ACTIVAR_PRODUCTOS, PRODUCTOS_ELIMINADOS } from '../../../../gql/Catalogos/productos';\nimport { useMutation, useQuery } from '@apollo/client';\n/* import SnackBarMessages from '../../../../components/SnackBarMessages'; */\nimport { RegProductoContext } from '../../../../context/Catalogos/CtxRegProducto';\n\nconst Transition = forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function ProdcutosEliminados({productosActivosRefetch}) {\n\tconst [ open, setOpen ] = useState(false);\n\n\tconst handleModalToggle = () => setOpen(!open);\n\n\treturn (\n\t\t<div>\n\t\t\t<Button disableElevation color=\"primary\" onClick={handleModalToggle} size=\"large\" startIcon={<RestoreFromTrash />}>\n\t\t\t\tProductos inactivos\n\t\t\t</Button>\n\t\t\t<Dialog\n\t\t\t\topen={open}\n\t\t\t\tTransitionComponent={Transition}\n\t\t\t\tkeepMounted\n\t\t\t\tonClose={handleModalToggle}\n\t\t\t\taria-labelledby=\"dialog-productos-eliminados\"\n\t\t\t\tmaxWidth=\"md\"\n\t\t\t\tfullWidth\n\t\t\t>\n\t\t\t\t<DialogTitle id=\"dialog-productos-eliminados\">{'Productos inactivos'}</DialogTitle>\n\t\t\t\t<DialogContent>\n\t\t\t\t\t<TablaProductosEliminados productosActivosRefetch={productosActivosRefetch} />\n\t\t\t\t</DialogContent>\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Button variant=\"contained\" onClick={handleModalToggle} color=\"primary\" size=\"large\">\n\t\t\t\t\t\tCerrar\n\t\t\t\t\t</Button>\n\t\t\t\t</DialogActions>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n}\n\nconst TablaProductosEliminados = ({productosActivosRefetch}) => {\n\tconst sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\tconst { actualizarLista } = useContext(RegProductoContext);\n\n\t/* Queries */\n\tconst { loading, data, error, refetch } = useQuery(PRODUCTOS_ELIMINADOS, {\n\t\tvariables: { sucursal: sesion.sucursal._id, empresa: sesion.empresa._id }\n\t});\n\n\tuseEffect(() => {\n\t\trefetch();\n\t}, [ refetch, actualizarLista ]);\n\n\tif (loading)\n\t\treturn (\n\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" height=\"30vh\">\n\t\t\t\t<CircularProgress />\n\t\t\t</Box>\n\t\t);\n\tif (error) {\n\t\treturn <ErrorPage error={error} />;\n\t}\n\n\tif (!loading && !error && !data) {\n\t\treturn (\n\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" height=\"30vh\">\n\t\t\t\t<Typography variant=\"h6\">No hay productos inactivos</Typography>\n\t\t\t</Box>\n\t\t);\n\t}\n\n\tconst { obtenerProductosInactivos } = data;\n\n\treturn (\n\t\t<Box height=\"60vh\">\n\t\t\t<TableContainer>\n\t\t\t\t<Table aria-label=\"simple table\" size=\"small\">\n\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t<TableCell align=\"left\">Código de barras</TableCell>\n\t\t\t\t\t\t\t<TableCell align=\"left\">Clave alterna</TableCell>\n\t\t\t\t\t\t\t<TableCell>Nombre comercial</TableCell>\n\t\t\t\t\t\t\t<TableCell align=\"right\">Reactivar</TableCell>\n\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t</TableHead>\n\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t{obtenerProductosInactivos.map((producto, index) => (\n\t\t\t\t\t\t\t<RenderProductosTabla key={index} datos={producto} refetch={refetch} productosActivosRefetch={productosActivosRefetch} />\n\t\t\t\t\t\t))}\n\t\t\t\t\t</TableBody>\n\t\t\t\t</Table>\n\t\t\t</TableContainer>\n\t\t</Box>\n\t);\n};\n\nconst RenderProductosTabla = ({ datos, refetch, productosActivosRefetch }) => {\n\tconst [ open, setOpen ] = useState(false);\n\tconst [ loading, setLoading ] = useState(false);\n\tconst { datos_generales } = datos.producto;\n    /* const [ alert, setAlert ] = useState({ message: '', status: '', open: false }); */\n\tconst { setAlert } = useContext(RegProductoContext);\n\n    const [ activarProducto ] = useMutation(ACTIVAR_PRODUCTOS);\n\n\tconst handleDeleteToggle = () => setOpen(!open);\n\n\tconst reactivarProducto = async () => {\n\t\tsetLoading(true);\n\t\ttry {\n\t\t\tconst result = await activarProducto({\n\t\t\t\tvariables: {\n\t\t\t\t\tid: datos._id\n\t\t\t\t}\n\t\t\t});\n            refetch();\n\t\t\tproductosActivosRefetch();\n\t\t\tsetAlert({ message: `¡Listo! ${result.data.activarProducto.message}`, status: 'success', open: true });\n\t\t\tsetLoading(false);\n\t\t\thandleDeleteToggle();\n\t\t} catch (error) {\n\t\t\tsetAlert({ message: `Error: ${error.message}`, status: 'error', open: true });\n\t\t\tsetLoading(false);\n\t\t}\n\t};\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<TableRow>\n\t\t\t\t<TableCell align=\"left\">{datos_generales.codigo_barras}</TableCell>\n\t\t\t\t<TableCell align=\"left\">{datos_generales.clave_alterna}</TableCell>\n\t\t\t\t<TableCell>{datos_generales.nombre_comercial}</TableCell>\n\t\t\t\t<TableCell align=\"right\">\n\t\t\t\t\t{loading ? (\n\t\t\t\t\t\t<IconButton color=\"primary\" disabled onClick={handleDeleteToggle}>\n\t\t\t\t\t\t\t<CircularProgress size={26} />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<IconButton color=\"primary\" onClick={handleDeleteToggle}>\n\t\t\t\t\t\t\t<Publish />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t)}\n\t\t\t\t</TableCell>\n\t\t\t</TableRow>\n\t\t\t<Dialog open={open} onClose={handleDeleteToggle} aria-labelledby=\"reactivar-producto-dialog\">\n\t\t\t\t<DialogTitle id=\"reactivar-producto-dialog\">{'Se reactivará este producto'}</DialogTitle>\n\t\t\t\t{/* <SnackBarMessages alert={alert} setAlert={setAlert} />        */}  \n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Button onClick={handleDeleteToggle} color=\"inherit\">\n\t\t\t\t\t\tCancelar\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button onClick={() => reactivarProducto()} color=\"primary\" autoFocus>\n\t\t\t\t\t\tAceptar\n\t\t\t\t\t</Button>\n\t\t\t\t</DialogActions>\n\t\t\t</Dialog>\n\t\t</Fragment>\n\t);\n};\n","import React, { useContext, useState } from \"react\";\nimport Slide from \"@material-ui/core/Slide\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport Button from \"@material-ui/core/Button\";\nimport Tabs from \"@material-ui/core/Tabs\";\nimport Tab from \"@material-ui/core/Tab\";\nimport Box from \"@material-ui/core/Box\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport OutlinedInput from \"@material-ui/core/OutlinedInput\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport CrearProducto from \"./crearProducto\";\nimport ListaProductos from \"./ListaProductos\";\nimport { RegProductoContext } from \"../../../../context/Catalogos/CtxRegProducto\";\nimport { useQuery } from \"@apollo/client\";\nimport { OBTENER_PRODUCTOS } from \"../../../../gql/Catalogos/productos\";\nimport ErrorPage from \"../../../../components/ErrorPage\";\nimport { Search, Close, ArrowBack } from \"@material-ui/icons\";\nimport ProductosEliminados from \"./ProductosEliminados\";\nimport SnackBarMessages from \"../../../../components/SnackBarMessages\";\nimport { makeStyles } from \"@material-ui/core\";\n\nconst useStyles = makeStyles((theme) => ({\n  appBar: {\n    position: \"relative\",\n  },\n  title: {\n    marginLeft: theme.spacing(2),\n    flex: 1,\n  },\n  icon: {\n    fontSize: 100,\n  },\n  iconSvg: {\n    width: 100,\n  },\n  root: {\n    flexGrow: 1,\n    backgroundColor: theme.palette.background.paper,\n  },\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function Productos() {\n  const classes = useStyles();\n  const [open, setOpen] = React.useState(false);\n  const { alert, setAlert } = useContext(RegProductoContext);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  return (\n    <div>\n      <Button fullWidth onClick={() => handleClickOpen()}>\n        <Box display=\"flex\" flexDirection=\"column\">\n          <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n            <img\n              src=\"https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/productos.svg\"\n              alt=\"icono ropa\"\n              className={classes.iconSvg}\n            />\n          </Box>\n          Productos\n        </Box>\n      </Button>\n      <SnackBarMessages alert={alert} setAlert={setAlert} />\n      <Dialog\n        fullScreen\n        open={open}\n        onClose={handleClose}\n        TransitionComponent={Transition}\n      >\n        <AppBar className={classes.appBar}>\n          <Toolbar>\n            <Typography variant=\"h6\" className={classes.title}>\n              Productos\n            </Typography>\n            <Button\n              autoFocus\n              color=\"inherit\"\n              size=\"large\"\n              onClick={() => handleClose()}\n              startIcon={<Close />}\n            >\n              Cerrar\n            </Button>\n          </Toolbar>\n        </AppBar>\n        <RegistroComponent />\n      </Dialog>\n    </div>\n  );\n}\n\nconst RegistroComponent = () => {\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n  const [filtro, setFiltro] = useState(\"\");\n  const [busqueda, setBusqueda] = useState(\"\");\n  const [existencias, setExistencias] = useState(true);\n  const [value, setValue] = useState(0);\n  const classes = useStyles();\n\n  const handleChange = (event, value) => {\n    setValue(value);\n\tif(value === 0){\n\t\tsetExistencias(true)\n\t}else{\n\t\tsetExistencias(false)\n\t}\n  };\n\n  /* Queries */\n  const { loading, data, error, refetch } = useQuery(OBTENER_PRODUCTOS, {\n    variables: {\n      sucursal: sesion.sucursal._id,\n      empresa: sesion.empresa._id,\n      filtro,\n\t  existencias,\n    },\n\tfetchPolicy: \"network-only\",\n  });\n\n  if (loading)\n    return (\n      <Box\n        display=\"flex\"\n        justifyContent=\"center\"\n        alignItems=\"center\"\n        height=\"30vh\"\n      >\n        <CircularProgress />\n      </Box>\n    );\n  if (error) {\n    return <ErrorPage error={error} />;\n  }\n\n  const { obtenerProductos } = data;\n\n  const filtrarProductos = (event) => {\n    event.preventDefault();\n    if (busqueda === \"\") {\n      setFiltro(\"\");\n      refetch({ filtro: \"\" });\n      return;\n    }\n    setFiltro(busqueda);\n  };\n\n  const reload = () => {\n    setBusqueda(\"\");\n    setFiltro(\"\");\n    refetch({ filtro: \"\" });\n  };\n\n  return (\n    <div>\n      <Box mx={4} my={3} display=\"flex\">\n        <Box style={{ width: \"500px\" }}>\n          <form\n            onSubmit={filtrarProductos}\n            style={{ display: \"flex\", alignItems: \"center\" }}\n          >\n            <FormControl variant=\"outlined\" fullWidth size=\"small\">\n              <OutlinedInput\n                id=\"search-producto\"\n                type=\"text\"\n                value={busqueda}\n                onChange={(e) => setBusqueda(e.target.value)}\n                endAdornment={\n                  <InputAdornment position=\"start\">\n                    <IconButton\n                      type=\"submit\"\n                      aria-label=\"search producto\"\n                      edge=\"end\"\n                    >\n                      <Search />\n                    </IconButton>\n                  </InputAdornment>\n                }\n              />\n            </FormControl>\n            {filtro !== \"\" ? (\n              <IconButton color=\"primary\" onClick={() => reload()}>\n                <ArrowBack />\n              </IconButton>\n            ) : null}\n          </form>\n        </Box>\n\n        <Box flexGrow={1} />\n        <Box display=\"flex\">\n          <ProductosEliminados productosActivosRefetch={refetch} />\n          <Box mx={1} />\n          <CrearProducto accion={false} productosRefetch={refetch} />\n        </Box>\n      </Box>\n      <Box mx={4}>\n        <div className={classes.root}>\n          <Tabs\n\t\t  \tindicatorColor=\"primary\"\n            value={value}\n            onChange={handleChange}\n            aria-label=\"simple tabs example\"\n\t\t\t\n          >\n            <Tab label=\"Productos de Sucursal\" />\n            <Tab label=\"Todos los productos\" />\n          </Tabs>\n        </div>\n        <ListaProductos\n          obtenerProductos={obtenerProductos}\n          productosRefetch={refetch}\n        />\n      </Box>\n    </div>\n  );\n};\n","import React from 'react'\nimport { RegProductoProvider } from '../../../../context/Catalogos/CtxRegProducto'\nimport Productos from './Productos'\n \nexport default function ProductoIndex(){\n\n    return (\n        <RegProductoProvider>\n            <Productos />\n        </RegProductoProvider>\n    )\n}","import React, { useEffect, useState, Fragment } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TablePagination from '@material-ui/core/TablePagination';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport { Box, Button, Dialog, DialogActions, DialogTitle, IconButton, TextField, Typography } from '@material-ui/core';\nimport { Close, Delete, Edit } from '@material-ui/icons';\n\nimport { useMutation } from '@apollo/client';\nimport { ELIMINAR_TALLA } from '../../../../gql/Catalogos/tallas';\nimport SnackBarMessages from '../../../../components/SnackBarMessages';\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n\t\twidth: '100%'\n\t},\n\tpaper: {\n\t\twidth: '100%',\n\t\tmarginBottom: theme.spacing(2)\n\t}\n}));\n\nexport default function TablaTallas({ tipo, datos, toUpdate, setToUpdate, setValue, refetch }) {\n\tconst sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\n\tconst classes = useStyles();\n\tconst [ page, setPage ] = useState(0);\n\tconst [ rowsPerPage, setRowsPerPage ] = useState(7);\n\tconst [ busqueda, setBusqueda ] = useState('');\n\tconst [ productosFiltrados, setProductosFiltrados ] = useState([]);\n\tconst [ alert, setAlert ] = useState({\n\t\tstatus: '',\n\t\tmessage: '',\n\t\topen: false\n\t});\n\n\tconst handleChangePage = (event, newPage) => {\n\t\tsetPage(newPage);\n\t};\n\n\tconst handleChangeRowsPerPage = (event) => {\n\t\tsetRowsPerPage(parseInt(event.target.value, 10));\n\t\tsetPage(0);\n\t};\n\n\tuseEffect(\n\t\t() => {\n\t\t\tsetProductosFiltrados(\n\t\t\t\tdatos.filter((datos) => {\n\t\t\t\t\treturn datos.talla.toLowerCase().includes(busqueda.toLowerCase());\n\t\t\t\t})\n\t\t\t);\n\t\t},\n\t\t[ busqueda, datos ]\n\t);\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<SnackBarMessages alert={alert} setAlert={setAlert} />\n\t\t\t<Paper className={classes.paper}>\n\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tplaceholder=\"Buscar...\"\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tonChange={(e) => setBusqueda(e.target.value)}\n\t\t\t\t\t/>\n\t\t\t\t</Box>\n\t\t\t\t<TableContainer>\n\t\t\t\t\t<Table\n\t\t\t\t\t\tclassName={classes.table}\n\t\t\t\t\t\taria-labelledby=\"tableTitle\"\n\t\t\t\t\t\tsize=\"medium\"\n\t\t\t\t\t\taria-label=\"enhanced table\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t<TableCell>{tipo === 'ROPA' ? 'Talla' : 'Número'}</TableCell>\n\t\t\t\t\t\t\t\t{sesion.accesos.catalogos.tallas_numeros.editar === false ? (null) : (\n\t\t\t\t\t\t\t\t\t<TableCell padding=\"default\">Editar</TableCell>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t{sesion.accesos.catalogos.tallas_numeros.eliminar === false ? (null) : (\n\t\t\t\t\t\t\t\t\t<TableCell padding=\"default\">Eliminar</TableCell>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t</TableHead>\n\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t{productosFiltrados\n\t\t\t\t\t\t\t\t.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\n\t\t\t\t\t\t\t\t.map((row, index) => (\n\t\t\t\t\t\t\t\t\t<RowsRender key={index} row={row} setAlert={setAlert} tipo={tipo} toUpdate={toUpdate} setToUpdate={setToUpdate} setValue={setValue} refetch={refetch} />\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t</Table>\n\t\t\t\t</TableContainer>\n\t\t\t\t<TablePagination\n\t\t\t\t\trowsPerPageOptions={[]}\n\t\t\t\t\tcomponent=\"div\"\n\t\t\t\t\tcount={datos.length}\n\t\t\t\t\trowsPerPage={rowsPerPage}\n\t\t\t\t\tpage={page}\n\t\t\t\t\tonChangePage={handleChangePage}\n\t\t\t\t\tonChangeRowsPerPage={handleChangeRowsPerPage}\n\t\t\t\t/>\n\t\t\t</Paper>\n\t\t</div>\n\t);\n}\n\nconst RowsRender = ({ row, setAlert, tipo, toUpdate, setToUpdate, setValue, refetch }) => {\n\tconst sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\n\tconst [ openModal, setOpenModal ] = useState(false);\n\tconst handleModal = () => setOpenModal(!openModal);\n\tconst [ eliminarTalla ] = useMutation(ELIMINAR_TALLA);\n\n \n\tconst handleDelete = async () => {\n\t\n\t\ttry {\n\t\t\tconst resp = await eliminarTalla({\n\t\t\t\tvariables: {\n\t\t\t\t\tid: row._id,\n\t\t\t\t\tinput:{\n\t\t\t\t\t\ttipo:tipo,\n\t\t\t\t\t\ttalla:''\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\n\t\t\tlet msgAlert = { message: resp.data.eliminarTalla.message, status: 'success', open: true }\n\t\t\tsetAlert(msgAlert);\n\t\t\trefetch();\n\t\t\thandleModal();\n\t\t} catch (error) {\n\t\t\t\thandleModal();\n\t\t\tsetAlert({ message: error.message, status: 'error', open: true });\n\t\t}\n\t};\n\n\tconst onUpdate = (dato) => {\n\t\tif(!dato){\n\t\t\tsetToUpdate('');\n\t\t\tsetValue('');\n\t\t\treturn\n\t\t}\n\t\tsetToUpdate(dato._id);\n\t\tsetValue(dato.talla);\n\t};\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<TableRow hover role=\"checkbox\" tabIndex={-1} selected={toUpdate === row._id ? true : false}>\n\t\t\t\t<TableCell>\n\t\t\t\t\t<Typography>\n\t\t\t\t\t\t<b>{row.talla}</b>\n\t\t\t\t\t</Typography>\n\t\t\t\t</TableCell>\n\t\t\t\t{sesion.accesos.catalogos.tallas_numeros.editar === false ? (null) : (\n\t\t\t\t\t<TableCell padding=\"checkbox\">\n\t\t\t\t\t\t{toUpdate === row._id ? (\n\t\t\t\t\t\t\t<IconButton onClick={() => onUpdate()}>\n\t\t\t\t\t\t\t\t<Close />\n\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<IconButton onClick={() => onUpdate(row)}>\n\t\t\t\t\t\t\t\t<Edit />\n\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</TableCell>\n\t\t\t\t)}\n\t\t\t\t{sesion.accesos.catalogos.tallas_numeros.eliminar === false ? (null) : (\n\t\t\t\t\t<TableCell padding=\"checkbox\">\n\t\t\t\t\t\t<Modal handleModal={handleModal} openModal={openModal} handleDelete={handleDelete} />\n\t\t\t\t\t</TableCell>\n\t\t\t\t)}\n\t\t\t</TableRow>\n\t\t</Fragment>\n\t);\n};\n\nconst Modal = ({ handleModal, openModal, handleDelete }) => {\n\treturn (\n\t\t<div>\n\t\t\t<IconButton color=\"secondary\" onClick={handleModal}>\n\t\t\t\t<Delete />\n\t\t\t</IconButton>\n\t\t\t<Dialog open={openModal} onClose={handleModal}>\n\t\t\t\t<DialogTitle>{'¿Seguro que quieres eliminar esto?'}</DialogTitle>\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Button onClick={handleModal} color=\"primary\">\n\t\t\t\t\t\tCancelar\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button color=\"secondary\" autoFocus variant=\"contained\" onClick={handleDelete}>\n\t\t\t\t\t\tEliminar\n\t\t\t\t\t</Button>\n\t\t\t\t</DialogActions>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n};\n","import React, { useState } from 'react';\nimport { Box, Button, TextField, CircularProgress } from '@material-ui/core';\nimport { Add } from '@material-ui/icons';\nimport TablaTallas from './ListaTallas';\nimport SnackBarMessages from '../../../../components/SnackBarMessages';\nimport ErrorPage from '../../../../components/ErrorPage';\n\nimport { useQuery, useMutation } from '@apollo/client';\nimport { OBTENER_TALLAS, CREAR_TALLAS, ACTUALIZAR_TALLA } from '../../../../gql/Catalogos/tallas';\nimport { cleanTypenames } from '../../../../config/reuserFunctions';\n\nexport default function RegistroTallas({ tipo }) {\n\tconst [ value, setValue ] = useState('');\n\tconst [ toUpdate, setToUpdate ] = useState('');\n\tconst [ alert, setAlert ] = useState({ message: '', status: '', open: false });\n\tconst sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\n\t/* Queries */\n\tconst { loading, data, error, refetch } = useQuery(OBTENER_TALLAS, {\n\t\tvariables: { sucursal: sesion.sucursal._id, tipo }\n\t});\n\t/* Mutations */\n\tconst [ crearTalla ] = useMutation(CREAR_TALLAS);\n\tconst [ actualizarTalla ] = useMutation(ACTUALIZAR_TALLA);\n\n\tif (loading)\n\t\treturn (\n\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" height=\"30vh\">\n\t\t\t\t<CircularProgress />\n\t\t\t</Box>\n\t\t);\n\tif (error) {\n\t\treturn <ErrorPage error={error} />;\n\t}\n\n\tconst { obtenerTallas } = data;\n\n\tconst GuardarDatosBD = async () => {\n\t\tlet resp;\n\t\tif (!value) {\n\t\t\treturn;\n\t\t}\n\t\ttry {\n\t\t\tconst nueva_talla = value;\n\t\t\tif(toUpdate){\n\t\t\t\tif (sesion.accesos.catalogos.tallas_numeros.editar === false ) {\n\t\t\t\t\treturn setAlert({ message: 'Lo sentimos no tienes autorización para esta acción', status: 'error', open: true });\n\t\t\t\t}else{\n\t\t\t\t\tconst talla_actualizada = cleanTypenames(nueva_talla);\n\t\t\t\t\tresp = await actualizarTalla({\n\t\t\t\t\t\tvariables: {\n\t\t\t\t\t\t\tinput: {\n\t\t\t\t\t\t\t\ttalla: talla_actualizada,\n\t\t\t\t\t\t\t\ttipo\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tid: toUpdate\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tif (sesion.accesos.catalogos.tallas_numeros.agregar === false ) {\n\t\t\t\t\treturn setAlert({ message: 'Lo sentimos no tienes autorización para esta acción', status: 'error', open: true });\n\t\t\t\t}else{\n\t\t\t\t\tresp = await crearTalla({\n\t\t\t\t\t\tvariables: {\n\t\t\t\t\t\t\tinput: {\n\t\t\t\t\t\t\t\ttalla: nueva_talla,\n\t\t\t\t\t\t\t\ttipo,\n\t\t\t\t\t\t\t\tempresa: sesion.empresa._id,\n\t\t\t\t\t\t\t\tsucursal: sesion.sucursal._id\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t\trefetch();\n\t\t\tsetValue('');\n\t\t\tsetToUpdate('');\n\t\t\tlet msgAlert = (toUpdate) ? { message: resp.data.actualizarTalla.message, status: 'success', open: true }:{ message: resp.data.crearTalla.message, status: 'success', open: true }\n\t\t\tsetAlert(msgAlert);\n\t\t\t\n\t\t} catch (error) {\n\t\t\tsetAlert({ message: 'Hubo un error', status: 'error', open: true });\n\t\t}\n\t};\n\n\treturn (\n\t\t<Box>\n\t\t\t<SnackBarMessages alert={alert} setAlert={setAlert} />\n\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" my={2}>\n\t\t\t\t<TextField\n\t\t\t\t\tid=\"outlined-error-helper-text\"\n\t\t\t\t\tlabel={tipo === 'ROPA' ? 'Talla' : 'Número'}\n\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\tsize=\"small\"\n\t\t\t\t\tvalue={value}\n\t\t\t\t\tonChange={(e) => setValue(e.target.value.toUpperCase())}\n\t\t\t\t/>\n\t\t\t\t<Box ml={1} />\n\t\t\t\t<Button color=\"primary\" variant=\"contained\" size=\"large\" disableElevation onClick={GuardarDatosBD}>\n\t\t\t\t\t<Add />Guardar\n\t\t\t\t</Button>\n\t\t\t</Box>\n\t\t\t<TablaTallas datos={obtenerTallas} tipo={tipo} toUpdate={toUpdate} setToUpdate={setToUpdate} setValue={setValue} refetch={refetch} />\n\t\t</Box>\n\t);\n}\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport CloseIcon from '@material-ui/icons/Close';\nimport Slide from '@material-ui/core/Slide';\nimport { Box, Container, Tab, Tabs } from '@material-ui/core';\nimport RegistroTallas from './RegistroTallas';\n\nfunction TabPanel(props) {\n\tconst { children, value, index, ...other } = props;\n\n\treturn (\n\t\t<div\n\t\t\trole=\"tabpanel\"\n\t\t\thidden={value !== index}\n\t\t\tid={`scrollable-force-tabpanel-${index}`}\n\t\t\taria-labelledby={`scrollable-force-tab-${index}`}\n\t\t\t{...other}\n\t\t>\n\t\t\t{value === index && (\n\t\t\t\t<Box p={2} my={1} minHeight=\"50vh\">\n\t\t\t\t\t{children}\n\t\t\t\t</Box>\n\t\t\t)}\n\t\t</div>\n\t);\n}\n\nTabPanel.propTypes = {\n\tchildren: PropTypes.node,\n\tindex: PropTypes.any.isRequired,\n\tvalue: PropTypes.any.isRequired\n};\n\nfunction a11yProps(index) {\n\treturn {\n\t\tid: `scrollable-force-tab-${index}`,\n\t\t'aria-controls': `scrollable-force-tabpanel-${index}`\n\t};\n}\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n\t\tflexGrow: 1,\n\t\twidth: '100%',\n\t\theight: '100vh',\n\t\tbackgroundColor: theme.palette.background.paper\n\t},\n\tappBar: {\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n\ticonSvg: {\n\t\twidth: 100\n\t},\n\ticon: {\n\t\tfontSize: 100\n\t},\n\ticonSvgSecondary: {\n\t\twidth: 50\n\t}\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function Tallas() {\n\tconst classes = useStyles();\n\tconst [ open, setOpen ] = useState(false);\n\tconst [ value, setValue ] = useState(0);\n\n\tconst handleChange = (event, newValue) => setValue(newValue);\n\n\tconst handleClickOpen = () => setOpen(!open);\n\n\treturn (\n\t\t<div>\n\t\t\t<Button fullWidth onClick={handleClickOpen}>\n\t\t\t\t<Box display=\"flex\" flexDirection=\"column\">\n\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t<img src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/tallas.svg' alt=\"icono ropa\" className={classes.iconSvg} />\n\t\t\t\t\t</Box>\n\t\t\t\t\tTallas y numeros\n\t\t\t\t</Box>\n\t\t\t</Button>\n\t\t\t<Dialog fullScreen open={open} onClose={handleClickOpen} TransitionComponent={Transition}>\n\t\t\t\t<AppBar className={classes.appBar}>\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t<Typography variant=\"h6\" className={classes.title}>\n\t\t\t\t\t\t\tRopa\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Box m={1}>\n\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"secondary\" onClick={handleClickOpen} size=\"large\">\n\t\t\t\t\t\t\t\t<CloseIcon style={{fontSize: 30}} />\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</AppBar>\n\t\t\t\t<div className={classes.root}>\n\t\t\t\t\t<Box>\n\t\t\t\t\t\t<AppBar position=\"static\" color=\"default\" elevation={0}>\n\t\t\t\t\t\t\t<Tabs\n\t\t\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\tindicatorColor=\"primary\"\n\t\t\t\t\t\t\t\ttextColor=\"primary\"\n\t\t\t\t\t\t\t\tcentered\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Tab\n\t\t\t\t\t\t\t\t\tlabel=\"Tallas\"\n\t\t\t\t\t\t\t\t\ticon={\n\t\t\t\t\t\t\t\t\t\t<img src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/shirt.svg' alt=\"icono tallas\" className={classes.iconSvgSecondary} />\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t{...a11yProps(0)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<Tab\n\t\t\t\t\t\t\t\t\tlabel=\"Numeros\"\n\t\t\t\t\t\t\t\t\ticon={\n\t\t\t\t\t\t\t\t\t\t<img src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/shoes.svg' alt=\"icono numeros\" className={classes.iconSvgSecondary} />\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t{...a11yProps(1)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Tabs>\n\t\t\t\t\t\t</AppBar>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<TabPanel value={value} index={0}>\n\t\t\t\t\t\t\t\t<Container maxWidth=\"xs\">\n\t\t\t\t\t\t\t\t\t<RegistroTallas tipo=\"ROPA\" />\n\t\t\t\t\t\t\t\t</Container>\n\t\t\t\t\t\t\t</TabPanel>\n\t\t\t\t\t\t\t<TabPanel value={value} index={1}>\n\t\t\t\t\t\t\t\t<Container maxWidth=\"xs\">\n\t\t\t\t\t\t\t\t\t<RegistroTallas tipo=\"CALZADO\" />\n\t\t\t\t\t\t\t\t</Container>\n\t\t\t\t\t\t\t</TabPanel>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Box>\n\t\t\t\t</div>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n}\n","import { gql } from '@apollo/client';\n\nexport const OBTENER_CONTABILIDAD = gql`\n    query obtenerContabilidad($empresa: ID!, $sucursal: ID!){\n        obtenerContabilidad(empresa: $empresa, sucursal: $sucursal){\n                _id\n            nombre_servicio\n            empresa{\n                _id\n                nombre_empresa\n            }\n                sucursal{\n                _id\n                nombre_sucursal\n            }\n        }\n    }\n`;\n\nexport const REGISTRAR_CONTABILIDAD = gql`\n    mutation CrearContabilidad($input: ContabilidadInput, $empresa: ID!, $sucursal: ID!, $usuario: ID!){\n        crearContabilidad(input:$input,empresa:$empresa,sucursal:$sucursal, usuario:$usuario){\n            message\n        }\n    }\n`;\n\nexport const ACTUALIZAR_CONTABILIDAD = gql`\n    mutation ActualizarContabilidad($input: ContabilidadInput, $id: ID!){\n        actualzarContabilidad(input: $input, id: $id){\n            message\n        }\n    }\n`;\n\nexport const ELIMINAR_CONTABILIDAD = gql`\n    mutation EliminarContabilidad($id: ID!){\n        eliminarContabilidad(id: $id){\n            message\n        }\n    }\n`;","import React, { useState, useEffect } from 'react';\nimport { \n\tBox,\n\tCircularProgress,\n\tTable,\n\tTableBody,\n\tTableCell,\n\tTableContainer,\n\tTableHead,\n\tTablePagination,\n\tTableRow,\n\tPaper,\n\tmakeStyles,\n\tDialog,\n\tDialogTitle,\n\tDialogActions,\n\tButton\n} from '@material-ui/core';\n\nimport { IconButton } from '@material-ui/core';\nimport { Delete, Edit } from '@material-ui/icons';\n\nimport { useQuery, useMutation } from '@apollo/client';\nimport { OBTENER_CONTABILIDAD, ELIMINAR_CONTABILIDAD } from '../../../../gql/Catalogos/contabilidad';\nimport ErrorPage from '../../../../components/ErrorPage';\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n\t\twidth: '100%'\n\t},\n\tpaper: {\n\t\twidth: '100%',\n\t\tmarginBottom: theme.spacing(2)\n\t}\n}));\n\nexport default function TablaServicios({setData, setIdService, idService, setAccion, updateData, setAlert}) {\n\tconst classes = useStyles();\n\tconst [ page, setPage ] = useState(0);\n\tconst [ rowsPerPage, setRowsPerPage ] = useState(10);\n\tconst sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\tconst [ openModal, setOpenModal ] = useState(false);\n\tconst handleModal = () => setOpenModal(!openModal);\n\n\tconst handleChangePage = (event, newPage) => {\n\t\tsetPage(newPage);\n\t};\n\tlet obtenerContabilidad= [];\n\n\tconst { loading, data, error, refetch } = useQuery(OBTENER_CONTABILIDAD,{\n\t\tvariables: {\n\t\t\tempresa: sesion.empresa._id,\n\t\t\tsucursal: sesion.sucursal._id\n\t\t}\n\t});\n\tconst [ EliminarContabilidad ] = useMutation(ELIMINAR_CONTABILIDAD);\n\n\tuseEffect(\n\t\t() => {\n\t\t\trefetch();\n\t\t},\n\t\t[ updateData, refetch ]\n\t);\n\n\tif(data){\n\t\tobtenerContabilidad = data.obtenerContabilidad;\n\t}\n\n\tconst handleChangeRowsPerPage = (event) => {\n\t\tsetRowsPerPage(parseInt(event.target.value, 10));\n\t\tsetPage(0);\n\t};\n\n\tconst handleDelete = async () => {\n\t\ttry {\n\t\t\tawait EliminarContabilidad({\n\t\t\t\tvariables: {\n\t\t\t\t\tid: idService\n\t\t\t\t}\n\t\t\t});\n\t\t\trefetch();\n\t\t\tsetAlert({ message: '¡Listo!', status: 'success', open: true });\n\t\t\thandleModal();\n\t\t\tsetIdService(\"\");\n\t\t} catch (error) {\n\t\t\tsetAlert({ message: error.message, status: 'error', open: true });\n\t\t}\n\t};\n\n\tif (error) {\n\t\treturn <ErrorPage error={error} />;\n\t}\n\n\tif (loading){\n\t\treturn (\n\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" height=\"30vh\">\n\t\t\t\t<CircularProgress />\n\t\t\t</Box>\n\t\t);\n\t}\n\t\t\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Paper className={classes.paper}>\n\t\t\t\t<TableContainer>\n\t\t\t\t\t<Table\n\t\t\t\t\t\tclassName={classes.table}\n\t\t\t\t\t\taria-labelledby=\"tableTitle\"\n\t\t\t\t\t\tsize=\"medium\"\n\t\t\t\t\t\taria-label=\"enhanced table\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t<TableCell>Servicios</TableCell>\n\t\t\t\t\t\t\t\t{sesion.accesos.catalogos.contabilidad.editar === false ? (null):(\n\t\t\t\t\t\t\t\t\t<TableCell padding=\"default\">Editar</TableCell>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t{sesion.accesos.catalogos.contabilidad.eliminar === false ? (null):(\n\t\t\t\t\t\t\t\t\t<TableCell padding=\"default\">Eliminar</TableCell>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t</TableHead>\n\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t{obtenerContabilidad?.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)?.map((row, index) => {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<TableRow hover role=\"checkbox\" tabIndex={-1} key={row._id}>\n\t\t\t\t\t\t\t\t\t\t<TableCell>{row.nombre_servicio}</TableCell>\n\t\t\t\t\t\t\t\t\t\t{sesion.accesos.catalogos.contabilidad.editar === false ? (null):(\n\t\t\t\t\t\t\t\t\t\t\t<TableCell padding=\"checkbox\">\n\t\t\t\t\t\t\t\t\t\t\t\t<IconButton onClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetAccion(false)\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetIdService(row._id)\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetData({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tnombre_servicio: row.nombre_servicio\n\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Edit />\n\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t{sesion.accesos.catalogos.contabilidad.eliminar === false ? (null):(\n\t\t\t\t\t\t\t\t\t\t\t<TableCell padding=\"checkbox\">\n\t\t\t\t\t\t\t\t\t\t\t\t<IconButton onClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetIdService(row._id);\n\t\t\t\t\t\t\t\t\t\t\t\t\thandleModal();\n\t\t\t\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Delete />\n\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t</Table>\n\t\t\t\t</TableContainer>\n\t\t\t\t<TablePagination\n\t\t\t\t\trowsPerPageOptions={[]}\n\t\t\t\t\tcomponent=\"div\"\n\t\t\t\t\tcount={obtenerContabilidad.length}\n\t\t\t\t\trowsPerPage={rowsPerPage}\n\t\t\t\t\tpage={page}\n\t\t\t\t\tonChangePage={handleChangePage}\n\t\t\t\t\tonChangeRowsPerPage={handleChangeRowsPerPage}\n\t\t\t\t/>\n\t\t\t</Paper>\n\t\t\t<Modal handleModal={handleModal} openModal={openModal} handleDelete={handleDelete} />\n\t\t</div>\n\t);\n}\n\nconst Modal = ({ handleModal, openModal, handleDelete }) => {\n\treturn (\n\t\t<div>\n\t\t\t<Dialog open={openModal} onClose={handleModal}>\n\t\t\t\t<DialogTitle>{'¿Seguro que quieres eliminar esto?'}</DialogTitle>\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Button onClick={handleModal} color=\"primary\">\n\t\t\t\t\t\tCancelar\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button color=\"secondary\" autoFocus variant=\"contained\" onClick={handleDelete}>\n\t\t\t\t\t\tEliminar\n\t\t\t\t\t</Button>\n\t\t\t\t</DialogActions>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n};\n","import React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport { Box, Button, TextField } from '@material-ui/core';\nimport { Add } from '@material-ui/icons';\nimport ListaServicios from './ListaServicios';\nimport { REGISTRAR_CONTABILIDAD, ACTUALIZAR_CONTABILIDAD } from '../../../../gql/Catalogos/contabilidad';\nimport { useMutation } from '@apollo/client';\nimport SnackBarMessages from '../../../../components/SnackBarMessages';\nimport { cleanTypenames } from '../../../../config/reuserFunctions';\n\nconst useStyles = makeStyles({\n\troot: {\n\t\twidth: '100%'\n\t},\n\tflexGrow: {\n\t\tflexGrow: 1\n\t}\n});\n\nexport default function RegistroServicios() {\n\tconst classes = useStyles();\n\tconst [updateData, setUpdateData] = useState(false);\n\tconst [data, setData] = useState({\n\t\tnombre_servicio: \"\"\n\t});\n\tconst [ alert, setAlert ] = useState({ message: '', status: '', open: false });\n\tconst [error, setError] = useState(false);\n\tconst sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\tconst [accion, setAccion] = useState(true);\n\tconst [idService, setIdService] = useState('')\n\n\tconst [ CrearContabilidad ] = useMutation(REGISTRAR_CONTABILIDAD);\n\tconst [ ActualizarContabilidad ] = useMutation(ACTUALIZAR_CONTABILIDAD);\n\n\tconst handleChangeInput = (e) => {\n\t\tsetData({\n\t\t\t...data,\n\t\t\t[e.target.name]: e.target.value\n\t\t})\n\t}\n\n\tconst handleSubmit = async () => {\n\t\ttry {\n\t\t\tif(!data.nombre_servicio){\n\t\t\t\tsetError(true);\n\t\t\t    return;\n\t\t\t}else{\n\t\t\t\tconst input = data;\n\t\t\t\tif(accion){\n\t\t\t\t\tif (sesion.accesos.catalogos.contabilidad.agregar === false) {\n\t\t\t\t\t\treturn setAlert({ message: '¡Lo sentimos no tienes autorización para esta acción!', status: 'error', open: true });\n\t\t\t\t\t}else{\n\t\t\t\t\t\tawait CrearContabilidad({\n\t\t\t\t\t\t\tvariables: {\n\t\t\t\t\t\t\t\tinput,\n\t\t\t\t\t\t\t\tempresa: sesion.empresa._id,\n\t\t\t\t\t\t\t\tsucursal: sesion.sucursal._id,\n\t\t\t\t\t\t\t\tusuario: sesion._id\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tif (sesion.accesos.catalogos.contabilidad.editar === false) {\n\t\t\t\t\t\treturn setAlert({ message: '¡Lo sentimos no tienes autorización para esta acción!', status: 'error', open: true });\n\t\t\t\t\t}else{\n\t\t\t\t\t\tconst inputActualizado = cleanTypenames(input);\n\t\t\t\t\t\tawait ActualizarContabilidad({\n\t\t\t\t\t\t\tvariables: {\n\t\t\t\t\t\t\t\tinput: inputActualizado,\n\t\t\t\t\t\t\t\tid: idService\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t\tsetAccion(true);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tsetAlert({ message: '¡Listo!', status: 'success', open: true });\n\t\t\t\tsetData({nombre_servicio: \"\"});\n\t\t\t\tsetUpdateData(!updateData);\n\t\t\t\tsetIdService(\"\");\n\t\t\t}\n\t\t} catch (error) {\n\t\t\t\n\t\t}\n\t}\n\n\tconst pressEnter = (e) => {\n\t\tif (e.key === 'Enter') handleSubmit();\n\t};\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<SnackBarMessages alert={alert} setAlert={setAlert} />\n\t\t\t<Typography variant=\"h6\">Tipo de Servicio</Typography>\n\t\t\t<Box display=\"flex\" alignItems=\"center\" mb={2}>\n\t\t\t\t<TextField\n\t\t\t\t\terror={error}\n\t\t\t\t\tid=\"outlined-error-helper-text\"\n\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\tsize=\"small\"\n\t\t\t\t\tname=\"nombre_servicio\"\n\t\t\t\t\tvalue={data.nombre_servicio}\n\t\t\t\t\tonChange={handleChangeInput}\n\t\t\t\t\tonKeyPress={pressEnter}\n\t\t\t\t/>\n\t\t\t\t<Box ml={1} />\n\t\t\t\t<Button color=\"primary\" variant=\"contained\" size=\"large\" onClick={handleSubmit} disableElevation>\n\t\t\t\t\t<Add />Guardar\n\t\t\t\t</Button>\n\t\t\t</Box>\n\t\t\t<ListaServicios \n\t\t\t\tsetData={setData} \n\t\t\t\tidService={idService} \n\t\t\t\tsetIdService={setIdService} \n\t\t\t\tsetAccion={setAccion} \n\t\t\t\tupdateData={updateData}\n\t\t\t\tsetAlert={setAlert} \n\t\t\t/>\n\t\t</div>\n\t);\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport CloseIcon from '@material-ui/icons/Close';\nimport Slide from '@material-ui/core/Slide';\nimport { Box, Container } from '@material-ui/core';\nimport RegistroServicios from './RegistroServicio';\n\nconst useStyles = makeStyles((theme) => ({\n\tappBar: {\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n\ticon: {\n\t\twidth: 100\n\t}\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function Contabilidad() {\n\tconst classes = useStyles();\n\tconst [ open, setOpen ] = React.useState(false);\n\n\tconst handleClickOpen = () => {\n\t\tsetOpen(true);\n\t};\n\n\tconst handleClose = () => {\n\t\tsetOpen(false);\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<Button fullWidth onClick={handleClickOpen}>\n\t\t\t\t<Box display=\"flex\" flexDirection=\"column\">\n\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t<img src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/contabilidad.svg' alt=\"icono numero calzado\" className={classes.icon} />\n\t\t\t\t\t</Box>\n\t\t\t\t\tContabilidad\n\t\t\t\t</Box>\n\t\t\t</Button>\n\t\t\t<Dialog fullScreen open={open} onClose={handleClose} TransitionComponent={Transition}>\n\t\t\t\t<AppBar className={classes.appBar}>\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t<Typography variant=\"h6\" className={classes.title}>\n\t\t\t\t\t\t\tContabilidad\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Box m={1}>\n\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"secondary\" onClick={handleClose} size=\"large\">\n\t\t\t\t\t\t\t\t<CloseIcon style={{fontSize: 30}} />\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</AppBar>\n\t\t\t\t<Box mt={4}>\n\t\t\t\t\t<Container maxWidth=\"md\">\n\t\t\t\t\t\t<RegistroServicios />\n\t\t\t\t\t</Container>\n\t\t\t\t</Box>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n}\n","import React, { useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport CrearCliente from \"../Cliente/CrearCliente\";\n\nimport { useMutation, useQuery } from \"@apollo/client\";\nimport {\n  ELIMINAR_CLIENTE,\n  OBTENER_CLIENTES,\n} from \"../../../../gql/Catalogos/clientes\";\nimport {\n  Box,\n  Button,\n  CircularProgress,\n  Dialog,\n  DialogActions,\n  Slide,\n} from \"@material-ui/core\";\nimport { DialogTitle, IconButton, Typography } from \"@material-ui/core\";\nimport { Delete } from \"@material-ui/icons\";\nimport ErrorPage from \"../../../../components/ErrorPage\";\nimport { formatoFechaCorta } from \"../../../../config/reuserFunctions\";\nimport SnackBarMessages from \"../../../../components/SnackBarMessages\";\n\nconst columns = [\n  { id: 1, label: \"No. Cliente\", minWidth: 100 },\n  { id: 2, label: \"Clave\", minWidth: 100 },\n  { id: 3, label: \"Nombre\", minWidth: 150 },\n  { id: 4, label: \"Razon Social\", minWidth: 150 },\n  { id: 5, label: \"Correo\", minWidth: 150 },\n  { id: 6, label: \"Fecha registro\", minWidth: 100 },\n  { id: 7, label: \"Estado\", minWidth: 100 },\n];\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nconst useStyles = makeStyles({\n  root: {\n    width: \"100%\",\n  },\n  container: {\n    height: \"75vh\",\n  },\n  avatar: {\n    width: 130,\n    height: 130,\n  },\n});\n\nexport default function TablaProveedores({ tipo, filtro }) {\n  const permisosUsuario = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n  const [alert, setAlert] = useState({ message: \"\", status: \"\", open: false });\n  const classes = useStyles();\n\n  const { loading, data, error, refetch } = useQuery(OBTENER_CLIENTES, {\n    variables: { tipo, filtro },\n    fetchPolicy: \"network-only\",\n  });\n\n  if (loading)\n    return (\n      <Box\n        display=\"flex\"\n        justifyContent=\"center\"\n        alignItems=\"center\"\n        height=\"30vh\"\n      >\n        <CircularProgress />\n      </Box>\n    );\n  if (error) {\n    return <ErrorPage error={error} />;\n  }\n\n  const { obtenerClientes } = data;\n\n  return (\n    <Paper className={classes.root}>\n      <SnackBarMessages alert={alert} setAlert={setAlert} />\n      <TableContainer className={classes.container}>\n        <Table stickyHeader aria-label=\"sticky table\" size=\"small\">\n          <TableHead>\n            <TableRow>\n              {columns.map((column) => (\n                <TableCell key={column.id} align={column.align}>\n                  {column.label}\n                </TableCell>\n              ))}\n              {permisosUsuario.accesos.catalogos.provedores.editar ===\n              false ? null : (\n                <TableCell key={9} align={\"right\"}>\n                  Editar\n                </TableCell>\n              )}\n              {permisosUsuario.accesos.catalogos.provedores.eliminar ===\n              false ? null : (\n                <TableCell key={10} align={\"right\"}>\n                  Eliminar\n                </TableCell>\n              )}\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {obtenerClientes.map((row, index) => {\n              return (\n                <RowsRender\n                  key={index}\n                  datos={row}\n                  setAlert={setAlert}\n                  refetch={refetch}\n                />\n              );\n            })}\n          </TableBody>\n        </Table>\n      </TableContainer>\n    </Paper>\n  );\n}\n\nconst RowsRender = ({ datos, setAlert, refetch }) => {\n  const permisosUsuario = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n\n  return (\n    <TableRow hover role=\"checkbox\" tabIndex={-1}>\n      <TableCell>\n        <Typography>{datos.numero_cliente}</Typography>\n      </TableCell>\n      <TableCell>\n        <Typography>{datos.clave_cliente}</Typography>\n      </TableCell>\n      <TableCell>\n        <Typography>{datos.nombre_cliente}</Typography>\n      </TableCell>\n      <TableCell>\n        <Typography>{datos.razon_social}</Typography>\n      </TableCell>\n      <TableCell>\n        <Typography>{datos.email}</Typography>\n      </TableCell>\n      <TableCell>\n        <Typography>{formatoFechaCorta(datos.fecha_registro)}</Typography>\n      </TableCell>\n      <TableCell>\n        <Typography>{datos.estado_cliente ? \"Activo\" : \"Inactivo\"}</Typography>\n      </TableCell>\n      {permisosUsuario.accesos.catalogos.provedores.editar === false ? null : (\n        <TableCell width={50}>\n          <CrearCliente tipo=\"PRROVEEDOR\" accion=\"actualizar\" datos={datos} />\n        </TableCell>\n      )}\n      {permisosUsuario.accesos.catalogos.provedores.eliminar ===\n      false ? null : (\n        <TableCell width={50}>\n          <EliminarCliente\n            datos={datos}\n            setAlert={setAlert}\n            refetch={refetch}\n          />\n        </TableCell>\n      )}\n    </TableRow>\n  );\n};\n\nconst EliminarCliente = ({ datos, setAlert, refetch }) => {\n  const [open, setOpen] = useState(false);\n  const [eliminarCliente] = useMutation(ELIMINAR_CLIENTE);\n  const [loading, setLoading] = useState(false);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const eliminarClienteBD = async () => {\n    setLoading(true);\n    try {\n      const result = await eliminarCliente({\n        variables: {\n          id: datos._id,\n        },\n      });\n      if (result) {\n        const { message } = result.data.eliminarCliente;\n        setAlert({ message, status: \"success\", open: true });\n        refetch();\n      }\n      setLoading(false);\n      handleClose();\n    } catch (error) {\n      console.log(error);\n      setLoading(false);\n      if (error.message) {\n        setAlert({ message: error.message, status: \"error\", open: true });\n        return;\n      }\n      setAlert({ message: \"Hubo un error\", status: \"error\", open: true });\n    }\n  };\n\n  return (\n    <div>\n      <IconButton color=\"secondary\" onClick={() => handleClickOpen()}>\n        <Delete />\n      </IconButton>\n      <Dialog\n        open={open}\n        TransitionComponent={Transition}\n        keepMounted\n        onClose={() => handleClose()}\n        aria-labelledby=\"alert-eliminar-cliente\"\n      >\n        <DialogTitle id=\"alert-eliminar-cliente\">\n          {\"¿Está seguro de eliminar esto?\"}\n        </DialogTitle>\n        <DialogActions>\n          <Button\n            onClick={() => handleClose()}\n            color=\"inherit\"\n            disabled={loading}\n          >\n            Cancelar\n          </Button>\n          <Button\n            onClick={() => eliminarClienteBD()}\n            color=\"secondary\"\n            disabled={loading}\n            startIcon={\n              loading ? <CircularProgress size={20} color=\"inherit\" /> : null\n            }\n          >\n            Eliminar\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n};\n","import React, { useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Typography from \"@material-ui/core/Typography\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport Slide from \"@material-ui/core/Slide\";\nimport { Box, Grid, IconButton, InputBase, Paper } from \"@material-ui/core\";\nimport { Search } from \"@material-ui/icons\";\nimport TablaProovedores from \"./ListaProveedores\";\nimport CrearCliente from \"../Cliente/CrearCliente\";\nimport { ClienteProvider } from \"../../../../context/Catalogos/crearClienteCtx\";\n\nconst useStyles = makeStyles((theme) => ({\n  appBar: {\n    position: \"relative\",\n  },\n  title: {\n    marginLeft: theme.spacing(2),\n    flex: 1,\n  },\n  icon: {\n    width: 100,\n  },\n  root: {\n    display: \"flex\",\n    paddingLeft: theme.spacing(2),\n  },\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function Proveedores() {\n  const permisosUsuario = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n\n  const classes = useStyles();\n  const [open, setOpen] = useState(false);\n  const [filtro, setFiltro] = useState(\"\");\n  const [values, setValues] = useState(\"\");\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const pressEnter = (e) => {\n    if (e.key === \"Enter\") setFiltro(e.target.defaultValue);\n  };\n\n  return (\n    <div>\n      <ClienteProvider>\n        <Button fullWidth onClick={handleClickOpen}>\n          <Box display=\"flex\" flexDirection=\"column\">\n            <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n              <img\n                src=\"https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/distribution.svg\"\n                alt=\"icono numero calzado\"\n                className={classes.icon}\n              />\n            </Box>\n            Proveedores\n          </Box>\n        </Button>\n        <Dialog\n          fullScreen\n          open={open}\n          onClose={handleClose}\n          TransitionComponent={Transition}\n        >\n          <AppBar className={classes.appBar}>\n            <Toolbar>\n              <Typography variant=\"h6\" className={classes.title}>\n                Proveedores\n              </Typography>\n              <Box m={1}>\n                <Button\n                  variant=\"contained\"\n                  color=\"secondary\"\n                  onClick={handleClose}\n                  size=\"large\"\n                >\n                  <CloseIcon style={{ fontSize: 30 }} />\n                </Button>\n              </Box>\n            </Toolbar>\n          </AppBar>\n\n          <Box m={3}>\n            <Grid container spacing={2}>\n              <Grid item md={6} xs={8}>\n                <Paper className={classes.root}>\n                  <InputBase\n                    fullWidth\n                    placeholder=\"Buscar proveedor...\"\n                    onChange={(e) => setValues(e.target.value)}\n                    onKeyPress={pressEnter}\n                    value={values}\n                  />\n                  <IconButton onClick={() => setFiltro(values)}>\n                    <Search />\n                  </IconButton>\n                </Paper>\n              </Grid>\n              <Grid\n                item\n                md={6}\n                xs={4}\n                style={{ display: \"flex\", justifyContent: \"flex-end\" }}\n              >\n                {permisosUsuario.accesos.catalogos.provedores.ver ===\n                false ? null : (\n                  <CrearCliente tipo=\"PROVEEDOR\" accion=\"registrar\" />\n                )}\n              </Grid>\n            </Grid>\n          </Box>\n          <Box mx={4}>\n            <TablaProovedores tipo=\"PROVEEDOR\" filtro={filtro} />\n          </Box>\n        </Dialog>\n      </ClienteProvider>\n    </div>\n  );\n}\n","import React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TablePagination from '@material-ui/core/TablePagination';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport { IconButton } from '@material-ui/core';\nimport { Delete } from '@material-ui/icons';\n\n\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n\t\twidth: '100%'\n\t},\n\tpaper: {\n\t\twidth: '100%',\n\t\tmarginBottom: theme.spacing(2)\n\t}\n}));\n\nexport default function TablaCajas(props) {\n\tconst permisos = JSON.parse(localStorage.getItem('sesionCafi'));\n\n\tconst classes = useStyles();\n\n\tconst [ page, setPage ] = useState(0);\n\tconst [ rowsPerPage, setRowsPerPage ] = useState(8);\n\n\tconst handleChangePage = (event, newPage) => {\n\t\tsetPage(newPage);\n\t};\n\n\tconst handleChangeRowsPerPage = (event) => {\n\t\tsetRowsPerPage(parseInt(event.target.value, 10));\n\t\tsetPage(0);\n\t};\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Paper className={classes.paper}>\n\t\t\t\t<TableContainer>\n\t\t\t\t\t<Table\n\t\t\t\t\t\tclassName={classes.table}\n\t\t\t\t\t\taria-labelledby=\"tableTitle\"\n\t\t\t\t\t\tsize=\"medium\"\n\t\t\t\t\t\taria-label=\"enhanced table\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t<TableCell>Cajas</TableCell>\n\t\t\t\t\t\t\t\t{permisos.accesos.catalogos.cajas.eliminar === false ? (null):(\n\t\t\t\t\t\t\t\t\t<TableCell padding=\"default\">Eliminar</TableCell>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t</TableHead>\n\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t{props.obtenerCajasSucursal.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage).map((row, index) => {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<TableRow hover role=\"checkbox\" tabIndex={-1} key={row.numero_caja}>\n\t\t\t\t\t\t\t\t\t\t<TableCell> Caja {row.numero_caja}</TableCell>\n\t\t\t\t\t\t\t\t\t\t{permisos.accesos.catalogos.cajas.eliminar === false ? (null):(\n\t\t\t\t\t\t\t\t\t\t\t<TableCell padding=\"checkbox\">\n\t\t\t\t\t\t\t\t\t\t\t\t<IconButton onClick={() => props.deleteCaja(row._id)} >\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Delete />\n\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t</Table>\n\t\t\t\t</TableContainer>\n\t\t\t\t<TablePagination\n\t\t\t\t\trowsPerPageOptions={[]}\n\t\t\t\t\tcomponent=\"div\"\n\t\t\t\t\tcount={props.obtenerCajasSucursal.length}\n\t\t\t\t\trowsPerPage={rowsPerPage}\n\t\t\t\t\tpage={page}\n\t\t\t\t\tonChangePage={handleChangePage}\n\t\t\t\t\tonChangeRowsPerPage={handleChangeRowsPerPage}\n\t\t\t\t/>\n\t\t\t</Paper>\n\t\t</div>\n\t);\n}\n","import { gql } from '@apollo/client';\n\nexport const CREAR_CAJA = gql`\n    mutation CrearCaja($input: CrearCajasInput!, $empresa: ID!, $sucursal: ID!){\n        crearCaja(input: $input, empresa: $empresa, sucursal: $sucursal){\n            message\n        }\n    }\n`;\n\nexport const OBTENER_CAJAS = gql`\n    query ObtenerCajasSucursales($empresa: ID!, $sucursal: ID!){\n        obtenerCajasSucursal(empresa: $empresa, sucursal: $sucursal){\n            _id\n            numero_caja\n            activa\n            usuario_creador {\n            numero_usuario\n            nombre\n            email\n            }\n            cantidad_efectivo_actual\n            usuario_en_caja {\n            _id\n            numero_usuario\n            nombre\n            email\n            }\n             \n        }\n    }\n`;\nexport const CREAR_HISTORIAL_CAJA = gql`\n    mutation CrearHistorialCaja($input: CrearHistorialCajasInput!, $empresa: ID!, $sucursal: ID!){\n        crearHistorialCaja(input: $input, empresa: $empresa, sucursal: $sucursal){\n            message\n        }\n    }\n`;\n\nexport const OBTENER_HISTORIAL_CAJA = gql`\n    query ObtenerHistorialCaja($input: HistorialCajasInput, $id_Caja: ID!,$empresa: ID!, $sucursal: ID!){\n        obtenerHistorialCaja(input: $input, id_Caja: $id_Caja,empresa: $empresa, sucursal: $sucursal){\n            tipo_movimiento\n            concepto\n            horario_turno\n            numero_caja\n            numero_usuario_creador\n            nombre_usuario_creador\n            hora_moviento{\n                hora\n                minutos\n                segundos\n                completa\n            }\n            fecha_movimiento{\n                year\n                mes\n                dia\n                no_dia_year\n                no_semana_year\n                completa\n            }\n            montos_en_caja{\n                monto_efectivo{\n                    monto \n                }\n                monto_tarjeta_credito{\n                    monto \n                }\n                monto_tarjeta_debito{\n                    monto \n                }\n                monto_creditos{\n                    monto \n                }\n                monto_monedero{\n                    monto \n                }\n                monto_transferencia{\n                    monto \n                }\n                monto_cheques{\n                    monto \n                }\n                monto_vales_despensa{\n                    monto \n                }\n            }\n        }\n    }\n`;\n\nexport const ELIMINAR_CAJA = gql`\n\tmutation eliminarCaja($id: ID!) {\n\t\teliminarCaja(id: $id) {\n\t\t\tmessage\n\t\t}\n\t}\n`; \n\nexport const ACTUALIZAR_CAJA = gql`\n\tmutation ActualizarCaja($input: EditarCaja, $id: ID!) {\n\t\tactualizarCaja(id: $id, input: $input) {\n            _id\n            numero_caja\n            activa\n        }\n    }\n`; \n\nexport const OBTENER_PRE_CORTE_CAJA = gql`\n    query ObtenerPreCorteCaja($empresa: ID!, $sucursal: ID!, $input: PreCortesDeCajaInput){\n        obtenerPreCorteCaja(empresa: $empresa, sucursal: $sucursal, input: $input){\n            monto_efectivo_precorte         \n        }\n    }\n`;\n\nexport const OBTENER_CORTES_CAJA = gql`\n    query ObtenerCortesDeCaja($empresa: ID!, $sucursal: ID!, $input: FiltroCorteDeCajaInput){\n        obtenerCortesDeCaja(empresa: $empresa, sucursal: $sucursal, input: $input){\n            concepto\n            token_turno_user\n            numero_caja\n            horario_en_turno\n            id_caja\n            hora_salida{\n                completa\n            }\n            fecha_salida{\n                completa\n            }\n            fecha_movimiento\n            usuario_en_turno{\n                nombre\n                telefono\n                email\n                numero_usuario\n            }\n            montos_en_caja{\n                monto_efectivo{\n                    monto \n                }\n                monto_tarjeta_credito{\n                    monto \n                }\n                monto_tarjeta_debito{\n                    monto \n                }\n                monto_creditos{\n                    monto \n                }\n                monto_monedero{\n                    monto \n                }\n                monto_transferencia{\n                    monto \n                }\n                monto_cheques{\n                    monto \n                }\n                monto_vales_despensa{\n                    monto \n                }\n            }\n            sucursal{\n                nombre_sucursal\n            }\n        }\n    }\n`;\n\nexport const OBTENER_CORTE_CAJA = gql`\n    query ObtenerCorteCaja($empresa: ID!, $sucursal: ID!, $input: CorteDeCajaInput){\n        obtenerCorteCaja(empresa: $empresa, sucursal: $sucursal, input: $input){\n            montos_en_sistema{\n                monto_efectivo\n                monto_tarjeta_debito\n                monto_tarjeta_credito\n                monto_creditos\n                monto_monedero\n                monto_transferencia\n                monto_cheques\n                monto_vales_despensa\n            }\n        }\n    }\n`;\n","import React, {useState, useEffect} from 'react';\nimport { Box, Button } from '@material-ui/core';\nimport { Add } from '@material-ui/icons';\nimport { useMutation, useQuery } from '@apollo/client';\nimport TablaCajas from './ListaCajas';\nimport SnackBarMessages from '../../../../components/SnackBarMessages';\nimport BackdropComponent from '../../../../components/Layouts/BackDrop';\nimport { CREAR_CAJA, OBTENER_CAJAS, ELIMINAR_CAJA } from '../../../../gql/Cajas/cajas';\n\nexport default function RegistroCajas() {\n\tconst [ loading, setLoading ] = React.useState(false);\n    // const [ open, setOpen ] = React.useState(false);\n\tconst [ alert, setAlert ] = useState({ message: '', status: '', open: false });\n\t\n\tconst sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\n\tlet obtenerCajasSucursal = [];\n\t  /* Mutation */\n\tconst [ crearCaja ] = useMutation(CREAR_CAJA);\n\tconst [ eliminarCaja ] = useMutation(ELIMINAR_CAJA);\n\n\n\t  /* Queries */\n\tconst {  data, refetch } = useQuery(OBTENER_CAJAS,{\n\t\tvariables: {\n            empresa: sesion.empresa._id,\n\t\t\tsucursal: sesion.sucursal._id\n\t\t}\n\t});\t\n\tconst nuevaCaja = async () => {\n\t\ttry {\n            setLoading(true);\n\t\t\t\tawait crearCaja({\n\t\t\t\t\tvariables: {\n\t\t\t\t\t\tinput:{usuario_creador:  sesion._id, numero_usuario_creador: sesion.numero_usuario, nombre_usuario_creador: sesion.nombre},\n\t\t\t\t\t\tempresa: sesion.empresa._id,\n\t\t\t\t\t\tsucursal: sesion.sucursal._id\n\t\t\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\trefetch();\n\t\t\tsetAlert({ message: '¡Listo!', status: 'success', open: true });\n\t\t\tsetLoading(false);\n\t\t\n\t\t\t\n\t\t} catch (error) {\n\t\t\tsetAlert({ message: 'Hubo un error', status: 'error', open: true });\n\t\t\tsetLoading(false);\n\t\t}\n\t};\n\t\n\tconst deleteCaja = async (id) => {\n\t\ttry {\n            setLoading(true);\n\t\t\t\tawait eliminarCaja({\n\t\t\t\t\tvariables: {\n\t\t\t\t\t\tid: id\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\trefetch();\n\t\t\tsetAlert({ message: '¡Listo!', status: 'success', open: true });\n\t\t\tsetLoading(false);\n\t\t} catch (error) {\n\t\t\tsetAlert({ message: 'Hubo un error', status: 'error', open: true });\n\t\t\tsetLoading(false);\n\t\t}\n\t};\n\t\n\tif(data){\n\t\tobtenerCajasSucursal = data.obtenerCajasSucursal;\n\t}\n\n\tuseEffect(\n\t\t() => {\n\t\t\tsetLoading(true);\n\t\t\trefetch();\n\t\t\tsetLoading(false);\n\t\t},\n\t\t[ refetch ]\n\t); \n\n\treturn (\n\t\t<Box>\n\t\t\t<SnackBarMessages alert={alert} setAlert={setAlert} />\t\n\t\t\t<BackdropComponent loading={loading} setLoading={setLoading} />\n\t\t\t<Box display=\"flex\" justifyContent=\"left\" alignItems=\"left\" my={2}>\n\t\t\t\n\t\t\t\t<Box ml={1} />\n\t\t\t\t{sesion.accesos.catalogos.cajas.agregar === false ? (null):(\n\t\t\t\t\t<Button color=\"primary\" variant=\"contained\" size=\"large\" disableElevation onClick={() => nuevaCaja()}>\n\t\t\t\t\t\t<Add />Agregar\n\t\t\t\t\t</Button>\n\t\t\t\t)}\n\t\t\t</Box>\n\t\t\t<TablaCajas obtenerCajasSucursal={obtenerCajasSucursal} deleteCaja={deleteCaja} />\n\t\t</Box>\n\t);\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport CloseIcon from '@material-ui/icons/Close';\nimport Slide from '@material-ui/core/Slide';\nimport { Box, Container } from '@material-ui/core';\nimport RegistroCajas from './RegistrarCajas';\n\nconst useStyles = makeStyles((theme) => ({\n\tappBar: {\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n\ticon: {\n\t\twidth: 100\n\t}\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function Cajas() {\n\tconst classes = useStyles();\n\n\tconst [ open, setOpen ] = React.useState(false);\n\n\n\t\n\tconst handleClickOpen = () => {\n\t\tsetOpen(true);\n\t};\n\n\tconst handleClose = () => {\n\t\tsetOpen(false);\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<Button fullWidth onClick={handleClickOpen}>\n\t\t\t\t<Box display=\"flex\" flexDirection=\"column\">\n\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t<img src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/cajas.svg' alt=\"icono numero calzado\" className={classes.icon} />\n\t\t\t\t\t</Box>\n\t\t\t\t\tCajas\n\t\t\t\t</Box>\n\t\t\t</Button>\n\t\t\t<Dialog fullScreen open={open} onClose={handleClose} TransitionComponent={Transition}>\n\t\t\t\t<AppBar className={classes.appBar}>\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t<Typography variant=\"h6\" className={classes.title}>\n\t\t\t\t\t\t\tCajas\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Box m={1}>\n\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"secondary\" onClick={handleClose} size=\"large\">\n\t\t\t\t\t\t\t\t<CloseIcon style={{fontSize: 30}} />\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</AppBar>\n\t\t\t\t<Box mt={3}>\n\t\t\t\t\t<Container maxWidth=\"sm\">\n\t\t\t\t\t\t<RegistroCajas />\n\t\t\t\t\t</Container>\n\t\t\t\t</Box>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n}\n","\nlet arregloVacio = {\n    mi_empresa:{\n        datos_empresa: {\n            ver: false,\n            agregar: false,\n            editar: false,\n            eliminar: false\n        },\n        informacion_fiscal: {\n            ver: false,\n            agregar: false,\n            editar: false,\n            eliminar: false\n        }\n    },\n    compras:{\n        abrir_compra:{\n            ver: false,\n            agregar: false,\n            editar: false,\n            eliminar: false\n        },\n        compras_realizadas:{\n            ver: false,\n            agregar: false,\n            editar: false,\n            eliminar: false\n        },\n        compras_espera:{\n            ver: false,\n            agregar: false,\n            editar: false,\n            eliminar: false\n        }\n    },\n    tesoreria:{\n        cuentas_empresa:{\n            ver: false,\n            agregar: false,\n            editar: false,\n            eliminar: false\n        },\n        egresos:{\n            ver: false,\n            agregar: false,\n            editar: false,\n            eliminar: false\n        },\n        abonos_proveedores:{\n            ver: false,\n            agregar: false,\n            editar: false,\n            eliminar: false\n        },\n        abonos_clientes:{\n            ver: false,\n            agregar: false,\n            editar: false,\n            eliminar: false\n        }\n    },\n    reportes:{\n        reporte_historial_cajas:{\n            ver: false,\n            agregar: false,\n            editar: false,\n            eliminar: false\n        },\n        reporte_turnos:{\n            ver: false,\n            agregar: false,\n            editar: false,\n            eliminar: false\n        },\n        reporte_compras:{\n            ver: false,\n            agregar: false,\n            editar: false,\n            eliminar: false\n        },\n        reporte_ventas:{\n            ver: false,\n            agregar: false,\n            editar: false,\n            eliminar: false\n        },\n        rerporte_almacen:{\n            ver: false,\n            agregar: false,\n            editar: false,\n            eliminar: false\n        },\n        reporte_corte_caja:{\n            ver: false,\n            agregar: false,\n            editar: false,\n            eliminar: false\n        },\n        reporte_tesoreria:{\n            ver: false,\n            agregar: false,\n            editar: false,\n            eliminar: false\n        }\n    },\n    ventas:{\n        cancelar_venta:{\n            ver: false,\n            agregar: false,\n            editar: false,\n            eliminar: false\n        },\n        precios_productos: {\n            ver: false,\n            agregar: false,\n            editar: false,\n            eliminar: false\n        },\n        pre_corte:{\n            ver: false,\n            agregar: false,\n            editar: false,\n            eliminar: false\n        },\n        cotizaciones:{\n            ver: false,\n            agregar: false,\n            editar: false,\n            eliminar: false\n        },\n        administrador:{\n            ver: false,\n            agregar: false,\n            editar: false,\n            eliminar: false\n        },\n        eliminar_ventas:{\n            ver: false,\n            agregar: false,\n            editar: false,\n            eliminar: false\n        },\n        producto_rapido: {\n            ver: false,\n            agregar: false,\n            editar: false,\n            eliminar: false\n        }\n    },\n    almacenes:{\n        almacen:{\n            ver: false,\n            agregar: false,\n            editar: false,\n            eliminar: false\n        },\n        traspasos:{\n            ver: false,\n            agregar: false,\n            editar: false,\n            eliminar: false\n        },\n        inventario_almacen:{\n            ver: false,\n            agregar: false,\n            editar: false,\n            eliminar: false\n        }\n    },\n    catalogos: {\n        clientes:{\n            ver: false,\n            agregar: false,\n            eliminar: false,\n            editar:false\n        },\n        usuarios:{\n            ver: false,\n            agregar: false,\n            eliminar: false,\n            editar:false\n        },\n        marcas:{\n            ver: false,\n            agregar: false,\n            eliminar: false,\n            editar:false\n        },\n        contabilidad:{\n            ver: false,\n            agregar: false,\n            eliminar: false,\n            editar:false\n        },\n        provedores:{\n            ver: false,\n            agregar: false,\n            eliminar: false,\n            editar:false\n        },\n        cajas:{\n            ver: false,\n            agregar: false,\n            eliminar: false,\n            editar:false\n        },\n        departamentos:{\n            ver: false,\n            agregar: false,\n            eliminar: false,\n            editar:false\n        },\n        centro_costos:{\n            ver: false,\n            agregar: false,\n            eliminar: false,\n            editar:false\n        },\n        conceptos_almacen:{\n            ver: false,\n            agregar: false,\n            eliminar: false,\n            editar:false\n        },\n        categorias:{\n            ver: false,\n            agregar: false,\n            eliminar: false,\n            editar:false\n        },\n        colores:{\n            ver: false,\n            agregar: false,\n            eliminar: false,\n            editar:false\n        },\n        tallas_numeros:{\n            ver: false,\n            agregar: false,\n            eliminar: false,\n            editar:false\n        },\n    }\n} \n\nexport default arregloVacio;\n","import React, { createContext, useState } from 'react';\nimport arregloVacio from '../../pages/sucursales/Catalogos/Usuarios/AsingarAccesos/arregloVacioAcceso'\n\nexport const UsuarioContext = createContext();\n\nexport const UsuarioProvider = ({ children }) => {\n\tconst [ usuario, setUsuario ] = useState({\n\t\tdireccion: {\n\t\t\tcalle: '',\n\t\t\tno_ext: '',\n\t\t\tno_int: '',\n\t\t\tcodigo_postal: '',\n\t\t\tcolonia: '',\n\t\t\tmunicipio: '',\n\t\t\tlocalidad: '',\n\t\t\testado: '',\n\t\t\tpais: ''\n\t\t},\n\t\testado_usuario: true,\n\t\taccesos: arregloVacio\n\t});\n\tconst [ toUpdate, setToUpdate ] = useState(false);\n\tconst [ error, setError ] = useState({error: false, message: ''});\n\tconst [ update, setUpdate ] = useState(false);\n\n\treturn (\n\t\t<UsuarioContext.Provider\n\t\t\tvalue={{\n\t\t\t\tusuario,\n\t\t\t\tsetUsuario,\n\t\t\t\ttoUpdate,\n\t\t\t\tsetToUpdate,\n\t\t\t\terror,\n\t\t\t\tsetError,\n\t\t\t\tupdate,\n\t\t\t\tsetUpdate\n\t\t\t}}\n\t\t>\n\t\t\t{children}\n\t\t</UsuarioContext.Provider>\n\t);\n};\n","import React, { Fragment, useContext, useCallback, useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Box, Divider, Avatar, IconButton, OutlinedInput, FormHelperText, Button } from '@material-ui/core';\nimport { TextField, Typography, Grid, FormControl, InputAdornment } from '@material-ui/core';\nimport { Dialog, DialogTitle, DialogContent, DialogActions, CircularProgress } from '@material-ui/core';\nimport Visibility from '@material-ui/icons/Visibility';\nimport VisibilityOff from '@material-ui/icons/VisibilityOff';\nimport { useDropzone } from 'react-dropzone';\nimport { UsuarioContext } from '../../../../context/Catalogos/usuarioContext';\nimport SnackBarMessages from '../../../../components/SnackBarMessages';\n\nimport { useMutation } from '@apollo/client';\nimport { ACTUALIZAR_USUARIO } from '../../../../gql/Catalogos/usuarios';\n\nconst useStyles = makeStyles((theme) => ({\n\tformInputFlex: {\n\t\tdisplay: 'flex',\n\t\t'& > *': {\n\t\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(1)}px`\n\t\t},\n\t\t'& span': {\n\t\t\tcolor: 'red'\n\t\t}\n\t},\n\tformInput: {\n\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(2)}px`\n\t},\n\tavatarContainer: {\n\t\tdisplay: 'flex',\n\t\tjustifyContent: 'center',\n\t\talignItems: 'center',\n\t\twidth: 150,\n\t\theight: 150,\n\t\tborder: 'dashed 2px black',\n\t\tborderRadius: '100%'\n\t},\n\tavatar: {\n\t\twidth: 130,\n\t\theight: 130,\n\t\t'& > .icon': {\n\t\t\tfontSize: 100\n\t\t}\n\t}\n}));\n\nexport default function FormularioUsuario({ accion }) {\n\tconst classes = useStyles();\n\tconst { usuario, setUsuario, error } = useContext(UsuarioContext);\n\tconst [ preview, setPreview ] = useState('');\n\tconst [ showPassword, setShowPassword ] = useState(false);\n\n\t//dropzone\n\tconst onDrop = useCallback(\n\t\t(acceptedFiles) => {\n\t\t\tlet reader = new FileReader();\n\t\t\treader.readAsDataURL(acceptedFiles[0]);\n\t\t\treader.onload = function() {\n\t\t\t\tlet image = reader.result;\n\t\t\t\tsetPreview(image);\n\t\t\t};\n\t\t\tsetUsuario({\n\t\t\t\t...usuario,\n\t\t\t\timagen: acceptedFiles[0]\n\t\t\t});\n\t\t},\n\t\t[ usuario, setUsuario ]\n\t);\n\n\tconst { getRootProps, getInputProps } = useDropzone({\n\t\taccept: 'image/jpeg, image/png',\n\t\tnoKeyboard: true,\n\t\tonDrop\n\t});\n\n\tconst obtenerCampos = (e) => {\n\t\tconst name = e.target.name;\n\t\tif (name === 'numero_usuario') {\n\t\t\tsetUsuario({\n\t\t\t\t...usuario,\n\t\t\t\t[e.target.name]: parseInt(e.target.value)\n\t\t\t});\n\t\t\treturn;\n\t\t}\n\t\tsetUsuario({\n\t\t\t...usuario,\n\t\t\t[e.target.name]: e.target.value\n\t\t});\n\t};\n\tconst obtenerCamposDireccion = (e) => {\n\t\tsetUsuario({\n\t\t\t...usuario,\n\t\t\tdireccion: { ...usuario.direccion, [e.target.name]: e.target.value }\n\t\t});\n\t};\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<Grid container>\n\t\t\t\t<Grid item md={3}>\n\t\t\t\t\t<Box className={classes.avatarContainer} {...getRootProps()}>\n\t\t\t\t\t\t<input {...getInputProps()} />\n\t\t\t\t\t\t{preview ? (\n\t\t\t\t\t\t\t<Avatar className={classes.avatar} src={`${preview}`} />\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<Avatar className={classes.avatar} src={`${usuario.imagen}`} />\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Box>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item md={9}>\n\t\t\t\t\t<Box>\n\t\t\t\t\t\t<form autoComplete=\"off\" className={classes.formInputFlex}>\n\t\t\t\t\t\t\t<Box width=\"100%\">\n\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\t<span>* </span>Nombre usuario\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\terror={error.error && !usuario.nombre}\n\t\t\t\t\t\t\t\t\tname=\"nombre\"\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\tvalue={usuario.nombre ? usuario.nombre : ''}\n\t\t\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\t\t\terror.error && error.message !== 'Las contraseñas no coinciden' ? (\n\t\t\t\t\t\t\t\t\t\t\terror.message\n\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t''\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tonChange={obtenerCampos}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</form>\n\t\t\t\t\t</Box>\n\t\t\t\t\t{accion === 'registrar' ? (\n\t\t\t\t\t\t<form autoComplete=\"off\" className={classes.formInputFlex}>\n\t\t\t\t\t\t\t<Box width=\"100%\">\n\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\t<span>* </span>Contraseña\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\terror={\n\t\t\t\t\t\t\t\t\t\terror.error && !usuario.password ? (\n\t\t\t\t\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t\t\t\t\t) : error.error && error.message === 'Las contraseñas no coinciden' ? (\n\t\t\t\t\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\tfalse\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<OutlinedInput\n\t\t\t\t\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\t\t\t\t\ttype={showPassword ? 'text' : 'password'}\n\t\t\t\t\t\t\t\t\t\tvalue={usuario.password ? usuario.password : ''}\n\t\t\t\t\t\t\t\t\t\tonChange={obtenerCampos}\n\t\t\t\t\t\t\t\t\t\tendAdornment={\n\t\t\t\t\t\t\t\t\t\t\t<InputAdornment position=\"end\">\n\t\t\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\t\t\t\taria-label=\"toggle password visibility\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => setShowPassword(!showPassword)}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonMouseDown={() => setShowPassword(!showPassword)}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{showPassword ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Visibility color=\"primary\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<VisibilityOff color=\"primary\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t\t</InputAdornment>\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<FormHelperText>{error.message}</FormHelperText>\n\t\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box width=\"100%\">\n\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\t<span>* </span>Repetir contraseña\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\terror={\n\t\t\t\t\t\t\t\t\t\terror.error && !usuario.password ? (\n\t\t\t\t\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t\t\t\t\t) : error.error && error.message === 'Las contraseñas no coinciden' ? (\n\t\t\t\t\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\tfalse\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tname=\"repeatPassword\"\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<OutlinedInput\n\t\t\t\t\t\t\t\t\t\tname=\"repeatPassword\"\n\t\t\t\t\t\t\t\t\t\ttype={showPassword ? 'text' : 'password'}\n\t\t\t\t\t\t\t\t\t\tvalue={usuario.repeatPassword ? usuario.repeatPassword : ''}\n\t\t\t\t\t\t\t\t\t\tonChange={obtenerCampos}\n\t\t\t\t\t\t\t\t\t\tendAdornment={\n\t\t\t\t\t\t\t\t\t\t\t<InputAdornment position=\"end\">\n\t\t\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\t\t\t\taria-label=\"toggle password visibility\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => setShowPassword(!showPassword)}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonMouseDown={() => setShowPassword(!showPassword)}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{showPassword ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Visibility color=\"primary\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<VisibilityOff color=\"primary\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t\t</InputAdornment>\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<FormHelperText>{error.message}</FormHelperText>\n\t\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</form>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<ActualizarPasswordModal />\n\t\t\t\t\t)}\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item md={12}>\n\t\t\t\t\t<form autoComplete=\"off\" className={classes.formInputFlex}>\n\t\t\t\t\t\t<Box width=\"100%\">\n\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t<span>* </span>Email\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\terror={error.error && !usuario.email}\n\t\t\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tvalue={usuario.email ? usuario.email : ''}\n\t\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\t\terror.error && error.message !== 'Las contraseñas no coinciden' ? error.message : ''\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tonChange={obtenerCampos}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box width=\"100%\">\n\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t<span>* </span>Num. Telefono\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\terror={error.error && !usuario.telefono}\n\t\t\t\t\t\t\t\tname=\"telefono\"\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tvalue={usuario.telefono ? usuario.telefono : ''}\n\t\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\t\terror.error && error.message !== 'Las contraseñas no coinciden' ? error.message : ''\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tonChange={obtenerCampos}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box width=\"100%\">\n\t\t\t\t\t\t\t<Typography>Num. Celular</Typography>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\tname=\"celular\"\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tvalue={usuario.celular ? usuario.celular : ''}\n\t\t\t\t\t\t\t\tonChange={obtenerCampos}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</form>\n\t\t\t\t\t<Box mt={2}>\n\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t<b>usuario domicilio</b>\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Divider />\n\t\t\t\t\t</Box>\n\t\t\t\t\t<form autoComplete=\"off\" className={classes.formInputFlex}>\n\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t<Typography>Calle</Typography>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\tname=\"calle\"\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tvalue={usuario.direccion.calle ? usuario.direccion.calle : ''}\n\t\t\t\t\t\t\t\tonChange={obtenerCamposDireccion}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t<Typography>Colonia</Typography>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\tname=\"colonia\"\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tvalue={usuario.direccion.colonia ? usuario.direccion.colonia : ''}\n\t\t\t\t\t\t\t\tonChange={obtenerCamposDireccion}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box width=\"100px\">\n\t\t\t\t\t\t\t<Typography>Num. Ext</Typography>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\tname=\"no_ext\"\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tvalue={usuario.direccion.no_ext ? usuario.direccion.no_ext : ''}\n\t\t\t\t\t\t\t\tonChange={obtenerCamposDireccion}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box width=\"100px\">\n\t\t\t\t\t\t\t<Typography>Num. Int</Typography>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\tname=\"no_int\"\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tvalue={usuario.direccion.no_int ? usuario.direccion.no_int : ''}\n\t\t\t\t\t\t\t\tonChange={obtenerCamposDireccion}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box width=\"100px\">\n\t\t\t\t\t\t\t<Typography>CP</Typography>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\tname=\"codigo_postal\"\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tvalue={usuario.direccion.codigo_postal ? usuario.direccion.codigo_postal : ''}\n\t\t\t\t\t\t\t\tonChange={obtenerCamposDireccion}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</form>\n\t\t\t\t\t<form autoComplete=\"off\" className={classes.formInputFlex}>\n\t\t\t\t\t\t<Box width=\"100%\">\n\t\t\t\t\t\t\t<Typography>Municipio</Typography>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\tname=\"municipio\"\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tvalue={usuario.direccion.municipio ? usuario.direccion.municipio : ''}\n\t\t\t\t\t\t\t\tonChange={obtenerCamposDireccion}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box width=\"100%\">\n\t\t\t\t\t\t\t<Typography>Localidad</Typography>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\tname=\"localidad\"\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tvalue={usuario.direccion.localidad ? usuario.direccion.localidad : ''}\n\t\t\t\t\t\t\t\tonChange={obtenerCamposDireccion}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box width=\"100%\">\n\t\t\t\t\t\t\t<Typography>Estado</Typography>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\tname=\"estado\"\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tvalue={usuario.direccion.estado ? usuario.direccion.estado : ''}\n\t\t\t\t\t\t\t\tonChange={obtenerCamposDireccion}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box width=\"100%\">\n\t\t\t\t\t\t\t<Typography>Pais</Typography>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\tname=\"pais\"\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tvalue={usuario.direccion.pais ? usuario.direccion.pais : ''}\n\t\t\t\t\t\t\t\tonChange={obtenerCamposDireccion}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</form>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t</Fragment>\n\t);\n}\n\nconst ActualizarPasswordModal = () => {\n\tconst [ open, setOpen ] = useState(false);\n\tconst { usuario, setUsuario, error, setError, update, setUpdate } = useContext(UsuarioContext);\n\tconst [ showPassword, setShowPassword ] = useState(false);\n\tconst [ loading, setLoading ] = useState(false);\n\tconst [ alert, setAlert ] = useState({ message: '', status: '', open: false });\n\n\tconst [ actualizarUsuario ] = useMutation(ACTUALIZAR_USUARIO);\n\n\tconst handleClickOpen = () => {\n\t\tsetOpen(true);\n\t};\n\n\tconst handleClose = () => {\n\t\tsetOpen(false);\n\t\tsetError({ error: false, message: '' });\n\t};\n\n\tconst obtenerCampos = (e) => {\n\t\tsetUsuario({\n\t\t\t...usuario,\n\t\t\t[e.target.name]: e.target.value\n\t\t});\n\t};\n\n\tconst confirmarPassowrd = async () => {\n\t\tif (!usuario.password || !usuario.repeatPassword) {\n\t\t\tsetError({ error: true, message: 'Este campo es requerido' });\n\t\t\treturn;\n\t\t}\n\t\tif (usuario.password !== usuario.repeatPassword) {\n\t\t\tsetError({ error: true, message: 'Las contraseñas no coinciden' });\n\t\t\treturn;\n\t\t}\n\t\tsetLoading(true);\n\n\t\ttry {\n\t\t\tawait actualizarUsuario({\n\t\t\t\tvariables: {\n\t\t\t\t\tinput: {\n\t\t\t\t\t\tpassword: usuario.password,\n\t\t\t\t\t\trepeatPassword: usuario.repeatPassword\n\t\t\t\t\t},\n\t\t\t\t\tid: usuario._id\n\t\t\t\t}\n\t\t\t});\n\t\t\tsetUpdate(!update);\n\t\t\tsetAlert({ message: '¡Listo!', status: 'success', open: true });\n\t\t\tsetLoading(false);\n\t\t\thandleClose();\n\t\t} catch (error) {\n\t\t\tsetAlert({ message: 'Hubo un error', status: 'error', open: true });\n\t\t\tsetLoading(false);\n\t\t}\n\t};\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<Button color=\"primary\" variant=\"text\" onClick={handleClickOpen}>\n\t\t\t\tCambiar contraseña\n\t\t\t</Button>\n\t\t\t<Dialog\n\t\t\t\topen={open}\n\t\t\t\tonClose={handleClose}\n\t\t\t\taria-labelledby=\"alert-dialog-title\"\n\t\t\t\taria-describedby=\"alert-dialog-description\"\n\t\t\t>\n\t\t\t\t<SnackBarMessages alert={alert} setAlert={setAlert} />\n\t\t\t\t<DialogTitle id=\"alert-dialog-title\">{'Cambiar contraseña'}</DialogTitle>\n\t\t\t\t<DialogContent>\n\t\t\t\t\t<form autoComplete=\"off\">\n\t\t\t\t\t\t<Box width=\"100%\">\n\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t<span>* </span>Contraseña\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\terror={\n\t\t\t\t\t\t\t\t\terror.error && !usuario.password ? (\n\t\t\t\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t\t\t\t) : error.error && error.message === 'Las contraseñas no coinciden' ? (\n\t\t\t\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\tfalse\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<OutlinedInput\n\t\t\t\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\t\t\t\ttype={showPassword ? 'text' : 'password'}\n\t\t\t\t\t\t\t\t\tvalue={usuario.password ? usuario.password : ''}\n\t\t\t\t\t\t\t\t\tonChange={obtenerCampos}\n\t\t\t\t\t\t\t\t\tendAdornment={\n\t\t\t\t\t\t\t\t\t\t<InputAdornment position=\"end\">\n\t\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\t\t\taria-label=\"toggle password visibility\"\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => setShowPassword(!showPassword)}\n\t\t\t\t\t\t\t\t\t\t\t\tonMouseDown={() => setShowPassword(!showPassword)}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{showPassword ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Visibility color=\"primary\" />\n\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<VisibilityOff color=\"primary\" />\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t</InputAdornment>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<FormHelperText>{error.message}</FormHelperText>\n\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box width=\"100%\">\n\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t<span>* </span>Repetir contraseña\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\terror={\n\t\t\t\t\t\t\t\t\terror.error && !usuario.password ? (\n\t\t\t\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t\t\t\t) : error.error && error.message === 'Las contraseñas no coinciden' ? (\n\t\t\t\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\tfalse\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tname=\"repeatPassword\"\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<OutlinedInput\n\t\t\t\t\t\t\t\t\tname=\"repeatPassword\"\n\t\t\t\t\t\t\t\t\ttype={showPassword ? 'text' : 'password'}\n\t\t\t\t\t\t\t\t\tvalue={usuario.repeatPassword ? usuario.repeatPassword : ''}\n\t\t\t\t\t\t\t\t\tonChange={obtenerCampos}\n\t\t\t\t\t\t\t\t\tendAdornment={\n\t\t\t\t\t\t\t\t\t\t<InputAdornment position=\"end\">\n\t\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\t\t\taria-label=\"toggle password visibility\"\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => setShowPassword(!showPassword)}\n\t\t\t\t\t\t\t\t\t\t\t\tonMouseDown={() => setShowPassword(!showPassword)}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{showPassword ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Visibility color=\"primary\" />\n\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<VisibilityOff color=\"primary\" />\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t</InputAdornment>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<FormHelperText>{error.message}</FormHelperText>\n\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</form>\n\t\t\t\t</DialogContent>\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Button onClick={handleClose} color=\"primary\">\n\t\t\t\t\t\tCancelar\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tonClick={confirmarPassowrd}\n\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\tendIcon={loading ? <CircularProgress color=\"inherit\" size={25} /> : null}\n\t\t\t\t\t>\n\t\t\t\t\t\tConfirmar\n\t\t\t\t\t</Button>\n\t\t\t\t</DialogActions>\n\t\t\t</Dialog>\n\t\t</Fragment>\n\t);\n};\n","import { Box, Checkbox, FormControlLabel } from '@material-ui/core'\nimport React from 'react';\n\nexport default function Parametros({ \n    arregloAccesos, \n    obtenerAccesos, \n    departamento, \n    subDepartamento\n}) {\n\n    console.log(arregloAccesos);\n    \n    return(\n        <Box display='flex' justifyContent='center' alignItems='center'>\n            <FormControlLabel\n                control={\n                    <Checkbox\n                        checked={arregloAccesos ? arregloAccesos[departamento][subDepartamento].ver : false}\n                        name=\"ver\"\n                        color=\"primary\"\n                        onChange={(e) => obtenerAccesos(e, departamento, subDepartamento)}\n                    />\n                }\n                label={\n                    <Box mr={2} display='flex'>\n                        {departamento === 'ventas' ? \"Autorizar\" : \"Ver\" } \n                    </Box>\n                }\n            />\n            {   subDepartamento === 'informacion_fiscal' ||\n                subDepartamento === 'datos_empresa' || \n                subDepartamento === 'abrir_compra' || \n                subDepartamento === 'compras_realizadas' || \n                subDepartamento === 'compras_espera' || \n                subDepartamento === 'traspasos' || \n                subDepartamento === 'inventario_almacen' || \n                subDepartamento === 'cuentas_empresa' || \n                departamento === 'reportes' || \n                departamento === 'ventas'|| \n                subDepartamento === 'egresos' ? (null):(\n                    <FormControlLabel\n                        control={\n                            <Checkbox\n                                checked={arregloAccesos ? arregloAccesos[departamento][subDepartamento].agregar : false}\n                                name=\"agregar\"\n                                disabled={arregloAccesos ? arregloAccesos[departamento][subDepartamento].ver === false : true}\n                                color=\"primary\"\n                                onChange={(e) => obtenerAccesos(e, departamento, subDepartamento)}\n                            />\n                        }\n                        label={\n                            <Box mr={2}  display='flex'>\n                                Agregar\n                            </Box>\n                        }\n                    />\n            )}\n            {   subDepartamento === 'cajas' || \n                subDepartamento === 'abrir_compra' || \n                subDepartamento === 'compras_realizadas' || \n                subDepartamento === 'traspasos' || \n                subDepartamento === 'inventario_almacen' || \n                subDepartamento === 'abonos_proveedores'|| \n                subDepartamento === 'abonos_clientes'|| \n                subDepartamento === 'egresos' || \n                departamento === 'reportes' || \n                departamento === 'ventas' ? (null) : ( \n                <FormControlLabel\n                    control={\n                        <Checkbox\n                            checked={arregloAccesos ? arregloAccesos[departamento][subDepartamento].editar : false}\n                            name=\"editar\"\n                            disabled={arregloAccesos ? arregloAccesos[departamento][subDepartamento].ver === false : true}\n                            color=\"primary\"\n                            onChange={(e) => obtenerAccesos(e, departamento, subDepartamento)}\n                        />\n                    }\n                    label={\n                        <Box mr={2}  display='flex'>\n                            Editar\n                        </Box>\n                    }\n                />\n            )}\n            {   subDepartamento === 'informacion_fiscal' ||\n                subDepartamento === 'datos_empresa' || \n                subDepartamento === 'abrir_compra' || \n                subDepartamento === 'compras_realizadas' || \n                subDepartamento === 'traspasos' || \n                subDepartamento === 'inventario_almacen' || \n                subDepartamento === 'cuentas_empresa' || \n                subDepartamento === 'abonos_proveedores' || \n                subDepartamento === 'abonos_clientes'|| \n                subDepartamento === 'egresos' || \n                departamento === 'reportes' || \n                departamento === 'ventas'? (null):( \n                <FormControlLabel\n                    control={\n                        <Checkbox\n                            checked={arregloAccesos ? arregloAccesos[departamento][subDepartamento].eliminar : false}\n                            name=\"eliminar\"\n                            color=\"primary\"\n                            disabled={arregloAccesos ? arregloAccesos[departamento][subDepartamento].ver === false : true}\n                            onChange={(e) => obtenerAccesos(e, departamento, subDepartamento)}\n                        />\n                    }\n                    label={\n                        <Box display='flex'>\n                            Eliminar\n                        </Box>\n                    }\n                />\n            )}\n        </Box>\n    )\n}\n","import {\n  Box,\n  Paper,\n  Typography,\n} from \"@material-ui/core\";\nimport React, { Fragment } from \"react\";\nimport Parametros from \"../Parametros\";\n\nexport default function Catalogos({ obtenerAccesos, arregloAccesos }) {\n    \n    return (\n        <Fragment>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Typography variant=\"h6\">\n                        Marca los permisos que deseas asignar a este usuario\n                    </Typography>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Clientes</b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'catalogos'}\n                                subDepartamento={'clientes'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Usuarios</b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'catalogos'}\n                                subDepartamento={'usuarios'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Marcas</b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'catalogos'}\n                                subDepartamento={'marcas'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Provedores</b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'catalogos'}\n                                subDepartamento={'provedores'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Contabilidad</b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'catalogos'}\n                                subDepartamento={'contabilidad'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Cajas</b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'catalogos'}\n                                subDepartamento={'cajas'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Departamento</b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'catalogos'}\n                                subDepartamento={'departamentos'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Centro de costos</b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'catalogos'}\n                                subDepartamento={'centro_costos'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Conceptos almacen</b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'catalogos'}\n                                subDepartamento={'conceptos_almacen'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Categorias</b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'catalogos'}\n                                subDepartamento={'categorias'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Colores</b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'catalogos'}\n                                subDepartamento={'colores'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Tallas y Numeros</b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'catalogos'}\n                                subDepartamento={'tallas_numeros'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n        </Fragment>\n    );\n};\n\n","import {\n    Box,\n    Paper,\n    Typography,\n} from \"@material-ui/core\";\nimport React, { Fragment } from \"react\";\nimport Parametros from \"../Parametros\";\n  \nexport default function MiEmpresa({ obtenerAccesos, arregloAccesos }) {\n      return (\n            <Fragment>\n                <Box p={1}  display='flex' justifyContent= 'center'>\n                    <Box width='80%'>\n                        <Typography variant=\"h6\">\n                            Marca los permisos que deseas asignar a este usuario\n                        </Typography>\n                    </Box>\n                </Box>\n                <Box p={1}  display='flex' justifyContent= 'center'>\n                    <Box width='80%'>\n                        <Paper elevation={3}>\n                            <Box display='flex'>\n                                <Box ml={1} p={1} flexGrow={1} >\n                                    <Typography variant=\"h6\">\n                                        <b>Datos de Empresa</b>\n                                    </Typography>\n                                </Box>\n                                <Parametros \n                                    arregloAccesos={arregloAccesos} \n                                    obtenerAccesos={obtenerAccesos}\n                                    departamento={'mi_empresa'}\n                                    subDepartamento={'datos_empresa'}\n                                />\n                            </Box>\n                        </Paper>\n                    </Box>\n                </Box>\n                <Box p={1}  display='flex' justifyContent= 'center'>\n                    <Box width='80%'>\n                        <Paper elevation={3}>\n                            <Box display='flex'>\n                                <Box ml={1} p={1} flexGrow={1} >\n                                    <Typography variant=\"h6\">\n                                        <b>Información Fiscal</b>\n                                    </Typography>\n                                </Box>\n                                <Parametros \n                                    arregloAccesos={arregloAccesos} \n                                    obtenerAccesos={obtenerAccesos}\n                                    departamento={'mi_empresa'}\n                                    subDepartamento={'informacion_fiscal'}\n                                />\n                            </Box>\n                        </Paper>\n                    </Box>\n                </Box>\n            </Fragment>\n      )\n}","import {\n    Box,\n    Paper,\n    Typography,\n} from \"@material-ui/core\";\nimport React, { Fragment } from \"react\";\nimport Parametros from \"../Parametros\";\n  \nexport default function Compras({ obtenerAccesos, arregloAccesos }) {\n    return (\n        <Fragment>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Typography variant=\"h6\">\n                        Marca los permisos que deseas asignar a este usuario\n                    </Typography>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Abrir una compra</b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'compras'}\n                                subDepartamento={'abrir_compra'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Compras realizadas</b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'compras'}\n                                subDepartamento={'compras_realizadas'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Compras en espera</b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'compras'}\n                                subDepartamento={'compras_espera'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n        </Fragment>\n    )\n}","import {\n    Box,\n    Paper,\n    Typography,\n} from \"@material-ui/core\";\nimport React, { Fragment } from \"react\";\nimport Parametros from \"../Parametros\";\n  \nexport default function Almacenes({ obtenerAccesos, arregloAccesos }) {\n    return (\n        <Fragment>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Typography variant=\"h6\">\n                        Marca los permisos que deseas asignar a este usuario\n                    </Typography>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Almacenes</b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'almacenes'}\n                                subDepartamento={'almacen'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Traspasos</b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'almacenes'}\n                                subDepartamento={'traspasos'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Inventario por almacen</b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'almacenes'}\n                                subDepartamento={'inventario_almacen'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n        </Fragment>\n    )\n}","import {\n    Box,\n    Paper,\n    Typography,\n} from \"@material-ui/core\";\nimport React, { Fragment } from \"react\";\nimport Parametros from \"../Parametros\";\n  \nexport default function Tesoreria({ obtenerAccesos, arregloAccesos }) {\n    return (\n        <Fragment>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Typography variant=\"h6\">\n                        Marca los permisos que deseas asignar a este usuario\n                    </Typography>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Cuentas</b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'tesoreria'}\n                                subDepartamento={'cuentas_empresa'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Abonos Proveedores</b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'tesoreria'}\n                                subDepartamento={'abonos_proveedores'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Abonos Clientes</b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'tesoreria'}\n                                subDepartamento={'abonos_clientes'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Egresos</b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'tesoreria'}\n                                subDepartamento={'egresos'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n        </Fragment>\n    )\n}","import {\n    Box,\n    Paper,\n    Typography,\n} from \"@material-ui/core\";\nimport React, { Fragment } from \"react\";\nimport Parametros from \"../Parametros\";\n  \nexport default function Reportes({ obtenerAccesos, arregloAccesos }) {\n    return (\n        <Fragment>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Typography variant=\"h6\">\n                        Marca los permisos que deseas asignar a este usuario\n                    </Typography>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Reportes Historiales Cajas</b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'reportes'}\n                                subDepartamento={'reporte_historial_cajas'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Reportes turnos usuarios </b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'reportes'}\n                                subDepartamento={'reporte_turnos'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Reportes de compras </b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'reportes'}\n                                subDepartamento={'reporte_compras'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Reportes de ventas </b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'reportes'}\n                                subDepartamento={'reporte_ventas'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Reportes de almacenes </b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'reportes'}\n                                subDepartamento={'rerporte_almacen'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Reportes de cortes </b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'reportes'}\n                                subDepartamento={'reporte_corte_caja'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Reportes tesoreria </b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'reportes'}\n                                subDepartamento={'reporte_tesoreria'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n        </Fragment>\n    );\n}","import {\n    Box,\n    Paper,\n    Typography,\n} from \"@material-ui/core\";\nimport React, { Fragment } from \"react\";\nimport Parametros from \"../Parametros\";\n  \nexport default function Ventas({ obtenerAccesos, arregloAccesos }) {\n    return (\n        <Fragment>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Typography variant=\"h6\">\n                        Marca los permisos que deseas asignar a este usuario\n                    </Typography>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Cancelar ventas</b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'ventas'}\n                                subDepartamento={'cancelar_venta'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Precios de productos</b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'ventas'}\n                                subDepartamento={'precios_productos'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Pre cortes de caja</b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'ventas'}\n                                subDepartamento={'pre_corte'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Cotizaciones</b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'ventas'}\n                                subDepartamento={'cotizaciones'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Producto Rapido</b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'ventas'}\n                                subDepartamento={'producto_rapido'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Panel de administrador</b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'ventas'}\n                                subDepartamento={'administrador'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Eliminar ventas pendientes</b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'ventas'}\n                                subDepartamento={'eliminar_ventas'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n        </Fragment>\n    )\n}","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport { AppBar, Box, Tabs } from '@material-ui/core';\nimport { Tab } from '@material-ui/core';\nimport {  FcPaid, FcShop, FcSurvey, FcNews } from 'react-icons/fc';\n\nimport Catalogos from './Departamentos/Catalogos';\nimport MiEmpresa from './Departamentos/MiEmpresa';\n\nimport SnackBarMessages from '../../../../../components/SnackBarMessages';\nimport Compras from './Departamentos/Compras';\nimport Almacenes from './Departamentos/Almacenes';\nimport Tesoreria from './Departamentos/Tesoreria';\nimport Reportes from './Departamentos/Reportes';\nimport Ventas from './Departamentos/Ventas';\n\nfunction TabPanel(props) {\n\tconst { children, value, index, ...other } = props;\n\n\treturn (\n\t\t<div\n\t\t\trole=\"tabpanel\"\n\t\t\thidden={value !== index}\n\t\t\tid={`tabpanel-reg-product-${index}`}\n\t\t\taria-labelledby={`reg-product-tab-${index}`}\n\t\t\t{...other}\n\t\t>\n\t\t\t{value === index && (\n\t\t\t\t<Box p={1} minHeight=\"20vh\">\n\t\t\t\t\t{children}\n\t\t\t\t</Box>\n\t\t\t)}\n\t\t</div>\n\t);\n}\n\nTabPanel.propTypes = {\n\tchildren: PropTypes.node,\n\tindex: PropTypes.any.isRequired,\n\tvalue: PropTypes.any.isRequired\n};\n\nfunction a11yProps(index) {\n\treturn {\n\t\tid: `reg-product-tab-${index}`,\n\t\t'aria-controls': `tabpanel-reg-product-${index}`\n\t};\n};\n\nconst useStyles = makeStyles((theme) => ({\n\tformInputFlex: {\n\t\tdisplay: 'flex',\n\t\t'& > *': {\n\t\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(2)}px`\n\t\t}\n\t},\n\tformInput: {\n\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(2)}px`\n\t},\n\troot: {\n\t\tflexGrow: 1,\n\t\twidth: '100%',\n\t\tbackgroundColor: theme.palette.background.paper\n\t},\n\ticonSvg: {\n\t\twidth: 30\n\t},\n\ticon:{\n\t\tfontSize: 30\n\t}\n}));\n\nexport default function AsignarPermisos({obtenerAccesos, arregloAccesos}) {\n\n\tconst classes = useStyles();\n\tconst [ alert, setAlert ] = useState({ message: '', status: '', open: false });\n\n\tconst [ value, setValue ] = useState(0);\n\n    const handleChange = (event, newValue) => {\n\t\tsetValue(newValue);\n\t};\n\n    return (\n        <>\n\t\t<SnackBarMessages alert={alert} setAlert={setAlert} />\n            <AppBar position=\"static\" color=\"default\" elevation={0}>\n                <Tabs\n                    value={value}\n                    onChange={handleChange}\n                    variant=\"scrollable\"\n                    scrollButtons=\"on\"\n                    indicatorColor=\"primary\"\n                    textColor=\"primary\"\n                    aria-label=\"scrollable force tabs example\"\n                >\n                   \t<Tab \n\t\t\t\t\t\tlabel=\"Mi empresa\"\n\t\t\t\t\t\ticon={<FcShop className={classes.icon}/>} {...a11yProps(0)} \n\t\t\t\t\t/>\n\t\t\t\t\t<Tab\n\t\t\t\t\t\tlabel=\"Almacenes\"\n\t\t\t\t\t\ticon={<img src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/almacen.svg' alt=\"icono almacen\" className={classes.iconSvg} />}\n\t\t\t\t\t\t{...a11yProps(1)}\n\t\t\t\t\t/>\n\t\t\t\t\t<Tab \n\t\t\t\t\t\tlabel=\"Compras\" \n\t\t\t\t\t\ticon={<FcPaid className={classes.icon} />} {...a11yProps(2)} \n\t\t\t\t\t/>\n\t\t\t\t\t<Tab \n\t\t\t\t\t\tlabel=\"Catalogos\" \n\t\t\t\t\t\ticon={<FcNews className={classes.icon} />} {...a11yProps(3)} \n\t\t\t\t\t/>\n\t\t\t\t\t<Tab\n\t\t\t\t\t\tlabel=\"Tesoreria\"\n\t\t\t\t\t\ticon={<img src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/money.svg' alt=\"icono money\" className={classes.iconSvg} />}\n\t\t\t\t\t\t{...a11yProps(4)}\n\t\t\t\t\t/>\n\t\t\t\t\t<Tab\n\t\t\t\t\t\tlabel=\"Reportes\"\n\t\t\t\t\t\ticon={<FcSurvey className={classes.icon} />}\n\t\t\t\t\t\t{...a11yProps(5)}\n\t\t\t\t\t\n\t\t\t\t\t/>\n\t\t\t\t\t<Tab\n\t\t\t\t\t\tlabel=\"Facturación\"\n\t\t\t\t\t\ticon={<img src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/factura.svg' alt=\"icono factura\" className={classes.iconSvg} />}\n\t\t\t\t\t\t{...a11yProps(6)}\n\t\t\t\t\t/>\n\t\t\t\t\t<Tab\n\t\t\t\t\t\tlabel=\"Ventas\"\n\t\t\t\t\t\ticon={<img src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/ventas/cart-add.svg' alt=\"icono ventas\" className={classes.iconSvg} />}\n\t\t\t\t\t\t{...a11yProps(7)}\n\t\t\t\t\t/>\n                </Tabs>\n            </AppBar>\n\t\t\t<TabPanel value={value} index={0}>\n\t\t\t\t<Box p={2}>\n\t\t\t\t\t<MiEmpresa obtenerAccesos={obtenerAccesos} arregloAccesos={arregloAccesos} />\n\t\t\t\t</Box>\n\t\t\t</TabPanel>\n\t\t\t<TabPanel value={value} index={1}>\n\t\t\t\t<Box p={2}>\n\t\t\t\t\t<Almacenes obtenerAccesos={obtenerAccesos} arregloAccesos={arregloAccesos} />\n\t\t\t\t</Box>\n\t\t\t</TabPanel>\n\t\t\t<TabPanel value={value} index={2}>\n\t\t\t\t<Box p={2}>\n\t\t\t\t\t<Compras obtenerAccesos={obtenerAccesos} arregloAccesos={arregloAccesos} />\n\t\t\t\t</Box>\n\t\t\t</TabPanel>\n\t\t\t<TabPanel value={value} index={3}>\n\t\t\t\t<Box p={0}>\n\t\t\t\t\t<Catalogos obtenerAccesos={obtenerAccesos} arregloAccesos={arregloAccesos} />\n\t\t\t\t</Box>\n\t\t\t</TabPanel>\n\t\t\t<TabPanel value={value} index={4}>\n\t\t\t\t<Box p={2}>\n\t\t\t\t\t<Tesoreria obtenerAccesos={obtenerAccesos} arregloAccesos={arregloAccesos} />\n\t\t\t\t</Box>\n\t\t\t</TabPanel>\n\t\t\t<TabPanel value={value} index={5}>\n\t\t\t\t<Box p={2}>\n\t\t\t\t\t<Reportes obtenerAccesos={obtenerAccesos} arregloAccesos={arregloAccesos} />\n\t\t\t\t</Box>\n\t\t\t</TabPanel>\n\t\t\t<TabPanel value={value} index={6}>\n\t\t\t\t<Box p={2}>\n\t\t\t\t\t{/* <CamposAsignados type='facturacion' /> */}\n\t\t\t\t</Box>\n\t\t\t</TabPanel>\n\t\t\t<TabPanel value={value} index={7}>\n\t\t\t\t<Box p={2}>\n\t\t\t\t\t<Ventas obtenerAccesos={obtenerAccesos} arregloAccesos={arregloAccesos} />\n\t\t\t\t</Box>\n\t\t\t</TabPanel>\n        </>\n    )\n}\n","import React, { useState, Fragment, useContext, useCallback } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport PropTypes from 'prop-types';\nimport CloseIcon from '@material-ui/icons/Close';\nimport DoneIcon from '@material-ui/icons/Done';\nimport { Button, IconButton, Tabs } from '@material-ui/core';\nimport { Dialog, DialogActions, Box } from '@material-ui/core';\nimport FormularioUsuario from './FormularioUsuario';\nimport AsignarPermisos from './AsingarAccesos/AsignarPermisos';\nimport { Add, Edit } from '@material-ui/icons';\nimport { UsuarioContext } from '../../../../context/Catalogos/usuarioContext';\nimport BackdropComponent from '../../../../components/Layouts/BackDrop';\nimport SnackBarMessages from '../../../../components/SnackBarMessages';\n\nimport arregloVacio from './AsingarAccesos/arregloVacioAcceso'\nimport { useMutation } from '@apollo/client';\nimport { CREAR_USUARIO, ACTUALIZAR_USUARIO } from '../../../../gql/Catalogos/usuarios';\nimport { cleanTypenames, numerosRandom } from '../../../../config/reuserFunctions';\nimport { AppBar } from '@material-ui/core';\nimport { Tab } from '@material-ui/core';\n\nfunction TabPanel(props) {\n\tconst { children, value, index, ...other } = props;\n\treturn (\n\t\t<div\n\t\t\trole=\"tabpanel\"\n\t\t\thidden={value !== index}\n\t\t\tid={`tabpanel-reg-product-${index}`}\n\t\t\taria-labelledby={`reg-product-tab-${index}`}\n\t\t\t{...other}\n\t\t>\n\t\t\t{value === index && (\n\t\t\t\t<Box minHeight=\"70vh\">\n\t\t\t\t\t{children}\n\t\t\t\t</Box>\n\t\t\t)}\n\t\t</div>\n\t);\n}\n\nTabPanel.propTypes = {\n\tchildren: PropTypes.node,\n\tindex: PropTypes.any.isRequired,\n\tvalue: PropTypes.any.isRequired\n};\n\nfunction a11yProps(index) {\n\treturn {\n\t\tid: `reg-product-tab-${index}`,\n\t\t'aria-controls': `tabpanel-reg-product-${index}`\n\t};\n}\n\nconst useStyles = makeStyles((theme) => ({\n\tformInputFlex: {\n\t\tdisplay: 'flex',\n\t\t'& > *': {\n\t\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(2)}px`\n\t\t}\n\t},\n\tformInput: {\n\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(2)}px`\n\t},\n\trootPrincipal:{\n\t\tpadding: 0,\n\t\tmargin: 0\n\t},\n\troot: {\n\t\tflexGrow: 1,\n\t\twidth: '100%',\n\t\tbackgroundColor: theme.palette.background.paper\n\t},\n\ticonSvg: {\n\t\twidth: 50\n\t}\n}));\n\nexport default function CrearUsuario({ accion, datos }) {\n\tconst classes = useStyles();\n\tconst { usuario, setUsuario, setError, update, setUpdate } = useContext(UsuarioContext);\n\tconst [ open, setOpen ] = useState(false);\n\tconst [ value, setValue ] = useState(0);\n\tconst [ loading, setLoading ] = useState(false);\n\tconst [ alert, setAlert ] = useState({ message: '', status: '', open: false });\n\tconst sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\n\tconst limpiarCampos = useCallback(\n\t\t() => {\n\t\t\tsetUsuario({\n\t\t\t\tdireccion: {\n\t\t\t\t\tcalle: '',\n\t\t\t\t\tno_ext: '',\n\t\t\t\t\tno_int: '',\n\t\t\t\t\tcodigo_postal: '',\n\t\t\t\t\tcolonia: '',\n\t\t\t\t\tmunicipio: '',\n\t\t\t\t\tlocalidad: '',\n\t\t\t\t\testado: '',\n\t\t\t\t\tpais: ''\n\t\t\t\t},\n\t\t\t\tturno_en_caja_activo: false,\n\t\t\t\testado_usuario: true,\n\t\t\t\taccesos: arregloVacio\n\t\t\t});\n\t\t},\n\t\t[ setUsuario ]\n\t);\n\n\tconst handleChange = (event, newValue) => {\n\t\tsetValue(newValue);\n\t};\n\n\tconst toggleModal = () => {\n\t\tsetOpen(true);\n\t\tif (accion !== 'registrar') {\n\t\t\tsetUsuario(datos);\n\t\t}\n\t};\n\t\n\tconst onCloseModal = () => {\n\t\tsetOpen(false);\n\t\tlimpiarCampos();\n\t};\n\n\tconst obtenerAccesos = (event, departamento, subDepartamentos) => {\n        const { name, checked } = event.target;\n        setUsuario({\n\t\t\t...usuario, accesos:{ ...usuario.accesos, \n\t\t\t\t[departamento]: {...usuario.accesos[departamento], \n\t\t\t\t\t[subDepartamentos]: {...usuario.accesos[departamento][subDepartamentos], [name]: checked }}\n\t\t\t}\n\t\t});\n\t};\n\n\t/* Mutations */\n\tconst [ crearUsuario ] = useMutation(CREAR_USUARIO);\n\tconst [ actualizarUsuario ] = useMutation(ACTUALIZAR_USUARIO);\n\tconst saveData = async () => {\n\t\tif (accion === 'registrar') {\n\t\t\tif (\n\t\t\t\t!usuario.nombre ||\n\t\t\t\t!usuario.password ||\n\t\t\t\t!usuario.repeatPassword ||\n\t\t\t\t!usuario.telefono ||\n\t\t\t\t!usuario.email\n\t\t\t) {\n\t\t\t\tsetError({ error: true, message: 'Este campo es requerido' });\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (usuario.password !== usuario.repeatPassword) {\n\t\t\t\tsetError({ error: true, message: 'Las contraseñas no coinciden' });\n\t\t\t\treturn;\n\t\t\t}\n\t\t} else {\n\t\t\tif (!usuario.nombre || !usuario.telefono || !usuario.email) {\n\t\t\t\tsetError({ error: true, message: 'Este campo es requerido' });\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\tsetLoading(true);\n\t\ttry {\n\t\t\tif (accion === 'registrar') {\n\t\t\t\tusuario.numero_usuario = numerosRandom(100000000, 999999999);\n\t\t\t\tusuario.empresa = sesion.empresa._id;\n\t\t\t\tusuario.sucursal = sesion.sucursal._id;\n\t\t\t\tusuario.turno_en_caja_activo = false;\n\t\t\t\tconst input = usuario;\n\t\t\t\tawait crearUsuario({\n\t\t\t\t\tvariables: {\n\t\t\t\t\t\tinput\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tconst { numero_usuario, _id, sucursal, empresa, turno_en_caja_activo, estado_usuario, ...input } = usuario;\n\t\t\t\tawait actualizarUsuario({\n\t\t\t\t\tvariables: {\n\t\t\t\t\t\tinput: input,\n\t\t\t\t\t\tid: usuario._id\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\tsetUpdate(!update);\n\t\t\tsetAlert({ message: '¡Listo!', status: 'success', open: true });\n\t\t\tsetError({ error: false, message: '' });\n\t\t\tsetLoading(false);\n\t\t\tonCloseModal();\n\t\t} catch (error) {\n\t\t\tsetAlert({ message: 'Hubo un error en el servidor', status: 'error', open: true });\n\t\t\tsetLoading(false);\n\t\t}\n\t};\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<SnackBarMessages alert={alert} setAlert={setAlert} />\n\t\t\t{accion === 'registrar' ? (\n\t\t\t\t<Button color=\"primary\" variant=\"contained\" size=\"large\" onClick={toggleModal}>\n\t\t\t\t\t<Add /> Nuevo Usuario\n\t\t\t\t</Button>\n\t\t\t) : (\n\t\t\t\t<IconButton onClick={toggleModal}>\n\t\t\t\t\t<Edit />\n\t\t\t\t</IconButton>\n\t\t\t)}\n\t\t\t<Dialog open={open} onClose={onCloseModal} fullWidth maxWidth=\"md\">\n\t\t\t\t<Box className={classes.root}>\n\t\t\t\t\t<BackdropComponent loading={loading} setLoading={setLoading} />\n\t\t\t\t\t<AppBar position=\"static\" color=\"default\" elevation={0}>\n\t\t\t\t\t\t<Tabs\n\t\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\tvariant=\"scrollable\"\n\t\t\t\t\t\t\tscrollButtons=\"on\"\n\t\t\t\t\t\t\tindicatorColor=\"primary\"\n\t\t\t\t\t\t\ttextColor=\"primary\"\n\t\t\t\t\t\t\taria-label=\"scrollable force tabs example\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Tab\n\t\t\t\t\t\t\t\tlabel=\"Información básica\"\n\t\t\t\t\t\t\t\ticon={<img src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/perfil.svg' alt=\"icono perfil\" className={classes.iconSvg} />}\n\t\t\t\t\t\t\t\t{...a11yProps(0)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Tab\n\t\t\t\t\t\t\t\tlabel=\"Permisos\"\n\t\t\t\t\t\t\t\ticon={<img src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/permisos.svg' alt=\"icono factura\" className={classes.iconSvg} />}\n\t\t\t\t\t\t\t\t{...a11yProps(1)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Box ml={58} mt={3} >\n\t\t\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"secondary\" onClick={onCloseModal} size=\"large\">\n\t\t\t\t\t\t\t\t\t\t<CloseIcon />\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Tabs>\n\t\t\t\t\t</AppBar>\n\t\t\t\t\t<TabPanel value={value} index={0}>\n\t\t\t\t\t\t<Box p={2}>\n\t\t\t\t\t\t\t<FormularioUsuario accion={accion} />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</TabPanel>\n\t\t\t\t\t<TabPanel value={value} index={1}>\n\t\t\t\t\t\t<AsignarPermisos \n\t\t\t\t\t\t\tarregloAccesos={usuario.accesos}\n\t\t\t\t\t\t\tobtenerAccesos={obtenerAccesos}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</TabPanel>\n\t\t\t\t</Box>\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\tonClick={saveData}\n\t\t\t\t\t\tsize=\"large\"\n\t\t\t\t\t\tstartIcon={<DoneIcon />}\n\t\t\t\t\t>\n\t\t\t\t\t\tGuardar\n\t\t\t\t\t</Button>\n\t\t\t\t</DialogActions>\n\t\t\t</Dialog>\n\t\t</Fragment>\n\t);\n}\n","import React, { useContext, useEffect, useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport { Table, TableBody, TableCell, TableContainer, TableHead, TablePagination, TableRow } from '@material-ui/core';\nimport { Box, Button, CircularProgress, Dialog, DialogActions, Divider, Grid } from '@material-ui/core';\nimport { DialogContent, DialogTitle, IconButton, Typography, Avatar, Switch } from '@material-ui/core';\nimport CrearUsario from './CrearUsuario';\nimport ErrorPage from '../../../../components/ErrorPage';\nimport { Dehaze, Delete } from '@material-ui/icons';\nimport { UsuarioContext } from '../../../../context/Catalogos/usuarioContext';\n\nimport { useQuery, useMutation } from '@apollo/client';\nimport { OBTENER_USUARIOS, ACTUALIZAR_USUARIO } from '../../../../gql/Catalogos/usuarios';\n\nconst columns = [\n\t{ id: 1, label: 'No. Usuario', minWidth: 100 },\n\t{ id: 3, label: 'Nombre', minWidth: 150 },\n\t{ id: 5, label: 'Correo', minWidth: 150 },\n\t{ id: 7, label: 'Estado', minWidth: 100 },\n\t{ id: 8, label: 'Detalles', minWidth: 50, align: 'right' },\n\t// { id: 9, label: 'Editar', minWidth: 50, align: 'right'},\n\t// { id: 10, label: 'Eliminar', minWidth: 50, align: 'right' }\n];\n\nconst useStyles = makeStyles({\n\troot: {\n\t\twidth: '100%'\n\t},\n\tcontainer: {\n\t\tmaxHeight: '70vh'\n\t},\n\tavatar: {\n\t\twidth: 130,\n\t\theight: 130\n\t}\n});\n\nexport default function ListaUsuarios({ sucursal, filtro }) {\n\tconst classes = useStyles();\n\tconst permisosUsuario = JSON.parse(localStorage.getItem('sesionCafi'));\n\tconst { update } = useContext(UsuarioContext);\n\tconst [ page, setPage ] = useState(0);\n\tconst [ rowsPerPage, setRowsPerPage ] = useState(10);\n\n\t/* Queries */\n\tconst { loading, data, error, refetch } = useQuery(OBTENER_USUARIOS, {\n\t\tvariables: { sucursal, filtro }\n\t});\n\n\tuseEffect(\n\t\t() => {\n\t\t\trefetch();\n\t\t},\n\t\t[ update, refetch ]\n\t);\n\n\tconst handleChangePage = (event, newPage) => {\n\t\tsetPage(newPage);\n\t};\n\n\tconst handleChangeRowsPerPage = (event) => {\n\t\tsetRowsPerPage(+event.target.value);\n\t\tsetPage(0);\n\t};\n\n\tif (loading)\n\t\treturn (\n\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" height=\"30vh\">\n\t\t\t\t<CircularProgress />\n\t\t\t</Box>\n\t\t);\n\tif (error) {\n\t\treturn <ErrorPage error={error} />;\n\t}\n\n\tconst { obtenerUsuarios } = data;\n\n\treturn (\n\t\t<Paper className={classes.root}>\n\t\t\t<TableContainer className={classes.container}>\n\t\t\t\t<Table stickyHeader aria-label=\"sticky table\">\n\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t{columns.map((column) => (\n\t\t\t\t\t\t\t\t<TableCell key={column.id} align={column.align}>\n\t\t\t\t\t\t\t\t\t{column.label}\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t{permisosUsuario.accesos.catalogos.usuarios.editar === false ? (null):(\n\t\t\t\t\t\t\t\t<TableCell key={9} align={'right'}>\n\t\t\t\t\t\t\t\t\tEditar\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{permisosUsuario.accesos.catalogos.usuarios.eliminar === false ? (null):(\n\t\t\t\t\t\t\t\t<TableCell key={10} align={'right'}>\n\t\t\t\t\t\t\t\t\tEliminar\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t</TableHead>\n\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t{obtenerUsuarios\n\t\t\t\t\t\t\t.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\n\t\t\t\t\t\t\t.map((row, index) => {\n\t\t\t\t\t\t\t\treturn <RowsRender key={index} datos={row} />;\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t</TableBody>\n\t\t\t\t</Table>\n\t\t\t</TableContainer>\n\t\t\t<TablePagination\n\t\t\t\trowsPerPageOptions={[]}\n\t\t\t\tcomponent=\"div\"\n\t\t\t\tcount={obtenerUsuarios.length}\n\t\t\t\trowsPerPage={rowsPerPage}\n\t\t\t\tpage={page}\n\t\t\t\tonChangePage={handleChangePage}\n\t\t\t\tonChangeRowsPerPage={handleChangeRowsPerPage}\n\t\t\t/>\n\t\t</Paper>\n\t);\n}\n\nconst RowsRender = ({ datos }) => {\n\tconst permisosUsuario = JSON.parse(localStorage.getItem('sesionCafi'));\n\n\tconst [ openDetalles, setOpenDetalles ] = useState(false);\n\tconst { update, setUpdate } = useContext(UsuarioContext);\n\tconst [ loading, setLoading ] = useState(false);\n\n\tconst handleDetalles = () => setOpenDetalles(!openDetalles);\n\n\tconst [ actualizarUsuario ] = useMutation(ACTUALIZAR_USUARIO);\n\n\tconst cambiarEstado = async (e) => {\n\t\tsetLoading(true);\n\n\t\ttry {\n\t\t\tawait actualizarUsuario({\n\t\t\t\tvariables: {\n\t\t\t\t\tinput: {\n\t\t\t\t\t\testado_usuario: e.target.checked\n\t\t\t\t\t},\n\t\t\t\t\tid: datos._id\n\t\t\t\t}\n\t\t\t});\n\t\t\tsetUpdate(!update);\n\t\t\tsetLoading(false);\n\t\t} catch (error) {\n\t\t\tsetLoading(false);\n\t\t}\n\t};\n\n\treturn (\n\t\t<TableRow hover role=\"checkbox\" tabIndex={-1}>\n\t\t\t<TableCell>\n\t\t\t\t<Typography>{datos.numero_usuario}</Typography>\n\t\t\t</TableCell>\n\t\t\t<TableCell>\n\t\t\t\t<Typography>{datos.nombre}</Typography>\n\t\t\t</TableCell>\n\t\t\t<TableCell>\n\t\t\t\t<Typography>{datos.email}</Typography>\n\t\t\t</TableCell>\n\t\t\t<TableCell>\n\t\t\t\t{loading ? (\n\t\t\t\t\t<CircularProgress size={30} />\n\t\t\t\t) : (\n\t\t\t\t\t<Switch\n\t\t\t\t\t\tchecked={datos.estado_usuario}\n\t\t\t\t\t\tonChange={cambiarEstado}\n\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t</TableCell>\n\t\t\t<TableCell width={50}>\n\t\t\t\t<ModalDetalles openDetalles={openDetalles} handleDetalles={handleDetalles} datos={datos} />\n\t\t\t</TableCell>\n\t\t\t{permisosUsuario.accesos.catalogos.usuarios.editar === false ? (null):(\n\t\t\t\t<TableCell width={50}>\n\t\t\t\t\t<CrearUsario accion=\"actualizar\" datos={datos} />\n\t\t\t\t</TableCell>\n\t\t\t)}\n\t\t\t{permisosUsuario.accesos.catalogos.usuarios.eliminar === false ? (null):(\n\t\t\t\t<TableCell width={50}>\n\t\t\t\t\t<IconButton color=\"secondary\">\n\t\t\t\t\t\t<Delete />\n\t\t\t\t\t</IconButton>\n\t\t\t\t</TableCell>\n\t\t\t)}\n\t\t\n\t\t</TableRow>\n\t);\n};\n\nconst ModalDetalles = ({ handleDetalles, openDetalles, datos }) => {\n\tconst classes = useStyles();\n\treturn (\n\t\t<div>\n\t\t\t<IconButton onClick={handleDetalles}>\n\t\t\t\t<Dehaze />\n\t\t\t</IconButton>\n\t\t\t<Dialog open={openDetalles} onClose={handleDetalles} fullWidth maxWidth=\"md\">\n\t\t\t\t<DialogTitle>{'Información completa del cliente'}</DialogTitle>\n\t\t\t\t<DialogContent>\n\t\t\t\t\t<Box mt={3}>\n\t\t\t\t\t\t<Typography variant=\"h6\">Información básica</Typography>\n\t\t\t\t\t\t<Divider />\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box display=\"flex\">\n\t\t\t\t\t\t<Box mt={3} height={120} width={120} display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t<Avatar className={classes.avatar} src={datos.imagen} />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t<b>Número de usuario: </b>\n\t\t\t\t\t\t\t\t{datos.numero_usuario}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t<b>Nombre: </b>\n\t\t\t\t\t\t\t\t{datos.nombre}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t<b>Correo: </b>\n\t\t\t\t\t\t\t\t{datos.email ? datos.email : ' -'}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t<b>Telefono: </b>\n\t\t\t\t\t\t\t\t{datos.telefono ? datos.telefono : ' -'}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t<b>Celular: </b>\n\t\t\t\t\t\t\t\t{datos.celular ? datos.celular : ' -'}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t<b>Estado del usuario: </b>\n\t\t\t\t\t\t\t\t{datos.estado_usuario ? 'Activo' : 'Inactivo'}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t\t<Grid item md={6}>\n\t\t\t\t\t\t\t<Box mt={3}>\n\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\t<b>Dirección</b>\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t<Divider />\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box display=\"flex\">\n\t\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\t\t<b>Calle: </b>\n\t\t\t\t\t\t\t\t\t\t{datos.direccion.calle ? datos.direccion.calle : ' -'}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\t\t<b>No. Exterior: </b>\n\t\t\t\t\t\t\t\t\t\t{datos.direccion.no_ext ? datos.direccion.no_ext : ' -'}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\t\t<b>No. Interior: </b>\n\t\t\t\t\t\t\t\t\t\t{datos.direccion.no_int ? datos.direccion.no_int : ' -'}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\t\t<b>Código postal: </b>\n\t\t\t\t\t\t\t\t\t\t{datos.direccion.codigo_postal ? datos.direccion.codigo_postal : ' -'}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\t\t<b>Colonia: </b>\n\t\t\t\t\t\t\t\t\t\t{datos.direccion.colonia ? datos.direccion.colonia : ' -'}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\t\t<b>Municipio: </b>\n\t\t\t\t\t\t\t\t\t\t{datos.direccion.municipio ? datos.direccion.municipio : ' -'}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\t\t<b>Localidad: </b>\n\t\t\t\t\t\t\t\t\t\t{datos.direccion.localidad ? datos.direccion.localidad : ' -'}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\t\t<b>Estado: </b>\n\t\t\t\t\t\t\t\t\t\t{datos.direccion.estado ? datos.direccion.estado : ' -'}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\t\t<b>Pais: </b>\n\t\t\t\t\t\t\t\t\t\t{datos.direccion.pais ? datos.direccion.pais : ' -'}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t</DialogContent>\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Button onClick={handleDetalles} color=\"primary\" variant=\"contained\" size=\"large\">\n\t\t\t\t\t\tCerrar\n\t\t\t\t\t</Button>\n\t\t\t\t</DialogActions>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n};\n","import React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { Search } from '@material-ui/icons';\nimport Slide from '@material-ui/core/Slide';\nimport { Box, Paper, InputBase, IconButton } from '@material-ui/core';\nimport ListaUsuarios from './ListaUsuario';\nimport CrearUsuario from './CrearUsuario';\nimport { UsuarioProvider } from '../../../../context/Catalogos/usuarioContext';\n\nconst useStyles = makeStyles((theme) => ({\n\tappBar: {\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n\ticon: {\n\t\twidth: 100\n\t},\n\troot: {\n\t\tdisplay: 'flex',\n\t\tpaddingLeft: theme.spacing(2)\n\t}\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function Usuarios() {\n\tconst classes = useStyles();\n\tconst permisosUsuario = JSON.parse(localStorage.getItem('sesionCafi'));\n\n\tconst [ open, setOpen ] = React.useState(false);\n\tconst [ filtro, setFiltro ] = useState('');\n\tconst [ values, setValues ] = useState('');\n\tconst sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\n\tconst handleClickOpen = () => {\n\t\tsetOpen(true);\n\t};\n\n\tconst handleClose = () => {\n\t\tsetOpen(false);\n\t};\n\n\tconst pressEnter = (e) => {\n\t\tif (e.key === 'Enter') setFiltro(e.target.defaultValue);\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<UsuarioProvider>\n\t\t\t\t<Button fullWidth onClick={handleClickOpen}>\n\t\t\t\t\t<Box display=\"flex\" flexDirection=\"column\">\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t<img src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/usuarios.svg' alt=\"icono numero calzado\" className={classes.icon} />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\tUsuarios\n\t\t\t\t\t</Box>\n\t\t\t\t</Button>\n\t\t\t\t<Dialog fullScreen open={open} onClose={handleClose} TransitionComponent={Transition}>\n\t\t\t\t\t<AppBar className={classes.appBar}>\n\t\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t\t<Typography variant=\"h6\" className={classes.title}>\n\t\t\t\t\t\t\t\tUsuarios\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Box m={1}>\n\t\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"secondary\" onClick={handleClose} size=\"large\">\n\t\t\t\t\t\t\t\t\t<CloseIcon style={{fontSize: 30}} />\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Toolbar>\n\t\t\t\t\t</AppBar>\n\n\t\t\t\t\t<Box m={3} display=\"flex\" justifyContent=\"space-between\">\n\t\t\t\t\t\t<Box mr={5} minWidth=\"70%\">\n\t\t\t\t\t\t\t<Paper className={classes.root}>\n\t\t\t\t\t\t\t\t<InputBase\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\tplaceholder=\"Buscar cliente...\"\n\t\t\t\t\t\t\t\t\tonChange={(e) => setValues(e.target.value)}\n\t\t\t\t\t\t\t\t\tonKeyPress={pressEnter}\n\t\t\t\t\t\t\t\t\tvalue={values}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<IconButton onClick={() => setFiltro(values)}>\n\t\t\t\t\t\t\t\t\t<Search />\n\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t</Paper>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t{permisosUsuario.accesos.catalogos.usuarios.agregar === false ? (null):(\n\t\t\t\t\t\t\t<CrearUsuario accion=\"registrar\" datos={undefined} />\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box mx={4}>\n\t\t\t\t\t\t<ListaUsuarios sucursal={sesion.sucursal._id} filtro={filtro} />\n\t\t\t\t\t</Box>\n\t\t\t\t</Dialog>\n\t\t\t</UsuarioProvider>\n\t\t</div>\n\t);\n}\n","import React, { createContext, useState } from 'react';\n\nexport const CreateDepartamentosContext = createContext();\n\nexport const DepartamentosProvider = ({ children }) => {\n    const [data, setData] = useState({\n\t\tnombre_departamentos:''\n\t});\n    const [ update, setUpdate ] = useState(false);\n    const [ error, setError ] = useState(false);\n    const [ accion, setAccion ] = useState(true);\n    const [ openRegistro, setOpenRegistro ] = useState(false);\n    const [ idDepartamento, setIdDepartamento ] = useState(\"\");\n    const [ alert, setAlert ] = useState({ message: '', status: '', open: false });\n    const [  loading, setLoading ] = useState(false);\n\n\n\treturn (\n\t\t<CreateDepartamentosContext.Provider value={\n            { \n                data, \n                setData,\n                update,\n                setUpdate,\n                error,\n                setError,\n                openRegistro,\n                setOpenRegistro,\n                accion,\n                setAccion,\n                idDepartamento, \n                setIdDepartamento,\n                alert,\n                setAlert,\n                loading,\n                setLoading\n            }\n        }>\n\t\t\t{children}\n\t\t</CreateDepartamentosContext.Provider>\n\t);\n};\n","import React, { useState, useEffect, useContext } from 'react';\nimport { \n    Paper, \n    makeStyles, \n    Table, \n    TableBody, \n    TableCell, \n    TableContainer, \n    TableHead, \n    TableRow,\n\tIconButton,\n\tTablePagination,\n\tDialog,\n\tDialogTitle,\n\tDialogActions,\n\tButton\n} from '@material-ui/core/';\n \nimport { Delete, Edit, Close } from '@material-ui/icons';\n\nimport { useQuery, useMutation } from '@apollo/client';\nimport { OBTENER_DEPARTAMENTOS, ELIMINAR_DEPARTAMENTO } from '../../../../gql/Catalogos/departamentos';\n// import ContainerRegistroAlmacen from './RegistroDepartamento';\n import { CreateDepartamentosContext } from '../../../../context/Catalogos/Departamentos';\n\nconst useStyles = makeStyles((theme) => ({\n\troot: { \n\t\twidth: '100%'\n\t},\n\tpaper: {\n\t\twidth: '100%',\n\t\tmarginBottom: theme.spacing(2)\n\t}\n}));\n\nexport default function TablaDepartamentos() {\n\tconst classes = useStyles();\n\tconst [ page, setPage ] = useState(0);\n\tconst [ rowsPerPage, setRowsPerPage ] = useState(8);\n\tconst [open, setOpen] = useState(false);\n\tconst sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\tlet obtenerDepartamentos = [];\n\n\tconst { update, setAccion, idDepartamento,setIdDepartamento, setData, setAlert, setLoading } = useContext(CreateDepartamentosContext);\n\tconst [ eliminarDepartamento ] = useMutation(ELIMINAR_DEPARTAMENTO);\n\t/* Queries */\n\tconst { data, refetch } = useQuery(OBTENER_DEPARTAMENTOS,{\n\t\tvariables: {\n\t\t\tempresa: sesion.empresa._id,\n\t\t\tsucursal: sesion.sucursal._id\n\t\t}\n\t});\t\n\n\tconst handleModal = () => setOpen(!open);\n\tuseEffect(\n\t\t() => {\n\t\t\trefetch();\n\t\t},\n\t\t[ update, refetch ]\n\t);\n\n\tconst handleDelete = async () => {\n   \n\t\tsetLoading(true);\n\t\ttry {\n            const resultado = await eliminarDepartamento({\n                variables: {\n                    id: idDepartamento\n                }\n            });\n\n\t\t\tif(resultado.data.eliminarDepartamento.message === 'false'){\n\t\t\t\tsetAlert({ message: 'Departamento eliminado con exito', status: 'success', open: true });\n\t\t\t}else{\n\t\t\t\tsetAlert({ message: resultado.data.eliminarDepartamento.message, status: 'error', open: true });\n\t\t\t};\n\n\t\t\trefetch();\n\t\t\tsetLoading(false);\n\t\t\tsetOpen(false)\n\t\t\tsetIdDepartamento('');\n\t\t\n\t\t} catch (error) {\n\t\t\tconsole.log(error);\n\t\t\tsetAlert({ message: 'Hubo un error', status: 'error', open: true });\n\t\t\tsetLoading(false);\n\t\t}\n\t};\n\n\tconst handleChangePage = (event, newPage) => {\n\t\tsetPage(newPage);\n\t};\n\n\tconst handleChangeRowsPerPage = (event) => {\n\t\tsetRowsPerPage(parseInt(event.target.value, 10));\n\t\tsetPage(0);\n\t};\n\n\tif(data){\n\t\tobtenerDepartamentos = data.obtenerDepartamentos\n\t}\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Paper className={classes.paper}>\n\t\t\t\t<TableContainer>\n\t\t\t\t\t<Table\n\t\t\t\t\t\tclassName={classes.table}\n\t\t\t\t\t\taria-labelledby=\"tableTitle\"\n\t\t\t\t\t\tsize=\"medium\"\n\t\t\t\t\t\taria-label=\"enhanced table\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t<TableCell>Departamentos</TableCell>\n\t\t\t\t\t\t\t\t{sesion.accesos.catalogos.departamentos.editar === false ? (null):(\n\t\t\t\t\t\t\t\t\t<TableCell padding=\"default\">Editar</TableCell>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t{sesion.accesos.catalogos.departamentos.eliminar === false ? (null):(\n\t\t\t\t\t\t\t\t\t<TableCell padding=\"default\">Eliminar</TableCell>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t</TableHead>\n\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t{obtenerDepartamentos?.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)?.map((row, index) => {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<TableRow hover role=\"checkbox\" tabIndex={-1} key={row._id}selected={idDepartamento === row._id ? true : false}>\n\t\t\t\t\t\t\t\t\t\t\t<TableCell>{row.nombre_departamentos}</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t{sesion.accesos.catalogos.departamentos.editar === false ?(null):(\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell padding=\"checkbox\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{idDepartamento === row._id ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<IconButton onClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetIdDepartamento(\"\");\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetData({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tnombre_departamentos: \"\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}); \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Close />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<IconButton onClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetAccion(false)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetData({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tnombre_departamentos: row.nombre_departamentos\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetIdDepartamento(row._id);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Edit />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t{sesion.accesos.catalogos.departamentos.eliminar === false ?(null):(\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell padding=\"checkbox\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<IconButton onClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetIdDepartamento(row._id);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleModal();\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Delete />\n\t\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t</Table>\n\t\t\t\t</TableContainer>\n\t\t\t\t<TablePagination\n\t\t\t\t\trowsPerPageOptions={[]}\n\t\t\t\t\tcomponent=\"div\"\n\t\t\t\t\tcount={obtenerDepartamentos.length}\n\t\t\t\t\trowsPerPage={rowsPerPage}\n\t\t\t\t\tpage={page}\n\t\t\t\t\tonChangePage={handleChangePage}\n\t\t\t\t\tonChangeRowsPerPage={handleChangeRowsPerPage}\n\t\t\t\t/>\n\t\t\t</Paper>\n\t\t\t<Modal handleModal={handleModal} openModal={open} handleDelete={handleDelete} />\n\t\t</div>\n\t);\n}\n\n\nconst Modal = ({ handleModal, openModal, handleDelete }) => {\n\treturn (\n\t\t<div>\n\t\t\t<Dialog open={openModal} onClose={handleModal}>\n\t\t\t\t<DialogTitle>{'¿Seguro que quieres eliminar esto?'}</DialogTitle>\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Button onClick={handleModal} color=\"primary\">\n\t\t\t\t\t\tCancelar\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button color=\"secondary\" autoFocus variant=\"contained\" onClick={handleDelete}>\n\t\t\t\t\t\tOK\n\t\t\t\t\t</Button>\n\t\t\t\t</DialogActions>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n};\n","import React, { useState, useContext } from 'react';\nimport { Box, Button, TextField } from '@material-ui/core';\nimport { Add } from '@material-ui/icons';\nimport TablaDepartamentos from './ListaDepartamentos';\nimport { REGISTRAR_DEPARTAMENTO,  ACTUALIZAR_DEPARTAMENTO  } from '../../../../gql/Catalogos/departamentos';\nimport { useMutation } from '@apollo/client';\nimport { CreateDepartamentosContext } from '../../../../context/Catalogos/Departamentos';\nimport SnackBarMessages from '../../../../components/SnackBarMessages';\nimport BackdropComponent from '../../../../components/Layouts/BackDrop';\nimport { cleanTypenames } from '../../../../config/reuserFunctions';\n\nexport default function RegistroDepartamentos() {\n\tconst { data, setData, update, setUpdate, error, setError, accion, setAccion, idDepartamento, setIdDepartamento , setLoading, setAlert, loading, alert} = useContext(CreateDepartamentosContext);\n\tconst sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\n\tconst obtenerDatos = (e) => {\n\t\tsetData({\n\t\t\t...data,\n\t\t\t[e.target.name]: e.target.value\n\t\t})\n\t}\n\n\tconst [ CrearDepartamentos ] = useMutation(REGISTRAR_DEPARTAMENTO);\n\tconst [ ActualzarDepartamentos ] = useMutation(ACTUALIZAR_DEPARTAMENTO);\n\n\n\n\tconst saveData = async () => {\n\t\ttry {\n\t\t\tif(!data.nombre_departamentos){\n\t\t\t\tsetError(true);\n\t\t\t    return;\n\t\t\t}else{\n\t\t\t\tconst input = data\n\t\t\t\tif(accion){\n\t\t\t\t\tif (sesion.accesos.catalogos.departamentos.agregar === false) {\n\t\t\t\t\t\treturn setAlert({ message: '¡Lo sentimos no tienes autorización para esta acción!', status: 'error', open: true });\n\t\t\t\t\t}else{\n\t\t\t\t\t\tawait CrearDepartamentos({\n\t\t\t\t\t\t\tvariables: {\n\t\t\t\t\t\t\t\tinput,\n\t\t\t\t\t\t\t\tempresa: sesion.empresa._id,\n\t\t\t\t\t\t\t\tsucursal: sesion.sucursal._id\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tif (sesion.accesos.catalogos.departamentos.editar === false) {\n\t\t\t\t\t\treturn setAlert({ message: '¡Lo sentimos no tienes autorización para esta acción!', status: 'error', open: true });\n\t\t\t\t\t}else{\n\t\t\t\t\t\tconst inputActualizado = cleanTypenames(input);\n\t\t\t\t\t\tawait ActualzarDepartamentos({\n\t\t\t\t\t\t\tvariables: {\n\t\t\t\t\t\t\t\tinput: inputActualizado,\n\t\t\t\t\t\t\t\tid: idDepartamento\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}) \n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tsetUpdate(!update);\n\t\t\t\tsetAccion(true)\n\t\t\t\tsetIdDepartamento(\"\");\n\t\t\t\tsetData({\n\t\t\t\t\tnombre_departamentos: \"\"\n\t\t\t\t});\n                setAlert({ message: '¡Listo!', status: 'success', open: true });\n                setError(false);\n                setLoading(false);\n\t\t\t}\n\t\t} catch (error) {\n\t\t}\n\t}\n\n\treturn (\n\t\t<Box>\n\t\t\t<SnackBarMessages alert={alert} setAlert={setAlert} />\n\t\t\t<BackdropComponent loading={loading} setLoading={setLoading} />\n\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" my={2}>\n\t\t\t\t<TextField\n\t\t\t\t\tid=\"outlined-error-helper-text\"\n\t\t\t\t\tlabel=\"Nombre departamento\"\n\t\t\t\t\tvalue={data.nombre_departamentos}\n\t\t\t\t\tname=\"nombre_departamentos\"\n\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\tsize=\"small\"\n                    fullWidth\n\t\t\t\t\tonChange={obtenerDatos}\n\t\t\t\t\terror={error}\n\t\t\t\t/>\n\t\t\t\t<Box ml={1} />\n\t\t\t\t<Button color=\"primary\" variant=\"contained\" size=\"large\" disableElevation onClick={saveData} >\n\t\t\t\t\t<Add />Guardar\n\t\t\t\t</Button>\n\t\t\t</Box>\n\t\t\t<TablaDepartamentos  />\n\t\t</Box>\n\t); \n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport CloseIcon from '@material-ui/icons/Close';\nimport Slide from '@material-ui/core/Slide';\nimport { Box, Container } from '@material-ui/core';\nimport RegistroDepartamentos from './RegistroDepartamento';\nimport { DepartamentosProvider } from '../../../../context/Catalogos/Departamentos';\n\nconst useStyles = makeStyles((theme) => ({\n\tappBar: {\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n\ticon: {\n\t\twidth: 100\n\t}\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function Departamentos() {\n\tconst classes = useStyles();\n\tconst [ open, setOpen ] = React.useState(false);\n\n\tconst handleClickOpen = () => {\n\t\tsetOpen(true);\n\t};\n\n\tconst handleClose = () => {\n\t\tsetOpen(false);\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<DepartamentosProvider>\n\t\t\t\t<Button fullWidth onClick={handleClickOpen}>\n\t\t\t\t\t<Box display=\"flex\" flexDirection=\"column\">\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t<img src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/departamentos.svg' alt=\"icono numero calzado\" className={classes.icon} />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\tDepartamentos\n\t\t\t\t\t</Box>\n\t\t\t\t</Button>\n\t\t\t\t<Dialog fullScreen open={open} onClose={handleClose} TransitionComponent={Transition}>\n\t\t\t\t\t<AppBar className={classes.appBar}>\n\t\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t\t<Typography variant=\"h6\" className={classes.title}>\n\t\t\t\t\t\t\t\tDepartamentos\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Box m={1}>\n\t\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"secondary\" onClick={handleClose} size=\"large\">\n\t\t\t\t\t\t\t\t\t<CloseIcon style={{fontSize: 30}} />\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Toolbar>\n\t\t\t\t\t</AppBar>\n\t\t\t\t\t<Box mt={3}>\n\t\t\t\t\t\t<Container maxWidth=\"sm\">\n\t\t\t\t\t\t\t<RegistroDepartamentos accion=\"registrar\" />\n\t\t\t\t\t\t</Container>\n\t\t\t\t\t</Box>\n\t\t\t\t</Dialog>\n\t\t\t</DepartamentosProvider>\n\t\t</div>\n\t);\n} \n","import React, { useState, Fragment } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Accordion, AccordionSummary, AccordionDetails, fade } from '@material-ui/core';\nimport { Box, Button, Divider, IconButton, TextField, CircularProgress, Typography } from '@material-ui/core';\nimport { Add, Delete, Edit, ExpandMore, Close } from '@material-ui/icons';\nimport ErrorPage from '../../../../components/ErrorPage';\nimport SnackBarMessages from '../../../../components/SnackBarMessages';\nimport BackdropComponent from '../../../../components/Layouts/BackDrop';\n \nimport { useQuery, useMutation } from '@apollo/client';\nimport {\n\tOBTENER_CATEGORIAS,\n\tCREAR_CATEGORIA,\n\tCREAR_SUBCATEGORIA,\n\tACTUALIZAR_SUBCATEGORIA,\n\tACTUALIZAR_CATEGORIA, \n\tELIMINAR_CATEGORIA,\n\tELIMINAR_SUBCATEGORIA\n} from '../../../../gql/Catalogos/categorias';\nimport { cleanTypenames } from '../../../../config/reuserFunctions';\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n\t\twidth: '100%'\n\t},\n\tflexGrow: {\n\t\tflexGrow: 1\n\t},\n\tselected: {\n\t\tbackground: fade(theme.palette.secondary.main, 0.1)\n\t}\n}));\n\nexport default function RegistroCategorias() {\n\tconst classes = useStyles();\n\tconst sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\tconst [ categoria, setCategoria ] = useState('');\n\tconst [ toUpdateID, setToUpdateID ] = useState('');\n\tconst [ loadingBackDrop, setLoadingBackDrop ] = useState(false);\n\tconst [ alert, setAlert ] = useState({ message: '', status: '', open: false });\n\n\t/* Queries */\n\tconst { loading, data, error, refetch } = useQuery(OBTENER_CATEGORIAS, {\n\t\tvariables: { empresa: sesion.empresa._id, sucursal: sesion.sucursal._id }\n\t});\n\t/*  Categorias Mutations */\n\tconst [ crearCategoria ] = useMutation(CREAR_CATEGORIA);\n\tconst [ actualizarCategoria ] = useMutation(ACTUALIZAR_CATEGORIA);\n\n\t\n\n\tconst obtenerDatos = (e) => {\n\t\tsetCategoria(e.target.value);\n\t};\n\n\tconst guardarCategoria = async () => {\n\t\tif (!categoria) return;\n\t\tsetLoadingBackDrop(true);\n\t\ttry {\n\t\t\tif (!toUpdateID) {\n\t\t\t\tif (sesion.accesos.catalogos.categorias.agregar === false) {\n\t\t\t\t\tsetLoadingBackDrop(false);\n\t\t\t\t\treturn setAlert({ message: 'Lo sentimos no tienes autorización para esta acción', status: 'error', open: true });\n\t\t\t\t}else{\n\t\t\t\t\tawait crearCategoria({\n\t\t\t\t\t\tvariables: {\n\t\t\t\t\t\t\tinput: {\n\t\t\t\t\t\t\t\tcategoria,\n\t\t\t\t\t\t\t\tempresa: sesion.empresa._id,\n\t\t\t\t\t\t\t\tsucursal: sesion.sucursal._id\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\t\n\t\t\t} else {\n\t\t\t\tif (sesion.accesos.catalogos.categorias.editar === false) {\n\t\t\t\t\tsetLoadingBackDrop(false);\n\t\t\t\t\treturn setAlert({ message: 'Lo sentimos no tienes autorización para esta acción', status: 'error', open: true });\n\t\t\t\t}else{\n\t\t\t\t\tconst categoriaActualizada = cleanTypenames(categoria);\n\t\t\t\t\tawait actualizarCategoria({\n\t\t\t\t\t\tvariables: {\n\t\t\t\t\t\t\tinput: {\n\t\t\t\t\t\t\t\tcategoria: categoriaActualizada\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tidCategoria: toUpdateID\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t\trefetch();\n\t\t\tsetAlert({ message: '¡Listo!', status: 'success', open: true });\n\t\t\tsetLoadingBackDrop(false);\n\t\t\tsetCategoria('');\n\t\t\tsetToUpdateID('');\n\t\t} catch (error) {\n\t\t\tsetAlert({ message: 'Hubo un error', status: 'error', open: true });\n\t\t\tsetLoadingBackDrop(false);\n\t\t}\n\t};\n\tif (loading)\n\t\treturn (\n\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" height=\"30vh\">\n\t\t\t\t<CircularProgress />\n\t\t\t</Box>\n\t\t);\n\tif (error) {\n\t\treturn <ErrorPage error={error} />;\n\t}\n\n\tconst { obtenerCategorias } = data;\n\tconst render_categorias = obtenerCategorias.map((categoria, index) => (\n\t\t<RenderCategorias\n\t\t\tkey={index}\n\t\t\tcategoria={categoria}\n\t\t\tsetToUpdateID={setToUpdateID}\n\t\t\tsetCategoria={setCategoria}\n\t\t\trefetch={refetch}\n\t\t\ttoUpdateID={toUpdateID}\n\t\t/>\n\t));\n\treturn (\n\t\t<div className={classes.root} >\n\t\t\t<SnackBarMessages alert={alert} setAlert={setAlert} />\n\t\t\t<BackdropComponent loading={loadingBackDrop} setLoading={setLoadingBackDrop} />\n\t\t\t<Typography variant=\"h6\">Categorias</Typography>\n\t\t\t<Box display=\"flex\" alignItems=\"center\" mb={2}>\n\t\t\t\t<TextField value={categoria} variant=\"outlined\" size=\"small\" onChange={obtenerDatos} />\n\t\t\t\t<Box ml={1} />\n\t\t\t\t<Button color=\"primary\" variant=\"contained\" size=\"large\" disableElevation onClick={guardarCategoria}>\n\t\t\t\t\t<Add />Guardar\n\t\t\t\t</Button>\n\t\t\t</Box>\n\t\t\t{render_categorias}\n\t\t</div>\n\t);\n}\n\nconst RenderCategorias = ({ categoria, setToUpdateID, setCategoria, refetch, toUpdateID }) => {\n\tconst classes = useStyles();\n\tconst sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\tconst [ subcategoria, setSubcategoria ] = useState('');\n\tconst [ loadingBackDrop, setLoadingBackDrop ] = useState(false);\n\tconst [ alert, setAlert ] = useState({ message: '', status: '', open: false });\n\n\t/*  Subcategorias Mutations */\n\tconst [ crearSubcategoria ] = useMutation(CREAR_SUBCATEGORIA);\n\tconst [ actualizarSubcategoria ] = useMutation(ACTUALIZAR_SUBCATEGORIA);\n\tconst [ eliminarCategoria ] = useMutation(ELIMINAR_CATEGORIA);\n\n\n\tconst render_subcategorias = categoria.subcategorias.map((subcategoria) => (\n\t\t<RenderSubcategorias\n\t\t\tkey={subcategoria._id}\n\t\t\tidCategoria= {categoria._id}\n\t\t\tsubcategoria={subcategoria}\n\t\t\tsetToUpdateID={setToUpdateID}\n\t\t\ttoUpdateID={toUpdateID}\n\t\t\tsetSubcategoria={setSubcategoria}\n\t\t\tsetAlert={setAlert}\n\t\t\trefetch={refetch}\n\t\t/>\n\t));\n\n\tconst obtenerCamposParaActualizar = (event) => {\n\t\n\t\twindow.scrollTo(0,0);\n\t\tevent.stopPropagation();\n\t\tsetToUpdateID(categoria._id);\n\t\tsetCategoria(categoria.categoria);\n\t};\n\n\tconst cancelarUpdate = (event) => {\n\t\tevent.stopPropagation();\n\t\tsetToUpdateID('');\n\t\tsetCategoria('');\n\t};\n\n\tconst obtenerDatos = (e) => {\n\t\tsetSubcategoria(e.target.value);\n\t};\n\n\tconst guardarSubcategoria = async () => {\n\t\tif (!subcategoria) return;\n\t\tsetLoadingBackDrop(true);\n\t\tlet msgAlert = '';\n\t\tlet resp;\n\t\ttry {\n\t\t\tif (!toUpdateID) {\n\t\t\t\tif (sesion.accesos.catalogos.categorias.agregar === false) {\n\t\t\t\t\tsetLoadingBackDrop(false);\n\t\t\t\t\treturn setAlert({ message: 'Lo sentimos no tienes autorización para esta acción', status: 'error', open: true });\n\t\t\t\t}else{\n\t\t\t\t\tresp = await crearSubcategoria({\n\t\t\t\t\t\tvariables: {\n\t\t\t\t\t\t\tinput: {\n\t\t\t\t\t\t\t\tsubcategoria\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tidCategoria: categoria._id\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tmsgAlert = ( resp.data.crearSubcategoria.message === 'false' ) ? { message: '¡Listo!', status: 'success', open: true }: { message: resp.data.crearSubcategoria.message, status: 'error', open: true }\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (sesion.accesos.catalogos.categorias.editar === false) {\n\t\t\t\t\tsetLoadingBackDrop(false);\n\t\t\t\t\treturn setAlert({ message: 'Lo sentimos no tienes autorización para esta acción', status: 'error', open: true });\n\t\t\t\t}else{\n\t\t\t\t\tconst subCategoriaActualizada = cleanTypenames(subcategoria);\n\t\t\t\t\tresp = await actualizarSubcategoria({\n\t\t\t\t\t\tvariables: {\n\t\t\t\t\t\t\tinput: {\n\t\t\t\t\t\t\t\tsubcategoria: subCategoriaActualizada\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tidCategoria: categoria._id,\n\t\t\t\t\t\t\tidSubcategoria: toUpdateID\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tmsgAlert =( resp.data.actualizarSubcategoria.message === 'false' ) ? { message: '¡Listo!', status: 'success', open: true }: { message: resp.data.actualizarSubcategoria.message, status: 'error', open: true }\n\t\t\t\t}\n\t\t\t}\n\t\t\trefetch();\n\t\t\t\n\t\t\tsetAlert(msgAlert);\n\t\t\tsetLoadingBackDrop(false);\n\t\t\tsetSubcategoria('');\n\t\t\tsetToUpdateID('');\n\t\t} catch (error) {\n\t\t\tsetAlert({ message: 'Hubo un error', status: 'error', open: true });\n\t\t\tsetLoadingBackDrop(false);\n\t\t}\n\t};\n\n\tconst handleDelete = async (event) => {\n\t\tevent.stopPropagation()\n\t\ttry {\n\t\t\tconst resp = await eliminarCategoria({\n\t\t\t\tvariables: {\n\t\t\t\t\tidCategoria: categoria._id\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\tlet msgAlert = ( resp.data.eliminarCategoria.message === 'false' ) ? { message: '¡Listo!', status: 'success', open: true }: { message: resp.data.eliminarCategoria.message, status: 'error', open: true }\n\t\t\tsetAlert(msgAlert);\n\t\t\trefetch();\n\t\t\n\t\t} catch (error) {\n\t\t\tsetAlert({ message: 'Hubo un error', status: 'error', open: true });\n\t\t}\n\t};\n\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<SnackBarMessages alert={alert} setAlert={setAlert} />\n\t\t\t<BackdropComponent loading={loadingBackDrop} setLoading={setLoadingBackDrop} />\n\t\t\t<Accordion>\n\t\t\t\t<AccordionSummary\n\t\t\t\t\tclassName={toUpdateID && toUpdateID === categoria._id ? classes.selected : ''}\n\t\t\t\t\texpandIcon={<ExpandMore />}\n\t\t\t\t\taria-label=\"Expand\"\n\t\t\t\t\taria-controls={`categoria-action-${categoria._id}`}\n\t\t\t\t\tid={`categoria-${categoria._id}`}\n\t\t\t\t>\n\t\t\t\t\t<Box display=\"flex\" alignItems=\"center\" width=\"100%\">\n\t\t\t\t\t\t<Typography variant=\"h6\">{categoria.categoria}</Typography>\n\t\t\t\t\t\t<div className={classes.flexGrow} />\n\t\t\t\t\t\t{sesion.accesos.catalogos.categorias.editar === false ?(null):(\n\t\t\t\t\t\t\ttoUpdateID && toUpdateID === categoria._id ? (\n\t\t\t\t\t\t\t\t<IconButton onClick={cancelarUpdate} onFocus={(event) => event.stopPropagation()}>\n\t\t\t\t\t\t\t\t\t<Close />\n\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\tonClick={obtenerCamposParaActualizar}\n\t\t\t\t\t\t\t\t\tonFocus={(event) => event.stopPropagation()}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Edit />\n\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{sesion.accesos.catalogos.categorias.eliminar === false ?(null):(\n\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\tonClick={(event) => handleDelete(event)}\n\t\t\t\t\t\t\t\tonFocus={(event) => handleDelete(event)}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Delete />\n\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Box>\n\t\t\t\t</AccordionSummary>\n\t\t\t\t<AccordionDetails>\n\t\t\t\t\t<Box width=\"100%\">\n\t\t\t\t\t\t<Divider />\n\t\t\t\t\t\t<Box mb={2} />\n\t\t\t\t\t\t<Box ml={5} width=\"100%\" display=\"flex\">\n\t\t\t\t\t\t\t<Typography variant=\"h6\">Subcategorias</Typography>\n\t\t\t\t\t\t\t<Box mr={2} />\n\t\t\t\t\t\t\t<Box display=\"flex\" alignItems=\"center\" mb={2}>\n\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\tvalue={subcategoria}\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\tonChange={obtenerDatos}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<Box ml={1} />\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\tsize=\"large\"\n\t\t\t\t\t\t\t\t\tdisableElevation\n\t\t\t\t\t\t\t\t\tonClick={guardarSubcategoria}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Add />Guardar\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box ml={5}>{render_subcategorias}</Box>\n\t\t\t\t\t</Box>\n\t\t\t\t</AccordionDetails>\n\t\t\t</Accordion>\n\t\t</Fragment>\n\t);\n};\n\nconst RenderSubcategorias = ({ subcategoria,idCategoria, toUpdateID, setToUpdateID, setSubcategoria,setAlert, refetch }) => {\n\tconst sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\tconst classes = useStyles();\n\tconst [ eliminarSubcategoria ] = useMutation(ELIMINAR_SUBCATEGORIA);\n\tconst obtenerCamposParaActualizar = (event) => {\n\t\tevent.stopPropagation();\n\t\tsetToUpdateID(subcategoria._id);\n\t\tsetSubcategoria(subcategoria.subcategoria);\n\t};\n\n\tconst cancelarUpdate = (event) => {\n\t\tevent.stopPropagation();\n\t\tsetToUpdateID('');\n\t\tsetSubcategoria('');\n\t};\n\tconst handleDelete = async (event) => {\n\t\ttry {\n\t\t\tevent.stopPropagation()\n\t\t\tconst resp = await eliminarSubcategoria({\n\t\t\t\tvariables: {\n\t\t\t\t\tidCategoria: idCategoria,\n\t\t\t\t\tidSubcategoria:subcategoria._id\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\tlet msgAlert = ( resp.data.eliminarSubcategoria.message === 'false' ) ? { message: '¡Listo!', status: 'success', open: true }: { message: resp.data.eliminarSubcategoria.message, status: 'error', open: true }\n\t\t\n\t\t\tsetAlert(msgAlert);\n\t\t\t\n\t\t\trefetch();\n\t\t\n\t\t} catch (error) {\n\t\t\tsetAlert({ message: 'Ocurrió un error', status: 'error', open: true });\n\t\t}\n\t};\n\treturn (\n\t\t<Fragment>\n\t\t\t<Box\n\t\t\t\tdisplay=\"flex\"\n\t\t\t\talignItems=\"center\"\n\t\t\t\tborderRadius={3}\n\t\t\t\tpx={1}\n\t\t\t\tclassName={toUpdateID && toUpdateID === subcategoria._id ? classes.selected : ''}\n\t\t\t>\n\t\t\t\t<Typography>{subcategoria.subcategoria}</Typography>\n\t\t\t\t<div className={classes.flexGrow} />\n\t\t\t\t{sesion.accesos.catalogos.categorias.editar === false ?(null):(\n\t\t\t\t\ttoUpdateID && toUpdateID === subcategoria._id ? (\n\t\t\t\t\t\t<IconButton onClick={cancelarUpdate} onFocus={(event) => event.stopPropagation()}>\n\t\t\t\t\t\t\t<Close />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<IconButton onClick={obtenerCamposParaActualizar} onFocus={(event) => event.stopPropagation()}>\n\t\t\t\t\t\t\t<Edit />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t)\n\t\t\t\t)}\n\t\t\t\t{sesion.accesos.catalogos.categorias.eliminar === false ?(null):(\n\t\t\t\t\t<IconButton onClick={(event) => handleDelete(event) }>\n\t\t\t\t\t\t<Delete />\n\t\t\t\t\t</IconButton>\n\t\t\t\t)}\n\t\t\t</Box>\n\t\t\t<Divider />\n\t\t</Fragment>\n\t);\n};\n","import React from 'react'; \nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport CloseIcon from '@material-ui/icons/Close';\nimport Slide from '@material-ui/core/Slide';\nimport { Box, Container } from '@material-ui/core';\nimport RegistroCategorias from './RegistroCategorias';\n\nconst useStyles = makeStyles((theme) => ({\n\tappBar: {\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n\ticon: {\n\t\twidth: 100\n\t}\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function Categorias() {\n\tconst classes = useStyles();\n\tconst [ open, setOpen ] = React.useState(false);\n\n\tconst handleClickOpen = () => {\n\t\tsetOpen(true);\n\t};\n\n\tconst handleClose = () => {\n\t\tsetOpen(false);\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<Button fullWidth onClick={handleClickOpen}>\n\t\t\t\t<Box display=\"flex\" flexDirection=\"column\">\n\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t<img src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/categorias.svg' alt=\"icono numero calzado\" className={classes.icon} />\n\t\t\t\t\t</Box>\n\t\t\t\t\tCategorias\n\t\t\t\t</Box>\n\t\t\t</Button>\n\t\t\t<Dialog fullScreen open={open} onClose={handleClose} TransitionComponent={Transition}>\n\t\t\t\t<AppBar className={classes.appBar}>\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t<Typography variant=\"h6\" className={classes.title}>\n\t\t\t\t\t\t\tCategorias\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Box m={1}>\n\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"secondary\" onClick={handleClose} size=\"large\">\n\t\t\t\t\t\t\t\t<CloseIcon style={{fontSize: 30}} />\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</AppBar>\n\t\t\t\t<Box mt={3}>\n\t\t\t\t\t<Container maxWidth=\"md\">\n\t\t\t\t\t\t<RegistroCategorias />\n\t\t\t\t\t</Container>\n\t\t\t\t</Box>\n\t\t\t</Dialog>\n\t\t</div> \n\t);\n}\n","import React, { useEffect, useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TablePagination from '@material-ui/core/TablePagination';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport { Box, Button, Dialog, DialogActions, DialogTitle, IconButton, TextField, Typography } from '@material-ui/core';\nimport { Close, Delete, Edit } from '@material-ui/icons';\nimport SnackBarMessages from '../../../../components/SnackBarMessages';\n\nimport { useMutation } from '@apollo/client';\nimport { ELIMINAR_COLOR, OBTENER_COLORES } from '../../../../gql/Catalogos/colores';\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n\t\twidth: '100%'\n\t},\n\tpaper: {\n\t\twidth: '100%',\n\t\tmarginBottom: theme.spacing(2)\n\t},\n\tcolor: {\n\t\tdisplay: 'flex',\n\t\talignItems: 'center'\n\t}\n}));\n\nexport default function TablaColores({ datos, toUpdate, setToUpdate, setValues, refetch }) {\n\tconst classes = useStyles();\n\tconst sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\tconst [ page, setPage ] = useState(0);\n\tconst [ rowsPerPage, setRowsPerPage ] = useState(8);\n\tconst [ busqueda, setBusqueda ] = useState('');\n\tconst [ productosFiltrados, setProductosFiltrados ] = useState([]);\n\tconst [ alert, setAlert ] = useState({\n\t\tstatus: '',\n\t\tmessage: '',\n\t\topen: false\n\t});\n\n\tconst handleChangePage = (event, newPage) => {\n\t\tsetPage(newPage);\n\t};\n\n\tconst handleChangeRowsPerPage = (event) => {\n\t\tsetRowsPerPage(parseInt(event.target.value, 10));\n\t\tsetPage(0);\n\t};\n\n\tuseEffect(\n\t\t() => {\n\t\t\tsetProductosFiltrados(\n\t\t\t\tdatos.filter((datos) => {\n\t\t\t\t\treturn datos.nombre.toLowerCase().includes(busqueda.toLowerCase());\n\t\t\t\t})\n\t\t\t);\n\t\t},\n\t\t[ busqueda, datos ]\n\t);\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<SnackBarMessages alert={alert} setAlert={setAlert} />\n\t\t\t<Paper className={classes.paper}>\n\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tplaceholder=\"Buscar...\"\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tonChange={(e) => setBusqueda(e.target.value)}\n\t\t\t\t\t/>\n\t\t\t\t</Box>\n\t\t\t\t<TableContainer>\n\t\t\t\t\t<Table\n\t\t\t\t\t\tclassName={classes.table}\n\t\t\t\t\t\taria-labelledby=\"tableTitle\"\n\t\t\t\t\t\tsize=\"medium\"\n\t\t\t\t\t\taria-label=\"enhanced table\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t<TableCell width={150}>Color</TableCell>\n\t\t\t\t\t\t\t\t<TableCell>Nombre</TableCell>\n\t\t\t\t\t\t\t\t{sesion.accesos.catalogos.colores.editar === false ? (null) : (\n\t\t\t\t\t\t\t\t\t<TableCell padding=\"default\">Editar</TableCell>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t{sesion.accesos.catalogos.colores.eliminar === false ? (null) : (\n\t\t\t\t\t\t\t\t\t<TableCell padding=\"default\">Eliminar</TableCell>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t</TableHead>\n\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t{productosFiltrados\n\t\t\t\t\t\t\t\t.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\n\t\t\t\t\t\t\t\t.map((row, index) => {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<RowsRender\n\t\t\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\t\t\trow={row}\n\t\t\t\t\t\t\t\t\t\t\tsetAlert={setAlert}\n\t\t\t\t\t\t\t\t\t\t\ttoUpdate={toUpdate}\n\t\t\t\t\t\t\t\t\t\t\tsetToUpdate={setToUpdate}\n\t\t\t\t\t\t\t\t\t\t\tsetValues={setValues}\n\t\t\t\t\t\t\t\t\t\t\trefetch={refetch}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t</Table>\n\t\t\t\t</TableContainer>\n\t\t\t\t<TablePagination\n\t\t\t\t\trowsPerPageOptions={[]}\n\t\t\t\t\tcomponent=\"div\"\n\t\t\t\t\tcount={datos.length}\n\t\t\t\t\trowsPerPage={rowsPerPage}\n\t\t\t\t\tpage={page}\n\t\t\t\t\tonChangePage={handleChangePage}\n\t\t\t\t\tonChangeRowsPerPage={handleChangeRowsPerPage}\n\t\t\t\t/>\n\t\t\t</Paper>\n\t\t</div>\n\t);\n}\n\nconst RowsRender = ({ row, setAlert, toUpdate, setToUpdate, setValues, refetch }) => {\n\tconst classes = useStyles();\n\tconst sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\tconst [ openModal, setOpenModal ] = useState(false);\n\n\tconst handleModal = () => setOpenModal(!openModal);\n\n\tconst [ eliminarColor ] = useMutation(ELIMINAR_COLOR, {\n\t\tupdate(cache, { data: { eliminarColor } }) {\n\t\t\ttry {\n\t\t\t\tconst { obtenerColores } = cache.readQuery({\n\t\t\t\t\tquery: OBTENER_COLORES,\n\t\t\t\t\tvariables: { empresa: row.empresa._id }\n\t\t\t\t});\n\n\t\t\t\tcache.writeQuery({\n\t\t\t\t\tquery: OBTENER_COLORES,\n\t\t\t\t\tvariables: { empresa: row.empresa._id },\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tobtenerColores: {\n\t\t\t\t\t\t\t...obtenerColores,\n\t\t\t\t\t\t\teliminarColor\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} catch (error) {\n\t\t\t}\n\t\t}\n\t});\n\n\tconst handleDelete = async () => {\n\t\ttry {\n\t\t\tconst resp = await eliminarColor({\n\t\t\t\tvariables: {\n\t\t\t\t\tid: row._id\n\t\t\t\t}\n\t\t\t});\n\t\t\trefetch(refetch);\n\t\t\tsetAlert({ message: resp.data.eliminarColor.message, status: 'success', open: true });\n\t\t\thandleModal();\n\t\t} catch (error) {\n\t\t\tsetAlert({ message: error.message, status: 'error', open: true });\n\t\t}\n\t};\n\n\tconst onUpdate = (row) => {\n\t\tif (!row) {\n\t\t\tsetToUpdate('');\n\t\t\tsetValues({ nombre: '', hex: '' });\n\t\t\treturn;\n\t\t}\n\t\tsetToUpdate(row._id);\n\t\tsetValues({ nombre: row.nombre, hex: row.hex });\n\t};\n\n\treturn (\n\t\t<TableRow hover role=\"checkbox\" tabIndex={-1} selected={toUpdate === row._id ? true : false}>\n\t\t\t<TableCell className={classes.color}>\n\t\t\t\t<Box mr={1} width={30} height={25} bgcolor={row.hex} borderRadius=\"10%\" />\n\t\t\t\t<Typography>\n\t\t\t\t\t<b>{row.hex}</b>\n\t\t\t\t</Typography>\n\t\t\t</TableCell>\n\t\t\t<TableCell>\n\t\t\t\t<Typography>\n\t\t\t\t\t<b>{row.nombre}</b>\n\t\t\t\t</Typography>\n\t\t\t</TableCell>\n\t\t\t{sesion.accesos.catalogos.colores.editar === false ? (null) : (\n\t\t\t\t<TableCell padding=\"checkbox\">\n\t\t\t\t\t{toUpdate === row._id ? (\n\t\t\t\t\t\t<IconButton onClick={() => onUpdate()}>\n\t\t\t\t\t\t\t<Close />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<IconButton onClick={() => onUpdate(row)}>\n\t\t\t\t\t\t\t<Edit />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t)}\n\t\t\t\t</TableCell>\n\t\t\t)}\n\t\t\t{sesion.accesos.catalogos.colores.eliminar === false ? (null) : (\n\t\t\t\t<TableCell padding=\"checkbox\">\n\t\t\t\t\t<Modal handleModal={handleModal} openModal={openModal} handleDelete={handleDelete} />\n\t\t\t\t</TableCell>\n\t\t\t)}\n\t\t</TableRow>\n\t);\n};\n\nconst Modal = ({ handleModal, openModal, handleDelete }) => {\n\treturn (\n\t\t<div>\n\t\t\t<IconButton color=\"secondary\" onClick={handleModal}>\n\t\t\t\t<Delete />\n\t\t\t</IconButton>\n\t\t\t<Dialog open={openModal} onClose={handleModal}>\n\t\t\t\t<DialogTitle>{'¿Seguro que quieres eliminar esto?'}</DialogTitle>\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Button onClick={handleModal} color=\"primary\">\n\t\t\t\t\t\tCancelar\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button color=\"secondary\" autoFocus variant=\"contained\" onClick={handleDelete}>\n\t\t\t\t\t\tEliminar\n\t\t\t\t\t</Button>\n\t\t\t\t</DialogActions>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n};\n","import React, { useState } from 'react';\nimport { Box, Button, Grid, CircularProgress, TextField, Typography } from '@material-ui/core';\nimport { Add } from '@material-ui/icons';\nimport TablaColores from './ListaColores';\nimport { SketchPicker } from 'react-color'; \nimport SnackBarMessages from '../../../../components/SnackBarMessages';\nimport ErrorPage from '../../../../components/ErrorPage';\nimport { cleanTypenames } from '../../../../config/reuserFunctions';\n\nimport { useQuery, useMutation } from '@apollo/client';\nimport { OBTENER_COLORES, CREAR_COLOR, ACTUALIZAR_COLOR } from '../../../../gql/Catalogos/colores';\n\nexport default function RegistroColores() {\n\tconst [ color, setColor ] = useState({});\n\tconst [ toUpdate, setToUpdate ] = useState('');\n\tconst [ values, setValues ] = useState({ nombre: '', hex: '' });\n\tconst [ alert, setAlert ] = useState({ message: '', status: '', open: false });\n\tconst sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\n\t/* Queries */\n\tconst { loading, data, error, refetch } = useQuery(OBTENER_COLORES, {\n\t\tvariables: { sucursal: sesion.sucursal._id }\n\t});\n\n\t/* Mutations */\n\tconst [ crearColor ] = useMutation(CREAR_COLOR);\n\tconst [ actualizarColor ] = useMutation(ACTUALIZAR_COLOR);\n\n\tconst handleChangeComplete = (color) => {\n\t\tsetColor(color);\n\t\tsetValues({\n\t\t\t...values,\n\t\t\thex: color.hex.toUpperCase()\n\t\t});\n\t};\n\n\tif (loading)\n\t\treturn (\n\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" height=\"30vh\">\n\t\t\t\t<CircularProgress />\n\t\t\t</Box>\n\t\t);\n\tif (error) {\n\t\treturn <ErrorPage error={error} />;\n\t}\n\n\tconst { obtenerColores } = data;\n\n\tconst GuardarDatosBD = async () => {\n\t\tif (!values.nombre || !values.hex) {\n\t\t\treturn;\n\t\t}\n\t\ttry {\n\t\t\tconst colores = values;\n\t\t\tlet msg;\n\t\t\tif (toUpdate) {\n\t\t\t\tif (sesion.accesos.catalogos.colores.editar === false) {\n\t\t\t\t\treturn setAlert({ message: '¡Lo sentimos no tienes autorización para esta acción!', status: 'error', open: true });\n\t\t\t\t}else{\n\t\t\t\t\tconst colorActualizado = cleanTypenames(colores);\n\t\t\t\t\tconst resp = await actualizarColor({\n\t\t\t\t\t\t\tvariables: {\n\t\t\t\t\t\t\t\tinput: {\n\t\t\t\t\t\t\t\t\tnombre: colorActualizado.nombre,\n\t\t\t\t\t\t\t\t\thex: colorActualizado.hex\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tid: toUpdate\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\tmsg = resp.data.actualizarColor.message\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (sesion.accesos.catalogos.colores.agregar === false) {\n\t\t\t\t\treturn setAlert({ message: '¡Lo sentimos no tienes autorización para esta acción!', status: 'error', open: true });\n\t\t\t\t}else{\n\t\t\t\t\t\tawait crearColor({\n\t\t\t\t\t\tvariables: {\n\t\t\t\t\t\t\tinput: {\n\t\t\t\t\t\t\t\tnombre: colores.nombre,\n\t\t\t\t\t\t\t\thex: colores.hex,\n\t\t\t\t\t\t\t\tempresa: sesion.empresa._id,\n\t\t\t\t\t\t\t\tsucursal: sesion.sucursal._id\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\tmsg = '¡Listo!. Color creado.'\n\t\t\t\t}\n\t\t\t}\n\t\t\trefetch();\n\t\t\tsetValues({ nombre: '', hex: '' });\n\t\t\tsetToUpdate('');\n\t\t\n\t\t\tsetAlert({ message: msg, status: 'success', open: true });\n\t\t} catch (error) {\n\t\t\tsetAlert({ message: error.message, status: 'error', open: true });\n\t\t\t\n\t\t}\n\t};\n\t\n\n\treturn (\n\t\t<Box display=\"flex\" justifyContent=\"center\">\n\t\t\t<SnackBarMessages alert={alert} setAlert={setAlert} />\n\t\t\t<Grid container spacing={2}>\n\t\t\t\t<Grid item md={4}>\n\t\t\t\t\t<SketchPicker color={color} onChangeComplete={handleChangeComplete} />\n\t\t\t\t\t<Box mt={2}>\n\t\t\t\t\t\t<Typography>Color seleccionado:</Typography>\n\t\t\t\t\t\t{!values.hex ? (\n\t\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" width={220}>\n\t\t\t\t\t\t\t\t<Typography color=\"secondary\">NINGUNO</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<Box bgcolor={values.hex} height={30} width={220} />\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box my={2} width=\"75%\">\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tlabel=\"Nombre del color\"\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\tvalue={values.nombre}\n\t\t\t\t\t\t\tonChange={(e) => setValues({ ...values, nombre: e.target.value.toUpperCase() })}\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Box my={1} />\n\t\t\t\t\t\t<Button color=\"primary\" variant=\"contained\" size=\"large\" fullWidth onClick={GuardarDatosBD}>\n\t\t\t\t\t\t\t<Add />Guardar\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Box>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item md={7}>\n\t\t\t\t\t<TablaColores\n\t\t\t\t\t\tdatos={obtenerColores}\n\t\t\t\t\t\ttoUpdate={toUpdate}\n\t\t\t\t\t\tsetToUpdate={setToUpdate}\n\t\t\t\t\t\tsetValues={setValues}\n\t\t\t\t\t\trefetch={refetch}\n\t\t\t\t\t/>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t</Box>\n\t);\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport CloseIcon from '@material-ui/icons/Close';\nimport Slide from '@material-ui/core/Slide';\nimport { Box, Container } from '@material-ui/core';\nimport RegistroColores from './RegistroColores';\n\nconst useStyles = makeStyles((theme) => ({\n\tappBar: {\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n\ticon: {\n\t\twidth: 100\n\t}\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function Colores() {\n\tconst classes = useStyles();\n\tconst [ open, setOpen ] = React.useState(false);\n\n\tconst handleClickOpen = () => {\n\t\tsetOpen(true);\n\t};\n\n\tconst handleClose = () => {\n\t\tsetOpen(false);\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<Button fullWidth onClick={handleClickOpen}>\n\t\t\t\t<Box display=\"flex\" flexDirection=\"column\">\n\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t<img src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/colores.svg' alt=\"icono numero calzado\" className={classes.icon} />\n\t\t\t\t\t</Box>\n\t\t\t\t\tColores\n\t\t\t\t</Box>\n\t\t\t</Button>\n\t\t\t<Dialog fullScreen open={open} onClose={handleClose} TransitionComponent={Transition}>\n\t\t\t\t<AppBar className={classes.appBar}>\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t<Typography variant=\"h6\" className={classes.title}>\n\t\t\t\t\t\t\tColores\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Box m={1}>\n\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"secondary\" onClick={handleClose} size=\"large\">\n\t\t\t\t\t\t\t\t<CloseIcon style={{fontSize: 30}} />\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</AppBar>\n\t\t\t\t<Box mt={4}>\n\t\t\t\t\t<Container maxWidth=\"md\">\n\t\t\t\t\t\t<RegistroColores />\n\t\t\t\t\t</Container>\n\t\t\t\t</Box>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n}\n","import React, { useState, useEffect } from 'react';\nimport { \n    Paper, \n    makeStyles, \n    Table, \n    TableBody, \n    TableCell, \n    TableContainer, \n    TableHead, \n    TableRow,\n\tIconButton,\n\tTablePagination,\n\tDialog,\n\tDialogTitle,\n\tDialogActions,\n\tButton\n} from '@material-ui/core/';\nimport { Delete, Edit, Close } from '@material-ui/icons';\nimport { useQuery } from '@apollo/client';\nimport { useMutation } from '@apollo/client';\nimport { OBTENER_MARCAS, ELIMINAR_MARCAS } from '../../../../gql/Catalogos/marcas';\nimport SnackBarMessages from '../../../../components/SnackBarMessages';\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n\t\twidth: '100%'\n\t},\n\tpaper: {\n\t\twidth: '100%',\n\t\tmarginBottom: theme.spacing(2)\n\t}\n}));\n\nexport default function ListaMarcas({updateData, toUpdate, setToUpdate, setData}) {\n\n    const classes = useStyles();\n    const [ page, setPage ] = useState(0);\n\tconst [ rowsPerPage, setRowsPerPage ] = useState(8);\n\tconst [ alert, setAlert ] = useState({\n\t\tstatus: '',\n\t\tmessage: '',\n\t\topen: false\n\t});\n\tconst sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\tlet obtenerMarcas = [];\n\t\n\n    const { data, refetch } = useQuery(OBTENER_MARCAS,{\n\t\tvariables: {\n\t\t\tempresa: sesion.empresa._id,\n\t\t\tsucursal: sesion.sucursal._id\n\t\t}\n\t});\t\n\n\tuseEffect(() => {\n\t\trefetch();\n\t}, [refetch, updateData])\n\n    if(data){\n\t\tobtenerMarcas = data.obtenerMarcas\n\t}\n\n    const handleChangePage = (event, newPage) => {\n\t\tsetPage(newPage);\n\t};\n\n\tconst handleChangeRowsPerPage = (event) => {\n\t\tsetRowsPerPage(parseInt(event.target.value, 10));\n\t\tsetPage(0);\n\t};\n\n\n    return (\n        <div className={classes.root}>\n\t\t\t<SnackBarMessages alert={alert} setAlert={setAlert} />\n\t\t\t<Paper className={classes.paper}>\n\t\t\t\t<TableContainer>\n\t\t\t\t\t<Table\n\t\t\t\t\t\tclassName={classes.table}\n\t\t\t\t\t\taria-labelledby=\"tableTitle\"\n\t\t\t\t\t\tsize=\"medium\"\n\t\t\t\t\t\taria-label=\"enhanced table\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t<TableCell>Marca</TableCell>\n\t\t\t\t\t\t\t\t{sesion.accesos.catalogos.marcas.editar === false ? (null):(\n\t\t\t\t\t\t\t\t\t<TableCell padding=\"default\">Editar</TableCell>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t{sesion.accesos.catalogos.marcas.eliminar === false ? (null):(\n\t\t\t\t\t\t\t\t\t<TableCell padding=\"default\">Eliminar</TableCell>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t</TableHead>\n\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\tobtenerMarcas\n\t\t\t\t\t\t\t\t?.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\n\t\t\t\t\t\t\t\t?.map((row, index) => {\n\t\t\t\t\t\t\t\t\treturn <RowsRender key={index} setAlert={setAlert} refetch={refetch} datos={row} toUpdate={toUpdate} setToUpdate={setToUpdate} setData={setData} />;\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t</Table>\n\t\t\t\t</TableContainer>\n\t\t\t\t<TablePagination\n\t\t\t\t\trowsPerPageOptions={[]}\n\t\t\t\t\tcomponent=\"div\"\n\t\t\t\t\tcount={obtenerMarcas.length}\n\t\t\t\t\trowsPerPage={rowsPerPage}\n\t\t\t\t\tpage={page}\n\t\t\t\t\tonChangePage={handleChangePage}\n\t\t\t\t\tonChangeRowsPerPage={handleChangeRowsPerPage}\n\t\t\t\t/>\n\t\t\t</Paper>\n\t\t</div>\n    )\n}\n\nconst RowsRender = ({ datos, updateData, toUpdate, setAlert, setToUpdate, setData, refetch }) => {\n\tconst sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\tconst [ openModal, setOpenModal ] = useState(false);\n\tconst handleModal = () => setOpenModal(!openModal);\n\n\tconst [ eliminarMarca ] = useMutation(ELIMINAR_MARCAS);\n\n\tconst handleDelete = async () => {\n\t\ttry {\n\t\t\tconst resultado = await eliminarMarca({\n\t\t\t\tvariables: {\n\t\t\t\t\tid: datos._id,\n\t\t\t\t\tempresa: sesion.empresa._id,\n\t\t\t\t\tsucursal: sesion.sucursal._id\n\t\t\t\t}\n\t\t\t});\n\t\t\tif(resultado.data.eliminarMarca.message === 'false'){\n\t\t\t\tsetAlert({ message: 'Marca eliminada con exito', status: 'success', open: true });\n\t\t\t}else{\n\t\t\t\tsetAlert({ message: resultado.data.eliminarMarca.message, status: 'error', open: true });\n\t\t\t};\n\t\t\trefetch();\n\t\t\thandleModal();\n\t\t} catch (error) {\n\t\t\tsetAlert({ message: error.message, status: 'error', open: true });\n\t\t}\n\t};\n\n\tconst onUpdate = (dato) => {\n\t\tif(!dato){\n\t\t\tsetToUpdate('');\n\t\t\tsetData('');\n\t\t\trefetch();\n\t\t\treturn\n\t\t}\n\t\trefetch();\n\t\tsetToUpdate(dato._id);\n\t\tsetData(dato);\n\t};\n\n\treturn (\n\t\t<TableRow hover role=\"checkbox\" tabIndex={-1} selected={toUpdate === datos._id ? true : false}>\n\t\t\t<TableCell>{datos.nombre_marca}</TableCell>\n\t\t\t{sesion.accesos.catalogos.marcas.editar === false ? (null):(\n\t\t\t\t<TableCell padding=\"checkbox\">\n\t\t\t\t\t{toUpdate === datos._id ? (\n\t\t\t\t\t\t<IconButton onClick={() => onUpdate()}>\n\t\t\t\t\t\t\t<Close />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<IconButton onClick={() => onUpdate(datos)}>\n\t\t\t\t\t\t\t<Edit />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t)}\n\t\t\t\t</TableCell>\n\t\t\t)}\n\t\t\t{sesion.accesos.catalogos.marcas.eliminar === false ? (null):(\n\t\t\t\t<TableCell padding=\"checkbox\">\n\t\t\t\t\t<Modal handleModal={handleModal} openModal={openModal} handleDelete={handleDelete} />\n\t\t\t\t</TableCell>\n\t\t\t)}\n\t\t</TableRow>\n\t);\n};\n\n\n//ELIMINAR DATOS DE LA TABLA\nconst Modal = ({ handleModal, openModal, handleDelete }) => {\n\treturn (\n\t\t<div>\n\t\t\t<IconButton color=\"secondary\" onClick={handleModal}>\n\t\t\t\t<Delete />\n\t\t\t</IconButton>\n\t\t\t<Dialog open={openModal} onClose={handleModal}>\n\t\t\t\t<DialogTitle>{'¿Seguro que quieres eliminar esto?'}</DialogTitle>\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Button onClick={handleModal} color=\"primary\">\n\t\t\t\t\t\tCancelar\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button color=\"secondary\" autoFocus variant=\"contained\" onClick={handleDelete}>\n\t\t\t\t\t\tEliminar\n\t\t\t\t\t</Button>\n\t\t\t\t</DialogActions>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n};\n\n","import React, { createContext, useState } from 'react';\n\nexport const CreateMarcasContext = createContext();\n\nexport const MarcasProvider = ({ children }) => {\n\tconst [ datosMarcas, setDatosMarcas ] = useState({\n        nombre_marca: \"\"\n    });\n\n    const [ update, setUpdate ] = useState(false);\n    const [ error, setError ] = useState(false);\n    const [ openRegistro, setOpenRegistro ] = useState(false);\n\n\treturn (\n\t\t<CreateMarcasContext.Provider value={\n            { \n                datosMarcas, \n                setDatosMarcas,\n                update,\n                setUpdate,\n                error,\n                setError,\n                openRegistro,\n                setOpenRegistro\n            }\n        }>\n\t\t\t{children}\n\t\t</CreateMarcasContext.Provider>\n\t);\n};\n","import React, { useState, useContext } from 'react';\nimport {\n    Button,\n    Box,\n    TextField\n} from '@material-ui/core';\nimport ListaMarcas from './ListaMarcas';\nimport SnackBarMessages from '../../../../components/SnackBarMessages';\nimport { Add } from '@material-ui/icons';\nimport { /* OBTENER_MARCAS, */ REGISTRAR_MARCAS, ACTUALIZAR_MARCAS} from '../../../../gql/Catalogos/marcas';\nimport { useMutation } from '@apollo/client';\nimport { CreateMarcasContext } from '../../../../context/Catalogos/Marcas';\nimport { cleanTypenames } from '../../../../config/reuserFunctions';\n\n\nexport default function VistaMarcas() {\n\n    const [ alert, setAlert ] = useState({ message: '', status: '', open: false });\n    const [ data, setData ] = useState({\n        nombre_marca: \"\"\n    });\n    const [ toUpdate, setToUpdate ] = useState('');\n    const [updateData, setUpdateData] = useState(false);\n    const { /* datosMarcas, setDatosMarcas, */ error, setError } = useContext(CreateMarcasContext);\n\n    const sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\n    const [ CrearMarca ] = useMutation(REGISTRAR_MARCAS);\n\tconst [ actualizarMarca ] = useMutation(ACTUALIZAR_MARCAS);\n\n    const obtenerDatos = (e) => {\n        setData({\n            ...data,\n            [e.target.name]: e.target.value\n        })\n    }\n\n    const saveData = async () => {\n        try {\n            if(!data.nombre_marca){\n                setError(true);\n\t\t\t    return;\n            }else{\n                if(toUpdate){\n                    if (sesion.accesos.catalogos.marcas.editar === false) {\n                        return setAlert({ message: '¡Lo sentimos no tienes autorización para esta acción !', status: 'error', open: true });\n                    }else{\n                        const input = cleanTypenames(data);\n                        await actualizarMarca({\n                            variables: {\n                                input: {\n                                    nombre_marca: input.nombre_marca,\n                                },\n                                id: toUpdate\n                            }\n                        });\n                        setData(\"\");\n                    }\n                }else{\n                    if (sesion.accesos.catalogos.marcas.agregar === false) {\n                        return setAlert({ message: '¡Lo sentimos no tienes autorización para esta acción !', status: 'error', open: true });\n                    }else{\n                        const input = data;\n                        await CrearMarca({\n                            variables: {\n                                input,\n                                empresa: sesion.empresa._id,\n                                sucursal: sesion.sucursal._id\n                            }\n                        });\n                        setData(\"\");\n                    }\n                }\n                setToUpdate('');\n                setUpdateData(!updateData);\n                setAlert({ message: '¡Listo!', status: 'success', open: true });\n                setError(false);\n            }\n        } catch (error) {\n        }\n    }\n\n    const pressEnter = (e) => {\n        if (e.key === 'Enter') saveData();\n\t};\n\n    return (\n        <div>\n            <SnackBarMessages alert={alert} setAlert={setAlert} />\n                <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" my={2}>\n                    <TextField\n                        id=\"outlined-error-helper-text\"\n                        label=\"Nombre departamento\"\n                        value={data.nombre_marca ? data.nombre_marca : \"\"}\n                        name=\"nombre_marca\"\n                        variant=\"outlined\"\n                        size=\"small\"\n                        fullWidth\n                        onChange={obtenerDatos}\n                        error={error}\n                        onKeyPress={pressEnter}\n                    />\n                    <Box ml={1} />\n                    <Button \n                        color=\"primary\" \n                        variant=\"contained\" \n                        size=\"large\" \n                        disableElevation \n                        onClick={saveData}\n                    >\n                        <Add />Guardar\n                    </Button>\n                </Box>\n            <ListaMarcas toUpdate={toUpdate} setToUpdate={setToUpdate} updateData={updateData} setData={setData} />\n        </div>\n    )\n}\n","import React from 'react';\nimport { \n    Button, \n    Box, \n    Dialog,\n    AppBar,\n    Toolbar,\n    Typography,\n    Container,\n    makeStyles,\n    Slide\n} from '@material-ui/core';\nimport { FcRating } from \"react-icons/fc\";\nimport CloseIcon from '@material-ui/icons/Close';\nimport VistaMarcas from './VistaMarcas';\nimport { MarcasProvider } from '../../../../context/Catalogos/Marcas';\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nconst useStyles = makeStyles((theme) => ({\n\tappBar: {\t\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n\ticon: {\n\t\tfontSize: 100\n\t}\n}));\n\nexport default function Marcas() {\n    const classes = useStyles();\n    const [ open, setOpen ] = React.useState(false);\n\n    const handleClickOpen = () => {\n\t\tsetOpen(true);\n\t};\n\n\tconst handleClose = () => {\n\t\tsetOpen(false);\n\t};\n\n    return (\n        <div>\n\t\t\t<MarcasProvider>\n\t\t\t\t<Button fullWidth onClick={handleClickOpen}>\n\t\t\t\t\t<Box display=\"flex\" flexDirection=\"column\">\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t<FcRating className={classes.icon} />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\tMarcas\n\t\t\t\t\t</Box>\n\t\t\t\t</Button>\n\t\t\t\t<Dialog fullScreen open={open} onClose={handleClose} TransitionComponent={Transition}>\n\t\t\t\t\t<AppBar className={classes.appBar}>\n\t\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t\t<Typography variant=\"h6\" className={classes.title}>\n\t\t\t\t\t\t\t\tMarcas\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Box m={1}>\n\t\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"secondary\" onClick={handleClose} size=\"large\">\n\t\t\t\t\t\t\t\t\t<CloseIcon style={{fontSize: 30}} />\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Toolbar>\n\t\t\t\t\t</AppBar>\n\t\t\t\t\t<Box mt={4}>\n\t\t\t\t\t\t<Container maxWidth=\"md\">\n\t\t\t\t\t\t\t<VistaMarcas />\n\t\t\t\t\t\t</Container>\n\t\t\t\t\t</Box>\n\t\t\t\t</Dialog>\n\t\t\t</MarcasProvider>\n\t\t</div>\n    )\n}\n","import React, { useState, Fragment } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Accordion, AccordionSummary, AccordionDetails, fade } from '@material-ui/core';\nimport { Box, Button, Divider, IconButton, TextField, CircularProgress, Typography } from '@material-ui/core';\nimport { Add, Delete, Edit, ExpandMore, Close } from '@material-ui/icons';\nimport ErrorPage from '../../../../components/ErrorPage';\nimport SnackBarMessages from '../../../../components/SnackBarMessages';\nimport BackdropComponent from '../../../../components/Layouts/BackDrop';\n\nimport { useQuery, useMutation } from '@apollo/client';\nimport {\n\tOBTENER_CUENTAS,\n\tCREAR_CUENTA,\n\tCREAR_SUBCUENTA,\n\tACTUALIZAR_SUBCUENTA,\n\tACTUALIZAR_CUENTA,\n    ELIMINAR_CUENTA,\n    ELIMINAR_SUBCUENTA\n} from '../../../../gql/Catalogos/centroCostos';\nimport { cleanTypenames } from '../../../../config/reuserFunctions';\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n\t\twidth: '100%'\n\t},\n\tflexGrow: {\n\t\tflexGrow: 1\n\t},\n\tselected: {\n\t\tbackground: fade(theme.palette.secondary.main, 0.1)\n\t}\n}));\n\nexport default function RegistroCategorias() {\n\tconst classes = useStyles();\n\tconst sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\tconst [ cuenta, setCuenta ] = useState('');\n\tconst [ toUpdateID, setToUpdateID ] = useState('');\n\tconst [ loadingBackDrop, setLoadingBackDrop ] = useState(false);\n\tconst [ alert, setAlert ] = useState({ message: '', status: '', open: false });\n\n\t/* Queries */\n\tconst { loading, data, error, refetch } = useQuery(OBTENER_CUENTAS, {\n\t\tvariables: { empresa: sesion.empresa._id, sucursal: sesion.sucursal._id }\n\t});\n\t/*  Categorias Mutations */\n\tconst [ crearCuenta ] = useMutation(CREAR_CUENTA);\n\tconst [ actualizarCuenta ] = useMutation(ACTUALIZAR_CUENTA);\n   \n  \n\n\tif (loading)\n\t\treturn (\n\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" height=\"30vh\">\n\t\t\t\t<CircularProgress />\n\t\t\t</Box>\n\t\t);\n\tif (error) {\n\t\treturn <ErrorPage error={error} />;\n\t}\n\n\tconst { obtenerCuentas } = data;\n\tconst render_cuentas = obtenerCuentas.map((cuenta, index) => (\n\t\t<RenderCuentas\n\t\t\tkey={index}\n\t\t\tcuenta={cuenta}\n\t\t\tsetToUpdateID={setToUpdateID}\n\t\t\tsetCuenta={setCuenta}\n\t\t\trefetch={refetch}\n\t\t\ttoUpdateID={toUpdateID}\n\t\t/>\n\t));\n\n\tconst obtenerDatos = (e) => {\n\t\tsetCuenta(e.target.value);\n\t};\n    \n\tconst guardarCuenta = async () => {\n\t\tif (!cuenta) return;\n\t\tsetLoadingBackDrop(true);\n\t\ttry {\n\t\t\tif (!toUpdateID) {\n\t\t\t\tif (sesion.accesos.catalogos.centro_costos.agregar === false) {\n\t\t\t\t\tsetLoadingBackDrop(false);\n\t\t\t\t\treturn setAlert({ message: '¡Lo sentimos no tienes autorización para esta acción!', status: 'error', open: true });\n\t\t\t\t}else{\n\t\t\t\t\tawait crearCuenta({\n\t\t\t\t\t\tvariables: {\n\t\t\t\t\t\t\tinput: {\n\t\t\t\t\t\t\t\tcuenta,\n\t\t\t\t\t\t\t\tempresa: sesion.empresa._id,\n\t\t\t\t\t\t\t\tsucursal: sesion.sucursal._id\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (sesion.accesos.catalogos.centro_costos.editar === false) {\n\t\t\t\t\tsetLoadingBackDrop(false);\n\t\t\t\t\treturn setAlert({ message: '¡Lo sentimos no tienes autorización para esta acción!', status: 'error', open: true });\n\t\t\t\t}else{\n\t\t\t\t\tconst cuentaActualizada = cleanTypenames(cuenta);\n\t\t\t\t\tawait actualizarCuenta({\n\t\t\t\t\t\tvariables: {\n\t\t\t\t\t\t\tinput: {\n\t\t\t\t\t\t\t\tcuenta: cuentaActualizada\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tidCuenta: toUpdateID\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t\trefetch();\n\t\t\tsetAlert({ message: '¡Listo!', status: 'success', open: true });\n\t\t\tsetLoadingBackDrop(false);\n\t\t\tsetCuenta('');\n\t\t\tsetToUpdateID('');\n\t\t} catch (error) {\n\t\t\tsetAlert({ message: 'Hubo un error', status: 'error', open: true });\n\t\t\tsetLoadingBackDrop(false);\n\t\t}\n\t};\n\n    \n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<SnackBarMessages alert={alert} setAlert={setAlert} />\n\t\t\t<BackdropComponent loading={loadingBackDrop} setLoading={setLoadingBackDrop} />\n\t\t\t<Typography variant=\"h6\">Cuentas</Typography>\n\t\t\t<Box display=\"flex\" alignItems=\"center\" mb={2}>\n\t\t\t\t<TextField value={cuenta} variant=\"outlined\" size=\"small\" onChange={obtenerDatos} />\n\t\t\t\t<Box ml={1} />\n\t\t\t\t<Button color=\"primary\" variant=\"contained\" size=\"large\" disableElevation onClick={guardarCuenta}>\n\t\t\t\t\t<Add />Guardar\n\t\t\t\t</Button>\n\t\t\t</Box>\n\t\t\t{render_cuentas}\n\t\t</div>\n\t);\n}\n\nconst RenderCuentas = ({ cuenta, setToUpdateID, setCuenta, refetch, toUpdateID }) => {\n\tconst sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\n\tconst classes = useStyles();\n\tconst [ subcuenta, setSubcuenta ] = useState('');\n\tconst [ loadingBackDrop, setLoadingBackDrop ] = useState(false);\n\tconst [ alert, setAlert ] = useState({ message: '', status: '', open: false });\n     const [ eliminarCuenta ] = useMutation(ELIMINAR_CUENTA);\n\t/*  Subcategorias Mutations */\n\tconst [ crearSubcuenta ] = useMutation(CREAR_SUBCUENTA);\n\tconst [ actualizarSubcuenta ] = useMutation(ACTUALIZAR_SUBCUENTA);\n   \n\t\n    const render_subcuentas = (cuenta.subcuentas !== null) ? cuenta.subcuentas.map((subcuenta) => (\n\t\t<RenderSubcuentas\n\t\t\tkey={subcuenta._id}\n            idCuenta={cuenta._id}\n\t\t\tsubcuenta={subcuenta}\n\t\t\tsetToUpdateID={setToUpdateID}\n\t\t\ttoUpdateID={toUpdateID}\n\t\t\tsetSubcuenta={setSubcuenta}\n            refetch={refetch}\n\t\t/>\n\t))\n\t: \n\t(<div/>)\n\t; \n\n\tconst obtenerCamposParaActualizar = (event) => {\n\t\tevent.stopPropagation();\n\t\tsetToUpdateID(cuenta._id);\n\t\tsetCuenta(cuenta.cuenta);\n\t};\n\n\tconst cancelarUpdate = (event) => {\n\t\tevent.stopPropagation();\n\t\tsetToUpdateID('');\n\t\tsetCuenta('');\n\t};\n\n\tconst obtenerDatos = (e) => {\n\t\tsetSubcuenta(e.target.value);\n\t};\n\n\tconst guardarSubcuenta = async () => {\n\t\tif (!subcuenta) return;\n\t\tsetLoadingBackDrop(true);\n\t\ttry {\n\t\t\tif (!toUpdateID) {\n\t\t\t\tif (sesion.accesos.catalogos.centro_costos.agregar === false) {\n\t\t\t\t\tsetLoadingBackDrop(false);\n\t\t\t\t\treturn setAlert({ message: '¡Lo sentimos no tienes autorización para esta acción!', status: 'error', open: true });\n\t\t\t\t}else{\n\t\t\t\t\tawait crearSubcuenta({\n\t\t\t\t\t\tvariables: {\n\t\t\t\t\t\t\tinput: {\n\t\t\t\t\t\t\t\tsubcuenta\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tidCuenta: cuenta._id\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (sesion.accesos.catalogos.centro_costos.editar === false) {\n\t\t\t\t\tsetLoadingBackDrop(false);\n\t\t\t\t\treturn setAlert({ message: '¡Lo sentimos no tienes autorización para esta acción!', status: 'error', open: true });\n\t\t\t\t}else{\n\t\t\t\t\tconst subCuentaActualizada = cleanTypenames(subcuenta)\n\t\t\t\t\tawait actualizarSubcuenta({\n\t\t\t\t\t\tvariables: {\n\t\t\t\t\t\t\tinput: { \n\t\t\t\t\t\t\t\tsubcuenta: subCuentaActualizada\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tidCuenta: cuenta._id,\n\t\t\t\t\t\t\tidSubcuenta: toUpdateID\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t\trefetch();\n\t\t\tsetAlert({ message: '¡Listo!', status: 'success', open: true });\n\t\t\tsetLoadingBackDrop(false);\n\t\t\tsetSubcuenta('');\n\t\t\tsetToUpdateID('');\n\t\t} catch (error) {\n\t\t\tsetAlert({ message: 'Hubo un error', status: 'error', open: true });\n\t\t\tsetLoadingBackDrop(false);\n\t\t}\n\t};\n\n    const deleteCuenta = async (idCuenta) => {\n\t\tsetLoadingBackDrop(true);\n\t\ttry {\n            await eliminarCuenta({\n                variables: {\n                    id: idCuenta\n                }\n            });\n\t\t\trefetch();\n\t\t\tsetAlert({ message: '¡Listo!', status: 'success', open: true });\n\t\t\tsetLoadingBackDrop(false);\n\t\t\tsetCuenta('');\n\t\t\tsetToUpdateID('');\n\t\t} catch (error) {\n\t\t\tsetAlert({ message: 'Hubo un error', status: 'error', open: true });\n\t\t\tsetLoadingBackDrop(false);\n\t\t}\n\t};\n    \n\n\treturn (\n\t\t<Fragment>\n\t\t\t<SnackBarMessages alert={alert} setAlert={setAlert} />\n\t\t\t<BackdropComponent loading={loadingBackDrop} setLoading={setLoadingBackDrop} />\n\t\t\t<Accordion>\n\t\t\t\t<AccordionSummary\n\t\t\t\t\tclassName={toUpdateID && toUpdateID === cuenta._id ? classes.selected : ''}\n\t\t\t\t\texpandIcon={<ExpandMore />}\n\t\t\t\t\taria-label=\"Expand\"\n\t\t\t\t\taria-controls={`cuenta-action-${cuenta._id}`}\n\t\t\t\t\tid={`cuenta-${cuenta._id}`}\n\t\t\t\t>\n\t\t\t\t\t<Box display=\"flex\" alignItems=\"center\" width=\"100%\">\n\t\t\t\t\t\t<Typography variant=\"h6\">{cuenta.cuenta}</Typography>\n\t\t\t\t\t\t<div className={classes.flexGrow} />\n\t\t\t\t\t\t{toUpdateID && toUpdateID === cuenta._id ? (\n\t\t\t\t\t\t\t<IconButton onClick={cancelarUpdate} onFocus={(event) => event.stopPropagation()}>\n\t\t\t\t\t\t\t\t<Close />\n\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\tsesion.accesos.catalogos.centro_costos.editar === false ? (null):(\n\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\tonClick={obtenerCamposParaActualizar}\n\t\t\t\t\t\t\t\t\tonFocus={(event) => event.stopPropagation()}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Edit />\n\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{sesion.accesos.catalogos.centro_costos.eliminar === false ? (null):(\n\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\tonClick={() => deleteCuenta(cuenta._id )}\n\t\t\t\t\t\t\t\tonFocus={(event) => event.stopPropagation()}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Delete />\n\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Box>\n\t\t\t\t</AccordionSummary>\n\t\t\t\t<AccordionDetails>\n\t\t\t\t\t<Box width=\"100%\">\n\t\t\t\t\t\t<Divider />\n\t\t\t\t\t\t<Box mb={2} />\n\t\t\t\t\t\t<Box ml={5} width=\"100%\" display=\"flex\">\n\t\t\t\t\t\t\t<Typography variant=\"h6\">Subcuenta</Typography>\n\t\t\t\t\t\t\t<Box mr={2} />\n\t\t\t\t\t\t\t<Box display=\"flex\" alignItems=\"center\" mb={2}>\n\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\tvalue={subcuenta}\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\tonChange={obtenerDatos}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<Box ml={1} />\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\tsize=\"large\"\n\t\t\t\t\t\t\t\t\tdisableElevation\n\t\t\t\t\t\t\t\t\tonClick={guardarSubcuenta}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Add />Guardar\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t{(cuenta.subcuentas !== null ) ?\n\t\t\t\t\t\t\t<Box ml={5}>{render_subcuentas}</Box>\n\t\t\t\t\t\t:\n\t\t\t\t\t\t<div/>\n\t\t\t\t\t\t}\t\n\t\t\t\t\t\t{/* <Box ml={5}>{render_subcostos}</Box> */}\n\t\t\t\t\t</Box>\n\t\t\t\t</AccordionDetails>\n\t\t\t</Accordion>\n\t\t</Fragment>\n\t);\n};\n\nconst RenderSubcuentas = ({ idCuenta,subcuenta, toUpdateID, setToUpdateID, setSubcuenta, refetch }) => {\n\tconst sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\n\tconst classes = useStyles();\n    const [ loadingBackDrop, setLoadingBackDrop ] = useState(false);\n\tconst [ alert, setAlert ] = useState({ message: '', status: '', open: false });\n    const [ eliminarSubcuenta ] = useMutation(ELIMINAR_SUBCUENTA);\n\t\n    const obtenerCamposParaActualizar = (event) => {\n\t\tevent.stopPropagation();\n\t\tsetToUpdateID(subcuenta._id);\n\t\tsetSubcuenta(subcuenta.subcuenta);\n\t};\n\n\tconst cancelarUpdate = (event) => {\n\t\tevent.stopPropagation();\n\t\tsetToUpdateID('');\n\t\tsetSubcuenta('');\n\t};\n    const deleteSubCuenta = async ( idSubCuenta) => {\n        \n\t\tsetLoadingBackDrop(true);\n\t\ttry {\n            await eliminarSubcuenta({\n                variables: {\n                    idCuenta: idCuenta,\n                    idSubcuenta: idSubCuenta\n                }\n            });\n\t\t\trefetch();\n\t\t\tsetAlert({ message: '¡Listo!', status: 'success', open: true });\n\t\t\tsetLoadingBackDrop(false);\n\t\t\tsetSubcuenta('');\n\t\t\tsetToUpdateID('');\n\t\t} catch (error) {\n\t\t\tsetAlert({ message: 'Hubo un error', status: 'error', open: true });\n\t\t\tsetLoadingBackDrop(false);\n\t\t}\n\t};\n    \n\treturn (\n\t\t<Fragment>\n\t\t\t<SnackBarMessages alert={alert} setAlert={setAlert} />\n\t\t\t<BackdropComponent loading={loadingBackDrop} setLoading={setLoadingBackDrop} />\n\t\t\t<Box\n\t\t\t\tdisplay=\"flex\"\n\t\t\t\talignItems=\"center\"\n\t\t\t\tborderRadius={3}\n\t\t\t\tpx={1}\n\t\t\t\tclassName={toUpdateID && toUpdateID === subcuenta._id ? classes.selected : ''}\n\t\t\t>\n\t\t\t\t<Typography>{subcuenta.subcuenta}</Typography>\n\t\t\t\t<div className={classes.flexGrow} />\n\t\t\t\t{\n\t\t\t\t\tsesion.accesos.catalogos.centro_costos.editar === false ? (null):(\n\t\t\t\t\t\ttoUpdateID && toUpdateID === subcuenta._id ? (\n\t\t\t\t\t\t\t<IconButton onClick={cancelarUpdate} onFocus={(event) => event.stopPropagation()}>\n\t\t\t\t\t\t\t\t<Close />\n\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t<IconButton onClick={obtenerCamposParaActualizar} onFocus={(event) => event.stopPropagation()}>\n\t\t\t\t\t\t\t\t\t<Edit />\n\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t\t{sesion.accesos.catalogos.centro_costos.eliminar === false ? (null):(\n\t\t\t\t\t<IconButton onClick={() => deleteSubCuenta(subcuenta._id)} onFocus={(event) => event.stopPropagation()}>\n\t\t\t\t\t\t<Delete />\n\t\t\t\t\t</IconButton>\n\t\t\t\t)}\n\t\t\t</Box>\n\t\t\t<Divider />\n\t\t</Fragment>\n\t);\n};\n","import React from 'react'; \nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport CloseIcon from '@material-ui/icons/Close';\nimport Slide from '@material-ui/core/Slide';\nimport { Box, Container } from '@material-ui/core';\nimport RegistroCentroCostos from './RegistroCentroCostos';\n\nconst useStyles = makeStyles((theme) => ({\n\tappBar: {\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n\ticon: {\n\t\twidth: 100\n\t}\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function CentroCostos() {\n\tconst classes = useStyles();\n\tconst [ open, setOpen ] = React.useState(false);\n\n\tconst handleClickOpen = () => {\n\t\tsetOpen(true);\n\t};\n\n\tconst handleClose = () => {\n\t\tsetOpen(false);\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<Button fullWidth onClick={handleClickOpen}>\n\t\t\t\t<Box display=\"flex\" flexDirection=\"column\">\n\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t<img src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/costos.svg' alt=\"icono numero calzado\" className={classes.icon} />\n\t\t\t\t\t</Box>\n\t\t\t\t\tCentro de costos\n\t\t\t\t</Box>\n\t\t\t</Button>\n\t\t\t<Dialog fullScreen open={open} onClose={handleClose} TransitionComponent={Transition}>\n\t\t\t\t<AppBar className={classes.appBar}>\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t<Typography variant=\"h6\" className={classes.title}>\n\t\t\t\t\t\t\tCentro de costos\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Box m={1}>\n\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"secondary\" onClick={handleClose} size=\"large\">\n\t\t\t\t\t\t\t\t<CloseIcon style={{fontSize: 30}} />\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</AppBar>\n\t\t\t\t<Box mt={3}>\n\t\t\t\t\t<Container maxWidth=\"md\">\n\t\t\t\t\t\t<RegistroCentroCostos />\n\t\t\t\t\t</Container>\n\t\t\t\t</Box>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n}\n","import { gql } from '@apollo/client';\n\nexport const OBTENER_CONCEPTOS_ALMACEN = gql`\n    query ObtenerConceptosAlmacen($empresa: ID!, $sucursal: ID!){\n        obtenerConceptosAlmacen(empresa: $empresa, sucursal: $sucursal){\n                _id\n            nombre_concepto\n            destino\n            origen\n            editable\n            empresa{\n                _id\n                nombre_empresa\n            }\n                sucursal{\n                _id\n                nombre_sucursal\n            }\n        }\n    }\n`;\n\nexport const REGISTRAR_CONCEPTO_ALMACEN = gql`\n    mutation CrearConceptoAlmacen($input: ConceptoAlmacenInput, $empresa: ID!, $sucursal: ID!, $usuario: ID!){\n        crearConceptoAlmacen(input:$input,empresa:$empresa,sucursal:$sucursal, usuario:$usuario){\n            message\n        }\n    }\n`;\n\nexport const ACTUALIZAR_CONCEPTO_ALMACEN = gql`\n    mutation ActualizarConceptoAlmacen($input: ConceptoAlmacenInput, $id: ID!){\n        actualizarConceptoAlmacen(input: $input, id: $id){\n            message\n        }\n    }\n`;\n\nexport const ELIMINAR_CONCEPTO_ALMACEN = gql`\n    mutation EliminarConceptoAlmacen($id: ID!){\n        eliminarConceptoAlmacen(id: $id){\n            message\n        }\n    }\n`;","import React, { useState, useEffect } from 'react';\nimport { \n\tBox,\n\tCircularProgress,\n\tTable,\n\tTableBody,\n\tTableCell,\n\tTableContainer,\n\tTableHead,\n\tTablePagination,\n\tTableRow,\n\tPaper,\n\tmakeStyles,\n\tDialog,\n\tDialogTitle,\n\tDialogActions,\n\tButton\n} from '@material-ui/core';\n\nimport { IconButton } from '@material-ui/core';\nimport { Delete, Edit } from '@material-ui/icons';\n\nimport { useQuery, useMutation } from '@apollo/client';\nimport { OBTENER_CONCEPTOS_ALMACEN, ELIMINAR_CONCEPTO_ALMACEN } from '../../../../gql/Catalogos/conceptosAlmacen';\nimport ErrorPage from '../../../../components/ErrorPage';\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n\t\twidth: '100%'\n\t},\n\tpaper: {\n\t\twidth: '100%',\n\t\tmarginBottom: theme.spacing(2)\n\t}\n}));\n\nexport default function TablaConceptos({setData, setIdConcepto, idConcepto, setAccion, updateData, setAlert}) {\n\tconst classes = useStyles();\n\tconst [ page, setPage ] = useState(0);\n\tconst [ rowsPerPage, setRowsPerPage ] = useState(10);\n\tconst sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\tconst [ openModal, setOpenModal ] = useState(false);\n\tconst handleModal = () => setOpenModal(!openModal);\n\n\tconst handleChangePage = (event, newPage) => {\n\t\tsetPage(newPage);\n\t};\n\tlet obtenerConcepto= [];\n\n\tconst { loading, data, error, refetch } = useQuery(OBTENER_CONCEPTOS_ALMACEN,{\n\t\tvariables: {\n\t\t\tempresa: sesion.empresa._id,\n\t\t\tsucursal: sesion.sucursal._id\n\t\t}\n\t});\n\tconst [ EliminarConceptoAlmacen ] = useMutation(ELIMINAR_CONCEPTO_ALMACEN);\n\n\tuseEffect(\n\t\t() => {\n\t\t\trefetch();\n\t\t},\n\t\t[ updateData, refetch ]\n\t); \n\n\tif(data){\n\t\tobtenerConcepto = data.obtenerConceptosAlmacen;\n\t}\n\n\tconst handleChangeRowsPerPage = (event) => {\n\t\tsetRowsPerPage(parseInt(event.target.value, 10));\n\t\tsetPage(0);\n\t};\n\n\tconst handleDelete = async () => {\n\t\ttry {\n\t\t\tawait EliminarConceptoAlmacen({\n\t\t\t\tvariables: {\n\t\t\t\t\tid: idConcepto\n\t\t\t\t}\n\t\t\t});\n\t\t\trefetch();\n\t\t\tsetAlert({ message: '¡Listo!', status: 'success', open: true });\n\t\t\thandleModal();\n\t\t\tsetIdConcepto(\"\");\n\t\t} catch (error) {\n\t\t\tsetAlert({ message: error.message, status: 'error', open: true });\n\t\t}\n\t};\n\n\tif (error) {\n\t\treturn <ErrorPage error={error} />;\n\t}\n\n\tif (loading){\n\t\treturn (\n\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" height=\"30vh\">\n\t\t\t\t<CircularProgress />\n\t\t\t</Box>\n\t\t);\n\t}\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Paper className={classes.paper}>\n\t\t\t\t<TableContainer>\n\t\t\t\t\t<Table\n\t\t\t\t\t\tclassName={classes.table}\n\t\t\t\t\t\taria-labelledby=\"tableTitle\"\n\t\t\t\t\t\tsize=\"medium\"\n\t\t\t\t\t\taria-label=\"enhanced table\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t<TableCell>Concepto almacén</TableCell>\n                                <TableCell padding=\"default\">Origen</TableCell>\n\t\t\t\t\t\t\t\t<TableCell padding=\"default\">Destino</TableCell>\n\t\t\t\t\t\t\t\t{sesion.accesos.catalogos.conceptos_almacen.editar === false ? (null):(\n\t\t\t\t\t\t\t\t\t<TableCell padding=\"default\">Editar</TableCell>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t{sesion.accesos.catalogos.conceptos_almacen.eliminar === false ? (null):(\n\t\t\t\t\t\t\t\t\t<TableCell padding=\"default\">Eliminar</TableCell>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t</TableHead>\n\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t{obtenerConcepto?.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)?.map((row, index) => {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<TableRow hover role=\"checkbox\" tabIndex={-1} key={row._id}>\n\t\t\t\t\t\t\t\t\t\t<TableCell>{row.nombre_concepto}</TableCell>\n                                        <TableCell>{row.origen}</TableCell>\n\t\t\t\t\t\t\t\t\t\t<TableCell>{row.destino}</TableCell>\n\t\t\t\t\t\t\t\t\t\t{sesion.accesos.catalogos.conceptos_almacen.editar === false ? (null):(\n\t\t\t\t\t\t\t\t\t\t\t<TableCell padding=\"checkbox\">\n\t\t\t\t\t\t\t\t\t\t\t\t<IconButton onClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetAccion(false)\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetIdConcepto(row._id)\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetData({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tnombre_concepto: row.nombre_concepto,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\torigen: row.origen,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdestino: row.destino\n\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={!row.editable}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Edit />\n\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t{sesion.accesos.catalogos.conceptos_almacen.eliminar === false ? (null):(\n\t\t\t\t\t\t\t\t\t\t\t<TableCell padding=\"checkbox\">\n\t\t\t\t\t\t\t\t\t\t\t\t<IconButton onClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetIdConcepto(row._id);\n\t\t\t\t\t\t\t\t\t\t\t\t\thandleModal();\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\tdisabled={!row.editable}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Delete />\n\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t</Table>\n\t\t\t\t</TableContainer>\n\t\t\t\t<TablePagination\n\t\t\t\t\trowsPerPageOptions={[]}\n\t\t\t\t\tcomponent=\"div\"\n\t\t\t\t\tcount={obtenerConcepto.length}\n\t\t\t\t\trowsPerPage={rowsPerPage}\n\t\t\t\t\tpage={page}\n\t\t\t\t\tonChangePage={handleChangePage}\n\t\t\t\t\tonChangeRowsPerPage={handleChangeRowsPerPage}\n\t\t\t\t/>\n\t\t\t</Paper>\n\t\t\t<Modal handleModal={handleModal} openModal={openModal} handleDelete={handleDelete} />\n\t\t</div>\n\t);\n}\n\nconst Modal = ({ handleModal, openModal, handleDelete }) => {\n\treturn (\n\t\t<div>\n\t\t\t<Dialog open={openModal} onClose={handleModal}>\n\t\t\t\t<DialogTitle>{'Eliminar este concepto afectará cálculos de estados de resultado ,¿Seguro que quieres eliminar esto?'}</DialogTitle>\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Button onClick={handleModal} color=\"primary\">\n\t\t\t\t\t\tCancelar\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button color=\"secondary\" autoFocus variant=\"contained\" onClick={handleDelete}>\n\t\t\t\t\t\tEliminar\n\t\t\t\t\t</Button>\n\t\t\t\t</DialogActions>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n};\n","import React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport { Box, Button, TextField, FormControl, Input, Grid, InputLabel, Select, MenuItem, useTheme, Dialog, DialogTitle, DialogActions } from '@material-ui/core';\nimport { Add } from '@material-ui/icons';\nimport ListaConceptos from './ListaConceptos';\nimport { REGISTRAR_CONCEPTO_ALMACEN, ACTUALIZAR_CONCEPTO_ALMACEN } from '../../../../gql/Catalogos/conceptosAlmacen';\nimport { useMutation } from '@apollo/client';\nimport SnackBarMessages from '../../../../components/SnackBarMessages';\n\nconst useStyles = makeStyles((theme) =>({\n\troot: {\n\t\twidth: '100%'\n\t},\n\tflexGrow: {\n\t\tflexGrow: 1\n\t},\n     formControl: {\n        marginLeft: theme.spacing(5),\n        marginBottom:theme.spacing(3),\n        minWidth: 200,\n        maxWidth: 200,\n    },\n}));\nconst ITEM_HEIGHT = 200;\nconst ITEM_PADDING_TOP = 8;\nconst MenuProps = {\n  PaperProps: {\n    style: {\n      maxHeight: ITEM_HEIGHT * 4.5 + ITEM_PADDING_TOP,\n      width: 400,\n    },\n  },\n};\nconst tipos = [\n    'SUMA',\n    'RESTA',\n\t'N/A'\n];\n\nfunction getStyles(tipo, tipoName, theme) {\n\tconsole.log(tipoName)\n  return {\n    fontWeight:\n      tipoName.indexOf(tipo) === -1\n        ? theme.typography.fontWeightRegular\n        : theme.typography.fontWeightMedium,\n  };\n}\nexport default function RegistroServicios() {\n\tconst classes = useStyles();\n     const theme = useTheme();\n\tconst [updateData, setUpdateData] = useState(false);\n\tconst [data, setData] = useState({\n\t\tnombre_concepto: \"\",\n        destino: \"\",\n\t\torigen:\"\"\n\t\t\n\t});\n\tconst [ alert, setAlert ] = useState({ message: '', status: '', open: false });\n\tconst [error, setError] = useState(false);\n\tconst sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\tconst [accion, setAccion] = useState(true);\n\tconst [idConcepto, setIdConcepto] = useState('')\n    \n\tconst [ crearConceptoAlmacen ] = useMutation(REGISTRAR_CONCEPTO_ALMACEN);\n\tconst [ actualizarConceptoAlmacen ] = useMutation(ACTUALIZAR_CONCEPTO_ALMACEN);\n    const [ openModal, setOpenModal ] = useState(false);\n\tconst handleModal = () => setOpenModal(!openModal);\n\tconst handleChangeInput = (e) => {\n\t\tsetData({\n\t\t\t...data,\n\t\t\t[e.target.name]: e.target.value\n\t\t})\n\t}\n     const handleChangeDestino = (event) => {\n        setData({...data, destino:event.target.value});\n    };\n\tconst handleChangeOrigen = (event) => {\n        setData({...data, origen:event.target.value});\n    };\n\tconst handleSubmit = async () => {\n\t\ttry {\n           setOpenModal(false);\n\t\t\tif(!data.nombre_concepto || !data.origen || !data.destino ){\n\t\t\t\tsetError(true);\n\t\t\t    return;\n\t\t\t}else{\n\t\t\t\tconst input = data;\n\t\t\t\tif(accion){\n\t\t\t\t\tif (sesion.accesos.catalogos.conceptos_almacen.agregar === false) {\n\t\t\t\t\t\treturn setAlert({ message: 'Lo sentimos no tienes los permisos autorizados', status: 'error', open: true });\n\t\t\t\t\t}else{\n\t\t\t\t\t\tawait crearConceptoAlmacen({\n\t\t\t\t\t\t\tvariables: {\n\t\t\t\t\t\t\t\tinput,\n\t\t\t\t\t\t\t\tempresa: sesion.empresa._id,\n\t\t\t\t\t\t\t\tsucursal: sesion.sucursal._id,\n\t\t\t\t\t\t\t\tusuario: sesion._id\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tif (sesion.accesos.catalogos.conceptos_almacen.editar === false) {\n\t\t\t\t\t\treturn setAlert({ message: 'Lo sentimos no tienes los permisos autorizados', status: 'error', open: true });\n\t\t\t\t\t}else{\n\t\t\t\t\t\tawait actualizarConceptoAlmacen({\n\t\t\t\t\t\t\tvariables: {\n\t\t\t\t\t\t\t\tinput,\n\t\t\t\t\t\t\t\tid: idConcepto\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t\tsetAccion(true);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tsetAlert({ message: '¡Listo!', status: 'success', open: true });\n\t\t\t\tsetData({nombre_concepto: \"\", origen: \"\", destino:\"\"});\n                setError(false);\n\t\t\t\tsetUpdateData(!updateData);\n\t\t\t\tsetIdConcepto(\"\");\n\t\t\t\t\n\t\t\t}\n\t\t} catch (error) {\n\t\t\t\n\t\t}\n\t}\n\n\tconst pressEnter = (e) => {\n\t\tif (e.key === 'Enter') handleSubmit();\n\t};\n\n    const Modal = ({ handleModal, openModal, handleSubmit }) => {\n\treturn (\n\t\t<div>\n\t\t\t<Dialog open={openModal} onClose={handleModal}>\n\t\t\t\t<DialogTitle>{'Editar este concepto afectará cálculos de estados de resultado ,¿Seguro que quieres editar esto?'}</DialogTitle>\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Button onClick={handleModal} color=\"primary\">\n\t\t\t\t\t\tCancelar\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button color=\"secondary\" autoFocus variant=\"contained\" onClick={handleSubmit}>\n\t\t\t\t\t\tEditar\n\t\t\t\t\t</Button>\n\t\t\t\t</DialogActions>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n};\n\n\treturn (\n\t\t<div className={classes.root}>\n            <Box  flexDirection=\"row\" >\n                <Grid container>\n                    <SnackBarMessages alert={alert} setAlert={setAlert} />\n                   \n                    <Box display=\"flex\" alignItems=\"center\" mb={2}>\n                         <Typography>Concepto </Typography>\n                        <TextField\n                            error={error}\n                            id=\"outlined-error-helper-text\"\n                            variant=\"outlined\"\n                            size=\"small\"\n                            name=\"nombre_concepto\"\n\t\t\t\t\t\t\tstyle={{marginLeft:2}}\n                            value={data.nombre_concepto}\n                            onChange={handleChangeInput}\n                            onKeyPress={pressEnter}\n                        />\n                        \n                    </Box>\n\t\t\t\t\t<FormControl className={classes.formControl}>\n                        <InputLabel id=\"origen-label\">Origen</InputLabel>\n                        <Select\n                        error={error}\n                        labelId=\"origen-label\"\n                        id=\"origen-name\"\n                        value={data.origen}\n                        onChange={handleChangeOrigen}\n                        input={<Input />}\n                        MenuProps={MenuProps}\n                        >\n                        {tipos.map((tipo) => (\n                            <MenuItem key={tipo} value={tipo} style={getStyles(tipo, data.origen, theme)}>\n                            {tipo}\n                            </MenuItem>\n                        ))}\n                        </Select>\n                    </FormControl>\n                    <FormControl className={classes.formControl}>\n                        <InputLabel id=\"destino-label\">Destino</InputLabel>\n                        <Select\n                        error={error}\n                        labelId=\"destino-label\"\n                        id=\"destino-name\"\n                        value={data.destino}\n                        onChange={handleChangeDestino}\n                        input={<Input />}\n                        MenuProps={MenuProps}\n                        >\n                        {tipos.map((tipo) => (\n                            <MenuItem key={tipo} value={tipo} style={getStyles(tipo, data.destino, theme)}>\n                            {tipo}\n                            </MenuItem>\n                        ))}\n                        </Select>\n                    </FormControl>\n                    <Box display=\"flex\" alignItems=\"center\" mb={2}>\n                        <Box ml={5} />\n                        <Button color=\"primary\" variant=\"contained\" size=\"large\" onClick={ () =>(accion) ? handleSubmit(): setOpenModal(true)} disableElevation>\n                            <Add />Guardar\n                        </Button>\n                    </Box>\n                </Grid>\n            </Box>\n\t\t\t<ListaConceptos \n\t\t\t\tsetData={setData} \n\t\t\t\tidConcepto={idConcepto} \n\t\t\t\tsetIdConcepto={setIdConcepto} \n\t\t\t\tsetAccion={setAccion} \n\t\t\t\tupdateData={updateData}\n\t\t\t\tsetAlert={setAlert} \n\t\t\t/>\n            <Modal handleModal={handleModal} openModal={openModal} handleSubmit={handleSubmit} />\n\t\t</div>\n\t);\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport CloseIcon from '@material-ui/icons/Close';\nimport Slide from '@material-ui/core/Slide';\nimport { Box, Container } from '@material-ui/core';\nimport RegistroConcepto from './RegistroConcepto';\n\nconst useStyles = makeStyles((theme) => ({\n\tappBar: {\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n\ticon: {\n\t\twidth: 100\n\t}\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function ConceptosAlmacen() {\n\tconst classes = useStyles();\n\tconst [ open, setOpen ] = React.useState(false);\n\n\tconst handleClickOpen = () => {\n\t\tsetOpen(true);\n\t};\n\n\tconst handleClose = () => {\n\t\tsetOpen(false);\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<Button fullWidth onClick={handleClickOpen}>\n\t\t\t\t<Box display=\"flex\" flexDirection=\"column\">\n\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t<img src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/conceptosAlmacen.svg' alt=\"icono numero calzado\" className={classes.icon} />\n\t\t\t\t\t</Box>\n\t\t\t\t\tConceptos Almacén\n\t\t\t\t</Box>\n\t\t\t</Button>\n\t\t\t<Dialog fullScreen open={open} onClose={handleClose} TransitionComponent={Transition}>\n\t\t\t\t<AppBar className={classes.appBar}>\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t<Typography variant=\"h6\" className={classes.title}>\n\t\t\t\t\t\t\tConceptos almacén\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Box m={1}>\n\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"secondary\" onClick={handleClose} size=\"large\">\n\t\t\t\t\t\t\t\t<CloseIcon style={{fontSize: 30}} />\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</AppBar>\n\t\t\t\t<Box mt={4} alignSelf='center' >\n\t\t\t\t\t<Container >\n\t\t\t\t\t\t<RegistroConcepto />\n\t\t\t\t\t</Container>\n\t\t\t\t</Box>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n}\n","import React from 'react';\nimport { Box, Container, Grid } from '@material-ui/core';\nimport Cliente from './Cliente/Cliente';\nimport Productos from './Producto/';\nimport Tallas from './Tallas/Tallas';\n/* import UnidadMedida from './UnidadMedida/UnidadMedida'; */\nimport Contabilidad from './Contabilidad/Contabilidad';\nimport Proveedores from './Proveedores/Proovedores';\nimport Cajas from './Cajas/Cajas'; \nimport Usuarios from './Usuarios/Usuarios';\nimport Departamentos from './Departamentos/Departamentos';\nimport Categorias from './Categorias/Categorias';\nimport Colores from './Colores/Colores';\nimport Marcas from './Marcas/Marcas';\nimport CentroCostos from './CentroCostos/CentroCostos';\nimport ConceptosAlmacen from './ConceptosAlmacen/ConceptosAlmacen';\n\nexport default function Catalogos() {\n\n\tconst permisosUsuario = JSON.parse(localStorage.getItem('sesionCafi'));\n\t\n\treturn (\n\t\t<Container>\n\t\t\t<Grid container spacing={5} justify=\"center\">\n\t\t\t\t{permisosUsuario.accesos.catalogos.clientes.ver === false ? (null):(\n\t\t\t\t\t<Grid item lg={2}>\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t<Cliente />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t)}\n\t\t\t\t<Grid item lg={2}>\n\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t<Productos />\n\t\t\t\t\t</Box>\n\t\t\t\t</Grid>\n\t\t\t\t{permisosUsuario.accesos.catalogos.tallas_numeros.ver === false ? (null):(\n\t\t\t\t\t<Grid item lg={2}>\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t<Tallas />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t)}\n\t\t\t\t{/* <Grid item lg={2}>\n\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t<UnidadMedida />\n\t\t\t\t\t</Box>\n\t\t\t\t</Grid> */}\n\t\t\t\t{permisosUsuario.accesos.catalogos.contabilidad.ver === false ? (null):(\n\t\t\t\t\t<Grid item lg={2}>\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t<Contabilidad />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t)}\n\t\t\t\t{permisosUsuario.accesos.catalogos.provedores.ver === false ? (null):(\n\t\t\t\t\t<Grid item lg={2}>\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t<Proveedores />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t)}\n\t\t\t\t{permisosUsuario.accesos.catalogos.cajas.ver === false ? (null):(\n\t\t\t\t\t<Grid item lg={2}>\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t<Cajas />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t)}\n\t\t\t\t{permisosUsuario.accesos.catalogos.usuarios.ver === false ? (null):(\n\t\t\t\t\t<Grid item lg={2}>\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t<Usuarios />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t)}\n\t\t\t\t{permisosUsuario.accesos.catalogos.departamentos.ver === false ? (null):(\n\t\t\t\t\t<Grid item lg={2}>\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t<Departamentos />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t)}\n\t\t\t\t{permisosUsuario.accesos.catalogos.categorias.ver === false ? (null):(\n\t\t\t\t\t<Grid item lg={2}>\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t<Categorias />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t)}\n\t\t\t\t{permisosUsuario.accesos.catalogos.colores.ver === false ? (null):(\n\t\t\t\t\t<Grid item lg={2}>\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t<Colores />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t)}\n\t\t\t\t{permisosUsuario.accesos.catalogos.marcas.ver === false ? (null):(\n\t\t\t\t\t<Grid item lg={2}>\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t<Marcas />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t)}\n\t\t\t\t{permisosUsuario.accesos.catalogos.centro_costos.ver === false ? (null):(\n\t\t\t\t\t<Grid item lg={2}>\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t<CentroCostos />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t)}\n\t\t\t\t{permisosUsuario.accesos.catalogos.conceptos_almacen.ver === false ? (null):(\n\t\t\t\t\t<Grid item lg={2}>\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t<ConceptosAlmacen />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t)}\n\t\t\t</Grid>\n\t\t</Container>\n\t);\n}\n","import React, { createContext, useState } from \"react\";\n\nexport const TesoreriaCtx = createContext();\n\nexport const TesoreriaProvider = ({ children }) => {\n\n    const [alert, setAlert] = useState({ message: \"\", status: \"\", open: false });\n    const [cuentas, setCuentas] = useState([]);\n    const [cuenta, setCuenta] = useState([]);\n    const [reload, setReload] = useState(false);\n    \n    return (\n        <TesoreriaCtx.Provider\n            value={{\n                alert, \n                setAlert,\n                cuentas, \n                setCuentas,\n                reload, \n                setReload,\n                cuenta, \n                setCuenta\n            }}\n        >\n            {children}\n        </TesoreriaCtx.Provider>\n    );\n};\n","import { gql } from '@apollo/client';\n\nexport const OBTENER_SUCURSALES = gql`\n    query ObtenerSucursalesEmpresa($id: ID!){\n        obtenerSucursalesEmpresa(id: $id){\n            _id\n            nombre_sucursal\n            descripcion\n            usuario_sucursal\n            direccion{\n                calle\n                no_ext\n                no_int\n                codigo_postal\n                colonia\n                municipio\n                localidad\n                estado\n                pais\n            }\n            cuenta_sucursal {\n                dinero_actual\n            }         \n        }\n    }\n`\n\nexport const CREAR_MOVIMIENTO_CUENTA = gql`\n    mutation CrearMovimientoCuenta($input: CrearMovimientoCuentaInput, $empresa: ID!, $sucursal: ID!, $tipo: Boolean){\n        crearMovimientoCuenta(input: $input, empresa: $empresa, sucursal: $sucursal, tipo: $tipo){\n            message\n        }\n    }\n`;\n\nexport const OBTENER_HISTORIAL_CUENTAS = gql`\n    query ObtenerHistorialCuenta($empresa: ID!, $sucursal: ID!, $input: ObtenerHistorialCuenta, $tipo: Boolean){\n        obtenerHistorialCuenta(empresa: $empresa, sucursal: $sucursal, input: $input, tipo: $tipo){\n            tipo_movimiento\n            id_usuario\n            numero_caja\n            id_Caja\n            numero_usuario_creador\n            nombre_usuario_creador\n            horario_turno\n            concepto\n            comentarios\n            montos_en_caja { \n                monto_efectivo{\n                    monto \n                }\n            }\n            fecha_movimiento{\n                completa\n            }\n            empresa\n            sucursal             \n        }\n    }\n`;","import { Box, Button, Dialog, DialogActions,\n        DialogContent, IconButton, makeStyles, \n        MenuItem, Select, Slide, TextField, Typography \n} from '@material-ui/core';\nimport React, { Fragment, useState } from 'react';\nimport moment from 'moment';\n\nimport CompareArrowsIcon from '@material-ui/icons/CompareArrows';\n\nimport SnackBarMessages from '../../../../components/SnackBarMessages';\nimport { CREAR_MOVIMIENTO_CUENTA } from '../../../../gql/Empresa/sucursales';\nimport { useMutation } from '@apollo/client';\n\nconst useStyles = makeStyles((theme) => ({\n\tformInputFlex: {\n\t\tdisplay: 'flex',\n\t\t'& > *': {\n\t\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(1)}px`\n\t\t}\n\t},\n\tformInput: {\n\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(1)}px`\n\t},\n    formComboBox:{\n        height: '50%'\n    },\n    input: {\n        \"& input[type=number]\": {\n          \"-moz-appearance\": \"textfield\",\n        },\n        \"& input[type=number]::-webkit-outer-spin-button\": {\n          \"-webkit-appearance\": \"none\",\n          margin: 0,\n        },\n        \"& input[type=number]::-webkit-inner-spin-button\": {\n          \"-webkit-appearance\": \"none\",\n          margin: 0,\n        },\n    }\n}));\n\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function RetiroDeposito({cuenta, refetch, tipo}) {\n\n    const sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n    const turnoEnCurso = JSON.parse(localStorage.getItem('turnoEnCurso'));\n    const [ CrearMovimientoCuenta ] = useMutation(CREAR_MOVIMIENTO_CUENTA);\n\n    const classes = useStyles();\n    const [alert, setAlert] = useState({ message: \"\", status: \"\", open: false });\n    const [datosMovimiento, setDatosMovimiento] = useState([]);\n    const [open, setOpen] = useState(false);\n\n    const handleClickOpen =()=>{\n        setOpen(!open);\n    };\n\n    const onChangeDatos = (e) => {\n        setDatosMovimiento({...datosMovimiento, [e.target.name]: e.target.value })\n    };\n\n    const input ={\n        tipo_movimiento: datosMovimiento.tipo_movimiento === 'RETIRO' ? 'CUENTA-RETIRO' : 'CUENTA-DEPOSITO',\n        id_usuario: sesion._id,\n        rol_movimiento: tipo === true ? \"CUENTA-EMPRESA\" : \"CUENTA\",\n        numero_caja: turnoEnCurso ? parseInt(turnoEnCurso.numero_caja) : 0,\n        id_Caja: turnoEnCurso ? turnoEnCurso.id_caja : null,\n        numero_usuario_creador: sesion.numero_usuario.toString(),\n        nombre_usuario_creador: sesion.nombre,\n        horario_turno: turnoEnCurso ? turnoEnCurso.horario_turno : null,\n        concepto: datosMovimiento.concepto,\n        hora_moviento: {\n            hora: moment().format('hh'),\n            minutos: moment().format('mm'),\n            segundos: moment().format('ss'),\n            completa: moment().format('HH:mm:ss')\n        },\n        fecha_movimiento: {\n            year: moment().format('YYYY'),\n            mes: moment().format('MM'),\n            dia: moment().format('DD'),\n            no_semana_year: moment().week().toString(),\n            no_dia_year: moment().dayOfYear().toString(),\n            completa: moment().locale('es-mx').format()\n        },\n        montos_en_caja: {\n            monto_efectivo: {\n                monto: parseFloat(datosMovimiento.cantidad),\n                metodo_pago: \"01\"\n            },\n            monto_tarjeta_debito: {\n                monto: 0,\n                metodo_pago: \"28\"\n            },\n            monto_tarjeta_credito: {\n                monto: 0,\n                metodo_pago: \"04\"\n            },\n            monto_creditos: {\n                monto: 0,\n                metodo_pago: \"99\"\n            },\n            monto_monedero: {\n                monto: 0,\n                metodo_pago: \"05\"\n            },\n            monto_transferencia: {\n                monto: 0,\n                metodo_pago: \"03\"\n            },\n            monto_cheques: {\n                monto: 0,\n                metodo_pago: \"02\"\n            },\n            monto_vales_despensa: {\n                monto: 0,\n                metodo_pago: \"08\"\n            },\n        },\n        comentarios: datosMovimiento.comentarios,\n    };\n\n    const enviarDatos = async () => { \n        try {\n            if (!datosMovimiento.concepto || !datosMovimiento.tipo_movimiento || !datosMovimiento.cantidad ) {\n                setAlert({\n                    message: 'Por favor complete los datos',\n                    status: \"error\",\n                    open: true,\n                });\n                return null;\n            }\n            const movimiento = await CrearMovimientoCuenta({\n                variables: {\n                    input,\n                    empresa: sesion.empresa._id,\n                    sucursal: cuenta._id,\n                    tipo: tipo\n                }\n            });\n            refetch();\n            setDatosMovimiento([]); \n            handleClickOpen();\n            setAlert({\n                message: movimiento.data.crearMovimientoCuenta.message,\n                status: \"success\",\n                open: true,\n            });\n        } catch (error) {\n            setAlert({\n                message: error.message,\n                status: \"error\",\n                open: true,\n              });\n        }\n    }\n\n    return (\n        <Fragment>\n            <Box>\n                <IconButton\n                    color='primary'\n                    onClick={handleClickOpen}\n                    size=\"small\"\n                >\n                    <CompareArrowsIcon style={{fontSize: 35}} />\n                </IconButton>\n            </Box>\n            <SnackBarMessages alert={alert} setAlert={setAlert} />\n            <Dialog\n                open={open} \n\t\t\t\tTransitionComponent={Transition} \n\t\t\t\tmaxWidth=\"sm\"\n\t\t\t\tfullWidth\n            >\n                <DialogContent>\n                    <Box textAlign={'center'} p={1}>\n                        <Typography variant='h5'>\n                            Movimiento en Cuenta\n                        </Typography>\n                    </Box>\n                    <div className={classes.formInputFlex}>\n                        <Box width=\"100%\">\n                            <Typography>Usuario</Typography>\n                            <TextField\n                                fullWidth\n                                size=\"small\"\n                                name=\"usuario\"\n                                variant=\"outlined\"\n                                disabled={true}\n                                value={sesion?.nombre}\n                            />\n                        </Box>\n                        <Box width=\"100%\" >\n                            <Typography>Fecha y hora</Typography>\n                            <TextField\n                                fullWidth\n                                disabled={true}\n                                size=\"small\"\n                                value={moment().format('D MMMM YYYY, h:mm:ss')}\n                                name=\"fecha_movimiento\"\n                                variant=\"outlined\"\n\n                            />\n                        </Box>\n                    </div>\n                    <div className={classes.formInputFlex}>\n                        <Box width=\"100%\">\n                            <Typography>Movimiento a Realizar</Typography>\n                            <Select\n                                className={classes.formComboBox}    \n                                size=\"small\"\n                                variant=\"outlined\"\n                                name=\"tipo_movimiento\"\n                                onChange={onChangeDatos}\n                                fullWidth\n                            >\n                                <MenuItem value=''>Ninguno</MenuItem>\n                                <MenuItem value='DEPOSITO'>Deposito</MenuItem>\n                                <MenuItem value='RETIRO'>Retiro</MenuItem>\n                            </Select>\n                        </Box>\n                    </div>\n                    <div className={classes.formInputFlex}>\n                        <Box width=\"100%\">\n                            <Typography>Cantidad</Typography>\n                            <TextField\n                                className={classes.input}\n                                fullWidth\n                                onChange={onChangeDatos}\n                                size=\"small\"\n                                type='number'\n                                name=\"cantidad\"\n                                variant=\"outlined\"\n                            />\n                        </Box>\n                        <Box width=\"100%\">\n                            <Typography>Concepto</Typography>\n                            <TextField\n                                fullWidth\n                                onChange={onChangeDatos}\n                                size=\"small\"\n                                name=\"concepto\"\n                                variant=\"outlined\"\n                            />\n                        </Box>\n                    </div>\n                    <div className={classes.formInputFlex}>\n                        <Box width=\"100%\">\n                            <Typography>Comentarios</Typography>\n                            <TextField\n                                className={classes.input}\n                                fullWidth\n                                onChange={onChangeDatos}\n                                size=\"small\"\n                                multiline\n                                rows={2}\n                                type='number'\n                                name=\"monto_movimiento\"\n                                variant=\"outlined\"\n                            />\n                        </Box>\n                    </div>\n                </DialogContent>\n                <DialogActions>\n                    <Button\n                        color=\"primary\"\n                        variant='outlined'\n                        onClick={enviarDatos}\n                        size=\"large\"\n                    >\n                        Realizar\n                    </Button>\n                    <Button\n                        color=\"secondary\"\n                        variant='outlined'\n                        onClick={handleClickOpen}\n                        size=\"large\"\n                    >\n                        Cancelar\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        </Fragment>\n    )\n}\n","import React, { Fragment, useState, useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { Box, Button, CircularProgress, Dialog, DialogActions, \n        DialogContent,  MenuItem,  Select,  Slide, \n        TextField, Typography\n} from '@material-ui/core';\nimport VisibilityIcon from '@material-ui/icons/Visibility';\nimport moment from 'moment';\n\nimport { useQuery } from '@apollo/client';\nimport { OBTENER_HISTORIAL_CUENTAS } from '../../../../gql/Empresa/sucursales';\nimport { useDebounce } from 'use-debounce/lib';\nimport { formatoMexico } from '../../../../config/reuserFunctions';\n\nconst columns = [\n\t{ id: 'movimiento', label: 'Origen Movimiento', minWidth: 100 },\t\n    { id: 'fecha', label: 'Fecha', minWidth: 100 },\n\t{ id: 'name', label: 'Usuario', minWidth: 150 },\n\t{ id: 'cantidad', label: 'Cantidad', minWidth: 150 },\n\t{ id: 'concepto', label: 'Concepto', minWidth: 150 },\n\t{ id: 'tipo', label: 'Tipo Movimiento', minWidth: 100 }\n];\n\nconst useStyles  = makeStyles((theme) => ({\n\troot: {\n\t\twidth: '100%',\n        height: '50vh'\n\t},\n\tcontainer: {\n\t\tmaxHeight: '100%'\n\t},\n    appBar: {\t\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n    formComboBox:{\n        height: '50%'\n    },\n\trootBusqueda: {\n\t\tdisplay: 'flex',\n\t\tpaddingLeft: theme.spacing(2)\n\t},\n    formInputFlex: {\n\t\tdisplay: 'flex',\n\t\t'& > *': {\n\t\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(1)}px`\n\t\t}\n\t},\n\tformInput: {\n\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(1)}px`\n\t},\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function HistorialCuentas({cuenta, tipo}) {\n    const sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n    moment.locale('es');\n    const classes = useStyles();\n    const [open, setOpen] = useState(false);\n    const [datosFiltro, setDatosFiltro] = useState([]);\n    const [ value ] = useDebounce(datosFiltro, 500);\n\n\n    const handleClickOpen = () => {\n        setOpen(!open);\n        setDatosFiltro([]);\n        refetch();\n    };\n\n    const {  data, error, loading, refetch } = useQuery(OBTENER_HISTORIAL_CUENTAS, {\n\t\tvariables: {\n            input:{\n                fecha_inicio: datosFiltro.fecha_inicio ? datosFiltro.fecha_inicio : \"\",\n                fecha_fin: datosFiltro.fecha_fin ? datosFiltro.fecha_fin : \"\",\n                usuario: value.usuario ? value.usuario : \"\",\n                tipo_movimiento: datosFiltro.tipo_movimiento ? datosFiltro.tipo_movimiento : \"\"\n            },\n            empresa: sesion.empresa._id,\n            sucursal: cuenta._id,\n            tipo: tipo\n\t\t}\n\t});\t\n    \n    let historialCuenta = [];\n    if(data){\n        historialCuenta = data.obtenerHistorialCuenta;\n    };\n\n    const obtenerDatos = (e) => {\n        setDatosFiltro({...datosFiltro, [e.target.name]: e.target.value})\n    };\n\n    useEffect(() => {\n        refetch()\n    }, [refetch])\n\n\treturn (\n        <Fragment>\n            <Box>\n                <Button\n                    color='primary'\n                    onClick={handleClickOpen}\n                    size=\"small\"\n                    endIcon={<VisibilityIcon style={{fontSize: 35}}  />}\n                >\n                    Ver\n                </Button>\n            </Box>\n            <Dialog\n                open={open} \n\t\t\t\tTransitionComponent={Transition} \n\t\t\t\tmaxWidth=\"lg\"\n\t\t\t\tfullWidth\n            >\n                <Box m={1} display=\"flex\" justifyContent=\"flex-end\">\n\t\t\t\t\t<Button variant=\"contained\" color=\"secondary\" onClick={handleClickOpen} size=\"large\">\n\t\t\t\t\t\t<CloseIcon />\n\t\t\t\t\t</Button>\n\t\t\t\t</Box>\n                <DialogContent>\n                    <Box textAlign={'center'} p={1}>\n                        <Typography variant='h6'>\n                            Historial de cuenta\n                        </Typography>\n                    </Box>\n                    <Box>\n                        <div className={classes.formInputFlex}>\n                            <Box width=\"100%\">\n                                <Typography>Fecha inicio:</Typography>\n                                <TextField \n                                    fullWidth\n                                    size=\"small\"\n                                    type='date'\n                                    name=\"fecha_inicio\"\n                                    onChange={obtenerDatos}\n                                    variant=\"outlined\"\n                                />\n                            </Box>\n                            <Box width=\"100%\">\n                                <Typography>Fecha fin:</Typography>\n                                <TextField \n                                    fullWidth\n                                    size=\"small\"\n                                    type='date'\n                                    onChange={obtenerDatos}\n                                    name=\"fecha_fin\"\n                                    variant=\"outlined\"\n                                />\n                            </Box>\n                            <Box width=\"100%\">\n                                <Typography>Usuario:</Typography>\n                                <TextField \n                                    fullWidth\n                                    size=\"small\"\n                                    onChange={obtenerDatos}\n                                    name=\"usuario\"\n                                    variant=\"outlined\"\n                                />\n                            </Box>\n                            <Box width=\"100%\">\n                                <Typography>Tipo Movimiento:</Typography>\n                                <Select\n                                    className={classes.formComboBox}    \n                                    size=\"small\"\n                                    variant=\"outlined\"\n                                    name=\"tipo_movimiento\"\n                                    onChange={obtenerDatos}\n                                    fullWidth\n                                >\n                                    <MenuItem value='TODOS'>Ninguno</MenuItem>\n                                    <MenuItem value='CUENTA-DEPOSITO'>Deposito</MenuItem>\n                                    <MenuItem value='CUENTA-RETIRO'>Retiro</MenuItem>\n                                </Select>\n                            </Box>\n                        </div>\n                    </Box>\n                    <Box p={2}>\n                        <Paper className={classes.root}>\n                            <TableContainer className={classes.container}>\n                                <Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n                                    <TableHead>\n                                        <TableRow>\n                                            {columns.map((column) => (\n                                                <TableCell key={column.id} align={column.align} style={{ minWidth: column.minWidth }}>\n                                                    {column.label}\n                                                </TableCell>\n                                            ))}\n                                        </TableRow>\n                                    </TableHead>\n                                    <TableBody> \n                                        {\n                                            historialCuenta?.map((row, index) => {\n                                                return(\n                                                    <RowsHistorial \n                                                        key={index}\n                                                        row={row}\n                                                        loading={loading}\n                                                    />\n                                                )\n                                            })\n                                        }\n                                       \n                                    </TableBody>\n                                </Table>\n                            </TableContainer>\n                        </Paper>\n                    </Box>\n                </DialogContent>\n                <DialogActions>\n                    <Button\n                        color=\"secondary\"\n                        variant='outlined'\n                        onClick={handleClickOpen}\n                        size=\"large\"\n                    >\n                        Cancelar\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        </Fragment>\n\t);\n};\n\nfunction RowsHistorial ({ row, loading }) {\n\n    if (loading) \n\treturn (\n\t\t<Box\n\t\tdisplay=\"flex\"\n\t\tflexDirection=\"column\"\n\t\tjustifyContent=\"center\"\n\t\talignItems=\"center\"\n\t\theight=\"80vh\"\n\t\t>\n\t\t\t<CircularProgress />\n\t\t</Box>\n\t);\n\n    return(\n        <TableRow\n            hover\n            role=\"checkbox\"handleClickOpen\n            tabIndex={-1}\n        >\n            <TableCell>Caja {row.numero_caja !== \"\" ? row.numero_caja : \"\"}</TableCell>\n            <TableCell>{moment(row?.fecha_movimiento.completa).format('D MMMM YYYY')}</TableCell>\n            <TableCell>{row?.nombre_usuario_creador}</TableCell>\n            <TableCell >\n                <b style={{fontSize: 17}}>${formatoMexico(row.montos_en_caja.monto_efectivo.monto)}</b>\n            </TableCell>\n            <TableCell>{row?.concepto}</TableCell>\n            <TableCell>{\n                row?.tipo_movimiento === \"CUENTA-DEPOSITO\" ? 'DEPOSITO' : 'RETIRO'    \n            }</TableCell>\n\n        </TableRow>\n    );\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport { Box, CircularProgress} from '@material-ui/core';\nimport { useQuery } from '@apollo/client';\n\nimport RetiroDeposito from './RetiroDeposito';\nimport HistorialCuentas from './HistorialCuentas';\nimport { OBTENER_SUCURSALES } from '../../../../gql/Empresa/sucursales';\nimport { OBTENER_DATOS_EMPRESA } from '../../../../gql/Empresa/empresa';\nimport { formatoMexico } from '../../../../config/reuserFunctions';\n\nconst columns = [\n\t{ id: 'name', label: 'Origen', minWidth: 150, align: 'left' },\n\t{ id: 'tipo', label: 'Tipo Cuenta', minWidth: 150, align: 'left' },\n\t{ id: 'dinero', label: 'Dinero Existencia', minWidth: 100, align: 'left' },\n\t{ id: 'movimiento', label: 'Realizar Movimiento', minWidth: 100, align: 'center' },\t\n\t{ id: 'historial', label: 'Historial', minWidth: 100, align: 'center' },\n];\n\nconst useStyles  = makeStyles((theme) => ({\n\troot: {\n\t\twidth: '100%',\n        height: '50vh'\n\t},\n\tcontainer: {\n\t\tmaxHeight: '100%'\n\t},\n    appBar: {\t\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n\trootBusqueda: {\n\t\tdisplay: 'flex',\n\t\tpaddingLeft: theme.spacing(2)\n\t},\n}));\n\nexport default function ListaCuentas() {\n    const sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\n    const {  data, error, loading, refetch } = useQuery(OBTENER_SUCURSALES, {\n\t\tvariables: {\n            id: sesion.empresa._id\n\t\t}\n\t});\t\n\n\n    const cuentaEmpresa = useQuery(OBTENER_DATOS_EMPRESA, {\n\t\tvariables: {\n            id: sesion.empresa._id\n\t\t}\n\t});\t\n\n\tconst classes = useStyles();\n    let cuentasSucursalesEmpresa = [];\n    let cuentaPrincipal = [];\n\n\n    if(cuentaEmpresa.data){\n        cuentaPrincipal = cuentaEmpresa.data.obtenerEmpresa;\n    };\n\n    if (data) {\n        cuentasSucursalesEmpresa = data.obtenerSucursalesEmpresa\n    };\n\n    if (loading && cuentaEmpresa.loading) \n        return (\n            <Box\n            display=\"flex\"\n            flexDirection=\"column\"\n            justifyContent=\"center\"\n            alignItems=\"center\"\n            height=\"50vh\"\n            >\n                <CircularProgress/>\n            </Box>\n        );\n    \n\treturn (\n        <Box p={2}>\n            <Paper className={classes.root}>\n                <TableContainer className={classes.container}>\n                    <Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n                        <TableHead>\n                            <TableRow>\n                                {columns.map((column) => (\n                                    <TableCell key={column.id} align={column.align} style={{ minWidth: column.minWidth }}>\n                                        {column.label}\n                                    </TableCell>\n                                ))}\n                            </TableRow>\n                        </TableHead>\n                        <TableBody> \n                        <TableRow\n                            hover\n                            role=\"checkbox\"handleClickOpen\n                            tabIndex={-1}\n                        >\n                            <TableCell >{cuentaPrincipal?.nombre_empresa}</TableCell>\n                            <TableCell >CUENTA PRINCIPAL</TableCell>\n                            <TableCell >\n                                <b style={{fontSize: 17}}>${formatoMexico(cuentaPrincipal?.cuenta_empresa?.dinero_actual)}</b>\n                            </TableCell>\n                            {sesion.accesos.tesoreria.cuentas_empresa.editar === false ? (\n                                <TableCell align='center'>  </TableCell>\n                            ):(\n                                <TableCell align='center'> <RetiroDeposito cuenta={cuentaPrincipal} refetch={cuentaEmpresa.refetch} tipo={true} /> </TableCell>\n                            )}\n                            <TableCell align='center'> <HistorialCuentas cuenta={cuentaPrincipal}  tipo={true} /> </TableCell>\n                        </TableRow>\n                            {cuentasSucursalesEmpresa?.map((cuenta, index) => {\n                                return(\n                                    <RowsCuentas \n                                        key={index}\n                                        refetch={refetch}\n                                        cuenta={cuenta}\n                                        loading={loading}\n                                        \n                                    /> \n                                )\n                            })}\n                        </TableBody>\n                    </Table>\n                </TableContainer>\n            </Paper>\n        </Box>\n\t);\n};\n\nfunction RowsCuentas ({cuenta, refetch}) {\n\tconst permisosUsuario = JSON.parse(localStorage.getItem('sesionCafi'));\n\n    return(\n        <TableRow\n            hover\n            role=\"checkbox\"handleClickOpen\n            tabIndex={-1}\n        >\n            <TableCell >{cuenta.nombre_sucursal}</TableCell>\n            <TableCell >SUCURSAL</TableCell>\n            <TableCell >\n                <b style={{fontSize: 17}}>${formatoMexico(cuenta?.cuenta_sucursal?.dinero_actual)}</b>\n            </TableCell>\n            {permisosUsuario.accesos.tesoreria.cuentas_empresa.editar === false ? (\n                <TableCell align='center'>  </TableCell>\n            ):(\n                <TableCell align='center'> <RetiroDeposito cuenta={cuenta} refetch={refetch} tipo={false} /> </TableCell>\n            )}\n            <TableCell align='center'> <HistorialCuentas cuenta={cuenta} tipo={false}/> </TableCell>\n        </TableRow>\n    );\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport Typography from '@material-ui/core/Typography';\nimport CloseIcon from '@material-ui/icons/Close';\nimport Slide from '@material-ui/core/Slide';\nimport { Box, DialogContent } from '@material-ui/core';\nimport ListaCuentas from './ListaCuentas';\n\nconst useStyles = makeStyles((theme) => ({\n\tappBar: {\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n    icon: {\n\t\twidth: 100\n\t},\n\tformInputFlex: {\n\t\tdisplay: 'flex',\n\t\t'& > *': {\n\t\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(2)}px`\n\t\t}\n\t},\n\tformInput: {\n\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(2)}px`\n\t},\n\tbuttons: {\n\t\t'& > *': {\n\t\t\tmargin: `0px ${theme.spacing(1)}px`\n\t\t}\n\t}\n\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function CuentasEmpresaSucursales() {\n\tconst classes = useStyles();\n\tconst [ open, setOpen ] = React.useState(false);\n\n\tconst handleClickOpen = () => setOpen(!open);\n\n\treturn (\n\t\t<div>\n\t\t\t<Button fullWidth onClick={handleClickOpen}>\n\t\t\t\t<Box display=\"flex\" flexDirection=\"column\">\n\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n                        <img src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/retiro-de-dinero.svg' alt=\"icono retiro\" className={classes.icon} />\n\t\t\t\t\t</Box>\n\t\t\t\t\tCuentas de Empresa\n\t\t\t\t</Box>\n\t\t\t</Button>\n\n\t\t\t<Dialog \n\t\t\t\topen={open} \n\t\t\t\tTransitionComponent={Transition} \n\t\t\t\tmaxWidth=\"lg\"\n\t\t\t\tfullWidth\n\t\t\t>\n\t\t\t\t<Box m={1} display=\"flex\" justifyContent=\"flex-end\">\n\t\t\t\t\t<Button variant=\"contained\" color=\"secondary\" onClick={handleClickOpen} size=\"large\">\n\t\t\t\t\t\t<CloseIcon />\n\t\t\t\t\t</Button>\n\t\t\t\t</Box>\n\t\t\t\t<DialogContent>\n\t\t\t\t\t<Box textAlign=\"center\">\n\t\t\t\t\t\t<Typography variant=\"h6\">\n\t\t\t\t\t\t\tCuentas de empresa\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box>\n\t\t\t\t\t\t<ListaCuentas />\n\t\t\t\t\t</Box>\n\t\t\t\t</DialogContent>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n}\n","import { gql } from '@apollo/client';\n\nexport const OBTENER_HISTORIAL_EGRESOS = gql`\n    query ObtenerHistorialEgresos($input: ObtenerHistorialEgresosInput, $empresa: ID!, $sucursal: ID!){\n        obtenerHistorialEgresos(input: $input, empresa: $empresa, sucursal: $sucursal){\n            folio_egreso\n            folio_factura\n            empresa_distribuidora\n            provedor\n            productos {\n                cantidad_productos\n                precio_unitario\n                producto\n                total\n            }\n            categoria\n            subCategoria\n            metodo_pago\n            fecha_compra\n            fecha_registro\n            fecha_vencimiento\n            observaciones\n            compra_credito\n            credito_pagado\n            saldo_credito_pendiente\n            saldo_total\n            numero_usuario_creador\n            nombre_usuario_creador\n            id_user\n            empresa\n            sucursal         \n        }\n    }\n`\n\nexport const CREAR_EGRESO = gql`\n    mutation CrearEgreso($input: CrearEgresosInput, $empresa: ID!, $sucursal: ID!){\n        crearEgreso(input: $input, empresa: $empresa, sucursal: $sucursal){\n            message\n        }\n    }\n`;","import React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TablePagination from '@material-ui/core/TablePagination';\nimport TableRow from '@material-ui/core/TableRow';\nimport { IconButton } from '@material-ui/core';\nimport { formatoMexico } from '../../../../config/reuserFunctions';\n\nconst columns = [\n\t{ id: 'cantidad', label: 'Cantidad', minWidth: 100 },\n\t{ id: 'nombre', label: 'Nombre', minWidth: 100 },\n\t{ id: 'precioU', label: 'Precio Unitario', minWidth: 100 },\n    { id: 'total', label: 'Total', minWidth: 100 }\n];\n\nconst useStyles  = makeStyles((theme) => ({\n\troot: {\n\t\twidth: '100%'\n\t},\n\tcontainer: {\n\t\tmaxHeight: '100%'\n\t},\n    appBar: {\t\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(1),\n\t\tflex: 1\n\t},\n    table: {\n        minWidth: 650,\n    },\n}));\n\nexport default function TablaProductosEgresos({productos, borrarProducto}) {\n\tconst classes = useStyles();\n\tconst [ page, setPage ] = useState(0);\n\tconst [ rowsPerPage, setRowsPerPage ] = useState(3);\n\n\tconst handleChangePage = (event, newPage) => {\n\t\tsetPage(newPage);\n\t};\n\n\tconst handleChangeRowsPerPage = (event) => {\n\t\tsetRowsPerPage(+event.target.value);\n\t\tsetPage(0);\n\t};\n\n\treturn (\n\t\t<Paper className={classes.root}>\n\t\t\t<TableContainer className={classes.container}>\n\t\t\t\t<Table stickyHeader className={classes.table} size=\"small\" aria-label=\"a dense table\">\n\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t{columns.map((column) => (\n\t\t\t\t\t\t\t\t<TableCell key={column.id} align={column.align} style={{ minWidth: column.minWidth }}>\n\t\t\t\t\t\t\t\t\t{column.label}\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t<TableCell align={'center'} style={{ minWidth: 100 }}>\n\t\t\t\t\t\t\t\tEliminar\n\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t</TableHead>\n\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t{productos.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage).map((producto, index) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<RowsProductos \n\t\t\t\t\t\t\t\t\tindex={index}\n\t\t\t\t\t\t\t\t\tproducto={producto}\n\t\t\t\t\t\t\t\t\tborrarProducto={borrarProducto}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t\t</TableBody>\n\t\t\t\t</Table>\n\t\t\t</TableContainer>\n\t\t\t<TablePagination\n\t\t\t\trowsPerPageOptions={[]}\n\t\t\t\tcomponent=\"div\"\n\t\t\t\tcount={productos.length}\n\t\t\t\trowsPerPage={rowsPerPage}\n\t\t\t\tpage={page}\n\t\t\t\tonPageChange={handleChangePage}\n\t\t\t\tonRowsPerPageChange={handleChangeRowsPerPage}\n\t\t\t/>\n\t\t</Paper>\n\t);\n};\n\n\nfunction RowsProductos ({index, producto, borrarProducto}) {\n\treturn(\n\t\t<TableRow hover role=\"checkbox\" tabIndex={-1}>\n\t\t\t<TableCell>\n\t\t\t\t{producto?.cantidad_productos}\n\t\t\t</TableCell>\n\t\t\t<TableCell>\n\t\t\t\t{producto?.producto}\n\t\t\t</TableCell>\n\t\t\t<TableCell>\n\t\t\t\t${formatoMexico(producto?.precio_unitario)}\n\t\t\t</TableCell>\n\t\t\t<TableCell>\n\t\t\t\t${formatoMexico(producto?.total)}\n\t\t\t</TableCell>\n\t\t\t<TableCell align='center' >\n\t\t\t\t<IconButton \n\t\t\t\t\taria-label=\"delete\" \n\t\t\t\t\tsize='small'\n\t\t\t\t\tonClick={() => borrarProducto(index)}\n\t\t\t\t>\n\t\t\t\t\t<DeleteIcon fontSize=\"medium\" />\n\t\t\t\t</IconButton>\n\t\t\t</TableCell>\n\t\t</TableRow>\n\t)\n}","import { useMutation, useQuery } from '@apollo/client';\nimport { Box, makeStyles, Select,MenuItem , TextField, Typography, FormControl, OutlinedInput, InputAdornment, IconButton, Button, Divider } from '@material-ui/core';\nimport { Autorenew } from '@material-ui/icons';\nimport AddIcon from '@material-ui/icons/Add';\nimport React, { Fragment, useContext, useEffect, useState } from 'react';\nimport { formatoMexico } from '../../../../config/reuserFunctions';\nimport { TesoreriaCtx } from '../../../../context/Tesoreria/tesoreriaCtx';\nimport { OBTENER_CUENTAS } from '../../../../gql/Catalogos/centroCostos';\nimport { CREAR_EGRESO } from '../../../../gql/Tesoreria/egresos';\nimport TablaProductosEgresos from './TablaProductosEgresos';\n\nconst useStyles = makeStyles((theme) => ({\n\tappBar: {\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n    icon: {\n\t\twidth: 100\n\t},\n\tformInputFlex: {\n\t\tdisplay: 'flex',\n\t\t'& > *': {\n\t\t\tmargin: `${theme.spacing(0)}px ${theme.spacing(1)}px`\n\t\t}\n\t},\n\tformInput: {\n\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(1)}px`\n\t},\n    formComboBox:{\n        height: '50%'\n    },\n    input: {\n        \"& input[type=number]\": {\n          \"-moz-appearance\": \"textfield\",\n        },\n        \"& input[type=number]::-webkit-outer-spin-button\": {\n          \"-webkit-appearance\": \"none\",\n          margin: 0,\n        },\n        \"& input[type=number]::-webkit-inner-spin-button\": {\n          \"-webkit-appearance\": \"none\",\n          margin: 0,\n        },\n    },\n}));\n\nexport default function FormRegistroEgresos({tipo, handleClickOpen}) {\n    const sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n    const { setAlert } = useContext(TesoreriaCtx);\n    const [ CrearEgreso ] = useMutation(CREAR_EGRESO);\n\n    const classes = useStyles();\n    const [upload, setUpload] = useState(false);\n    const [datosEgreso, setDatosEgreso] = useState([]);\n    const [totalCompra, setTotalCompra] = useState(0);\n    const [subCuentas, setSubCuentas] = useState([]);\n    const [producto, setProducto] = useState([]);\n    const [productos, setProductos] = useState([]);\n\n    const obtenerCuentas = useQuery(OBTENER_CUENTAS, {\n\t\tvariables: { empresa: sesion.empresa._id, sucursal: sesion.sucursal._id }\n\t});\n\n    let cuentas = [];\n\n    if (obtenerCuentas.data) {\n        cuentas = obtenerCuentas.data.obtenerCuentas;\n    };\n\n    const GenFolio = () => {\n        const max = 999999999999;\n        const min = 100000000000;\n        const folio_egreso = Math.floor(\n          Math.random() * (max - min + 1) + min\n        ).toString();\n        setDatosEgreso({\n          ...datosEgreso,\n          folio_egreso,\n        });\n    };\n\n    const obtenerDatos = (e) => {\n        setDatosEgreso({...datosEgreso, [e.target.name]: e.target.value });\n    };\n\n    const obtenerSubCuentas = (cuenta) => {\n        setSubCuentas(cuenta.subcuentas);\n    };\n\n    const obtenerDatoProductos = (e) => {\n        setProducto({...producto, [e.target.name]: e.target.value})\n    };\n\n    const agregarProducto = () => {\n        let producto_guardado = {\n            cantidad_productos: parseFloat(producto.cantidad_productos),\n            precio_unitario: parseFloat(producto.precio_unitario),\n            producto: producto.producto,\n            total: (parseFloat(producto.cantidad_productos) * parseFloat(producto.precio_unitario))\n        };\n\n        productos.push(producto_guardado);\n\n        setDatosEgreso({\n            ...datosEgreso,\n            productos,\n        });\n        totalCompraVenta();\n        setProducto([]);\n    };\n    \n    function borrarProducto(index) {\n        productos.forEach(function(elemento, indice, array) {\n            if(index === indice){\n                productos.splice(index, 1);\n            }\n        });\n        setUpload(true);\n    };\n\n    useEffect(() => { \n        totalCompraVenta();\n        setProductos(productos);\n        setUpload(false);\n\n    }, [upload, productos]);\n\n    const totalCompraVenta = () =>{\n        let total = 0;\n        for (let i = 0; i < productos.length; i++) {\n            total += productos[i].total;\n        };\n        setTotalCompra(total);\n    };\n\n    const input = {\n        folio_egreso:  datosEgreso.folio_egreso,\n        folio_factura: datosEgreso.folio_factura,\n        empresa_distribuidora: datosEgreso.empresa_distribuidora,\n        provedor: datosEgreso.provedor,\n        productos: datosEgreso.productos ? datosEgreso.productos : [],\n        categoria: datosEgreso.categoria,\n        subCategoria:  datosEgreso.subCategoria,\n        metodo_pago: datosEgreso.metodo_pago,\n        fecha_compra: datosEgreso.fecha_compra,\n        fecha_vencimiento: datosEgreso.fecha_vencimiento0 ? datosEgreso.fecha_vencimiento : \"\",\n        observaciones: datosEgreso.observaciones,\n        compra_credito: datosEgreso.compra_credito ? datosEgreso.compra_credito : false, \n        credito_pagado: datosEgreso.credito_pagado ? datosEgreso.credito_pagado : false,\n        saldo_credito_pendiente: datosEgreso.saldo_credito_pendiente ? datosEgreso.saldo_credito_pendiente : 0,\n        numero_usuario_creador: sesion.numero_usuario.toString(),\n        nombre_usuario_creador: sesion.nombre,\n        id_user: sesion._id,\n        saldo_total: totalCompra ? totalCompra : 0\n    }\n\n    const enviarDatos = async () => { \n        try {\n            if(!datosEgreso.folio_egreso){\n                setAlert({\n                    message: 'Por favor genere un folio.',\n                    status: \"error\",\n                    open: true,\n                });\n                return null;\n            };\n\n            const egreso = await CrearEgreso({\n                variables: {\n                    input,\n                    empresa: sesion.empresa._id,\n                    sucursal: sesion.sucursal._id\n                }\n            });\n            handleClickOpen();\n            setDatosEgreso([]); \n            setAlert({\n                message: egreso.data.crearEgreso.message,\n                status: \"success\",\n                open: true,\n            });\n\n        } catch (error) {\n            setAlert({\n                message: error.message,\n                status: \"error\",\n                open: true,\n            });\n        }\n    }\n\n    return (\n        <Fragment>\n        <Box p={1}>\n            <Box>\n                <Typography>\n                    <b>Datos Generales</b>\n                </Typography>\n            </Box>\n            <Divider />\n        </Box>\n        <div className={classes.formInputFlex}>\n            <Box width=\"100%\">\n                <FormControl\n                    variant=\"outlined\"\n                    size=\"small\"\n                    name=\"folio_egreso\"\n                    fullWidth\n                >\n                    <Typography>Folio</Typography>\n                    <OutlinedInput\n                        style={{ padding: 0 }}\n                        id=\"form-producto-codigo-barras\"\n                        name=\"folio_egreso\"\n                        value={\n                            datosEgreso.folio_egreso\n                            ? datosEgreso.folio_egreso\n                            : \"\"\n                        }\n                        onChange={obtenerDatos}\n                        endAdornment={\n                        <InputAdornment position=\"start\">\n                            <IconButton\n                                onClick={() => GenFolio()}\n                                color=\"primary\"\n                                size=\"small\"\n                            >\n                                <Autorenew />\n                            </IconButton>\n                        </InputAdornment>\n                        }\n                    />\n                </FormControl>\n            </Box>\n            <Box width=\"100%\">\n                <Typography>ID Factura:</Typography>\n                <TextField\n                    fullWidth\n                    size=\"small\"\n                    name=\"id_factura\"\n                    variant=\"outlined\"\n                    onChange={obtenerDatos}\n                />\n            </Box>\n            <Box width=\"100%\">\n                <Typography>Fecha de Compra:</Typography>\n                <TextField\n                    fullWidth\n                    size=\"small\"\n                    name=\"fecha_compra\"\n                    variant=\"outlined\"\n                    onChange={obtenerDatos}\n                    type=\"date\"\n                    InputLabelProps={{\n                        shrink: true,\n                    }}\n                />\n            </Box>\n            <Box width=\"100%\">\n                <Typography>Metodo de pago:</Typography>\n                    <Select\n                        className={classes.formComboBox}\n                        size=\"small\"\n                        variant=\"outlined\"\n                        onChange={obtenerDatos}\n                        name=\"metodo_pago\"\n                        fullWidth\n                    >\n                        <MenuItem value='TARJETA'>Tarjeta</MenuItem>\n                        <MenuItem value='EFECTIVO'>Efectivo</MenuItem>\n                        <MenuItem value='CHEQUE'>Cheque</MenuItem>\n                        <MenuItem value='TRANSFERENCIA'>Transferencia</MenuItem>\n                        <MenuItem value='MONEDERO ELECTRONICO'>Monedero electronico</MenuItem>\n                    </Select>\n            </Box>\n        </div>\n        <div className={classes.formInputFlex}>\n            <Box width=\"100%\">\n                <Typography>Categoria:</Typography>\n                <Select\n                    className={classes.formComboBox}\n                    size=\"small\"\n                    variant=\"outlined\"\n                    onChange={obtenerDatos}\n                    name=\"categoria\"\n                    fullWidth\n                >\n                    <MenuItem value='Ninguno' onClick={() => setSubCuentas([])}>Ninguno</MenuItem>\n                    {cuentas?.map((cuenta) =>{\n                        return(\n                            <MenuItem \n                                key={cuenta._id}\n                                onClick={() => obtenerSubCuentas(cuenta)}\n                                value={cuenta.cuenta}\n                            >\n                                {cuenta.cuenta}\n                            </MenuItem>\n                        )\n                    })}\n                </Select>\n            </Box>\n            <Box width=\"100%\">\n                <Typography>SubCatergoria:</Typography>\n                <Select\n                    className={classes.formComboBox}\n                    size=\"small\"\n                    variant=\"outlined\"\n                    onChange={obtenerDatos}\n                    name=\"subCategoria\"\n                    fullWidth\n                >\n                    <MenuItem value='Ninguno'>Ninguno</MenuItem>\n                    {subCuentas?.map((subCuenta) =>{\n                        return(\n                            <MenuItem value={subCuenta.subcuenta}>{subCuenta.subcuenta}</MenuItem>\n                        )\n                    })}\n                </Select>\n            </Box>\n            <Box width=\"100%\">\n                <Typography>Empresa:</Typography>\n                <TextField\n                    fullWidth\n                    size=\"small\"\n                    name=\"empresa_distribuidora\"\n                    onChange={obtenerDatos}\n                    variant=\"outlined\"\n                />\n            </Box>\n            <Box width=\"100%\">\n                <Typography>Provedor: </Typography>\n                <TextField\n                    fullWidth\n                    size=\"small\"\n                    name=\"provedor\"\n                    onChange={obtenerDatos}\n                    variant=\"outlined\"\n                />\n            </Box>\n        </div>\n        <Box p={1} mt={1}>\n            <Box>\n                <Typography>\n                    <b>Productos Adquiridos</b>\n                </Typography>\n            </Box>\n            <Divider />\n        </Box>\n        <div className={classes.formInputFlex}>\n            <Box width=\"100%\">\n                <Typography>Cantidad:</Typography>\n                <TextField\n                    fullWidth\n                    className={classes.input}\n                    size=\"small\"\n                    name=\"cantidad_productos\"\n                    value={producto.cantidad_productos ? producto.cantidad_productos : \"\"}\n                    onChange={obtenerDatoProductos}\n                    variant=\"outlined\"\n                    type=\"number\"\n                />\n            </Box>\n            <Box width=\"100%\">\n                <Typography>Producto:</Typography>\n                <TextField\n                    fullWidth\n                    size=\"small\"\n                    name=\"producto\"\n                    value={producto.producto ? producto.producto : \"\"}\n                    onChange={obtenerDatoProductos}\n                    variant=\"outlined\"\n                />\n            </Box>\n            <Box width=\"100%\">\n                <Typography>Precio Unitario:</Typography>\n                <TextField\n                    className={classes.input}\n                    fullWidth\n                    size=\"small\"\n                    name=\"precio_unitario\"\n                    value={producto.precio_unitario ? producto.precio_unitario : \"\"}\n                    onChange={obtenerDatoProductos}\n                    variant=\"outlined\"\n                    type=\"number\"\n                />\n            </Box> \n            <Box width=\"100%\" display='flex' justifyContent='center' alignItems='center'>\n                <Button\n                    variant='outlined'\n                    size='large'\n                    color='primary'\n                    onClick={agregarProducto}\n                    startIcon={<AddIcon />}\n                >\n                    Agregar\n                </Button>\n            </Box>\n        </div>\n        <Box p={1} >\n            <TablaProductosEgresos productos={productos} borrarProducto={borrarProducto} />\n        </Box>\n        <Box display='flex' justifyContent='flex-end' p={1}> \n            <Typography variant='h6'>\n                Total: ${formatoMexico(totalCompra)}\n            </Typography>\n        </Box>\n        <div className={classes.formInputFlex}>\n            <Box width=\"100%\">\n                <Typography>Observaciónes:</Typography>\n                <TextField\n                    multiline\n                    rows={2}\n                    fullWidth\n                    size=\"small\"\n                    name=\"observaciones\"\n                    onChange={obtenerDatos}\n                    variant=\"outlined\"\n                />\n            </Box>\n        </div>\n        <Box display=\"flex\" justifyContent=\"flex-end\">\n            <Box p={1}>\n                <Button\n                    size=\"large\"\n                    variant='contained'\n                    color='primary'\n                    onClick={enviarDatos}\n                >\n                    Guardar Egreso\n                </Button>\n            </Box>\n            <Box p={1}>\n                <Button\n                    size=\"large\"\n                    variant='contained'\n                    color='secondary'\n                >\n                    Cancelar\n                </Button>\n            </Box>\n        </Box>\n        </Fragment>\n    )\n}\n","import React, { Fragment, useContext, useState } from 'react'\nimport PropTypes from 'prop-types';\nimport { AppBar, Box, Button, Grid, makeStyles, Tab, Tabs, Typography } from '@material-ui/core';\nimport { FcDonate } from 'react-icons/fc';\n\nimport CloseIcon from '@material-ui/icons/Close';\nimport FormRegistroEgresos from './FormRegistroEgresos';\nimport moment from 'moment';\nimport { TesoreriaCtx } from '../../../../context/Tesoreria/tesoreriaCtx';\n\n\nfunction TabPanel(props) {\n\tconst { children, value, index, ...other } = props;\n\n\treturn (\n\t\t<div\n\t\t\trole=\"tabpanel\"\n\t\t\thidden={value !== index}\n\t\t\tid={`tabpanel-reg-product-${index}`}\n\t\t\taria-labelledby={`reg-product-tab-${index}`}\n\t\t\t{...other}\n\t\t>\n\t\t\t{value === index && (\n\t\t\t\t<Box p={3} minHeight=\"70vh\">\n\t\t\t\t\t{children}\n\t\t\t\t</Box>\n\t\t\t)}\n\t\t</div>\n\t);\n}\n\nTabPanel.propTypes = {\n\tchildren: PropTypes.node,\n\tindex: PropTypes.any.isRequired,\n\tvalue: PropTypes.any.isRequired\n};\n\nfunction a11yProps(index) {\n\treturn {\n\t\tid: `reg-product-tab-${index}`,\n\t\t'aria-controls': `tabpanel-reg-product-${index}`\n\t};\n}\n\nconst useStyles = makeStyles((theme) => ({\n\tformInputFlex: {\n\t\tdisplay: 'flex',\n\t\t'& > *': {\n\t\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(2)}px`\n\t\t}\n\t},\n\tformInput: {\n\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(2)}px`\n\t},\n\troot: {\n\t\tflexGrow: 1,\n\t\twidth: '100%',\n\t\tbackgroundColor: theme.palette.background.paper\n\t},\n\ticonSvg: {\n\t\twidth: 50\n\t},\n\ticonSize: {\n\t\tfontSize: 40,\n        color: theme.palette.info.main\n\t},\n\tbuttons: {\n\t\t'& > *': {\n\t\t\tmargin: `0px ${theme.spacing(1)}px`\n\t\t}\n\t}\n\n}));\n\nexport default function VistaRegistroEgreso({handleClickOpen}) {\n    const sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n    const classes = useStyles();\n\tconst { setAlert } = useContext(TesoreriaCtx);\n    const [ value, setValue ] = useState(0);\n\n    const handleChange = (event, newValue) => {\n\t\tsetValue(newValue);\n\t};\n\n    return (\n        <Fragment>\n\t\t\t<div className={classes.root}>\n\t\t\t\t<AppBar position=\"static\" color=\"default\" elevation={0}>\n\t\t\t\t\t<Tabs\n\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\tvariant=\"scrollable\"\n\t\t\t\t\t\tscrollButtons=\"on\"\n\t\t\t\t\t\ttextColor='primary'\n\t\t\t\t\t\tindicatorColor='primary'\n\t\t\t\t\t\taria-label=\"scrollable force tabs example\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<Tab\n\t\t\t\t\t\t\tlabel=\"Egreso a Contado\"\n\t\t\t\t\t\t\ticon={<FcDonate className={classes.iconSize} />}\n\t\t\t\t\t\t\t{...a11yProps(0)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Grid container justify=\"flex-end\">\n\t\t\t\t\t\t\t<Box mt={4}>\n\t\t\t\t\t\t\t\t<Typography>Usuario: <b>{sesion.nombre}</b></Typography> \n\t\t\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t\t\t<b>{moment().format('D MMMM YYYY')}</b>\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid>\n\t\t\t\t\t\t\t<Box mt={3} ml={5} display=\"flex\" justifyContent=\"flex-end\">\n\t\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"secondary\" onClick={handleClickOpen} size=\"large\">\n\t\t\t\t\t\t\t\t\t<CloseIcon />\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Tabs>\n\t\t\t\t</AppBar>\n\t\t\t\t<TabPanel value={value} index={0}>\n\t\t\t\t\t<FormRegistroEgresos handleClickOpen={handleClickOpen} tipo='CONTADO' />\n\t\t\t\t</TabPanel>\n\t\t\t</div>\n        </Fragment>\n\n    )\n}\n","import React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport DoneIcon from '@material-ui/icons/Done';\n\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport Slide from '@material-ui/core/Slide';\nimport { Box, DialogActions,Paper} from '@material-ui/core';\nimport VistaRegistroEgreso from './VistaRegistroEgreso';\n\nconst useStyles = makeStyles((theme) => ({\n\tappBar: {\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n    icon: {\n\t\twidth: 100\n\t},\n\troot: {\n\t\tflexGrow: 1,\n\t\twidth: '100%',\n\t\theight: '100vh',\n\t\tbackgroundColor: theme.palette.background.paper\n\t},\n\trootBusqueda: {\n\t\tdisplay: 'flex',\n\t\tpaddingLeft: theme.spacing(2)\n\t},\n\ticonSize: {\n\t\tfontSize: 40,\n        color: theme.palette.info.main\n\t},\n\ticonSizeSecond: {\n\t\twidth: 40,\n\t},\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function Egresos() {\n\tconst classes = useStyles();\n\tconst [ open, setOpen ] = useState(false);\n\n\tconst handleClickOpen = () => setOpen(!open);\n\n\treturn (\n\t\t<div>\n\t\t\t<Button fullWidth onClick={handleClickOpen}>\n\t\t\t\t<Box display=\"flex\" flexDirection=\"column\">\n\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n                        <img src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/income.svg' alt=\"icono egreso\" className={classes.icon} />\n\t\t\t\t\t</Box>\n\t\t\t\t\tEgresos\n\t\t\t\t</Box>\n\t\t\t</Button>\n\t\t\t<Dialog \n\t\t\t\topen={open} \n\t\t\t\tTransitionComponent={Transition} \n\t\t\t\tfullWidth \n\t\t\t\tmaxWidth=\"lg\"\n\t\t\t>\n\t\t\t\t<VistaRegistroEgreso handleClickOpen={handleClickOpen} />\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\n\nconst columns = [\n\t{ id: 'cantidad', label: 'Cantidad', minWidth: 80},\n\t{ id: 'cantidadR', label: 'Cant. Regalo', minWidth: 80},\n\t{ id: 'nombre', label: 'Producto', minWidth: 80},\n\t{ id: 'precio', label: 'Precio', minWidth: 80},\n\t{ id: 'total', label: 'Total', minWidth: 80},\n];\n\nconst useStyles  = makeStyles((theme) => ({\n\troot: {\n\t\twidth: '100%',\n\t\theight: '45vh'\n\t},\n\tcontainer: {\n\t\tmaxHeight: '100%'\n\t},\n    appBar: {\t\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t}\n}));\n\nexport default function TablaCompras({productos}) {\n\tconst classes = useStyles();\n\n\n\treturn (\n\t\t<Paper className={classes.root}>\n\t\t\t<TableContainer className={classes.container}>\n\t\t\t\t<Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t{columns.map((column) => (\n\t\t\t\t\t\t\t\t<TableCell key={column.id} align={column.align} style={{ minWidth: column.minWidth }}>\n\t\t\t\t\t\t\t\t\t{column.label}\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t</TableHead>\n\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t{productos?.map((producto, index) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<TableRow key={index} hover role=\"checkbox\" tabIndex={-1} >\n\t\t\t\t\t\t\t\t\t<TableCell>{producto.cantidad}</TableCell>\n\t\t\t\t\t\t\t\t\t<TableCell>{producto.cantidad_regalo}</TableCell>\n\t\t\t\t\t\t\t\t\t<TableCell>{producto.producto.datos_generales.nombre_comercial}</TableCell>\n\t\t\t\t\t\t\t\t\t<TableCell>{producto.costo}</TableCell>\n\t\t\t\t\t\t\t\t\t<TableCell>{producto.total}</TableCell>\n\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t\t</TableBody>\n\t\t\t\t</Table>\n\t\t\t</TableContainer>\n\t\t</Paper>\n\t);\n}","import { gql } from '@apollo/client';\n\nexport const OBTENER_HISTORIAL_ABONOS = gql`\n    query ObtenerHistorialAbonos($empresa: ID!, $sucursal: ID!, $input: ObtenerHistorialAbonosInput){\n        obtenerHistorialAbonos( empresa: $empresa, sucursal: $sucursal, input: $input ){\n            numero_caja\n            id_Caja\n            horario_turno\n            tipo_movimiento\n            rol_movimiento\n            fecha_movimiento{\n                completa\n            }\n            numero_usuario_creador\n            nombre_usuario_creador\n            monto_total_abonado\n            numero_cliente\n            nombre_cliente\n            telefono_cliente\n            email_cliente\n            montos_en_caja{\n                monto_efectivo{\n                    monto \n                }\n                monto_tarjeta_credito{\n                    monto \n                }\n                monto_tarjeta_debito{\n                    monto \n                }\n                monto_creditos{\n                    monto \n                }\n                monto_monedero{\n                    monto \n                }\n                monto_transferencia{\n                    monto \n                }\n                monto_cheques{\n                    monto \n                }\n                monto_vales_despensa{\n                    monto \n                }\n            }\n        }\n    }\n`\n\nexport const CREAR_ABONO = gql`\n    mutation CrearAbono($empresa: ID!, $sucursal: ID!, $input: CrearAbonoInput){\n        crearAbono(empresa: $empresa, sucursal: $sucursal, input: $input, ){\n            message\n        }\n    }\n`;","import React, { useContext, useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport { useQuery } from '@apollo/client';\nimport { OBTENER_HISTORIAL_ABONOS } from \"../../../../../../../gql/Tesoreria/abonos\";\nimport moment from 'moment';\nimport { TesoreriaCtx } from '../../../../../../../context/Tesoreria/tesoreriaCtx';\n\nconst columns = [\n\t{ id: 'fecha', label: 'Fecha de abono', minWidth: 170, align: 'center' },\n\t{ id: 'cliente', label: 'Nombre', minWidth: 170, align: 'center' },\n\t{ id: 'abono', label: 'Cantidad abonada', minWidth: 170, align: 'right' },\n];\n\nconst useStyles  = makeStyles((theme) => ({\n\troot: {\n\t\twidth: '100%',\n\t\theight: '45vh'\n\t},\n\tcontainer: {\n\t\tmaxHeight: '100%'\n\t},\n    appBar: {\t\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t}\n}));\n\nexport default function TablaAbonos({cuenta}) {\n\t\n\tconst sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n\n\tconst { reload } = useContext(TesoreriaCtx);\n\n\tconst classes = useStyles();\n\n\tconst { loading, data, error, refetch } = useQuery(\n\t\tOBTENER_HISTORIAL_ABONOS, {\n\t\t\tvariables: {\n\t\t\t\tempresa: sesion.empresa._id,\n\t\t\t\tsucursal: sesion.sucursal._id,\n\t\t\t\tinput: {\n\t\t\t\t\tfecha_inicio: \"\",\n\t\t\t\t\tfecha_fin: \"\",\n\t\t\t\t\tusuario: \"\",\n\t\t\t\t\tid_cliente: cuenta.proveedor.id_proveedor._id,\n\t\t\t\t\tid_egreso: \"\",\n\t\t\t\t\trol_movimiento: \"PROVEEDOR\",\n\t\t\t\t\tid_compra: cuenta._id\n\t\t\t\t}\n\t\t\t},\n\t\t  \tfetchPolicy: \"network-only\",\n\t\t}\n\t);\n\t\n\tlet abonos = []\n\tif(data){\n\t\tabonos = data.obtenerHistorialAbonos;\n\t}\n\n\tuseEffect(() => {\n\t\trefetch();\n\t}, [reload])\n\n\treturn (\n\t\t<Paper className={classes.root}>\n\t\t\t<TableContainer className={classes.container}>\n\t\t\t\t<Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t{columns.map((column) => (\n\t\t\t\t\t\t\t\t<TableCell key={column.id} align={column.align} style={{ minWidth: column.minWidth }}>\n\t\t\t\t\t\t\t\t\t{column.label}\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t</TableHead>\n\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t{abonos?.map((row, index) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<TableRow hover tabIndex={-1} key={index}>\n\t\t\t\t\t\t\t\t\t<TableCell align='center'>{moment(row.fecha_movimiento.completa).format('D MMMM YYYY')}</TableCell>\n\t\t\t\t\t\t\t\t\t<TableCell align='center'>{row.nombre_cliente}</TableCell>\n\t\t\t\t\t\t\t\t\t<TableCell align='right'><b>${row.monto_total_abonado}</b></TableCell>\n\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t\t</TableBody>\n\t\t\t\t</Table>\n\t\t\t</TableContainer>\n\t\t</Paper>\n\t);\n}","import React, { useContext, useState } from 'react';\nimport CloseIcon from '@material-ui/icons/Close';\nimport AddCircleOutlineIcon from '@material-ui/icons/AddCircleOutline';\nimport { Box, Button, Dialog, \n        DialogContent,  DialogTitle, FormControl, makeStyles, \n        MenuItem, \n        Select, \n        Slide, TextField, Typography \n} from '@material-ui/core'\nimport { formaPago } from '../../../../Facturacion/catalogos';\nimport { formatoMexico } from '../../../../../../config/reuserFunctions';\nimport { useMutation } from '@apollo/client';\nimport { CREAR_ABONO } from '../../../../../../gql/Tesoreria/abonos';\nimport moment from 'moment';\nimport BackdropComponent from '../../../../../../components/Layouts/BackDrop';\nimport { TesoreriaCtx } from '../../../../../../context/Tesoreria/tesoreriaCtx';\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n    return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nconst useStyles = makeStyles((theme) => ({\n\tinput: {\n        \"& input[type=number]\": {\n          \"-moz-appearance\": \"textfield\",\n        },\n        \"& input[type=number]::-webkit-outer-spin-button\": {\n          \"-webkit-appearance\": \"none\",\n          margin: 0,\n        },\n        \"& input[type=number]::-webkit-inner-spin-button\": {\n          \"-webkit-appearance\": \"none\",\n          margin: 0,\n        },\n    },\n    formInputFlex: {\n\t\tdisplay: 'flex',\n\t\t'& > *': {\n\t\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(.5)}px`\n\t\t},\n\t\t'& .obligatorio': {\n\t\t\tcolor: 'red'\n\t\t},\n        paddingTop: 0,\n        alignItems: \"center\",\n        justifyItems: \"center\"\n\t},\n}));\n\nexport default function AbonoaRecibir({cuenta}) {\n    const [ CrearAbono ] = useMutation(CREAR_ABONO);\n    \n\tconst { setReload, setAlert } = useContext(TesoreriaCtx);\n\n    const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n\n    const classes = useStyles();\n    \n    const [open, setOpen] = useState(false);\n    const [loading, setLoading] = useState(false);\n    const [abono, setAbono] = useState(''); \n    const [metodoPago, setMetodoPago] = useState('');\n\n    \n    const input = {\n        tipo_movimiento: \"ABONO\",\n        rol_movimiento: \"PROVEEDOR\",\n        fecha_movimiento: {\n            year: moment().format('YYYY'),\n            mes: moment().format('MM'),\n            dia: moment().format('DD'),\n            no_semana_year: moment().week().toString(),\n            no_dia_year: moment().dayOfYear().toString(),\n            completa: moment().locale('es-mx').format()\n        },\n        monto_total_abonado: parseFloat(abono),\n        montos_en_caja: {   \n            monto_efectivo: {\n                monto: metodoPago === '01' ? parseFloat(abono) : 0,\n                metodo_pago: \"01\"\n            },\n            monto_tarjeta_debito: {\n                monto: metodoPago === '28' ? parseFloat(abono) : 0,\n                metodo_pago: \"28\"\n            },\n            monto_tarjeta_credito: {\n                monto: metodoPago === '04' ? parseFloat(abono) : 0,\n                metodo_pago: \"04\"\n            },\n            monto_creditos: {\n                monto: metodoPago === '99' ? parseFloat(abono) : 0,\n                metodo_pago: \"99\"\n            },\n            monto_monedero: {\n                monto: metodoPago === '05' ? parseFloat(abono) : 0,\n                metodo_pago: \"05\"\n            },\n            monto_transferencia: {\n                monto: metodoPago === '03' ? parseFloat(abono) : 0,\n                metodo_pago: \"03\"\n            },\n            monto_cheques: {\n                monto: metodoPago === '02' ? parseFloat(abono) : 0,\n                metodo_pago: \"02\"\n            },\n            monto_vales_despensa: {\n                monto: metodoPago === '08' ? parseFloat(abono) : 0,\n                metodo_pago: \"08\"\n            },\n        },\n        metodo_de_pago:{\n            clave: \"\",\n            metodo:  \"\",\n        },\n        id_usuario: sesion._id,\n        numero_usuario_creador: sesion.numero_usuario,\n        nombre_usuario_creador: sesion.nombre,\n        id_cliente: cuenta.proveedor.id_proveedor._id,\n        numero_cliente: cuenta.proveedor.numero_cliente,\n        nombre_cliente: cuenta.proveedor.nombre_cliente, \n        telefono_cliente: cuenta.proveedor.id_proveedor.telefono, \n        email_cliente: cuenta.proveedor.id_proveedor.email,\n        id_compra: cuenta._id\n    };\n\n    \n    const enviarDatos = async () => { \n        setLoading(true);\n        try {\n            if(abono === '' || metodoPago === '' ){\n                setAlert({ \n                    message: 'Por favor complete los datos', \n                    status: 'error', \n                    open: true \n                });\n                setLoading(false);\n                return \n            }; \n            await CrearAbono({\n                variables: {\n                    empresa: sesion.empresa._id,\n                    sucursal: sesion.sucursal._id,\n                    input\n                },\n            });\n            setReload(true);\n            setAbono('');\n            setMetodoPago('');\n            setAlert({ \n                message: 'Abono registrado con exito', \n                status: 'success', \n                open: true \n            });\n            handleClick();\n            setLoading(false);\n        } catch (error) {\n            handleClick();\n            setLoading(false);\n            setAlert({ \n                message: 'Ocurrio un problema en el servidor', \n                status: 'error', \n                open: true \n            });\n\n        }\n    };\n\n    const handleClick = () => {\n        setReload(true);\n        setOpen(!open);\n    };\n\n    return (\n        <div>\n            <Button\n                size=\"large\"\n                variant=\"outlined\" \n                fullWidth\n                color=\"primary\"\n                startIcon={<AddCircleOutlineIcon style={{fontSize: 35}} />}\n                onClick={handleClick}\n            >\n                <Typography variant=\"h6\">\n                    Abonar    \n                </Typography>\n            </Button>\n            <Dialog\n                open={open}\n                TransitionComponent={Transition}\n                keepMounted\n                onClose={handleClick}\n                fullWidth\n                maxWidth='xs'\n            >\n                <BackdropComponent loading={loading} setLoading={setLoading} />\n                <DialogTitle id=\"alert-dialog-slide-title\">\n                    <Box display=\"flex\">\n                        <Box p={1} flexGrow={1}>\n                            Registrar nuevo abono\n                        </Box>\n                        <Box p={1}>\n                            <Button variant=\"contained\" color=\"secondary\" onClick={handleClick} size=\"large\">\n\t\t\t\t\t\t\t\t<CloseIcon />\n\t\t\t\t\t\t\t</Button>\n                        </Box>\n                    </Box>\n                </DialogTitle>\n                <DialogContent>\n                    <Box width=\"100%\"  mt={2} >\n                        <Typography><b>Cantidad a abonar:</b></Typography>\n                        <TextField\n                            fullWidth\n                            className={classes.input}\n                            onChange={(e) => setAbono(e.target.value)}\n                            value={abono}\n                            size=\"small\"\n                            name=\"abono_recibir\"\n                            variant=\"outlined\"\n                            type='number'\n                        />\n                    </Box>\n                    <div className={classes.formInputFlex}>\n                        <Box width=\"100%\" mt={2} >\n                            <Typography><b>Metodo de pago:</b></Typography>\n                            <FormControl \n                                variant=\"outlined\"\n                                fullWidth\n                                size=\"small\"\n                            >\n                                <Select\n                                    width=\"100%\"\n                                    name=\"metodo_pago\"\n                                    variant='outlined'\n                                    value={metodoPago ? metodoPago : ''}\n                                    onChange={(e) => setMetodoPago(e.target.value)}\n                                >\n                                    <MenuItem value=\"\">\n                                        <em>Selecciona uno</em>\n                                    </MenuItem>\n                                    {formaPago.map((metodo, index) => {\n                                        return(\n                                            <MenuItem key={index} value={metodo.Value}>{metodo.Name}</MenuItem>\n                                        )\n                                    })}\n                                </Select>\n                            </FormControl>\n                        </Box>\n                    </div>\n                    <Box width=\"100%\" mt={2} display='flex'>\n                        <Box flexGrow={1}>\n                            <Typography variant='h6'>\n                                <b>Total cuenta</b>\n                            </Typography>\n                        </Box>\n                        <Typography style={{color: '#9B9B9B'}} variant='h6'>\n                            <b>${formatoMexico(cuenta.total)}</b>\n                        </Typography>\n                    </Box>\n                    <Box width=\"100%\" display='flex'>\n                        <Box flexGrow={1}>\n                            <Typography  variant='h6'>\n                                <b>Total abonado</b>\n                            </Typography>\n                        </Box>\n                        <Typography style={{color: 'green'}} variant='h6'>\n                            <b>${formatoMexico(cuenta.total - cuenta.saldo_credito_pendiente)}</b>\n                        </Typography>\n                    </Box>\n                    <Box width=\"100%\" display='flex'>\n                        <Box flexGrow={1} >\n                            <Typography  variant='h6'>\n                                <b>Total restante</b>\n                            </Typography>\n                        </Box>\n                        <Typography  variant='h6'>\n                            <b>${formatoMexico(cuenta.saldo_credito_pendiente)}</b>\n                        </Typography>\n                    </Box>\n                    \n                </DialogContent>\n                <Box display=\"flex\" justifyContent=\"center\" alignContent=\"center\" p={2}>\n                    <Button\n                        size=\"large\"\n                        variant=\"contained\" \n                        color=\"primary\"\n                        style={{fontSize: 18}}\n                        onClick={enviarDatos}\n                    >\n                        Registrar Abono\n                    </Button>\n                </Box>\n            </Dialog>\n        </div>\n    )\n}\n","import React, { Fragment } from 'react'\nimport { Box, Grid, makeStyles, Typography, Button, AppBar, Toolbar } from '@material-ui/core';\nimport CloseIcon from '@material-ui/icons/Close';\nimport TablaCompras from './TablaCompras';\nimport TablaAbonos from './TablaDeAbonos';\nimport AbonoaRecibir from '../AbonoPercibir';\nimport moment from 'moment';\nimport { formatoMexico } from '../../../../../../../config/reuserFunctions';\n\nconst useStyles = makeStyles((theme) => ({\n    appBar: {\t\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n    icon: {\n\t\twidth: 100\n\t},\n\tformInputFlex: {\n\t\tdisplay: 'flex',\n\t\t'& > *': {\n\t\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(1)}px`\n\t\t}\n\t},\n\tformInput: {\n\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(1)}px`\n\t},\n}));\n\n\nexport default function DetallesCuenta({handleClick, cuenta}) {\n\tconst permisosUsuario = JSON.parse(localStorage.getItem('sesionCafi'));\n    const classes = useStyles();\n\n    return (\n        <Fragment>\n            <AppBar className={classes.appBar}>\n                <Toolbar>\n                    <Typography variant=\"h6\" className={classes.title}>\n                        Detalles de cuenta\n                    </Typography>\n                    <Box m={1}>\n                        <Button variant=\"contained\" color=\"secondary\" onClick={handleClick} size=\"large\">\n                            <CloseIcon style={{fontSize: 30}} />\n                        </Button>\n                    </Box>\n                </Toolbar>\n            </AppBar>\n            <div className={classes.formInputFlex}>\n                <Box width=\"100%\" p={1}>\n                    <Box width=\"100%\" display=\"flex\" p={.5}>\n                        <Typography><b>Nombre de proveedor: </b> </Typography>\n                        <Typography style={{paddingLeft: 5}}>{cuenta.proveedor.id_proveedor.nombre_cliente}</Typography>\n                    </Box>\n                    <Box width=\"100%\" display=\"flex\"  p={.5}>\n                        <Typography><b>Clave proveedor: </b> </Typography>\n                        <Typography style={{paddingLeft: 5}}>{cuenta.proveedor.id_proveedor.clave_cliente}</Typography>\n                    </Box>\n                </Box>\n                <Box width=\"100%\" p={1}>\n                    <Box width=\"100%\" display=\"flex\" p={.5}>\n                        <Typography><b>Nombre de usuario: </b> </Typography>\n                        <Typography style={{paddingLeft: 5}}>{cuenta.usuario.nombre}</Typography>\n                    </Box>\n                    <Box width=\"100%\" display=\"flex\"  p={.5}>\n                        <Typography><b>Numero usuario: </b> </Typography>\n                        <Typography style={{paddingLeft: 5}}>{cuenta.usuario.numero_usuario}</Typography>\n                    </Box>\n                </Box>\n                <Box width=\"100%\" p={1}>\n                    <Box width=\"100%\" display=\"flex\" p={.5}>\n                        <Typography><b>Fecha compra: </b> </Typography>\n                        <Typography style={{paddingLeft: 5}}>{moment(cuenta.fecha_registro).format('D MMMM YYYY')}</Typography>\n                    </Box>\n                    <Box width=\"100%\" display=\"flex\"  p={.5}>\n                        <Typography><b>Fecha vencimiento: </b> </Typography>\n                        <Typography style={{paddingLeft: 5}}>{moment(cuenta.fecha_vencimiento_credito).format('D MMMM YYYY')}</Typography>\n                    </Box>\n                </Box>\n                {permisosUsuario.accesos.tesoreria.abonos_proveedores.editar === false ? (null) : (\n                    <Box width=\"60%\" p={1} display='flex' alignItems={'center'} >\n                        <AbonoaRecibir cuenta={cuenta} />\n                    </Box>\n                )}\n            </div>\n            <Grid container>\n                <Grid item lg={6} xs={12}>\n                    <Box p={2}>\n                        <Typography variant=\"h6\">\n                            Lista de abonos\n                        </Typography>\n                    </Box>\n                    <Box p={2}>\n                        <TablaAbonos cuenta={cuenta} />\n                    </Box>\n                    <Box p={1} mr={3} display=\"flex\" justifyContent=\"flex-end\">\n                        <Typography variant='h6'>Total abonado: <b style={{color: \"#9B9B9B\"}}>${cuenta.total - cuenta.saldo_credito_pendiente}</b></Typography>\n                    </Box> \n                    <Box p={1} mr={3} display=\"flex\" justifyContent=\"flex-end\">\n                        <Typography variant='h6'>Restante: <b  style={{color: \"green\"}}>${formatoMexico(cuenta.saldo_credito_pendiente)}</b></Typography>\n                    </Box>\n                </Grid>\n                <Grid item lg={6} xs={12}>\n                    <Box p={2} >\n                        <Typography variant=\"h6\">\n                            Lista de compra\n                        </Typography>\n                    </Box>\n                    <Box p={2}>\n                        <TablaCompras productos={cuenta.productos}/>\n                    </Box>\n                    <Box p={1} mr={3} display=\"flex\" justifyContent=\"flex-end\">\n                        <Typography variant='h6'>Total a liquidar: <b  style={{color: \"red\"}}>${formatoMexico(cuenta.total)}</b></Typography>\n                    </Box>\n                </Grid>\n            </Grid>\n        </Fragment>\n\n    )\n}\n","import React, { useContext, useState } from 'react'\nimport {  Box, Button, Dialog, DialogActions, DialogContent, FormControl, makeStyles, MenuItem, Select, Slider, TextField, Typography } from '@material-ui/core';\nimport DoneIcon from '@material-ui/icons/Done';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { formatoMexico } from '../../../../../../config/reuserFunctions';\nimport BackdropComponent from '../../../../../../components/Layouts/BackDrop';\nimport { formaPago } from '../../../../Facturacion/catalogos';\nimport moment from 'moment';\nimport { CREAR_ABONO } from '../../../../../../gql/Tesoreria/abonos';\nimport { useMutation } from '@apollo/client';\nimport { TesoreriaCtx } from '../../../../../../context/Tesoreria/tesoreriaCtx';\n\nconst useStyles = makeStyles((theme) => ({\n\tformInputFlex: {\n\t\tdisplay: 'flex',\n\t\t'& > *': {\n\t\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(1)}px`\n\t\t}\n\t},\n\tformInput: {\n\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(1)}px`\n\t},\n    appBar: {\n\t\tposition: 'relative'\n\t},\n}));\n\nexport default function LiquidarCuenta({cuenta, refetch}) {\n    const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n    const { setAlert, setReload } = useContext(TesoreriaCtx);\n\n    const [ CrearAbono ] = useMutation(CREAR_ABONO);\n\n    const [open, setOpen] = useState(false);\n    const [value, setValue] = useState(0);\n    const [cuentaTotalDescuento, setCuentaTotalDescuento] = useState(0);\n    const [dineroDescontado, setDineroDescontado] = useState(0);\n\n    const [loading, setLoading] = useState(false);\n    const [metodoPago, setMetodoPago] = useState('');\n\n    const handleClick = () => { \n        setOpen(!open);\n        setCuentaTotalDescuento(0);\n        setDineroDescontado(0);\n        setValue(0)\n    };\n\n    const classes = useStyles();\n\n    const obtenerPorcientoSlide = (event, newValue) => {\n        setValue(newValue);\n        let porcentaje  =  parseFloat((100 - newValue).toFixed(2));//Porcentaje para calculos de descuento\n        let cuenta_con_descuento = parseFloat((cuenta.saldo_credito_pendiente * porcentaje / 100).toFixed(2));\n        let dineroDescontado = parseFloat((cuenta.saldo_credito_pendiente - cuenta_con_descuento).toFixed(2));\n        setCuentaTotalDescuento(cuenta_con_descuento);\n        setDineroDescontado(dineroDescontado);\n    };\n\n    const obtenerPrecioText = (e) => {\n        let valorText = parseFloat(e.target.value);\n\n        let porcentaje  = parseFloat((((valorText * 100) / cuenta.saldo_credito_pendiente ).toFixed(2)));\n        let dineroDescontado = parseFloat((cuenta.saldo_credito_pendiente - valorText).toFixed(2));\n\n        setCuentaTotalDescuento(valorText);\n        setDineroDescontado(dineroDescontado);\n        setValue(porcentaje);\n\n    };\n    \n    function valuetext(e) {\n        return `${e}`;\n    };\n\n    const input = {\n        tipo_movimiento: \"ABONO\",\n        rol_movimiento: \"PROVEEDOR\",\n        fecha_movimiento: {\n            year: moment().format('YYYY'),\n            mes: moment().format('MM'),\n            dia: moment().format('DD'),\n            no_semana_year: moment().week().toString(),\n            no_dia_year: moment().dayOfYear().toString(),\n            completa: moment().locale('es-mx').format()\n        },\n        monto_total_abonado: parseFloat(cuenta.saldo_credito_pendiente),\n        descuento: {\n            porciento_descuento: value,\n            dinero_descontado: dineroDescontado,\n            total_con_descuento: cuentaTotalDescuento\n        },\n        montos_en_caja: {   \n            monto_efectivo: {\n                monto: metodoPago === '01' ? parseFloat(cuentaTotalDescuento === 0 ? cuenta.saldo_credito_pendiente : cuentaTotalDescuento) : 0,\n                metodo_pago: \"01\"\n            },\n            monto_tarjeta_debito: {\n                monto: metodoPago === '28' ? parseFloat(cuentaTotalDescuento === 0 ? cuenta.saldo_credito_pendiente : cuentaTotalDescuento) : 0,\n                metodo_pago: \"28\"\n            },\n            monto_tarjeta_credito: {\n                monto: metodoPago === '04' ? parseFloat(cuentaTotalDescuento === 0 ? cuenta.saldo_credito_pendiente : cuentaTotalDescuento) : 0,\n                metodo_pago: \"04\"\n            },\n            monto_creditos: {\n                monto: metodoPago === '99' ? parseFloat(cuentaTotalDescuento === 0 ? cuenta.saldo_credito_pendiente : cuentaTotalDescuento) : 0,\n                metodo_pago: \"99\"\n            },\n            monto_monedero: {\n                monto: metodoPago === '05' ? parseFloat(cuentaTotalDescuento === 0 ? cuenta.saldo_credito_pendiente : cuentaTotalDescuento) : 0,\n                metodo_pago: \"05\"\n            },\n            monto_transferencia: {\n                monto: metodoPago === '03' ? parseFloat(cuentaTotalDescuento === 0 ? cuenta.saldo_credito_pendiente : cuentaTotalDescuento) : 0,\n                metodo_pago: \"03\"\n            },\n            monto_cheques: {\n                monto: metodoPago === '02' ? parseFloat(cuentaTotalDescuento === 0 ? cuenta.saldo_credito_pendiente : cuentaTotalDescuento) : 0,\n                metodo_pago: \"02\"\n            },\n            monto_vales_despensa: {\n                monto: metodoPago === '08' ? parseFloat(cuentaTotalDescuento === 0 ? cuenta.saldo_credito_pendiente : cuentaTotalDescuento) : 0,\n                metodo_pago: \"08\"\n            },\n        },\n        metodo_de_pago:{\n            clave: \"\",\n            metodo:  \"\",\n        },\n        numero_usuario_creador: sesion.numero_usuario,\n        nombre_usuario_creador: sesion.nombre,\n        id_cliente: cuenta.proveedor.id_proveedor._id,\n        numero_cliente: cuenta.proveedor.numero_cliente,\n        nombre_cliente: cuenta.proveedor.nombre_cliente, \n        telefono_cliente: cuenta.proveedor.id_proveedor.telefono, \n        email_cliente: cuenta.proveedor.id_proveedor.email,\n        id_compra: cuenta._id\n    };\n\n    \n    const enviarDatos = async () => { \n        setLoading(true);\n        try {\n            if( metodoPago === '' ){\n                setAlert({ \n                    message: 'Por favor complete el metodo de pago', \n                    status: 'error', \n                    open: true \n                });\n                setLoading(false);\n                return \n            }; \n            await CrearAbono({\n                variables: {\n                    empresa: sesion.empresa._id,\n                    sucursal: sesion.sucursal._id,\n                    input\n                },\n            });\n            setReload(true);\n            setMetodoPago('');\n            setAlert({ \n                message: 'Cuenta liquidada con exito', \n                status: 'success', \n                open: true \n            });\n            handleClick();\n            setLoading(false);\n\n        } catch (error) {\n            handleClick();\n            setLoading(false);\n            setAlert({ \n                message: 'Ocurrio un problema en el servidor', \n                status: 'error', \n                open: true \n            });\n        }\n    };\n\n    return (\n        <div>\n            <Button\n                size=\"medium\"\n                variant=\"outlined\"  \n                color=\"primary\"\n                startIcon={<DoneIcon />}\n                onClick={handleClick}\n            >\n                Liquidar\n            </Button>\n\n            <Dialog\n                open={open}\n                fullWidth\n                maxWidth='xs'\n                onClose={handleClick}\n                aria-labelledby=\"draggable-dialog-title\"\n            >\n                <BackdropComponent loading={loading} setLoading={setLoading} />\n                <Box display=\"flex\">\n                    <Box flexGrow={1} p={2}>\n                        <Typography variant=\"h6\" className={classes.title}>\n                            Liquidar Cuenta\n                        </Typography>\n                    </Box>\n                    <Box p={1}>\n                        <Button variant=\"contained\" color=\"secondary\" onClick={handleClick} size=\"large\">\n                            <CloseIcon  />\n                        </Button>\n                    </Box>\n\t\t\t\t</Box>\n                <DialogContent>\n                    <Typography>Aplica un descuento por pronto pago a tu cuenta</Typography>\n                    <Box mt={1} textAlign=\"center\">\n                        <Typography id=\"discrete-slider-always\" gutterBottom>\n                            <b>Porcentaje de descuento</b>\n                        </Typography>\n                    </Box>\n                    <Box ml={1} mr={1} mb={2} >\n                        <Slider\n                            getAriaValueText={valuetext}\n                            valueLabelFormat={value.toFixed(2)}\n                            aria-labelledby=\"discrete-slider-small-steps\"\n                            valueLabelDisplay=\"auto\"\n                            onChange={obtenerPorcientoSlide} \n                        />\n                    </Box>\n                    <Box width=\"100%\" textAlign=\"center\">\n                        <Typography id=\"discrete-slider-always\" gutterBottom>\n                            <b>Dinero a liquidar con descuento</b>\n                        </Typography>\n                        <TextField\n                            fullWidth\n                            size=\"small\"\n                            name=\"descuento\"\n                            variant=\"outlined\"\n                            value={cuentaTotalDescuento ? cuentaTotalDescuento : 0 }\n                            onChange={obtenerPrecioText}\n                        />\n                    </Box>\n                    <Box width=\"100%\" mt={2} textAlign={'center'} >\n                        <Typography><b>Metodo de pago:</b></Typography>\n                        <FormControl\n                            variant=\"outlined\"\n                            fullWidth\n                            size=\"small\"\n                        >\n                            <Select\n                                width=\"100%\"\n                                name=\"metodo_pago\"\n                                variant='outlined'\n                                onChange={(e) => setMetodoPago(e.target.value )}\n                            >\n                                <MenuItem value=\"\">\n                                    <em>Selecciona uno</em>\n                                </MenuItem>\n                                {formaPago.map((metodo, index) => {\n                                    return(\n                                        <MenuItem key={index} value={metodo.Value}>{metodo.Name}</MenuItem>\n                                    )\n                                })}\n                            </Select>\n                        </FormControl>\n                    </Box>\n                    <Box display=\"flex\" mt={2}>\n                        <Box flexGrow={1}>\n                            <Typography>Total cuenta: </Typography>\n                        </Box>\n                        <Box>\n                            <Typography><b>${formatoMexico(cuenta.total)}</b></Typography>\n                        </Box>\n                    </Box>\n                    <Box display=\"flex\">\n                        <Box flexGrow={1}>\n                            <Typography>Saldo pendiente: </Typography>\n                        </Box>\n                        <Box >\n                            <Typography><b>${formatoMexico(cuenta.saldo_credito_pendiente)}</b></Typography>\n                        </Box>\n                    </Box>\n                    <Box display=\"flex\">\n                        <Box flexGrow={1}>\n                            <Typography>Dinero Descontado: </Typography>\n                        </Box>\n                        <Box >\n                            <Typography><b>${formatoMexico(dineroDescontado)}</b></Typography>\n                        </Box>\n                    </Box>\n                    <Box display=\"flex\">\n                        <Box flexGrow={1}>\n                            <Typography>Porciento Descontado: </Typography>\n                        </Box>\n                        <Box >\n                            <Typography><b>{formatoMexico(value)}%</b></Typography>\n                        </Box>\n                    </Box>\n                    <Box display=\"flex\">\n                        <Box flexGrow={1}>\n                            <Typography variant=\"h6\" >Total a pagar:</Typography>\n                        </Box>\n                        <Box >\n                            <Typography variant=\"h6\" ><b style={{color: 'green'}}>${formatoMexico(cuentaTotalDescuento === 0 ? cuenta.saldo_credito_pendiente : cuentaTotalDescuento)}</b></Typography>\n                        </Box>\n                    </Box>\n                </DialogContent>\n                <DialogActions>\n                    <Button \n                        onClick={enviarDatos} \n                        color=\"primary\"\n                        variant=\"contained\"\n                        size=\"large\"\n                    >\n                        Liquidar\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        </div>\n    )\n}\n","import React, { Fragment, useContext, useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport {formatoMexico} from '../../../../../../config/reuserFunctions'\nimport DetallesCuenta from './DetalleCuenta/DetallesCuenta';\nimport LiquidarCuenta from './LiquidarCuenta';\nimport moment from 'moment';\n\nimport { Box, CircularProgress, Dialog, Slide, TableHead } from '@material-ui/core';\nimport 'moment/locale/es';\nimport { TesoreriaCtx } from '../../../../../../context/Tesoreria/tesoreriaCtx';\n\nconst columns = [\n\t{ id: 'fecha', label: 'Fecha Compra', minWidth: 100, align: 'center' },\n\t{ id: 'provedor', label: 'Provedor', minWidth: 100, align: 'center' },\n\t{ id: 'abonado', label: 'Abonado', minWidth: 100, align: 'center' },\n    { id: 'restante', label: 'Restante', minWidth: 100, align: 'center' },\n    { id: 'total', label: 'Total', minWidth: 100, align: 'center' }\n];\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n\t\twidth: '100%'\n\t},\n\tpaper: {\n\t\twidth: '100%',\n\t\tmarginBottom: theme.spacing(2)\n\t},\n\ttable: {\n\t\tminWidth: 750\n\t},\n\tvisuallyHidden: {\n\t\tborder: 0,\n\t\tclip: 'rect(0 0 0 0)',\n\t\theight: 1,\n\t\tmargin: -1,\n\t\toverflow: 'hidden',\n\t\tpadding: 0,\n\t\tposition: 'absolute',\n\t\ttop: 20,\n\t\twidth: 1\n\t}\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function TablaAbonos({loading}) {\n\n\tconst { cuentas} = useContext(TesoreriaCtx);\n\n\tconst classes = useStyles();\n\n\tif (loading) \n\t\treturn (\n\t\t\t<Box\n\t\t\tdisplay=\"flex\"\n\t\t\tflexDirection=\"column\"\n\t\t\tjustifyContent=\"center\"\n\t\t\talignItems=\"center\"\n\t\t\theight=\"50vh\"\n\t\t\t>\n\t\t\t\t<CircularProgress />\n\t\t\t</Box>\n\t\t);\n\n\treturn (\n\t\t<Fragment>\n\t\t<div className={classes.root}>\n\t\t\t<Paper className={classes.paper}>\n\t\t\t\t<TableContainer>\n\t\t\t\t\t<Table\n\t\t\t\t\t\tclassName={classes.table}\n\t\t\t\t\t\taria-labelledby=\"tableTitle\"\n\t\t\t\t\t\tstickyHeader\n\t\t\t\t\t\tsize=\"small\" \n\t\t\t\t\t\taria-label=\"a dense table\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t{columns.map((column) => (\n\t\t\t\t\t\t\t\t\t<TableCell key={column.id} align={column.align} style={{ minWidth: column.minWidth }}>\n\t\t\t\t\t\t\t\t\t\t{column.label}\n\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t<TableCell align={'center'} style={{ minWidth: 100 }}>\n\t\t\t\t\t\t\t\t\tLiquidar\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t</TableHead>\n\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t{cuentas?.map((row, index) => {\n\t\t\t\t\t\t\t\tif(row.credito_pagado === false){\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<RowsCuentas \n\t\t\t\t\t\t\t\t\t\t\tloading={loading}\n\t\t\t\t\t\t\t\t\t\t\tcuentaSelect={row}\n\t\t\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t})} \n\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t</Table>\n\t\t\t\t</TableContainer>\n\t\t\t</Paper>\n\t\t</div>\n\t\t</Fragment>\n\t);\n};\n\nfunction RowsCuentas ({cuentaSelect, loading}){\n\tconst permisosUsuario = JSON.parse(localStorage.getItem('sesionCafi'));\n\tconst [open, setOpen] = useState(false);\n    \n\tconst handleClick = () => {\n        setOpen(!open);\n    };\n\t\n\tconst TwoClickInRowTableBuy = (e) => {\n\t\ttry {\n\t\t\tlet timer;\n\t\t\tclearTimeout(timer);\n\t\t\tif (e.detail === 2) {\n\t\t\t\thandleClick();\n\t\t\t}\n\t\t} catch (error) {\n\t\t}\n\t};\n\n\treturn(\n\t\t<Fragment>\n\t\t\t<TableRow\n\t\t\t\thover\n\t\t\t\ttabIndex={-1}\n\t\t\t\tonClick={(e) => TwoClickInRowTableBuy(e)}\n\t\t\t>\n\t\t\t\t<TableCell align=\"center\">{moment(cuentaSelect.fecha_registro).format('D MMMM YYYY')}</TableCell>\n\t\t\t\t<TableCell align=\"center\">{cuentaSelect.proveedor.id_proveedor.nombre_cliente}</TableCell>\n\t\t\t\t<TableCell align=\"center\">${formatoMexico(cuentaSelect.total - cuentaSelect.saldo_credito_pendiente)}</TableCell>\n\t\t\t\t<TableCell align=\"center\">${formatoMexico(cuentaSelect.saldo_credito_pendiente)}</TableCell>\n\t\t\t\t<TableCell align=\"center\">${formatoMexico(cuentaSelect.total)}</TableCell>\n\t\t\t\t{permisosUsuario.accesos.tesoreria.abonos_proveedores.editar === false ? (\n\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t</TableCell>\n\t\t\t\t) : (\n\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t<LiquidarCuenta cuenta={cuentaSelect}/>\n\t\t\t\t\t</TableCell>\n\t\t\t\t)}\n\t\t\t</TableRow>\n\n\t\t\t<Dialog\n\t\t\t\tfullScreen\n\t\t\t\topen={open} \n\t\t\t\tonClose={handleClick} \n\t\t\t\tTransitionComponent={Transition}\n\t\t\t>\n\t\t\t\t<DetallesCuenta\n\t\t\t\t\tcuenta={cuentaSelect}\n\t\t\t\t\tloading={loading}\n\t\t\t\t\thandleClick={handleClick}\n\t\t\t\t/>\n\t\t\t</Dialog>\n\t\t</Fragment>\n\t);\n};\n","import React, { useContext, useEffect, useRef, useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport CloseIcon from '@material-ui/icons/Close';\nimport Slide from '@material-ui/core/Slide';\nimport { Box, IconButton, InputAdornment, TextField } from '@material-ui/core';\nimport { OBTENER_COMPRAS_REALIZADAS } from \"../../../../../gql/Compras/compras\";\n\n\nimport TablaAbonos from './Components/TablaAbonos';\nimport { useQuery } from '@apollo/client';\nimport { TesoreriaCtx } from '../../../../../context/Tesoreria/tesoreriaCtx';\nimport SearchOutlined from '@material-ui/icons/SearchOutlined';\n\nconst useStyles = makeStyles((theme) => ({\n\tappBar: {\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n    icon: {\n\t\twidth: 100\n\t},\n\trootSearch: {\n\t\tdisplay: 'flex',\n\t\tpaddingLeft: theme.spacing(2)\n\t}\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function AbonosProveedores() {\n\tconst sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n\tconst { reload, setReload, setCuentas } = useContext(TesoreriaCtx);\n\t\n\tconst classes = useStyles();\n\tconst [ open, setOpen ] = useState(false);\n\tconst [filtro, setFiltro] = useState(\"\");\n\tconst searchfilter = useRef(null);\n\n\tconst { loading, data, error, refetch } = useQuery(\n\t\tOBTENER_COMPRAS_REALIZADAS,\n\t\t{\n\t\t  variables: {\n\t\t\tempresa: sesion.empresa._id,\n\t\t\tsucursal: sesion.sucursal._id,\n\t\t\tfecha: \"\"\n\t\t  },\n\t\t  fetchPolicy: \"network-only\",\n\t\t}\n\t);\n\n\tif(data){\n\t\tsetCuentas(data.obtenerComprasRealizadas)\n\t};\n\t\n\tuseEffect(() => {\n\t\t\n\t\trefetch();\n\t\t\n\t\tsetReload(false);\n\n\t}, [reload, refetch]);\n\n\tconst handleClickOpen = () => setOpen(!open);\n\n\tconst obtenerBusqueda = (e, value) => {\n\t\te.preventDefault();\n\t\trefetch({ filtro: value, fecha: '' });\n\t\tsetFiltro(value);\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<Button fullWidth onClick={handleClickOpen}>\n\t\t\t\t<Box display=\"flex\" flexDirection=\"column\">\n\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n                        <img src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/salary.svg' alt=\"icono abono\" className={classes.icon} />\n\t\t\t\t\t</Box>\n\t\t\t\t\tAbonos de provedores\n\t\t\t\t</Box>\n\t\t\t</Button>\n\t\t\t<Dialog fullScreen open={open} onClose={handleClickOpen} TransitionComponent={Transition}>\n\t\t\t\t<AppBar className={classes.appBar}>\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t<Typography variant=\"h6\" className={classes.title}>\n                        \tAbonos a Provedores\n\t\t\t\t\t\t</Typography>\n                        <Box m={1}>\n\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"secondary\" onClick={handleClickOpen} size=\"large\">\n\t\t\t\t\t\t\t\t<CloseIcon style={{fontSize: 30}} />\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</AppBar>\n\t\t\t\t<Box display='flex' p={2}>\n\t\t\t\t\t<Box minWidth=\"70%\">\n\t\t\t\t\t<form onSubmit={(e) => obtenerBusqueda(e, e.target[0].value)}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tinputRef={searchfilter}\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\tplaceholder=\"Buscar una compra...\"\n\t\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\tendAdornment: (\n\t\t\t\t\t\t\t\t<InputAdornment position=\"end\">\n\t\t\t\t\t\t\t\t<IconButton type=\"submit\" color=\"primary\" size=\"medium\">\n\t\t\t\t\t\t\t\t\t<SearchOutlined />\n\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t</InputAdornment>\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t</form>\n\t\t\t\t\t</Box>\n\t\t\t\t</Box>\n\t\t\t\t<Box p={2}>\n\t\t\t\t\t<TablaAbonos \t\n\t\t\t\t\t\tloading={loading}\n\t\t\t\t\t\trefetch={refetch}\n\t\t\t\t\t/>\n\t\t\t\t</Box>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n}\n","import React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TablePagination from '@material-ui/core/TablePagination';\nimport TableRow from '@material-ui/core/TableRow';\n\nconst columns = [\n\t{ id: 'name', label: 'Name', minWidth: 170 },\n\t{ id: 'code', label: 'ISO\\u00a0Code', minWidth: 100 },\n\t{\n\t\tid: 'population',\n\t\tlabel: 'Population',\n\t\tminWidth: 170,\n\t\talign: 'right',\n\t\tformat: (value) => value.toLocaleString('en-US')\n\t},\n\t{\n\t\tid: 'size',\n\t\tlabel: 'Size\\u00a0(km\\u00b2)',\n\t\tminWidth: 170,\n\t\talign: 'right',\n\t\tformat: (value) => value.toLocaleString('en-US')\n\t},\n\t{\n\t\tid: 'density',\n\t\tlabel: 'Density',\n\t\tminWidth: 170,\n\t\talign: 'right',\n\t\tformat: (value) => value.toFixed(2)\n\t}\n];\n\nfunction createData(name, code, population, size) {\n\tconst density = population / size;\n\treturn { name, code, population, size, density };\n}\n\nconst rows = [\n\tcreateData('India', 'IN', 1324171354, 3287263),\n\tcreateData('China', 'CN', 1403500365, 9596961),\n\tcreateData('Italy', 'IT', 60483973, 301340),\n\tcreateData('United States', 'US', 327167434, 9833520),\n\tcreateData('Canada', 'CA', 37602103, 9984670),\n\tcreateData('Australia', 'AU', 25475400, 7692024),\n\tcreateData('Germany', 'DE', 83019200, 357578),\n\tcreateData('Ireland', 'IE', 4857000, 70273),\n\tcreateData('Mexico', 'MX', 126577691, 1972550),\n\tcreateData('Japan', 'JP', 126317000, 377973),\n\tcreateData('France', 'FR', 67022000, 640679),\n\tcreateData('United Kingdom', 'GB', 67545757, 242495),\n\tcreateData('Russia', 'RU', 146793744, 17098246),\n\tcreateData('Nigeria', 'NG', 200962417, 923768),\n\tcreateData('Brazil', 'BR', 210147125, 8515767)\n];\n\nconst useStyles  = makeStyles((theme) => ({\n\troot: {\n\t\twidth: '100%'\n\t},\n\tcontainer: {\n\t\tmaxHeight: '100%'\n\t},\n    appBar: {\t\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t}\n}));\n\nexport default function TablaCompras() {\n\tconst classes = useStyles();\n\tconst [ page, setPage ] = useState(0);\n\tconst [ rowsPerPage, setRowsPerPage ] = useState(5);\n\n\tconst handleChangePage = (event, newPage) => {\n\t\tsetPage(newPage);\n\t};\n\n\tconst handleChangeRowsPerPage = (event) => {\n\t\tsetRowsPerPage(+event.target.value);\n\t\tsetPage(0);\n\t};\n\n\treturn (\n\t\t<Paper className={classes.root}>\n\t\t\t<TableContainer className={classes.container}>\n\t\t\t\t<Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t{columns.map((column) => (\n\t\t\t\t\t\t\t\t<TableCell key={column.id} align={column.align} style={{ minWidth: column.minWidth }}>\n\t\t\t\t\t\t\t\t\t{column.label}\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t</TableHead>\n\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t{rows.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage).map((row) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<TableRow hover role=\"checkbox\" tabIndex={-1} key={row.code}>\n\t\t\t\t\t\t\t\t\t{columns.map((column) => {\n\t\t\t\t\t\t\t\t\t\tconst value = row[column.id];\n\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t<TableCell \n                                                key={column.id} \n                                                align={column.align}\n                                            >\n\t\t\t\t\t\t\t\t\t\t\t\t{column.format && typeof value === 'number' ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolumn.format(value)\n\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t\t</TableBody>\n\t\t\t\t</Table>\n\t\t\t</TableContainer>\n\t\t\t<TablePagination\n\t\t\t\trowsPerPageOptions={[ 10, 25, 100 ]}\n\t\t\t\tcomponent=\"div\"\n\t\t\t\tcount={rows.length}\n\t\t\t\trowsPerPage={rowsPerPage}\n\t\t\t\tpage={page}\n\t\t\t\tonChangePage={handleChangePage}\n\t\t\t\tonChangeRowsPerPage={handleChangeRowsPerPage}\n\t\t\t/>\n\n\t\t</Paper>\n\t);\n}","import React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TablePagination from '@material-ui/core/TablePagination';\nimport TableRow from '@material-ui/core/TableRow';\n\nconst columns = [\n\t{ id: 'name', label: 'Name', minWidth: 170 },\n\t{ id: 'code', label: 'ISO\\u00a0Code', minWidth: 100 },\n\t{\n\t\tid: 'population',\n\t\tlabel: 'Population',\n\t\tminWidth: 170,\n\t\talign: 'right',\n\t\tformat: (value) => value.toLocaleString('en-US')\n\t},\n\t{\n\t\tid: 'size',\n\t\tlabel: 'Size\\u00a0(km\\u00b2)',\n\t\tminWidth: 170,\n\t\talign: 'right',\n\t\tformat: (value) => value.toLocaleString('en-US')\n\t},\n\t{\n\t\tid: 'density',\n\t\tlabel: 'Density',\n\t\tminWidth: 170,\n\t\talign: 'right',\n\t\tformat: (value) => value.toFixed(2)\n\t}\n];\n\nfunction createData(name, code, population, size) {\n\tconst density = population / size;\n\treturn { name, code, population, size, density };\n}\n\nconst rows = [\n\tcreateData('India', 'IN', 1324171354, 3287263),\n\tcreateData('China', 'CN', 1403500365, 9596961),\n\tcreateData('Italy', 'IT', 60483973, 301340),\n\tcreateData('United States', 'US', 327167434, 9833520),\n\tcreateData('Canada', 'CA', 37602103, 9984670),\n\tcreateData('Australia', 'AU', 25475400, 7692024),\n\tcreateData('Germany', 'DE', 83019200, 357578),\n\tcreateData('Ireland', 'IE', 4857000, 70273),\n\tcreateData('Mexico', 'MX', 126577691, 1972550),\n\tcreateData('Japan', 'JP', 126317000, 377973),\n\tcreateData('France', 'FR', 67022000, 640679),\n\tcreateData('United Kingdom', 'GB', 67545757, 242495),\n\tcreateData('Russia', 'RU', 146793744, 17098246),\n\tcreateData('Nigeria', 'NG', 200962417, 923768),\n\tcreateData('Brazil', 'BR', 210147125, 8515767)\n];\n\nconst useStyles  = makeStyles((theme) => ({\n\troot: {\n\t\twidth: '100%'\n\t},\n\tcontainer: {\n\t\tmaxHeight: '100%'\n\t},\n    appBar: {\t\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t}\n}));\n\nexport default function TablaAbonos() {\n\tconst classes = useStyles();\n\tconst [ page, setPage ] = useState(0);\n\tconst [ rowsPerPage, setRowsPerPage ] = useState(5);\n\n\tconst handleChangePage = (event, newPage) => {\n\t\tsetPage(newPage);\n\t};\n\n\tconst handleChangeRowsPerPage = (event) => {\n\t\tsetRowsPerPage(+event.target.value);\n\t\tsetPage(0);\n\t};\n\n\treturn (\n\t\t<Paper className={classes.root}>\n\t\t\t<TableContainer className={classes.container}>\n\t\t\t\t<Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t{columns.map((column) => (\n\t\t\t\t\t\t\t\t<TableCell key={column.id} align={column.align} style={{ minWidth: column.minWidth }}>\n\t\t\t\t\t\t\t\t\t{column.label}\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t</TableHead>\n\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t{rows.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage).map((row) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<TableRow hover role=\"checkbox\" tabIndex={-1} key={row.code}>\n\t\t\t\t\t\t\t\t\t{columns.map((column) => {\n\t\t\t\t\t\t\t\t\t\tconst value = row[column.id];\n\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t<TableCell \n                                                key={column.id} \n                                                align={column.align}\n                                            >\n\t\t\t\t\t\t\t\t\t\t\t\t{column.format && typeof value === 'number' ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolumn.format(value)\n\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t\t</TableBody>\n\t\t\t\t</Table>\n\t\t\t</TableContainer>\n\t\t\t<TablePagination\n\t\t\t\trowsPerPageOptions={[ 10, 25, 100 ]}\n\t\t\t\tcomponent=\"div\"\n\t\t\t\tcount={rows.length}\n\t\t\t\trowsPerPage={rowsPerPage}\n\t\t\t\tpage={page}\n\t\t\t\tonChangePage={handleChangePage}\n\t\t\t\tonChangeRowsPerPage={handleChangeRowsPerPage}\n\t\t\t/>\n\n\t\t</Paper>\n\t);\n}","import React, { useState } from 'react'\n\nimport { Box, Grid, makeStyles, Typography, Button, Dialog, Slide, AppBar, Toolbar } from '@material-ui/core'\nimport CloseIcon from '@material-ui/icons/Close';\nimport TablaCompras from './TablaCompras';\nimport TablaAbonos from './TablaDeAbonos';\n\nconst useStyles = makeStyles((theme) => ({\n    appBar: {\t\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n    icon: {\n\t\twidth: 100\n\t},\n\tformInputFlex: {\n\t\tdisplay: 'flex',\n\t\t'& > *': {\n\t\t\tmargin: `${theme.spacing(4)}px ${theme.spacing(2)}px`\n\t\t}\n\t},\n\tformInput: {\n\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(2)}px`\n\t},\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function DetallesCuenta() {\n    \n    const [open, setOpen] = useState(false);\n    const classes = useStyles();\n\n    const handleClick =()=>{\n        setOpen(!open);\n    }\n\n    return (\n        <div>\n            <Button\n                size=\"medium\"\n                variant=\"contained\" \n                color=\"primary\"\n                onClick={handleClick}\n            >\n                Detalles\n            </Button>\n            <Dialog fullScreen open={open} onClose={handleClick} TransitionComponent={Transition}>\n\t\t\t\t<AppBar className={classes.appBar}>\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t<Typography variant=\"h6\" className={classes.title}>\n                        \tDetalle de cuenta\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\n                        <Box m={1}>\n\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"secondary\" onClick={handleClick} size=\"large\">\n\t\t\t\t\t\t\t\t<CloseIcon style={{fontSize: 30}} />\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</AppBar>\n                <div className={classes.formInputFlex}>\n                    <Box width=\"100%\">\n                        <Typography>Nombre de Cliente:</Typography>\n                        <Box mt={1}>\n                            <Typography>\n                                Hola mundo\n                            </Typography>\n                        </Box>\n                    </Box>\n                    <Box width=\"100%\">\n                        <Typography>Fecha:</Typography>\n                        <Box mt={1}>\n                            <Typography>\n                                Hola mundo\n                            </Typography>\n                        </Box>\n                    </Box>\n                    <Box width=\"100%\">\n                        <Typography>Factura:</Typography>\n                        <Box mt={1}>\n                            <Typography>\n                                Hola mundo\n                            </Typography>\n                        </Box>\n                    </Box>\n                    <Box width=\"100%\">\n                        <Typography>Empresa:</Typography>\n                        <Box mt={1}>\n                            <Typography>\n                                Hola mundo\n                            </Typography>\n                        </Box>\n                    </Box>\n                    <Box width=\"100%\">\n                        <Typography>Domicilio:</Typography>\n                        <Box mt={1}>\n                            <Typography>\n                                Hola mundo\n                            </Typography>\n                        </Box>\n                    </Box>\n                </div>\n                <Grid container>\n                    <Grid item lg={6} xs={12}>\n                        <Box p={1}>\n                            <Typography variant=\"h6\">\n                                Lista de abonos\n                            </Typography>\n                        </Box>\n                        <Box p={1}>\n                            <TablaAbonos />\n                        </Box>\n                        <Box p={1} mr={3} display=\"flex\" justifyContent=\"flex-end\">\n                            <Typography>Total a abonado: $ 150,000.00</Typography>\n                        </Box>\n                        <Box p={1} mr={3} display=\"flex\" justifyContent=\"flex-end\">\n                            <Typography>Restante: $ 150,000.00</Typography>\n                        </Box>\n                    </Grid>\n                    <Grid item lg={6} xs={12}>\n                        <Box p={1} >\n                            <Typography variant=\"h6\">\n                               Lista de compra\n                            </Typography>\n                        </Box>\n                        <Box p={1}>\n                            <TablaCompras />\n                        </Box>\n                        <Box p={1} mr={3} display=\"flex\" justifyContent=\"flex-end\">\n                            <Typography>Total a liquidar: $ 150,000.00</Typography>\n                        </Box>\n                    </Grid>\n                </Grid>\n\t\t\t</Dialog>\n          \n        </div>\n\n    )\n}\n","import React, { useState } from 'react'\n\nimport {  Box, Button, Dialog, DialogActions, DialogContent, makeStyles, TextField, Typography } from '@material-ui/core';\nimport { ToggleButtonGroup } from '@material-ui/lab';\nimport CloseIcon from '@material-ui/icons/Close';\n\nconst useStyles = makeStyles((theme) => ({\n\tformInputFlex: {\n\t\tdisplay: 'flex',\n\t\t'& > *': {\n\t\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(1)}px`\n\t\t}\n\t},\n\tformInput: {\n\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(1)}px`\n\t},\n    appBar: {\n\t\tposition: 'relative'\n\t},\n}));\n\nexport default function LiquidarCuenta() {\n\n    const [open, setOpen] = useState(false);\n\n    const handleClick = () => { \n        setOpen(!open);\n    } \n    const classes = useStyles();\n\n    return (\n        <div>\n            <Button\n                size=\"medium\"\n                variant=\"contained\" \n                color=\"primary\"\n                onClick={handleClick}\n            >\n                Liquidar\n            </Button>\n\n            <Dialog\n                open={open}\n                onClose={handleClick}\n                aria-labelledby=\"draggable-dialog-title\"\n            >\n                <Box display=\"flex\" alignItems=\"center\" m={1}>\n                    <Typography variant=\"h6\" className={classes.title}>\n                        Abonos a Proveedores\n                    </Typography>\n                    <Box m={1} ml={8} >\n                        <Button variant=\"contained\" color=\"secondary\" onClick={handleClick} size=\"large\">\n                            <CloseIcon  />\n                        </Button>\n                    </Box>\n\t\t\t\t</Box>\n                <DialogContent>\n                    <Box width=\"100%\" textAlign=\"center\">\n                        <Typography>Descuento por pronto pago</Typography>\n\n                        <Box p={1}>\n                            <ToggleButtonGroup\n                                // value={alignment}\n                                exclusive\n                                // onChange={handleAlignment}\n                                aria-label=\"text alignment\"\n                            >\n                                <Box p={1}>\n                                    <Button\n                                        variant=\"contained\"\n                                        color=\"primary\"\n                                    >\n                                        Por decuento\n                                    </Button>\n                                </Box>\n                                <Box p={1}>\n                                    <Button\n                                        variant=\"contained\"\n                                        color=\"primary\"\n                                    >\n                                        Por pesos\n                                    </Button>\n                                </Box>\n                            </ToggleButtonGroup>\n                        </Box>\n                       \n                        <TextField\n                            fullWidth\n                            size=\"small\"\n                            /* error */\n                            name=\"nombre_comercial\"\n                            id=\"form-producto-nombre-comercial\"\n                            variant=\"outlined\"\n                            value=\"10% o $100.00\" \n                            /* helperText=\"Incorrect entry.\" */\n                            /* onChange={obtenerCampos} */\n                        />\n                    </Box>\n                    <div className={classes.formInputFlex}>\n                        <Box width=\"100%\">\n                            <Typography>Sub Total: </Typography>\n                        </Box>\n                        <Box width=\"100%\">\n                            <Typography>$150000</Typography>\n                        </Box>\n                    </div>\n                    <div className={classes.formInputFlex}>\n                        <Box width=\"100%\">\n                            <Typography>Descuento: </Typography>\n                        </Box>\n                        <Box width=\"100%\">\n                            <Typography>$150000</Typography>\n                        </Box>\n                    </div>\n                    <div className={classes.formInputFlex}>\n                        <Box width=\"100%\">\n                            <Typography>Total a pagar:</Typography>\n                        </Box>\n                        <Box width=\"100%\">\n                            <Typography>$150000</Typography>\n                        </Box>\n                    </div>\n                </DialogContent>\n                <DialogActions>\n                    <Button \n                        onClick={handleClick} \n                        color=\"primary\"\n                        variant=\"contained\"\n                        size=\"large\"\n                    >\n                        Liquidar\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        </div>\n    )\n}\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TablePagination from '@material-ui/core/TablePagination';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport Checkbox from '@material-ui/core/Checkbox';\n\nimport DetallesCuenta from './DetalleCuenta/DetallesCuenta';\nimport LiquidarCuenta from './LiquidarCuenta';\n\nfunction createData(name, calories, fat, carbs, protein) {\n\treturn { name, calories, fat, carbs, protein };\n}\n\nconst rows = [\n\tcreateData('Cupcake', 305, 3.7, 67, 4.3),\n\tcreateData('Donut', 452, 25.0, 51, 4.9),\n\tcreateData('Eclair', 262, 16.0, 24, 6.0),\n\tcreateData('Frozen yoghurt', 159, 6.0, 24, 4.0),\n\tcreateData('Gingerbread', 356, 16.0, 49, 3.9),\n\tcreateData('Honeycomb', 408, 3.2, 87, 6.5),\n\tcreateData('Ice cream sandwich', 237, 9.0, 37, 4.3),\n\tcreateData('Jelly Bean', 375, 0.0, 94, 0.0),\n\tcreateData('KitKat', 518, 26.0, 65, 7.0),\n\tcreateData('Lollipop', 392, 0.2, 98, 0.0),\n\tcreateData('Marshmallow', 318, 0, 81, 2.0),\n\tcreateData('Nougat', 360, 19.0, 9, 37.0),\n\tcreateData('Oreo', 437, 18.0, 63, 4.0)\n];\n\nconst headCells = [\n\t{ id: 'name', numeric: false, disablePadding: true, label: 'Cliente' },\n\t{ id: 'calories', numeric: true, disablePadding: false, label: 'Abondado' },\n\t{ id: 'fat', numeric: true, disablePadding: false, label: 'Restante' },\n\t{ id: 'abono', numeric: true, disablePadding: false, label: 'Abono a percibir' },\n\t{ id: 'carbs', numeric: true, disablePadding: false, label: 'Detalles' },\n\t{ id: 'protein', numeric: true, disablePadding: false, label: 'Liquidar' }\n];\n\nfunction EnhancedTableHead(props) {\n\tconst { onSelectAllClick, numSelected, rowCount } = props;\n\n\treturn (\n\t\t<TableHead>\n\t\t\t<TableRow>\n\t\t\t\t<TableCell padding=\"checkbox\">\n\t\t\t\t\t<Checkbox\n\t\t\t\t\t\tindeterminate={numSelected > 0 && numSelected < rowCount}\n\t\t\t\t\t\tchecked={rowCount > 0 && numSelected === rowCount}\n\t\t\t\t\t\tonChange={onSelectAllClick}\n\t\t\t\t\t\tinputProps={{ 'aria-label': 'select all desserts' }}\n\t\t\t\t\t/>\n\t\t\t\t</TableCell>\n\t\t\t\t{headCells.map((headCell) => (\n\t\t\t\t\t<TableCell\n\t\t\t\t\t\tkey={headCell.id}\n\t\t\t\t\t\talign={headCell.numeric ? 'right' : 'left'}\n\t\t\t\t\t\tpadding={headCell.disablePadding ? 'none' : 'default'}\n\t\t\t\t\t>\n\t\t\t\t\t\t{headCell.label}\n\t\t\t\t\t</TableCell>\n\t\t\t\t))}\n\t\t\t</TableRow>\n\t\t</TableHead>\n\t);\n}\n\nEnhancedTableHead.propTypes = {\n\tclasses: PropTypes.object.isRequired,\n\tnumSelected: PropTypes.number.isRequired,\n\t// onRequestSort: PropTypes.func.isRequired,\n\tonSelectAllClick: PropTypes.func.isRequired,\n\t// order: PropTypes.oneOf([ 'asc', 'desc' ]).isRequired,\n\t// orderBy: PropTypes.string.isRequired,\n\trowCount: PropTypes.number.isRequired\n};\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n\t\twidth: '100%'\n\t},\n\tpaper: {\n\t\twidth: '100%',\n\t\tmarginBottom: theme.spacing(2)\n\t},\n\ttable: {\n\t\tminWidth: 750\n\t},\n\tvisuallyHidden: {\n\t\tborder: 0,\n\t\tclip: 'rect(0 0 0 0)',\n\t\theight: 1,\n\t\tmargin: -1,\n\t\toverflow: 'hidden',\n\t\tpadding: 0,\n\t\tposition: 'absolute',\n\t\ttop: 20,\n\t\twidth: 1\n\t}\n}));\n\nexport default function TablaAbonos() {\n\tconst classes = useStyles();\n\tconst [ selected, setSelected ] = useState([]);\n\tconst [ page, setPage ] = useState(0);\n\tconst [ rowsPerPage, setRowsPerPage ] = useState(10);\n\n\tconst handleSelectAllClick = (event) => {\n\t\tif (event.target.checked) {\n\t\t\tconst newSelecteds = rows.map((n) => n.name);\n\t\t\tsetSelected(newSelecteds);\n\t\t\treturn;\n\t\t}\n\t\tsetSelected([]);\n\t};\n\n\tconst handleClick = (event, name) => {\n\t\tconst selectedIndex = selected.indexOf(name);\n\t\tlet newSelected = [];\n\n\t\tif (selectedIndex === -1) {\n\t\t\tnewSelected = newSelected.concat(selected, name);\n\t\t} else if (selectedIndex === 0) {\n\t\t\tnewSelected = newSelected.concat(selected.slice(1));\n\t\t} else if (selectedIndex === selected.length - 1) {\n\t\t\tnewSelected = newSelected.concat(selected.slice(0, -1));\n\t\t} else if (selectedIndex > 0) {\n\t\t\tnewSelected = newSelected.concat(selected.slice(0, selectedIndex), selected.slice(selectedIndex + 1));\n\t\t}\n\n\t\tsetSelected(newSelected);\n\t};\n\n\tconst handleChangePage = (event, newPage) => {\n\t\tsetPage(newPage);\n\t};\n\n\tconst handleChangeRowsPerPage = (event) => {\n\t\tsetRowsPerPage(parseInt(event.target.value, 10));\n\t\tsetPage(0);\n\t};\n\n\tconst isSelected = (name) => selected.indexOf(name) !== -1;\n\n\tconst emptyRows = rowsPerPage - Math.min(rowsPerPage, rows.length - page * rowsPerPage);\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Paper className={classes.paper}>\n\t\t\t\t<TableContainer>\n\t\t\t\t\t<Table\n\t\t\t\t\t\tclassName={classes.table}\n\t\t\t\t\t\taria-labelledby=\"tableTitle\"\n\t\t\t\t\t\tstickyHeader\n\t\t\t\t\t\tsize=\"small\" \n\t\t\t\t\t\taria-label=\"a dense table\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<EnhancedTableHead\n\t\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\t\tnumSelected={selected.length}\n\t\t\t\t\t\t\tonSelectAllClick={handleSelectAllClick}\n\t\t\t\t\t\t\trowCount={rows.length}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t{rows.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage).map((row, index) => {\n\t\t\t\t\t\t\t\tconst isItemSelected = isSelected(row.name);\n\t\t\t\t\t\t\t\tconst labelId = `enhanced-table-checkbox-${index}`;\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<TableRow\n\t\t\t\t\t\t\t\t\t\thover\n\t\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\t\tonClick={(event) => handleClick(event, row.name)}\n\t\t\t\t\t\t\t\t\t\trole=\"checkbox\"\n\t\t\t\t\t\t\t\t\t\taria-checked={isItemSelected}\n\t\t\t\t\t\t\t\t\t\ttabIndex={-1}\n\t\t\t\t\t\t\t\t\t\tselected={isItemSelected}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<TableCell padding=\"checkbox\">\n\t\t\t\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\t\t\t\tchecked={isItemSelected}\n\t\t\t\t\t\t\t\t\t\t\t\tinputProps={{ 'aria-labelledby': labelId }}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t<TableCell component=\"th\" id={labelId} scope=\"row\" padding=\"none\">\n\t\t\t\t\t\t\t\t\t\t\t{row.name}\n\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t<TableCell align=\"right\">{row.calories}</TableCell>\n\t\t\t\t\t\t\t\t\t\t<TableCell align=\"right\">{row.fat}</TableCell>\n\t\t\t\t\t\t\t\t\t\t<TableCell align=\"right\">{row.carbs}</TableCell>\n\t\t\t\t\t\t\t\t\t\t<TableCell align=\"right\">\n\t\t\t\t\t\t\t\t\t\t\t<DetallesCuenta />\n\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t<TableCell align=\"right\">\n\t\t\t\t\t\t\t\t\t\t\t<LiquidarCuenta />\n\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t{emptyRows > 0 && (\n\t\t\t\t\t\t\t\t<TableRow style={{ height: 53 * emptyRows }}>\n\t\t\t\t\t\t\t\t\t<TableCell colSpan={6} />\n\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t</Table>\n\t\t\t\t</TableContainer>\n\t\t\t\t<TablePagination\n                    rowsPerPageOptions={[]}\n\t\t\t\t\tcomponent=\"div\"\n\t\t\t\t\tcount={rows.length}\n\t\t\t\t\trowsPerPage={rowsPerPage}\n\t\t\t\t\tpage={page}\n\t\t\t\t\tonChangePage={handleChangePage}\n\t\t\t\t\tonChangeRowsPerPage={handleChangeRowsPerPage}\n\t\t\t\t/>\n\t\t\t</Paper>\n\t\t</div>\n\t);\n}\n","import React, { useState } from 'react';\n\nimport CloseIcon from '@material-ui/icons/Close';\nimport { Alert } from '@material-ui/lab';\nimport { Box, Button, Dialog,  DialogContent,  DialogTitle, Slide, TextField, Typography } from '@material-ui/core'\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n    return <Slide direction=\"up\" ref={ref} {...props} />;\n  });\n\nexport default function AbonoaRecibir() {\n    //listo\n    const [open, setOpen] = useState(false);\n\n    const handleClick = () => { \n        setOpen(!open);\n    } \n\n    return (\n        <div>\n                <Button\n                    size=\"large\"\n                    variant=\"contained\" \n                    color=\"primary\"\n                    onClick={handleClick}\n                >\n                   Abonar\n                </Button>\n            <Dialog\n                open={open}\n                TransitionComponent={Transition}\n                keepMounted\n                onClose={handleClick}\n                aria-labelledby=\"alert-dialog-slide-title\"\n                aria-describedby=\"alert-dialog-slide-description\"\n            >\n                <DialogTitle id=\"alert-dialog-slide-title\">\n                    <Box display=\"flex\">\n                        <Box display=\"flex\" justifyContent=\"flex-start\">\n                            Abono a recibir por cuenta\n                        </Box>\n                        <Box ml={3} display=\"flex\" justifyContent=\"flex-end\">\n                            <Button variant=\"contained\" color=\"secondary\" onClick={handleClick} size=\"large\">\n\t\t\t\t\t\t\t\t<CloseIcon />\n\t\t\t\t\t\t\t</Button>\n                        </Box>\n                    </Box>\n                    \n                </DialogTitle>\n                <DialogContent>\n                    <Box width=\"100%\">\n                        <Typography>Cuenta No. 2501265</Typography>\n                        <TextField\n                            fullWidth\n                            size=\"small\"\n                            /* error */\n                            name=\"nombre_comercial\"\n                            id=\"form-producto-nombre-comercial\"\n                            variant=\"outlined\"\n                            value=\"$150,000.00 Mx\" \n                            /* helperText=\"Incorrect entry.\" */\n                            /* onChange={obtenerCampos} */\n                        />\n                    </Box>\n                    <Box width=\"100%\">\n                        <Typography>Cuenta No. 2501265</Typography>\n                        <TextField\n                            fullWidth\n                            size=\"small\"\n                            /* error */\n                            name=\"nombre_comercial\"\n                            id=\"form-producto-nombre-comercial\"\n                            variant=\"outlined\"\n                            value=\"$150,000.00 Mx\" \n                            /* helperText=\"Incorrect entry.\" */\n                            /* onChange={obtenerCampos} */\n                        />\n                    </Box>\n                    <Box width=\"100%\" p={1} mt={1}>\n                        <Typography>Nombre de Cliente: SUTANO</Typography>\n                    </Box>\n                    <Box width=\"100%\" p={1}>\n                        <Typography>Total a abonar:  $15,100</Typography>\n                    </Box>\n                    <Box p={1}>\n                        <Alert severity=\"info\">Si desea editar el abono del cliente, <br/>\n                        procure este sea mayor al establecido</Alert>\n                    </Box>\n                </DialogContent>\n                <Box display=\"flex\" justifyContent=\"center\" alignContent=\"center\" p={2}>\n                    <Button\n                        size=\"large\"\n                        variant=\"contained\" \n                        color=\"primary\"\n                        style={{fontSize: 16}}\n                        onClick={handleClick}\n                    >\n                        Registrar Abono\n                    </Button>\n                </Box>\n            </Dialog>\n        </div>\n    )\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport CloseIcon from '@material-ui/icons/Close';\nimport Slide from '@material-ui/core/Slide';\nimport { Box, TextField, Grid } from '@material-ui/core';\n\nimport TablaAbonos from './Components/TablaAbonos';\nimport AbonoaRecibir from './Components/AbonoPercibir';\n\nconst useStyles = makeStyles((theme) => ({\n\tappBar: {\t\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n    icon: {\n\t\twidth: 100\n\t},\n\tformInputFlex: {\n\t\tdisplay: 'flex',\n\t\t'& > *': {\n\t\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(2)}px`\n\t\t}\n\t},\n\tformInput: {\n\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(2)}px`\n\t},\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function AbonosClientes() {\n\tconst classes = useStyles();\n\tconst [ open, setOpen ] = React.useState(false);\n\n\tconst handleClickOpen = () => setOpen(!open);\n\n\treturn (\n\t\t<div>\n\t\t\t<Button fullWidth onClick={handleClickOpen}>\n\t\t\t\t<Box display=\"flex\" flexDirection=\"column\">\n\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n                        <img src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/salary.svg' alt=\"icono abono\" className={classes.icon} />\n\t\t\t\t\t</Box>\n\t\t\t\t\tAbonos de Clientes\n\t\t\t\t</Box>\n\t\t\t</Button>\n\t\t\t<Dialog fullScreen open={open} onClose={handleClickOpen} TransitionComponent={Transition}>\n\t\t\t\t<AppBar className={classes.appBar}>\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t<Typography variant=\"h6\" className={classes.title}>\n                        \tAbonos de Clientes\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\n                        <Box m={1}>\n\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"secondary\" onClick={handleClickOpen} size=\"large\">\n\t\t\t\t\t\t\t\t<CloseIcon style={{fontSize: 30}} />\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</AppBar>\n\t\t\t\t<Grid container>\n\t\t\t\t\t<Box width=\"50%\" p={2}>\n\t\t\t\t\t\t<Typography>Busqueda por cliente o por cuenta</Typography>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t/* error */\n\t\t\t\t\t\t\tname=\"nombre_comercial\"\n\t\t\t\t\t\t\tid=\"form-producto-nombre-comercial\"\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t/* value=\"\" */\n\t\t\t\t\t\t\t/* helperText=\"Incorrect entry.\" */\n\t\t\t\t\t\t\t/* onChange={obtenerCampos} */\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Box>\n\t\t\t\t\t\n\t\t\t\t\t<Box mt={5}>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tsize=\"large\"\n\t\t\t\t\t\t\tvariant=\"contained\" \n\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tBuscar\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Grid item lg={5}>\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" mt={4}>\n\t\t\t\t\t\t\t<AbonoaRecibir />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t\t<Box p={2}>\n\t\t\t\t\t<TablaAbonos />\n\t\t\t\t</Box>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n}\n","import React, { useContext } from 'react';\nimport { Box, Container, Grid } from '@material-ui/core';\nimport CuentasEmpresaSucursales from './CuentasEmpresaSucursales/CuentasEmpresaSucursales';\nimport Egresos from './Egresos/Egresos';\nimport AbonosProveedores from './Abonos/Provedores/AbonosProovedores';\nimport AbonosClientes from './Abonos/Clientes/AbonosClientes';\n// import Transferencias from './Transferencias/Transferencias';\n\nimport SnackBarMessages from '../../../components/SnackBarMessages';\nimport { TesoreriaCtx } from '../../../context/Tesoreria/tesoreriaCtx';\n\nexport default function Tesoreria() {\n\n\tconst { alert, setAlert } = useContext(TesoreriaCtx);\n\tconst permisosUsuario = JSON.parse(localStorage.getItem('sesionCafi'));\n\n\treturn (\n\t\t<Container>\n            <SnackBarMessages alert={alert} setAlert={setAlert} />\n\t\t\t<Grid container spacing={2} justify=\"center\">\n\t\t\t\t{permisosUsuario.accesos.tesoreria.cuentas_empresa.ver === false ? (null):(\n\t\t\t\t\t<Grid item lg={2}>\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t<CuentasEmpresaSucursales />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t)}\n\t\t\t\t{permisosUsuario.accesos.tesoreria.egresos.ver === false ? (null):(\n\t\t\t\t\t<Grid item lg={2}>\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t<Egresos />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t)}\n\t\t\t\t{permisosUsuario.accesos.tesoreria.abonos_proveedores.ver === false ? (null):(\n\t\t\t\t\t<Grid item lg={2}>\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t<AbonosProveedores />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t)}\n\t\t\t\t{permisosUsuario.accesos.tesoreria.abonos_clientes.ver === false ? (null):(\n\t\t\t\t\t<Grid item lg={2}>\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t<AbonosClientes />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t)}\n                {/* <Grid item lg={2}>\n\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t<Transferencias />\n\t\t\t\t\t</Box>\n\t\t\t\t</Grid> */}\n\t\t\t</Grid>\n\t\t</Container>\n\t);\n}\n","import React from 'react';\nimport { TesoreriaProvider } from '../../../context/Tesoreria/tesoreriaCtx';\nimport Tesoreria from './Tesoreria';\n\nexport default function IndexTesoreria() {\n    return (\n        <TesoreriaProvider>\n            <Tesoreria />\n        </TesoreriaProvider>\n    )\n}\n","import React, { createContext, useState } from \"react\";\n\nexport const FacturacionCtx = createContext();\n\nexport const FacturacionProvider = ({ children }) => {\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n\n  const [datosFactura, setDatosFactura] = useState({\n    serie: \"\",\n    currency: \"MXN\",\n    expedition_place: \"\",\n    folio: \"\",\n    cfdi_type: \"I\",\n    payment_form: \"\",\n    payment_method: \"\",\n    logo_url: sesion.imagen,\n    date: \"0\",\n    issuer: {\n      FiscalRegime: sesion.empresa.regimen_fiscal,\n      Rfc: sesion.empresa.rfc,\n      Name: sesion.empresa.nombre_fiscal,\n    },\n    receiver: {\n      Rfc: \"\",\n      Name: \"\",\n      CfdiUse: \"\",\n    },\n    items: [],\n    empresa: sesion.empresa._id,\n    sucursal: sesion.sucursal._id,\n  });\n\n  const [venta_factura, setVentaFactura] = useState(null);\n  const [productos, setProductos] = useState([]);\n\n  const [cp_valido, setCPValido] = useState(false);\n  const [codigo_postal, setCodigoPostal] = useState(\"\");\n  const [error_validation, setError] = useState({ status: false, message: \"\" });\n\n  return (\n    <FacturacionCtx.Provider\n      value={{\n        datosFactura,\n        setDatosFactura,\n        cp_valido,\n        setCPValido,\n        codigo_postal,\n        setCodigoPostal,\n        error_validation,\n        setError,\n        venta_factura,\n        setVentaFactura,\n        productos,\n        setProductos,\n      }}\n    >\n      {children}\n    </FacturacionCtx.Provider>\n  );\n};\n","import React from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Slide from \"@material-ui/core/Slide\";\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function DetallesDeVenta() {\n  const [open, setOpen] = React.useState(false);\n\n  const handleClickOpen = (event) => {\n    event.stopPropagation()\n    setOpen(true);\n  };\n\n  const handleClose = (event) => {\n    event.stopPropagation()\n    setOpen(false);\n  };\n\n  return (\n    <div>\n      <Button\n        variant=\"outlined\"\n        color=\"primary\"\n        onClick={handleClickOpen}\n      >\n        Slide in alert dialog\n      </Button>\n      <Dialog\n        open={open}\n        TransitionComponent={Transition}\n        keepMounted\n        onClose={handleClose}\n        aria-labelledby=\"alert-dialog-slide-title\"\n        aria-describedby=\"alert-dialog-slide-description\"\n      >\n        <DialogTitle id=\"alert-dialog-slide-title\">\n          {\"Use Google's location service?\"}\n        </DialogTitle>\n        <DialogContent>\n          <DialogContentText id=\"alert-dialog-slide-description\">\n            Let Google help apps determine location. This means sending\n            anonymous location data to Google, even when no apps are running.\n          </DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={handleClose} color=\"primary\">\n            Disagree\n          </Button>\n          <Button onClick={handleClose} color=\"primary\">\n            Agree\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n}\n","export const compra_test = {\n  folio: \"12345\",\n  descuento: 5.4,\n  ieps: 2.5862100000000003,\n  impuestos: 6.724146000000001,\n  iva: 4.137936000000001,\n  monedero: 0,\n  subTotal: 23.875854,\n  total: 30.6,\n  venta_cliente: true,\n  montos_en_caja: {\n    monto_efectivo: 50,\n    monto_tarjeta: 0,\n    monto_creditos: 0,\n    monto_monedero: 0,\n    monto_transferencia: 0,\n    monto_cheques: 0,\n    monto_vales_despensa: 0,\n  },\n  credito: false,\n  descuento_general_activo: false,\n  decuento_general: {\n    cantidad_descontado: 0,\n    porciento: 0,\n    precio_neto: 0,\n  },\n  dias_de_credito_venta: null,\n  fecha_de_vencimiento_credito: null,\n  fecha_vencimiento_cotizacion: null,\n  cliente: {\n    banco: null,\n    celular: null,\n    clave_cliente: \"23233\",\n    curp: null,\n    dias_credito: null,\n    direccion: {\n      calle: \"Antonio\",\n      no_ext: \"1\",\n      no_int: \"1\",\n      codigo_postal: \"1\",\n      colonia: \"Antonio\",\n      municipio: \"1\",\n      localidad: \"1\",\n      estado: \"1\",\n      pais: \"1\",\n    },\n    email: \"antonio.poday@gmail.com\",\n    imagen: null,\n    limite_credito: null,\n    nombre_cliente: \"Antonio\",\n    numero_cliente: \"2323\",\n    razon_social: null,\n    rfc: null,\n    telefono: \"1212\",\n    monedero_electronico: null,\n  },\n  productos: [\n    {\n      cantidad: 1,\n      cantidad_venta: 1,\n      codigo_barras: \"226216505720\",\n      concepto: \"unidades\",\n      default: true,\n      descuento: {\n        cantidad_unidad: null,\n        dinero_descontado: 21.59,\n        ieps_precio: 0,\n        iva_precio: 3.5856,\n        numero_precio: 1,\n        porciento: 49.07,\n        precio_general: 0,\n        precio_neto: 25.0453,\n        precio_venta: 22.41,\n        unidad_maxima: false,\n        utilidad: -43.97,\n      },\n      descuento_activo: true,\n      granel_producto: {\n        granel: false,\n        valor: 0,\n      },\n      precio_actual_object: {\n        cantidad_unidad: null,\n        dinero_descontado: 21.59,\n        ieps_precio: 0,\n        iva_precio: 3.5856,\n        numero_precio: 1,\n        porciento: 49.07,\n        precio_general: 0,\n        precio_neto: 25.0453,\n        precio_venta: 22.41,\n        unidad_maxima: false,\n        utilidad: -43.97,\n      },\n      precio_unidad: {\n        cantidad_unidad: null,\n        ieps_precio: 0,\n        iva_precio: 6.72,\n        numero_precio: 5,\n        precio_general: null,\n        precio_neto: 48.72,\n        precio_venta: 42,\n        unidad_maxima: false,\n        unidad_mayoreo: 0,\n      },\n      precio: 36,\n      precio_a_vender: 30.6,\n      precio_actual_producto: 30.6,\n      precio_anterior: 36,\n      iva_total_producto: 1.03,\n      ieps_total_producto: 0,\n      impuestos_total_producto: 1.03,\n      subtotal_total_producto: 7.22,\n      total_total_producto: 36,\n      unidad: \"Caja\",\n      codigo_unidad: \"XBX\",\n      unidad_principal: true,\n      inventario_general: [\n        {\n          cantidad_existente: 120,\n          cantidad_existente_maxima: 10,\n          unidad_inventario: \"Pz\",\n          codigo_unidad: null,\n          unidad_maxima: \"Caja\",\n        },\n      ],\n      id_producto: {\n        _id: \"61b7bf6e3454b727a0c2e357\",\n        datos_generales: {\n          clave_alterna: \"COCA\",\n          codigo_barras: \"226216505720\",\n          nombre_comercial: \"COCACOLA\",\n          tipo_producto: \"OTROS\",\n          nombre_generico: \"COCACOLA\",\n          descripcion: null,\n          id_categoria: null,\n          categoria: null,\n          subcategoria: null,\n          id_subcategoria: null,\n          id_departamento: null,\n          departamento: null,\n          id_marca: null,\n          marca: null,\n          receta_farmacia: false,\n          clave_producto_sat: {\n            Name: \"Refrescos\",\n            Value: \"50202306\",\n          },\n        },\n        precios: {\n          ieps: 10,\n          ieps_activo: false,\n          inventario: {\n            inventario_maximo: 15,\n            inventario_minimo: 5,\n            unidad_de_inventario: \"Caja\",\n            codigo_unidad: \"XBX\",\n          },\n          iva: 16,\n          iva_activo: true,\n          monedero: false,\n          monedero_electronico: 0,\n          precio_de_compra: {\n            precio_con_impuesto: 180,\n            precio_sin_impuesto: 155.1724,\n            iva: 24.8276,\n            ieps: 0,\n          },\n          precios_producto: [\n            {\n              numero_precio: 1,\n              precio_neto: 8.25,\n              unidad_mayoreo: 0,\n              utilidad: 10,\n            },\n            {\n              numero_precio: 2,\n              precio_neto: 0,\n              unidad_mayoreo: 0,\n              utilidad: 0,\n            },\n            {\n              numero_precio: 3,\n              precio_neto: 0,\n              unidad_mayoreo: 0,\n              utilidad: 0,\n            },\n            {\n              numero_precio: 4,\n              precio_neto: 0,\n              unidad_mayoreo: 0,\n              utilidad: 0,\n            },\n            {\n              numero_precio: 5,\n              precio_neto: 0,\n              unidad_mayoreo: 0,\n              utilidad: 0,\n            },\n            {\n              numero_precio: 6,\n              precio_neto: 0,\n              unidad_mayoreo: 0,\n              utilidad: 0,\n            },\n          ],\n          unidad_de_compra: {\n            cantidad: 24,\n            precio_unitario_con_impuesto: 7.5,\n            precio_unitario_sin_impuesto: 6.4655,\n            unidad: \"Caja\",\n            codigo_unidad: \"XBX\",\n          },\n        },\n      },\n      medida: null,\n      color: null,\n    },\n  ],\n};\n","import React, { Fragment, useContext, useState } from \"react\";\nimport Box from \"@material-ui/core/Box\";\nimport Button from \"@material-ui/core/Button\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Slide from \"@material-ui/core/Slide\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport { makeStyles } from \"@material-ui/core\";\n\nimport { Search } from \"@material-ui/icons\";\nimport ErrorPage from \"../../../../../components/ErrorPage\";\nimport Done from \"@material-ui/icons/Done\";\nimport { useQuery } from \"@apollo/client\";\nimport { OBTENER_CLIENTES } from \"../../../../../gql/Catalogos/clientes\";\nimport { FacturacionCtx } from \"../../../../../context/Facturacion/facturacionCtx\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\"\nimport DetallesDeVenta from \"./DetallesVenta\";\nimport { compra_test } from '../TablaVenta/array_test'\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nconst useStyles = makeStyles((theme) => ({\n  container: {\n    height: \"50vh\",\n  },\n}));\n\nexport default function ListaVentasFactura() {\n  const [open, setOpen] = useState(false);\n  const { datosFactura, setDatosFactura, setVentaFactura, setProductos } = useContext(FacturacionCtx);\n\n  const handleOpen = () => setOpen(true);\n  const handleClose = () => setOpen(false);\n\n  return (\n    <div>\n      <IconButton onClick={() => handleOpen()} size=\"small\">\n        <Search />\n      </IconButton>\n      <Dialog\n        maxWidth=\"md\"\n        fullWidth\n        open={open}\n        onClose={() => handleClose()}\n        TransitionComponent={Transition}\n      >\n        <DialogTitle>Seleccionar cliente</DialogTitle>\n        <DialogContent>\n          <RenderLista />\n        </DialogContent>\n        <DialogActions style={{ justifyContent: \"center\" }}>\n          <Button\n            onClick={() => {\n              handleClose();\n              /* setDatosFactura({ ...datosFactura, cliente: \"\" }); */\n            }}\n          >\n            Cancelar\n          </Button>\n          <Button\n            color=\"primary\"\n            startIcon={<Done />}\n            onClick={() => {\n              console.log(compra_test);\n              setVentaFactura(compra_test);\n              setProductos(compra_test.productos);\n              handleClose();\n            }}\n            /* disabled={!datosFactura.cliente} */\n          >\n            Seleccionar\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n}\n\nconst RenderLista = () => {\n  const classes = useStyles();\n  const [filtro, setFiltro] = useState(\"\");\n  const [values, setValues] = useState(\"\");\n  const { datosFactura, setDatosFactura } = useContext(FacturacionCtx);\n\n  /* Queries */\n  const { loading, data, error } = useQuery(OBTENER_CLIENTES, {\n    variables: { tipo: \"CLIENTE\", filtro },\n  });\n\n  const pressEnter = (e) => {\n    if (e.key === \"Enter\") setFiltro(e.target.value);\n  };\n\n  if (loading)\n    return (\n      <Box\n        display=\"flex\"\n        justifyContent=\"center\"\n        alignItems=\"center\"\n        height=\"55vh\"\n      >\n        <CircularProgress />\n      </Box>\n    );\n  if (error) {\n    return <ErrorPage />;\n  }\n\n  const { obtenerClientes } = data;\n\n  const obtenerCliente = (value) => {\n    console.log(value);\n  }\n\n  return (\n    <Fragment>\n      <Box mb={2}>\n        <Autocomplete\n          id=\"usuarios-factura\"\n          size=\"small\"\n          placeholder=\"Buscar por: Numero de cliente, clave o nombre\"\n          options={obtenerClientes}\n          getOptionLabel={(option) => option.nombre_cliente}\n          fullWidth\n          renderInput={(params) => (\n            <TextField\n              {...params}\n              variant=\"outlined\"\n            />\n          )}\n          onChange={(_, data) => obtenerCliente(data)}\n          getOptionSelected={(option, value) => option.nombre_cliente === value.nombre_cliente}\n        />\n\n        {/* <TextField\n          fullWidth\n          size=\"small\"\n          placeholder=\"Buscar por: Numero de cliente, clave o nombre\"\n          variant=\"outlined\"\n          onChange={(e) => setValues(e.target.value)}\n          onKeyPress={pressEnter}\n          value={values}\n          InputProps={{\n            endAdornment: (\n              <InputAdornment position=\"end\">\n                <IconButton onClick={() => setFiltro(values)}>\n                  <Search />\n                </IconButton>\n              </InputAdornment>\n            ),\n          }}\n        /> */}\n      </Box>\n      <Paper variant=\"outlined\">\n        <TableContainer className={classes.container}>\n          <Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n            <TableHead>\n              <TableRow>\n                <TableCell>Folio</TableCell>\n                <TableCell>Cliente</TableCell>\n                <TableCell>Subtotal</TableCell>\n                <TableCell>Descuento</TableCell>\n                <TableCell>Impuestos</TableCell>\n                <TableCell>Total</TableCell>\n                <TableCell>Detalles</TableCell>\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {obtenerClientes.map((row, index) => {\n                return (\n                  <TableRow\n                    key={index}\n                    hover\n                    role=\"checkbox\"\n                    tabIndex={-1}\n                    /* onClick={() =>\n                      setDatosFactura({\n                        ...datosFactura,\n                        cliente: row.nombre_cliente,\n                      })\n                    } */\n                    /* onClick={() => setVentaFactura(compra_test)} */\n                    selected={row.nombre_cliente === datosFactura.cliente}\n                  >\n                    <TableCell>\n                      <Typography>{row.numero_cliente}</Typography>\n                    </TableCell>\n                    <TableCell>\n                      <Typography>{row.clave_cliente}</Typography>\n                    </TableCell>\n                    <TableCell>\n                      <Typography>{row.nombre_cliente}</Typography>\n                    </TableCell>\n                    <TableCell>\n                      <Typography>{row.razon_social}</Typography>\n                    </TableCell>\n                    <TableCell>\n                      <Typography>{row.razon_social}</Typography>\n                    </TableCell>\n                    <TableCell>\n                      <Typography>{row.razon_social}</Typography>\n                    </TableCell>\n                    <TableCell>\n                      <DetallesDeVenta />\n                    </TableCell>\n                  </TableRow>\n                );\n              })}\n            </TableBody>\n          </Table>\n        </TableContainer>\n      </Paper>\n    </Fragment>\n  );\n};\n","import React from \"react\";\nimport Facturama from \"../../../../../billing/Facturama/facturama.api\";\nimport { CircularProgress, InputAdornment, TextField } from \"@material-ui/core\";\nimport { FacturacionCtx } from \"../../../../../context/Facturacion/facturacionCtx\";\nimport { useDebounce } from \"use-debounce/lib\";\nimport { CheckCircle, Error } from \"@material-ui/icons\";\n\nexport default function CodigoPostal() {\n  const [loading, setLoading] = React.useState(false);\n  const {\n    cp_valido,\n    setCPValido,\n    codigo_postal,\n    setCodigoPostal,\n    error_validation,\n  } = React.useContext(FacturacionCtx);\n  const [value, setValue] = React.useState(\"\");\n\n  const [CP] = useDebounce(value, 500);\n\n  const obtenerCodigoPostal = React.useCallback(async (codigo_postal) => {\n    if (!codigo_postal) return;\n    try {\n      setLoading(true);\n      const result = await Facturama.Catalogs.PostalCodes(\n        codigo_postal,\n        function (result) {\n          return result;\n        }\n      );\n\n      if (result) {\n        setCPValido(true);\n        setLoading(false);\n        setCodigoPostal(result[0].Value);\n      }\n    } catch (error) {\n      setLoading(false);\n      setCPValido(false);\n      setCodigoPostal(\"\");\n    }\n  }, []);\n\n  React.useEffect(() => {\n    obtenerCodigoPostal(CP);\n  }, [CP]);\n\n  return (\n    <React.Fragment>\n      {/* <Typography>Código Postal:</Typography> */}\n      <form onSubmit={obtenerCodigoPostal}>\n        <TextField\n          fullWidth\n          name=\"expedition_place\"\n          size=\"small\"\n          variant=\"outlined\"\n          value={value}\n          label=\"Código postal\"\n          onChange={(e) => setValue(e.target.value)}\n          InputProps={{\n            endAdornment: (\n              <InputAdornment position=\"end\">\n                {value ? (\n                  loading ? (\n                    <CircularProgress size={20} />\n                  ) : cp_valido ? (\n                    <CheckCircle color=\"primary\" />\n                  ) : (\n                    <Error color=\"error\" />\n                  )\n                ) : (\n                  <div />\n                )}\n              </InputAdornment>\n            ),\n          }}\n          /* error={value ? cp_valido ? false : true : false}\n          helperText={value ? cp_valido ? \"\" : \"Introduce un CP valido\" : \"\"} */\n\n          error={\n            error_validation.status && !value\n              ? true\n              : value\n              ? cp_valido\n                ? false\n                : true\n              : false\n          }\n          helperText={\n            error_validation.status && !value\n              ? error_validation.message\n              : value\n              ? cp_valido\n                ? \"\"\n                : \"Introduce un CP valido\"\n              : \"\"\n          }\n        />\n      </form>\n    </React.Fragment>\n  );\n}\n","import React, { Fragment, useContext, useState } from \"react\";\nimport Box from \"@material-ui/core/Box\";\nimport Button from \"@material-ui/core/Button\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Slide from \"@material-ui/core/Slide\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport { makeStyles } from \"@material-ui/core\";\n\nimport { Search } from \"@material-ui/icons\";\nimport ErrorPage from \"../../../../components/ErrorPage\";\nimport Done from \"@material-ui/icons/Done\";\nimport { useQuery } from \"@apollo/client\";\nimport { OBTENER_CLIENTES } from \"../../../../gql/Catalogos/clientes\";\nimport { FacturacionCtx } from \"../../../../context/Facturacion/facturacionCtx\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport CrearCliente from \"../../Catalogos/Cliente/CrearCliente\";\nimport { ClienteProvider } from \"../../../../context/Catalogos/crearClienteCtx\";\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nconst useStyles = makeStyles((theme) => ({\n  container: {\n    height: \"50vh\",\n  },\n}));\n\nexport default function ListaClientesFacturas() {\n  const [open, setOpen] = useState(false);\n  const { datosFactura, setDatosFactura } = useContext(FacturacionCtx);\n\n  const handleOpen = () => setOpen(true);\n  const handleClose = () => setOpen(false);\n\n  return (\n    <div>\n      <IconButton onClick={() => handleOpen()} size=\"small\">\n        <Search />\n      </IconButton>\n      <Dialog\n        maxWidth=\"md\"\n        fullWidth\n        open={open}\n        onClose={() => handleClose()}\n        TransitionComponent={Transition}\n      >\n        <DialogTitle>Seleccionar cliente</DialogTitle>\n        <DialogContent>\n          <RenderLista />\n        </DialogContent>\n        <DialogActions style={{ justifyContent: \"center\" }}>\n          <Button\n            onClick={() => {\n              handleClose();\n              setDatosFactura({\n                ...datosFactura,\n                receiver: {\n                  Rfc: \"\",\n                  Name: \"\",\n                  CfdiUse: \"\",\n                },\n              });\n            }}\n          >\n            Cancelar\n          </Button>\n          <Button\n            color=\"primary\"\n            startIcon={<Done />}\n            onClick={() => handleClose()}\n            disabled={!datosFactura.receiver.Name}\n          >\n            Seleccionar\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n}\n\nconst RenderLista = () => {\n  const classes = useStyles();\n  const [filtro, setFiltro] = useState(\"\");\n  const [values, setValues] = useState(\"\");\n  const { datosFactura, setDatosFactura } = useContext(FacturacionCtx);\n\n  /* Queries */\n  const { loading, data, error, refetch } = useQuery(OBTENER_CLIENTES, {\n    variables: { tipo: \"CLIENTE\", filtro },\n  });\n\n  const pressEnter = (e) => {\n    if (e.key === \"Enter\") setFiltro(e.target.value);\n  };\n\n  if (loading)\n    return (\n      <Box\n        display=\"flex\"\n        justifyContent=\"center\"\n        alignItems=\"center\"\n        height=\"55vh\"\n      >\n        <CircularProgress />\n      </Box>\n    );\n  if (error) {\n    return <ErrorPage />;\n  }\n\n  const { obtenerClientes } = data;\n\n  return (\n    <Fragment>\n      <Box mb={2} display=\"flex\" alignItems=\"center\">\n        <TextField\n          fullWidth\n          size=\"small\"\n          placeholder=\"Buscar por: Numero de cliente, clave o nombre\"\n          variant=\"outlined\"\n          onChange={(e) => setValues(e.target.value)}\n          onKeyPress={pressEnter}\n          value={values}\n          InputProps={{\n            endAdornment: (\n              <InputAdornment position=\"end\">\n                <IconButton onClick={() => setFiltro(values)}>\n                  <Search />\n                </IconButton>\n              </InputAdornment>\n            ),\n          }}\n        />\n        <ClienteProvider>\n          <CrearCliente tipo=\"CLIENTE\" accion=\"registrar\" refetch={refetch} />\n        </ClienteProvider>\n      </Box>\n      <Paper variant=\"outlined\">\n        <TableContainer className={classes.container}>\n          <Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n            <TableHead>\n              <TableRow>\n                <TableCell minwidth=\"100\">No. Cliente</TableCell>\n                <TableCell minwidth=\"100\">Clave</TableCell>\n                <TableCell minwidth=\"150\">Nombre</TableCell>\n                <TableCell minwidth=\"150\">Razon Social</TableCell>\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {obtenerClientes.map((row, index) => {\n                return (\n                  <TableRow\n                    key={index}\n                    hover\n                    role=\"checkbox\"\n                    tabIndex={-1}\n                    onClick={() =>\n                      setDatosFactura({\n                        ...datosFactura,\n                        receiver: {\n                          ...datosFactura.receiver,\n                          Name: row.nombre_cliente,\n                          Rfc: row.rfc,\n                        },\n                      })\n                    }\n                    selected={row.nombre_cliente === datosFactura.receiver.Name}\n                  >\n                    <TableCell>\n                      <Typography>{row.numero_cliente}</Typography>\n                    </TableCell>\n                    <TableCell>\n                      <Typography>{row.clave_cliente}</Typography>\n                    </TableCell>\n                    <TableCell>\n                      <Typography>{row.nombre_cliente}</Typography>\n                    </TableCell>\n                    <TableCell>\n                      <Typography>{row.razon_social}</Typography>\n                    </TableCell>\n                  </TableRow>\n                );\n              })}\n            </TableBody>\n          </Table>\n        </TableContainer>\n      </Paper>\n    </Fragment>\n  );\n};\n","import React, { useContext, useEffect } from \"react\";\nimport Box from \"@material-ui/core/Box\";\nimport Divider from \"@material-ui/core/Divider\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport FormHelperText from \"@material-ui/core/FormHelperText\";\nimport Grid from \"@material-ui/core/Grid\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Typography from \"@material-ui/core/Typography\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Select from \"@material-ui/core/Select\";\nimport ListaVentasFactura from \"./ListaVentas/ListaVentasFactura.js\";\nimport { FacturacionCtx } from \"../../../../context/Facturacion/facturacionCtx.js\";\nimport CodigosPostales from \"./Catalogos/CodigoPostal.js\";\nimport { tipoCambio, tiposCfdi } from \"../catalogos\";\nimport ListaClientesFacturas from \"./ClientesSelect.js\";\n\nexport default function RegistroFactura({ serie_default }) {\n  const { datosFactura, setDatosFactura, error_validation } = useContext(\n    FacturacionCtx\n  );\n\n  useEffect(() => {\n    const { folio, serie } = serie_default[0];\n    setDatosFactura({ ...datosFactura, folio: folio.toString(), serie });\n  }, []);\n\n  const obtenerDatos = (e) => {\n    const { name, value } = e.target;\n    console.log(name, value);\n    setDatosFactura({\n      ...datosFactura,\n      [name]: value,\n    });\n  };\n\n  return (\n    <div>\n      <Grid container spacing={5}>\n        <Grid item md={6} xs={12}>\n          <Box mb={1}>\n            <Typography>\n              <b>{`Emisor: ${datosFactura.issuer.Name}`}</b>\n            </Typography>\n            <Divider />\n          </Box>\n          <Grid container spacing={2}>\n            <Grid item md={4} xs={12}>\n              <Typography>RFC</Typography>\n              <TextField\n                size=\"small\"\n                variant=\"outlined\"\n                fullWidth\n                value={datosFactura.issuer.Rfc}\n                disabled\n                error={error_validation.status && !datosFactura.issuer.Rfc}\n                helperText={\n                  error_validation.status && !datosFactura.issuer.Rfc\n                    ? error_validation.message\n                    : \"\"\n                }\n              />\n            </Grid>\n            <Grid item md={4} xs={12}>\n              <Typography>Regimen fiscal</Typography>\n              <FormControl fullWidth size=\"small\" variant=\"outlined\">\n                <TextField\n                  size=\"small\"\n                  variant=\"outlined\"\n                  fullWidth\n                  value={datosFactura.issuer.FiscalRegime}\n                  disabled\n                  error={\n                    error_validation.status && !datosFactura.issuer.FiscalRegime\n                  }\n                  helperText={\n                    error_validation.status && !datosFactura.issuer.FiscalRegime\n                      ? error_validation.message\n                      : \"\"\n                  }\n                />\n              </FormControl>\n            </Grid>\n          </Grid>\n        </Grid>\n        <Grid item md={6} xs={12}>\n          <Box mb={1}>\n            <Typography>\n              <b>Receptor</b>\n            </Typography>\n            <Divider />\n          </Box>\n          <Grid container spacing={2}>\n            <Grid item md={4} xs={12}>\n              <Typography>Cliente</Typography>\n              <TextField\n                value={datosFactura.receiver.Name}\n                placeholder=\"Selecciona un cliente\"\n                fullWidth\n                size=\"small\"\n                variant=\"outlined\"\n                InputProps={{\n                  endAdornment: (\n                    <InputAdornment position=\"end\">\n                      <ListaClientesFacturas />\n                    </InputAdornment>\n                  ),\n                  readOnly: true,\n                  disabled: true,\n                }}\n                error={error_validation.status && !datosFactura.receiver.Name}\n                helperText={\n                  error_validation.status && !datosFactura.receiver.Name\n                    ? error_validation.message\n                    : \"\"\n                }\n              />\n            </Grid>\n            <Grid item md={4} xs={12}>\n              <Typography>RFC</Typography>\n              <TextField\n                size=\"small\"\n                variant=\"outlined\"\n                fullWidth\n                value={datosFactura.receiver.Rfc}\n                disabled\n                error={error_validation.status && !datosFactura.receiver.Rfc}\n                helperText={\n                  error_validation.status && !datosFactura.receiver.Rfc\n                    ? error_validation.message\n                    : \"\"\n                }\n              />\n            </Grid>\n          </Grid>\n        </Grid>\n      </Grid>\n\n      <Box mt={1} mb={2}>\n        <Typography>\n          <b>Datos factura</b>\n        </Typography>\n        <Divider />\n      </Box>\n      <Grid container spacing={2}>\n        <Grid item xs={12} sm={4} md={3}>\n          <TextField\n            value={datosFactura.cliente}\n            placeholder=\"Selecciona venta a facturar\"\n            fullWidth\n            size=\"small\"\n            label=\"Folio Venta\"\n            variant=\"outlined\"\n            InputProps={{\n              endAdornment: (\n                <InputAdornment position=\"end\">\n                  <ListaVentasFactura />\n                </InputAdornment>\n              ),\n              readOnly: true,\n              disabled: true,\n            }}\n          />\n        </Grid>\n        <Grid item xs={12} sm={4} md={1}>\n          <TextField\n            value={datosFactura.folio}\n            label=\"Folio\"\n            fullWidth\n            size=\"small\"\n            variant=\"outlined\"\n            disabled\n            error={error_validation.status && !datosFactura.folio}\n            helperText={\n              error_validation.status && !datosFactura.folio\n                ? error_validation.message\n                : \"\"\n            }\n          />\n        </Grid>\n        <Grid item xs={12} sm={4} md={1}>\n          <TextField\n            value={datosFactura.serie}\n            label=\"Serie\"\n            fullWidth\n            size=\"small\"\n            variant=\"outlined\"\n            disabled\n            error={error_validation.status && !datosFactura.serie}\n            helperText={\n              error_validation.status && !datosFactura.serie\n                ? error_validation.message\n                : \"\"\n            }\n          />\n        </Grid>\n        <Grid item xs={12} sm={4} md={2}>\n          <FormControl\n            variant=\"outlined\"\n            fullWidth\n            size=\"small\"\n            name=\"cfdi_type\"\n            error={error_validation.status && !datosFactura.cfdi_type}\n          >\n            <InputLabel id=\"cfdi_type\">Tipo de CFDI</InputLabel>\n            <Select\n              labelId=\"cfdi_type\"\n              value={datosFactura.cfdi_type}\n              name=\"cfdi_type\"\n              onChange={obtenerDatos}\n              label=\"tipo de CFDI\"\n            >\n              <MenuItem value=\"\">\n                <em>Selecciona uno</em>\n              </MenuItem>\n              {tiposCfdi.map((res, index) => (\n                <MenuItem\n                  key={index}\n                  value={res.Value}\n                >{`${res.Value} - ${res.Name}`}</MenuItem>\n              ))}\n            </Select>\n            <FormHelperText>\n              {error_validation.status && !datosFactura.cfdi_type\n                ? error_validation.message\n                : \"\"}\n            </FormHelperText>\n          </FormControl>\n        </Grid>\n        <Grid item xs={12} sm={4} md={2}>\n          <FormControl\n            variant=\"outlined\"\n            fullWidth\n            size=\"small\"\n            name=\"currency\"\n            error={error_validation.status && !datosFactura.currency}\n          >\n            <InputLabel id=\"moneda\">Moneda</InputLabel>\n            <Select\n              labelId=\"moneda\"\n              value={datosFactura.currency}\n              name=\"currency\"\n              onChange={obtenerDatos}\n              label=\"moneda\"\n            >\n              <MenuItem value=\"\">\n                <em>Selecciona uno</em>\n              </MenuItem>\n              {tipoCambio.map((res, index) => (\n                <MenuItem\n                  key={index}\n                  value={res.Value}\n                >{`${res.Value} - ${res.Name}`}</MenuItem>\n              ))}\n            </Select>\n            <FormHelperText>\n              {error_validation.status && !datosFactura.currency\n                ? error_validation.message\n                : \"\"}\n            </FormHelperText>\n          </FormControl>\n        </Grid>\n        <Grid item xs={12} sm={4} md={3}>\n          <CodigosPostales />\n        </Grid>\n      </Grid>\n    </div>\n  );\n}\n","import React, { useState } from \"react\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport Table from \"@material-ui/core/Table\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport Slide from \"@material-ui/core/Slide\";\nimport { Edit } from \"@material-ui/icons\";\nimport { formatoMexico } from \"../../../../../config/reuserFunctions\";\nimport { Box, Checkbox, Divider, FormControl, MenuItem, Select, Typography } from \"@material-ui/core\";\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function ModificarProductoFactura({ venta, producto, index }) {\n  const [open, setOpen] = useState(false);\n  const { datos_generales } = producto.id_producto;\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  return (\n    <div>\n      <IconButton size=\"small\" onClick={handleClickOpen}>\n        <Edit />\n      </IconButton>\n      <Dialog\n        open={open}\n        TransitionComponent={Transition}\n        keepMounted\n        onClose={handleClose}\n        fullWidth\n        maxWidth=\"md\"\n      >\n        <DialogTitle>{datos_generales.nombre_comercial}</DialogTitle>\n        <DialogContent>\n          <Box mb={2}>\n            <Box>\n              <Typography>\n                <b>Impuestos</b>\n              </Typography>\n            </Box>\n            <Divider />\n            <TableContainer>\n              <Table size=\"small\" aria-label=\"a dense table\">\n                <TableHead>\n                  <TableRow>\n                    <TableCell padding=\"checkbox\">Activo</TableCell>\n                    <TableCell style={{ width: 50 }}>Base</TableCell>\n                    <TableCell style={{ width: 50 }}>Impuesto</TableCell>\n                    <TableCell style={{ width: 100 }}>Tasa o Cuota</TableCell>\n                    <TableCell style={{ width: 100 }}>\n                      Valor Tasa o Cuota\n                    </TableCell>\n                    <TableCell style={{ width: 100 }}>Importe</TableCell>\n                  </TableRow>\n                </TableHead>\n                <TableBody>\n                  <TableRow tabIndex={-1}>\n                    <TableCell padding=\"checkbox\">\n                      <Checkbox\n                        size=\"small\"\n                        /* checked={precios.iva_activo} */\n                        /* onChange={obtenerIva} */\n                        name=\"iva_activo\"\n                      />\n                    </TableCell>\n                    <TableCell style={{ width: 50 }}>IVA</TableCell>\n                    <TableCell style={{ width: 50 }}>IEPS</TableCell>\n                    <TableCell style={{ width: 100 }}>\n                      <FormControl\n                      fullWidth\n                        size=\"small\"\n                      >\n                        <Select\n                          /* value={age} */\n                          /* onChange={handleChange} */\n                        >\n                          <MenuItem value=\"Tasa\">Tasa</MenuItem>\n                          <MenuItem value=\"Cuota\">Cuota</MenuItem>\n                        </Select>\n                      </FormControl>\n                    </TableCell>\n                    <TableCell style={{ width: 100 }}>\n                      Valor Tasa o Cuota\n                    </TableCell>\n                    <TableCell style={{ width: 100 }}>Importe</TableCell>\n                  </TableRow>\n                  <TableRow tabIndex={-1}>\n                    <TableCell padding=\"checkbox\">\n                      <Checkbox\n                        size=\"small\"\n                        /* checked={precios.iva_activo} */\n                        /* onChange={obtenerIva} */\n                        name=\"iva_activo\"\n                      />\n                    </TableCell>\n                    <TableCell style={{ width: 50 }}>Base</TableCell>\n                    <TableCell style={{ width: 50 }}>Impuesto</TableCell>\n                    <TableCell style={{ width: 100 }}>Tasa o Cuota</TableCell>\n                    <TableCell style={{ width: 100 }}>\n                      Valor Tasa o Cuota\n                    </TableCell>\n                    <TableCell style={{ width: 100 }}>Importe</TableCell>\n                  </TableRow>\n                </TableBody>\n              </Table>\n            </TableContainer>\n          </Box>\n          <Box>\n            <Typography>\n              <b>Venta</b>\n            </Typography>\n          </Box>\n          <Divider />\n          <TableContainer>\n            <Table size=\"small\" aria-label=\"a dense table\">\n              <TableHead>\n                <TableRow>\n                  <TableCell style={{ width: 50 }}>IVA</TableCell>\n                  <TableCell style={{ width: 50 }}>IEPS</TableCell>\n                  <TableCell style={{ width: 100 }}>Subtotal</TableCell>\n                  <TableCell style={{ width: 100 }}>Impuestos</TableCell>\n                  <TableCell style={{ width: 100 }}>Total</TableCell>\n                </TableRow>\n              </TableHead>\n              <TableBody>\n                <TableRow tabIndex={-1}>\n                  <TableCell>% IVA</TableCell>\n                  <TableCell>% IEPS</TableCell>\n                  <TableCell>\n                    ${formatoMexico(producto.subtotal_total_producto)}\n                  </TableCell>\n                  <TableCell>\n                    ${formatoMexico(producto.impuestos_total_producto)}\n                  </TableCell>\n                  <TableCell>\n                    ${formatoMexico(producto.total_total_producto)}\n                  </TableCell>\n                </TableRow>\n              </TableBody>\n            </Table>\n          </TableContainer>\n        </DialogContent>\n        <DialogActions style={{ justifyContent: \"center\" }}>\n          <Button onClick={handleClose} color=\"primary\">\n            Cancelar\n          </Button>\n          <Button onClick={handleClose} color=\"primary\">\n            Guardar\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n}\n","import React from \"react\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport Table from \"@material-ui/core/Table\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport Slide from \"@material-ui/core/Slide\";\nimport {\n  calculatePrices2,\n  formatoMexico,\n} from \"../../../../../config/reuserFunctions\";\nimport { useState } from \"react\";\nimport { Close } from \"@material-ui/icons\";\nimport { useContext } from \"react\";\nimport { FacturacionCtx } from \"../../../../../context/Facturacion/facturacionCtx\";\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function EliminarProductoFactura({ venta, producto, index }) {\n  const [open, setOpen] = useState(false);\n  const { setVentaFactura, setProductos, productos } = useContext(FacturacionCtx);\n  const { datos_generales } = producto.id_producto;\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const handleDelete = async () => {\n    const copy_venta = { ...venta };\n    const copy_productos = [ ...productos];\n    const { cantidad_venta, granel_producto, precio_actual_object } = producto;\n    const { iva, ieps, impuestos, subTotal, total, monedero } = copy_venta;\n    //devuelve cantidades a restar\n    const precio_resta = await calculatePrices2({\n      newP: producto,\n      cantidad: cantidad_venta,\n      granel: granel_producto,\n      precio_boolean: true,\n      precio: precio_actual_object,\n    });\n    //Restar precios a venta\n    console.log(precio_resta);\n    const {\n      ivaCalculo,\n      iepsCalculo,\n      impuestoCalculo,\n      subtotalCalculo,\n      totalCalculo,\n      monederoCalculo,\n    } = precio_resta;\n\n    copy_venta.iva = iva - ivaCalculo;\n    copy_venta.ieps = ieps - iepsCalculo;\n    copy_venta.impuestos = impuestos - impuestoCalculo;\n    copy_venta.subTotal = subTotal - subtotalCalculo;\n    copy_venta.total = total - totalCalculo;\n    copy_venta.monedero = monedero - monederoCalculo;\n\n    //remover de la lista\n    copy_productos.splice(index, 1);\n    setVentaFactura(copy_venta);\n    setProductos(copy_productos);\n    handleClose();\n  };\n\n  return (\n    <div>\n      <IconButton size=\"small\" onClick={handleClickOpen}>\n        <Close />\n      </IconButton>\n      <Dialog\n        open={open}\n        TransitionComponent={Transition}\n        keepMounted\n        onClose={(_, reason) => {\n          if (reason !== \"backdropClick\") {\n            handleClose();\n          }\n        }}\n      >\n        <DialogTitle>¿Está seguro de eliminar este producto?</DialogTitle>\n        <DialogContent>\n          <TableContainer>\n            <Table size=\"small\" aria-label=\"a dense table\">\n              <TableHead>\n                <TableRow>\n                  <TableCell style={{ width: 100 }}>Producto</TableCell>\n                  <TableCell style={{ width: 50 }}>Cantidad</TableCell>\n                  <TableCell style={{ width: 100 }}>Subtotal</TableCell>\n                  <TableCell style={{ width: 100 }}>Impuestos</TableCell>\n                  <TableCell style={{ width: 100 }}>Total</TableCell>\n                </TableRow>\n              </TableHead>\n              <TableBody>\n                <TableRow tabIndex={-1}>\n                  <TableCell>{datos_generales.nombre_comercial}</TableCell>\n                  <TableCell>{producto.cantidad_venta}</TableCell>\n                  <TableCell>\n                    ${formatoMexico(producto.subtotal_total_producto)}\n                  </TableCell>\n                  <TableCell>\n                    ${formatoMexico(producto.impuestos_total_producto)}\n                  </TableCell>\n                  <TableCell>\n                    ${formatoMexico(producto.total_total_producto)}\n                  </TableCell>\n                </TableRow>\n              </TableBody>\n            </Table>\n          </TableContainer>\n        </DialogContent>\n        <DialogActions style={{ justifyContent: \"center\" }}>\n          <Button onClick={() => handleClose()} color=\"inherit\">\n            Cancelar\n          </Button>\n          <Button onClick={() => handleDelete()} color=\"secondary\">\n            Eliminar\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n}\n","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport { Box, Typography } from \"@material-ui/core\";\nimport { formatoMexico } from \"../../../../../config/reuserFunctions\";\nimport ModificarProductoFactura from \"./EditarProductoFactura\";\nimport EliminarProductoFactura from \"./EliminarProductoFactura\";\nimport { useContext } from \"react\";\nimport { FacturacionCtx } from \"../../../../../context/Facturacion/facturacionCtx\";\n\nconst useStyles = makeStyles({\n  root: {\n    width: \"100%\",\n  },\n  container: {\n    height: \"36vh\",\n  },\n});\n\nexport default function DetallesFactura() {\n  const classes = useStyles();\n  const { venta_factura, productos } = useContext(FacturacionCtx);\n\n  if(!venta_factura){\n    return null\n  }\n\n  console.log(venta_factura);\n  \n\n  return (\n    <Paper className={classes.root} variant=\"elevation\">\n      <Box textAlign=\"center\">\n        <Typography variant=\"button\">Detalles de Venta</Typography>\n      </Box>\n      <TableContainer>\n        <Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n          <TableHead>\n          <TableRow>\n              <TableCell style={{ width: 250 }}>Folio</TableCell>\n              <TableCell style={{ width: 50 }}>Descuento</TableCell>\n              <TableCell style={{ width: 50 }}>IVA</TableCell>\n              <TableCell style={{ width: 50 }}>IEPS</TableCell>\n              <TableCell style={{ width: 100 }}>Subtotal</TableCell>\n              <TableCell style={{ width: 100 }}>Impuestos</TableCell>\n              <TableCell style={{ width: 100 }}>Total</TableCell>\n              <TableCell style={{ width: 50 }}>Usuario</TableCell>\n              <TableCell style={{ width: 50 }}>Caja</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <TableRow hover role=\"checkbox\" tabIndex={-1}>\n              <TableCell style={{ width: 200 }}>{venta_factura.folio}</TableCell>\n              <TableCell style={{ width: 200 }}>${formatoMexico(venta_factura.descuento)}</TableCell>\n              <TableCell style={{ width: 200 }}>${formatoMexico(venta_factura.iva)}</TableCell>\n              <TableCell style={{ width: 200 }}>${formatoMexico(venta_factura.ieps)}</TableCell>\n              <TableCell style={{ width: 200 }}>${formatoMexico(venta_factura.subTotal)}</TableCell>\n              <TableCell style={{ width: 200 }}>${formatoMexico(venta_factura.impuestos)}</TableCell>\n              <TableCell style={{ width: 200 }}>${formatoMexico(venta_factura.total)}</TableCell>\n              <TableCell style={{ width: 200 }}>aqui ira usuario</TableCell>\n              <TableCell style={{ width: 200 }}>aqui ira caja</TableCell>\n            </TableRow>\n          </TableBody>\n        </Table>\n      </TableContainer>\n      <Box textAlign=\"center\" mt={1}>\n        <Typography variant=\"button\">Productos de Venta</Typography>\n      </Box>\n      <TableContainer className={classes.container}>\n        <Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n          <TableHead>\n            <TableRow>\n              <TableCell style={{ width: 250 }}>Producto</TableCell>\n              <TableCell style={{ width: 50 }}>Cantidad</TableCell>\n              <TableCell style={{ width: 50 }}>IVA</TableCell>\n              <TableCell style={{ width: 50 }}>IEPS</TableCell>\n              <TableCell style={{ width: 100 }}>Subtotal</TableCell>\n              <TableCell style={{ width: 100 }}>Impuestos</TableCell>\n              <TableCell style={{ width: 100 }}>Total</TableCell>\n              <TableCell style={{ width: 50 }}>Modificar</TableCell>\n              <TableCell style={{ width: 50 }} >Eliminar</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {productos.map((producto, index) => {\n              return <RowTableProductos venta={venta_factura} producto={producto} key={index} index={index} />;\n            })}\n          </TableBody>\n        </Table>\n      </TableContainer>\n    </Paper>\n  );\n}\n\nconst RowTableProductos = ({ venta, producto, index }) => {\n  const {datos_generales}= producto.id_producto\n  return (\n    <TableRow tabIndex={-1}>\n      <TableCell>{datos_generales.nombre_comercial}</TableCell>\n      <TableCell>{producto.cantidad_venta}</TableCell>\n      <TableCell>${formatoMexico(producto.iva_total_producto)}</TableCell>\n      <TableCell>${formatoMexico(producto.ieps_total_producto)}</TableCell>\n      <TableCell>${formatoMexico(producto.subtotal_total_producto)}</TableCell>\n      <TableCell>${formatoMexico(producto.impuestos_total_producto)}</TableCell>\n      <TableCell>${formatoMexico(producto.total_total_producto)}</TableCell>\n      <TableCell>\n        <ModificarProductoFactura venta={venta} producto={producto} index={index} />\n      </TableCell>\n      <TableCell>\n        <EliminarProductoFactura venta={venta} producto={producto} index={index} />\n      </TableCell>\n    </TableRow>\n  );\n};\n\n","export const verificarDatosFactura = (datos) => {\n  const {\n    cfdi_type,\n    currency,\n    date,\n    empresa,\n    expedition_place,\n    folio,\n    issuer,\n    items,\n    logo_url,\n    payment_form,\n    payment_method,\n    receiver,\n    serie,\n    sucursal,\n  } = datos;\n\n  console.log(datos);\n\n  //verificar datos factura\n  if (\n    !cfdi_type ||\n    !currency ||\n    !date ||\n    !empresa ||\n    !expedition_place ||\n    !folio ||\n    !issuer ||\n    !items ||\n    !logo_url ||\n    !payment_form ||\n    !payment_method ||\n    !receiver ||\n    !serie ||\n    !sucursal\n  ){\n      return [{message: \"Campo requerido\"}]\n  }\n//verificar productos factura\n\n\n    return [];\n};\n","const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n\nexport const factura_initial_state = {\n    serie: \"\",\n    currency: \"MXN\",\n    expedition_place: \"\",\n    folio: \"\",\n    cfdi_type: \"I\",\n    payment_form: \"\",\n    payment_method: \"\",\n    logo_url: sesion ? sesion.imagen : '',\n    date: \"0\",\n    issuer: {\n      FiscalRegime: sesion ? sesion.empresa.regimen_fiscal : \"\",\n      Rfc: sesion ? sesion.empresa.rfc : \"\",\n      Name: sesion ? sesion.empresa.nombre_fiscal : \"\",\n    },\n    receiver: {\n      Rfc: \"\",\n      Name: \"\",\n      CfdiUse: \"\",\n    },\n    items: [],\n    empresa: sesion ? sesion.empresa._id : \"\",\n    sucursal: sesion ? sesion.sucursal._id : \"\",\n  }","import React, { useContext, useState } from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport Slide from \"@material-ui/core/Slide\";\nimport Box from \"@material-ui/core/Box\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport FormHelperText from \"@material-ui/core/FormHelperText\";\nimport Typography from \"@material-ui/core/Typography\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Select from \"@material-ui/core/Select\";\nimport DoneIcon from \"@material-ui/icons/Done\";\nimport moment from \"moment\";\nimport { verificarDatosFactura } from \"./validacion_factura\";\nimport { factura_initial_state } from \"./initial_factura_states\";\nimport { FacturacionCtx } from \"../../../../context/Facturacion/facturacionCtx\";\nimport { CREAR_FACTURA } from \"../../../../gql/Facturacion/Facturacion\";\nimport { useMutation } from \"@apollo/client\";\nimport { formaPago, metodoPago, tiposCfdi, usosCfdi } from \"../catalogos\";\nimport { Done } from \"@material-ui/icons\";\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function RealizarFactura({ setAlert }) {\n  const [open, setOpen] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const {\n    datosFactura,\n    setDatosFactura,\n    codigo_postal,\n    setCodigoPostal,\n    productosFactura,\n    setProductosFactura,\n    setError,\n  } = useContext(FacturacionCtx);\n\n  const [CrearFactura] = useMutation(CREAR_FACTURA);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const limpiarCampos = () => {\n    setDatosFactura(factura_initial_state);\n    setProductosFactura([]);\n    setCodigoPostal(\"\");\n  };\n\n  const crearFactura = async () => {\n    try {\n      setLoading(true);\n      let nuevo_obj = { ...datosFactura };\n      const productos = [\n        {\n          ProductCode: \"50202306\",\n          IdentificationNumber: \"61b7bf6e3454b727a0c2e357\",\n          Description: \"COCACOLA\",\n          /* Unit: \"Unidad de Servicio\", */\n          UnitCode: \"XBX\",\n          UnitPrice: \"36\",\n          Quantity: \"1\",\n          Subtotal: \"36\",\n          Discount: \"5.4\",\n          Taxes: [\n            {\n              Total: \"4.89\",\n              Name: \"IVA\",\n              Base: \"30.6\",\n              Rate: \"0.16\",\n              IsRetention: \"false\",\n            },\n          ],\n          Total: \"35.49\",\n        },\n      ];\n\n      //poner la fecha de facturacion\n      if (datosFactura.date === \"1\") {\n        nuevo_obj.date = moment()\n          .subtract(1, \"d\")\n          .format(\"YYYY-MM-DDTHH:mm:ss\");\n      } else if (datosFactura.date === \"2\") {\n        nuevo_obj.date = moment()\n          .subtract(2, \"d\")\n          .format(\"YYYY-MM-DDTHH:mm:ss\");\n      } else {\n        nuevo_obj.date = moment().format(\"YYYY-MM-DDTHH:mm:ss\");\n      }\n\n      nuevo_obj.items = productos;\n      nuevo_obj.expedition_place = codigo_postal;\n\n      /* validar todos los datos */\n      const validate = verificarDatosFactura(nuevo_obj);\n\n      console.log(nuevo_obj);\n      if (validate.length) {\n        setError({ status: true, message: validate[0].message });\n        setLoading(false);\n        return;\n      }\n      setError({ status: false, message: \"\" });\n\n      /* let result = await CrearFactura({\n        variables: {\n          input: nuevo_obj,\n        },\n      });\n      console.log(\"result\", result); */\n      setLoading(false);\n      /* setAlert({\n        message: `¡Listo! ${result.data.crearFactura.message}`,\n        status: \"success\",\n        open: true,\n      }); */\n      /* limpiarCampos(); */\n    } catch (error) {\n      console.log(error);\n      console.log(error.response);\n      setLoading(false);\n      if (error.response) {\n        setAlert({\n          message: error.response,\n          status: \"error\",\n          open: true,\n        });\n      } else if (error.networkError) {\n        console.log(error.networkError.result);\n      } else if (error.graphQLErrors) {\n        console.log(error.graphQLErrors);\n      }\n    }\n  };\n\n  return (\n    <div>\n      <Button\n        color=\"primary\"\n        startIcon={<DoneIcon />}\n        size=\"large\"\n        onClick={() => handleClickOpen()}\n      >\n        Generar CFDI\n      </Button>\n      <Dialog\n        open={open}\n        TransitionComponent={Transition}\n        keepMounted\n        onClose={() => handleClose()}\n        fullWidth\n        maxWidth=\"xs\"\n      >\n        <DialogContent>\n          <InputsFacturaModal />\n        </DialogContent>\n        <DialogActions style={{ justifyContent: \"center\" }}>\n          <Button onClick={() => handleClose()} color=\"primary\">\n            Cancelar\n          </Button>\n          <Button startIcon={<Done />} onClick={() => crearFactura()} color=\"primary\">\n            Realizar Factura\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n}\n\nconst InputsFacturaModal = () => {\n  const { datosFactura, setDatosFactura, error_validation } = useContext(\n    FacturacionCtx\n  );\n\n  const obtenerDatos = (e) => {\n    const { name, value } = e.target;\n    console.log(name, value);\n    setDatosFactura({\n      ...datosFactura,\n      [name]: value,\n    });\n  };\n\n  const obtenerUsoCfdi = (e) => {\n    const { name, value } = e.target;\n    setDatosFactura({\n      ...datosFactura,\n      receiver: {\n        ...datosFactura.receiver,\n        [name]: value,\n      },\n    });\n  };\n\n  return (\n    <Box>\n      <Box my={1}>\n        <Typography>Fecha de facturación</Typography>\n        <FormControl\n          variant=\"outlined\"\n          fullWidth\n          size=\"small\"\n          name=\"date\"\n          error={error_validation.status && !datosFactura.date}\n        >\n          <Select value={datosFactura.date} name=\"date\" onChange={obtenerDatos}>\n            <MenuItem value=\"\">\n              <em>Selecciona una fecha</em>\n            </MenuItem>\n            <MenuItem value=\"0\">{moment().format(\"LL\")}</MenuItem>\n            <MenuItem value=\"1\">\n              {moment().subtract(1, \"d\").format(\"LL\")}\n            </MenuItem>\n            <MenuItem value=\"2\">\n              {moment().subtract(2, \"d\").format(\"LL\")}\n            </MenuItem>\n          </Select>\n          <FormHelperText>\n            {error_validation.status && !datosFactura.date\n              ? error_validation.message\n              : \"\"}\n          </FormHelperText>\n        </FormControl>\n      </Box>\n      <Box my={1}>\n        <Typography>Forma de pago</Typography>\n        <FormControl\n          variant=\"outlined\"\n          fullWidth\n          size=\"small\"\n          name=\"payment_form\"\n          error={error_validation.status && !datosFactura.payment_form}\n        >\n          <Select\n            value={datosFactura.payment_form}\n            name=\"payment_form\"\n            onChange={obtenerDatos}\n          >\n            <MenuItem value=\"\">\n              <em>Selecciona uno</em>\n            </MenuItem>\n            {formaPago.map((res, index) => (\n              <MenuItem\n                key={index}\n                value={res.Value}\n              >{`${res.Value} - ${res.Name}`}</MenuItem>\n            ))}\n          </Select>\n          <FormHelperText>\n            {error_validation.status && !datosFactura.payment_form\n              ? error_validation.message\n              : \"\"}\n          </FormHelperText>\n        </FormControl>\n      </Box>\n      <Box my={1}>\n        <Typography>Método de pago</Typography>\n        <FormControl\n          variant=\"outlined\"\n          fullWidth\n          size=\"small\"\n          name=\"payment_method\"\n          error={error_validation.status && !datosFactura.payment_method}\n        >\n          <Select\n            value={datosFactura.payment_method}\n            name=\"payment_method\"\n            onChange={obtenerDatos}\n          >\n            <MenuItem value=\"\">\n              <em>Selecciona uno</em>\n            </MenuItem>\n            {metodoPago.map((res, index) => (\n              <MenuItem\n                key={index}\n                value={res.Value}\n              >{`${res.Value} - ${res.Name}`}</MenuItem>\n            ))}\n          </Select>\n          <FormHelperText>\n            {error_validation.status && !datosFactura.payment_method\n              ? error_validation.message\n              : \"\"}\n          </FormHelperText>\n        </FormControl>\n      </Box>\n      <Box>\n        <Typography>Uso de CFDi</Typography>\n        <FormControl\n          fullWidth\n          size=\"small\"\n          variant=\"outlined\"\n          fullWidth\n          error={error_validation.status && !datosFactura.receiver.CfdiUse}\n        >\n          <Select\n            value={datosFactura.receiver.CfdiUse}\n            name=\"CfdiUse\"\n            onChange={obtenerUsoCfdi}\n          >\n            <MenuItem value=\"\">\n              <em>Selecciona uno</em>\n            </MenuItem>\n            {usosCfdi.map((res, index) => (\n              <MenuItem\n                key={index}\n                value={res.Value}\n              >{`${res.Value} - ${res.Name}`}</MenuItem>\n            ))}\n          </Select>\n          <FormHelperText>\n            {error_validation.status && !datosFactura.receiver.CfdiUse\n              ? error_validation.message\n              : \"\"}\n          </FormHelperText>\n        </FormControl>\n      </Box>\n    </Box>\n  );\n};\n","import React, { forwardRef, Fragment, useContext, useState } from \"react\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Box from \"@material-ui/core/Box\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport Slide from \"@material-ui/core/Slide\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Typography from \"@material-ui/core/Typography\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport { makeStyles } from \"@material-ui/core\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport Alert from \"@material-ui/lab/Alert\";\n\nimport RegistroFactura from \"./RegistroFactura\";\nimport DetallesFactura from \"./TablaVenta/TablaDetallesFactura\";\nimport { ClienteProvider } from \"../../../../context/Catalogos/crearClienteCtx\";\nimport {\n  FacturacionCtx,\n  FacturacionProvider,\n} from \"../../../../context/Facturacion/facturacionCtx\";\n\nimport { useQuery } from \"@apollo/client\";\nimport { OBTENER_SERIES } from \"../../../../gql/Facturacion/Facturacion\";\nimport ErrorPage from \"../../../../components/ErrorPage\";\nimport SnackBarMessages from \"../../../../components/SnackBarMessages\";\nimport RealizarFactura from \"./RealizarFactura\";\nimport { factura_initial_state } from \"./initial_factura_states\";\n\nconst useStyles = makeStyles((theme) => ({\n  appBar: {\n    position: \"relative\",\n  },\n  title: {\n    marginLeft: theme.spacing(2),\n    flex: 1,\n  },\n}));\n\nconst Transition = forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function NuevaFactura() {\n  const classes = useStyles();\n  const [open, setOpen] = useState(false);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  return (\n    <div>\n      <ClienteProvider>\n        <Button fullWidth onClick={() => handleClickOpen()}>\n          <Box display=\"flex\" flexDirection=\"column\">\n            <Box\n              display=\"flex\"\n              justifyContent=\"center\"\n              alignItems=\"center\"\n              mb={2}\n            >\n              <img\n                src=\"https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/factura-2.png\"\n                alt=\"icono Factura\"\n                style={{ width: 100 }}\n              />\n            </Box>\n            Generar nuevo CFDI\n          </Box>\n        </Button>\n        <Dialog\n          fullScreen\n          open={open}\n          onClose={() => handleClose()}\n          TransitionComponent={Transition}\n        >\n          <AppBar className={classes.appBar}>\n            <Toolbar>\n              <Typography variant=\"h6\" className={classes.title}>\n                Generar nuevo CFDI\n              </Typography>\n              <Box m={1}>\n                <Button\n                  /* variant=\"contained\" */\n                  color=\"inherit\"\n                  onClick={() => handleClose()}\n                  size=\"large\"\n                >\n                  <CloseIcon style={{ fontSize: 30 }} />\n                </Button>\n              </Box>\n            </Toolbar>\n          </AppBar>\n          <FacturacionProvider>\n            <FacturaModalContent handleClose={handleClose} />\n          </FacturacionProvider>\n        </Dialog>\n      </ClienteProvider>\n    </div>\n  );\n}\n\nconst FacturaModalContent = ({ handleClose }) => {\n  const { setDatosFactura, setCodigoPostal, setProductosFactura } = useContext(\n    FacturacionCtx\n  );\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n  const [alert, setAlert] = useState({ message: \"\", status: \"\", open: false });\n\n  const { loading, data, error } = useQuery(OBTENER_SERIES, {\n    variables: {\n      sucursal: sesion.sucursal._id,\n      empresa: sesion.empresa._id,\n    },\n    fetchPolicy: \"network-only\",\n  });\n\n  if (loading) {\n    return (\n      <Box\n        display=\"flex\"\n        justifyContent=\"center\"\n        alignItems=\"center\"\n        height=\"30vh\"\n      >\n        <CircularProgress />\n      </Box>\n    );\n  }\n  if (error) {\n    return <ErrorPage error={error} />;\n  }\n\n  const { seriesCfdi } = data.obtenerSeriesCdfi;\n\n  let serie_default = [];\n  serie_default = seriesCfdi.filter((serie) => serie.default === true);\n  if (!serie_default.length) {\n    serie_default = [{ folio: \"\", serie: \"\" }];\n    console.log(serie_default);\n  }\n\n  const limpiarCampos = () => {\n    setDatosFactura(factura_initial_state);\n    setProductosFactura([]);\n    setCodigoPostal(\"\");\n  };\n\n  const cancelarCFDI = () => {\n    limpiarCampos();\n    handleClose();\n  };\n\n  return (\n    <Fragment>\n      <DialogContent>\n        <SnackBarMessages alert={alert} setAlert={setAlert} />\n        {!seriesCfdi.length ? (\n          <Alert severity=\"warning\">No tienes Series CFDI registradas</Alert>\n        ) : null}\n        <Box my={2}>\n          <RegistroFactura serie_default={serie_default} />\n        </Box>\n        {/* <Box>\n          <ListaDocumentos />\n        </Box> */}\n        <DetallesFactura />\n      </DialogContent>\n\n      <DialogActions style={{ justifyContent: \"center\" }}>\n        <Button onClick={() => cancelarCFDI()} size=\"large\">\n          Cancelar\n        </Button>\n        <RealizarFactura setAlert={setAlert} />\n      </DialogActions>\n    </Fragment>\n  );\n};\n","import React, { useState } from \"react\";\nimport {\n  Box,\n  Button,\n  Checkbox,\n  CircularProgress,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  FormControlLabel,\n  TextField,\n  Typography,\n} from \"@material-ui/core\";\nimport { Add, Close, Done } from \"@material-ui/icons\";\nimport Slide from \"@material-ui/core/Slide\";\nimport { CREAR_SERIE } from \"../../../../gql/Facturacion/Facturacion\";\nimport { useMutation } from \"@apollo/client\";\nimport SnackBarMessages from \"../../../../components/SnackBarMessages\";\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function RegistroSeries({ refetch }) {\n  const [open, setOpen] = useState(false);\n  const [datos, setDatos] = useState({ folio: \"\", serie: \"\", default: false });\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n  const [alert, setAlert] = useState({ message: \"\", status: \"\", open: false });\n  const [loading, setLoading] = useState(false);\n\n  const [crearSerieCFDI] = useMutation(CREAR_SERIE);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n    setDatos({ folio: \"\", serie: \"\", default: false });\n  };\n\n  const obtenerDatosSeries = (e) => {\n    const { name, value } = e.target;\n    setDatos({\n      ...datos,\n      [name]: value,\n    });\n  };\n\n  const obtenerPredeterminado = (e) => {\n    const { name, checked } = e.target;\n    setDatos({\n      ...datos,\n      [name]: checked,\n    });\n  };\n\n  const guardarDatosBD = async () => {\n    if (!datos.folio || !datos.serie) return;\n\n    try {\n      setLoading(true);\n      const result = await crearSerieCFDI({\n        variables: {\n          input: {\n            serie: datos.serie,\n            folio: parseInt(datos.folio),\n            default: datos.default,\n            empresa: sesion.empresa._id,\n            sucursal: sesion.sucursal._id,\n          },\n        },\n      });\n      setAlert({\n        message: `¡Listo! ${result.data.crearSerieCFDI.message}`,\n        status: \"success\",\n        open: true,\n      });\n      refetch();\n      setLoading(false);\n      handleClose();\n    } catch (error) {\n      setLoading(false);\n      setAlert({\n        message: `Error: ${error.message}`,\n        status: \"error\",\n        open: true,\n      });\n      console.log(error);\n      if (error.networkError) {\n        console.log(error.networkError.result);\n      } else if (error.graphQLErrors) {\n        console.log(error.graphQLErrors);\n      }\n    }\n  };\n\n  return (\n    <div>\n      <SnackBarMessages alert={alert} setAlert={setAlert} />\n      <Box display=\"flex\" justifyContent=\"flex-end\">\n        <Button\n          onClick={() => handleClickOpen()}\n          color=\"primary\"\n          variant=\"contained\"\n          size=\"large\"\n          startIcon={<Add />}\n        >\n          Nueva serie\n        </Button>\n      </Box>\n      <Dialog\n        maxWidth=\"xs\"\n        fullWidth\n        open={open}\n        onClose={() => handleClose()}\n        TransitionComponent={Transition}\n      >\n        <DialogTitle>Registrar nueva serie</DialogTitle>\n        <DialogContent>\n          <Box width=\"100%\">\n            <Typography>Serie para CDFI:</Typography>\n            <Box display=\"flex\" alignItems=\"center\">\n              <TextField\n                fullWidth\n                size=\"small\"\n                variant=\"outlined\"\n                name=\"serie\"\n                onChange={obtenerDatosSeries}\n              />\n            </Box>\n          </Box>\n          <Box width=\"100%\">\n            <Typography>Folio Inicial:</Typography>\n            <Box display=\"flex\" alignItems=\"center\">\n              <TextField\n                fullWidth\n                size=\"small\"\n                variant=\"outlined\"\n                name=\"folio\"\n                onChange={obtenerDatosSeries}\n              />\n            </Box>\n          </Box>\n          <FormControlLabel\n            style={{ marginTop: 8 }}\n            control={\n              <Checkbox\n                checked={datos.default}\n                onChange={obtenerPredeterminado}\n                name=\"default\"\n              />\n            }\n            label=\"Serie predeterminada\"\n          />\n        </DialogContent>\n        <DialogActions style={{ justifyContent: \"center\" }}>\n          <Button startIcon={<Close />} onClick={() => handleClose()}>\n            Cancelar\n          </Button>\n          <Button\n            color=\"primary\"\n            startIcon={loading ? <CircularProgress size={20} /> : <Done />}\n            disabled={!datos.serie || !datos.folio || loading}\n            onClick={() => guardarDatosBD()}\n          >\n            Guardar\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n}\n","import React, { Fragment, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport Slide from \"@material-ui/core/Slide\";\nimport { Close, Done } from \"@material-ui/icons\";\nimport { Backdrop, Checkbox, CircularProgress } from \"@material-ui/core\";\nimport SnackBarMessages from \"../../../../components/SnackBarMessages\";\nimport { useMutation } from \"@apollo/client\";\nimport {\n  ACTUALIZAR_DEFAULT_SERIE,\n  ELIMINAR_SERIE,\n} from \"../../../../gql/Facturacion/Facturacion\";\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nconst useStyles = makeStyles((theme) => ({\n  container: {\n    height: \"80vh\",\n  },\n  backdrop: {\n    zIndex: theme.zIndex.drawer + 1,\n    color: \"#fff\",\n  },\n}));\n\nexport default function ListaSeriesCDFI({ obtenerSeriesCdfi, refetch }) {\n  const classes = useStyles();\n  const [loading, setLoading] = useState(false);\n  const [alert, setAlert] = useState({ message: \"\", status: \"\", open: false });\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n\n  const { seriesCfdi } = obtenerSeriesCdfi;\n  const [modificarDefaultSerie] = useMutation(ACTUALIZAR_DEFAULT_SERIE);\n\n  const setPredeterminado = async (value, data) => {\n    setLoading(true);\n    try {\n      const result = await modificarDefaultSerie({\n        variables: {\n          id: data._id,\n          empresa: sesion.empresa._id,\n          sucursal: sesion.sucursal._id,\n        },\n      });\n      refetch();\n      setLoading(false);\n      setAlert({\n        message: `¡Listo! ${result.data.modificarDefaultSerie.message}`,\n        status: \"success\",\n        open: true,\n      });\n      setLoading(false);\n    } catch (error) {\n      setLoading(false);\n      setAlert({\n        message: `Error: ${error.message}`,\n        status: \"success\",\n        open: true,\n      });\n    }\n  };\n\n  return (\n    <Paper variant=\"outlined\">\n      <Backdrop className={classes.backdrop} open={loading}>\n        <CircularProgress color=\"inherit\" />\n      </Backdrop>\n      <SnackBarMessages alert={alert} setAlert={setAlert} />\n      <TableContainer className={classes.container}>\n        <Table stickyHeader>\n          <TableHead>\n            <TableRow>\n              <TableCell>Serie</TableCell>\n              <TableCell>Folio</TableCell>\n              <TableCell>Predeterminado</TableCell>\n              <TableCell padding=\"checkbox\">Eliminar</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {seriesCfdi.map((row, index) => {\n              return (\n                <TableRow hover role=\"checkbox\" tabIndex={-1} key={index}>\n                  <TableCell>{row.serie}</TableCell>\n                  <TableCell>{row.folio}</TableCell>\n                  <TableCell align=\"center\" padding=\"checkbox\">\n                    <Checkbox\n                      checked={row.default}\n                      onChange={(e) => setPredeterminado(e.target.checked, row)}\n                      name=\"checkedA\"\n                    />\n                  </TableCell>\n                  <TableCell align=\"center\" padding=\"checkbox\">\n                    <ModalDeleteSerie\n                      row={row}\n                      refetch={refetch}\n                      setAlert={setAlert}\n                    />\n                  </TableCell>\n                </TableRow>\n              );\n            })}\n          </TableBody>\n        </Table>\n      </TableContainer>\n    </Paper>\n  );\n}\n\nconst ModalDeleteSerie = ({ row, refetch, setAlert }) => {\n  const [open, setOpen] = useState(false);\n  const [loading, setLoading] = useState(false);\n\n  const [eliminarSerie] = useMutation(ELIMINAR_SERIE);\n\n  const handleOpen = () => setOpen(true);\n  const handleClose = () => setOpen(false);\n\n  const eliminarSerieBD = async () => {\n    setLoading(true);\n    try {\n      const result = await eliminarSerie({\n        variables: {\n          id: row._id,\n        },\n      });\n      refetch();\n      setLoading(false);\n      handleClose();\n      setAlert({\n        message: `¡Listo! ${result.data.eliminarSerie.message}`,\n        status: \"success\",\n        open: true,\n      });\n      setLoading(false);\n    } catch (error) {\n      setLoading(false);\n      setAlert({\n        message: `Error: ${error.message}`,\n        status: \"success\",\n        open: true,\n      });\n    }\n  };\n\n  return (\n    <Fragment>\n      <IconButton aria-label=\"delete\" size=\"small\" onClick={() => handleOpen()} disabled={row.default}>\n        <DeleteIcon />\n      </IconButton>\n      <Dialog\n        open={open}\n        onClose={() => handleClose()}\n        TransitionComponent={Transition}\n      >\n        <DialogTitle>Se eliminara esta serie</DialogTitle>\n        <DialogActions style={{ justifyContent: \"center\" }}>\n          <Button startIcon={<Close />} onClick={() => handleClose()}>\n            Cancelar\n          </Button>\n          <Button\n            color=\"secondary\"\n            disabled={loading}\n            startIcon={loading ? <CircularProgress size={20} /> : <Done />}\n            onClick={() => eliminarSerieBD()}\n          >\n            Eliminar\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </Fragment>\n  );\n};\n","import React, { forwardRef, useState } from \"react\";\nimport {\n  AppBar,\n  Box,\n  Button,\n  CircularProgress,\n  Container,\n  Dialog,\n  makeStyles,\n  Slide,\n  Toolbar,\n  Typography,\n} from \"@material-ui/core\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport RegistroSeries from \"./RegistroSeries\";\nimport ListaSeriesCDFI from \"./ListaSeries\";\nimport { useQuery } from \"@apollo/client\";\nimport { OBTENER_SERIES } from \"../../../../gql/Facturacion/Facturacion\";\nimport ErrorPage from \"../../../../components/ErrorPage\";\nconst useStyles = makeStyles((theme) => ({\n  appBar: {\n    position: \"relative\",\n  },\n  title: {\n    marginLeft: theme.spacing(2),\n    flex: 1,\n  },\n  icon: {\n    width: 100,\n  },\n}));\n\nconst Transition = forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function SeriesCDFI() {\n  const classes = useStyles();\n  const [open, setOpen] = useState(false);\n\n  const handleClickOpen = () => {\n    setOpen(!open);\n  };\n\n  return (\n    <div>\n      <Button fullWidth onClick={handleClickOpen}>\n        <Box display=\"flex\" flexDirection=\"column\">\n          <Box\n            display=\"flex\"\n            justifyContent=\"center\"\n            alignItems=\"center\"\n            mb={2}\n          >\n            <img\n              src=\"https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/factura-1.png\"\n              alt=\"icono Factura\"\n              style={{ width: 100 }}\n            />\n          </Box>\n          Registrar Series CFDI\n        </Box>\n      </Button>\n      <Dialog\n        fullScreen\n        open={open}\n        onClose={handleClickOpen}\n        TransitionComponent={Transition}\n      >\n        <AppBar className={classes.appBar}>\n          <Toolbar>\n            <Typography variant=\"h6\" className={classes.title}>\n              Seleccion de Series para CFDI\n            </Typography>\n            <Box m={1}>\n              <Button color=\"inherit\" onClick={handleClickOpen} size=\"large\">\n                <CloseIcon />\n              </Button>\n            </Box>\n          </Toolbar>\n        </AppBar>\n        <ContentSeriesCFDI />\n      </Dialog>\n    </div>\n  );\n}\n\nconst ContentSeriesCFDI = () => {\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n\n  const { loading, data, error, refetch } = useQuery(OBTENER_SERIES, {\n    variables: {\n      sucursal: sesion.sucursal._id,\n      empresa: sesion.empresa._id,\n    },\n    fetchPolicy: \"network-only\",\n  });\n\n  if (loading) {\n    return (\n      <Box\n        display=\"flex\"\n        justifyContent=\"center\"\n        alignItems=\"center\"\n        height=\"30vh\"\n      >\n        <CircularProgress />\n      </Box>\n    );\n  }\n  if (error) {\n    return <ErrorPage error={error} />;\n  }\n\n  const { obtenerSeriesCdfi } = data;\n\n  return (\n    <Container maxWidth=\"md\">\n      <Box my={2}>\n        <RegistroSeries refetch={refetch} />\n      </Box>\n      <ListaSeriesCDFI\n        obtenerSeriesCdfi={obtenerSeriesCdfi}\n        refetch={refetch}\n      />\n    </Container>\n  );\n};\n","import React, { Fragment } from \"react\";\nimport { CloudDownloadOutlined } from \"@material-ui/icons\";\nimport { Grid, Button, Box } from \"@material-ui/core\";\nimport ReactExport from \"react-export-excel\";\nimport {\n  formatoFecha,\n  formatoMexico,\n} from \"../../../../config/reuserFunctions\";\n\nconst ExcelFile = ReactExport.ExcelFile;\nconst ExcelSheet = ReactExport.ExcelFile.ExcelSheet;\nconst ExcelColumn = ReactExport.ExcelFile.ExcelColumn;\n\nexport default function ExportarProductosFacturaExcel({ compra }) {\n  const {\n    almacen,\n    proveedor,\n    fecha_registro,\n    subtotal,\n    impuestos,\n    total,\n    productos,\n  } = compra;\n\n  const compra_realizada = [\n    {\n      almacen: almacen.nombre_almacen,\n      proveedor: proveedor.nombre_cliente,\n      fecha_registro: formatoFecha(fecha_registro),\n      subtotal: formatoMexico(subtotal),\n      impuestos: formatoMexico(impuestos),\n      total: formatoMexico(total),\n    },\n  ];\n\n  const productos_detalles = productos.map((productos) => {\n    const {\n      producto,\n      medida,\n      color,\n      unidad,\n      cantidad,\n      Cantidad_regalo,\n      cantidad_total,\n      descuento_precio,\n      descuento_porcentaje,\n      subtotal,\n      impuestos,\n      total,\n    } = productos;\n    const detalle_producto = {\n      producto: producto.datos_generales.nombre_comercial,\n      medida: medida ? medida.medida : \"N/A\",\n      color: color ? color.color : \"N/A\",\n      unidad,\n      cantidad,\n      Cantidad_regalo,\n      cantidad_total,\n      descuento_precio,\n      descuento_porcentaje,\n      subtotal: formatoMexico(subtotal),\n      impuestos: formatoMexico(impuestos),\n      total: formatoMexico(total),\n    };\n\n    return detalle_producto;\n  });\n\n  return (\n    <Fragment>\n      <Grid>\n        <Grid item>\n          <ExcelFile\n            element={\n              <Box display=\"flex\" justifyContent=\"flex-end\">\n                <Button\n                  variant=\"contained\"\n                  color=\"primary\"\n                  startIcon={<CloudDownloadOutlined />}\n                >\n                  Exportar a Excel\n                </Button>\n              </Box>\n            }\n            filename={\"Detalle de compra\"}\n          >\n            <ExcelSheet data={compra_realizada} name=\"Detalle compra\">\n              <ExcelColumn label=\"Almacen\" value=\"almacen\" />\n              <ExcelColumn label=\"Proveedor\" value=\"proveedor\" />\n              <ExcelColumn label=\"Fecha de compra\" value=\"fecha_registro\" />\n              <ExcelColumn label=\"Subtotal\" value=\"subtotal\" />\n              <ExcelColumn label=\"Impuestos\" value=\"impuestos\" />\n              <ExcelColumn label=\"Total\" value=\"total\" />\n            </ExcelSheet>\n            <ExcelSheet data={productos_detalles} name=\"Productos de la compra\">\n              <ExcelColumn label=\"Producto\" value=\"producto\" />\n              <ExcelColumn label=\"Medida\" value=\"medida\" />\n              <ExcelColumn label=\"Color\" value=\"color\" />\n              <ExcelColumn label=\"Unidad\" value=\"unidad\" />\n              <ExcelColumn label=\"Cantidad\" value=\"cantidad\" />\n              <ExcelColumn label=\"Cantidad de regalo\" value=\"cantidad_regalo\" />\n              <ExcelColumn label=\"Cantidad total\" value=\"cantidad_total\" />\n              <ExcelColumn\n                label=\"Precio de descuento\"\n                value=\"descuento_precio\"\n              />\n              <ExcelColumn\n                label=\"Porcentaje de descuento\"\n                value=\"descuento_porcentaje\"\n              />\n              <ExcelColumn label=\"Subtotal\" value=\"subtotal\" />\n              <ExcelColumn label=\"Impuestos\" value=\"impuestos\" />\n              <ExcelColumn label=\"Total\" value=\"total\" />\n            </ExcelSheet>\n          </ExcelFile>\n        </Grid>\n      </Grid>\n    </Fragment>\n  );\n}\n","import React, { Fragment, useEffect, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\n\nimport Box from \"@material-ui/core/Box\";\nimport Chip from \"@material-ui/core/Chip\";\nimport Grid from \"@material-ui/core/Grid\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { useTheme } from \"@material-ui/core\";\nimport SearchOutlinedIcon from \"@material-ui/icons/SearchOutlined\";\nimport { formatoMexico } from \"../../../../config/reuserFunctions\";\nimport ExportarProductosFacturaExcel from \"./ExportarProductosFactura\";\n\nconst useStyles = makeStyles({\n  root: {\n    width: \"100%\",\n  },\n  container: {\n    height: \"50vh\",\n  },\n});\n\nexport default function DatosDeCompra({ compra }) {\n  const classes = useStyles();\n  const theme = useTheme();\n  const { productos } = compra;\n  const [busqueda, setBusqueda] = useState(\"\");\n  const [productosFiltrados, setProductosFiltrados] = useState([]);\n\n  const obtenerBusqueda = (value) => setBusqueda(value);\n\n  useEffect(() => {\n    setProductosFiltrados(\n      productos.filter((datos) => {\n        return datos.producto.datos_generales.nombre_comercial\n          .toLowerCase()\n          .includes(busqueda.toLowerCase());\n      })\n    );\n  }, [busqueda, productos]);\n\n  return (\n    <Fragment>\n      <Box mb={1} display=\"flex\">\n        <Typography style={{ marginRight: 16 }}>\n          <b>Proveedor: </b>\n          {compra.proveedor.nombre_cliente}\n        </Typography>\n        <Typography style={{ marginRight: 16 }}>\n          <b>Almacen: </b>\n          {compra.almacen.nombre_almacen}\n        </Typography>\n        <Typography style={{ marginRight: 16 }}>\n          <b>Subtotal: ${compra.subtotal}</b>\n        </Typography>\n        <Typography style={{ marginRight: 16 }}>\n          <b>Impuestos: ${compra.impuestos}</b>\n        </Typography>\n        <Typography style={{ marginRight: 16 }}>\n          <b>Total: ${compra.total}</b>\n        </Typography>\n      </Box>\n      <Box mb={2} display=\"flex\">\n        <Grid container>\n          <Grid item sm={6} xs={12}>\n            <TextField\n              fullWidth\n              size=\"small\"\n              variant=\"outlined\"\n              placeholder=\"Buscar una compra...\"\n              onChange={(e) => obtenerBusqueda(e.target.value)}\n              InputProps={{\n                startAdornment: (\n                  <InputAdornment position=\"start\">\n                    <SearchOutlinedIcon color=\"action\" />\n                  </InputAdornment>\n                ),\n              }}\n            />\n          </Grid>\n          <Grid item sm={6} xs={12}>\n            <ExportarProductosFacturaExcel compra={compra} />\n          </Grid>\n        </Grid>\n      </Box>\n      <Paper className={classes.root}>\n        <TableContainer className={classes.container}>\n          <Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n            <TableHead>\n              <TableRow>\n                <TableCell>Producto</TableCell>\n                <TableCell>Medida</TableCell>\n                <TableCell>Color</TableCell>\n                <TableCell>Unidad</TableCell>\n                <TableCell>Cantidad</TableCell>\n                <TableCell>C. regalo</TableCell>\n                <TableCell>C. total</TableCell>\n                <TableCell>Descuento</TableCell>\n                <TableCell>Subtotal</TableCell>\n                <TableCell>Impuestos</TableCell>\n                <TableCell>Total</TableCell>\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {productosFiltrados.map((datos, index) => {\n                return (\n                  <TableRow hover tabIndex={-1} key={index}>\n                    <TableCell>\n                      {datos.producto.datos_generales.nombre_comercial}\n                    </TableCell>\n                    <TableCell padding=\"checkbox\">\n                      {datos.medida && datos.medida.medida ? datos.medida.medida : \"N/A\"}\n                    </TableCell>\n                    <TableCell padding=\"checkbox\">\n                      {datos.color && datos.color.hex ? (\n                        <Chip\n                          label={datos.color.color}\n                          size=\"small\"\n                          style={{\n                            backgroundColor: datos.color.hex,\n                            color: theme.palette.getContrastText(\n                              datos.color.hex\n                            ),\n                          }}\n                        />\n                      ) : (\n                        \"N/A\"\n                      )}\n                    </TableCell>\n                    <TableCell>{datos.unidad}</TableCell>\n                    <TableCell>{datos.cantidad}</TableCell>\n                    <TableCell>{datos.cantidad_regalo}</TableCell>\n                    <TableCell>{datos.cantidad_total}</TableCell>\n                    <TableCell>{`$${datos.descuento_precio} - %${datos.descuento_porcentaje}`}</TableCell>\n                    <TableCell>\n                      <b>${formatoMexico(datos.subtotal)}</b>\n                    </TableCell>\n                    <TableCell>\n                      <b>${formatoMexico(datos.impuestos)}</b>\n                    </TableCell>\n                    <TableCell>\n                      <b>${formatoMexico(datos.total)}</b>\n                    </TableCell>\n                  </TableRow>\n                );\n              })}\n            </TableBody>\n          </Table>\n        </TableContainer>\n      </Paper>\n    </Fragment>\n  );\n}\n","import React, { Fragment, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport {\n  Dialog,\n  Typography,\n  Box,\n  Button,\n  IconButton,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n  Slide,\n} from \"@material-ui/core\";\nimport DatosDeCompra from \"./DatosFactura\";\nimport {\n  formatoFecha,\n  formatoMexico,\n} from \"../../../../config/reuserFunctions\";\nimport { AssignmentOutlined, Done } from \"@material-ui/icons\";\n\nconst useStyles = makeStyles({\n  root: {\n    width: \"100%\",\n  },\n  container: {\n    height: \"72vh\",\n  },\n});\n\nexport default function ListaFacturas({ obtenerComprasRealizadas }) {\n  const classes = useStyles();\n\n  return (\n    <Paper className={classes.root} variant=\"outlined\">\n      <TableContainer className={classes.container}>\n        <Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n          <TableHead>\n            <TableRow>\n              <TableCell>Almacen</TableCell>\n              <TableCell>Proveedor</TableCell>\n              <TableCell>Fecha de compra</TableCell>\n              <TableCell>Subtotal</TableCell>\n              <TableCell>Impuestos</TableCell>\n              <TableCell>Total</TableCell>\n              <TableCell>Productos</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {obtenerComprasRealizadas.map((compra, index) => (\n              <RenderRowsCompras key={index} compra={compra} />\n            ))}\n          </TableBody>\n        </Table>\n      </TableContainer>\n    </Paper>\n  );\n}\n\nconst RenderRowsCompras = ({ compra }) => {\n  const {\n    almacen,\n    proveedor,\n    fecha_registro,\n    subtotal,\n    impuestos,\n    total,\n  } = compra;\n\n  return (\n    <TableRow hover tabIndex={-1}>\n      <TableCell>{almacen.nombre_almacen}</TableCell>\n      <TableCell>{proveedor.nombre_cliente}</TableCell>\n      <TableCell>{formatoFecha(fecha_registro)}</TableCell>\n      <TableCell>\n        <b>${formatoMexico(subtotal)}</b>\n      </TableCell>\n      <TableCell>\n        <b>${formatoMexico(impuestos)}</b>\n      </TableCell>\n      <TableCell>\n        <b>${formatoMexico(total)}</b>\n      </TableCell>\n      <TableCell>\n        <DetallesCompra compra={compra} />\n      </TableCell>\n    </TableRow>\n  );\n};\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nconst DetallesCompra = ({ compra }) => {\n  const [open, setOpen] = useState(false);\n\n  const handleOpen = () => {\n    setOpen(!open);\n  };\n  return (\n    <Fragment>\n      <IconButton onClick={() => handleOpen()}>\n        <AssignmentOutlined />\n      </IconButton>\n      <Dialog\n        open={open}\n        onClose={handleOpen}\n        fullWidth\n        maxWidth=\"lg\"\n        TransitionComponent={Transition}\n      >\n        <DialogTitle>\n          <Box display=\"flex\">\n            <Typography variant=\"h6\" style={{ flexGrow: 1 }}>\n              Datos de compra\n            </Typography>\n            <Button\n              variant=\"text\"\n              color=\"primary\"\n              onClick={handleOpen}\n              size=\"large\"\n            >\n              <CloseIcon style={{ fontSize: 30 }} />\n            </Button>\n          </Box>\n        </DialogTitle>\n        <DialogContent>\n          <DatosDeCompra compra={compra} />\n        </DialogContent>\n        <DialogActions>\n          <Button\n            variant=\"text\"\n            color=\"primary\"\n            size=\"large\"\n            startIcon={<Done />}\n            onClick={() => handleOpen()}\n          >\n            Acpetar\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </Fragment>\n  );\n};\n","import React, { Fragment } from \"react\";\nimport { CloudDownloadOutlined } from \"@material-ui/icons\";\nimport { Grid, Button, Box } from \"@material-ui/core\";\nimport ReactExport from \"react-export-excel\";\nimport {\n  formatoFecha,\n  formatoMexico,\n} from \"../../../../config/reuserFunctions\";\n\nconst ExcelFile = ReactExport.ExcelFile;\nconst ExcelSheet = ReactExport.ExcelFile.ExcelSheet;\nconst ExcelColumn = ReactExport.ExcelFile.ExcelColumn;\n\nexport default function ExportarComprasExcel({\n  obtenerComprasRealizadas,\n  filtro,\n  filtroFecha,\n}) {\n  const compras = obtenerComprasRealizadas.map((compra) => {\n    const {\n      almacen,\n      proveedor,\n      fecha_registro,\n      subtotal,\n      impuestos,\n      total,\n    } = compra;\n    const compra_realizada = {\n      almacen: almacen.nombre_almacen,\n      proveedor: proveedor.nombre_cliente,\n      fecha_registro: formatoFecha(fecha_registro),\n      subtotal: formatoMexico(subtotal),\n      impuestos: formatoMexico(impuestos),\n      total: formatoMexico(total),\n    };\n\n    return compra_realizada;\n  });\n\n  let nombre_documento = \"\";\n  if (filtro && filtroFecha.fecha) {\n    nombre_documento = `Lista de compras realizadas desde hace ${filtroFecha.since} y filtradas por ${filtro}`;\n  } else if (filtro && !filtroFecha.fecha) {\n    nombre_documento = `Lista de compras realizadas filtradas por ${filtro}`;\n  } else if (!filtro && filtroFecha.fecha) {\n    nombre_documento = `Lista de compras realizadas desde hace ${filtroFecha.since}`;\n  } else if (!filtro && !filtroFecha.fecha) {\n    nombre_documento = `Lista de compras realizadas`;\n  }\n\n  return (\n    <Fragment>\n      <Grid>\n        <Grid item>\n          <ExcelFile\n            element={\n              <Box display=\"flex\" justifyContent=\"flex-end\">\n                <Button\n                  variant=\"contained\"\n                  color=\"primary\"\n                  startIcon={<CloudDownloadOutlined />}\n                >\n                  Exportar a Excel\n                </Button>\n              </Box>\n            }\n            filename={nombre_documento}\n          >\n            <ExcelSheet data={compras} name={nombre_documento}>\n              <ExcelColumn label=\"Almacen\" value=\"almacen\" />\n              <ExcelColumn label=\"Proveedor\" value=\"proveedor\" />\n              <ExcelColumn label=\"Fecha de compra\" value=\"fecha_registro\" />\n              <ExcelColumn label=\"Subtotal\" value=\"subtotal\" />\n              <ExcelColumn label=\"Impuestos\" value=\"impuestos\" />\n              <ExcelColumn label=\"Total\" value=\"total\" />\n            </ExcelSheet>\n          </ExcelFile>\n        </Grid>\n      </Grid>\n    </Fragment>\n  );\n}\n","import React, { Fragment, useRef, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Box from \"@material-ui/core/Box\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport Container from \"@material-ui/core/Container\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Typography from \"@material-ui/core/Typography\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport Slide from \"@material-ui/core/Slide\";\nimport Chip from \"@material-ui/core/Chip\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Select from \"@material-ui/core/Select\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Grid from \"@material-ui/core/Grid\";\nimport { FcInspection } from \"react-icons/fc\";\nimport ListaCompras from \"./ListaFacturas\";\nimport { useQuery } from \"@apollo/client\";\nimport { OBTENER_COMPRAS_REALIZADAS } from \"../../../../gql/Compras/compras\";\nimport ErrorPage from \"../../../../components/ErrorPage\";\nimport { SearchOutlined } from \"@material-ui/icons\";\nimport moment from \"moment\";\nimport ExportarComprasExcel from \"./ExportarListaFacturasExcel\";\n\nconst useStyles = makeStyles((theme) => ({\n  appBar: {\n    position: \"relative\",\n  },\n  title: {\n    marginLeft: theme.spacing(2),\n    flex: 1,\n  },\n  icon: {\n    fontSize: 100,\n  },\n  formInputFlex: {\n    display: \"flex\",\n    \"& > *\": {\n      margin: `${theme.spacing(1)}px ${theme.spacing(1)}px`,\n    },\n  },\n  formInput: {\n    margin: `${theme.spacing(1)}px ${theme.spacing(2)}px`,\n  },\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function ComprasRealizadas() {\n  const classes = useStyles();\n  const [open, setOpen] = React.useState(false);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  return (\n    <div>\n      <Button fullWidth onClick={handleClickOpen}>\n        <Box display=\"flex\" flexDirection=\"column\">\n          <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n            <Box\n              display=\"flex\"\n              justifyContent=\"center\"\n              alignItems=\"center\"\n              mb={2}\n            >\n              <img\n                src=\"https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/factura-3.png\"\n                alt=\"icono Factura\"\n                style={{ width: 100 }}\n              />\n            </Box>\n          </Box>\n          CFDis realizados\n        </Box>\n      </Button>\n      <Dialog\n        fullScreen\n        open={open}\n        onClose={handleClose}\n        TransitionComponent={Transition}\n      >\n        <AppBar className={classes.appBar}>\n          <Toolbar>\n            <Typography variant=\"h6\" className={classes.title}>\n              CFDis realizados\n            </Typography>\n            <Box m={1}>\n              <Button\n                variant=\"contained\"\n                color=\"secondary\"\n                onClick={handleClose}\n                size=\"large\"\n              >\n                <CloseIcon style={{ fontSize: 30 }} />\n              </Button>\n            </Box>\n          </Toolbar>\n        </AppBar>\n        <Container maxWidth=\"xl\">\n          <ContentDialogCompras />\n        </Container>\n      </Dialog>\n    </div>\n  );\n}\n\nconst ContentDialogCompras = () => {\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n  const [filtro, setFiltro] = useState(\"\");\n  const [filtroFecha, setFiltroFecha] = useState({ fecha: \"\", since: \"todos\" });\n  const searchfilter = useRef(null);\n  const filterDate = useRef(null);\n\n  /* Queries */\n  const { loading, data, error, refetch } = useQuery(\n    OBTENER_COMPRAS_REALIZADAS,\n    {\n      variables: {\n        empresa: sesion.empresa._id,\n        sucursal: sesion.sucursal._id,\n        fecha: filtroFecha.fecha,\n      },\n      fetchPolicy: \"network-only\",\n    }\n  );\n\n  if (loading)\n    return (\n      <Box\n        display=\"flex\"\n        flexDirection=\"column\"\n        justifyContent=\"center\"\n        alignItems=\"center\"\n        height=\"40vh\"\n      >\n        <CircularProgress />\n        <Typography variant=\"h5\">Cargando</Typography>\n      </Box>\n    );\n  if (error) {\n    return <ErrorPage error={error} altura={300} />;\n  }\n\n  let obtenerComprasRealizadas = [];\n  if (data) obtenerComprasRealizadas = data.obtenerComprasRealizadas;\n\n  const obtenerBusqueda = (e, value) => {\n    e.preventDefault();\n    refetch({ filtro: value, fecha: filtroFecha.fecha });\n    setFiltro(value);\n  };\n\n  const handleDeleteFiltro = () => {\n    refetch({ filtro: \"\", fecha: filtroFecha.fecha });\n    setFiltro(\"\");\n    searchfilter.current.value = \"\";\n  };\n  const handleDeleteFecha = () => {\n    refetch({ filtro, fecha: \"\" });\n    setFiltroFecha({ since: \"todos\", fecha: \"\" });\n    filterDate.current.value = \"todos\";\n  };\n\n  const obtenerFecha = (value) => {\n    switch (value) {\n      case \"7 dias\":\n        setFiltroFecha({\n          since: value,\n          fecha: moment().subtract(7, \"d\").format(),\n        });\n        refetch({ filtro, fecha: moment().subtract(7, \"d\").format() });\n        break;\n      case \"2 semanas\":\n        setFiltroFecha({\n          since: value,\n          fecha: moment().subtract(2, \"w\").format(),\n        });\n        refetch({ filtro, fecha: moment().subtract(2, \"w\").format() });\n        break;\n      case \"1 mes\":\n        setFiltroFecha({\n          since: value,\n          fecha: moment().subtract(1, \"M\").format(),\n        });\n        refetch({ filtro, fecha: moment().subtract(1, \"M\").format() });\n        break;\n      case \"3 meses\":\n        setFiltroFecha({\n          since: value,\n          fecha: moment().subtract(3, \"M\").format(),\n        });\n        refetch({ filtro, fecha: moment().subtract(3, \"M\").format() });\n        break;\n      case \"6 meses\":\n        setFiltroFecha({\n          since: value,\n          fecha: moment().subtract(6, \"M\").format(),\n        });\n        refetch({ filtro, fecha: moment().subtract(6, \"M\").format() });\n        break;\n      case \"8 meses\":\n        setFiltroFecha({\n          since: value,\n          fecha: moment().subtract(8, \"M\").format(),\n        });\n        refetch({ filtro, fecha: moment().subtract(8, \"M\").format() });\n        break;\n      case \"1 año\":\n        setFiltroFecha({\n          since: value,\n          fecha: moment().subtract(1, \"y\").format(),\n        });\n        refetch({ filtro, fecha: moment().subtract(1, \"y\").format() });\n        break;\n      default:\n        setFiltroFecha({ since: \"todos\", fecha: \"\" });\n        refetch({ filtro, fecha: \"\" });\n        break;\n    }\n  };\n\n  return (\n    <Fragment>\n      <Box my={3}>\n        <Grid container spacing={2}>\n          <Grid item md={4} xs={12}>\n            <form onSubmit={(e) => obtenerBusqueda(e, e.target[0].value)}>\n              <TextField\n                inputRef={searchfilter}\n                fullWidth\n                size=\"small\"\n                variant=\"outlined\"\n                placeholder=\"Buscar una compra...\"\n                InputProps={{\n                  endAdornment: (\n                    <InputAdornment position=\"end\">\n                      <IconButton type=\"submit\" color=\"primary\" size=\"medium\">\n                        <SearchOutlined />\n                      </IconButton>\n                    </InputAdornment>\n                  ),\n                }}\n              />\n            </form>\n          </Grid>\n          <Grid item md={4} xs={12}>\n            <FormControl variant=\"outlined\" fullWidth size=\"small\">\n              <InputLabel id=\"label-select-fecha-filter\">\n                Filtrar desde...\n              </InputLabel>\n              <Select\n                inputRef={filterDate}\n                labelId=\"label-select-fecha-filter\"\n                value={filtroFecha.since}\n                onChange={(e) => obtenerFecha(e.target.value)}\n                label=\"Filtrar desde...\"\n              >\n                <MenuItem value=\"todos\">\n                  <em>Todos los registros</em>\n                </MenuItem>\n                <MenuItem value=\"7 dias\">hace 7 días</MenuItem>\n                <MenuItem value=\"2 semanas\">hace 2 semanas</MenuItem>\n                <MenuItem value=\"1 mes\">hace 1 mes</MenuItem>\n                <MenuItem value=\"3 meses\">hace 3 meses</MenuItem>\n                <MenuItem value=\"6 meses\">hace 6 meses</MenuItem>\n                <MenuItem value=\"8 meses\">hace 8 meses</MenuItem>\n                <MenuItem value=\"1 año\">hace 1 año</MenuItem>\n              </Select>\n            </FormControl>\n          </Grid>\n          <Grid item md={4} xs={12}>\n            <ExportarComprasExcel\n              obtenerComprasRealizadas={obtenerComprasRealizadas}\n              filtro={filtro}\n              filtroFecha={filtroFecha}\n            />\n          </Grid>\n        </Grid>\n      </Box>\n      {filtro || filtroFecha.fecha ? (\n        <Box display=\"flex\" mb={1}>\n          <Typography variant=\"h6\">Resultados de:</Typography>\n          <Box mr={1} />\n          {filtro ? (\n            <Chip\n              variant=\"outlined\"\n              size=\"medium\"\n              label={filtro}\n              onDelete={handleDeleteFiltro}\n            />\n          ) : null}\n          <Box mx={1} />\n          {filtroFecha.fecha ? (\n            <Chip\n              variant=\"outlined\"\n              size=\"medium\"\n              label={`Desde hace ${filtroFecha.since}`}\n              onDelete={handleDeleteFecha}\n            />\n          ) : null}\n        </Box>\n      ) : null}\n\n      <ListaCompras obtenerComprasRealizadas={obtenerComprasRealizadas} />\n    </Fragment>\n  );\n};\n","import React from 'react'\n\nimport { Box, Container, Grid } from '@material-ui/core'\n\nimport NuevaFactura from './NuevaFactura/NuevaFactura';\nimport SeriesCDFI from './CFDISeries/SeriesCdfi';\n/* import SellosCDFI from './CFDISellos/SellosCdfi'; */\nimport FacturasRealizadas from './FacturasRealizadas/FacturasRealizadas';\n\nexport default function Facturacion() {\n    return (\n        <div>\n            <Container>\n                <Grid container spacing={2} justify=\"center\">\n                    <Grid item lg={2}>\n                        <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n                            <NuevaFactura />\n                        </Box>\n                    </Grid>\n                    <Grid item lg={2}>\n                        <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n                            <FacturasRealizadas />\n                        </Box>\n                    </Grid>{/* \n                    <Grid item lg={2}>\n                        <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n                            <SellosCDFI />\n                        </Box>\n                    </Grid> */}\n                    <Grid item lg={2}>\n                        <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n                            <SeriesCDFI />\n                        </Box>\n                    </Grid>\n                </Grid>\n            </Container>\n        </div>\n    )\n}\n","import React, { useEffect, useContext } from 'react'\nimport { \n    Paper, \n    makeStyles, \n    Table, \n    TableBody, \n    TableCell, \n    TableContainer, \n    TableHead, \n    TableRow, \n    CircularProgress,\n    Box,\n    Typography,\n\tIconButton,\n\tTablePagination\n} from '@material-ui/core/';\nimport { Delete } from '@material-ui/icons';\nimport ErrorPage from '../../../../components/ErrorPage'\n\n\nimport { useQuery } from '@apollo/client';\nimport { OBTENER_ALMACENES } from '../../../../gql/Almacenes/Almacen';\nimport ContainerRegistroAlmacen from './ContainerRegistroAlmacen';\nimport { CrearAlmacenContext } from '../../../../context/Almacenes/crearAlmacen';\n\nconst useStyles = makeStyles({\n    table: {\n      minWidth: 650,\n    },\n\troot: {\n\t\twidth: '100%'\n\t}\n  });\n\n  const columns = [\n\t{ id: 1, label: 'Nombre', minWidth: 100 },\n\t{ id: 2, label: 'Encargado', minWidth: 100 },\n\t{ id: 3, label: 'Sucursal', minWidth: 150 },\n\t{ id: 4, label: 'Calle', minWidth: 150 },\n\t{ id: 5, label: 'No. exterior', minWidth: 150 },\n\t{ id: 6, label: 'No. interior', minWidth: 100 },\n\t{ id: 7, label: 'Codigo postal', minWidth: 100 },\n\t{ id: 8, label: 'Colonia', minWidth: 100 },\n\t{ id: 9, label: 'Municipio', minWidth: 50, align: 'right' },\n\t{ id: 10, label: 'Localidad', minWidth: 50, align: 'right' },\n\t{ id: 11, label: 'Estado', minWidth: 50, align: 'right' },\n\t{ id: 12, label: 'Pais', minWidth: 50, align: 'right' },\n\t{ id: 13, label: 'Editar', minWidth: 50, align: 'right' },\n\t{ id: 14, label: 'Eliminar', minWidth: 50, align: 'right' }\n];\n\nexport default function ListaAlmacen() {\n\n    const classes = useStyles();\n\tconst [ page, setPage ] = React.useState(0);\n\tconst [ rowsPerPage, setRowsPerPage ] = React.useState(10);\n\tconst { update } = useContext(CrearAlmacenContext);\n    const sesion = JSON.parse(localStorage.getItem('sesionCafi'));\t\n\t/* Queries */\n\tconst { loading, data, error, refetch } = useQuery(OBTENER_ALMACENES,{\n\t\tvariables: {\n\t\t\tid: sesion.sucursal._id\n\t\t}\n\t});\t\n\t\n\tuseEffect(\n\t\t() => {\n\t\t\trefetch();\n\t\t},\n\t\t[ update, refetch ]\n\t);\n\n\tconst handleChangePage = (event, newPage) => {\n\t\tsetPage(newPage);\n\t};\n\n\tconst handleChangeRowsPerPage = (event) => {\n\t\tsetRowsPerPage(+event.target.value);\n\t\tsetPage(0);\n\t};\n\n\tif (loading)\n\t\treturn (\n\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" height=\"30vh\">\n\t\t\t\t<CircularProgress />\n\t\t\t</Box>\n\t\t);\n\tif (error) {\n\t\treturn <ErrorPage error={error} />;\n\t}\n\n\tconst { obtenerAlmacenes } = data;\n\n    // const classes = useStyles();\n\n    return (\n\t\t<Paper className={classes.root}>\n\t\t\t<TableContainer component={Paper}>\n\t\t\t\t<Table className={classes.table} aria-label=\"simple table\">\n\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t{columns.map((column) => (\n\t\t\t\t\t\t\t\t<TableCell key={column.id} align={column.align}>\n\t\t\t\t\t\t\t\t\t{column.label}\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t</TableHead>\n\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t{obtenerAlmacenes\n\t\t\t\t\t\t\t?.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\n\t\t\t\t\t\t\t?.map((row, index) => {\n\t\t\t\t\t\t\t\treturn <RowsRender key={index} datos={row} />;\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t</TableBody>\n\t\t\t\t</Table>\n\t\t\t</TableContainer>\n\t\t\t<TablePagination\n\t\t\t\trowsPerPageOptions={[]}\n\t\t\t\tcomponent=\"div\"\n\t\t\t\tcount={obtenerAlmacenes.length}\n\t\t\t\trowsPerPage={rowsPerPage}\n\t\t\t\tpage={page}\n\t\t\t\tonChangePage={handleChangePage}\n\t\t\t\tonChangeRowsPerPage={handleChangeRowsPerPage}\n\t\t\t/>\n\t\t</Paper>\n    )\n}\n\nconst RowsRender = ({ datos }) => {\n\n\treturn (\n\t\t<TableRow hover role=\"checkbox\" tabIndex={-1}>\n\t\t\t<TableCell>\n\t\t\t\t<Typography>{datos.nombre_almacen}</Typography>\n\t\t\t</TableCell>\n\t\t\t<TableCell>\n\t\t\t\t<Typography>{!datos.id_usuario_encargado ? \"Sin encargado\" : datos.id_usuario_encargado.nombre}</Typography>\n\t\t\t</TableCell>\n\t\t\t<TableCell>\n\t\t\t\t<Typography>{datos.id_sucursal.nombre_sucursal}</Typography>\n\t\t\t</TableCell>\n\t\t\t<TableCell>\n\t\t\t\t<Typography>{datos.direccion.calle ? datos.direccion.calle : \"\"}</Typography>\n\t\t\t</TableCell>\n\t\t\t<TableCell>\n\t\t\t\t<Typography>{datos.direccion.no_ext ? datos.direccion.no_ext : \"\"}</Typography>\n\t\t\t</TableCell>\n\t\t\t<TableCell>\n\t\t\t\t<Typography>{datos.direccion.no_int ? datos.direccion.no_int : \"\"}</Typography>\n\t\t\t</TableCell>\n\t\t\t<TableCell>\n\t\t\t\t<Typography>{datos.direccion.codigo_postal ? datos.direccion.codigo_postal : \"\"}</Typography>\n\t\t\t</TableCell>\n\t\t\t<TableCell>\n\t\t\t\t<Typography>{datos.direccion.colonia ? datos.direccion.colonia : \"\"}</Typography>\n\t\t\t</TableCell>\n\t\t\t<TableCell>\n\t\t\t\t<Typography>{datos.direccion.municipio ? datos.direccion.municipio : \"\"}</Typography>\n\t\t\t</TableCell>\n\t\t\t<TableCell>\n\t\t\t\t<Typography>{datos.direccion.localidad ? datos.direccion.localidad : \"\"}</Typography>\n\t\t\t</TableCell>\n\t\t\t<TableCell>\n\t\t\t\t<Typography>{datos.direccion.estado ? datos.direccion.estado : \"\"}</Typography>\n\t\t\t</TableCell>\n\t\t\t<TableCell>\n\t\t\t\t<Typography>{datos.direccion.pais ? datos.direccion.pais : \"\"}</Typography>\n\t\t\t</TableCell>\n\t\t\t<TableCell width={50}>\n\t\t\t\t<ContainerRegistroAlmacen accion=\"actualizar\" datos={datos} />\n\t\t\t</TableCell>\n\t\t\t<TableCell width={50}>\n\t\t\t\t<IconButton color=\"secondary\">\n\t\t\t\t\t<Delete />\n\t\t\t\t</IconButton>\n\t\t\t</TableCell>\n\t\t\t{/* <TableCell width={50}>\n\t\t\t\t<ModalDetalles openDetalles={openDetalles} handleDetalles={handleDetalles} datos={datos} />\n\t\t\t</TableCell>\n\t\t\t<TableCell width={50}>\n\t\t\t\t<CrearCliente tipo=\"CLIENTE\" accion=\"actualizar\" datos={datos} />\n\t\t\t</TableCell>\n\t\t\t<TableCell width={50}>\n\t\t\t\t<IconButton color=\"secondary\">\n\t\t\t\t\t<Delete />\n\t\t\t\t</IconButton>\n\t\t\t</TableCell> */}\n\t\t</TableRow>\n\t);\n};\n","import React, { forwardRef } from 'react';\nimport { AppBar, Toolbar, Typography, Slide, Button, Box, Dialog } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { FcPlus } from 'react-icons/fc';\nimport ContainerRegistroAlmacen from './ContainerRegistroAlmacen';\nimport ListaAlmacen from './ListaAlmacen';\nimport { AlmacenProvider } from '../../../../context/Almacenes/crearAlmacen';\nimport CloseIcon from '@material-ui/icons/Close';\nconst useStyles = makeStyles((theme) => ({\n\tappBar: {\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n    icon: {\n\t\tfontSize: 100\n\t}\n}));\n\nconst Transition = forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function RegistroAlmacen() {\n    const classes = useStyles();\n\tconst [ open, setOpen ] = React.useState(false);\n\n\tconst handleClickOpen = () => {\n\t\tsetOpen(true);\n\t};\n\n\tconst handleClose = () => {\n\t\tsetOpen(false);\n\t};\n\n    return (\n        <div>\n\t\t\t<AlmacenProvider>\n\t\t\t\t<Button fullWidth onClick={handleClickOpen}>\n\t\t\t\t\t<Box display=\"flex\" flexDirection=\"column\">\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t<FcPlus className={classes.icon} />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\tAgregar almacen\n\t\t\t\t\t</Box>\n\t\t\t\t</Button>\n\t\t\t\t<Dialog fullScreen open={open} onClose={handleClose} TransitionComponent={Transition}>\n\t\t\t\t\t<AppBar className={classes.appBar}>\n\t\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t\t<Typography variant=\"h6\" className={classes.title}>\n\t\t\t\t\t\t\t\t\tAgregar almacen\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Box m={1}>\n\t\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"secondary\" onClick={handleClose} size=\"large\">\n\t\t\t\t\t\t\t\t\t<CloseIcon style={{fontSize: 30}} />\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Toolbar>\n\t\t\t\t\t</AppBar>\n\t\t\t\t\t<Box m={3} display=\"flex\" justifyContent=\"flex-end\">\n\t\t\t\t\t\t<ContainerRegistroAlmacen accion=\"registrar\" />\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box mx={4}>\n\t\t\t\t\t\t<ListaAlmacen />\n\t\t\t\t\t</Box>\n\t\t\t\t</Dialog>\n\t\t\t</AlmacenProvider>\n        </div>\n    )\n}\n","export default __webpack_public_path__ + \"static/media/almacen.31993015.svg\";","import React, { createContext, useState, useEffect } from 'react';\n\nexport const TraspasosAlmacenContext = createContext();\n\nexport const TraspasosProvider = ({ children }) => {\n\n\n    const [ update, setUpdate ] = useState(false);\n    const [ error, setError ] = useState(false);\n    const [ openRegistro, setOpenRegistro ] = useState(false);\n    const [ productos, setProductos ] = useState([]);\n    const [ productosTo, setProductosTo ] = useState([]);\n     const [ productosEmpTo, setProductosEmpTo ] = useState([]);\n    const [ productosTras, setProductosTras ] = useState([]);\n\n   \n  \n\treturn (\n\t\t<TraspasosAlmacenContext.Provider value={\n            { \n                \n                update,\n                setUpdate,\n                error,\n                setError,\n                openRegistro,\n                setOpenRegistro,\n                productos,\n                setProductos,\n                productosTras,\n                setProductosTras,\n                productosTo,\n                setProductosTo,\n                productosEmpTo, \n                setProductosEmpTo\n            }\n        }>\n\t\t\t{children}\n\t\t</TraspasosAlmacenContext.Provider>\n\t);\n};\n","import React, {\n  Fragment,\n  useRef,\n  useState,\n} from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Input from \"@material-ui/core/Input\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Checkbox from \"@material-ui/core/Checkbox\";\n//import { RegProductoContext } from \"../../../../../context/Catalogos/CtxRegProducto\";\nimport {\n  Box,\n  Chip,\n  IconButton,\n  Tooltip,\n  Zoom,\n} from \"@material-ui/core\";\nimport {\n  Cached,\n  Close,\n  Edit\n} from \"@material-ui/icons\";\nimport { fade } from \"@material-ui/core/styles/colorManipulator\";\n\nconst compareFunction = (a, b) => {\n  if (a.medida.talla && b.medida.talla) {\n    return a.medida.talla.localeCompare(b.medida.talla);\n  }\n};\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: \"100%\",\n  },\n  paper: {\n    width: \"100%\",\n    marginBottom: theme.spacing(2),\n  },\n  table: {\n    minWidth: 750,\n  },\n  container: {\n    \n  },\n  tableRow: {\n    \"&.Mui-selected, &.Mui-selected:hover\": {\n      backgroundColor: fade(theme.palette.primary.main, 0.1),\n    },\n  },\n  visuallyHidden: {\n    border: 0,\n    clip: \"rect(0 0 0 0)\",\n    height: 1,\n    margin: -1,\n    overflow: \"hidden\",\n    padding: 0,\n    position: \"absolute\",\n    top: 20,\n    width: 1,\n  },\n  colorContainer: {\n    border: \"1px solid rgba(0,0,0, .3)\",\n    height: 30,\n    width: 30,\n    borderRadius: \"15%\",\n  },\n}));\n\nexport default function TablaPresentaciones({\n  datos,\n  setOnUpdate,\n  onUpdate,\n  setNew_medidas\n}) {\n  \n  const classes = useStyles();\n  //const { presentaciones, setPresentaciones } = useContext([]);\n //let mostrar_presentaciones = [];\n   let mostrar_presentaciones = [...datos].sort((a, b) =>\n    compareFunction(a, b)\n  ); \n\n  return (\n    <div className={classes.root}>\n      <Paper className={classes.paper}>\n        <TableContainer className={classes.container}>\n          <Table\n            className={classes.table}\n            aria-labelledby=\"tableTitle\"\n            size=\"small\"\n            aria-label=\"enhanced table\"\n            stickyHeader\n          >\n            <TableHead>\n              <TableRow>\n                <TableCell>Existencia</TableCell>\n                <TableCell>Código de barras</TableCell>\n                <TableCell width={200}>Nombre</TableCell>\n                <TableCell padding=\"checkbox\">Medida</TableCell>\n                <TableCell padding=\"checkbox\">Color</TableCell>\n                <TableCell padding=\"checkbox\">Precio</TableCell>\n                {/* <TableCell padding=\"checkbox\">Descuento</TableCell> */}\n                {/* {!onlyPrice ? (\n                  <Fragment>\n                    <TableCell padding=\"checkbox\">Cantidad</TableCell>\n                  </Fragment>\n                ) : null} */}\n                <Fragment>\n                  <TableCell padding=\"checkbox\">Cantidad</TableCell>\n                </Fragment>\n                <TableCell padding=\"checkbox\">Editar</TableCell>\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {mostrar_presentaciones.map((producto, index) => {\n                return (\n                  <RenderPresentacionesRows\n                    key={index}\n                    producto={producto}\n                    index={index}\n                    datos={datos}\n                    setNew_medidas={setNew_medidas} \n                    setOnUpdate={setOnUpdate}\n                    onUpdate={onUpdate}\n                  />\n                );\n              })}\n            </TableBody>\n          </Table>\n        </TableContainer>\n      </Paper>\n    </div>\n  );\n}\n\nconst RenderPresentacionesRows = ({\n  producto,\n  index,\n  datos,\n  setNew_medidas,\n  from,\n  setOnUpdate,\n  onUpdate,\n  withoutPrice,\n  onlyPrice,\n}) => {\n  /* const { presentaciones, setPresentaciones, preciosP } = useContext(\n    RegProductoContext\n  ); */\n  const [disabledInput, setDisabledInput] = useState(true);\n  const classes = useStyles();\n  const textfield = useRef(null);\n\n  const copy_presentaciones = [...datos].sort((a, b) =>\n    compareFunction(a, b)\n  ); \n  const copy_element_presentacion = { ...copy_presentaciones[index] };\n  //const copy_element_presentacion = {  };\n  //const copy_element_presentacion_descuento = { ...copy_presentaciones[index].descuento };\n  const copy_element_presentacion_descuento = { };\n  const copy_producto = { ...producto };\n\n  /* if(from && from === 'compra'){\n\t\tcopy_producto.cantidad_nueva = 0\n\t} */\n\n  const handleEditCancel = () => {\n    if (!copy_producto.medida.cantidad) {\n      copy_element_presentacion.medida.cantidad = 0;\n    }\n    if (!copy_producto.nuevaCantidad) {\n      copy_element_presentacion.nuevaCantidad = 0;\n    }\n    if (!copy_producto.precio) {\n      copy_element_presentacion.precio = copy_producto.precio;\n      //copy_element_presentacion.medida.precio = 0;\n    }\n     copy_presentaciones.splice(index, 1, copy_element_presentacion);\n    setNew_medidas(copy_presentaciones); \n    setDisabledInput(true);\n  };\n\n  const obtenerDatos = (e) => {\n    const { name, value } = e.target;\n    if (name === \"cantidad\") {\n      if (!value) {\n        copy_element_presentacion.medida.cantidad = \"\";\n        copy_element_presentacion.medida.existencia = false;\n        copy_presentaciones.splice(index, 1, copy_element_presentacion);\n        setNew_medidas(setNew_medidas); \n        return;\n      }\n      copy_element_presentacion.medida.cantidad = parseFloat(value);\n      copy_element_presentacion.medida.existencia = true;\n    } else if (name === \"nuevaCantidad\") {\n      if (!value) {\n        copy_element_presentacion.nuevaCantidad = \"\";\n        copy_element_presentacion.medida.existencia = copy_producto.medida.existencia;\n        copy_presentaciones.splice(index, 1, copy_element_presentacion);\n        setNew_medidas(copy_presentaciones); \n        return;\n      }\n      copy_element_presentacion.nuevaCantidad = parseFloat(value);\n      copy_element_presentacion.medida.existencia = true;\n    } else if (name === \"precio\") {\n      if (!value) {\n        copy_element_presentacion.medida.precio = 0;\n        copy_presentaciones.splice(index, 1, copy_element_presentacion);\n        setNew_medidas(copy_presentaciones);\n        return;\n      }\n      if(copy_element_presentacion.medida.descuento_activo && copy_element_presentacion.medida.descuento_activo === true){\n        let precio_con_descuento = Math.round(\n          (value * copy_element_presentacion.medida.descuento.porciento) / 100\n        );\n        copy_element_presentacion_descuento.medida.precio_con_descuento = parseFloat(precio_con_descuento);\n        copy_element_presentacion.medida.precio = parseFloat(value);\n        copy_element_presentacion.medida.descuento = copy_element_presentacion_descuento\n      }else{\n        copy_element_presentacion.medida.precio = parseFloat(value);\n      }\n    } \n      else if (name === \"descuento\") {\n      /* if (!value) {\n        copy_element_presentacion.medida.precio = 0;\n        copy_presentaciones.splice(index, 1, copy_element_presentacion);\n        setNew_medidas(copy_presentaciones);\n        return;\n      }\n      if(copy_element_presentacion.medida.descuento_activo && copy_element_presentacion.medida.descuento_activo === true){\n        let precio_con_descuento = Math.round(\n          (value * copy_element_presentacion.medida.descuento.porciento) / 100\n        );\n        copy_element_presentacion_descuento.medida.precio_con_descuento = parseFloat(precio_con_descuento);\n        copy_element_presentacion.medida.precio = parseFloat(value);\n        copy_element_presentacion.medida.descuento = copy_element_presentacion_descuento\n      }else{\n        copy_element_presentacion.medida.precio = parseFloat(value);\n      } */\n       copy_element_presentacion.medida.descuento = value;\n         \n    }\n    else {\n      if (!value) {\n        copy_element_presentacion.medida.codigo_barras = \"\";\n        copy_presentaciones.splice(index, 1, copy_element_presentacion);\n        setNew_medidas(copy_presentaciones); \n        return;\n      }\n      copy_element_presentacion.medida.codigo_barras = value;\n    }\n     copy_presentaciones.splice(index, 1, copy_element_presentacion);\n    setNew_medidas(copy_presentaciones); \n  };\n\n  const GenCodigoBarras = () => {\n    const max = 999999999999;\n    const min = 100000000000;\n    const codigo_barras = Math.floor(\n      Math.random() * (max - min + 1) + min\n    ).toString();\n    copy_element_presentacion.medida.codigo_barras = codigo_barras;\n/*     copy_presentaciones.splice(index, 1, copy_element_presentacion);\n    setPresentaciones(copy_presentaciones); */\n  };\n\n  const actionButton = () => {\n    if (!disabledInput) {\n      handleEditCancel();\n      /* quitar del array\t */\n      onUpdate.splice(onUpdate.length - 1, 1);\n      setOnUpdate([...onUpdate]);\n    } else {\n      setDisabledInput(!disabledInput);\n      /*  agregar al array */\n      setOnUpdate([...onUpdate, index]);\n    }\n  };\n\n /*  const aplicarDescuento = (value) => {\n    copy_element_presentacion.medida.descuento_activo = value;\n/*     copy_presentaciones.splice(index, 1, copy_element_presentacion);\n    setPresentaciones(copy_presentaciones); \n  }; */\n\n  return (\n    <TableRow hover selected={!disabledInput} className={classes.tableRow}>\n      <TableCell align=\"center\" padding=\"checkbox\">\n        <Checkbox checked={copy_producto.medida.existencia} color=\"primary\" />\n      </TableCell>\n      <TableCell width={220}>\n        <Box display=\"flex\">\n          <Input\n            inputRef={textfield}\n            onChange={(e) => obtenerDatos(e)}\n            /* disabled={disabledInput} */\n            value={copy_producto.medida.codigo_barras}\n            type=\"number\"\n            name=\"codigo_barras\"\n            disabled={\n              datos.medidas_registradas && !copy_producto.medida.nuevo\n                ? true\n                : disabledInput\n            }\n          />\n          {!datos.medidas_registradas && copy_producto.medida.nuevo ? (\n            <IconButton\n              color=\"primary\"\n              size=\"small\"\n              onClick={() => GenCodigoBarras()}\n            >\n              <Cached />\n            </IconButton>\n          ) : datos.medidas_registradas && copy_producto.medida.nuevo ? (\n            <IconButton\n              color=\"primary\"\n              size=\"small\"\n              onClick={() => GenCodigoBarras()}\n            >\n              <Cached />\n            </IconButton>\n          ) : null}\n        </Box>\n      </TableCell>\n      <TableCell width={200}>{copy_producto.medida.nombre_comercial}</TableCell>\n      <TableCell padding=\"checkbox\">\n        {copy_producto.medida.medida._id ? (\n          <Chip label={copy_producto.medida.medida.talla} color=\"primary\" />\n        ) : (\n          \"\"\n        )}\n      </TableCell>\n      <TableCell padding=\"checkbox\">\n        {copy_producto.medida.color._id ? (\n          <Tooltip\n            title={copy_producto.medida.color.nombre}\n            placement=\"top\"\n            arrow\n            TransitionComponent={Zoom}\n          >\n            <div\n              className={classes.colorContainer}\n              style={{\n                backgroundColor: copy_producto.medida.color.hex,\n              }}\n            />\n          </Tooltip>\n        ) : null}\n      </TableCell>\n     \n\n         <Fragment>\n            <TableCell width={110}>\n              <Input\n                inputRef={textfield}\n                onChange={(e) => obtenerDatos(e)}\n                disabled={disabledInput}\n                value={copy_producto.medida.precio}\n                type=\"tel\"\n                name=\"precio\"\n              />\n              \n            </TableCell>\n           {/*  <TableCell>\n              <Input\n                inputRef={textfield}\n                onChange={(e) => obtenerDatos(e)}\n                disabled={disabledInput}\n                value={copy_producto.medida.descuento}\n                type=\"tel\"\n                name=\"descuento\"\n              />\n            </TableCell> */}\n            <TableCell padding=\"checkbox\">\n              <Input\n                inputRef={textfield}\n                onChange={(e) => obtenerDatos(e)}\n                disabled={disabledInput}\n                value={copy_producto.nuevaCantidad}\n                type=\"tel\"\n                name=\"nuevaCantidad\"\n              />\n            </TableCell>\n          </Fragment>\n     \n      <TableCell padding=\"checkbox\">\n        <IconButton size=\"small\" onClick={() => actionButton()}>\n          {!disabledInput ? <Close /> : <Edit />}\n        </IconButton>\n      </TableCell>\n    </TableRow>\n  );\n};\n","import React, {\n  useState,\n  useEffect,\n  useCallback,\n} from \"react\";\nimport {\n  Typography,\n  Tooltip,\n  Slide\n} from \"@material-ui/core\";\n\n\nimport { Box, Grid } from \"@material-ui/core\";\nimport { makeStyles, useTheme } from \"@material-ui/core\";\nimport Zoom from \"@material-ui/core/Zoom\";\nimport { Done } from \"@material-ui/icons\";\nimport TablaPresentacionesNotOrigen from \"./TablePresentacionesNotOrigen\";\n\n\nimport CrearColorProducto from \"../../pages/sucursales/Catalogos/Producto/TallasColores/crearColor\";\nimport CrearTallasProducto from \"../../pages/sucursales/Catalogos/Producto/TallasColores/crearTalla\";\n\nconst useStyles = makeStyles((theme) => ({\n  colorContainer: {\n    border: \"1px solid rgba(0,0,0, .3)\",\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    height: 50,\n    width: 50,\n    margin: 1,\n    borderRadius: \"15%\",\n    cursor: \"pointer\",\n    \n  },\n}));\n\nconst GenCodigoBarras = () => {\n  return Math.floor(\n    Math.random() * (999999999999 - 100000000000 + 1) + 100000000000\n  ).toString();\n};\n\n\nexport default function ColoresTallas({\n  producto,\n  new_medidas,\n  setNew_medidas,\n  obtenerConsultasProducto,\n  refetch\n}) {\n\n    const [medidasSeleccionadas, setMedidasSeleccionadas] = useState([]);\n    const [coloresSeleccionados, setColoresSeleccionados] = useState([]);\n    /* const medidas =\n    producto.datos_generales.tipo_producto === \"ROPA\" ? [...obtenerConsultasProducto.tallas] : [...obtenerConsultasProducto.calzados]; */ \n    const [onUpdate, setOnUpdate] = useState([]);\n //console.log(data.obtenerConsultasProducto)\n  const obtenerColoresSeleccinados = useCallback(() => {\n    let colors = [];\n    let medidas = [];\n    \n    const copy_presentaciones =  [...new_medidas ];\n    \n \n//const copy_presentaciones = [];\n    /* Queries */\n \n    copy_presentaciones.forEach((element) => {\n   //console.log('obtenerColoresSeleccinados', element)\n      if (element.medida.color._id) colors.push(element.medida.color);\n      if (element.medida.medida._id) medidas.push(element.medida.medida);\n    });\n\n    var hashColor = {};\n    var hashMedida = {};\n    const colores_existentes = colors.filter((color) => {\n      var existColor = !hashColor[color._id];\n      hashColor[color._id] = true;\n      return existColor;\n    });\n    const medidas_existentes = medidas.filter((medida) => {\n      var existMedida = !hashMedida[medida._id];\n      hashMedida[medida._id] = true;\n      return existMedida;\n    });\n    //console.log('colores_existentes', colores_existentes, 'medidas_existentes', medidas_existentes)\n    setColoresSeleccionados([...colores_existentes]);\n    setMedidasSeleccionadas([...medidas_existentes]);\n   \n    \n  }, [new_medidas,setColoresSeleccionados, setMedidasSeleccionadas]);\n\n \n\n  useEffect(() => {\n    obtenerColoresSeleccinados();\n  }, [obtenerColoresSeleccinados]);\n\n  return (\n     <div>\n       <Box alignContent='center' m={5} >\n        <Grid container spacing={4}>\n         {/*  {!datos.medidas_registradas ? (\n            <Grid item md={4}>\n              <Box width=\"100%\">\n                <Typography>Almacen</Typography>\n                <Box display=\"flex\">\n                  <FormControl\n                    disabled={presentaciones.length === 0 || from === \"compra\"}\n                    variant=\"outlined\"\n                    fullWidth\n                    size=\"small\"\n                    name=\"almacen\"\n                    error={\n                      presentaciones.length > 0 && !almacen_inicial.almacen\n                    }\n                  >\n                    \n                    {presentaciones.length > 0  ? (\n                      <FormLabel>* Campo obligatorio</FormLabel>\n                    ) : null}\n                  </FormControl>\n            \n                </Box>\n              </Box>\n            </Grid>\n          ) : null} */}\n\n          <Grid item md={6}>\n            <Box\n              width=\"100%\"\n              style={\n                onUpdate.length > 0\n                  ? {\n                      pointerEvents: \"none\",\n                      opacity: 0.4,\n                    }\n                  : null\n              }\n            >\n              <Box display=\"flex\" alignItems=\"center\">\n                <Typography>\n                  {producto.datos_generales.tipo_producto === \"ROPA\"\n                    ? \"Talla\"\n                    : \"Número\"}\n                </Typography>\n                <Box mx={1} />\n                <CrearTallasProducto\n                  setMedidasSeleccionadas={setMedidasSeleccionadas}\n                  refetch={refetch}\n                />\n              </Box>\n              { (producto.datos_generales.tipo_producto === \"ROPA\") ? \n                  (obtenerConsultasProducto.tallas  !== undefined) ? \n                    <Grid container >\n                        {obtenerConsultasProducto.tallas.map((talla, index) => (\n                        <RenderTallas\n                            producto={producto}\n                            key={index}\n                            talla={talla}\n                            coloresSeleccionados={coloresSeleccionados}\n                            medidasSeleccionadas={medidasSeleccionadas}\n                            setMedidasSeleccionadas={setMedidasSeleccionadas}\n                            datos={new_medidas}\n                            setNew_medidas={setNew_medidas}\n                        />\n                        ))}\n                    </Grid>\n                  :\n                  <div/>\n                :\n                   (obtenerConsultasProducto.calzados  !== undefined) ? \n                      <Grid container >\n                        {obtenerConsultasProducto.calzados.map((talla, index) => (\n                        <RenderTallas\n                            producto={producto}\n                            key={index}\n                            talla={talla}\n                            coloresSeleccionados={coloresSeleccionados}\n                            medidasSeleccionadas={medidasSeleccionadas}\n                            setMedidasSeleccionadas={setMedidasSeleccionadas}\n                            datos={new_medidas}\n                            setNew_medidas={setNew_medidas}\n                        />\n                        ))}\n                    </Grid>\n                    :\n                    <div/>\n              }\n              \n            </Box>\n          </Grid>\n          <Grid item md={6}>\n            <Box\n              width=\"100%\"\n              style={\n                onUpdate.length > 0\n                  ? {\n                      pointerEvents: \"none\",\n                      opacity: 0.4,\n                    }\n                  : null\n              }\n            >\n              <Box display=\"flex\" alignItems=\"center\">\n                <Typography>Color</Typography>\n                <Box mx={1} />\n                <CrearColorProducto refetch={refetch} />\n              </Box>\n            {\n            (obtenerConsultasProducto.colores !== undefined) ? \n              <Grid container>\n                {obtenerConsultasProducto.colores.map((color, index) => (\n                  <Colores\n                    producto={producto}\n                    key={index}\n                    color={color}\n                    coloresSeleccionados={coloresSeleccionados}\n                    setColoresSeleccionados={setColoresSeleccionados}\n                    medidasSeleccionadas={medidasSeleccionadas}\n                    datos={new_medidas}\n                    setNew_medidas={setNew_medidas}\n                  />\n                ))}\n              </Grid>\n            :\n            <div/>\n            }  \n            </Box>\n          </Grid>\n        </Grid>\n        <Box mt={2} />\n        <TablaPresentacionesNotOrigen\n          datos={new_medidas}\n          setOnUpdate={setOnUpdate}\n          onUpdate={onUpdate}\n          setNew_medidas={setNew_medidas}\n        />\n      </Box>\n    </div>\n  );\n}\n\nconst RenderTallas = ({\n  producto,\n  talla,\n  coloresSeleccionados,\n  setMedidasSeleccionadas,\n  medidasSeleccionadas,\n  setNew_medidas,\n  datos,\n}) => {\n  const classes = useStyles();\n  const theme = useTheme();\n /*  const {\n    setPresentaciones,\n    presentaciones,\n    datos_generales,\n    preciosP,\n    presentaciones_eliminadas,\n    setPresentacionesEliminadas,\n  } = useContext(RegProductoContext); */\n  const [selected, setSelected] = useState(false);\n\n  const seleccionarMedidas = useCallback(() => {\n    medidasSeleccionadas.forEach((res) => {\n      if (res._id === talla._id) setSelected(true);\n    });\n  }, [talla._id, medidasSeleccionadas]);\n\n   useEffect(() => {\n    if (datos) {\n      return seleccionarMedidas();\n    }\n  }, [datos, seleccionarMedidas]); \n\n  const handleAddTallas = (value) => {\n    const medidas_seleccionadas_temp = [...medidasSeleccionadas];\n    //console.log('handleAddTallas', datos)\n    if (!selected) {\n      medidas_seleccionadas_temp.push(talla);\n      setSelected(value);\n    } else {\n      medidas_seleccionadas_temp.forEach((res, index) => {\n        if (res._id === talla._id) {\n          medidas_seleccionadas_temp.splice(index, 1);\n          setSelected(value);\n      /*     presentaciones.forEach((presentacion) => {\n            if (!presentacion.nuevo) {\n              if (presentacion.medida._id === res._id) {\n                setPresentacionesEliminadas([\n                  ...presentaciones_eliminadas,\n                  presentacion,\n                ]);\n              }\n            }\n          }); */\n        }\n      });\n    }\n\n    let presentacion_temp = [];\n    const array_medidad_finales = [...datos];\n    //const array_medidad_finales = [];\n    if (!coloresSeleccionados.length && !array_medidad_finales.length) {\n      /* SI NO HAY COLORES NI VALORES EN EL ARRAY FINAL SE AGREGA EL PRIMER ELEMENTO */\n      for (let i = 0; i < medidas_seleccionadas_temp.length; i++) {\n        const producto_medida = medidas_seleccionadas_temp[i];\n        presentacion_temp.push({\n          medida :{\n            _id: \"\",\n            existencia: false,\n            codigo_barras: GenCodigoBarras(),\n            nombre_comercial: producto.datos_generales.nombre_comercial,\n            medida: producto_medida,\n            color: { nombre: \"\", hex: \"\" },\n            precio: producto.precios.precios_producto[0].precio_neto,\n            cantidad: 0,\n            //nuevo: true\n          },\n          nuevaCantidad: 0\n          \n        });\n        \n      }\n    } else if (\n      !coloresSeleccionados.length &&\n      array_medidad_finales.length > 0\n    ) {\n      /* SI NO HAY COLORES REGISTRADOS PERO YA HAY TALLAS SE AGREGAN MAS */\n      for (let i = 0; i < medidas_seleccionadas_temp.length; i++) {\n        const producto_medida = medidas_seleccionadas_temp[i];\n        const result = array_medidad_finales.filter(\n          (res) => res.medida.medida._id === producto_medida._id\n        );\n        if (result.length) {\n          presentacion_temp.push(result[0]);\n        } else {\n          presentacion_temp.push({\n              medida :{\n              _id: \"\",\n              existencia: false,\n              codigo_barras: GenCodigoBarras(),\n              nombre_comercial: producto.datos_generales.nombre_comercial,\n              medida: producto_medida,\n              color: { nombre: \"\", hex: \"\" },\n              precio: producto.precios.precios_producto[0].precio_neto,\n              cantidad: 0,\n              //nuevo: true\n            },\n            nuevaCantidad: 0,\n    \n          });\n        }\n      }\n    } else if (\n      coloresSeleccionados.length > 0 &&\n      medidas_seleccionadas_temp.length === 1 &&\n      value\n    ) {\n      /* SI HAY COLORES SE LE AGREGA TALLA POR PRIMERA VEZ */\n      for (let i = 0; i < array_medidad_finales.length; i++) {\n        for (let k = 0; k < medidas_seleccionadas_temp.length; k++) {\n          presentacion_temp.push({\n             medida :{\n              _id: \"\",\n              existencia: array_medidad_finales[i].medida.existencia,\n              codigo_barras: array_medidad_finales[i].medida.codigo_barras,\n              nombre_comercial: array_medidad_finales[i].medida.nombre_comercial,\n              medida: medidas_seleccionadas_temp[k],\n              color: array_medidad_finales[i].medida.color,\n              precio: array_medidad_finales[i].medida.precio,\n              cantidad: array_medidad_finales[i].medida.cantidad,\n              //nuevo: true\n            },\n            nuevaCantidad: array_medidad_finales[i].nuevaCantidad,\n           \n          });\n        }\n      }\n    } else if (\n      coloresSeleccionados.length > 0 &&\n      medidas_seleccionadas_temp.length > 0\n    ) {\n      /* YA HAY COLORES Y MEDIDAS EN LAS PRESENTACIONES, SE AGREGAN NORMAL */\n      for (let i = 0; i < medidas_seleccionadas_temp.length; i++) {\n        const producto_medida = medidas_seleccionadas_temp[i];\n        for (let k = 0; k < coloresSeleccionados.length; k++) {\n          const producto_color = coloresSeleccionados[k];\n          const presentacion_existente = array_medidad_finales.filter(\n            (producto_array_final) =>\n              producto_array_final.medida.medida._id === producto_medida._id &&\n              producto_color._id === producto_array_final.medida.color._id\n          );\n          if (!presentacion_existente.length) {\n            //console.log('YA HAY COLORES Y MEDIDAS EN LAS PRESENTACIONES, SE AGREGAN NORMAL' , array_medidad_finales, producto_medida, producto_color)\n            presentacion_temp.push({\n              \n              medida :{\n                _id: \"\",\n                existencia: false,\n                codigo_barras: GenCodigoBarras(),\n                nombre_comercial: producto.datos_generales.nombre_comercial,\n                medida: producto_medida,\n                color: producto_color,\n                precio: 0,\n                cantidad: 0,\n                \n              },\n              nuevaCantidad: 0,\n            });\n          } else {\n            presentacion_temp.push(presentacion_existente[0]);\n          }\n        }\n      }\n    } else if (\n      coloresSeleccionados.length > 0 &&\n      !medidas_seleccionadas_temp.length\n    ) {\n      /* SI NO HAY TALLAS SE VUELVE A LISTAR LOS COLORES QUE YA ESTABAN EN PRESENTACIONES */\n      const presentaciones_existentes = array_medidad_finales.filter(\n        (producto) => producto.medida.medida._id\n      );\n      if (presentaciones_existentes.length) {\n        for (let x = 0; x < array_medidad_finales.length; x++) {\n          const objeto_presentaciones_final = array_medidad_finales[x];\n          presentacion_temp.push({\n              \n              medida :{\n                _id: \"\",\n                existencia: objeto_presentaciones_final.medida.existencia,\n                codigo_barras: objeto_presentaciones_final.medida.codigo_barras,\n                nombre_comercial: objeto_presentaciones_final.medida.nombre_comercial,\n                medida: objeto_presentaciones_final.medida.medida,\n                color: objeto_presentaciones_final.medida.color,\n                precio: objeto_presentaciones_final.medida.precio,\n                cantidad: objeto_presentaciones_final.medida.cantidad,\n                //nuevo: true\n              },\n              nuevaCantidad: objeto_presentaciones_final.nuevaCantidad, \n\n          \n          });\n        }\n      }\n    }\n     \n    setMedidasSeleccionadas([...medidas_seleccionadas_temp]);\n    setNew_medidas(presentacion_temp);\n  };\n\n  return (\n    <Grid item>\n      <div\n        className={classes.colorContainer}\n        onClick={() => handleAddTallas(!selected)}\n        style={\n          selected\n            ? {\n                backgroundColor: theme.palette.primary.main,\n              }\n            : null\n        }\n      >\n        <Typography\n          variant=\"button\"\n          style={{\n            color: theme.palette.getContrastText(\n              selected ? theme.palette.primary.main : \"#FFFFFF\"\n            ),\n            fontSize: 16,\n          }}\n        >\n          {talla.talla}\n        </Typography>\n      </div>\n    </Grid>\n  );\n};\n\nconst Colores = ({\n  producto,\n  color,\n  coloresSeleccionados,\n  setColoresSeleccionados,\n  medidasSeleccionadas,\n  datos,\n  setNew_medidas\n}) => {\n  const classes = useStyles();\n  const theme = useTheme();\n\n \n\n  const [selected, setSelected] = useState(false);\n\n  const seleccionarColores = useCallback(() => {\n    coloresSeleccionados.forEach((res) => {\n      if (res._id === color._id) setSelected(true);\n    });\n  }, [color._id, coloresSeleccionados]);\n \n  useEffect(() => {\n    if (producto) {\n      return seleccionarColores();\n    }\n  }, [producto, seleccionarColores]);\n\n  const obtenerColores = (value) => {\n    if (!selected) {\n      coloresSeleccionados.push(color);\n      setSelected(value);\n    } else {\n      coloresSeleccionados.forEach((res, index) => {\n        if (res._id === color._id) {\n          coloresSeleccionados.splice(index, 1);\n          setSelected(value);\n         /*  new_medidas.forEach((presentacion) => {\n            if (!presentacion.nuevo) {\n              if (presentacion.color._id === res._id) {\n                setPresentacionesEliminadas([\n                  ...presentaciones_eliminadas,\n                  presentacion,\n                ]);\n              }\n            }\n          }); */\n        }\n      });\n    }\n    let presentacion_temp = [];\n    const array_medidad_finales = [...datos];\n\n    if (!medidasSeleccionadas.length && !array_medidad_finales.length) {\n      /* SI NO HAY COLORES NI VALORES EN EL ARRAY FINAL SE AGREGA EL PRIMER ELEMENTO */\n      for (let i = 0; i < coloresSeleccionados.length; i++) {\n        const producto_color = coloresSeleccionados[i];\n        presentacion_temp.push({\n          medida :{\n              _id: \"\",\n              existencia: false,\n              codigo_barras: GenCodigoBarras(),\n              nombre_comercial: producto.datos_generales.nombre_comercial,\n              medida: {},\n              color: producto_color,\n              precio: producto.precios.precios_producto[0].precio_neto,\n              cantidad: 0,\n              //nuevo: true\n            },\n            nuevaCantidad: 0,\n        });\n      }\n    } else if (\n      !medidasSeleccionadas.length &&\n      array_medidad_finales.length > 0\n    ) {\n      /* SI YA HAY COLORES REGISTRADOS SE AGREGAN MAS */\n      for (let i = 0; i < coloresSeleccionados.length; i++) {\n        const producto_color = coloresSeleccionados[i];\n        const result = array_medidad_finales.filter(\n          (res) => res.medida.color._id === producto_color._id\n        );\n        if (result.length) {\n          presentacion_temp.push(result[0]);\n        } else {\n          presentacion_temp.push({\n             medida :{\n              _id: \"\",\n              existencia: false,\n              codigo_barras: GenCodigoBarras(),\n              nombre_comercial: producto.datos_generales.nombre_comercial,\n              medida: {},\n              color: producto_color,\n              precio: producto.precios.precios_producto[0].precio_neto,\n              cantidad: 0,\n              //nuevo: true\n            },\n            nuevaCantidad: 0,\n          });\n        }\n      }\n    } else if (\n      medidasSeleccionadas.length > 0 &&\n      coloresSeleccionados.length === 1 &&\n      value\n    ) {\n      /* SI YA HAY TALLAS SE LE AGREGA EL COLOR POR PRIMERA VEZ */\n      for (let i = 0; i < array_medidad_finales.length; i++) {\n        for (let k = 0; k < coloresSeleccionados.length; k++) {\n          presentacion_temp.push({\n            medida :{\n              _id: \"\",\n              existencia: array_medidad_finales[i].medida.existencia,\n              codigo_barras: array_medidad_finales[i].medida.codigo_barras,\n              nombre_comercial: array_medidad_finales[i].medida.nombre_comercial,\n              medida: array_medidad_finales[i].medida.medida,\n              color: coloresSeleccionados[k],\n              precio: array_medidad_finales[i].medida.precio,\n              cantidad: array_medidad_finales[i].medida.cantidad,\n              //nuevo: true\n            },\n            nuevaCantidad: array_medidad_finales[i].nuevaCantidad,\n           \n          });\n        }\n      }\n    } else if (\n      medidasSeleccionadas.length > 0 &&\n      coloresSeleccionados.length > 0\n    ) {\n      /* YA HAY TALLAS Y MEIDAS EN LAS PRESENTACIONES, SE REGISTRAN NORMAL */\n      for (let i = 0; i < coloresSeleccionados.length; i++) {\n        const producto_color = coloresSeleccionados[i];\n        for (let k = 0; k < medidasSeleccionadas.length; k++) {\n          const producto_medida = medidasSeleccionadas[k];\n          const presentacion_existente = array_medidad_finales.filter(\n            (producto_array_final) =>\n              producto_array_final.medida.medida._id === producto_medida._id &&\n              producto_color._id === producto_array_final.medida.color._id\n          );\n          if (!presentacion_existente.length) {\n            presentacion_temp.push({\n               medida :{\n                _id: \"\",\n                existencia: false,\n                codigo_barras: GenCodigoBarras(),\n                nombre_comercial: producto.datos_generales.nombre_comercial,\n                medida: producto_medida,\n                color: producto_color,\n                precio: 0,\n                cantidad: 0,\n                //nuevo: true\n              },\n              nuevaCantidad: 0,\n              \n            });\n          } else {\n            presentacion_temp.push(presentacion_existente[0]);\n          }\n        }\n      }\n    } else if (\n      medidasSeleccionadas.length > 0 &&\n      !coloresSeleccionados.length\n    ) {\n      /* SI NO HAY COLORES SE VUELVE A LISTAR LAS TALLAS QUE YA ESTABAN EN PRESENTACIONES */\n      const presentaciones_existentes = array_medidad_finales.filter(\n        (producto) => producto.medida.color._id\n      );\n      if (presentaciones_existentes.length) {\n        for (let x = 0; x < array_medidad_finales.length; x++) {\n          const objeto_presentaciones_final = array_medidad_finales[x];\n          presentacion_temp.push({\n            medida :{\n                _id: objeto_presentaciones_final.medida._id,\n                existencia: objeto_presentaciones_final.medida.existencia,\n                codigo_barras: objeto_presentaciones_final.medida.codigo_barras,\n                nombre_comercial: objeto_presentaciones_final.medida.nombre_comercial,\n                medida: objeto_presentaciones_final.medida.medida,\n                color: { nombre: \"\", hex: \"\" },\n                precio: objeto_presentaciones_final.medida.precio,\n                cantidad: objeto_presentaciones_final.medida.cantidad,\n                //nuevo: true\n              },\n            nuevaCantidad: objeto_presentaciones_final.nuevaCantidad,\n\n          });\n        }\n      }\n    }\n\n    setColoresSeleccionados([...coloresSeleccionados]);\n    setNew_medidas(presentacion_temp);\n  };\n\n  return (\n    <Grid item >\n      <Tooltip\n        title={color.nombre}\n        placement=\"top\"\n        arrow\n        TransitionComponent={Zoom}\n      >\n        <div\n          className={classes.colorContainer}\n          style={{\n            backgroundColor: color.hex,\n            color: theme.palette.getContrastText(color.hex),\n          }}\n          onClick={() => obtenerColores(!selected, color)}\n        >\n          {selected ? <Done /> : null}\n        </div>\n      </Tooltip>\n    </Grid>\n  );\n};\n","import React, { useContext,  useState, useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport {  Chip,  Tooltip, Zoom , TextField} from '@material-ui/core';\nimport { TraspasosAlmacenContext } from \"../../context/Almacenes/traspasosAlmacen\";\nimport { fade } from '@material-ui/core/styles/colorManipulator';\n\n/* const compareFunction = (a, b) => {\n\tif (a.medida.talla && b.medida.talla) {\n\t\treturn a.medida.talla.localeCompare(b.medida.talla);\n\t}\n}; */\n\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n\t\talignSelf:'center',\n\t\twidth:'90%',\n\t\tpaddingLeft: theme.spacing(2),\n    paddingRight: theme.spacing(1),\n\t\t\n\t},\n\tpaper: {\n\t\twidth: '100%',\n\t\tmarginBottom: theme.spacing(2)\n\t},\n\ttable: {\n\t\t\n\t\tminWidth: '100%',\n\t\tmaxWidth: '100%',\n\t\t\n\t},\n\t\n\ttableRow: {\n    \n\t\t'&.Mui-selected, &.Mui-selected:hover': {\n\t\t\tbackgroundColor: fade(theme.palette.primary.main, 0.1)\n\t\t}\n\t},\n    cell:{\n       align:'center'     \n    },\n\tvisuallyHidden: {\n\t\tborder: 0,\n\t\tclip: 'rect(0 0 0 0)',\n\t\theight: 1,\n\t\tmargin: -1,\n\t\toverflow: 'hidden',\n\t\tpadding: 0,\n\t\tposition: 'absolute',\n\t\ttop: 20,\n\t\twidth: 1\n\t},\n\tcolorContainer: {\n\t\tborder: '1px solid rgba(0,0,0, .3)',\n\t\theight: 30,\n\t\twidth: 30,\n\t\tborderRadius: '15%'\n\t}\n}));\n\n\n/* function stableSort(array, comparator) {\n  const stabilizedThis = array.map((el, index) => [el, index]);\n  stabilizedThis.sort((a, b) => {\n    const order = comparator(a[0], b[0]);\n    if (order !== 0) return order;\n    return a[1] - b[1];\n  });\n  return stabilizedThis.map((el) => el[0]);\n} */\n\nfunction descendingComparator(a, b, orderBy) {\n  if (b[orderBy] < a[orderBy]) {\n    return -1;\n  }\n  if (b[orderBy] > a[orderBy]) {\n    return 1;\n  }\n  return 0;\n}\n\nfunction getComparator(order, orderBy) {\n  return order === 'desc'\n    ? (a, b) => descendingComparator(a, b, orderBy)\n    : (a, b) => -descendingComparator(a, b, orderBy);\n}\n\nexport default function TablaPresentaciones({ producto, setOnUpdate, onUpdate, new_medidas, setNew_medidas }) {\n  const classes = useStyles();\n \n \n\n/*  \nconst handleChangePage = (event, newPage) => {\n    setPage(newPage);\n}; */\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Paper className={classes.paper}>\n\t\t\t\t<TableContainer style={{height:400}}>\n\t\t\t\t\t<Table\n\t\t\t\t\t\tclassName={classes.table}\n\t\t\t\t\t\taria-labelledby=\"tableTitle\"\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\taria-label=\"enhanced table\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t<TableCell >Medida</TableCell>\n\t\t\t\t\t\t\t\t<TableCell >Color</TableCell>\n\t\t\t\t\t\t\t\t<TableCell >Cantidad existente</TableCell>\n                                <TableCell >Cantidad a traspasar</TableCell>\n                            </TableRow>\n\t\t\t\t\t\t</TableHead>\n\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t{/* {stableSort(producto.medidas_producto, getComparator(order, orderBy))\n                \t\t\t.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\n\t\t\t\t\t\t\t.map((item, index) => { */}\n\t\t\t\t\t\t\t{producto.medidas_producto.map((item, index) => {\t\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<RenderPresentacionesRows\n\t\t\t\t\t\t\t\t\t\tidProducto={producto._id}\n\t\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\t\tmedida={item}\n\t\t\t\t\t\t\t\t\t\tindex={index}\n\t\t\t\t\t\t\t\t\t\tsetOnUpdate={setOnUpdate}\n\t\t\t\t\t\t\t\t\t\tonUpdate={onUpdate}\n\t\t\t\t\t\t\t\t\t\tnew_medidas={new_medidas}\n\t\t\t\t\t\t\t\t\t\tsetNew_medidas={setNew_medidas}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t</Table>\n\t\t\t\t</TableContainer>\n\t\t\t{/* \t<TablePagination\n\t\t\t\t\trowsPerPageOptions={[5, 10, 25]}\n\t\t\t\t\tcomponent=\"div\"\n\t\t\t\t\tcount={producto.medidas_producto.length}\n\t\t\t\t\trowsPerPage={rowsPerPage}\n\t\t\t\t\tpage={page}\n\t\t\t\t\tonChangePage={handleChangePage}\n\t\t\t\t\t// onRowsPerPageChange={handleChangeRowsPerPage}\n\t\t\t\t/> */}\n\t\t\t</Paper>\n\t\t</div>\n\t);\n}\n\n\nconst RenderPresentacionesRows = ({ medida, index, setOnUpdate, onUpdate,new_medidas, setNew_medidas, idProducto}) => {\n\n\tconst [ disabledInput, setDisabledInput ] = useState(true);\n\tconst classes = useStyles();\n\tconst [ cantidad, setCantidad ] = useState(0);\n\tconst [ cantidadAnt, setCantidadAnt ] = useState(0);\n\tconst copy_medida = { ...medida };\n\tconst {productosTras} = useContext(TraspasosAlmacenContext);\n\t//const [productInTras, setProductInTras] =  useState(null);\n\t//let productInTras = null;\n\t//let productInTras = productosTras.find(element => element.product_selecteded._id === idProducto);\n\t//const productosTrasContext = productosTras;\n \n\tuseEffect(() => {\n\t\tproductosTras.forEach(producto => {\n\t\t\t//console.log(\"SELECTMEDIDAS\",producto)\n\t\tif(producto.product_selected._id === idProducto){\n\t\t\tlet new_medidasCopia = [];\n\t\t\tlet element = null;\n\t\t\n\t\t\tfor (const med in producto.new_medidas) {\n\t\t\t\n\t\t\t\tif (Object.hasOwnProperty.call(producto.new_medidas, med)) {\n\t\t\t\t\telement = producto.new_medidas[med];\n\t\t\t\t\t\n\t\t\t\t\tnew_medidasCopia.push(element)\n\t\t\t\t\t\n\t\t\t\t\tif(medida._id === element.medida._id){\n\t\t\t\t\t\t//console.log(element.cantidad)\t\n\t\t\t\t\t\tsetCantidad( element.cantidad);\t\t\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\n\t\t\t}\n\t\t\t\n\t\t\tsetNew_medidas(producto.new_medidas);\n\t\t\treturn;\n\t\t}\n\t\t\n\t});\n\t\treturn () => {\n\t\t\t<div/>\n\t\t}\n\t}, [productosTras])\n\t\n\n\n\t\n\n\t/* if(from && from === 'compra'){\n\t\tcopy_producto.cantidad_nueva = 0\n\t} */\n\t\n\tconst obtenerDatos = (value) => {\n\t\tlet cant = (cantidadAnt > 0) ? parseInt(value - cantidadAnt)   : value;\n\t\t//console.log(\"CANT\",cantidad)\n\n\t\tif(cant <= medida.cantidad){\n\t\t\tsetCantidad(value);\n\t\t\n\t\t\tsetNew_medidas({...new_medidas, [index] : {medida:medida, nuevaCantidad: parseInt(cant)}})\n\t\t}\n\t\t/* \n\t\tconst unidades = {cantidad:} \n\t\tcopy_producto.push() */\n\t\t//Tengo que obtener los datos que se van a enviar se debe agregar un elemento al array \n\t\t\n\t\t//setPresentaciones(copy_presentaciones);\n\t};\n\n\n\treturn (\n\t\t<TableRow  selected={!disabledInput} className={classes.tableRow} >\n\t\t\t<TableCell >\n\t\t\t\t{copy_medida.medida._id ? <Chip label={copy_medida.medida.talla} color=\"primary\" /> : ''}\n\t\t\t</TableCell>\n\t\t\t<TableCell  style={{width:'20%'}}>\n\t\t\t\t{copy_medida.color._id ? (\n\t\t\t\t\t<Tooltip title={copy_medida.color.nombre} placement=\"top\" arrow TransitionComponent={Zoom}>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName={classes.colorContainer}\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\tbackgroundColor: copy_medida.color.hex\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Tooltip>\n\t\t\t\t) : null}\n\t\t\t</TableCell>\n\t\t\t\n\t\t\n\t\t\t<TableCell className={classes.cell}  style={{width:'25%'}}>\n\t\t\t\t{medida.cantidad}\n\t\t\t</TableCell>\n\t\t \n\t\t\t<TableCell  style={{width:'25%'}}>\n\t\t\t\t<TextField\n\t\t\t\t\tsize=\"small\"\n\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\tInputProps={{ inputProps: { min: 0 } }}\n\t\t\t\t\tinputMode=\"numeric\"\n\t\t\t\t\ttype=\"number\"\n\t\t\t\t\tvalue={cantidad}\n\t\t\t\t\tonChange={(value) => obtenerDatos(value.target.value)}\n\t\t\t\t\tname=\"nuevaCantidad\"\n\t\t\t\t/>\n            </TableCell>    \n\t\t</TableRow>\n\t);\n};","import React, {useContext, useEffect, useState} from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { Grid,Box, TextField } from '@material-ui/core';\nimport { lighten, makeStyles } from '@material-ui/core/styles';\nimport {Table, TableBody, TableCell, TableContainer, TableHead, TablePagination, TableRow, TableSortLabel} from '@material-ui/core';\nimport {Toolbar, Typography, Paper, IconButton, Tooltip, Dialog, Checkbox ,Slide, Button} from '@material-ui/core';\nimport AddIcon from '@material-ui/icons/Add';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport EditIcon from '@material-ui/icons/Edit';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { TraspasosAlmacenContext } from \"../../context/Almacenes/traspasosAlmacen\";\nimport TallasColoresTraspasos from './TallasColoresTraspasos';\nimport TableSelectMedidas from './TableSelectMedidas';\nimport { useQuery } from '@apollo/client';\nimport {  OBTENER_CONSULTAS } from \"../../gql/Catalogos/productos\";\nimport { RegProductoContext } from '../../context/Catalogos/CtxRegProducto';\n// function createData(name, cantidad, precio) {\n//   return { name, cantidad, precio };\n// }\n\nfunction descendingComparator(a, b, orderBy) {\n  if (b[orderBy] < a[orderBy]) {\n    return -1;\n  }\n  if (b[orderBy] > a[orderBy]) {\n    return 1;\n  }\n  return 0;\n}\n\nfunction getComparator(order, orderBy) {\n  return order === 'desc'\n    ? (a, b) => descendingComparator(a, b, orderBy)\n    : (a, b) => -descendingComparator(a, b, orderBy);\n}\n\nfunction stableSort(array, comparator) {\n  const stabilizedThis = array.map((el, index) => [el, index]);\n  stabilizedThis.sort((a, b) => {\n    const order = comparator(a[0], b[0]);\n    if (order !== 0) return order;\n    return a[1] - b[1];\n  });\n  return stabilizedThis.map((el) => el[0]);\n}\n\nconst headCells = [\n  { id: 'codeBarras', numeric: false, disablePadding: false, label: 'Código de barras' },\n  { id: 'name', numeric: false, disablePadding: true, label: 'Nombre' },\n  { id: 'tipo', numeric: true, disablePadding: false, label: 'Tipo' },\n  { id: 'cantidad', numeric: true, disablePadding: false, label: 'Cantidad' },\n\n];\nconst getUnidadMax  = (cantidad_existente_maxima,unidadMaxima) => {\n  //console.log('getCantidad',cantidad_nueva, cantidad_medida, accion)\n  const UNIDAD_MAXIMA = {\n    'Caja' :  'Cantidad existente en cajas: ' + cantidad_existente_maxima,\n    'Costal' : 'Cantidad existente en costales: ' + cantidad_existente_maxima,\n  }  \n  return UNIDAD_MAXIMA[unidadMaxima];\n}\n\nfunction EnhancedTableHead(props) {\n  const { classes,  order, orderBy, onRequestSort } = props;\n  const createSortHandler = (property) => (event) => {\n    onRequestSort(event, property);\n  };\n\n  return (\n    <TableHead>\n      <TableRow>\n     \n        {headCells.map((headCell) => (\n          <TableCell\n            key={headCell.id}\n            align={headCell.numeric ? 'right' : 'left'}\n            // padding={headCell.disablePadding ? 'none' : 'normal'}\n            sortDirection={orderBy === headCell.id ? order : false}\n          >\n            <TableSortLabel\n              active={orderBy === headCell.id}\n              direction={orderBy === headCell.id ? order : 'asc'}\n              onClick={createSortHandler(headCell.id)}\n            >\n              {headCell.label}\n              {orderBy === headCell.id ? (\n                <span className={classes.visuallyHidden}>\n                  {order === 'desc' ? 'sorted descending' : 'sorted ascending'}\n                </span>\n              ) : null}\n            </TableSortLabel>\n          </TableCell>\n        ))}\n      </TableRow>\n    </TableHead>\n  );\n}\n\nEnhancedTableHead.propTypes = {\n  classes: PropTypes.object.isRequired,\n  // product_selected: PropTypes.object.isRequired,\n  onRequestSort: PropTypes.func.isRequired,\n  order: PropTypes.oneOf(['asc', 'desc']).isRequired,\n  orderBy: PropTypes.string.isRequired,\n  rowCount: PropTypes.number.isRequired,\n};\n\nconst useToolbarStyles = makeStyles((theme) => ({\n  root: {\n    \n    paddingLeft: theme.spacing(2),\n    paddingRight: theme.spacing(1),\n    maxWidth:650\n  },\n  input:{\n    width:180\n  }\n  ,\n  inputCantidad:{\n    width:120,\n    height:10\n  },\n  highlight:\n    theme.palette.type === 'light'\n      ? {\n          \n          color: theme.palette.secondary.main,\n          backgroundColor: lighten(theme.palette.primary.light, 0.85),\n        }\n      : {\n          color: theme.palette.text.primary,\n          backgroundColor: theme.palette.secondary.dark,\n        },\n  title: {\n    fontSize:16,\n    flex: '1',\n     display: 'flex',\n    flexWrap: 'wrap',\n  },\n}));\n\nconst DialogTallas = (props) => {\n\n  const [new_medidas, setNew_medidas] = useState([]);\n  const {setProductosTras, productosTras} = useContext(TraspasosAlmacenContext);\n \n  const setProd = () =>{\n    let newMedidasCopy = new_medidas;\n    let cantidad_total = 0;\n    \n\n     try {\n     \n       let prodSelect = null;\n    prodSelect = (props.almacenOrigen !== null) ? {\n      _id: props.product_selected._id,\n      datos_generales:  props.product_selected.datos_generales,\n      medidas_producto: props.product_selected.medidas_producto,\n      inventario_general: props.product_selected.inventario_general,\n      unidades_de_venta: props.product_selected.unidades_de_venta,\n      precios: props.product_selected.precios,\n      empresa:props.product_selected.empresa,\n      sucursal:props.product_selected.sucursal,\n      usuario: props.product_selected.usuario\n    }\n    :\n\n    {\n       _id: props.product_selected._id,\n      datos_generales:  props.product_selected.datos_generales,\n      precios: props.product_selected.precios,\n       medidas_producto: [],\n      inventario_general: [{unidad_maxima:''}],\n      unidades_de_venta: [],\n      empresa:props.product_selected.empresa,\n      sucursal:props.product_selected.sucursal,\n      usuario: props.product_selected.usuario \n    }; \n    let existe = false;\n    let copyProductosTras = productosTras;\n    let medidasTo =[];\n    //Count all new_medidas from array\n\n    for (let newMed in newMedidasCopy){ \n        cantidad_total +=  newMedidasCopy[newMed].nuevaCantidad;\n        //cantidad_total += newMedidasCopy[newMed];\n      medidasTo.push(newMedidasCopy[newMed])\n    } \n\n    if(cantidad_total > 0){\n    \n      if(copyProductosTras.length){//Check have data context\n        copyProductosTras.forEach(element => {\n          if(element.product_selected._id === props.product_selected._id){\n            existe = true;\n            ///VA A SUMAR EN LAS MEDIDAS LAS CANTIDADES\n            element.new_medidas = medidasTo;\n            element.cantidad_total = cantidad_total;\n            return;\n          }\n        });\n    \n        if(!existe){\n          //console.log(\"NO está este producto\", element.product_selected._id , props.product_selected._id );\n          let obj= {product_selected:prodSelect, new_medidas:medidasTo, cantidad_total:parseInt(cantidad_total), unidad_maxima: false}\n          copyProductosTras.push(obj)\n      \n        } \n      }else{ \n          let obj= {product_selected:prodSelect, new_medidas:medidasTo, cantidad_total:parseInt(cantidad_total), unidad_maxima: false}\n          copyProductosTras.push(obj)\n      }\n         \n      setProductosTras([...copyProductosTras])  \n      setNew_medidas([]);\n      close();\n    }  \n     } catch (error) {\n       //console.log('MANDH',error)\n     }\n    \n  }\n\n  const close= () => {\n    try {\n      props.setOpenTallas();\n      props.setproduct_selected(undefined)\n    } catch (error) {\n      //console.log(error)\n    }\n  }\n \n  useEffect(() => {\n    let new_medidasCopia = [];\n\n    productosTras.forEach(prod => {\n\t\t\n\t\tif(prod.product_selected._id ===  props.product_selected._id){\n\t\t\tlet element = null;\n        for (const med in prod.new_medidas) {\n          if (Object.hasOwnProperty.call(prod.new_medidas, med)) {\n            element = prod.new_medidas[med];\n            new_medidasCopia.push(element)\n          }\n        }\n      }\n    })  \n    setNew_medidas(new_medidasCopia);\n  }, [productosTras, props.product_selected._id])\n     \n\n  return(\n    <Dialog open={props.openTallas} TransitionComponent={Transition} fullWidth maxWidth={\"md\"} >\n        <Box m={1} display=\"flex\" justifyContent=\"flex-end\">\n                <Button variant=\"contained\" color=\"secondary\" onClick={() => close()} size=\"large\">\n                  <CloseIcon />\n                </Button>\n          </Box>\n      {\n        (props.almacenOrigen === null) ? \n          <div>\n            <TallasColoresTraspasos \n              obtenerConsultasProducto={props.obtenerConsultasProducto}\n              refetch={props.obtenerConsultasProducto.refetch}\n              producto={props.product_selected}\n              new_medidas={new_medidas} \n              setNew_medidas={setNew_medidas}\n            />\n          </div>\n        :\n        <div>\n        \n\n          <TableSelectMedidas producto = {props.product_selected} new_medidas={new_medidas} setNew_medidas={setNew_medidas} />\n          \n        </div> \n      }    \n      <Box display=\"flex\" justifyContent=\"flex-end\" m={1} mr={5}>\n        <Button  variant=\"contained\" color=\"primary\"style={{width:\"20%\"}} onClick={setProd} >\n          AGREGAR \n        </Button>\n      </Box>   \n    </Dialog>\n  )\n}\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nconst EnhancedTableToolbar = (props) => {\n  const classes = useToolbarStyles();\n  const [cantidadTo, setCantidadTo] = useState('');\n  const [error, setError] = useState({error:false, mensaje:''});\n \n  const [ openTallas, setOpenTallas] = useState(false);\n  const { product_selected, setproduct_selected, tipoPieza, update } = props;\n   const {\n        setProductosTras,\n        productosTras, \n     \n    } = useContext(TraspasosAlmacenContext);\n\n\n\nconst setValueToTrans =(cantidad_total) =>{\n  try {\n    setError({error:false, mensaje:''})\n   \n    if(cantidad_total === 0 || cantidad_total === '') return;\n   let element = productosTras.find(element => element.product_selected._id === product_selected._id);\n   \n    if(element) {\n //console.log(cantidad_total, element)\n      let totalCantExistMasNuevaCantidad = cantidad_total + element.cantidad_total\n      //SUMA CANTIDAD TOTAL\n      \n      if(props.add){\n        if(product_selected.inventario_general !== undefined){\n          if( !tipoPieza.piezas ){\n            if(totalCantExistMasNuevaCantidad <=  product_selected.inventario_general[0].cantidad_existente_maxima){\n              element.cantidad_total += cantidad_total;\n            }else{\n              setError({error:true, mensaje:'La cantidad ingresada sobrepasa la cantidad existente del producto seleccionado.'})\n            }  \n          }else{\n            if(totalCantExistMasNuevaCantidad <=  product_selected.inventario_general[0].cantidad_existente){\n              element.cantidad_total += cantidad_total;\n            \n            }else{\n              setError({error:true, mensaje:'La cantidad ingresada sobrepasa la cantidad existente del producto seleccionado.'})\n            }\n          }\n        }else{\n          element.cantidad_total += cantidad_total;\n        }\n      }else{\n        element.cantidad_total = cantidad_total;\n      }  \n      return;\n\n\n    }else{\n      //Cuando sea el caso que no hay almacen de origen cambiar los datos que van a ir vacíos\n      //\n     \n      //console.log(props.product_selected.precios)\n      let prodSelect = {\n        _id: props.product_selected._id,\n        datos_generales:  props.product_selected.datos_generales,\n        inventario_general: props.product_selected.inventario_general,\n        unidades_de_venta: props.product_selected.unidades_de_venta,\n        medidas_producto: props.product_selected.medidas_producto,\n      \n        precios: props.product_selected.precios,\n        empresa:props.product_selected.empresa,\n        sucursal:props.product_selected.sucursal,\n        usuario: props.product_selected.usuario\n      } \n    //VERIFICA CANTIDAD MAXIMA\n    if(product_selected.inventario_general !== undefined){\n      if(cantidad_total <=  product_selected.inventario_general[0].cantidad_existente){\n      \n        let obj= {product_selected:prodSelect, new_medidas:[], cantidad_total, unidad_maxima: tipoPieza.cajas};\n        setProductosTras([...productosTras, obj]);\n      }\n      else{\n        setError({error:true, mensaje:'La cantidad ingresada sobrepasa la cantidad existente.'})\n      }\n    }else{\n       let obj= {product_selected:prodSelect, new_medidas:[], cantidad_total, unidad_maxima: tipoPieza.cajas};\n        setProductosTras([...productosTras, obj]);\n    }\n    }\n     return;\n  } catch (error) {\n     //console.log(error)\n  }\n}\n\nconst deleteItem =() =>{\n  try {\n    \n    let prodSet =  [] ;\n    \n   \n    if(productosTras.length){\n      prodSet = productosTras;\n    }\n    \n    setproduct_selected(undefined)\n    //console.log(prodSet.filter(item => item.product_selected._id !== product_selected._id))\n    setProductosTras(prodSet.filter(item => item.product_selected._id !== product_selected._id));\n\n  } catch (error) {\n\n  }\n}\n\nconst editItem =() =>{\n  try {\n    if(product_selected.datos_generales.tipo_producto !== 'OTROS') {\n      setOpenTallas(true);\n      //console.log(props)\n    }\n   \n  } catch (error) {\n\n  }\n}\nuseEffect(() => {\n  try {\n    if(props.add){\n      setOpenTallas(true)\n    }\n    setCantidadTo(props.cant)\n    \n  } catch (error) {\n    \n  }\n  \n}, [product_selected])   \n  \n          \n  function onlyNumbers(value){\n      const onlyNums = value.toString().replace(/[^0-9]/g, '');\n      const intValue = parseInt(onlyNums);\n      try {\n        if(props.almacenOrigen !== null){\n          if( !tipoPieza.piezas  ){\n            if(intValue <= product_selected.inventario_general[0].cantidad_existente_maxima){\n              setCantidadTo(intValue);\n              //console.log(intValue)\n              return;\n            } \n          }else{\n            \n              if(intValue <= product_selected.inventario_general[0].cantidad_existente){\n                setCantidadTo(intValue);\n                return;\n              }\n            }\n          }else{\n            setCantidadTo(intValue);\n            return;\n          }\n      } catch (error) {\n        \n      }\n    \n  }\n\n\n\n  const TipoPiezaComponent = () =>{\n     try {\n      const TIPO_PIEZA = {\n        'Pz' :  {unidad_maxima: null, unidad_minima: 'Pz' },\n        'Caja' : {unidad_maxima: 'Caja', unidad_minima: 'Pz' },\n        'Kg' : {unidad_maxima: null, unidad_minima: 'Kg' },\n        'Costal' : {unidad_maxima: 'Costal', unidad_minima: 'Kg' },\n        'Lt' : {unidad_maxima: null, unidad_minima: 'Lt' }\n      }\n      \n\n    \n      return (\n        <Box flexDirection={'row'} display=\"flex\">\n          <Box flexDirection={'row'}  >\n          <Checkbox checked={tipoPieza.piezas}   color=\"primary\" onChange={() => {update(); setCantidadTo(0)}} disabled={TIPO_PIEZA[product_selected.precios.unidad_de_compra.unidad].unidad_maxima === null} />\n            <Typography color=\"primary\" style={{marginLeft:10}}>{TIPO_PIEZA[product_selected.precios.unidad_de_compra.unidad].unidad_minima}</Typography> \n          </Box>\n    \n          \n        { \n          (TIPO_PIEZA[product_selected.precios.unidad_de_compra.unidad].unidad_maxima !== null) ? \n            <Box flexDirection={'row'} >\n              <Checkbox checked={tipoPieza.cajas} color=\"primary\" onChange={() => {update(); setCantidadTo(0)}}/>\n              <Typography color=\"primary\" style={{marginLeft:10}}>{TIPO_PIEZA[product_selected.precios.unidad_de_compra.unidad].unidad_maxima} </Typography> \n            </Box>\n          :\n            <div/>\n          \n          }\n      \n        </Box>\n      );\n     } catch (error) {\n       \n     }\n    \n    \n  }\n\n  return (\n    <Toolbar\n      className={clsx(classes.root, {\n        [classes.highlight]: product_selected !== undefined,\n      })}\n    \n    >\n    <Grid container>\n      {product_selected !== undefined  ? (\n        <Box style={{width:'100%'}}>\n          <Typography className={classes.title} color=\"inherit\" variant=\"subtitle2\"  >\n            {product_selected.datos_generales.nombre_comercial} \n          </Typography>\n        </Box>\n      ) : (\n        <Typography className={classes.title} variant=\"h6\" id=\"tableTitle\" component=\"div\">\n          {props.title}\n        </Typography>\n      )}\n\n      {(product_selected !== undefined )? (\n      <Box > \n        {\n          (error.error) ?\n          <Typography color=\"inherit\">{error.mensaje}</Typography>\n          :\n          <div/>\n        } \n            {\n            (props.add ) ?\n                (product_selected.datos_generales.tipo_producto === 'OTROS') ? \n                  <Grid container  justifyContent=\"space-evenly\" ml={1}>\n                \n                      {\n                        (props.almacenOrigen === null)?\n                        \n                        <TipoPiezaComponent />\n                        :\n                        <Box flexDirection={'row'} display=\"flex\">\n                          <Box flexDirection={'row'}  >\n                            <Checkbox checked={tipoPieza.piezas}   color=\"primary\" onChange={() => {update(); setCantidadTo(0)}} disabled={props.product_selected.inventario_general[0].cantidad_existente_maxima === null} />\n                            <Typography color=\"primary\" style={{marginLeft:10}}>{props.product_selected.inventario_general[0].unidad_inventario}</Typography> \n                          </Box>\n                          {\n                            (props.product_selected.inventario_general[0].cantidad_existente_maxima !== null ) ?\n                              <Box flexDirection={'row'} >\n                                <Checkbox checked={tipoPieza.cajas} color=\"primary\" onChange={() => {update(); setCantidadTo(0)}}/>\n                                <Typography color=\"primary\" style={{marginLeft:10}}>{\"\" + props.product_selected.inventario_general[0].unidad_maxima} </Typography> \n                              </Box>\n                            :\n                              <div/>\n                          }\n                        </Box>\n                      }\n                        \n                      <Box width=\"180px\" ml={2}>\n                    \n                        <Typography color=\"primary\">Cantidad</Typography>\n                        <TextField\n                            className={classes.inputCantidad}\n                            \n                            size=\"small\"\n                            name=\"cantidad\"\n                            variant=\"outlined\"\n                            type=\"number\"\n                            InputProps={{ inputProps: { min: 0 } }}\n                            value={cantidadTo}\n                            onChange={(value) => onlyNumbers(value.target.value)}\n                            \n                        />\n                      \n                        <Tooltip title=\"Agregar\">\n                            <IconButton aria-label=\"add\" onClick={() => setValueToTrans(cantidadTo)} >\n                                <AddIcon />\n                            </IconButton>\n                        </Tooltip>\n                      </Box>\n                      {\n                        (props.almacenOrigen) ? \n                          <Box  width=\"150px\" >\n                            {\n                              (props.product_selected.inventario_general[0].cantidad_existente_maxima !== null ) ? \n                                <Typography color=\"primary\" style={{flexWrap: \"wrap\"}}>\n                                  {getUnidadMax(props.product_selected.inventario_general[0].cantidad_existente_maxima,props.product_selected.inventario_general[0].unidad_maxima)}\n                                  </Typography>\n                              :\n                              <div/>\n                            }\n                          </Box>\n                        :\n                        <div/>\n                      }\n                    </Grid>\n                   \n                  :    \n                  <div>\n                    <DialogTallas openTallas={openTallas} setOpenTallas={setOpenTallas} setproduct_selected={setproduct_selected}  product_selected={product_selected} almacenOrigen={props.almacenOrigen} obtenerConsultasProducto={props.obtenerConsultasProducto}refetch={props.refetch}/> \n                  </div> \n                :\n                <Grid width={'100%'} container>\n                  { (product_selected.datos_generales.tipo_producto === 'OTROS') ? \n                    <div>\n                     \n                      <Typography color=\"primary\">Cantidad</Typography>\n                      <TextField\n                          className={classes.inputCantidad}\n                          size=\"small\"\n                          name=\"cantidad\"\n                          variant=\"outlined\"\n                          type=\"number\"\n                          InputProps={{ inputProps: { min: 0 } }}\n                          value={cantidadTo}\n                          onChange={(value) => onlyNumbers(value.target.value)}\n                          \n                      />\n                    \n                      <Tooltip title=\"Agregar\">\n                          <IconButton aria-label=\"add\" onClick={() => setValueToTrans(cantidadTo)} >\n                              <AddIcon />\n                          </IconButton>\n                      </Tooltip>\n                    </div>\n                    :\n                    \n                    <DialogTallas openTallas={openTallas} setOpenTallas={setOpenTallas} setproduct_selected={setproduct_selected}  product_selected={product_selected} almacenOrigen={props.almacenOrigen} obtenerConsultasProducto={props.obtenerConsultasProducto}refetch={props.refetch}/> \n                     \n                     \n                  }\n                  <Box mt={3} >\n                  { (product_selected.datos_generales.tipo_producto !== 'OTROS') ? \n                     <Tooltip title=\"Editar\">\n                        <IconButton aria-label=\"delete\" onClick={() => editItem()} >\n                            <EditIcon />\n                        </IconButton>\n                    </Tooltip> \n                    :\n                    <div/>\n                    }\n                    <Tooltip title=\"Eliminar\">\n                        <IconButton aria-label=\"delete\" onClick={() => deleteItem()} >\n                            <DeleteIcon />\n                        </IconButton>\n                    </Tooltip>\n                  </Box>  \n                </Grid>\n            }\n                \n          \n        </Box>\n      ) : (\n        <div/>\n      )}\n      </Grid>\n    </Toolbar>\n  );\n};\n\n// EnhancedTableToolbar.propTypes = {\n//   numSelected: PropTypes.number.isRequired,\n// };\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n   \n    marginLeft:theme.spacing(1),\n    marginRight:theme.spacing(1),\n\n\n  },\n  paper: {\n    width: '100%',\n    marginBottom: theme.spacing(2),\n  },\n  table: {\n    minWidth: 600,\n    maxWidth:600\n   \n  },\n  visuallyHidden: {\n    border: 0,\n    clip: 'rect(0 0 0 0)',\n    height: 1,\n    margin: -1,\n    overflow: 'hidden',\n    padding: 0,\n    position: 'absolute',\n    top: 20,\n    width: 1,\n  },\n}));\n\nexport default function EnhancedTable(props) {\n  const classes = useStyles();\n  const [order, setOrder] = useState('asc');\n  const [orderBy, setOrderBy] = useState('calories');\n  const [selected, setSelected] = useState(undefined);\n  const [cant, setCant] = useState(0);\n  //const [data, setData] = useState([]);\n  const [page, setPage] = React.useState(0);\n  const [rowsPerPage, setRowsPerPage] = useState(5);\n  const [tipoPieza, setTipoPieza] = useState({piezas: true, cajas: false});\n  const sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\n\n\n  const update = () => {\n   setTipoPieza({...tipoPieza, piezas: !tipoPieza.piezas, cajas: !tipoPieza.cajas})\n }\n \n  const {\n        productosTras, productosTo,   productosEmpTo\n    } = useContext(TraspasosAlmacenContext);\n\n  const obtenerConsultasProducto = useQuery(OBTENER_CONSULTAS, {\n    variables: { empresa: sesion.empresa._id, sucursal: sesion.sucursal._id },\n  });\n\n\n  const handleRequestSort = (event, property) => {\n    const isAsc = orderBy === property && order === 'asc';\n    setOrder(isAsc ? 'desc' : 'asc');\n    setOrderBy(property);\n  };\n\n  const handleSelectAllClick = (event) => {\n    if (event.target.checked) {\n      const newSelecteds = data.map((n) => n.name);\n      setSelected(event.target.checked);\n      return;\n    }\n    setSelected([]);\n  };\n  const data = (!props.add) ?  productosTras  : (!props.almacenOrigen) ? productosEmpTo : productosTo  ; \n\n  const handleClick = (event, elemento, cant) => {\n   \n     if((elemento.datos_generales.tipo_producto === 'OTROS')){\n          \n        setCant(props.add ? 0 : cant)\n      }\n\n    \n    if(selected!== undefined){\n      const selectedIndex = selected._id === elemento._id;\n     \n      // let newSelected = [];\n      if(selectedIndex){\n          setSelected(undefined);\n      }else{\n          setSelected(elemento);\n      } \n    }else{\n      //console.log(elemento)\n      setSelected(elemento);\n    }\n   \n    \n  };\n    \n  const handleChangePage = (event, newPage) => {\n    setPage(newPage);\n  };\n\n  const handleChangeRowsPerPage = (event) => {\n    setRowsPerPage(parseInt(event.target.value, 10));\n    setPage(0);\n  };\n\n  const isSelected = (id) => {\n    //return selected.indexOf(name) !== -1;\n    \n    if(selected!== undefined){\n      const selectedIndex = selected._id === id;\n   \n      // let newSelected = [];\n      if(!selectedIndex){\n        return false;\n      }else{\n        return true;\n      } \n    }else{\n      return false;\n    }\n    \n  } \n\n  const emptyRows = rowsPerPage - Math.min(rowsPerPage, data.length - page * rowsPerPage);\n  \n  return (\n    <div className={classes.root}>\n      <Paper className={classes.paper}>\n       \n        <EnhancedTableToolbar product_selected={selected} setproduct_selected={setSelected} title={props.title} add={props.add} almacenOrigen={props.almacenOrigen} productosTras ={productosTras} tipoPieza={tipoPieza} update={update} cant={cant} obtenerConsultasProducto={(obtenerConsultasProducto.data) ? obtenerConsultasProducto.data.obtenerConsultasProducto :[]}refetch={( obtenerConsultasProducto.refetch ) ? obtenerConsultasProducto.refetch : null}  />\n        <TableContainer>\n          <Table\n            className={classes.table}\n            aria-labelledby=\"tableTitle\"\n            size={'medium'}\n            aria-label=\"enhanced table\"\n          >\n            <EnhancedTableHead\n              classes={classes}\n              product_selected={selected}\n              order={order}\n              orderBy={orderBy}\n              handleSelectAllClick={handleSelectAllClick}\n              onRequestSort={handleRequestSort}\n              rowCount={data.length}\n            />\n            <TableBody>\n              {stableSort(data, getComparator(order, orderBy))\n                .slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\n                .map((row, index) => {\n                  const isItemSelected = isSelected((props.add) ? row._id: row.product_selected._id);\n                  const labelId = `enhanced-table-checkbox-${index}`;\n                 \n                  if(props.add){\n                    \n                    if(props.almacenOrigen) {\n                 \n                    return (\n                      <TableRow\n                        hover\n                        onClick={(event) => handleClick(event, row)}\n                        role=\"checkbox\"\n                        aria-checked={isItemSelected}\n                        tabIndex={-1}\n                        key={row._id}\n                        selected={isItemSelected}\n                        \n                      >\n                        <TableCell  id={labelId} scope=\"row\">\n                          {(row.datos_generales.codigo_barras == null)? 'SIN CÓDIGO' : row.datos_generales.codigo_barras}\n                        </TableCell>\n                        <TableCell component=\"th\" id={labelId} scope=\"row\">\n                          {row.datos_generales.nombre_comercial}\n                        </TableCell>\n                        \n                        <TableCell> {row.datos_generales.tipo_producto}</TableCell>\n                        <TableCell > {row.inventario_general[0].cantidad_existente }  {row.inventario_general[0].unidad_inventario} </TableCell>\n                        \n                        \n                      \n                      </TableRow>\n                    );\n                    }else{\n                      return(\n                        <TableRow\n                        hover\n                        onClick={(event) => handleClick(event, row)}\n                        role=\"checkbox\"\n                        aria-checked={isItemSelected}\n                        tabIndex={-1}\n                        key={row._id}\n                        selected={isItemSelected}\n                        \n                      >\n                        <TableCell  id={labelId} scope=\"row\">\n                          {(row.datos_generales.codigo_barras == null)? 'SIN CÓDIGO' : row.datos_generales.codigo_barras}\n                        </TableCell>\n                        <TableCell component=\"th\" id={labelId} scope=\"row\">\n                          {row.datos_generales.nombre_comercial}\n                        </TableCell>\n                        <TableCell align=\"right\"> {row.datos_generales.tipo_producto}</TableCell>\n                        <TableCell align=\"right\"> N/A</TableCell>\n                      </TableRow>\n                      );\n                    }\n                  }else{\n                    \n                    return(\n                    <TableRow\n                      hover\n                      onClick={(event) => handleClick(event, row.product_selected, row.cantidad_total)}\n                      role=\"checkbox\"\n                      aria-checked={isItemSelected}\n                      tabIndex={-1}\n                      key={row._id}\n                      selected={isItemSelected}\n                      \n                    >\n                      <TableCell  id={labelId} scope=\"row\">\n                        {(row.product_selected.datos_generales.codigo_barras == null)? 'SIN CÓDIGO' : row.product_selected.datos_generales.codigo_barras}\n                      </TableCell>\n                      <TableCell component=\"th\" id={labelId} scope=\"row\">\n                        {row.product_selected.datos_generales.nombre_comercial}\n                      </TableCell>\n                      <TableCell align=\"right\"> {row.product_selected.datos_generales.tipo_producto}</TableCell>\n                      <TableCell align=\"right\"> {row.cantidad_total}</TableCell> \n                     \n                    </TableRow>\n                    )\n                  }\n                })}\n              {emptyRows > 0 && (\n                <TableRow style={{ height: 53 * emptyRows }}>\n                  <TableCell colSpan={6} />\n                </TableRow>\n              )}\n            </TableBody>\n          </Table>\n        </TableContainer>\n        <TablePagination\n          rowsPerPageOptions={[5, 10, 25]}\n          component=\"div\"\n          count={data.length}\n          rowsPerPage={rowsPerPage}\n          page={page}\n          onPageChange={handleChangePage}\n          labelRowsPerPage={\"\"}\n          // onRowsPerPageChange={handleChangeRowsPerPage}\n        />\n       \n      </Paper>\n      \n    </div>\n  );\n}","import React, { forwardRef, useEffect, useContext, useState,useCallback } from 'react';\nimport { AppBar, Toolbar, Typography, IconButton, Slide,\n         Button, Box, Dialog, Grid, DialogActions, TextField,Divider,\n         InputLabel, Select, Input, MenuItem, FormControl, useTheme, OutlinedInput, InputAdornment,\n         Stepper, Step, StepLabel, DialogTitle } from '@material-ui/core';\nimport { Search } from \"@material-ui/icons\";\nimport { makeStyles } from '@material-ui/core/styles';\nimport moment from 'moment';\nimport 'moment/locale/es';\nimport { useDebounce } from 'use-debounce';\nimport BackdropComponent from '../../../../components/Layouts/BackDrop';\nimport {Close} from '@material-ui/icons';\n//import ErrorPage from '../../../../components/ErrorPage';\nimport SnackBarMessages from '../../../../components/SnackBarMessages';\n\nimport { FcAdvance } from 'react-icons/fc';\nimport almacenIcon from '../../../../icons/almacen.svg';\nimport TableSelectProducts from '../../../../components/Traspasos/TableSelectProducts';\n\nimport { useQuery, useMutation } from '@apollo/client';\nimport { OBTENER_CONCEPTOS_ALMACEN} from '../../../../gql/Catalogos/conceptosAlmacen';\nimport { OBTENER_ALMACENES, REALIZAR_TRASPASO, OBTENER_CATEGORIAS, OBTENER_PRODUCTOS_EMPRESA} from '../../../../gql/Almacenes/Almacen';\n\nimport { OBTENER_PRODUCTOS } from \"../../../../gql/Catalogos/productos\";\n\n\nimport { TraspasosAlmacenContext } from \"../../../../context/Almacenes/traspasosAlmacen\";\n\nconst useStyles = makeStyles((theme) => ({\n\tappBar: {\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n    icon: {\n\t\tfontSize: 50\n\t},\n    imagen: {\n        width: 50\n    },\n    formInputFlex: {\n\t\tdisplay: 'flex',\n\t\t'& > *': {\n\t\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(1)}px`\n\t\t},\n\t\t'& span': {\n\t\t\tcolor: 'red'\n\t\t}\n\t},\n    subtitle: {\n\t\tmarginLeft: '10px',\n\t\twidth:'50%',\n     \n\t},\n    boxUpData:{\n        height: 80,\n\n    },\n    formControl: {\n        margin: theme.spacing(1),\n        minWidth: 300,\n        maxWidth: 300,\n    },\n    selected2:{\n\t\twidth: '50%',\n\t\theight: 50,\n\t\t\n    },\n    selected:{\n\t\twidth: '50%',\n\t\theight: 50,\n\t\t\n    },\n    input:{\n\t\twidth:'100%'\t\n\t},\n    inputBox:{\n\t\tmargin:20,\n        marginTop:5,\n        marginBottom:10,\n       \n\t},\n    button:{\n\t\tmargin: theme.spacing(3),\n        marginTop: theme.spacing(2),\n        marginBottom: theme.spacing(0)\n\t},\n    boxControl: {\n        margin: theme.spacing(2.5),\n\t\tmarginTop: 0,\n        minWidth: \"20%\",\n        maxWidth: \"20%\",\n        minHeight: 20,\n      \n    },\n    centerControl:{\n        marginTop:10,\n      \n    },\n  \n}));\n\n\nfunction getStyles(almacen, almacenName, theme) {\n  return {\n    fontWeight:\n      almacenName.indexOf(almacen) === -1\n        ? theme.typography.fontWeightRegular\n        : theme.typography.fontWeightMedium,\n  };\n}\n\nconst Transition = forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nconst ITEM_HEIGHT = 200;\nconst ITEM_PADDING_TOP = 8;\nconst MenuProps = {\n  PaperProps: {\n    style: {\n      maxHeight: ITEM_HEIGHT * 4.5 + ITEM_PADDING_TOP,\n      width: 400,\n    },\n  },\n};\n\nconst transportes = [\n    'Barco',\n    'Moto',\n    'Carro',\n    'Camioneta'\n];\n\n/* function createData(name, cantidad, precio, unidad) {\n    return { name, cantidad, precio, unidad };\n}  */\n\n\nconst steps = ['Datos traspaso', 'Seleccionar productos'];\n\nexport default function Traspasos() {\n    const classes = useStyles();\n    const theme = useTheme();\n    const sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n    const {\n        setProductos,\n        setProductosTras,\n        setProductosTo,\n        setProductosEmpTo,\n        productosTras\n    } = useContext(TraspasosAlmacenContext);\n    const [ alert, setAlert ] = useState({ message: '', status: '', open: false });\n\tconst [ open, setOpen ] = useState(false);\n    const [ loading, setLoading ] = useState(false);\n    const [ filtro, setFiltro ] = useState('');\n\tconst [value] = useDebounce(filtro, 1000);\n\n    const [ haveConcepto, setHaveConcepto ] = useState(false);\n    const [ conceptoTraspaso, setConceptoTraspaso ] = useState(null);\n    const [ isAlmacenOrigen, setIsAlmacenOrigen ] = useState(false);\n    const [ isAlmacenDestino, setIsAlmacenDestino ] = useState(false);\n\n    const [ almacenOrigen, setAlmacenOrigen ] = useState(null);\n    const [ almacenDestino, setAlmacenDestino ] = useState(null);\n    const [almacenesDestino, setAlmacenesDestino] =useState([])\n    const [ transporte, setTransporte ] = useState('');\n    const [ placas, setPlacas ] = useState('');\n    const [ nombreQuien, setNombreQuien ] = useState('');\n  \n    const [activeStep, setActiveStep] = useState(0);\n    const [skipped, setSkipped] = useState(new Set());\n    const [openEnd, setOpenEnd] = useState(false);\n \n    const [ CrearTraspaso ] = useMutation(REALIZAR_TRASPASO); \n\n    let conceptos= [];\n    let almacenes = [];\n \n    const queryObtenerAlmacenes = useQuery(OBTENER_ALMACENES,{\n        variables: {\n            id: sesion.sucursal._id\n        },\n         fetchPolicy: \"network-only\"\n    });\t\n   /*  const productosAlmacenQuery = useQuery(OBTENER_PRODUCTOS_ALMACEN,{\n\t\tvariables: {\n            empresa: sesion.empresa._id,\n\t\t\tsucursal: sesion.sucursal._id,\n\t\t\tfiltro: value\n\t\t}\n\t});\t */\n\tconst dataConceptos = useQuery(OBTENER_CONCEPTOS_ALMACEN,{\n\t\tvariables: {\n\t\t\tempresa: sesion.empresa._id,\n\t\t\tsucursal: sesion.sucursal._id\n\t\t},\n         fetchPolicy: \"network-only\"\n\t});\n   \n    const categoriasQuery = useQuery(OBTENER_CATEGORIAS,{\n\t\tvariables: {\n            empresa: sesion.empresa._id,\n\t\t\tsucursal: sesion.sucursal._id,\t\n\t\t},\n        fetchPolicy: \"network-only\"\n\t});\n\n    const productosQuery = useQuery(\n    OBTENER_PRODUCTOS,\n    {\n      variables: { \n          empresa: sesion.empresa._id, \n          sucursal: sesion.sucursal._id,\n          filtro: value,\n          almacen: (almacenOrigen ) ? almacenOrigen._id : \"\",\n          existencias: true\n      },\n      fetchPolicy: \"network-only\"\n\n    }\n  );\n\n    const productosEmpresaQuery = useQuery(\n    OBTENER_PRODUCTOS_EMPRESA,\n    {\n        variables: { \n          empresa: sesion.empresa._id, \n          filtro: value,\n        },\n        fetchPolicy: \"network-only\"\n     }\n  );\n    \n    const obtenerAlmacenes= () =>{\n        try {\n            setAlmacenesDestino(queryObtenerAlmacenes.data.obtenerAlmacenes.filter(element => element._id !== almacenOrigen._id));\n        } catch (error) {\n           console.log(error)\n        }   \n    };\n\n    useEffect(() => {\n        if(almacenOrigen){\n            obtenerAlmacenes();\n            obtenerProductosAlmacen();\n        }\n    }, [almacenOrigen, obtenerAlmacenes ])\n\n\n    const obtenerProductosEmpresa = useCallback(async () =>{\n        try {\n             productosEmpresaQuery.refetch();\n        } catch (error) {\n            console.log('errorObtenerProductosEmpresa',error)\n        }   \n      },[productosEmpresaQuery]);\n\n    const obtenerProductosAlmacen = useCallback(async() =>{\n        try {\n           productosQuery.refetch();\n        } catch (error) {\n            \n        }   \n    },[productosQuery]);\n\n    useEffect(() => {\n        try {\n            if(conceptoTraspaso!== null){\n                if(conceptoTraspaso.origen === 'N/A'){\n                    obtenerProductosEmpresa();\n                } else{\n                    obtenerProductosAlmacen();\n                }      \n            }\n        } catch (error) {\n            console.log('conceptoTraspaso', error)\n        }\n       \n    }, [conceptoTraspaso])    \n\n /*    useEffect(() => {\n\t\t\tdataConceptos.refetch();\n\t},[ dataConceptos ]);  */\n\n     useEffect(() => {\n        if(conceptoTraspaso !== null){\n            if(conceptoTraspaso.destino === 'N/A'){\n                if(almacenOrigen !== null){\n                    setHaveConcepto(true)\n                }else{\n                     setHaveConcepto(false)\n                }\n            \n            }else{\n                if(conceptoTraspaso.origen === 'N/A'){\n                    if(almacenDestino !== null){\n                        setHaveConcepto(true);\n                    }else{\n                        setHaveConcepto(false);\n                    } \n                }else{\n                    if(almacenOrigen !== null && almacenDestino !== null){\n                        setHaveConcepto(true);\n                    }else{\n                        setHaveConcepto(false);\n                    } \n                }\n                \n            }    \n        }\n       \n\t},[ conceptoTraspaso, almacenOrigen, almacenDestino, setHaveConcepto ]); \n\n    \n\n     \n    useEffect(\n\t\t() => {\n             \n\t\t\t if(productosEmpresaQuery.data){\n             \n                //setProductos(productosEmpresaQuery.data.obtenerProductosPorEmpresa);\n                //console.log(productosEmpresaQuery.data)\n                setProductosEmpTo(productosEmpresaQuery.data.obtenerProductosPorEmpresa);\n            }\n    },[ productosEmpresaQuery.data, setProductosEmpTo ]);  \n\n\n     useEffect(\n        \n\t\t() => {\n            \n            if(productosQuery.data ){\n               \n                setProductos(productosQuery.data.obtenerProductos);\n                setProductosTo(productosQuery.data.obtenerProductos)\n            \n                return;\n            }\n           \n\t\t},\n\t\t[ productosQuery, setProductos, setProductosTo ]\n\t); \n    \n    useEffect(\n\t\t() => {\n\t\t\tsetLoading(true);\n\t\t\tcategoriasQuery.refetch();\n\t\t\tsetLoading(false);\n\t\t},\n\t\t[ categoriasQuery ]\n\t); \n  \n\n\tconst handleClickOpen = () => {\n\t\tsetOpen(true);\n\t};\n\n\tconst handleClose = () => {\n\t\tsetOpen(false);\n\t};\n\n     const handleChange = (event) => {\n        setAlmacenOrigen(event.target.value);\n       /*   productosQuery.refetch({\n            variables: { \n            \n                almacen: event.target.value._id,\n                existencias: true\n            },\n        });  */\n        setProductosTras([]);\n        return;\n    };\n\n    const handleChangeDestino = (event) => {\n        //console.log(event)\n        setAlmacenDestino(event.target.value);\n        setProductosTras([]);\n    };\n\n     const handleChangeConcepto = (event) => {\n        try {\n            \n            let concepto = event.target.value;  \n            setAlmacenesDestino([]);\n            almacenes = [];\n            setAlmacenOrigen(null); \n            setAlmacenDestino(null);\n            if(concepto.origen === 'N/A'){\n               \n                \n                setAlmacenesDestino( queryObtenerAlmacenes.data.obtenerAlmacenes)\n            }else{\n                  setAlmacenesDestino([])\n            }\n          \n            setIsAlmacenOrigen((concepto.origen === 'N/A') ? false:true);\n            setIsAlmacenDestino((concepto.destino === 'N/A') ? false:true);\n           \n            setConceptoTraspaso(concepto);    \n        } catch (error) {\n            //console.log(error)\n        }\n      \n    };\n    \n      const handleChangeTransporte = (event) => {\n        setTransporte(event.target.value);\n    };\n\n    const isStepOptional = (step) => {\n        return step === 1;\n    };\n\n    const isStepSkipped = (step) => {\n        return skipped.has(step);\n    };\n\n    const handleNext = () => {\n        /* if(conceptoTraspaso === null ) {setAlert({message:'No es posible continuar sin seleccionar un concepto.', status: 'error', open: true });  return}\n        if( isAlmacenOrigen && almacenOrigen === null)  {setAlert({message:'No es posible continuar sin seleccionar un almacén origen.', status: 'error', open: true });  return }   \n        if(isAlmacenDestino && almacenDestino === null) { setAlert({message:'No es posible continuar sin seleccionar un almacén destino.', status: 'error', open: true }); return}    */\n        \n        let newSkipped = skipped;\n        if (isStepSkipped(activeStep)) {\n            newSkipped = new Set(newSkipped.values());\n            newSkipped.delete(activeStep);\n        }\n\n        setActiveStep((prevActiveStep) => prevActiveStep + 1);\n        setSkipped(newSkipped);\n        \n    };\n\n    const handleBack = () => {\n        \n        setActiveStep((prevActiveStep) => prevActiveStep - 1);\n    };\n\n    /* const handleSkip = () => {\n        if (!isStepOptional(activeStep)) {\n        // You probably want to guard against something like this,\n        // it should never occur unless someone's actively trying to break something.\n        throw new Error(\"You can't skip a step that isn't optional.\");\n        }\n\n        setActiveStep((prevActiveStep) => prevActiveStep + 1);\n        setSkipped((prevSkipped) => {\n        const newSkipped = new Set(prevSkipped.values());\n        newSkipped.add(activeStep);\n        return newSkipped;\n        });\n    };\n\n    const handleReset = () => {\n        setActiveStep(0);\n    }; */\n\n\n   /*  if(categoriasQuery.data){\n\t\tcategorias = categoriasQuery.data.obtenerCategorias;\n\t}  */\n   \n    if(dataConceptos.data){\n\t\tconceptos = dataConceptos.data.obtenerConceptosAlmacen;\n\t}\n\n    if(queryObtenerAlmacenes.data){\n        almacenes = queryObtenerAlmacenes.data.obtenerAlmacenes;\n       \n    }\n\n   \n   \n   /*  const filtrarProductos = (event) => {\n        event.preventDefault();\n        if(almacenOrigen !== ''){\n            productosQuery.refetch();\n        }else{\n            productosEmpresaQuery.refetch();\n        }\n    }; */\n\n    const handleModal = () => {\n        setOpenEnd(!openEnd)\n    }\n\n    const traspasar = async () => {\n        try {\n          \n            if(productosTras.length){\n               setOpenEnd(false)\n               setLoading(true)\n                //let productTrasTo = productosTras;\n             const input =  {\n                variables: {\n                    input: {\n                        concepto_traspaso: {\n                            _id: conceptoTraspaso._id, \n                            nombre_concepto: conceptoTraspaso.nombre_concepto,\n                            destino: conceptoTraspaso.destino,\n                            origen: conceptoTraspaso.origen,\n                            editable: conceptoTraspaso.editable,\n                        },\n                        almacen_origen: (almacenOrigen !== null) ? almacenOrigen._id : '',\n                        almacen_destino: (almacenDestino !== null) ? almacenDestino._id : '',\n                        productos: productosTras,\n                        datos_transporte :{\n                            transporte: transporte,\n                            placas: placas,\n                            nombre_encargado: nombreQuien\n                        },\n                        sucursalOrigen: sesion.sucursal._id,\n                        sucursalDestino: sesion.sucursal._id,\n                        fecha_registro: moment().locale(\"es-mx\").format()\n                    },\n                    usuario: sesion._id,\n                    empresa: sesion.empresa._id\n                }\n            }  \n            \n             const traspaso =    await CrearTraspaso(input) \n           \n                //console.log(traspaso)\n                setAlert({message: traspaso.data.crearTraspaso.message, status: traspaso.data.crearTraspaso.resp, open: true })\n                if(traspaso.data.crearTraspaso.resp !== 'error'){\n                    setProductosTras([]);\n                    setAlmacenOrigen(null);\n                    setAlmacenDestino(null);\n                    setConceptoTraspaso(null);\n                    handleBack();\n                }\n                \n            }else{\n                \n                setAlert({message:'No es posible realizar un traspaso sin agregar productos.', status: 'error', open: true })\n           \n            }\n            \n           \n           \n            setLoading(false);\n        } catch (error) {\n             setLoading(false);\n             setOpenEnd(false)\n           if(error.networkError !== undefined){\n\t\t\t  console.log('traspaso networkError', error.networkError)\n            }else if(error.graphQLErrors!== undefined){\n                console.log('traspaso graphQLErrors', error.graphQLErrors)\n            }else{\n             \n              \n            }\n             setAlert({message: 'Ocurrió un error al realizar el traspaso...', status: 'error', open: true })\n        }\n    }\n\n   \n\n    return (\n        <>\n        <Box sx={{ width: '100%' }}>\n            <Button fullWidth onClick={handleClickOpen}>\n                <Box display=\"flex\" flexDirection=\"column\">\n                    <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n                        <FcAdvance className={classes.icon} />\n\t\t\t\t\t</Box>\n                    <Grid container spacing={10} justify=\"center\" >\n                        <Grid item lg={2} >\n                            <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n                                    <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n                                        <img src={almacenIcon} alt=\"icono almacen\" className={classes.imagen}/>\n                                    </Box>\n                            </Box>\n                        </Grid>\n                        <Grid item lg={2} >\n                            <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n                                <Box display=\"flex\" flexDirection=\"column\">\n                                    <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n                                        <img src={almacenIcon} alt=\"icono almacen\" className={classes.imagen} />\n                                    </Box>\n                                </Box>\n                            </Box>\n                        </Grid>\n                    </Grid>\n                    Traspasos\n                </Box>\n\t\t\t\t\t\n\t\t\t</Button>\n\t\t\t<Dialog fullScreen open={open} onClose={handleClose} TransitionComponent={Transition}>\n                <BackdropComponent loading={loading} setLoading={setLoading} />\n                <AppBar className={classes.appBar}>\n               \n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t<Typography variant=\"h6\" className={classes.title}>\n                                Traspasos\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Box mx={3}>\n                            <Box m={1}>\n                                <Button  variant=\"contained\" color=\"secondary\"onClick={handleClose}>\n                                    <Close style={{ fontSize: 30}}/>\n                                </Button>\n                            </Box>\n                        </Box>\n                        <IconButton edge=\"start\" color=\"inherit\" onClick={handleClose} aria-label=\"close\">\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</AppBar>\n                <Box style={{ width: '50%',alignSelf:'center' }}>\n                  \n                    <Stepper activeStep={activeStep}>\n                        {steps.map((label, index) => {\n                        const stepProps = {};\n                        const labelProps = {};\n                    \n                        if (isStepSkipped(index)) {\n                            stepProps.completed = false;\n                        }\n                        return (\n                            <Step key={label} {...stepProps}>\n                            <StepLabel {...labelProps}>{label}</StepLabel>\n                            </Step>\n                        );\n                        })}\n                    </Stepper>\n                </Box>\n                <Box >\n                {\n                (activeStep === 0) ? \n                    <Grid container  justify=\"center\" >\n                        <Grid item lg={6}>\n                            <Box>\n                                <Box >\n                                    <Typography className={classes.subtitle}  >\n                                        <b>Datos traspaso</b>\n                                    </Typography>\n                                    <Divider />\n                                \n                                    <Box mt={2} style={{display: 'flex', width:'100%', justifyContent: 'center'}}>\n                                        <Box m={3}>\n                                            <Typography><b>Usuario</b></Typography>\n                                            <Typography> {sesion.nombre} </Typography>\n                                        </Box>\n                                        <Box m={3}>\n                                            <Typography><b>Sucursal</b></Typography>\n                                            <Typography> {sesion.sucursal.nombre_sucursal} </Typography>\n                                        </Box>\n                                        <Box m={3}>\n                                            <Typography><b>Fecha</b></Typography>\n                                            <Typography> \t{moment().format('MM/DD/YYYY')} </Typography>\n                                        </Box>\n                                    \n                                    </Box>\n                                    <Box m={2}   style={{width:'100%', justifyContent: 'center'}}>\n                                        <Box style={{width:'100%'}}>\n                                            <FormControl className={classes.formControl}>\n                                                <InputLabel id=\"concepto-label\">Concepto traspaso</InputLabel>\n                                                <Select\n                                                labelId=\"concepto-label\"\n                                                id=\"concepto-name\"\n                                                value={(conceptoTraspaso) ? conceptoTraspaso : \"\"}\n                                                onChange={handleChangeConcepto}\n                                                input={<Input />}\n                                                MenuProps={MenuProps}\n                                                >\n                                                {conceptos.map((concepto) => {\n                                                \n                                                    return(\n                                                    <MenuItem key={concepto._id} value={concepto} >\n                                                        {concepto.nombre_concepto}\n                                                    </MenuItem>\n                                                    )})\n                                                }\n                                                </Select>\n                                            </FormControl>\n                                        </Box>\n                                    {\n                                        (conceptoTraspaso !== null) ? \n                                        <Box style={{display: 'flex'}}>\n                                            {   \n                                                \n                                                (isAlmacenOrigen) ?\n                                                <Box> \n                                                    <FormControl className={classes.formControl}>\n                                                        <InputLabel id=\"almacen-origen-label\">Almacén origen</InputLabel>\n                                                        <Select\n                                                        labelId=\"almacen-origen-label\"\n                                                        id=\"almacen-origen-name\"\n                                                        value={(almacenOrigen) ? almacenOrigen : \"\"}\n                                                        onChange={handleChange}\n                                                        input={<Input />}\n                                                        MenuProps={MenuProps}\n                                                        >\n                                                        {almacenes.map((almacen) => (\n                                                            <MenuItem key={almacen._id} value={almacen}>\n                                                                {almacen.nombre_almacen}\n                                                            </MenuItem>\n                                                        ))}\n                                                        </Select>\n                                                    </FormControl>\n                                                </Box>\n                                                :\n                                                <></>\n                                            }\n                                            \n                                            {\n                                                (isAlmacenDestino) ? \n                                                <FormControl className={classes.formControl}>\n                                                    <InputLabel id=\"almacen-destino-label\">Almacén destino</InputLabel>\n                                                    <Select\n                                                    labelId=\"almacen-destino-label\"\n                                                    id=\"almacen-destino-name\"\n                                                    value={(almacenDestino) ? almacenDestino : \"\"}\n\n                                                    onChange={handleChangeDestino}\n                                                    input={<Input />}\n                                                    MenuProps={MenuProps}\n                                                    >\n                                                    {almacenesDestino.map((almacen) => (\n                                                        <MenuItem key={almacen._id} value={almacen} >\n                                                        {almacen.nombre_almacen}\n                                                        </MenuItem>\n                                                    ))}\n                                                    </Select>\n                                                </FormControl>\n\n                                                :\n                                                <></>\n                                            }\n                                           \n                                        </Box> \n                                        :\n                                        <></>\n                                        \n                                    } \n                                    \n                                    </Box>   \n                                </Box>      \n                                <Box className={classes.centerControl}   style={{width:'100%'}} >\n                                    <Typography className={classes.subtitle}>\n                                        <b>Datos transporte traspaso</b>\n                                    </Typography>\n                                    <Divider />\n                                \n                                    <Grid  justify=\"center\" >\n                                        \n                                        <FormControl className={classes.formControl} style={{marginTop:15}}>\n                                            \n                                            <InputLabel id=\"transporte-label\">Transporte</InputLabel>\n                                            <Select\n                                            labelId=\"transporte-label\"\n                                            id=\"transporte-name\"\n                                            value={transporte}\n                                            onChange={handleChangeTransporte}\n                                            input={<Input />}\n                                            \n                                            MenuProps={MenuProps}\n                                            >\n                                            {transportes.map((trans) => (\n                                                <MenuItem key={trans} value={trans} style={getStyles(trans, transporte, theme)}>\n                                                {trans}\n                                                </MenuItem>\n                                            ))}\n                                            </Select>\n                                            \n                                        </FormControl>\n                                        <Box  justify=\"center\" >\n                                        <FormControl className={classes.formControl}>\n                                        \n                                            <Typography>\n                                                Placas\n                                            </Typography>\n                                            <TextField\n                                                fullWidth\n                                                className={classes.input}\n                                                type=\"text\"\n                                                size=\"small\"\n                                                name=\"placas\"\n                                                variant=\"outlined\"\n                                                value={placas.toUpperCase()}\n                                                \n                                                onChange={(e) => setPlacas(e.target.value)}\n                                            />\n                                        \n                                        </FormControl>\n                                        <FormControl className={classes.formControl}>\n                                        \n                                            <Typography>\n                                                Nombre de encargado de transporte\n                                            </Typography>\n                                            <TextField\n                                                fullWidth\n                                                className={classes.input}\n                                                type=\"text\"\n                                                size=\"small\"\n                                                name=\"nombreQuien\"\n                                                variant=\"outlined\"\n                                                value={nombreQuien}\n                                                \n                                                onChange={(e) => setNombreQuien(e.target.value)}\n                                            />\n                                        </FormControl>\n                                        </Box>\n                                    </Grid>\n                                </Box>\n                            </Box>\n                        </Grid>\n                    </Grid>\n                :\n                    <Box>\n                        <Box style={{width:'100%'}} ml={1} >\n                            <Typography className={classes.subtitle}>\n                                <b>Buscar producto</b>\n                            </Typography>\n                            <Box style={{ width: \"500px\" }}>\n                                \n                                    <FormControl variant=\"outlined\" fullWidth size=\"small\">\n                                    <OutlinedInput\n                                        id=\"search-producto\"\n                                        type=\"text\"\n                                        value={filtro}\n                                        onChange={(e) => setFiltro(e.target.value)}\n                                        endAdornment={\n                                        <InputAdornment position=\"start\">\n                                            <IconButton\n                                            type=\"submit\"\n                                            aria-label=\"search producto\"\n                                            edge=\"end\"\n                                            >\n                                            <Search />\n                                            </IconButton>\n                                        </InputAdornment>\n                                        }\n                                    />\n                                    </FormControl>\n                                    \n                                \n                            </Box>\n                    \n                            <Box  mt={2}>\n                                <Grid container spacing={2} style={{width:'100%'}}>\n                                    <Grid item md={6}>\n                                    {\n                                        (isAlmacenOrigen) ? \n                                    \n                                        <TableSelectProducts title='Productos' add={true} almacenOrigen={almacenOrigen} />\n                                        :\n                                        <TableSelectProducts title='Productos' add={true} almacenOrigen={null} />   \n                                    }\n                                    </Grid>\n                                    <Grid item md={6}>\n                                        <TableSelectProducts title='Productos a traspasar' add={false} almacenOrigen={almacenOrigen}  />\n                                    </Grid>\n                                </Grid>\n                            </Box>\n                        </Box>\n                    </Box>\n                }\n                \n                \n                <Box style={{ display: 'flex', flexDirection: 'row', pt: 2 }} >\n                            <Button\n                            color=\"inherit\"\n                            disabled={activeStep === 0}\n                            onClick={handleBack}\n                            sx={{ mr: 1 }}\n                            >\n                            Atrás\n                            </Button>\n                            <Box style={{ flex: '1 1 auto' }} />\n                            {/*     {isStepOptional(activeStep) && (\n                                <Button color=\"inherit\" onClick={handleSkip} sx={{ mr: 1 }}>\n                                    Skip\n                                </Button>\n                                )} */}\n                            \n                                <Button disabled={!haveConcepto} onClick={() => (activeStep < steps.length -1) ? handleNext() : handleModal()}>\n                                    {activeStep < steps.length -1   ? 'Siguiente' : 'Terminar'}\n                                </Button>\n                        \n                        </Box>\n                </Box>\n                <Dialog open={openEnd} onClose={handleModal}>\n                    <DialogTitle>{'¿Está seguro de realizar este traspaso?'}</DialogTitle>\n                    <DialogActions>\n                        <Button onClick={() => handleModal()} color=\"primary\">\n                            Cancelar\n                        </Button>\n                        <Button color=\"secondary\" autoFocus variant=\"contained\" onClick={() => traspasar()}>\n                            Traspasar\n                        </Button>\n                    </DialogActions>\n                </Dialog>\n               \n\t        <SnackBarMessages alert={alert} setAlert={setAlert} />  \n            \n\t\t\t</Dialog>\n            \n               \n        </Box>\n        </>\n    )\n}\n","import React, { Fragment } from 'react';\nimport DescriptionOutlinedIcon from '@material-ui/icons/DescriptionOutlined';\n\nimport ReactExport from 'react-export-excel'; //LIBRERIA EXCEL\nimport { withRouter } from 'react-router-dom';\nimport { Grid, Button } from '@material-ui/core';\nconst ExcelFile = ReactExport.ExcelFile; //ARCHIVO DE EXCEL\nconst ExcelSheet = ReactExport.ExcelSheet; //HOJA DE EXCEL\nconst ExcelColumn = ReactExport.ExcelColumn; //COLUMNA DE EXCEL\n\n//Este componente requiere el ArrayData, ArrayColumn, fileName\nfunction ExportarExcel(props) {\n\treturn (\n\t\t<Fragment>\n            <Grid>\n                <Grid item>\n                <ExcelFile\n\t\t\t\t\telement={\n\t\t\t\t\t\t<Button size=\"large\" color=\"primary\" variant=\"contained\" startIcon={<DescriptionOutlinedIcon />}>\n\t\t\t\t\t\t\tExportar Excel\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t}\n\t\t\t\t\tfilename={props.fileName}\n\t\t\t\t>\n\t\t\t\t\t<ExcelSheet data={props.data} name={props.fileName}>\n                        {props.columnName.map((element) => {\n                            return(\n                                <ExcelColumn label={element.label} value={element.id} />\n                            )\n                        }\n                        )}\n\t\t\t\t\t\n\t\t\t\t\t</ExcelSheet>\n\t\t\t\t</ExcelFile>\n                </Grid>\n            </Grid>\n\t\t</Fragment>\n\t);\n}\n\nexport default withRouter(ExportarExcel);","import React, {useEffect} from 'react';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Box, CircularProgress } from '@material-ui/core/';\nimport Paper from '@material-ui/core/Paper';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TablePagination from '@material-ui/core/TablePagination';\nimport TableRow from '@material-ui/core/TableRow';\nimport ErrorPage from '../../../../components/ErrorPage'\nimport ExportarExcel from '../../../../components/ExportExcel'\nimport { useQuery } from '@apollo/client';\nimport { OBTENER_ALMACENES } from '../../../../gql/Almacenes/Almacen';\n\nconst useStyles = makeStyles({\n\troot: {\n\t\twidth: '100%'\n\t},\n\tcontainer: {\n\t\tmaxHeight: '70vh'\n\t}\n});\n\nexport default function ListaAlmacenes(props) {\n\tconst classes = useStyles();\n\t\n\tconst [ page, setPage ] = React.useState(0);\n\tconst [ rowsPerPage, setRowsPerPage ] = React.useState(10);\n\tconst sesion = JSON.parse(localStorage.getItem('sesionCafi'));\t\n\t// const almacenesColumnas = [];\n\t// const productosRows = [];\n\t\t/* Queries */\n\tconst { loading, error, refetch } = useQuery(OBTENER_ALMACENES,{\n\t\tvariables: {\n\t\t\tid: sesion.sucursal._id\n\t\t}\n\t});\t\n    const dataExcel = [];\n\tconst columns = [\n\t\t{ id: 'codigo_barras', label: 'Código de barras', minWidth: 60 , widthPx: 160, },\n\t\t//{ id: 'claveAlt', label: 'Clave alterna', minWidth: 100 },\n\t\t//{ id: 'tipoProd', label: 'Tipo producto', minWidth: 100 },\n\t\t{ id: 'nombre_comercial', label: 'Nombre comercial', minWidth: 170, widthPx: 160, },\n\t\t//{ id: 'nombregen', label: 'Nombre génerico', minWidth: 170 },\n\t\t//{ id: 'categoria', label: 'Categoría', minWidth: 100 },\n\t\t//{ id: 'subCategoria', label: 'Sub Categoría', minWidth: 100 },\n\t\t//{ id: 'marca', label: 'Marca', minWidth: 100 },\n\t\t//{ id: 'recetaFarm', label: 'Receta farmacia ', minWidth: 100 }\n\t];\n\n\tuseEffect(\n\t\t() => {\n\t\t\trefetch();\n\t\t},\n\t\t[ refetch ]\n\t);\n\t\n\tif(props.obtenerAlmacenes){\n\t\t// let existencias= []; \n\t\tprops.obtenerAlmacenes.forEach(element => {\n\t\t\tcolumns.push({ id: element._id, label: element.nombre_almacen, minWidth: 60, widthPx: 160,})\n\t\t\t\n\t\t}); \n\t\tcolumns.push({ id: 'total', label: 'Total existencias', minWidth: 60, widthPx: 160,})\n\t}\n\t\n\tconst Rowrow = ({producto}) => {\n\t\tlet arrayCantidades=[];\n\t\tlet row={'codigo_barras' : producto.datos_generales.codigo_barras, \"nombre_comercial\":producto.datos_generales.nombre_comercial, style: {\n                     font: { sz: '12' },\n                     alignment: { wrapText: true, horizontal: 'center', vertical: 'top' },\n                     border: { bottom: { style: 'thin', color: { rgb: '000000' } } \n                    }}};\n\t\tlet total=0;\n\t\n\t\tprops.obtenerAlmacenes.forEach((almacenColumna) => {\n\t\t\tconst existencias =\tproducto.existencia_almacenes.filter((existencia) => existencia._id.almacen._id === almacenColumna._id)\n\t\t\tif(existencias.length > 0){\n\t\t\t\tarrayCantidades.push(existencias[0].cantidad_existente)\n\t\t\t\trow = {...row, [almacenColumna._id]: existencias[0].cantidad_existente };\n\t\t\t\ttotal += existencias[0].cantidad_existente;\n\t\t\t}else{\n\t\t\t\tarrayCantidades.push(0);\n\t\t\t\trow = {...row, [almacenColumna._id]:0 };\t\n\t\t\t}\n\t\t});\t \n\t\trow = {...row, total:total };\t\n\t\t\n\t\tdataExcel.push(row)\n\t\treturn(\n\t\t\t<TableRow hover role=\"checkbox\" tabIndex={-1} key={producto._id} >\n\t\t\t\t<TableCell style={{minWidth:60}} >{producto.datos_generales.codigo_barras}</TableCell>\n\t\t\t\t\t\t\n\t\t\t\n\t\t\t\t<TableCell style={{minWidth:170}} >{producto.datos_generales.nombre_comercial}</TableCell>\n\t\t\t\n\t\t\t\n\t\t\t\t{/* <TableCell style={{textAlign: 'center',}} >{(producto.datos_generales.receta_farmacia) ? \"SI\" : \"NO\"}</TableCell> */}\n\t\t\t\t{ \n\t\t\t\t\tarrayCantidades.map((cantidad, index) => {\n\t\t\t\t\t\treturn(<TableCell key={index} style={{backgroundColor:'rgba(255, 253, 150, 0.1)', color:'black',fontSize:17, textAlign:'center',minWidth:60 }}>{cantidad}</TableCell>)\t\n\t\t\t\t\t})\t\n\t\t\t\t}\n\t\t\t\t<TableCell  style={{backgroundColor:'rgba(255, 253, 150, 0.1)', color:'black', fontSize:18,fontWeight:'bold', textAlign:'center' ,minWidth:60}}>{total}</TableCell>\n\t\t\t\t\n\t\t\t</TableRow>\n\t\t)\n\t}\n\tconst handleChangePage = (event, newPage) => {\n\t\tsetPage(newPage);\n\t};\n\n\tconst handleChangeRowsPerPage = (event) => {\n\t\tsetRowsPerPage(+event.target.value);\n\t\tsetPage(0);\n\t};\n\n\tif (loading)\n\treturn (\n\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" height=\"30vh\">\n\t\t\t<CircularProgress />\n\t\t</Box>\n\t);\n\tif (error) {\n\t\treturn <ErrorPage error={error} />;\n\t}\n\n\t\n\treturn (\n\t\t<div>\n\t\t<Paper className={classes.root}>\n\t\t\t<TableContainer className={classes.container}>\n\t\t\t\t<Table stickyHeader aria-label=\"sticky table\">\n\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t{columns.map((column, index) => (\n\t\t\t\t\t\t\t\t<TableCell key={column.id} align={column.align} style={{textAlign:(index > 1)? 'center': 'left', minWidth: column.minWidth, width: column.minWidth}}>\n\t\t\t\t\t\t\t\t\t{column.label}\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t))}\t\n\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t</TableHead>\n\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t{props.productos.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage).map((row, index) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<Rowrow producto={row} key={index} />\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t\t</TableBody>\n\t\t\t\t</Table>\n\t\t\t</TableContainer>\n\t\t\t<TablePagination\n\t\t\t\trowsPerPageOptions={[ 10, 25, 100 ]}\n\t\t\t\tcomponent=\"div\"\n\t\t\t\tcount={props.productos.length}\n\t\t\t\trowsPerPage={rowsPerPage}\n\t\t\t\tpage={page}\n\t\t\t\tonChangePage={handleChangePage}\n\t\t\t\tonChangeRowsPerPage={handleChangeRowsPerPage}\n\t\t\t\tlabelRowsPerPage={\"Renglones por página\"}\n\t\t\t/>\n\t\t\t\n\t\t</Paper>\n\t\t{(props.productos.length > 0) ?\n\t\t\t<Box m={2} alignContent=\"flex-end\">\n\t\t\t\t<ExportarExcel fileName=\"Inventarios almacen\" data={dataExcel} columnName={columns} />\n\t\t\t</Box>\n\t\t\t:\n\t\t\t<div/>\n\t\t}\n\t\t</div>\n\t);\n}\n","import React, { forwardRef } from 'react';\nimport { AppBar, Toolbar, Typography, IconButton, Select,useTheme,FormControl,\nSlide, Button, Box, Dialog,Input, TextField, Grid, InputLabel, MenuItem,CircularProgress} from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useQuery } from '@apollo/client';\nimport {Close} from '@material-ui/icons';\nimport ListaProductos from './ListaProductos'\nimport ErrorPage from '../../../../components/ErrorPage'\nimport { useDebounce } from 'use-debounce';\nimport { OBTENER_PRODUCTOS_ALMACEN, OBTENER_CATEGORIAS,OBTENER_ALMACENES } from '../../../../gql/Almacenes/Almacen';\n\nconst useStyles = makeStyles((theme) => ({\n\tappBar: {\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n\tboxControl: {\n        margin: theme.spacing(2.5),\n\t\tmarginTop: 0,\n        minWidth: \"20%\",\n        maxWidth: \"20%\",\n    },\n    icon: {\n\t\tfontSize: 100\n\t},\n\timagen: {\n\t\twidth: 100\n\t},\n\tinputBox:{\n\t\tmargin:20\n\t},\n\tbutton:{\n\t\tmargin: theme.spacing(3),\n\t}\n}));\n\nconst Transition = forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nconst ITEM_HEIGHT = 200;\nconst ITEM_PADDING_TOP = 8;\nconst MenuProps = {\n  PaperProps: {\n    style: {\n      maxHeight: ITEM_HEIGHT * 4.5 + ITEM_PADDING_TOP,\n      width: 400,\n    },\n  },\n};\nfunction getStyles(tipo, tipoName, theme) {\n  return {\n    fontWeight:\n      tipoName.indexOf(tipo) === -1\n        ? theme.typography.fontWeightRegular\n        : theme.typography.fontWeightMedium,\n  };\n}\nexport default function InventariosPorAlmacen() {\n    const classes = useStyles();\n\tconst theme = useTheme();\n\tconst [ open, setOpen ] = React.useState(false);\n\n\n\n\tconst handleClickOpen = () => {\n\t\tsetOpen(true);\n\t};\n\n\tconst handleClose = () => {\n\t\tsetOpen(false);\n\t};\n\t\n\t\n\n    return (\n        <div>\n            <Button fullWidth onClick={handleClickOpen}>\n\t\t\t\t<Box display=\"flex\" flexDirection=\"column\">\n\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t<img src={'https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/conceptosAlmacen.svg'} alt=\"icono almacen\" className={classes.imagen}/>\n\t\t\t\t\t</Box>\n\t\t\t\t\tInventario por almacen\n\t\t\t\t</Box>\n\t\t\t</Button>\n\t\t\t<InventarioPorAlmacen open={open} handleClose={handleClose} />\n        </div>\n    )\n}\n\nconst InventarioPorAlmacen = (props) =>{\n\tconst classes = useStyles();\n\tconst theme = useTheme();\n\tconst [ loading, setLoading ] = React.useState(true);\n\t  \n\tconst [ filtro, setFiltro ] = React.useState({  codigo_barras: '',clave_alterna: '',tipo_producto: '',nombre_comercial: '',\n        nombre_generico: '',categoria: '',subcategoria: ''});\n\t\t\n\tconst [ filtroTo, setFiltroTo ] = React.useState({});\n\n\t// const [ almacen, setAlmacen ] = React.useState('');\n\tconst [ categoria ] = React.useState('');\n\tconst [ subcategoria ] = React.useState('');\n\tconst [ categoriaTo, setCategoriaTo ] = React.useState('');\n\tconst [ subcategoriaTo, setSubCategoriaTo ] = React.useState('');\n\tconst [ subcategorias, setSubcategorias ] = React.useState([]);\n\tconst [value] = useDebounce(filtro, 1000);\n\tconst sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\n\tlet productos = [];\n\t// let tipos = ['ROPA','CALZADO','OTROS'];\n\tlet categorias = [];\n\t\n\tlet obtenerAlmacenes = [];\n\t \t/* Queries */\n\t//const {  data, error, refetch } = useQuery(OBTENER_PRODUCTOS_ALMACEN,{\n    const productosAlmacenQuery = useQuery(OBTENER_PRODUCTOS_ALMACEN,{\n\t\tvariables: {\n            empresa: sesion.empresa._id,\n\t\t\tsucursal: sesion.sucursal._id,\n\t\t\tfiltro: value\n\t\t}\n\t});\t\n\n\tconst categoriasQuery = useQuery(OBTENER_CATEGORIAS,{\n\t\tvariables: {\n            empresa: sesion.empresa._id,\n\t\t\tsucursal: sesion.sucursal._id,\t\n\t\t}\n\t});\n\t\n\tconst queryObtenerAlmacenes = useQuery(OBTENER_ALMACENES,{\n\t\tvariables: {\n\t\t\tid: sesion.sucursal._id\n\t\t}\n\t});\t\n\tReact.useEffect(\n\t\t() => {\n\n\t\t\tsetFiltroTo(value)\n\t\t},\n\t\t[ value ]\n\t);\n\n\tReact.useEffect(\n\t\t() => {\n\t\t\n\t\t\tproductosAlmacenQuery.refetch();\n\t\t},\n\t\t[ filtroTo, productosAlmacenQuery ]\n\t);\n\tReact.useEffect(\n\t\t() => {\n\t\t\tqueryObtenerAlmacenes.refetch();\n\t\t},\n\t\t[ queryObtenerAlmacenes.update, queryObtenerAlmacenes ]\n\t);\n\n\tReact.useEffect(\n\t\t() => {\n\t\t\n\t\t\tproductosAlmacenQuery.refetch();\n\t\t\tsetLoading(false);\n\t\t},\n\t\t[ productosAlmacenQuery ]\n\t);\n\n\tReact.useEffect(\n\t\t() => {\n\t\t\n\t\t\tcategoriasQuery.refetch();\n\t\t\t\n\t\t},\n\t\t[ categoriasQuery.refetch ]\n\t); \n\n\n\tif(productosAlmacenQuery.data){\n\t\tproductos = productosAlmacenQuery.data.obtenerProductosAlmacenes;\n\t}\n\tif(categoriasQuery.data){\n\t\tcategorias = categoriasQuery.data.obtenerCategorias;\n\t}\n\t\n\tif(queryObtenerAlmacenes.data){\n\t\tobtenerAlmacenes = queryObtenerAlmacenes.data.obtenerAlmacenes;\n\t}\n\t\n\t const setValToFilter = (label,value) => {\n\t\ttry {\n\t\t\tsetLoading(true);\n\t\t\n\t\t\tif(label === 'categoria' && value !== ''){\n\t\t\t\tconst cat = categorias.find(element => element.categoria === value);\n\t\t\t\tsetSubcategorias(cat.subcategorias)\n\t\t\t}\n\n\t\t\tif(label === 'categoria' ){\n\t\t\t\t\n\t\t\t\tlet fil = {...filtro, subcategoria : subcategoriaTo, categoria:value}\n\t\t\t\n\t\t\t\tproductosAlmacenQuery.refetch(\n\t\t\t\t\t{\n\t\t\t\t\t\tfiltro: fil\n\t\t\t\t\t}\n\t\t\t\t)\n\t\t\t\tsetCategoriaTo((value !== '') ? value : '')\n\t\t\t\tsetSubCategoriaTo('');\n\t\t\t} \n\t\t\tif(label === 'subcategoria'&& value !== '' ){\n\t\t\t\n\t\t\t\tproductosAlmacenQuery.refetch(\n\t\t\t\t\t{\n\t\t\t\t\t\tfiltro: {...filtro, subcategoria : value, categoria:categoriaTo}\n\t\t\t\t\t}\n\t\t\t\t)\n\t\t\t\tsetSubCategoriaTo((value !== '') ? value : '')\n\t\t\t}\n\t\t\tif(label !== 'categoria' && label !== 'subcategoria' ){\n\t\t\t\tsetFiltro({...filtro, [label] : value, subcategoria : subcategoriaTo, categoria:categoriaTo});\n\t\t\t}\n\t\t\t//setLoading(false)\t\n\t\t} catch (error) {\n\t\t\t\n\t\t}\n    };\n\treturn(\n\t\t<Dialog fullScreen open={props.open} onClose={props.handleClose} TransitionComponent={Transition}>\n\t\t\t\t<AppBar className={classes.appBar}>\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t<Typography variant=\"h6\" className={classes.title}>\n                                Almacenes\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Box mx={3}>\n\t\t\t\t\t\t\t<Box m={1}>\n\t\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"secondary\" onClick={props.handleClose} size=\"large\">\n\t\t\t\t\t\t\t\t\t<Close style={{ fontSize: 30}}/>\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</Box>\n                        </Box>\n                        <IconButton edge=\"start\" color=\"inherit\" onClick={props.handleClose} aria-label=\"close\">\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</AppBar>\n\t\t\t\t<Grid container direction=\"row\">\n                        <Box width=\"20%\" className={classes.inputBox} >\n                            <Typography>Código de barras</Typography>\n                            <Box display=\"flex\">\n                                <TextField\n                                    fullWidth\n                                    size=\"small\"\n                                    /* error */\n                                    name=\"codigo_barras\"\n                                    id=\"form-producto-codigo-barras\"\n                                    variant=\"outlined\"\n                                    /* helperText=\"Incorrect entry.\" */\n                                    onChange={(e) =>  setValToFilter('codigo_barras', e.target.value)}\n                                />\n                            </Box>\n                        </Box>\n                        <Box width=\"20%\" className={classes.inputBox} >\n                            <Typography>Clave alterna</Typography>\n                            <Box display=\"flex\">\n                                <TextField\n                                    fullWidth\n                                    size=\"small\"\n                                    /* error */\n                                    name=\"clave_alterna\"\n                                    id=\"form-producto-clave-alterna\"\n                                    variant=\"outlined\"\n                                    /* helperText=\"Incorrect entry.\" */\n\t\t\t\t\t\t\t\t\tonChange={(e) =>  setValToFilter('clave_alterna', e.target.value)}\n                                />\n                            </Box>\n                        </Box>\n                        \n                        <Box width=\"20%\" className={classes.inputBox} >\n                            <Typography>Nombre comercial</Typography>\n                            <Box display=\"flex\">\n                                <TextField\n                                    fullWidth\n                                    size=\"small\"\n                                    /* error */\n                                    name=\"clave_alterna\"\n                                    id=\"form-producto-clave-alterna\"\n                                    variant=\"outlined\"\n                                    /* helperText=\"Incorrect entry.\" */\n\t\t\t\t\t\t\t\t\tonChange={(e) =>  setValToFilter('nombre_comercial', e.target.value)}\n                                />\n                            </Box>\n                        </Box>\n                        <Box width=\"20%\" className={classes.inputBox} >\n                            <Typography>Nombre génerico</Typography>\n                            <Box display=\"flex\">\n                                <TextField\n                                    fullWidth\n                                    size=\"small\"\n                                    /* error */\n                                    name=\"nombre_generico\"\n                                    id=\"form-producto-nombre-generico\"\n                                    variant=\"outlined\"\n                                    /* helperText=\"Incorrect entry.\" */\n\t\t\t\t\t\t\t\t\tonChange={(e) =>  setValToFilter('nombre_generico', e.target.value)}\n                                />\n                            </Box>\n                        </Box>\n                        <FormControl className={classes.boxControl} >\n                        \n                            <InputLabel id=\"tipo-label\"  >Tipo</InputLabel>\n                            <Select\n                            labelId=\"tipo-label\"\n                            id=\"tipo_producto\"\n                            value={filtro.tipo_producto}\n                            onChange={(e) => setValToFilter('tipo_producto', e.target.value )}\n                            input={<Input />}\n                            MenuProps={MenuProps}\n                            >\n                                <MenuItem value=\"\">\n                                    <em>Selecciona uno</em>\n                                </MenuItem>\n                                <MenuItem value=\"ROPA\">Ropa</MenuItem>\n                                <MenuItem value=\"CALZADO\">Calzado</MenuItem>\n                                <MenuItem value=\"OTROS\">Otros</MenuItem>\n                            </Select>\n                            \n                        </FormControl>\n                        <FormControl className={classes.boxControl} >\n                        \n                            <InputLabel id=\"categoria-label\"  >Categoría</InputLabel>\n                            <Select\n                            labelId=\"categoria-label\"\n                            id=\"categoria\"\n                            value={categoriaTo}\n                            onChange={(e) => setValToFilter('categoria', e.target.value )}\n                            input={<Input />}\n                            MenuProps={MenuProps}\n                            >\n\t\t\t\t\t\t\t <MenuItem value=\"\">\n                                <em>Selecciona una</em>\n                            </MenuItem>\n                            {categorias.map((cat) => (\n                                <MenuItem key={cat._id} value={cat.categoria}  style={getStyles(cat._id, categoria, theme)}>\n                                {cat.categoria}\n                                </MenuItem>\n                            ))}\n                            </Select>\n                            \n                        </FormControl>\n\t\t\t\t\t\t<FormControl className={classes.boxControl} >\n                        \n                            <InputLabel id=\"subcategoria-label\"  >Subcategoría</InputLabel>\n                            <Select\n                            labelId=\"subcategoria-label\"\n                            id=\"subcategoria\"\n                            value={subcategoriaTo}\n                            onChange={(e) => setValToFilter('subcategoria', e.target.value )}\n                            input={<Input />}\n                            MenuProps={MenuProps}\n                            >\n\t\t\t\t\t\t\t <MenuItem value=\"\">\n                                    <em>Selecciona una</em>\n                                </MenuItem>\n                            {subcategorias.map((subcat) => (\n                                <MenuItem key={subcat._id} value={subcat.subcategoria} style={getStyles(subcat._id, subcategoria, theme)}>\n                                {subcat.subcategoria}\n                                </MenuItem>\n                            ))}\n                            </Select>\n                            \n                        </FormControl>\n                    \n                      {/*   <Button  variant=\"contained\" color=\"primary\" className={classes.button} style={{width:\"20%\"}} >\n                            Buscar producto\n                        </Button> */}\n                    </Grid> \n\n\t\t\t\t{\n\t\t\t\t\t(loading) ?\n\t\t\n\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" height=\"30vh\">\n\t\t\t\t\t\t<CircularProgress />\n\t\t\t\t\t</Box>\n\t\t\t\t\t: \n\t\t\t\t\t\t(productosAlmacenQuery.error || categoriasQuery.error) ?\n\t\t\t\t\t\t\t<ErrorPage error={productosAlmacenQuery.error} />\n\t\t\t\t\t\t:\n\t\t\t\t\t\t<Box mx={5}>\n\t\t\t\t\t\t\t<ListaProductos productos={productos} obtenerAlmacenes={obtenerAlmacenes} />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t</Dialog>\n\t)\n}\n","import React from 'react';\nimport { Container, Grid, Box } from '@material-ui/core';\nimport RegistroAlmacen from './RegistroAlmacen/RegistroAlmacen';\nimport Traspasos from './Traspasos/Traspasos';\nimport InventariosPorAlmacen from './InventarioPorAlmacen/InventariosPorAlmacen';\nimport { TraspasosProvider } from \"../../../context/Almacenes/traspasosAlmacen\";\nexport default function Moviminetos() {\n\n\treturn (\n\t\t<Container>\n\t\t\t<Grid container spacing={3} justify=\"center\" >\n\t\t\t\t<Grid item lg={2} >\n\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t<RegistroAlmacen />\n\t\t\t\t\t</Box>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item lg={2}>\n\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t<TraspasosProvider>\n\t\t\t\t\t\t\t<Traspasos />\n\t\t\t\t\t\t</TraspasosProvider>\n\t\t\t\t\t</Box>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item lg={2} >\n\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t<InventariosPorAlmacen />\n\t\t\t\t\t</Box>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t</Container>\n\t);\n}\n","import React, { useState } from 'react';\nimport 'moment'\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport { Box, Grid, Dialog, DialogContent, Typography, CircularProgress} from '@material-ui/core';\nimport moment from 'moment';\n\nconst columns = [\n\t{ id: 'fecha', label: 'Fecha', minWidth: 100 },\n\t{ id: 'hora', label: 'Hora', minWidth: 100 },\n\t{ id: 'movimiento', label: 'Movimieto', minWidth: 100 },\n\t{ id: 'usuario', label: 'Usuario', minWidth: 100 },\n\t{ id: 'hTurno', label: 'Horario Turno', minWidth: 100 },\t\n\t{ id: 'concepto', label: 'Concepto', minWidth: 100 },\n];\n\nconst useStyles  = makeStyles((theme) => ({\n\troot: {\n\t\twidth: '100%'\n\t},\n\tcontainer: {\n\t\theight: '70%',\n\t},\n    appBar: {\t\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n\trootBusqueda: {\n\t\tdisplay: 'flex',\n\t\tpaddingLeft: theme.spacing(2)\n\t},\n}));\n\n\nexport default function TablaHistorialFiltrado({loading, historial}) {\n\tconst classes = useStyles();\n\t\n\tif (loading)\n\t\treturn (\n\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" height=\"30vh\">\n\t\t\t\t<CircularProgress />\n\t\t\t</Box>\n\t\t);\n\t\t\n\treturn (\n\t\t<>\n\t\t\t<Box p={2}>\n\t\t\t\t<Paper className={classes.root}>\n\t\t\t\t\t<TableContainer className={classes.container}>\n\t\t\t\t\t\t<Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n\t\t\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t\t{columns.map((column) => (\n\t\t\t\t\t\t\t\t\t\t<TableCell key={column.id} align=\"center\" style={{ minWidth: column.minWidth }}>\n\t\t\t\t\t\t\t\t\t\t\t{column.label}\n\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t</TableHead>\n\t\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t\t{historial.map((row) => {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<RowsRender\n\t\t\t\t\t\t\t\t\t\t\tkey={row._id}\n\t\t\t\t\t\t\t\t\t\t\tdatos={row}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t\t</Table>\n\t\t\t\t\t</TableContainer>\n\t\t\t\t</Paper>\n\t\t\t</Box>\n\t\t</>\n\t);\n}\n\n\nfunction RowsRender({datos}) {\n\tconst [open, setOpen] = useState(false);\n\tconst handleClickOpen =()=> setOpen(!open);\n\n\tconst classes = useStyles();\n\tconsole.log(datos)\n\n\treturn(\n\t\t<>\n\t\t\t<TableRow\n\t\t\t\thover\n\t\t\t\trole=\"checkbox\"\n\t\t\t\tonClick={handleClickOpen}\n\t\t\t\ttabIndex={-1}\n\t\t\t>\n\t\t\t\t<TableCell align=\"center\">{moment(datos.fecha_movimiento.completa).format('YYYY-MM-DD')}</TableCell>\n\t\t\t\t<TableCell align=\"center\">{datos.hora_moviento.completa}</TableCell>\n\t\t\t\t<TableCell align=\"center\">{datos.tipo_movimiento}</TableCell>\n\t\t\t\t<TableCell align=\"center\">{datos.nombre_usuario_creador}</TableCell>\n\t\t\t\t<TableCell align=\"center\">{datos.horario_turno}</TableCell>\n\t\t\t\t<TableCell align=\"center\">{datos.concepto}</TableCell>\n\t\t\t</TableRow>\n\n\t\t\t<Dialog\n\t\t\t\tfullWidth={true}\n\t\t\t\tmaxWidth='xs'\n\t\t\t\topen={open} \n\t\t\t\tonClose={handleClickOpen} \n\t\t\t>\n\t\t\t\t<DialogContent>\n\t\t\t\t\t<Grid container>\n\t\t\t\t\t\t<Grid lg={12} xs={12}>\n\t\t\t\t\t\t\t<Box textAlign=\"center\" p={2}>\n\t\t\t\t\t\t\t\t<Typography variant=\"h6\">\n\t\t\t\t\t\t\t\t\tInformación de movimiento\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid lg={12} xs={12}>\n\t\t\t\t\t\t\t<Box display=\"flex\" textAlign=\"left\" p={1}>\n\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\t<b>Fecha Movimiento: </b> {moment(datos.fecha_movimiento.completa).format('YYYY-MM-DD')}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box display=\"flex\" textAlign=\"left\" p={1}>\n\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\t<b>Hora Movimiento: </b> {datos.hora_moviento.completa}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box display=\"flex\" textAlign=\"left\" p={1}>\n\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\t<b>Usuario: </b> {datos.nombre_usuario_creador}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box display=\"flex\" textAlign=\"left\" p={1}>\n\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\t<b>Horario en Turno: </b>\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box display=\"flex\" textAlign=\"left\" p={1}>\n\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\t<b>Tipo Movimiento: </b> {datos.tipo_movimiento}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box display=\"flex\" textAlign=\"left\" p={1}>\n\t\t\t\t\t\t\t\t<Typography> \n\t\t\t\t\t\t\t\t\t<b>Concepto: </b> {datos.concepto}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box display=\"flex\" textAlign=\"left\" p={1}>\n\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\t<b>Caja: </b> {datos.numero_caja}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Paper className={classes.root}>\n\t\t\t\t\t\t\t\t<TableContainer className={classes.container}>\n\t\t\t\t\t\t\t\t\t<Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n\t\t\t\t\t\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\" style={{ minWidth: 100 }}>\n\t\t\t\t\t\t\t\t\t\t\t\t\tConcepto\n\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\" style={{ minWidth: 100 }}>\n\t\t\t\t\t\t\t\t\t\t\t\t\tMonto depositado\n\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t\t\t</TableHead>\n\t\t\t\t\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t\t\t\t\t<TableRow hover tabIndex={-1} >\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\"><b>Monto Total Efectivo:</b></TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\"><b>${datos.montos_en_caja.monto_efectivo.monto}</b></TableCell>\n\t\t\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t\t\t\t<TableRow hover tabIndex={-1} >\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">Creditos</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">${datos.montos_en_caja.monto_creditos.monto}</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t\t\t\t<TableRow hover tabIndex={-1} >\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">Tarjeta Debito</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">${datos.montos_en_caja.monto_tarjeta_debito.monto}</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t\t\t\t<TableRow hover tabIndex={-1} >\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">Tarjeta Credito</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">${datos.montos_en_caja.monto_tarjeta_credito.monto}</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t\t\t\t<TableRow hover tabIndex={-1} >\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">Monedero</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">${datos.montos_en_caja.monto_monedero.monto}</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t\t\t\t<TableRow hover tabIndex={-1} >\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">Cheques</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">${datos.montos_en_caja.monto_cheques.monto}</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t\t\t\t<TableRow hover tabIndex={-1} >\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">Transferencias</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">${datos.montos_en_caja.monto_transferencia.monto}</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t\t\t\t<TableRow hover tabIndex={-1} >\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">Vales de despensa</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">${datos.montos_en_caja.monto_vales_despensa.monto}</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t\t\t\t\t</Table>\n\t\t\t\t\t\t\t\t</TableContainer>\n\t\t\t\t\t\t\t</Paper>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t</DialogContent>\n\t\t\t</Dialog>\n\t\t</>\n\t)\n};","import React, {  useState, useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Dialog, Slide, Box, Button, Toolbar, Typography, FormControl, MenuItem, Select, Grid, TextField} from '@material-ui/core';\nimport CloseIcon from '@material-ui/icons/Close';\nimport AppBar from '@material-ui/core/AppBar';\nimport { useQuery } from '@apollo/client';\nimport { OBTENER_HISTORIAL_CAJA} from '../../../../gql/Cajas/cajas';\nimport { useDebounce } from 'use-debounce/lib';\nimport TablaHistorialFiltrado from './TablaHistorialFiltrado';\nimport SaveIcon from '@material-ui/icons/Save';\nimport ExcelFile from 'react-export-excel/dist/ExcelPlugin/components/ExcelFile';\nimport ExcelSheet from 'react-export-excel/dist/ExcelPlugin/elements/ExcelSheet';\nimport ExcelColumn from 'react-export-excel/dist/ExcelPlugin/elements/ExcelColumn';\n\nconst useStyles = makeStyles((theme) => ({\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1,\n\t},\n    appBar: {\n\t\tposition: 'relative'\n\t},\n\tformInputFlex: {\n\t\tdisplay: 'flex',\n\t\t'& > *': {\n\t\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(1)}px`\n\t\t}\n\t},\n\ticon: {\n\t\tfontSize: 40,\n\t\twidth: 40\n\t},\n    iconSave: {\n\t\tzIndex: 10,\n\t\tposition: 'fixed',\n\t\tbottom: theme.spacing(2),\n\t\tright: theme.spacing(10)\n\t}\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nconst tipos = [\n    'TODOS',\n    'VENTA',\n    'DEPOSITO',\n    'RETIRO',\n    'TRANSFERENCIA'\n];\n\nexport default function HistorialCaja(props) {\n    const classes = useStyles();\n    const sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n    const [ datosBuscar, setDatosBuscar ] = useState([]);\n    const [ datosExcel, setDatosExcel ] = useState([]);\n\tconst [ value ] = useDebounce(datosBuscar, 500);\n\n\tlet obtenerHistorialCaja = [];\n\n    /* Queries */\n\tconst {  data, refetch, loading } = useQuery(OBTENER_HISTORIAL_CAJA, {\n\t\tvariables: {\n            id_Caja: props.cajaSelected._id,\n            empresa: sesion.empresa._id,\n\t\t\tsucursal: sesion.sucursal._id,\n            input: {\n                tipo_movimiento: datosBuscar.tipo_movimiento ? datosBuscar.tipo_movimiento :  \"\",\n                fecha_incio: datosBuscar.fecha_incio ? datosBuscar.fecha_incio : \"\",\n                fecha_fin: datosBuscar.fecha_fin ? datosBuscar.fecha_fin : \"\",\n                usuario: value.usuario ? value.usuario : \"\"\n            },\n\t\t}\n\t});\n\n    useEffect(\n\t\t() => {\n\t\t\trefetch();\n\t\t},\n\t\t[ refetch ]\n\t);\n\n    let arrayExcel = [];\n\n    const agruparDatos = (datosHistorial) => {\n        datosExcel.splice(0, datosExcel.length);\n        for (let i = 0; i < datosHistorial.length; i++) {\n            arrayExcel = { \n                fecha: datosHistorial[i].fecha_movimiento.completa,\n                hora_movimiento: datosHistorial[i].hora_moviento.completa,\n                nombre: datosHistorial[i].nombre_usuario_creador,\n                horario_turno: datosHistorial[i].horario_turno,\n                tipo_movimiento: datosHistorial[i].tipo_movimiento,\n                concepto: datosHistorial[i].concepto,\n                caja: datosHistorial[i].numero_caja,\n                monto_efectivo: datosHistorial[i].montos_en_caja.monto_efectivo.monto , \n                monto_creditos: datosHistorial[i].montos_en_caja.monto_creditos.monto , \n                monto_tarjeta_debito: datosHistorial[i].montos_en_caja.monto_tarjeta_debito.monto , \n                monto_tarjeta_credito: datosHistorial[i].montos_en_caja.monto_tarjeta_credito.monto , \n                monto_monedero: datosHistorial[i].montos_en_caja.monto_monedero.monto , \n                monto_cheques: datosHistorial[i].montos_en_caja.monto_cheques.monto , \n                monto_transferencia: datosHistorial[i].montos_en_caja.monto_transferencia.monto ,\n                monto_vales_despensa: datosHistorial[i].montos_en_caja.monto_vales_despensa.monto , \n            }\n            datosExcel.push(arrayExcel);\n        };\n    };\n\n\tif(data){\n\t\tobtenerHistorialCaja = data.obtenerHistorialCaja;\n        agruparDatos(obtenerHistorialCaja);\n\t}\n\n    const handleDatos = (e) => {\n        setDatosBuscar({...datosBuscar, [e.target.name]: e.target.value})\n    };\n\n    const filtrarProductos = (event) => {\n\t\tevent.preventDefault();\n        refetch();\n\t};\n\n    const limpiarFiltros = () => {\n        setDatosBuscar([]);\n    }\n\n    return (\n        <Dialog fullScreen open={props.open} onClose={()=>{props.handleClose();}} TransitionComponent={Transition}>\n            <AppBar className={classes.appBar}>\n                <Toolbar>\n                    <Typography variant=\"h5\" className={classes.title}>\n                        Caja {props.cajaSelected.numero_caja}\n                    </Typography>\n                    <Box m={1}>\n                        <Button variant=\"contained\" color=\"secondary\" onClick={ () => {props.handleClose()} } size=\"large\">\n                            <CloseIcon style={{fontSize: 30}} />\n                        </Button>\n                    </Box>\n                </Toolbar>\n            </AppBar>\n            <Grid container>\n                <ExcelFile\n                    element={\n                        <Button\n                            variant=\"contained\"\n                            color=\"primary\"\n                            aria-label=\"Guardar\"\n                            className={classes.iconSave}\n                        >\n                            <SaveIcon className={classes.margin} />\n                            Exportar\n                        </Button>   \n                    }\n                    filename={`Reporte de Historial de Caja ${props.cajaSelected.numero_caja}`}\n                >\n                    <ExcelSheet data={datosExcel} name={`Reporte de Historial de Caja ${props.cajaSelected.numero_caja}`}>\n                        <ExcelColumn label='Usuario' value='nombre' />\n                        <ExcelColumn label='Fecha Movimiento' value='fecha' />\n                        <ExcelColumn label='Hora Movimiento' value='hora_movimiento' />\n                        <ExcelColumn label='Horario en Turno' value='horario_turno' />\n                        <ExcelColumn label='Concepto' value='concepto' />\n                        <ExcelColumn label='Tipo Movimiento' value='tipo_movimiento' />\n                        <ExcelColumn label='No. de Caja' value='caja' />\n                        <ExcelColumn label='M. en Efectivo' value='monto_efectivo' />\n                        <ExcelColumn label='M. en Creditos' value='monto_creditos' />\n                        <ExcelColumn label='M. en Tarjeta Debito' value='monto_tarjeta_debito' />\n                        <ExcelColumn label='M. en Tarjeta Credito' value='monto_tarjeta_credito' />\n                        <ExcelColumn label='M. en monedero' value='monto_monedero' />\n                        <ExcelColumn label='M. en Cheques' value='monto_cheques' />\n                        <ExcelColumn label='M. en Transferencia' value='monto_transferencia' />\n                        <ExcelColumn label='M. en Vale Despensa' value='monto_vales_despensa' />\n                    </ExcelSheet>\n                </ExcelFile>\n                <Grid item lg={12} md={12} xs={12}>\n                    <div className={classes.formInputFlex}>\n                        <Box width=\"100%\">\n                            <Typography>\n                                Movimiento\n                            </Typography>\n                            <FormControl\n                                variant=\"outlined\"\n                                fullWidth\n                                size=\"small\"\n                            >\n                                <Select\n                                    id=\"form-producto-tipo\"\n                                    name=\"tipo_movimiento\"\n                                    onChange={handleDatos}\n                                    value={datosBuscar.tipo_movimiento ? datosBuscar.tipo_movimiento : \"\"}\n                                >\n                                    <MenuItem value=\"\">\n                                        <em>Selecciona uno</em>\n                                    </MenuItem>\n                                    {tipos.map((tipo, index) => {\n                                        return(\n                                            <MenuItem key={index} value={tipo}>{tipo}</MenuItem>\n                                        )\n                                    })}\n                                </Select>\n                            </FormControl>\n                        </Box>\t\n                        <Box width=\"100%\">\n                            <Typography>\n                                Fecha inicio:\n                            </Typography>\n                            <TextField \n                                fullWidth\n                                size=\"small\"\n                                name=\"fecha_incio\"\n                                variant=\"outlined\"\n                                type=\"date\"\n                                value={datosBuscar.fecha_incio ? datosBuscar.fecha_incio : \"\"}\n                                onChange={handleDatos}\n                            />\n                        </Box>\n                        <Box width=\"100%\">\n                            <Typography>\n                                Fecha fin:\n                            </Typography>\n                            <TextField \n                                fullWidth\n                                size=\"small\"\n                                name=\"fecha_fin\"\n                                variant=\"outlined\"\n                                type=\"date\"\n                                value={datosBuscar.fecha_fin ? datosBuscar.fecha_fin : \"\"}\n                                onChange={handleDatos}\n                            />\n                        </Box>\n                        <form onSubmit={filtrarProductos} style={{ display: 'flex', alignItems: 'center', width: \"100%\" }} >\n                            <Box width=\"100%\">\n                                <Typography>\n                                    Usuario:\n                                </Typography>\n                                <TextField\n                                    fullWidth\n                                    size=\"small\"\n                                    name=\"usuario\"\n                                    variant=\"outlined\"\n                                    value={datosBuscar.usuario ? datosBuscar.usuario : \"\"}\n                                    onChange={handleDatos}\n                                />\n                            </Box>\n                        </form>\n                        <Box width=\"70%\" display=\"flex\" justifyContent=\"center\" justifyItems=\"center\" alignItems=\"center\">\n                            <Box mt={2}>\n                                <Button\n                                    color=\"primary\"\n                                    size=\"large\"\n                                    variant=\"contained\"\n                                    onClick={limpiarFiltros}\n                                >\n                                    Limpiar\n                                </Button>\n                            </Box>\n                        </Box>\n                    </div>\n                </Grid>\n                <Grid item lg={12} md={12} xs={12}>\n                    <TablaHistorialFiltrado loading={loading} historial={obtenerHistorialCaja} />\n                </Grid>  \n            </Grid>\n        </Dialog>\n    );\n}\n\n","import React from 'react';\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport CardActions from '@material-ui/core/CardActions';\nimport Avatar from '@material-ui/core/Avatar';\nimport Typography from '@material-ui/core/Typography';\nimport { red } from '@material-ui/core/colors';\nimport {Badge, Box} from '@material-ui/core';\n \nconst StyledBadge = withStyles((theme) => ({\n    badge: {\n      color :({props})=> props.color,\n      background: ({props})=> props.color,\n      boxShadow: `0 0 0 2px ${theme.palette.background.paper}`,\n      '&::after': {\n        position: 'absolute',\n        top: 0,\n        left: 0,\n        width: '100%',\n        height: '100%',\n        borderRadius: '50%',\n        animation: '$ripple 1.2s infinite ease-in-out',\n        border: '1px solid currentColor',\n        content: '\"\"',\n      },\n    },\n    '@keyframes ripple': {\n      '0%': {\n        transform: 'scale(.8)',\n        opacity: 1,\n      },\n      '100%': {\n        transform: 'scale(2.4)',\n        opacity: 0,\n      },\n    }\n  }))(Badge);\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    minWidth:230,\n    maxWidth: 230,\n    margin:5,\n    \n  },\n  media: {\n    height: 0,\n    paddingTop: '56.25%', // 16:9\n  },\n  expand: {\n    transform: 'rotate(0deg)',\n    marginLeft: 'auto',\n    transition: theme.transitions.create('transform', {\n      duration: theme.transitions.duration.shortest,\n    }),\n  },\n  expandOpen: {\n    transform: 'rotate(180deg)',\n  },\n  avatar: {\n    color: red[500],\n  },\n  textActive:{\n    position:'relative',\n    bottom:8\n  }\n}));\n\nexport default function CardCaja(props) {\n    const styleProps={\n      color: (props.activa)  ? '#44b700' : 'red'\n    }\n    const classes = useStyles();\n \n    return (\n        <div>\n            <Card className={classes.root}>\n                    <CardHeader\n                      color=\"secondary\"\n                        avatar={\n                            <StyledBadge\n                              overlap=\"circle\"\n                              props={styleProps}\n                              anchorOrigin={{\n                                vertical: 'bottom',\n                                horizontal: 'right',\n                              }}\n                              variant=\"dot\"\n                              badgeContent=\"\"\n                            >\n                            <Avatar alt=\"Cajero X\" src=\"/static/images/avatar/1.jpg\" />\n                            </StyledBadge>\n                        }\n                    />\n                    <Box m={1} mb={2}>\n                    <Typography variant=\"h4\" color=\"textSecondary\" component=\"p\" >\n                            Caja {props.name}\n                    </Typography>\n                    </Box>\n                    {/* <CardActions disableSpacing  >\n                        <Typography style={{fontWeight: 'bold'}} color=\"textSecondary\" component=\"p\">\n                           Total en caja: \n                        </Typography>\n                        <Typography style={{margin: '0px 10px', color: 'green'}} variant=\"h6\" color=\"textSecondary\" component=\"p\">\n                           $ {parseFloat(props.cantidad_efectivo_actual)}\n                        </Typography>\n                    </CardActions> */}\n                </Card>\n        </div>\n    )\n}\n","import React, {useEffect, useState} from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport CloseIcon from '@material-ui/icons/Close';\nimport Slide from '@material-ui/core/Slide';\nimport { Box, Grid  } from '@material-ui/core';\nimport HistorialCaja from './HistorialCaja';\nimport SnackBarMessages from '../../../../components/SnackBarMessages';\nimport BackdropComponent from '../../../../components/Layouts/BackDrop';\nimport CardCaja from './CardCaja';\n\nimport { OBTENER_CAJAS } from '../../../../gql/Cajas/cajas';\nimport { useQuery } from '@apollo/client';\n\nconst useStyles = makeStyles((theme) => ({\n\tappBar: {\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n\ticon: {\n\t\twidth: 100\n\t}\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function Cajas() {\n\tconst classes = useStyles();\n    const [ loading, setLoading ] = React.useState(false);\n\tconst [ open, setOpen ] = React.useState(false);\n    const [ openHistorial, setOpenHistorial ] = React.useState(false);\n    const [ alert, setAlert ] = useState({ message: '', status: '', open: false });\n    const [ cajaSelected, setCajaSelected ] = React.useState({name:''});\n    const sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n    let obtenerCajasSucursal = []; \n\n\t\n    /* Queries */\n    const {  data, refetch } = useQuery(OBTENER_CAJAS,{\n\t\tvariables: {\n            empresa: sesion.empresa._id,\n\t\t\tsucursal: sesion.sucursal._id\n\t\t}\n\t});\t\n\n    useEffect(\n\t\t() => {\n\t\t\tsetLoading(true);\n\t\t\trefetch();\n\t\t\tsetLoading(false);\n\t\t},\n\t\t[ refetch ]\n\t); \n\t\n\tif(data){\n\t\tobtenerCajasSucursal = data.obtenerCajasSucursal;\n\t}\n\tconst handleClickOpen = () => {\n\t\tsetOpen(true);\n\t};\n    const handleClickOpenHistorial = () => {\n\t\tsetOpenHistorial(true);\n\t};\n\tconst handleClose = () => {\n\t\tsetOpen(false);\n\t};\n    const handleCloseHistorial = () => {\n\t\tsetOpenHistorial(false);\n\t};\n\n\treturn (\n\t\t<div>\n            <SnackBarMessages alert={alert} setAlert={setAlert} />\t\n\t\t\t<BackdropComponent loading={loading} setLoading={setLoading} />\n\t\t\t<Button fullWidth onClick={handleClickOpen}>\n\t\t\t\t<Box display=\"flex\" flexDirection=\"column\">\n\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t<img src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/cajas.svg' alt=\"icono numero calzado\" className={classes.icon} />\n\t\t\t\t\t</Box>\n\t\t\t\t\tHistorial de Cajas\n\t\t\t\t</Box>\n\t\t\t</Button>\n\t\t\t<Dialog fullScreen open={open} onClose={handleClose} TransitionComponent={Transition}>\n\t\t\t\t<AppBar className={classes.appBar}>\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t<Typography variant=\"h6\" className={classes.title}>\n\t\t\t\t\t\t\tHistorial de Cajas\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Box m={1}>\n\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"secondary\" onClick={handleClose} size=\"large\">\n\t\t\t\t\t\t\t\t<CloseIcon style={{fontSize: 30}} />\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</AppBar>\n\t\t\t\t<Grid container spacing={1} justify=\"center\" >\n\t\t\t\t\t{obtenerCajasSucursal?.map((caja, index) => {\n\t\t\t\t\t\treturn(\n\t\t\t\t\t\t\t<Button key={index} onClick={()=>{handleClickOpenHistorial(); setCajaSelected(caja)}}>\n\t\t\t\t\t\t\t\t<CardCaja name={caja.numero_caja} activa={caja.activa} cantidad_efectivo_actual={caja.cantidad_efectivo_actual} />\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t)\t\n\t\t\t\t\t})} \n\t\t\t\t</Grid> \t\n\t\t\t</Dialog>\n            <HistorialCaja open={openHistorial} fetchCajas={refetch} handleClickOpen={handleClickOpenHistorial} cajaSelected={cajaSelected} handleClose={handleCloseHistorial} obtenerCajasSucursal={obtenerCajasSucursal} />\n\t\t</div>\n\t);\n}\n","import React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport { Box, Grid, Dialog, DialogContent, Typography, CircularProgress} from '@material-ui/core';\n\nconst columns = [\n\t{ id: 'fecha', label: 'Fecha', minWidth: 100 },\n\t{ id: 'hora', label: 'Hora', minWidth: 100 },\n\t{ id: 'usuario', label: 'Usuario', minWidth: 100 },\n\t{ id: 'hTurno', label: 'Horario Turno', minWidth: 100 },\t\n\t{ id: 'concepto', label: 'Concepto', minWidth: 100 },\n\t{ id: 'caja', label: 'Caja', minWidth: 100 },\n];\n\nconst useStyles  = makeStyles((theme) => ({\n\troot: {\n\t\twidth: '100%'\n\t},\n\tcontainer: {\n\t\tmaxHeight: 500,\n\t},\n    appBar: {\t\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n\trootBusqueda: {\n\t\tdisplay: 'flex',\n\t\tpaddingLeft: theme.spacing(2)\n\t}\n}));\n\n\nexport default function TablaTurnosFiltrados({loading, turnos}) {\n\tconst classes = useStyles();\n\t\n\tif (loading)\n\t\treturn (\n\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" height=\"30vh\">\n\t\t\t\t<CircularProgress />\n\t\t\t</Box>\n\t\t);\n\t\t\n\treturn (\n\t\t<>\n\t\t\t<Box p={2}>\n\t\t\t\t<Paper className={classes.root}>\n\t\t\t\t\t<TableContainer className={classes.container}>\n\t\t\t\t\t\t<Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n\t\t\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t\t{columns.map((column) => (\n\t\t\t\t\t\t\t\t\t\t<TableCell key={column.id} align=\"center\" style={{ minWidth: column.minWidth }}>\n\t\t\t\t\t\t\t\t\t\t\t{column.label}\n\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t</TableHead>\n\t\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t\t{turnos.map((row) => {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<RowsRender\n\t\t\t\t\t\t\t\t\t\t\tkey={row._id}\n\t\t\t\t\t\t\t\t\t\t\tturno={row}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t\t</Table>\n\t\t\t\t\t</TableContainer>\n\t\t\t\t</Paper>\n\t\t\t</Box>\n\t\t</>\n\t);\n}\n\n\nfunction RowsRender({turno}) {\n\tconst [open, setOpen] = useState(false);\n\tconst classes = useStyles();\n\tconst handleClickOpen =()=> setOpen(!open);\n\n\treturn(\n\t\t<>\n\t\t\t<TableRow\n\t\t\t\thover\n\t\t\t\trole=\"checkbox\"\n\t\t\t\tonClick={handleClickOpen}\n\t\t\t\ttabIndex={-1}\n\t\t\t\tkey={turno._id}\n\t\t\t>\n\t\t\t\t<TableCell align=\"center\">{turno.fecha_movimiento}</TableCell>\n\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t{turno.concepto === \"ABRIR TURNO\" ? (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t{turno.hora_entrada.completa}\n\t\t\t\t\t\t</>\n\t\t\t\t\t\t): (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t{turno.hora_salida.completa}\n\t\t\t\t\t\t</>\n\t\t\t\t\t)}\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell align=\"center\">{turno.usuario_en_turno.nombre}</TableCell>\n\t\t\t\t<TableCell align=\"center\">{turno.horario_en_turno}</TableCell>\n\t\t\t\t<TableCell align=\"center\">{turno.concepto}</TableCell>\n\t\t\t\t<TableCell align=\"center\">{turno.numero_caja}</TableCell>\n\t\t\t</TableRow>\n\n\t\t\t<Dialog\n\t\t\t\tfullWidth={true}\n\t\t\t\tmaxWidth='md'\n\t\t\t\topen={open} \n\t\t\t\tonClose={handleClickOpen} \n\t\t\t>\n\t\t\t\t<DialogContent>\n\t\t\t\t\t<Grid container>\n\t\t\t\t\t\t<Grid lg={12} xs={12}>\n\t\t\t\t\t\t\t<Box textAlign=\"center\" p={2}>\n\t\t\t\t\t\t\t\t<Typography variant=\"h6\">\n\t\t\t\t\t\t\t\t\tInformación del turno\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid lg={6} xs={12}>\n\t\t\t\t\t\t\t<Box p={1}>\n\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\t<b>Usuario</b>: {turno.usuario_en_turno.nombre}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box p={1}>\n\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\t<b>Numero de caja</b>: {turno.numero_caja}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box p={1}>\n\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\t<b>Moviento de turno</b>: {turno.concepto}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box p={1}>\n\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\t<b>Horario de turno</b>: {turno.horario_en_turno}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box p={1}>\n\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\t{turno.concepto === \"ABRIR TURNO\" ? (\n\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t<b>Hora de Entrada de turno: </b>{turno.hora_entrada.completa}\n\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t): (\n\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t<b>Hora de Salida de turno: </b>{turno.hora_salida.completa}\n\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box p={1}>\n\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\t<b>Comentarios</b>: {turno.comentarios}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box p={1}>\n\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\t<b>Fecha de movimiento</b>: {turno.fecha_movimiento}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid lg={6} xs={12}>\n\t\t\t\t\t\t\t<Paper className={classes.root}>\n\t\t\t\t\t\t\t\t<TableContainer className={classes.container}>\n\t\t\t\t\t\t\t\t\t<Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n\t\t\t\t\t\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\" style={{ minWidth: 100 }}>\n\t\t\t\t\t\t\t\t\t\t\t\t\tConcepto\n\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\" style={{ minWidth: 100 }}>\n\t\t\t\t\t\t\t\t\t\t\t\t\tMonto depositado\n\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t\t\t</TableHead>\n\n\t\t\t\t\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t\t\t\t\t<TableRow hover tabIndex={-1} >\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\"><b>Monto Total Efectivo:</b></TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\"><b>${turno.montos_en_caja.monto_efectivo.monto}</b></TableCell>\n\t\t\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t\t\t\t<TableRow hover tabIndex={-1} >\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">Creditos</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">${turno.montos_en_caja.monto_creditos.monto}</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t\t\t\t<TableRow hover tabIndex={-1} >\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">Tarjeta Debito</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">${turno.montos_en_caja.monto_tarjeta_debito.monto}</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t\t\t\t<TableRow hover tabIndex={-1} >\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">Tarjeta Credito</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">${turno.montos_en_caja.monto_tarjeta_credito.monto}</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t\t\t\t<TableRow hover tabIndex={-1} >\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">Monedero</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">${turno.montos_en_caja.monto_monedero.monto}</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t\t\t\t<TableRow hover tabIndex={-1} >\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">Cheques</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">${turno.montos_en_caja.monto_cheques.monto}</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t\t\t\t<TableRow hover tabIndex={-1} >\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">Transferencias</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">${turno.montos_en_caja.monto_transferencia.monto}</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t\t\t\t<TableRow hover tabIndex={-1} >\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">Vales de despensa</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">${turno.montos_en_caja.monto_vales_despensa.monto}</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t\t\t\t\t</Table>\n\t\t\t\t\t\t\t\t</TableContainer>\n\t\t\t\t\t\t\t</Paper>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t</DialogContent>\n\t\t\t</Dialog>\n\t\t</>\n\t)\n};","import { gql } from \"@apollo/client\";\n\nexport const REGISTRAR_TURNOS = gql`\n\tmutation crearRegistroDeTurno( $input: AbrirCerrarTurnoInput, $activa: Boolean) {\n\t\tcrearRegistroDeTurno(input: $input, activa: $activa) {\n\t\t\thorario_en_turno\n\t\t\ttoken_turno_user\n\t\t\tconcepto\n\t\t\tnumero_caja\n\t\t\tid_caja\n\t\t\tcomentarios\n\t\t\thora_entrada {\n\t\t\t\thora\n\t\t\t\tminutos\n\t\t\t\tsegundos\n\t\t\t}\n\t\t\thora_salida{\n\t\t\t\thora\n\t\t\t\tminutos\n\t\t\t\tsegundos\n\t\t\t}\n\t\t\tfecha_entrada{\n\t\t\t\tyear\n\t\t\t\tmes\n\t\t\t\tdia\n\t\t\t\tno_semana_year\n\t\t\t\tno_dia_year\n\t\t\t}\n\t\t\tfecha_salida{\n\t\t\t\tyear\n\t\t\t\tmes\n\t\t\t\tdia\n\t\t\t\tno_semana_year\n\t\t\t\tno_dia_year\n\t\t\t}\n\t\t\tmontos_en_caja {\n\t\t\t\tmonto_efectivo{\n                    monto \n                }\n                monto_tarjeta_credito{\n                    monto \n                }\n                monto_tarjeta_debito{\n                    monto \n                }\n                monto_creditos{\n                    monto \n                }\n                monto_monedero{\n                    monto \n                }\n                monto_transferencia{\n                    monto \n                }\n                monto_cheques{\n                    monto \n                }\n                monto_vales_despensa{\n                    monto \n                }\n\t\t\t}\n\t\t\tusuario_en_turno {\n\t\t\t\tnumero_usuario\n\t\t\t\tnombre\n\t\t\t}\n\t\t\tempresa\n\t\t\tsucursal\n\t\t}\n\t}\n`;\n\nexport const OBTENER_HISTORIAL_TURNOS = gql`\n\tquery obtenerFiltroTurnos($input: HistorialTurnosInput, $empresa: ID!, $sucursal: ID!) {\n\t\tobtenerFiltroTurnos(input: $input, empresa: $empresa, sucursal: $sucursal) {\n\t\t\thorario_en_turno\n\t\t\tconcepto\n\t\t\tnumero_caja\n\t\t\tid_caja\n\t\t\tcomentarios\n\t\t\thora_entrada {\n\t\t\t\thora\n\t\t\t\tminutos\n\t\t\t\tsegundos\n\t\t\t\tcompleta\n\t\t\t}\n\t\t\thora_salida{\n\t\t\t\thora\n\t\t\t\tminutos\n\t\t\t\tsegundos\n\t\t\t\tcompleta\n\t\t\t}\n\t\t\tfecha_entrada{\n\t\t\t\tyear\n\t\t\t\tmes\n\t\t\t\tdia\n\t\t\t\tno_semana_year\n\t\t\t\tno_dia_year\n\t\t\t\tcompleta\n\t\t\t}\n\t\t\tfecha_salida{\n\t\t\t\tyear\n\t\t\t\tmes\n\t\t\t\tdia\n\t\t\t\tno_semana_year\n\t\t\t\tno_dia_year\n\t\t\t\tcompleta\n\t\t\t}\n\t\t\tfecha_movimiento\n\t\t\tmontos_en_caja {\n\t\t\t\tmonto_efectivo{\n                    monto \n                }\n                monto_tarjeta_credito{\n                    monto \n                }\n                monto_tarjeta_debito{\n                    monto \n                }\n                monto_creditos{\n                    monto \n                }\n                monto_monedero{\n                    monto \n                }\n                monto_transferencia{\n                    monto \n                }\n                monto_cheques{\n                    monto \n                }\n                monto_vales_despensa{\n                    monto \n                }\n\t\t\t}\n\t\t\tusuario_en_turno {\n\t\t\t\tnumero_usuario\n\t\t\t\tnombre\n\t\t\t}\n\t\t\tempresa\n\t\t\tsucursal\n\t\t}\n\t}\n`;","import React, { useEffect, useState } from 'react';\nimport { AppBar, Box, Button, Dialog, FormControl, Grid, MenuItem, Select, Slide, TextField, Toolbar, Typography } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/styles';\nimport ReactExport from 'react-export-excel'; //LIBRERIA EXCEL\nimport CloseIcon from '@material-ui/icons/Close';\nimport SaveIcon from '@material-ui/icons/Save';\nimport TablaTurnosFiltrados from './TablaTurnosFiltrados';\nimport { useQuery } from '@apollo/client';\nimport { OBTENER_CAJAS } from '../../../../gql/Cajas/cajas';\nimport { OBTENER_HISTORIAL_TURNOS } from '../../../../gql/Ventas/abrir_cerrar_turno';\nimport { useDebounce } from 'use-debounce';\nimport moment from 'moment';\nimport 'moment/locale/es';\nimport ErrorPage from '../../../../components/ErrorPage';\nmoment.locale('es');\nconst ExcelFile = ReactExport.ExcelFile; //ARCHIVO DE EXCEL\nconst ExcelSheet = ReactExport.ExcelSheet; //HOJA DE EXCEL\nconst ExcelColumn = ReactExport.ExcelColumn; //COLUMNA DE EXCEL\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nconst useStyles = makeStyles((theme) => ({\n\tappBar: {\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n\ticon: {\n\t\twidth: 100\n\t},\n    formInputFlex: {\n\t\tdisplay: 'flex',\n\t\t'& > *': {\n\t\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(1)}px`\n\t\t},\n\t\t'& .obligatorio': {\n\t\t\tcolor: 'red'\n\t\t}\n\t},\n\tformInput: {\n\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(2)}px`\n\t},\n    margin: {\n\t\tmargin: theme.spacing(1)\n\t},\n\ticonSave: {\n\t\tzIndex: 10,\n\t\tposition: 'fixed',\n\t\tbottom: theme.spacing(2),\n\t\tright: theme.spacing(10)\n\t},\n}));\n\nexport default function ReportesTurnosUsuarios() {\n    const [open, setOpen] = useState(false);\n    const handleClickOpen =()=>{setOpen(!open)};\n    const classes = useStyles();\n\n    return (\n        <>\n            <Button aria-controls=\"simple-menu\" aria-haspopup=\"true\" onClick={handleClickOpen}>\n\t\t\t\t<Box display=\"flex\" flexDirection=\"column\">\n                    <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n                        <img \n                            src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/ventas/shift.svg'\n                            alt=\"icono caja\" \n                            style={{width: 100}}\n                        />\n                    </Box>\n\t\t\t\t\tTurnos de Usuarios\n\t\t\t\t</Box>\n\t\t\t</Button>\n\t\t\t<Dialog fullScreen open={open} onClose={handleClickOpen} TransitionComponent={Transition}>\n\t\t\t\t<AppBar className={classes.appBar}>\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t<Typography variant=\"h6\" className={classes.title}>\n                            Reportes Turnos de Usuarios\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Box m={1} display=\"flex\">\n                            <Box p={1}>\n                                <Button variant=\"contained\" color=\"secondary\" onClick={handleClickOpen} size=\"large\">\n                                    <CloseIcon style={{fontSize: 30}} />\n                                </Button>\n                            </Box>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</AppBar>\n                <FiltroTablaTurnos />\n\t\t\t</Dialog> \n        </>\n    )   \n};\n\nconst FiltroTablaTurnos = () => {\n\n    const classes = useStyles();\n    const sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n    const [filtros, setFiltros] = useState([]);\n    const [ datosExcel, setDatosExcel] = useState([]);\n\tconst [value] = useDebounce(filtros, 500);\n    let historialTurnos = [];\n\n    const cajas = useQuery(OBTENER_CAJAS,{\n\t\tvariables: {\n            empresa: sesion.empresa._id,\n\t\t\tsucursal: sesion.sucursal._id,\n\t\t}\n\t});\n\n    const { loading, data, error, refetch  } = useQuery(OBTENER_HISTORIAL_TURNOS,{\n\t\tvariables: {\n            empresa: sesion.empresa._id,\n\t\t\tsucursal: sesion.sucursal._id,\n            input: {\n                horario_en_turno: filtros.horario_turno ? filtros.horario_turno : \"\",\n                usuario_en_turno: value.usuario_en_turno ? value.usuario_en_turno : \"\",\n                numero_caja: filtros.numero_caja ? filtros.numero_caja : \"\",\n                fechaInicio: filtros.fechaInicio ? filtros.fechaInicio : \"\",\n                fechaFin: filtros.fechaFin ? filtros.fechaFin : \"\"\n            }\n\t\t}\n\t});\n\n    useEffect(\n\t\t() => {\n\t\t\trefetch();\n\t\t},\n\t\t[ refetch ]\n\t);\n\n    const obtenerDatos = (e) => {  \n        setFiltros({...filtros, [e.target.name]: e.target.value.toString()});\n    };\n\n    let arrayExcel = [];\n\n    const agruparDatos = (turnos) => {\n        datosExcel.splice(0, datosExcel.length);\n        for (let i = 0; i < turnos.length; i++) {\n            arrayExcel = { \n                fecha: turnos[i].fecha_movimiento,\n                nombre: turnos[i].usuario_en_turno.nombre,\n                numero_usuario: turnos[i].usuario_en_turno.numero_usuario,\n                fecha_entrada: turnos[i].fecha_entrada.completa,\n                fecha_salida: turnos[i].fecha_salida.completa,\n                hora_entrada: turnos[i].hora_entrada.completa,\n                hora_salida: turnos[i].hora_salida.completa,\n                horario_en_turno: turnos[i].horario_en_turno,\n                concepto: turnos[i].concepto,\n                caja: turnos[i].numero_caja,\n            }\n            datosExcel.push(arrayExcel);\n        };\n    };\n\n    if(data && cajas.loading  === false){\n\t\thistorialTurnos = data.obtenerFiltroTurnos;\n        agruparDatos(historialTurnos);\n\t};\n\n\tif (error) {\n\t\treturn <ErrorPage error={error} />;\n\t}\n\n    const filtrarProductos = (event) => {\n\t\tevent.preventDefault();\n        refetch();\n\t};\n    \n    const limpiarFiltros = () => {\n        setFiltros([]);\n    };\n    \n    return(\n        <>\n        <Grid container>\n            <ExcelFile\n                element={\n                    <Button\n                        variant=\"contained\"\n                        color=\"primary\"\n                        aria-label=\"Guardar\"\n                        className={classes.iconSave}\n                    >\n                        <SaveIcon className={classes.margin} />\n                        Exportar\n                    </Button>   \n                }\n                filename=\"Reporte de Turnos Usuarios\"\n            >\n                <ExcelSheet data={datosExcel} name={'Reporte de Turnos Usuarios'}>\n                    <ExcelColumn label='No. Usuario' value='numero_usuario' />\n                    <ExcelColumn label='Usuario' value='nombre' />\n                    <ExcelColumn label='Fecha Movimiento' value='fecha' />\n                    <ExcelColumn label='Fecha Entrada' value='fecha_entrada' />\n                    <ExcelColumn label='Fecha Salida' value='fecha_salida' />\n                    <ExcelColumn label='Hora Entrada' value='hora_entrada' />\n                    <ExcelColumn label='Hora Salida' value='hora_salida' />\n                    <ExcelColumn label='Horario en Turno' value='horario_en_turno' />\n                    <ExcelColumn label='Concepto' value='concepto' />\n                    <ExcelColumn label='No. de Caja' value='caja' />\n                </ExcelSheet>\n            </ExcelFile>\n\n            <Grid item lg={12}>\n                <div className={classes.formInputFlex}>\n                    <Box width=\"100%\">\n                        <Typography>\n                            Fecha inicio:\n                        </Typography>\n                        <TextField \n                            fullWidth\n                            size=\"small\"\n                            name=\"fechaInicio\"\n                            variant=\"outlined\"\n                            type=\"date\"\n                            onChange={obtenerDatos}\n                            value={filtros.fechaInicio ? filtros.fechaInicio : \"\"}\n                        />\n                    </Box>\n                    <Box width=\"100%\">\n                        <Typography>\n                            Fecha fin:\n                        </Typography>\n                        <TextField \n                            fullWidth\n                            size=\"small\"\n                            name=\"fechaFin\"\n                            variant=\"outlined\"\n                            type=\"date\"\n                            onChange={obtenerDatos}\n                            value={filtros.fechaFin ? filtros.fechaFin : \"\"}\n                        />\n                    </Box>\n                    <form onSubmit={filtrarProductos} style={{ display: 'flex', alignItems: 'center', width: \"100%\" }}>\n                        <Box width=\"100%\">\n                            <Typography>\n                                Usuario:\n                            </Typography>\n                            <TextField\n                                fullWidth\n                                size=\"small\"\n                                name=\"usuario_en_turno\"\n                                value={filtros.usuario_en_turno ? filtros.usuario_en_turno : \"\"}\n                                variant=\"outlined\"\n                                onChange={obtenerDatos}\n                            />\n                        </Box>\n                    </form>\n                    <Box width=\"100%\">\n                        <Typography>\n                            Caja:\n                        </Typography>\n                        <FormControl\n                            variant=\"outlined\"\n                            fullWidth\n                            size=\"small\"\n                        >\n                            <Select\n                                id=\"form-producto-tipo\"\n                                name=\"numero_caja\"\n                                onChange={obtenerDatos}\n                                value={filtros.numero_caja ? filtros.numero_caja : \"\"}\n                            >\n                                <MenuItem value=\"\">\n                                    <em>Selecciona uno</em>\n                                </MenuItem>\n                                {\n                                    cajas.data?.obtenerCajasSucursal?.map((caja) =>{\n                                        return(\n                                            <MenuItem key={caja.numero_caja} value={caja.numero_caja}>\n                                                Caja {caja.numero_caja}\n                                            </MenuItem>\n                                        );\n                                    })\n                                }\n                            </Select>\n                        </FormControl>\n                    </Box>\n                    <Box width=\"100%\">\n                        <Typography>\n                            Horario de Turno:\n                        </Typography>\n                        <FormControl\n                            variant=\"outlined\"\n                            fullWidth\n                            size=\"small\"\n                        >\n                            <Select\n                                id=\"form-producto-tipo\"\n                                name=\"horario_turno\"\n                                value={filtros.horario_turno ? filtros.horario_turno : \"\"}\n                                onChange={obtenerDatos}\n                            >\n                                <MenuItem value=\"\">\n                                    <em>Selecciona uno</em>\n                                </MenuItem>\n                                <MenuItem value=\"VESPERTINO\">Vespertino</MenuItem>\n                                <MenuItem value=\"MATUTINO\">Matutino</MenuItem>\n                            </Select>\n                        </FormControl>\n                    </Box>\n                    <Box width=\"70%\" display=\"flex\" justifyContent=\"center\" justifyItems=\"center\" alignItems=\"center\">\n                        <Box mt={2}>\n                            <Button\n                                color=\"primary\"\n                                size=\"large\"\n                                variant=\"contained\"\n                                onClick={limpiarFiltros}\n                            >\n                                Limpiar\n                            </Button>\n                        </Box>\n                    </Box>\n                </div>\n            </Grid> \n           \n        </Grid>    \n        <Grid item lg={12}>\n            <TablaTurnosFiltrados loading={loading} turnos={historialTurnos} />\n        </Grid>  \n        </>\n    );\n}","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport { Box } from \"@material-ui/core\";\nimport {\n  formatoFechaCorta,\n  formatoMexico,\n} from \"../../../../config/reuserFunctions\";\nimport { formaPago } from \"../../Facturacion/catalogos\";\n\nconst columns = [\n  { label: \"Nombre producto\", minWidth: 160 },\n  { label: \"Fecha de Compra\", minWidth: 160 },\n  { label: \"Almacen\", minWidth: 100 },\n  { label: \"Proveedor\", minWidth: 100 },\n  { label: \"M. pago\", minWidth: 90 },\n  { label: \"F. pago\", minWidth: 100 },\n  { label: \"Cantidad\", minWidth: 90 },\n  { label: \"Descuento\", minWidth: 100 },\n  { label: \"Subtotal\", minWidth: 90 },\n  { label: \"Impuestos\", minWidth: 90 },\n  { label: \"Total\", minWidth: 100 },\n];\n\nconst useStyles = makeStyles((theme) => ({\n  container: {\n    maxHeight: \"70vh\",\n  },\n}));\n\nexport default function TablaComprasFiltradas({ data }) {\n  const classes = useStyles();\n\n  return (\n    <Box my={2}>\n      <Paper variant=\"outlined\">\n        <TableContainer className={classes.container}>\n          <Table size=\"small\" stickyHeader aria-label=\"a dense table\">\n            <TableHead>\n              <TableRow>\n                {columns.map((column, index) => (\n                  <TableCell\n                    key={index}\n                    /* align={column.align} */\n                    style={{ minWidth: column.minWidth }}\n                  >\n                    {column.label}\n                  </TableCell>\n                ))}\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {data.map((data, index) => {\n                const result = formaPago.filter(\n                  (res) => res.Value === data.forma_pago\n                );\n                let forma_pago = result[0];\n\n                return (\n                  <TableRow key={index} role=\"checkbox\" tabIndex={-1}>\n                    <TableCell>\n                      {data.producto.datos_generales.nombre_comercial}\n                    </TableCell>\n                    <TableCell>\n                      {formatoFechaCorta(data.fecha_registro)}\n                    </TableCell>\n                    <TableCell>{data.almacen.nombre_almacen}</TableCell>\n                    <TableCell>{data.proveedor.nombre_cliente}</TableCell>\n                    <TableCell>\n                      {data.compra_credito ? \"Crédito\" : \"Contado\"}\n                    </TableCell>\n                    <TableCell>\n                      {`${forma_pago.Value}-${forma_pago.Name}`}\n                    </TableCell>\n                    <TableCell>\n                      {`${data.cantidad_total} - ${data.unidad}`}\n                    </TableCell>\n                    <TableCell>\n                      {`%${data.descuento_porcentaje} - $${\n                        data.descuento_precio\n                          ? formatoMexico(data.descuento_precio)\n                          : 0\n                      }`}\n                    </TableCell>\n                    <TableCell>${formatoMexico(data.subtotal)}</TableCell>\n                    <TableCell>${formatoMexico(data.impuestos)}</TableCell>\n                    <TableCell>${formatoMexico(data.total)}</TableCell>\n                  </TableRow>\n                );\n              })}\n            </TableBody>\n          </Table>\n        </TableContainer>\n      </Paper>\n    </Box>\n  );\n}\n","import { gql } from \"@apollo/client\";\n\nexport const OBTENER_REPORTE_COMPRAS = gql`\n  query obtenerProductoMovimientos(\n    $empresa: ID!\n    $sucursal: ID\n    $input: ObteneReportesCompras\n  ) {\n    obtenerProductoMovimientos(\n      empresa: $empresa\n      sucursal: $sucursal\n      input: $input\n    ) {\n      _id\n      id_compra\n      id_traspaso\n      id_producto\n      id_proveedor\n      id_almacen\n      almacen {\n        id_almacen\n        nombre_almacen\n      }\n      proveedor {\n        _id\n        clave_cliente\n        numero_cliente\n        nombre_cliente\n      }\n      producto {\n        almacen_inicial {\n          almacen\n          cantidad\n          fecha_de_expiracion\n          id_almacen\n        }\n        datos_generales {\n          codigo_barras\n          clave_alterna\n          tipo_producto\n          nombre_comercial\n          nombre_generico\n          descripcion\n          id_categoria\n          categoria\n          subcategoria\n          id_subcategoria\n          id_departamento\n          departamento\n          id_marca\n          marca\n          clave_producto_sat {\n            Name\n            Value\n          }\n          receta_farmacia\n        }\n        precios {\n          ieps\n          ieps_activo\n          iva\n          iva_activo\n          monedero\n          monedero_electronico\n          granel\n          litros\n          inventario {\n            inventario_minimo\n            inventario_maximo\n            unidad_de_inventario\n            codigo_unidad\n          }\n          precio_de_compra {\n            precio_con_impuesto\n            precio_sin_impuesto\n            iva\n            ieps\n          }\n          precios_producto {\n            numero_precio\n            precio_neto\n            precio_venta\n            iva_precio\n            ieps_precio\n            unidad_mayoreo\n            utilidad\n            precio_general\n            cantidad_unidad\n            unidad_maxima\n          }\n          unidad_de_compra {\n            cantidad\n            precio_unitario_con_impuesto\n            unidad\n            codigo_unidad\n          }\n        }\n        unidades_de_venta {\n          cantidad\n          codigo_barras\n          id_producto\n          precio\n          unidad\n          unidad_principal\n          _id\n          precio_unidad {\n            numero_precio\n            precio_neto\n            precio_venta\n            iva_precio\n            ieps_precio\n            unidad_mayoreo\n            utilidad\n            precio_general\n            cantidad_unidad\n            unidad_maxima\n          }\n        }\n      }\n      concepto\n      cantidad\n      cantidad_regalo\n      unidad_regalo\n      cantidad_total\n      iva_total\n      ieps_total\n      costo\n      descuento_porcentaje\n      descuento_precio\n      compra_credito\n      forma_pago\n      impuestos\n      mantener_precio\n      subtotal\n      total\n      medida {\n        id_medida\n        medida\n        tipo\n      }\n      color {\n        id_color\n        color\n        hex\n      }\n      unidad\n      id_unidad_venta\n      empresa\n      sucursal\n      usuario\n      year_registro\n      numero_semana_year\n      numero_mes_year\n      fecha_registro\n    }\n  }\n`;\n","import React from \"react\";\nimport { Button } from \"@material-ui/core\";\nimport { RiFileExcel2Line } from \"react-icons/ri\";\nimport {\n  formatoFechaCorta,\n  formatoMexico,\n} from \"../../../../config/reuserFunctions\";\nimport { formaPago } from \"../../Facturacion/catalogos\";\n\nimport ReactExport from \"react-export-excel\";\n\nconst ExcelFile = ReactExport.ExcelFile;\nconst ExcelSheet = ReactExport.ExcelFile.ExcelSheet;\nconst ExcelColumn = ReactExport.ExcelFile.ExcelColumn;\n\nexport default function ExportarCompras({ data }) {\n  const compras = data.map((compra) => {\n    const {\n      producto,\n      fecha_registro,\n      almacen,\n      proveedor,\n      color,\n      medida,\n      cantidad,\n      unidad,\n      unidad_regalo,\n      cantidad_regalo,\n      cantidad_total,\n      compra_credito,\n      costo,\n      descuento_porcentaje,\n      descuento_precio,\n      iva_precio,\n      ieps_precio,\n      subtotal,\n      impuestos,\n      total,\n    } = compra;\n    const forma_pago_filtrada = formaPago.filter(\n      (forma) => forma.Value === compra.forma_pago\n    );\n    const forma_pago = forma_pago_filtrada[0];\n\n    const compra_realizada = {\n      producto: producto.datos_generales.nombre_comercial,\n      fecha_registro: formatoFechaCorta(fecha_registro),\n      almacen: almacen.nombre_almacen,\n      proveedor: proveedor.nombre_cliente,\n      color: color ? color.color : \"N/A\",\n      medida: medida ? `${medida.medida}/${medida.tipo}` : \"N/A\",\n      cantidad,\n      unidad,\n      unidad_regalo,\n      cantidad_regalo,\n      cantidad_total,\n      compra_credito: compra_credito === true ? \"Credito\" : \"Contado\",\n      forma_pago: `${forma_pago.Value} - ${forma_pago.Name}`,\n      costo: `$${costo ? formatoMexico(costo) : 0}`,\n      descuento_porcentaje: `%${descuento_porcentaje}`,\n      descuento_precio: `$${\n        descuento_precio ? formatoMexico(descuento_precio) : 0\n      }`,\n      iva_precio: `$${ieps_precio ? formatoMexico(ieps_precio) : 0}`,\n      subtotal: `$${subtotal ? formatoMexico(subtotal) : 0}`,\n      impuestos: `$${impuestos ? formatoMexico(impuestos) : 0}`,\n      total: `$${total ? formatoMexico(total) : 0}`,\n    };\n\n    return compra_realizada;\n  });\n  return (\n    <ExcelFile\n      element={\n        <Button color=\"primary\" startIcon={<RiFileExcel2Line />}>\n          Exportar a Excel\n        </Button>\n      }\n      filename=\"Reporte de compras\"\n    >\n      <ExcelSheet data={compras} name=\"Reporte de compras\">\n        <ExcelColumn label=\"Producto\" value=\"producto\" />\n        <ExcelColumn label=\"Fecha de compra\" value=\"fecha_registro\" />\n        <ExcelColumn label=\"Almacen\" value=\"almacen\" />\n        <ExcelColumn label=\"Proveedor\" value=\"proveedor\" />\n        <ExcelColumn label=\"Color\" value=\"color\" />\n        <ExcelColumn label=\"Medida\" value=\"medida\" />\n        <ExcelColumn label=\"Cantidad\" value=\"cantidad\" />\n        <ExcelColumn label=\"Unidad\" value=\"unidad\" />\n        <ExcelColumn label=\"Unidad de Regalo\" value=\"unidad_regalo\" />\n        <ExcelColumn label=\"Cantidad de Regalo\" value=\"cantidad_regalo\" />\n        <ExcelColumn label=\"Cantidad Total\" value=\"cantidad_total\" />\n        <ExcelColumn label=\"Metodo de Pago\" value=\"compra_credito\" />\n        <ExcelColumn label=\"Forma de pago\" value=\"forma_pago\" />\n        <ExcelColumn label=\"Costo\" value=\"costo\" />\n        <ExcelColumn\n          label=\"Descuento en Porcentaje\"\n          value=\"descuento_porcentaje\"\n        />\n        <ExcelColumn label=\"Descuento en Cantidad\" value=\"descuento_precio\" />\n        <ExcelColumn label=\"IVA\" value=\"iva_precio\" />\n        <ExcelColumn label=\"IEPS\" value=\"ieps_precio\" />\n        <ExcelColumn label=\"Subtotal\" value=\"subtotal\" />\n        <ExcelColumn label=\"Impuestos\" value=\"impuestos\" />\n        <ExcelColumn label=\"Total\" value=\"total\" />\n      </ExcelSheet>\n    </ExcelFile>\n  );\n}\n","import {\n  Box,\n  Button,\n  CircularProgress,\n  DialogContent,\n  FormControl,\n  Grid,\n  MenuItem,\n  Select,\n  TextField,\n  Typography,\n} from \"@material-ui/core\";\nimport React, { Fragment, useEffect, useState } from \"react\";\nimport TablaComprasFiltradas from \"./TablaComprasFiltradas\";\nimport { formaPago } from \"../../Facturacion/catalogos\";\nimport { useDebounce } from \"use-debounce/lib\";\nimport { OBTENER_REPORTE_COMPRAS } from \"../../../../gql/Compras/reporte_compras\";\nimport { useQuery } from \"@apollo/client\";\nimport ErrorPage from \"../../../../components/ErrorPage\";\nimport { ClearOutlined } from \"@material-ui/icons\";\nimport ExportarCompras from \"./ExportarCompras\";\n\nexport default function FiltrosCompras() {\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n\n  const { loading, data, error, refetch } = useQuery(OBTENER_REPORTE_COMPRAS, {\n    variables: {\n      empresa: sesion.empresa._id,\n      sucursal: sesion.sucursal._id,\n      input: {\n        fecha_inicio: \"\",\n        fecha_fin: \"\",\n        proveedor: \"\",\n        metodo_pago: \"\",\n        forma_pago: \"\",\n        producto: \"\",\n      },\n    },\n    fetchPolicy: \"network-only\",\n  });\n\n  if (loading) {\n    return (\n      <Box\n        display=\"flex\"\n        flexDirection=\"column\"\n        justifyContent=\"center\"\n        alignItems=\"center\"\n        height=\"80vh\"\n      >\n        <CircularProgress />\n        <Typography variant=\"h6\">Cargando...</Typography>\n      </Box>\n    );\n  }\n\n  if (error) return <ErrorPage error={error} />;\n\n  const { obtenerProductoMovimientos } = data;\n\n  return (\n    <Fragment>\n      <DialogContent>\n        <CapturaDeDatos refetch={refetch} data={obtenerProductoMovimientos} />\n        <TablaComprasFiltradas data={obtenerProductoMovimientos} />\n      </DialogContent>\n    </Fragment>\n  );\n}\n\nconst CapturaDeDatos = ({ refetch, data }) => {\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n  const [filtro, setFiltro] = useState({\n    fecha_inicio: \"\",\n    fecha_fin: \"\",\n    proveedor: \"\",\n    metodo_pago: \"\",\n    forma_pago: \"\",\n    producto: \"\",\n  });\n\n  const [values] = useDebounce(filtro, 800);\n\n  const limpiarFiltros = () => {\n    setFiltro({\n      fecha_inicio: \"\",\n      fecha_fin: \"\",\n      proveedor: \"\",\n      metodo_pago: \"\",\n      forma_pago: \"\",\n      producto: \"\",\n    });\n  };\n\n  const obtenerCamposFiltro = (e) => {\n    const { name, value } = e.target;\n    setFiltro({\n      ...filtro,\n      [name]: value,\n    });\n  };\n\n  useEffect(() => {\n    realizarBusquedaBD(values);\n  }, [values]);\n\n  const realizarBusquedaBD = (filter) => {\n    refetch({\n      empresa: sesion.empresa._id,\n      sucursal: sesion.sucursal._id,\n      input: filter,\n    });\n  };\n  return (\n    <Fragment>\n      <Grid container spacing={2}>\n        <Grid item md={2}>\n          <Typography>Fecha compra inicio:</Typography>\n          <TextField\n            fullWidth\n            size=\"small\"\n            name=\"fecha_inicio\"\n            variant=\"outlined\"\n            type=\"date\"\n            onChange={obtenerCamposFiltro}\n            value={filtro.fecha_inicio}\n          />\n        </Grid>\n        <Grid item md={2}>\n          <Typography>Fecha compra fin:</Typography>\n          <TextField\n            fullWidth\n            size=\"small\"\n            name=\"fecha_fin\"\n            variant=\"outlined\"\n            type=\"date\"\n            onChange={obtenerCamposFiltro}\n            value={filtro.fecha_fin}\n          />\n        </Grid>\n        <Grid item md={2}>\n          <Typography>Proveedor:</Typography>\n          <TextField\n            fullWidth\n            size=\"small\"\n            name=\"proveedor\"\n            variant=\"outlined\"\n            placeholder=\"Nombre, Clave o numero\"\n            onChange={obtenerCamposFiltro}\n            value={filtro.proveedor}\n          />\n        </Grid>\n        <Grid item md={2}>\n          <Typography>Método de pago:</Typography>\n          <FormControl variant=\"outlined\" fullWidth size=\"small\">\n            <Select\n              name=\"metodo_pago\"\n              onChange={obtenerCamposFiltro}\n              value={filtro.metodo_pago}\n            >\n              <MenuItem value=\"\">\n                <em>Cualquier metodo</em>\n              </MenuItem>\n              <MenuItem value=\"CREDITO\">Crédito</MenuItem>\n              <MenuItem value=\"CONTADO\">Contado</MenuItem>\n            </Select>\n          </FormControl>\n        </Grid>\n        <Grid item md={2}>\n          <Typography>Forma de Pago:</Typography>\n          <FormControl variant=\"outlined\" fullWidth size=\"small\">\n            <Select\n              name=\"forma_pago\"\n              onChange={obtenerCamposFiltro}\n              value={filtro.forma_pago}\n            >\n              <MenuItem value=\"\">\n                <em>Cualquier forma</em>\n              </MenuItem>\n              {formaPago.map((res, index) => (\n                <MenuItem\n                  key={index}\n                  value={res.Value}\n                >{`${res.Value} - ${res.Name}`}</MenuItem>\n              ))}\n            </Select>\n          </FormControl>\n        </Grid>\n        <Grid item md={2}>\n          <Typography>Producto:</Typography>\n          <TextField\n            fullWidth\n            size=\"small\"\n            name=\"producto\"\n            variant=\"outlined\"\n            placeholder=\"Nombre, código, clave...\"\n            onChange={obtenerCamposFiltro}\n            value={filtro.producto}\n          />\n        </Grid>\n      </Grid>\n      <Box mt={1} display=\"flex\">\n        <Button\n          color=\"primary\"\n          startIcon={<ClearOutlined />}\n          onClick={() => limpiarFiltros()}\n        >\n          Limpiar filtros\n        </Button>\n        <Box mx={1} />\n        <ExportarCompras data={data} />\n      </Box>\n    </Fragment>\n  );\n};\n","import {\n  AppBar,\n  Box,\n  Button,\n  Dialog,\n  Slide,\n  Toolbar,\n  Typography,\n} from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/styles\";\nimport React, { useState } from \"react\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport { FcPaid } from \"react-icons/fc\";\nimport FiltrosCompras from \"./FiltrosCompra\";\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nconst useStyles = makeStyles((theme) => ({\n  appBar: {\n    position: \"relative\",\n  },\n  title: {\n    marginLeft: theme.spacing(2),\n    flex: 1,\n  },\n}));\n\nexport default function ReportesCompras() {\n  const classes = useStyles();\n  const [open, setOpen] = useState(false);\n\n  const handleClickOpen = () => {\n    setOpen(!open);\n  };\n\n  return (\n    <Box>\n      <Button fullWidth onClick={handleClickOpen}>\n        <Box display=\"flex\" flexDirection=\"column\">\n          <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n            <FcPaid fontSize={100} />\n          </Box>\n          Reportes Compras\n        </Box>\n      </Button>\n      <Dialog\n        fullScreen\n        open={open}\n        onClose={handleClickOpen}\n        TransitionComponent={Transition}\n      >\n        <AppBar className={classes.appBar}>\n          <Toolbar>\n            <Typography variant=\"h6\" className={classes.title}>\n              Reportes Compras\n            </Typography>\n            <Box m={1}>\n              <Button\n                variant=\"contained\"\n                color=\"secondary\"\n                onClick={handleClickOpen}\n                size=\"large\"\n              >\n                <CloseIcon style={{ fontSize: 30 }} />\n              </Button>\n            </Box>\n          </Toolbar>\n        </AppBar>\n        <FiltrosCompras />\n      </Dialog>\n    </Box>\n  );\n}\n","import React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TablePagination from '@material-ui/core/TablePagination';\nimport TableRow from '@material-ui/core/TableRow';\nimport { Box} from '@material-ui/core';\n\nconst columns = [\n\t{ id: 'name', label: 'F. Venta', minWidth: 100 },\n\t{ id: 'code', label: 'Producto', minWidth: 100 },\n\t{ id: 'code', label: 'P. de Compra', minWidth: 100 },\t\n\t{ id: 'code', label: 'Cantidad', minWidth: 100 },\n\t{ id: 'code', label: 'Total', minWidth: 100 },\t\n\t{ id: 'code', label: 'Provedor', minWidth: 100 },\t\n\t{ id: 'code', label: 'Fomas', minWidth: 100 },\t\n\t{ id: 'code', label: 'M. de Pago', minWidth: 100 },\t\n\n];\n\nconst useStyles  = makeStyles((theme) => ({\n\troot: {\n\t\twidth: '100%'\n\t},\n\tcontainer: {\n\t\tmaxHeight: '100%'\n\t},\n    appBar: {\t\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n\trootBusqueda: {\n\t\tdisplay: 'flex',\n\t\tpaddingLeft: theme.spacing(2)\n\t},\n}));\n\nexport default function TablaVentasFiltradas() {\n\tconst classes = useStyles();\n\n\treturn (\n        <Box p={2}>\n            <Paper className={classes.root}>\n                <TableContainer className={classes.container}>\n                    <Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n                        <TableHead>\n                            <TableRow>\n                                {columns.map((column) => (\n                                    <TableCell key={column.id} align={column.align} style={{ minWidth: column.minWidth }}>\n                                        {column.label}\n                                    </TableCell>\n                                ))}\n                            </TableRow>\n                        </TableHead>\n                        <TableBody>\n                            \n                        </TableBody>\n                    </Table>\n                </TableContainer>\n            </Paper>\n        </Box>\n\t);\n}","import { AppBar, Box, Button, Dialog, FormControl, Grid, MenuItem, Select, Slide, TextField, Toolbar, Typography } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/styles';\nimport React, { useState } from 'react';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { FcPaid } from 'react-icons/fc';\nimport SaveIcon from '@material-ui/icons/Save';\nimport TablaVentasFiltradas from './TablaVentasFiltradas';\n\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nconst useStyles = makeStyles((theme) => ({\n\tappBar: {\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n\ticon: {\n\t\twidth: 100\n\t},\n    formInputFlex: {\n\t\tdisplay: 'flex',\n\t\t'& > *': {\n\t\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(1)}px`\n\t\t},\n\t\t'& .obligatorio': {\n\t\t\tcolor: 'red'\n\t\t}\n\t},\n\tformInput: {\n\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(2)}px`\n\t},\n    margin: {\n\t\tmargin: theme.spacing(1)\n\t},\n\ticonSave: {\n\t\tzIndex: 10,\n\t\tposition: 'fixed',\n\t\tbottom: theme.spacing(2),\n\t\tright: theme.spacing(10)\n\t},\n}));\n\nexport default function ReportesVentas() {\n\n    const classes = useStyles();\n\n    const [open, setOpen] = useState(false);\n\n    const handleClickOpen =()=>{setOpen(!open)};\n\n    return (\n        <>\n            <Button fullWidth onClick={handleClickOpen}>\n\t\t\t\t<Box display=\"flex\" flexDirection=\"column\">\n\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n                        <img src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/ventas/cart-add.svg' alt=\"icono ventas\" style={{width: 100}} />\n\t\t\t\t\t</Box>\n\t\t\t\t\tReportes Ventas\n\t\t\t\t</Box>\n\t\t\t</Button>\n\t\t\t<Dialog fullScreen open={open} onClose={handleClickOpen} TransitionComponent={Transition}>\n\t\t\t\t<AppBar className={classes.appBar}>\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t<Typography variant=\"h6\" className={classes.title}>\n\t\t\t\t\t\t\tReportes Ventas\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Box m={1}>\n\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"secondary\" onClick={handleClickOpen} size=\"large\">\n\t\t\t\t\t\t\t\t<CloseIcon style={{fontSize: 30}} />\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</AppBar>\n                <Grid container>\n                    <Button\n                        variant=\"contained\"\n                        color=\"primary\"\n                        aria-label=\"Guardar\"\n                        className={classes.iconSave}\n                    >\n                        <SaveIcon className={classes.margin} />\n                        Exportar\n                    </Button>\n                    <Grid item lg={12}>\n                        <div className={classes.formInputFlex}>\n                            <Box width=\"100%\">\n                                <Typography>\n                                    Fecha inicio:\n                                </Typography>\n                                <TextField \n                                    fullWidth\n                                    size=\"small\"\n                                    name=\"fechaInicio\"\n                                    variant=\"outlined\"\n                                    type=\"date\"\n                                />\n                            </Box>\n                            <Box width=\"100%\">\n                                <Typography>\n                                    Fecha fin:\n                                </Typography>\n                                <TextField \n                                    fullWidth\n                                    size=\"small\"\n                                    name=\"fechaFin\"\n                                    variant=\"outlined\"\n                                    type=\"date\"\n                                />\n                            </Box>\n                            <Box width=\"100%\">\n                                <Typography>\n                                    Clientes:\n                                </Typography>\n                                <TextField\n                                    fullWidth\n                                    size=\"small\"\n                                    name=\"provedor\"\n                                    variant=\"outlined\"\n                                />\n                            </Box>\n                            <Box width=\"100%\">\n                                <Typography>\n                                    Metodos de Pago:\n                                </Typography>\n                                <FormControl\n                                    variant=\"outlined\"\n                                    fullWidth\n                                    size=\"small\"\n                                >\n                                    <Select\n                                        id=\"form-producto-tipo\"\n                                        name=\"tipo_producto\"\n                                    >\n                                        <MenuItem value=\"\">\n                                            <em>Selecciona uno</em>\n                                        </MenuItem>\n                                        <MenuItem value=\"EFECTIVO\">Efectivo</MenuItem>\n                                        <MenuItem value=\"PUNTOS\">Puntos</MenuItem>\n                                        <MenuItem value=\"DEBITO\">T. Debito</MenuItem>\n                                        <MenuItem value=\"CREDITO\">T. Credito</MenuItem>\n                                        <MenuItem value=\"CHEQUES\">Cheques</MenuItem>\n                                    </Select>\n                                </FormControl>\n                            </Box>\n                            <Box width=\"100%\">\n                                <Typography>\n                                    Nombre Producto:\n                                </Typography>\n                                <TextField\n                                    fullWidth\n                                    size=\"small\"\n                                    name=\"provedor\"\n                                    variant=\"outlined\"\n                                />\n                            </Box>\n                        </div>\n                    </Grid> \n                    <Grid item lg={12}>\n                        <TablaVentasFiltradas />\n                    </Grid>\n                    \n                </Grid>            \n\t\t\t</Dialog> \n        </>\n    )   \n}\n","import React from \"react\";\nimport { Button } from \"@material-ui/core\";\nimport { RiFileExcel2Line } from \"react-icons/ri\";\nimport {\n  formatoFechaCorta,\n  formatoMexico,\n} from \"../../../../config/reuserFunctions\";\nimport { formaPago } from \"../../Facturacion/catalogos\";\n\nimport ReactExport from \"react-export-excel\";\n\nconst ExcelFile = ReactExport.ExcelFile;\nconst ExcelSheet = ReactExport.ExcelFile.ExcelSheet;\nconst ExcelColumn = ReactExport.ExcelFile.ExcelColumn;\n\nexport default function ExportarTraspasos({ data }) {\n  const traspasos = data.map((traspaso) => {\n    const trasp =  {\n      producto: traspaso.producto.datos_generales.nombre_comercial,\n      cantidad: traspaso.cantidad,\n      fecha:\tformatoFechaCorta(traspaso.id_traspaso.fecha_registro),\n      concepto: traspaso.id_traspaso.concepto_traspaso.nombre_concepto,\n      almacen_origen: (traspaso.almacen_origen !== null) ? traspaso.almacen_origen.nombre_almacen : '',\n      almacen_destino:(traspaso.almacen_destino !== null) ? traspaso.almacen_destino.nombre_almacen : ''\n    } ;\n  \n    return trasp;\n  });\n  return (\n    <ExcelFile\n      element={\n        <Button color=\"primary\" startIcon={<RiFileExcel2Line />}>\n          Exportar a Excel\n        </Button>\n      }\n      filename=\"Reporte de traspasos\"\n    >\t\n\n      <ExcelSheet data={traspasos} name=\"Reporte de traspasos\">\n        <ExcelColumn label=\"Producto\" value=\"producto\" />\n        <ExcelColumn label=\"Cantidad\" value=\"cantidad\" />\n        <ExcelColumn label=\"Fecha\" value=\"fecha\" />\n        <ExcelColumn label=\"Concepto\" value=\"concepto\" />\n        <ExcelColumn label=\"Almacén Origen\" value=\"almacen_origen\" />\n        <ExcelColumn label=\"Almacén Destino\" value=\"almacen_destino\" />\n        \n        \n      </ExcelSheet>\n    </ExcelFile>\n  );\n}\n","import React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport { Box} from '@material-ui/core';\nimport {\n  formatoFechaCorta,\n\n} from \"../../../../config/reuserFunctions\"; \n\nconst columns = [\n\t{ id: 'producto', label: 'Producto', minWidth: 200 },\n\t\n\t{ id: 'cantidad', label: 'Cantidad', minWidth: 50 },\n\t{ id: 'fecha', label: 'Fecha ', minWidth: 50 },\t\n\t{ id: 'concepto', label: 'Concepto ', minWidth: 100 },\n\t{ id: 'almacen_origen', label: 'Almacén Origen', minWidth: 100 },\t\n\t{ id: 'almacen_destino', label: 'Almacén Destino', minWidth: 100 },\t\n\n\n];\n\nconst useStyles  = makeStyles((theme) => ({\n\troot: {\n\t\twidth: '100%'\n\t},\n\tcontainer: {\n\t\tmaxHeight: '100%'\n\t},\n    appBar: {\t\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n\trootBusqueda: {\n\t\tdisplay: 'flex',\n\t\tpaddingLeft: theme.spacing(2)\n\t},\n}));\n\nexport default function TablaAlmacenFiltradas({data}) {\n\tconst classes = useStyles();\n\n\treturn (\n        <Box p={2}>\n            <Paper className={classes.root}>\n                <TableContainer className={classes.container}>\n                    <Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n                        <TableHead>\n                            <TableRow>\n                                {columns.map((column) => (\n                                    <TableCell key={column.id} align={column.align} style={{ minWidth: column.minWidth }}>\n                                        {column.label}\n                                    </TableCell>\n                                ))}\n                            </TableRow>\n                        </TableHead>\n                         <TableBody>\n\t\t\t\t\t\t\t{data.map((data, index) => {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<TableRow key={index} role=\"checkbox\" tabIndex={-1}>\n\t\t\t\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\t\t\t{data.producto.datos_generales.nombre_comercial}\n\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t<TableCell>{data.cantidad}</TableCell>\n\t\t\t\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\t\t\t{formatoFechaCorta(data.id_traspaso.fecha_registro)}\n\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\t\t\t{data.id_traspaso.concepto_traspaso.nombre_concepto}\n\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t<TableCell>{(data.almacen_origen !== null) ? data.almacen_origen.nombre_almacen : ''}</TableCell>\n\t\t\t\t\t\t\t\t\t<TableCell>{(data.almacen_destino !== null) ? data.almacen_destino.nombre_almacen : ''}</TableCell>\n\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</TableBody>\n                    </Table>\n                </TableContainer>\n            </Paper>\n        </Box>\n\t);\n}","import React, { useState,  Fragment } from 'react';\n\nimport { AppBar, Box, Button, Dialog, FormControl, \nGrid, MenuItem, Select, Slide, TextField, Toolbar, \nTypography } from '@material-ui/core';\nimport {CircularProgress} from \"@material-ui/core\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport { makeStyles } from '@material-ui/styles';\nimport { OBTENER_USUARIOS } from '../../../../gql/Catalogos/usuarios';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { ClearOutlined } from \"@material-ui/icons\";\nimport ExportarTraspasos from \"./ExportarTraspasos\";\nimport TablaAlmacenFiltradas from './TablaAlmacenFiltradas';\nimport { useQuery } from '@apollo/client';\n\n\nimport { OBTENER_ALMACENES, OBTENER_TRASPASOS  } from '../../../../gql/Almacenes/Almacen';\nimport { useDebounce } from 'use-debounce';\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nconst useStyles = makeStyles((theme) => ({\n\tappBar: {\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n\ticon: {\n\t\twidth: 100\n\t},\n    formInputFlex: {\n\t\tdisplay: 'flex',\n\t\t'& > *': {\n\t\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(1)}px`\n\t\t},\n\t\t'& .obligatorio': {\n\t\t\tcolor: 'red'\n\t\t}\n\t},\n\tformInput: {\n\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(2)}px`\n\t},\n    margin: {\n\t\tmargin: theme.spacing(1)\n\t},\n    CircularProgress:{\n         width: '100%',\n        height: 200,\n        marginTop:100,\n        display: 'flex',\n        justifyContent: 'center'\n    },\n\ticonSave: {\n\t\tzIndex: 10,\n\t\tposition: 'fixed',\n\t\tbottom: theme.spacing(2),\n\t\tright: theme.spacing(10)\n\t},\n}));\n\nexport default function ReportesAlmacen() {\n\n    const classes = useStyles();\n    const sesion = JSON.parse(localStorage.getItem('sesionCafi'));\t\n    const [open, setOpen] = useState(false);\n    const [almacenOrigen, setAlmacenOrigen] = useState(null);\n    const [almacenDestino, setAlmacenDestino] = useState(null);\n    const [loading, setLoading] = useState(false);\n    const [inputFilter, setFilter] = useState({\n        empresa: sesion.empresa._id,\n        sucursal: sesion.sucursal._id,\n        producto: '',\n        fecha_inicio: '',\n        fecha_final: '',\n        usuario: ''\n    });\n\n    const [encargado, setEncargado] = useState('');\n    const [value] = useDebounce(inputFilter, 1000);\n\n    let almacenes = [];\n    let traspasos = [];\n    let usuarios = [];\n\n\n    const queryObtenerAlmacenes = useQuery(OBTENER_ALMACENES,{\n        variables: {\n            id: sesion.sucursal._id\n        },\n         fetchPolicy: \"network-only\"\n    });\t\n    \n    const queryObtenerUsuarios =  useQuery(OBTENER_USUARIOS,{\n        variables: {\n            sucursal: `${sesion.sucursal._id}`\n        },\n        \n         fetchPolicy: \"network-only\"\n    })\n    const traspasosAlmacenes = useQuery(OBTENER_TRASPASOS,{\n        variables:{\n            input: value\n        },\n        fetchPolicy: \"network-only\"\n    });\t\n\t\n\n  /*   useEffect(() => {\n        try {\n            \n            traspasosAlmacenes.refetch({\n                  input: inputFilter\n            }) \n        } catch (error) {\n            console.log('traspasosAlmacenes',error)\n        }\n        \n    }, []); */\n    \n    const limpiarFiltros = () => {\n        try {\n            let filt = {\n                empresa: sesion.empresa._id,\n                sucursal: sesion.sucursal._id,\n                producto: '',\n                fecha_inicio: '',\n                fecha_final: '',\n                usuario: ''\n            };\n          \n        \n            setFilter(filt);\n            setLoading(true);\n            traspasosAlmacenes.refetch(\n                {\n                    input: filt\n                }\n            )\n            setEncargado('');\n            setAlmacenOrigen(null);\n            setAlmacenDestino(null);\n            setLoading(false);\n        } catch (error) {\n            \n        }\n  \n\n  };\n    const handleClickOpen =()=>{setOpen(!open)};\n    \n    if(queryObtenerAlmacenes.data){\n        almacenes = queryObtenerAlmacenes.data.obtenerAlmacenes;\n       \n    }\n     \n    const setDatosInput = (e) =>{\n      \n          let fil = {...inputFilter, [e.target.name]: e.target.value,almacen_destino:almacenDestino,almacen_origen : almacenOrigen}\n        setFilter(fil)\n    }\n    const setQueryAlmacenOrigen = (alm) =>{\n           \n        let almDes = (almacenDestino !== null ) ? almacenDestino._id : '';\n        \n        if(alm._id !== ''){\n             setLoading(true);\n            let fil = {...inputFilter, almacen_origen : alm._id, almacen_destino: almDes}\n        \n            traspasosAlmacenes.refetch(\n                {\n                    input: fil\n                }\n            )\n           \n        }\n         setAlmacenOrigen(alm)\n          setLoading(false);\n    }\n     const setQueryAlmacenDestino = (alm) =>{\n        let almOri = (almacenOrigen !== null ) ? almacenOrigen._id : '';  \n        if(alm._id !== ''){\n      \n            let fil = {...inputFilter, almacen_origen : almOri, almacen_destino : alm._id}\n            setLoading(true);\n            traspasosAlmacenes.refetch(\n                {\n                    input: fil\n                }\n            )\n            \n        }\n        \n        setAlmacenDestino(alm);\n         setLoading(false);\n    }\n    const setEncargadoInput = ( enc) =>{\n       try {\n            let almDes = (almacenDestino !== null ) ? almacenDestino._id : '';\n            let almOri = (almacenOrigen !== null ) ? almacenOrigen._id : '';\n            let encId = ( enc!== '' ) ? enc._id : ''; \n            let fil ={...inputFilter, usuario: encId, almacen_destino:almDes,almacen_origen : almOri};\n        \n        traspasosAlmacenes.refetch(\n                {\n                    input: fil\n                }\n            )\n         setEncargado(enc)  \n          setLoading(false);  \n       } catch (error) {\n           \n       }\n        \n    }\n\n    if(traspasosAlmacenes.data){\n       try {\n           \n            traspasos = traspasosAlmacenes.data.obtenerTraspasos;   \n       } catch (error) {\n           \n       }\n      \n       \n    }\n\n    if(queryObtenerUsuarios.data){\n        try {\n             usuarios = queryObtenerUsuarios.data.obtenerUsuarios;\n        } catch (error) {\n            \n        }\n       \n    }\n\n    return (\n        <>\n            <Button fullWidth onClick={handleClickOpen}>\n\t\t\t\t<Box display=\"flex\" flexDirection=\"column\">\n\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n                        <img \n                            src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/almacen.svg' \n                            alt=\"icono almacen\" \n                            style={{width: 100}}\n                        />\n\t\t\t\t\t</Box>\n\t\t\t\t\tReportes Almacen\n\t\t\t\t</Box>\n\t\t\t</Button>\n\t\t\t<Dialog fullScreen open={open} onClose={handleClickOpen} TransitionComponent={Transition}>\n\t\t\t\t<AppBar className={classes.appBar}>\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t<Typography variant=\"h6\" className={classes.title}>\n\t\t\t\t\t\t\tReportes Almacen\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Box m={1}>\n\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"secondary\" onClick={handleClickOpen} size=\"large\">\n\t\t\t\t\t\t\t\t<CloseIcon style={{fontSize: 30}} />\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</AppBar>\n                <Grid container>\n                    \n                    <Grid item lg={12}>\n                        <div className={classes.formInputFlex}>\n                            <Box width=\"100%\">\n                                <Typography>\n                                    Fecha inicio:\n                                </Typography>\n                                <TextField \n                                    fullWidth\n                                    size=\"small\"\n                                    name=\"fecha_inicio\"\n                                    variant=\"outlined\"\n                                    value={inputFilter.fecha_inicio}\n                                    type=\"date\"\n                                    onChange={(e) => setDatosInput(e)}\n                                />\n                            </Box>\n                            <Box width=\"100%\">\n                                <Typography>\n                                    Fecha fin:\n                                </Typography>\n                                <TextField \n                                    fullWidth\n                                    size=\"small\"\n                                    name=\"fecha_final\"\n                                    variant=\"outlined\"\n                                    type=\"date\"\n                                    onChange={(e) => setDatosInput(e)}\n                                    value={inputFilter.fecha_final}\n                                />\n                            </Box>\n                            <Box width=\"100%\">\n                                <Typography>Encargado</Typography>\n                                <Box display=\"flex\">\n                                    <Autocomplete\n                                        id=\"encargado\"\n                                        size=\"small\"\n                                        options={usuarios}\n                                       \n                                        getOptionLabel={(option) =>\n                                            option.nombre ? `${option.nombre}` : \"\"\n                                        }\n                                        fullWidth\n                                        renderInput={(params) => (\n                                            <TextField\n                                            {...params}\n                                            variant=\"outlined\"\n                                            InputProps={{\n                                                ...params.InputProps,\n                                                endAdornment: (\n                                                <Fragment>\n                                                  \n                                                    {params.InputProps.endAdornment}\n                                                </Fragment>\n                                                ),\n                                            }}\n                                            \n                                            />\n                                        )}\n                                        renderOption={(option) => (\n                                            <Fragment>\n                                            {`${option.nombre}`}\n                                            </Fragment>\n                                        )}\n                                        onChange={ (_, data) =>  setEncargadoInput(data)}\n                                        getOptionSelected={(option, value) =>\n                                            option.nombre === value.nombre\n                                        }\n             \n                                        value={(encargado.nombre) ? encargado: null }\n                                    />\n                                </Box>\n                            </Box>\n                             <Box width=\"100%\">\n                                <Typography>Producto:</Typography>\n                                <TextField\n                                    fullWidth\n                                    size=\"small\"\n                                    name=\"producto\"\n                                    variant=\"outlined\"\n                                    placeholder=\"Nombre, código, clave...\"\n                                    onChange={(e) => setDatosInput(e)}\n                                    value={inputFilter.producto}\n                                />\n                            </Box>\n                           \n                            <Box width=\"100%\">\n                                <Typography>\n                                    Almacen origen:\n                                </Typography>\n                                <FormControl\n                                    variant=\"outlined\"\n                                    fullWidth\n                                    size=\"small\"\n                                >\n                                    <Select\n                                        id=\"form-almacen-origen\"\n                                        name=\"almacen_origen\"\n                                        onChange={(e) => setQueryAlmacenOrigen(e.target.value)}\n                                        value={(almacenOrigen !== null) ? almacenOrigen : ''} \n                                    >   \n                                       \n                                        {almacenes.map((almacen) => (\n                                            <MenuItem key={almacen._id} value={almacen} >\n                                                {almacen.nombre_almacen}\n                                            </MenuItem>\n                                        ))}\n                                      \n                                    </Select>\n                                </FormControl>\n                            </Box>\n                            <Box width=\"100%\">\n                                <Typography>\n                                    Almacen destino:\n                                </Typography>\n                                <FormControl\n                                    variant=\"outlined\"\n                                    fullWidth\n                                    size=\"small\"\n                                    \n                                >\n                                    <Select\n                                        id=\"form-almacen-destino\"\n                                        name=\"almacen_destino\"\n                                        onChange={(e) => setQueryAlmacenDestino(e.target.value)}\n                                        value={(almacenDestino !== null) ? almacenDestino: ''} \n                                    >\n                                     \n                                          {almacenes.map((almacen) => (\n                                            <MenuItem key={almacen._id} value={almacen} >\n                                            {almacen.nombre_almacen}\n                                            </MenuItem>\n                                        ))}\n                                       \n                                    </Select>\n                                </FormControl>\n                            </Box>\n                           \n                        </div>\n                        <div className={classes.formInputFlex}>\n                            <Box mt={1} display=\"flex\">\n                                <Button\n                                color=\"primary\"\n                                startIcon={<ClearOutlined />}\n                                onClick={() => limpiarFiltros()}\n                                >\n                                Limpiar filtros\n                                </Button>\n                                <Box mx={1} />\n                                <ExportarTraspasos data= {traspasos} />\n                            </Box>\n                        </div>    \n                    </Grid> \n                    {\n                        (traspasosAlmacenes.loading || loading) ?\n                        <div className={classes.CircularProgress}>\n                        <CircularProgress/>\n                        </div>\n                        :\n                        <Grid item lg={12}>\n                         <TablaAlmacenFiltradas data={traspasos} />\n                        </Grid>\n                    }\n                 \n                    \n                </Grid>            \n\t\t\t</Dialog> \n        </>\n    )   \n}\n","import React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport { Box, Button, CircularProgress, Dialog, DialogActions, Grid, Typography} from '@material-ui/core';\nimport { OBTENER_CORTE_CAJA } from '../../../../gql/Cajas/cajas';\nimport moment from 'moment';\nimport { useLazyQuery } from '@apollo/client';\n\nconst columns = [\n\t{label: 'Fecha Corte', minWidth: 100 },\n\t{label: 'Hora Corte', minWidth: 100 },\n\t{label: 'Usuario', minWidth: 100 },\n\t{label: 'Turno Horario', minWidth: 100 },\t\n\t{label: 'Caja', minWidth: 100 },\n\t{label: 'Sucursal', minWidth: 100 }\n];\n\nconst useStyles  = makeStyles((theme) => ({\n\troot: {\n\t\twidth: '100%'\n\t},\n\tcontainer: {\n\t\tmaxHeight: \"70vh\",\n    \t'& ::-webkit-scrollbar': {\n      \t\tdisplay: 'none'\n    \t}\n\t},\n    appBar: {\t\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n\trootBusqueda: {\n\t\tdisplay: 'flex',\n\t\tpaddingLeft: theme.spacing(2)\n\t},\n}));\n\nexport default function TablaCortesFiltradas({loading, cortes}) {\n\tconst classes = useStyles();\n\n\tif (loading)\n\treturn (\n\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" height=\"30vh\">\n\t\t\t<CircularProgress />\n\t\t</Box>\n\t);\n\n\treturn (\n        <Box p={2}>\n            <Paper className={classes.root}>\n                <TableContainer className={classes.container}>\n                    <Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n                        <TableHead>\n                            <TableRow>\n                                {columns.map((column) => (\n                                    <TableCell key={column.id} align=\"center\" style={{ minWidth: column.minWidth }}>\n                                        {column.label}\n                                    </TableCell>\n                                ))}\n                            </TableRow>\n                        </TableHead>\n\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t{cortes.map((row) => {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<RowsRender\n\t\t\t\t\t\t\t\t\t\tkey={row._id}\n\t\t\t\t\t\t\t\t\t\tcorte={row}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</TableBody>\n                    </Table>\n                </TableContainer>\n            </Paper>\n        </Box>\n\t);\n}\n\nfunction RowsRender({corte}) {\n\tconst [open, setOpen] = useState(false);\n    const sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\n\tconst [obtenerCorte, { data, error, loading }] = useLazyQuery(\n\t\tOBTENER_CORTE_CAJA,\n\t\t{\n\t\t\tvariables: { \n\t\t\t\tsucursal: sesion.sucursal._id, \n\t\t\t\tempresa: sesion.empresa._id,\n\t\t\t\tinput: { \n\t\t\t\t\tusuario: sesion._id,\n\t\t\t\t\tcaja: corte.id_caja,\n\t\t\t\t\ttoken_turno_user: corte.token_turno_user,\n\t\t\t\t\tnumber_user: sesion.numero_usuario\n\t\t\t\t} \n\t\t\t},\n\t\t  fetchPolicy: \"network-only\",\n\t\t}\n\t);\n\n\tlet montos_sistema = [];\n\n\tif(data){\n\t\tmontos_sistema = data.obtenerCorteCaja.montos_en_sistema;\n\t};\n\n\tconst handleClickOpen = () => {\n\t\tsetOpen(!open);\n\t\tobtenerCorte();\n\t};\n\n\treturn(\n\t\t<>\n\t\t\t<TableRow\n\t\t\t\thover\n\t\t\t\trole=\"checkbox\"handleClickOpen\n\t\t\t\tonClick={handleClickOpen}\n\t\t\t\ttabIndex={-1}\n\t\t\t\tkey={corte._id}\n\t\t\t>\n\t\t\t\t<TableCell align=\"center\">{corte.fecha_salida.completa}</TableCell>\n\t\t\t\t<TableCell align=\"center\">{corte.hora_salida.completa}</TableCell>\n\t\t\t\t<TableCell align=\"center\">{corte.usuario_en_turno.nombre}</TableCell>\n\t\t\t\t<TableCell align=\"center\">{corte.horario_en_turno}</TableCell>\n\t\t\t\t<TableCell align=\"center\">{corte.numero_caja}</TableCell>\n\t\t\t\t<TableCell align=\"center\">{corte.sucursal.nombre_sucursal}</TableCell>\n\t\t\t</TableRow>\n\n\t\t\t<Dialog\n\t\t\t\tfullWidth={true}\n\t\t\t\tmaxWidth='lg'\n\t\t\t\topen={open} \n\t\t\t\tonClose={handleClickOpen} \n\t\t\t>\n\t\t\t\t<InformacionCorteCaja corte={corte} montos_sistema={montos_sistema} loading={loading} />\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Box p={2} display=\"flex\" flexDirection='row-reverse'>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\tsize=\"large\"\n\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\tonClick={handleClickOpen}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tImprimir Ticket\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Box>\n\t\t\t\t</DialogActions>\n\t\t\t</Dialog>\n\t\t</>\n\t);\n};\n\nfunction InformacionCorteCaja({corte, montos_sistema, loading}) {\n\tconst classes = useStyles();\n\n\tif (loading)\n\treturn (\n\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" height=\"30vh\">\n\t\t\t<CircularProgress />\n\t\t</Box>\n\t);\n\n\treturn(\n\t\t<>\n\t\t\t<Grid item lg={12} md={12} xs={12}>\n\t\t\t\t<Box p={1} textAlign=\"center\">\n\t\t\t\t\t<Typography variant=\"h5\">\n\t\t\t\t\t\t<b>Reporte de Corte de Caja</b>\n\t\t\t\t\t</Typography>\n\t\t\t\t</Box>\n\t\t\t\t<Box p={1} textAlign=\"center\">\n\t\t\t\t\t<Typography variant=\"h6\">\n\t\t\t\t\t\t<b>Fecha y hora de Corte: </b>{moment(corte.fecha_movimiento).format('Do MMMM YYYY, h:mm:ss')}\n\t\t\t\t\t</Typography>\n\t\t\t\t</Box>\n\t\t\t</Grid>\n\t\t\t<Grid item lg={12} md={12} xs={12}>\n\t\t\t\t<Box p={2} display=\"flex\" justifyContent=\"center\">\n\t\t\t\t\t<Box p={1}>\n\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t<b>Usuario: </b> {corte.usuario_en_turno.nombre}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box p={1}>\n\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t<b>No. de usuario: </b>{corte.usuario_en_turno.numero_usuario}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</Box>\n\t\t\t\t\t\n\t\t\t\t\t<Box p={1}>\n\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t<b>Horario en turno: </b>{corte.horario_en_turno}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box p={1}>\n\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t<b>Numero de caja: </b>{corte.numero_caja}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box p={1}>\n\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t<b>Sucursal: </b>{corte.sucursal.nombre_sucursal}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</Box>\n\t\t\t\t</Box>\n\t\t\t</Grid>\n\n\t\t\t<Grid>\n\t\t\t\t<Paper className={classes.root}>\n\t\t\t\t\t<TableContainer className={classes.container}>\n\t\t\t\t\t\t<Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n\t\t\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">CONCEPTO</TableCell>\n\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">CAJERO</TableCell>\n\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">SISTEMA</TableCell>\n\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">DIFERENCIA</TableCell>\n\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t</TableHead>\n\t\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\"><b>MONTO EFECTIVO</b></TableCell>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\">${corte.montos_en_caja.monto_efectivo.monto}</TableCell>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\">${montos_sistema.monto_efectivo}</TableCell>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t\t${( corte.montos_en_caja.monto_efectivo.monto - montos_sistema.monto_efectivo)}\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\"><b>MONTO TARJETA DEBITO</b></TableCell>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\">${corte.montos_en_caja.monto_tarjeta_debito.monto}</TableCell>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\">${montos_sistema.monto_tarjeta_debito}</TableCell>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t\t${( corte.montos_en_caja.monto_tarjeta_debito.monto - montos_sistema.monto_tarjeta_debito)}\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\"><b>MONTO TARJETA DE CREDITO</b></TableCell>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\">${corte.montos_en_caja.monto_tarjeta_credito.monto}</TableCell>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\">${montos_sistema.monto_tarjeta_credito}</TableCell>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t\t${( corte.montos_en_caja.monto_tarjeta_credito.monto - montos_sistema.monto_tarjeta_credito)}\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\"><b>MONTO TRANSFERENCIAS</b></TableCell>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\">${corte.montos_en_caja.monto_transferencia.monto}</TableCell>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\">${montos_sistema.monto_transferencia}</TableCell>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t\t${( corte.montos_en_caja.monto_transferencia.monto - montos_sistema.monto_transferencia)}\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\"><b>MONTO EN MONEDERO</b></TableCell>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\">${corte.montos_en_caja.monto_monedero.monto}</TableCell>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\">${montos_sistema.monto_monedero}</TableCell>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t\t${( corte.montos_en_caja.monto_monedero.monto - montos_sistema.monto_monedero)}\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\"><b>MONTO EN CREDITOS</b></TableCell>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\">${corte.montos_en_caja.monto_creditos.monto}</TableCell>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\">${montos_sistema.monto_creditos}</TableCell>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t\t${( corte.montos_en_caja.monto_creditos.monto - montos_sistema.monto_creditos)}\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\"><b>MONTO EN CHEQUES</b></TableCell>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\">${corte.montos_en_caja.monto_cheques.monto}</TableCell>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\">${montos_sistema.monto_cheques}</TableCell>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t\t${( corte.montos_en_caja.monto_cheques.monto - montos_sistema.monto_cheques)}\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\"><b>MONTO EN VALE DE DESPENSA</b></TableCell>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\">${corte.montos_en_caja.monto_vales_despensa.monto}</TableCell>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\">${montos_sistema.monto_vales_despensa}</TableCell>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t\t${( corte.montos_en_caja.monto_vales_despensa.monto - montos_sistema.monto_vales_despensa)}\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t\t</Table>\n\t\t\t\t\t</TableContainer>\n\t\t\t\t</Paper>\n\t\t\t\t\n\t\t\t</Grid>\n\t\t</>\n\t)\n}","import { Button, makeStyles } from '@material-ui/core'\nimport React, { useState } from 'react'\nimport ExcelFile from 'react-export-excel/dist/ExcelPlugin/components/ExcelFile'\nimport SaveIcon from '@material-ui/icons/Save';\nimport ExcelSheet from 'react-export-excel/dist/ExcelPlugin/elements/ExcelSheet';\nimport ExcelColumn from 'react-export-excel/dist/ExcelPlugin/elements/ExcelColumn';\n\nconst useStyles = makeStyles((theme) => ({\n\ticon: {\n\t\tfontSize: 40,\n\t\twidth: 40\n\t},\n    iconSave: {\n\t\tzIndex: 10,\n\t\tposition: 'fixed',\n\t\tbottom: theme.spacing(2),\n\t\tright: theme.spacing(10)\n\t}\n}));\n\nexport default function ExportExcel({historialCortes}) {\n    const [ datosExcel, setDatosExcel ] = useState([]);\n\n    const classes = useStyles();\n    let arrayExcel = [];\n\n    const agruparDatos = (historialCortes) => {\n        datosExcel.splice(0, datosExcel.length);\n        for (let i = 0; i < historialCortes.length; i++) {\n            arrayExcel = { \n                fecha: historialCortes[i].fecha_salida.completa,\n                hora_movimiento: historialCortes[i].hora_salida.completa,\n                horario_turno: historialCortes[i].horario_en_turno,\n                sucursal: historialCortes[i].sucursal.nombre_sucursal,\n                nombre: historialCortes[i].usuario_en_turno.nombre,\n                numero_usuario: historialCortes[i].usuario_en_turno.numero_usuario,\n                concepto: \"Corte Caja\",\n                caja: historialCortes[i].numero_caja,\n                monto_efectivo: historialCortes[i].montos_en_caja.monto_efectivo.monto , \n                monto_creditos: historialCortes[i].montos_en_caja.monto_creditos.monto , \n                monto_tarjeta_debito: historialCortes[i].montos_en_caja.monto_tarjeta_debito.monto , \n                monto_tarjeta_credito: historialCortes[i].montos_en_caja.monto_tarjeta_credito.monto , \n                monto_monedero: historialCortes[i].montos_en_caja.monto_monedero.monto , \n                monto_cheques: historialCortes[i].montos_en_caja.monto_cheques.monto , \n                monto_transferencia: historialCortes[i].montos_en_caja.monto_transferencia.monto ,\n                monto_vales_despensa: historialCortes[i].montos_en_caja.monto_vales_despensa.monto ,\n            };\n            datosExcel.push(arrayExcel);\n        };\n    };\n\n\n    return (\n        <>\n            <ExcelFile\n                element={\n                    <Button\n                        variant=\"contained\"\n                        color=\"primary\"\n                        aria-label=\"Guardar\"\n                        className={classes.iconSave}\n                        onClick={() => agruparDatos(historialCortes)}\n                    >\n                        <SaveIcon className={classes.margin} />\n                        Exportar\n                    </Button>   \n                }\n                filename={`Reporte de Historial de Cortes`}\n            >\n                <ExcelSheet data={datosExcel} name={`Reporte de Historial de Cortes`}>\n                    <ExcelColumn label='Usuario' value='nombre' />\n                    <ExcelColumn label='No. Usuario' value='numero_usuario' />\n                    <ExcelColumn label='Sucursal' value='sucursal' />\n                    <ExcelColumn label='Fecha Corte' value='fecha' />\n                    <ExcelColumn label='Hora Corte' value='hora_movimiento' />\n                    <ExcelColumn label='Horario Turno' value='horario_turno' />\n                    <ExcelColumn label='Concepto' value='concepto' />\n                    <ExcelColumn label='No. de Caja' value='caja' />\n                    <ExcelColumn label='M. en Efectivo' value='monto_efectivo' />\n                    <ExcelColumn label='M. en Creditos' value='monto_creditos' />\n                    <ExcelColumn label='M. en Tarjeta Debito' value='monto_tarjeta_debito' />\n                    <ExcelColumn label='M. en Tarjeta Credito' value='monto_tarjeta_credito' />\n                    <ExcelColumn label='M. en Monedero' value='monto_monedero' />\n                    <ExcelColumn label='M. en Cheques' value='monto_cheques' />\n                    <ExcelColumn label='M. en Transferencia' value='monto_transferencia' />\n                    <ExcelColumn label='M. en Vale Despensa' value='monto_vales_despensa' />\n                </ExcelSheet>\n            </ExcelFile>\n        </>\n    )\n}\n","import { AppBar, Box, Button, Dialog, FormControl, Grid, MenuItem, Select, Slide, TextField, Toolbar, Typography } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/styles';\nimport React, { useState } from 'react';\nimport CloseIcon from '@material-ui/icons/Close';\nimport TablaComprasFiltradas from './TablaCortesFiltradas';\nimport ExportExcel from './ExportExcel';\n\nimport { useQuery } from '@apollo/client';\nimport { OBTENER_CAJAS, OBTENER_CORTES_CAJA } from '../../../../gql/Cajas/cajas';\nimport { useDebounce } from 'use-debounce/lib';\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nconst useStyles = makeStyles((theme) => ({\n\tappBar: {\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n\ticon: {\n\t\twidth: 100\n\t},\n    formInputFlex: {\n\t\tdisplay: 'flex',\n\t\t'& > *': {\n\t\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(1)}px`\n\t\t},\n\t\t'& .obligatorio': {\n\t\t\tcolor: 'red'\n\t\t}\n\t},\n\tformInput: {\n\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(2)}px`\n\t},\n    margin: {\n\t\tmargin: theme.spacing(1)\n\t},\n\ticonSave: {\n\t\tzIndex: 10,\n\t\tposition: 'fixed',\n\t\tbottom: theme.spacing(2),\n\t\tright: theme.spacing(10)\n\t},\n}));\n\nexport default function ReportesCortes() {\n    const sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n    const classes = useStyles();\n\n    const [ open, setOpen ] = useState(false);\n    const [ datosFiltro, setDatosFiltro ] = useState([]);\n    const [value] = useDebounce(datosFiltro, 500);\n\n    let cajas = [];\n    let historialCortes = [];\n\n    const cajasBase = useQuery(OBTENER_CAJAS,{\n\t\tvariables: {\n            empresa: sesion.empresa._id,\n\t\t\tsucursal: sesion.sucursal._id,\n\t\t}\n\t});\n\n    const { loading, data, error, refetch  }= useQuery( OBTENER_CORTES_CAJA,{\n\t\tvariables: {\n            empresa: sesion.empresa._id,\n\t\t\tsucursal: sesion.sucursal._id,\n            input: {\n                fecha_consulta: datosFiltro.fecha_consulta ? datosFiltro.fecha_consulta : \"\",\n                usuario: value.usuario ? value.usuario : \"\", \n                numero_caja: datosFiltro.numero_caja ? parseInt(datosFiltro.numero_caja) : null\n            }\n\t\t}\n\t});\n\n    if(cajasBase.loading === false && loading === false){\n        cajas = cajasBase.data.obtenerCajasSucursal;\n        historialCortes = data.obtenerCortesDeCaja;\n    }\n\n    const handleClickOpen = () => {setOpen(!open)};\n\n    const obtenerDatos = (e) => { \n        setDatosFiltro({...datosFiltro, [e.target.name]: e.target.value})\n    };\n\n    const filtrarProductos = (event) => {\n\t\tevent.preventDefault();\n        refetch();\n\t};\n    \n    const limpiarDatos = () => {\n        setDatosFiltro([]);\n    };\n    \n    return (\n        <>\n            <Button fullWidth onClick={handleClickOpen}>\n\t\t\t\t<Box display=\"flex\" flexDirection=\"column\">\n\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n                        <img \n                            src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/ventas/cash-register.svg' \n                            alt=\"icono caja\" \n                            style={{width: 100}}\n                        />\n\t\t\t\t\t</Box>\n\t\t\t\t\tReportes Cortes de caja\n\t\t\t\t</Box>\n\t\t\t</Button>\n\t\t\t<Dialog fullScreen open={open} onClose={handleClickOpen} TransitionComponent={Transition}>\n\t\t\t\t<AppBar className={classes.appBar}>\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t<Typography variant=\"h6\" className={classes.title}>\n\t\t\t\t\t\t\tReportes Cortes de caja\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Box m={1}>\n\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"secondary\" onClick={handleClickOpen} size=\"large\">\n\t\t\t\t\t\t\t\t<CloseIcon style={{fontSize: 30}} />\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</AppBar>\n                <Grid container>\n                    <ExportExcel historialCortes={historialCortes} /> \n                    \n                    <Grid item lg={12} md={12} xs={12}>\n                        <div className={classes.formInputFlex}>\n                            <Box width=\"100%\">\n                                <Typography>\n                                    Fecha de corte:\n                                </Typography>\n                                <TextField \n                                    fullWidth\n                                    size=\"small\"\n                                    name=\"fecha_consulta\"\n                                    variant=\"outlined\"\n                                    type=\"date\"\n                                    onChange={obtenerDatos}\n                                    value={datosFiltro.fecha_consulta ? datosFiltro.fecha_consulta : \"\"}\n                                />\n                            </Box>\n                            <form onSubmit={filtrarProductos} style={{ display: 'flex', alignItems: 'center', width: \"100%\" }}>\n                                <Box width=\"100%\">\n                                    <Typography>\n                                        Usuario:\n                                    </Typography>\n                                    <TextField\n                                        fullWidth\n                                        size=\"small\"\n                                        name=\"usuario\"\n                                        variant=\"outlined\"\n                                        onChange={obtenerDatos}\n                                        value={datosFiltro.usuario ? datosFiltro.usuario : \"\"}\n                                    />\n                                </Box>\n                            </form>\n                            <Box width=\"100%\">\n                                <Typography>\n                                    Caja:\n                                </Typography>\n                                <FormControl\n                                    variant=\"outlined\"\n                                    fullWidth\n                                    size=\"small\"\n                                >\n                                    <Select\n                                        id=\"form-producto-tipo\"\n                                        name=\"numero_caja\"\n                                        onChange={obtenerDatos}\n                                        value={datosFiltro.numero_caja ? datosFiltro.numero_caja : \"\"}\n                                    >\n                                        <MenuItem value=\"\">\n                                            <em>Selecciona uno</em>\n                                        </MenuItem>\n                                        {\n                                            cajas?.map((caja) =>{\n                                                return(\n                                                    <MenuItem key={caja.numero_caja} value={caja.numero_caja}>\n                                                        Caja {caja.numero_caja}\n                                                    </MenuItem>\n                                                );\n                                            })\n                                        }\n                                    </Select>\n                                </FormControl>\n                            </Box>\n                            <Box \n                                width=\"100%\" \n                                display=\"flex\" \n                                justifyContent=\"center\" \n                                alignItems=\"center\"\n                                mt={2}\n                            >\n                                <Button\n                                    color=\"primary\"\n                                    size=\"large\"\n                                    variant=\"contained\"\n                                    onClick={limpiarDatos}\n                                >\n                                    Limpiar Filtro\n                                </Button>\n                            </Box>\n                        </div>\n                    </Grid> \n                    <Grid item lg={12} md={12} xs={12}>\n                        <TablaComprasFiltradas cortes={historialCortes} loading={loading} />\n                    </Grid>\n                </Grid>            \n\t\t\t</Dialog> \n        </>\n    )   \n}\n","import React, { Fragment, useEffect, useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport { Box, Button, CircularProgress, Dialog, DialogActions, DialogContent, FormControl, Grid, MenuItem, Select, Slide, TextField, Typography } from '@material-ui/core';\nimport { useDebounce } from 'use-debounce/lib';\nimport { useQuery } from '@apollo/client';\nimport { OBTENER_HISTORIAL_EGRESOS } from '../../../../gql/Tesoreria/egresos';\nimport moment from 'moment';\nimport { formatoMexico } from '../../../../config/reuserFunctions';\n\nconst columns = [\n\t{ id: 'folio', label: 'Folio', minWidth: 170 },\n\t{ id: 'nombre', label: 'Usuario', minWidth: 170 },\n\t{ id: 'fecha', label: 'Fecha', minWidth: 170 },\n\t{ id: 'folioF', label: 'Folio Factura', minWidth: 170 },\n\t{ id: 'tipo', label: 'Tipo Compra', minWidth: 170 },\n];\n\nconst useStyles  = makeStyles((theme) => ({\n\t\troot: {\n\t\t\twidth: '100%',\n\t\t\theight: '70vh'\n\t\t},\n\tcontainer: {\n\t\tmaxHeight: '100%'\n\t},\n    appBar: {\t\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n\trootBusqueda: {\n\t\tdisplay: 'flex',\n\t\tpaddingLeft: theme.spacing(2)\n\t},\n\tformInputFlex: {\n\t\tdisplay: 'flex',\n\t\t'& > *': {\n\t\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(2)}px`\n\t\t}\n\t},\n\tformInput: {\n\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(2)}px`\n\t},\n}));\n\nexport default function ListaEgresos() {\n    const sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\n\tconst classes = useStyles();\n\tconst [datosFiltro, setDatosFiltro] = useState([]);\n\tconst [value] = useDebounce(datosFiltro, 500);\n\n\n\tconst { loading, data, error, refetch  } = useQuery( OBTENER_HISTORIAL_EGRESOS,{\n\t\tvariables: {\n\t\t\tinput: {\n                fecha_inicio: datosFiltro.fecha_inicio ? datosFiltro.fecha_inicio : \"\",\n                fecha_fin: datosFiltro.fecha_fin ? datosFiltro.fecha_fin : \"\",\n                usuario: value.usuario ? value.usuario : \"\", \n                tipo_movimiento: datosFiltro.tipo_movimiento ? (datosFiltro.tipo_movimiento === \"CREDITO\" ?  true : false) : null\n            },\n            empresa: sesion.empresa._id,\n\t\t\tsucursal: sesion.sucursal._id\n\t\t}\n\t});\n\n\n\tuseEffect(() => {\n\t\trefetch();\n\t}, [refetch]);\n\n\t\n\tlet historialEgresos = [];\n\n\tif(data){\n\t\thistorialEgresos = data.obtenerHistorialEgresos\n\t}\n\n\tconst obtenerDatos =(e)=>{\n\t\tsetDatosFiltro({...datosFiltro, [e.target.name]: e.target.value})\n    };\n\n\tconst limpiarDatos = () => {\n\t\tsetDatosFiltro([]);\n\t};\n\n\treturn (\n\t\t<Grid>\n\t\t\t<Grid item lg={12} md={12} xs={12}>\n\t\t\t\t<div className={classes.formInputFlex}>\n\t\t\t\t\t<Box width=\"100%\">\n\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\tFecha Inicio:\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\tname=\"fecha_inicio\"\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\ttype=\"date\"\n\t\t\t\t\t\t\tonChange={obtenerDatos}\n\t\t\t\t\t\t\tvalue={datosFiltro.fecha_inicio ? datosFiltro.fecha_inicio : \"\"}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box width=\"100%\">\n\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\tFecha Fin:\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\tname=\"fecha_fin\"\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\ttype=\"date\"\n\t\t\t\t\t\t\tonChange={obtenerDatos}\n\t\t\t\t\t\t\tvalue={datosFiltro.fecha_fin ? datosFiltro.fecha_fin : \"\"}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box width=\"100%\">\n\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\tUsuario:\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\tname=\"usuario\"\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\tonChange={obtenerDatos}\n\t\t\t\t\t\t\tvalue={datosFiltro.usuario ? datosFiltro.usuario : \"\"}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box width=\"100%\">\n\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\tTipo Egreso:\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\t\tid=\"form-producto-tipo\"\n\t\t\t\t\t\t\t\tname=\"tipo_movimiento\"\n\t\t\t\t\t\t\t\tonChange={obtenerDatos}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<MenuItem value=\"TODOS\">\n\t\t\t\t\t\t\t\t\t<em>Selecciona uno</em>\n\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t<MenuItem value='CONTADO'>\n\t\t\t\t\t\t\t\t\tEgreso Contado\n\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t<MenuItem value='CREDITO'>\n\t\t\t\t\t\t\t\t\tEgreso Credito\n\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t</Select>\n\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box \n\t\t\t\t\t\twidth=\"100%\" \n\t\t\t\t\t\tdisplay=\"flex\" \n\t\t\t\t\t\tjustifyContent=\"center\" \n\t\t\t\t\t\talignItems=\"center\"\n\t\t\t\t\t\tmt={2}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\tsize=\"large\"\n\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\tonClick={limpiarDatos}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tLimpiar Filtro\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Box>\n\t\t\t\t</div>\n\t\t\t</Grid> \n\t\t\t<Box p={2}>\n\t\t\t\t<Paper className={classes.root}>\n\t\t\t\t\t<TableContainer className={classes.container}>\n\t\t\t\t\t\t<Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n\t\t\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t\t{columns.map((column) => (\n\t\t\t\t\t\t\t\t\t\t<TableCell key={column.id} align={column.align} style={{ minWidth: column.minWidth }}>\n\t\t\t\t\t\t\t\t\t\t\t{column.label}\n\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t</TableHead>\n\t\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t\t{historialEgresos.map((row, index) => {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<RowsEgresos row={row} loading={loading} key={index} />\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t\t</Table>\n\t\t\t\t\t</TableContainer>\n\t\t\t\t</Paper>\n\t\t\t</Box>\n\t\t</Grid>\n\t);\n};\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nfunction RowsEgresos({row, loading}){\n\n\tconst [open, setOpen] = useState(false);\n\n\tconst handleClickOpen =()=> setOpen(!open);\n\n\tif (loading) \n\treturn (\n\t\t<Box\n\t\tdisplay=\"flex\"\n\t\tflexDirection=\"column\"\n\t\tjustifyContent=\"center\"\n\t\talignItems=\"center\"\n\t\theight=\"80vh\"\n\t\t>\n\t\t\t<CircularProgress />\n\t\t</Box>\n\t);\n\n\treturn(\n\t\t<Fragment>\n\t\t\t<Dialog\n\t\t\t\topen={open} \n\t\t\t\tTransitionComponent={Transition} \n\t\t\t\tfullWidth \n\t\t\t\tmaxWidth=\"md\"\n\t\t\t>\n\t\t\t\t<DialogCaracteristicas row={row}  />\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\tsize='large'\n\t\t\t\t\t\tonClick={handleClickOpen}\n\t\t\t\t\t>\n\t\t\t\t\t\tCerrar\n\t\t\t\t\t</Button>\n\t\t\t\t</DialogActions>\n\t\t\t</Dialog>\n\t\t\t<TableRow \n\t\t\t\thover \n\t\t\t\ttabIndex={-1} \n\t\t\t\tkey={row.code}\n\t\t\t\tonClick={handleClickOpen}\n\t\t\t>\n\t\t\t\t<TableCell>\n\t\t\t\t\t{row.folio_egreso}\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell>\n\t\t\t\t\t{row.nombre_usuario_creador}\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell>\n\t\t\t\t\t{row.fecha_compra}\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell>\n\t\t\t\t\t{row.folio_factura}\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell>\n\t\t\t\t\t{row.compra_credito === false ? \"Contado\" : \"Credito\"}\n\t\t\t\t</TableCell>\n\t\t\t</TableRow>\n\t\t</Fragment>\n\t);\n};\n\nfunction DialogCaracteristicas ({row}) {\n\n\treturn(\n\t\t<Fragment>\n\t\t\t<DialogContent>\n\t\t\t\t<Grid container>\n\t\t\t\t\t<Grid item lg={12} xs={12}>\n\t\t\t\t\t\t<Box textAlign=\"center\" p={2}>\n\t\t\t\t\t\t\t<Typography variant=\"h6\">\n\t\t\t\t\t\t\t\tInformación de movimiento\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item lg={5} xs={12}>\n\t\t\t\t\t\t<Box display=\"flex\" textAlign=\"left\" p={1}>\n\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t<b>Fecha Compra: </b> {moment(row.fecha_compra).format('YYYY-MM-DD')}\n\t\t\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t\t\t<b>Folio movimiento: </b> {row.folio_egreso}\n\t\t\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t\t\t<b>Usuario: </b> {row.nombre_usuario_creador}\n\t\t\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t\t\t<b>Categoria: </b> {row.categoria}\n\t\t\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t\t\t<b>Sub-Categoria: </b> {row.subCategoria}\n\t\t\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t\t\t<b>Folio Factura: </b> {row.folio_factura}\n\t\t\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t\t\t<b>Empresa: </b> {row.empresa_distribuidora}\n\t\t\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t\t\t<b>Provedor: </b> {row.provedor}\n\t\t\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t\t\t<b>Metodo de pago: </b> {row.metodo_pago}\n\t\t\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t\t\t<b>Compra credito: </b> {row.compra_credito === false ? \"NO\" : \"Si\"}\n\t\t\t\t\t\t\t\t{row.compra_credito === false ? null : (\n\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t\t\t\t\t<b>Fecha Vencimiento: </b> {row.fecha_vencimiento}\n\t\t\t\t\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t\t\t\t\t<b>Saldo Pendiente: </b> {row.saldo_credito_pendiente}\n\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item lg={7} xs={12}>\n\t\t\t\t\t\t<Box textAlign=\"center\">\n\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\tProductos Adquiridos\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t<Paper style={{width: '100%', height: '30vh'}}>\n\t\t\t\t\t\t\t\t<TableContainer style={{maxHeight: '100%'}}>\n\t\t\t\t\t\t\t\t\t<Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n\t\t\t\t\t\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align='center' style={{ minWidth: 100 }}>\n\t\t\t\t\t\t\t\t\t\t\t\t\tCANTIDAD\n\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align='center' style={{ minWidth: 100 }}>\n\t\t\t\t\t\t\t\t\t\t\t\t\tPRODUCTO\n\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align='center' style={{ minWidth: 100 }}>\n\t\t\t\t\t\t\t\t\t\t\t\t\tP. UNITARIO\n\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align='center' style={{ minWidth: 100 }}>\n\t\t\t\t\t\t\t\t\t\t\t\t\tTOTAL\n\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t\t\t</TableHead>\n\t\t\t\t\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t\t\t\t\t{row?.productos.map((row, index) => {\n\t\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TableRow \n\t\t\t\t\t\t\t\t\t\t\t\t\t\thover \n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttabIndex={-1} \n\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align='center' >\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{row.cantidad_productos}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align='center' >\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{row.producto}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align='center' >\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{row.precio_unitario}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align='center' >\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{row.total}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t\t\t\t\t</Table>\n\t\t\t\t\t\t\t\t</TableContainer>\n\t\t\t\t\t\t\t</Paper>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box display='flex' justifyContent='flex-end' p={1}> \n\t\t\t\t\t\t\t<Typography variant='h6'>\n\t\t\t\t\t\t\t\tTotal: ${formatoMexico(row.saldo_total)}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</DialogContent>\n\t\t</Fragment>\n\t);\n}\n","import React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TablePagination from '@material-ui/core/TablePagination';\nimport TableRow from '@material-ui/core/TableRow';\nimport { Box, Grid, IconButton, InputBase } from '@material-ui/core';\nimport { Search } from '@material-ui/icons';\n\nconst columns = [\n\t{ id: 'name', label: 'Name', minWidth: 170 },\n\t{ id: 'code', label: 'ISO\\u00a0Code', minWidth: 100 },\n\t{\n\t\tid: 'population',\n\t\tlabel: 'Population',\n\t\tminWidth: 170,\n\t\talign: 'right',\n\t\tformat: (value) => value.toLocaleString('en-US')\n\t},\n\t{\n\t\tid: 'size',\n\t\tlabel: 'Size\\u00a0(km\\u00b2)',\n\t\tminWidth: 170,\n\t\talign: 'right',\n\t\tformat: (value) => value.toLocaleString('en-US')\n\t},\n\t{\n\t\tid: 'density',\n\t\tlabel: 'Density',\n\t\tminWidth: 170,\n\t\talign: 'right',\n\t\tformat: (value) => value.toFixed(2)\n\t}\n];\n\nfunction createData(name, code, population, size) {\n\tconst density = population / size;\n\treturn { name, code, population, size, density };\n}\n\nconst rows = [\n\tcreateData('India', 'IN', 1324171354, 3287263),\n\tcreateData('China', 'CN', 1403500365, 9596961),\n\tcreateData('Italy', 'IT', 60483973, 301340),\n\tcreateData('United States', 'US', 327167434, 9833520),\n\tcreateData('Canada', 'CA', 37602103, 9984670),\n\tcreateData('Australia', 'AU', 25475400, 7692024),\n\tcreateData('Germany', 'DE', 83019200, 357578),\n\tcreateData('Ireland', 'IE', 4857000, 70273),\n\tcreateData('Mexico', 'MX', 126577691, 1972550),\n\tcreateData('Japan', 'JP', 126317000, 377973),\n\tcreateData('France', 'FR', 67022000, 640679),\n\tcreateData('United Kingdom', 'GB', 67545757, 242495),\n\tcreateData('Russia', 'RU', 146793744, 17098246),\n\tcreateData('Nigeria', 'NG', 200962417, 923768),\n\tcreateData('Brazil', 'BR', 210147125, 8515767)\n];\n\nconst useStyles  = makeStyles((theme) => ({\n\troot: {\n\t\twidth: '100%'\n\t},\n\tcontainer: {\n\t\tmaxHeight: '100%'\n\t},\n    appBar: {\t\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n\trootBusqueda: {\n\t\tdisplay: 'flex',\n\t\tpaddingLeft: theme.spacing(2)\n\t},\n}));\n\nexport default function ListaTransferencias() {\n\tconst classes = useStyles();\n\tconst [ page, setPage ] = useState(0);\n\tconst [ rowsPerPage, setRowsPerPage ] = useState(14);\n\n\tconst handleChangePage = (event, newPage) => {\n\t\tsetPage(newPage);\n\t};\n\n\tconst handleChangeRowsPerPage = (event) => {\n\t\tsetRowsPerPage(+event.target.value);\n\t\tsetPage(0);\n\t};\n\n\treturn (\n\t\t<Grid>\n\t\t\t<div className={classes.root}>\n\t\t\t\t<Box m={2} display=\"flex\" justifyContent=\"space-between\">\n\t\t\t\t\t<Box mr={5} minWidth=\"70%\">\n\t\t\t\t\t\t<Paper className={classes.rootBusqueda}>\n\t\t\t\t\t\t\t<InputBase\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tplaceholder=\"Buscar transferencias...\"\n\t\t\t\t\t\t\t\t// onChange={(e) => setValues(e.target.value)}\n\t\t\t\t\t\t\t\t// onKeyPress={pressEnter}\n\t\t\t\t\t\t\t\t// value={values}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<IconButton>\n\t\t\t\t\t\t\t\t<Search />\n\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t</Paper>\n\t\t\t\t\t</Box>\n\t\t\t\t</Box>\n\t\t\t</div>\n\t\t<Box  p={2}>\n\t\t<Paper className={classes.root}>\n\t\t\t<TableContainer className={classes.container}>\n\t\t\t\t<Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t{columns.map((column) => (\n\t\t\t\t\t\t\t\t<TableCell key={column.id} align={column.align} style={{ minWidth: column.minWidth }}>\n\t\t\t\t\t\t\t\t\t{column.label}\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t</TableHead>\n\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t{rows.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage).map((row) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<TableRow hover role=\"checkbox\" tabIndex={-1} key={row.code}>\n\t\t\t\t\t\t\t\t\t{columns.map((column) => {\n\t\t\t\t\t\t\t\t\t\tconst value = row[column.id];\n\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t<TableCell \n                                                key={column.id} \n                                                align={column.align}\n                                            >\n\t\t\t\t\t\t\t\t\t\t\t\t{column.format && typeof value === 'number' ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolumn.format(value)\n\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t\t</TableBody>\n\t\t\t\t</Table>\n\t\t\t</TableContainer>\n\t\t\t<TablePagination\n\t\t\t\trowsPerPageOptions={[ 10, 25, 100 ]}\n\t\t\t\tcomponent=\"div\"\n\t\t\t\tcount={rows.length}\n\t\t\t\trowsPerPage={rowsPerPage}\n\t\t\t\tpage={page}\n\t\t\t\tonChangePage={handleChangePage}\n\t\t\t\tonChangeRowsPerPage={handleChangeRowsPerPage}\n\t\t\t/>\n\t\t</Paper>\n\t\t</Box>\n\t\t</Grid>\n\t);\n}\n","import React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport CloseIcon from '@material-ui/icons/Close';\nimport Slide from '@material-ui/core/Slide';\nimport { Box, ListItemIcon, Menu, MenuItem } from '@material-ui/core';\nimport {FcSurvey } from 'react-icons/fc';\n\nimport ListaEgresos from './ListaEgresos';\nimport ListaTransferencias from './ListaTransferencias';\n\nconst useStyles = makeStyles((theme) => ({\n\tappBar: {\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n    icon: {\n\t\twidth: 100\n\t},\n\troot: {\n\t\tflexGrow: 1,\n\t\twidth: '100%',\n\t\theight: '100vh',\n\t\tbackgroundColor: theme.palette.background.paper\n\t},\n\trootBusqueda: {\n\t\tdisplay: 'flex',\n\t\tpaddingLeft: theme.spacing(2)\n\t},\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function ReportesTesoreria() {\n\tconst classes = useStyles();\n\n\tconst [ventana, setVentana] = useState('');\n\tconst [ open, setOpen ] = useState(false);\n\n\tconst handleClickOpen = () => setOpen(!open);\n\n\tconst [anchorEl, setAnchorEl] = useState(null);\n\n\tconst handleClick = (event) => {\n\t\tsetAnchorEl(event.currentTarget);\n\t};\n\n\tconst handleClose = () => {\n\t\tsetAnchorEl(null);\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<Button aria-controls=\"simple-menu\" aria-haspopup=\"true\" onClick={handleClick}>\n\t\t\t\t<Box display=\"flex\" flexDirection=\"column\">\n\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" >\n                        <FcSurvey style={{fontSize: 100}}/>\n\t\t\t\t\t</Box>\n\t\t\t\t\tReportes Tesoreria\n\t\t\t\t</Box>\n\t\t\t</Button>\n\t\t\t<Menu\n\t\t\t\t id=\"customized-menu\"\n\t\t\t\tanchorEl={anchorEl}\n\t\t\t\tkeepMounted\n\t\t\t\topen={Boolean(anchorEl)}\n\t\t\t\tonClose={handleClose}\n\t\t\t>\n\t\t\t\t<MenuItem onClick={ ()=>{\n\t\t\t\t\t\thandleClickOpen()\n\t\t\t\t\t\tsetVentana('egresos')\n\t\t\t\t\t}}>\n\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t<FcSurvey style={{fontSize: 35}} />\n\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\tHistorial Egresos\n\t\t\t\t</MenuItem>\n\t\t\t\t<MenuItem onClick={ ()=>{\n\t\t\t\t\t\thandleClickOpen()\n\t\t\t\t\t\tsetVentana('transferencias')\n\t\t\t\t\t}}>\n\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t<FcSurvey style={{fontSize: 35}} />\n\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\tHistorial Transferencias\n\t\t\t\t</MenuItem>\n\t\t\t</Menu>\n\t\t\t\n\t\t\t<Dialog fullScreen open={open} onClose={handleClickOpen} TransitionComponent={Transition}>\n\t\t\t\t<AppBar className={classes.appBar}>\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t<Typography variant=\"h6\" className={classes.title}>\n\t\t\t\t\t\t\tHistotorial de {ventana}\n\t\t\t\t\t\t</Typography>\n                        <Box m={1}>\n\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"secondary\" onClick={handleClickOpen} size=\"large\">\n\t\t\t\t\t\t\t\t<CloseIcon style={{fontSize: 30}} />\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</AppBar>\n\t\t\t\t\n\t\t\t\t<Box>\n\t\t\t\t\t{\n\t\t\t\t\t\tventana === 'egresos' ? (\n\t\t\t\t\t\t\t<ListaEgresos />\n\t\t\t\t\t\t) : ventana === 'transferencias' ?(\n\t\t\t\t\t\t\t<ListaTransferencias />\t\t\t\n\t\t\t\t\t\t) :(\n\t\t\t\t\t\t\tnull\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t</Box>\n\t\t\t\t\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n}\n","import React from 'react';\nimport { Container, Grid, Box } from '@material-ui/core';\nimport Cajas from './Cajas/Cajas';\nimport ReportesTurnosUsuarios from './TurnosUsuarios/ReportesTurnosUsuarios';\nimport ReportesCompras from './Compras/ReportesCompras';\nimport ReportesVentas from './Ventas/ReportesVentas';\nimport ReportesAlmacen from './Almacenes/ReportesAlmacen';\nimport ReportesCortes from './Cortes/ReportesCortes';\nimport ReportesTesoreria from './Tesoreria/Reporte_Tesoreria';\n\nexport default function Reportes() {\n\tconst permisosUsuario = JSON.parse(localStorage.getItem('sesionCafi'));\n\n\treturn (\n\t\t<Container>\n\t\t\t<Grid container spacing={3} justify=\"center\">\n\t\t\t\t{permisosUsuario.accesos.reportes.reporte_historial_cajas.ver === false ? (null) : (\n\t\t\t\t\t<Grid item lg={2} >\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t<Cajas />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t)}\n\t\t\t\t{permisosUsuario.accesos.reportes.reporte_turnos.ver === false ? (null) : (\n\t\t\t\t\t<Grid item lg={2} >\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t<ReportesTurnosUsuarios />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t)}\n\t\t\t\t{permisosUsuario.accesos.reportes.reporte_compras.ver === false ? (null) : (\n\t\t\t\t\t<Grid item lg={2} >\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t<ReportesCompras />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t)}\n\t\t\t\t{permisosUsuario.accesos.reportes.reporte_ventas.ver === false ? (null) : (\n\t\t\t\t\t<Grid item lg={2} >\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t<ReportesVentas />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t)}\n\t\t\t\t{permisosUsuario.accesos.reportes.rerporte_almacen.ver === false ? (null) : (\n\t\t\t\t\t<Grid item lg={2} >\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t<ReportesAlmacen />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t)}\n\t\t\t\t{permisosUsuario.accesos.reportes.reporte_corte_caja.ver === false ? (null) : (\n\t\t\t\t\t<Grid item lg={2} >\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t<ReportesCortes />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t)}\n\t\t\t\t{permisosUsuario.accesos.reportes.reporte_tesoreria.ver === false ? (null) : (\n\t\t\t\t\t<Grid item lg={2} >\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t<ReportesTesoreria />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t)}\n\t\t\t</Grid>\n\t\t</Container>\n\t);\n}","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport SwipeableViews from \"react-swipeable-views\";\nimport { makeStyles, useTheme } from \"@material-ui/core/styles\";\nimport { FcShop, FcPaid, FcSurvey, FcNews } from \"react-icons/fc\";\nimport { Toolbar, Box, Tab, Tabs, AppBar } from \"@material-ui/core\";\nimport Empresa from \"./Empresa/Empresa\";\nimport Compras from \"./Compras/Compras\";\nimport Catalogos from \"./Catalogos/Catalogos\";\nimport IndexTesoreria from \"./Tesoreria/IndexTesoreria\";\nimport Facturacion from \"./Facturacion/Facturacion\";\nimport Almacenes from \"./Almacenes/Almacenes\";\nimport { withRouter } from \"react-router\";\nimport Reportes from \"./Reportes/Reportes\";\nfunction TabPanel(props) {\n  const { children, value, index, ...other } = props;\n\n  return (\n    <div\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`scrollable-force-tabpanel-${index}`}\n      aria-labelledby={`scrollable-force-tab-${index}`}\n      {...other}\n    >\n      {value === index && (\n        <Box p={3} my={6} minHeight=\"50vh\">\n          {children}\n        </Box>\n      )}\n    </div>\n  );\n}\n\nTabPanel.propTypes = {\n  children: PropTypes.node,\n  index: PropTypes.any.isRequired,\n  value: PropTypes.any.isRequired,\n};\n\nfunction a11yProps(index) {\n  return {\n    id: `scrollable-force-tab-${index}`,\n    \"aria-controls\": `scrollable-force-tabpanel-${index}`,\n  };\n}\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n    width: \"100%\",\n    height: \"100vh\",\n    backgroundColor: theme.palette.background.paper,\n  },\n  icon: {\n    fontSize: 100,\n  },\n  iconSvg: {\n    width: 100,\n  },\n  iconSvgVenta: {\n    width: 90,\n  },\n}));\n\nfunction AdminInicio(props) {\n  const classes = useStyles();\n  const theme = useTheme();\n  const [value, setValue] = React.useState(0);\n\n  const handleChange = (event, newValue) => {\n    setValue(newValue);\n  };\n  const handleChangeIndex = (index) => {\n    setValue(index);\n  };\n\n  return (\n    <div className={classes.root}>\n      <Toolbar />\n      <Box>\n        <AppBar position=\"static\" color=\"default\" elevation={0}>\n          <Tabs\n            value={value}\n            onChange={handleChange}\n            indicatorColor=\"primary\"\n            textColor=\"primary\"\n            /* centered */ variant=\"scrollable\"\n            scrollButtons=\"on\"\n          >\n            <Tab\n              label=\"Mi empresa\"\n              icon={<FcShop className={classes.icon} />}\n              {...a11yProps(0)}\n            />\n            <Tab\n              label=\"Almacenes\"\n              icon={\n                <img\n                  src=\"https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/almacen.svg\"\n                  alt=\"icono almacen\"\n                  className={classes.iconSvg}\n                />\n              }\n              {...a11yProps(1)}\n            />\n\n            <Tab\n              label=\"Compras\"\n              icon={<FcPaid className={classes.icon} />}\n              {...a11yProps(2)}\n            />\n            <Tab\n              label=\"Catalogos\"\n              icon={<FcNews className={classes.icon} />}\n              {...a11yProps(3)}\n            />\n            <Tab\n              label=\"Tesoreria\"\n              icon={\n                <img\n                  src=\"https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/money.svg\"\n                  alt=\"icono money\"\n                  className={classes.iconSvg}\n                />\n              }\n              {...a11yProps(4)}\n            />\n            <Tab\n              label=\"Reportes\"\n              icon={<FcSurvey className={classes.icon} />}\n              {...a11yProps(5)}\n            />\n\t\t\t<Tab\n              label=\"Facturación\"\n              icon={\n                <img\n                  src=\"https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/factura.svg\"\n                  alt=\"icono factura\"\n                  className={classes.iconSvg}\n                />\n              }\n              {...a11yProps(6)}\n            />\n            <Tab\n              label=\"Ventas\"\n              icon={\n                <img\n                  src=\"https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/ventas/cart-add.svg\"\n                  alt=\"icono ventas\"\n                  className={classes.iconSvg}\n                />\n              }\n              {...a11yProps(7)}\n              onClick={() => props.history.push(\"/ventas/venta-general\")}\n            />\n          </Tabs>\n        </AppBar>\n        <SwipeableViews\n          axis={theme.direction === \"rtl\" ? \"x-reverse\" : \"x\"}\n          index={value}\n          onChangeIndex={handleChangeIndex}\n        >\n          <TabPanel value={value} index={0}>\n            <Empresa />\n          </TabPanel>\n          <TabPanel value={value} index={1}>\n            <Almacenes />\n          </TabPanel>\n          <TabPanel value={value} index={2}>\n            <Compras />\n          </TabPanel>\n          <TabPanel value={value} index={3}>\n            <Catalogos />\n          </TabPanel>\n          <TabPanel value={value} index={4}>\n            <IndexTesoreria />\n          </TabPanel>\n          <TabPanel value={value} index={5}>\n            <Reportes />\n          </TabPanel>\n\t\t  <TabPanel value={value} index={6}>\n            <Facturacion />\n          </TabPanel>\n          <TabPanel value={value} index={7}></TabPanel>\n        </SwipeableViews>\n      </Box>\n    </div>\n  );\n}\n\nexport default withRouter(AdminInicio);\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Avatar, Box, Button, Typography, Toolbar, AppBar } from '@material-ui/core';\nimport PowerSettingsNewIcon from '@material-ui/icons/PowerSettingsNew';\nimport { withRouter } from 'react-router-dom';\nimport { grey } from '@material-ui/core/colors';\n\nconst useStyles = makeStyles((theme) => ({\n\tappbar: {\n\t\tbackgroundColor: theme.palette.navbar,\n        color: grey[800]\n\t},\n\tmenuButton: {\n\t\tmarginRight: theme.spacing(2)\n\t},\n\ttitle: {\n\t\tflexGrow: 1,\n\t\tmarginLeft: theme.spacing(2),\n\t}\n}));\n\nfunction NavegacionAdmin(props) {\n\tconst classes = useStyles();\n\tconst token = localStorage.getItem('sesionCafi');\n\tconst turnoEnCurso = JSON.parse(localStorage.getItem('turnoEnCurso'));\n    const sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\tlet usuario;\n\t\n\tif (token !== null) usuario = JSON.parse(localStorage.getItem('sesionCafi'));\n\n    const signOut = () => {\n\t\tlocalStorage.removeItem('sesionCafi');\n\t\tlocalStorage.removeItem('tokenCafi');\n\t\tlocalStorage.removeItem('ListaEnEspera');\n\t\tprops.history.push('/');\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<AppBar position=\"fixed\" className={classes.appbar} elevation={0}>\n\t\t\t\t<Toolbar>\n\t\t\t\t\t<Avatar alt=\"Remy Sharp\" src={usuario.imagen} />\n\t\t\t\t\t<Box className={classes.title}>\n\t\t\t\t\t\t<Typography variant=\"h6\" color=\"inherit\">Bienvenido {`${usuario.nombre}`}</Typography>\n\t\t\t\t\t</Box>\n\t\t\t\t\t{/* <Button\n\t\t\t\t\t\tcomponent={Link}\n\t\t\t\t\t\tto=\"/home\"\n\t\t\t\t\t\tsize=\"large\"\n\t\t\t\t\t\tclassName={classes.menuButton}\n\t\t\t\t\t\tstartIcon={<HomeIcon />}\n\t\t\t\t\t>\n\t\t\t\t\t\tInicio\n\t\t\t\t\t</Button> */}\n\t\t\t\t\t{sesion.turno_en_caja_activo === true && turnoEnCurso ? (\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\tsize=\"large\"\n\t\t\t\t\t\t\t\tclassName={classes.menuButton}\n\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\tdisabled={true}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tTURNO ACTIVO\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t):(\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\tsize=\"large\"\n\t\t\t\t\t\t\t\tclassName={classes.menuButton}\n\t\t\t\t\t\t\t\tstartIcon={<PowerSettingsNewIcon />}\n\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\tonClick={signOut}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tCerrar sesión\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t</Toolbar>\n\t\t\t</AppBar>\n\t\t</div>\n\t);\n}\n\n\nexport default withRouter(NavegacionAdmin)","import { makeStyles } from '@material-ui/core/styles';\n\nconst drawerWidth = '22%';\n\nconst useStyles = makeStyles((theme) => ({\n\tappBar: {\n\t\tzIndex: theme.zIndex.drawer + 1,\n\t\t// backgroundColor: theme.palette.navbar,\n\t\tbackgroundColor: 'white',\n\t},\n\tdrawer: {\n\t\twidth: drawerWidth,\n\t\tflexShrink: 0,\n\t\tbackgroundColor: 'white',\n\t},\n\tdrawerColor:{\n\t\theight: '100%',\n\t\tbackgroundColor: 'white',\n\t},\n\tdrawerPaper: {\n\t\twidth: drawerWidth,\n\t\tbackgroundColor: theme.palette.navbar\n\t},\n\troot: {\n\t\tdisplay: 'flex',\n\t\tflexDirection: 'column',\n\t\theight: '100%'\n\t},\n\tnavigationTop:{\n\t\theight: '100%'\n\t},\n\ticonSizeSuperior: {\n\t\tfontSize: 30,\n        color: theme.palette.info.main\n\t},\n    iconSizeSecondSuperior: {\n\t\twidth: 20,\n\t},\n\ticonSizeInferior: {\n\t\tfontSize: 50,\n        color: theme.palette.info.main\n\t},\n    iconSizeSecondInferior: {\n\t\twidth: 40,\n\t},\n\ticonSizeSecondInferiorGrande: {\n\t\twidth: 100\n\t},\n\ticonSizeInferiorGrande:{\n\t\tfontSize: 110,\n        color: theme.palette.info.main\n\t},\n\tavatar: {\n\t\twidth: theme.spacing(3),\n\t\theight: theme.spacing(3),\n\t\tmarginRight: theme.spacing(1)\n\t},\n\tborderBoton:{\n\t\tminWidth: '100%',\n\t\theight: '50%',\n        border: '.6px solid #DBDBDB'\n    },\n\tborderBotonChico:{\n\t\tminWidth: '100%',\n        border: '.6px solid #DBDBDB'\n    }\n}));\n\nexport default useStyles;","import { makeStyles } from '@material-ui/core/styles';\n\n\nconst useStyles = makeStyles((theme) => ({\n\troot:{\n        marginTop: theme.spacing(2)\n    },\n    rootPrecioProductos:{\n        minHeight: '40vh',\n    },\n    containerImage:{\n        maxWidth: 150,\n        maxHeight: 150,\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        justifyItems: 'ceter'\n    },\n    imagen:{\n        maxWidth: '100%',\n        maxHeight: '100%',\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        justifyItems: 'ceter'\n    },\n    rootBusqueda: {\n        height: 35,\n\t\tdisplay: 'flex',\n\t\tpadding: theme.spacing(1),\n        // marginTop: theme.spacing(1)\n\t},\n    rootBusquedaProductos: {\n        height: 35,\n\t\tdisplay: 'flex',\n\t\tpadding: theme.spacing(1),\n        // marginTop: theme.spacing(1)\n\t},\n    rootFecha: {\n        height: 40,\n        maxWidth: 150,\n\t\tdisplay: 'flex',\n\t},\n    formInputFlex: {\n\t\tdisplay: 'flex',\n\t\t'& > *': {\n\t\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(.5)}px`\n\t\t},\n\t\t'& .obligatorio': {\n\t\t\tcolor: 'red'\n\t\t},\n        paddingTop: 0,\n        alignItems: \"center\",\n        justifyItems: \"center\"\n\t},\n\tformInput: {\n\t\t// margin: `${theme.spacing(1)}px ${theme.spacing(1)}px`\n\t},\n    iconSize: {\n\t\twidth: 28,\n\t},\n    iconSizeDialogs:{\n        width: 80,\n    },\n    iconSizeDialogsPequeno:{\n        width: 50,\n    },\n    containerImagenesProducto:{\n        maxHeight: 300,\n        maxWidth: 300,\n        display: 'flex',\n        justifyItems: 'center',\n        alignContent: 'center',\n        justifyContent: 'center',\n        alignItems: 'center'\n    },\n    imagenProducto:{\n        height: '100%',\n        width: '100%'\n    },\n    borderBoton:{\n\t\tminWidth: '100%',\n\t\theight: '50%',\n        border: '.6px solid #DBDBDB'\n    },\n\tborderBotonChico:{\n\t\tminWidth: '100%',\n\t\theight: '100%',\n        border: '.6px solid #DBDBDB'\n    },\n    input: {\n        \"& input[type=number]\": {\n          \"-moz-appearance\": \"textfield\",\n        },\n        \"& input[type=number]::-webkit-outer-spin-button\": {\n          \"-webkit-appearance\": \"none\",\n          margin: 0,\n        },\n        \"& input[type=number]::-webkit-inner-spin-button\": {\n          \"-webkit-appearance\": \"none\",\n          margin: 0,\n        },\n    },\n}));\n\nexport default useStyles","import React, { createContext, useState } from 'react';\n\nexport const VentasContext = createContext();\n\nexport const VentasProvider = ({ children }) => {\n\n    const [datosProductoVentas, setDatosProductoVentas] = useState(\n        {\n            _id: null,\n            cantidad: null,\n            codigo_barras: null,\n            concepto: null,\n            default: null,\n            descuento: null,\n            descuento_activo: null,\n            id_producto: {},\n            precio: null,\n            unidad: null,\n            unidad_principal: null\n        }\n    );\n    \n    const [productosVentas, setProductosVentas] = useState([]);\n    const [datosVentas, setDatosVentas] = useState(\n        {\n            productos: [],\n            cliente: {},\n            subtotal: 0,\n            impuestos: 0,\n            total: 0,\n            usuario: {}\n        }\n    );\n\n    const [ productoCambioPrecio, setProductoCambioPrecio ] = useState({});\n    const [ precioSelectProductoVenta, setPrecioSelectProductoVenta ] = useState([]);\n    const [ clientesVentas, setClientesVentas ] = useState([]);\n    const [ turnoActivo, setTurnoActivo ] = useState();\n    const [ ubicacionTurno, setUbicacionTurno ] = useState('');\n\n    const [ update, setUpdate ] = useState(false);\n    const [ error, setError ] = useState(false);\n    const [  alert, setAlert ] = useState({ message: \"\", status: \"\", open: false });\n    const [ abrirTurnosDialog, setAbrirTurnosDialog ] = useState(false);\n    const [ updateClientVenta, setUpdateClientVenta ] = useState(false);\n\n    const [open, setOpen] = useState(false);\n\n    // const [precioSeleccionadoTabla, setPrecioSeleccionadoTabla] = useState(false);\n\n    const [updateTablaVentas, setUpdateTablaVentas] = useState(false);\n\n\treturn (\n\t\t<VentasContext.Provider value={\n            { \n                alert, \n                setAlert,\n                update,\n                setUpdate,\n                error,\n                setError,\n                datosProductoVentas,\n                setDatosProductoVentas,\n                productosVentas,\n                setProductosVentas,\n                datosVentas,\n                setDatosVentas,\n                abrirTurnosDialog, \n                setAbrirTurnosDialog,\n                setUpdateClientVenta,\n                updateClientVenta,\n                setProductoCambioPrecio,\n                productoCambioPrecio,\n                setPrecioSelectProductoVenta,\n                precioSelectProductoVenta,\n                setUpdateTablaVentas,\n                updateTablaVentas,\n                setOpen,\n                open,\n                clientesVentas, \n                setClientesVentas,\n                turnoActivo, \n                setTurnoActivo,\n                ubicacionTurno, \n                setUbicacionTurno\n                // precioSeleccionadoTabla,\n                // setPrecioSeleccionadoTabla\n            }\n        }>\n\t\t\t{children}\n\t\t</VentasContext.Provider>\n\t);\n};","import React, { useContext, useState } from 'react';\nimport { Box, Button, CircularProgress,  Dialog, DialogActions, \n    DialogContent, Divider, FormControl, Grid,  MenuItem, \n    Select, Slide, TextField, Typography } \nfrom '@material-ui/core'\nimport CloseIcon from '@material-ui/icons/Close';\nimport { ToggleButton, ToggleButtonGroup } from '@material-ui/lab';\nimport { OBTENER_CONTABILIDAD } from '../../../gql/Catalogos/contabilidad';\nimport { CREAR_HISTORIAL_CAJA, OBTENER_PRE_CORTE_CAJA } from '../../../gql/Cajas/cajas';\n\nimport useStyles from '../styles';\nimport moment from 'moment';\nimport 'moment/locale/es';\nimport { useMutation, useQuery } from '@apollo/client';\nimport { VentasContext } from '../../../context/Ventas/ventasContext';\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function DepositoRetiroCaja() {\n    const turnoEnCurso =JSON.parse(localStorage.getItem('turnoEnCurso'));\n\tconst sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n    const [ CrearHistorialCaja ] = useMutation(CREAR_HISTORIAL_CAJA);\n\n    moment.locale('es');\n    const classes = useStyles();\n\n    const { setAlert } = useContext(VentasContext);\n    const [open, setOpen] = useState(false);\n    const [cargando, setCargando] = useState(false);\n    const [movimiento, setMovimiento] = useState('DEPOSITO');\n    const [datosMovimiento, setDatosMovimiento] = useState([]);\n\n\tconst { loading, data } = useQuery(OBTENER_CONTABILIDAD, {\n\t\tvariables: {\n\t\t\tempresa: sesion.empresa._id,\n\t\t\tsucursal: sesion.sucursal._id\n\t\t}\n\t});\n\n    const input = { \n        horario_en_turno: \"ABRIR TURNO\",\n        id_caja: turnoEnCurso ? turnoEnCurso.id_caja : \"\",\n        id_usuario: sesion._id,\n        token_turno_user: turnoEnCurso ? turnoEnCurso.token_turno_user : \"\",\n    };\n\n    const preCorteDeCaja = useQuery(OBTENER_PRE_CORTE_CAJA, {\n        variables: { empresa: sesion.empresa._id, sucursal: sesion.sucursal._id, input: input},\n    });\n\n    const handleClickOpen = () => { \n\t\tsetOpen(!open);\n        preCorteDeCaja.refetch();\n\t};\n\n    var dineroEnCaja = 0;\n    \n    if(!data || !preCorteDeCaja.data){\n        return null;\n    } else{\n        dineroEnCaja = preCorteDeCaja.data.obtenerPreCorteCaja.monto_efectivo_precorte;\n    }\n\n    if (loading || cargando || preCorteDeCaja.loading) \n\treturn (\n\t\t<Box\n\t\tdisplay=\"flex\"\n\t\tflexDirection=\"column\"\n\t\tjustifyContent=\"center\"\n\t\talignItems=\"center\"\n\t\theight=\"80vh\"\n\t\t>\n\t\t\t<CircularProgress />\n\t\t</Box>\n\t);\n\n    window.addEventListener('keydown', Mi_función); \n    function Mi_función(e){\n        if(e.altKey && e.keyCode === 68){ \n            handleClickOpen();\n        } \n    };\n\n    const obtenerDatos = (e) =>{\n        setDatosMovimiento({...datosMovimiento, [e.target.name]: e.target.value})\n    };\n\n    const enviarDatos = async () => {\n        setCargando(true);\n        try {\n            if(!turnoEnCurso && sesion?.turno_en_caja_activo === false ){\n                setCargando(false);\n                setAlert({\n                    message: `Por el momento no hay ningun turno activo.`,\n                    status: \"error\",\n                    open: true,\n                });\n                return null;\n            }else{\n                if(!datosMovimiento.tipo_movimiento ||\n                    !datosMovimiento.monto_efectivo ||\n                    !datosMovimiento.concepto\n                ){\n                    setCargando(false);\n                    setAlert({\n                        message: `Por favor complete los datos.`,\n                        status: \"error\",\n                        open: true,\n                    });\n                    return null;\n                }else{\n                    if(datosMovimiento.tipo_movimiento === \"RETIRO\" && dineroEnCaja <  parseFloat(datosMovimiento.monto_efectivo)){\n                        setCargando(false);\n                        setAlert({\n                            message: 'Lo sentimos no hay dinero suficiente en la caja para esta acción.',\n                            status: \"error\",\n                            open: true,\n                        });\n                        return null;\n                    }\n                    const input = {\n                        tipo_movimiento: datosMovimiento.tipo_movimiento,\n                        concepto: datosMovimiento.concepto,\n                        numero_caja: parseInt(turnoEnCurso.numero_caja),\n                        id_Caja: turnoEnCurso.id_caja,\n                        horario_turno: turnoEnCurso.horario_en_turno,\n                        rol_movimiento: 'CAJA',\n                        hora_moviento: {\n                            hora: moment().format('hh'),\n                            minutos: moment().format('mm'),\n                            segundos: moment().format('ss'),\n                            completa: moment().format('HH:mm:ss')\n                        },\n                        fecha_movimiento: {\n                            year: moment().format('YYYY'),\n                            mes: moment().format('DD'),\n                            dia: moment().format('MM'),\n                            no_semana_year: moment().week().toString(),\n                            no_dia_year: moment().dayOfYear().toString(),\n                            completa: moment().locale('es-mx').format()\n                        },\n                        id_User: sesion._id,\n                        numero_usuario_creador: sesion.numero_usuario,\n                        nombre_usuario_creador: sesion.nombre,\n                        montos_en_caja: {\n                            monto_efectivo: {\n                                monto: parseFloat(datosMovimiento.monto_efectivo),\n                                metodo_pago: \"01\"\n                            },\n                            monto_tarjeta_debito: {\n                                monto: 0,\n                                metodo_pago: \"28\"\n                            },\n                            monto_tarjeta_credito: {\n                                monto: 0,\n                                metodo_pago: \"04\"\n                            },\n                            monto_creditos: {\n                                monto: 0,\n                                metodo_pago: \"99\"\n                            },\n                            monto_monedero: {\n                                monto: 0,\n                                metodo_pago: \"05\"\n                            },\n                            monto_transferencia: {\n                                monto: 0,\n                                metodo_pago: \"03\"\n                            },\n                            monto_cheques: {\n                                monto: 0,\n                                metodo_pago: \"02\"\n                            },\n                            monto_vales_despensa: {\n                                monto: 0,\n                                metodo_pago: \"08\"\n                            }\n                        },\n                        empresa: sesion.empresa._id,\n                        sucursal: sesion.sucursal._id\n                    };\n                    await CrearHistorialCaja({\n                        variables: {\n                            empresa: sesion.empresa._id,\n                            sucursal: sesion.sucursal._id,\n                            input\n                        }\n                    });\n                    setAlert({\n                        message: `Registro de movimiento exitoso.`,\n                        status: \"success\",\n                        open: true,\n                    });\n                    handleClickOpen();\n                    setCargando(false);\n                }\n            }\n        } catch (error) {\n            setCargando(false);\n            setAlert({\n                message: `Error: ${error.message}`,\n                status: \"error\",\n                open: true,\n            });\n            handleClickOpen();\n        }\n    };\n\n    const handleAlignment = (event, newAlignment) => {\n        setMovimiento(newAlignment);\n        setDatosMovimiento({...datosMovimiento, tipo_movimiento: newAlignment})\n    };\n\n    return (\n        <>\n            <Button\n                onClick={() =>{handleClickOpen();}}\n                style={{textTransform: 'none', height: '100%', width: '60%'}}\n            >\n                <Box display=\"flex\" flexDirection=\"column\">\n                    <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n                        <img \n                            src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/ventas/cash-register2.svg' \n                            alt=\"icono caja\" \n                            style={{width: 20}}\n                        />\n                    </Box>\n                    <Box>\n                        <Typography variant=\"body2\" >\n                            <b>Deposito/Retiro Caja</b>\n                        </Typography>\n                    </Box>\n                    <Box>\n                        <Typography variant=\"caption\" style={{color: '#808080'}} >\n                            <b>Alt + D</b>\n                        </Typography>\n                    </Box>\n                </Box>\n            </Button>\t\n\n            <Dialog\n\t\t\t\tmaxWidth='lg'\n\t\t\t\topen={open} \n\t\t\t\tonClose={handleClickOpen} \n\t\t\t\tTransitionComponent={Transition}\n\t\t\t>\n                <DialogContent>\n                    <Grid container item lg={12}>\n                        <Box \n                            display=\"flex\" \n                            textAlign=\"center\" \n                        >\n                            <Box\n                                display=\"flex\" \n                                justifyContent=\"center\"\n                                flexGrow={1} \n                            >\n                                <Box>\n                                    <img src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/ventas/cash-register2.svg' alt=\"icono caja\" className={classes.iconSizeDialogs} />\n                                </Box>\n                                <Box m={2} >\n                                    <Divider orientation=\"vertical\" />\n                                </Box>\n                                <Box mt={1} >\n                                    <Box>\n                                        <Typography variant=\"h6\">\n                                            Deposito / Retiro Caja\n                                        </Typography>\n                                    </Box>\n                                    <Box display=\"flex\" textAlign=\"right\">\n                                        <Box textAlign=\"right\">\n                                            <Typography variant=\"caption\">\n                                                {moment().format('MM/DD/YYYY')}\n                                            </Typography>\n                                        </Box>\n                                        <Box textAlign=\"right\" ml={2}>\n                                            <Typography variant=\"caption\">\n                                                <b>{moment().format('h:mm')} hrs.</b> \n                                            </Typography>\n                                        </Box>\n                                        <Box textAlign=\"right\" ml={2}>\n                                            <Typography variant=\"caption\">\n                                                <b>Caja: </b>{turnoEnCurso?.numero_caja}\n                                            </Typography>\n                                        </Box>\n                                    </Box>\n                                </Box>\n                            </Box>\n                            <Box ml={10} mb={7} display=\"flex\" alignItems=\"center\">\n                                    <Button variant=\"contained\" color=\"secondary\" onClick={handleClickOpen} size=\"large\">\n                                    <CloseIcon />\n                                </Button>\n                            </Box>\n                        </Box>\n                        </Grid>\n                        <Grid>\n                            {sesion.turno_en_caja_activo === true ? (\n                                <>\n                                <div className={classes.formInputFlex}>\n                                    {/* <Box width=\"100%\">\n                                        <Typography>\n                                            Movimiento\n                                        </Typography>\n                                        <FormControl\n                                            variant=\"outlined\"\n                                            fullWidth\n                                            size=\"small\"\n                                        >\n                                            <Select\n                                                id=\"form-producto-tipo\"\n                                                name=\"tipo_movimiento\"\n                                                onChange={obtenerDatos}\n                                            >\n                                                <MenuItem value=\"\">\n                                                    <em>Selecciona uno</em>\n                                                </MenuItem>\n                                                <MenuItem value=\"DEPOSITO\">Deposito</MenuItem>\n                                                <MenuItem value=\"RETIRO\">Retiro</MenuItem>\n                                            </Select>\n                                        </FormControl>\n                                    </Box> */}\n                                    <Box width=\"100%\" textAlign=\"center\">\n                                        <ToggleButtonGroup \n                                            onChange={handleAlignment}\n                                            value={movimiento}\n                                            exclusive \n                                        >\n                                            <ToggleButton \n                                                value=\"DEPOSITO\" \n                                            >\n                                                <Box p={1}>\n                                                    <Typography variant=\"h4\">\n                                                        <b>DEPOSITO</b>\n                                                    </Typography>\n                                                </Box>\n                                            </ToggleButton>\n                                            <ToggleButton \n                                                value=\"RETIRO\"\n                                            >\n                                                <Box p={1}>\n                                                    <Typography variant=\"h4\">\n                                                        <b>RETIRO</b>\n                                                    </Typography>\n                                                </Box>\n                                            </ToggleButton>\n                                        </ToggleButtonGroup>\n                                    </Box>\n                                </div>\n                                <div className={classes.formInputFlex}>\n                                    <Box width=\"100%\">\n                                        <Typography>Monto:</Typography>\n                                        <Box display=\"flex\">\n                                            <TextField\n                                                fullWidth\n                                                size=\"small\"\n                                                type=\"number\"\n                                                name=\"monto_efectivo\"\n                                                onChange={obtenerDatos}\n                                                id=\"form-producto-codigo-barras\"\n                                                variant=\"outlined\"\n                                            />\n                                        </Box>\n                                    </Box>\n                                </div>\n                                <div className={classes.formInputFlex}>\n                                    <Box width=\"100%\">\n                                        <Typography>\n                                            Concepto de Movimiento:\n                                        </Typography>\n                                        <FormControl\n                                            variant=\"outlined\"\n                                            fullWidth\n                                            size=\"small\"\n                                        >\n                                            <Select\n                                                id=\"form-producto-tipo\"\n                                                onChange={obtenerDatos}\n                                                name=\"concepto\"\n                                            >\n                                                <MenuItem value=\"\">\n                                                    <em>Selecciona uno</em>\n                                                </MenuItem>\n                                                {data?.obtenerContabilidad.map((concepto)=> {\n                                                    return(\n                                                        <MenuItem value={concepto.nombre_servicio}>{concepto.nombre_servicio}</MenuItem>\n                                                    )\n                                                })}\n                                            </Select>\n                                        </FormControl>\n                                    </Box>\n                                </div>\n                                </>\n                            ) : (\n                                <Box textAlign=\"center\" p={2}>\n                                    <Typography variant=\"h6\"> \n                                        <b>Por el momento no hay un turno en sesión</b> \n                                    </Typography>\n                                </Box>\n                            )}\n                        </Grid>\n                </DialogContent>\n                <DialogActions>\n                    <Button \n                        onClick={enviarDatos} \n                        variant=\"contained\" \n                        color=\"primary\" \n                        size=\"large\"\n                    >\n                        Registrar\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        </>\n    )\n};\n","import React, { useContext, useEffect, useState } from 'react'\nimport useStyles from '../styles';\n\nimport { Box, Button, CircularProgress, \n        DialogActions, DialogContent,  \n        FormControl, Grid, MenuItem, \n        Select, TextField, Typography \n    } from '@material-ui/core'\nimport { useMutation, useQuery } from '@apollo/client';\nimport { OBTENER_CAJAS } from '../../../gql/Cajas/cajas';\nimport { REGISTRAR_TURNOS } from '../../../gql/Ventas/abrir_cerrar_turno';\nimport { VentasContext } from '../../../context/Ventas/ventasContext';\n\nimport moment from 'moment';\nimport 'moment/locale/es';\nmoment.locale('es');\n\nexport default function AbrirTurno({handleClickOpen, loading, type, setLoading}) {\n    const sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n    const turnoEnCurso = JSON.parse(localStorage.getItem('turnoEnCurso'));\n\n    const [ CrearRegistroDeTurno ] = useMutation(REGISTRAR_TURNOS);\n    const { setTurnoActivo, setAlert } = useContext(VentasContext);\n\n    const [ error, setError ] = useState(false);\n    const [ abrirTurno, setAbrirTurno ] = useState([]);\n    const [ numeroCaja, setNumeroCaja ] = useState('');\n    \n    const classes = useStyles();\n    let obtenerCajasSucursal = [];\n\n    const cajas = useQuery(OBTENER_CAJAS,{\n\t\tvariables: {\n            empresa: sesion.empresa._id,\n\t\t\tsucursal: sesion.sucursal._id\n\t\t}\n\t});\t\n\n    const obtenerTurno = (e) => {\n        setAbrirTurno({...abrirTurno, [e.target.name]: e.target.value});\n    };\n\n    if(cajas.data){\n\t\tobtenerCajasSucursal = cajas.data.obtenerCajasSucursal;\n\t};\n\n    let arraySesion = {\n        accesos: sesion.accesos,\n        email: sesion.email,\n        empresa: sesion.empresa,\n        estado: sesion.estado,\n        exp: sesion.exp,\n        iat: sesion.iat,\n        imagen: sesion.imagen,\n        nombre: sesion.nombre,\n        numero_usuario: sesion.numero_usuario,\n        sucursal: sesion.sucursal,\n        telefono: sesion.telefono,\n        turno_en_caja_activo: true, \n        _id: sesion._id,\n    };\n\n    useEffect(() => {\n        cajas.refetch();\n    }, [loading]);\n\n    const enviarDatos = async () => {\n        setLoading(true);\n        try {\n            if(!abrirTurno.turno_en_curso ||\n                !abrirTurno.caja_elegida ||\n                !abrirTurno.monto_abrir\n            ){\n                setError(true);\n                setLoading(false);\n                setAlert({\n                    message: `Por favor complete los datos obligatorios`,\n                    status: \"error\",\n                    open: true,\n                });\n                return;\n            }else{\n                const input = {\n                    horario_en_turno: abrirTurno.turno_en_curso,\n                    concepto: \"ABRIR TURNO\",\n                    numero_caja: numeroCaja.toString(),\n                    comentarios: abrirTurno.comentarios,\n                    id_caja: abrirTurno.caja_elegida,\n                    empresa: sesion.empresa._id,\n                    sucursal: sesion.sucursal._id,\n                    id_usuario: sesion._id,\n                    usuario_en_turno: {\n                        nombre: sesion.nombre,\n                        telefono: sesion.telefono,\n                        numero_usuario: sesion.numero_usuario.toString(),\n                        email: sesion.email,\n                    },\n                    hora_entrada: {\n                        hora: moment().format('hh'),\n                        minutos: moment().format('mm'),\n                        segundos: moment().format('ss'),\n                        completa: moment().format('HH:mm:ss')\n                    },\n                    hora_salida: {\n                        hora: \"\",\n                        minutos: \"\",\n                        segundos: \"\",\n                        completa: \"\"\n                    },\n                    fecha_entrada:{\n                        year: moment().format('YYYY'),\n                        mes: moment().format('MM'),\n                        dia: moment().format('DD'),\n                        no_semana_year: moment().week().toString(),\n                        no_dia_year: moment().dayOfYear().toString(),\n                        completa: moment().format(\"YYYY-MM-DD\")\n                    },\n                    fecha_salida:{\n                        year: \"\",\n                        mes: \"\",\n                        dia: \"\",\n                        no_semana_year: \"\",\n                        no_dia_year: \"\",\n                        completa: \"\"\n                    },\n                    fecha_movimiento: moment().locale('es-mx').format(),\n                    montos_en_caja: {\n                        monto_efectivo: {\n                            monto: parseFloat(abrirTurno.monto_abrir),\n                            metodo_pago: \"01\"\n                        },\n                        monto_tarjeta_debito: {\n                            monto: 0,\n                            metodo_pago: \"28\"\n                        },\n                        monto_tarjeta_credito: {\n                            monto: 0,\n                            metodo_pago: \"04\"\n                        },\n                        monto_creditos: {\n                            monto: 0,\n                            metodo_pago: \"99\"\n                        },\n                        monto_monedero: {\n                            monto: 0,\n                            metodo_pago: \"05\"\n                        },\n                        monto_transferencia: {\n                            monto: 0,\n                            metodo_pago: \"03\"\n                        },\n                        monto_cheques: {\n                            monto: 0,\n                            metodo_pago: \"02\"\n                        },\n                        monto_vales_despensa: {\n                            monto: 0,\n                            metodo_pago: \"08\"\n                        },\n                    }\n                };\n\n                const variableTurnoAbierto = await CrearRegistroDeTurno({\n                    variables: {\n                        activa: true,\n                        input\n                    }\n                });\n\n                if(variableTurnoAbierto.data.crearRegistroDeTurno === null){\n                    setLoading(false);\n                    cajas.refetch();\n                    setAlert({\n                        message: `Lo sentimos esta caja ya esta en uso`,\n                        status: \"error\",\n                        open: true,\n                    });\n                }else{\n                    localStorage.setItem('turnoEnCurso', JSON.stringify(variableTurnoAbierto.data.crearRegistroDeTurno));\n                    localStorage.setItem('sesionCafi', JSON.stringify(arraySesion));\n                    setTurnoActivo(true);\n                    setAlert({\n                        message: `Turno abierto con exito`,\n                        status: \"success\",\n                        open: true,\n                    });\n                    cajas.refetch();\n                    if (type !== \"FRENTE\") {\n                        handleClickOpen();\n                    };\n                }\n            }\n        } catch (error) {\n            setLoading(false);\n            setAlert({\n                message: `Error: ${error.message}`,\n                status: \"error\",\n                open: true,\n            });\n            if (type !== \"FRENTE\") {\n                handleClickOpen();\n            }\n        }\n    };\n\n    if (cajas.loading) \n\treturn (\n\t\t<Box\n\t\tdisplay=\"flex\"\n\t\tflexDirection=\"column\"\n\t\tjustifyContent=\"center\"\n\t\talignItems=\"center\"\n\t\theight=\"80vh\"\n\t\t>\n\t\t\t<CircularProgress />\n\t\t</Box>\n\t);\n\n    return (\n        <div>\n            <DialogContent>\n                <Grid>\n                    <div className={classes.formInputFlex}>\n                        <Box width=\"100%\">\n                            <Typography> Empleado:</Typography>\n                            <Box display=\"flex\">\n                                <TextField\n                                    fullWidth\n                                    size=\"small\"\n                                    name=\"nombre_usuario\"\n                                    onChange={obtenerTurno}\n                                    disabled={true}\n                                    value={sesion ? sesion.nombre : ''}\n                                    id=\"form-producto-codigo-barras\"\n                                    variant=\"outlined\"\n                                />\n                            </Box>\n                        </Box>\n                        <Box width=\"100%\">\n                            <Typography>\n                                <span className=\"obligatorio\">* </span>Turno:\n                            </Typography>\n                            <FormControl\n                                variant=\"outlined\"\n                                disabled={turnoEnCurso ? true : false}\n                                fullWidth\n                                size=\"small\"\n                            >\n                                <Select\n                                    id=\"form-producto-tipo\"\n                                    name=\"turno_en_curso\"\n                                    onChange={obtenerTurno}\n                                >\n                                    <MenuItem value=\"\">\n                                        <em>Selecciona uno</em>\n                                    </MenuItem>\n                                    <MenuItem value=\"VESPERTINO\">Vespertino</MenuItem>\n                                    <MenuItem value=\"MATUTINO\">Matutino</MenuItem>\n                                </Select>\n                            </FormControl>\n                        </Box>\n                    </div>\n                    <div className={classes.formInputFlex}>\n                        <Box width=\"100%\">\n                            <Typography>\n                                <span className=\"obligatorio\">* </span>Caja:\n                            </Typography>\n                            <FormControl\n                                variant=\"outlined\"\n                                disabled={turnoEnCurso ? true : false}\n                                fullWidth\n                                size=\"small\"\n                            >\n                                <Select\n                                    id=\"form-producto-tipo\"\n                                    name=\"caja_elegida\"\n                                    onChange={obtenerTurno}\n                                >\n                                    <MenuItem value=\"\">\n                                        <em>Selecciona uno</em>\n                                    </MenuItem>\n                                    {\n                                        obtenerCajasSucursal.map((caja) =>{\n                                            return(\n                                                caja.activa === true ? null :(\n                                                    <MenuItem key={caja.numero_caja} value={caja._id} onClick={() => setNumeroCaja(caja.numero_caja)}>\n                                                        Caja {caja.numero_caja}\n                                                    </MenuItem>\n                                                )\n                                            );\n                                        })\n                                    }\n                                </Select>\n                            </FormControl>\n                        </Box>\n                        <Box width=\"100%\">\n                            <Typography> <span className=\"obligatorio\">* </span>Monto para abrir:</Typography>\n                            <Box display=\"flex\" className={classes.input}>\n                                <TextField\n                                    fullWidth\n                                    size=\"small\"\n                                    name=\"monto_abrir\"\n                                    inputProps={{min: 0}}\n                                    type=\"number\"\n                                    onChange={obtenerTurno}\n                                    id=\"form-producto-codigo-barras\"\n                                    variant=\"outlined\"\n                                />\n                            </Box>\n                        </Box>\n                    </div>\n                    <div className={classes.formInputFlex}>\n                        <Box width=\"100%\">\n                            <Typography> Comentarios:</Typography>\n                            <Box display=\"flex\">\n                                <TextField\n                                    fullWidth\n                                    size=\"small\"\n                                    name=\"comentarios\"\n                                    multiline\n                                    rows={5}\n                                    onChange={obtenerTurno}\n                                    id=\"form-producto-codigo-barras\"\n                                    variant=\"outlined\"\n                                />\n                            </Box>\n                        </Box>\n                    </div>\n                </Grid>\n            </DialogContent>\n            <DialogActions>\n                <Box display=\"flex\" alignItems='flex-end'>\n                    <Button \n                        onClick={enviarDatos} \n                        variant=\"contained\" \n                        color=\"primary\" \n                        size=\"large\"\n                    >\n                        ABRIR TURNO\n                    </Button>\n                </Box>\n            </DialogActions>\n        </div>\n    )\n}","import React, { useContext, useState } from 'react'\nimport useStyles from '../styles';\nimport { Box,  Button,  DialogActions, \n        DialogContent,  FormControl, \n        Grid, MenuItem, Select, \n        TextField, Typography \n    } from '@material-ui/core'\nimport { REGISTRAR_TURNOS } from '../../../gql/Ventas/abrir_cerrar_turno';\n\nimport moment from 'moment';\nimport 'moment/locale/es';\nimport { VentasContext } from '../../../context/Ventas/ventasContext';\nimport { useMutation } from '@apollo/client';\nimport { withRouter } from 'react-router-dom';\nmoment.locale('es');\n\nfunction  CerrarTurno(props) {\n    const { handleClickOpen, setLoading } = props;\n    const [ CrearRegistroDeTurno ] = useMutation(REGISTRAR_TURNOS);\n    const { setAlert, setTurnoActivo, ubicacionTurno } = useContext(VentasContext);\n    const [ error, setError] = useState(false);\n\n    const sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n    const turnoEnCurso = JSON.parse(localStorage.getItem('turnoEnCurso'));\n\n    const classes = useStyles();\n    const [ montoTurno, setMontoTurno ] = useState([]);\n    const [ cerrarTurno, setCerrarTurno ] = useState([]);\n\n    const obtenerCamposMontos = (e) => { \n        setMontoTurno({...montoTurno, [e.target.name]: e.target.value})\n    };\n\n    const obtenerCampos = (e) => { \n        setCerrarTurno({...cerrarTurno, [e.target.name]: e.target.value})\n    };\n    \n    const input = {\n        horario_en_turno: cerrarTurno.horario_en_turno,\n        concepto: \"CERRAR TURNO\",\n        token_turno_user: turnoEnCurso ? turnoEnCurso.token_turno_user : \"\",\n        numero_caja: turnoEnCurso ? turnoEnCurso?.numero_caja.toString() : \"\",\n        comentarios: cerrarTurno.comentarios,\n        id_caja: turnoEnCurso ? turnoEnCurso.id_caja : \"\",\n        empresa: sesion.empresa._id,\n        sucursal: sesion.sucursal._id,\n        id_usuario: sesion._id,\n        usuario_en_turno: {\n            nombre: sesion.nombre,\n            telefono: sesion.telefono,\n            numero_usuario: sesion.numero_usuario.toString(),\n            email: sesion.email,\n        },\n        hora_entrada: {\n            hora:  \"\",\n            minutos: \"\",\n            segundos:  \"\",\n            completa: \"\"\n        },\n        hora_salida: {\n            hora: moment().format('hh'),\n            minutos: moment().format('mm'),\n            segundos: moment().format('ss'),\n            completa: moment().format('HH:mm:ss')\n        },\n        fecha_entrada:{\n            year: \"\",\n            mes: \"\",\n            dia: \"\",\n            no_semana_year: \"\",\n            no_dia_year: \"\",\n            completa: \"\"\n        },\n        fecha_salida:{\n            year: moment().format('YYYY'),\n            mes: moment().format('MM'),\n            dia: moment().format('DD'),\n            no_semana_year: moment().week().toString(),\n            no_dia_year: moment().dayOfYear().toString(),\n            completa: moment().format(\"YYYY-MM-DD\")\n        },\n        fecha_movimiento: moment().locale('es-mx').format(),\n        montos_en_caja: {\n            monto_efectivo: {\n                monto:  parseFloat(montoTurno.monto_efectivo ? montoTurno.monto_efectivo : 0),\n                metodo_pago: \"01\"\n            },\n            monto_tarjeta_debito: {\n                monto: parseFloat(montoTurno.monto_tarjeta_debito ? montoTurno.monto_tarjeta_debito : 0),\n                metodo_pago: \"28\"\n            },\n            monto_tarjeta_credito: {\n                monto: parseFloat(montoTurno.monto_tarjeta_credito ? montoTurno.monto_tarjeta_credito : 0),\n                metodo_pago: \"04\"\n            },\n            monto_creditos: {\n                monto: parseFloat(montoTurno.monto_creditos ? montoTurno.monto_creditos : 0 ),\n                metodo_pago: \"99\"\n            },\n            monto_monedero: {\n                monto: parseFloat(montoTurno.monto_puntos ? montoTurno.monto_puntos : 0),\n                metodo_pago: \"05\"\n            },\n            monto_transferencia: {\n                monto: parseFloat(montoTurno.monto_transferencia ? montoTurno.monto_transferencia : 0),\n                metodo_pago: \"03\"\n            },\n            monto_cheques: {\n                monto: parseFloat(montoTurno.monto_cheques ? montoTurno.monto_cheques : 0),\n                metodo_pago: \"02\"\n            },\n            monto_vales_despensa: {\n                monto: parseFloat(montoTurno.monto_vales_despensa ? montoTurno.monto_vales_despensa : 0),\n                metodo_pago: \"08\"\n            },\n        }\n    };\n\n    let arraySesion = {\n        accesos: sesion.accesos,\n        email: sesion.email,\n        empresa: sesion.empresa,\n        estado: sesion.estado,\n        exp: sesion.exp,\n        iat: sesion.iat,\n        imagen: sesion.imagen,\n        nombre: sesion.nombre,\n        numero_usuario: sesion.numero_usuario,\n        sucursal: sesion.sucursal,\n        telefono: sesion.telefono,\n        turno_en_caja_activo: false, \n        _id: sesion._id,\n    };\n\n    const actualizarTurnoSesion  = (ubicacionTurno) => {\n        if (ubicacionTurno === 'SESION') {\n            localStorage.removeItem('sesionCafi');\n\t\t\tlocalStorage.removeItem('tokenCafi');\n            localStorage.removeItem('turnoEnCurso');\n            localStorage.removeItem('ListaEnEspera');\n            localStorage.removeItem('DatosVentas');\n\t\t\tprops.history.push('/');\n        }else{\n            localStorage.setItem('sesionCafi', JSON.stringify(arraySesion));\n            localStorage.removeItem('DatosVentas');\n            localStorage.removeItem('ListaEnEspera');\n            localStorage.removeItem('turnoEnCurso');\n        }\n    };\n\n    const enviarDatos  = async () => {\n        setLoading(true);\n        try {\n            if(!cerrarTurno.horario_en_turno){\n                setError(true);\n                setLoading(false);\n                setAlert({\n                    message: `Por favor elija que turno esta cerrando`,\n                    status: \"error\",\n                    open: true,\n                });\n                return;\n            }else{\n                await CrearRegistroDeTurno({\n                    variables: {\n                        activa: false,\n                        input\n                    }\n                });\n                setAlert({\n                    message: `Turno cerrado con exito`,\n                    status: \"success\",\n                    open: true,\n                });\n\n                actualizarTurnoSesion(ubicacionTurno);\n\n                setLoading(false);\n                handleClickOpen();\n                setTurnoActivo(true);\n            }\n        } catch (error) {\n            setAlert({\n                message: `Error: ${error.message}`,\n                status: \"error\",\n                open: true,\n            });\n            setLoading(false);\n            handleClickOpen();\n        }\n    };\n\n\n    return (\n        <>\n            <DialogContent style={{padding: 0}}>\n            <Box width=\"100%\" textAlign=\"center\">\n                <Typography variant=\"h6\">Montos a Depositar</Typography>\n            </Box>\n            <div className={classes.formInputFlex}>\n                <Box width=\"100%\" className={classes.input}>\n                    <Typography> Monto Efectivo:</Typography>\n                    <Box display=\"flex\">\n                        <TextField\n                            name=\"monto_efectivo\"\n                            variant=\"outlined\"\n                            size=\"small\"\n                            inputProps={{min: 0}}\n                            type=\"number\"\n                            defaultValue={0}\n                            color=\"primary\"\n                            onChange={obtenerCamposMontos}\n                        />\n                    </Box>\n                </Box>\n                <Box width=\"100%\" className={classes.input}>\n                    <Typography> Creditos:</Typography>\n                    <Box display=\"flex\">\n                        <TextField\n                            name=\"monto_creditos\"\n                            variant=\"outlined\"\n                            size=\"small\"\n                            inputProps={{min: 0}}\n                            type=\"number\" \n                            defaultValue={0}\n                            color=\"primary\"\n                            onChange={obtenerCamposMontos}\n                        />\n                    </Box>\n                </Box>\n            </div>\n            <div className={classes.formInputFlex}>\n                <Box width=\"100%\" className={classes.input}>\n                    <Typography> Tarjeta Debito:</Typography>\n                    <Box display=\"flex\">\n                        <TextField\n                            name=\"monto_tarjeta_debito\"\n                            variant=\"outlined\"\n                            size=\"small\"\n                            inputProps={{min: 0}}\n                            type=\"number\"\n                            defaultValue={0}\n                            color=\"primary\"\n                            onChange={obtenerCamposMontos}\n                        />\n                    </Box>\n                </Box>\n                <Box width=\"100%\" className={classes.input}>\n                    <Typography> Tarjeta Credito:</Typography>\n                    <Box display=\"flex\">\n                        <TextField\n                            name=\"monto_tarjeta_credito\"\n                            variant=\"outlined\"\n                            size=\"small\"\n                            inputProps={{min: 0}}\n                            type=\"number\"\n                            defaultValue={0}\n                            color=\"primary\"\n                            onChange={obtenerCamposMontos}\n                        />\n                    </Box>\n                </Box>\n                \n            </div>\n            <div className={classes.formInputFlex}>\n                <Box width=\"100%\" className={classes.input}>\n                    <Typography>Monedero:</Typography>\n                    <Box display=\"flex\">\n                        <TextField\n                            name=\"monto_puntos\"\n                            variant=\"outlined\"\n                            size=\"small\"\n                            inputProps={{min: 0}}\n                            type=\"number\" \n                            defaultValue={0}\n                            color=\"primary\"\n                            onChange={obtenerCamposMontos}\n                        />\n                    </Box>\n                </Box>\n                <Box width=\"100%\" className={classes.input}>\n                    <Typography>Transferencias:</Typography>\n                    <Box display=\"flex\">\n                        <TextField\n                            name=\"monto_transferencia\"\n                            variant=\"outlined\"\n                            size=\"small\"\n                            inputProps={{min: 0}}\n                            type=\"number\" \n                            defaultValue={0}\n                            color=\"primary\"\n                            onChange={obtenerCamposMontos}\n                        />\n                    </Box>\n                </Box>\n            </div>\n            <div className={classes.formInputFlex}>\n                <Box width=\"100%\" className={classes.input}>\n                    <Typography>Cheques:</Typography>\n                    <Box display=\"flex\">\n                        <TextField\n                            name=\"monto_cheques\"\n                            variant=\"outlined\"\n                            size=\"small\"\n                            inputProps={{min: 0}}\n                            type=\"number\" \n                            defaultValue={0}\n                            color=\"primary\"\n                            onChange={obtenerCamposMontos}\n                        />\n                    </Box>\n                </Box>\n                <Box width=\"100%\" className={classes.input}>\n                    <Typography>Vales de despensa:</Typography>\n                    <Box display=\"flex\">\n                        <TextField\n                            name=\"monto_vales_despensa\"\n                            variant=\"outlined\"\n                            size=\"small\"\n                            inputProps={{min: 0}}\n                            type=\"number\" \n                            defaultValue={0}\n                            color=\"primary\"\n                            onChange={obtenerCamposMontos}\n                        />\n                    </Box>\n                </Box>\n            </div>\n                <Grid container >\n                    <Grid item lg={6}>\n                        <Box mt={1} textAlign=\"center\">\n                            <Typography >\n                                <b>Monto total efectivo:  </b>\n                            </Typography>\n                        </Box>\n                    </Grid>\n                    <Grid item lg={6} justify='flex-end'>\n                        <Box mt={1} textAlign=\"center\" >\n                            <Typography>\n                                 ${montoTurno.monto_efectivo} Mx.\n                            </Typography>\n                        </Box>\n                    </Grid>\n                </Grid>\n                <div className={classes.formInputFlex}>\n                    <Box width=\"100%\">\n                        <Typography>\n                            <span className=\"obligatorio\">* </span> Turno:\n                        </Typography>\n                        <FormControl\n                            variant=\"outlined\"\n                            fullWidth\n                            size=\"small\"\n                        >\n                            <Select\n                                onChange={obtenerCampos}\n                                id=\"form-producto-tipo\"\n                                name=\"horario_en_turno\"\n                            >\n                                <MenuItem value=\"\">\n                                    <em>Selecciona uno</em>\n                                </MenuItem>\n                                <MenuItem value=\"VESPERTINO\">Vespertino</MenuItem>\n                                <MenuItem value=\"MATUTINO\">Matutino</MenuItem>\n                            </Select>\n                        </FormControl>\n                    </Box>\n                </div>\n                <div className={classes.formInputFlex}>\n                    <Box width=\"100%\">\n                        <Typography>Comentarios:</Typography>\n                        <Box display=\"flex\">\n                            <TextField\n                                fullWidth\n                                multiline\n                                onChange={obtenerCampos}\n                                rows={2}\n                                size=\"small\"\n                                name=\"comentarios\"\n                                id=\"form-producto-codigo-barras\"\n                                variant=\"outlined\"\n                            />\n                        </Box>\n                    </Box>\n                </div>\n            </DialogContent>\n            <DialogActions>\n                <Box display=\"flex\" alignItems='flex-end'>\n                    <Button \n                        onClick={enviarDatos} \n                        variant=\"contained\" \n                        color=\"primary\" \n                        size=\"large\"\n                    >\n                        Aceptar\n                    </Button>\n                </Box>\n            </DialogActions>\n        </>\n    )\n};\n\nexport default withRouter(CerrarTurno);\n","import React, { useContext, useState } from 'react'\nimport PropTypes from 'prop-types';\nimport { AppBar, Box, Button, CircularProgress, Dialog, DialogContent, Grid, makeStyles, Slide, Tab, Tabs, Typography } from '@material-ui/core'\nimport CloseIcon from '@material-ui/icons/Close';\n\nimport AbrirTurno from './AbrirTurno';\nimport CerrarTurno from './CerrarTurno';\nimport moment from 'moment';\nimport 'moment/locale/es';\nimport { VentasContext } from '../../../context/Ventas/ventasContext';\nmoment.locale('es');\n\nfunction TabPanel(props) {\n\tconst { children, value, index, ...other } = props;\n\n\treturn (\n\t\t<div\n\t\t\trole=\"tabpanel\"\n\t\t\thidden={value !== index}\n\t\t\tid={`tabpanel-reg-product-${index}`}\n\t\t\taria-labelledby={`reg-product-tab-${index}`}\n\t\t\t{...other}\n\t\t>\n\t\t\t{value === index && (\n\t\t\t\t<Box p={3} height=\"70vh\">\n\t\t\t\t\t{children}\n\t\t\t\t</Box>\n\t\t\t)}\n\t\t</div>\n\t);\n}\n\nTabPanel.propTypes = {\n\tchildren: PropTypes.node,\n\tindex: PropTypes.any.isRequired,\n\tvalue: PropTypes.any.isRequired\n};\n\nfunction a11yProps(index) {\n\treturn {\n\t\tid: `reg-product-tab-${index}`,\n\t\t'aria-controls': `tabpanel-reg-product-${index}`\n\t};\n}\n\nconst useStyles = makeStyles((theme) => ({\n\tformInputFlex: {\n\t\tdisplay: 'flex',\n\t\t'& > *': {\n\t\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(0)}px`\n\t\t}\n\t},\n\tformInput: {\n\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(0)}px`\n\t},\n\troot: {\n\t\tflexGrow: 1,\n\t\twidth: '100%',\n\t\tbackgroundColor: theme.palette.background.paper\n\t},\n\ticonSvg: {\n\t\twidth: 50\n\t},\n\tdialogContent: {\n\t\tpadding: 0\n\t},\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function Turnos() {\n\tconst { abrirTurnosDialog, setAbrirTurnosDialog, setTurnoActivo } = useContext(VentasContext);\n    const sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\tconst turnoEnCurso = JSON.parse(localStorage.getItem('turnoEnCurso'));\n\n    const classes = useStyles();\n    const [value, setValue] = useState(0);\n\n    const handleChange = (event, newValue) => {\n\t\tsetValue(newValue);\n\t};\n\n\tconst handleClickOpen = () => { \n\t\tsetAbrirTurnosDialog(!abrirTurnosDialog);\n\t\tsetTurnoActivo(true);\n\t};\n\n\twindow.addEventListener('keydown', Mi_función); \n\n\tif(!turnoEnCurso){\n\t\tconsole.log(true);\n\t}else{\n\t\tconsole.log(false);\n\t}\n\n\tfunction Mi_función(e){\n\t\tif(e.altKey && e.keyCode === 85){ \n\t\t\thandleClickOpen();\n\t\t} \n\t};\n\n    return (\n        <>\n\t\t\t<Button\n                onClick={() => handleClickOpen()}\n                style={{textTransform: 'none', height: '100%', width: '60%'}}\n            >\n                <Box display=\"flex\" flexDirection=\"column\" style={{height: '100%', width: '100%'}}>\n                    <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n                        <img \n                            src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/ventas/shift.svg'\n                            alt=\"icono caja\" \n                            style={{width: 20}}\n                        />\n                    </Box>\n\t\t\t\t\t<Box>\n                        <Typography variant=\"body2\" >\n                            <b>Abrir/Cerrar turno</b>\n                        </Typography>\n                    </Box>\n                    <Box>\n                        <Typography variant=\"caption\" style={{color: '#808080'}} >\n                            <b>Alt + U</b>\n                        </Typography>\n                    </Box>\n                </Box>\n            </Button>\t\n\n            <Dialog\n\t\t\t\tmaxWidth='lg'\n\t\t\t\topen={abrirTurnosDialog} \n\t\t\t\tonClose={handleClickOpen} \n\t\t\t\tTransitionComponent={Transition}\n\t\t\t>\n            <AppBar position=\"static\" color=\"default\" elevation={0}>\n\t\t\t\t\t<Tabs\n\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\tvariant=\"scrollable\"\n\t\t\t\t\t\tscrollButtons=\"on\"\n\t\t\t\t\t\tindicatorColor=\"primary\"\n\t\t\t\t\t\ttextColor=\"primary\"\n\t\t\t\t\t\taria-label=\"scrollable force tabs example\"\n\t\t\t\t\t>\n\t\t\t\t\t\t\n\t\t\t\t\t\t{sesion?.turno_en_caja_activo === true && turnoEnCurso ? (\n\t\t\t\t\t\t\t<Tab\n\t\t\t\t\t\t\t\tlabel=\"Cerrar Turno\"\n\t\t\t\t\t\t\t\ticon={<img src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/ventas/shift.svg' alt=\"icono almacen\" className={classes.iconSvg} />}\n\t\t\t\t\t\t\t\t{...a11yProps(0)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<Tab\n\t\t\t\t\t\t\t\tlabel=\"Abrir Turno\"\n\t\t\t\t\t\t\t\ticon={<img src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/ventas/shift.svg' alt=\"icono almacen\" className={classes.iconSvg} />}\n\t\t\t\t\t\t\t\t{...a11yProps(0)}\n\t\t\t\t\t\t\t/>\t\t\t\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<Grid container justify='flex-end'>\n\t\t\t\t\t\t\t<Box mt={2} textAlign=\"right\">\n\t\t\t\t\t\t\t\t<Box textAlign=\"right\">\n\t\t\t\t\t\t\t\t\t<Typography variant=\"caption\">\n\t\t\t\t\t\t\t\t\t\t{moment().format('L')}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t<Box textAlign=\"right\">\n\t\t\t\t\t\t\t\t\t<Typography variant=\"caption\">\n\t\t\t\t\t\t\t\t\t\t{moment().format('LT')} hrs.\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t<Box textAlign=\"right\">\n\t\t\t\t\t\t\t\t\t<Typography variant=\"caption\">\n\t\t\t\t\t\t\t\t\t\tCaja {!turnoEnCurso ? null : turnoEnCurso.numero_caja }\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Box mt={3} ml={3}>\n\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"secondary\" onClick={handleClickOpen} size=\"medium\">\n\t\t\t\t\t\t\t\t<CloseIcon />\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Tabs>\n\t\t\t\t</AppBar>\n                <ContenidoTurnos handleClickOpen={handleClickOpen} value={value} /> \n\t\t\t</Dialog>\n        </>\n    )\n}\n\n\nconst ContenidoTurnos = ({ handleClickOpen, value}) => {\n\n\tconst turnoEnCurso = JSON.parse(localStorage.getItem('turnoEnCurso'));\n    const sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\n\tconst [loading, setLoading] = useState(false);\n\n\tif (loading) \n\treturn (\n\t\t<Box\n\t\tdisplay=\"flex\"\n\t\tflexDirection=\"column\"\n\t\tjustifyContent=\"center\"\n\t\talignItems=\"center\"\n\t\theight=\"80vh\"\n\t\t>\n\t\t\t<CircularProgress />\n\t\t</Box>\n\t);\n\n\treturn(\n\t\t<DialogContent style={{padding: 0}}>\n\t\t\t{sesion?.turno_en_caja_activo === true && turnoEnCurso ? (\n\t\t\t\t<TabPanel style={{padding: 0}} value={value} index={0}>\n\t\t\t\t\t<CerrarTurno  setLoading={setLoading} handleClickOpen={handleClickOpen} />\n\t\t\t\t</TabPanel>\n\t\t\t): (\n\t\t\t\t<TabPanel value={value} index={0}>\n\t\t\t\t\t<AbrirTurno loading={loading} setLoading={setLoading} handleClickOpen={handleClickOpen} />\n\t\t\t\t</TabPanel>\n\t\t\t)}\n\t\t</DialogContent>\n\t)\n};\n","import React, { useState } from 'react'\nimport useStyles from '../styles';\nimport { Box, Button, Dialog, DialogActions, DialogContent, Grid, Slide, Typography } from '@material-ui/core'\nimport CloseIcon from '@material-ui/icons/Close';\nimport moment from 'moment';\nimport 'moment/locale/es';\nimport { useQuery } from '@apollo/client';\nimport { OBTENER_PRE_CORTE_CAJA } from '../../../gql/Cajas/cajas';\nmoment.locale('es');\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n    return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function PreCorteCaja() {\n    const turnoEnCurso = JSON.parse(localStorage.getItem('turnoEnCurso'));\n    const sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\n    const input = { \n        horario_en_turno: \"ABRIR TURNO\",\n        id_caja: turnoEnCurso ? turnoEnCurso.id_caja : \"\",\n        id_usuario: sesion._id,\n        token_turno_user: turnoEnCurso ? turnoEnCurso.token_turno_user : \"\"\n    };\n\n    const { data, refetch} = useQuery(OBTENER_PRE_CORTE_CAJA, {\n        variables: { empresa: sesion.empresa._id, sucursal: sesion.sucursal._id, input: input},\n    });\n\n    const classes = useStyles();\n    const [open, setOpen] = useState(false);\n\n    const handleClickOpen = () => { \n        if(sesion.accesos.ventas.pre_corte.ver === true){\n\t\t\tsetOpen(!open);\n\t\t};\n\t};\n    \n    if(!data) return null;\n\n    window.addEventListener('keydown', Mi_función); \n    function Mi_función(e){\n        if(e.altKey && e.keyCode === 79){ \n            handleClickOpen();\n            refetch();\n        } \n    };\n\n    return (\n        <>\n            <Button\n                onClick={() =>{\n                    handleClickOpen()\n                    refetch()\n                }}\n                style={{textTransform: 'none', height: '100%', width: '60%'}}\n            >\n                <Box display=\"flex\" flexDirection=\"column\">\n                    <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n                        <img \n                            src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/ventas/cash-register.svg' \n                            alt=\"icono caja\" \n                            style={{width: 20}}\n                        />\n                    </Box>\n                    <Box>\n                        <Typography variant=\"body2\" >\n                            <b>Pre corte caja</b>\n                        </Typography>\n                    </Box>\n                    <Box>\n                        <Typography variant=\"caption\" style={{color: '#808080'}} >\n                            <b>Alt + O</b>\n                        </Typography>\n                    </Box>\n                </Box>\n            </Button>\t\n\n            <Dialog\n\t\t\t\tmaxWidth='lg'\n\t\t\t\topen={open} \n\t\t\t\tonClose={handleClickOpen} \n\t\t\t\tTransitionComponent={Transition}\n\t\t\t>\n                <DialogContent>\n                    <Grid container>\n                        <Grid item lg={10}>\n                            <Box\n                                display=\"flex\" \n                                alignItems=\"center\"\n                            >\n                                <Box>\n                                    <img src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/ventas/cash-register.svg' alt=\"icono caja\" className={classes.iconSizeDialogs} />\n                                </Box>\n                                <Box ml={2}>\n                                    <Box textAlign=\"left\">\n                                        <Typography variant=\"h6\">\n                                            Pre-Corte de Caja\n                                        </Typography>\n                                    </Box>\n                                    <Box display=\"flex\">\n                                        <Box textAlign=\"right\">\n                                            <Typography variant=\"caption\">\n                                                {moment().format('MM/DD/YYYY')}\n                                            </Typography>\n                                        </Box>\n                                        <Box textAlign=\"right\" ml={2}>\n                                            <Typography variant=\"caption\">\n                                                <b>{moment().format('h:mm')} hrs.</b>\n                                            </Typography>\n                                        </Box>\n                                    </Box>\n                                </Box>\n                            </Box>\n                        </Grid>\n                        <Grid item lg={2}>\n                            <Box ml={4} display=\"flex\" alignItems=\"center\" justifyContent=\"flex-end\">\n                                <Button variant=\"contained\" color=\"secondary\" onClick={handleClickOpen} size=\"large\">\n                                    <CloseIcon />\n                                </Button>\n                            </Box>\n                        </Grid>\n                    </Grid>\n                    <Grid>\n                        <Box p={2}>\n                        {sesion.turno_en_caja_activo === true && turnoEnCurso ? (\n                            <>\n                                <Box>\n                                    <Typography variant=\"subtitle1\"> \n                                        <b>Usuario: </b> {sesion.nombre}\n                                    </Typography>\n                                </Box>\n                                <Box>\n                                    <Typography variant=\"subtitle1\"> \n                                        <b>Caja: </b> {turnoEnCurso ? turnoEnCurso.numero_caja : ''}\n                                    </Typography>\n                                </Box>\n                                <Box>\n                                    <Typography variant=\"subtitle1\"> \n                                        <b>Fecha y hora al precorte: </b> \n                                    </Typography>\n                                    <Typography variant=\"subtitle1\"> \n                                        {moment().format('MMMM D YYYY, h:mm:ss a')}\n                                    </Typography>\n                                </Box>\n                                <Box textAlign=\"center\" p={2}>\n                                    <Typography variant=\"h6\"> \n                                        <b>Monto total en efectivo: </b> \n                                    </Typography>\n                                    <Typography variant=\"h3\" style={{color: \"green\"}}> \n                                        <b>${data?.obtenerPreCorteCaja?.monto_efectivo_precorte}</b> \n                                    </Typography>\n                                </Box>\n                            </>\n                        ) : (\n                            <Box textAlign=\"center\" p={2}>\n                                <Typography variant=\"h6\"> \n                                    <b>Por el momento no hay un turno en sesión</b> \n                                </Typography>\n                            </Box>\n                        )}\n                        </Box>\n                    </Grid>\n                </DialogContent>\n                \n                <DialogActions>\n                    {sesion.turno_en_caja_activo === true && turnoEnCurso ? (\n                        <Button \n                            onClick={handleClickOpen} \n                            color=\"primary\"\n                            variant=\"outlined\"\n                            size=\"large\"\n                            autoFocus\n                        >\n                            Imprimir Ticket\n                        </Button>\n                    ) : null }\n                </DialogActions>\n\n            </Dialog>\n        </>\n    )\n}","import { gql } from \"@apollo/client\";\n\nexport const CREAR_COTIZACION = gql`\nmutation crearCotizacion( $input: CrearVentasInput!, $empresa: ID!, $sucursal: ID!, $usuario: ID!, $caja: ID!) {\n    crearCotizacion(input: $input, empresa: $empresa, sucursal: $sucursal, usuario: $usuario, caja: $caja, ) {\n\t\t\tmessage\n\t\t}\n\t}\n`;","import React, { useContext, useState } from 'react';\nimport {\n    Box, Button, DialogActions, DialogContent, \n    FormControl, Grid, MenuItem, \n    Paper, \n    Select, Slider, TextField, Typography \n} from '@material-ui/core'\nimport useStyles from '../styles';\nimport MonetizationOnIcon from '@material-ui/icons/MonetizationOn';\nimport MoneyOffIcon from '@material-ui/icons/MoneyOff';\nimport moment from 'moment';\nimport 'moment/locale/es';\nimport { CREAR_COTIZACION } from \"../../../gql/Ventas/cotizaciones\";\nimport { VentasContext } from '../../../context/Ventas/ventasContext';\nimport { useMutation } from '@apollo/client';\n\nexport default function NuevaCotizacion({ handleClickOpen }) {\n    const { setAlert } = useContext(VentasContext);\n\n    const [ CrearCotizacion ] = useMutation(CREAR_COTIZACION);\n\n    const datosVentas = JSON.parse(localStorage.getItem('DatosVentas'));\n    const turnoEnCurso = JSON.parse(localStorage.getItem('turnoEnCurso'));\n    const sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\n    const [ newCotizacion, setNewCotizacion ] = useState([]);\n    const [ preciosDescuentos, setPreciosDescuentos ] = useState([]);\n    const [ totalDescount, setTotalDescount ] = useState(preciosDescuentos ? preciosDescuentos?.descuento_general?.precio_con_descuento : 0);\n    const [ value, setValue ] =  useState(preciosDescuentos?.descuento_general?.porciento ? preciosDescuentos?.descuento_general?.porciento : 0);\n\n    let descuento_general = [];\n    var totalCompra = datosVentas?.total;\n\n    \n    const classes = useStyles();\n    \n\n    const obtenerDatos = (e) => {\n        setNewCotizacion({...newCotizacion, [e.target.name]: e.target.value});\n    };\n\n    // const input = {\n    //     folio: \"\",\n    //     descuento: datosVentas.descuento,\n    //     ieps: datosVentas.ieps,\n    //     impuestos: datosVentas.impuestos,\n    //     iva: datosVentas.iva,\n    //     monedero: datosVentas.monedero,\n    //     subTotal: datosVentas.subTotal,\n    //     total: datosVentas.total,\n    //     venta_cliente: false,\n    //     montos_en_caja: {},\n    //     credito: false,\n    //     descuento_general_activo: preciosDescuentos?.descuento_general_activo ? preciosDescuentos?.descuento_general_activo : false,\n    //     decuento_general: preciosDescuentos?.descuento_general ? preciosDescuentos?.descuento_general :\n    //     {\n    //         \"porciento\": 0,\n    //         \"precio_con_descuento\": 0,\n    //         \"cantidad_descontado\": 0\n    //     },\n    //     dias_de_credito_venta: \"\",\n    //     fecha_de_vencimiento_credito: \"\",\n    //     fecha_vencimiento_cotizacion: newCotizacion.fecha_vencimiento,\n    //     cliente: datosVentas.cliente,\n    //     productos: datosVentas.productos,\n    //     tipo_venta: newCotizacion.tipo_venta,\n    // };\n\n    const input = {\n        \"folio\": \"12345\",\n        \"descuento\": datosVentas.descuento,\n        \"ieps\": datosVentas.ieps,\n        \"impuestos\": datosVentas.impuestos,\n        \"iva\": datosVentas.iva,\n        \"monedero\": datosVentas.monedero,\n        \"subTotal\": datosVentas.subTotal,\n        \"total\": datosVentas.total,\n        \"venta_cliente\": false,\n        \"montos_en_caja\": {},\n        \"credito\": false,\n        \"descuento_general_activo\": preciosDescuentos?.descuento_general_activo ? preciosDescuentos?.descuento_general_activo : false,\n        \"decuento_general\": preciosDescuentos?.descuento_general ? preciosDescuentos?.descuento_general :\n        {\n            \"porciento\": 0,\n            \"precio_con_descuento\": 0,\n            \"cantidad_descontado\": 0\n        },\n        \"dias_de_credito_venta\": null,\n        \"fecha_de_vencimiento_credito\": null,\n        \"fecha_vencimiento_cotizacion\": newCotizacion.fecha_vencimiento,\n        \"cliente\":{\n            \"banco\": null,\n            \"celular\": null,\n            \"clave_cliente\": \"23233\",\n            \"curp\": null,\n            \"dias_credito\": null,\n            \"direccion\":{\n                \"calle\": \"Antonio\",\n                \"no_ext\": \"1\",\n                \"no_int\": \"1\",\n                \"codigo_postal\": \"1\",\n                \"colonia\": \"Antonio\",\n                \"municipio\": \"1\",\n                \"localidad\": \"1\",\n                \"estado\": \"1\",\n                \"pais\": \"1\"\n            },\n            \"email\": \"antonio.poday@gmail.com\",\n            \"imagen\": null,\n            \"limite_credito\": null,\n            \"nombre_cliente\": \"Antonio\",\n            \"numero_cliente\": \"2323\",\n            \"razon_social\": null,\n            \"rfc\": null,\n            \"telefono\": \"1212\",\n            \"monedero_electronico\": null\n        },\n        \"productos\": [\n        {\n            \"cantidad\": 1,\n            \"cantidad_venta\": 1,\n            \"codigo_barras\": \"226216505720\",\n            \"concepto\": \"unidades\",\n            \"default\": true,\n            \"descuento\": {\n                \"porciento\": 15,\n                \"dinero_descontado\": 5.4,\n                \"precio_con_descuento\": 30.6\n            },\n            \"descuento_activo\": true,\n                \"granel_producto\": {\n                \"granel\": false,\n                \"valor\": 0\n            },\n            \"precio\": 8.25,\n            \"precio_a_vender\": 8.25,\n            \"precio_actual_producto\": 8.25,\n            \"precio_anterior\":8.25,\n            \"iva_total_producto\": 1.03,\n            \"ieps_total_producto\": 0,\n            \"impuestos_total_producto\": 1.03,\n            \"subtotal_total_producto\": 7.22,\n            \"total_total_producto\": 8.25,\n            \"unidad\": \"Caja\",\n            \"codigo_unidad\": \"XBX\",\n            \"unidad_principal\": true,\n            \"inventario_general\": [\n                {\n                    \"cantidad_existente\": 120,\n                    \"cantidad_existente_maxima\": 10,\n                    \"unidad_inventario\": \"Pz\",\n                    \"codigo_unidad\": null,\n                    \"unidad_maxima\": \"Caja\"\n                }\n            ],\n            \"id_producto\":{\n                \"_id\": \"61b7bf6e3454b727a0c2e357\",\n                \"datos_generales\": {\n                    \"clave_alterna\": \"COCA\",\n                    \"codigo_barras\": \"226216505720\",\n                    \"nombre_comercial\": \"COCACOLA\",\n                    \"tipo_producto\": \"OTROS\",\n                    \"nombre_generico\": \"COCACOLA\",\n                    \"descripcion\": null,\n                    \"id_categoria\": null,\n                    \"categoria\": null,\n                    \"subcategoria\": null,\n                    \"id_subcategoria\": null,\n                    \"id_departamento\": null,\n                    \"departamento\": null,\n                    \"id_marca\": null,\n                    \"marca\": null,\n                    \"receta_farmacia\": false,\n                    \"clave_producto_sat\":{\n                        \"Name\": \"Refrescos\",\n                        \"Value\": \"50202306\"\n                    }\n                },\n                \"imagenes\":[{\n                    \"url_imagen\": \"\"\n                }],\n                \"precios\":{\n                    \"ieps\": 10,\n                    \"ieps_activo\": false,\n                    \"inventario\": {\n                        \"inventario_maximo\": 15,\n                        \"inventario_minimo\": 5,\n                        \"unidad_de_inventario\": \"Caja\",\n                        \"codigo_unidad\": \"XBX\"\n                    },\n                    \"iva\": 16,\n                    \"iva_activo\": true,\n                    \"monedero\": false,\n                    \"monedero_electronico\": 0,\n                    \"precio_de_compra\": {\n                        \"precio_con_impuesto\": 180,\n                        \"precio_sin_impuesto\": 155.1724,\n                        \"iva\": 24.8276,\n                        \"ieps\": 0\n                    },\n                    \"precios_producto\": [\n                        {\n                            \"numero_precio\": 1,\n                            \"precio_neto\": 8.25,\n                            \"unidad_mayoreo\": 0,\n                            \"utilidad\": 10\n                        },\n                        {\n                            \"numero_precio\": 2,\n                            \"precio_neto\": 0,\n                            \"unidad_mayoreo\": 0,\n                            \"utilidad\": 0\n                        },\n                        {\n                            \"numero_precio\": 3,\n                            \"precio_neto\": 0,\n                            \"unidad_mayoreo\": 0,\n                            \"utilidad\": 0\n                        },\n                        {\n                            \"numero_precio\": 4,\n                            \"precio_neto\": 0,\n                            \"unidad_mayoreo\": 0,\n                            \"utilidad\": 0\n                        },\n                        {\n                            \"numero_precio\": 5,\n                            \"precio_neto\": 0,\n                            \"unidad_mayoreo\": 0,\n                            \"utilidad\": 0\n                        },\n                        {\n                            \"numero_precio\": 6,\n                            \"precio_neto\": 0,\n                            \"unidad_mayoreo\": 0,\n                            \"utilidad\": 0\n                        }\n                        ],\n                    \"unidad_de_compra\": {\n                        \"cantidad\": 24,\n                        \"precio_unitario_con_impuesto\": 7.5,\n                        \"precio_unitario_sin_impuesto\": 6.4655,\n                        \"unidad\": \"Caja\",\n                        \"codigo_unidad\": \"XBX\"\n                    }\n                }\n            },\n            \"medida\": null,\n            \"color\": null\n        }]\n    };\n\n    const crearCotizacion = async () => {\n        try {\n            if(!newCotizacion.fecha_vencimiento || !newCotizacion.tipo_venta){\n                setAlert({\n                    message: `Por favor completa los datos necesarios`,\n                    status: \"error\",\n                    open: true,\n                });\n                return null;\n            }else{\n                const registroCotizacion = await CrearCotizacion({\n                    variables: {\n                        input,\n                        empresa: \"60c120b6a694891f58d32a1d\",\n                        sucursal: \"60c8e180340d5d223432a916\",\n                        usuario: \"60dde52c5cda9d5510c4b7d0\",\n                        caja: \"61a5037918594a4ecdc1c7bf\"\n                    }\n                });\n                console.log(registroCotizacion);\n            }\n\n        } catch (error) {\n            console.log(error);\n            if(error.networkError.result){\n\t\t\t\tconsole.log(error.networkError.result.errors);\n\t\t\t  }else if(error.graphQLErrors){\n\t\t\t\tconsole.log(error.graphQLErrors.message);\n\t\t\t  }\n\n        }\n    };\n\n    function valuetext(e) {\n        return `${e}`;\n    };\n\n    console.log(datosVentas);\n\n    const obtenerPorciento = (event, newValue) => {\n        setValue(newValue);\n        var porcentaje  =  parseFloat((100 - newValue).toFixed(6));\n        var descuento = parseFloat((totalCompra * porcentaje / 100).toFixed(6));\n        var dineroDescontado = parseFloat((totalCompra - descuento).toFixed(6));\n        descuento_general = {\n            \"descuento_general_activo\": true,\n            \"descuento_general\": {\n                \"porciento\": newValue,\n                \"precio_con_descuento\": descuento,\n                \"cantidad_descontado\": dineroDescontado\n            }\n        };\n        setPreciosDescuentos(descuento_general);\n        setTotalDescount(descuento);\n    };\n    \n    const obtenerPrecioText = (e) => {\n        var valorText = parseFloat(e.target.value);\n        setTotalDescount(valorText);\n        var porcentaje  = parseFloat(((valorText / totalCompra) * 100).toFixed(6));\n        var descuento = parseFloat((100 - porcentaje).toFixed(6));\n        var dineroDescontado = parseFloat((totalCompra - valorText).toFixed(6));\n\n        descuento_general = {\n            \"descuento_general_activo\": true,\n            \"descuento_general\": {\n                \"porciento\": descuento,\n                \"precio_con_descuento\": valorText,\n                \"cantidad_descontado\": dineroDescontado\n            }\n        };\n        setPreciosDescuentos(descuento_general);\n        setValue(descuento);\n    };\n\n    const eliminarDescuento = () => { \n        descuento_general = {\n            \"descuento_general_activo\": false,\n            \"descuento_general\": {\n                \"porciento\": 0,\n                \"precio_con_descuento\": 0,\n                \"cantidad_descontado\": 0\n            }\n        };\n        setValue(0);\n        setTotalDescount(0);\n        setPreciosDescuentos(descuento_general);\n    }\n\n    return (\n        <>\n            <DialogContent style={{padding: 0}} >\n                <div className={classes.formInputFlex}>\n                    <Box width=\"100%\">\n                        <Typography>\n                            Usuario:\n                        </Typography>\n                        <Box display=\"flex\">\n                            <TextField\n                                fullWidth\n                                size=\"small\"\n                                disabled={true}\n                                variant=\"outlined\"\n                                onChange={obtenerDatos}\n                                value={sesion ? sesion.nombre : \"\"}\n                            />\n                        </Box>\n                    </Box>\n                    <Box width=\"100%\">\n                        <Typography>\n                            Fecha:\n                        </Typography>\n                        <Box display=\"flex\">\n                            <TextField\n                                fullWidth\n                                size=\"small\"\n                                disabled={true}\n                                onChange={obtenerDatos}\n                                variant=\"outlined\"\n                                value={moment().format('L')}\n                            />\n                        </Box>\n                    </Box>\n                </div>\n                <div className={classes.formInputFlex}>\n                    <Box width=\"100%\">\n                        <Typography>\n                            Cliente:\n                        </Typography>\n                        <Box display=\"flex\">\n                            <TextField\n                                fullWidth\n                                size=\"small\"\n                                disabled={true}\n                                onChange={obtenerDatos}\n                                variant=\"outlined\"\n                                value={datosVentas.cliente?.nombre_cliente ? datosVentas.cliente?.nombre_cliente : \"Publico General\"}\n                            />\n                        </Box>\n                    </Box>\n                    <Box width=\"100%\">\n                        <Typography>\n                            Fecha Vencimiento:\n                        </Typography>\n                        <Box display=\"flex\">\n                            <TextField\n                                fullWidth\n                                type='date'\n                                onChange={obtenerDatos}\n                                size=\"small\"\n                                name=\"fecha_vencimiento\"\n                                variant=\"outlined\"\n                            />\n                        </Box>\n                    </Box>\n                </div>\n                <div className={classes.formInputFlex}>\n                    <Box width=\"100%\">\n                        <Typography>\n                            No. Cliente:\n                        </Typography>\n                        <Box display=\"flex\">\n                            <TextField\n                                fullWidth\n                                size=\"small\"\n                                disabled={true}\n                                onChange={obtenerDatos}\n                                variant=\"outlined\"\n                                value={datosVentas ? datosVentas.cliente?.numero_cliente : \"\"}\n                            />\n                        </Box>\n                    </Box>\n                    <Box width=\"100%\">\n                        <Typography>\n                            Tipo de Venta:\n                        </Typography>\n                        <FormControl\n                            variant=\"outlined\"\n                            fullWidth\n                            size=\"small\"\n                        >\n                            <Select\n                                id=\"form-producto-tipo\"\n                                onChange={obtenerDatos}\n                                name=\"tipo_venta\"\n                            >\n                                <MenuItem value=''>\n                                    <em>Selecciona uno</em>\n                                </MenuItem>\n                                <MenuItem value='CREDITO'>Credito</MenuItem>\n                                <MenuItem value='CONTADO'>Contado</MenuItem>\n                            </Select>\n                        </FormControl>\n                    </Box>\n                </div>\n                <Grid container>\n                    <Grid lg={6}>\n                        <Box p={1}>\n                            <Paper elevation={3} >\n                                <Box p={2} textAlign={'center'}>\n                                    <Typography variant=\"h6\">\n                                        Agregar descuento total a la venta.\n                                    </Typography>\n                                </Box>\n                                <Box textAlign={'center'} p={2}>\n                                    <div className={classes.formInputFlex}>\n                                        <Box width=\"95%\">\n                                            <Box display=\"flex\" alignItems=\"center\">\n                                                <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" p={1}>\n                                                    <img \n                                                        src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/price-tag.png' \n                                                        alt=\"icono admin\" \n                                                        style={{width: 30}}                                   \n                                                    />\n                                                </Box>\n                                                <Typography variant=\"h6\">\n                                                    Porciento descuento\n                                                </Typography>\n                                            </Box>\n                                            <Box display='flex' justifyContent=\"center\" justifyItems=\"center\" className={classes.rootSlice}>\n                                                <Slider\n                                                    getAriaValueText={valuetext}\n                                                    value={value.toFixed(2)}\n                                                    aria-labelledby=\"discrete-slider-small-steps\"\n                                                    valueLabelDisplay=\"auto\"\n                                                    onChange={obtenerPorciento} \n                                                />\n                                            </Box>\n                                        </Box>\n                                    </div>\n                                    <div className={classes.formInputFlex}>\n                                        <Box width=\"100%\">\n                                            <Typography variant=\"h6\" >\n                                                Total con descuento:\n                                            </Typography>\n                                            <Box display=\"flex\">\n                                                <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" mr={1}>\n                                                    <MoneyOffIcon style={{fontSize: 38, color: \"green\"}} />\n                                                </Box>\n                                                <TextField\n                                                    fullWidth\n                                                    size=\"small\"\n                                                    type=\"number\"\n                                                    name=\"precioConDescuento\"\n                                                    onChange={obtenerPrecioText}\n                                                    value={totalDescount}\n                                                    className={classes.input}\n                                                    variant=\"outlined\"\n                                                />\n                                            </Box>\n                                        </Box>\n                                    </div>\n                                </Box>\n                                <Box \n                                    p={1}\n                                    display=\"flex\"\n                                    flexDirection='row-reverse'\n                                >\n                                    <Button \n                                        variant=\"outlined\"\n                                        color=\"secondary\"\n                                        size=\"large\"\n                                        onClick={eliminarDescuento}\n                                    >\n                                        Eliminar Descuento\n                                    </Button>\n                                </Box>\n                            </Paper>\n                        </Box>\n                    </Grid>\n                    <Grid lg={6}>\n                        <Box mr={2} mt={2}>\n                            <Box display=\"flex\" flexDirection=\"row-reverse\" width=\"100%\">\n                                <Typography style={{fontSize: 18}}>\n                                    <b>No. Productos: </b> {datosVentas.productos.length}\n                                </Typography>\n                            </Box>\n                            <Box display=\"flex\" flexDirection=\"row-reverse\" width=\"100%\">\n                                <Typography style={{fontSize: 18}}>\n                                    <b>Sub total:</b> ${datosVentas ? (datosVentas.subTotal).toFixed(2) : 0}\n                                </Typography>\n                            </Box>\n                            <Box display=\"flex\" flexDirection=\"row-reverse\" width=\"100%\">\n                                <Typography style={{fontSize: 18}}>\n                                    <b>Impuestos:</b> ${datosVentas ? (datosVentas.impuestos).toFixed(2): 0}\n                                </Typography>\n                            </Box>\n                            <Box display=\"flex\" flexDirection=\"row-reverse\" width=\"100%\">\n                                <Typography style={{fontSize: 18}}>\n                                    <b>I.V.A.:</b> ${datosVentas ? (datosVentas.iva).toFixed(2) : 0}\n                                </Typography>\n                            </Box>\n                            <Box display=\"flex\" flexDirection=\"row-reverse\" width=\"100%\">\n                                <Typography style={{fontSize: 18}}>\n                                    <b>Descuento:</b> <b style={{color: \"green\"}}>${preciosDescuentos?.descuento_general ? (preciosDescuentos?.descuento_general?.cantidad_descontado).toFixed(2) : 0} </b>\n                                </Typography>\n                            </Box>\n                        </Box>\n                        <Box display=\"flex\" flexDirection=\"row-reverse\" p={1}>\n                            <Typography variant=\"h4\">\n                                Total: \n                                <b style={{color: \"green\"}}>\n                                    ${preciosDescuentos?.descuento_general && preciosDescuentos?.descuento_general?.precio_con_descuento > 0? \n                                    (preciosDescuentos?.descuento_general?.precio_con_descuento).toFixed(2) : (\n                                        datosVentas ? (datosVentas.total).toFixed(2) : 0\n                                    )}\n                                </b>\n                            </Typography>\n                            <Box mt={.5} mr={1}>\n                                <MonetizationOnIcon style={{fontSize: 37, color: \"green\"}} />\n                            </Box>\n                        </Box>\n                    </Grid>\n                </Grid>\n            </DialogContent>\n            <DialogActions>\n                <Button\n                    color=\"primary\"\n                    variant=\"outlined\"\n                    size=\"large\"\n                    onClick={crearCotizacion}\n                >\n                    Crear cotización\n                </Button>\n                <Button\n                    color=\"secondary\"\n                    variant=\"outlined\"\n                    size=\"large\"\n                    onClick={handleClickOpen}\n                >\n                    Cancelar\n                </Button>\n            </DialogActions>\n        </>\n    )\n};","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport { IconButton, TablePagination } from '@material-ui/core';\nimport DeleteIcon from '@material-ui/icons/Delete';\n\nconst columns = [\n\t{ id: 'folio', label: 'Folio', minWidth: 20, align: 'center' },\n\t{ id: 'cliente', label: 'Cliente', minWidth: 330 },\n\t{ id: 'fecha', label: 'Fecha', minWidth: 100, align: 'center'},\n\t{ id: 'total', label: 'Total', minWidth: 100, align: 'center'}\n];\n\nfunction createData(folio, cliente, fecha, total) {\n\treturn { folio, cliente, fecha, total};\n}\n\nconst rows = [\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10)\n];\n\nconst useStyles = makeStyles({\n\troot: {\n\t\twidth: '100%'\n\t},\n\tcontainer: {\n\t\tmaxHeight: '65vh'\n\t}\n});\n\nexport default function CotizacionesPendientes({ handleClickOpen }) {\n\tconst classes = useStyles();\n\tconst [ page, setPage ] = React.useState(0);\n\tconst [ rowsPerPage, setRowsPerPage ] = React.useState(10);\n\n\tconst handleChangePage = (event, newPage) => {\n\t\tsetPage(newPage);\n\t};\n\n\tconst handleChangeRowsPerPage = (event) => {\n\t\tsetRowsPerPage(+event.target.value);\n\t\tsetPage(0);\n\t};\n\n\treturn (\n\t\t<Paper className={classes.root}>\n\t\t\t<TableContainer className={classes.container}>\n\t\t\t\t<Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t{columns.map((column) => (\n\t\t\t\t\t\t\t\t<TableCell key={column.id} align={column.align} style={{ width: column.minWidth }}>\n\t\t\t\t\t\t\t\t\t{column.label}\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t<TableCell align='center' style={{ width: 35 }}>\n\t\t\t\t\t\t\t\tRetomar\n\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t<TableCell align='center' style={{ width: 35 }}>\n\t\t\t\t\t\t\t\tEliminar\n\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t</TableHead>\n\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t{rows.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage).map((row) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<CotizacionesRows row={row} />\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t\t</TableBody>\n\t\t\t\t</Table>\n\t\t\t</TableContainer>\n\t\t\t<TablePagination\n\t\t\t\trowsPerPageOptions={[ 10, 25, 100 ]}\n\t\t\t\tcomponent=\"div\"\n\t\t\t\tcount={rows.length}\n\t\t\t\trowsPerPage={rowsPerPage}\n\t\t\t\tpage={page}\n\t\t\t\tonChangePage={handleChangePage}\n\t\t\t\tonChangeRowsPerPage={handleChangeRowsPerPage}\n\t\t\t/>\n\t\t</Paper>\n\t);\n};\n\n\nconst CotizacionesRows = ({row}) => {\n\n\treturn(\n\t\t<>\n\t\t\t<TableRow hover role=\"checkbox\" tabIndex={-1} key={row.code}>\n\t\t\t\t<TableCell align='center' >\n\t\t\t\t\tuno\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell >\n\t\t\t\t\tuno\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell align='center' >\n\t\t\t\t\tuno\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell align='center' >\n\t\t\t\t\tuno\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell align='center' >\n\t\t\t\t\t<IconButton aria-label=\"delete\" size='small'>\n\t\t\t\t\t\t<DeleteIcon fontSize=\"small\" />\n\t\t\t\t\t</IconButton>\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell align='center' >\n\t\t\t\t\t<IconButton aria-label=\"delete\" size='small'>\n\t\t\t\t\t\t<DeleteIcon fontSize=\"small\" />\n\t\t\t\t\t</IconButton>\n\t\t\t\t</TableCell>\n\t\t\t</TableRow>\n\t\t</>\n\t);\n\n}\n","import React, { useState } from 'react'\nimport PropTypes from 'prop-types';\nimport { AppBar, Box, Button, CircularProgress, \n\t\tDialog, Tab, Grid, Slide, Tabs, Typography \n} from '@material-ui/core'\nimport { FcCurrencyExchange } from 'react-icons/fc';\nimport NuevaCotizacion from './NuevaCotizacion';\nimport CloseIcon from '@material-ui/icons/Close';\nimport moment from 'moment';\nimport 'moment/locale/es';\nimport CotizacionesPendientes from './CotizacionesPendientes';\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nfunction TabPanel(props) {\n\tconst { children, value, index, ...other } = props;\n\n\treturn (\n\t\t<div\n\t\t\trole=\"tabpanel\"\n\t\t\thidden={value !== index}\n\t\t\tid={`tabpanel-reg-product-${index}`}\n\t\t\taria-labelledby={`reg-product-tab-${index}`}\n\t\t\t{...other}\n\t\t>\n\t\t\t{value === index && (\n\t\t\t\t<Box p={3} height=\"70vh\">\n\t\t\t\t\t{children}\n\t\t\t\t</Box>\n\t\t\t)}\n\t\t</div>\n\t);\n}\n\nTabPanel.propTypes = {\n\tchildren: PropTypes.node,\n\tindex: PropTypes.any.isRequired,\n\tvalue: PropTypes.any.isRequired\n};\n\nfunction a11yProps(index) {\n\treturn {\n\t\tid: `reg-product-tab-${index}`,\n\t\t'aria-controls': `tabpanel-reg-product-${index}`\n\t};\n}\n\nexport default function Cotizacion({type}) {\n\n    moment.locale('es');\n\n    const sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n    const turnoEnCurso = JSON.parse(localStorage.getItem('turnoEnCurso'));\n    const datosVentas = JSON.parse(localStorage.getItem('DatosVentas'));\n\n    const [open, setOpen] = useState(false);\n    const [value, setValue] = useState(0);\n\n    const handleChange = (event, newValue) => {\n\t\tsetValue(newValue);\n\t};\n\n    const handleClickOpen = () => {\n\t\tif(sesion?.accesos.ventas.cotizaciones.ver === true){\n            setOpen(!open);\n        }\n\t};\n\n\n    window.addEventListener('keydown', Mi_función); \n    function Mi_función(e){\n        if(e.altKey && e.keyCode === 84){ \n            handleClickOpen();\n        } \n    };\n\n    return (\n        <>\n\t\t\t{\n\t\t\t\ttype === \"GENERAR\" ? (\n\t\t\t\t\tdatosVentas ? (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\tstartIcon={<FcCurrencyExchange style={{fontSize: 30}} />}\n\t\t\t\t\t\t\tonClick={() =>{handleClickOpen()}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tGenerar Cotización\n\t\t\t\t\t\t</Button>\t\n\t\t\t\t\t) : \"\"\n\t\t\t) : (\n\t\t\t\t<Button\n\t\t\t\t\tonClick={() =>{handleClickOpen();}}\n\t\t\t\t\tstyle={{textTransform: 'none', height: '100%', width: '60%'}}\n\t\t\t\t>\n\t\t\t\t\t<Box display=\"flex\" flexDirection=\"column\">\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t<FcCurrencyExchange style={{fontSize: 25}} />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t<Typography variant=\"body2\" >\n\t\t\t\t\t\t\t\t<b>Cotizaciones</b>\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t<Typography variant=\"caption\" style={{color: '#808080'}} >\n\t\t\t\t\t\t\t\t<b>Alt + T</b>\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Box>\n\t\t\t\t</Button>\n\t\t\t\t)\n\t\t\t}\n        \t<Dialog\n\t\t\t\tfullWidth\n\t\t\t\topen={open} \n\t\t\t\tmaxWidth={type===\"GENERAR\"?'md':'lg'}\n\t\t\t\tonClose={handleClickOpen} \n\t\t\t\tTransitionComponent={Transition}\n\t\t\t>\n                <AppBar position=\"static\" color=\"default\" elevation={0}>\n\t\t\t\t\t<Tabs\n\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\tvariant=\"scrollable\"\n\t\t\t\t\t\tscrollButtons=\"on\"\n\t\t\t\t\t\tindicatorColor=\"primary\"\n\t\t\t\t\t\ttextColor=\"primary\"\n\t\t\t\t\t\taria-label=\"scrollable force tabs example\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{type === \"GENERAR\" ? (\n\t\t\t\t\t\t\t<Tab\n\t\t\t\t\t\t\t\tlabel=\"Nueva Cotización\"\n\t\t\t\t\t\t\t\ticon={ <FcCurrencyExchange style={{fontSize: 60}} />}\n\t\t\t\t\t\t\t\t{...a11yProps(0)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<Tab\n\t\t\t\t\t\t\t\tlabel=\"Cotizaciones pendientes\"\n\t\t\t\t\t\t\t\ticon={\n\t\t\t\t\t\t\t\t\t<img \n\t\t\t\t\t\t\t\t\t\tsrc='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/ventas/lista-de-espera.svg' \n\t\t\t\t\t\t\t\t\t\talt=\"icono caja2\" \n\t\t\t\t\t\t\t\t\t\tstyle={{width: 58}} \n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t{...a11yProps(1)}\n\t\t\t\t\t\t\t/>\t\t\n\t\t\t\t\t\t)}\t\n\t\t\t\t\t\t<Grid container justify='flex-end'>\n\t\t\t\t\t\t\t<Box mt={2} textAlign=\"right\">\n\t\t\t\t\t\t\t\t<Box textAlign=\"right\">\n\t\t\t\t\t\t\t\t\t<Typography variant=\"caption\">\n\t\t\t\t\t\t\t\t\t\t{moment().format('L')}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t<Box textAlign=\"right\">\n\t\t\t\t\t\t\t\t\t<Typography variant=\"caption\">\n\t\t\t\t\t\t\t\t\t\t{moment().format('LT')} hrs.\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t<Box textAlign=\"right\">\n\t\t\t\t\t\t\t\t\t<Typography variant=\"caption\">\n\t\t\t\t\t\t\t\t\t\t{sesion?.nombre}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t<Box textAlign=\"right\">\n\t\t\t\t\t\t\t\t\t<Typography variant=\"caption\">\n\t\t\t\t\t\t\t\t\t\tCaja {!turnoEnCurso ? null : turnoEnCurso.numero_caja }\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Box mt={3} ml={3}>\n\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"secondary\" onClick={handleClickOpen} size=\"medium\">\n\t\t\t\t\t\t\t\t<CloseIcon />\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Tabs>\n\t\t\t\t</AppBar>\n\t\t\t\t<VentanasCotizaciones \n\t\t\t\t\thandleClickOpen={handleClickOpen} \n\t\t\t\t\tvalue={value} \n\t\t\t\t\ttype={type} \n\t\t\t\t/> \n\t\t\t</Dialog>\n\t\t</>\n\t)\n};\n\n\nconst VentanasCotizaciones = ({ handleClickOpen, value, type}) => {\n\tconst [ loading, setLoading ] = useState(false);\n\n\tif (loading) \n\treturn (\n\t\t<Box\n\t\tdisplay=\"flex\"\n\t\tflexDirection=\"column\"\n\t\tjustifyContent=\"center\"\n\t\talignItems=\"center\"\n\t\theight=\"80vh\"\n\t\t>\n\t\t\t<CircularProgress />\n\t\t</Box>\n\t);\n\n\treturn(\n\t\ttype === \"GENERAR\" ? (\n\t\t\t<TabPanel style={{padding: 0}} value={value} index={0}>\n\t\t\t\t<NuevaCotizacion handleClickOpen={handleClickOpen} />\n\t\t\t</TabPanel>\n\t\t) : (\n\t\t\t<TabPanel style={{padding: 0}} value={value} index={0}>\n\t\t\t\t<CotizacionesPendientes handleClickOpen={handleClickOpen} /> \n\t\t\t</TabPanel>\n\t\t)\n\t)\n};\n","import React, { useContext, useState } from 'react';\nimport { Box, Button, Dialog, DialogActions, \n        DialogContent, Divider, Grid, \n        Slide, Typography \n    } from '@material-ui/core'\nimport { FcExpired } from 'react-icons/fc';\nimport moment from 'moment';\nimport 'moment/locale/es';\nimport { VentasContext } from '../../../context/Ventas/ventasContext';\nmoment.locale('es');\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function VentaEnEspera() {\n    const { updateTablaVentas, setUpdateTablaVentas } = useContext(VentasContext);\n\n    const [open, setOpen] = useState(false);\n\n    const handleClickOpen = () => { \n\t\tsetOpen(!open);\n\t};\n\n    window.addEventListener('keydown', Mi_función); \n    function Mi_función(e){\n        if(e.altKey && e.keyCode === 69){ \n            handleClickOpen();\n        } \n    };\n\n    const agregarVentaEnEspera = () => {\n        let VentaEnEspera = JSON.parse(localStorage.getItem(\"DatosVentas\"));\n        let datos = localStorage.getItem(\"ListaEnEspera\");\n        if(VentaEnEspera !== null){\n            if(datos === null){\n                localStorage.setItem('ListaEnEspera', JSON.stringify([{VentaEnEspera, fecha: moment().format('MM/DD/YYYY') }]));\n                localStorage.removeItem('DatosVentas');\n                setUpdateTablaVentas(!updateTablaVentas);\n            }else{\n                let data = JSON.parse(datos);\n                data.push({VentaEnEspera, fecha: moment().format('MM/DD/YYYY') });\n                localStorage.setItem(\"ListaEnEspera\", JSON.stringify(data));\n                localStorage.removeItem('DatosVentas');\n                setUpdateTablaVentas(!updateTablaVentas);\n            }\n        }\n    };\n\n    return (\n        <>\n           <Button\n                onClick={() => agregarVentaEnEspera()} \n                style={{textTransform: 'none', height: '100%', width: '60%'}}\n            >\n                <Box display=\"flex\" flexDirection=\"column\">\n                    <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n                        <FcExpired style={{fontSize: 25}} />\n                    </Box>\n                    <Box>\n                        <Typography variant=\"body2\" >\n                            <b>En espera</b>\n                        </Typography>\n                    </Box>\n                    <Box>\n                        <Typography variant=\"caption\" style={{color: '#808080'}} >\n                            <b>Alt + E</b>\n                        </Typography>\n                    </Box>\n                </Box>\n            </Button>\n\n            <Dialog\n\t\t\t\tmaxWidth='lg'\n\t\t\t\topen={open} \n\t\t\t\tonClose={handleClickOpen} \n\t\t\t\tTransitionComponent={Transition}\n\t\t\t>\n                <DialogContent>\n                    <Grid container item lg={12}>\n                        <Box\n                            display=\"flex\" \n                            textAlign=\"center\" \n                            justifyContent=\"center\" \n                            alignContent=\"center\" \n                            alignSelf=\"center\"\n                            justifySelf=\"center\"\n                        >\n                            <Box>\n                                <FcExpired style={{fontSize: 80}} />\n                            </Box>\n                            <Box m={2} >\n                                <Divider orientation=\"vertical\" />\n                            </Box>\n                            <Box mt={3}>\n                                <Typography variant=\"h5\">\n                                    Venta pasada a espera\n                                </Typography>\n                            </Box>\n                        </Box>\n                        </Grid>\n                </DialogContent>\n                <DialogActions>\n                    <Button \n                        onClick={() =>{handleClickOpen();}}\n                        variant=\"contained\" \n                        color=\"primary\"\n                        size=\"large\"\n                    >\n                        Aceptar\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        </>\n    )\n}\n","import React, { Fragment, useContext } from 'react';\n\nimport { Box,  Button, Checkbox, Divider, FormControl, FormControlLabel, FormHelperText, InputAdornment, makeStyles, MenuItem, OutlinedInput, Select, TextField, Typography } from '@material-ui/core';\nimport { RegProductoContext } from '../../../context/Catalogos/CtxRegProducto';\nimport CatalogosProductosSAT from '../../sucursales/Catalogos/Producto/DatosGenerales/CatalogoProductosSAT';\n// import RegistroInfoAdidional from '../../sucursales/Catalogos/Producto/PreciosVenta/registrarInfoAdicional';\n\nconst useStyles = makeStyles((theme) => ({\n    formInputFlex: {\n\t\tdisplay: 'flex',\n\t\t'& > *': {\n\t\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(1)}px`\n\t\t},\n\t\t'& .obligatorio': {\n\t\t\tcolor: 'red'\n\t\t}\n\t},\n    formInput: {\n      margin: `${theme.spacing(1)}px ${theme.spacing(2)}px`,\n    }\n  }));\n\nexport default function RegistroInformacionRapido({ \n\tsetAbrirTallaColor, \n\tsetCantidad, \n\tcantidad,\n\tobtenerConsultasProducto,\n\trefetch,\n}) {\n\tconst { datos_generales, precios, setPrecios, setDatosGenerales, validacion } = useContext(RegProductoContext);\n\tconst { unidadVentaXDefecto, setUnidadVentaXDefecto, update } = useContext(RegProductoContext);\n\n\tconst obtenerCampos = (e) => {\n\t\tif (e.target.name === 'codigo_barras') {\n\t\t\tsetUnidadVentaXDefecto({\n\t\t\t\t...unidadVentaXDefecto,\n\t\t\t\tcodigo_barras: e.target.value\n\t\t\t})\n\t\t}\n\t\tsetDatosGenerales({\n\t\t\t...datos_generales,\n\t\t\t[e.target.name]: e.target.value\n\t\t});\n\n\t\tif (e.target.value === \"CALZADO\" || e.target.value === \"ROPA\") {\n\t\t\tsetAbrirTallaColor(true);\n\t\t}\n\t\t\n\t};\n\n\tconst checkFarmacia = (e) => {\n\t\tsetDatosGenerales({\n\t\t\t...datos_generales,\n\t\t\treceta_farmacia: e.target.checked\n\t\t});\n\t};\n\n\tconst obtenerChecks = (e) => {\n\t\tif (e.target.name === 'granel' && e.target.checked) {\n\t\t\tsetPrecios({\n\t\t\t\t...precios,\n\t\t\t\t[e.target.name]: e.target.checked,\n\t\t\t\tinventario: { ...precios.inventario, unidad_de_inventario: 'Kg', },\n\t\t\t\tunidad_de_compra: { ...precios.unidad_de_compra, unidad: 'Kg', }\n\t\t\t});\n\t\t\tsetUnidadVentaXDefecto({\n\t\t\t\t...unidadVentaXDefecto,\n\t\t\t\tunidad: 'Kg',\n\t\t\t})\n\t\t} else {\n\t\t\tsetPrecios({\n\t\t\t\t...precios,\n\t\t\t\t[e.target.name]: e.target.checked,\n\t\t\t\tinventario: { ...precios.inventario, unidad_de_inventario: 'Pz', },\n\t\t\t\tunidad_de_compra: { ...precios.unidad_de_compra, unidad: 'Pz', }\n\t\t\t});\n\t\t\tsetUnidadVentaXDefecto({\n\t\t\t\t...unidadVentaXDefecto,\n\t\t\t\tunidad: 'Pz',\n\t\t\t})\n\t\t}\n\t};\n\n\tconst GenCodigoBarras = () => {\n\t\tconst max = 999999999999;\n\t\tconst min = 100000000000;\n\t\tconst codigo_barras = Math.floor(Math.random() * (max - min + 1) + min).toString();\n\t\tsetDatosGenerales({\n\t\t\t...datos_generales,\n\t\t\tcodigo_barras\n\t\t});\n\t\tsetUnidadVentaXDefecto({\n\t\t\t...unidadVentaXDefecto,\n\t\t\tcodigo_barras\n\t\t})\n\t};\n\n    const classes = useStyles();\n\n    return (\n        <Fragment>\n\t\t\t\t<Box>\n\t\t\t\t\t<Typography>\n\t\t\t\t\t\t<b>Información General</b>\n\t\t\t\t\t</Typography>\n\t\t\t\t</Box>\n\t\t\t\t<Divider />\n                <div className={classes.formInputFlex}>\n\t\t\t\t\t<Box width=\"100%\">\n\t\t\t\t\t\t<FormControl variant=\"outlined\" size=\"small\" name=\"codigo_barras\" fullWidth>\n\t\t\t\t\t\t\t<Typography>Código de barras</Typography>\n\t\t\t\t\t\t\t<OutlinedInput\n\t\t\t\t\t\t\t\tdisabled={update && datos_generales.codigo_barras}\n\t\t\t\t\t\t\t\tstyle={{padding: 0}}\n\t\t\t\t\t\t\t\tid=\"form-producto-codigo-barras\"\n\t\t\t\t\t\t\t\tname=\"codigo_barras\"\n\t\t\t\t\t\t\t\tvalue={datos_generales.codigo_barras ? datos_generales.codigo_barras : ''}\n\t\t\t\t\t\t\t\tonChange={obtenerCampos}\n\t\t\t\t\t\t\t\tendAdornment={\n\t\t\t\t\t\t\t\t\t<InputAdornment position=\"end\">\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\tdisabled={update && datos_generales.codigo_barras}\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => GenCodigoBarras()}\n\t\t\t\t\t\t\t\t\t\t\t/* edge=\"end\" */\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\tsize=\"large\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\tGenerar\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t</InputAdornment>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box width=\"100%\">\n\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t<span className=\"obligatorio\">* </span>Clave alterna\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\terror={validacion.error && !datos_generales.clave_alterna}\n\t\t\t\t\t\t\tname=\"clave_alterna\"\n\t\t\t\t\t\t\tid=\"form-producto-clave-alterna\"\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\tvalue={datos_generales.clave_alterna ? datos_generales.clave_alterna : ''}\n\t\t\t\t\t\t\thelperText={validacion.message}\n\t\t\t\t\t\t\tonChange={obtenerCampos}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Box>\n\t\t\t\t\t\n\t\t\t\t\t<Box width=\"100%\">\n\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t<span className=\"obligatorio\">* </span>Nombre comercial\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\terror={validacion.error && !datos_generales.nombre_comercial}\n\t\t\t\t\t\t\tname=\"nombre_comercial\"\n\t\t\t\t\t\t\tid=\"form-producto-nombre-comercial\"\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\tvalue={datos_generales.nombre_comercial ? datos_generales.nombre_comercial : ''}\n\t\t\t\t\t\t\thelperText={validacion.message}\n\t\t\t\t\t\t\tonChange={obtenerCampos}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box width=\"100%\">\n\t\t\t\t\t\t<CatalogosProductosSAT refetch={refetch} codigos={obtenerConsultasProducto.codigos} />\n\t\t\t\t\t</Box>\n\t\t\t\t</div>\n\t\t\t\t<div className={classes.formInputFlex}>\n\t\t\t\t\t<Box width=\"100%\">\n\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t<span className=\"obligatorio\">* </span>Nombre genérico\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\terror={validacion.error && !datos_generales.nombre_generico}\n\t\t\t\t\t\t\tname=\"nombre_generico\"\n\t\t\t\t\t\t\tid=\"form-producto-nombre-generico\"\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\tvalue={datos_generales.nombre_generico ? datos_generales.nombre_generico : ''}\n\t\t\t\t\t\t\thelperText={validacion.message}\n\t\t\t\t\t\t\tonChange={obtenerCampos}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box width=\"60%\">\n\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t<span className=\"obligatorio\">* </span>Tipo de producto\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\terror={validacion.error && !datos_generales.tipo_producto}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\t\tid=\"form-producto-tipo\"\n\t\t\t\t\t\t\t\tname=\"tipo_producto\"\n\t\t\t\t\t\t\t\tvalue={datos_generales.tipo_producto ? datos_generales.tipo_producto : ''}\n\t\t\t\t\t\t\t\tonChange={obtenerCampos}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<MenuItem value=\"\">\n\t\t\t\t\t\t\t\t\t<em>Selecciona uno</em>\n\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t<MenuItem value=\"ROPA\">Ropa</MenuItem>\n\t\t\t\t\t\t\t\t<MenuItem value=\"CALZADO\">Calzado</MenuItem>\n\t\t\t\t\t\t\t\t<MenuItem value=\"OTROS\">Otros</MenuItem>\n\t\t\t\t\t\t\t</Select>\n\t\t\t\t\t\t\t<FormHelperText>{validacion.message}</FormHelperText>\n\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t</Box>\n\t\t\t\t\t{datos_generales.tipo_producto === \"OTROS\" ? (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<Box width=\"50%\">\n\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\t<span className=\"obligatorio\">* </span>Cantidad\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\terror={validacion.error && !cantidad}\n\t\t\t\t\t\t\t\t\tname=\"cantidad\"\n\t\t\t\t\t\t\t\t\ttype='number'\n\t\t\t\t\t\t\t\t\tid=\"form-producto-nombre-generico\"\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\tvalue={cantidad ? cantidad : ''}\n\t\t\t\t\t\t\t\t\thelperText={validacion.message}\n\t\t\t\t\t\t\t\t\tonChange={(e) => setCantidad(parseInt(e.target.value))}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box width=\"80%\">\n\t\t\t\t\t\t\t\t<Typography>Granel</Typography>\n\t\t\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\t\t\tcontrol={<Checkbox onChange={obtenerChecks} name=\"granel\" />}\n\t\t\t\t\t\t\t\t\tlabel=\"Vender a granel\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box width=\"80%\">\n\t\t\t\t\t\t\t\t<Typography>Medicamento</Typography>\n\t\t\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\t\t\t// checked={datos_generales.receta_farmacia ? datos_generales.receta_farmacia : false}\n\t\t\t\t\t\t\t\t\t\t\tonChange={checkFarmacia}\n\t\t\t\t\t\t\t\t\t\t\tname=\"receta_farmacia\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tlabel=\"Necesita receta\"\n\t\t\t\t\t\t\t\t\tname=\"receta_farmacia\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</>\n\t\t\t\t\t) : null}\n                </div>\n        </Fragment>\n    )\n}\n","import React, { useContext, useRef, useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Input from '@material-ui/core/Input';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport { RegProductoContext } from '../../../../context/Catalogos/CtxRegProducto';\nimport { Box, Chip, IconButton, Tooltip, Zoom } from '@material-ui/core';\nimport { Cached, Close, Edit } from '@material-ui/icons';\nimport { fade } from '@material-ui/core/styles/colorManipulator';\n\nconst compareFunction = (a, b) => {\n\tif (a.medida.talla && b.medida.talla) {\n\t\treturn a.medida.talla.localeCompare(b.medida.talla);\n\t}\n};\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n\t\twidth: '100%'\n\t},\n\tpaper: {\n\t\twidth: '100%',\n\t\tmarginBottom: theme.spacing(2)\n\t},\n\ttable: {\n\t\tminWidth: 750\n\t},\n\tcontainer: {\n\t\tmaxHeight: '65vh'\n\t},\n\ttableRow: {\n\t\t'&.Mui-selected, &.Mui-selected:hover': {\n\t\t\tbackgroundColor: fade(theme.palette.primary.main, 0.1)\n\t\t}\n\t},\n\tvisuallyHidden: {\n\t\tborder: 0,\n\t\tclip: 'rect(0 0 0 0)',\n\t\theight: 1,\n\t\tmargin: -1,\n\t\toverflow: 'hidden',\n\t\tpadding: 0,\n\t\tposition: 'absolute',\n\t\ttop: 20,\n\t\twidth: 1\n\t},\n\tcolorContainer: {\n\t\tborder: '1px solid rgba(0,0,0, .3)',\n\t\theight: 30,\n\t\twidth: 30,\n\t\tborderRadius: '15%'\n\t}\n}));\n\nexport default function TablaPresentaciones({ from, setOnUpdate, onUpdate }) {\n\tconst classes = useStyles();\n\tconst { presentaciones } = useContext(RegProductoContext);\n\n\tlet mostrar_presentaciones = [ ...presentaciones ].sort((a, b) => compareFunction(a, b));\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Paper className={classes.paper}>\n\t\t\t\t<TableContainer className={classes.container}>\n\t\t\t\t\t<Table\n\t\t\t\t\t\tclassName={classes.table}\n\t\t\t\t\t\taria-labelledby=\"tableTitle\"\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\taria-label=\"enhanced table\"\n\t\t\t\t\t\tstickyHeader\n\t\t\t\t\t>\n\t\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t<TableCell>Existencia</TableCell>\n\t\t\t\t\t\t\t\t<TableCell>Código de barras</TableCell>\n\t\t\t\t\t\t\t\t<TableCell width={200}>Nombre</TableCell>\n\t\t\t\t\t\t\t\t<TableCell padding=\"checkbox\">Medida</TableCell>\n\t\t\t\t\t\t\t\t<TableCell padding=\"checkbox\">Color</TableCell>\n\t\t\t\t\t\t\t\t<TableCell>Precio</TableCell>\n\t\t\t\t\t\t\t\t{from && from === 'compra' ? (\n\t\t\t\t\t\t\t\t\t<TableCell padding=\"checkbox\">Existente</TableCell>\n\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t\t<TableCell padding=\"checkbox\">Cantidad</TableCell>\n\t\t\t\t\t\t\t\t<TableCell padding=\"checkbox\">Editar</TableCell>\n\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t</TableHead>\n\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t{mostrar_presentaciones.map((producto, index) => {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<RenderPresentacionesRows\n\t\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\t\tproducto={producto}\n\t\t\t\t\t\t\t\t\t\tindex={index}\n\t\t\t\t\t\t\t\t\t\tfrom={from}\n\t\t\t\t\t\t\t\t\t\tsetOnUpdate={setOnUpdate}\n\t\t\t\t\t\t\t\t\t\tonUpdate={onUpdate}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t</Table>\n\t\t\t\t</TableContainer>\n\t\t\t</Paper>\n\t\t</div>\n\t);\n};\n\nconst RenderPresentacionesRows = ({ producto, index,  from, setOnUpdate, onUpdate }) => {\n\tconst { presentaciones, setPresentaciones, preciosP, precios } = useContext(RegProductoContext);\n\tconst [ disabledInput, setDisabledInput ] = useState(true);\n\tconst classes = useStyles();\n\tconst textfield = useRef(null);\n\n\tconst copy_presentaciones = [...presentaciones].sort((a, b) => compareFunction(a, b))\n\tconst copy_element_presentacion = { ...copy_presentaciones[index] };\n\tconst copy_producto = { ...producto };\n\n\tif(from && from === 'compra'){\n\t\tcopy_producto.cantidad = 0\n\t}\n\t\n\tconst handleEditCancel = () => {\n\t\tif (!copy_producto.cantidad) {\n\t\t\tcopy_element_presentacion.cantidad = 0;\n\t\t}\n\t\tif (!copy_producto.precio) {\n\t\t\tcopy_element_presentacion.precio = preciosP[0].precio_neto;\n\t\t}\n\t\tcopy_presentaciones.splice(index, 1, copy_element_presentacion);\n\t\tsetPresentaciones(copy_presentaciones);\n\t\tsetDisabledInput(true);\n\t};\n\n\tconst obtenerDatos = (event) => {\n\t\tconst {value, name }= event.target;\n\t\tconsole.log(name)\n\t\tif (name === 'cantidad') {\n\t\t\tif (!value) {\n\t\t\t\tcopy_element_presentacion.cantidad = '';\n\t\t\t\tcopy_element_presentacion.existencia = false;\n\t\t\t\tcopy_presentaciones.splice(index, 1, copy_element_presentacion);\n\t\t\t\tsetPresentaciones(copy_presentaciones);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tcopy_element_presentacion.cantidad = parseFloat(value);\n\t\t\tcopy_element_presentacion.existencia = true;\n\t\t} else if (name === 'precio') {\n\t\t\tlet { iva, ieps } = precios;\n\t\t\tif (!value) {\n\t\t\t\tcopy_element_presentacion.precio = '';\n\t\t\t\tcopy_presentaciones.splice(index, 1, copy_element_presentacion);\n\t\t\t\tsetPresentaciones(copy_presentaciones);\n\t\t\t\treturn;\n\t\t\t};\n\t\t\tlet precio_neto = parseFloat(value);\n\t\t\tlet varIVA = (iva < 10 ? `0${iva}` : iva);\n\t\t\tlet varIEPS = (ieps < 10 ? `0${ieps}` : ieps);\n\n\t\t\tlet suma_impuestos = parseFloat(`0.${varIVA}`) + parseFloat(`0.${varIEPS}`);\n\t\t\tlet precio_venta = parseFloat((precio_neto / (suma_impuestos+1)).toFixed(2));\n\t\t\tlet iva_precio = parseFloat((precio_venta * parseFloat(`0.${varIVA}`)).toFixed(2));\n\t\t\tlet ieps_precio = parseFloat((precio_venta * parseFloat(`0.${varIEPS}`)).toFixed(2));\n\t\t\tlet PUCSI = precios.unidad_de_compra.precio_unitario_sin_impuesto;\n\t\t\tlet utilidad = parseFloat((((precio_venta - PUCSI) / PUCSI) * 100).toFixed(2));\n\t\t\tcopy_element_presentacion.precio_unidad.precio_venta = precio_venta;\n\t\t\tcopy_element_presentacion.precio_unidad.precio_neto = precio_neto;\n\t\t\tcopy_element_presentacion.precio_unidad.utilidad = utilidad;\n\t\t\tcopy_element_presentacion.precio_unidad.iva_precio = iva_precio;\n\t\t\tcopy_element_presentacion.precio_unidad.ieps_precio = ieps_precio;\n\t\t\t\n\t\t\tcopy_element_presentacion.precio = parseFloat(value);\n\t\t} else {\n\t\t\tif (!value) {\n\t\t\t\tcopy_element_presentacion.codigo_barras = '';\n\t\t\t\tcopy_presentaciones.splice(index, 1, copy_element_presentacion);\n\t\t\t\tsetPresentaciones(copy_presentaciones);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tcopy_element_presentacion.codigo_barras = value;\n\t\t}\n\t\tcopy_presentaciones.splice(index, 1, copy_element_presentacion);\n\t\tsetPresentaciones(copy_presentaciones);\n\t};\n\n\tconst GenCodigoBarras = () => {\n\t\tconst max = 999999999999;\n\t\tconst min = 100000000000;\n\t\tconst codigo_barras = Math.floor(Math.random() * (max - min + 1) + min).toString();\n\t\tcopy_element_presentacion.codigo_barras = codigo_barras;\n\t\tcopy_presentaciones.splice(index, 1, copy_element_presentacion);\n\t\tsetPresentaciones(copy_presentaciones);\n\t};\n\n\tconst actionButton = () => {\n\t\tif (!disabledInput) {\n\t\t\thandleEditCancel();\n\t\t\t/* quitar del array\t */\n\t\t\tonUpdate.splice(onUpdate.length - 1, 1);\n\t\t\tsetOnUpdate([ ...onUpdate ]);\n\t\t} else {\n\t\t\tsetDisabledInput(!disabledInput);\n\t\t\t/*  agregar al array */\n\t\t\tsetOnUpdate([ ...onUpdate, index ]);\n\t\t}\n\t};\n\n\treturn (\n\t\t<TableRow hover selected={!disabledInput} className={classes.tableRow}>\n\t\t\t<TableCell align=\"center\">\n\t\t\t\t<Checkbox checked={copy_producto.existencia} color=\"primary\" />\n\t\t\t</TableCell>\n\t\t\t<TableCell width={220}>\n\t\t\t\t<Box display=\"flex\">\n\t\t\t\t\t<Input\n\t\t\t\t\t\tinputRef={textfield}\n\t\t\t\t\t\tonChange={(e) => obtenerDatos(e)}\n\t\t\t\t\t\t/* disabled={disabledInput} */\n\t\t\t\t\t\tvalue={copy_producto.codigo_barras}\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\tname=\"precio\"\n\t\t\t\t\t\tdisabled={!copy_producto.nuevo ? true : disabledInput}\n\t\t\t\t\t/>\n\t\t\t\t\t{ copy_producto.nuevo ? (\n\t\t\t\t\t\t<IconButton color=\"primary\" size=\"small\" onClick={() => GenCodigoBarras()}>\n\t\t\t\t\t\t\t<Cached />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t) :  copy_producto.nuevo ? (\n\t\t\t\t\t\t<IconButton color=\"primary\" size=\"small\" onClick={() => GenCodigoBarras()}>\n\t\t\t\t\t\t\t<Cached />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t) : null}\n\t\t\t\t</Box>\n\t\t\t</TableCell>\n\t\t\t<TableCell width={200}>{copy_producto.nombre_comercial}</TableCell>\n\t\t\t<TableCell padding=\"checkbox\">\n\t\t\t\t{copy_producto.medida._id ? <Chip label={copy_producto.medida.talla} color=\"primary\" /> : ''}\n\t\t\t</TableCell>\n\t\t\t<TableCell padding=\"checkbox\">\n\t\t\t\t{copy_producto.color._id ? (\n\t\t\t\t\t<Tooltip title={copy_producto.color.nombre} placement=\"top\" arrow TransitionComponent={Zoom}>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName={classes.colorContainer}\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\tbackgroundColor: copy_producto.color.hex\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Tooltip>\n\t\t\t\t) : null}\n\t\t\t</TableCell>\n\t\t\t<TableCell width={110}>\n\t\t\t\t<Input\n\t\t\t\t\tinputRef={textfield}\n\t\t\t\t\tonChange={(e) => obtenerDatos(e)}\n\t\t\t\t\tdisabled={disabledInput}\n\t\t\t\t\tvalue={copy_producto.precio}\n\t\t\t\t\ttype=\"tel\"\n\t\t\t\t\tname=\"precio\"\n\t\t\t\t/>\n\t\t\t</TableCell>\n\t\t\t{from && from === 'compra' ? (\n\t\t\t\t<TableCell padding=\"checkbox\">\n\t\t\t\t{producto.cantidad}\n\t\t\t</TableCell>\n\t\t\t) : null}\n\t\t\t<TableCell padding=\"checkbox\">\n\t\t\t\t<Input\n\t\t\t\t\tinputRef={textfield}\n\t\t\t\t\tonChange={(e) => obtenerDatos(e)}\n\t\t\t\t\tdisabled={disabledInput}\n\t\t\t\t\tvalue={copy_producto.cantidad}\n\t\t\t\t\ttype=\"tel\"\n\t\t\t\t\tname=\"cantidad\"\n\t\t\t\t/>\n\t\t\t</TableCell>\n\t\t\t<TableCell padding=\"checkbox\">\n\t\t\t\t<IconButton size=\"small\" onClick={() => actionButton()}>\n\t\t\t\t\t{!disabledInput ? <Close /> : <Edit />}\n\t\t\t\t</IconButton>\n\t\t\t</TableCell>\n\t\t</TableRow>\n\t);\n};\n","import React, { useContext, useState,  useEffect, useCallback } from 'react';\nimport { Typography, Divider, Tooltip, } from '@material-ui/core';\nimport { Box,Grid } from '@material-ui/core';\nimport { makeStyles, useTheme } from '@material-ui/core';\nimport Zoom from '@material-ui/core/Zoom';\n\nimport { Done } from '@material-ui/icons';\nimport TablaPresentaciones from './TablaPresentaciones';\nimport { RegProductoContext } from '../../../../context/Catalogos/CtxRegProducto';\n// import { AlmacenProvider } from '../../../../context/Almacenes/crearAlmacen';\n// import ContainerRegistroAlmacen from '../../../sucursales/Almacenes/RegistroAlmacen/ContainerRegistroAlmacen';\nimport CrearColorProducto from '../../../sucursales/Catalogos/Producto/TallasColores/crearColor';\nimport CrearTallasProducto from '../../../sucursales/Catalogos/Producto/TallasColores/crearTalla';\n\nconst useStyles = makeStyles((theme) => ({\n\tcolorContainer: {\n\t\tborder: '1px solid rgba(0,0,0, .3)',\n\t\tdisplay: 'flex',\n\t\tjustifyContent: 'center',\n\t\talignItems: 'center',\n\t\theight: 50,\n\t\twidth: 50,\n\t\tmargin: 1,\n\t\tborderRadius: '15%',\n\t\tcursor: 'pointer'\n\t}\n}));\n\nconst GenCodigoBarras = () => {\n\treturn Math.floor(Math.random() * (999999999999 - 100000000000 + 1) + 100000000000).toString();\n};\n\nexport default function TallasColoresRapidos({ \n\tobtenerConsultasProducto, \n\trefetch, \n\tdatos, \n\tfrom\n}) {\n\tconst {\n\t\t// almacen_inicial,\n\t\t// setAlmacenInicial,\n\t\tpresentaciones,\n\t\tdatos_generales,\n\t} = useContext(RegProductoContext);\n\tconst { colores, tallas, calzados } = obtenerConsultasProducto;\n\tconst [ medidasSeleccionadas, setMedidasSeleccionadas ] = useState([]);\n\tconst [ coloresSeleccionados, setColoresSeleccionados ] = useState([]);\n\tconst medidas = datos_generales.tipo_producto === 'ROPA' ? [ ...tallas ] : [ ...calzados ];\n\tconst [ onUpdate, setOnUpdate ] = useState([]);\n\n\tconst obtenerColoresSeleccinados = useCallback(\n\t\t() => {\n\t\t\tlet colors = [];\n\t\t\tlet medidas = [];\n\t\t\tconst copy_presentaciones = [ ...presentaciones ];\n\n\t\t\tcopy_presentaciones.forEach((element) => {\n\t\t\t\tif (element.color._id) colors.push(element.color);\n\t\t\t\tif (element.medida._id) medidas.push(element.medida);\n\t\t\t});\n\n\t\t\tvar hashColor = {};\n\t\t\tvar hashMedida = {};\n\t\t\tconst colores_existentes = colors.filter((color) => {\n\t\t\t\tvar existColor = !hashColor[color._id];\n\t\t\t\thashColor[color._id] = true;\n\t\t\t\treturn existColor;\n\t\t\t});\n\t\t\tconst medidas_existentes = medidas.filter((medida) => {\n\t\t\t\tvar existMedida = !hashMedida[medida._id];\n\t\t\t\thashMedida[medida._id] = true;\n\t\t\t\treturn existMedida;\n\t\t\t});\n\n\t\t\tsetColoresSeleccionados([ ...colores_existentes ]);\n\t\t\tsetMedidasSeleccionadas([ ...medidas_existentes ]);\n\t\t},\n\t\t[ presentaciones ]\n\t);\n\n\t// const obtenerAlmacenes = (event, child) => {\n\t// \tsetAlmacenInicial({\n\t// \t\t...almacen_inicial,\n\t// \t\t[event.target.name]: event.target.value,\n\t// \t\t[child.props.name]: child.props.id\n\t// \t});\n\t// };\n\n\tuseEffect(\n\t\t() => {\n\t\t\tobtenerColoresSeleccinados();\n\t\t},\n\t\t[ obtenerColoresSeleccinados ]\n\t);\n\n\treturn (\n\t\t<div>\n\t\t\t<Grid container spacing={2}>\n\t\t\t\t<Grid item md={9}>\n\t\t\t\t\t<TablaPresentaciones from={from} setOnUpdate={setOnUpdate} onUpdate={onUpdate} />\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item md={3}>\n\t\t\t\t\t<Box\n\t\t\t\t\t\twidth=\"100%\"\n\t\t\t\t\t\tmy={2}\n\t\t\t\t\t\tstyle={\n\t\t\t\t\t\t\tonUpdate.length > 0 ? (\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tpointerEvents: 'none',\n\t\t\t\t\t\t\t\t\topacity: 0.4\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t) : null\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Typography>{datos_generales.tipo_producto === 'ROPA' ? 'Talla' : 'Número'}</Typography>\n\t\t\t\t\t\t<CrearTallasProducto setMedidasSeleccionadas={setMedidasSeleccionadas} refetch={refetch} />\n\t\t\t\t\t\t<Grid container>\n\t\t\t\t\t\t\t{medidas.map((talla, index) => (\n\t\t\t\t\t\t\t\t<RenderTallas\n\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\ttalla={talla}\n\t\t\t\t\t\t\t\t\tcoloresSeleccionados={coloresSeleccionados}\n\t\t\t\t\t\t\t\t\tmedidasSeleccionadas={medidasSeleccionadas}\n\t\t\t\t\t\t\t\t\tsetMedidasSeleccionadas={setMedidasSeleccionadas}\n\t\t\t\t\t\t\t\t\t// datos={datos}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Divider />\n\t\t\t\t\t<Box\n\t\t\t\t\t\twidth=\"100%\"\n\t\t\t\t\t\tmt={1}\n\t\t\t\t\t\tstyle={\n\t\t\t\t\t\t\tonUpdate.length > 0 ? (\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tpointerEvents: 'none',\n\t\t\t\t\t\t\t\t\topacity: 0.4\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t) : null\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Typography>Color</Typography>\n\t\t\t\t\t\t<CrearColorProducto refetch={refetch} />\n\t\t\t\t\t\t<Grid container>\n\t\t\t\t\t\t\t{colores.map((color, index) => (\n\t\t\t\t\t\t\t\t<Colores\n\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\tcolor={color}\n\t\t\t\t\t\t\t\t\tcoloresSeleccionados={coloresSeleccionados}\n\t\t\t\t\t\t\t\t\tsetColoresSeleccionados={setColoresSeleccionados}\n\t\t\t\t\t\t\t\t\tmedidasSeleccionadas={medidasSeleccionadas}\n\t\t\t\t\t\t\t\t\t// datos={datos}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Box>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t</div>\n\t);\n}\n\nconst RenderTallas = ({\n\ttalla,\n\tcoloresSeleccionados,\n\tmedidasSeleccionadas,\n\tsetMedidasSeleccionadas,\n\t// datos\n}) => {\n\tconst classes = useStyles();\n\tconst theme = useTheme();\n\tconst { \n\t\tsetPresentaciones, \n\t\tpresentaciones, \n\t\tdatos_generales, \n\t\tpreciosP, \n\t\tprecios,\n\t\tpresentaciones_eliminadas, \n\t\tsetPresentacionesEliminadas \n\t} = useContext(RegProductoContext);\n\tconst [ selected, setSelected ] = useState(false);\n\n\t// const seleccionarMedidas = useCallback(\n\t// \t() => {\n\t// \t\tmedidasSeleccionadas.forEach((res) => {\n\t// \t\t\tif (res._id === talla._id) setSelected(true);\n\t// \t\t});\n\t// \t},\n\t// \t[ talla._id, medidasSeleccionadas ]\n\t// );\n\n\t// useEffect(\n\t// \t() => {\n\t// \t\tif (datos.medidas_registradas) {\n\t// \t\t\treturn seleccionarMedidas();\n\t// \t\t}\n\t// \t},\n\t// \t[ seleccionarMedidas ]\n\t// );\n\n\n\tconst handleAddTallas = (value) => {\n\t\tconst medidas_seleccionadas_temp = [ ...medidasSeleccionadas ];\n\n\t\tif (!selected) {\n\t\t\tmedidas_seleccionadas_temp.push(talla);\n\t\t\tsetSelected(value);\n\t\t} else {\n\t\t\tmedidas_seleccionadas_temp.forEach((res, index) => {\n\t\t\t\tif (res._id === talla._id) {\n\t\t\t\t\tmedidas_seleccionadas_temp.splice(index, 1);\n\t\t\t\t\tsetSelected(value);\n\t\t\t\t\tpresentaciones.forEach((presentacion) => {\n\t\t\t\t\t\tif(!presentacion.nuevo){\n\t\t\t\t\t\t\tif(presentacion.medida._id === res._id){\n\t\t\t\t\t\t\t\tsetPresentacionesEliminadas([...presentaciones_eliminadas, presentacion])\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t}\n\n\t\tlet presentacion_temp = [];\n\t\tconst array_medidad_finales = [ ...presentaciones ];\n\t\tconst { iva, ieps } = precios;\n\n\t\tif (!coloresSeleccionados.length && !array_medidad_finales.length) {\n\t\t\t/* SI NO HAY COLORES NI VALORES EN EL ARRAY FINAL SE AGREGA EL PRIMER ELEMENTO */\n\t\t\tfor (let i = 0; i < medidas_seleccionadas_temp.length; i++) {\n\t\t\t\tconst producto_medida = medidas_seleccionadas_temp[i];\n\t\t\t\tlet varIVA = (iva < 10 ? `0${iva}` : iva);\n\t\t\t\tlet varIEPS = (ieps < 10 ? `0${ieps}` : ieps);\n\t\t\t\tlet iva_precio = parseFloat(\n\t\t\t\t\t(\n\t\t\t\t\t  preciosP[0].precio_venta *\n\t\t\t\t\t  parseFloat(`0.${varIVA}`)\n\t\t\t\t\t).toFixed(2)\n\t\t\t\t  );\n\t\t\t\t  let ieps_precio = parseFloat(\n\t\t\t\t\t(\n\t\t\t\t\t  preciosP[0].precio_venta *\n\t\t\t\t\t  parseFloat(`0.${varIEPS}`)\n\t\t\t\t\t).toFixed(2)\n\t\t\t\t  );\n\t\t\t\tpresentacion_temp.push({\n\t\t\t\t\t_id: '',\n\t\t\t\t\texistencia: false,\n\t\t\t\t\tcodigo_barras: GenCodigoBarras(),\n\t\t\t\t\tnombre_comercial: datos_generales.nombre_comercial,\n\t\t\t\t\tmedida: producto_medida,\n\t\t\t\t\tcolor: { nombre: '', hex: '' },\n\t\t\t\t\tprecio: preciosP[0].precio_neto,\n\t\t\t\t\tcantidad: 0,\n\t\t\t\t\tnuevo: true,\n\t\t\t\t\tprecio_unidad: {\n\t\t\t\t\t\tnumero_precio: 1,\n\t\t\t\t\t\tprecio_venta: preciosP[0].precio_venta,\n\t\t\t\t\t\tprecio_neto: preciosP[0].precio_neto,\n\t\t\t\t\t\tunidad_mayoreo: 0,\n\t\t\t\t\t\tiva_precio: iva_precio,\n\t\t\t\t\t\tieps_precio: ieps_precio,\n\t\t\t\t\t\tutilidad: preciosP[0].utilidad,\n\t\t\t\t\t\tunidad_maxima: false,\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t}\n\t\t} else if (!coloresSeleccionados.length && array_medidad_finales.length > 0) {\n\t\t\t/* SI NO HAY COLORES REGISTRADOS PERO YA HAY TALLAS SE AGREGAN MAS */\n\t\t\tfor (let i = 0; i < medidas_seleccionadas_temp.length; i++) {\n\t\t\t\tconst producto_medida = medidas_seleccionadas_temp[i];\n\t\t\t\tconst result = array_medidad_finales.filter((res) => res.medida._id === producto_medida._id);\n\t\t\t\tlet varIVA = (iva < 10 ? `0${iva}` : iva);\n\t\t\t\tlet varIEPS = (ieps < 10 ? `0${ieps}` : ieps);\n\n\t\t\t\tlet iva_precio = parseFloat(\n\t\t\t\t\t(\n\t\t\t\t\t  preciosP[0].precio_venta *\n\t\t\t\t\t  parseFloat(`0.${varIVA}`)\n\t\t\t\t\t).toFixed(2)\n\t\t\t\t  );\n\t\t\t\t  let ieps_precio = parseFloat(\n\t\t\t\t\t(\n\t\t\t\t\t  preciosP[0].precio_venta *\n\t\t\t\t\t  parseFloat(`0.${varIEPS}`)\n\t\t\t\t\t).toFixed(2)\n\t\t\t\t  );\n\t\t\t\tif (result.length) {\n\t\t\t\t\tpresentacion_temp.push(result[0]);\n\t\t\t\t} else {\n\t\t\t\t\tpresentacion_temp.push({\n\t\t\t\t\t\t_id: '',\n\t\t\t\t\t\texistencia: false,\n\t\t\t\t\t\tcodigo_barras: GenCodigoBarras(),\n\t\t\t\t\t\tnombre_comercial: datos_generales.nombre_comercial,\n\t\t\t\t\t\tmedida: producto_medida,\n\t\t\t\t\t\tcolor: { nombre: '', hex: '' },\n\t\t\t\t\t\tprecio: preciosP[0].precio_neto,\n\t\t\t\t\t\tcantidad: 0,\n\t\t\t\t\t\tnuevo: true,\n\t\t\t\t\t\tprecio_unidad: {\n\t\t\t\t\t\t\tnumero_precio: 1,\n\t\t\t\t\t\t\tprecio_venta: preciosP[0].precio_venta,\n\t\t\t\t\t\t\tprecio_neto: preciosP[0].precio_neto,\n\t\t\t\t\t\t\tunidad_mayoreo: 0,\n\t\t\t\t\t\t\tiva_precio: iva_precio,\n\t\t\t\t\t\t\tieps_precio: ieps_precio,\n\t\t\t\t\t\t\tutilidad: preciosP[0].utilidad,\n\t\t\t\t\t\t\tunidad_maxima: false,\n\t\t\t\t\t\t},\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (coloresSeleccionados.length > 0 && medidas_seleccionadas_temp.length === 1 && value) {\n\t\t\t/* SI HAY COLORES SE LE AGREGA TALLA POR PRIMERA VEZ */\n\t\t\tfor (let i = 0; i < array_medidad_finales.length; i++) {\n\t\t\t\tfor (let k = 0; k < medidas_seleccionadas_temp.length; k++) {\n\t\t\t\t\tpresentacion_temp.push({\n\t\t\t\t\t\t_id: '',\n\t\t\t\t\t\texistencia: array_medidad_finales[i].existencia,\n\t\t\t\t\t\tcodigo_barras: array_medidad_finales[i].codigo_barras,\n\t\t\t\t\t\tnombre_comercial: array_medidad_finales[i].nombre_comercial,\n\t\t\t\t\t\tmedida: medidas_seleccionadas_temp[k],\n\t\t\t\t\t\tcolor: array_medidad_finales[i].color,\n\t\t\t\t\t\tprecio: array_medidad_finales[i].precio,\n\t\t\t\t\t\tcantidad: array_medidad_finales[i].cantidad,\n\t\t\t\t\t\tnuevo: true,\n\t\t\t\t\t\tprecio_unidad: array_medidad_finales[i].precio_unidad,\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (coloresSeleccionados.length > 0 && medidas_seleccionadas_temp.length > 0) {\n\t\t\t/* YA HAY COLORES Y MEDIDAS EN LAS PRESENTACIONES, SE AGREGAN NORMAL */\n\t\t\tfor (let i = 0; i < medidas_seleccionadas_temp.length; i++) {\n\t\t\t\tconst producto_medida = medidas_seleccionadas_temp[i];\n\t\t\t\tfor (let k = 0; k < coloresSeleccionados.length; k++) {\n\t\t\t\t\tconst producto_color = coloresSeleccionados[k];\n\t\t\t\t\tconst presentacion_existente = array_medidad_finales.filter(\n\t\t\t\t\t\t(producto_array_final) =>\n\t\t\t\t\t\t\tproducto_array_final.medida._id === producto_medida._id &&\n\t\t\t\t\t\t\tproducto_color._id === producto_array_final.color._id\n\t\t\t\t\t);\n\t\t\t\t\tlet varIVA = (iva < 10 ? `0${iva}` : iva);\n\t\t\t\t\tlet varIEPS = (ieps < 10 ? `0${ieps}` : ieps);\n\t\t\t\t\tlet iva_precio = parseFloat(\n\t\t\t\t\t\t(\n\t\t\t\t\t\t  preciosP[0].precio_venta *\n\t\t\t\t\t\t  parseFloat(`0.${varIVA}`)\n\t\t\t\t\t\t).toFixed(2)\n\t\t\t\t\t  );\n\t\t\t\t\t  let ieps_precio = parseFloat(\n\t\t\t\t\t\t(\n\t\t\t\t\t\t  preciosP[0].precio_venta *\n\t\t\t\t\t\t  parseFloat(`0.${varIEPS}`)\n\t\t\t\t\t\t).toFixed(2)\n\t\t\t\t\t  );\n\t\t\t\t\tif (!presentacion_existente.length) {\n\t\t\t\t\t\tpresentacion_temp.push({\n\t\t\t\t\t\t\t_id: '',\n\t\t\t\t\t\t\texistencia: false,\n\t\t\t\t\t\t\tcodigo_barras: GenCodigoBarras(),\n\t\t\t\t\t\t\tnombre_comercial: datos_generales.nombre_comercial,\n\t\t\t\t\t\t\tmedida: producto_medida,\n\t\t\t\t\t\t\tcolor: producto_color,\n\t\t\t\t\t\t\tprecio: preciosP[0].precio_neto,\n\t\t\t\t\t\t\tcantidad: 0,\n\t\t\t\t\t\t\tnuevo: true,\n\t\t\t\t\t\t\tprecio_unidad: {\n\t\t\t\t\t\t\t\tnumero_precio: 1,\n\t\t\t\t\t\t\t\tprecio_venta: preciosP[0].precio_venta,\n\t\t\t\t\t\t\t\tprecio_neto: preciosP[0].precio_neto,\n\t\t\t\t\t\t\t\tunidad_mayoreo: 0,\n\t\t\t\t\t\t\t\tiva_precio: iva_precio,\n\t\t\t\t\t\t\t\tieps_precio: ieps_precio,\n\t\t\t\t\t\t\t\tutilidad: preciosP[0].utilidad,\n\t\t\t\t\t\t\t\tunidad_maxima: false,\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tpresentacion_temp.push(presentacion_existente[0]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (coloresSeleccionados.length > 0 && !medidas_seleccionadas_temp.length) {\n\t\t\t/* SI NO HAY TALLAS SE VUELVE A LISTAR LOS COLORES QUE YA ESTABAN EN PRESENTACIONES */\n\t\t\tconst presentaciones_existentes = array_medidad_finales.filter((producto) => producto.medida._id);\n\t\t\tif (presentaciones_existentes.length) {\n\t\t\t\tfor (let x = 0; x < array_medidad_finales.length; x++) {\n\t\t\t\t\tconst objeto_presentaciones_final = array_medidad_finales[x];\n\t\t\t\t\tpresentacion_temp.push({\n\t\t\t\t\t\t_id: objeto_presentaciones_final._id,\n\t\t\t\t\t\texistencia: objeto_presentaciones_final.existencia,\n\t\t\t\t\t\tcodigo_barras: objeto_presentaciones_final.codigo_barras,\n\t\t\t\t\t\tnombre_comercial: objeto_presentaciones_final.nombre_comercial,\n\t\t\t\t\t\tmedida: {},\n\t\t\t\t\t\tcolor: objeto_presentaciones_final.color,\n\t\t\t\t\t\tprecio: objeto_presentaciones_final.precio,\n\t\t\t\t\t\tcantidad: objeto_presentaciones_final.cantidad,\n\t\t\t\t\t\tnuevo: true,\n\t\t\t\t\t\tprecio_unidad: objeto_presentaciones_final.precio_unidad,\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tsetMedidasSeleccionadas([ ...medidas_seleccionadas_temp ]);\n\t\tsetPresentaciones(presentacion_temp);\n\t};\n\n\treturn (\n\t\t<Grid item>\n\t\t\t<div\n\t\t\t\tclassName={classes.colorContainer}\n\t\t\t\tonClick={() => handleAddTallas(!selected)}\n\t\t\t\tstyle={\n\t\t\t\t\tselected ? (\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tbackgroundColor: theme.palette.primary.main\n\t\t\t\t\t\t}\n\t\t\t\t\t) : null\n\t\t\t\t}\n\t\t\t>\n\t\t\t\t<Typography\n\t\t\t\t\tvariant=\"button\"\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tcolor: theme.palette.getContrastText(selected ? theme.palette.primary.main : '#FFFFFF'),\n\t\t\t\t\t\tfontSize: 16\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{talla.talla}\n\t\t\t\t</Typography>\n\t\t\t</div>\n\t\t</Grid>\n\t);\n};\n\nconst Colores = ({ \n\tcolor, \n\tcoloresSeleccionados, \n\tsetColoresSeleccionados, \n\tmedidasSeleccionadas, \n\tdatos \n}) => {\n\tconst classes = useStyles();\n\tconst theme = useTheme();\n\tconst { \n\t\tpresentaciones, \n\t\tsetPresentaciones, \n\t\tdatos_generales, \n\t\tpreciosP, \n\t\tprecios,\n\t\tpresentaciones_eliminadas, \n\t\tsetPresentacionesEliminadas \n\t} = useContext(RegProductoContext);\n\n\tconst [ selected, setSelected ] = useState(false);\n\n\t// const seleccionarColores = useCallback(\n\t// \t() => {\n\t// \t\tcoloresSeleccionados.forEach((res) => {\n\t// \t\t\tif (res._id === color._id) setSelected(true);\n\t// \t\t});\n\t// \t},\n\t// \t[ color._id, coloresSeleccionados ]\n\t// );\n\n\t// useEffect(\n\t// \t() => {\n\t// \t\tif (datos.medidas_registradas) {\n\t// \t\t\treturn seleccionarColores();\n\t// \t\t}\n\t// \t},\n\t// \t[ seleccionarColores ]\n\t// );\n\n\tconst obtenerColores = (value) => {\n\t\tif (!selected) {\n\t\t\tcoloresSeleccionados.push(color);\n\t\t\tsetSelected(value);\n\t\t} else {\n\t\t\tcoloresSeleccionados.forEach((res, index) => {\n\t\t\t\tif (res._id === color._id) {\n\t\t\t\t\tcoloresSeleccionados.splice(index, 1);\n\t\t\t\t\tsetSelected(value);\n\t\t\t\t\tpresentaciones.forEach((presentacion) => {\n\t\t\t\t\t\tif(!presentacion.nuevo){\n\t\t\t\t\t\t\tif(presentacion.color._id === res._id){\n\t\t\t\t\t\t\t\tsetPresentacionesEliminadas([...presentaciones_eliminadas, presentacion])\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\tlet presentacion_temp = [];\n\t\tconst array_medidad_finales = [ ...presentaciones ];\n\t\tconst { iva, ieps } = precios;\n\n\t\tif (!medidasSeleccionadas.length && !array_medidad_finales.length) {\n\t\t\t/* SI NO HAY COLORES NI VALORES EN EL ARRAY FINAL SE AGREGA EL PRIMER ELEMENTO */\n\t\t\tfor (let i = 0; i < coloresSeleccionados.length; i++) {\n\t\t\t\tconst producto_color = coloresSeleccionados[i];\n\t\t\t\tlet varIVA = (iva < 10 ? `0${iva}` : iva);\n\t\t\t\tlet varIEPS = (ieps < 10 ? `0${ieps}` : ieps);\n\t\t\t\tlet iva_precio = parseFloat(\n\t\t\t\t\t(\n\t\t\t\t\t  preciosP[0].precio_venta *\n\t\t\t\t\t  parseFloat(`0.${varIVA}`)\n\t\t\t\t\t).toFixed(2)\n\t\t\t\t);\n\t\t\t\tlet ieps_precio = parseFloat(\n\t\t\t\t\t(\n\t\t\t\t\t\tpreciosP[0].precio_venta *\n\t\t\t\t\t\tparseFloat(`0.${varIEPS}`)\n\t\t\t\t\t).toFixed(2)\n\t\t\t\t);\n\t\t\t\tpresentacion_temp.push({\n\t\t\t\t\t_id: '',\n\t\t\t\t\texistencia: false,\n\t\t\t\t\tcodigo_barras: GenCodigoBarras(),\n\t\t\t\t\tnombre_comercial: datos_generales.nombre_comercial,\n\t\t\t\t\tmedida: {},\n\t\t\t\t\tcolor: producto_color,\n\t\t\t\t\tprecio: preciosP[0].precio_neto,\n\t\t\t\t\tcantidad: 0,\n\t\t\t\t\tnuevo: true,\n\t\t\t\t\tprecio_unidad: {\n\t\t\t\t\t\tnumero_precio: 1,\n\t\t\t\t\t\tprecio_venta: preciosP[0].precio_venta,\n\t\t\t\t\t\tprecio_neto: preciosP[0].precio_neto,\n\t\t\t\t\t\tunidad_mayoreo: 0,\n\t\t\t\t\t\tiva_precio: iva_precio,\n\t\t\t\t\t\tieps_precio: ieps_precio,\n\t\t\t\t\t\tutilidad: preciosP[0].utilidad,\n\t\t\t\t\t\tunidad_maxima: false,\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t}\n\t\t} else if (!medidasSeleccionadas.length && array_medidad_finales.length > 0) {\n\t\t\t/* SI YA HAY COLORES REGISTRADOS SE AGREGAN MAS */\n\t\t\tfor (let i = 0; i < coloresSeleccionados.length; i++) {\n\t\t\t\tconst producto_color = coloresSeleccionados[i];\n\t\t\t\tconst result = array_medidad_finales.filter((res) => res.color._id === producto_color._id);\n\t\t\t\tlet varIVA = (iva < 10 ? `0${iva}` : iva);\n\t\t\t\tlet varIEPS = (ieps < 10 ? `0${ieps}` : ieps);\n\t\t\t\tlet iva_precio = parseFloat(\n\t\t\t\t\t(\n\t\t\t\t\t  preciosP[0].precio_venta *\n\t\t\t\t\t  parseFloat(`0.${varIVA}`)\n\t\t\t\t\t).toFixed(2)\n\t\t\t\t  );\n\t\t\t\tlet ieps_precio = parseFloat(\n\t\t\t\t\t(\n\t\t\t\t\t  preciosP[0].precio_venta *\n\t\t\t\t\t  parseFloat(`0.${varIEPS}`)\n\t\t\t\t\t).toFixed(2)\n\t\t\t\t);\n\t\t\t\tif (result.length) {\n\t\t\t\t\tpresentacion_temp.push(result[0]);\n\t\t\t\t} else {\n\t\t\t\t\tpresentacion_temp.push({\n\t\t\t\t\t\t_id: '',\n\t\t\t\t\t\texistencia: false,\n\t\t\t\t\t\tcodigo_barras: GenCodigoBarras(),\n\t\t\t\t\t\tnombre_comercial: datos_generales.nombre_comercial,\n\t\t\t\t\t\tmedida: {},\n\t\t\t\t\t\tcolor: producto_color,\n\t\t\t\t\t\tprecio: preciosP[0].precio_neto,\n\t\t\t\t\t\tcantidad: 0,\n\t\t\t\t\t\tnuevo: true,\n\t\t\t\t\t\tprecio_unidad: {\n\t\t\t\t\t\t\tnumero_precio: 1,\n\t\t\t\t\t\t\tprecio_venta: preciosP[0].precio_venta,\n\t\t\t\t\t\t\tprecio_neto: preciosP[0].precio_neto,\n\t\t\t\t\t\t\tunidad_mayoreo: 0,\n\t\t\t\t\t\t\tiva_precio: iva_precio,\n\t\t\t\t\t\t\tieps_precio: ieps_precio,\n\t\t\t\t\t\t\tutilidad: preciosP[0].utilidad,\n\t\t\t\t\t\t\tunidad_maxima: false,\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (medidasSeleccionadas.length > 0 && coloresSeleccionados.length === 1 && value) {\n\t\t\t/* SI YA HAY TALLAS SE LE AGREGA EL COLOR POR PRIMERA VEZ */\n\t\t\tfor (let i = 0; i < array_medidad_finales.length; i++) {\n\t\t\t\tfor (let k = 0; k < coloresSeleccionados.length; k++) {\n\t\t\t\t\tpresentacion_temp.push({\n\t\t\t\t\t\t_id: '',\n\t\t\t\t\t\texistencia: array_medidad_finales[i].existencia,\n\t\t\t\t\t\tcodigo_barras: array_medidad_finales[i].codigo_barras,\n\t\t\t\t\t\tnombre_comercial: array_medidad_finales[i].nombre_comercial,\n\t\t\t\t\t\tmedida: array_medidad_finales[i].medida,\n\t\t\t\t\t\tcolor: coloresSeleccionados[k],\n\t\t\t\t\t\tprecio: array_medidad_finales[i].precio,\n\t\t\t\t\t\tcantidad: array_medidad_finales[i].cantidad,\n\t\t\t\t\t\tnuevo: true,\n\t\t\t\t\t\tprecio_unidad: array_medidad_finales[i].precio_unidad\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (medidasSeleccionadas.length > 0 && coloresSeleccionados.length > 0) {\n\t\t\t/* YA HAY TALLAS Y MEIDAS EN LAS PRESENTACIONES, SE REGISTRAN NORMAL */\n\t\t\tfor (let i = 0; i < coloresSeleccionados.length; i++) {\n\t\t\t\tconst producto_color = coloresSeleccionados[i];\n\t\t\t\tfor (let k = 0; k < medidasSeleccionadas.length; k++) {\n\t\t\t\t\tconst producto_medida = medidasSeleccionadas[k];\n\t\t\t\t\tconst presentacion_existente = array_medidad_finales.filter(\n\t\t\t\t\t\t(producto_array_final) =>\n\t\t\t\t\t\t\tproducto_array_final.medida._id === producto_medida._id &&\n\t\t\t\t\t\t\tproducto_color._id === producto_array_final.color._id\n\t\t\t\t\t);\n\t\t\t\t\tlet varIVA = (iva < 10 ? `0${iva}` : iva);\n\t\t\t\t\tlet varIEPS = (ieps < 10 ? `0${ieps}` : ieps);\n\t\t\t\t\tlet iva_precio = parseFloat(\n\t\t\t\t\t\t(\n\t\t\t\t\t\t  preciosP[0].precio_venta *\n\t\t\t\t\t\t  parseFloat(`0.${varIVA}`)\n\t\t\t\t\t\t).toFixed(2)\n\t\t\t\t\t  );\n\t\t\t\t\tlet ieps_precio = parseFloat(\n\t\t\t\t\t\t(\n\t\t\t\t\t\t\tpreciosP[0].precio_venta *\n\t\t\t\t\t\t\tparseFloat(`0.${varIEPS}`)\n\t\t\t\t\t\t).toFixed(2)\n\t\t\t\t\t);\n\t\t\t\t\tif (!presentacion_existente.length) {\n\t\t\t\t\t\tpresentacion_temp.push({\n\t\t\t\t\t\t\t_id: '',\n\t\t\t\t\t\t\texistencia: false,\n\t\t\t\t\t\t\tcodigo_barras: GenCodigoBarras(),\n\t\t\t\t\t\t\tnombre_comercial: datos_generales.nombre_comercial,\n\t\t\t\t\t\t\tmedida: producto_medida,\n\t\t\t\t\t\t\tcolor: producto_color,\n\t\t\t\t\t\t\tprecio: preciosP[0].precio_neto,\n\t\t\t\t\t\t\tcantidad: 0,\n\t\t\t\t\t\t\tnuevo: true,\n\t\t\t\t\t\t\tprecio_unidad: {\n\t\t\t\t\t\t\t\tnumero_precio: 1,\n\t\t\t\t\t\t\t\tprecio_venta: preciosP[0].precio_venta,\n\t\t\t\t\t\t\t\tprecio_neto: preciosP[0].precio_neto,\n\t\t\t\t\t\t\t\tunidad_mayoreo: 0,\n\t\t\t\t\t\t\t\tiva_precio: iva_precio,\n\t\t\t\t\t\t\t\tieps_precio: ieps_precio,\n\t\t\t\t\t\t\t\tutilidad: preciosP[0].utilidad,\n\t\t\t\t\t\t\t\tunidad_maxima: false,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tpresentacion_temp.push(presentacion_existente[0]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (medidasSeleccionadas.length > 0 && !coloresSeleccionados.length) {\n\t\t\t/* SI NO HAY COLORES SE VUELVE A LISTAR LAS TALLAS QUE YA ESTABAN EN PRESENTACIONES */\n\t\t\tconst presentaciones_existentes = array_medidad_finales.filter((producto) => producto.color._id);\n\t\t\tif (presentaciones_existentes.length) {\n\t\t\t\tfor (let x = 0; x < array_medidad_finales.length; x++) {\n\t\t\t\t\tconst objeto_presentaciones_final = array_medidad_finales[x];\n\t\t\t\t\tpresentacion_temp.push({\n\t\t\t\t\t\t_id: objeto_presentaciones_final._id,\n\t\t\t\t\t\texistencia: objeto_presentaciones_final.existencia,\n\t\t\t\t\t\tcodigo_barras: objeto_presentaciones_final.codigo_barras,\n\t\t\t\t\t\tnombre_comercial: objeto_presentaciones_final.nombre_comercial,\n\t\t\t\t\t\tmedida: objeto_presentaciones_final.medida,\n\t\t\t\t\t\tcolor: { nombre: '', hex: '' },\n\t\t\t\t\t\tprecio: objeto_presentaciones_final.precio,\n\t\t\t\t\t\tcantidad: objeto_presentaciones_final.cantidad,\n\t\t\t\t\t\tnuevo: true,\n\t\t\t\t\t\tprecio_unidad: objeto_presentaciones_final.precio_unidad,\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tsetColoresSeleccionados([ ...coloresSeleccionados ]);\n\t\tsetPresentaciones(presentacion_temp);\n\t};\n\n\treturn (\n\t\t<Grid item>\n\t\t\t<Tooltip title={color.nombre} placement=\"top\" arrow TransitionComponent={Zoom}>\n\t\t\t\t<div\n\t\t\t\t\tclassName={classes.colorContainer}\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tbackgroundColor: color.hex,\n\t\t\t\t\t\tcolor: theme.palette.getContrastText(color.hex)\n\t\t\t\t\t}}\n\t\t\t\t\tonClick={() => obtenerColores(!selected)}\n\t\t\t\t>\n\t\t\t\t\t{selected ? <Done /> : null}\n\t\t\t\t</div>\n\t\t\t</Tooltip>\n\t\t</Grid>\n\t);\n};\n","import React, { useContext, useEffect, useState } from \"react\";\nimport {\n  AppBar,\n  Backdrop,\n  Badge,\n  Box,\n  Button,\n  CircularProgress,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  makeStyles,\n  Slide,\n  Tab,\n  Tabs,\n  Typography,\n} from \"@material-ui/core\";\nimport PropTypes from \"prop-types\";\nimport RegistroInfoAdidional from \"../../sucursales/Catalogos/Producto/PreciosVenta/registrarInfoAdicional\";\nimport RegistroInformacionRapido from \"./RegistroInformacionRapido\";\nimport { Close, NavigateBefore, NavigateNext } from \"@material-ui/icons\";\nimport DoneIcon from \"@material-ui/icons/Done\";\nimport {\n  initial_state_datos_generales,\n  initial_state_precios,\n  initial_state_preciosP,\n  initial_state_unidadVentaXDefecto,\n  initial_state_presentaciones\n} from \"../../../context/Catalogos/initialStatesProducto\";\nimport { cleanTypenames } from '../../../config/reuserFunctions';\nimport TallasColoresRapidos from \"./TallasColoresRapidos/TallasColoresRapidos\";\nimport { RegProductoContext } from \"../../../context/Catalogos/CtxRegProducto\";\nimport { useMutation, useQuery } from \"@apollo/client\";\nimport { CREAR_PRODUCTO_RAPIDO, OBTENER_CONSULTAS } from \"../../../gql/Catalogos/productos\";\nimport { VentasContext } from \"../../../context/Ventas/ventasContext\";\n\nfunction TabPanel(props) {\n  const { children, value, index, ...other } = props;\n\n  return (\n    <div\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`tabpanel-reg-product-${index}`}\n      aria-labelledby={`reg-product-tab-${index}`}\n      {...other}\n    >\n      {value === index && (\n        <Box p={3} height=\"70vh\">\n          {children}\n        </Box>\n      )}\n    </div>\n  );\n}\n\nTabPanel.propTypes = {\n  children: PropTypes.node,\n  index: PropTypes.any.isRequired,\n  value: PropTypes.any.isRequired,\n};\n\nfunction a11yProps(index) {\n  return {\n    id: `reg-product-tab-${index}`,\n    \"aria-controls\": `tabpanel-reg-product-${index}`,\n  };\n}\n\nconst useStyles = makeStyles((theme) => ({\n  formInputFlex: {\n    display: \"flex\",\n    \"& > *\": {\n      margin: `${theme.spacing(1)}px ${theme.spacing(2)}px`,\n    },\n  },\n  iconSizeDialogs: {\n    width: 80,\n  },\n  formInput: {\n    margin: `${theme.spacing(1)}px ${theme.spacing(2)}px`,\n  },\n  root: {\n    flexGrow: 1,\n    width: \"100%\",\n    backgroundColor: theme.palette.background.paper,\n  },\n  iconSvg: {\n    width: 50,\n  },\n  dialogContent: {\n    padding: 0,\n  },\n  backdrop: {\n    zIndex: theme.zIndex.drawer + 1,\n    color: \"#fff\",\n  },\n  iconSizeSecondSuperior: {\n\t\twidth: 20,\n\t},\n}));\n\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function ArticuloRapido() {\n  const classes = useStyles();\n  const [value, setValue] = useState(0);\n  const [ cargando, setCargando ] = useState(false);\n\n  const {\n    datos_generales,\n    setDatosGenerales,\n    precios,\n    setPrecios,\n    validacion,\n    setValidacion,\n    setPreciosP,\n    preciosP,\n    unidadesVenta,\n    setUnidadesVenta,\n    unidadVentaXDefecto,\n    setUnidadVentaXDefecto,\n    setCentroDeCostos,\n    presentaciones,\n    setPresentaciones,\n  } = useContext(RegProductoContext);\n  const { setAlert, open, setOpen } = useContext(VentasContext);\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n  const [ crearProductoRapido ] = useMutation(CREAR_PRODUCTO_RAPIDO);\n  const {  data, refetch, loading } = useQuery(OBTENER_CONSULTAS, {\n    variables: { empresa: sesion.empresa._id, sucursal: sesion.sucursal._id },\n  });\n\n  const resetInitialStates = () => {\n    setDatosGenerales(initial_state_datos_generales);\n    setPrecios(initial_state_precios);\n    setUnidadVentaXDefecto(initial_state_unidadVentaXDefecto);\n    setPreciosP(initial_state_preciosP);\n    setUnidadesVenta([]);\n    setCentroDeCostos({});\n    setValidacion({ error: false, message: \"\" });\n    setPresentaciones([]);\n    setValue(0);\n  };\n  \n  const [abrirTallaColor, setAbrirTallaColor] = useState(false);\n  const [cantidad, setCantidad] = useState(0);\n\n  const handleClickOpen = () => {\n    if(sesion.accesos.ventas.producto_rapido.ver === true){\n      resetInitialStates();\n      setOpen(!open);\n      setAbrirTallaColor(false);\n    }\n\t};\n\n  useEffect(() => {\n    return () => {\n      refetch();\n    };\n  }, []);\n  \n  if(loading || !data) { return null }\n  if (loading)\n  return (\n    <Box\n      display=\"flex\"\n      flexDirection=\"column\"\n      justifyContent=\"center\"\n      alignItems=\"center\"\n      height=\"80vh\"\n    >\n      <CircularProgress />\n      <Typography variant=\"h6\">Cargando...</Typography>\n    </Box>\n  );\n\n  const { obtenerConsultasProducto } = data;\n\n  const handleChange = (event, newValue) => {\n    setValue(newValue);\n  };\n\n  window.addEventListener('keydown', Mi_función); \n  function Mi_función(e){\n    if(e.altKey && e.keyCode === 65){ \n        handleClickOpen();\n    } \n  };\n\n  const saveData = async () => {\n    setCargando(true);\n    if (datos_generales.tipo_producto === 'OTROS' && cantidad < 1) {\n        return setValidacion(true);\n    }else{\n      if (\n        !datos_generales.clave_alterna ||\n        !datos_generales.tipo_producto ||\n        !datos_generales.nombre_generico ||\n        !datos_generales.nombre_comercial ||\n        !precios.precio_de_compra.precio_con_impuesto ||\n        !precios.precio_de_compra.precio_sin_impuesto ||\n        !precios.unidad_de_compra.cantidad\n      ){\n        return setValidacion(true);\n      }\n    }\n    if (unidadesVenta.length === 0) {\n      unidadesVenta.push(unidadVentaXDefecto);\n    } else {\n      const unidadxdefecto = unidadesVenta.filter(\n        (unidades) => unidades.default\n      );\n      if (unidadxdefecto.length === 0) unidadesVenta.push(unidadVentaXDefecto);\n    }\n    precios.precios_producto = preciosP;\n\n    if (datos_generales.tipo_producto === 'OTROS' && cantidad < 1) {\n        setPresentaciones(initial_state_presentaciones)\n        setCantidad(0)\n    };\n    const data = {\n      datos_generales,\n      precios,\n      unidades_de_venta: unidadesVenta,\n      presentaciones,\n      cantidad,\n      empresa: sesion.empresa._id,\n      sucursal: sesion.sucursal._id,\n      usuario: sesion._id,\n    };\n    \n    try {\n      const input = cleanTypenames(data);\n      const result = await crearProductoRapido({\n        variables: {\n          input\n        }\n      });\n      resetInitialStates();\n      refetch();\n      setAlert({\n        message: `¡Listo ${result.data.crearProductoRapido.message}!`,\n        status: \"success\",\n        open: true,\n      });\n      setCargando(false);\n      handleClickOpen();\n    } catch (error) {\n      resetInitialStates();\n      refetch();\n      setAlert({\n        message: `Error: ${error.message}`,\n        status: \"error\",\n        open: true,\n      });\n      setCargando(false);\n      handleClickOpen();\n    }\n  };\n\n  const saveButton = (\n    <Button\n      variant=\"contained\"\n      color=\"primary\"\n      onClick={() => saveData()}\n      size=\"large\"\n      startIcon={<DoneIcon />}\n      disabled={\n       datos_generales.tipo_producto === 'OTROS' ? (\n            !datos_generales.clave_alterna ||\n            !datos_generales.tipo_producto ||\n            !datos_generales.nombre_generico ||\n            !datos_generales.nombre_comercial ||\n            !cantidad ||\n            !precios.precio_de_compra.precio_con_impuesto ||\n            !precios.precio_de_compra.precio_sin_impuesto ||\n            !precios.unidad_de_compra.cantidad\n          ? true\n          : false\n        ):(\n            !datos_generales.clave_alterna ||\n            !datos_generales.tipo_producto ||\n            !datos_generales.nombre_generico ||\n            !datos_generales.nombre_comercial ||\n            !precios.precio_de_compra.precio_con_impuesto ||\n            !precios.precio_de_compra.precio_sin_impuesto ||\n            !precios.unidad_de_compra.cantidad\n          ? true\n          : false\n        )\n      }\n    >\n      Guardar\n    </Button>\n  );\n\n  const ButtonActions = () => {\n    if (value === 1) {\n      return saveButton;\n    } else {\n      if (datos_generales.tipo_producto === 'OTROS' || !datos_generales.tipo_producto) {\n        return saveButton;\n      }else{\n        return (\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={() => setValue(value + 1)}\n            size=\"large\"\n            endIcon={<NavigateNext />}\n            disableElevation\n          >\n            Siguiente\n          </Button>\n        );\n      }\n\n    }\n  };\n\n  return (\n    <>\n      <Button\n        onClick={() =>{handleClickOpen()}}\n        value=\"articulo-rapido\"\n        style={{textTransform: 'none', height: '100%', width: '60%'}}\n      >\n        <Box display=\"flex\" flexDirection=\"column\">\n\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n          <img \n            src=\"https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/tiempo-rapido.svg\" \n            alt=\"icono caja2\" \n            className={classes.iconSizeSecondSuperior} \n          />\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box>\n              <Typography variant=\"body2\" >\n                  <b>Producto Rapido</b>\n              </Typography>\n          </Box>\n          <Box>\n              <Typography variant=\"caption\" style={{color: '#808080'}} >\n                  <b>Alt + A</b>\n              </Typography>\n          </Box>\n\t\t\t\t</Box>\n      </Button>\n      <Dialog\n\t\t\t\tmaxWidth='lg'\n\t\t\t\topen={open} \n\t\t\t\tonClose={handleClickOpen} \n\t\t\t\tTransitionComponent={Transition}\n\t\t\t>\n        <AppBar position=\"static\" color=\"default\" elevation={0}>\n          <Box display=\"flex\" justifyContent=\"space-between\">\n            <Tabs\n              value={value}\n              onChange={handleChange}\n              variant=\"scrollable\"\n              scrollButtons=\"on\"\n              indicatorColor=\"primary\"\n              textColor=\"primary\"\n              aria-label=\"scrollable force tabs example\"\n            >\n              <Tab\n                label=\"Datos generales\"\n                icon={\n                  <Badge\n                    color=\"secondary\"\n                    badgeContent={<Typography variant=\"h6\">!</Typography>}\n                    anchorOrigin={{\n                      vertical: \"bottom\",\n                      horizontal: \"right\",\n                    }}\n                    invisible={\n                      validacion.error && validacion.vista1 ? false : true\n                    }\n                  >\n                    <img\n                      src=\"https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/portapapeles.svg\"\n                      alt=\"icono registro\"\n                      className={classes.iconSvg}\n                    />\n                  </Badge>\n                }\n                {...a11yProps(0)}\n              />\n              {\n                 abrirTallaColor === false  || datos_generales.tipo_producto === 'OTROS' ? (\n                  null\n                ) :(\n                  <Tab\n                    label=\"Tallas y colores\"\n                    icon={\n                      <Badge\n                        color=\"secondary\"\n                        badgeContent={<Typography variant=\"h6\">!</Typography>}\n                        anchorOrigin={{\n                          vertical: \"bottom\",\n                          horizontal: \"right\",\n                        }}\n                        invisible={\n                            validacion.error && validacion.vista7 ? false : true\n                        }\n                      >\n                        <img\n                          src=\"https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/tallas-colores.svg\"\n                          alt=\"icono colores\"\n                          className={classes.iconSvg}\n                        />\n                      </Badge>\n                    }\n                    {...a11yProps(6)}\n                  />\n                )\n              }\n            </Tabs>\n          </Box>\n        </AppBar>\n        <DialogContent className={classes.dialogContent}>\n          <Backdrop className={classes.backdrop} open={cargando}>\n            <CircularProgress color=\"inherit\" />\n          </Backdrop>\n          <div className={classes.root}>\n            <TabPanel value={value} index={0}>\n              <RegistroInformacionRapido \n                setAbrirTallaColor={setAbrirTallaColor} \n                setCantidad={setCantidad} \n                cantidad={cantidad} \n                obtenerConsultasProducto={obtenerConsultasProducto}\n                refetch={refetch}\n              />\n              <RegistroInfoAdidional />\n            </TabPanel>\n            <TabPanel value={value} index={1}>\n              <TallasColoresRapidos\n                obtenerConsultasProducto={obtenerConsultasProducto}\n                refetch={refetch}\n              />\n            </TabPanel>\n          </div>\n        </DialogContent>\n        <DialogActions style={{ display: \"flex\", justifyContent: \"center\" }}>\n          <Button\n            variant=\"outlined\"\n            color=\"primary\"\n            onClick={() => setValue(value - 1)}\n            size=\"large\"\n            startIcon={<NavigateBefore />}\n            disabled={value === 0}\n          >\n            Anterior\n          </Button>\n          <Button\n            variant=\"outlined\"\n            color=\"inherit\"\n            onClick={() => {\n              handleClickOpen() \n              resetInitialStates()\n            }}\n            size=\"large\"\n            startIcon={<Close />}\n            disableElevation\n          >\n            Cancelar\n          </Button>\n          <ButtonActions />\n        </DialogActions>\n\t\t\t</Dialog>\n    </>\n  );\n}\n","import React from 'react'\nimport { RegProductoProvider } from '../../../context/Catalogos/CtxRegProducto'\nimport ArticuloRapido from './ArticuloRapido'\n \nexport default function ProductoRapidoIndex({handleClickOpen}){\n\n    return (\n        <RegProductoProvider>\n            <ArticuloRapido handleClickOpen={handleClickOpen} />\n        </RegProductoProvider>\n    )\n}","import React, { useState, useContext, Fragment} from 'react';\nimport { Divider, BottomNavigation, Button } from '@material-ui/core';\nimport { CssBaseline, Avatar, Box, Typography } from '@material-ui/core';\nimport { withRouter } from 'react-router';\nimport { FaPowerOff } from 'react-icons/fa';\nimport useStyles from './styles';\nimport moment from 'moment';\nimport 'moment/locale/es';\n\nimport DepositoRetiroCaja from '../../pages/ventas/Operaciones/DepositoRetiroCaja';\nimport Turnos from '../../pages/ventas/AbrirCerrarTurno/Turnos';\nimport PreCorteCaja from '../../pages/ventas/Operaciones/PreCorteCaja';\nimport Cotizacion from '../../pages/ventas/Cotizacion/Cotizacion';\nimport VentaEnEspera from '../../pages/ventas/Operaciones/VentaEnEspera';\nimport ProductoRapidoIndex from '../../pages/ventas/ArticuloRapido/indexArticuloRapido';\n\nimport SnackBarMessages from '../SnackBarMessages';\nimport { VentasContext } from '../../context/Ventas/ventasContext';\n\nfunction NavegacionVentas(props) {\n\tconst { alert, setAlert, abrirTurnosDialog, setAbrirTurnosDialog, setUbicacionTurno } = useContext(VentasContext);\n\tconst classes = useStyles();\n\tconst [ value, setValue ] = useState('venta-general');\n    const sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\tconst turnoEnCurso = JSON.parse(localStorage.getItem('turnoEnCurso'));\n\n\tmoment.locale('es');\n\n\tconst signOut = () => {\n\t\tif (sesion.turno_en_caja_activo === true && turnoEnCurso) {\n\t\t\tsetAbrirTurnosDialog(!abrirTurnosDialog);\n\t\t\tsetUbicacionTurno('SESION');\n\t\t}else{\n\t\t\tlocalStorage.removeItem('sesionCafi');\n\t\t\tlocalStorage.removeItem('tokenCafi');\n            localStorage.removeItem('DatosVentas');\n\t\t\tlocalStorage.removeItem('turnoEnCurso');\n\t\t\tlocalStorage.removeItem('ListaEnEspera');\n\t\t\tprops.history.push('/');\n\t\t}\n\t};\n\n\tfunction Mi_función(e){\n\t\tif( e.keyCode === 112){ \n\t\t\tprops.history.push('/admin');\n\t\t}\n\t\tif( e.keyCode === 115){ \n\t\t\tprops.history.push('/');\n\t\t}\n\t};\n\n\tfunction Administrador() {\n\t\tif(sesion.accesos.ventas.administrador.ver === true){\n\t\t\tprops.history.push('/admin')\n\t\t};\n\t}\n\n\twindow.addEventListener('keydown', Mi_función); \n\n\treturn (\n\t\t<Fragment>\n\t\t\t<SnackBarMessages alert={alert} setAlert={setAlert} />\n\t\t\t\t<BottomNavigation\n\t\t\t\t\tvalue={value}\n\t\t\t\t\tonChange={(event, newValue) => {\n\t\t\t\t\t\tsetValue(newValue);\n\t\t\t\t\t}}\n\t\t\t\t\tshowLabels\n\t\t\t\t\tclassName={classes.navigationTop}\n\t\t\t\t>\n\t\t\t\t\t<ProductoRapidoIndex />\n\t\t\t\t\t\t<Divider orientation=\"vertical\" />\n\t\t\t\t\t<Cotizacion /> \n\t\t\t\t\t\t<Divider orientation=\"vertical\" />\n\t\t\t\t\t<DepositoRetiroCaja />\n\t\t\t\t\t\t<Divider orientation=\"vertical\" />\n\t\t\t\t\t<Turnos />\n\t\t\t\t\t\t<Divider orientation=\"vertical\" />\n\t\t\t\t\t<PreCorteCaja />\n\t\t\t\t\t\t<Divider orientation=\"vertical\" />\n\t\t\t\t\t<VentaEnEspera />\n\t\t\t\t\t\t<Divider orientation=\"vertical\" />\n\t\t\t\t\t<Button\n\t\t\t\t\t\tonClick={() => Administrador()}\n\t\t\t\t\t\tstyle={{textTransform: 'none', height: '100%', width: '60%'}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Box display=\"flex\" flexDirection=\"column\">\n\t\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t\t<img \n\t\t\t\t\t\t\t\t\tsrc='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/ventas/admin.svg' \n\t\t\t\t\t\t\t\t\talt=\"icono admin\" \n\t\t\t\t\t\t\t\t\tclassName={classes.iconSizeSecondSuperior} \n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t\t<Typography variant=\"body2\" >\n\t\t\t\t\t\t\t\t\t<b>Administrador</b>\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t\t<Typography variant=\"caption\" style={{color: '#808080'}} >\n\t\t\t\t\t\t\t\t\t<b>F1</b>\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Divider orientation=\"vertical\" />\n\t\t\t\t\t<Button\n\t\t\t\t\t\tonClick={() =>{\n\t\t\t\t\t\t\tsignOut()\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tstyle={{textTransform: 'none', height: '100%', width: '40%'}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Box display=\"flex\" flexDirection=\"column\" style={{textTransform: 'none', height: '100%', width: '100%'}}>\n\t\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t\t<FaPowerOff className={classes.iconSizeSuperior} style={{color: 'red'}} />\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t\t<Typography variant=\"body2\" >\n\t\t\t\t\t\t\t\t\t<b>Salir</b>\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Box \n\t\t\t\t\t\tdisplay=\"flex\" \n\t\t\t\t\t\tjustifyContent=\"flex-end\"\n\t\t\t\t\t\tstyle={{height: '100%', width: '100%'}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Box mr={3} display=\"flex\" alignItems=\"center\">\n\t\t\t\t\t\t\t<Avatar alt=\"Remy Sharp\" srsc=\"/static/images/avatar/1.jpg\" className={classes.avatar} />\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t\t\t<Typography color=\"textSecondary\">{sesion?.nombre}</Typography>\n\t\t\t\t\t\t\t\t\t{!turnoEnCurso?.numero_caja ? (\n\t\t\t\t\t\t\t\t\t\t\"\"\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t<Typography color=\"textSecondary\">\n\t\t\t\t\t\t\t\t\t\t\t<b>Caja: </b>{turnoEnCurso?.numero_caja}\n\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box mr={3} display=\"flex\" alignItems=\"center\">\n\t\t\t\t\t\t\t<img src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/ventas/calendario.svg' alt=\"icono admin\" className={classes.avatar} />\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t\t\t<Typography color=\"textSecondary\">\n\t\t\t\t\t\t\t\t\t\t{moment().format('MM/DD/YYYY')}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t<Typography color=\"textSecondary\">\n\t\t\t\t\t\t\t\t\t\t<b>{moment().format('h:mm')} hrs.</b> \n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Box>\n\t\t\t\t</BottomNavigation>\n\t\t</Fragment>\n\t);\n}\n\nexport default withRouter(NavegacionVentas);","import React, { useState } from 'react';\nimport { Box, Button,  Dialog, DialogActions, DialogContent, Slide, Typography } from '@material-ui/core'\nimport useStyles from '../styles';\nimport { FcDonate } from 'react-icons/fc';\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function Abonos() {\n    const classes = useStyles();\n\n    const [open, setOpen] = useState(false);\n    const handleClickOpen = () => { \n\t\tsetOpen(!open);\n\t};\n    \n    window.addEventListener('keydown', Mi_función); \n    function Mi_función(e){\n        if(e.keyCode === 117){ \n            handleClickOpen();\n        } \n    };\n\n    return (\n        <>\n            <Button \n                className={classes.borderBotonChico}\n                onClick={handleClickOpen}\n            >\n                <Box>\n                    <Box>\n                        <FcDonate style={{fontSize: 35}} />\n                    </Box>\n                    <Box>\n                        <Typography variant=\"body2\" >\n                            <b>Abonos</b>\n                        </Typography>\n                    </Box>\n                    <Box>\n                        <Typography variant=\"caption\" style={{color: '#808080'}} >\n                            <b>F6</b>\n                        </Typography>\n                    </Box>\n                </Box>\n            </Button>\n            <Dialog\n\t\t\t\tmaxWidth='lg'\n\t\t\t\topen={open} \n\t\t\t\tonClose={handleClickOpen} \n\t\t\t\tTransitionComponent={Transition}\n\t\t\t>\n                <DialogContent>\n                    Abonitos\n                </DialogContent>\n                <DialogActions>\n\n                </DialogActions>\n\n            </Dialog>\n            \n        </>\n    )\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport { Box, CircularProgress } from '@material-ui/core';\n\nconst columns = [\n\t{ id: 'clave', label: 'Clave', minWidth: 40, align: 'center' },\n\t{ id: 'codigo', label: 'C. Barras', minWidth: 40, align: 'center' },\n\t{ id: 'descripcion', label: 'Nombre/Descrip.', minWidth: 330 },\n\t{ id: 'existencia', label: 'Exist.', minWidth: 30, align: 'center'},\n\t{ id: 'unidad', label: 'Unidad', minWidth: 30, align: 'center'},\n\t{ id: 'precio', label: 'Precio', minWidth: 30, align: 'center'},\n];\n\nconst useStyles = makeStyles({\n\troot: {\n\t\twidth: '100%',\n\t\tmarginTop: 15\n\t},\n\tcontainer: {\n\t\theight: '40vh'\n\t}\n});\n\nexport default function ListaProductos({\n\tproductosBusqueda, \n\tsetProductoSeleccionado, \n\tloading\n}) {\n\n\tconst classes = useStyles();\n\n\tif (loading)\n    return (\n      <Box\n        display=\"flex\"\n        flexDirection=\"column\"\n        justifyContent=\"center\"\n        alignItems=\"center\"\n        height=\"50vh\"\n      >\n        <CircularProgress />\n      </Box>\n    );\n\n\treturn (\n\t\t<Paper className={classes.root}>\n\t\t\t<TableContainer className={classes.container}>\n\t\t\t\t<Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t{columns.map((column) => (\n\t\t\t\t\t\t\t\t<TableCell key={column.id} align={column.align} style={{ width: column.minWidth }}>\n\t\t\t\t\t\t\t\t\t{column.label}\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t</TableHead>\n\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t{productosBusqueda.map((producto) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<RowsProductos \n\t\t\t\t\t\t\t\t\tproducto={producto}\n\t\t\t\t\t\t\t\t\tsetProductoSeleccionado={setProductoSeleccionado}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t\t</TableBody>\n\t\t\t\t</Table>\n\t\t\t</TableContainer>\n\t\t</Paper>\n\t);\n};\n\nfunction RowsProductos({producto, setProductoSeleccionado}) {\n\n\treturn(\n\t\t<>\n\t\t\t<TableRow \n\t\t\t\thover \n\t\t\t\trole=\"checkbox\" \n\t\t\t\ttabIndex={-1} \n\t\t\t\tkey={producto._id}\n\t\t\t\tonClick={() => setProductoSeleccionado(producto)}\n\t\t\t>\n\t\t\t\t<TableCell align=\"center\" >\n\t\t\t\t\t{producto.id_producto.datos_generales.clave_alterna}\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t{producto.id_producto.datos_generales.codigo_barras}\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell >\n\t\t\t\t\t{producto.id_producto.datos_generales.nombre_comercial}\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t{producto.cantidad}\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t{producto.unidad}\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t{producto.precio}\n\t\t\t\t</TableCell>\n\t\t\t</TableRow>\n\t\t</>\t\n\t);\n\t\n}","import { gql } from \"@apollo/client\";\n\nexport const CONSULTA_PRODUCTOS = gql`\n  query ObtenerConsultaGeneralVentas($empresa: ID!, $sucursal: ID!) {\n    obtenerConsultaGeneralVentas(empresa: $empresa, sucursal: $sucursal) {\n      _id\n      precio\n      cantidad\n      concepto\n      unidad\n      unidad_principal\n      codigo_barras\n      descuento {\n        porciento\n        dinero_descontado\n        precio_con_descuento\n      }\n      descuento_activo\n      default\n      id_producto {\n        datos_generales {\n          nombre_comercial\n          codigo_barras\n          tipo_producto\n          clave_alterna\n        }\n      }\n      inventario_general {\n        cantidad_existente\n        unidad_inventario\n        cantidad_existente_maxima\n        unidad_maxima\n      }\n    }\n  }\n`;\n\nexport const CONSULTA_PRODUCTO_UNITARIO = gql`\n   query ObtenerUnProductoVentas(\n    $empresa: ID!\n    $sucursal: ID!\n    $datosProductos: ID!\n  ) {\n    obtenerUnProductoVentas(\n      empresa: $empresa\n      sucursal: $sucursal\n      datosProductos: $datosProductos\n    ) {\n      _id\n      precio\n      cantidad\n      concepto\n      unidad\n      unidad_principal\n      codigo_barras\n      codigo_unidad\n      precio_unidad{\n        numero_precio\n        precio_neto\n        precio_venta\n        iva_precio\n        ieps_precio\n        unidad_mayoreo\n        precio_general\n        cantidad_unidad\n        unidad_maxima\n      }\n      descuento {\n        cantidad_unidad\n        numero_precio\n        unidad_maxima\n        precio_general\n        precio_neto\n        precio_venta\n        iva_precio\n        ieps_precio\n        utilidad\n        dinero_descontado\n        porciento\n      }\n      medida{\n        talla\n        tipo\n        _id\n      }\n      color{\n        hex\n        nombre\n        _id\n      }\n      descuento_activo\n      default\n      id_producto {\n        imagenes{\n          url_imagen\n        }\n        _id\n        datos_generales {\n          nombre_comercial\n          codigo_barras\n          tipo_producto\n          clave_alterna\n          nombre_generico\n          descripcion\n          id_categoria\n          categoria\n          subcategoria\n          id_subcategoria\n          id_departamento\n          departamento\n          id_marca\n          marca\n          clave_producto_sat{\n            Name\n            Value\n          }\n          receta_farmacia\n        }\n        precios {\n          ieps\n          ieps_activo\n          inventario {\n            inventario_minimo\n            inventario_maximo\n            unidad_de_inventario\n            codigo_unidad\n          }\n          iva\n          iva_activo\n          monedero\n          monedero_electronico\n          precio_de_compra {\n            precio_con_impuesto\n            precio_sin_impuesto\n            iva\n            ieps\n          }\n          precios_producto {\n            numero_precio\n            precio_neto\n            iva_precio\n            ieps_precio\n            unidad_mayoreo\n            utilidad\n            precio_general\n            cantidad_unidad\n            unidad_maxima\n          }\n          unidad_de_compra {\n            cantidad\n            precio_unitario_con_impuesto\n            precio_unitario_sin_impuesto\n            unidad\n            codigo_unidad\n          }\n        }\n      }\n      inventario_general {\n        cantidad_existente\n        unidad_inventario\n        cantidad_existente_maxima\n        unidad_maxima\n        codigo_unidad\n      }\n      \n    }\n  }\n`;\n\nexport const CONSULTA_PRODUCTOS_VENTAS = gql`\n  query ObtenerProductosVentas($empresa: ID!$sucursal: ID! $input: ObtenerProductosVentasInput) {\n    obtenerProductosVentas(empresa: $empresa sucursal: $sucursal input: $input) {\n      _id\n      precio\n      cantidad\n      concepto\n      unidad\n      unidad_principal\n      codigo_barras\n      descuento {\n        porciento\n        dinero_descontado\n        precio_con_descuento\n      }\n      descuento_activo\n      default\n      id_producto {\n        imagenes{\n          url_imagen\n        }\n        _id\n        datos_generales {\n          nombre_comercial\n          codigo_barras\n          tipo_producto\n          clave_alterna\n        }\n        precios {\n          ieps\n          ieps_activo\n          inventario {\n            inventario_minimo\n            inventario_maximo\n            unidad_de_inventario\n          }\n          iva\n          iva_activo\n          monedero\n          monedero_electronico\n          precio_de_compra {\n            precio_con_impuesto\n            precio_sin_impuesto\n            iva\n            ieps\n          }\n          precios_producto {\n            numero_precio\n            precio_neto\n            unidad_mayoreo\n            utilidad\n          }\n          unidad_de_compra {\n            cantidad\n            precio_unitario_con_impuesto\n            precio_unitario_sin_impuesto\n            unidad\n          }\n        }\n      }\n      inventario_general {\n        cantidad_existente\n        unidad_inventario\n        cantidad_existente_maxima\n        unidad_maxima\n      }\n    }\n  }\n`;\n\nexport const OBTENER_CLIENTES_VENTAS = gql`\n  query ObtenerClientesVentas($empresa: ID!, $sucursal: ID!) {\n    obtenerClientesVentas(empresa: $empresa, sucursal: $sucursal) {\n      numero_cliente\n      clave_cliente\n      nombre_cliente\n      rfc\n      curp\n      telefono\n      celular\n      email\n      numero_descuento\n      limite_credito\n      dias_credito\n      razon_social\n      direccion {\n        calle\n        no_ext\n        no_int\n        codigo_postal\n        colonia\n        municipio\n        localidad\n        estado\n        pais\n      }\n      imagen\n      banco\n      numero_cuenta\n      monedero_electronico\n      credito_disponible\n    }\n  }\n`;\n","import React from 'react';\nimport useStyles from '../styles';\n\nimport {\n    TableContainer,\n    Table,\n    Box,\n    TableHead,\n    TableRow,\n    TableCell,\n    TableBody,\n    Grid,\n    Typography} from '@material-ui/core'\n\nexport default function InformacionProducto({productoSeleccionado}) {\n\n    const classes = useStyles();\n\n    if (!productoSeleccionado) return null;\n\n    return (\n        <Grid container>\n            <Grid item lg={12}>\n                <div className={classes.formInputFlex}>\n                    <Box width=\"100%\">\n                        <Typography>\n                            <b>Nombre:</b>\n                        </Typography>\n                        <Box display=\"flex\">\n                            <Typography>\n                                {productoSeleccionado?.id_producto?.datos_generales?.nombre_comercial}\n                            </Typography>\n                        </Box>\n                    </Box>\n                    <Box width=\"100%\">\n                        <Typography>\n                            <b>Codigo Barras:</b>\n                        </Typography>\n                        <Box display=\"flex\">\n                            <Typography>\n                                {productoSeleccionado?.codigo_barras}\n                            </Typography>\n                        </Box>\n                    </Box>\n                    <Box width=\"70%\">\n                        <Typography>\n                            <b>Cantidad:</b>\n                        </Typography>\n                        <Box display=\"flex\">\n                            <Typography>\n                                {productoSeleccionado?.cantidad}\n                            </Typography>\n                        </Box>\n                    </Box>\n                    <Box width=\"70%\">\n                        <Typography>\n                            <b>Unidad:</b>\n                        </Typography>\n                        <Box display=\"flex\">\n                            <Typography>\n                                {productoSeleccionado?.unidad}\n                            </Typography>\n                        </Box>\n                    </Box>\n                    <Box width=\"70%\">\n                        <Typography>\n                            <b>Descuento:</b>\n                        </Typography>\n                        <Box display=\"flex\">\n                            <Typography>\n                                {productoSeleccionado?.descuento ? productoSeleccionado?.descuento.precio_neto : 0}\n                            </Typography>\n                        </Box>\n                    </Box>\n                    <Box width=\"70%\">\n                        <Typography>\n                            <b>% Descuento:</b>\n                        </Typography>\n                        <Box display=\"flex\">\n                            <Typography>\n                                {productoSeleccionado?.descuento ? productoSeleccionado?.descuento.precio_neto : 0}\n                            </Typography>\n                        </Box>\n                    </Box>\n                </div>\n            </Grid>\n            <Grid item lg={12}>\n                <PreciosDeVentaCompras precios={productoSeleccionado?.id_producto?.precios?.precios_producto} />\n            </Grid>\n        </Grid>\n    )\n}\n\n\nfunction PreciosDeVentaCompras({precios}) {\n\n    return (\n      <div>\n        <TableContainer>\n          <Table aria-label=\"simple table\" size=\"small\">\n            <TableHead>\n              <TableRow>\n                <TableCell style={{ minWidth: 150 }}>Precios de venta</TableCell>\n                {[1, 2, 3, 4, 5, 6].map((numero, index) => (\n                  <TableCell style={{ minWidth: 100 }} key={index}>\n                    {numero}\n                  </TableCell>\n                ))}\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {[\"Precio de venta\"].map((tipo, index) => (\n                <TableRow key={index}>\n                  <TableCell style={{ border: 0 }}>\n                    <b>{tipo}</b>\n                  </TableCell>\n                  {precios?.map((data, index) => (\n                    <TableCell key={index} style={{ border: 0 }}>{data?.precio_neto}</TableCell>\n                  ))}\n                </TableRow>\n              ))}\n            </TableBody>\n          </Table>\n        </TableContainer>\n      </div>\n    );\n  }\n","import React, { useState } from 'react';\nimport { Box, Button, DialogActions, Dialog, \n        DialogContent, Divider, Grid, \n        Typography, Slide, InputBase, Paper, \n        IconButton} from '@material-ui/core'\nimport PhotoLibraryIcon from '@material-ui/icons/PhotoLibrary';\nimport useStyles from '../styles';\nimport { useDebounce } from 'use-debounce/lib';\nimport { FcSearch } from 'react-icons/fc';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { Search } from '@material-ui/icons';\nimport ListaProductos from './ListaProductos';\nimport { useQuery } from '@apollo/client';\nimport { CONSULTA_PRODUCTOS_VENTAS } from '../../../gql/Ventas/ventas_generales';\nimport InformacionProducto from './InformacionProducto';\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function BuscarProducto() {\n    const classes = useStyles();\n    const sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\n    const [open, setOpen] = useState(false);\n    const [ searchProducto, setSearchProducto ] = useState([]);\n    const [ productoSeleccionado, setProductoSeleccionado ] = useState([]);\n    \n\tconst [ value ] = useDebounce(searchProducto, 500);\n\n    const { data, refetch, loading } = useQuery(CONSULTA_PRODUCTOS_VENTAS, {\n\t\tvariables: {\n            empresa: sesion.empresa._id,\n\t\t\tsucursal: sesion.sucursal._id,\n            input: {\n                producto: value.producto ? value.producto : \"\"\n            }\n\t\t}\n\t});\n    \n    let productosBusqueda = [];\n\n    if(data) productosBusqueda = data.obtenerProductosVentas;\n\n    const obtenerDatos = (e) => {\n        setSearchProducto({...searchProducto, [e.target.name]: e.target.value})\n    };\n\n    const keyUpEvent = async (e) => {\n        if (e.code === \"Enter\" || e.code === \"NumpadEnter\") {\n            setSearchProducto({...searchProducto, [e.target.name]: e.target.value});\n            refetch();\n        }   \n    };\n\n    const handleClickOpen = () => { \n        setProductoSeleccionado([]);\n        refetch();\n\t\tsetOpen(!open);\n\t};\n\n    window.addEventListener('keydown', Mi_función); \n    function Mi_función(e){\n        if(e.altKey && e.keyCode === 80){ \n            handleClickOpen();\n        }\n    };\n\n    return (\n        <>\n           <Button \n                className={classes.borderBotonChico}\n                onClick={handleClickOpen}\n            >\n                <Box>\n                    <Box>\n                        <FcSearch style={{fontSize: 45}} />\n                    </Box>\n                    <Box>\n                        <Typography variant=\"body2\" >\n                            <b>Productos</b>\n                        </Typography>\n                    </Box>\n                    <Box>\n                        <Typography variant=\"caption\" style={{color: '#808080'}} >\n                            <b>Alt + P</b>\n                        </Typography>\n                    </Box>\n                </Box>\n            </Button>\n            <Dialog\n\t\t\t\tmaxWidth='md'\n                fullWidth\n\t\t\t\topen={open} \n\t\t\t\tonClose={handleClickOpen} \n\t\t\t\tTransitionComponent={Transition}\n\t\t\t>\n                <DialogContent>\n                    <Grid container>\n                        <Grid item lg={3}>\n                            <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" width=\"100%\">\n                                {productoSeleccionado?.id_producto?.imagenes.length > 0 ? (\n                                    <Box className={classes.containerImage}>\n                                        <img \n                                            alt=\"Imagen producto\" \n                                            src={productoSeleccionado?.id_producto?.imagenes[0].url_imagen} \n                                            className={classes.imagen}\n                                        />\n                                    </Box>\n                                ) : (\n                                    <Box p={8} display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n                                        <PhotoLibraryIcon style={{fontSize: 40}} />\n                                    </Box>\n                                )}\n                            </Box>\n                        </Grid>\n                        <Grid item lg={9}>\n                            <Box display=\"flex\">\n                                <Box\n                                    display=\"flex\"\n                                    flexGrow={1}\n                                >\n                                    <Box>\n                                        <Typography variant=\"h6\">\n                                            Buscar Productos\n                                        </Typography>\n                                    </Box>\n                                </Box>\n                                <Box>\n                                    <Button variant=\"contained\" color=\"secondary\" onClick={handleClickOpen} size=\"large\">\n                                        <CloseIcon />\n                                    </Button>\n                                </Box>\n                            </Box>\n                            <div className={classes.formInputFlex}>\n                                <Box width=\"50%\">\n                                    <Paper className={classes.rootBusqueda}>\n                                        <InputBase\n                                            fullWidth\n                                            name=\"producto\"\n                                            placeholder=\"Buscar producto...\"\n                                            onChange={obtenerDatos}\n                                            onKeyUp={keyUpEvent}\n                                        />\n                                        <IconButton >\n                                            <Search />\n                                        </IconButton>\n                                    </Paper>\n                                </Box>\n                            </div>\n                        </Grid>\n                    </Grid>\n                    <InformacionProducto productoSeleccionado={productoSeleccionado} />\n                    <Grid>\n                        <ListaProductos \n                            productosBusqueda={productosBusqueda}\n                            setProductoSeleccionado={setProductoSeleccionado}\n                            loading={loading}\n                        />\n                    </Grid>\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={handleClickOpen} variant=\"contained\" color=\"primary\" size=\"large\">\n                        AGREGAR\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        </>\n    )\n};\n","import React, { useState } from 'react';\nimport {  Box, Button, Dialog, DialogContent,  Grid, IconButton, InputBase, makeStyles, Paper, Slide, Typography } from '@material-ui/core'\nimport { Search } from '@material-ui/icons';\nimport ListaClientes from '../../sucursales/Catalogos/Cliente/ListaClientes';\nimport CrearCliente from '../../sucursales/Catalogos/Cliente/CrearCliente';\nimport { ClienteProvider } from '../../../context/Catalogos/crearClienteCtx';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { FcBusinessman } from 'react-icons/fc';\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nconst useStyles = makeStyles((theme) => ({\n\tappBar: {\n\t\tposition: 'relative',\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n\ticon: {\n\t\tfontSize: 100\n\t},\n\troot: {\n\t\tdisplay: 'flex',\n\t\tpaddingLeft: theme.spacing(2)\n\t}\n}));\n\nexport default function ClientesVentas() {\n\n    const classes = useStyles();\n\t\n\tconst [ filtro, setFiltro ] = useState('');\n\tconst [ values, setValues ] = useState('');\n\n\tconst pressEnter = (e) => {\n\t\tif (e.key === 'Enter') setValues(e.target.defaultValue);\n\t};\n\n    const [open, setOpen] = useState(false);\n    \n    const handleClickOpen = () => { \n\t\tsetOpen(!open);\n\t};\n\n    window.addEventListener('keydown', Mi_función); \n    function Mi_función(e){\n        if(e.altKey && e.keyCode === 67){ \n            handleClickOpen();\n        } \n    };\n\n    return (\n        <>\n            <ClienteProvider>\n            <Button \n                style={{height: '100%', width: '100%', border: '.6px solid #DBDBDB'}}\n                onClick={handleClickOpen}\n            >\n                <Box>\n                    <Box> \n                        <FcBusinessman style={{ fontSize: 45 }}/>\n                    </Box>\n                    <Box>\n                        <Typography variant=\"body2\" >\n                            <b>Clientes</b>\n                        </Typography>\n                    </Box>\n                    <Box>\n                        <Typography variant=\"caption\" style={{color: '#808080'}} >\n                            <b>aLT + C</b>\n                        </Typography>\n                    </Box>\n                </Box>\n            </Button>\n            <Dialog\n                maxWidth='lg'\n                open={open} \n                onClose={handleClickOpen} \n                TransitionComponent={Transition}\n\t\t\t>\n                <DialogContent>\n                    <Grid container item lg={12}>\n                        <Box ml={3} display='flex' flexGrow={1}  alignItems='center'>\n                            <Box>\n                                <FcBusinessman  style={{fontSize: 65}} />\n                            </Box>\n                            <Typography variant=\"h6\" className={classes.title}>\n                                Clientes\n                            </Typography>\n                        </Box>\n                        <Box mr={2}>\n                            <Button variant=\"contained\" color=\"secondary\" onClick={handleClickOpen} size=\"large\">\n                                <CloseIcon style={{fontSize: 30}} />\n                            </Button>\n                        </Box>\n                    </Grid>\n                    <Box m={2} display=\"flex\" justifyContent=\"space-between\">\n                        <Box mr={5} minWidth=\"70%\">\n                            <Paper className={classes.root}>\n                                <InputBase\n                                    fullWidth\n                                    placeholder=\"Buscar cliente...\"\n                                    onChange={(e) => setValues(e.target.value)}\n                                    onKeyPress={pressEnter}\n                                    value={values}\n                                />\n                                <IconButton onClick={() => setValues(values)}>\n                                    <Search />\n                                </IconButton>\n                            </Paper>\n                        </Box>\n                        <CrearCliente tipo=\"CLIENTE\" accion=\"registrar\" ventas={true} handleClickOpen={handleClickOpen} />\n                    </Box>\n                    <Box mx={2}>\n                        <ListaClientes tipo=\"CLIENTE\" filtro={values} ventas={true} handleClickOpen={handleClickOpen} />\n                    </Box>\n                </DialogContent>\n            </Dialog>\n            </ClienteProvider>\n        </>\n    )\n}\n","import React, { useState } from 'react';\n\nimport { Box, Button, DialogActions, Dialog, DialogContent, Divider, Grid, Typography, Slide } from '@material-ui/core'\n\nimport useStyles from '../styles';\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function AbrirCajon() {\n\n    const classes = useStyles();\n\n    const [open, setOpen] = useState(false);\n\n    const handleClickOpen = () => { \n\t\tsetOpen(!open);\n\t};\n\n    window.addEventListener('keydown', Mi_función); \n    function Mi_función(e){\n        if(e.keyCode === 119){ \n            handleClickOpen();\n        } \n    };\n\n    return (\n        <>\n            <Button \n                className={classes.borderBotonChico}\n                onClick={handleClickOpen}\n            >\n                <Box>\n                    <Box>\n                        <img \n                            src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/ventas/cajon.svg' \n                            alt=\"icono ventas\" \n                            style={{width: 38}}\n                        />\n                    </Box>\n                    <Box>\n                        <Typography variant=\"body2\" >\n                            <b>Cajon</b>\n                        </Typography>\n                    </Box>\n                    <Box>\n                        <Typography variant=\"caption\" style={{color: '#808080'}} >\n                            <b>F8</b>\n                        </Typography>\n                    </Box>\n                </Box>\n            </Button>\n            <Dialog\n\t\t\t\tmaxWidth='lg'\n\t\t\t\topen={open} \n\t\t\t\tonClose={handleClickOpen} \n\t\t\t\tTransitionComponent={Transition}\n\t\t\t>\n            <DialogContent>\n                <Grid container item lg={12}>\n                    <Box\n                        display=\"flex\" \n                        textAlign=\"center\" \n                        justifyContent=\"center\" \n                        alignContent=\"center\" \n                        alignSelf=\"center\"\n                        justifySelf=\"center\"\n                    >\n                        <Box>\n                            <img \n                                src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/ventas/cajon.svg' \n                                alt=\"icono caja\"\n                                style={{width: 40}}\n                        />\n                        </Box>\n                        <Box m={2} >\n                            <Divider orientation=\"vertical\" />\n                        </Box>\n                        <Box mt={3}>\n                            <Typography variant=\"h5\">\n                                Cajon Abierto\n                            </Typography>\n                        </Box>\n                    </Box>\n                    </Grid>\n            </DialogContent>\n            <DialogActions>\n                <Button \n                    onClick={handleClickOpen} \n                    variant=\"contained\" \n                    color=\"primary\"\n                >\n                    Aceptar\n                </Button>\n            </DialogActions>\n            </Dialog>\n        </>\n    )\n}\n","import React, { useState } from 'react';\n\nimport { Box, Button, Dialog, DialogActions, DialogContent, Divider, Grid, Slide, Typography } from '@material-ui/core'\n\nimport useStyles from '../styles';\nimport CloseIcon from '@material-ui/icons/Close';\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function CancelarVenta() {\n    const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n    const classes = useStyles();\n    const [open, setOpen] = useState(false);\n    \n    const handleClickOpen = () => {\n        if(sesion.accesos.ventas.cancelar_venta.ver === true){\n            setOpen(!open);\n        }\n\t};\n    \n    window.addEventListener('keydown', Mi_función); \n    function Mi_función(e){\n        if(e.keyCode === 118){ \n            handleClickOpen();\n        } \n    };\n\n    return (\n        <>\n            <Button \n                className={classes.borderBotonChico}\n                onClick={handleClickOpen}\n            >\n                <Box>\n                    <Box>\n                        <img \n                            src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/ventas/shopping-cart.svg' \n                            alt=\"icono cancelarventa\" \n                            style={{width: 35}}\n                        />\n                    </Box>\n                    <Box>\n                        <Typography variant=\"body2\" >\n                            <b>Cancelar Venta</b>\n                        </Typography>\n                    </Box>\n                    <Box>\n                        <Typography variant=\"caption\" style={{color: '#808080'}} >\n                            <b>F7</b>\n                        </Typography>\n                    </Box>\n                </Box>\n            </Button>\n            <Dialog\n\t\t\t\tmaxWidth='lg'\n\t\t\t\topen={open} \n\t\t\t\tonClose={handleClickOpen} \n\t\t\t\tTransitionComponent={Transition}\n\t\t\t>\n                <DialogContent>\n                    <Grid container item lg={12}>\n                        <Box\n                            display=\"flex\"\n                            alignItems=\"center\"\n                            justifyContent=\"center\"\n                        >\n                            <Box>\n                                <img src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/ventas/shopping-cart.svg' alt=\"icono caja\" className={classes.iconSizeDialogs} />\n                            </Box>\n                            <Box m={2} >\n                                <Divider orientation=\"vertical\" />\n                            </Box>\n                            <Box>\n                                <Typography variant=\"h5\">\n                                    Cancelar Venta\n                                </Typography>\n                            </Box>\n                        </Box>\n                    </Grid>\n                    <Box p={2}>\n                        <Typography variant='h5'>\n                            ¿Esta seguro que desea cancelar esta venta?\n                        </Typography>\n                    </Box> \n                </DialogContent>\n                <DialogActions>\n                    <Button \n                        onClick={()=>{\n                            localStorage.removeItem('DatosVentas');\n                            handleClickOpen();\n                        }} \n                        variant=\"contained\" \n                        color=\"primary\"\n                        size=\"large\"\n                        autoFocus\n                    >\n                        Aceptar\n                    </Button>\n                    <Button \n                        onClick={handleClickOpen} \n                        variant=\"contained\" \n                        color=\"secondary\"\n                        size=\"large\"\n                        autoFocus\n                    >\n                        Cancelar\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        </>\n    )\n}\n","export default __webpack_public_path__ + \"static/media/tarjeta-de-credito.2374ca73.svg\";","import React, { useState } from 'react'\nimport useStyles from '../styles';\n\nimport { \n    Box, \n    Button, \n    Dialog, \n    DialogActions, \n    DialogContent, \n    Divider, \n    Grid,  \n    IconButton,  \n    Paper,  \n    Slide,  \n    TextField, \n    Typography \n} from '@material-ui/core'\nimport tarjeta from '../../../icons/ventas/tarjeta-de-credito.svg';\nimport { FcDonate, FcShop } from 'react-icons/fc';\nimport { Search } from '@material-ui/icons';\nimport CloseIcon from '@material-ui/icons/Close';\n\nimport {\n    Edit\n  } from \"@material-ui/icons\";\n\nimport { FcBusinessman, FcSalesPerformance } from 'react-icons/fc';\n\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function CerrarVenta() {\n\n    const classes = useStyles();\n    const [cambio, setCambio] = useState(false);\n\n    const abrirCajon = () => {setCambio(!cambio)};\n    const [open, setOpen] = useState(false);\n\n    const [openModalDescuento, setOpenModalDescuento] = useState(false);\n\n    const [totalVenta, setTotalVenta] = useState(0);\n    const [valorActual, setValorActual] = useState('EFECTIVO')\n    const [totalARestar, setTotalARestar] = useState(0);\n    const [cambioVenta, setCambioVenta] = useState(0);\n    const [datosCliente, setDatosCliente] = useState({});\n    const [monedero, setMonedero] = useState();\n    \n    const handleClickOpen = () => { \n        let venta = JSON.parse(localStorage.getItem(\"DatosVentas\"));\n        const total = venta === null ? 0 : venta.total;\n        // console.log(venta);\n        setTotalVenta(total.toFixed(2))\n        setTotalARestar(total.toFixed(2));\n\t\tsetOpen(!open);\n        setDatosCliente(venta === null ? {} : venta.cliente);\n        setMonedero(venta === null ? 0 : venta.monedero);\n\t};\n\n    // console.log(totalVenta);\n    // console.log(totalARestar);\n\n    function funcion_tecla(event) {\n\t\tconst tecla_escape = event.keyCode;\n\t\tif(tecla_escape === 27){\n            handleClickOpen();\n\t\t}\n\t}\n\n    const changeValue = (e) => {\n        setValorActual(e)\n    }\n\n    const handlerChangeValue = (e,location) => {\n        if(valorActual === location){\n            setTotalARestar(e.target.value);\n            setCambioVenta(e.target.value - parseFloat(totalVenta));\n        }\n    }\n\n\twindow.onkeydown = funcion_tecla;\n\n    return (\n        <>\n            <Button \n                className={classes.borderBotonChico}\n                onClick={handleClickOpen}\n            >\n                <Box>\n                    <Box>\n                        <img \n                            src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/ventas/cart.svg' \n                            alt=\"icono ventas\" \n                            style={{width: 38}}\n                        />\n                    </Box>\n                    <Box>\n                        <Typography variant=\"body2\" >\n                            <b>Pagar</b>\n                        </Typography>\n                    </Box>\n                    <Box>\n                        <Typography variant=\"caption\" style={{color: '#808080'}} >\n                            <b>ESC</b>\n                        </Typography>\n                    </Box>\n                </Box>\n            </Button>\n            <Dialog\n\t\t\t\tmaxWidth='lg'\n\t\t\t\topen={open} \n\t\t\t\tonClose={handleClickOpen} \n\t\t\t\tTransitionComponent={Transition}\n\t\t\t>\n                <DialogContent>\n                    <Grid container item lg={12} justify=\"center\">\n                        <Box display=\"flex\" justifyContent=\"center\" flexGrow={1}>\n                            <Box> \n                                <img \n                                    src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/ventas/cart.svg' \n                                    alt=\"icono ventas\" className={classes.iconSizeDialogsPequeno} \n                                />\n                            </Box>\n                            <Box m={2} >\n                                <Divider orientation=\"vertical\" />\n                            </Box>\n                            <Box mt={1} textAlign=\"center\">\n                                <Typography variant=\"h4\">\n                                    Ticket\n                                </Typography>\n                            </Box>\n                        </Box>\n                        <Box>\n                            <Button variant=\"contained\" color=\"secondary\" onClick={handleClickOpen} size=\"large\">\n                                <CloseIcon />\n                            </Button>\n                        </Box>\n                    </Grid>\n                    <Grid>\n                        <div className={classes.formInputFlex}>\n                            <Box width=\"100%\" textAlign=\"center\">\n                                <Typography>\n                                    Total a pagar:\n                                </Typography>\n                                <Typography variant='h3' style={{color: 'green'}}>\n                                    ${totalVenta}\n                                </Typography>\n                                <Typography variant='caption'>\n                                    (CIENTO CICUENTA PESOS 00/100 MNX)\n                                </Typography>\n                            </Box>\n                        </div>\n                        <div className={classes.formInputFlex}>\n                            <Box width=\"25%\" textAlign=\"center\">\n                                <Box>\n                                    <img\n                                        src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/ventas/money.svg' \n                                        alt=\"icono ventas\" className={classes.iconSizeDialogsPequeno} \n                                        onClick={() => changeValue(\"EFECTIVO\")}\n                                        style={{cursor: 'pointer'}}\n                                    />\n                                </Box>\n                                <Typography variant='caption'>\n                                    Efectivo\n                                </Typography>\n                                <Box display=\"flex\">\n                                    <TextField\n                                        fullWidth\n                                        size=\"small\"\n                                        name=\"efectivo\"\n                                        id=\"form-producto-efectivo\"\n                                        variant=\"outlined\"\n                                        value={valorActual === \"EFECTIVO\" ?  totalARestar : '0.00'}\n                                        onChange={(e) => handlerChangeValue(e,\"EFECTIVO\")}\n                                    />\n                                </Box>\n                            </Box>\n                            <Box width=\"25%\" textAlign=\"center\">\n                                <Box>\n                                    <img\n                                        src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/ventas/tarjeta-de-credito.svg' \n                                        alt=\"icono ventas\" className={classes.iconSizeDialogsPequeno} \n                                        onClick={() => changeValue(\"TARJETA\")}\n                                        style={{cursor: 'pointer'}}\n                                    />\n                                </Box>\n                                <Typography variant='caption'>\n                                    Tarjeta\n                                </Typography>\n                                <Box display=\"flex\">\n                                    <TextField\n                                        fullWidth\n                                        size=\"small\"\n                                        name=\"codigo_barras\"\n                                        id=\"form-producto-codigo-barras\"\n                                        variant=\"outlined\"\n                                        value={valorActual === \"TARJETA\" ?  totalARestar : '0.00'}\n                                        onChange={(e) => handlerChangeValue(e,\"TARJETA\")}\n                                    />\n                                </Box>\n                            </Box>\n                            <Box width=\"25%\" textAlign=\"center\">\n                                <Box> \n                                    <FcShop \n                                        style={{fontSize: 50,cursor: 'pointer'}} \n                                        onClick={() => changeValue(\"PUNTOS\")}\n                                    />\n                                </Box>\n                                <Typography variant='caption'>\n                                    Puntos\n                                </Typography>\n                                <Box display=\"flex\">\n                                    <TextField\n                                        fullWidth\n                                        size=\"small\"\n                                        name=\"codigo_barras\"\n                                        id=\"form-producto-codigo-barras\"\n                                        variant=\"outlined\"\n                                        value={valorActual === \"PUNTOS\" ?  totalARestar : '0.00'}\n                                        onChange={(e) => handlerChangeValue(e,\"PUNTOS\")}\n                                    />\n                                </Box>\n                            </Box>\n                            <Box width=\"25%\" textAlign=\"center\">\n                                <Box \n                                    p={0}\n                                >\n                                    <img \n                                        src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/transferencia-bancaria.svg' \n                                        alt=\"icono ventas\" className={classes.iconSizeDialogsPequeno} \n                                        onClick={() => changeValue(\"TRANSFERENCIA\")}\n                                        style={{cursor: 'pointer'}}\n                                    />\n                                </Box>\n                                <Typography variant='caption'>\n                                    Transferencia\n                                </Typography>\n                                <Box display=\"flex\">\n                                    <TextField\n                                        fullWidth\n                                        size=\"small\"\n                                        name=\"codigo_barras\"\n                                        id=\"form-producto-codigo-barras\"\n                                        variant=\"outlined\"\n                                        value={valorActual === \"TRANSFERENCIA\" ?  totalARestar : '0.00'}\n                                        onChange={(e) => handlerChangeValue(e,\"TRANSFERENCIA\")}\n                                    />\n                                </Box>\n                            </Box>\n                            <Box width=\"25%\" textAlign=\"center\">\n                                <Box \n                                    p={0}\n                                >\n                                    <img \n                                        src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/cheque.png' \n                                        alt=\"icono ventas\" className={classes.iconSizeDialogsPequeno} \n                                        onClick={() => changeValue(\"CHEQUE\")}\n                                        style={{cursor: 'pointer'}}\n                                    />\n                                </Box>\n                                <Typography variant='caption'>\n                                    Cheque\n                                </Typography>\n                                <Box display=\"flex\">\n                                    <TextField\n                                        fullWidth\n                                        size=\"small\"\n                                        name=\"codigo_barras\"\n                                        id=\"form-producto-codigo-barras\"\n                                        variant=\"outlined\"\n                                        value={valorActual === \"CHEQUE\" ?  totalARestar : '0.00'}\n                                        onChange={(e) => handlerChangeValue(e,\"CHEQUE\")}\n                                    />\n                                </Box>\n                            </Box>\n                        </div>\n                        <div className={classes.formInputFlex}>\n                            <Box width=\"40%\">\n                                <Box\n                                    display=\"flex\"\n                                    alignItems=\"center\"\n                                >\n                                    <Box mt={.5} mr={.5} >\n                                        <FcBusinessman style={{fontSize: 19}} />\n                                    </Box>\n                                    <Box>\n                                        <Typography variant=\"caption\">\n                                            <b>Cliente:</b>\n                                        </Typography>\n                                    </Box>\n                                </Box>\n                                <Box display=\"flex\" alignItems=\"center\">\n                                    <Typography variant='subtitle1' >\n                                        <b style={{fontSize: 16}} >{datosCliente ? datosCliente.nombre_cliente : \"Sin cliente\" }</b>\n                                    </Typography> \n                                </Box>\n                            </Box>\n\n                            <Box width=\"60%\">\n                                <Box\n                                    display=\"flex\"\n                                    alignItems=\"center\"\n                                >\n                                    <Box mt={.5} mr={.5} >\n                                        <FcSalesPerformance style={{fontSize: 19}} />\n                                    </Box>\n                                    <Box \n                                        display=\"flex\"\n                                        alignItems=\"center\"\n                                    >\n                                        <Typography variant=\"caption\" align=\"center\" >\n                                            <b>Puntos Generados:</b>\n                                        </Typography>\n                                    </Box>\n                                </Box>\n                                <Box display=\"flex\" alignItems=\"center\">\n                                    <Typography variant='subtitle1'>\n                                        $ {monedero}\n                                    </Typography> \n                                </Box>\n                            </Box>\n\n                            <Box width=\"60%\">\n                                <Box\n                                    display=\"flex\"\n                                    alignItems=\"center\"\n                                >\n                                    <Box mt={.5} mr={.5} >\n                                        <FcSalesPerformance style={{fontSize: 19}} />\n                                    </Box>\n                                    <Box>\n                                        <Typography variant=\"caption\">\n                                            <b>Puntos Disponibles:</b>\n                                        </Typography>\n                                    </Box>\n                                </Box>\n                                <Box display=\"flex\" alignItems=\"center\">\n                                    <Typography variant='subtitle1'>\n                                        $ 800\n                                    </Typography> \n                                </Box>\n                            </Box>\n\n\n                            {/* <Box width=\"50%\">\n                                <Typography variant='caption'>\n                                    <b>Puntos Dsiponibles:</b>\n                                </Typography>\n                                <Box>\n                                    <Typography variant='subtitle1'>\n                                        $ 800\n                                    </Typography>\n                                </Box>\n                            </Box> */}\n                            \n                            <Box width=\"100%\" textAlign=\"right\">\n                                <Typography variant='caption'>\n                                    <b>Su cambio:</b>\n                                </Typography>\n                                <Typography variant='h4' style={{color: 'green'}}>\n                                    $ { cambioVenta }\n                                </Typography>\n                                <Typography variant='caption'>\n                                    (CIENTO CICUENTA PESOS 00/100 MNX)\n                                </Typography>\n                            </Box>\n                        </div>\n\n                        <Box display=\"flex\" >\n                            <Box width=\"20%\">\n                                <Button\n                                    color=\"primary\" \n                                    variant=\"outlined\"\n                                    startIcon={<img src={tarjeta} alt=\"icono ventas\" style={{width: 30}} />}\n                                >\n                                    Venta a Credito\n                                </Button>\n                            </Box>\n                            <Box width=\"50%\">\n                                <Button\n                                    color=\"primary\" \n                                    variant=\"outlined\"\n                                    startIcon={<img src={tarjeta} alt=\"icono ventas\" style={{width: 30}} />}\n                                >\n                                    Agregar Descuento\n                                </Button>\n                            </Box>\n                        </Box>\n                        \n                        <div className={classes.formInputFlex}>\n                            <Box width=\"20%\">\n                                <Typography variant='caption'>\n                                    <b>Dias de Crédito:</b>\n                                </Typography>\n                                <Box display=\"flex\" alignItems=\"center\">\n                                    <TextField \n                                        fullWidth\n                                        size=\"small\"\n                                        name=\"codigo_barras\"\n                                        id=\"form-producto-codigo-barras\"\n                                        variant=\"outlined\"\n                                    />\n                                </Box>\n                            </Box>\n                            <Box width=\"20%\">\n                                <Typography variant='caption'>\n                                    <b>Límite de Crédito:</b>\n                                </Typography>\n                                <Box display=\"flex\" alignItems=\"center\">\n                                    <TextField \n                                        fullWidth\n                                        size=\"small\"\n                                        name=\"codigo_barras\"\n                                        id=\"form-producto-codigo-barras\"\n                                        variant=\"outlined\"\n                                    />\n                                </Box>\n                            </Box>\n                            <Box width=\"20%\">\n                                <Typography variant='caption'>\n                                    <b>Crédito Disponible:</b>\n                                </Typography>\n                                <Box display=\"flex\" alignItems=\"center\">\n                                    <TextField \n                                        fullWidth\n                                        size=\"small\"\n                                        name=\"codigo_barras\"\n                                        id=\"form-producto-codigo-barras\"\n                                        variant=\"outlined\"\n                                    />\n                                </Box>\n                            </Box>\n\n                            <Box>\n                                <Box width=\"100%\" mt={2.5} >\n                                    <Button\n                                        color=\"primary\" \n                                        variant=\"outlined\"\n                                        size=\"large\"\n                                        startIcon={<Edit />}\n                                    >\n                                        Editar\n                                    </Button>\n                                </Box>\n                            </Box>\n                        </div>\n\n                        <div className={classes.formInputFlex}>\n                            <Box width=\"20%\">\n                                <Typography variant='caption'>\n                                    <b>Total a Crédito:</b>\n                                </Typography>\n                                <Box display=\"flex\" alignItems=\"center\">\n                                    <TextField \n                                        fullWidth\n                                        size=\"small\"\n                                        name=\"codigo_barras\"\n                                        id=\"form-producto-codigo-barras\"\n                                        variant=\"outlined\"\n                                    />\n                                </Box>\n                            </Box>\n\n                            <Box width=\"20%\" >\n                                <Typography variant='caption'>\n                                    <b>Dias de Crédito:</b>\n                                </Typography>\n                                <Box display=\"flex\" alignItems=\"center\">\n                                    <TextField \n                                        fullWidth\n                                        size=\"small\"\n                                        name=\"codigo_barras\"\n                                        id=\"form-producto-codigo-barras\"\n                                        variant=\"outlined\"\n                                    />\n                                </Box>\n                            </Box>\n\n                            <Box width=\"20%\">\n                                <Typography variant='caption'>\n                                    <b>Fecha de Vencimiento:</b>\n                                </Typography>\n                                <Box display=\"flex\" alignItems=\"center\">\n                                    <TextField \n                                        fullWidth\n                                        size=\"small\"\n                                        name=\"codigo_barras\"\n                                        id=\"form-producto-codigo-barras\"\n                                        variant=\"outlined\"\n                                        type=\"date\"\n                                    />\n                                </Box>\n                            </Box>\n                        </div>\n\n                    </Grid>\n                </DialogContent>\n                <DialogActions>\n                    <Button \n                        size=\"large\"\n                        onClick={() => {\n                            abrirCajon()\n                        }}\n                        variant=\"contained\" \n                        color=\"primary\" \n                        autoFocus\n                    >\n                        Terminar\n                    </Button>\n                </DialogActions>\n            </Dialog>\n\n            <Dialog\n\t\t\t\topen={openModalDescuento} \n\t\t\t\tonClose={abrirCajon} \n\t\t\t\tTransitionComponent={Transition}\n\t\t\t> \n                <DialogContent>\n                    <Box textAlign=\"center\" >\n                        <Box>\n                            <FcDonate style={{fontSize: 80}} />\n                        </Box>\n                        <Box textAlign=\"center\">\n                            <Typography variant=\"h5\">\n                                Su cambio\n                            </Typography>\n                        </Box>\n                    </Box>\n                    <Grid item lg={12}>\n                        <Paper elevation={3}>\n                            <Box p={3} width=\"100%\" textAlign=\"center\">\n                                <Typography variant='h3' style={{color: 'red'}}>\n                                    $150.000\n                                </Typography>\n                                <Typography variant='caption'>\n                                    (CIENTO CICUENTA PESOS 00/100 MNX)\n                                </Typography>\n                            </Box>\n                        </Paper>\n                    </Grid>\n                </DialogContent>\n\n                <DialogActions>\n                    <Button \n                        onClick={handleClickOpen}\n                        variant=\"contained\" \n                        size=\"large\"\n                        color=\"primary\" \n                        autoFocus\n                    >\n                        Aceptar\n                    </Button>\n                </DialogActions>\n\t\t\t</Dialog>\n\n            <Dialog\n\t\t\t\topen={cambio} \n\t\t\t\tonClose={abrirCajon} \n\t\t\t\tTransitionComponent={Transition}\n\t\t\t> \n                <DialogContent>\n                    <Box textAlign=\"center\" >\n                        <Box>\n                            <FcDonate style={{fontSize: 80}} />\n                        </Box>\n                        <Box textAlign=\"center\">\n                            <Typography variant=\"h5\">\n                                Su cambio\n                            </Typography>\n                        </Box>\n                    </Box>\n                    <Grid item lg={12}>\n                        <Paper elevation={3}>\n                            <Box p={3} width=\"100%\" textAlign=\"center\">\n                                <Typography variant='h3' style={{color: 'red'}}>\n                                    $150.000\n                                </Typography>\n                                <Typography variant='caption'>\n                                    (CIENTO CICUENTA PESOS 00/100 MNX)\n                                </Typography>\n                            </Box>\n                        </Paper>\n                    </Grid>\n                </DialogContent>\n\n                <DialogActions>\n                    <Button \n                        onClick={handleClickOpen}\n                        variant=\"contained\" \n                        size=\"large\"\n                        color=\"primary\" \n                        autoFocus\n                    >\n                        Aceptar\n                    </Button>\n                </DialogActions>\n\t\t\t</Dialog>\n        </>\n    )\n}\n","import React, { useState } from 'react';\nimport { Box, Button,  CircularProgress,  Dialog,  \n        DialogActions, DialogContent, Divider, Grid,  \n        IconButton,  InputBase,  Paper,  Slide,  \n        Typography \n    } from '@material-ui/core';\nimport ItemsCarousel from 'react-items-carousel';\nimport PhotoLibraryIcon from '@material-ui/icons/PhotoLibrary';\nimport CloseIcon from '@material-ui/icons/Close';\nimport useStyles from '../styles';\nimport ArrowBackIosIcon from '@material-ui/icons/ArrowBackIos';\nimport ArrowForwardIosIcon from '@material-ui/icons/ArrowForwardIos';\nimport { Search } from '@material-ui/icons';\nimport { useLazyQuery } from '@apollo/client';\nimport { CONSULTA_PRODUCTO_UNITARIO } from '../../../gql/Ventas/ventas_generales';\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function ConsultarPrecio() {\n    const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n    const [activeItemIndex, setActiveItemIndex] = useState(0);\n\n    const [obtenerProductos, { data, loading }] = useLazyQuery(\n        CONSULTA_PRODUCTO_UNITARIO,\n        {\n          variables: { sucursal: sesion.sucursal._id, empresa: sesion.empresa._id },\n          fetchPolicy: \"network-only\",\n        }\n    );\n\n    let productoBase = null;\n    if (data) productoBase = data.obtenerUnProductoVentas;\n\n    const [open, setOpen] = useState(false);\n    \n    const classes = useStyles();\n\n    const handleClickOpen = () => { \n\t\tsetOpen(!open);\n        productoBase = [];\n\t};\n\n    const keyUpEvent = async (event) => {\n        if (event.code === \"Enter\" || event.code === \"NumpadEnter\") {\n            const input_value = event.target.value;\n            obtenerProductos({\n                variables: {\n                    datosProductos: input_value,\n                    sucursal: sesion.sucursal._id,\n                    empresa: sesion.empresa._id\n                },\n                fetchPolicy: \"network-only\"\n            });\n        }\n    };\n\n    window.addEventListener('keydown', Mi_función); \n    function Mi_función(e){\n        if(e.keyCode === 120){ \n            handleClickOpen();\n        } \n    };\n    const chevronWidth = 40;\n\n    return (\n        <>\n            <Button \n                className={classes.borderBotonChico}\n                onClick={handleClickOpen}\n            >\n                <Box>\n                    <Box>\n                        <img \n                            src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/ventas/precios.svg' \n                            alt=\"icono ventas\" \n                            style={{width: 36}}\n                        />\n                    </Box>\n                    <Box>\n                        <Typography variant=\"body2\" >\n                            <b>Consultar Precio</b>\n                        </Typography>\n                    </Box>\n                    <Box>\n                        <Typography variant=\"caption\" style={{color: '#808080'}} >\n                            <b>F9</b>\n                        </Typography>\n                    </Box>\n                </Box>\n            </Button>\n            <Dialog\n                maxWidth='md'\n                fullWidth\n                open={open} \n\t\t\t\tonClose={handleClickOpen} \n\t\t\t\tTransitionComponent={Transition}\n            >\n                <DialogContent\n                    open={open} \n                    onClose={handleClickOpen} \n                    TransitionComponent={Transition}\n                >\n                    <Grid container item lg={12}>\n                        <Box\n                            display=\"flex\" \n                            textAlign=\"center\"\n                            flexGrow={1}\n                        >\n                            <Box>\n                                <img src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/productos.svg' alt=\"icono productos\" className={classes.iconSizeDialogs} />\n                            </Box>\n                            <Box m={2} >\n                                <Divider orientation=\"vertical\" />\n                            </Box>\n                            <Box mt={3}>\n                                <Typography variant=\"h6\">\n                                    Precio Producto\n                                </Typography>\n                            </Box>\n                        </Box>\n                        <Box displa=\"flex\" justifyContent=\"center\">\n                            <Button variant=\"contained\" color=\"secondary\" onClick={handleClickOpen} size=\"large\">\n                                <CloseIcon />\n                            </Button>\n                        </Box>\n                    </Grid>\n                    <div className={classes.formInputFlex}>\n                        <Box width=\"50%\">\n                            <Paper className={classes.rootBusquedaProductos}>\n                                <InputBase\n                                    fullWidth\n                                    onKeyUp={keyUpEvent}\n                                    placeholder=\"Buscar producto...\"\n                                />\n                                <IconButton>\n                                    <Search />\n                                </IconButton>\n                            </Paper>\n                        </Box>\n                    </div>\n                    {loading ? (\n                        <Box\n                            display=\"flex\"\n                            flexDirection=\"column\"\n                            justifyContent=\"center\"\n                            alignItems=\"center\"\n                            height=\"40vh\"\n                        >\n                            <CircularProgress />\n                        </Box>\n                    ) : (<>\n                        <Grid container>\n                            <Grid item lg={6} md={6}>\n                                    {productoBase?.id_producto?.imagenes.length > 0 ? (\n                                        <Box p={7}>\n                                        <ItemsCarousel\n                                            requestToChangeActive={setActiveItemIndex}\n                                            activeItemIndex={activeItemIndex}\n                                            numberOfCards={1}\n                                            leftChevron={\n                                                <IconButton aria-label=\"delete\" disabled color=\"primary\">\n                                                    <ArrowBackIosIcon />\n                                                </IconButton>\n                                            }\n                                            rightChevron={\n                                                <IconButton aria-label=\"delete\" disabled color=\"primary\">\n                                                    <ArrowForwardIosIcon />\n                                                </IconButton>\n                                            }\n                                            infiniteLoop={true}\n                                            outsideChevron\n                                            chevronWidth={chevronWidth}\n                                        >\n                                            {productoBase?.id_producto?.imagenes.map((image)=>{\n                                                return(\n                                                    <Box \n                                                        className={classes.containerImagenesProducto}\n                                                        display=\"flex\"\n                                                        justifyContent=\"center\"\n                                                        alignItems=\"center\"\n                                                    >\n                                                        <img \n                                                            alt=\"Imagen producto\" \n                                                            src={image.url_imagen} \n                                                            className={classes.imagenProducto}\n                                                        />\n                                                    </Box>\n                                                )\n                                            })}\n                                        </ItemsCarousel>\n                                        </Box>\n                                    ) : (\n                                        <Box p={1} mt={15} display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n                                            <PhotoLibraryIcon style={{fontSize: 40}} />\n                                        </Box>\n                                    )}\n                            </Grid>\n\n                            <Grid item lg={6} md={6}>\n                                <Paper elevation={3} className={classes.rootPrecioProductos}>\n                                    <div className={classes.formInputFlex}>\n                                        <Box width=\"100%\" textAlign=\"center\">\n                                            <Typography >\n                                                <b>{productoBase?.codigo_barras}</b>\n                                            </Typography>\n                                        </Box>\n                                    </div>\n                                    <div className={classes.formInputFlex}>\n                                        <Box width=\"100%\" textAlign=\"center\">\n                                            <Typography variant=\"h6\">\n                                                <b>{productoBase?.id_producto?.datos_generales.nombre_comercial}</b>\n                                            </Typography>\n                                        </Box>\n                                    </div>\n                                    <div className={classes.formInputFlex}>\n                                        <Box width=\"100%\" textAlign=\"center\">\n                                            <Typography>\n                                                {productoBase?.descuento_activo === true ? (<b>Precio Promoción</b>) : null}\n                                            </Typography>\n                                            <Typography variant=\"h3\">\n                                                {productoBase?.descuento_activo === true ? \n                                                    (<b style={{color: \"red\"}}>${productoBase?.descuento?.precio_con_descuento.toFixed(2)}</b>) :\n                                                    (<b style={{color: \"green\"}}>${productoBase?.precio}</b>)}\n                                            </Typography>\n                                        </Box>\n                                    </div>\n                                    {productoBase?.descuento_activo === true ? (\n                                        <div className={classes.formInputFlex}>\n                                            <Box width=\"100%\" textAlign=\"center\">\n                                                <Typography>\n                                                    <b>Precio S/D</b>\n                                                </Typography>\n                                                <Typography variant=\"h5\" style={{color: \"green\"}}>\n                                                    <b> ${productoBase?.precio} </b>\n                                                </Typography>\n                                            </Box>\n                                        </div>\n                                    ) : null}\n                                    <div className={classes.formInputFlex}>\n                                        <Box width=\"100%\" textAlign=\"center\">\n                                            <Typography >\n                                                Unidad\n                                            </Typography>\n                                            <Typography >\n                                                <b>{productoBase?.unidad}</b>\n                                            </Typography>\n                                        </Box>\n                                        <Box width=\"100%\" textAlign=\"center\">\n                                            <Typography >\n                                                Existencia\n                                            </Typography>\n                                            <Typography >\n                                                <b> {productoBase?.inventario_general ? \n                                                        productoBase?.inventario_general[0]?.cantidad_existente :\n                                                        0\n                                                    } \n                                                </b>\n                                            </Typography>\n                                        </Box>\n                                    </div>\n                                </Paper>\n                            </Grid>     \n                        </Grid>\n                    </>) } \n                </DialogContent>\n                <DialogActions>\n                    <Button \n                        onClick={handleClickOpen} \n                        variant=\"contained\" \n                        color=\"primary\" \n                        size=\"large\"\n                    >\n                        Aceptar\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        \n        </>\n    )\n}\n","import React, { useState, useContext, Fragment, useEffect } from \"react\";\nimport {\n  Box,\n  Button,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  Divider,\n  Grid,\n  Paper,\n  Slide,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n  Typography,\n  Checkbox,\n} from \"@material-ui/core\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport useStyles from \"../styles\";\nimport { VentasContext } from \"../../../context/Ventas/ventasContext\";\nimport SnackBarMessages from \"../../../components/SnackBarMessages\";\nimport { calculatePrices, findProductArray, calculatePrices2 } from \"../../../config/reuserFunctions\";\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function PreciosProductos() {\n  const classes = useStyles();\n  const [open, setOpen] = useState(false);\n  // const [selected, setSelected] = useState([]);\n\n  const [preciosProductos, setPreciosProductos] = useState({})\n\n  const {\n    productoCambioPrecio,\n    precioSelectProductoVenta,\n    setPrecioSelectProductoVenta,\n    setUpdateTablaVentas,\n    updateTablaVentas\n  } = useContext(VentasContext);\n  // console.log(productoCambioPrecio.id_producto.precios.precios_producto[0]);\n  const [selectPrisingProduct, setSelectPrisingProduct] = useState(\n    precioSelectProductoVenta.length > 0 ? precioSelectProductoVenta[0] : {}\n  );\n\n  const [alert, setAlert] = useState({ message: \"\", status: \"\", open: false });\n\n  // console.log(productoCambioPrecio);\n\n  const handleClickOpen = () => {\n    setOpen(!open);\n  };\n\n  useEffect(() => {\n    setPreciosProductos(productoCambioPrecio);\n  }, [productoCambioPrecio ])\n\n  const handleAceptChangePrising = async () => {\n\n    let venta = JSON.parse(localStorage.getItem(\"DatosVentas\"));\n    let productosVentas = venta === null ? [] : venta.productos;\n    let venta_actual = venta === null ? [] : venta;\n    let venta_existente =\n      venta === null\n        ? { subTotal: 0, total: 0, impuestos: 0, iva: 0, ieps: 0, descuento: 0, monedero: 0 }\n        : venta;\n    let productosVentasTemp = productosVentas;\n\n    if (\n      selectPrisingProduct.precio_neto > 0 ||\n      precioSelectProductoVenta.length > 0\n    ) {\n\n      const newProductoPrecioNuevo = { ...productoCambioPrecio };\n      const newProductoPrecioActual = { ...productoCambioPrecio };\n\n      const producto_encontrado = await findProductArray(\n        productoCambioPrecio\n      );\n\n      if (producto_encontrado.found) {\n        const new_resta = await calculatePrices2({\n            newP: newProductoPrecioNuevo, \n            cantidad: newProductoPrecioNuevo.cantidad_venta, \n            precio_boolean: true, \n            precio: newProductoPrecioNuevo.precio_actual_object, \n            granel: newProductoPrecioNuevo.granel_producto, \n            origen: \"\" \n          });\n        const new_suma = await calculatePrices2({\n          newP: newProductoPrecioActual, \n          cantidad: newProductoPrecioActual.cantidad_venta, \n          precio_boolean: true, \n          precio: precioSelectProductoVenta[0], \n          granel: newProductoPrecioActual.granel_producto, \n          origen: \"Tabla\" \n        });\n\n        newProductoPrecioActual.precio_a_vender = precioSelectProductoVenta[0].precio_neto;\n        newProductoPrecioActual.precio_seleccionado = true;\n        newProductoPrecioActual.precio_actual_producto = parseFloat((precioSelectProductoVenta[0].precio_neto).toFixed(2));\n        newProductoPrecioActual.precio_actual_object = precioSelectProductoVenta[0];\n        \n        productosVentasTemp.splice(\n          producto_encontrado.producto_found.index,\n          1,\n          newProductoPrecioActual\n        );\n\n      const CalculosData = {\n        subTotal:\n          parseFloat(venta_existente.subTotal) -\n          parseFloat(new_resta.subtotalCalculo) +\n          new_suma.subtotalCalculo,\n        total:\n          parseFloat(venta_existente.total) -\n          parseFloat(new_resta.totalCalculo) +\n          new_suma.totalCalculo,\n        impuestos:\n          parseFloat(venta_existente.impuestos) -\n          parseFloat(new_resta.impuestoCalculo) +\n          new_suma.impuestoCalculo,\n        iva:\n          parseFloat(venta_existente.iva) -\n          parseFloat(new_resta.ivaCalculo) +\n          new_suma.ivaCalculo,\n        ieps:\n          parseFloat(venta_existente.ieps) -\n          parseFloat(new_resta.iepsCalculo) +\n          new_suma.iepsCalculo,\n        descuento:\n          parseFloat(venta_existente.descuento) -\n          parseFloat(new_resta.descuentoCalculo) +\n          new_suma.descuentoCalculo,\n        monedero: parseFloat(venta_existente.monedero) - parseFloat(new_resta.monederoCalculo) +\n          new_suma.monederoCalculo,\n      };\n\n      //Guardarlo en el localStorage\n      localStorage.setItem(\n        \"DatosVentas\",\n        JSON.stringify({\n          ...CalculosData,\n          cliente:\n            venta_actual.venta_cliente === true ? venta_actual.cliente : {},\n          venta_cliente:\n            venta_actual.venta_cliente === true\n              ? venta_actual.venta_cliente\n              : false,\n          productos: productosVentasTemp,\n        })\n      );\n      // newProductoPrecio = {...newProductoPrecio};\n      setUpdateTablaVentas(!updateTablaVentas);\n      setPrecioSelectProductoVenta([]);\n      setPreciosProductos({});\n      //Cerrar modal\n      handleClickOpen();\n      }else{\n        console.log(\"Producto no encontrado\")\n      }\n    } else {\n      setAlert({\n        message: \"Este precio no es valido.\",\n        status: \"error\",\n        open: true,\n      });\n    }\n  };\n\n  const handleClick = (precio) => {\n    let newSelected = [];\n    newSelected = newSelected.concat([], precio);\n    setSelectPrisingProduct(precio);\n    setPrecioSelectProductoVenta(newSelected);\n  };\n\n  const isSelected = (name) => precioSelectProductoVenta.indexOf(name) !== -1;\n\n  window.addEventListener(\"keydown\", Mi_función);\n\n  function Mi_función(e) {\n    if (e.keyCode === 114) {\n      handleClickOpen();\n    }\n  }\n\n  return (\n    <>\n      <SnackBarMessages alert={alert} setAlert={setAlert} />\n      <Button className={classes.borderBotonChico} onClick={handleClickOpen}>\n        <Box>\n          <Box>\n            <img\n              src=\"https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/ventas/money.svg\"\n              alt=\"icono money\"\n              style={{ fontSize: 25 }}\n            />\n          </Box>\n          <Box>\n            <Typography variant=\"body2\">\n              <b>Precios</b>\n            </Typography>\n          </Box>\n          <Box>\n            <Typography variant=\"caption\" style={{ color: \"#808080\" }}>\n              <b>F3</b>\n            </Typography>\n          </Box>\n        </Box>\n      </Button>\n\n      <Dialog\n        maxWidth=\"lg\"\n        open={open}\n        onClose={handleClickOpen}\n        TransitionComponent={Transition}\n      >\n        <DialogContent>\n          <Grid container item lg={12}>\n            <Box display=\"flex\" justifyContent=\"center\">\n              <Box mt={3}>\n                <img\n                  src=\"https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/money.svg\"\n                  alt=\"icono caja\"\n                  className={classes.iconSizeDialogs}\n                />\n              </Box>\n              <Box m={2}>\n                <Divider orientation=\"vertical\" />\n              </Box>\n              <Box>\n                <Box textAlign=\"right\" mb={1}>\n                  <Button\n                    variant=\"contained\"\n                    color=\"secondary\"\n                    onClick={handleClickOpen}\n                    size=\"medium\"\n                  >\n                    <CloseIcon />\n                  </Button>\n                </Box>\n                <Box mt={2}>\n                  <Typography variant=\"h6\">Precios de Producto</Typography>\n                </Box>\n              </Box>\n            </Box>\n          </Grid>\n          <Grid>\n            <div className={classes.formInputFlex}>\n              <Box width=\"100%\">\n                <Typography>\n                  Nombre:{\" \"}\n                  {productoCambioPrecio\n                    ? productoCambioPrecio?.id_producto?.datos_generales\n                        ?.nombre_comercial\n                    : \"\"}\n                </Typography>\n              </Box>\n            </div>\n            <Paper className={classes.root}>\n              <TableContainer className={classes.container}>\n                <Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n                  <TableHead>\n                    <TableRow>\n                      <TableCell style={{ width: 25 }}></TableCell>\n                      <TableCell style={{ width: 20 }}>Precio</TableCell>\n                      <TableCell style={{ width: 20 }}>Precio neto</TableCell>\n                      <TableCell style={{ width: 200 }}>\n                        Unidad mayoreo\n                      </TableCell>\n                      <TableCell style={{ width: 100 }}>Utilidad</TableCell>\n                    </TableRow>\n                  </TableHead>\n                  <TableBody>\n                    {preciosProductos?.id_producto?.precios?.precios_producto?.map(\n                      (precio, index) => {\n                        const isItemSelected = isSelected(precio);\n                        const labelId = `enhanced-table-checkbox-${index}`;\n                        return (\n                          <RenderTableRows\n                            key={index}\n                            precio={precio}\n                            isItemSelected={isItemSelected}\n                            labelId={labelId}\n                            handleClick={handleClick}\n                          />\n                        );\n                      }\n                    )}\n                  </TableBody>\n                </Table>\n              </TableContainer>\n            </Paper>\n          </Grid>\n        </DialogContent>\n        <DialogActions>\n          <Button\n            onClick={() => handleAceptChangePrising()}\n            variant=\"contained\"\n            color=\"primary\"\n            size=\"large\"\n          >\n            Aceptar\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </>\n  );\n}\n\nconst RenderTableRows = ({ precio, isItemSelected, labelId, handleClick }) => {\n  const doubleClick = (e) => {\n    try {\n      if (e.detail === 2) {\n        handleClick(precio);\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  return (\n    <Fragment>\n      <TableRow\n        role=\"checkbox\"\n        aria-checked={isItemSelected}\n        tabIndex={-1}\n        key={precio.numero_precio}\n        selected={isItemSelected}\n        hover\n        onClick={(e) => doubleClick(e)}\n      >\n        <TableCell padding=\"checkbox\">\n          <Checkbox\n            onClick={(event) => {\n              handleClick(precio);\n            }}\n            checked={isItemSelected}\n            inputProps={{ \"aria-labelledby\": labelId }}\n          />\n        </TableCell>\n        <TableCell align={\"center\"}>{precio.numero_precio}</TableCell>\n        <TableCell align={\"center\"}>{precio.precio_neto > 0 ? precio.precio_neto.toFixed(2) : 0}</TableCell>\n        <TableCell align={\"center\"}>{precio.unidad_mayoreo}</TableCell>\n        <TableCell align={\"center\"}>{precio.utilidad} %</TableCell>\n      </TableRow>\n    </Fragment>\n  );\n};\n","import React, { useContext, useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport { Box, Button, Dialog, DialogActions, DialogContent, IconButton, Typography } from '@material-ui/core';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport AutorenewIcon from '@material-ui/icons/Autorenew';\nimport { VentasContext } from '../../../context/Ventas/ventasContext';\n\nconst columns = [\n\t{ id: 'folio', label: 'Folio', minWidth: 20, align: 'center' },\n\t{ id: 'fecha', label: 'Fecha', minWidth: 20, align: 'center' },\n\t{ id: 'cliente', label: 'Cliente', minWidth: 330, align: 'center' },\n\t{ id: 'productos', label: 'Productos', minWidth: 20, align: 'center' },\n\t{ id: 'total', label: 'Total', minWidth: 200, align: 'center'},\n];\n\nconst useStyles = makeStyles({\n\troot: {\n\t\twidth: \"100%\"\n\t},\n\tcontainer: {\n\t\theight: \"45vh\",\n    \t'& ::-webkit-scrollbar': {\n      \t\tdisplay: 'none'\n    \t}\n\t}\n});\n\nexport default function ListaVentas() {\n\n\tconst classes = useStyles();\n\n\tlet listaEnEspera = JSON.parse(localStorage.getItem(\"ListaEnEspera\"));\n\n\treturn (\n\t\t<Paper className={classes.root}>\n\t\t\t<TableContainer className={classes.container}>\n\t\t\t\t<Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t{columns.map((column) => (\n\t\t\t\t\t\t\t\t<TableCell key={column.id} align={column.align} style={{ width: column.minWidth }}>\n\t\t\t\t\t\t\t\t\t{column.label}\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t<TableCell align='center' style={{ width: 35 }}>\n\t\t\t\t\t\t\t\tRegresar\n\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<TableCell align='center' style={{ width: 35 }}>\n\t\t\t\t\t\t\t\tEliminar\n\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t</TableHead>\n\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t{listaEnEspera?.map((row, index) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<RowsVentas venta={row} index={index} /> \n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t\t</TableBody>\n\t\t\t\t</Table>\n\t\t\t</TableContainer>\n\t\t</Paper>\n\t);\n};\n\n\nconst RowsVentas = ({ venta, index }) => {\n\n    const { updateTablaVentas, setUpdateTablaVentas } = useContext(VentasContext);\n\tconst [open, setOpen] = useState(false);\n    const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n\n\tlet listaEnEspera = JSON.parse(localStorage.getItem(\"ListaEnEspera\"));\n\tlet VentaEnEspera = JSON.parse(localStorage.getItem(\"DatosVentas\"));\n\n\tfunction borrarVenta(key) {\n\t\tif(sesion.accesos.ventas.eliminar_ventas.ver === true){\n\t\t\tlistaEnEspera.forEach(function(elemento, indice, array) {\n\t\t\t\tif(key === indice){\n\t\t\t\t\tlistaEnEspera.splice(key, 1);\n\t\t\t\t}\n\t\t\t});\n\t\t\tsetUpdateTablaVentas(!updateTablaVentas);\n\t\t\tlocalStorage.setItem(\"ListaEnEspera\", JSON.stringify(listaEnEspera));\n\t\t}else{\n\t\t\treturn null\n\t\t}\n        \n    };\n\n\tconst AgregarVentaDeNuevo = (key) => {\n\t\tif(VentaEnEspera === null){\n\t\t\tlistaEnEspera.forEach((element, index) => {\n\t\t\t\tif (index === key) {\n\t\t\t\t\tlocalStorage.setItem(\"DatosVentas\", JSON.stringify(element.VentaEnEspera));\n\t\t\t\t\tlistaEnEspera.splice(key, 1);\n\t\t\t\t}\n\t\t\tlocalStorage.setItem(\"ListaEnEspera\", JSON.stringify(listaEnEspera));\n\t\t\t});\n\t\t\tsetUpdateTablaVentas(!updateTablaVentas);\n\t\t}else{\n\t\t\tsetOpen(!open);\n\t\t}\n\t};\n\n\tconst handleClickOpen = () => {\n\t\tsetOpen(!open);\n\t};\n\n\treturn(\n\t\t<>\n\t\t\t<TableRow \n\t\t\t\thover \n\t\t\t\ttabIndex={-1} \n\t\t\t\tkey={index} \n\t\t\t>\n\t\t\t\t<TableCell align='center'>\n\t\t\t\t\t{index + 1}\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell align='center'>\n\t\t\t\t\t{venta.fecha ? venta.fecha : \"\"}\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell align='center'>\n\t\t\t\t\t{venta.VentaEnEspera.cliente ? venta.VentaEnEspera.cliente.nombre_cliente : \"Pub. General\"}\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell align='center'>\n\t\t\t\t\t{venta.VentaEnEspera.productos.length}\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell align='center'>\n\t\t\t\t\t$ {(venta.VentaEnEspera.total).toFixed(4)}\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell align='center' >\n\t\t\t\t\t<IconButton \n\t\t\t\t\t\taria-label=\"regresar\" \n\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\tsize='small'\n\t\t\t\t\t\tonClick={() => AgregarVentaDeNuevo(index)}\n\t\t\t\t\t>\n\t\t\t\t\t\t<AutorenewIcon fontSize=\"medium\" />\n\t\t\t\t\t</IconButton>\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell align='center' >\n\t\t\t\t\t<IconButton \n\t\t\t\t\t\taria-label=\"delete\" \n\t\t\t\t\t\tsize='small'\n\t\t\t\t\t\tonClick={() => borrarVenta(index)}\n\t\t\t\t\t>\n\t\t\t\t\t\t<DeleteIcon fontSize=\"medium\" />\n\t\t\t\t\t</IconButton>\n\t\t\t\t</TableCell>\n\t\t\t</TableRow>\n\n\t\t\t<Dialog\n\t\t\t\topen={open} \n\t\t\t\tonClose={handleClickOpen} \n\t\t\t>\n\t\t\t\t<DialogContent>\n\t\t\t\t\t<Box p={1}>\n\t\t\t\t\t\t<Typography variant=\"h6\">\n\t\t\t\t\t\t\tNo puedes agregar una venta, cuando ya esta una en curso.\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</Box>\n\t\t\t\t</DialogContent>\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\tsize=\"large\"\n\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\tonClick={handleClickOpen}\n\t\t\t\t\t>\n\t\t\t\t\t\tAceptar\n\t\t\t\t\t</Button>\n\t\t\t\t</DialogActions>\n\t\t\t</Dialog>\n\t\t</>\n\n\t);\n}","import React, { useState } from 'react'\nimport useStyles from '../styles';\n\nimport { Box, Button, DialogActions,Dialog, DialogContent, Divider,Grid, Typography, Slide, Badge } from '@material-ui/core'\nimport ListaVentas from './ListaVentas';\nimport CloseIcon from '@material-ui/icons/Close';\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\nexport default function VentasEspera() {\n\tlet listaEnEspera = JSON.parse(localStorage.getItem(\"ListaEnEspera\"));\n\n    const classes = useStyles();\n    const [open, setOpen] = useState(false);\n    \n    const handleClickOpen = () => { \n\t\tsetOpen(!open);\n\t};\n\n    window.addEventListener('keydown', Mi_función); \n    function Mi_función(e){\n        if(e.altKey && e.keyCode === 76){ \n            handleClickOpen();\n        } \n    };\n\n    return (\n        <>\n            <Button \n                className={classes.borderBotonChico}\n                onClick={handleClickOpen}\n            >\n                <Box>\n                    <Box>\n                        <Badge \n                            badgeContent={listaEnEspera ? listaEnEspera.length : 0 } \n                            color=\"primary\" \n                            style={{fontSize: 45}}\n                        >\n                            <img \n                                src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/ventas/lista-de-espera.svg' \n                                alt=\"icono caja2\" \n                                style={{width: 38}} \n                            />\n                        </Badge>\n                    </Box>\n                    <Box>\n                        <Typography variant=\"body2\" >\n                            <b>Ventas en Espera</b>\n                        </Typography>\n                    </Box>\n                    <Box>\n                        <Typography variant=\"caption\" style={{color: '#808080'}} >\n                            <b>Alt + L</b>\n                        </Typography>\n                    </Box>\n                </Box>\n            </Button>\n            <Dialog\n\t\t\t\tmaxWidth='lg'\n\t\t\t\topen={open} \n\t\t\t\tonClose={handleClickOpen} \n\t\t\t\tTransitionComponent={Transition}\n\t\t\t>\n                <DialogContent>\n                    <Grid container item lg={12}>\n                        <Box\n                            display=\"flex\"\n                            flexGrow={1}\n                        >\n                            <Box>\n                                <img src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/ventas/lista-de-espera.svg' alt=\"icono caja\" className={classes.iconSizeDialogs} />\n                            </Box>\n                            <Box m={2} >\n                                <Divider orientation=\"vertical\" />\n                            </Box>\n                            <Box mt={3} >\n                                <Typography variant=\"h6\">\n                                    Ventas en espera\n                                </Typography>\n                            </Box>\n                        </Box>\n                        <Box>\n                            <Button variant=\"contained\" color=\"secondary\" onClick={handleClickOpen} size=\"large\">\n                                <CloseIcon />\n                            </Button>\n                        </Box>\n                        </Grid>\n                        <Grid>\n                            <ListaVentas />\n                        </Grid>\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={handleClickOpen} variant=\"contained\" color=\"primary\" size=\"large\">\n                        Aceptar\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        </>\n    )\n}","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport { IconButton, TablePagination } from '@material-ui/core';\nimport DeleteIcon from '@material-ui/icons/Delete';\n\nconst columns = [\n\t{ id: 'folio', label: 'Folio', minWidth: 20, align: 'center' },\n\t{ id: 'cliente', label: 'Cliente', minWidth: 330 },\n\t{ id: 'fecha', label: 'Fecha.', minWidth: 100, align: 'center'},\n\t{ id: 'total', label: 'Total', minWidth: 100, align: 'center'},\n];\n\nfunction createData(folio, cliente, fecha, total) {\n\treturn { folio, cliente, fecha, total};\n}\n\nconst rows = [\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n];\n\nconst useStyles = makeStyles({\n\troot: {\n\t\twidth: '100%'\n\t},\n\tcontainer: {\n\t\tmaxHeight: '50vh'\n\t}\n});\n\nexport default function ListaVentasRealizadas() {\n\tconst classes = useStyles();\n\tconst [ page, setPage ] = React.useState(0);\n\tconst [ rowsPerPage, setRowsPerPage ] = React.useState(8);\n\n\tconst handleChangePage = (event, newPage) => {\n\t\tsetPage(newPage);\n\t};\n\n\tconst handleChangeRowsPerPage = (event) => {\n\t\tsetRowsPerPage(+event.target.value);\n\t\tsetPage(0);\n\t};\n\n\treturn (\n\t\t<Paper className={classes.root}>\n\t\t\t<TableContainer className={classes.container}>\n\t\t\t\t<Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t{columns.map((column) => (\n\t\t\t\t\t\t\t\t<TableCell key={column.id} align={column.align} style={{ width: column.minWidth }}>\n\t\t\t\t\t\t\t\t\t{column.label}\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t<TableCell align='center' style={{ width: 35 }}>\n\t\t\t\t\t\t\t\tEliminar\n\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t</TableHead>\n\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t{rows.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage).map((row) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<TableRow hover role=\"checkbox\" tabIndex={-1} key={row.code}>\n\t\t\t\t\t\t\t\t\t{columns.map((column) => {\n\t\t\t\t\t\t\t\t\t\tconst value = row[column.id];\n\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t<TableCell key={column.id} align={column.align}>\n\t\t\t\t\t\t\t\t\t\t\t\t{column.format && typeof value === 'number' ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolumn.format(value)\n\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t<TableCell align='center' >\n\t\t\t\t\t\t\t\t\t\t<IconButton aria-label=\"delete\" size='small'>\n\t\t\t\t\t\t\t\t\t\t\t<DeleteIcon fontSize=\"small\" />\n\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t\t</TableBody>\n\t\t\t\t</Table>\n\t\t\t</TableContainer>\n\t\t\t<TablePagination\n\t\t\t\trowsPerPageOptions={[ 10, 25, 100 ]}\n\t\t\t\tcomponent=\"div\"\n\t\t\t\tcount={rows.length}\n\t\t\t\trowsPerPage={rowsPerPage}\n\t\t\t\tpage={page}\n\t\t\t\tonChangePage={handleChangePage}\n\t\t\t\tonChangeRowsPerPage={handleChangeRowsPerPage}\n\t\t\t/>\n\t\t</Paper>\n\t);\n}","import React, { useState } from 'react'\nimport useStyles from '../styles';\n\nimport { Box, Button, Dialog, DialogActions, DialogContent, Divider,Grid, IconButton, InputBase,  Paper, Slide, Typography } from '@material-ui/core'\nimport { Search } from '@material-ui/icons';\nimport ListaVentasRealizadas from './ListaVentasRealizadas';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { FcPaid, FcSearch } from 'react-icons/fc';\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function VentasRealizadas() {\n\n    const classes = useStyles();\n\n    const [open, setOpen] = useState(false);\n    \n    const handleClickOpen = () => { \n\t\tsetOpen(!open);\n\t};\n\n    window.addEventListener('keydown', Mi_función); \n    function Mi_función(e){\n        if(e.altKey && e.keyCode === 86){ \n            handleClickOpen();\n        } \n    };\n\n    return (\n        <>\n           <Button \n                className={classes.borderBotonChico}\n                onClick={handleClickOpen}\n            >\n                <Box>\n                    <Box>\n                        <FcSearch style={{fontSize: 45}} />\n                    </Box>\n                    <Box>\n                        <Typography variant=\"body2\" >\n                            <b>Buscar Folio</b>\n                        </Typography>\n                    </Box>\n                    <Box>\n                        <Typography variant=\"caption\" style={{color: '#808080'}} >\n                            <b>Alt + V</b>\n                        </Typography>\n                    </Box>\n                </Box>\n            </Button>\n            <Dialog\n\t\t\t\tmaxWidth='lg'\n\t\t\t\topen={open} \n\t\t\t\tonClose={handleClickOpen} \n\t\t\t\tTransitionComponent={Transition}\n\t\t\t>\n\n                <DialogContent>\n                    <Grid container item lg={12}>\n                        <Box\n                            display=\"flex\"\n                            flexGrow={1}\n                        >\n                            <Box>\n                                <img src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/ventas/lista-de-espera.svg' alt=\"icono caja\" className={classes.iconSizeDialogs} />\n                            </Box>\n                            <Box m={2} >\n                                <Divider orientation=\"vertical\" />\n                            </Box>\n                            <Box mt={3}>\n                                <Typography variant=\"h6\">\n                                    Ventas Realizadas\n                                </Typography>\n                            </Box>\n                        </Box>\n                        <Box>\n                            <Button variant=\"contained\" color=\"secondary\" onClick={handleClickOpen} size=\"large\">\n                                <CloseIcon />\n                            </Button>\n                        </Box>\n                        </Grid>\n                        <Grid>\n                            <div className={classes.formInputFlex}>\n                                <Box width=\"100%\">\n                                    <Paper className={classes.rootBusqueda}>\n                                        <InputBase\n                                            fullWidth\n                                            placeholder=\"Buscar venta...\"\n                                        />\n                                        <IconButton >\n                                            <Search />\n                                        </IconButton>\n                                    </Paper>\n                                </Box>\n                            </div>\n                            <ListaVentasRealizadas />\n                        </Grid>\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={handleClickOpen} variant=\"contained\" color=\"primary\" size=\"large\">\n                        Aceptar\n                    </Button>\n                </DialogActions>\n            </Dialog>\n\n        </>\n    )\n}","import { Box, Grid } from '@material-ui/core'\nimport React, { Fragment } from 'react'\nimport Abonos from '../../pages/ventas/Abonos/Abonos'\nimport BuscarProducto from '../../pages/ventas/BuscarProductos/BuscarProducto'\nimport ClientesVentas from '../../pages/ventas/ClientesVentas/ClientesVentas'\nimport AbrirCajon from '../../pages/ventas/Operaciones/AbrirCajon'\nimport CancelarVenta from '../../pages/ventas/Operaciones/CancelarVenta'\nimport CerrarVenta from '../../pages/ventas/Operaciones/CerrarVenta'\nimport ConsultarPrecio from '../../pages/ventas/Operaciones/ConsultarPrecio'\nimport PreciosProductos from '../../pages/ventas/Operaciones/PreciosProducto'\nimport VentasEspera from '../../pages/ventas/VentasEspera/VentasEspera'\nimport VentasRealizadas from '../../pages/ventas/VentasRealizadas/VentasRealizadas'\nimport useStyles from './styles';\n\nexport default function NavegacionVentasLateral() {\n\n    const classes = useStyles();\n\n    return (\n        <Fragment>\n            <Grid \n                container \n                className={classes.drawerColor}\n            >\n                <Grid item lg={6} md={6} xs={6}>\n                    <CerrarVenta />\n                </Grid>\n                <Grid item lg={6} md={6} xs={6}>\n                    <BuscarProducto />\n                </Grid>\n                <Grid item lg={6} md={6} xs={6}>\n                    <CancelarVenta />\n                </Grid>\n                <Grid item lg={6} md={6} xs={6}>\n                    <AbrirCajon />\n                </Grid>\n                <Grid item lg={6} md={6} xs={6}>\n                    <PreciosProductos />\n                </Grid>\n                <Grid item lg={6} md={6} xs={6}>\n                    <VentasEspera />\n                </Grid>\n                <Grid item lg={6} md={6} xs={6}>\n                    <ClientesVentas />\n                </Grid>\n                <Grid item lg={6} md={6} xs={6}>\n                    <VentasRealizadas />\n                </Grid>\n                <Grid item lg={6} md={6} xs={6}>\n                    <ConsultarPrecio />\n                </Grid>\n                <Grid item lg={6} md={6} xs={6}>\n                    <Abonos />\n                </Grid>\n            </Grid>\n        </Fragment>\n    )\n}\n","import React, { forwardRef, Fragment, useContext, useState } from 'react';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Slide from '@material-ui/core/Slide';\nimport { CircularProgress, IconButton } from '@material-ui/core';\nimport { Delete } from '@material-ui/icons';\nimport { VentasContext } from '../../context/Ventas/ventasContext';\n\nimport {findProductArray, calculatePrices } from '../../config/reuserFunctions';\n\nconst Transition = forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function EliminarProducto({ \n\tproducto,\n\tsetNewProductoVentas,\n\tnewProductoVentas,\n\tsetDatosVentasActual\n }) {\n\tconst [ open, setOpen ] = useState(false);\n\tconst [ loading, setLoading ] = useState(false);\n\t/* const [ alert, setAlert ] = useState({ message: '', status: '', open: false }); */\n\n\tconst { updateTablaVentas, setUpdateTablaVentas } = useContext(VentasContext);\n\n\tconst handleToggleModal = () => setOpen(!open);\n\n\tconst eliminarProductoBD = async () => {\n\t\t// console.log(producto);\n\t\tlet venta = JSON.parse(localStorage.getItem(\"DatosVentas\"));\n\t\tlet productosVentas = venta === null ? [] : venta.productos;\n\t\tconst venta_actual = venta === null ? [] : venta;\n\t\tlet productosVentasTemp = productosVentas;\n\t\tlet venta_existente =\n\t\t\tventa === null\n\t\t\t? \n\t\t\t\t{\n\t\t\t\t\tsubTotal: 0,\n\t\t\t\t\ttotal: 0,\n\t\t\t\t\timpuestos: 0,\n\t\t\t\t\tiva: 0,\n\t\t\t\t\tieps: 0,\n\t\t\t\t\tdescuento: 0,\n\t\t\t\t\tmonedero: 0\n\t\t\t\t}\n\t\t\t: venta;\n\n\t\tconst producto_encontrado = await findProductArray(\n\t\t\tproductosVentas,\n\t\t\tproducto\n\t\t);\n\t\tif (producto_encontrado.found) {\n\t\t\tconst { cantidad_venta, ...newP } = producto;\n\t\t\t// newP.precio_actual_producto = newP.descuento_activo ? newP.descuento.precio_con_descuento :  newP.precio;\n\t\t\t//Sacar los impuestos que se van a restar\n\t\t\tlet calculoResta = await calculatePrices(newP, cantidad_venta, newP.granel_producto, newP.precio_actual_producto);\n\t\t\tproductosVentasTemp.splice(\n\t\t\t\tproducto_encontrado.producto_found.index,\n\t\t\t\t1\n\t\t\t);\n\t\t\tconst CalculosData = {\n\t\t\t\tsubTotal: \n\t\t\t\t  parseFloat(venta_existente.subTotal) -\n\t\t\t\t  parseFloat(calculoResta.subtotalCalculo) ,\n\t\t\t\ttotal: \n\t\t\t\t  parseFloat(venta_existente.total) -\n\t\t\t\t  parseFloat(calculoResta.totalCalculo),\n\t\t\t\timpuestos: \n\t\t\t\t  parseFloat(venta_existente.impuestos) -\n\t\t\t\t  parseFloat(calculoResta.impuestoCalculo),\n\t\t\t\tiva: \n\t\t\t\t  parseFloat(venta_existente.iva) -\n\t\t\t\t  parseFloat(calculoResta.ivaCalculo),\n\t\t\t\tieps: \n\t\t\t\t  parseFloat(venta_existente.ieps) -\n\t\t\t\t  parseFloat(calculoResta.iepsCalculo),\n\t\t\t\tdescuento: \n\t\t\t\t  parseFloat(venta_existente.descuento) -\n\t\t\t\t  parseFloat(calculoResta.descuentoCalculo),\n\t\t\t\tmonedero: \n\t\t\t\t  parseFloat(venta_existente.monedero) -\n\t\t\t\t  parseFloat(calculoResta.monederoCalculo),\n\t\t\t  };\n\t\t\t  localStorage.setItem(\"DatosVentas\", JSON.stringify({\n\t\t\t\t...CalculosData,\n\t\t\t\tcliente: venta_actual.venta_cliente === true ? venta_actual.cliente : {},\n\t\t\t\tventa_cliente: venta_actual.venta_cliente === true ? venta_actual.venta_cliente : false,\n\t\t\t\tproductos: productosVentasTemp,\n\t\t\t  }));\n\t\t\t  setDatosVentasActual(CalculosData);\n\t\t\t  //Recargar la tabla de los productos\n\t\t\t//   setNewProductoVentas(!newProductoVentas);\n\t\t\t  setUpdateTablaVentas(!updateTablaVentas);\n\t\t}\n\t\t\n\t};\n\n\treturn (\n\t\t<Fragment>\n\t\t\t{/* <SnackBarMessages alert={alert} setAlert={setAlert} /> */}\n\t\t\t<IconButton size=\"small\" onClick={() => handleToggleModal()}>\n\t\t\t\t<Delete size=\"small\" color=\"error\" />\n\t\t\t</IconButton>\n\t\t\t<Dialog\n\t\t\t\topen={open}\n\t\t\t\tTransitionComponent={Transition}\n\t\t\t\tkeepMounted\n\t\t\t\tonClose={() => handleToggleModal()}\n\t\t\t\taria-labelledby=\"alert-dialog-delete-producto\"\n\t\t\t>\n\t\t\t\t<DialogTitle id=\"alert-dialog-delete-producto\">\n\t\t\t\t\t{'¿Estás seguro de eliminar este producto?'}\n\t\t\t\t</DialogTitle>\n\t\t\t\t<DialogActions style={{ display: 'flex', justifyContent: 'center' }}>\n\t\t\t\t\t<Button onClick={() => handleToggleModal()} color=\"inherit\">\n\t\t\t\t\t\tCancelar\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button onClick={() => eliminarProductoBD()} color=\"secondary\" startIcon={loading ? <CircularProgress color=\"inherit\" size={20} /> : null}>\n\t\t\t\t\t\tEliminar\n\t\t\t\t\t</Button>\n\t\t\t\t</DialogActions>\n\t\t\t</Dialog>\n\t\t</Fragment>\n\t);\n}\n","import React, { useState, useEffect, Fragment, useRef, useContext } from \"react\";\nimport PropTypes from \"prop-types\";\nimport clsx from \"clsx\";\nimport { lighten, makeStyles } from \"@material-ui/core/styles\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport TableSortLabel from \"@material-ui/core/TableSortLabel\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Checkbox from \"@material-ui/core/Checkbox\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport FilterListIcon from \"@material-ui/icons/FilterList\";\nimport Input from \"@material-ui/core/Input\";\nimport EliminarProductoVenta from \"./EliminarProductoVenta\";\n\nimport { useDebounce } from \"use-debounce\";\nimport {\n  findProductArray,\n  verifiPrising,\n  calculatePrices2\n} from \"../../config/reuserFunctions\";\nimport { VentasContext } from '../../context/Ventas/ventasContext';\nimport { Avatar } from \"@material-ui/core\";\n\n\nconst headCells = [\n  {\n    id: \"Cantidad\",\n    numeric: false,\n    disablePadding: true,\n    label: \"Cantidad\",\n    width: 20,\n  },\n  {\n    id: \"Descripcion\",\n    numeric: true,\n    disablePadding: false,\n    label: \"Descripcion\",\n    width: 340,\n  },\n  {\n    id: \"Existencias\",\n    numeric: true,\n    disablePadding: false,\n    label: \"Existencias\",\n    width: 40,\n  },\n  {\n    id: \"% Desc\",\n    numeric: true,\n    disablePadding: false,\n    label: \"% Desc\",\n    width: 50,\n  },\n  {\n    id: \"U. Venta\",\n    numeric: true,\n    disablePadding: false,\n    label: \"U. Venta\",\n    width: 50,\n  },\n  {\n    id: \"Precio U\",\n    numeric: true,\n    disablePadding: false,\n    label: \"Precio U\",\n    width: 100,\n  },\n  {\n    id: \"Eliminar\",\n    numeric: true,\n    disablePadding: false,\n    label: \"Eliminar\",\n    width: 10,\n  },\n];\n\nfunction EnhancedTableHead(props) {\n  const {\n    classes,\n    onSelectAllClick,\n    order,\n    orderBy,\n    numSelected,\n    rowCount,\n    onRequestSort,\n  } = props;\n  const createSortHandler = (property) => (event) => {\n    onRequestSort(event, property);\n  };\n\n  return (\n    <TableHead>\n      <TableRow>\n        <TableCell padding=\"checkbox\">\n          <Checkbox\n            indeterminate={numSelected > 0 && numSelected < rowCount}\n            checked={rowCount > 0 && numSelected === rowCount}\n            onChange={onSelectAllClick}\n            inputProps={{ \"aria-label\": \"select all desserts\" }}\n          />\n        </TableCell>\n        {headCells.map((headCell) => (\n          <TableCell\n            key={headCell.id}\n            align={headCell.numeric ? \"right\" : \"left\"}\n            padding={headCell.disablePadding ? \"none\" : \"normal\"}\n            sortDirection={orderBy === headCell.id ? order : false}\n            style={{ width: headCell.width }}\n          >\n            <TableSortLabel\n              active={orderBy === headCell.id}\n              direction={orderBy === headCell.id ? order : \"asc\"}\n              onClick={createSortHandler(headCell.id)}\n            >\n              {headCell.label}\n              {orderBy === headCell.id ? (\n                <span className={classes.visuallyHidden}>\n                  {order === \"desc\" ? \"sorted descending\" : \"sorted ascending\"}\n                </span>\n              ) : null}\n            </TableSortLabel>\n          </TableCell>\n        ))}\n      </TableRow>\n    </TableHead>\n  );\n}\n\nEnhancedTableHead.propTypes = {\n  classes: PropTypes.object.isRequired,\n  numSelected: PropTypes.number.isRequired,\n  onRequestSort: PropTypes.func.isRequired,\n  onSelectAllClick: PropTypes.func.isRequired,\n  order: PropTypes.oneOf([\"asc\", \"desc\"]).isRequired,\n  orderBy: PropTypes.string.isRequired,\n  rowCount: PropTypes.number.isRequired,\n};\n\nconst useToolbarStyles = makeStyles((theme) => ({\n  root: {\n    paddingLeft: theme.spacing(2),\n    paddingRight: theme.spacing(1),\n  },\n  highlight:\n    theme.palette.type === \"light\"\n      ? {\n          color: theme.palette.secondary.main,\n          backgroundColor: lighten(theme.palette.secondary.light, 0.85),\n        }\n      : {\n          color: theme.palette.text.primary,\n          backgroundColor: theme.palette.secondary.dark,\n        },\n  title: {\n    flex: \"1 1 100%\",\n  },\n}));\n\nconst EnhancedTableToolbar = (props) => {\n  const classes = useToolbarStyles();\n  const { numSelected } = props;\n\n  return (\n    <Toolbar\n      className={clsx(classes.root, {\n        [classes.highlight]: numSelected > 0,\n      })}\n    >\n      {numSelected > 0 ? (\n        <Typography\n          className={classes.title}\n          color=\"inherit\"\n          variant=\"subtitle1\"\n          component=\"div\"\n        >\n          {numSelected} selected\n        </Typography>\n      ) : (\n        <Typography\n          className={classes.title}\n          variant=\"h6\"\n          id=\"tableTitle\"\n          component=\"div\"\n        >\n          Nutrition\n        </Typography>\n      )}\n\n      {numSelected > 0 ? (\n        <Tooltip title=\"Delete\">\n          <IconButton aria-label=\"delete\">\n            <DeleteIcon />\n          </IconButton>\n        </Tooltip>\n      ) : (\n        <Tooltip title=\"Filter list\">\n          <IconButton aria-label=\"filter list\">\n            <FilterListIcon />\n          </IconButton>\n        </Tooltip>\n      )}\n    </Toolbar>\n  );\n};\n\nEnhancedTableToolbar.propTypes = {\n  numSelected: PropTypes.number.isRequired,\n};\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: \"100%\",\n    marginTop: 7\n  },\n  paper: {\n    width: \"100%\",\n    marginBottom: theme.spacing(2),\n  },\n  container: {\n    height: \"100%\",\n    '& ::-webkit-scrollbar': {\n      display: 'none'\n    }\n  },\n  table: {\n    minWidth: 750,\n    height: \"55vh\",\n  },\n  visuallyHidden: {\n    border: 0,\n    clip: \"rect(0 0 0 0)\",\n    height: 1,\n    margin: -1,\n    overflow: \"hidden\",\n    padding: 0,\n    position: \"absolute\",\n    top: 20,\n    width: 1,\n  },\n\n}));\n\nexport default function EnhancedTable({\n  setDatosVentasActual,\n}) {\n  const classes = useStyles();\n  const [ selected, setSelected ] = useState([]);\n\tconst sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n\n  const { setProductoCambioPrecio, setPrecioSelectProductoVenta, updateTablaVentas, setUpdateTablaVentas } = useContext(VentasContext);\n\n  const [datosTabla, setDatosTabla] = useState([]);\n\n  useEffect(() => {\n    const venta = JSON.parse(localStorage.getItem(\"DatosVentas\"));\n    setDatosTabla(venta === null ? [] : venta.productos);\n  }, [updateTablaVentas]);\n\n  const handleClick = (name) => {\n    let newSelected = [];\n    const exist = selected.indexOf(name) !== -1;\n    if(exist){\n      newSelected = [];\n    }else{\n      newSelected = newSelected.concat([], name);\n    } \n    const producto = name.id_producto.precios.precios_producto.filter((p) => p.precio_neto === name.precio_actual_producto);\n    if(producto.length > 0) setPrecioSelectProductoVenta(producto);\n    setProductoCambioPrecio(name);\n    setSelected(newSelected);\n  };\n\n  const TwoClickInRowTableBuy = (e, producto) => {\n    try {\n      let timer;\n      clearTimeout(timer);\n      if (e.detail === 2) {\n        handleClick(producto);\n        setProductoCambioPrecio(producto);\n      }\n      \n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const isSelected = (name) => {\n    return selected.indexOf(name) !== -1;\n  };\n\n  return (\n    <div className={classes.root}>\n      <Paper>\n        <TableContainer className={classes.container}>\n          {/* <div\n            style={{\n              display: 'flex', \n              width: '80%', \n              height: '60%', \n              alignItems: 'center',\n              backgroundPosition: 'center',\n              justifyContent: 'center',\n              zIndex: 'auto',\n              position: 'absolute',\n            }}\n          >\n            <div\n              style={{\n                maxWidth: '40%'\n              }}\n            >\n              <Avatar\n                alt=\"Imagen fondo empresa\"\n                src={sesion.empresa.imagen}\n                style={{\n                  height: '100%',\n                  width: '100%',\n                  opacity: .2\n                }}\n              />\n            </div>\n          </div> */}\n          <Table\n            stickyHeader\n            size=\"small\"\n            aria-labelledby=\"tableTitle\"\n            aria-label=\"a dense table\"\n          >\n            <TableHead>\n              <TableRow>\n                <TableCell style={{ width: 25, textAlign:\"center\" }}></TableCell>\n                <TableCell style={{ width: 20, textAlign:\"center\" }}>Cantidad</TableCell>\n                <TableCell style={{ width: 340 }}>Descripcion</TableCell>\n                <TableCell style={{ width: 40, textAlign:\"center\" }}>Exis.</TableCell>\n                <TableCell style={{ width: 50, textAlign:\"center\" }}><b>% Desct.</b></TableCell>\n                <TableCell style={{ width: 40, textAlign:\"center\" }}>Rx.</TableCell>\n                <TableCell style={{ width: 50, textAlign:\"center\" }}>U. Venta</TableCell>\n                <TableCell style={{ width: 100, textAlign:\"center\" }}>Precio U</TableCell>\n                <TableCell align=\"center\" style={{ width: 10 }} />\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {datosTabla?.map((producto, index) => {\n                const isItemSelected = isSelected(producto);\n                const labelId = `enhanced-table-checkbox-${index}`;\n                return (\n                  <RenderTableRows\n                    key={index}\n                    producto={producto}\n                    setUpdateTablaVentas={setUpdateTablaVentas}\n                    updateTablaVentas={updateTablaVentas}\n                    setDatosVentasActual={setDatosVentasActual}\n                    isItemSelected={isItemSelected}\n                    labelId={labelId}\n                    handleClick={handleClick}\n                    selected={selected}\n                    TwoClickInRowTableBuy={TwoClickInRowTableBuy}\n                    setSelected={setSelected}\n                  />\n                );\n              })}\n            </TableBody>\n          </Table>\n        </TableContainer>\n      </Paper>\n    </div>\n  );\n}\n\nconst RenderTableRows = ({\n  producto,\n  setUpdateTablaVentas,\n  updateTablaVentas,\n  setDatosVentasActual,\n  TwoClickInRowTableBuy,\n  handleClick,\n  isItemSelected,\n  labelId,\n  setSelected,\n  selected\n}) => {\n  // const [actuallyProduct, setActuallyProduct] = useState(producto);\n  const [newCantidadProduct, setNewCantidadProduct] = useState(\n    producto.cantidad_venta\n  );\n  \n  const [ tempAmount, setTempAmount ] = useState(producto.cantidad_venta);\n\n  const textfield = useRef(null);\n  const [value] = useDebounce(newCantidadProduct, 500);\n\n\n  useEffect(() => {\n    setTempAmount(producto.cantidad_venta);\n  }, [producto.cantidad_venta]);\n\n  useEffect(() => {\n    CalculeDataPricing(value);\n  }, [value]);\n  \n\n  const calculateNewPricingAmount = (cantidad) => {\n    try {\n      setTempAmount(cantidad);\n      setNewCantidadProduct(cantidad);\n    } catch (error) {\n      return false;\n    }\n  }\n\n  const CalculeDataPricing = async (new_cant) => {\n    if(new_cant === \"\" || new_cant == 0){\n      setTempAmount(producto.cantidad_venta);\n    }else{\n      let venta = JSON.parse(localStorage.getItem(\"DatosVentas\"));\n      let productosVentas = venta === null ? [] : venta.productos;\n      const venta_actual = venta === null ? [] : venta;\n      let productosVentasTemp = productosVentas;\n      let venta_existente =\n        venta === null\n          ? {\n              subTotal: 0,\n              total: 0,\n              impuestos: 0,\n              iva: 0,\n              ieps: 0,\n              descuento: 0,\n              monedero: 0\n            }\n          : venta;\n\n      let CalculosData = {};\n      \n      //Buscar y obtener ese producto en el array de ventas\n      const producto_encontrado = await findProductArray(\n        producto\n      );\n      if (producto_encontrado.found) {\n        const { cantidad_venta, ...newP } =\n          producto_encontrado.producto_found.producto;\n        newP.cantidad_venta = new_cant\n        const verify_prising = await verifiPrising(newP);\n        const newPrising = verify_prising.found ? verify_prising.object_prising : newP.precio_actual_object;\n        \n        const new_resta = await calculatePrices2({newP, cantidad: cantidad_venta, precio_boolean: true, precio: newP.precio_actual_object, granel: newP.granel_producto, origen: \"Tabla\" });\n        const new_suma = await calculatePrices2({newP, cantidad: new_cant, precio_boolean: true, precio: newPrising, granel: newP.granel_producto, origen: \"Tabla\" });\n\n        if (verify_prising.found) {\n          newP.precio_a_vender = new_suma.totalCalculo;\n          newP.precio_anterior = newP.precio_actual_porducto;\n          newP.precio_actual_producto = verify_prising.pricing;\n          newP.precio_actual_object = verify_prising.object_prising;\n        }else{\n          newP.cantidad_venta = parseInt(new_cant);\n          newP.precio_anterior = newP.precio_actual_producto;\n          newP.precio_a_vender = new_suma.totalCalculo;\n        }\n\n        productosVentasTemp.splice(\n          producto_encontrado.producto_found.index,\n          1,\n          newP\n        );\n\n        CalculosData = {\n          subTotal:\n            parseFloat(venta_existente.subTotal) -\n            parseFloat(new_resta.subtotalCalculo) +\n            new_suma.subtotalCalculo,\n          total:\n            parseFloat(venta_existente.total) -\n            parseFloat(new_resta.totalCalculo) +\n            new_suma.totalCalculo,\n          impuestos:\n            parseFloat(venta_existente.impuestos) -\n            parseFloat(new_resta.impuestoCalculo) +\n            new_suma.impuestoCalculo,\n          iva:\n            parseFloat(venta_existente.iva) -\n            parseFloat(new_resta.ivaCalculo) +\n            new_suma.ivaCalculo,\n          ieps:\n            parseFloat(venta_existente.ieps) -\n            parseFloat(new_resta.iepsCalculo) +\n            new_suma.iepsCalculo,\n          descuento:\n            parseFloat(venta_existente.descuento) -\n            parseFloat(new_resta.descuentoCalculo) +\n            new_suma.descuentoCalculo,\n          monedero:\n            parseFloat(venta_existente.monedero) -\n            parseFloat(new_resta.monederoCalculo) +\n            new_suma.monederoCalculo,\n        };\n      } else {\n        console.log(\"El producto no existe\");\n      }\n\n      localStorage.setItem(\n        \"DatosVentas\",\n        JSON.stringify({\n          ...CalculosData,\n          cliente:\n            venta_actual.venta_cliente === true ? venta_actual.cliente : {},\n          venta_cliente:\n            venta_actual.venta_cliente === true\n              ? venta_actual.venta_cliente\n              : false,\n          productos: productosVentasTemp,\n        })\n      );\n      setDatosVentasActual(CalculosData);\n      //Recargar la tabla de los productos\n      setUpdateTablaVentas(!updateTablaVentas);\n    }\n  };\n\n  return (\n    <Fragment>\n      <TableRow\n        role=\"checkbox\"\n        style={{height: '15px'}}\n        aria-checked={isItemSelected}\n        tabIndex={-1}\n        key={producto._id}\n        selected={isItemSelected}\n        hover\n        onClick={(e) => TwoClickInRowTableBuy(e,producto)}\n      >\n        <TableCell padding=\"checkbox\">\n          <Checkbox\n            onClick={(event) => {\n              if(selected.length > 0) setSelected([]);\n              handleClick(producto);\n            }}\n            checked={isItemSelected}\n            inputProps={{ \"aria-labelledby\": labelId }}\n          />\n        </TableCell>\n        <TableCell>\n          <Input\n            inputRef={textfield}\n            onChange={(e) => calculateNewPricingAmount(e.target.value)}\n            value={tempAmount}\n            type=\"number\"\n            name=\"cantidad_venta\"\n          />\n        </TableCell>\n        <TableCell>\n          {producto.id_producto.datos_generales.nombre_comercial}\n        </TableCell>\n        <TableCell  style={{ textAlign:\"center\"}} >\n          {producto.concepto === \"medida\"\n            ? producto.cantidad\n            : producto.inventario_general.map(\n                (existencia) => `${existencia.cantidad_existente}`\n              )}\n        </TableCell>\n        <TableCell  style={{ textAlign:\"center\"}} >\n          %{\" \"}\n          {producto.descuento_activo === true\n            ? producto.descuento.porciento\n            : 0}\n        </TableCell>\n        <TableCell style={{ textAlign:\"center\"}} >\n          {producto.id_producto.datos_generales.receta_farmacia === true\n            ? \"Si\"\n            : \"No\"}\n        </TableCell>\n        <TableCell style={{ textAlign:\"center\"}} >\n          {producto.inventario_general.map(\n            (existencia) => `${existencia.unidad_inventario}`\n          )}\n        </TableCell>\n        <TableCell style={{ textAlign:\"center\"}} >\n          $ { producto.precio_actual_producto}\n        </TableCell>\n        <TableCell style={{ textAlign:\"center\"}} >\n          <EliminarProductoVenta\n            producto={producto}\n            setDatosVentasActual={setDatosVentasActual}\n          />\n        </TableCell>\n      </TableRow>\n    </Fragment>\n  );\n};\n","import React, { useState, useEffect, useContext } from \"react\";\nimport { OBTENER_CLIENTES_VENTAS } from \"../../gql/Ventas/ventas_generales\";\nimport { useQuery } from \"@apollo/client\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport { TextField } from \"@material-ui/core\";\n// import { BlurLinear } from \"@material-ui/icons\";\n// import { VentasContext } from \"../../context/Ventas/ventasContext\";\nimport { ClienteCtx } from '../../context/Catalogos/crearClienteCtx';\nimport { VentasContext } from \"../../context/Ventas/ventasContext\";\n\nexport default function ClientesVentas() {\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n\n  const { setUpdateClientVenta, updateClientVenta } = useContext(ClienteCtx);\n  const { setClientesVentas } = useContext(VentasContext);\n\n  const [selectClient, setSelectClient] = useState({});\n\n  // console.log(sesion.empresa._id);\n  // console.log(sesion.sucursal._id);\n\n  const { loading, data, error, refetch } = useQuery(OBTENER_CLIENTES_VENTAS, {\n    variables: {\n      empresa: sesion.empresa._id,\n      sucursal: sesion.sucursal._id,\n    },\n    fetchPolicy: \"network-only\"\n  });\n\n  // console.log(error);\n  // console.log(\"data\",data);\n  let obtenerClientes = [];\n  if (data) obtenerClientes = data.obtenerClientesVentas;\n  // console.log(obtenerClientes);\n\n  useEffect(() => {\n    const data = () => {\n      // console.log(\"llego al final\");\n      const venta = JSON.parse(localStorage.getItem(\"DatosVentas\"));\n      if (venta !== null) {\n        setSelectClient(venta.cliente);\n        setClientesVentas(venta.cliente);\n        refetch();\n      }\n    }\n    data();\n  }, [refetch, updateClientVenta]);\n\n  const ChangeClientAutocomplate = (value) => {\n    try {\n      // console.log(value);\n      const venta = JSON.parse(localStorage.getItem(\"DatosVentas\"));\n      let venta_actual = venta === null ? {} : venta;\n      setSelectClient(value);\n      \n      // console.log(venta_actual);\n      let dataCliente = {\n          subTotal:\n            venta_actual.subTotal === undefined ? 0 : venta_actual.subTotal,\n          total: venta_actual.total === undefined ? 0 : venta_actual.total,\n          impuestos:\n            venta_actual.impuestos === undefined ? 0 : venta_actual.impuestos,\n          iva: venta_actual.iva === undefined ? 0 : venta_actual.iva,\n          ieps: venta_actual.ieps === undefined ? 0 : venta_actual.ieps,\n          descuento:\n            venta_actual.descuento === undefined ? 0 : venta_actual.descuento,\n          monedero: venta_actual.monedero === undefined ? 0 : venta_actual.monedero,\n          tipo_cambio: venta_actual.tipo_cambio ? venta_actual.tipo_cambio : {},\n          venta_cliente: value === null ? false : true,\n          productos:\n            venta_actual.productos?.length > 0 ? venta_actual. productos : [],\n      }\n      if(value !== null) dataCliente = {...dataCliente, cliente: value, }\n      localStorage.setItem(\"DatosVentas\",JSON.stringify(dataCliente));\n      setUpdateClientVenta(!updateClientVenta);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  if (loading) return null;\n\n  return (\n    <div>\n      <Autocomplete\n        id=\"combo-box-producto-codigo\"\n        size=\"small\"\n        fullWidth\n        options={obtenerClientes}\n        getOptionLabel={(option) =>\n          option.nombre_cliente ? option.nombre_cliente : \"N/A\"\n        }\n        renderInput={(params) => <TextField {...params} variant=\"outlined\" />}\n        onChange={(_, value) => ChangeClientAutocomplate(value)}\n        getOptionSelected={(option) => option.nombre_cliente}\n        value={selectClient ? selectClient : null}\n      />\n    </div>\n  );\n}\n","export default __webpack_public_path__ + \"static/media/peso.1c192c88.svg\";","import React, { useState } from 'react';\n\nimport { AppBar, Box, Button, Dialog, InputBase, makeStyles, Paper, Slide, Table, TableBody, TableCell, TableContainer, TableHead, TableRow, Toolbar, Typography } from '@material-ui/core';\n\nimport moneda from '../../../icons/ventas/peso.svg';\nimport CloseIcon from '@material-ui/icons/Close';\n\nconst columns = [\n\t{ id: \"icono\", label: 'Icono', minWidth: 50 },\n    { id: \"moneda\", label: 'Moneda', minWidth: 50 },\n\t{ id: \"descripcion\", label: 'Descripcion', minWidth: 190 },\n\t{ id: \"cambio\", label: 'Cambio', minWidth: 20 },\n\n];\n\nfunction createData(moneda, descripcion, cambio ) {\n\treturn { moneda, descripcion, cambio };\n}\n\nconst rows = [\n\tcreateData(2, 'Pesos Mex.', 18.90),\n\tcreateData(2, 'Dolar E.U.', 18.90),\n    createData(2, 'Dolar Canadiense', 18.90),\n    createData(2, 'Euro', 18.90),\n];\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n\t\tflexGrow: 1,\n\t\twidth: '100%',\n\t\theight: '30vh',\n\t\tbackgroundColor: theme.palette.background.paper\n\t},\n\tappBar: {\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(1),\n\t\tflex: 1\n\t},\n\ticonSvg: {\n\t\twidth: 100\n\t},\n    iconSize: {\n\t\twidth: 28,\n\t},\n    rootBusqueda: {\n        height: 35,\n\t\tdisplay: 'flex'\n\t},\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function MonedaCambio() {\n\n    const classes = useStyles();\n\n    const [open, setOpen] = useState(false);\n\n    const handleClickOpen =()=>{ setOpen(!open) }\n\n    return (\n        <div>\n            <Box \n                width=\"100%\"\n                display=\"flex\"\n                justifyItems=\"center\"\n                alignSelf=\"center\"\n                justifySelf=\"center\"\n                alignItems=\"center\"\n            >\n                <Box mt={1}>\n                    <img src={moneda} alt=\"iconoBander\" className={classes.iconSize} /> \n                </Box>\n                <Box width=\"100%\" ml={1} onClick={() => handleClickOpen()}>\n                    <Paper width=\"100%\">\n                        <InputBase className={classes.rootBusqueda} />\n                    </Paper>\n                </Box>\n            </Box>\n            <Dialog open={open} onClose={handleClickOpen} TransitionComponent={Transition}>\n\t\t\t\t<AppBar className={classes.appBar}>\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t<Typography variant=\"h6\" className={classes.title}>\n\t\t\t\t\t\t\tTipo de Moneda\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Button variant=\"contained\" color=\"secondary\" onClick={handleClickOpen} size=\"large\">\n                            <CloseIcon />\n                        </Button>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</AppBar>\n\t\t\t\t<div className={classes.root}>\n\t\t\t\t\t\n                    <Box p={1}>\n                        <TableContainer className={classes.container}>\n                            <Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n                                <TableHead>\n                                    <TableRow>\n                                        {columns.map((column, index) => (\n                                            <TableCell key={index} style={{ minWidth: column.minWidth }}>\n                                                {column.label}\n                                            </TableCell>\n                                        ))}\n                                    </TableRow>\n                                </TableHead>\n                                <TableBody>\n                                    {rows.map((row, index) => {\n                                        return (\n                                            <TableRow hover role=\"checkbox\" tabIndex={-1} key={index}>\n                                                {columns.map((column, index) => {\n                                                    const value = row[column.id];\n                                                    return (\n                                                        <TableCell key={index} align={column.align}>\n                                                            {column.format && typeof value === 'number' ? (\n                                                                column.format(value)\n                                                            ) : (\n                                                                value\n                                                            )}\n                                                        </TableCell>\n                                                    );\n                                                })}\n                                            </TableRow>\n                                        );\n                                    })}\n                                </TableBody>\n                            </Table>\n                        </TableContainer>\n                    </Box>\n\t\t\t\t</div>\n\t\t\t</Dialog>\n        </div>\n    )\n}\n","import React, { useState, useEffect, useContext } from \"react\";\nimport {\n  Box,\n  FormControl,\n  Grid,\n  IconButton,\n  InputBase,\n  MenuItem,\n  Paper,\n  Select,\n  Typography,\n} from \"@material-ui/core\";\nimport useStyles from \"./styles\";\n\nimport { /* FcRating, */ FcBusinessman, FcCalendar, FcSalesPerformance } from 'react-icons/fc';\nimport { FaBarcode, FaMoneyCheckAlt } from \"react-icons/fa\";\nimport { AiOutlineFieldNumber } from \"react-icons/ai\";\nimport { Search } from \"@material-ui/icons\";\nimport MonetizationOnIcon from '@material-ui/icons/MonetizationOn';\n\nimport TablaVentasCheckbox from \"./Tabla_ventas_checkbox\";\nimport { CONSULTA_PRODUCTO_UNITARIO } from \"../../gql/Ventas/ventas_generales\";\nimport { useLazyQuery } from \"@apollo/client\";\nimport ClientesVentas from \"./ClientesVentas\";\nimport { VentasContext } from \"../../context/Ventas/ventasContext\";\nimport SnackBarMessages from '../../components/SnackBarMessages';\n\nimport { Fragment } from \"react\";\nimport MonedaCambio from \"./Operaciones/MonedaCambio\";\nimport Cotizacion from './Cotizacion/Cotizacion'\n\nimport {\n  findProductArray,\n  verifiPrising,\n  calculatePrices2\n} from \"../../config/reuserFunctions\";\n\n// import { ClienteProvider } from '../../context/Catalogos/crearClienteCtx';\n\nexport default function VentasGenerales() {\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n  // const productosVentas = JSON.parse(localStorage.getItem('productosVentas'));\n  const classes = useStyles();\n  // const [newProductoVentas, setNewProductoVentas] = useState(false);\n  const [granelBase, setGranelBase] = useState({\n    granel: false,\n    valor: 0,\n  });\n\n  const { updateTablaVentas, setUpdateTablaVentas, setOpen, clientesVentas  } = useContext(VentasContext);\n\n  const [DatosVentasActual, setDatosVentasActual] = useState({\n    subTotal: 0,\n    total: 0,\n    impuestos: 0,\n    iva: 0,\n    ieps: 0,\n    descuento: 0,\n    monedero: 0,\n    tipo_cambio: {},\n  });\n\n  const [alert, setAlert] = useState({ message: '', status: '', open: false });\n\n  const [obtenerProductos, { data, loading, error }] = useLazyQuery(\n    CONSULTA_PRODUCTO_UNITARIO,\n    {\n      fetchPolicy: \"network-only\"\n    }\n  );\n\n  const [consultaBase, setConsultaBase] = useState(false);\n\n  let productosBase = null;\n  if(error){\n    console.log(data,loading, error.networkError);\n    console.log(data,loading, error.graphQLErrors);\n  }\n  // console.log(data,loading, error);\n  if (data) productosBase = data.obtenerUnProductoVentas;\n  // console.log(productosBase);\n\n  useEffect(() => {\n    if(error){\n      if(error.networkError){\n          setAlert({ message: `Error de servidor`, status: 'error', open: true });\n        }else if(error.graphQLErrors){\n          setAlert({ message: `${error.graphQLErrors[0]?.message}`, status: 'error', open: true });\n        }\n    }else{\n      if(productosBase !== null){\n        if (productosBase.cantidad !== null) {\n          agregarProductos(productosBase);\n        }else{\n          setOpen(true);\n          setAlert({ message: `Este producto no existe`, status: 'error', open: true });\n        }\n      }\n    }\n  }, [loading]);\n\n  useEffect(() => {\n    setGranelBase({\n      granel: false,\n      valor: 0,\n    });\n    const venta = JSON.parse(localStorage.getItem(\"DatosVentas\"));\n    if (venta !== null) {\n      setDatosVentasActual({\n        subTotal: parseFloat(venta.subTotal),\n        total: parseFloat(venta.total),\n        impuestos: parseFloat(venta.impuestos),\n        iva: parseFloat(venta.iva),\n        ieps: parseFloat(venta.ieps),\n        descuento: parseFloat(venta.descuento),\n        monedero: parseFloat(venta.monedero),\n      });\n    }\n  }, [updateTablaVentas]);\n\n  const keyUpEvent = async (event) => {\n    if (event.code === \"Enter\" || event.code === \"NumpadEnter\") {\n      const input_value = event.target.value.trim();\n      const data = input_value.split(\"*\");\n      if (data.length > 1) {\n        let data_operation = isNaN(data[0]) ? data[1] : data[0];\n        let data_key = isNaN(data[0]) ? data[0] : data[1];\n        setGranelBase({\n          granel: true,\n          valor: data_operation,\n        });\n        obtenerProductos({\n          variables: {\n            datosProductos: data_key,\n            sucursal: sesion.sucursal._id, \n            empresa: sesion.empresa._id\n          },\n          fetchPolicy: \"network-only\"\n        });\n        setConsultaBase(!consultaBase);\n      } else {\n        setGranelBase({\n          granel: false,\n          valor: 0,\n        });\n        obtenerProductos({\n          variables: {            datosProductos: input_value,\n            sucursal: sesion.sucursal._id,\n            empresa: sesion.empresa._id\n          },\n          fetchPolicy: \"network-only\"\n        });\n        setConsultaBase(!consultaBase);\n      }\n    }\n  };\n\n  const agregarProductos = async (producto) => {\n    let venta = JSON.parse(localStorage.getItem(\"DatosVentas\"));\n    let productosVentas = venta === null ? [] : venta.productos;\n    let venta_actual = venta === null ? [] : venta;\n    let venta_existente =\n      venta === null\n        ? {\n            subTotal: 0,\n            total: 0,\n            impuestos: 0,\n            iva: 0,\n            ieps: 0,\n            descuento: 0,\n            monedero: 0,\n          }\n        : venta;\n    \n    let productosVentasTemp = productosVentas;\n\n    let CalculosData = {\n      subTotal: 0,\n      total: 0,\n      impuestos: 0,\n      iva: 0,\n      ieps: 0,\n      descuento: 0,\n      monedero: 0\n    };\n\n    const producto_encontrado = await findProductArray(\n      producto\n    );\n\n    if (!producto_encontrado.found && producto._id) {\n      const newP = { ...producto };\n      //Tomar el precio con descuento o normal\n      const productoPrecioFinal = newP.descuento_activo\n        ? newP.descuento.precio_neto\n        : newP.precio_unidad.precio_neto;\n\n      const new_prices = await calculatePrices2({newP,cantidad: 0, granel: granelBase, origen: \"Ventas1\", precio_boolean: false });\n\n      new_prices.newP.precio_anterior = productoPrecioFinal;\n      new_prices.newP.iva_total_producto = parseFloat(new_prices.iva);\n\n      console.log(new_prices.newP);\n      \n      productosVentasTemp.push(new_prices.newP);\n\n      CalculosData = {\n        subTotal: parseFloat(venta_existente.subTotal) + parseFloat(new_prices.subtotalCalculo),\n        total: parseFloat(venta_existente.total) + parseFloat(new_prices.totalCalculo),\n        impuestos: parseFloat(venta_existente.impuestos) + parseFloat(new_prices.impuestoCalculo),\n        iva: parseFloat(venta_existente.iva) + parseFloat(new_prices.ivaCalculo),\n        ieps: parseFloat(venta_existente.ieps) + parseFloat(new_prices.iepsCalculo),\n        descuento: parseFloat(venta_existente.descuento) + parseFloat(new_prices.descuentoCalculo),\n        monedero: parseFloat(venta_existente.monedero) + parseFloat(new_prices.monederoCalculo)\n      };\n\n\n    } else if (producto_encontrado.found && producto._id) {\n      \n      const { cantidad_venta, ...newP } = producto_encontrado.producto_found.producto;\n      \n      newP.cantidad_venta = parseInt(cantidad_venta) + 1;\n\n      const verify_prising = await verifiPrising(newP);\n\n      //Verificar si el precio fue encontrado\n      if (verify_prising.found) {\n        const calculo_resta = await calculatePrices2({newP,cantidad_venta, granel: newP.granel_producto, origen: '', precio_boolean: true, precio: newP.precio_actual_object });\n        \n        const calculo_sumar = await calculatePrices2({newP,cantidad_venta: newP.cantidad_venta, granel: newP.granel_producto, origen: '', precio_boolean: true, precio: verify_prising.pricing });\n\n        newP.precio_a_vender = calculo_sumar.totalCalculo;\n        newP.precio_anterior = newP.precio_actual_producto;\n        newP.precio_actual_producto = verify_prising.pricing;\n        newP.precio_actual_object = verify_prising.object_prising;\n\n        productosVentasTemp.splice(\n          producto_encontrado.producto_found.index,\n          1,\n          newP\n        );\n\n        CalculosData = {\n          subTotal:\n            parseFloat(venta_existente.subTotal) -\n            parseFloat(calculo_resta.subtotalCalculo) +\n            calculo_sumar.subtotalCalculo,\n          total:\n            parseFloat(venta_existente.total) -\n            parseFloat(calculo_resta.totalCalculo) +\n            calculo_sumar.totalCalculo,\n          impuestos:\n            parseFloat(venta_existente.impuestos) -\n            parseFloat(calculo_resta.impuestoCalculo) +\n            calculo_sumar.impuestoCalculo,\n          iva:\n            parseFloat(venta_existente.iva) -\n            parseFloat(calculo_resta.ivaCalculo) +\n            calculo_sumar.ivaCalculo,\n          ieps:\n            parseFloat(venta_existente.ieps) -\n            parseFloat(calculo_resta.iepsCalculo) +\n            calculo_sumar.iepsCalculo,\n          descuento:\n            parseFloat(venta_existente.descuento) -\n            parseFloat(calculo_resta.descuentoCalculo) +\n            calculo_sumar.descuentoCalculo,\n          monedero:\n            parseFloat(venta_existente.monedero) -\n            parseFloat(calculo_resta.monederoCalculo) +\n            calculo_sumar.monederoCalculo,\n        }; \n      } else { \n\n        const productoPrecioFinal = newP.descuento_activo\n        ? newP.descuento.precio_neto\n        : newP.precio_unidad.precio_neto;\n\n        const new_prices = await calculatePrices2({newP, cantidad: 0, granel: granelBase, origen: \"Ventas2\"});\n        new_prices.newP.precio_actual_producto = productoPrecioFinal;\n        \n        productosVentasTemp.splice(\n          producto_encontrado.producto_found.index,\n          1,\n          new_prices.newP\n        );\n\n        CalculosData = {\n          subTotal: parseFloat(venta_existente.subTotal) + parseFloat(new_prices.subtotalCalculo),\n          total: parseFloat(venta_existente.total) + new_prices.totalCalculo,\n          impuestos: parseFloat(venta_existente.impuestos) + new_prices.impuestoCalculo,\n          iva: parseFloat(venta_existente.iva) + new_prices.ivaCalculo,\n          ieps: parseFloat(venta_existente.ieps) + new_prices.iepsCalculo,\n          descuento: parseFloat(venta_existente.descuento) + new_prices.descuentoCalculo,\n          monedero: parseFloat(venta_existente.monedero) + new_prices.monederoCalculo,\n        };\n      }\n    }\n\n    localStorage.setItem(\n      \"DatosVentas\",\n      JSON.stringify({\n        ...CalculosData,\n        cliente:\n          venta_actual.venta_cliente === true ? venta_actual.cliente : {},\n        venta_cliente:\n          venta_actual.venta_cliente === true\n            ? venta_actual.venta_cliente\n            : false,\n        productos: productosVentasTemp,\n      })\n    );\n    setDatosVentasActual({\n      ...CalculosData,\n    });\n    setUpdateTablaVentas(!updateTablaVentas);\n\n  };\n\n  return (\n    <Fragment>\n      <SnackBarMessages alert={alert} setAlert={setAlert} />\n        <Box height='9%'>\n          <div className={classes.formInputFlex}>\n            <Box\n              width=\"100%\"\n              display=\"flex\"\n              justifyItems=\"center\"\n              alignSelf=\"center\"\n              justifySelf=\"center\"\n              alignItems=\"center\"\n            >\n              <Box mt={1} mr={1}>\n                <img\n                  src=\"https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/ventas/busqueda-de-codigos-de-barras.svg\"\n                  alt=\"iconoBander\"\n                  className={classes.iconSize}\n                />\n              </Box>\n              <Box width=\"100%\">\n                <Paper className={classes.rootBusqueda}>\n                  <InputBase\n                    width=\"100%\"\n                    fullWidth\n                    placeholder=\"Buscar producto...\"\n                    onKeyUp={keyUpEvent}\n                  />\n                  <IconButton>\n                    <Search />\n                  </IconButton>\n                </Paper>\n              </Box>\n            </Box>\n            <Box\n              width=\"100%\"\n              display=\"flex\"\n              justifyItems=\"center\"\n              alignSelf=\"center\"\n              justifySelf=\"center\"\n              alignItems=\"center\"\n            >\n              <Box mt={1} mr={1}>\n                <img\n                  src=\"https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/usuarios.svg\"\n                  alt=\"iconoBander\"\n                  className={classes.iconSize}\n                />\n              </Box>\n              <Box width=\"100%\" alignItems=\"center\">\n                <ClientesVentas sesion={sesion} />\n                {/* <Paper className={classes.rootBusqueda}>\n                  <InputBase fullWidth placeholder=\"Buscar cliente...\" />\n                  <IconButton>\n                    <Search />\n                  </IconButton>\n                </Paper> */}\n              </Box>\n            </Box>\n            <Box width=\"100%\">\n              <MonedaCambio />\n            </Box>\n            <Box width=\"100%\" display=\"flex\">\n              <Box mr={1}>\n                <img\n                  src=\"https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/ventas/publicalo.svg\"\n                  alt=\"iconoBander\"\n                  className={classes.iconSize}\n                />\n              </Box>\n              <Box width=\"100%\" >\n                <FormControl variant=\"outlined\" fullWidth size=\"small\">\n                  <Select id=\"tipo_documento\" name=\"tipo_documento\">\n                    <MenuItem value=\"\">\n                      <em>Selecciona uno</em>\n                    </MenuItem>\n                    <MenuItem value=\"TICKET\">TICKET</MenuItem>\n                    <MenuItem value=\"FACTURA\">FACTURA</MenuItem>\n                    <MenuItem value=\"NOTA REMISION\">NOTA REMISION</MenuItem>\n                  </Select>\n                </FormControl>\n              </Box> \n            </Box>\n          </div>\n        </Box>\n\n        <Box height='65%'>\n          <TablaVentasCheckbox setDatosVentasActual={setDatosVentasActual} />\n        </Box>\n        \n        <Box display='flex' justifyContent='flex-end' flexDirection='column' height='25%'>\n          <Paper elevantion={3} style={{padding: 2, marginTop: 2}}> \n            <Grid container>\n              <Grid item lg={7}>\n                  <Grid \n                    container\n                    direction=\"row\"\n                    justifyContent=\"flex-end\"\n                    alignItems=\"center\"  \n                  >\n                    <Grid item lg={7}>\n                      <Box\n                        flexDirection=\"row-reverse\"\n                        display=\"flex\"\n                        alignItems=\"center\"\n                      >\n                        <Box>\n                          <Typography variant=\"subtitle1\">\n                            Cliente: <b style={{fontSize: 16}}>{clientesVentas ? clientesVentas.nombre_cliente : \"\"}</b>\n                          </Typography>\n                        </Box>\n                        <Box mt={.5} mr={1}>\n                          <FcBusinessman style={{fontSize: 19}} />\n                        </Box>\n                      </Box>\n                      <Box\n                        flexDirection=\"row-reverse\"\n                        display=\"flex\"\n                        alignItems=\"center\"\n                      >\n                        <Box>\n                        <Typography variant=\"subtitle1\">\n                            Cliente.: <b style={{fontSize: 16}}>{clientesVentas ? clientesVentas.numero_cliente : \"\"}</b>\n                          </Typography>\n                        </Box>\n                        <Box mt={.5} mr={1} >\n                          <AiOutlineFieldNumber style={{fontSize: 22}} />\n                        </Box>\n                      </Box>\n                      <Box\n                        flexDirection=\"row-reverse\"\n                        display=\"flex\"\n                        alignItems=\"center\"\n                      >\n                        <Box>\n                          <Typography variant=\"subtitle1\">\n                            Clave Clte.: <b style={{fontSize: 16}}>{clientesVentas ? clientesVentas.clave_cliente : \"\"}</b>\n                          </Typography>\n                        </Box>\n                        <Box mt={.5} mr={1}>\n                          <FaBarcode style={{fontSize: 19}} />\n                        </Box>\n                      </Box>\n                    </Grid>\n                    <Grid item lg={5}>\n                      <Box\n                        flexDirection=\"row-reverse\"\n                        display=\"flex\"\n                        alignItems=\"center\"\n                      >\n                        <Box>\n                          <Typography variant=\"subtitle1\">\n                            Limite Credito: <b style={{fontSize: 16}}>${clientesVentas ? clientesVentas.limite_credito : 0}</b>\n                          </Typography>\n                        </Box>\n                        <Box mt={.5} mr={1}>\n                          <FaMoneyCheckAlt style={{fontSize: 19}} />\n                        </Box>\n                      </Box>\n                      {/* <Box\n                        flexDirection=\"row-reverse\"\n                        display=\"flex\"\n                        alignItems=\"center\"\n                      >\n                        <Box>\n                          <Typography variant=\"subtitle1\">\n                          Descs.: <b style={{fontSize: 16}}>{clientesVentas ? clientesVentas.numero_descuento : 0}%</b>\n                          </Typography>\n                        </Box>\n                        <Box mt={.5} mr={1}>\n                          <AiOutlineFieldNumber style={{fontSize: 22}} />\n                        </Box>\n                      </Box> */}P\n                      <Box\n                        flexDirection=\"row-reverse\"\n                        display=\"flex\"\n                        alignItems=\"center\"\n                      >\n                        <Box>\n                          <Typography variant=\"subtitle1\">\n                            Dias Credito: <b style={{fontSize: 16}}>{clientesVentas ? clientesVentas.dias_credito : 0} Dias</b>\n                          </Typography>\n                        </Box>\n                        <Box mt={.5} mr={1}>\n                          <FcCalendar style={{fontSize: 19}} />\n                        </Box>\n                      </Box>\n                    </Grid>\n                  </Grid>\n              </Grid>\n              <Grid item lg={5}>\n                <Grid container>\n                  <Grid item lg={7}>\n                    <Box display=\"flex\" alignItems=\"center\" flexDirection=\"row-reverse\" >\n                      <Box>\n                        <Typography variant=\"subtitle1\">\n                          Monedero : <b style={{fontSize: 17}}>$ {DatosVentasActual ? DatosVentasActual?.monedero?.toFixed(2) : 0}</b>\n                        </Typography>\n                      </Box>\n                      <Box mt={.5} mr={1}>\n                        <FcSalesPerformance style={{fontSize: 19}} />\n                      </Box>\n                    </Box>\n                    <Box\n                      flexDirection=\"row-reverse\"\n                      alignItems=\"center\"\n                      display=\"flex\"\n                    >\n                      <Box>\n                        <Typography variant=\"subtitle1\">\n                          Descuento: <b style={{fontSize: 17}}>${DatosVentasActual ? DatosVentasActual?.descuento?.toFixed(2) : 0}</b>\n                        </Typography>\n                      </Box>\n                      <Box mt={.5} mr={1}>\n                        <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n                            <img \n                              src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/price-tag.png' \n                              alt=\"icono admin\" \n                              style={{width: 20}}                                   \n                            />\n                        </Box>\n                      </Box>\n                    </Box>\n                  </Grid>\n                  <Grid item lg={5}>\n                      <Box\n                        flexDirection=\"row-reverse\"\n                        display=\"flex\"\n                        mr={1}\n                      >\n                        <Typography variant=\"subtitle1\">\n                          Subtotal: <b style={{fontSize: 17}}>$ {DatosVentasActual?.subTotal ? DatosVentasActual?.subTotal?.toFixed(2) : 0}</b>\n                        </Typography>\n                      </Box>\n                      <Box display=\"flex\" flexDirection=\"row-reverse\" mr={1}>\n                        <Typography variant=\"subtitle1\">\n                          Impuestos: <b style={{fontSize: 17}}>$ {DatosVentasActual?.impuestos ? DatosVentasActual?.impuestos?.toFixed(2) : 0}</b>\n                        </Typography>\n                      </Box>\n                      {/* <Box\n                        flexDirection=\"row-reverse\"\n                        display=\"flex\"\n                        mr={1}\n                      >\n                        <Typography variant=\"subtitle1\" >\n                          Iva: <b style={{fontSize: 17}}>$ {DatosVentasActual?.iva ? DatosVentasActual.iva.toFixed(2) : 0}</b>\n                        </Typography>\n                      </Box> */}\n                  </Grid>\n                </Grid>\n              </Grid>\n            </Grid>\n            <Box display=\"flex\" flexDirection=\"row-reverse\" p={1}>\n              <Typography variant=\"h4\">\n                Total: <b style={{color: \"green\"}}>${DatosVentasActual?.total ? DatosVentasActual?.total.toFixed(2) : 0}</b>\n              </Typography>\n              <Box mt={.5} mr={1}>\n                <MonetizationOnIcon style={{fontSize: 37, color: \"green\"}} />\n              </Box>\n              <Box p={1}>\n                <Cotizacion type=\"GENERAR\" />\n              </Box>\n            </Box>\n          </Paper>\n        </Box>\n    </Fragment>\n  );\n}\n","import React, { useContext, useEffect, useState } from 'react'\nimport VentasGenerales from './VentasGenerales';\nimport { ClienteProvider } from '../../context/Catalogos/crearClienteCtx';\nimport AbrirTurno from '../ventas/AbrirCerrarTurno/AbrirTurno';\nimport { Box, CircularProgress, Grid, Paper, Typography } from '@material-ui/core';\nimport { VentasContext } from '../../context/Ventas/ventasContext';\n\nexport default function VentaIndex() {\n\n    const { turnoActivo, setTurnoActivo } = useContext(VentasContext);\n    const [ varActive, setVarActive ] = useState(false);\n    const turnoEnCurso = JSON.parse(localStorage.getItem('turnoEnCurso'));\n\n    useEffect(() => {\n        const sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n        setVarActive(sesion.turno_en_caja_activo);\n        setTurnoActivo(false);\n    }, [ turnoActivo ]);\n\n    return (\n        <ClienteProvider>\n            {varActive === true && turnoEnCurso ? (\n                <VentasGenerales />\n            ) : (\n                <AbrirTurnoEnVentas />\n            )}\n        </ClienteProvider>\n    )\n};\n\nfunction AbrirTurnoEnVentas() {\n\n    const [loading, setLoading] = useState(false);\n\n\tif (loading) \n\treturn (\n\t\t<Box\n\t\tdisplay=\"flex\"\n\t\tflexDirection=\"column\"\n\t\tjustifyContent=\"center\"\n\t\talignItems=\"center\"\n\t\theight=\"80vh\"\n\t\t>\n\t\t\t<CircularProgress />\n\t\t</Box>\n\t);\n\n    return(\n        <Grid\n            container\n            direction=\"row\"\n            justifyContent=\"center\"\n            alignItems=\"center\"\n        >\n            <Box mt={5} >\n                <Paper elevation={5}>\n                    <Box p={2} textAlign=\"center\">\n                        <Typography variant=\"h6\">\n                            Si deseas realizar ventas inicia tu turno primeramente.\n                        </Typography>\n                    </Box>\n                    <AbrirTurno type=\"FRENTE\" setLoading={setLoading} />\n                </Paper>\n            </Box>\n        </Grid>\n    )\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n// import { BrowserRouter as Switch, Route } from 'react-router-dom';\nimport NavegacionVentas from '../Navegaciones/NavegacionVentas';\nimport NavegacionVentasLateral from '../Navegaciones/NavegacionVentasLateral';\nimport { Grid, Toolbar, Box } from '@material-ui/core';\nimport { VentasProvider } from '../../context/Ventas/ventasContext';\nimport VentaIndex from '../../pages/ventas/venta_index';\n\n\nconst drawerWidth = '22%';\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n\t\tdisplay: 'flex'\n\t},\n\tcontent: {\n\t\tflexGrow: 1,\n\t},\n    toolbar: {\n\t\theight: theme.spacing(9)\n\t}\n}));\n\nexport default function LayoutVentas(props) {\n\tconst classes = useStyles();\n    const sesion = localStorage.getItem(\"sesionCafi\");\n\n    if(!sesion) props.history.push('/');\n\n\treturn (\n\t\t<Box height='100vh'>\n\t\t\t<VentasProvider>\n\t\t\t\t<Grid lg={12} style={{height: '10vh'}}>\n\t\t\t\t\t<NavegacionVentas />\n\t\t\t\t</Grid>\n\t\t\t\t<Grid container style={{height: '90vh'}}>\n\t\t\t\t\t<Grid lg={9}>\n\t\t\t\t\t\t<VentaIndex />\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid lg={3}>\n\t\t\t\t\t\t<NavegacionVentasLateral />\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</VentasProvider>\n\t\t</Box>\n\t);\n}","export default __webpack_public_path__ + \"static/media/logochafa.744b44f9.PNG\";","export default __webpack_public_path__ + \"static/media/admin.cecfcd64.svg\";","export default __webpack_public_path__ + \"static/media/cart-add.d563c74d.svg\";","import { Box, Button, Container, makeStyles } from '@material-ui/core';\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport logo from '../../img/logochafa.PNG';\nimport adminIcon from '../../icons/ventas/admin.svg';\nimport cartIcon from '../../icons/ventas/cart-add.svg';\nimport PowerSettingsNewRoundedIcon from '@material-ui/icons/PowerSettingsNewRounded';\n\nconst useStyles = makeStyles((theme) => ({\n\ticon: {\n\t\twidth: 150,\n        fontSize: 150\n\t},\n\n}));\n\nexport default function LayoutHome(props) {\n\tconst classes = useStyles();\n\tconst sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\n\tif (!sesion) props.history.push('/');\n\n    const signOut = () => {\n\t\tlocalStorage.removeItem('sesionCafi');\n\t\tlocalStorage.removeItem('tokenCafi');\n\t\tprops.history.push('/');\n\t};\n\n\treturn (\n\t\t<Container maxWidth=\"md\">\n\t\t\t<Box height=\"90vh\">\n\t\t\t\t<Box display=\"flex\" justifyContent=\"center\">\n\t\t\t\t\t<img alt=\"logo ab\" src={logo} />\n\t\t\t\t</Box>\n\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" my={6}>\n\t\t\t\t\t<Button component={Link} to=\"/admin/inicio\">\n\t\t\t\t\t\t<Box display=\"flex\" flexDirection=\"column\" textAlign=\"center\">\n\t\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\">\n\t\t\t\t\t\t\t\t<img src={adminIcon} alt=\"icono numero calzado\" className={classes.icon} />\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\tAdmin\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button component={Link} to=\"/ventas/venta-general\">\n\t\t\t\t\t\t<Box display=\"flex\" flexDirection=\"column\" textAlign=\"center\">\n\t\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\">\n\t\t\t\t\t\t\t\t<img src={cartIcon} alt=\"icono numero calzado\" className={classes.icon} />\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\tVentas\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Button>\n                    <Button color=\"secondary\" onClick={signOut}>\n\t\t\t\t\t\t<Box display=\"flex\" flexDirection=\"column\" textAlign=\"center\">\n\t\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\">\n\t\t\t\t\t\t\t\t<PowerSettingsNewRoundedIcon className={classes.icon} />\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\tCerrar sesion\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Button>\n\t\t\t\t</Box>\n\t\t\t</Box>\n\t\t</Container>\n\t);\n}\n","//layouts\nimport LayoutLogin from '../components/Layouts/LayoutLogin';\nimport LayoutAdmin from '../components/Layouts/LayoutAdmin';\nimport LayoutVentas from '../components/Layouts/LayoutVentas';\nimport LayoutHome from '../components/Layouts/LayoutHome';\n\n//sucursales pages\nimport AdminInicio from '../pages/sucursales/AdminInicio'\n\n//ventas pages\nimport Venta_index from '../pages/ventas/venta_index'\n\nconst routes = [\n\t{\n\t\tpath: '/',\n\t\tcomponent: LayoutLogin,\n\t\texact: true\n\t},\n\t{\n\t\tpath: '/home',\n\t\tcomponent: LayoutHome,\n\t\texact: true\n\t},\n\t{\n\t\tpath: '/admin',\n\t\tcomponent: LayoutAdmin,\n\t\texact: false,\n\t\troutes: [\n\t\t\t{\n\t\t\t\tpath: '/admin/inicio',\n\t\t\t\tcomponent: AdminInicio,\n\t\t\t\texact: true,\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tpath: '/ventas/venta-general',\n\t\tcomponent: LayoutVentas,\n\t\texact: false\n\t}\n\t\n];\n\nexport default routes;\n","export default \"data:image/jpeg;base64,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\"","import React from 'react';\nimport { RegProductoProvider } from '../../context/Catalogos/CtxRegProducto';\nimport AdminInicio from '../../pages/sucursales/AdminInicio';\nimport NavegacionAdmin from '../Navegaciones/NavegacionAdmin';\n\n\nexport default function LayoutAdmin(props) {\n    const sesion = localStorage.getItem(\"sesionCafi\");\n\n    if(!sesion) props.history.push('/');\n\n\treturn (\n\t\t<div>\n\t\t\t<RegProductoProvider>\n\t\t\t\t<NavegacionAdmin />\n\t\t\t\t<AdminInicio />\n\t\t\t</RegProductoProvider>\n\t\t</div>\n\t);\n}\n","import { blue, grey } from '@material-ui/core/colors';\nimport { createMuiTheme } from '@material-ui/core/styles';\n\nconst theme = createMuiTheme({\n\tpalette: {\n\t\tnavbar: grey[50],\n\t\tprimary: {\n\t\t\tmain: blue[500]\n\t\t},\n\t\tsecondary: {\n\t\t\tmain: '#f50057'\n\t\t},\n\t}\n});\n\nexport default theme;\n","import { ApolloClient, /* createHttpLink, */ InMemoryCache } from '@apollo/client';\nimport { createUploadLink } from 'apollo-upload-client';\n\nconst httpLink = createUploadLink({\n\turi: 'https://cafi-punto-venta.herokuapp.com/'\n});\n\nconst client = new ApolloClient({\n\tconnectToDevTools: true,\n\tcache: new InMemoryCache({\n\t\taddTypename: false\n\t}),\n\tlink: httpLink\n});\n\nexport default client;\n","import React from 'react';\nimport { Box, CssBaseline, ThemeProvider } from '@material-ui/core';\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\nimport routes from './config/routes';\nimport theme from './config/colors';\n\nimport client from './config/apollo';\nimport { ApolloProvider } from '@apollo/client';\n\nfunction App() {\n\treturn (\n\t\t<Box height='100vh' >\n\t\t\t<ApolloProvider client={client}>\n\t\t\t\t<div className=\"App\" >\n\t\t\t\t\t<ThemeProvider theme={theme}>\n\t\t\t\t\t\t<CssBaseline />\n\t\t\t\t\t\t<Router>\n\t\t\t\t\t\t\t<Switch>{routes.map((route, index) => <RoutesWithSubRoutes key={index} {...route} />)}</Switch>\n\t\t\t\t\t\t</Router>\n\t\t\t\t\t</ThemeProvider>\n\t\t\t\t</div>\n\t\t\t</ApolloProvider>\n\t\t</Box>\n\t);\n}\n\nfunction RoutesWithSubRoutes(route) {\n\treturn (\n\t\t<Route\n\t\t\tpath={route.path}\n\t\t\texact={route.exact}\n\t\t\trender={(props) => <route.component routes={route.routes} {...props} />}\n\t\t/>\n\t);\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport \"./index.scss\"\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}