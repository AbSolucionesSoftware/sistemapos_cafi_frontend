{"version":3,"sources":["gql/Catalogos/usuarios.js","components/SnackBarMessages.js","components/Layouts/LayoutLogin.js","context/Catalogos/initialStatesProducto.js","context/Catalogos/CtxRegProducto.js","context/Catalogos/empresaContext.js","components/Layouts/BackDrop.js","components/ErrorPage.js","gql/Empresa/empresa.js","pages/sucursales/Empresa/Datos/MisDatos.js","pages/sucursales/Facturacion/catalogos.js","gql/Facturacion/Facturacion.js","pages/sucursales/Facturacion/CFDISellos/RegistrarSellos.js","pages/sucursales/Facturacion/CFDISellos/EliminarCSD.js","pages/sucursales/Empresa/InformacionFiscal/InformacionFiscal.js","pages/sucursales/Empresa/DatosEmpresa.js","gql/Empresa/sucursales.js","config/reuserFunctions.js","pages/sucursales/Empresa/Sucursal/DatosSucursal.js","pages/sucursales/Empresa/Empresa.js","pages/sucursales/Catalogos/Producto/PreciosVenta/UnidadesVenta.js","pages/sucursales/Catalogos/Producto/PreciosVenta/Precios.js","pages/sucursales/Catalogos/Producto/unidades.js","pages/sucursales/Catalogos/Producto/calculos_precios.js","pages/sucursales/Catalogos/Producto/PreciosVenta/registrarInfoAdicional.js","context/Compras/comprasContext.js","pages/sucursales/Catalogos/Producto/TallasColores/TablaPresentaciones.js","pages/sucursales/Compras/AbrirCompra/productos/PreciosProductos.js","gql/Catalogos/productos.js","gql/Catalogos/colores.js","pages/sucursales/Catalogos/Producto/TallasColores/crearColor.js","gql/Catalogos/tallas.js","pages/sucursales/Catalogos/Producto/TallasColores/crearTalla.js","pages/sucursales/Catalogos/Producto/TallasColores/TallasColores.js","pages/sucursales/Compras/AbrirCompra/productos/TallasProducto.js","billing/Facturama/facturama.api.js","gql/CatalogosSat/catalogoProductosSat.js","pages/sucursales/Catalogos/Producto/DatosGenerales/CatalogoProductosSAT.js","gql/Catalogos/categorias.js","gql/Catalogos/departamentos.js","gql/Catalogos/marcas.js","pages/sucursales/Catalogos/Producto/DatosGenerales/registrarInfoGeneral.js","pages/sucursales/Catalogos/Producto/Imagenes/cargarImagenesProducto.js","context/Almacenes/crearAlmacen.js","gql/Almacenes/Almacen.js","pages/sucursales/Almacenes/RegistroAlmacen/ContainerRegistroAlmacen.js","pages/sucursales/Catalogos/Producto/Inventario&Almacen/AlmacenInicial.js","pages/sucursales/Catalogos/Producto/validaciones.js","gql/Catalogos/centroCostos.js","pages/sucursales/Catalogos/Producto/CentroCostos/CentroCostos.js","pages/sucursales/Catalogos/Producto/PrecioPlazos/PrecioPlazos.js","pages/sucursales/Catalogos/Producto/validateDatos.js","pages/sucursales/Catalogos/Producto/crearProducto.js","pages/sucursales/Compras/AbrirCompra/productos/PreciosVenta.js","pages/sucursales/Compras/AbrirCompra/productos/Descuentos.js","context/Catalogos/crearClienteCtx.js","pages/sucursales/Catalogos/Cliente/RegistrarInfoBasica.js","pages/sucursales/Catalogos/Cliente/RegistroInfoCredito.js","gql/Catalogos/clientes.js","pages/sucursales/Catalogos/Cliente/CrearCliente.js","gql/Compras/compras.js","pages/sucursales/Compras/AbrirCompra/initial_states.js","pages/sucursales/Compras/AbrirCompra/productos/DatosProveedorAlmacen.js","pages/sucursales/Compras/AbrirCompra/productos/mostrar_precios.js","pages/sucursales/Compras/AbrirCompra/productos/DatosProducto.js","pages/sucursales/Compras/AbrirCompra/productos/setOrResetData.js","pages/sucursales/Compras/AbrirCompra/TablaCompras.js","pages/sucursales/Compras/AbrirCompra/ConfirmarCompra.js","pages/sucursales/Compras/AbrirCompra/CompraCredito.js","pages/sucursales/Compras/AbrirCompra/AbrirCompra.js","pages/sucursales/Compras/ComprasRealizadas/ExportarProductosCompra.js","pages/sucursales/Compras/ComprasRealizadas/DatosDeCompra.js","pages/sucursales/Compras/ComprasRealizadas/ListaCompras.js","pages/sucursales/Compras/ComprasRealizadas/ExportarComprasExcel.js","pages/sucursales/Compras/ComprasRealizadas/ComprasRealizadas.js","pages/sucursales/Compras/ComprasEnEspera/VerificarProductos.js","pages/sucursales/Compras/ComprasEnEspera/DatosDeCompraEspera.js","pages/sucursales/Compras/ComprasEnEspera/ListaEnEspera.js","pages/sucursales/Compras/ComprasEnEspera/ComprasEnEspera.js","pages/sucursales/Compras/Compras.js","pages/sucursales/Catalogos/Cliente/ListaClientes.js","pages/sucursales/Catalogos/Cliente/Cliente.js","gql/Catalogos/descuentos.js","pages/sucursales/Catalogos/Producto/Descuentos/ListaPrecios.js","pages/sucursales/Catalogos/Producto/Descuentos/Descuento.js","pages/sucursales/Catalogos/Producto/infoProductoDrawer.js","pages/sucursales/Catalogos/Producto/EliminarProducto.js","pages/sucursales/Catalogos/Producto/ListaProductos.js","pages/sucursales/Catalogos/Producto/ProductosEliminados.js","pages/sucursales/Catalogos/Producto/Productos.js","pages/sucursales/Catalogos/Producto/index.js","pages/sucursales/Catalogos/Tallas/ListaTallas.js","pages/sucursales/Catalogos/Tallas/RegistroTallas.js","pages/sucursales/Catalogos/Tallas/Tallas.js","gql/Catalogos/contabilidad.js","pages/sucursales/Catalogos/Contabilidad/ListaServicios.js","pages/sucursales/Catalogos/Contabilidad/RegistroServicio.js","pages/sucursales/Catalogos/Contabilidad/Contabilidad.js","pages/sucursales/Catalogos/Proveedores/ListaProveedores.js","pages/sucursales/Catalogos/Proveedores/Proovedores.js","pages/sucursales/Catalogos/Cajas/ListaCajas.js","gql/Cajas/cajas.js","pages/sucursales/Catalogos/Cajas/RegistrarCajas.js","pages/sucursales/Catalogos/Cajas/Cajas.js","pages/sucursales/Catalogos/Usuarios/AsingarAccesos/arregloVacioAcceso.js","context/Catalogos/usuarioContext.js","pages/sucursales/Catalogos/Usuarios/FormularioUsuario.js","pages/sucursales/Catalogos/Usuarios/AsingarAccesos/Parametros.js","pages/sucursales/Catalogos/Usuarios/AsingarAccesos/Departamentos/Catalogos.js","pages/sucursales/Catalogos/Usuarios/AsingarAccesos/Departamentos/MiEmpresa.js","pages/sucursales/Catalogos/Usuarios/AsingarAccesos/Departamentos/Compras.js","pages/sucursales/Catalogos/Usuarios/AsingarAccesos/Departamentos/Almacenes.js","pages/sucursales/Catalogos/Usuarios/AsingarAccesos/Departamentos/Tesoreria.js","pages/sucursales/Catalogos/Usuarios/AsingarAccesos/Departamentos/Reportes.js","pages/sucursales/Catalogos/Usuarios/AsingarAccesos/Departamentos/Ventas.js","pages/sucursales/Catalogos/Usuarios/AsingarAccesos/Departamentos/Facturacion.js","pages/sucursales/Catalogos/Usuarios/AsingarAccesos/AsignarPermisos.js","pages/sucursales/Catalogos/Usuarios/CrearUsuario.js","pages/sucursales/Catalogos/Usuarios/ListaUsuario.js","pages/sucursales/Catalogos/Usuarios/Usuarios.js","context/Catalogos/Departamentos.js","pages/sucursales/Catalogos/Departamentos/ListaDepartamentos.js","pages/sucursales/Catalogos/Departamentos/RegistroDepartamento.js","pages/sucursales/Catalogos/Departamentos/Departamentos.js","pages/sucursales/Catalogos/Categorias/RegistroCategorias.js","pages/sucursales/Catalogos/Categorias/Categorias.js","pages/sucursales/Catalogos/Colores/ListaColores.js","pages/sucursales/Catalogos/Colores/RegistroColores.js","pages/sucursales/Catalogos/Colores/Colores.js","pages/sucursales/Catalogos/Marcas/ListaMarcas.js","context/Catalogos/Marcas.js","pages/sucursales/Catalogos/Marcas/VistaMarcas.js","pages/sucursales/Catalogos/Marcas/Marcas.js","pages/sucursales/Catalogos/CentroCostos/RegistroCentroCostos.js","pages/sucursales/Catalogos/CentroCostos/CentroCostos.js","gql/Catalogos/conceptosAlmacen.js","pages/sucursales/Catalogos/ConceptosAlmacen/ListaConceptos.js","pages/sucursales/Catalogos/ConceptosAlmacen/RegistroConcepto.js","pages/sucursales/Catalogos/ConceptosAlmacen/ConceptosAlmacen.js","pages/sucursales/Catalogos/Catalogos.js","context/Tesoreria/tesoreriaCtx.js","pages/sucursales/Tesoreria/CuentasEmpresaSucursales/RetiroDeposito.js","pages/sucursales/Tesoreria/CuentasEmpresaSucursales/HistorialCuentas.js","pages/sucursales/Tesoreria/CuentasEmpresaSucursales/ListaCuentas.js","pages/sucursales/Tesoreria/CuentasEmpresaSucursales/CuentasEmpresaSucursales.js","gql/Tesoreria/egresos.js","pages/sucursales/Tesoreria/Egresos/TablaProductosEgresos.js","pages/sucursales/Tesoreria/Egresos/FormRegistroEgresos.js","pages/sucursales/Tesoreria/Egresos/VistaRegistroEgreso.js","pages/sucursales/Tesoreria/Egresos/Egresos.js","pages/sucursales/Tesoreria/Abonos/Provedores/Components/DetalleCuenta/TablaCompras.js","gql/Tesoreria/abonos.js","pages/sucursales/Tesoreria/Abonos/Provedores/Components/DetalleCuenta/TablaDeAbonos.js","pages/sucursales/Tesoreria/Abonos/Provedores/Components/AbonoPercibir.js","pages/sucursales/Tesoreria/Abonos/Provedores/Components/DetalleCuenta/DetallesCuenta.js","pages/sucursales/Tesoreria/Abonos/Provedores/Components/LiquidarCuenta.js","pages/sucursales/Tesoreria/Abonos/Provedores/Components/TablaAbonos.js","pages/sucursales/Tesoreria/Abonos/Provedores/AbonosProovedores.js","pages/sucursales/Tesoreria/Abonos/Clientes/Components/DetalleCuenta/TablaCompras.js","pages/sucursales/Tesoreria/Abonos/Clientes/Components/DetalleCuenta/TablaDeAbonos.js","pages/sucursales/Tesoreria/Abonos/Clientes/Components/DetalleCuenta/DetallesCuenta.js","pages/sucursales/Tesoreria/Abonos/Clientes/Components/LiquidarCuenta.js","pages/sucursales/Tesoreria/Abonos/Clientes/Components/TablaAbonos.js","pages/sucursales/Tesoreria/Abonos/Clientes/Components/AbonoPercibir.js","pages/sucursales/Tesoreria/Abonos/Clientes/AbonosClientes.js","pages/sucursales/Tesoreria/Tesoreria.js","pages/sucursales/Tesoreria/IndexTesoreria.js","context/Facturacion/facturacionCtx.js","pages/sucursales/Facturacion/NuevaFactura/ListaVentas/ProductosSinClave.js","gql/Ventas/ventas_generales.js","pages/sucursales/Facturacion/NuevaFactura/ListaVentas/ListaVentasFactura.js","pages/sucursales/Facturacion/NuevaFactura/Catalogos/CodigoPostal.js","pages/sucursales/Facturacion/NuevaFactura/ClientesSelect.js","pages/sucursales/Facturacion/NuevaFactura/RegistroFactura.js","pages/sucursales/Facturacion/NuevaFactura/TablaVenta/EditarProductoFactura.js","pages/sucursales/Facturacion/NuevaFactura/TablaVenta/EliminarProductoFactura.js","pages/sucursales/Facturacion/NuevaFactura/TablaVenta/TablaDetallesFactura.js","pages/sucursales/Facturacion/NuevaFactura/initial_factura_states.js","pages/sucursales/Facturacion/NuevaFactura/RealizarFactura.js","pages/sucursales/Facturacion/NuevaFactura/CancelarFactura.js","pages/sucursales/Facturacion/NuevaFactura/NuevaFactura.js","pages/sucursales/Facturacion/CFDISeries/RegistroSeries.js","pages/sucursales/Facturacion/CFDISeries/ListaSeries.js","pages/sucursales/Facturacion/CFDISeries/SeriesCdfi.js","pages/sucursales/Facturacion/FacturasRealizadas/ExportarProductosFactura.js","pages/sucursales/Facturacion/FacturasRealizadas/DatosFactura.js","pages/sucursales/Facturacion/FacturasRealizadas/ListaFacturas.js","pages/sucursales/Facturacion/FacturasRealizadas/ExportarListaFacturasExcel.js","pages/sucursales/Facturacion/FacturasRealizadas/FacturasRealizadas.js","pages/sucursales/Facturacion/Facturacion.js","pages/sucursales/Almacenes/RegistroAlmacen/ListaAlmacen.js","pages/sucursales/Almacenes/RegistroAlmacen/RegistroAlmacen.js","icons/almacen.svg","context/Almacenes/traspasosAlmacen.js","components/Traspasos/TablePresentacionesNotOrigen.js","components/Traspasos/TallasColoresTraspasos.js","components/Traspasos/TableSelectMedidas.js","components/Traspasos/TableSelectProducts.js","pages/sucursales/Almacenes/Traspasos/Traspasos.js","pages/sucursales/Almacenes/InventarioPorAlmacen/ListaProductos.js","components/ExportExcel.js","pages/sucursales/Almacenes/InventarioPorAlmacen/InventariosPorAlmacen.js","pages/sucursales/Almacenes/Almacenes.js","pages/sucursales/Reportes/Cajas/TablaHistorialFiltrado.js","pages/sucursales/Reportes/Cajas/HistorialCaja.js","pages/sucursales/Reportes/Cajas/CardCaja.js","pages/sucursales/Reportes/Cajas/Cajas.js","pages/sucursales/Reportes/TurnosUsuarios/TablaTurnosFiltrados.js","gql/Ventas/abrir_cerrar_turno.js","pages/sucursales/Reportes/TurnosUsuarios/ReportesTurnosUsuarios.js","pages/sucursales/Reportes/Compras/TablaComprasFiltradas.js","gql/Compras/reporte_compras.js","pages/sucursales/Reportes/Compras/ExportarCompras.js","pages/sucursales/Reportes/Compras/FiltrosCompra.js","pages/sucursales/Reportes/Compras/ReportesCompras.js","pages/sucursales/Reportes/Ventas/TablaVentasFiltradas.js","pages/sucursales/Reportes/Ventas/ReportesVentas.js","pages/sucursales/Reportes/Almacenes/ExportarTraspasos.js","pages/sucursales/Reportes/Almacenes/TablaAlmacenFiltradas.js","pages/sucursales/Reportes/Almacenes/ReportesAlmacen.js","pages/sucursales/Reportes/Cortes/TablaCortesFiltradas.js","pages/sucursales/Reportes/Cortes/ExportExcel.js","pages/sucursales/Reportes/Cortes/ReportesCortes.js","pages/sucursales/Reportes/Tesoreria/ListaEgresos.js","pages/sucursales/Reportes/Tesoreria/ListaTransferencias.js","pages/sucursales/Reportes/Tesoreria/Reporte_Tesoreria.js","pages/sucursales/Reportes/Reportes.js","pages/sucursales/AdminInicio.js","components/Navegaciones/NavegacionAdmin.js","components/Navegaciones/styles.js","pages/ventas/styles.js","context/Ventas/ventasContext.js","pages/ventas/Operaciones/DepositoRetiroCaja.js","pages/ventas/AbrirCerrarTurno/AbrirTurno.js","pages/ventas/AbrirCerrarTurno/CerrarTurno.js","pages/ventas/AbrirCerrarTurno/Turnos.js","context/Accesos/accesosCtx.js","pages/ventas/Operaciones/PreCorteCaja.js","pages/ventas/Operaciones/VentaEnEspera.js","pages/ventas/ArticuloRapido/RegistroInformacionRapido.js","pages/ventas/ArticuloRapido/TallasColoresRapidos/TablaPresentaciones.js","pages/ventas/ArticuloRapido/TallasColoresRapidos/TallasColoresRapidos.js","components/AccesosPassword/Acceso.js","pages/ventas/ArticuloRapido/ArticuloRapido.js","pages/ventas/ArticuloRapido/indexArticuloRapido.js","pages/ventas/Cotizacion/CotizacionesPendientes.js","pages/ventas/Cotizacion/ListaCotizaciones.js","components/Navegaciones/NavegacionVentas.js","pages/ventas/Abonos/Abonos.js","pages/ventas/BuscarProductos/ListaProductos.js","pages/ventas/BuscarProductos/InformacionProducto.js","pages/ventas/BuscarProductos/BuscarProducto.js","pages/ventas/ClientesVentas/ClientesVentas.js","gql/Ventas/cotizaciones.js","pages/ventas/Cotizacion/NuevaCotizacion.js","pages/ventas/Cotizacion/Cotizacion.js","pages/ventas/Operaciones/CancelarVenta.js","pages/ventas/Operaciones/CerrarVenta.js","pages/ventas/Operaciones/ConsultarPrecio.js","pages/ventas/Operaciones/PreciosProducto.js","pages/ventas/VentasEspera/ListaVentas.js","pages/ventas/VentasEspera/VentasEspera.js","pages/ventas/VentasRealizadas/ListaVentasRealizadas.js","pages/ventas/VentasRealizadas/VentasRealizadas.js","components/Navegaciones/NavegacionVentasLateral.js","pages/ventas/EliminarProductoVenta.js","pages/ventas/Tabla_ventas_checkbox.js","pages/ventas/ClientesVentas.js","pages/ventas/VentasGenerales.js","pages/ventas/venta_index.js","img/logochafa.PNG","icons/ventas/admin.svg","icons/ventas/cart-add.svg","components/Layouts/LayoutHome.js","config/routes.js","img/abLogo.jpeg","components/Layouts/LayoutAdmin.js","components/Layouts/LayoutVentas.js","config/colors.js","config/apollo.js","App.js","reportWebVitals.js","index.js"],"names":["CREAR_USUARIO","gql","OBTENER_USUARIOS","ACTUALIZAR_USUARIO","LOGEAR_USUARIO","LOGEAR_USUARIO_ACCESOS","useStyles","makeStyles","theme","snack","zIndex","SnackBarMessages","alert","setAlert","classes","Portal","Snackbar","className","anchorOrigin","vertical","horizontal","open","onClose","status","message","autoHideDuration","Box","display","style","color","mr","Typography","margin","marginTop","spacing","marginBottom","containerImagen","maxWidth","maxHeight","imagen","width","height","initial_state_datos_generales","receta_farmacia","clave_producto_sat","Name","Value","initial_state_precios","monedero","monedero_electronico","iva_activo","ieps_activo","ieps","iva","granel","inventario","inventario_minimo","inventario_maximo","unidad_de_inventario","codigo_unidad","precio_de_compra","precio_con_impuesto","precio_sin_impuesto","unidad_de_compra","unidad","cantidad","precio_unitario_sin_impuesto","precio_unitario_con_impuesto","initial_state_unidadVentaXDefecto","codigo_barras","precio","descuento_activo","precio_unidad","numero_precio","precio_neto","precio_venta","unidad_mayoreo","iva_precio","ieps_precio","utilidad","precio_general","cantidad_unidad","unidad_maxima","unidad_principal","default","initial_state_unidadVentaSecundaria","initial_state_preciosP","initial_state_unidadesVenta","initial_state_almacen_inicial","id_almacen","almacen","fecha_de_expiracion","initial_state_centro_de_costos","initial_state_preciosPlazos","precio_piezas","precio_cajas","precio_costales","initial_state_subcategorias","initial_state_imagenes","initial_state_imagenes_eliminadas","initial_state_onPreview","index","image","initial_state_validacion","error","initial_state_subcostos","initial_state_presentaciones","RegProductoContext","createContext","RegProductoProvider","children","useState","datos_generales","setDatosGenerales","precios","setPrecios","unidadVentaXDefecto","setUnidadVentaXDefecto","unidadVentaSecundaria","setUnidadVentaSecundaria","preciosP","setPreciosP","unidadesVenta","setUnidadesVenta","almacen_inicial","setAlmacenInicial","centro_de_costos","setCentroDeCostos","preciosPlazos","setPreciosPlazos","subcategorias","setSubcategorias","imagenes","setImagenes","imagenes_eliminadas","setImagenesEliminadas","onPreview","setOnPreview","validacion","setValidacion","subcostos","setSubcostos","selectedDate","setSelectedDate","update","setUpdate","presentaciones","setPresentaciones","presentaciones_eliminadas","setPresentacionesEliminadas","React","actualizarLista","setActualizarLista","datosPreciosProducto","setDatosPreciosProducto","preciosDescuentos","setPreciosDescuentos","preciosProductos","setPreciosProductos","datosEnDescuentos","setDatosEnDescuentos","almacen_existente","setAlmacenExistente","Provider","value","EmpresaContext","EmpresaProvider","nombre_empresa","nombre_dueno","telefono_dueno","celular","correo_empresa","nombre_fiscal","rfc","regimen_fiscal","curp","info_adicio","direccion","calle","no_ext","no_int","codigo_postal","colonia","municipio","localidad","estado","pais","direccionFiscal","datosBancarios","cuenta","sucursal","clave_banco","empresa","setEmpresa","toUpdate","setToUpdate","setError","backdrop","drawer","backgroundColor","BackdropComponent","loading","setLoading","Backdrop","CircularProgress","ErrorPage","altura","flexDirection","justifyContent","alignItems","fontSize","align","OBTENER_DATOS_EMPRESA","ACTUALIZAR_EMPRESA","appBar","position","title","marginLeft","flex","icon","subtitle","require","avatarContainer","border","borderRadius","avatar","MisDatos","props","sesion","JSON","parse","localStorage","getItem","loadingPage","setLoadingPage","accesos","mi_empresa","datos_empresa","editar","bloqueo","preview","setPreview","errorPage","setErrorPage","errorForm","setErrorForm","useContext","useMutation","actualizarEmpresa","useQuery","variables","id","_id","data","refetch","valor_puntos","empresaDatos","setEmpresaDatos","useEffect","errorCatch","undefined","obtenerEmpresa","actEmp","a","input","console","log","networkError","result","graphQLErrors","obtenerCampos","e","valor","target","name","parseFloat","obtenerCamposDireccion","onDrop","useCallback","acceptedFiles","reader","FileReader","readAsDataURL","onload","useDropzone","accept","noKeyboard","getRootProps","getInputProps","Container","Grid","container","item","md","Avatar","src","TextField","fullWidth","disabled","type","size","variant","helperText","onChange","inputMode","mt","Divider","DialogActions","Button","onClick","setOpen","usosCfdi","tiposCfdi","NameId","tipoCambio","formaPago","metodoPago","regimenFiscal","Natural","Moral","CREAR_FACTURA","CREAR_SERIE","ACTUALIZAR_DEFAULT_SERIE","ELIMINAR_SERIE","OBTENER_SERIES","CREAR_SELLO_CFDI","ELIMINAR_SELLO_CFDI","RegistroSellos","datosEmpresa","firma_disabled","certificate","private_key","private_key_password","datos","setDatos","show","setShow","handleClose","crearCSDS","obtenerFiles","files","getBase64","file","Promise","resolve","baseURL","guardarBD","cer","key","then","base","split","nombre_cer","catch","err","nombre_key","startIcon","Add","Dialog","DialogTitle","DialogContent","mb","InputProps","endAdornment","InputAdornment","htmlFor","CloudUpload","component","disableElevation","readOnly","multiple","my","IconButton","onMouseDown","event","preventDefault","edge","Done","EliminarSellos","eliminarCSD","eliminarSelloCSD","DeleteOutline","DialogContentText","InformacionFiscal","informacion_fiscal","setFirmaDisabled","empresaFiscal","setEmpresaFiscal","new_sesion","setItem","stringify","sello_sat","limite_timbres","timbres_usados","response","obtenerCamposBancarios","xs","FormControl","Select","MenuItem","map","res","multiline","m","Alert","severity","action","AlertTitle","sm","Transition","forwardRef","ref","Slide","direction","MiEmpresa","setValue","fullScreen","TransitionComponent","AppBar","Toolbar","Tabs","indicatorColor","Tab","label","OBTENER_SUCURSALES","OBTENER_DATOS_SUCURSAL","ACTUALIZAR_SUCURSAL","CREAR_MOVIMIENTO_CUENTA","OBTENER_HISTORIAL_CUENTAS","numerosRandom","min","max","Math","floor","random","formatoFecha","fecha","Date","toLocaleDateString","weekday","year","month","day","formatoFechaCorta","formatoMexico","number","toFixed","toString","replace","cleanTypenames","Array","isArray","newObject","property","findProductArray","producto","venta","productosVentas","productos","found","producto_found","i","length","id_producto","clave_alterna","calculatePrices2","newP","origen","precio_boolean","cantidadNueva","valor_granel","precio_actual","descuento","cantidadCaja","cantidad_unidads","ivaCalculo","iepsCalculo","impuestoCalculo","subtotalCalculo","totalCalculo","monederoCalculo","descuentoCalculo","ob","cantidad_venta","granel_producto","precio_a_vender","precio_actual_producto","precio_actual_object","porciento","dinero_descontado","precio_anterior","verifiPrising","amount","pricings","precios_producto","filter","p","finalPrising","pricing","number_pricing","object_prising","datoFinal","precio_seleccionado","DatosSucursal","actualizarSucursal","nombre_sucursal","descripcion","telefono","sucursalDatos","setSucursalDatos","obtenerDatosSucursal","flexdirection","autoFocus","Empresa","justify","lg","ver","PreciosDeCompra","TableContainer","Table","TableHead","TableRow","TableCell","TableBody","LocalOffer","Checkbox","checked","inputProps","UnidadesVentaSecundaria","setPrecio","calcularUnidadDesucuento","precio_unit","precio_venta_unit","suma_impuestos","PVSI","porcentaje","PVCDSI","dineroDescontado","PCSI","calcularUnidadDesucuentoCheck","boolean","calcularUnidad","PVCI","unidad_secundaria","OutlinedInput","GenCodigoBarras","Cached","onBlur","startAdornment","Tooltip","placement","arrow","aplicarDescuento","precioTitle","marginInput","titulos","fontWeight","PreciosDeVenta","newPreciosP","RenderPreciosP","preciosVenta","calculos","cantidad_sec","descuento_sec","descuento_activo_sec","PUCSI","utilidad_base","unidadXDefecto","unidadSecundaria","new_precio_venta_desc","precio_con_descuento","new_precio_venta_desc_sec","precio_con_descuento_sec","splice","verificarCampoVacio","minWidth","valor_base","obtenerUtilidad","pl","suma","obtenerPrecioNeto","parseInt","obtenerMayoreo","unitCodes","unitCodes_granel","calcular_iva","calcular_ieps","required","RegistroInfoAdidional","obtenerIva","setPrecioConImpuesto","setPrecioSinImpuesto","obtenerIeps","precioConImpuesto","precioSinImpuesto","useDebounce","PCI","PSI","obtenerUnidadCompra","child","unidad_activa","total_impuesto","isNaN","obtenerPrecioConImpuesto","obtenerPrecioSinImpuesto","noWrap","onFocus","FormHelperText","ComprasContext","ComprasProvider","costo","cantidad_regalo","unidad_regalo","cantidad_total","descuento_porcentaje","descuento_precio","iva_total","ieps_total","subtotal","impuestos","total","mantener_precio","subtotal_descuento","total_descuento","datosProducto","setDatosProducto","proveedor","en_espera","fecha_registro","moment","locale","format","compra_credito","fecha_vencimiento_credito","credito_pagado","saldo_credito_pendiente","forma_pago","descuento_aplicado","cantidad_descontada","datosCompra","setDatosCompra","setPreciosVenta","productoOriginal","setProductoOriginal","productosCompra","setProductosCompra","isEditing","setIsEditing","editFinish","setEditFinish","setCosto","setCantidad","issue","setIssue","loadingProductos","setLoadingProductos","descuentoCompra","setDescuentoCompra","compareFunction","b","medida","talla","localeCompare","root","paper","table","tableRow","alpha","palette","primary","main","visuallyHidden","clip","overflow","padding","top","colorContainer","TablaPresentaciones","from","setOnUpdate","onUpdate","withoutPrice","onlyPrice","mostrar_presentaciones","sort","Paper","stickyHeader","RenderPresentacionesRows","disabledInput","setDisabledInput","textfield","useRef","copy_presentaciones","copy_element_presentacion","copy_element_presentacion_descuento","copy_producto","obtenerDatos","existencia","cantidad_nueva","actionButton","hover","selected","Input","inputRef","nuevo","nombre_comercial","Chip","nombre","Zoom","hex","LocalOfferOutlined","checkedIcon","Edit","TabPanel","other","role","hidden","a11yProps","AlertDialogSlide","agregarCompra","cargando","toggleDrawer","resetProducto","new_precios","unidades_de_venta","unidades_secundaria","unidadxdefecto","actualizarContextProducto","keepMounted","tipo_producto","newValue","scrollButtons","textColor","LocalAtm","SquareFoot","OBTENER_CONSULTAS","CREAR_PRODUCTO","OBTENER_PRODUCTOS","ACTUALIZAR_PRODUCTO","ELIMINAR_PRODUCTO","PRODUCTOS_ELIMINADOS","ACTIVAR_PRODUCTOS","CREAR_PRODUCTO_RAPIDO","CREAR_COLOR","OBTENER_COLORES","ACTUALIZAR_COLOR","ELIMINAR_COLOR","CrearColorProducto","setColor","values","setValues","toggleModal","crearColor","GuardarDatosBD","colores","scroll","disableEscapeKeyDown","reason","onChangeComplete","toUpperCase","bgcolor","onSubmit","focused","form","CREAR_TALLAS","OBTENER_TALLAS","ACTUALIZAR_TALLA","ELIMINAR_TALLA","CrearTallasProducto","setMedidasSeleccionadas","crearTalla","nueva_talla","tipo","cursor","ColoresTallas","obtenerConsultasProducto","tallas","calzados","medidasSeleccionadas","coloresSeleccionados","setColoresSeleccionados","medidas","obtenerColoresSeleccinados","colors","forEach","element","push","hashColor","hashMedida","colores_existentes","existColor","medidas_existentes","existMedida","pointerEvents","opacity","mx","RenderTallas","useTheme","setSelected","seleccionarMedidas","medidas_registradas","medidas_seleccionadas_temp","presentacion_temp","array_medidad_finales","producto_medida","k","producto_color","presentacion_existente","producto_array_final","x","objeto_presentaciones_final","handleAddTallas","getContrastText","Colores","seleccionarColores","obtenerColores","verificate","setVerificate","disableHoverListener","valuesFacturama","$","ajaxSetup","beforeSend","xhr","withCredentials","setRequestHeader","facturama","settings","url","retrieve","path","callback","jQuery","get","list","postSyncWithData","callbackError","ajax","dataType","contentType","success","putSyncWithData","deleteSyncWithParam","param","async","facturamaObject","Clients","Get","List","Create","Remove","Update","Products","BranchOffice","Series","idBranch","Cfdi","listWithParam","Send","postSyncWithParam","Cancel","params","Download","Acuse","TaxEntity","UploadCsd","UploadImage","Catalogs","States","country","Municipalities","state","Localities","Neighborhoods","postalCode","ProductsOrServices","keyword","PostalCodes","Units","Currencies","Countries","PaymentForms","PaymentMethods","FederalTaxes","FiscalRegimens","CfdiTypes","RelationTypes","CfdiUses","CREAR_CODIGO_PRODUCTO","ELIMINAR_CODIGO_PRODUCTO","background","spin_container","spin","CatalogosProductosSAT","codigos","busqueda","setBusqueda","setProductos","loading_save","setLoadingSave","loading_delete","setLoadingDelete","selectedIndex","setSelectedIndex","crearCodigoProducto","eliminarCodigoProducto","limpiarDataModal","handleOk","eliminarCodigoBD","handleCancel","buscarCatalogo","Facturama","responseJSON","Message","Autocomplete","options","getOptionLabel","option","renderInput","renderOption","flexGrow","_","getOptionSelected","Search","dense","SelectedListItem","contiene","includes","ListItem","button","click","detail","ListItemText","CREAR_CATEGORIA","CREAR_SUBCATEGORIA","ACTUALIZAR_CATEGORIA","ACTUALIZAR_SUBCATEGORIA","OBTENER_CATEGORIAS","ELIMINAR_CATEGORIA","ELIMINAR_SUBCATEGORIA","OBTENER_DEPARTAMENTOS","REGISTRAR_DEPARTAMENTO","ACTUALIZAR_DEPARTAMENTO","ELIMINAR_DEPARTAMENTO","OBTENER_MARCAS","REGISTRAR_MARCAS","ACTUALIZAR_MARCAS","ELIMINAR_MARCAS","formInputFlex","formInput","obligatorio","RegistroInfoGenerales","categorias","departamentos","marcas","centro_costos","obtenerChecks","obtenerIDs","categoria","id_categoria","costos","id_cuenta","subcuentas","Autorenew","nombre_generico","subcategoria","departamento","nombre_departamentos","marca","nombre_marca","FormControlLabel","control","RegistrarNuevoSelect","crearCategoria","crearSubcategoria","CrearDepartamentos","CrearMarca","handleToggle","guardarDatos","idCategoria","categoria_creada","subcategoria_creada","id_subcategoria","departamento_creado","id_departamento","crearDepartamentos","marca_creada","id_marca","crearMarcas","endIcon","CargarImagenesProducto","render_imagenes","URL","createObjectURL","AddPhotoAlternate","minHeight","orientation","alt","RenderImagenes","key_imagen","url_imagen","handleModal","eliminarImagen","array","ModalDelete","Delete","CrearAlmacenContext","AlmacenProvider","nombre_almacen","id_usuario_encargado","datosAlmacen","setDatosAlmacen","openRegistro","setOpenRegistro","REGISTRO_ALMACEN","OBTENER_ALMACENES","ACTUALIZAR_ALMACEN","OBTENER_PRODUCTOS_ALMACEN","REALIZAR_TRASPASO","OBTENER_PRODUCTOS_EMPRESA","OBTENER_TRASPASOS","ContainerRegistroAlmacen","accion","CrearAlmacen","ActualizarAlmacen","obtenerUsuarios","limpiarCampos","onCloseModal","saveData","almacen_creado","crearAlmacen","id_sucursal","labelId","user","RegistroAlmacenInicial","almacenes","obtenerInventario","validaciones","generales","vista3","vista1","vista2","CREAR_CUENTA","CREAR_SUBCUENTA","ACTUALIZAR_CUENTA","ACTUALIZAR_SUBCUENTA","OBTENER_CUENTAS","ELIMINAR_CUENTA","ELIMINAR_SUBCUENTA","CentroCostos","obtenerAlmacenes","subcuenta","crearCuenta","crearSubcuenta","idCuenta","cuenta_creada","subcuenta_creada","id_subcuenta","validateJsonEdit","object_date","end_array","object","root_app","iconSvg","dialogContent","tabs","borderRight","divider","CrearProducto","productosRefetch","fromCompra","getProductos","crearProducto","actualizarProducto","setInitialStates","resetInitialStates","validate","vista7","copy_unidadesVenta","imagenes_without_aws","precio_plazos","usuario","medidas_producto","inventario_general","window","onkeydown","keyCode","document","getElementById","saveButton","ButtonActions","NavigateNext","Badge","badgeContent","invisible","NavigateBefore","ContenidoModal","fetchPolicy","PreciosDeVentaCompras","numero","RenderPrecios","setPrecioNeto","copy_preciosVenta","preciosVenta_base","calculosCompra","DescuentosInputs","round","obtenerPrecio","obtenerPorcentaje","ClienteCtx","ClienteProvider","estado_cliente","cliente","setCliente","updateClientVenta","setUpdateClientVenta","RegistrarInfoBasica","numero_cliente","nombre_cliente","representante","clave_cliente","fecha_nacimiento","email","RegistrarInfoCredito","razon_social","numero_descuento","limite_credito","dias_credito","banco","numero_cuenta","CREAR_CLIENTE","OBTENER_CLIENTES","ACTUALIZAR_CLIENTE","ELIMINAR_CLIENTE","CrearCliente","ventas","handleClickOpen","crearCliente","actualizarCliente","copy_cliente","tipo_cliente","clienteBase","venta_actual","subTotal","tipo_cambio","venta_cliente","elevation","CREAR_COMPRA","CREAR_COMPRA_ESPERA","OBTENER_COMPRAS_REALIZADAS","OBTENER_COMPRAS_ESPERA","OBTENER_CONSULTA_GENERAL_PRODUCTO","ELIMINAR_COMPRA_ESPERA","initial_state_datosProducto","initial_state_datosCompra","initial_state_precios_venta","initial_state_productoOriginal","initial_state_productosCompra","DatosProveedorAlmacen","obtenerProveedorAlmacen","id_proveedor","errorRender","loadingRender","obtenerConsultaGeneralCompras","proveedores","MostrarPrecios","cantida_suma","presentacion","DatosProducto","count","setCargando","client","useApolloClient","setData","query","COSTO","CANTIDAD","nuevo_iva","nuevo_impuesto","obtenerCosto","obtenerCantidad","obtenerProductos","obtenerSelectsProducto","obtenerUnidadRegalo","actualizar_Precios","copy_datosProducto","copy_datosGenerales","copy_precios","copy_preciosP","copy_almacenInicial","copy_centroCostos","copy_presentacionesEliminadas","copy_precioPlazos","nueva","factor","cantidad_total_media","cantidad_regalo_media","productosCompra_ordenados","existente","prod_exist","Boolean","array_ordenado","ModalAgregarCompra","InfoOutlined","SetOrResetData","setStates","ListaCompras","productos_ordernados","RenderProductosCompra","isSelected","setIsSelected","productoCTX","seStates","unidad_producto","tabIndex","finish","ModalDeleteProducto","copy_compras","objeto_eliminado","ConfirmarCompra","realizarCompraBD","loading_modal","setLoadingModal","InputLabel","CompraCredito","CreditCard","AbrirCompra","compra","handleOpenDetalles","refetchEspera","ModalCompra","openDelete","setOpenDelete","crearCompra","crearCompraEnEspera","compra_en_espera","credito","conflicto","handleToggleDelete","Timer","CancelarCompra","ExcelFile","ReactExport","ExcelSheet","ExcelColumn","ExportarProductosComprasExcel","compra_realizada","productos_detalles","Cantidad_regalo","CloudDownloadOutlined","filename","DatosDeCompra","productosFiltrados","setProductosFiltrados","toLowerCase","marginRight","placeholder","ListaProductos","obtenerComprasRealizadas","RenderRowsCompras","DetallesCompra","handleOpen","AssignmentOutlined","ExportarComprasExcel","filtro","filtroFecha","compras","nombre_documento","since","ComprasRealizadas","ContentDialogCompras","setFiltro","setFiltroFecha","searchfilter","filterDate","obtenerBusqueda","subtract","obtenerFecha","onDelete","current","VerificarProductosCompras","nuevoArray","setNuevoArray","setVerificado","setSuccess","VerifiedUser","ModalVerificacion","loadingVerificacion","setLoadingVerificacion","useLazyQuery","getQuery","productos_nuevos","copy_producto_compra","productos_filtrados","precios_base","unidades_base","presentaciones_base","u_default","u_default_base","present","y","present_base","nuevo_producto_compra","total_con_descuento","setTimeout","verificarProductos","compra_temp","setCompraTemp","permisosUsuario","verificado","compras_espera","eliminar","paddingTop","paddingBottom","ModalEliminarCompra","eliminarCompraEnEspera","eliminarCompra","DeleteOutlined","ListaEnEspera","obtenerComprasEnEspera","elimina","RenderRowsComprasEspera","ModalContinuarCompra","ComprasEnEspera","Compras","abrir_compra","compras_realizadas","ListaClientes","selectDataClient","showModal","setShowModal","dataSelectRowClient","setDataSelectRowClient","handleClickOpenModal","obtenerClientes","row","handleClickSelectClient","RowsRender","cambiarEstado","Switch","catalogos","clientes","EliminarCliente","eliminarCliente","eliminarClienteBD","paddingLeft","Cliente","InputBase","onKeyPress","defaultValue","agregar","REGISTRAR_DESCUENTOS","DESACTIVAR_DESCUENTOS","ELIMINAR_DESCUENTOS","headCells","EnhancedTableHead","onSelectAllClick","numSelected","rowCount","datosPrecios","variable","indeterminate","headCell","numeric","disablePadding","TablaPreciosDescuentos","setCleanList","cleanList","verificarDatos","setPrecioPrueba","page","rowsPerPage","handleClick","indexOf","newSelected","concat","slice","emptyRows","newSelecteds","n","isItemSelected","colSpan","openModal","setOpenModal","DesactivarDescuentoUnidad","ELiminarDescuentoUnidad","handleChangeActivo","editarDatos","handleDelete","resultado","eliminarDescuentoUnidad","defaultChecked","Modal","avatarGroup","rootSlice","rootTable","DescuentoProductos","CrearDescuentoUnidad","openDescuento","setOpenDescuento","precioPrueba","handleCloseDescuentos","cerrarModal","arrayDescuento","descuentos","eliminado","textAlign","dislay","gutterBottom","justifyItems","Slider","getAriaValueText","valueLabelDisplay","valorText","obtenerPrecioText","drawWidth","breakpoints","down","InfoProductoDrawer","ListAlt","Drawer","anchor","CropOriginal","bottom","EliminarProducto","eliminarProducto","handleToggleModal","eliminarProductoBD","RenderTableRows","cantidad_existente","unidad_inventario","ProdcutosEliminados","productosActivosRefetch","handleModalToggle","RestoreFromTrash","TablaProductosEliminados","obtenerProductosInactivos","RenderProductosTabla","activarProducto","handleDeleteToggle","reactivarProducto","Publish","Productos","RegistroComponent","existencias","setExistencias","ArrowBack","ProductoIndex","TablaTallas","setPage","setRowsPerPage","tallas_numeros","TablePagination","rowsPerPageOptions","onChangePage","newPage","onChangeRowsPerPage","eliminarTalla","resp","msgAlert","dato","RegistroTallas","actualizarTalla","obtenerTallas","talla_actualizada","ml","iconSvgSecondary","Tallas","centered","OBTENER_CONTABILIDAD","REGISTRAR_CONTABILIDAD","ACTUALIZAR_CONTABILIDAD","ELIMINAR_CONTABILIDAD","TablaServicios","setIdService","idService","setAccion","updateData","obtenerContabilidad","EliminarContabilidad","contabilidad","nombre_servicio","RegistroServicios","setUpdateData","CrearContabilidad","ActualizarContabilidad","handleSubmit","inputActualizado","Contabilidad","columns","TablaProveedores","column","provedores","Proveedores","TablaCajas","permisos","cajas","obtenerCajasSucursal","numero_caja","deleteCaja","CREAR_CAJA","OBTENER_CAJAS","CREAR_HISTORIAL_CAJA","OBTENER_HISTORIAL_CAJA","ELIMINAR_CAJA","OBTENER_PRE_CORTE_CAJA","OBTENER_CORTES_CAJA","OBTENER_CORTE_CAJA","RegistroCajas","crearCaja","eliminarCaja","nuevaCaja","usuario_creador","numero_usuario_creador","numero_usuario","nombre_usuario_creador","Cajas","arregloVacio","tesoreria","cuentas_empresa","egresos","abonos_proveedores","abonos_clientes","reportes","reporte_historial_cajas","reporte_turnos","reporte_compras","reporte_ventas","rerporte_almacen","reporte_corte_caja","reporte_tesoreria","cancelar_venta","precios_productos","pre_corte","cotizaciones","administrador","eliminar_ventas","producto_rapido","traspasos","inventario_almacen","usuarios","conceptos_almacen","facturacion","generar_cdfi","cdfi_realizados","registro_series_cdfi","UsuarioContext","UsuarioProvider","estado_usuario","setUsuario","FormularioUsuario","showPassword","setShowPassword","autoComplete","password","repeatPassword","ActualizarPasswordModal","actualizarUsuario","confirmarPassowrd","Parametros","arregloAccesos","obtenerAccesos","subDepartamento","Catalogos","Almacenes","Tesoreria","Reportes","Ventas","Facturacion","AsignarPermisos","rootPrincipal","CrearUsuario","turno_en_caja_activo","crearUsuario","subDepartamentos","ListaUsuarios","openDetalles","setOpenDetalles","handleDetalles","ModalDetalles","Dehaze","Usuarios","CreateDepartamentosContext","DepartamentosProvider","idDepartamento","setIdDepartamento","TablaDepartamentos","obtenerDepartamentos","eliminarDepartamento","RegistroDepartamentos","ActualzarDepartamentos","Departamentos","fade","secondary","RegistroCategorias","setCategoria","toUpdateID","setToUpdateID","loadingBackDrop","setLoadingBackDrop","actualizarCategoria","guardarCategoria","categoriaActualizada","render_categorias","obtenerCategorias","RenderCategorias","setSubcategoria","actualizarSubcategoria","eliminarCategoria","render_subcategorias","guardarSubcategoria","subCategoriaActualizada","idSubcategoria","stopPropagation","Accordion","AccordionSummary","expandIcon","ExpandMore","scrollTo","AccordionDetails","RenderSubcategorias","eliminarSubcategoria","px","Categorias","TablaColores","cache","eliminarColor","readQuery","writeQuery","RegistroColores","actualizarColor","colorActualizado","msg","ListaMarcas","obtenerMarcas","eliminarMarca","CreateMarcasContext","MarcasProvider","datosMarcas","setDatosMarcas","VistaMarcas","actualizarMarca","Marcas","setCuenta","actualizarCuenta","render_cuentas","obtenerCuentas","guardarCuenta","cuentaActualizada","RenderCuentas","setSubcuenta","eliminarCuenta","actualizarSubcuenta","render_subcuentas","guardarSubcuenta","subCuentaActualizada","idSubcuenta","deleteCuenta","RenderSubcuentas","eliminarSubcuenta","deleteSubCuenta","idSubCuenta","OBTENER_CONCEPTOS_ALMACEN","REGISTRAR_CONCEPTO_ALMACEN","ACTUALIZAR_CONCEPTO_ALMACEN","ELIMINAR_CONCEPTO_ALMACEN","TablaConceptos","setIdConcepto","idConcepto","obtenerConcepto","EliminarConceptoAlmacen","obtenerConceptosAlmacen","nombre_concepto","destino","editable","formControl","MenuProps","PaperProps","ITEM_HEIGHT","tipos","getStyles","tipoName","typography","fontWeightRegular","fontWeightMedium","crearConceptoAlmacen","actualizarConceptoAlmacen","ConceptosAlmacen","alignSelf","TesoreriaCtx","TesoreriaProvider","cuentas","setCuentas","reload","setReload","formComboBox","RetiroDeposito","turnoEnCurso","CrearMovimientoCuenta","datosMovimiento","setDatosMovimiento","onChangeDatos","tipo_movimiento","id_usuario","rol_movimiento","id_Caja","id_caja","horario_turno","concepto","hora_moviento","hora","minutos","segundos","completa","fecha_movimiento","mes","dia","no_semana_year","week","no_dia_year","dayOfYear","montos_en_caja","monto_efectivo","monto","metodo_pago","monto_tarjeta_debito","monto_tarjeta_credito","monto_creditos","monto_monedero","monto_transferencia","monto_cheques","monto_vales_despensa","comentarios","enviarDatos","movimiento","crearMovimientoCuenta","rows","rootBusqueda","HistorialCuentas","datosFiltro","setDatosFiltro","fecha_inicio","fecha_fin","historialCuenta","obtenerHistorialCuenta","RowsHistorial","ListaCuentas","cuentaEmpresa","cuentasSucursalesEmpresa","cuentaPrincipal","obtenerSucursalesEmpresa","cuenta_empresa","dinero_actual","RowsCuentas","cuenta_sucursal","buttons","CuentasEmpresaSucursales","OBTENER_HISTORIAL_EGRESOS","CREAR_EGRESO","TablaProductosEgresos","borrarProducto","RowsProductos","onPageChange","onRowsPerPageChange","cantidad_productos","precio_unitario","FormRegistroEgresos","CrearEgreso","upload","setUpload","datosEgreso","setDatosEgreso","totalCompra","setTotalCompra","subCuentas","setSubCuentas","setProducto","obtenerDatoProductos","totalCompraVenta","folio_egreso","folio_factura","empresa_distribuidora","provedor","subCategoria","fecha_compra","fecha_vencimiento","fecha_vencimiento0","observaciones","id_user","saldo_total","egreso","crearEgreso","GenFolio","InputLabelProps","shrink","obtenerSubCuentas","subCuenta","producto_guardado","elemento","indice","iconSize","info","VistaRegistroEgreso","iconSizeSecond","Egresos","TablaCompras","OBTENER_HISTORIAL_ABONOS","CREAR_ABONO","TablaAbonos","id_cliente","id_egreso","id_compra","abonos","obtenerHistorialAbonos","monto_total_abonado","AbonoaRecibir","CrearAbono","abono","setAbono","setMetodoPago","metodo_de_pago","clave","metodo","telefono_cliente","email_cliente","alignContent","DetallesCuenta","LiquidarCuenta","cuentaTotalDescuento","setCuentaTotalDescuento","setDineroDescontado","porciento_descuento","valueLabelFormat","cuenta_con_descuento","cuentaSelect","clearTimeout","timer","TwoClickInRowTableBuy","rootSearch","AbonosProveedores","toLocaleString","createData","code","population","density","ToggleButtonGroup","exclusive","calories","fat","carbs","protein","scope","AbonosClientes","IndexTesoreria","FacturacionCtx","FacturacionProvider","serie","currency","expedition_place","folio","cfdi_type","payment_form","payment_method","logo_url","date","issuer","FiscalRegime","Rfc","receiver","CfdiUse","items","datosFactura","setDatosFactura","venta_factura","setVentaFactura","cp_valido","setCPValido","setCodigoPostal","error_validation","ProductosSinClaveSat","CONSULTA_PRODUCTO_UNITARIO","CONSULTA_PRODUCTOS_VENTAS","OBTENER_CLIENTES_VENTAS","CREAR_VENTA","OBTENER_VENTAS_SUCURSAL","ListaVentasFactura","ComponentBusquedaVenta","open_productos","setOpenProductos","productos_sin_clave","setProductosSinClave","resultado_ventas","openProductosClaves","RenderLista","obtenerVentasSucursal","without_sat_code","productos_base","obtenerVenta","CodigoPostal","CP","obtenerCodigoPostal","Fragment","ListaClientesFacturas","BuscadorClienteComponent","openAlertRfc","setOpenAlertRfc","resultado_clientes","handleCloseAlertRFC","openAlertRFC","RenderListClientes","minwidth","obtenerClienteTabla","RegistroFactura","serie_default","ModificarProductoFactura","producto_base","setProductoBase","venta_base","setVentaBase","cantidad_base","precio_base","venta_copy","resta_base","suma_nuevo","precios_nuevos","impuestos_precio","copy_array_productos","guardarPrecios","EliminarProductoFactura","copy_venta","copy_productos","precio_resta","DetallesFactura","RowTableProductos","factura_initial_state","RealizarFactura","setProductosFactura","CrearFactura","crearFactura","nuevo_obj","Taxes","Total","Base","Rate","IsRetention","ProductCode","IdentificationNumber","Description","UnitCode","UnitPrice","Quantity","Subtotal","Discount","InputsFacturaModal","CancelarFactura","handleCloseFactura","cancelar","NuevaFactura","DialogFacturaPrincipal","openCancel","setOpenCancel","cancelarCFDI","FacturaModalContent","seriesCfdi","obtenerSeriesCdfi","RegistroSeries","crearSerieCFDI","obtenerDatosSeries","guardarDatosBD","ListaSeriesCDFI","modificarDefaultSerie","setPredeterminado","ModalDeleteSerie","eliminarSerie","eliminarSerieBD","SeriesCDFI","ContentSeriesCFDI","ExportarProductosFacturaExcel","ListaFacturas","ListaAlmacen","RegistroAlmacen","TraspasosAlmacenContext","TraspasosProvider","productosTo","setProductosTo","productosEmpTo","setProductosEmpTo","productosTras","setProductosTras","dataExcel","setDataExcel","setNew_medidas","nuevaCantidad","new_medidas","presentaciones_existentes","paddingRight","cell","idProducto","cantidadAnt","copy_medida","product_selected","new_medidasCopia","med","Object","hasOwnProperty","call","cant","order","orderBy","onRequestSort","headCellsNames","add","sortDirection","TableSortLabel","active","useToolbarStyles","inputCantidad","inputCantidadTable","highlight","lighten","light","text","dark","flexWrap","DialogTallas","close","setOpenTallas","setproduct_selected","prod","openTallas","almacenOrigen","newMedidasCopy","prodSelect","existe","copyProductosTras","medidasTo","newMed","obj","EnhancedTableToolbar","cantidadTo","setCantidadTo","openEnd","setOpenEnd","tipoPieza","setValueToTrans","mensaje","find","totalCantExistMasNuevaCantidad","piezas","cantidad_existente_maxima","unidadMaxima","TipoPiezaComponent","TIPO_PIEZA","unidad_minima","clsx","intValue","onlyNumbers","deletesItems","EnhancedTable","setOrder","setOrderBy","setCant","setTipoPieza","haveCant","handleSelectAllClick","prod_sel","editItem","prodSet","deleteItem","boxUpData","selected2","inputBox","boxControl","centerControl","almacenName","transportes","steps","Traspasos","haveConcepto","setHaveConcepto","conceptoTraspaso","setConceptoTraspaso","isAlmacenOrigen","setIsAlmacenOrigen","isAlmacenDestino","setIsAlmacenDestino","setAlmacenOrigen","almacenDestino","setAlmacenDestino","almacenesDestino","setAlmacenesDestino","transporte","setTransporte","placas","setPlacas","nombreQuien","setNombreQuien","activeStep","setActiveStep","Set","skipped","setSkipped","CrearTraspaso","conceptos","queryObtenerAlmacenes","dataConceptos","categoriasQuery","productosQuery","productosEmpresaQuery","obtenerProductosAlmacen","obtenerProductosEmpresa","obtenerProductosPorEmpresa","isStepSkipped","step","has","handleBack","prevActiveStep","traspasar","concepto_traspaso","almacen_origen","almacen_destino","datos_transporte","nombre_encargado","sucursalOrigen","sucursalDestino","traspaso","crearTraspaso","sx","almacenIcon","Stepper","stepProps","completed","Step","StepLabel","trans","pt","newSkipped","delete","handleNext","Rowrow","rowProps","dataExcelHere","setDataExcelHere","arrayCantidades","font","sz","alignment","wrapText","rgb","setRow","setTotal","setUnidad_Minima","tot","r","datExc","almacenColumna","existencia_almacenes","productosLength","ListaAlmacenes","withRouter","fileName","columnName","InventariosPorAlmacen","InventarioPorAlmacen","setObtenerAlmacenes","setColumns","productosAlmacenQuery","obtenerProductosAlmacenes","columnsEffect","widthPx","almace","mrstyle","Moviminetos","TablaHistorialFiltrado","historial","iconSave","right","HistorialCaja","datosBuscar","setDatosBuscar","datosExcel","obtenerHistorialCaja","cajaSelected","fecha_incio","arrayExcel","datosHistorial","hora_movimiento","caja","agruparDatos","handleDatos","StyledBadge","withStyles","badge","boxShadow","left","animation","content","transform","media","expand","transition","transitions","create","duration","shortest","expandOpen","red","textActive","CardCaja","styleProps","activa","Card","CardHeader","overlap","openHistorial","setOpenHistorial","setCajaSelected","handleClickOpenHistorial","cantidad_efectivo_actual","fetchCajas","TablaTurnosFiltrados","turnos","turno","hora_entrada","hora_salida","usuario_en_turno","horario_en_turno","REGISTRAR_TURNOS","OBTENER_HISTORIAL_TURNOS","ReportesTurnosUsuarios","FiltroTablaTurnos","filtros","setFiltros","historialTurnos","fechaInicio","fechaFin","fecha_entrada","fecha_salida","obtenerFiltroTurnos","TablaComprasFiltradas","OBTENER_REPORTE_COMPRAS","ExportarCompras","forma","FiltrosCompras","obtenerProductoMovimientos","CapturaDeDatos","obtenerCamposFiltro","realizarBusquedaBD","ClearOutlined","ReportesCompras","TablaVentasFiltradas","ReportesVentas","ExportarTraspasos","id_traspaso","TablaAlmacenFiltradas","ReportesAlmacen","fecha_final","inputFilter","setFilter","encargado","setEncargado","queryObtenerUsuarios","traspasosAlmacenes","setDatosInput","fil","obtenerTraspasos","enc","almDes","almOri","encId","setEncargadoInput","alm","setQueryAlmacenOrigen","setQueryAlmacenDestino","filt","limpiarFiltros","TablaCortesFiltradas","cortes","corte","token_turno_user","number_user","obtenerCorte","montos_sistema","obtenerCorteCaja","montos_en_sistema","InformacionCorteCaja","ExportExcel","historialCortes","setDatosExcel","ReportesCortes","cajasBase","fecha_consulta","obtenerCortesDeCaja","ListaEgresos","historialEgresos","obtenerHistorialEgresos","RowsEgresos","DialogCaracteristicas","ListaTransferencias","ReportesTesoreria","ventana","setVentana","anchorEl","setAnchorEl","currentTarget","Menu","ListItemIcon","iconSvgVenta","history","axis","onChangeIndex","appbar","navbar","grey","menuButton","token","removeItem","flexShrink","drawerColor","drawerPaper","navigationTop","iconSizeSuperior","iconSizeSecondSuperior","iconSizeInferior","iconSizeSecondInferior","iconSizeSecondInferiorGrande","iconSizeInferiorGrande","borderBoton","borderBotonChico","rootPrecioProductos","containerImage","rootBusquedaProductos","rootFecha","iconSizeDialogs","iconSizeDialogsPequeno","containerImagenesProducto","imagenProducto","VentasContext","VentasProvider","datosProductoVentas","setDatosProductoVentas","setProductosVentas","datosVentas","setDatosVentas","productoCambioPrecio","setProductoCambioPrecio","precioSelectProductoVenta","setPrecioSelectProductoVenta","clientesVentas","setClientesVentas","turnoActivo","setTurnoActivo","ubicacionTurno","setUbicacionTurno","abrirTurnosDialog","setAbrirTurnosDialog","updateTablaVentas","setUpdateTablaVentas","DepositoRetiroCaja","CrearHistorialCaja","setMovimiento","preCorteDeCaja","dineroEnCaja","obtenerPreCorteCaja","monto_efectivo_precorte","addEventListener","altKey","id_User","textTransform","newAlignment","ToggleButton","AbrirTurno","CrearRegistroDeTurno","abrirTurno","setAbrirTurno","numeroCaja","setNumeroCaja","obtenerTurno","arraySesion","exp","iat","turno_en_curso","caja_elegida","monto_abrir","variableTurnoAbierto","crearRegistroDeTurno","montoTurno","setMontoTurno","cerrarTurno","setCerrarTurno","obtenerCamposMontos","monto_puntos","actualizarTurnoSesion","Turnos","ContenidoTurnos","AccesosContext","AccesosProvider","abrirPanelAcceso","setAbrirPanelAcceso","tipo_acceso","setDepartamentos","reloadAdministrador","setReloadAdministrador","reloadProductoRapido","setReloadProductoRapido","reloadCancelarVenta","setReloadCancelarVenta","reloadVerPrecios","setReloadVerPrecios","reloadVerPreCorte","setReloadVerPreCorte","reloadEliminarVentaEspera","setReloadEliminarVentaEspera","reloadCrearCotizacion","setReloadCrearCotizacion","PreCorteCaja","VentaEnEspera","agregarVentaEnEspera","justifySelf","RegistroInformacionRapido","setAbrirTallaColor","varIVA","varIEPS","TallasColoresRapidos","Acceso","datosUser","setDatosUser","handleClickClose","obtenerQuery","obtenerAccesoPermiso","permiso_concedido","SwitchPermisos","ArticuloRapido","crearProductoRapido","abrirTallaColor","AceesoProductoRapido","ProductoRapidoIndex","CotizacionesPendientes","CotizacionesRows","ListaCotizaciones","Administrador","BottomNavigation","showLabels","srsc","Abonos","productosBusqueda","setProductoSeleccionado","InformacionProducto","productoSeleccionado","BuscarProducto","searchProducto","setSearchProducto","obtenerProductosVentas","keyUpEvent","onKeyUp","ClientesVentas","CREAR_COTIZACION","NuevaCotizacion","CrearCotizacion","newCotizacion","setNewCotizacion","descuento_general","totalDescount","setTotalDescount","descuento_general_activo","crearCotizacion","tipo_venta","registroCotizacion","errors","cantidad_descontado","Cotizacion","tipoVentana","setTipoVentana","CancelarVenta","CerrarVenta","cambio","setCambio","abrirCajon","openModalDescuento","setOpenModalDescuento","recalcular","setRecalcular","totalVenta","setTotalVenta","montoPagado","setMontoPagado","cambioVenta","setCambioVenta","datosCliente","setDatosCliente","setMonedero","descuentoVenta","fechaVencimientoDate","setfechaVencimientoDate","valorPuntoProducto","valorFinalCambioPuntos","setValorFinalCambioPuntos","monederoTotal","setMonederoTotal","ventaActual","setVentaActual","editableClient","setEditableClient","visible","setVisible","descuentoAplicarVenta","setDescuentoAplicarVenta","descuentoPorsentajeVenta","setDescuentoPorsentajeVenta","setVentaOriginal","efectivo","setEfectivo","tarjeta","setTarjeta","puntos","setPuntos","transferencia","setTransferencia","cheque","setCheque","descuentoAplicado","createVenta","handleClickFinishVenta","ventaFinal","montosEnCaja","decuento_general","dias_de_credito_venta","fecha_de_vencimiento_credito","fecha_vencimiento_cotizacion","handlerChangeValue","location","valor2","monederoVenta","credito_disponible","modelDate","hoy","diasDiff","diff","pr","positiveDiscount","abs","handlerChangeDiscountVenta","ventaSubtotal","val","handleChangePorsentDiscount","productosFinal","productStorage","product","porsentajeNewDescuento","dineroDescontadoDescuento","newPrecioVentaProduct","newIvaProduct","newIepsProduct","newPrecioNetoProduct","newUtilidadProduct","valorGranel","ieps_total_producto","impuestos_total_producto","iva_total_producto","subtotal_total_producto","total_total_producto","descuentoProducto","handleCalculateNewDiscountVenta","ConsultarPrecio","activeItemIndex","setActiveItemIndex","productoBase","obtenerUnProductoVentas","input_value","datosProductos","displa","requestToChangeActive","numberOfCards","leftChevron","rightChevron","infiniteLoop","outsideChevron","chevronWidth","PreciosProductos","selectPrisingProduct","setSelectPrisingProduct","handleAceptChangePrising","venta_existente","productosVentasTemp","newProductoPrecioNuevo","newProductoPrecioActual","producto_encontrado","new_resta","new_suma","CalculosData","doubleClick","ListaVentas","listaEnEspera","RowsVentas","keyIndex","setKeyIndex","borrarVenta","VentasEspera","ListaVentasRealizadas","VentasRealizadas","NavegacionVentasLateral","setDatosVentasActual","setNewProductoVentas","newProductoVentas","datosTabla","setDatosTabla","newCantidadProduct","setNewCantidadProduct","tempAmount","setTempAmount","CalculeDataPricing","new_cant","verify_prising","newPrising","precio_actual_porducto","calculateNewPricingAmount","selectClient","setSelectClient","obtenerClientesVentas","dataCliente","ChangeClientAutocomplate","VentasGenerales","granelBase","setGranelBase","DatosVentasActual","consultaBase","setConsultaBase","productosBase","agregarProductos","trim","data_operation","data_key","productoPrecioFinal","new_prices","calculo_resta","calculo_sumar","elevantion","VentaIndex","varActive","setVarActive","AbrirTurnoEnVentas","routes","logearUsuario","signin","decoded","jwt_decode","labelWidth","exact","logo","Link","to","adminIcon","cartIcon","AdminInicio","createMuiTheme","blue","httpLink","createUploadLink","uri","ApolloClient","connectToDevTools","InMemoryCache","addTypename","link","RoutesWithSubRoutes","route","render","App","ApolloProvider","ThemeProvider","CssBaseline","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM"],"mappings":"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AAC7Y,EAAA,EAAD,CAAKI,GAAI,EAAGH,QAAQ,OAApB,SACsB,WAAjB26B,EAA4B,YAAc,UAI/B,uBAApBolB,GACoB,kBAApBA,GACoB,iBAApBA,GACoB,uBAApBA,GACoB,mBAApBA,GACoB,cAApBA,GACoB,uBAApBA,GACoB,oBAApBA,GACoB,iBAApBA,GACoB,oBAApBA,GACiB,aAAjBplB,GACiB,WAAjBA,GACoB,YAApBolB,EAAiC,KAC7B,cAAChlB,GAAA,EAAD,CACIC,QACI,cAAC9b,GAAA,EAAD,CACIC,UAAS0gC,GAAiBA,EAAellB,GAAcolB,GAAiBpN,QACxEpjC,KAAK,UACLwB,UAAU8uC,IAAuE,IAAtDA,EAAellB,GAAcolB,GAAiBthC,IACzEve,MAAM,UACNkR,SAAU,SAAChC,GAAD,OAAO0wC,EAAe1wC,EAAGurB,EAAcolB,MAGzDnnC,MACI,cAAC7Y,EAAA,EAAD,CAAKI,GAAI,EAAIH,QAAQ,OAArB,uBAMQ,UAApB+/C,GACoB,iBAApBA,GACoB,uBAApBA,GACoB,cAApBA,GACoB,uBAApBA,GACoB,uBAApBA,GACoB,oBAApBA,GACoB,YAApBA,GACoB,iBAApBA,GACoB,oBAApBA,GACoB,yBAApBA,GACiB,aAAjBplB,GACiB,WAAjBA,EAA6B,KAC7B,cAACI,GAAA,EAAD,CACIC,QACI,cAAC9b,GAAA,EAAD,CACIC,UAAS0gC,GAAiBA,EAAellB,GAAcolB,GAAiB5yC,OACxEoC,KAAK,SACLwB,UAAU8uC,IAAuE,IAAtDA,EAAellB,GAAcolB,GAAiBthC,IACzEve,MAAM,UACNkR,SAAU,SAAChC,GAAD,OAAO0wC,EAAe1wC,EAAGurB,EAAcolB,MAGzDnnC,MACI,cAAC7Y,EAAA,EAAD,CAAKI,GAAI,EAAIH,QAAQ,OAArB,sBAMY,uBAApB+/C,GACoB,kBAApBA,GACoB,iBAApBA,GACoB,uBAApBA,GACoB,cAApBA,GACoB,uBAApBA,GACoB,oBAApBA,GACoB,uBAApBA,GACoB,iBAApBA,GACoB,oBAApBA,GACoB,oBAApBA,GACoB,YAApBA,GAC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","file":"static/js/main.96e4504f.chunk.js","sourcesContent":["import { gql } from '@apollo/client';\n\nexport const CREAR_USUARIO = gql`\n\tmutation crearUsuario($input: CrearUsuarioInput) {\n\t\tcrearUsuario(input: $input) {\n\t\t\t_id\n\t\t\tnumero_usuario\n\t\t\tnombre\n\t\t\ttelefono\n\t\t\tcelular\n\t\t\temail\n\t\t\tturno_en_caja_activo\n\t\t\tdireccion {\n\t\t\t\tcalle\n\t\t\t\tno_ext\n\t\t\t\tno_int\n\t\t\t\tcodigo_postal\n\t\t\t\tcolonia\n\t\t\t\tmunicipio\n\t\t\t\tlocalidad\n\t\t\t\testado\n\t\t\t\tpais\n\t\t\t}\n\t\t\timagen\n\t\t\testado_usuario\n\t\t\tempresa {\n\t\t\t\t_id\n\t\t\t\tnombre_empresa\n\t\t\t\tcorreo_empresa\n\t\t\t\tnombre_dueno\n\t\t\t\ttelefono_dueno\n\t\t\t}\n\t\t\tsucursal {\n\t\t\t\t_id\n\t\t\t\tnombre_sucursal\n\t\t\t\tdescripcion\n\t\t\t}\n\t\t\taccesos {\n\t\t\t\tmi_empresa {\n\t\t\t\t\tdatos_empresa {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tinformacion_fiscal {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tcompras {\n\t\t\t\t\tabrir_compra {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tcompras_realizadas {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tcompras_espera {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\ttesoreria {\n\t\t\t\t\tcuentas_empresa {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tegresos {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tabonos_proveedores {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tabonos_clientes {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treportes {\n\t\t\t\t\treporte_historial_cajas {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\treporte_turnos {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\treporte_compras {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\treporte_ventas {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\trerporte_almacen {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\treporte_corte_caja {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\treporte_tesoreria {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tventas {\n\t\t\t\t\tcancelar_venta {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tprecios_productos {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tpre_corte {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tcotizaciones {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tadministrador {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\teliminar_ventas {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tproducto_rapido {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tfacturacion {\n\t\t\t\t\tgenerar_cdfi {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tcdfi_realizados {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tregistro_series_cdfi {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\talmacenes {\n\t\t\t\t\talmacen {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\ttraspasos {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tinventario_almacen {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tcatalogos {\n\t\t\t\t\tclientes {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tusuarios {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tproductos {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tmarcas {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tcontabilidad {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tprovedores {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tcajas {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tdepartamentos {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tcentro_costos {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tconceptos_almacen {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tcategorias {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tcolores {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tcolores {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\ttallas_numeros {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n`;\n\nexport const OBTENER_USUARIOS = gql`\n\tquery obtenerUsuarios($sucursal: String!, $filtro: String) {\n\t\tobtenerUsuarios(sucursal: $sucursal, filtro: $filtro) {\n\t\t\t_id\n\t\t\tnumero_usuario\n\t\t\tnombre\n\t\t\ttelefono\n\t\t\tcelular\n\t\t\tturno_en_caja_activo\n\t\t\temail\n\t\t\tdireccion {\n\t\t\t\tcalle\n\t\t\t\tno_ext\n\t\t\t\tno_int\n\t\t\t\tcodigo_postal\n\t\t\t\tcolonia\n\t\t\t\tmunicipio\n\t\t\t\tlocalidad\n\t\t\t\testado\n\t\t\t\tpais\n\t\t\t}\n\t\t\timagen\n\t\t\testado_usuario\n\t\t\tempresa {\n\t\t\t\t_id\n\t\t\t\tnombre_empresa\n\t\t\t\tcorreo_empresa\n\t\t\t\tnombre_dueno\n\t\t\t\ttelefono_dueno\n\t\t\t}\n\t\t\tsucursal {\n\t\t\t\t_id\n\t\t\t\tnombre_sucursal\n\t\t\t\tdescripcion\n\t\t\t}\n\t\t\taccesos {\n\t\t\t\tmi_empresa {\n\t\t\t\t\tdatos_empresa {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tinformacion_fiscal {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tcompras {\n\t\t\t\t\tabrir_compra {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tcompras_realizadas {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tcompras_espera {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\ttesoreria {\n\t\t\t\t\tcuentas_empresa {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tegresos {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tabonos_proveedores {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tabonos_clientes {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treportes {\n\t\t\t\t\treporte_historial_cajas {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\treporte_turnos {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\treporte_compras {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\treporte_ventas {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\trerporte_almacen {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\treporte_corte_caja {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\treporte_tesoreria {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tventas {\n\t\t\t\t\tcancelar_venta {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tprecios_productos {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tpre_corte {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tcotizaciones {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tadministrador {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\teliminar_ventas {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tproducto_rapido {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\talmacenes {\n\t\t\t\t\talmacen {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\ttraspasos {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tinventario_almacen {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tfacturacion {\n\t\t\t\t\tgenerar_cdfi {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tcdfi_realizados {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tregistro_series_cdfi {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tcatalogos {\n\t\t\t\t\tclientes {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tusuarios {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tproductos {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tmarcas {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tcontabilidad {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tprovedores {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tcajas {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tdepartamentos {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tcentro_costos {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tconceptos_almacen {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tcategorias {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tcolores {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\ttallas_numeros {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n`;\n\nexport const ACTUALIZAR_USUARIO = gql`\n\tmutation actualizarUsuario($input: ActualizarUsuarioInput, $id: ID!) {\n\t\tactualizarUsuario(id: $id, input: $input) {\n\t\t\tmessage\n\t\t}\n\t}\n`;\n\nexport const LOGEAR_USUARIO = gql`\n\tmutation logearUsuario($input: LogearUsuarioInput) {\n\t\tlogearUsuario(input: $input) {\n\t\t\ttoken\n\t\t}\n\t}\n`;\n\nexport const LOGEAR_USUARIO_ACCESOS = gql`\n\tquery ObtenerAccesoPermiso($input: ObtenerAccesoPermisosInput) {\n\t\tobtenerAccesoPermiso(input: $input) {\n\t\t\tpermiso_concedido\n\t\t\tdepartamento\n        \tsubDepartamento\n\t\t}\n\t}\t\t\n`;\n\nexport const AGIGNAR_PERMISOS_USUARIO = gql`\n\tmutation asignarAccesosUsuario($input: CrearArregloDeAccesosInput, $id: ID!) {\n\t\tasignarAccesosUsuario(id: $id, input: $input) {\n\t\t\tmessage\n\t\t}\n}\n`;\n","import { Box, makeStyles, Snackbar, Typography, Portal } from '@material-ui/core';\n/* import { Alert } from '@material-ui/lab'; */\nimport React from 'react';\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\nimport ErrorIcon from '@material-ui/icons/Error';\n\nconst useStyles = makeStyles((theme) => ({\n\tsnack: {\n\t\tzIndex: `${99999}!important`\n\t}\n}));\n\nexport default function SnackBarMessages({ alert, setAlert }) {\n\tconst classes = useStyles();\n\n\tconst handleClose = () => {\n\t\tsetAlert({ open: false, status: alert.status, message: '' });\n\t};\n\n\treturn (\n\t\t<Portal>\n\t\t\t<Snackbar\n\t\t\t\tclassName={classes.snack}\n\t\t\t\tanchorOrigin={{ vertical: 'top', horizontal: 'center' }}\n\t\t\t\topen={alert.open}\n\t\t\t\tonClose={handleClose}\n\t\t\t\tautoHideDuration={3000}\n\t\t\t\tmessage={\n\t\t\t\t\t<Box display=\"flex\">\n\t\t\t\t\t\t{alert.status === 'success' ? (\n\t\t\t\t\t\t\t<CheckCircleIcon style={{ color: '#22bb33' }} />\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<ErrorIcon style={{ color: 'red' }} />\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<Box mr={1} />\n\t\t\t\t\t\t<Typography>{alert.message}</Typography>\n\t\t\t\t\t</Box>\n\t\t\t\t}\n\t\t\t/>\n\t\t</Portal>\n\t);\n\t/* return (\n\t\t<Snackbar\n\t\t\tclassName={classes.snack}\n\t\t\tanchorOrigin={{ vertical: 'top', horizontal: 'center' }}\n\t\t\topen={alert.open}\n\t\t\tonClose={handleClose}\n\t\t\tautoHideDuration={2000}\n\t\t>\n\t\t\t<Alert onClose={handleClose} severity={alert.status}>\n\t\t\t\t{alert.message}\n\t\t\t</Alert>\n\t\t</Snackbar>\n\t); */\n}\n","import React, { useState } from 'react';\nimport { Box, Button, Container, TextField, Typography, CircularProgress } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useMutation } from '@apollo/client';\nimport { LOGEAR_USUARIO } from '../../gql/Catalogos/usuarios';\nimport SnackBarMessages from '../SnackBarMessages';\nimport jwt_decode from 'jwt-decode';\nimport { FormControl } from '@material-ui/core';\nimport { InputLabel } from '@material-ui/core';\nimport { OutlinedInput } from '@material-ui/core';\nimport { InputAdornment } from '@material-ui/core';\nimport { IconButton } from '@material-ui/core';\nimport Visibility from '@material-ui/icons/Visibility';\nimport VisibilityOff from '@material-ui/icons/VisibilityOff';\nimport ab from '../../img/abLogo.jpeg'\n\nconst useStyles = makeStyles((theme) => ({\n\tmargin: {\n\t\tmarginTop: theme.spacing(2),\n\t\tmarginBottom: theme.spacing(2)\n\t},\n\tcontainerImagen:{\n\t\tmaxWidth: 170,\n\t\tmaxHeight: 170\n\t},\n\timagen:{\n\t\twidth: '100%',\n\t\theight: '100%'\n\t}\n}));\n\nexport default function LayoutLogin(props) {\n\tconst classes = useStyles();\n\tconst sesion = localStorage.getItem('sesionCafi');\n\tconst [ datos, setDatos ] = useState([]);\n\tconst [ loading, setLoading ] = useState(false);\n\tconst [ alert, setAlert ] = useState({ message: '', status: '', open: false });\n\tconst [ showPassword, setShowPassword ] = useState(false);\n\n\tif (sesion) props.history.push('/ventas/venta-general');\n\n\tconst [ logearUsuario ] = useMutation(LOGEAR_USUARIO);\n\n\tconst signin = async (e) => {\n\t\te.preventDefault();\n\t\tif (!datos.numero_usuario || !datos.password) {\n\t\t\tsetAlert({ message: 'Los campos estan vacíos', status: 'error', open: true });\n\t\t\treturn;\n\t\t}\n\t\tsetLoading(true);\n\n\t\ttry {\n\t\t\tconst result = await logearUsuario({\n\t\t\t\tvariables: {\n\t\t\t\t\tinput: datos\n\t\t\t\t}\n\t\t\t});\n\t\t\tconst { token } = result.data.logearUsuario;\n\t\t\tconst decoded = jwt_decode(token);\n\t\t\tsetLoading(false);\n\t\t\tlocalStorage.setItem('sesionCafi', JSON.stringify(decoded));\n\t\t\tlocalStorage.setItem('tokenCafi', JSON.stringify(token));\n\t\t\tprops.history.push('/ventas/venta-general');\n\t\t} catch (error) {\n\t\t\tsetAlert({ message: error.message, status: 'error', open: true });\n\t\t\tsetLoading(false);\n\t\t}\n\t};\n\n\tconst obtenerCampos = (e) => {\n\t\tif (e.target.name === 'numero_usuario') {\n\t\t\tsetDatos({\n\t\t\t\t...datos,\n\t\t\t\t[e.target.name]: parseInt(e.target.value)\n\t\t\t});\n\t\t} else {\n\t\t\tsetDatos({\n\t\t\t\t...datos,\n\t\t\t\t[e.target.name]: e.target.value\n\t\t\t});\n\t\t}\n\t};\n\n\tconst handleClickShowPassword = () => {\n\t\tsetShowPassword(!showPassword);\n\t};\n\n\tconst handleMouseDownPassword = (event) => {\n\t\tevent.preventDefault();\n\t};\n\n\treturn (\n\t\t<Container maxWidth=\"sm\">\n\t\t\t<SnackBarMessages alert={alert} setAlert={setAlert} />\n\t\t\t<Box height=\"100vh\" display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t<Box boxShadow=\"3\" p={3} width=\"80%\">\n\t\t\t\t\t<Box display='flex' justifyContent='center' alignItems='center' justifyItems='center' >\n\t\t\t\t\t\t<Box className={classes.containerImagen} textAlign='center'>\n\t\t\t\t\t\t\t<img className={classes.imagen} src={ab} alt=\"imagen no disponible\" />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box display='flex' textAlign='center' justifyContent='center'>\n\t\t\t\t\t\t<Typography variant=\"h4\" component=\"p\" className={classes.margin}>\n\t\t\t\t\t\t\t<b>Inicia sesión</b>\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<form autoComplete=\"off\" onSubmit={signin} >\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tlabel=\"Numero de usuario\"\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\tname=\"numero_usuario\"\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tclassName={classes.margin}\n\t\t\t\t\t\t\tonChange={obtenerCampos}\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t<FormControl variant=\"outlined\" name=\"password\" className={classes.margin} fullWidth>\n\t\t\t\t\t\t\t<InputLabel htmlFor=\"usuario-password\">Contraseña</InputLabel>\n\t\t\t\t\t\t\t<OutlinedInput\n\t\t\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\t\t\tid=\"usuario-password\"\n\t\t\t\t\t\t\t\ttype={showPassword ? 'text' : 'password'}\n\t\t\t\t\t\t\t\tonChange={obtenerCampos}\n\t\t\t\t\t\t\t\tendAdornment={\n\t\t\t\t\t\t\t\t\t<InputAdornment position=\"end\">\n\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\tonClick={handleClickShowPassword}\n\t\t\t\t\t\t\t\t\t\t\tonMouseDown={handleMouseDownPassword}\n\t\t\t\t\t\t\t\t\t\t\tedge=\"end\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{showPassword ? <Visibility /> : <VisibilityOff />}\n\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t</InputAdornment>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tlabelWidth={70}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tsize=\"large\"\n\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\tdisableElevation\n\t\t\t\t\t\t\tclassName={classes.margin}\n\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\tendIcon={loading ? <CircularProgress size={25} color=\"inherit\" /> : null}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tEntrar\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</form>\n\t\t\t\t</Box>\n\t\t\t</Box>\n\t\t</Container>\n\t);\n}\n","export const initial_state_datos_generales = {\n  receta_farmacia: false,\n  clave_producto_sat: {\n    Name: \"\",\n    Value: \"\",\n  },\n};\nexport const initial_state_precios = {\n  monedero: false,\n  monedero_electronico: 0,\n  iva_activo: true,\n  ieps_activo: false,\n  ieps: 0,\n  iva: 16,\n  granel: false,\n  inventario: {\n    inventario_minimo: 0,\n    inventario_maximo: 0,\n    unidad_de_inventario: \"Pz\",\n    codigo_unidad: \"H87\",\n  },\n  precio_de_compra: {\n    precio_con_impuesto: 0,\n    precio_sin_impuesto: 0,\n    iva: 0,\n    ieps: 0,\n  },\n  unidad_de_compra: {\n    unidad: \"Pz\",\n    codigo_unidad: \"H87\",\n    cantidad: 1,\n    precio_unitario_sin_impuesto: 0,\n    precio_unitario_con_impuesto: 0,\n  },\n};\n\nexport const initial_state_unidadVentaXDefecto = {\n  codigo_barras: \"\",\n  unidad: \"Pz\",\n  codigo_unidad: \"H87\",\n  cantidad: 1,\n  precio: 0,\n  descuento_activo: null,\n  precio_unidad: {\n    numero_precio: 0,\n    precio_neto: 0,\n    precio_venta: 0,\n    unidad_mayoreo: 0,\n    iva_precio: 0,\n    ieps_precio: 0,\n    utilidad: 0,\n    precio_general: 0,\n    cantidad_unidad: 0,\n    unidad_maxima: false\n  },\n  unidad_principal: true,\n  default: true,\n};\n\nexport const initial_state_unidadVentaSecundaria = {\n  codigo_barras: \"\",\n  unidad: \"Caja\",\n  codigo_unidad: \"XBX\",\n  cantidad: 1,\n  precio: 0,\n  descuento_activo: null,\n  precio_unidad: {\n    numero_precio: 0,\n    precio_neto: 0,\n    precio_venta: 0,\n    unidad_mayoreo: 0,\n    iva_precio: 0,\n    ieps_precio: 0,\n    utilidad: 0,\n    precio_general: 0,\n    cantidad_unidad: 0,\n    unidad_maxima: false\n  },\n  unidad_principal: false,\n  default: false,\n};\n\nexport const initial_state_preciosP = [\n  {\n    numero_precio: 1,\n    utilidad: 0,\n    precio_neto: 0,\n    unidad_mayoreo: 0,\n    precio_venta: 0,\n    iva_precio: 0,\n    ieps_precio: 0,\n  },\n  {\n    numero_precio: 2,\n    utilidad: 0,\n    precio_neto: 0,\n    unidad_mayoreo: 0,\n    precio_venta: 0,\n    iva_precio: 0,\n    ieps_precio: 0,\n  },\n  {\n    numero_precio: 3,\n    utilidad: 0,\n    precio_neto: 0,\n    unidad_mayoreo: 0,\n    precio_venta: 0,\n    iva_precio: 0,\n    ieps_precio: 0,\n  },\n  {\n    numero_precio: 4,\n    utilidad: 0,\n    precio_neto: 0,\n    unidad_mayoreo: 0,\n    precio_venta: 0,\n    iva_precio: 0,\n    ieps_precio: 0,\n  },\n  {\n    numero_precio: 5,\n    utilidad: 0,\n    precio_neto: 0,\n    unidad_mayoreo: 0,\n    precio_venta: 0,\n    iva_precio: 0,\n    ieps_precio: 0,\n  },\n  {\n    numero_precio: 6,\n    utilidad: 0,\n    precio_neto: 0,\n    unidad_mayoreo: 0,\n    precio_venta: 0,\n    iva_precio: 0,\n    ieps_precio: 0,\n  },\n];\n\nexport const initial_state_unidadesVenta = [\n  \n];\n\nexport const initial_state_almacen_inicial = {\n  id_almacen: \"\",\n  almacen: \"\",\n  cantidad: 0,\n  fecha_de_expiracion: \"\",\n};\nexport const initial_state_centro_de_costos = {};\n\nexport const initial_state_preciosPlazos = {\n  precio_piezas: [],\n  precio_cajas: [],\n  precio_costales: [],\n};\n\nexport const initial_state_subcategorias = [];\nexport const initial_state_imagenes = [];\nexport const initial_state_imagenes_eliminadas = [];\nexport const initial_state_onPreview = { index: \"\", image: \"\" };\nexport const initial_state_validacion = { error: false, message: \"\" };\nexport const initial_state_subcostos = [];\nexport const initial_state_selectedDate = null;\nexport const initial_state_presentaciones = [];\n","import React, { createContext, useState } from \"react\";\nimport {\n  initial_state_datos_generales,\n  initial_state_precios,\n  initial_state_unidadVentaXDefecto,\n  initial_state_preciosP,\n  initial_state_unidadesVenta,\n  initial_state_almacen_inicial,\n  initial_state_centro_de_costos,\n  initial_state_preciosPlazos,\n  initial_state_subcategorias,\n  initial_state_imagenes,\n  initial_state_imagenes_eliminadas,\n  initial_state_onPreview,\n  initial_state_validacion,\n  initial_state_subcostos,\n  initial_state_selectedDate,\n  initial_state_presentaciones,\n  initial_state_unidadVentaSecundaria,\n} from \"./initialStatesProducto\";\n\nexport const RegProductoContext = createContext();\n\nexport const RegProductoProvider = ({ children }) => {\n  const [datos_generales, setDatosGenerales] = useState(\n    initial_state_datos_generales\n  );\n  const [precios, setPrecios] = useState(initial_state_precios);\n  const [unidadVentaXDefecto, setUnidadVentaXDefecto] = useState(\n    initial_state_unidadVentaXDefecto\n  );\n  const [unidadVentaSecundaria, setUnidadVentaSecundaria] = useState(\n    initial_state_unidadVentaSecundaria\n  );\n  const [preciosP, setPreciosP] = useState(initial_state_preciosP);\n  \n  const [unidadesVenta, setUnidadesVenta] = useState(\n    initial_state_unidadesVenta\n  );\n  const [almacen_inicial, setAlmacenInicial] = useState(\n    initial_state_almacen_inicial\n  );\n  const [centro_de_costos, setCentroDeCostos] = useState(\n    initial_state_centro_de_costos\n  );\n  const [preciosPlazos, setPreciosPlazos] = useState(\n    initial_state_preciosPlazos\n  );\n  const [subcategorias, setSubcategorias] = useState(\n    initial_state_subcategorias\n  );\n  const [imagenes, setImagenes] = useState(initial_state_imagenes);\n  const [imagenes_eliminadas, setImagenesEliminadas] = useState(\n    initial_state_imagenes_eliminadas\n  );\n  const [onPreview, setOnPreview] = useState(initial_state_onPreview);\n  const [validacion, setValidacion] = useState(initial_state_validacion);\n  const [subcostos, setSubcostos] = useState(initial_state_subcostos);\n  const [selectedDate, setSelectedDate] = useState(initial_state_selectedDate);\n  const [update, setUpdate] = useState(false);\n  const [presentaciones, setPresentaciones] = useState(\n    initial_state_presentaciones\n  );\n  const [presentaciones_eliminadas, setPresentacionesEliminadas] = useState([]);\n  const [actualizarLista, setActualizarLista] = React.useState(false);\n  const [alert, setAlert] = useState({ message: \"\", status: \"\", open: false });\n\n  // USESTATES DE DESCUENTOS DE PRODUCTOS\n  const [ datosPreciosProducto, setDatosPreciosProducto ] = useState([]);\n  const [ preciosDescuentos, setPreciosDescuentos] = useState([]);\n  const [ preciosProductos, setPreciosProductos ] = useState([]);\n  const [ datosEnDescuentos, setDatosEnDescuentos ] = useState([]);\n  const [ almacen_existente, setAlmacenExistente] = useState(false);\n\n  return (\n    <RegProductoContext.Provider\n      value={{\n        datos_generales,\n        setDatosGenerales,\n        precios,\n        setPrecios,\n        almacen_inicial,\n        setAlmacenInicial,\n        imagenes,\n        setImagenes,\n        imagenes_eliminadas,\n        setImagenesEliminadas,\n        onPreview,\n        setOnPreview,\n        validacion,\n        setValidacion,\n        preciosP,\n        setPreciosP,\n        preciosPlazos,\n        setPreciosPlazos,\n        unidadesVenta,\n        setUnidadesVenta,\n        centro_de_costos,\n        setCentroDeCostos,\n        unidadVentaXDefecto,\n        setUnidadVentaXDefecto,\n        subcategorias,\n        setSubcategorias,\n        subcostos,\n        setSubcostos,\n        selectedDate,\n        setSelectedDate,\n        update,\n        setUpdate,\n        presentaciones,\n        setPresentaciones,\n        presentaciones_eliminadas,\n        setPresentacionesEliminadas,\n        actualizarLista,\n        setActualizarLista,\n        alert,\n        setAlert,\n\n        datosPreciosProducto, \n        setDatosPreciosProducto,\n        preciosDescuentos, \n        setPreciosDescuentos,\n        preciosProductos, \n        setPreciosProductos,\n        datosEnDescuentos, \n        setDatosEnDescuentos,\n        almacen_existente, \n        setAlmacenExistente,\n        unidadVentaSecundaria, \n        setUnidadVentaSecundaria\n      }}\n    >\n      {children}\n    </RegProductoContext.Provider>\n  );\n};\n","import React, { createContext, useState } from 'react';\n\nexport const EmpresaContext = createContext();\n\nexport const EmpresaProvider = ({ children }) => {\n   \n\tconst [ empresa, setEmpresa ] = useState({\n\t\tnombre_empresa:'',\n        nombre_dueno:'',\n\t\ttelefono_dueno:'',\n\t\tcelular:'',\n\t\tcorreo_empresa:'',\n        nombre_fiscal:'',\n        rfc:'',\n        regimen_fiscal:'',\n        curp:'',\n        info_adicio:'',\n\t\tdireccion: {\n\t\t\tcalle: '',\n\t\t\tno_ext: '',\n\t\t\tno_int: '',\n\t\t\tcodigo_postal: '',\n\t\t\tcolonia: '',\n\t\t\tmunicipio: '',\n\t\t\tlocalidad: '',\n\t\t\testado: '',\n\t\t\tpais: ''\n\t\t},\n        direccionFiscal: {\n            calle: '',\n\t\t\tno_ext: '',\n\t\t\tno_int: '',\n\t\t\tcodigo_postal: '',\n\t\t\tcolonia: '',\n\t\t\tmunicipio: '',\n\t\t\tlocalidad: '',\n\t\t\testado: '',\n\t\t\tpais: ''\n        },\n        datosBancarios:{\n            cuenta: '',\n            sucursal: '',\n            clave_banco: ''\n        },\n\t\timagen: null\n\t});\n\tconst [ toUpdate, setToUpdate ] = useState(false);\n\tconst [ error, setError ] = useState({error: false, message: ''});\n\tconst [ update, setUpdate ] = useState(false);\n\n\treturn (\n\t\t<EmpresaContext.Provider\n\t\t\tvalue={{\n\t\t\t\tempresa,\n\t\t\t\tsetEmpresa,\n\t\t\t\ttoUpdate,\n\t\t\t\tsetToUpdate,\n\t\t\t\terror,\n\t\t\t\tsetError,\n\t\t\t\tupdate,\n\t\t\t\tsetUpdate\n\t\t\t}}\n\t\t>\n\t\t\t{children}\n\t\t</EmpresaContext.Provider>\n\t);\n};","import React from 'react';\nimport Backdrop from '@material-ui/core/Backdrop';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles((theme) => ({\n  backdrop: {\n    zIndex: theme.zIndex.drawer + 1,\n    color: '#fff',\n    backgroundColor: \"rgba(0, 0, 0, 0.3)\"\n  },\n}));\n\nexport default function BackdropComponent({loading, setLoading}) {\n  const classes = useStyles();\n\n  /* const handleClose = () => {\n    setLoading(false);\n  }; */\n\n  return (\n    <div>\n      <Backdrop className={classes.backdrop} open={loading} /* onClick={handleClose} */>\n        <CircularProgress color=\"inherit\" />\n      </Backdrop>\n    </div>\n  );\n}\n","import React from 'react';\nimport ErrorOutlineIcon from '@material-ui/icons/ErrorOutline';\nimport { Box, Typography } from '@material-ui/core';\n\nexport default function ErrorPage({ error, altura}) {\n\tlet height = altura\n\tif(!height) height = 400;\n\treturn (\n\t\t<Box display=\"flex\" flexDirection=\"column\" justifyContent=\"center\" alignItems=\"center\" height={height}>\n\t\t\t<ErrorOutlineIcon style={{ fontSize: 100, color: 'rgba(17,85,204, 0.7)' }} />\n\t\t\t<Typography align=\"center\" style={{ fontSize: 18, color: 'rgba(17,85,204)' }}>\n\t\t\t\tHubo un problema\n\t\t\t</Typography>\n\t\t</Box>\n\t);\n}\n","import { gql } from \"@apollo/client\";\nexport const OBTENER_DATOS_EMPRESA = gql`\n  query obtenerEmpresa($id: ID!) {\n    obtenerEmpresa(id: $id) {\n      _id\n      nombre_empresa\n      nombre_dueno\n      telefono_dueno\n      celular\n      correo_empresa\n      limite_timbres\n      timbres_usados\n      sello_sat\n      nombre_cer\n      nombre_key\n      imagen\n      nombre_fiscal\n      rfc\n      regimen_fiscal\n      curp\n      info_adicio\n      valor_puntos\n      direccion {\n        calle\n        no_ext\n        no_int\n        codigo_postal\n        colonia\n        municipio\n        localidad\n        estado\n        pais\n      }\n      direccionFiscal {\n        calle\n        no_ext\n        no_int\n        codigo_postal\n        colonia\n        municipio\n        localidad\n        estado\n        pais\n      }\n      datosBancarios {\n        cuenta\n        sucursal\n        clave_banco\n      }\n    }\n  }\n`;\n\nexport const ACTUALIZAR_EMPRESA = gql`\n  mutation actualizarEmpresa($id: ID!, $input: EditarEmpresa) {\n    actualizarEmpresa(id: $id, input: $input) {\n      _id\n      nombre_empresa\n      nombre_dueno\n      telefono_dueno\n      celular\n      correo_empresa\n      limite_timbres\n      timbres_usados\n      sello_sat\n      nombre_cer\n      nombre_key\n      imagen\n      nombre_fiscal\n      rfc\n      regimen_fiscal\n      curp\n      info_adicio\n      valor_puntos\n      direccion {\n        calle\n        no_ext\n        no_int\n        codigo_postal\n        colonia\n        municipio\n        localidad\n        estado\n        pais\n      }\n      direccionFiscal {\n        calle\n        no_ext\n        no_int\n        codigo_postal\n        colonia\n        municipio\n        localidad\n        estado\n        pais\n      }\n      datosBancarios {\n        cuenta\n        sucursal\n        clave_banco\n      }\n    }\n  }\n`;\n","import React, { useContext, useState, useCallback, useEffect } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport {\n  Box,\n  Grid,\n  TextField,\n  Button,\n  Avatar,\n  Container,\n} from \"@material-ui/core\";\nimport {\n  Typography,\n  Divider,\n  DialogActions,\n} from \"@material-ui/core\";\nimport { useDropzone } from \"react-dropzone\";\n\nimport { useMutation, useQuery } from \"@apollo/client\";\nimport { EmpresaContext } from \"../../../../context/Catalogos/empresaContext\";\nimport SnackBarMessages from \"../../../../components/SnackBarMessages\";\nimport BackdropComponent from \"../../../../components/Layouts/BackDrop\";\nimport ErrorPage from \"../../../../components/ErrorPage\";\nimport {\n  ACTUALIZAR_EMPRESA,\n  OBTENER_DATOS_EMPRESA,\n} from \"../../../../gql/Empresa/empresa\";\n\n\nconst useStyles = makeStyles((theme) => ({\n  appBar: {\n    position: \"relative\",\n  },\n  title: {\n    marginLeft: theme.spacing(2),\n    flex: 1,\n  },\n  icon: {\n    fontSize: 100,\n  },\n  subtitle: {\n    marginLeft: \"10px\",\n    width: \"100%\",\n  },\n  require: {\n    \"& span\": {\n      color: \"red\",\n    },\n  },\n  avatarContainer: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    width: \"100%\",\n    height: \"100%\",\n    border: \"dashed 2px black\",\n    borderRadius: \"100%\",\n  },\n  avatar: {\n    width: \"90%\",\n    height: \"90%\",\n    \"& > .icon\": {\n      fontSize: 100,\n    },\n  },\n}));\n\n\nexport default function MisDatos(props) {\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n  const classes = useStyles();\n  const [loadingPage, setLoadingPage] = React.useState(false);\n  const [bloqueo] = useState(\n    sesion.accesos.mi_empresa.datos_empresa.editar === false ? true : false\n  );\n  const [preview, setPreview] = useState(\"\");\n\n   \n  const [errorPage, setErrorPage] = React.useState(false);\n  const [errorForm, setErrorForm] = React.useState(\n    useState({ error: false, message: \"\" })\n  );\n\n  const [alert, setAlert] = useState({ message: \"\", status: \"\", open: false });\n  const { empresa, update, setEmpresa, setUpdate } = useContext(EmpresaContext);\n\n  const [actualizarEmpresa] = useMutation(ACTUALIZAR_EMPRESA);\n\n  /* Queries */\n  const { loading, data, refetch, error } = useQuery(OBTENER_DATOS_EMPRESA, {\n    variables: { id: sesion.empresa._id },\n  });\n\n  const [empresaDatos, setEmpresaDatos] = useState({\n    nombre_empresa: \"\",\n    nombre_dueno: \"\",\n    telefono_dueno: \"\",\n    celular: \"\",\n    correo_empresa: \"\",\n    valor_puntos: \"\",\n    nombre_fiscal: \"\",\n    rfc: \"\",\n    regimen_fiscal: \"\",\n    curp: \"\",\n    info_adicio: \"\",\n    direccion: {\n      calle: \"\",\n      no_ext: \"\",\n      no_int: \"\",\n      codigo_postal: \"\",\n      colonia: \"\",\n      municipio: \"\",\n      localidad: \"\",\n      estado: \"\",\n      pais: \"\",\n    },\n    direccionFiscal: {\n      calle: \"\",\n      no_ext: \"\",\n      no_int: \"\",\n      codigo_postal: \"\",\n      colonia: \"\",\n      municipio: \"\",\n      localidad: \"\",\n      estado: \"\",\n      pais: \"\",\n    },\n    datosBancarios: {\n      cuenta: \"\",\n      sucursal: \"\",\n      clave_banco: \"\",\n    },\n    imagen: null,\n  });\n  useEffect(() => {\n    try {\n      refetch();\n    } catch (errorCatch) {\n      // console.log(\"SESSIONREFECTUPDATE\",errorCatch)\n    }\n  }, [update, refetch]);\n  useEffect(() => {\n    try {\n      setLoadingPage(loading);\n    } catch (errorCatch) {\n      // console.log(\"SESSIONREFECTUPDATE\",errorCatch)\n    }\n  }, [loading]);\n  useEffect(() => {\n    try {\n      if (data !== undefined) {\n        setEmpresa(data.obtenerEmpresa);\n      }\n    } catch (errorCatch) {\n      // console.log(\"SESSIONREFECT\",errorCatch)\n    }\n  }, [data, setEmpresa]);\n  useEffect(() => {\n    try {\n      setErrorPage(error);\n    } catch (errorCatch) {\n      // console.log(\"SESSIONREFECT\",errorCatch)\n    }\n  }, [error]);\n  useEffect(() => {\n    try {\n      setEmpresaDatos({\n        nombre_empresa: empresa.nombre_empresa,\n        nombre_dueno: empresa.nombre_dueno,\n        telefono_dueno: empresa.telefono_dueno,\n        celular: empresa.celular,\n        valor_puntos: empresa.valor_puntos,\n        correo_empresa: empresa.correo_empresa,\n        direccion: empresa.direccion,\n        imagen: empresa.imagen,\n      });\n    } catch (errorCatch) {\n      // console.log(errorCatch)\n    }\n  }, [empresa]);\n\n  const actEmp = async () => {\n    try {\n      setLoadingPage(true);\n      /* const input = cleanTypenames(empresaDatos); */\n      await actualizarEmpresa({\n        variables: {\n          id: sesion.empresa._id,\n          input: empresaDatos,\n        },\n      });\n      setUpdate(true);\n      setLoadingPage(false);\n      setAlert({\n        message: \"Se han actualizado correctamente los datos.\",\n        status: \"success\",\n        open: true,\n      });\n      setErrorForm(false);\n    } catch (errorCatch) {\n      console.log(errorCatch);\n      if (errorCatch.networkError) {\n        console.log(errorCatch.networkError.result);\n      } else if (errorCatch.graphQLErrors) {\n        console.log(errorCatch.graphQLErrors);\n      }\n      setAlert({ message: \"Hubo un error\", status: \"error\", open: true });\n      setLoadingPage(false);\n    }\n  };\n \n  const obtenerCampos = (e) => {\n    try {\n      let valor = e.target.value;\n      if(e.target.name === 'valor_puntos'){ valor = parseFloat(valor)}\n      setEmpresaDatos({\n        ...empresaDatos,\n        [e.target.name]: valor,\n      });\n    } catch (error) {\n      \n    }\n  \n  };\n  const obtenerCamposDireccion = (e) => {\n    setEmpresaDatos({\n      ...empresaDatos,\n      direccion: { ...empresaDatos.direccion, [e.target.name]: e.target.value },\n    });\n  };\n  const handleClose = () => {\n    props.setOpen(false)\n  }\n  //dropzone\n  const onDrop = useCallback(\n    (acceptedFiles) => {\n      let reader = new FileReader();\n      reader.readAsDataURL(acceptedFiles[0]);\n      reader.onload = function () {\n        let image = reader.result;\n        setPreview(image);\n      };\n      setEmpresaDatos({\n        ...empresaDatos,\n        imagen: acceptedFiles[0],\n      });\n    },\n    [empresaDatos, setEmpresaDatos]\n  );\n  const { getRootProps, getInputProps } = useDropzone({\n    accept: \"image/jpeg, image/png\",\n    noKeyboard: true,\n    onDrop,\n  });\n  \n  return (\n    <div>\n        <SnackBarMessages alert={alert} setAlert={setAlert} />\n        <BackdropComponent loading={loadingPage} setLoading={setLoadingPage} />\n          {errorPage ? (\n            <ErrorPage error={errorPage} />\n          ) : (\n            <Container style={{ marginTop: 8 }}>\n              <Grid container spacing={3} className={classes.require}>\n                <Grid item md={2}>\n                  <Box className={classes.avatarContainer} {...getRootProps()}>\n                    <input {...getInputProps()} />\n                    {preview ? (\n                      <Avatar className={classes.avatar} src={`${preview}`} />\n                    ) : (\n                      <Avatar\n                        className={classes.avatar}\n                        src={`${empresa.imagen}`}\n                      />\n                    )}\n                  </Box>\n                </Grid>\n                <Grid item md={4}>\n                  <Box>\n                    <Typography>\n                      <b><span>* </span>Nombre de empresa</b>\n                    </Typography>\n                    <TextField\n                      fullWidth\n                      disabled={bloqueo}\n                      type=\"text\"\n                      size=\"small\"\n                      error={errorForm.error && !empresaDatos.nombre_empresa}\n                      name=\"nombre_empresa\"\n                      variant=\"outlined\"\n                      value={\n                        empresaDatos.nombre_empresa\n                          ? empresaDatos.nombre_empresa\n                          : \"\"\n                      }\n                      helperText={\n                        errorForm.error &&\n                        errorForm.message !== \"El campo nombre es obligatorio\"\n                          ? errorForm.message\n                          : \"\"\n                      }\n                      onChange={obtenerCampos}\n                    />\n                  </Box>\n                  <Box>\n                    <Typography>\n                      <b><span>* </span>Nombre dueño</b>\n                    </Typography>\n                    <TextField\n                      fullWidth\n                      disabled={bloqueo}\n                      type=\"text\"\n                      size=\"small\"\n                      error={errorForm.error && !empresaDatos.nombre_dueno}\n                      name=\"nombre_dueno\"\n                      variant=\"outlined\"\n                      value={\n                        empresaDatos.nombre_dueno\n                          ? empresaDatos.nombre_dueno\n                          : \"\"\n                      }\n                      helperText={\n                        errorForm.error &&\n                        errorForm.message !== \"El campo nombre es obligatorio\"\n                          ? errorForm.message\n                          : \"\"\n                      }\n                      onChange={obtenerCampos}\n                    />\n                  </Box>\n                  <Box>\n                    <Typography><b>Teléfono</b></Typography>\n                    <TextField\n                      fullWidth\n                      disabled={bloqueo}\n                      size=\"small\"\n                      name=\"telefono_dueno\"\n                      variant=\"outlined\"\n                      value={\n                        empresaDatos.telefono_dueno\n                          ? empresaDatos.telefono_dueno\n                          : \"\"\n                      }\n                      onChange={obtenerCampos}\n                    />\n                  </Box>\n                </Grid>\n                <Grid item md={4}>\n                  <Box>\n                    <Typography><b>Celular</b></Typography>\n                    <TextField\n                      fullWidth\n                      disabled={bloqueo}\n                      size=\"small\"\n                      name=\"celular\"\n                      variant=\"outlined\"\n                      value={empresaDatos.celular ? empresaDatos.celular : \"\"}\n                      onChange={obtenerCampos}\n                    />\n                  </Box>\n                  <Box>\n                    <Typography><b>E-mail</b></Typography>\n                    <TextField\n                      fullWidth\n                      disabled={bloqueo}\n                      size=\"small\"\n                      name=\"correo_empresa\"\n                      variant=\"outlined\"\n                      value={\n                        empresaDatos.correo_empresa\n                          ? empresaDatos.correo_empresa\n                          : \"\"\n                      }\n                      onChange={obtenerCampos}\n                    />\n                  </Box>\n                   <Box>\n                    <Typography><b>Valor de puntos</b></Typography>\n                    <TextField\n                      inputMode=\"numeric\"\n\t\t\t\t\t            type=\"number\"\n                      disabled={bloqueo}\n                      size=\"small\"\n                      name=\"valor_puntos\"\n                      variant=\"outlined\"\n                      value={\n                        empresaDatos.valor_puntos\n                          ? empresaDatos.valor_puntos\n                          : \"\"\n                      }\n                      onChange={obtenerCampos}\n                    />\n                  </Box>\n                </Grid>\n              </Grid>\n\n              <Box mt={5}>\n                <Typography className={classes.subtitle}>\n                  <b>Domicilio empresa</b>\n                </Typography>\n                <Divider />\n              </Box>\n              <Grid container spacing={3} className={classes.require}>\n                <Grid item md={4}>\n                  <Box>\n                    <Typography><b>Calle</b></Typography>\n                    <TextField\n                      fullWidth\n                      size=\"small\"\n                      name=\"calle\"\n                      variant=\"outlined\"\n                      disabled={bloqueo}\n                      value={\n                        empresaDatos.direccion.calle\n                          ? empresaDatos.direccion.calle\n                          : \"\"\n                      }\n                      onChange={obtenerCamposDireccion}\n                    />\n                  </Box>\n                  <Box>\n                    <Typography><b>Num. Ext</b></Typography>\n                    <TextField\n                      fullWidth\n                      size=\"small\"\n                      name=\"no_ext\"\n                      variant=\"outlined\"\n                      disabled={bloqueo}\n                      value={\n                        empresaDatos.direccion.no_ext\n                          ? empresaDatos.direccion.no_ext\n                          : \"\"\n                      }\n                      onChange={obtenerCamposDireccion}\n                    />\n                  </Box>\n                  <Box>\n                    <Typography><b>Num. Int</b></Typography>\n                    <TextField\n                      fullWidth\n                      size=\"small\"\n                      name=\"no_int\"\n                      variant=\"outlined\"\n                      disabled={bloqueo}\n                      value={\n                        empresaDatos.direccion.no_int\n                          ? empresaDatos.direccion.no_int\n                          : \"\"\n                      }\n                      onChange={obtenerCamposDireccion}\n                    />\n                  </Box>\n                </Grid>\n                <Grid item md={4}>\n                  <Box>\n                    <Typography><b>C.P.</b> </Typography>\n                    <TextField\n                      fullWidth\n                      size=\"small\"\n                      name=\"codigo_postal\"\n                      variant=\"outlined\"\n                      disabled={bloqueo}\n                      value={\n                        empresaDatos.direccion.codigo_postal\n                          ? empresaDatos.direccion.codigo_postal\n                          : \"\"\n                      }\n                      onChange={obtenerCamposDireccion}\n                    />\n                  </Box>\n                  <Box>\n                    <Typography><b>Colonia</b></Typography>\n                    <TextField\n                      fullWidth\n                      size=\"small\"\n                      name=\"colonia\"\n                      variant=\"outlined\"\n                      disabled={bloqueo}\n                      value={\n                        empresaDatos.direccion.colonia\n                          ? empresaDatos.direccion.colonia\n                          : \"\"\n                      }\n                      onChange={obtenerCamposDireccion}\n                    />\n                  </Box>\n                  <Box>\n                    <Typography><b>Municipio</b></Typography>\n                    <TextField\n                      fullWidth\n                      size=\"small\"\n                      name=\"municipio\"\n                      variant=\"outlined\"\n                      disabled={bloqueo}\n                      value={\n                        empresaDatos.direccion.municipio\n                          ? empresaDatos.direccion.municipio\n                          : \"\"\n                      }\n                      onChange={obtenerCamposDireccion}\n                    />\n                  </Box>\n                </Grid>\n                <Grid item md={4}>\n                  <Box>\n                    <Typography><b>Localidad</b></Typography>\n                    <TextField\n                      fullWidth\n                      size=\"small\"\n                      name=\"localidad\"\n                      variant=\"outlined\"\n                      disabled={bloqueo}\n                      value={\n                        empresaDatos.direccion.localidad\n                          ? empresaDatos.direccion.localidad\n                          : \"\"\n                      }\n                      onChange={obtenerCamposDireccion}\n                    />\n                  </Box>\n                  <Box>\n                    <Typography><b>Estado</b></Typography>\n                    <TextField\n                      fullWidth\n                      size=\"small\"\n                      name=\"estado\"\n                      variant=\"outlined\"\n                      disabled={bloqueo}\n                      value={\n                        empresaDatos.direccion.estado\n                          ? empresaDatos.direccion.estado\n                          : \"\"\n                      }\n                      onChange={obtenerCamposDireccion}\n                    />\n                  </Box>\n                  <Box>\n                    <Typography><b>Pais</b></Typography>\n                    <TextField\n                      fullWidth\n                      size=\"small\"\n                      name=\"pais\"\n                      variant=\"outlined\"\n                      disabled={bloqueo}\n                      value={\n                        empresaDatos.direccion.pais\n                          ? empresaDatos.direccion.pais\n                          : \"\"\n                      }\n                      onChange={obtenerCamposDireccion}\n                    />\n                  </Box>\n                </Grid>\n              </Grid>\n              {sesion.accesos.mi_empresa.datos_empresa.editar === false ? null : (\n                <DialogActions style={{ marginTop:15,width:'100%',justifyContent: \"center\" }}>\n                    <Button onClick={handleClose} color=\"primary\">\n                    Cancelar\n                  </Button>\n                  <Button\n                    onClick={() => actEmp()}\n                    color=\"primary\"\n                    variant=\"contained\"\n                  \n                  >\n                    Guardar\n                  </Button>\n                </DialogActions>\n                )}\n            </Container>\n          )}\n       \n    </div>\n  );\n}\n","import moment from \"moment\";\n\nexport const usosCfdi = [\n  {\n    Value: \"G01\",\n    Name: \"Adquisición de mercancías\",\n  },\n  {\n    Value: \"G02\",\n    Name: \"Devoluciones, descuentos o bonificaciones\",\n  },\n  {\n    Value: \"G03\",\n    Name: \"Gastos en general\",\n  },\n  {\n    Value: \"I01\",\n    Name: \"Construcciones\",\n  },\n  {\n    Value: \"I02\",\n    Name: \"Mobiliario y equipo de oficina por inversiones\",\n  },\n  {\n    Value: \"I03\",\n    Name: \"Equipo de transporte\",\n  },\n  {\n    Value: \"I04\",\n    Name: \"Equipo de cómputo y accesorios\",\n  },\n  {\n    Value: \"I05\",\n    Name: \"Dados, troqueles, moldes, matrices y herramental\",\n  },\n  {\n    Value: \"I06\",\n    Name: \"Comunicaciones telefónicas\",\n  },\n  {\n    Value: \"I07\",\n    Name: \"Comunicaciones satelitales\",\n  },\n  {\n    Value: \"I08\",\n    Name: \"Otra maquinaria y equipo\",\n  },\n  {\n    Value: \"D01\",\n    Name: \"Honorarios médicos, dentales y gastos hospitalarios\",\n  },\n  {\n    Value: \"D02\",\n    Name: \"Gastos médicos por incapacidad o discapacidad\",\n  },\n  {\n    Value: \"D03\",\n    Name: \"Gastos funerales.\",\n  },\n  {\n    Value: \"D04\",\n    Name: \"Donativos\",\n  },\n  {\n    Value: \"D05\",\n    Name:\n      \"Intereses reales efectivamente pagados por créditos hipotecarios (casa habitación).\",\n  },\n  {\n    Value: \"D06\",\n    Name: \"Aportaciones voluntarias al SAR.\",\n  },\n  {\n    Value: \"D07\",\n    Name: \"Primas por seguros de gastos médicos.\",\n  },\n  {\n    Value: \"D08\",\n    Name: \"Gastos de transportación escolar obligatoria.\",\n  },\n  {\n    Value: \"D09\",\n    Name:\n      \"Depósitos en cuentas para el ahorro, primas que tengan como base planes de pensiones.\",\n  },\n  {\n    Value: \"D10\",\n    Name: \"Pagos por servicios educativos (colegiaturas)\",\n  },\n  {\n    Value: \"P01\",\n    Name: \"Por definir\",\n  },\n];\nexport const tiposCfdi = [\n  {\n    NameId: 1,\n    Name: \"Factura\",\n    Value: \"I\",\n  },\n  {\n    NameId: 2,\n    Name: \"Nota de Crédito\",\n    Value: \"E\",\n  },\n  {\n    NameId: 14,\n    Name: \"Complemento de pago\",\n    Value: \"P\",\n  },\n];\nexport const tipoCambio = [\n  {\n    Value: \"MXN\",\n    Name: \"Peso Mexicano\",\n  },\n  {\n    Value: \"EUR\",\n    Name: \"Euro\",\n  },\n  {\n    Value: \"USD\",\n    Name: \"Dolar Americano\",\n  },\n];\nexport const formaPago = [\n  {\n    Name: \"Efectivo\",\n    Value: \"01\",\n  },\n  {\n    Name: \"Cheque nominativo\",\n    Value: \"02\",\n  },\n  {\n    Name: \"Transferencia electrónica de fondos\",\n    Value: \"03\",\n  },\n  {\n    Name: \"Tarjeta de crédito\",\n    Value: \"04\",\n  },\n  {\n    Name: \"Monedero electrónico\",\n    Value: \"05\",\n  },\n  {\n    Name: \"Dinero electrónico\",\n    Value: \"06\",\n  },\n  {\n    Name: \"Vales de despensa\",\n    Value: \"08\",\n  },\n  /* {\n        Name: \"Dación en pago\",\n        Value: \"12\"\n    },\n    {\n        Name: \"Pago por subrogación\",\n        Value: \"13\"\n    },\n    {\n        Name: \"Pago por consignación\",\n        Value: \"14\"\n    },\n    {\n        Name: \"Condonación\",\n        Value: \"15\"\n    },\n    {\n        Name: \"Compensación\",\n        Value: \"17\"\n    },\n    {\n        Name: \"Novación\",\n        Value: \"23\"\n    },\n    {\n        Name: \"Confusión\",\n        Value: \"24\"\n    },\n    {\n        Name: \"Remisión de deuda\",\n        Value: \"25\"\n    },\n    {\n        Name: \"Prescripción o caducidad\",\n        Value: \"26\"\n    },\n    {\n        Name: \"A satisfacción del acreedor\",\n        Value: \"27\"\n    }, */\n  {\n    Name: \"Tarjeta de débito\",\n    Value: \"28\",\n  },\n  /* {\n        Name: \"Tarjeta de servicios\",\n        Value: \"29\"\n    }, */\n  {\n    Name: \"Aplicación de anticipos\",\n    Value: \"30\",\n  },\n  /* {\n        Name: \"Intermediarios\",\n        Value: \"31\"\n    }, */\n  {\n    Name: \"Por definir\",\n    Value: \"99\",\n  },\n];\nexport const metodoPago = [\n  {\n    Value: \"PPD\",\n    Name: \"Pago en parcialidades ó diferido\",\n  },\n  {\n    Value: \"PUE\",\n    Name: \"Pago en una sola exhibición\",\n  },\n];\nexport const regimenFiscal = [\n  {\n    Natural: false,\n    Moral: true,\n    Name: \"General de Ley Personas Morales\",\n    Value: \"601\",\n  },\n  {\n    Natural: false,\n    Moral: true,\n    Name: \"Personas Morales con Fines no Lucrativos\",\n    Value: \"603\",\n  },\n  {\n    Natural: true,\n    Moral: false,\n    Name: \"Sueldos y Salarios e Ingresos Asimilados a Salarios\",\n    Value: \"605\",\n  },\n  {\n    Natural: true,\n    Moral: false,\n    Name: \"Arrendamiento\",\n    Value: \"606\",\n  },\n  {\n    Natural: false,\n    Moral: true,\n    Name: \"Régimen de Enajenación o Adquisición de Bienes\",\n    Value: \"607\",\n  },\n  {\n    Natural: true,\n    Moral: false,\n    Name: \"Demás ingresos\",\n    Value: \"608\",\n  },\n  {\n    Natural: true,\n    Moral: true,\n    Name:\n      \"Residentes en el Extranjero sin Establecimiento Permanente en México\",\n    Value: \"610\",\n  },\n  {\n    Natural: true,\n    Moral: false,\n    Name: \"Ingresos por Dividendos (socios y accionistas)\",\n    Value: \"611\",\n  },\n  {\n    Natural: true,\n    Moral: false,\n    Name: \"Personas Físicas con Actividades Empresariales y Profesionales\",\n    Value: \"612\",\n  },\n  {\n    Natural: true,\n    Moral: false,\n    Name: \"Ingresos por intereses\",\n    Value: \"614\",\n  },\n  {\n    Natural: true,\n    Moral: false,\n    Name: \"Régimen de los ingresos por obtención de premios\",\n    Value: \"615\",\n  },\n  {\n    Natural: true,\n    Moral: false,\n    Name: \"Sin obligaciones fiscales\",\n    Value: \"616\",\n  },\n  {\n    Natural: false,\n    Moral: true,\n    Name:\n      \"Sociedades Cooperativas de Producción que optan por diferir sus ingresos\",\n    Value: \"620\",\n  },\n  {\n    Natural: true,\n    Moral: false,\n    Name: \"Incorporación Fiscal\",\n    Value: \"621\",\n  },\n  {\n    Natural: true,\n    Moral: true,\n    Name: \"Actividades Agrícolas, Ganaderas, Silvícolas y Pesqueras\",\n    Value: \"622\",\n  },\n  {\n    Natural: false,\n    Moral: true,\n    Name: \"Opcional para Grupos de Sociedades\",\n    Value: \"623\",\n  },\n  {\n    Natural: false,\n    Moral: true,\n    Name: \"Coordinados\",\n    Value: \"624\",\n  },\n  {\n    Natural: true,\n    Moral: false,\n    Name:\n      \"Régimen de las Actividades Empresariales con ingresos a través de Plataformas Tecnológicas\",\n    Value: \"625\",\n  },\n  {\n    Natural: false,\n    Moral: true,\n    Name: \"Hidrocarburos\",\n    Value: \"628\",\n  },\n  {\n    Natural: true,\n    Moral: false,\n    Name:\n      \"De los Regímenes Fiscales Preferentes y de las Empresas Multinacionales\",\n    Value: \"629\",\n  },\n  {\n    Natural: true,\n    Moral: false,\n    Name: \"Enajenación de acciones en bolsa de valores\",\n    Value: \"630\",\n  },\n];\n\n","import { gql } from \"@apollo/client\";\n\nexport const CREAR_FACTURA = gql`\n  mutation crearFactura($input: CrearFacturaInput) {\n    crearFactura(input: $input) {\n      message\n      success\n      pdf\n      xml\n    }\n  }\n`;\n\nexport const CREAR_SERIE = gql`\n  mutation crearSerieCFDI($input: CrearSerieCfdiInput!) {\n    crearSerieCFDI(input: $input) {\n      message\n      success\n    }\n  }\n`;\n\nexport const ACTUALIZAR_DEFAULT_SERIE = gql`\n  mutation modificarDefaultSerie($id: ID!, $empresa: ID!, $sucursal: ID!) {\n    modificarDefaultSerie(id: $id, empresa: $empresa, sucursal: $sucursal) {\n      message\n    }\n  }\n`;\n\nexport const ELIMINAR_SERIE = gql`\n  mutation eliminarSerie($id: ID!) {\n    eliminarSerie(id: $id) {\n      message\n    }\n  }\n`;\n\nexport const OBTENER_SERIES = gql`\n  query obtenerSeriesCdfi($empresa: ID!, $sucursal: ID!) {\n    obtenerSeriesCdfi(empresa: $empresa, sucursal: $sucursal) {\n      message\n      success\n      seriesCfdi {\n        _id\n        serie\n        folio\n        default\n      }\n    }\n  }\n`;\n\nexport const CREAR_SELLO_CFDI = gql`\n  mutation crearCSDS($input: CrearCSDSInput!) {\n    crearCSDS(input: $input) {\n      message\n      success\n    }\n  }\n`;\n\nexport const ELIMINAR_SELLO_CFDI = gql`\n  mutation eliminarCSD($rfc: String, $empresa: ID!) {\n    eliminarCSD(rfc: $rfc, empresa: $empresa) {\n      message\n    }\n  }\n`;\n\nexport const CONSULTA_CATALOGOS_SAT_API = gql`\n  query obtenerCatalogosSAT($input: CrearFacturaInput!) {\n    obtenerCatalogosSAT(input: $input) {\n      message\n      currencies {\n        Decimals\n        PrecisionRate\n        Name\n        Value\n      }\n      paymentForms {\n        Name\n        Value\n      }\n      paymentMethods {\n        Name\n        Value\n      }\n      fiscalRegimens {\n        Natural\n        Moral\n        Name\n        Value\n      }\n      cfdiTypes {\n        NameId\n        Name\n        Value\n      }\n    }\n  }\n`;\n\nexport const CONSULTA_PRODUCTOS_SERVICIOS_SAT_API = gql`\n  query obtenerProductosOServicios($input: CrearFacturaInput!) {\n    obtenerProductosOServicios(input: $input) {\n      message\n      productosOServicios {\n        DangerousMaterial\n        Complement\n        Name\n        Value\n      }\n    }\n  }\n`;\n\nexport const CONSULTA_POSTAL_CODES_SAT_API = gql`\n  query obtenerCodigoPostal($input: CrearFacturaInput!) {\n    obtenerCodigoPostal(input: $input) {\n      message\n      codigoPostal {\n        StateCode\n        MunicipalityCode\n        LocationCode\n        Name\n        Value\n      }\n    }\n  }\n`;\n\nexport const CONSULTA_CFDIU_USES_SAT_API = gql`\n  query obtenerCfdiUses($input: CrearFacturaInput!) {\n    obtenerCfdiUses(input: $input) {\n      message\n      cfdiUses {\n        message\n        Natural\n        Moral\n        Name\n        Value\n      }\n    }\n  }\n`;\n","import React, { useState } from \"react\";\nimport {\n  Box,\n  Button,\n  CircularProgress,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  IconButton,\n  InputAdornment,\n  TextField,\n  Typography,\n} from \"@material-ui/core\";\nimport {\n  Add,\n  Close,\n  CloudUpload,\n  Done,\n  Visibility,\n  VisibilityOff,\n} from \"@material-ui/icons\";\nimport SnackBarMessages from \"../../../../components/SnackBarMessages\";\nimport { CREAR_SELLO_CFDI } from \"../../../../gql/Facturacion/Facturacion\";\nimport { useMutation } from \"@apollo/client\";\n\nexport default function RegistroSellos({\n  datosEmpresa,\n  firma_disabled,\n  refetch,\n}) {\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n  const [open, setOpen] = useState(false);\n  const [datos, setDatos] = useState({\n    certificate: \"\",\n    private_key: \"\",\n    private_key_password: \"\",\n    rfc: sesion && datosEmpresa.rfc ? datosEmpresa.rfc : \"\",\n    empresa: sesion && sesion.empresa._id ? sesion.empresa._id : \"\",\n    sucursal: sesion && sesion.sucursal._id ? sesion.sucursal._id : \"\",\n  });\n  const [show, setShow] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [alert, setAlert] = useState({ message: \"\", status: \"\", open: false });\n\n  const handleClickOpen = () => setOpen(true);\n  const handleClose = () => {\n    setOpen(false);\n    setDatos({\n      certificate: \"\",\n      private_key: \"\",\n      private_key_password: \"\",\n      rfc: sesion && datosEmpresa.rfc ? datosEmpresa.rfc : \"\",\n      empresa: sesion && sesion.empresa._id ? sesion.empresa._id : \"\",\n      sucursal: sesion && sesion.sucursal._id ? sesion.sucursal._id : \"\",\n    });\n  };\n\n  const [crearCSDS] = useMutation(CREAR_SELLO_CFDI);\n\n  const handleClickShowPassword = () => setShow(!show);\n  const handleMouseDownPassword = (event) => event.preventDefault();\n\n  const obtenerFiles = (e) => {\n    const { name, files } = e.target;\n    setDatos({\n      ...datos,\n      [name]: files[0],\n    });\n  };\n\n  const obtenerDatos = (e) => {\n    setDatos({\n      ...datos,\n      private_key_password: e.target.value,\n    });\n  };\n\n  const getBase64 = (file) => {\n    return new Promise((resolve) => {\n      let baseURL = \"\";\n      let reader = new FileReader();\n      reader.readAsDataURL(file);\n      reader.onload = () => {\n        baseURL = reader.result;\n        resolve(baseURL);\n      };\n    });\n  };\n\n  const guardarBD = async () => {\n    if (\n      !datos.certificate ||\n      !datos.private_key ||\n      !datos.private_key_password ||\n      !datos.rfc\n    )\n      return;\n\n    try {\n      let data = { ...datos };\n      let cer = data.certificate;\n      let key = data.private_key;\n      await getBase64(cer)\n        .then((result) => {\n          const base = result.split(\",\");\n          data.certificate = base[1];\n          data.nombre_cer = cer.name;\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n      await getBase64(key)\n        .then((result) => {\n          const base = result.split(\",\");\n          data.private_key = base[1];\n          data.nombre_key = key.name;\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n\n      setLoading(true);\n      const result = await crearCSDS({\n        variables: {\n          input: {\n            certificate: data.certificate,\n            private_key: data.private_key,\n            private_key_password: data.private_key_password,\n            rfc: data.rfc,\n            empresa: data.empresa,\n            sucursal: data.sucursal,\n            nombre_cer: data.nombre_cer,\n            nombre_key: data.nombre_key,\n          },\n        },\n      });\n      setAlert({\n        message: `¡Listo! ${result.data.crearCSDS.message}`,\n        status: \"success\",\n        open: true,\n      });\n      setLoading(false);\n      handleClose();\n      refetch();\n    } catch (error) {\n      setLoading(false);\n      setAlert({\n        message: `Error: ${error.message}`,\n        status: \"error\",\n        open: true,\n      });\n      console.log(error);\n      if (error.networkError) {\n        console.log(error.networkError.result);\n      } else if (error.graphQLErrors) {\n        console.log(error.graphQLErrors);\n      }\n    }\n  };\n\n  return (\n    <div>\n      <SnackBarMessages alert={alert} setAlert={setAlert} />\n      <Box display=\"flex\" justifyContent=\"flex-end\">\n        <Button\n          onClick={() => handleClickOpen()}\n          color=\"inherit\"\n          startIcon={<Add />}\n          disabled={firma_disabled}\n        >\n          Agregar CSD\n        </Button>\n      </Box>\n      <Dialog maxWidth=\"xs\" fullWidth open={open} onClose={() => handleClose()}>\n        <DialogTitle>Registrar firma digital</DialogTitle>\n        <DialogContent>\n          <Box mb={2}>\n            {datosEmpresa.rfc ? (\n              <Typography>{`RFC: ${datosEmpresa.rfc}`}</Typography>\n            ) : (\n              <Typography color=\"error\">\n                *No tienes registrado un RFC\n              </Typography>\n            )}\n          </Box>\n          <Box width=\"100%\">\n            <Typography>\n              Archivo *.cer <b>Certificado de la firma Digital</b>\n            </Typography>\n            <Box display=\"flex\" alignItems=\"center\">\n              <TextField\n                fullWidth\n                value={datos.certificate ? datos.certificate.name : \"\"}\n                size=\"small\"\n                variant=\"outlined\"\n                InputProps={{\n                  endAdornment: (\n                    <InputAdornment position=\"end\">\n                      <label htmlFor=\"archivo-cer-sello-digital\">\n                        <Button\n                          startIcon={<CloudUpload />}\n                          color=\"primary\"\n                          component=\"span\"\n                          disableElevation\n                        >\n                          Upload\n                        </Button>\n                      </label>\n                    </InputAdornment>\n                  ),\n                  readOnly: true,\n                }}\n              />\n              <input\n                accept=\".cer\"\n                style={{ display: \"none\" }}\n                id=\"archivo-cer-sello-digital\"\n                multiple\n                type=\"file\"\n                name=\"certificate\"\n                onChange={obtenerFiles}\n              />\n            </Box>\n          </Box>\n          <Box width=\"100%\" mt={2}>\n            <Typography>\n              Archivo *.key <b>Llave Privada de la Firma Digital</b>\n            </Typography>\n            <Box display=\"flex\" alignItems=\"center\">\n              <TextField\n                fullWidth\n                value={datos.private_key ? datos.private_key.name : \"\"}\n                size=\"small\"\n                variant=\"outlined\"\n                InputProps={{\n                  endAdornment: (\n                    <InputAdornment position=\"end\">\n                      <label htmlFor=\"archivo-key-llave_privada\">\n                        <Button\n                          startIcon={<CloudUpload />}\n                          color=\"primary\"\n                          component=\"span\"\n                          disableElevation\n                        >\n                          Upload\n                        </Button>\n                      </label>\n                    </InputAdornment>\n                  ),\n                  readOnly: true,\n                }}\n              />\n              <input\n                accept=\".key\"\n                style={{ display: \"none\" }}\n                id=\"archivo-key-llave_privada\"\n                multiple\n                type=\"file\"\n                name=\"private_key\"\n                onChange={obtenerFiles}\n              />\n            </Box>\n          </Box>\n          <Box width=\"100%\" my={2}>\n            <Typography>\n              Contraseña de la llave <b>Privada de la Firma Digital</b>\n            </Typography>\n            <Box display=\"flex\" alignItems=\"center\">\n              <TextField\n                fullWidth\n                type={show ? \"text\" : \"password\"}\n                size=\"small\"\n                variant=\"outlined\"\n                name=\"private_key_password\"\n                onChange={obtenerDatos}\n                InputProps={{\n                  endAdornment: (\n                    <InputAdornment position=\"end\">\n                      <IconButton\n                        onClick={handleClickShowPassword}\n                        onMouseDown={handleMouseDownPassword}\n                        edge=\"end\"\n                      >\n                        {show ? <Visibility /> : <VisibilityOff />}\n                      </IconButton>\n                    </InputAdornment>\n                  ),\n                }}\n              />\n            </Box>\n          </Box>\n        </DialogContent>\n        <DialogActions style={{ justifyContent: \"center\" }}>\n          <Button\n            startIcon={<Close />}\n            size=\"large\"\n            onClick={() => handleClose()}\n          >\n            Cancelar\n          </Button>\n          <Button\n            startIcon={loading ? <CircularProgress size={20} /> : <Done />}\n            color=\"primary\"\n            size=\"large\"\n            onClick={() => guardarBD()}\n            disabled={loading || !datos.rfc}\n          >\n            Guardar\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n}\n","import React, { useState } from \"react\";\nimport {\n  Box,\n  Button,\n  CircularProgress,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogContentText,\n  DialogTitle,\n} from \"@material-ui/core\";\nimport { Close, DeleteOutline } from \"@material-ui/icons\";\nimport SnackBarMessages from \"../../../../components/SnackBarMessages\";\nimport { ELIMINAR_SELLO_CFDI } from \"../../../../gql/Facturacion/Facturacion\";\nimport { useMutation } from \"@apollo/client\";\n\nexport default function EliminarSellos({ datosEmpresa, refetch }) {\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n  const [open, setOpen] = useState(false);\n  const [datos, setDatos] = useState({\n    rfc: datosEmpresa && datosEmpresa.rfc ? datosEmpresa.rfc : \"\",\n    empresa: sesion && sesion.empresa._id ? sesion.empresa._id : \"\",\n  });\n  const [loading, setLoading] = useState(false);\n  const [alert, setAlert] = useState({ message: \"\", status: \"\", open: false });\n\n  const handleClickOpen = () => setOpen(true);\n  const handleClose = () => {\n    setOpen(false);\n    setDatos({\n      rfc: sesion && datosEmpresa.rfc ? datosEmpresa.rfc : \"\",\n      empresa: sesion && sesion.empresa._id ? sesion.empresa._id : \"\",\n    });\n  };\n\n  const [eliminarCSD] = useMutation(ELIMINAR_SELLO_CFDI);\n\n  const eliminarSelloCSD = async () => {\n    if (!datos.rfc) return;\n\n    try {\n      setLoading(true);\n      const result = await eliminarCSD({\n        variables: {\n          rfc: datos.rfc,\n          empresa: datos.empresa,\n        },\n      });\n\n      setAlert({\n        message: `¡Listo! ${result.data.eliminarCSD.message}`,\n        status: \"success\",\n        open: true,\n      });\n      setLoading(false);\n      handleClose();\n      refetch();\n    } catch (error) {\n      setLoading(false);\n      setAlert({\n        message: `Error: ${error.message}`,\n        status: \"error\",\n        open: true,\n      });\n      console.log(error);\n      if (error.networkError) {\n        console.log(error.networkError.result);\n      } else if (error.graphQLErrors) {\n        console.log(error.graphQLErrors);\n      }\n    }\n  };\n\n  return (\n    <div>\n      <SnackBarMessages alert={alert} setAlert={setAlert} />\n      <Box display=\"flex\" justifyContent=\"flex-end\">\n        <Button\n          onClick={() => handleClickOpen()}\n          color=\"inherit\"\n          startIcon={<DeleteOutline />}\n        >\n          Remover CSD\n        </Button>\n      </Box>\n      <Dialog maxWidth=\"xs\" fullWidth open={open} onClose={() => handleClose()}>\n        <DialogTitle>Eliminar Firma Digital</DialogTitle>\n        <DialogContent>\n          <DialogContentText>\n            {`Se eliminara el CSD registrado con el RFC ${datosEmpresa.rfc}`}\n          </DialogContentText>\n        </DialogContent>\n        <DialogActions style={{ justifyContent: \"center\" }}>\n          <Button\n            startIcon={<Close />}\n            size=\"large\"\n            onClick={() => handleClose()}\n          >\n            Cancelar\n          </Button>\n          <Button\n            startIcon={\n              loading ? <CircularProgress size={20} /> : <DeleteOutline />\n            }\n            color=\"secondary\"\n            size=\"large\"\n            onClick={() => eliminarSelloCSD()}\n            disabled={loading || !datos.rfc}\n          >\n            Eliminar\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n}\n","import React, { useContext, useState, useEffect } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nimport {\n  Box,\n  Grid,\n  TextField,\n  Button,\n  Container,\n  FormControl,\n  Select,\n  MenuItem\n} from \"@material-ui/core\";\nimport {\n  Typography,\n  Divider,\n  DialogActions,\n} from \"@material-ui/core\";\nimport SnackBarMessages from \"../../../../components/SnackBarMessages\";\nimport BackdropComponent from \"../../../../components/Layouts/BackDrop\";\nimport ErrorPage from \"../../../../components/ErrorPage\";\nimport { useMutation, useQuery } from \"@apollo/client\";\n\nimport { EmpresaContext } from \"../../../../context/Catalogos/empresaContext\";\nimport {\n  ACTUALIZAR_EMPRESA,\n  OBTENER_DATOS_EMPRESA,\n} from \"../../../../gql/Empresa/empresa\";\nimport { regimenFiscal } from \"../../Facturacion/catalogos\";\nimport { Alert, AlertTitle } from \"@material-ui/lab\";\nimport RegistroSellos from \"../../Facturacion/CFDISellos/RegistrarSellos\";\nimport EliminarSellos from \"../../Facturacion/CFDISellos/EliminarCSD\";\n\nconst useStyles = makeStyles((theme) => ({\n  appBar: {\n    position: \"relative\",\n  },\n  title: {\n    marginLeft: theme.spacing(2),\n    flex: 1,\n  },\n  icon: {\n    fontSize: 100,\n  },\n  subtitle: {\n    marginLeft: \"10px\",\n    width: \"100%\",\n  },\n  require: {\n    \"& span\": {\n      color: \"red\",\n    },\n  },\n}));\n\n\nexport default function InformacionFiscal(props) {\n  const classes = useStyles();\n  const [loadingPage, setLoadingPage] = React.useState(false);\n\n  const [errorPage, setErrorPage] = React.useState(false);\n  const [errorForm, setErrorForm] = React.useState(\n    useState({ error: false, message: \"\" })\n  );\n  const [alert, setAlert] = useState({ message: \"\", status: \"\", open: false });\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n  const [bloqueo] = useState(\n    sesion.accesos.mi_empresa.informacion_fiscal.editar === false ? true : false\n  );\n  const { empresa, setEmpresa } = useContext(EmpresaContext);\n  const [actualizarEmpresa] = useMutation(ACTUALIZAR_EMPRESA);\n  const [firma_disabled, setFirmaDisabled] = useState(false);\n  const [empresaFiscal, setEmpresaFiscal] = useState({\n    nombre_fiscal: \"\",\n    rfc: \"\",\n    curp: \"\",\n    info_adicio: \"\",\n    regimen_fiscal: \"\",\n    direccionFiscal: {\n      calle: \"\",\n      no_ext: \"\",\n      no_int: \"\",\n      codigo_postal: \"\",\n      colonia: \"\",\n      municipio: \"\",\n      localidad: \"\",\n      estado: \"\",\n      pais: \"\",\n    },\n    datosBancarios: {\n      cuenta: \"\",\n      sucursal: \"\",\n      clave_banco: \"\",\n    },\n  });\n  /* Queries */ \n  const { loading, data, refetch, error } = useQuery(OBTENER_DATOS_EMPRESA, {\n    variables: { id: sesion.empresa._id },\n  });\n\n  useEffect(() => {\n    try {\n      setErrorPage(error);\n    } catch (errorCatch) {\n      // console.log(\"SESSIONREFECT\",errorCatch)\n    }\n  }, [error]);\n\n  useEffect(() => {\n    try {\n      if (data !== undefined) {\n        setEmpresa(data.obtenerEmpresa);\n        let new_sesion = sesion;\n        new_sesion.empresa = data.obtenerEmpresa;\n        localStorage.setItem(\"sesionCafi\", JSON.stringify(new_sesion));\n        if (!data.obtenerEmpresa.rfc) {\n          setFirmaDisabled(true);\n        } else {\n          setFirmaDisabled(false);\n        }\n      }\n    } catch (errorCatch) {\n      //console.log(\"SESSIONREFECT\",errorCatch)\n    }\n  }, [data, setEmpresa, sesion]);\n\n  useEffect(() => {\n    try {\n      setErrorPage(error);\n    } catch (errorCatch) {\n      // console.log(\"SESSIONREFECT\",errorCatch)\n    }\n  }, [error]);\n\n  useEffect(() => {\n    try {\n      setLoadingPage(loading);\n      \n    } catch (errorCatch) {\n      // console.log(\"SESSIONREFECTUPDATE\",errorCatch)\n    }\n  }, [loading]);\n\n  useEffect(() => {\n    try {\n      setEmpresaFiscal({\n        nombre_fiscal: empresa.nombre_fiscal,\n        rfc: empresa.rfc,\n        curp: empresa.curp,\n\n        info_adicio: empresa.info_adicio,\n        regimen_fiscal: empresa.regimen_fiscal,\n        sello_sat: empresa.sello_sat,\n        nombre_cer: empresa.nombre_cer,\n        nombre_key: empresa.nombre_key,\n        limite_timbres: empresa.limite_timbres,\n        timbres_usados: empresa.timbres_usados,\n        direccionFiscal: {\n          calle: empresa.direccionFiscal.calle,\n          no_ext: empresa.direccionFiscal.no_ext,\n          no_int: empresa.direccionFiscal.no_int,\n          codigo_postal: empresa.direccionFiscal.codigo_postal,\n          colonia: empresa.direccionFiscal.colonia,\n          municipio: empresa.direccionFiscal.municipio,\n          localidad: empresa.direccionFiscal.localidad,\n          estado: empresa.direccionFiscal.estado,\n          pais: empresa.direccionFiscal.pais,\n        },\n        datosBancarios: {\n          cuenta: empresa.datosBancarios.cuenta,\n          sucursal: empresa.datosBancarios.sucursal,\n          clave_banco: empresa.datosBancarios.clave_banco,\n        },\n      });\n    } catch (errorCatch) {}\n  }, [empresa]);\n\n  const actEmp = async () => {\n    try {\n      setLoadingPage(true);\n      /* const input = cleanTypenames(empresaFiscal); */\n      await actualizarEmpresa({\n        variables: {\n          id: sesion.empresa._id,\n          input: empresaFiscal,\n        },\n      });\n      setLoadingPage(false);\n      setAlert({\n        message: \"Se han actualizado correctamente los datos.\",\n        status: \"success\",\n        open: true,\n      });\n      setErrorForm(false);\n      refetch();\n    } catch (error) {\n      setLoadingPage(false);\n      setAlert({ message: \"Hubo un error\", status: \"error\", open: true });\n      console.log(error);\n      if (error.response) {\n        console.log(error.response);\n      } else if (error.networkError) {\n        console.log(error.networkError.result);\n      } else if (error.graphQLErrors) {\n        console.log(error.graphQLErrors);\n      }\n    }\n  };\n\n  \n\n  const handleClose = () => {\n    props.setOpen(false);\n  };\n  const obtenerCampos = (e) => {\n    setEmpresaFiscal({\n      ...empresaFiscal,\n      [e.target.name]: e.target.value,\n    });\n  };\n  const obtenerCamposDireccion = (e) => {\n    setEmpresaFiscal({\n      ...empresaFiscal,\n      direccionFiscal: {\n        ...empresaFiscal.direccionFiscal,\n        [e.target.name]: e.target.value,\n      },\n    });\n  };\n  const obtenerCamposBancarios = (e) => {\n    setEmpresaFiscal({\n      ...empresaFiscal,\n      datosBancarios: {\n        ...empresaFiscal.datosBancarios,\n        [e.target.name]: e.target.value,\n      },\n    });\n  };\n\n  return (\n    <div>\n     \n        <SnackBarMessages alert={alert} setAlert={setAlert} />\n        <BackdropComponent loading={loadingPage} setLoading={setLoadingPage} />\n     \n        \n          {errorPage ? (\n            <ErrorPage error={errorPage} />\n          ) : (\n            <Container>\n              <Grid container spacing={1} >\n                <Grid item md={6} xs={12} className={classes.require}>\n                  <Box my={1}>\n                    <Typography>\n                     <b> <span>* </span>Nombre fiscal</b>\n                    </Typography>\n                    <TextField\n                      fullWidth\n                      disabled={bloqueo}\n                      type=\"text\"\n                      size=\"small\"\n                      error={errorForm.error && !empresaFiscal.nombre_fiscal}\n                      name=\"nombre_fiscal\"\n                      variant=\"outlined\"\n                      value={\n                        empresaFiscal.nombre_fiscal\n                          ? empresaFiscal.nombre_fiscal\n                          : \"\"\n                      }\n                      helperText={\n                        errorForm.error &&\n                        errorForm.message !== \"El campo nombre es obligatorio\"\n                          ? errorForm.message\n                          : \"\"\n                      }\n                      onChange={obtenerCampos}\n                    />\n                  </Box>\n                  <Box my={1}>\n                    <Typography><b>RFC</b></Typography>\n                    <TextField\n                      fullWidth\n                      disabled={bloqueo}\n                      size=\"small\"\n                      name=\"rfc\"\n                      variant=\"outlined\"\n                      value={empresaFiscal.rfc ? empresaFiscal.rfc : \"\"}\n                      onChange={obtenerCampos}\n                    />\n                  </Box>\n                  <Box my={1}>\n                    <Typography>Régimen fiscal</Typography>\n                    <FormControl\n                      variant=\"outlined\"\n                      fullWidth\n                      size=\"small\"\n                      name=\"regimen_fiscal\"\n                    >\n                      <Select\n                        value={\n                          empresaFiscal.regimen_fiscal\n                            ? empresaFiscal.regimen_fiscal\n                            : \"\"\n                        }\n                        name=\"regimen_fiscal\"\n                        onChange={obtenerCampos}\n                      >\n                        <MenuItem value=\"\">\n                          <em>Selecciona uno</em>\n                        </MenuItem>\n                        {regimenFiscal.map((res, index) => (\n                          <MenuItem\n                            key={index}\n                            value={res.Value}\n                          >{`${res.Value} - ${res.Name}`}</MenuItem>\n                        ))}\n                      </Select>\n                    </FormControl>\n                  </Box>\n                  <Box my={1}>\n                    <Typography><b>CURP</b></Typography>\n                    <TextField\n                      disabled={bloqueo}\n                      fullWidth\n                      size=\"small\"\n                      name=\"curp\"\n                      variant=\"outlined\"\n                      value={empresaFiscal.curp ? empresaFiscal.curp : \"\"}\n                      onChange={obtenerCampos}\n                    />\n                  </Box>\n                  <Box my={1}>\n                    <Typography><b>Info. Adicional</b></Typography>\n                    <TextField\n                      disabled={bloqueo}\n                      fullWidth\n                      size=\"small\"\n                      name=\"info_adicio\"\n                      variant=\"outlined\"\n                      value={\n                        empresaFiscal.info_adicio\n                          ? empresaFiscal.info_adicio\n                          : \"\"\n                      }\n                      onChange={obtenerCampos}\n                      multiline\n                    />\n                  </Box>\n                </Grid>\n                <Grid item md={6} xs={12}>\n                  <Typography className={classes.subtitle}>\n                    <b>Firma digital</b>\n                  </Typography>\n                  <Divider />\n                  <Box m={1}>\n                    {empresaFiscal.sello_sat === true ? (\n                      <Alert\n                        severity=\"success\"\n                        action={\n                          <EliminarSellos\n                            firma_disabled={firma_disabled}\n                            datosEmpresa={empresaFiscal}\n                            refetch={refetch}\n                          />\n                        }\n                      >\n                        <AlertTitle>Firma Digital Activa</AlertTitle>\n                      </Alert>\n                    ) : (\n                      <Alert\n                        severity=\"info\"\n                        action={\n                          <RegistroSellos\n                            firma_disabled={firma_disabled}\n                            datosEmpresa={empresaFiscal}\n                            refetch={refetch}\n                          />\n                        }\n                      >\n                        <AlertTitle>Sin Firma Digital</AlertTitle>\n                        Sin esta firma no prodrás realizar facturas\n                        {firma_disabled ? (\n                          <li>Necesitas tener un RFC registrado</li>\n                        ) : null}\n                      </Alert>\n                    )}\n                  </Box>\n                  <Box my={1}>\n                    <Typography><b>Archivo *.cer</b></Typography>\n                    <TextField\n                      disabled\n                      fullWidth\n                      size=\"small\"\n                      variant=\"outlined\"\n                    />\n                  </Box>\n                  <Box my={1}>\n                    <Typography><b>Archivo *.key</b></Typography>\n                    <TextField\n                      disabled\n                      fullWidth\n                      size=\"small\"\n                      variant=\"outlined\"\n                    />\n                  </Box>\n                  <Box my={1}>\n                    <Typography><b>Fecha de registro</b></Typography>\n                    <TextField\n                      disabled\n                      fullWidth\n                      size=\"small\"\n                      variant=\"outlined\"\n                    />\n                  </Box>\n                </Grid>\n              </Grid>\n              <Box >\n                <Typography className={classes.subtitle}>\n                  <b>Domicilio</b>\n                </Typography>\n                <Divider />\n              </Box>\n              <Grid container spacing={2}>\n                <Grid item xs={12} sm={4}>\n                  <Box>\n                    <Typography><b>Calle</b></Typography>\n                    <TextField\n                      fullWidth\n                      size=\"small\"\n                      name=\"calle\"\n                      variant=\"outlined\"\n                      disabled={bloqueo}\n                      value={\n                        empresaFiscal.direccionFiscal.calle\n                          ? empresaFiscal.direccionFiscal.calle\n                          : \"\"\n                      }\n                      onChange={obtenerCamposDireccion}\n                    />\n                  </Box>\n                  <Box>\n                    <Typography><b>Num. Ext</b></Typography>\n                    <TextField\n                      fullWidth\n                      size=\"small\"\n                      name=\"no_ext\"\n                      variant=\"outlined\"\n                      disabled={bloqueo}\n                      value={\n                        empresaFiscal.direccionFiscal.no_ext\n                          ? empresaFiscal.direccionFiscal.no_ext\n                          : \"\"\n                      }\n                      onChange={obtenerCamposDireccion}\n                    />\n                  </Box>\n                  <Box>\n                    <Typography><b>Num. Int</b></Typography>\n                    <TextField\n                      fullWidth\n                      size=\"small\"\n                      name=\"no_int\"\n                      variant=\"outlined\"\n                      disabled={bloqueo}\n                      value={\n                        empresaFiscal.direccionFiscal.no_int\n                          ? empresaFiscal.direccionFiscal.no_int\n                          : \"\"\n                      }\n                      onChange={obtenerCamposDireccion}\n                    />\n                  </Box>\n                </Grid>\n                <Grid item xs={12} sm={4}>\n                  <Box>\n                    <Typography><b>C.P.</b></Typography>\n                    <TextField\n                      fullWidth\n                      size=\"small\"\n                      name=\"codigo_postal\"\n                      variant=\"outlined\"\n                      disabled={bloqueo}\n                      value={\n                        empresaFiscal.direccionFiscal.codigo_postal\n                          ? empresaFiscal.direccionFiscal.codigo_postal\n                          : \"\"\n                      }\n                      onChange={obtenerCamposDireccion}\n                    />\n                  </Box>\n                  <Box>\n                    <Typography><b>Colonia</b></Typography>\n                    <TextField\n                      fullWidth\n                      size=\"small\"\n                      name=\"colonia\"\n                      variant=\"outlined\"\n                      disabled={bloqueo}\n                      value={\n                        empresaFiscal.direccionFiscal.colonia\n                          ? empresaFiscal.direccionFiscal.colonia\n                          : \"\"\n                      }\n                      onChange={obtenerCamposDireccion}\n                    />\n                  </Box>\n                  <Box>\n                    <Typography><b>Municipio</b></Typography>\n                    <TextField\n                      fullWidth\n                      size=\"small\"\n                      name=\"municipio\"\n                      variant=\"outlined\"\n                      disabled={bloqueo}\n                      value={\n                        empresaFiscal.direccionFiscal.municipio\n                          ? empresaFiscal.direccionFiscal.municipio\n                          : \"\"\n                      }\n                      onChange={obtenerCamposDireccion}\n                    />\n                  </Box>\n                </Grid>\n                <Grid item xs={12} sm={4}>\n                  <Box>\n                    <Typography><b>Localidad</b></Typography>\n                    <TextField\n                      fullWidth\n                      size=\"small\"\n                      name=\"localidad\"\n                      variant=\"outlined\"\n                      disabled={bloqueo}\n                      value={\n                        empresaFiscal.direccionFiscal.localidad\n                          ? empresaFiscal.direccionFiscal.localidad\n                          : \"\"\n                      }\n                      onChange={obtenerCamposDireccion}\n                    />\n                  </Box>\n                  <Box>\n                    <Typography><b>Estado</b></Typography>\n                    <TextField\n                      fullWidth\n                      size=\"small\"\n                      name=\"estado\"\n                      variant=\"outlined\"\n                      disabled={bloqueo}\n                      value={\n                        empresaFiscal.direccionFiscal.estado\n                          ? empresaFiscal.direccionFiscal.estado\n                          : \"\"\n                      }\n                      onChange={obtenerCamposDireccion}\n                    />\n                  </Box>\n                  <Box>\n                    <Typography><b>Pais</b></Typography>\n                    <TextField\n                      fullWidth\n                      size=\"small\"\n                      name=\"pais\"\n                      variant=\"outlined\"\n                      disabled={bloqueo}\n                      value={\n                        empresaFiscal.direccionFiscal.pais\n                          ? empresaFiscal.direccionFiscal.pais\n                          : \"\"\n                      }\n                      onChange={obtenerCamposDireccion}\n                    />\n                  </Box>\n                </Grid>\n              </Grid>\n              <Box mt={1}>\n                <Typography className={classes.subtitle}>\n                  <b>Datos bancarios</b>\n                </Typography>\n                <Divider />\n              </Box>\n              <Grid container spacing={2}>\n                <Grid item xs={12} md={4}>\n                  <Box>\n                    <Typography><b>Cuenta</b></Typography>\n                    <TextField\n                      fullWidth\n                      size=\"small\"\n                      name=\"cuenta\"\n                      variant=\"outlined\"\n                      disabled={bloqueo}\n                      value={\n                        empresaFiscal.datosBancarios.cuenta\n                          ? empresaFiscal.datosBancarios.cuenta\n                          : \"\"\n                      }\n                      onChange={obtenerCamposBancarios}\n                    />\n                  </Box>\n                </Grid>\n                <Grid item xs={12} md={4}>\n                  <Box>\n                    <Typography><b>Sucursal</b></Typography>\n                    <TextField\n                      fullWidth\n                      size=\"small\"\n                      name=\"sucursal\"\n                      variant=\"outlined\"\n                      disabled={bloqueo}\n                      value={\n                        empresaFiscal.datosBancarios.sucursal\n                          ? empresaFiscal.datosBancarios.sucursal\n                          : \"\"\n                      }\n                      onChange={obtenerCamposBancarios}\n                    />\n                  </Box>\n                </Grid>\n                <Grid item xs={12} md={4}>\n                  <Box>\n                    <Typography><b>Clave de banco</b></Typography>\n                    <TextField\n                      fullWidth\n                      size=\"small\"\n                      name=\"clave_banco\"\n                      variant=\"outlined\"\n                      disabled={bloqueo}\n                      value={\n                        empresaFiscal.datosBancarios.clave_banco\n                          ? empresaFiscal.datosBancarios.clave_banco\n                          : \"\"\n                      }\n                      onChange={obtenerCamposBancarios}\n                    />\n                  </Box>\n                </Grid>\n                \n     \n              </Grid>\n              {sesion.accesos.mi_empresa.informacion_fiscal.editar === false ? null : (\n                  <DialogActions m={2} style={{ marginTop:10, width:'100%',justifyContent: \"center\" }}>\n                  <Button onClick={handleClose} color=\"primary\">\n                    Cancelar\n                  </Button>\n                  <Button\n                    onClick={() => actEmp()}\n                    color=\"primary\"\n                    variant=\"contained\"\n                    \n                  >\n                    Guardar\n                  </Button>\n                </DialogActions>\n              )}\n            </Container>\n          )}\n       \n      \n    </div>\n  );\n}\n","import React,{useState} from 'react';\nimport {  DialogContent, Button, Box, Dialog, Slide, Typography, AppBar, Toolbar } from '@material-ui/core';\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport { FcNook } from \"react-icons/fc\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Tabs from \"@material-ui/core/Tabs\";\nimport Tab from \"@material-ui/core/Tab\";\nimport MisDatos from './Datos/MisDatos';\nimport InformacionFiscal from './InformacionFiscal/InformacionFiscal';\nconst useStyles = makeStyles((theme) => ({\n\n  appBar: {\n    position: \"relative\",\n  },\n  title: {\n    marginLeft: theme.spacing(2),\n    flex: 1,\n  },\n  icon: {\n    fontSize: 100,\n  },\n  subtitle: {\n    marginLeft: \"10px\",\n    width: \"100%\",\n  },\n  require: {\n    \"& span\": {\n      color: \"red\",\n    },\n  },\n  avatarContainer: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    width: \"100%\",\n    height: \"100%\",\n    border: \"dashed 2px black\",\n    borderRadius: \"100%\",\n  },\n  avatar: {\n    width: \"90%\",\n    height: \"90%\",\n    \"& > .icon\": {\n      fontSize: 100,\n    },\n  },\n \n}));\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\nexport default function MiEmpresa() {\n  const classes = useStyles();\n\tconst [value, setValue] = useState(0);\n\tconst [open, setOpen] = useState(false);\n\t\n  const handleChange = (event, value) => {\n    setValue(value);\n    \n  };\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\t\n  const handleClose = () => {\n    setOpen(false);\n  };\n\treturn (\n\t\t<div>\n    <Button fullWidth onClick={handleClickOpen}>\n        <Box display=\"flex\" flexDirection=\"column\">\n          <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n            <FcNook className={classes.icon} />\n          </Box>\n          Datos de empresa\n        </Box>\n      </Button>\n        <Dialog\n        fullScreen\n        open={open}\n        onClose={handleClose}\n        TransitionComponent={Transition}\n      >\n        <AppBar className={classes.appBar}>\n          <Toolbar>\n            <Typography variant=\"h6\" className={classes.title}>\n              Datos\n            </Typography>\n            <Box m={1}>\n              <Button\n                variant=\"contained\"\n                color=\"secondary\"\n                onClick={handleClose}\n                size=\"large\"\n              >\n                <CloseIcon style={{ fontSize: 30 }} />\n              </Button>\n            </Box>\n          </Toolbar>\n        </AppBar>\n        \n          <Box >\n            <Tabs\n              indicatorColor=\"primary\"\n              value={value}\n              onChange={handleChange}\n              aria-label=\"simple tabs example\"\n            >\n              <Tab label=\"Datos empresa\" />\n              <Tab label=\"Datos fiscales\" />\n            </Tabs>\n          </Box>\n          <DialogContent>  \n            {\n              (value === 0 ) ? \n                <MisDatos setOpen={setOpen} />\n                :\n                <InformacionFiscal setOpen={setOpen} />\n            }\n          </DialogContent>\n      </Dialog>  \n      \n     \n\t\t\t\n\t\t</div>\n\t);\n}\n","import { gql } from '@apollo/client';\n\nexport const OBTENER_SUCURSALES = gql`\n    query ObtenerSucursalesEmpresa($id: ID!){\n        obtenerSucursalesEmpresa(id: $id){\n            _id\n            nombre_sucursal\n            descripcion\n            usuario_sucursal\n            direccion{\n                calle\n                no_ext\n                no_int\n                codigo_postal\n                colonia\n                municipio\n                localidad\n                estado\n                pais\n            }\n            cuenta_sucursal {\n                dinero_actual\n            }         \n        }\n    }\n`\nexport const OBTENER_DATOS_SUCURSAL = gql`\n    query obtenerDatosSucursal($id: ID!){\n        obtenerDatosSucursal(id: $id){\n            _id\n            nombre_sucursal\n            descripcion\n            usuario_sucursal\n            direccion{\n                calle\n                no_ext\n                no_int\n                codigo_postal\n                colonia\n                municipio\n                localidad\n                estado\n                pais\n            }\n            cuenta_sucursal {\n                dinero_actual\n            }         \n        }\n    }\n`\nexport const ACTUALIZAR_SUCURSAL = gql`\n  mutation editarSucursal($id: ID!, $input: EditarSucursal) {\n    editarSucursal(id: $id, input: $input) {\n         _id\n            nombre_sucursal\n            descripcion\n            usuario_sucursal\n            direccion{\n                calle\n                no_ext\n                no_int\n                codigo_postal\n                colonia\n                municipio\n                localidad\n                estado\n                pais\n            }\n            cuenta_sucursal {\n                dinero_actual\n            }         \n        }\n    }\n`\n\nexport const CREAR_MOVIMIENTO_CUENTA = gql`\n    mutation CrearMovimientoCuenta($input: CrearMovimientoCuentaInput, $empresa: ID!, $sucursal: ID!, $tipo: Boolean){\n        crearMovimientoCuenta(input: $input, empresa: $empresa, sucursal: $sucursal, tipo: $tipo){\n            message\n        }\n    }\n`;\n\nexport const OBTENER_HISTORIAL_CUENTAS = gql`\n    query ObtenerHistorialCuenta($empresa: ID!, $sucursal: ID!, $input: ObtenerHistorialCuenta, $tipo: Boolean){\n        obtenerHistorialCuenta(empresa: $empresa, sucursal: $sucursal, input: $input, tipo: $tipo){\n            tipo_movimiento\n            id_usuario\n            numero_caja\n            id_Caja\n            numero_usuario_creador\n            nombre_usuario_creador\n            horario_turno\n            concepto\n            comentarios\n            montos_en_caja { \n                monto_efectivo{\n                    monto \n                }\n            }\n            fecha_movimiento{\n                completa\n            }\n            empresa\n            sucursal             \n        }\n    }\n`;","export const numerosRandom = (min, max) => {\n  return Math.floor(Math.random() * (max - min + 1) + min);\n};\n\nexport const generateCode = (length) => {\n  var result = \"\";\n  var characters =\n    \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\n  var charactersLength = characters.length;\n  for (var i = 0; i < length; i++) {\n    result += characters.charAt(Math.floor(Math.random() * charactersLength));\n  }\n  return result;\n};\n\nexport const formatoHora = (hora) => {\n  if (!hora) {\n    return null;\n  } else {\n    var newtime = new Date(hora);\n    return newtime.toLocaleTimeString(\"en-US\", { hour12: \"false\" });\n  }\n};\n\nexport const formatoFecha = (fecha) => {\n  if (!fecha) {\n    return null;\n  } else {\n    var newdate = new Date(fecha);\n    return newdate.toLocaleDateString(\"es-MX\", {\n      weekday: \"long\",\n      year: \"numeric\",\n      month: \"long\",\n      day: \"numeric\",\n    });\n  }\n};\n\nexport const formatoFechaCorta = (fecha) => {\n  if (!fecha) {\n    return null;\n  } else {\n    var newdate = new Date(fecha);\n    return newdate.toLocaleDateString(\"es-MX\", {\n      weekday: \"short\",\n      year: \"numeric\",\n      month: \"short\",\n      day: \"numeric\",\n    });\n  }\n};\n\nexport const formatoMexico = (number) => {\n  if (!number) {\n    return null;\n  } else {\n    let nueva;\n    if (number % 1 === 0) {\n      nueva = number;\n    } else {\n      nueva = parseFloat(number).toFixed(2);\n    }\n    const exp = /(\\d)(?=(\\d{3})+(?!\\d))/g;\n    const rep = \"$1,\";\n    return nueva.toString().replace(exp, rep);\n  }\n};\n\nexport const cleanTypenames = (value) => {\n  if (Array.isArray(value)) {\n    return value.map(cleanTypenames);\n  } else if (value !== null && typeof value === \"object\") {\n    const newObject = {};\n    for (const property in value)\n      if (property !== \"__typename\")\n        newObject[property] = cleanTypenames(value[property]);\n    return newObject;\n  } else {\n    return value;\n  }\n};\n\nexport const findProductArray = async (producto) => {\n  try {\n    let venta = JSON.parse(localStorage.getItem(\"DatosVentas\"));\n    let productosVentas = venta === null ? [] : venta.productos;\n    let found = false;\n    let producto_found = {\n      producto: {},\n      index: 0,\n    };\n\n    for (let i = 0; i < productosVentas.length; i++) {\n      if (typeof productosVentas[i].codigo_barras !== \"undefined\") {\n        if (productosVentas[i].codigo_barras === producto.codigo_barras) {\n          producto_found = {\n            producto: productosVentas[i],\n            index: i,\n          };\n          found = true;\n          return {\n            producto_found,\n            found,\n          };\n        }\n      } else {\n        if (\n          productosVentas[i].id_producto.datos_generales.clave_alterna ===\n          producto.id_producto.datos_generales.clave_alterna\n        ) {\n          producto_found = {\n            producto: productosVentas[i],\n            index: i,\n          };\n          found = true;\n          return {\n            producto_found,\n            found,\n          };\n        }\n      }\n    }\n\n    return {\n      producto_found,\n      found,\n    };\n  } catch (error) {\n    console.log(error);\n    return false;\n  }\n};\n\nexport const calculatePrices = async (\n  newP,\n  cantidad,\n  granel,\n  newPrising = 0\n) => {\n  let subtotalCalculo = 0,\n    totalCalculo = 0,\n    impuestoCalculo = 0,\n    ivaCalculo = 0,\n    iepsCalculo = 0,\n    descuentoCalculo = 0,\n    monederoCalculo = 0;\n  // console.log(\"newPrising\",newPrising);\n  const cantidadNueva = cantidad > 0 ? cantidad : 1;\n  console.log(newP.id_producto.precios.precios_producto[0].precio_venta);\n  // console.log(newP);\n  const iva_producto =\n    parseFloat(newP.id_producto.precios.precios_producto[0].precio_venta) *\n    parseFloat(\n      `0.${\n        newP.id_producto.precios.iva < 9\n          ? `0${newP.id_producto.precios.iva}`\n          : newP.id_producto.precios.iva\n      }`\n    );\n\n  const ieps_producto =\n    parseFloat(newP.id_producto.precios.precios_producto[0].precio_venta) *\n    parseFloat(\n      `0.${\n        newP.id_producto.precios.ieps < 9\n          ? `0${newP.id_producto.precios.ieps}`\n          : newP.id_producto.precios.ieps\n      }`\n    );\n\n  const precioProducto = newPrising;\n  // const precioDescuentoProducto = newP.descuento_activo ? parseFloat(newP.descuento.precio_con_descuento) : 0;\n\n  totalCalculo =\n    granel.granel === true\n      ? precioProducto * cantidadNueva * parseFloat(granel.valor)\n      : precioProducto * cantidadNueva;\n\n  subtotalCalculo =\n    granel.granel === true\n      ? (precioProducto - (iva_producto + ieps_producto)) *\n        cantidadNueva *\n        parseFloat(granel.valor)\n      : (precioProducto - (iva_producto + ieps_producto)) * cantidadNueva;\n\n  impuestoCalculo =\n    granel.granel === true\n      ? (iva_producto + ieps_producto) *\n        cantidadNueva *\n        parseFloat(granel.valor)\n      : (iva_producto + ieps_producto) * cantidadNueva;\n\n  console.log(cantidadNueva);\n\n  ivaCalculo =\n    granel.granel === true\n      ? iva_producto * cantidadNueva * parseFloat(granel.valor)\n      : iva_producto * cantidadNueva;\n\n  iepsCalculo =\n    granel.granel === true\n      ? ieps_producto * cantidadNueva * parseFloat(granel.valor)\n      : ieps_producto * cantidadNueva;\n\n  descuentoCalculo =\n    granel.granel === true\n      ? newP.descuento_activo === true\n        ? parseFloat(newP.descuento.dinero_descontado) *\n          cantidadNueva *\n          parseFloat(granel.valor)\n        : 0\n      : newP.descuento_activo === true\n      ? parseFloat(newP.descuento.dinero_descontado) * cantidadNueva\n      : 0;\n\n  monederoCalculo = newP.id_producto.precios.monedero\n    ? newP.id_producto.precios.monedero_electronico * cantidadNueva\n    : 0;\n\n  return {\n    totalCalculo,\n    subtotalCalculo,\n    impuestoCalculo,\n    ivaCalculo,\n    iepsCalculo,\n    descuentoCalculo,\n    monederoCalculo,\n  };\n};\n\nexport const calculatePrices2 = async ({ newP, cantidad, granel, origen, precio_boolean = false, precio}) => {\n  try {\n    let subtotalCalculo = 0,\n      totalCalculo = 0,\n      impuestoCalculo = 0,\n      ivaCalculo = 0,\n      iepsCalculo = 0,\n      descuentoCalculo = 0,\n      monederoCalculo = 0;\n    // const descuento = newP.descuento_activo === null ? false : true;\n    const cantidadNueva = cantidad > 0 ? cantidad : 1;\n    const valor_granel = granel.granel ? parseFloat(granel.valor) : 1;\n    const precio_actual = precio_boolean ? precio : newP.descuento_activo ? newP.descuento : newP.precio_unidad;\n    const cantidadCaja =\n    precio_actual.unidad_maxima === true\n      ? precio_actual.cantidad_unidads\n      : 1;\n    ivaCalculo = precio_actual.iva_precio * cantidadCaja;\n    iepsCalculo = precio_actual.ieps_precio * cantidadCaja;\n    impuestoCalculo = ivaCalculo + iepsCalculo;\n    subtotalCalculo = precio_actual.precio_venta * cantidadCaja;\n    totalCalculo = precio_actual.precio_neto * cantidadCaja;\n    monederoCalculo = newP.id_producto.precios.monedero\n      ? newP.id_producto.precios.monedero_electronico * cantidadCaja\n      : 0;\n    descuentoCalculo = totalCalculo - newP.precio_unidad.precio_neto;\n    const ob = {\n      ivaCalculo: parseFloat((ivaCalculo * valor_granel * cantidadNueva).toFixed(2)),\n      iepsCalculo: parseFloat((iepsCalculo * valor_granel * cantidadNueva).toFixed(2)) ,\n      impuestoCalculo: parseFloat((impuestoCalculo * valor_granel * cantidadNueva).toFixed(2)) ,\n      subtotalCalculo: parseFloat((subtotalCalculo * valor_granel * cantidadNueva).toFixed(2)) ,\n      totalCalculo: parseFloat((totalCalculo * valor_granel * cantidadNueva).toFixed(2)) ,\n      monederoCalculo: parseFloat((monederoCalculo * valor_granel * cantidadNueva).toFixed(2)) ,\n      descuentoCalculo: parseFloat((descuentoCalculo * valor_granel * cantidadNueva).toFixed(2)) ,\n      newP\n    };\n    if(origen === \"Ventas1\"){\n      newP.cantidad_venta = 1;\n      newP.granel_producto  = granel;\n      newP.precio_a_vender = ob.totalCalculo;\n      newP.precio_actual_producto = parseFloat((precio_actual.precio_neto).toFixed(2));\n      newP.precio_actual_object = {\n        cantidad_unidad: precio_actual.cantidad_unidad ? precio_actual.cantidad_unidad : 1,\n        numero_precio: precio_actual.numero_precio ? precio_actual.numero_precio : 1,\n        unidad_maxima: precio_actual.unidad_maxima ? precio_actual.unidad_maxima : false,\n        precio_general: precio_actual.precio_general ? precio_actual.precio_general : 0,\n        precio_neto: precio_actual.precio_neto ? precio_actual.precio_neto : 0,\n        precio_venta: precio_actual.precio_venta ? precio_actual.precio_venta : 0,\n        iva_precio: precio_actual.iva_precio ? precio_actual.iva_precio : 0,\n        ieps_precio: precio_actual.ieps_precio ? precio_actual.ieps_precio : 0,\n        utilidad: precio_actual.utilidad ? precio_actual.utilidad : 0,\n        porciento: precio_actual.porciento ? precio_actual.porciento : 0,\n        dinero_descontado: precio_actual.dinero_descontado ? precio_actual.dinero_descontado : 0,\n      };\n    }else if(origen === \"Ventas2\") {\n      newP.granel_producto = granel;\n      newP.precio_a_vender = ob.totalCalculo;\n      newP.precio_anterior = newP.precio_actual_producto;\n    }\n\n    return ob;\n\n  } catch (error) {\n    console.log(error);\n    return false;\n  }\n};\n\nexport const verifiPrising = async (newP) => {\n  try {\n    if (!newP) return false;\n    const amount = newP.cantidad_venta;\n    const pricings = newP.id_producto.precios.precios_producto.filter(\n      (p) => p.unidad_mayoreo > 0 && p.precio_neto > 0\n    );\n\n    let finalPrising = {\n      found: false,\n      pricing: 0,\n      number_pricing: 0,\n      object_prising: {}\n    };\n    const datoFinal = pricings.length;\n    if (newP.precio_seleccionado) return finalPrising;\n    //CONIDICONAR SI EL PRECIO ES MENOR Y MENOR PERO QUE NO SEA MAYOR AL SEGUNDO\n    if (amount < newP.id_producto.precios.precios_producto[1].unidad_mayoreo)\n      return (finalPrising = {\n        found: true,\n        pricing: newP.descuento_activo\n          ? newP.descuento.precio_neto\n          : newP.id_producto.precios.precios_producto[0].precio_neto,\n        number_pricing:\n          newP.id_producto.precios.precios_producto[0].numero_precio,\n        object_prising: newP.descuento_activo ? newP.descuento : newP.id_producto.precios.precios_producto[0]\n      });\n\n    for (let i = 0; i < pricings.length; i++) {\n      if (i + 1 === datoFinal && amount >= pricings[i].unidad_mayoreo)\n        return (finalPrising = {\n          found: true,\n          pricing: pricings[i].precio_neto,\n          number_pricing: pricings[i].numero_precio,\n          object_prising: pricings[i]\n        });\n\n      if (\n        i + 1 < datoFinal &&\n        amount >= pricings[i].unidad_mayoreo &&\n        amount < pricings[i + 1].unidad_mayoreo\n      ) {\n        finalPrising = {\n          found: true,\n          pricing: pricings[i].precio_neto,\n          number_pricing: pricings[i].numero_precio,\n          object_prising: pricings[i]\n        };\n      }\n    }\n    return finalPrising;\n  } catch (error) {\n    console.log(error);\n    return false;\n  }\n};\n\nexport function formatCurrency(number) {\n  var formatted = new Intl.NumberFormat(\"en-US\", {\n    style: \"currency\",\n    currency: \"USD\",\n    minimumFractionDigits: 2,\n  }).format(number);\n  console.log(formatted);\n  return formatted;\n}\n\nexport const findProductArrayRefactor = async (producto) => {\n  try {\n    let venta = JSON.parse(localStorage.getItem(\"DatosVentas\"));\n    let productosVentas = venta === null ? [] : venta.productos;\n    //Declarar variables\n    let found = false;\n    let producto_found = {\n      producto: {},\n      index: 0,\n    };\n    //Se recorren los productos\n    for (let i = 0; i < productosVentas.length; i++) {\n      //Se verifica si tiene codigo de barras ya que no es obligatorio\n      if (typeof productosVentas[i].codigo_barras !== \"undefined\") {\n        if (productosVentas[i].codigo_barras === producto.codigo_barras) {\n          return {\n            producto_found: {\n              producto: productosVentas[i],\n              index: i,\n            },\n            found: true,\n          };\n        }\n      } else {\n        if (\n          productosVentas[i].id_producto.datos_generales.clave_alterna ===\n          producto.id_producto.datos_generales.clave_alterna\n        ) {\n          return {\n            producto_found: {\n              producto: productosVentas[i],\n              index: i,\n            },\n            found: true,\n          };\n        }\n      }\n    }\n\n    return {\n      producto_found,\n      found,\n    };\n  } catch (error) {\n    console.log(error);\n    return false;\n  }\n};\n","import React, { useContext, useState, useCallback, useEffect } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport {\n  Box,\n  Grid,\n  TextField,\n  Button,\n  Dialog,\n  Avatar,\n  DialogContent,\n  Container,\n} from \"@material-ui/core\";\nimport {\n  Slide,\n  Typography,\n  Toolbar,\n  AppBar,\n  Divider,\n  DialogActions,\n} from \"@material-ui/core\";\nimport { useDropzone } from \"react-dropzone\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport { FcNook } from \"react-icons/fc\";\nimport { useMutation, useQuery } from \"@apollo/client\";\nimport SnackBarMessages from \"../../../../components/SnackBarMessages\";\nimport BackdropComponent from \"../../../../components/Layouts/BackDrop\";\nimport ErrorPage from \"../../../../components/ErrorPage\";\nimport {\n  OBTENER_DATOS_SUCURSAL, ACTUALIZAR_SUCURSAL\n} from \"../../../../gql/Empresa/sucursales\";\nimport { cleanTypenames } from \"../../../../config/reuserFunctions\";\n\nconst useStyles = makeStyles((theme) => ({\n  appBar: {\n    position: \"relative\",\n  },\n  title: {\n    marginLeft: theme.spacing(2),\n    flex: 1,\n  },\n  icon: {\n    fontSize: 100,\n  },\n  subtitle: {\n    marginLeft: \"10px\",\n    width: \"100%\",\n  },\n  require: {\n    \"& span\": {\n      color: \"red\",\n    },\n  },\n  avatarContainer: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    width: \"100%\",\n    height: \"100%\",\n    border: \"dashed 2px black\",\n    borderRadius: \"100%\",\n  },\n  avatar: {\n    width: \"90%\",\n    height: \"90%\",\n    \"& > .icon\": {\n      fontSize: 100,\n    },\n  },\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function DatosSucursal() {\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n  const classes = useStyles();\n  const [loadingPage, setLoadingPage] = React.useState(false);\n  const [bloqueo] = useState(\n    sesion.accesos.mi_empresa.datos_empresa.editar === false ? true : false\n  );\n  const [preview, setPreview] = useState(\"\");\n  const [open, setOpen] = React.useState(false);\n  const [errorPage, setErrorPage] = React.useState(false);\n  const [errorForm, setErrorForm] = React.useState(\n    useState({ error: false, message: \"\" })\n  );\n\n  const [alert, setAlert] = useState({ message: \"\", status: \"\", open: false });\n \n\n  const [actualizarSucursal] = useMutation(ACTUALIZAR_SUCURSAL);\n\n  /* Queries */\n  const { loading, data, refetch, error } = useQuery(OBTENER_DATOS_SUCURSAL, {\n    variables: { id: sesion.sucursal._id },\n  });\n\n  const [sucursalDatos, setSucursalDatos] = useState({\n    nombre_sucursal: \"\",\n    descripcion: \"\",\n    telefono:\"\",\n    direccion: {\n      calle: \"\",\n      no_ext: \"\",\n      no_int: \"\",\n      codigo_postal: \"\",\n      colonia: \"\",\n      municipio: \"\",\n      localidad: \"\",\n      estado: \"\",\n      pais: \"\",\n    }    \n  });\n  \n  useEffect(() => {\n    try {\n      refetch();\n    } catch (errorCatch) {\n      // console.log(\"SESSIONREFECTUPDATE\",errorCatch)\n    }\n  },  [refetch]);\n  useEffect(() => {\n    try {\n      setLoadingPage(loading);\n    } catch (errorCatch) {\n      // console.log(\"SESSIONREFECTUPDATE\",errorCatch)\n    }\n  }, [loading]);\n  useEffect(() => {\n    try {\n      if (data !== undefined) {\n        \n        setSucursalDatos(data.obtenerDatosSucursal[0]);\n      }\n    } catch (errorCatch) {\n      // console.log(\"SESSIONREFECT\",errorCatch)\n    }\n  }, [data, setSucursalDatos]);\n  useEffect(() => {\n    try {\n      setErrorPage(error);\n    } catch (errorCatch) {\n      // console.log(\"SESSIONREFECT\",errorCatch)\n    }\n  }, [error]);\n  \n\n  const actEmp = async () => {\n    try {\n      setLoadingPage(true);\n      /* const input = cleanTypenames(empresaDatos); */\n      await actualizarSucursal({\n        variables: {\n          id: sesion.empresa._id,\n          input: sucursalDatos,\n        },\n      });\n     \n      setLoadingPage(false);\n      setAlert({\n        message: \"Se han actualizado correctamente los datos.\",\n        status: \"success\",\n        open: true,\n      });\n      setErrorForm(false);\n    } catch (errorCatch) {\n      console.log(errorCatch);\n      if (errorCatch.networkError) {\n        console.log(errorCatch.networkError.result);\n      } else if (errorCatch.graphQLErrors) {\n        console.log(errorCatch.graphQLErrors);\n      }\n      setAlert({ message: \"Hubo un error\", status: \"error\", open: true });\n      setLoadingPage(false);\n    }\n  };\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n  const obtenerCampos = (e) => {\n    setSucursalDatos({\n      ...sucursalDatos,\n      [e.target.name]: e.target.value,\n    });\n  };\n  const obtenerCamposDireccion = (e) => {\n    setSucursalDatos({\n      ...sucursalDatos,\n      direccion: { ...sucursalDatos.direccion, [e.target.name]: e.target.value },\n    });\n  };\n\n  //dropzone\n  const onDrop = useCallback(\n    (acceptedFiles) => {\n      let reader = new FileReader();\n      reader.readAsDataURL(acceptedFiles[0]);\n      reader.onload = function () {\n        let image = reader.result;\n        setPreview(image);\n      };\n      setSucursalDatos({\n        ...sucursalDatos,\n        imagen: acceptedFiles[0],\n      });\n    },\n    [sucursalDatos, setSucursalDatos]\n  );\n  const { getRootProps, getInputProps } = useDropzone({\n    accept: \"image/jpeg, image/png\",\n    noKeyboard: true,\n    onDrop,\n  });\n\n  return (\n    <div>\n      <Button fullWidth onClick={handleClickOpen}>\n        <Box display=\"flex\" flexDirection=\"column\">\n          <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n            <FcNook className={classes.icon} />\n          </Box>\n          Datos de sucursal\n        </Box>\n      </Button>\n      <Dialog\n        fullScreen\n        open={open}\n        onClose={handleClose}\n        TransitionComponent={Transition}\n      >\n        <SnackBarMessages alert={alert} setAlert={setAlert} />\n        <BackdropComponent loading={loadingPage} setLoading={setLoadingPage} />\n\n        <AppBar className={classes.appBar}>\n          <Toolbar>\n            <Typography variant=\"h6\" className={classes.title}>\n              Datos\n            </Typography>\n            <Box m={1}>\n              <Button\n                variant=\"contained\"\n                color=\"secondary\"\n                onClick={handleClose}\n                size=\"large\"\n              >\n                <CloseIcon style={{ fontSize: 30 }} />\n              </Button>\n            </Box>\n          </Toolbar>\n        </AppBar>\n        <DialogContent>\n          {errorPage ? (\n            <ErrorPage error={errorPage} />\n          ) : (\n            <Container style={{ marginTop: 8 }}>\n              <Grid container spacing={3} className={classes.require}>\n              \n                <Grid item md={4} flexdirection='row'>\n                  <Box>\n                    <Typography>\n                      <b><span>* </span>Nombre de empresa</b>\n                    </Typography>\n                    <TextField\n                      fullWidth\n                      disabled={bloqueo}\n                      type=\"text\"\n                      size=\"small\"\n                      error={errorForm.error && !sucursalDatos.nombre_sucursal}\n                      name=\"nombre_empresa\"\n                      variant=\"outlined\"\n                      value={\n                        sucursalDatos.nombre_sucursal\n                          ? sucursalDatos.nombre_sucursal\n                          : \"\"\n                      }\n                      helperText={\n                        errorForm.error &&\n                        errorForm.message !== \"El campo nombre es obligatorio\"\n                          ? errorForm.message\n                          : \"\"\n                      }\n                      onChange={obtenerCampos}\n                    />\n                  </Box>\n                  <Box>\n                    <Typography>\n                      <b>Descripción</b>\n                    </Typography>\n                    <TextField\n                      fullWidth\n                      disabled={bloqueo}\n                      type=\"text\"\n                      size=\"small\"\n                      error={errorForm.error && !sucursalDatos.descripcion}\n                      name=\"nombre_dueno\"\n                      variant=\"outlined\"\n                      value={\n                        sucursalDatos.descripcion\n                          ? sucursalDatos.descripcion\n                          : \"\"\n                      }\n                      helperText={\n                        errorForm.error &&\n                        errorForm.message !== \"El campo nombre es obligatorio\"\n                          ? errorForm.message\n                          : \"\"\n                      }\n                      onChange={obtenerCampos}\n                    />\n                  </Box>\n                 {/*  <Box>\n                    <Typography>Teléfono</Typography>\n                    <TextField\n                      fullWidth\n                      disabled={bloqueo}\n                      size=\"small\"\n                      name=\"telefono_dueno\"\n                      variant=\"outlined\"\n                      value={\n                        sucursalDatos.telefono_dueno\n                          ? sucursalDatos.telefono_dueno\n                          : \"\"\n                      }\n                      onChange={obtenerCampos}\n                    />\n                  </Box> */}\n                </Grid>\n                \n              </Grid>\n\n              <Box mt={5}>\n                <Typography className={classes.subtitle}>\n                  <b>Domicilio</b>\n                </Typography>\n                <Divider />\n              </Box>\n              <Grid container spacing={3} className={classes.require}>\n                <Grid item md={4}>\n                  <Box>\n                    <Typography><b>Calle</b></Typography>\n                    <TextField\n                      fullWidth\n                      size=\"small\"\n                      name=\"calle\"\n                      variant=\"outlined\"\n                      disabled={bloqueo}\n                      value={\n                        sucursalDatos.direccion.calle\n                          ? sucursalDatos.direccion.calle\n                          : \"\"\n                      }\n                      onChange={obtenerCamposDireccion}\n                    />\n                  </Box>\n                  <Box>\n                    <Typography><b>Num. Ext</b></Typography>\n                    <TextField\n                      fullWidth\n                      size=\"small\"\n                      name=\"no_ext\"\n                      variant=\"outlined\"\n                      disabled={bloqueo}\n                      value={\n                        sucursalDatos.direccion.no_ext\n                          ? sucursalDatos.direccion.no_ext\n                          : \"\"\n                      }\n                      onChange={obtenerCamposDireccion}\n                    />\n                  </Box>\n                  <Box>\n                    <Typography><b>Num. Int</b></Typography>\n                    <TextField\n                      fullWidth\n                      size=\"small\"\n                      name=\"no_int\"\n                      variant=\"outlined\"\n                      disabled={bloqueo}\n                      value={\n                        sucursalDatos.direccion.no_int\n                          ? sucursalDatos.direccion.no_int\n                          : \"\"\n                      }\n                      onChange={obtenerCamposDireccion}\n                    />\n                  </Box>\n                </Grid>\n                <Grid item md={4}>\n                  <Box>\n                    <Typography><b>C.P.</b></Typography>\n                    <TextField\n                      fullWidth\n                      size=\"small\"\n                      name=\"codigo_postal\"\n                      variant=\"outlined\"\n                      disabled={bloqueo}\n                      value={\n                        sucursalDatos.direccion.codigo_postal\n                          ? sucursalDatos.direccion.codigo_postal\n                          : \"\"\n                      }\n                      onChange={obtenerCamposDireccion}\n                    />\n                  </Box>\n                  <Box>\n                    <Typography><b>Colonia</b></Typography>\n                    <TextField\n                      fullWidth\n                      size=\"small\"\n                      name=\"colonia\"\n                      variant=\"outlined\"\n                      disabled={bloqueo}\n                      value={\n                        sucursalDatos.direccion.colonia\n                          ? sucursalDatos.direccion.colonia\n                          : \"\"\n                      }\n                      onChange={obtenerCamposDireccion}\n                    />\n                  </Box>\n                  <Box>\n                    <Typography><b>Municipio</b></Typography>\n                    <TextField\n                      fullWidth\n                      size=\"small\"\n                      name=\"municipio\"\n                      variant=\"outlined\"\n                      disabled={bloqueo}\n                      value={\n                        sucursalDatos.direccion.municipio\n                          ? sucursalDatos.direccion.municipio\n                          : \"\"\n                      }\n                      onChange={obtenerCamposDireccion}\n                    />\n                  </Box>\n                </Grid>\n                <Grid item md={4}>\n                  <Box>\n                    <Typography><b>Localidad</b></Typography>\n                    <TextField\n                      fullWidth\n                      size=\"small\"\n                      name=\"localidad\"\n                      variant=\"outlined\"\n                      disabled={bloqueo}\n                      value={\n                        sucursalDatos.direccion.localidad\n                          ? sucursalDatos.direccion.localidad\n                          : \"\"\n                      }\n                      onChange={obtenerCamposDireccion}\n                    />\n                  </Box>\n                  <Box>\n                    <Typography><b>Estado</b></Typography>\n                    <TextField\n                      fullWidth\n                      size=\"small\"\n                      name=\"estado\"\n                      variant=\"outlined\"\n                      disabled={bloqueo}\n                      value={\n                        sucursalDatos.direccion.estado\n                          ? sucursalDatos.direccion.estado\n                          : \"\"\n                      }\n                      onChange={obtenerCamposDireccion}\n                    />\n                  </Box>\n                  <Box>\n                    <Typography><b>Pais</b></Typography>\n                    <TextField\n                      fullWidth\n                      size=\"small\"\n                      name=\"pais\"\n                      variant=\"outlined\"\n                      disabled={bloqueo}\n                      value={\n                        sucursalDatos.direccion.pais\n                          ? sucursalDatos.direccion.pais\n                          : \"\"\n                      }\n                      onChange={obtenerCamposDireccion}\n                    />\n                  </Box>\n                </Grid>\n              </Grid>\n            </Container>\n          )}\n        </DialogContent>\n        {sesion.accesos.mi_empresa.datos_empresa.editar === false ? null : (\n          <DialogActions style={{ justifyContent: \"center\" }}>\n            <Button onClick={handleClose} color=\"primary\">\n              Cancelar\n            </Button>\n            <Button\n              onClick={() => actEmp()}\n              color=\"primary\"\n              variant=\"contained\"\n              autoFocus\n            >\n              Guardar\n            </Button>\n          </DialogActions>\n        )}\n      </Dialog>\n    </div>\n  );\n}\n","import { EmpresaProvider } from '../../../context/Catalogos/empresaContext';\nimport MiEmpresa from './DatosEmpresa';\nimport { Box, Grid } from '@material-ui/core';\nimport Sucursal from './Sucursal/DatosSucursal';\n\nexport default function Empresa() {\n    const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n    return(\n        <div>\n            <EmpresaProvider>\n                <Grid container spacing={5} justify=\"center\">\n                    <Grid item lg={2}>\n                        <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n                            <Sucursal />\n                        </Box>\n                    </Grid>\n                    {sesion.accesos.mi_empresa.datos_empresa.ver === false ? (null):(\n                        <Grid item lg={2}>\n                            <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n                               < MiEmpresa />\n                            </Box>\n                        </Grid>\n                    )}\n                 {/*    {sesion.accesos.mi_empresa.informacion_fiscal.ver === false ? (null):(\n                        <Grid item lg={2}>\n                            <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n                                <InformacionFiscal />\n                            </Box> \n                        </Grid>\n                    )} */}\n                </Grid>\n            </EmpresaProvider>\n        </div>\n    )\n}","import React, { Fragment, useContext } from \"react\";\nimport {\n  IconButton,\n  InputAdornment,\n  OutlinedInput,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n  Tooltip,\n} from \"@material-ui/core\";\nimport { Box, TextField, Typography, Table, Checkbox } from \"@material-ui/core\";\nimport { Cached, LocalOffer } from \"@material-ui/icons\";\nimport { FormControl } from \"@material-ui/core\";\nimport { RegProductoContext } from \"../../../../../context/Catalogos/CtxRegProducto\";\nimport { formatoMexico } from \"../../../../../config/reuserFunctions\";\nimport { useState } from \"react\";\n\nexport default function PreciosDeCompra() {\n  const {\n    datos_generales,\n    unidadVentaXDefecto,\n    setUnidadVentaXDefecto,\n    unidadVentaSecundaria,\n    setUnidadVentaSecundaria,\n  } = useContext(RegProductoContext);\n\n  const descuentoUnidadXdefecto = (descuento_activo) => {\n    setUnidadVentaXDefecto({\n      ...unidadVentaXDefecto,\n      descuento_activo,\n    });\n  };\n\n  const checkUnidadDefault = (checked) => {\n    setUnidadVentaXDefecto({\n      ...unidadVentaXDefecto,\n      unidad_principal: true,\n    });\n    if (checked) {\n      setUnidadVentaSecundaria({\n        ...unidadVentaSecundaria,\n        unidad_principal: false,\n      });\n    }\n  };\n\n  return (\n    <Fragment>\n      <Box>\n        <TableContainer>\n          <Table size=\"small\" aria-label=\"a dense table\">\n            <TableHead>\n              <TableRow>\n                <TableCell>Código de barras</TableCell>\n                <TableCell>Unidad</TableCell>\n                <TableCell>Precio</TableCell>\n                <TableCell>Cantidad</TableCell>\n                <TableCell>Aplicar Descuento</TableCell>\n                <TableCell>Unidad Principal</TableCell>\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              <TableRow /* selected={actualizarUnidad ? true : false} */>\n                <TableCell>{datos_generales.codigo_barras}</TableCell>\n                <TableCell>{unidadVentaXDefecto.unidad}</TableCell>\n                <TableCell>\n                  <Box display=\"flex\" alignItems=\"center\">\n                    {unidadVentaXDefecto.descuento_activo !== null ? (\n                      <LocalOffer\n                        color={\n                          unidadVentaXDefecto.descuento_activo === true\n                            ? \"primary\"\n                            : \"action\"\n                        }\n                      />\n                    ) : null}\n                    <Box mr={1} />\n                    <Typography>\n                      <b>\n                        $\n                        {formatoMexico(\n                          unidadVentaXDefecto.descuento_activo === true\n                            ? unidadVentaXDefecto.descuento.precio_neto\n                            : unidadVentaXDefecto.precio\n                        )}\n                      </b>\n                    </Typography>\n                  </Box>\n                </TableCell>\n                <TableCell>{unidadVentaXDefecto.cantidad}</TableCell>\n                <TableCell>\n                  {unidadVentaXDefecto.descuento_activo !== null ? (\n                    <Box display=\"flex\" alignItems=\"center\">\n                      <Checkbox\n                        checked={\n                          unidadVentaXDefecto.descuento_activo === true\n                            ? unidadVentaXDefecto.descuento_activo\n                            : false\n                        }\n                        onChange={(e) =>\n                          descuentoUnidadXdefecto(e.target.checked)\n                        }\n                        inputProps={{ \"aria-label\": \"check descuento\" }}\n                        color=\"primary\"\n                        disabled={unidadVentaXDefecto.descuento_activo === null}\n                      />\n                      <Typography color=\"primary\">\n                        %\n                        {parseFloat(\n                          unidadVentaXDefecto.descuento_activo !== null\n                            ? unidadVentaXDefecto.descuento.porciento\n                            : 0\n                        )}\n                      </Typography>\n                    </Box>\n                  ) : null}\n                </TableCell>\n                <TableCell>\n                  <Checkbox\n                    checked={unidadVentaXDefecto.unidad_principal}\n                    onChange={(e) => checkUnidadDefault(e.target.checked)}\n                    inputProps={{ \"aria-label\": \"primary checkbox\" }}\n                  />\n                </TableCell>\n              </TableRow>\n              <UnidadesVentaSecundaria />\n            </TableBody>\n          </Table>\n        </TableContainer>\n      </Box>\n    </Fragment>\n  );\n}\n\nconst UnidadesVentaSecundaria = () => {\n  const {\n    precios,\n    unidadVentaXDefecto,\n    setUnidadVentaXDefecto,\n    unidadVentaSecundaria,\n    setUnidadVentaSecundaria,\n  } = useContext(RegProductoContext);\n  const [precio, setPrecio] = useState(\n    unidadVentaSecundaria.descuento_activo !== null &&\n      unidadVentaSecundaria.descuento_activo === true\n      ? unidadVentaSecundaria.descuento.precio_neto\n      : unidadVentaSecundaria.precio\n  );\n\n  const GenCodigoBarras = () => {\n    const max = 999999999999;\n    const min = 100000000000;\n    const codigo_barras = Math.floor(\n      Math.random() * (max - min + 1) + min\n    ).toString();\n    setUnidadVentaSecundaria({\n      ...unidadVentaSecundaria,\n      codigo_barras,\n    });\n  };\n\n  const obtenerCantidad = (e) => {\n    let { value } = e.target;\n    if (value) {\n      value = parseFloat(value);\n    }\n    setUnidadVentaSecundaria({\n      ...unidadVentaSecundaria,\n      cantidad: value,\n    });\n  };\n\n  const obtenerPrecio = (e) => {\n    let { value } = e.target;\n    if (value) {\n      value = parseFloat(value);\n    }\n    if (\n      unidadVentaSecundaria.descuento_activo &&\n      unidadVentaSecundaria.descuento_activo === true\n    ) {\n      setPrecio(value);\n      calcularUnidadDesucuento(value)\n    } else {\n      setPrecio(value);\n    }\n  };\n\n  const calcularUnidadDesucuento = (value) => {\n    const { cantidad, precio_unidad } = unidadVentaSecundaria;\n    if (!value || !cantidad) return;\n    \n    const precio_unit = value / cantidad;\n    const { iva, ieps, unidad_de_compra } = precios;\n    const { precio_venta, numero_precio, unidad_maxima } = precio_unidad;\n    const precio_venta_unit = precio_venta / cantidad;\n\n    let suma_impuestos =\n      parseFloat(`0.${iva < 10 ? `0${iva}` : iva}`) +\n      parseFloat(`0.${ieps < 10 ? `0${ieps}` : ieps}`);\n    let PVSI = parseFloat((precio_unit / (suma_impuestos + 1)).toFixed(2));\n    let porcentaje = parseFloat(((PVSI / precio_venta_unit) * 100).toFixed(2));\n    let descuento = parseFloat((100 - porcentaje).toFixed(2));\n\n    let PVCDSI = parseFloat(((precio_venta_unit * porcentaje) / 100).toFixed(2));\n    let dineroDescontado = parseFloat((precio_venta_unit - PVCDSI).toFixed(2));\n\n    let iva_precio = parseFloat(\n      PVCDSI * parseFloat(`0.${iva < 10 ? `0${iva}` : iva}`).toFixed(2)\n    );\n    let ieps_precio = parseFloat(\n      PVCDSI * parseFloat(`0.${ieps < 10 ? `0${ieps}` : ieps}`).toFixed(2)\n    );\n    let PCSI = unidad_de_compra.precio_unitario_sin_impuesto;\n    let utilidad = parseFloat((((PVCDSI - PCSI) / PCSI) * 100).toFixed(2));\n    let precio_neto = parseFloat(\n      (PVCDSI + iva_precio + ieps_precio).toFixed(2)\n    );\n    let precio_general = parseFloat((precio_neto * cantidad).toFixed(2));\n\n    setUnidadVentaSecundaria({\n      ...unidadVentaSecundaria,\n      descuento: {\n        cantidad_unidad: cantidad,\n        numero_precio: numero_precio,\n        unidad_maxima: unidad_maxima,\n        precio_general: precio_general,\n        precio_neto: precio_general,\n        precio_venta: PVCDSI,\n        iva_precio: iva_precio,\n        ieps_precio: ieps_precio,\n        utilidad: utilidad,\n        porciento: descuento,\n        dinero_descontado: dineroDescontado,\n      },\n    });\n  };\n\n  const calcularUnidadDesucuentoCheck = (boolean) => {\n    const { cantidad, precio_unidad, descuento } = unidadVentaSecundaria;\n    if (!precio || !cantidad) return;\n    \n    /* const precio_unit = value / cantidad; */\n    const { iva, ieps, unidad_de_compra } = precios;\n    const { precio_venta, numero_precio, unidad_maxima } = precio_unidad;\n\n    const precio_venta_unit = precio / cantidad;\n\n    let suma_impuestos =\n      parseFloat(`0.${iva < 10 ? `0${iva}` : iva}`) +\n      parseFloat(`0.${ieps < 10 ? `0${ieps}` : ieps}`);\n    let PVSI = parseFloat((precio_venta_unit / (suma_impuestos + 1)).toFixed(2));\n    /* let porcentaje = parseFloat(((PVSI / precio_venta_unit) * 100).toFixed(2));\n    let descuento = parseFloat((100 - porcentaje).toFixed(2)); */\n\n    let PVCDSI = parseFloat(((PVSI * descuento.porciento) / 100).toFixed(2));\n    let dineroDescontado = parseFloat((PVSI - PVCDSI).toFixed(2));\n\n    let iva_precio = parseFloat(\n      PVCDSI * parseFloat(`0.${iva < 10 ? `0${iva}` : iva}`).toFixed(2)\n    );\n    let ieps_precio = parseFloat(\n      PVCDSI * parseFloat(`0.${ieps < 10 ? `0${ieps}` : ieps}`).toFixed(2)\n    );\n    let PCSI = unidad_de_compra.precio_unitario_sin_impuesto;\n    let utilidad = parseFloat((((PVCDSI - PCSI) / PCSI) * 100).toFixed(2));\n    let precio_neto = parseFloat(\n      (PVCDSI + iva_precio + ieps_precio).toFixed(2)\n    );\n    let precio_general = parseFloat((precio_neto * cantidad).toFixed(2));\n\n    console.log({\n      precio_venta_unit,\n      PVCDSI,\n      dineroDescontado,\n      iva_precio,\n      ieps_precio,\n      PCSI,\n      utilidad,\n      precio_neto,\n      precio_general\n    });\n\n    setPrecio(precio_general);\n    setUnidadVentaSecundaria({\n      ...unidadVentaSecundaria,\n      descuento_activo: boolean,\n      precio,\n      descuento: {\n        cantidad_unidad: cantidad,\n        numero_precio: numero_precio,\n        unidad_maxima: unidad_maxima,\n        precio_general: precio_general,\n        precio_neto: precio_general,\n        precio_venta: PVCDSI,\n        iva_precio: iva_precio,\n        ieps_precio: ieps_precio,\n        utilidad: utilidad,\n        porciento: descuento.porciento,\n        dinero_descontado: dineroDescontado,\n      },\n    });\n  };\n\n  const calcularUnidad = (e) => {\n    if (e.target.value === \"\") {\n      setUnidadVentaSecundaria({\n        ...unidadVentaSecundaria,\n        unidad_principal: false,\n        precio: 0,\n      });\n      setUnidadVentaXDefecto({\n        ...unidadVentaXDefecto,\n        unidad_principal: true,\n      });\n      return;\n    }\n    if (!unidadVentaSecundaria.precio || !unidadVentaSecundaria.cantidad)\n      return;\n\n    const { precio, cantidad } = unidadVentaSecundaria;\n\n    const { iva, ieps } = precios;\n\n    let suma_impuestos =\n      parseFloat(`0.${iva < 10 ? `0${iva}` : iva}`) +\n      parseFloat(`0.${ieps < 10 ? `0${ieps}` : ieps}`);\n    let PVCI = parseFloat((precio / cantidad).toFixed(2));\n    let PVSI = parseFloat((PVCI / (suma_impuestos + 1)).toFixed(2));\n\n    let PCSI = precios.unidad_de_compra.precio_unitario_sin_impuesto;\n    let iva_precio = parseFloat(\n      PVSI * parseFloat(`0.${iva < 10 ? `0${iva}` : iva}`).toFixed(2)\n    );\n    let ieps_precio = parseFloat(\n      PVSI * parseFloat(`0.${ieps < 10 ? `0${ieps}` : ieps}`).toFixed(2)\n    );\n    let utilidad = parseFloat((((PVSI - PCSI) / PCSI) * 100).toFixed(2));\n    let precio_venta = PVSI * cantidad;\n    let precio_neto = PVCI * cantidad;\n\n    let unidad_secundaria = {\n      ...unidadVentaSecundaria,\n      precio,\n      cantidad,\n      precio_unidad: {\n        numero_precio: 1,\n        precio_venta: precio_venta,\n        precio_neto: precio_neto,\n        unidad_mayoreo: 0,\n        iva_precio,\n        ieps_precio,\n        utilidad,\n        unidad_maxima: true,\n        precio_general: precio,\n        cantidad_unidad: cantidad,\n      },\n    };\n\n    setUnidadVentaSecundaria(unidad_secundaria);\n  };\n\n  const checkUnidadPrincipal = (checked) => {\n    setUnidadVentaSecundaria({\n      ...unidadVentaSecundaria,\n      unidad_principal: true,\n    });\n    if (checked) {\n      setUnidadVentaXDefecto({\n        ...unidadVentaXDefecto,\n        unidad_principal: false,\n      });\n    }\n  };\n\n  const aplicarDescuento = (boolean) => {\n    let precio = boolean\n        ? unidadVentaSecundaria.descuento.precio_neto\n        : unidadVentaSecundaria.precio\n    if(boolean){\n      calcularUnidadDesucuentoCheck(boolean);\n    }else{\n      setUnidadVentaSecundaria({\n      ...unidadVentaSecundaria,\n      descuento_activo: boolean,\n    });\n    setPrecio(precio);\n    }\n    \n  };\n\n  return (\n    <TableRow>\n      <TableCell width={220}>\n        <FormControl variant=\"outlined\" size=\"small\" name=\"codigo_barras\">\n          <OutlinedInput\n            id=\"input-codigo-barras\"\n            name=\"codigo_barras\"\n            value={unidadVentaSecundaria.codigo_barras}\n            endAdornment={\n              <InputAdornment position=\"end\">\n                <IconButton\n                  size=\"small\"\n                  color=\"primary\"\n                  onClick={() => GenCodigoBarras()}\n                >\n                  <Cached />\n                </IconButton>\n              </InputAdornment>\n            }\n          />\n        </FormControl>\n      </TableCell>\n      <TableCell>{unidadVentaSecundaria.unidad}</TableCell>\n      <TableCell width={200}>\n        <TextField\n          type=\"number\"\n          name=\"precio\"\n          variant=\"outlined\"\n          size=\"small\"\n          onBlur={(e) => calcularUnidad(e)}\n          onChange={obtenerPrecio}\n          value={precio}\n          disabled={unidadVentaSecundaria.descuento_activo !== null &&\n            unidadVentaSecundaria.descuento_activo === true}\n          InputProps={{\n            inputProps: { min: 0 },\n            startAdornment: <InputAdornment position=\"start\">$</InputAdornment>,\n            endAdornment: (\n              <InputAdornment position=\"end\">\n                {unidadVentaSecundaria.descuento_activo !== null ? (\n                  <LocalOffer\n                    color={\n                      unidadVentaSecundaria.descuento_activo\n                        ? \"primary\"\n                        : \"disabled\"\n                    }\n                  />\n                ) : null}\n              </InputAdornment>\n            ),\n          }}\n        />\n      </TableCell>\n      <TableCell width={110}>\n        <Tooltip\n          title={<Typography variant=\"subtitle2\">Pz/Kg por Unidad</Typography>}\n          placement=\"top\"\n          arrow\n        >\n          <TextField\n            InputProps={{ inputProps: { min: 0 } }}\n            type=\"number\"\n            variant=\"outlined\"\n            size=\"small\"\n            name=\"cantidad\"\n            onBlur={calcularUnidad}\n            onChange={obtenerCantidad}\n            value={unidadVentaSecundaria.cantidad}\n            onBlur={(e) => {\n              if (e.target.value === \"\") {\n                setUnidadVentaSecundaria({\n                  ...unidadVentaSecundaria,\n                  cantidad: precios.unidad_de_compra.cantidad,\n                });\n              }\n            }}\n          />\n        </Tooltip>\n      </TableCell>\n      <TableCell>\n        {unidadVentaSecundaria.descuento_activo !== null ? (\n          <Box display=\"flex\" alignItems=\"center\">\n            <Checkbox\n              checked={\n                unidadVentaSecundaria.descuento_activo\n                  ? unidadVentaSecundaria.descuento_activo\n                  : false\n              }\n              onChange={(e) => aplicarDescuento(e.target.checked)}\n              inputProps={{ \"aria-label\": \"check descuento\" }}\n              color=\"primary\"\n              disabled={unidadVentaSecundaria.descuento_activo === null}\n            />\n            <Typography color=\"primary\">\n              %\n              {parseFloat(\n                unidadVentaSecundaria.descuento &&\n                  unidadVentaSecundaria.descuento !== null\n                  ? unidadVentaSecundaria.descuento.porciento\n                  : 0\n              )}\n            </Typography>\n          </Box>\n        ) : null}\n      </TableCell>\n      <TableCell>\n        <Checkbox\n          checked={unidadVentaSecundaria.unidad_principal}\n          onChange={(e) => checkUnidadPrincipal(e.target.checked)}\n          inputProps={{ \"aria-label\": \"primary checkbox\" }}\n          disabled={unidadVentaSecundaria.precio === 0}\n        />\n      </TableCell>\n    </TableRow>\n  );\n};\n","import React, { Fragment, useContext, useEffect } from \"react\";\nimport {\n  Box,\n  InputAdornment,\n  makeStyles,\n  TextField,\n  Typography,\n} from \"@material-ui/core\";\nimport { RegProductoContext } from \"../../../../../context/Catalogos/CtxRegProducto\";\n\nconst useStyles = makeStyles((theme) => ({\n  precioTitle: {\n    width: theme.spacing(20),\n  },\n  marginInput: {\n    marginTop: 19,\n  },\n  titulos: {\n    fontWeight: 500,\n  },\n  /* input: {\n    \"& input[type=number]\": {\n      \"-moz-appearance\": \"textfield\",\n    },\n    \"& input[type=number]::-webkit-outer-spin-button\": {\n      \"-webkit-appearance\": \"none\",\n      margin: 0,\n    },\n    \"& input[type=number]::-webkit-inner-spin-button\": {\n      \"-webkit-appearance\": \"none\",\n      margin: 0,\n    },\n  }, */\n}));\n\nexport default function PreciosDeVenta() {\n  const { preciosP } = useContext(RegProductoContext);\n  let newPreciosP = [...preciosP];\n\n  return (\n    <Fragment>\n      {preciosP.map((res, index) => (\n        <RenderPreciosP\n          key={index}\n          data={res}\n          index={index}\n          newPreciosP={newPreciosP}\n        />\n      ))}\n    </Fragment>\n  );\n}\n\nconst RenderPreciosP = ({ data, index, newPreciosP }) => {\n  const classes = useStyles();\n  const {\n    preciosP,\n    precios,\n    unidadVentaXDefecto,\n    setUnidadVentaXDefecto,\n    setPreciosP,\n    unidadVentaSecundaria,\n    setUnidadVentaSecundaria,\n  } = useContext(RegProductoContext);\n  let preciosVenta = { ...preciosP[index] };\n\n  const obtenerUtilidad = (valor_base) => {\n    if (!valor_base) {\n      preciosVenta.utilidad = \"\";\n      newPreciosP.splice(index, 1, preciosVenta);\n      setPreciosP(newPreciosP);\n      return;\n    }\n\n    /* let utilidad = 1; */\n    let PUCSI = precios.unidad_de_compra.precio_unitario_sin_impuesto;\n    let { unidad, cantidad, descuento, descuento_activo } = unidadVentaXDefecto;\n    let cantidad_sec = unidadVentaSecundaria.cantidad;\n    let descuento_sec = unidadVentaSecundaria.descuento;\n    let descuento_activo_sec = unidadVentaSecundaria.descuento_activo;\n    let { iva, ieps } = precios;\n    let utilidad = valor_base / 100;\n\n    const precio_venta = PUCSI * utilidad + PUCSI;\n    let iva_precio =\n      precio_venta * parseFloat(`0.${iva < 10 ? `0${iva}` : iva}`);\n    let ieps_precio =\n      precio_venta * parseFloat(`0.${ieps < 10 ? `0${ieps}` : ieps}`);\n    let impuestos = iva_precio + ieps_precio;\n    const precio_neto = precio_venta + impuestos;\n\n    preciosVenta.utilidad = parseFloat(valor_base);\n    preciosVenta.precio_venta = parseFloat(precio_venta.toFixed(2));\n    preciosVenta.precio_neto = parseFloat(precio_neto.toFixed(2));\n\n    //meter los precios a unidadXdefecto\n    let unidadXDefecto = {\n      ...unidadVentaXDefecto,\n      precio: precio_neto,\n      precio_unidad: {\n        numero_precio: preciosVenta.numero_precio,\n        precio_neto: precio_neto,\n        precio_venta: precio_venta,\n        unidad_mayoreo: preciosVenta.unidad_mayoreo,\n        iva_precio,\n        ieps_precio,\n        utilidad: preciosVenta.utilidad,\n        unidad_maxima: false,\n      },\n    };\n    let unidadSecundaria = {\n      ...unidadVentaSecundaria,\n      precio: parseFloat((cantidad_sec * precio_neto).toFixed(2)),\n      precio_unidad: {\n        numero_precio: preciosVenta.numero_precio,\n        precio_neto: parseFloat((cantidad_sec * precio_neto).toFixed(2)),\n        precio_venta: parseFloat((cantidad_sec * precio_venta).toFixed(2)),\n        unidad_mayoreo: preciosVenta.unidad_mayoreo,\n        iva_precio,\n        ieps_precio,\n        utilidad: preciosVenta.utilidad,\n        unidad_maxima: false,\n      },\n    };\n\n    if (preciosVenta.numero_precio === 1) {\n      /* if (unidad === \"Caja\" || unidad === \"Costal\") {\n        unidadXDefecto = {\n          ...unidadXDefecto,\n          precio: precio_neto,\n        };\n      } else {\n        unidadSecundaria = {\n          ...unidadSecundaria,\n          precio: parseFloat((cantidad * precio_neto).toFixed(2)),\n        };\n      } */\n      if (descuento_activo === true) {\n        //calcular nuevo precio entre %\n        /* let precio_con_descuento = Math.round(\n          precio_neto - precio_neto * parseFloat(\".\" + descuento.porciento)\n        ); */\n\n        let new_precio_venta_desc = (precio_venta * descuento.porciento) / 100;\n        let new_iva_precio =\n          new_precio_venta_desc * parseFloat(`0.${iva < 10 ? `0${iva}` : iva}`);\n        let new_ieps_precio =\n          new_precio_venta_desc *\n          parseFloat(`0.${ieps < 10 ? `0${ieps}` : ieps}`);\n        let new_impuestos = new_iva_precio + new_ieps_precio;\n        let precio_con_descuento = new_precio_venta_desc + new_impuestos;\n\n        unidadXDefecto = {\n          ...unidadXDefecto,\n          precio: parseFloat(precio_neto.toFixed(2)),\n          descuento: {\n            ...unidadVentaXDefecto.descuento,\n            precio_neto: precio_con_descuento,\n          },\n        };\n        unidadXDefecto = {\n          ...unidadSecundaria,\n          precio: parseFloat(precio_neto.toFixed(2)),\n          descuento: {\n            ...unidadVentaSecundaria.descuento,\n            precio_neto: precio_con_descuento,\n          },\n        };\n      }\n      if (descuento_activo_sec === true) {\n        //calcular nuevo precio entre %\n        let new_precio_venta_desc_sec = (precio_venta * descuento_sec.porciento) / 100;\n        let new_iva_precio_sec =\n          new_precio_venta_desc_sec * parseFloat(`0.${iva < 10 ? `0${iva}` : iva}`);\n        let new_ieps_precio_sec =\n          new_precio_venta_desc_sec *\n          parseFloat(`0.${ieps < 10 ? `0${ieps}` : ieps}`);\n        let new_impuestos_sec = new_iva_precio_sec + new_ieps_precio_sec;\n        let precio_con_descuento_sec = new_precio_venta_desc_sec + new_impuestos_sec;\n\n        unidadSecundaria = {\n          ...unidadSecundaria,\n          precio: parseFloat((cantidad_sec * precio_neto).toFixed(2)),\n          descuento: {\n            ...unidadVentaSecundaria.descuento,\n            precio_neto: parseFloat((cantidad_sec * precio_con_descuento_sec).toFixed(2)),\n          },\n        };\n      }\n      setUnidadVentaXDefecto(unidadXDefecto);\n      setUnidadVentaSecundaria(unidadSecundaria);\n    }\n\n    newPreciosP.splice(index, 1, preciosVenta);\n    setPreciosP(newPreciosP);\n  };\n\n  const obtenerPrecioNeto = (value) => {\n    if (!value) {\n      preciosVenta.precio_neto = \"\";\n      newPreciosP.splice(index, 1, preciosVenta);\n      setPreciosP(newPreciosP);\n      return;\n    }\n\n    let precio_neto = parseFloat(value);\n    let { unidad, cantidad, descuento, descuento_activo } = unidadVentaXDefecto;\n    let cantidad_sec = unidadVentaSecundaria.cantidad;\n    let descuento_sec = unidadVentaSecundaria.descuento;\n    let descuento_activo_sec = unidadVentaSecundaria.descuento_activo;\n    let { iva, ieps } = precios;\n    let PUCSI = precios.unidad_de_compra.precio_unitario_sin_impuesto;\n\n    let suma =\n      parseFloat(`0.${iva < 10 ? `0${iva}` : iva}`) +\n      parseFloat(`0.${ieps < 10 ? `0${ieps}` : ieps}`);\n    let precio_venta = parseFloat((precio_neto / (suma + 1)).toFixed(2));\n    let iva_precio =\n      precio_venta * parseFloat(`0.${iva < 10 ? `0${iva}` : iva}`);\n    let ieps_precio =\n      precio_venta * parseFloat(`0.${ieps < 10 ? `0${ieps}` : ieps}`);\n    let impuestos = iva_precio + ieps_precio;\n    let utilidad_base = ((precio_neto - impuestos - PUCSI) / PUCSI) * 100;\n\n    preciosVenta.precio_neto = precio_neto;\n    preciosVenta.precio_venta = precio_venta;\n    preciosVenta.utilidad = parseFloat(utilidad_base.toFixed(2));\n\n    //meter los precios a unidadXdefecto\n    let unidadXDefecto = {\n      ...unidadVentaXDefecto,\n      precio: precio_neto,\n      precio_unidad: {\n        numero_precio: preciosVenta.numero_precio,\n        precio_neto: precio_neto,\n        precio_venta: precio_venta,\n        unidad_mayoreo: preciosVenta.unidad_mayoreo,\n        iva_precio,\n        ieps_precio,\n        utilidad: preciosVenta.utilidad,\n        unidad_maxima: false,\n      },\n    };\n    let unidadSecundaria = {\n      ...unidadVentaSecundaria,\n      precio: parseFloat((cantidad_sec * precio_neto).toFixed(2)),\n      precio_unidad: {\n        numero_precio: preciosVenta.numero_precio,\n        precio_neto: parseFloat((cantidad_sec * precio_neto).toFixed(2)),\n        precio_venta: parseFloat((cantidad_sec * precio_venta).toFixed(2)),\n        unidad_mayoreo: preciosVenta.unidad_mayoreo,\n        iva_precio,\n        ieps_precio,\n        utilidad: preciosVenta.utilidad,\n        unidad_maxima: false,\n      },\n    };\n\n    if (preciosVenta.numero_precio === 1) {\n      /* if (unidad === \"Caja\" || unidad === \"Costal\") {\n        unidadXDefecto = {\n          ...unidadXDefecto,\n          precio: precio_neto,\n        };\n      } else {\n        unidadSecundaria = {\n          ...unidadSecundaria,\n          precio: parseFloat((cantidad * precio_neto).toFixed(2)),\n        };\n      } */\n      if (descuento_activo === true) {\n        //calcular nuevo precio entre %\n        /* let precio_con_descuento = Math.round(\n          precio_neto - precio_neto * parseFloat(\".\" + descuento.porciento)\n        ); */\n\n        let new_precio_venta_desc = (precio_venta * descuento.porciento) / 100;\n        let new_iva_precio =\n          new_precio_venta_desc * parseFloat(`0.${iva < 10 ? `0${iva}` : iva}`);\n        let new_ieps_precio =\n          new_precio_venta_desc *\n          parseFloat(`0.${ieps < 10 ? `0${ieps}` : ieps}`);\n        let new_impuestos = new_iva_precio + new_ieps_precio;\n        let precio_con_descuento = new_precio_venta_desc + new_impuestos;\n\n        unidadXDefecto = {\n          ...unidadXDefecto,\n          precio: parseFloat(precio_neto.toFixed(2)),\n          descuento: {\n            ...unidadVentaXDefecto.descuento,\n            precio_neto: precio_con_descuento,\n          },\n        };\n      }\n      if (descuento_activo_sec === true) {\n        //calcular nuevo precio entre %\n        let new_precio_venta_desc_sec = (precio_venta * descuento_sec.porciento) / 100;\n        let new_iva_precio_sec =\n          new_precio_venta_desc_sec * parseFloat(`0.${iva < 10 ? `0${iva}` : iva}`);\n        let new_ieps_precio_sec =\n          new_precio_venta_desc_sec *\n          parseFloat(`0.${ieps < 10 ? `0${ieps}` : ieps}`);\n        let new_impuestos_sec = new_iva_precio_sec + new_ieps_precio_sec;\n        let precio_con_descuento_sec = new_precio_venta_desc_sec + new_impuestos_sec;\n\n        unidadSecundaria = {\n          ...unidadSecundaria,\n          precio: parseFloat((cantidad_sec * precio_neto).toFixed(2)),\n          descuento: {\n            ...unidadVentaSecundaria.descuento,\n            precio_neto: parseFloat((cantidad_sec * precio_con_descuento_sec).toFixed(2)),\n          },\n        };\n      }\n      setUnidadVentaXDefecto(unidadXDefecto);\n      setUnidadVentaSecundaria(unidadSecundaria);\n    }\n\n    newPreciosP.splice(index, 1, preciosVenta);\n    setPreciosP(newPreciosP);\n  };\n\n  const obtenerMayoreo = (value) => {\n    if (!value) {\n      preciosVenta.unidad_mayoreo = \"\";\n      newPreciosP.splice(index, 1, preciosVenta);\n      setPreciosP(newPreciosP);\n      return;\n    }\n    preciosVenta.unidad_mayoreo = parseInt(value);\n    newPreciosP.splice(index, 1, preciosVenta);\n    setPreciosP(newPreciosP);\n  };\n\n  const calculos = () => {\n    let { iva, ieps } = precios;\n    let { unidad, cantidad, descuento, descuento_activo } = unidadVentaXDefecto;\n    let cantidad_sec = unidadVentaSecundaria.cantidad;\n    let descuento_sec = unidadVentaSecundaria.descuento;\n    let descuento_activo_sec = unidadVentaSecundaria.descuento_activo;\n    let PUCSI = precios.unidad_de_compra.precio_unitario_sin_impuesto;\n    let utilidad_base = preciosVenta.utilidad ? preciosVenta.utilidad : 0;\n    let utilidad = utilidad_base / 100;\n\n    //precio venta y neto con utilidad\n    const precio_venta = parseFloat((PUCSI * utilidad + PUCSI).toFixed(2));\n    let iva_precio =\n      precio_venta * parseFloat(`0.${iva < 10 ? `0${iva}` : iva}`);\n    let ieps_precio =\n      precio_venta * parseFloat(`0.${ieps < 10 ? `0${ieps}` : ieps}`);\n    let impuestos = iva_precio + ieps_precio;\n\n    const precio_neto = parseFloat((precio_venta + impuestos).toFixed(2));\n\n    //meter los valores a preciosVenta\n    preciosVenta.precio_venta = precio_venta;\n    preciosVenta.precio_neto = precio_neto;\n    preciosVenta.iva_precio = iva_precio;\n    preciosVenta.ieps_precio = ieps_precio;\n\n    //meter los precios a unidadXdefecto\n    let unidadXDefecto = {\n      ...unidadVentaXDefecto,\n      precio: precio_neto,\n      precio_unidad: {\n        numero_precio: preciosVenta.numero_precio,\n        precio_neto: precio_neto,\n        precio_venta: precio_venta,\n        unidad_mayoreo: preciosVenta.unidad_mayoreo,\n        iva_precio,\n        ieps_precio,\n        utilidad: preciosVenta.utilidad,\n        unidad_maxima: false,\n      },\n    };\n\n    let unidadSecundaria = {\n      ...unidadVentaSecundaria,\n      precio: parseFloat((cantidad_sec * precio_neto).toFixed(2)),\n      precio_unidad: {\n        numero_precio: preciosVenta.numero_precio,\n        precio_neto: parseFloat((cantidad_sec * precio_neto).toFixed(2)),\n        precio_venta: parseFloat((cantidad_sec * precio_venta).toFixed(2)),\n        unidad_mayoreo: preciosVenta.unidad_mayoreo,\n        iva_precio,\n        ieps_precio,\n        utilidad: preciosVenta.utilidad,\n        unidad_maxima: false,\n      },\n    };\n\n    if (preciosVenta.numero_precio === 1) {\n      /* if (unidad === \"Caja\" || unidad === \"Costal\") {\n        unidadXDefecto = {\n          ...unidadXDefecto,\n          precio: precio_neto,\n        };\n      } else {\n        unidadSecundaria = {\n          ...unidadSecundaria,\n          precio: parseFloat((cantidad * precio_neto).toFixed(2)),\n        };\n      } */\n      if (descuento_activo === true) {\n        //calcular nuevo precio entre %\n        /* let precio_con_descuento = Math.round(\n          precio_neto - precio_neto * parseFloat(\".\" + descuento.porciento)\n        ); */\n\n        let new_precio_venta_desc = (precio_venta * descuento.porciento) / 100;\n        let new_iva_precio =\n          new_precio_venta_desc * parseFloat(`0.${iva < 10 ? `0${iva}` : iva}`);\n        let new_ieps_precio =\n          new_precio_venta_desc *\n          parseFloat(`0.${ieps < 10 ? `0${ieps}` : ieps}`);\n        let new_impuestos = new_iva_precio + new_ieps_precio;\n        let precio_con_descuento = new_precio_venta_desc + new_impuestos;\n\n        unidadXDefecto = {\n          ...unidadXDefecto,\n          precio: parseFloat(precio_neto.toFixed(2)),\n          descuento: {\n            ...unidadVentaXDefecto.descuento,\n            precio_neto: precio_con_descuento,\n          },\n        };\n      }\n      if (descuento_activo_sec === true) {\n        //calcular nuevo precio entre %\n        let new_precio_venta_desc_sec = (precio_venta * descuento_sec.porciento) / 100;\n        let new_iva_precio_sec =\n          new_precio_venta_desc_sec * parseFloat(`0.${iva < 10 ? `0${iva}` : iva}`);\n        let new_ieps_precio_sec =\n          new_precio_venta_desc_sec *\n          parseFloat(`0.${ieps < 10 ? `0${ieps}` : ieps}`);\n        let new_impuestos_sec = new_iva_precio_sec + new_ieps_precio_sec;\n        let precio_con_descuento_sec = new_precio_venta_desc_sec + new_impuestos_sec;\n\n        unidadSecundaria = {\n          ...unidadSecundaria,\n          precio: parseFloat((cantidad_sec * precio_neto).toFixed(2)),\n          descuento: {\n            ...unidadVentaSecundaria.descuento,\n            precio_neto: parseFloat((cantidad_sec * precio_con_descuento_sec).toFixed(2)),\n          },\n        };\n      }\n      setUnidadVentaXDefecto(unidadXDefecto);\n      setUnidadVentaSecundaria(unidadSecundaria);\n    }\n\n    newPreciosP.splice(index, 1, preciosVenta);\n    setPreciosP(newPreciosP);\n  };\n\n  useEffect(() => {\n    if (preciosVenta.numero_precio === 1) {\n      calculos();\n    } else if (preciosVenta.numero_precio > 1 && preciosVenta.precio_neto) {\n      calculos();\n    }\n\n    /* preciosP.splice(index, 1, preciosVenta); */\n  }, [\n    precios.unidad_de_compra.precio_unitario_con_impuesto,\n    preciosVenta.precio_neto,\n  ]);\n\n  const verificarCampoVacio = (name, value) => {\n    switch (name) {\n      case \"utilidad\":\n        if (!value) {\n          preciosVenta.utilidad = 0;\n          preciosVenta.precio_neto =\n            preciosVenta.numero_precio > 1\n              ? 0\n              : precios.unidad_de_compra.precio_unitario_con_impuesto;\n          newPreciosP.splice(index, 1, preciosVenta);\n          setPreciosP(newPreciosP);\n        }\n        break;\n      case \"precio_neto\":\n        if (!value) {\n          preciosVenta.precio_neto =\n            preciosVenta.numero_precio > 1\n              ? 0\n              : precios.unidad_de_compra.precio_unitario_con_impuesto;\n          preciosVenta.utilidad = 0;\n          newPreciosP.splice(index, 1, preciosVenta);\n          setPreciosP(newPreciosP);\n        }\n        break;\n      case \"unidad_mayoreo\":\n        if (!value) {\n          preciosVenta.unidad_mayoreo = 0;\n          newPreciosP.splice(index, 1, preciosVenta);\n          setPreciosP(newPreciosP);\n        }\n        break;\n      default:\n        break;\n    }\n  };\n\n  return (\n    <Box>\n      <Box display=\"flex\" my={1} mr={1}>\n        <Box\n          alignItems=\"flex-end\"\n          display={data.numero_precio > 1 ? \"none\" : \"flex\"}\n        >\n          <Typography className={classes.precioTitle}>\n            <b>Utilidad</b>\n          </Typography>\n        </Box>\n        <Box minWidth={100}>\n          <Typography className={classes.titulos}>\n            Precio {data.numero_precio}\n          </Typography>\n          <Box mb={2} />\n          <TextField\n            disabled={\n              !parseFloat(precios.unidad_de_compra.precio_unitario_sin_impuesto)\n            }\n            fullWidth\n            type=\"number\"\n            InputProps={{\n              inputProps: { min: 0 },\n              startAdornment: (\n                <InputAdornment position=\"start\">%</InputAdornment>\n              ),\n            }}\n            size=\"small\"\n            value={preciosVenta.utilidad}\n            name=\"utilidad\"\n            variant=\"outlined\"\n            onChange={(e) => obtenerUtilidad(e.target.value)}\n            onBlur={() =>\n              verificarCampoVacio(\"utilidad\", preciosVenta.utilidad)\n            }\n            error={preciosVenta.utilidad === \"\"}\n          />\n        </Box>\n      </Box>\n      <Box display=\"flex\" my={2} mr={1}>\n        <Box\n          alignItems=\"flex-end\"\n          display={data.numero_precio > 1 ? \"none\" : \"flex\"}\n        >\n          <Box\n            alignItems=\"flex-end\"\n            flexDirection=\"column\"\n            display={data.numero_precio > 1 ? \"none\" : \"flex\"}\n          >\n            <Typography className={classes.precioTitle}>\n              <b>Precio de venta</b>\n            </Typography>\n            <Typography\n              className={classes.precioTitle}\n              variant=\"caption\"\n              color=\"textSecondary\"\n            >\n              (precio sin impuestos)\n            </Typography>\n          </Box>\n        </Box>\n        <Box pl={1}>\n          <Typography>\n            <b>${parseFloat(preciosVenta.precio_venta).toFixed(2)}</b>\n          </Typography>\n        </Box>\n      </Box>\n      <Box display=\"flex\" my={1} mr={1}>\n        <Box\n          alignItems=\"flex-end\"\n          flexDirection=\"column\"\n          display={data.numero_precio > 1 ? \"none\" : \"flex\"}\n        >\n          <Typography className={classes.precioTitle}>\n            <b>Precio venta neto</b>\n          </Typography>\n          <Typography\n            className={classes.precioTitle}\n            variant=\"caption\"\n            color=\"textSecondary\"\n          >\n            (precio con impuestos)\n          </Typography>\n        </Box>\n        <Box className={data.numero_precio > 1 ? classes.marginInput : \"\"}>\n          <TextField\n            disabled={\n              !parseFloat(precios.unidad_de_compra.precio_unitario_sin_impuesto)\n            }\n            fullWidth\n            type=\"number\"\n            InputProps={{\n              inputProps: { min: 0 },\n              startAdornment: (\n                <InputAdornment position=\"start\">$</InputAdornment>\n              ),\n            }}\n            size=\"small\"\n            name=\"precio_neto\"\n            variant=\"outlined\"\n            value={preciosVenta.precio_neto}\n            onChange={(e) => obtenerPrecioNeto(e.target.value)}\n            onBlur={() =>\n              verificarCampoVacio(\"precio_neto\", preciosVenta.precio_neto)\n            }\n            error={preciosVenta.precio_neto === \"\"}\n          />\n        </Box>\n      </Box>\n\n      <Box display=\"flex\" my={2} mr={1}>\n        <Box\n          alignItems=\"flex-end\"\n          display={data.numero_precio > 1 ? \"none\" : \"flex\"}\n        >\n          <Typography className={classes.precioTitle}>\n            <b>Unidad por mayoreo</b>\n          </Typography>\n        </Box>\n        {data.numero_precio > 1 ? (\n          <Box>\n            <TextField\n              disabled={\n                !parseFloat(\n                  precios.unidad_de_compra.precio_unitario_sin_impuesto\n                )\n              }\n              fullWidth\n              type=\"number\"\n              InputProps={{ inputProps: { min: 0 } }}\n              size=\"small\"\n              name=\"unidad_mayoreo\"\n              variant=\"outlined\"\n              value={preciosVenta.unidad_mayoreo}\n              onChange={(e) => obtenerMayoreo(e.target.value)}\n              onBlur={() =>\n                verificarCampoVacio(\n                  \"unidad_mayoreo\",\n                  preciosVenta.unidad_mayoreo\n                )\n              }\n              error={preciosVenta.unidad_mayoreo === \"\"}\n            />\n          </Box>\n        ) : null}\n      </Box>\n    </Box>\n  );\n};\n","export const unitCodes = [\n    {unidad: \"Pz\", codigo_unidad: \"H87\"},\n    {unidad: \"Caja\", codigo_unidad: \"XBX\"}\n]\n\nexport const unitCodes_granel = [\n  {unidad: \"Kg\", codigo_unidad: \"KGM\"},\n  {unidad: \"Lt\", codigo_unidad: \"LTR\"},\n  {unidad: \"Costal\", codigo_unidad: \"KGM\"},\n]","export const calcular_iva = (name, value, precios) => {\n  let precio_con_impuesto = 0;\n  let precio_sin_impuesto = 0;\n  let iva = 0;\n  let ieps = 0;\n  let precio_unitario_sin_impuesto = 0;\n  let precio_unitario_con_impuesto = 0;\n  if (name === \"iva_activo\") {\n    if (value) {\n      precio_sin_impuesto = parseFloat(\n        precios.precio_de_compra.precio_sin_impuesto\n      );\n      iva = parseFloat(precio_sin_impuesto) * 0.16;\n      ieps =\n        parseFloat(precio_sin_impuesto) *\n        parseFloat(\n          precios.ieps < 10 ? \".0\" + precios.ieps : \".\" + precios.ieps\n        );\n      precio_con_impuesto = precio_sin_impuesto + iva + ieps;\n      precio_unitario_sin_impuesto =\n        precio_sin_impuesto / precios.unidad_de_compra.cantidad;\n      precio_unitario_con_impuesto =\n        precio_con_impuesto / precios.unidad_de_compra.cantidad;\n    } else {\n      precio_sin_impuesto = parseFloat(\n        precios.precio_de_compra.precio_sin_impuesto\n      );\n      iva = 0;\n      ieps =\n        parseFloat(precio_sin_impuesto) *\n        parseFloat(\n          precios.ieps < 10 ? \".0\" + precios.ieps : \".\" + precios.ieps\n        );\n      precio_con_impuesto = precio_sin_impuesto + iva + ieps;\n      precio_unitario_sin_impuesto =\n        precio_sin_impuesto / precios.unidad_de_compra.cantidad;\n      precio_unitario_con_impuesto =\n        precio_con_impuesto / precios.unidad_de_compra.cantidad;\n      if (!precios.ieps_activo) {\n        precio_con_impuesto = 0;\n        precio_unitario_con_impuesto =\n          precio_sin_impuesto / precios.unidad_de_compra.cantidad;\n      }\n    }\n  } else {\n    precio_sin_impuesto = parseFloat(\n      precios.precio_de_compra.precio_sin_impuesto\n    );\n    iva =\n      parseFloat(precio_sin_impuesto) *\n      parseFloat(value < 10 ? \".0\" + value : \".\" + value);\n    ieps =\n      parseFloat(precio_sin_impuesto) *\n      parseFloat(precios.ieps < 10 ? \".0\" + precios.ieps : \".\" + precios.ieps);\n    precio_con_impuesto = precio_sin_impuesto + iva + ieps;\n    precio_unitario_con_impuesto =\n      precio_con_impuesto / precios.unidad_de_compra.cantidad;\n    precio_unitario_sin_impuesto =\n      precio_sin_impuesto / precios.unidad_de_compra.cantidad;\n  }\n\n  return {\n    ...precios,\n    iva_activo: name === \"iva_activo\" ? value : precios.iva_activo,\n    iva: name === \"iva\" ? parseFloat(value) : value ? 16 : 0,\n    precio_de_compra: {\n      ...precios.precio_de_compra,\n      precio_sin_impuesto: parseFloat(precio_sin_impuesto.toFixed(2)),\n      iva: parseFloat(iva.toFixed(2)),\n      ieps: parseFloat(ieps.toFixed(2)),\n      precio_con_impuesto: parseFloat(precio_con_impuesto.toFixed(2)),\n    },\n    unidad_de_compra: {\n      ...precios.unidad_de_compra,\n      precio_unitario_sin_impuesto: parseFloat(\n        precio_unitario_sin_impuesto.toFixed(2)\n      ),\n      precio_unitario_con_impuesto: parseFloat(\n        precio_unitario_con_impuesto.toFixed(2)\n      ),\n    },\n  };\n};\n\nexport const calcular_ieps = (name, value, precios) => {\n  let precio_con_impuesto = 0;\n  let precio_sin_impuesto = 0;\n  let iva = 0;\n  let ieps = 0;\n  let precio_unitario_sin_impuesto = 0;\n  let precio_unitario_con_impuesto = 0;\n  if (name === \"ieps_activo\") {\n    if (value) {\n      precio_sin_impuesto = parseFloat(\n        precios.precio_de_compra.precio_sin_impuesto\n      );\n      iva =\n        parseFloat(precio_sin_impuesto) *\n        parseFloat(precios.iva < 10 ? \".0\" + precios.iva : \".\" + precios.iva);\n      ieps = parseFloat(precio_sin_impuesto) * precios.ieps;\n      precio_con_impuesto = precio_sin_impuesto + iva + ieps;\n      precio_unitario_sin_impuesto =\n        precio_sin_impuesto / precios.unidad_de_compra.cantidad;\n      precio_unitario_con_impuesto =\n        precio_con_impuesto / precios.unidad_de_compra.cantidad;\n    } else {\n      precio_sin_impuesto = parseFloat(\n        precios.precio_de_compra.precio_sin_impuesto\n      );\n      ieps = 0;\n      iva =\n        parseFloat(precio_sin_impuesto) *\n        parseFloat(precios.iva < 10 ? \".0\" + precios.iva : \".\" + precios.iva);\n      precio_con_impuesto = precio_sin_impuesto + iva + ieps;\n      precio_unitario_sin_impuesto =\n        precio_sin_impuesto / precios.unidad_de_compra.cantidad;\n      precio_unitario_con_impuesto =\n        precio_con_impuesto / precios.unidad_de_compra.cantidad;\n      if (!precios.iva_activo) {\n        precio_con_impuesto = 0;\n        precio_unitario_con_impuesto =\n          precio_sin_impuesto / precios.unidad_de_compra.cantidad;\n      }\n    }\n  } else {\n    precio_sin_impuesto = parseFloat(\n      precios.precio_de_compra.precio_sin_impuesto\n    );\n    iva =\n      parseFloat(precio_sin_impuesto) *\n      parseFloat(precios.iva < 10 ? \".0\" + precios.iva : \".\" + precios.iva);\n    ieps =\n      parseFloat(precio_sin_impuesto) *\n      parseFloat(value < 10 ? \".0\" + value : \".\" + value);\n    precio_con_impuesto = precio_sin_impuesto + iva + ieps;\n    precio_unitario_con_impuesto =\n      precio_con_impuesto / precios.unidad_de_compra.cantidad;\n    precio_unitario_sin_impuesto =\n      precio_sin_impuesto / precios.unidad_de_compra.cantidad;\n  }\n  return {\n    ...precios,\n    ieps_activo: name === \"ieps_activo\" ? value : precios.ieps_activo,\n    ieps: name === \"ieps\" ? parseFloat(value) : value ? precios.ieps : 0,\n    precio_de_compra: {\n      ...precios.precio_de_compra,\n      precio_sin_impuesto: parseFloat(precio_sin_impuesto.toFixed(2)),\n      iva: parseFloat(iva.toFixed(2)),\n      ieps: parseFloat(ieps.toFixed(2)),\n      precio_con_impuesto: parseFloat(precio_con_impuesto.toFixed(2)),\n    },\n    unidad_de_compra: {\n      ...precios.unidad_de_compra,\n      precio_unitario_sin_impuesto: parseFloat(\n        precio_unitario_sin_impuesto.toFixed(2)\n      ),\n      precio_unitario_con_impuesto: parseFloat(\n        precio_unitario_con_impuesto.toFixed(2)\n      ),\n    },\n  };\n};\n\n","import React, { useContext, useEffect, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport {\n  Box,\n  Checkbox,\n  FormControlLabel,\n  TextField,\n  MenuItem,\n  FormHelperText,\n  InputAdornment,\n  Grid,\n} from \"@material-ui/core\";\nimport { Typography, Divider, FormControl, Select } from \"@material-ui/core\";\nimport PreciosDeCompra from \"./UnidadesVenta\";\nimport { RegProductoContext } from \"../../../../../context/Catalogos/CtxRegProducto\";\nimport { Alert } from \"@material-ui/lab\";\nimport { useDebounce } from \"use-debounce/lib\";\nimport PreciosDeVenta from \"./Precios\";\nimport { unitCodes, unitCodes_granel } from \"../unidades\";\nimport { calcular_ieps, calcular_iva } from \"../calculos_precios\";\n\nconst useStyles = makeStyles((theme) => ({\n  required: {\n    color: \"red\",\n  },\n  precioTitle: {\n    width: theme.spacing(20),\n    display: \"flex\",\n    alignItems: \"center\",\n  },\n  titulos: {\n    fontWeight: 500,\n  },\n  /* input: {\n    \"& input[type=number]\": {\n      \"-moz-appearance\": \"textfield\",\n    },\n    \"& input[type=number]::-webkit-outer-spin-button\": {\n      \"-webkit-appearance\": \"none\",\n      margin: 0,\n    },\n    \"& input[type=number]::-webkit-inner-spin-button\": {\n      \"-webkit-appearance\": \"none\",\n      margin: 0,\n    },\n  }, */\n}));\n\nexport default function RegistroInfoAdidional() {\n  const classes = useStyles();\n  const {\n    precios,\n    setPrecios,\n    validacion,\n    preciosP,\n    update,\n    unidadVentaXDefecto,\n    setUnidadVentaXDefecto,\n    unidadVentaSecundaria,\n    setUnidadVentaSecundaria,\n  } = useContext(RegProductoContext);\n\n  /* CHECKBOX IVA */\n  const obtenerIva = async (e) => {\n    if (e.target.name === \"iva\" && !e.target.value) {\n      setPrecios({\n        ...precios,\n        iva: \"\",\n      });\n      return;\n    }\n    const name = e.target.name;\n    const value = name === \"iva_activo\" ? e.target.checked : e.target.value;\n    const result = await calcular_iva(name, value, precios);\n    setPrecioConImpuesto(result.precio_de_compra.precio_con_impuesto);\n    setPrecioSinImpuesto(result.precio_de_compra.precio_sin_impuesto);\n    setPrecios(result);\n  };\n\n  /* CHECKBOX IEPS */\n  const obtenerIeps = async (e) => {\n    if (e.target.name === \"ieps\" && !e.target.value) {\n      setPrecios({\n        ...precios,\n        ieps: \"\",\n      });\n      return;\n    }\n    const name = e.target.name;\n    const value = name === \"ieps_activo\" ? e.target.checked : e.target.value;\n    const result = await calcular_ieps(name, value, precios);\n    setPrecioConImpuesto(result.precio_de_compra.precio_con_impuesto);\n    setPrecioSinImpuesto(result.precio_de_compra.precio_sin_impuesto);\n    setPrecios(result);\n  };\n\n  const [precioConImpuesto, setPrecioConImpuesto] = useState(\n    precios.precio_de_compra.precio_con_impuesto\n  );\n  const [precioSinImpuesto, setPrecioSinImpuesto] = useState(\n    precios.precio_de_compra.precio_sin_impuesto\n  );\n\n  const [PCI] = useDebounce(precioConImpuesto, 800);\n  const [PSI] = useDebounce(precioSinImpuesto, 800);\n\n  /* ARMAR OBJETO DE PRECIOS DE COMPRA */\n  const obtenerPrecioConImpuesto = (value) => {\n    let precio_con_impuesto = 0;\n    let total_impuesto = 0;\n    let precio_sin_impuesto = 0;\n    let iva = 0;\n    let ieps = 0;\n    let precio_unitario_sin_impuesto = 0;\n    let precio_unitario_con_impuesto = 0;\n\n    /* Precio con impuesto */\n    precio_con_impuesto = parseFloat(value);\n    total_impuesto =\n      parseFloat(precios.iva < 10 ? \".0\" + precios.iva : \".\" + precios.iva) +\n      parseFloat(precios.ieps < 10 ? \".0\" + precios.ieps : \".\" + precios.ieps);\n    precio_sin_impuesto = parseFloat(value) / parseFloat(total_impuesto + 1);\n    iva =\n      precio_sin_impuesto *\n      parseFloat(precios.iva < 10 ? \".0\" + precios.iva : \".\" + precios.iva);\n    ieps =\n      precio_sin_impuesto *\n      parseFloat(precios.ieps < 10 ? \".0\" + precios.ieps : \".\" + precios.ieps);\n    precio_unitario_con_impuesto =\n      precio_con_impuesto / precios.unidad_de_compra.cantidad;\n    precio_unitario_sin_impuesto =\n      precio_sin_impuesto / precios.unidad_de_compra.cantidad;\n\n    if (isNaN(precio_unitario_sin_impuesto)) precio_unitario_sin_impuesto = 0;\n    if (isNaN(precio_unitario_con_impuesto)) precio_unitario_con_impuesto = 0;\n    if (isNaN(iva)) iva = 0;\n    if (isNaN(ieps)) ieps = 0;\n    /* if (isNaN(precio_con_impuesto)) precio_con_impuesto = 0;\n\t\tif (isNaN(precio_sin_impuesto)) precio_sin_impuesto = 0; */\n\n    setPrecioSinImpuesto(parseFloat(precio_sin_impuesto.toFixed(2)));\n    setPrecios({\n      ...precios,\n      precio_de_compra: {\n        ...precios.precio_de_compra,\n        precio_sin_impuesto: parseFloat(precio_sin_impuesto.toFixed(2)),\n        iva: parseFloat(iva.toFixed(2)),\n        ieps: parseFloat(ieps.toFixed(2)),\n        precio_con_impuesto: parseFloat(precio_con_impuesto.toFixed(2)),\n      },\n      unidad_de_compra: {\n        ...precios.unidad_de_compra,\n        precio_unitario_sin_impuesto: parseFloat(\n          precio_unitario_sin_impuesto.toFixed(2)\n        ),\n        precio_unitario_con_impuesto: parseFloat(\n          precio_unitario_con_impuesto.toFixed(2)\n        ),\n      },\n    });\n  };\n\n  /* ARMAR OBJETO DE PRECIOS DE COMPRA */\n  const obtenerPrecioSinImpuesto = (value) => {\n    let precio_con_impuesto = 0;\n    let precio_sin_impuesto = 0;\n    let iva = 0;\n    let ieps = 0;\n    let precio_unitario_sin_impuesto = 0;\n    let precio_unitario_con_impuesto = 0;\n\n    /* Precio sin impuesto */\n    precio_sin_impuesto = parseFloat(value);\n    iva =\n      parseFloat(value) *\n      parseFloat(precios.iva < 10 ? \".0\" + precios.iva : \".\" + precios.iva);\n    ieps =\n      parseFloat(value) *\n      parseFloat(precios.ieps < 10 ? \".0\" + precios.ieps : \".\" + precios.ieps);\n    precio_con_impuesto = precio_sin_impuesto + iva + ieps;\n    precio_unitario_sin_impuesto =\n      precio_sin_impuesto / precios.unidad_de_compra.cantidad;\n    precio_unitario_con_impuesto =\n      precio_con_impuesto / precios.unidad_de_compra.cantidad;\n    if (!precios.iva_activo && !precios.ieps_activo) {\n      precio_con_impuesto = precio_sin_impuesto /*  / precios.unidad_de_compra.cantidad */;\n      precio_unitario_con_impuesto =\n        precio_sin_impuesto / precios.unidad_de_compra.cantidad;\n    }\n\n    if (isNaN(precio_unitario_sin_impuesto)) precio_unitario_sin_impuesto = 0;\n    if (isNaN(precio_unitario_con_impuesto)) precio_unitario_con_impuesto = 0;\n    if (isNaN(iva)) iva = 0;\n    if (isNaN(ieps)) ieps = 0;\n    /* if (isNaN(precio_con_impuesto)) precio_con_impuesto = 0;\n\t\tif (isNaN(precio_sin_impuesto)) precio_sin_impuesto = 0; */\n\n    setPrecioConImpuesto(parseFloat(precio_con_impuesto.toFixed(2)));\n    setPrecios({\n      ...precios,\n      precio_de_compra: {\n        ...precios.precio_de_compra,\n        precio_sin_impuesto: parseFloat(precio_sin_impuesto.toFixed(2)),\n        iva: parseFloat(iva.toFixed(2)),\n        ieps: parseFloat(ieps.toFixed(2)),\n        precio_con_impuesto: parseFloat(precio_con_impuesto.toFixed(2)),\n      },\n      unidad_de_compra: {\n        ...precios.unidad_de_compra,\n        precio_unitario_sin_impuesto: parseFloat(\n          precio_unitario_sin_impuesto.toFixed(2)\n        ),\n        precio_unitario_con_impuesto: parseFloat(\n          precio_unitario_con_impuesto.toFixed(2)\n        ),\n      },\n    });\n  };\n\n  /* ARMAR OBJETO DE UNIDAD DE COMPRA */\n  const obtenerUnidadCompra = (e, child) => {\n    if (e.target.name === \"unidad\") {\n      const { codigo_unidad, unidad } = child.props.unidad;\n      let precio =\n        precios.unidad_de_compra.cantidad * unidadVentaXDefecto.precio;\n      if (unidad === \"Caja\" || unidad === \"Costal\") {\n        setUnidadVentaSecundaria({\n          ...unidadVentaSecundaria,\n          precio: parseFloat(precio.toFixed(2)),\n          codigo_unidad,\n          unidad,\n          unidad_activa: true,\n          unidad_principal: true,\n        });\n        setUnidadVentaXDefecto({\n          ...unidadVentaXDefecto,\n          unidad: unidad === \"Caja\" ? \"Pz\" : \"kg\",\n          codigo_unidad: unidad === \"Caja\" ? \"H87\" : \"KGM\",\n          cantidad: 1,\n          precio: unidadVentaXDefecto.precio,\n          unidad_principal: false,\n        });\n        /* setPrecios({\n          ...precios,\n          unidad_de_compra: {\n            ...precios.unidad_de_compra,\n            unidad,\n            codigo_unidad,\n          },\n          inventario: {\n            ...precios.inventario,\n            unidad_de_inventario: unidad,\n            codigo_unidad,\n          },\n        }); */\n      } else {\n        setUnidadVentaXDefecto({\n          ...unidadVentaXDefecto,\n          unidad: unidad === \"Pz\" ? \"Pz\" : unidad === \"Lt\" ? \"Lt \": \"kg\",\n          codigo_unidad: unidad === \"Pz\" ? \"H87\" : unidad === \"Lt\" ? \"LTR\" : \"KGM\",\n          cantidad: 1,\n          precio: unidadVentaXDefecto.precio,\n          unidad_principal: true,\n        });\n        setUnidadVentaSecundaria({\n          ...unidadVentaSecundaria,\n          precio: parseFloat(precio.toFixed(2)),\n          codigo_unidad: unidad === \"Pz\" ? \"XBX\" : unidad === \"Lt\" ? \"LTR\" : \"KGM\",\n          unidad: unidad === \"Pz\" ? \"Caja\" : unidad === \"Caja\" ? \"LTR\" : \"Costal\",\n          unidad_activa: false,\n          unidad_principal: false,\n        });\n      }\n\n      /* setPrecios({\n          ...precios,\n          unidad_de_compra: {\n            ...precios.unidad_de_compra,\n            unidad: e.target.value,\n            cantidad: 1,\n          },\n          inventario: {\n            ...precios.inventario,\n            unidad_de_inventario: e.target.value,\n          },\n        }); */\n      setPrecios({\n        ...precios,\n        unidad_de_compra: {\n          ...precios.unidad_de_compra,\n          unidad,\n          codigo_unidad,\n          cantidad: 1,\n        },\n        inventario: {\n          ...precios.inventario,\n          unidad_de_inventario: unidad,\n          codigo_unidad,\n        },\n      });\n    } else {\n      if (!precios.iva_activo && !precios.ieps_activo) {\n        setPrecios({\n          ...precios,\n          unidad_de_compra: {\n            ...precios.unidad_de_compra,\n            [e.target.name]: parseFloat(e.target.value),\n            precio_unitario_sin_impuesto: parseFloat(\n              (\n                precios.precio_de_compra.precio_sin_impuesto / e.target.value\n              ).toFixed(2)\n            ),\n            precio_unitario_con_impuesto: parseFloat(\n              (\n                precios.precio_de_compra.precio_sin_impuesto / e.target.value\n              ).toFixed(2)\n            ),\n          },\n        });\n      } else {\n        setPrecios({\n          ...precios,\n          unidad_de_compra: {\n            ...precios.unidad_de_compra,\n            [e.target.name]: parseFloat(e.target.value),\n            precio_unitario_sin_impuesto: parseFloat(\n              (\n                precios.precio_de_compra.precio_sin_impuesto / e.target.value\n              ).toFixed(2)\n            ),\n            precio_unitario_con_impuesto: parseFloat(\n              (\n                precios.precio_de_compra.precio_con_impuesto / e.target.value\n              ).toFixed(2)\n            ),\n          },\n        });\n      }\n      if (\n        precios.unidad_de_compra.unidad === \"Caja\" ||\n        precios.unidad_de_compra.unidad === \"Costal\"\n      ) {\n        setUnidadVentaSecundaria({\n          ...unidadVentaSecundaria,\n          cantidad: parseFloat(e.target.value),\n        });\n      }\n      setUnidadVentaXDefecto({\n        ...unidadVentaXDefecto,\n        cantidad: 1,\n      });\n    }\n  };\n\n  useEffect(() => {\n    obtenerPrecioConImpuesto(PCI);\n  }, [PCI]);\n\n  useEffect(() => {\n    obtenerPrecioSinImpuesto(PSI);\n  }, [PSI]);\n\n  return (\n    <Box>\n      <div /* className={classes.input} */>\n        <Box mb={2}>\n          <Typography>\n            <b>Impuestos</b>\n          </Typography>\n          <Divider />\n        </Box>\n\n        <Grid container spacing={2}>\n          <Grid item md={4} xs={12}>\n            <Box>\n              <Typography noWrap className={classes.titulos}>\n                IVA\n              </Typography>\n              <TextField\n                fullWidth\n                disabled={!precios.iva_activo}\n                type=\"number\"\n                InputProps={{\n                  inputProps: { min: 0 },\n                  startAdornment: (\n                    <InputAdornment position=\"start\">\n                      <Checkbox\n                        checked={precios.iva_activo}\n                        onChange={obtenerIva}\n                        name=\"iva_activo\"\n                      />\n                      <Typography>%</Typography>\n                    </InputAdornment>\n                  ),\n                }}\n                size=\"small\"\n                name=\"iva\"\n                id=\"form-producto-iva\"\n                variant=\"outlined\"\n                value={precios.iva}\n                onChange={obtenerIva}\n                onFocus={(e) => {\n                  const { name, value } = e.target;\n                  if (parseFloat(value) === 0) {\n                    setPrecios({\n                      ...precios,\n                      [name]: \"\",\n                    });\n                  }\n                }}\n                onBlur={(e) => {\n                  const { name, value } = e.target;\n                  if (!value) {\n                    setPrecios({\n                      ...precios,\n                      [name]: 16,\n                    });\n                  }\n                }}\n                error={precios.iva === \"\"}\n              />\n            </Box>\n          </Grid>\n          <Grid item md={4} xs={12}>\n            <Box>\n              <Typography noWrap className={classes.titulos}>\n                porcentaje IEPS\n              </Typography>\n              <TextField\n                disabled={!precios.ieps_activo}\n                fullWidth\n                type=\"number\"\n                InputProps={{\n                  inputProps: { min: 0 },\n                  startAdornment: (\n                    <InputAdornment position=\"start\">\n                      <Checkbox\n                        checked={precios.ieps_activo}\n                        onChange={obtenerIeps}\n                        name=\"ieps_activo\"\n                      />\n                      <Typography>%</Typography>\n                    </InputAdornment>\n                  ),\n                }}\n                size=\"small\"\n                name=\"ieps\"\n                id=\"form-producto-ieps\"\n                variant=\"outlined\"\n                value={precios.ieps}\n                onChange={obtenerIeps}\n                onFocus={(e) => {\n                  const { name, value } = e.target;\n                  if (parseFloat(value) === 0) {\n                    setPrecios({\n                      ...precios,\n                      [name]: \"\",\n                    });\n                  }\n                }}\n                onBlur={(e) => {\n                  const { name, value } = e.target;\n                  if (!value) {\n                    setPrecios({\n                      ...precios,\n                      [name]: 0,\n                    });\n                  }\n                }}\n                error={precios.ieps === \"\"}\n              />\n            </Box>\n          </Grid>\n          {/* \n          <Grid item md={4} xs={12}>\n            <Box display=\"flex\" alignItems=\"flex-end\" height=\"100%\" ml={1}>\n              <Alert severity=\"info\">Selecciona los impuestos aplicables</Alert>\n            </Box>\n          </Grid> */}\n        </Grid>\n        <Box my={3}>\n          <Typography>\n            <b>Precios y unidad de compra</b>\n          </Typography>\n          <Divider />\n        </Box>\n\n        <Grid container spacing={2}>\n          <Grid item sm={4} md={2} xs={12}>\n            <Box>\n              <Typography noWrap className={classes.titulos}>\n                Unidad Compra\n              </Typography>\n              <Box display=\"flex\">\n                <FormControl\n                  variant=\"outlined\"\n                  fullWidth\n                  size=\"small\"\n                  error={validacion.error && !precios.unidad_de_compra.unidad}\n                >\n                  {precios.granel ? (\n                    <Select\n                      disabled={update}\n                      id=\"form-producto-categoria\"\n                      name=\"unidad\"\n                      value={precios.unidad_de_compra.unidad}\n                      onChange={obtenerUnidadCompra}\n                    >\n                      {unitCodes_granel.map((res, index) => (\n                        <MenuItem key={index} unidad={res} value={res.unidad}>\n                          {res.unidad}\n                        </MenuItem>\n                      ))}\n                    </Select>\n                  ) : (\n                    <Select\n                      disabled={update}\n                      id=\"form-producto-categoria\"\n                      name=\"unidad\"\n                      value={precios.unidad_de_compra.unidad}\n                      onChange={obtenerUnidadCompra}\n                    >\n                      {unitCodes.map((res, index) => (\n                        <MenuItem key={index} unidad={res} value={res.unidad}>\n                          {res.unidad}\n                        </MenuItem>\n                      ))}\n                    </Select>\n                  )}\n                  <FormHelperText>{validacion.message}</FormHelperText>\n                </FormControl>\n              </Box>\n            </Box>\n          </Grid>\n          <Grid item sm={4} md={2} xs={12}>\n            <Box>\n              <Typography noWrap align=\"center\" className={classes.titulos}>\n                Unidad Conversion\n              </Typography>\n              <Typography align=\"center\" variant=\"h6\">\n                <b>\n                  {precios.unidad_de_compra.unidad === \"Caja\"\n                    ? \"Pz\"\n                    : precios.unidad_de_compra.unidad === \"Costal\"\n                    ? \"Kg\"\n                    : precios.unidad_de_compra.unidad}\n                </b>\n              </Typography>\n            </Box>\n          </Grid>\n          <Grid item sm={4} md={2} xs={12}>\n            <Box>\n              <Typography noWrap className={classes.titulos}>\n                <span className={classes.required}>* </span>Factor por Unidad\n              </Typography>\n              <TextField\n                fullWidth\n                disabled={\n                  precios.unidad_de_compra.unidad === \"Caja\" ||\n                  precios.unidad_de_compra.unidad === \"Costal\"\n                    ? false\n                    : true\n                }\n                type=\"number\"\n                InputProps={{ inputProps: { min: 1 } }}\n                size=\"small\"\n                error={validacion.error && !precios.unidad_de_compra.cantidad}\n                name=\"cantidad\"\n                id=\"form-producto-cantidad\"\n                variant=\"outlined\"\n                value={precios.unidad_de_compra.cantidad}\n                helperText={validacion.message}\n                onChange={obtenerUnidadCompra}\n              />\n            </Box>\n          </Grid>\n          <Grid item sm={6} md={3} xs={12}>\n            <Box>\n              <Typography noWrap className={classes.titulos}>\n                <span className={classes.required}>* </span>Precio sin impuestos\n              </Typography>\n              <TextField\n                type=\"number\"\n                InputProps={{\n                  inputProps: { min: 0 },\n                  startAdornment: (\n                    <InputAdornment position=\"start\">$</InputAdornment>\n                  ),\n                }}\n                fullWidth\n                size=\"small\"\n                error={validacion.error && !precioSinImpuesto}\n                name=\"precio_sin_impuesto\"\n                id=\"form-producto-precio_sin_impuesto\"\n                variant=\"outlined\"\n                value={precioSinImpuesto}\n                helperText={validacion.message}\n                onChange={(e) => setPrecioSinImpuesto(e.target.value)}\n                onFocus={(e) => {\n                  const { value } = e.target;\n                  if (parseFloat(value) === 0) {\n                    setPrecioSinImpuesto(\"\");\n                  }\n                }}\n                onBlur={(e) => {\n                  const { value } = e.target;\n                  if (!value) {\n                    setPrecioSinImpuesto(0);\n                  }\n                }}\n              />\n            </Box>\n          </Grid>\n          <Grid item sm={6} md={3} xs={12}>\n            <Box>\n              <Typography noWrap className={classes.titulos}>\n                <span className={classes.required}>* </span>Precio con impuestos\n              </Typography>\n              <TextField\n                fullWidth\n                disabled={!precios.iva_activo && !precios.ieps_activo}\n                type=\"number\"\n                InputProps={{\n                  inputProps: { min: 0 },\n                  startAdornment: (\n                    <InputAdornment position=\"start\">$</InputAdornment>\n                  ),\n                }}\n                size=\"small\"\n                error={validacion.error && !precioConImpuesto}\n                name=\"precio_con_impuesto\"\n                id=\"form-producto-precio_con_impuesto\"\n                variant=\"outlined\"\n                value={precioConImpuesto}\n                helperText={validacion.message}\n                onChange={(e) => setPrecioConImpuesto(e.target.value)}\n                onFocus={(e) => {\n                  const { value } = e.target;\n                  if (parseFloat(value) === 0) {\n                    setPrecioConImpuesto(\"\");\n                  }\n                }}\n                onBlur={(e) => {\n                  const { value } = e.target;\n                  if (!value) {\n                    setPrecioConImpuesto(0);\n                  }\n                }}\n              />\n            </Box>\n          </Grid>\n        </Grid>\n        <Box my={3} />\n        <Grid container spacing={2}>\n          <Grid item md={2} xs={12}>\n            <Box>\n              <Typography align=\"center\" className={classes.titulos}>\n                IVA\n              </Typography>\n              <Typography align=\"center\" variant=\"h6\">\n                <b>$ {parseFloat(precios.precio_de_compra.iva).toFixed(2)}</b>\n              </Typography>\n            </Box>\n          </Grid>\n          <Grid item md={2} xs={12}>\n            <Box>\n              <Typography align=\"center\" className={classes.titulos}>\n                IEPS\n              </Typography>\n              <Typography align=\"center\" variant=\"h6\">\n                <b>$ {parseFloat(precios.precio_de_compra.ieps).toFixed(2)}</b>\n              </Typography>\n            </Box>\n          </Grid>\n          <Grid item md={4} xs={12}>\n            <Box>\n              <Typography align=\"center\" className={classes.titulos}>\n                Precio unitario sin impuestos\n              </Typography>\n              <Typography align=\"center\" variant=\"h6\">\n                <b>\n                  ${\" \"}\n                  {parseFloat(\n                    precios.unidad_de_compra.precio_unitario_sin_impuesto\n                  ).toFixed(2)}\n                </b>\n              </Typography>\n            </Box>\n          </Grid>\n          <Grid item md={4} xs={12}>\n            <Box>\n              <Typography align=\"center\" className={classes.titulos}>\n                Precio unitario con impuestos\n              </Typography>\n              <Typography align=\"center\" variant=\"h6\">\n                <b>\n                  ${\" \"}\n                  {parseFloat(\n                    precios.unidad_de_compra.precio_unitario_con_impuesto\n                  ).toFixed(2)}\n                </b>\n              </Typography>\n            </Box>\n          </Grid>\n        </Grid>\n        <Box my={2}>\n          <Typography>\n            <b>Precios de venta</b>\n          </Typography>\n          <Divider />\n        </Box>\n\n        <Box display=\"flex\">\n          <PreciosDeVenta />\n        </Box>\n        <Box my={2}>\n          <Typography>\n            <b>Unidades de venta</b>\n          </Typography>\n          <Divider />\n        </Box>\n        <Box>\n          <PreciosDeCompra />\n        </Box>\n      </div>\n    </Box>\n  );\n}\n","import React, { createContext, useState } from \"react\";\nimport { initial_state_precios } from \"../Catalogos/initialStatesProducto\";\nimport moment from \"moment\";\n\nexport const ComprasContext = createContext();\n\nexport const ComprasProvider = ({ children }) => {\n  const [datosProducto, setDatosProducto] = useState({\n    producto: {},\n    costo: 0,\n    cantidad: 1,\n    cantidad_regalo: 0,\n    unidad_regalo: \"\",\n    cantidad_total: 0,\n    descuento_porcentaje: 0,\n    descuento_precio: 0,\n    iva_total: 0,\n    ieps_total: 0,\n    subtotal: 0,\n    impuestos: 0,\n    total: 0,\n    mantener_precio: true,\n    subtotal_descuento: 0,\n    total_descuento: 0,\n  });\n\n  const [datosCompra, setDatosCompra] = useState({\n    productos: [],\n    proveedor: {},\n    en_espera: false,\n    fecha_registro: moment().locale(\"es-mx\").format(\"YYYY-MM-DD\"),\n    almacen: {},\n    compra_credito: false,\n    fecha_vencimiento_credito: moment().locale(\"es-mx\").format(\"YYYY-MM-DD\"),\n    credito_pagado: false,\n    saldo_credito_pendiente: 0,\n    forma_pago: \"\",\n    descuento_aplicado: false,\n    descuento: {\n      porcentaje: 0,\n      cantidad_descontada: 0,\n      precio_con_descuento: 0,\n    },\n    subtotal: 0,\n    impuestos: 0,\n    total: 0,\n  });\n\n  const [preciosVenta, setPreciosVenta] = useState([\n    {\n      numero_precio: 1,\n      utilidad: 0,\n      precio_neto: 0,\n      unidad_mayoreo: 0,\n      precio_venta: 0,\n      iva_precio: 0,\n      ieps_precio: 0,\n    },\n    {\n      numero_precio: 2,\n      utilidad: 0,\n      precio_neto: 0,\n      unidad_mayoreo: 0,\n      precio_venta: 0,\n      iva_precio: 0,\n      ieps_precio: 0,\n    },\n    {\n      numero_precio: 3,\n      utilidad: 0,\n      precio_neto: 0,\n      unidad_mayoreo: 0,\n      precio_venta: 0,\n      iva_precio: 0,\n      ieps_precio: 0,\n    },\n    {\n      numero_precio: 4,\n      utilidad: 0,\n      precio_neto: 0,\n      unidad_mayoreo: 0,\n      precio_venta: 0,\n      iva_precio: 0,\n      ieps_precio: 0,\n    },\n    {\n      numero_precio: 5,\n      utilidad: 0,\n      precio_neto: 0,\n      unidad_mayoreo: 0,\n      precio_venta: 0,\n      iva_precio: 0,\n      ieps_precio: 0,\n    },\n    {\n      numero_precio: 6,\n      utilidad: 0,\n      precio_neto: 0,\n      unidad_mayoreo: 0,\n      precio_venta: 0,\n      iva_precio: 0,\n      ieps_precio: 0,\n    },\n  ]);\n\n  const [productoOriginal, setProductoOriginal] = useState({\n    precios: initial_state_precios,\n  });\n  const [productosCompra, setProductosCompra] = useState([]);\n  const [isEditing, setIsEditing] = useState({});\n  const [editFinish, setEditFinish] = useState(false);\n  const [costo, setCosto] = useState(0);\n  const [cantidad, setCantidad] = useState(1);\n  const [issue, setIssue] = useState(false);\n  const [loadingProductos, setLoadingProductos] = useState(false);\n\n  const [descuentoCompra, setDescuentoCompra] = useState({\n    subtotal: 0,\n    total: 0,\n    descuento_aplicado: false,\n    porcentaje: 0,\n    cantidad_descontada: 0,\n    precio_con_descuento: 0,\n  });\n\n  return (\n    <ComprasContext.Provider\n      value={{\n        datosProducto,\n        setDatosProducto,\n        productosCompra,\n        setProductosCompra,\n        datosCompra,\n        setDatosCompra,\n        productoOriginal,\n        setProductoOriginal,\n        preciosVenta,\n        setPreciosVenta,\n        isEditing,\n        setIsEditing,\n        editFinish,\n        setEditFinish,\n        costo,\n        setCosto,\n        cantidad,\n        setCantidad,\n        issue,\n        setIssue,\n        loadingProductos,\n        setLoadingProductos,\n        descuentoCompra,\n        setDescuentoCompra,\n      }}\n    >\n      {children}\n    </ComprasContext.Provider>\n  );\n};\n","import React, {\n  Fragment,\n  useContext,\n  useEffect,\n  useRef,\n  useState,\n} from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Input from \"@material-ui/core/Input\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Checkbox from \"@material-ui/core/Checkbox\";\nimport { RegProductoContext } from \"../../../../../context/Catalogos/CtxRegProducto\";\nimport {\n  Box,\n  Chip,\n  IconButton,\n  Tooltip,\n  Typography,\n  Zoom,\n} from \"@material-ui/core\";\nimport {\n  Cached,\n  Close,\n  Edit,\n  LocalOffer,\n  LocalOfferOutlined,\n} from \"@material-ui/icons\";\nimport { alpha } from \"@material-ui/core/styles/colorManipulator\";\n\nconst compareFunction = (a, b) => {\n  if (a.medida.talla && b.medida.talla) {\n    return a.medida.talla.localeCompare(b.medida.talla);\n  }\n};\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: \"100%\",\n  },\n  paper: {\n    width: \"100%\",\n    marginBottom: theme.spacing(2),\n  },\n  table: {\n    minWidth: 750,\n  },\n  container: {\n    maxHeight: \"65vh\",\n  },\n  tableRow: {\n    \"&.Mui-selected, &.Mui-selected:hover\": {\n      backgroundColor: alpha(theme.palette.primary.main, 0.1),\n    },\n  },\n  visuallyHidden: {\n    border: 0,\n    clip: \"rect(0 0 0 0)\",\n    height: 1,\n    margin: -1,\n    overflow: \"hidden\",\n    padding: 0,\n    position: \"absolute\",\n    top: 20,\n    width: 1,\n  },\n  colorContainer: {\n    border: \"1px solid rgba(0,0,0, .3)\",\n    height: 30,\n    width: 30,\n    borderRadius: \"15%\",\n  },\n  input: {\n    \"& input[type=number]\": {\n      \"-moz-appearance\": \"textfield\",\n    },\n    \"& input[type=number]::-webkit-outer-spin-button\": {\n      \"-webkit-appearance\": \"none\",\n      margin: 0,\n    },\n    \"& input[type=number]::-webkit-inner-spin-button\": {\n      \"-webkit-appearance\": \"none\",\n      margin: 0,\n    },\n  },\n}));\n\nexport default function TablaPresentaciones({\n  from,\n  setOnUpdate,\n  onUpdate,\n  withoutPrice,\n  onlyPrice,\n}) {\n  const classes = useStyles();\n  const { presentaciones, setPresentaciones } = useContext(RegProductoContext);\n\n  let mostrar_presentaciones = [...presentaciones].sort((a, b) =>\n    compareFunction(a, b)\n  );\n\n  /* useEffect(() => {\n    let nuevo_array = [];\n    mostrar_presentaciones.forEach((element) => {\n      let obj = {\n        codigo_barras: element.codigo_barras,\n        cantidad: parseFloat(element.cantidad),\n        descuento: element.descuento,\n        descuento_activo: element.descuento_activo,\n        color: element.color,\n        existencia: element.existencia,\n        medida: element.medida,\n        nombre_comercial: element.nombre_comercial,\n      };\n\n      if (element.descuento_activo === true) {\n        obj.aplicar_descuento = true;\n        obj.precio = parseFloat(element.descuento.precio_neto);\n      } else {\n        obj.aplicar_descuento = false;\n        obj.precio = parseFloat(element.precio);\n      }\n      nuevo_array.push(obj);\n    });\n    setPresentaciones(nuevo_array);\n  }, []); */\n\n  return (\n    <div className={classes.root}>\n      <Paper className={classes.paper}>\n        <TableContainer className={classes.container}>\n          <Table\n            className={classes.table}\n            aria-labelledby=\"tableTitle\"\n            size=\"small\"\n            aria-label=\"enhanced table\"\n            stickyHeader\n          >\n            <TableHead>\n              <TableRow>\n                <TableCell>Existencia</TableCell>\n                <TableCell>Código de barras</TableCell>\n                <TableCell width={200}>Nombre</TableCell>\n                <TableCell padding=\"checkbox\">Medida</TableCell>\n                <TableCell padding=\"checkbox\">Color</TableCell>\n                {!withoutPrice ? (\n                  <Fragment>\n                    <TableCell>Precio</TableCell>\n                    <TableCell padding=\"checkbox\">Aplicar descuento</TableCell>\n                  </Fragment>\n                ) : null}\n                {!onlyPrice ? (\n                  <Fragment>\n                    {from && from === \"compra\" ? (\n                      <TableCell padding=\"checkbox\">Existente</TableCell>\n                    ) : null}\n                    <TableCell padding=\"checkbox\">Cantidad</TableCell>\n                  </Fragment>\n                ) : null}\n                <TableCell padding=\"checkbox\">Editar</TableCell>\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {mostrar_presentaciones.map((producto, index) => {\n                return (\n                  <RenderPresentacionesRows\n                    key={index}\n                    producto={producto}\n                    index={index}\n                    from={from}\n                    setOnUpdate={setOnUpdate}\n                    onUpdate={onUpdate}\n                    withoutPrice={withoutPrice}\n                    onlyPrice={onlyPrice}\n                  />\n                );\n              })}\n            </TableBody>\n          </Table>\n        </TableContainer>\n      </Paper>\n    </div>\n  );\n}\n\nconst RenderPresentacionesRows = ({\n  producto,\n  index,\n  from,\n  setOnUpdate,\n  onUpdate,\n  withoutPrice,\n  onlyPrice,\n}) => {\n  const { presentaciones, setPresentaciones, preciosP, precios } = useContext(\n    RegProductoContext\n  );\n  const [disabledInput, setDisabledInput] = useState(true);\n  const classes = useStyles();\n  const textfield = useRef(null);\n\n  const copy_presentaciones = [...presentaciones].sort((a, b) =>\n    compareFunction(a, b)\n  );\n  const copy_element_presentacion = { ...copy_presentaciones[index] };\n  const copy_element_presentacion_descuento = {\n    ...copy_presentaciones[index].descuento,\n  };\n  const copy_producto = { ...producto };\n\n  /* if(from && from === 'compra'){\n\t\tcopy_producto.cantidad_nueva = 0\n\t} */\n\n  const handleEditCancel = () => {\n    if (!copy_producto.cantidad) {\n      copy_element_presentacion.cantidad = 0;\n    }\n    if (!copy_producto.cantidad_nueva) {\n      copy_element_presentacion.cantidad_nueva = 0;\n    }\n    if (!copy_producto.precio) {\n      copy_element_presentacion.precio = preciosP[0].precio_neto;\n    }\n    copy_presentaciones.splice(index, 1, copy_element_presentacion);\n    setPresentaciones(copy_presentaciones);\n    setDisabledInput(true);\n  };\n\n  const obtenerDatos = (e) => {\n    const { name, value } = e.target;\n    if (name === \"cantidad\") {\n      if (!value) {\n        copy_element_presentacion.cantidad = \"\";\n        copy_element_presentacion.existencia = false;\n        copy_presentaciones.splice(index, 1, copy_element_presentacion);\n        setPresentaciones(copy_presentaciones);\n        return;\n      }\n      if (value === \"0\") {\n        copy_element_presentacion.existencia = false;\n      } else {\n        copy_element_presentacion.existencia = true;\n      }\n      copy_element_presentacion.cantidad = parseFloat(value);\n    } else if (name === \"cantidad_nueva\") {\n      if (!value) {\n        copy_element_presentacion.cantidad_nueva = \"\";\n        copy_element_presentacion.existencia = copy_producto.existencia;\n        copy_presentaciones.splice(index, 1, copy_element_presentacion);\n        setPresentaciones(copy_presentaciones);\n        return;\n      }\n      copy_element_presentacion.cantidad_nueva = parseFloat(value);\n      copy_element_presentacion.existencia = true;\n    } else if (name === \"precio\") {\n      if (!value) {\n        copy_element_presentacion.precio = \"\";\n        copy_presentaciones.splice(index, 1, copy_element_presentacion);\n        setPresentaciones(copy_presentaciones);\n        return;\n      }\n      let precio_neto = parseFloat(value);\n      let { iva, ieps } = precios;\n      let suma_impuestos = parseFloat(`0.${iva < 10 ? `0${iva}` : iva}`) + parseFloat(`0.${ieps < 10 ? `0${ieps}` : ieps}`);\n      let precio_venta = parseFloat((precio_neto / (suma_impuestos+1)).toFixed(2));\n      let iva_precio = parseFloat((precio_venta * parseFloat(`0.${iva < 10 ? `0${iva}` : iva}`)).toFixed(2));\n      let ieps_precio = parseFloat((precio_venta * parseFloat(`0.${ieps < 10 ? `0${ieps}` : ieps}`)).toFixed(2));\n      let PUCSI = precios.unidad_de_compra.precio_unitario_sin_impuesto;\n      let utilidad = parseFloat((((precio_venta - PUCSI) / PUCSI) * 100).toFixed(2));\n      \n\n      let {descuento_activo, descuento} = copy_element_presentacion;\n      if (descuento_activo && descuento_activo === true) {\n        let new_precio_venta_desc = (precio_venta * descuento.porciento) / 100;\n        let new_iva_precio =\n          new_precio_venta_desc * parseFloat(`0.${iva < 10 ? `0${iva}` : iva}`);\n        let new_ieps_precio =\n          new_precio_venta_desc * parseFloat(`0.${ieps < 10 ? `0${ieps}` : ieps}`);\n        let new_impuestos = new_iva_precio + new_ieps_precio;\n        let precio_con_descuento = new_precio_venta_desc + new_impuestos;\n\n        copy_element_presentacion_descuento.precio_neto = parseFloat(\n          (precio_con_descuento).toFixed(2)\n        );\n        copy_element_presentacion.precio = parseFloat(value);\n        copy_element_presentacion.descuento = copy_element_presentacion_descuento;\n      } else {\n        copy_element_presentacion.precio = parseFloat(value);\n      }\n      copy_element_presentacion.precio_unidad.precio_venta = precio_venta;\n      copy_element_presentacion.precio_unidad.precio_neto = precio_neto;\n      copy_element_presentacion.precio_unidad.utilidad = utilidad;\n      copy_element_presentacion.precio_unidad.iva_precio = iva_precio;\n      copy_element_presentacion.precio_unidad.ieps_precio = ieps_precio;\n    } else {\n      if (!value) {\n        copy_element_presentacion.codigo_barras = \"\";\n        copy_presentaciones.splice(index, 1, copy_element_presentacion);\n        setPresentaciones(copy_presentaciones);\n        return;\n      }\n      copy_element_presentacion.codigo_barras = value;\n    }\n    copy_presentaciones.splice(index, 1, copy_element_presentacion);\n    setPresentaciones(copy_presentaciones);\n  };\n\n  const GenCodigoBarras = () => {\n    const max = 999999999999;\n    const min = 100000000000;\n    const codigo_barras = Math.floor(\n      Math.random() * (max - min + 1) + min\n    ).toString();\n    copy_element_presentacion.codigo_barras = codigo_barras;\n    copy_presentaciones.splice(index, 1, copy_element_presentacion);\n    setPresentaciones(copy_presentaciones);\n  };\n\n  const actionButton = () => {\n    if (!disabledInput) {\n      handleEditCancel();\n      /* quitar del array\t */\n      onUpdate.splice(onUpdate.length - 1, 1);\n      setOnUpdate([...onUpdate]);\n    } else {\n      setDisabledInput(!disabledInput);\n      /*  agregar al array */\n      setOnUpdate([...onUpdate, index]);\n    }\n  };\n\n  const aplicarDescuento = (value) => {\n    copy_element_presentacion.descuento_activo = value;\n\n    let precio_con_descuento = 0;\n    let { iva, ieps } = precios;\n    let {descuento, precio} = copy_element_presentacion;\n    let suma =\n      parseFloat(`0.${iva < 10 ? `0${iva}` : iva}`) +\n      parseFloat(`0.${ieps < 10 ? `0${ieps}` : ieps}`);\n    let precio_venta = parseFloat((precio / (suma + 1)).toFixed(2));\n\n    if(value){\n      let new_precio_venta_desc = (precio_venta * descuento.porciento) / 100;\n        let new_iva_precio =\n          new_precio_venta_desc * parseFloat(`0.${iva < 10 ? `0${iva}` : iva}`);\n        let new_ieps_precio =\n          new_precio_venta_desc * parseFloat(`0.${ieps < 10 ? `0${ieps}` : ieps}`);\n        let new_impuestos = new_iva_precio + new_ieps_precio;\n        precio_con_descuento = new_precio_venta_desc + new_impuestos;\n    }else{\n      precio_con_descuento = precio\n    }\n    \n    copy_element_presentacion_descuento.precio_neto = parseFloat(\n      (precio_con_descuento).toFixed(2)\n    );\n    /* copy_element_presentacion.precio = parseFloat(value); */\n    copy_element_presentacion.descuento = copy_element_presentacion_descuento;\n  \n    copy_presentaciones.splice(index, 1, copy_element_presentacion);\n    setPresentaciones(copy_presentaciones);\n  };\n\n  return (\n    <TableRow hover selected={!disabledInput} className={classes.tableRow}>\n      <TableCell align=\"center\" padding=\"checkbox\">\n        <Checkbox checked={copy_producto.existencia} color=\"primary\" />\n      </TableCell>\n      <TableCell width={220}>\n        <Box display=\"flex\">\n          <Input\n            inputRef={textfield}\n            onChange={(e) => obtenerDatos(e)}\n            /* disabled={disabledInput} */\n            value={copy_producto.codigo_barras}\n            type=\"number\"\n            name=\"codigo_barras\"\n            disabled={\n              presentaciones.length > 0 && !copy_producto.nuevo\n                ? true\n                : disabledInput\n            }\n          />\n          {presentaciones.length === 0 && copy_producto.nuevo ? (\n            <IconButton\n              color=\"primary\"\n              size=\"small\"\n              onClick={() => GenCodigoBarras()}\n            >\n              <Cached />\n            </IconButton>\n          ) : presentaciones.length > 0 && copy_producto.nuevo ? (\n            <IconButton\n              color=\"primary\"\n              size=\"small\"\n              onClick={() => GenCodigoBarras()}\n            >\n              <Cached />\n            </IconButton>\n          ) : null}\n        </Box>\n      </TableCell>\n      <TableCell width={200}>{copy_producto.nombre_comercial}</TableCell>\n      <TableCell padding=\"checkbox\">\n        {copy_producto.medida._id ? (\n          <Chip label={copy_producto.medida.talla} color=\"primary\" />\n        ) : (\n          \"\"\n        )}\n      </TableCell>\n      <TableCell padding=\"checkbox\">\n        {copy_producto.color._id ? (\n          <Tooltip\n            title={copy_producto.color.nombre}\n            placement=\"top\"\n            arrow\n            TransitionComponent={Zoom}\n          >\n            <div\n              className={classes.colorContainer}\n              style={{\n                backgroundColor: copy_producto.color.hex,\n              }}\n            />\n          </Tooltip>\n        ) : null}\n      </TableCell>\n      {!withoutPrice ? (\n        <Fragment>\n          <TableCell width={110} className={classes.input}>\n            <Input\n              inputRef={textfield}\n              onChange={(e) => obtenerDatos(e)}\n              disabled={disabledInput}\n              value={copy_producto.precio}\n              type=\"number\"\n              name=\"precio\"\n            />\n          </TableCell>\n          <TableCell width={200}>\n            <Box display=\"flex\" alignItems=\"center\">\n              {copy_producto.descuento_activo !== undefined &&\n              copy_producto.descuento_activo !== null ? (\n                <Fragment>\n                  <Checkbox\n                    checked={\n                      copy_producto.descuento_activo === true\n                        ? copy_producto.descuento_activo\n                        : false\n                    }\n                    onChange={(e) => aplicarDescuento(e.target.checked)}\n                    icon={<LocalOfferOutlined />}\n                    checkedIcon={<LocalOffer />}\n                    inputProps={{ \"aria-label\": \"check descuento\" }}\n                    color=\"primary\"\n                    disabled={copy_producto.descuento_activo === null}\n                  />\n                  <Typography\n                    color={\n                      copy_producto.descuento_activo === true\n                        ? \"primary\"\n                        : \"textSecondary\"\n                    }\n                  >\n                    %\n                    {parseFloat(\n                      copy_producto.descuento !== null\n                        ? copy_producto.descuento.porciento\n                        : 0\n                    )}{\" \"}\n                    $\n                    {parseFloat(\n                      copy_producto.descuento !== null\n                        ? copy_producto.descuento.precio_neto\n                        : 0\n                    )}\n                  </Typography>\n                </Fragment>\n              ) : null}\n            </Box>\n          </TableCell>\n        </Fragment>\n      ) : null}\n      {!onlyPrice ? (\n        <Fragment>\n          {from && from === \"compra\" ? (\n            <Fragment>\n              <TableCell padding=\"checkbox\">{producto.cantidad}</TableCell>\n              <TableCell padding=\"checkbox\">\n                <Input\n                  inputRef={textfield}\n                  onChange={(e) => obtenerDatos(e)}\n                  disabled={disabledInput}\n                  value={copy_producto.cantidad_nueva}\n                  type=\"tel\"\n                  name=\"cantidad_nueva\"\n                />\n              </TableCell>\n            </Fragment>\n          ) : (\n            <TableCell padding=\"checkbox\">\n              <Input\n                inputRef={textfield}\n                onChange={(e) => obtenerDatos(e)}\n                disabled={disabledInput}\n                value={copy_producto.cantidad}\n                type=\"tel\"\n                name=\"cantidad\"\n              />\n            </TableCell>\n          )}\n        </Fragment>\n      ) : null}\n      <TableCell padding=\"checkbox\">\n        <IconButton size=\"small\" onClick={() => actionButton()}>\n          {!disabledInput ? <Close /> : <Edit />}\n        </IconButton>\n      </TableCell>\n    </TableRow>\n  );\n};\n","import React, { Fragment, useContext, useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Tabs from \"@material-ui/core/Tabs\";\nimport Tab from \"@material-ui/core/Tab\";\nimport Box from \"@material-ui/core/Box\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport Slide from \"@material-ui/core/Slide\";\nimport FormularioPrecios from \"../../../Catalogos/Producto/PreciosVenta/registrarInfoAdicional\";\nimport { Close, LocalAtm, SquareFoot } from \"@material-ui/icons\";\nimport { ComprasContext } from \"../../../../../context/Compras/comprasContext\";\nimport Done from \"@material-ui/icons/Done\";\nimport { RegProductoContext } from \"../../../../../context/Catalogos/CtxRegProducto\";\nimport { CircularProgress, DialogTitle } from \"@material-ui/core\";\nimport TablaPresentaciones from \"../../../Catalogos/Producto/TallasColores/TablaPresentaciones\";\nimport { initial_state_unidadVentaSecundaria, initial_state_unidadVentaXDefecto } from \"../../../../../context/Catalogos/initialStatesProducto\";\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nfunction TabPanel(props) {\n  const { children, value, index, ...other } = props;\n\n  return (\n    <div\n      style={{ height: \"80vh\" }}\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`scrollable-force-tabpanel-${index}`}\n      aria-labelledby={`scrollable-force-tab-${index}`}\n      {...other}\n    >\n      {value === index && <Box p={3}>{children}</Box>}\n    </div>\n  );\n}\n\nTabPanel.propTypes = {\n  children: PropTypes.node,\n  index: PropTypes.any.isRequired,\n  value: PropTypes.any.isRequired,\n};\n\nfunction a11yProps(index) {\n  return {\n    id: `scrollable-force-tab-${index}`,\n    \"aria-controls\": `scrollable-force-tabpanel-${index}`,\n  };\n}\n\nexport default function AlertDialogSlide({ agregarCompra, handleClose, cargando }) {\n  const [open, setOpen] = useState(false);\n  const [onUpdate, setOnUpdate] = useState([]);\n  const { datosProducto, productoOriginal /* setDatosProducto */ } = useContext(\n    ComprasContext\n  );\n  const {\n    precios,\n    setPrecios,\n    setUnidadesVenta,\n    setPreciosP,\n    setUnidadVentaXDefecto,\n    setUnidadVentaSecundaria\n  } = useContext(RegProductoContext);\n\n  const toggleDrawer = () => setOpen(!open);\n\n  const resetProducto = () => {\n    /* SET STATES WHEN UPDATING */\n    const { precios_producto, ...new_precios } = productoOriginal.precios;\n    const { unidades_de_venta } = productoOriginal;\n    let unidades_secundaria = productoOriginal.unidades_de_venta.filter(\n      (res) => res.default === false\n    );\n    let unidadxdefecto = productoOriginal.unidades_de_venta.filter(\n      (res) => res.default === true\n    );\n    /* setDatosProducto({...datosProducto, mantener_precio: true}) */\n    setPrecios(new_precios);\n    setUnidadesVenta(unidades_de_venta);\n    setPreciosP(productoOriginal.precios.precios_producto);\n    setUnidadVentaXDefecto(unidadxdefecto[0]);\n    setUnidadVentaSecundaria(unidades_secundaria[0]);\n    toggleDrawer();\n  };\n\n  const actualizarContextProducto = () => {\n    toggleDrawer();\n    let precio_unitario_con_impuesto =\n      datosProducto.costo / precios.unidad_de_compra.cantidad;\n    let precio_unitario_sin_impuesto =\n      precios.precio_de_compra.precio_sin_impuesto /\n      precios.unidad_de_compra.cantidad;\n\n    if (isNaN(precio_unitario_sin_impuesto)) precio_unitario_sin_impuesto = 0;\n    if (isNaN(precio_unitario_con_impuesto)) precio_unitario_con_impuesto = 0;\n\n    setPrecios({\n      ...precios,\n      precio_de_compra: {\n        ...precios.precio_de_compra,\n        precio_con_impuesto: datosProducto.costo,\n      },\n      unidad_de_compra: {\n        ...precios.unidad_de_compra,\n        precio_unitario_con_impuesto: parseFloat(\n          precio_unitario_con_impuesto.toFixed(6)\n        ),\n        precio_unitario_sin_impuesto: parseFloat(\n          precio_unitario_sin_impuesto.toFixed(6)\n        ),\n      },\n    });\n  };\n\n  const [value, setValue] = useState(0);\n\n  const handleChange = (event, newValue) => {\n    setValue(newValue);\n  };\n\n  return (\n    <Fragment>\n      <Button\n        color=\"primary\"\n        size=\"medium\"\n        onClick={() => actualizarContextProducto()}\n      >\n        Actualizar precios\n      </Button>\n      <Dialog\n        open={open}\n        TransitionComponent={Transition}\n        keepMounted\n        onClose={() => resetProducto()}\n        aria-labelledby=\"alert-precios-compra-title\"\n        aria-describedby=\"alert-precios-compra-description\"\n        fullWidth\n        maxWidth=\"lg\"\n      >\n        {datosProducto.producto.datos_generales &&\n        datosProducto.producto.datos_generales.tipo_producto !== \"OTROS\" ? (\n          <DialogTitle style={{ padding: 0 }}>\n            <AppBar position=\"static\" color=\"default\">\n              <Tabs\n                value={value}\n                onChange={handleChange}\n                variant=\"scrollable\"\n                scrollButtons=\"on\"\n                indicatorColor=\"primary\"\n                textColor=\"primary\"\n                aria-label=\"scrollable force tabs example\"\n              >\n                <Tab label=\"Precios\" icon={<LocalAtm />} {...a11yProps(0)} />\n                <Tab\n                  label=\"Precios Medidas\"\n                  icon={<SquareFoot />}\n                  {...a11yProps(1)}\n                />\n              </Tabs>\n            </AppBar>\n          </DialogTitle>\n        ) : null}\n        <DialogContent>\n          {datosProducto.producto.datos_generales &&\n          datosProducto.producto.datos_generales.tipo_producto !== \"OTROS\" ? (\n            <div>\n              <TabPanel value={value} index={0}>\n                <FormularioPrecios />\n              </TabPanel>\n              <TabPanel value={value} index={1}>\n                <TablaPresentaciones\n                  from=\"compras\"\n                  datos={datosProducto.producto}\n                  setOnUpdate={setOnUpdate}\n                  onUpdate={onUpdate}\n                  onlyPrice={true}\n                />\n              </TabPanel>\n            </div>\n          ) : (\n            <FormularioPrecios />\n          )}\n        </DialogContent>\n        <DialogActions>\n          <Button\n            color=\"inherit\"\n            size=\"large\"\n            startIcon={<Close />}\n            onClick={() => resetProducto()}\n          >\n            Cancelar\n          </Button>\n          <Button\n            size=\"large\"\n            onClick={() => {\n              /* setDatosProducto({...datosProducto, mantener_precio: false}) */\n              agregarCompra(\"actualizar_precios\");\n              handleClose();\n              toggleDrawer();\n            }}\n            startIcon={cargando ? <CircularProgress color=\"inherit\" size={20} /> : <Done />}\n            color=\"primary\"\n            variant=\"contained\"\n            disabled={!precios.precio_de_compra.precio_con_impuesto}\n          >\n            Aceptar y agregar compra\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </Fragment>\n  );\n}\n","import { gql } from \"@apollo/client\";\n\nexport const OBTENER_CONSULTAS = gql`\n  query obtenerConsultasProducto($empresa: ID!, $sucursal: ID!) {\n    obtenerConsultasProducto(empresa: $empresa, sucursal: $sucursal) {\n      categorias {\n        _id\n        categoria\n        subcategorias {\n          _id\n          subcategoria\n        }\n      }\n      departamentos {\n        _id\n        nombre_departamentos\n      }\n      marcas {\n        _id\n        nombre_marca\n      }\n      colores {\n        _id\n        nombre\n        hex\n      }\n      tallas {\n        _id\n        talla\n        tipo\n      }\n      calzados {\n        _id\n        talla\n        tipo\n      }\n      almacenes {\n        _id\n        nombre_almacen\n      }\n      centro_costos {\n        _id\n        cuenta\n        subcuentas {\n          _id\n          subcuenta\n        }\n      }\n      codigos {\n        _id\n        Name\n        Value\n      }\n    }\n  }\n`;\n\nexport const CREAR_PRODUCTO = gql`\n  mutation crearProducto($input: CrearProductoInput) {\n    crearProducto(input: $input) {\n      message\n    }\n  }\n`;\n\nexport const OBTENER_PRODUCTOS = gql`\n  query obtenerProductos(\n    $empresa: ID!\n    $sucursal: ID!\n    $filtro: String\n    $almacen: ID\n    $existencias: Boolean\n  ) {\n    obtenerProductos(\n      empresa: $empresa\n      sucursal: $sucursal\n      filtro: $filtro\n      almacen: $almacen\n      existencias: $existencias\n    ) {\n      _id\n      centro_de_costos {\n        id_cuenta\n        cuenta\n        id_subcuenta\n        subcuenta\n      }\n      unidades_de_venta {\n        _id\n        precio\n        cantidad\n        unidad\n        codigo_unidad\n        unidad_principal\n        codigo_barras\n        id_producto\n        descuento_activo\n        descuento {\n          cantidad_unidad\n          numero_precio\n          unidad_maxima\n          precio_general\n          precio_neto\n          precio_venta\n          iva_precio\n          ieps_precio\n          utilidad\n          porciento\n          dinero_descontado\n        }\n        default\n        precio_unidad {\n          numero_precio\n          precio_neto\n          precio_venta\n          iva_precio\n          ieps_precio\n          unidad_mayoreo\n          utilidad\n          precio_general\n          cantidad_unidad\n          unidad_maxima\n        }\n      }\n      datos_generales {\n        codigo_barras\n        clave_alterna\n        tipo_producto\n        nombre_comercial\n        nombre_generico\n        descripcion\n        id_categoria\n        categoria\n        subcategoria\n        id_subcategoria\n        id_departamento\n        departamento\n        id_marca\n        marca\n        clave_producto_sat {\n          Name\n          Value\n        }\n        receta_farmacia\n      }\n      empresa\n      imagenes {\n        location_imagen\n        extencion_imagen\n        url_imagen\n        key_imagen\n      }\n      precio_plazos {\n        precio_cajas {\n          plazo\n          unidad\n          precio\n          codigo_unidad\n        }\n        precio_piezas {\n          plazo\n          unidad\n          precio\n          codigo_unidad\n        }\n        precio_costales {\n          plazo\n          unidad\n          codigo_unidad\n          precio\n        }\n      }\n      precios {\n        ieps\n        ieps_activo\n        iva\n        iva_activo\n        monedero\n        monedero_electronico\n        precio_de_compra {\n          ieps\n          iva\n          precio_con_impuesto\n          precio_sin_impuesto\n        }\n        precios_producto {\n          numero_precio\n          precio_neto\n          precio_venta\n          iva_precio\n          ieps_precio\n          unidad_mayoreo\n          utilidad\n          precio_general\n          cantidad_unidad\n          unidad_maxima\n        }\n        unidad_de_compra {\n          cantidad\n          precio_unitario_con_impuesto\n          precio_unitario_sin_impuesto\n          unidad\n          codigo_unidad\n        }\n        inventario {\n          inventario_minimo\n          inventario_maximo\n          unidad_de_inventario\n          codigo_unidad\n        }\n        granel\n      }\n      medidas_producto {\n        _id\n        cantidad\n        almacen\n        descuento_activo\n        descuento {\n          cantidad_unidad\n          numero_precio\n          unidad_maxima\n          precio_general\n          precio_neto\n          precio_venta\n          iva_precio\n          ieps_precio\n          utilidad\n          porciento\n          dinero_descontado\n        }\n        codigo_barras\n        color {\n          _id\n          nombre\n          hex\n        }\n        existencia\n        medida {\n          _id\n          talla\n          tipo\n        }\n        nombre_comercial\n        precio\n        precio_unidad {\n          numero_precio\n          precio_neto\n          precio_venta\n          iva_precio\n          ieps_precio\n          unidad_mayoreo\n          utilidad\n          precio_general\n          cantidad_unidad\n          unidad_maxima\n        }\n      }\n      inventario_general {\n        _id\n        cantidad_existente\n        unidad_inventario\n        codigo_unidad\n        cantidad_existente_maxima\n        unidad_maxima\n        id_almacen_general\n        eliminado\n      }\n      medidas_registradas\n      sucursal\n      usuario\n    }\n  }\n`;\n\nexport const ACTUALIZAR_PRODUCTO = gql`\n  mutation actualizarProducto($id: ID!, $input: ActualizarProductoInput) {\n    actualizarProducto(id: $id, input: $input) {\n      message\n    }\n  }\n`;\n\nexport const ELIMINAR_PRODUCTO = gql`\n  mutation eliminarProducto($id: ID!) {\n    eliminarProducto(id: $id) {\n      message\n    }\n  }\n`;\n\nexport const PRODUCTOS_ELIMINADOS = gql`\n  query obtenerProductosInactivos($empresa: ID!, $sucursal: ID!) {\n    obtenerProductosInactivos(empresa: $empresa, sucursal: $sucursal) {\n      _id\n      producto {\n        _id\n        datos_generales {\n          codigo_barras\n          clave_alterna\n          tipo_producto\n          nombre_comercial\n          nombre_generico\n          descripcion\n          id_categoria\n          categoria\n          subcategoria\n          id_subcategoria\n          id_departamento\n          departamento\n          id_marca\n          marca\n          clave_producto_sat {\n            Name\n            Value\n          }\n          receta_farmacia\n        }\n        precios {\n          ieps\n          ieps_activo\n          iva\n          iva_activo\n          monedero\n          monedero_electronico\n          precio_de_compra {\n            ieps\n            iva\n            precio_con_impuesto\n            precio_sin_impuesto\n          }\n          precios_producto {\n            numero_precio\n            precio_neto\n            precio_venta\n            unidad_mayoreo\n            utilidad\n          }\n          unidad_de_compra {\n            cantidad\n            precio_unitario_con_impuesto\n            precio_unitario_sin_impuesto\n            unidad\n          }\n          inventario {\n            inventario_minimo\n            inventario_maximo\n            unidad_de_inventario\n          }\n          granel\n        }\n      }\n      cantidad_existente\n      unidad_de_inventario\n      id_almacen\n      eliminado\n      empresa\n      sucursal\n    }\n  }\n`;\n\nexport const ACTIVAR_PRODUCTOS = gql`\n  mutation activarProducto($id: ID!) {\n    activarProducto(id: $id) {\n      message\n    }\n  }\n`;\n\nexport const CREAR_PRODUCTO_RAPIDO = gql`\n  mutation crearProductoRapido($input: CrearProductoRapidoInput) {\n    crearProductoRapido(input: $input) {\n      message\n    }\n  }\n`;\n","import { gql } from '@apollo/client';\n\nexport const CREAR_COLOR = gql`\n\tmutation crearColor($input: CrearColorInput) {\n\t\tcrearColor(input: $input) {\n\t\t\t_id\n\t\t\tnombre\n\t\t\thex\n\t\t\tempresa {\n\t\t\t\tnombre_empresa\n\t\t\t\tcorreo_empresa\n\t\t\t\tnombre_dueno\n\t\t\t\ttelefono_dueno\n\t\t\t\tsucursales_activas\n\t\t\t\tlimite_sucursales\n\t\t\t\t_id\n\t\t\t}\n\t\t}\n\t}\n`;\n\nexport const OBTENER_COLORES = gql`\n\tquery obtenerColores($sucursal: String!) {\n\t\tobtenerColores(sucursal: $sucursal) {\n\t\t\t_id\n\t\t\tnombre\n\t\t\thex\n\t\t\tempresa {\n\t\t\t\tnombre_empresa\n\t\t\t\tcorreo_empresa\n\t\t\t\tnombre_dueno\n\t\t\t\ttelefono_dueno\n\t\t\t\tsucursales_activas\n\t\t\t\tlimite_sucursales\n\t\t\t\t_id\n\t\t\t}\n\t\t\tsucursal {\n\t\t\t\t_id\n\t\t\t\tnombre_sucursal\n\t\t\t\tdescripcion\n\t\t\t}\n\t\t}\n\t}\n`;\n\nexport const ACTUALIZAR_COLOR = gql`\n\tmutation actualizarColor($input: ActualizarColorInput, $id: ID!) {\n\t\tactualizarColor(id: $id, input: $input) {\n\t\t\tmessage\n\t\t}\n\t}\n`;\nexport const ELIMINAR_COLOR = gql`\n\tmutation eliminarColor($id: ID!) {\n\t\teliminarColor(id: $id) {\n\t\t\tmessage\n\t\t}\n\t}\n`;\n","import React, { useState, Fragment } from \"react\";\nimport {\n  Box,\n  Button,\n  TextField,\n  Typography,\n  Dialog,\n  DialogContent,\n  DialogActions,\n} from \"@material-ui/core\";\nimport { Add, Done } from \"@material-ui/icons\";\nimport { SketchPicker } from \"react-color\";\nimport SnackBarMessages from \"../../../../../components/SnackBarMessages\";\n\nimport { useMutation } from \"@apollo/client\";\nimport { CREAR_COLOR } from \"../../../../../gql/Catalogos/colores\";\n\nexport default function CrearColorProducto({ refetch }) {\n  const [color, setColor] = useState({});\n  const [values, setValues] = useState({ nombre: \"\", hex: \"\" });\n  const [alert, setAlert] = useState({ message: \"\", status: \"\", open: false });\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n  const [open, setOpen] = useState(false);\n\n  const toggleModal = () => setOpen(!open);\n\n  /* Mutations */\n  const [crearColor] = useMutation(CREAR_COLOR);\n\n  const handleChangeComplete = (color) => {\n    setColor(color);\n    setValues({\n      ...values,\n      hex: color.hex.toUpperCase(),\n    });\n  };\n\n  const GuardarDatosBD = async (e) => {\n    e.preventDefault();\n    if (!values.nombre || !values.hex) {\n      return;\n    }\n    try {\n      const colores = values;\n      await crearColor({\n        variables: {\n          input: {\n            nombre: colores.nombre,\n            hex: colores.hex,\n            empresa: sesion.empresa._id,\n            sucursal: sesion.sucursal._id,\n          },\n        },\n      });\n      refetch();\n      setValues({ nombre: \"\", hex: \"\" });\n      setAlert({ message: \"¡Listo!\", status: \"success\", open: true });\n      toggleModal();\n    } catch (error) {\n      setAlert({ message: \"Hubo un error\", status: \"error\", open: true });\n    }\n  };\n\n  return (\n    <Fragment>\n      <Box display=\"flex\" justifyContent=\"flex-end\">\n        <Button color=\"primary\" onClick={() => toggleModal()}>\n          <Add />\n          nuevo color\n        </Button>\n      </Box>\n      <Dialog\n        open={open}\n        /* onClose={() => toggleModal()} */\n        scroll=\"paper\"\n        disableEscapeKeyDown\n        onClose={(event, reason) => {\n          if (reason !== \"backdropClick\") {\n            toggleModal();\n          }\n        }}\n      >\n        <DialogContent>\n          <Box>\n            <SnackBarMessages alert={alert} setAlert={setAlert} />\n            <SketchPicker\n              color={color}\n              onChangeComplete={handleChangeComplete}\n            />\n            <Box mt={2}>\n              <Typography>Color seleccionado:</Typography>\n              {!values.hex ? (\n                <Box display=\"flex\" justifyContent=\"center\" width={220}>\n                  <Typography color=\"secondary\">NINGUNO</Typography>\n                </Box>\n              ) : (\n                <Box bgcolor={values.hex} height={30} width={220} />\n              )}\n            </Box>\n            <Box my={2}>\n              <form\n                id=\"form-registro-color\"\n                onSubmit={(e) => GuardarDatosBD(e)}\n              >\n                <TextField\n                  label=\"Nombre del color\"\n                  variant=\"outlined\"\n                  size=\"small\"\n                  value={values.nombre}\n                  onChange={(e) =>\n                    setValues({\n                      ...values,\n                      nombre: e.target.value.toUpperCase(),\n                    })\n                  }\n                  fullWidth\n                  focused\n                />\n              </form>\n            </Box>\n          </Box>\n        </DialogContent>\n        <DialogActions>\n          <Button\n            variant=\"outlined\"\n            color=\"primary\"\n            onClick={() => toggleModal()}\n            size=\"large\"\n          >\n            Cancelar\n          </Button>\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            type=\"submit\"\n            form=\"form-registro-color\"\n            size=\"large\"\n            startIcon={<Done />}\n          >\n            Guardar\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </Fragment>\n  );\n}\n","import { gql } from '@apollo/client';\n\nexport const CREAR_TALLAS = gql`\n\tmutation crearTalla($input: CrearTallaInput) {\n\t\tcrearTalla(input: $input) {\n\t\t\tmessage\n\t\t}\n\t}\n`;\n\nexport const OBTENER_TALLAS = gql`\n\tquery obtenerTallas($sucursal: String!, $tipo: String! ) {\n\t\tobtenerTallas(sucursal: $sucursal, tipo: $tipo) {\n\t\t\t_id\n\t\t\ttalla\n\t\t\ttipo\n\t\t\tempresa {\n\t\t\t\tnombre_empresa\n\t\t\t\tcorreo_empresa\n\t\t\t\tnombre_dueno\n\t\t\t\ttelefono_dueno\n\t\t\t\tsucursales_activas\n\t\t\t\tlimite_sucursales\n\t\t\t\t_id\n\t\t\t}\n\t\t}\n\t}\n`;\n\nexport const ACTUALIZAR_TALLA = gql`\n\tmutation actualizarTalla($input: ActualizarTallaInput, $id: ID!) {\n\t\tactualizarTalla(id: $id, input: $input) {\n\t\t\tmessage\n\t\t}\n\t}\n`;\nexport const ELIMINAR_TALLA = gql`\n\tmutation eliminarTalla($input: ActualizarTallaInput,$id: ID!) {\n\t\teliminarTalla(id: $id, input: $input) {\n\t\t\tmessage\n\t\t}\n\t}\n`;\n","import React, { useState, Fragment, useContext } from \"react\";\nimport {\n  Box,\n  Button,\n  TextField,\n  Dialog,\n  DialogContent,\n  DialogActions,\n} from \"@material-ui/core\";\nimport { Add, Done } from \"@material-ui/icons\";\nimport SnackBarMessages from \"../../../../../components/SnackBarMessages\";\n\nimport { useMutation } from \"@apollo/client\";\nimport { CREAR_TALLAS } from \"../../../../../gql/Catalogos/tallas\";\nimport { RegProductoContext } from \"../../../../../context/Catalogos/CtxRegProducto\";\n\nexport default function CrearTallasProducto({\n  setMedidasSeleccionadas,\n  refetch,\n}) {\n  const [value, setValue] = useState(\"\");\n  const [open, setOpen] = useState(false);\n  const [alert, setAlert] = useState({ message: \"\", status: \"\", open: false });\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n  const { datos_generales } = useContext(RegProductoContext);\n\n  const [crearTalla] = useMutation(CREAR_TALLAS);\n\n  const toggleModal = () => setOpen(!open);\n\n  const GuardarDatosBD = async (e) => {\n    e.preventDefault();\n    if (!value) {\n      return;\n    }\n    try {\n      const nueva_talla = value;\n      await crearTalla({\n        variables: {\n          input: {\n            talla: nueva_talla,\n            tipo: datos_generales.tipo_producto,\n            empresa: sesion.empresa._id,\n            sucursal: sesion.sucursal._id,\n          },\n        },\n      });\n      refetch();\n      setMedidasSeleccionadas([nueva_talla]);\n      setValue(\"\");\n      setAlert({ message: \"¡Listo!\", status: \"success\", open: true });\n      toggleModal();\n    } catch (error) {\n      setAlert({ message: \"Hubo un error\", status: \"error\", open: true });\n    }\n  };\n\n  return (\n    <Fragment>\n      <Box display=\"flex\" justifyContent=\"flex-end\">\n        <Button color=\"primary\" onClick={() => toggleModal()}>\n          <Add /> Nueva talla\n        </Button>\n      </Box>\n      <Dialog\n        open={open}\n        scroll=\"paper\"\n        disableEscapeKeyDown\n        onClose={(event, reason) => {\n          if (reason !== \"backdropClick\") {\n            toggleModal();\n          }\n        }}\n      >\n        <DialogContent>\n          <Box>\n            <SnackBarMessages alert={alert} setAlert={setAlert} />\n            <Box\n              display=\"flex\"\n              justifyContent=\"center\"\n              alignItems=\"center\"\n              my={2}\n            >\n              <form\n                id=\"form-registro-color\"\n                onSubmit={(e) => GuardarDatosBD(e)}\n              >\n                <TextField\n                  id=\"outlined-error-helper-text\"\n                  label={\n                    datos_generales.tipo_producto === \"ROPA\"\n                      ? \"Talla\"\n                      : \"Número\"\n                  }\n                  variant=\"outlined\"\n                  size=\"small\"\n                  focused\n                  fullWidth\n                  value={value}\n                  onChange={(e) => setValue(e.target.value.toUpperCase())}\n                />\n              </form>\n            </Box>\n          </Box>\n        </DialogContent>\n        <DialogActions>\n          <Button\n            variant=\"outlined\"\n            color=\"primary\"\n            onClick={() => toggleModal()}\n            size=\"large\"\n          >\n            Cancelar\n          </Button>\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            type=\"submit\"\n            form=\"form-registro-color\"\n            size=\"large\"\n            startIcon={<Done />}\n          >\n            Guardar\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </Fragment>\n  );\n}\n","import React, { useContext, useState, useEffect, useCallback } from \"react\";\nimport { Typography, Tooltip, Box, Grid } from \"@material-ui/core\";\nimport { makeStyles, useTheme } from \"@material-ui/core\";\nimport Zoom from \"@material-ui/core/Zoom\";\n\nimport { Done } from \"@material-ui/icons\";\nimport TablaPresentaciones from \"./TablaPresentaciones\";\nimport { RegProductoContext } from \"../../../../../context/Catalogos/CtxRegProducto\";\nimport CrearColorProducto from \"./crearColor\";\nimport CrearTallasProducto from \"./crearTalla\";\n\nconst useStyles = makeStyles((theme) => ({\n  colorContainer: {\n    border: \"1px solid rgba(0,0,0, .3)\",\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    height: 50,\n    width: 50,\n    margin: 1,\n    borderRadius: \"15%\",\n    cursor: \"pointer\",\n  },\n  titulos: {\n    fontWeight: 500,\n  },\n}));\n\nconst GenCodigoBarras = () => {\n\treturn Math.floor(Math.random() * (999999999999 - 100000000000 + 1) + 100000000000).toString();\n};\n\nexport default function ColoresTallas({\n  obtenerConsultasProducto,\n  refetch,\n  from,\n  withoutPrice,\n}) {\n  const {\n    /* almacen_inicial,\n    setAlmacenInicial, */\n    presentaciones,\n    datos_generales,\n  } = useContext(RegProductoContext);\n  const {\n    /* almacenes, */ colores,\n    tallas,\n    calzados,\n  } = obtenerConsultasProducto;\n  const [medidasSeleccionadas, setMedidasSeleccionadas] = useState([]);\n  const [coloresSeleccionados, setColoresSeleccionados] = useState([]);\n  const medidas =\n    datos_generales.tipo_producto === \"ROPA\" ? [...tallas] : [...calzados];\n  const [onUpdate, setOnUpdate] = useState([]);\n  const classes = useStyles();\n\n\tconst obtenerColoresSeleccinados = useCallback(\n\t\t() => {\n\t\t\tlet colors = [];\n\t\t\tlet medidas = [];\n\t\t\tconst copy_presentaciones = [ ...presentaciones ];\n\n\t\t\tcopy_presentaciones.forEach((element) => {\n\t\t\t\tif (element.color._id) colors.push(element.color);\n\t\t\t\tif (element.medida._id) medidas.push(element.medida);\n\t\t\t});\n\n\t\t\tvar hashColor = {};\n\t\t\tvar hashMedida = {};\n\t\t\tconst colores_existentes = colors.filter((color) => {\n\t\t\t\tvar existColor = !hashColor[color._id];\n\t\t\t\thashColor[color._id] = true;\n\t\t\t\treturn existColor;\n\t\t\t});\n\t\t\tconst medidas_existentes = medidas.filter((medida) => {\n\t\t\t\tvar existMedida = !hashMedida[medida._id];\n\t\t\t\thashMedida[medida._id] = true;\n\t\t\t\treturn existMedida;\n\t\t\t});\n\n\t\t\tsetColoresSeleccionados([ ...colores_existentes ]);\n\t\t\tsetMedidasSeleccionadas([ ...medidas_existentes ]);\n\t\t},\n\t\t[ presentaciones ]\n\t);\n\n\t// const obtenerAlmacenes = (event, child) => {\n\t// \tsetAlmacenInicial({\n\t// \t\t...almacen_inicial,\n\t// \t\t[event.target.name]: event.target.value,\n\t// \t\t[child.props.name]: child.props.id\n\t// \t});\n\t// };\n\n\tuseEffect(\n\t\t() => {\n\t\t\tobtenerColoresSeleccinados();\n\t\t},\n\t\t[ obtenerColoresSeleccinados ]\n\t);\n\n  return (\n    <div>\n      <Box>\n        <Grid container spacing={2}>\n          {/* {!almacen_existente ? (\n            <Grid item md={4}>\n              <Box width=\"100%\">\n                <Typography>Almacen</Typography>\n                <Box display=\"flex\" >\n                  <FormControl\n                    disabled={presentaciones.length === 0 || from === \"compra\"}\n                    variant=\"outlined\"\n                    fullWidth\n                    size=\"small\"\n                    name=\"almacen\"\n                    error={\n                      presentaciones.length > 0 && !almacen_inicial.almacen\n                    }\n                  >\n                    <Select\n                      name=\"almacen\"\n                      value={almacen_inicial.almacen}\n                      onChange={obtenerAlmacenes}\n                    >\n                      <MenuItem value=\"\">\n                        <em>Seleccione uno</em>\n                      </MenuItem>\n                      {almacenes ? (\n                        almacenes.map((res) => {\n                          return (\n                            <MenuItem\n                              name=\"id_almacen\"\n                              key={res._id}\n                              value={res.nombre_almacen}\n                              id={res._id}\n                            >\n                              {res.nombre_almacen}\n                            </MenuItem>\n                          );\n                        })\n                      ) : (\n                        <MenuItem value=\"\" />\n                      )}\n                    </Select>\n                    {presentaciones.length > 0 && !almacen_inicial.almacen ? (\n                      <FormLabel>* Campo obligatorio</FormLabel>\n                    ) : null}\n                  </FormControl>\n                  {from === \"compra\" ? null : (\n                    <AlmacenProvider>\n                      <ContainerRegistroAlmacen\n                        accion=\"registrar\"\n                        refetch={refetch}\n                      />\n                    </AlmacenProvider>\n                  )}\n                </Box>\n              </Box>\n            </Grid>\n          ) : null} */}\n\n          <Grid item md={6}>\n            <Box\n              width=\"100%\"\n              style={\n                onUpdate.length > 0\n                  ? {\n                      pointerEvents: \"none\",\n                      opacity: 0.4,\n                    }\n                  : null\n              }\n            >\n              <Box display=\"flex\" alignItems=\"center\">\n                <Typography className={classes.titulos}>\n                  {datos_generales.tipo_producto === \"ROPA\"\n                    ? \"Talla\"\n                    : \"Número\"}\n                </Typography>\n                <Box mx={1} />\n                <CrearTallasProducto\n                  setMedidasSeleccionadas={setMedidasSeleccionadas}\n                  refetch={refetch}\n                />\n              </Box>\n              <Grid container>\n                {medidas.map((talla, index) => (\n                  <RenderTallas\n                    key={index}\n                    talla={talla}\n                    coloresSeleccionados={coloresSeleccionados}\n                    medidasSeleccionadas={medidasSeleccionadas}\n                    setMedidasSeleccionadas={setMedidasSeleccionadas}\n                  />\n                ))}\n              </Grid>\n            </Box>\n          </Grid>\n          <Grid item md={6}>\n            <Box\n              width=\"100%\"\n              style={\n                onUpdate.length > 0\n                  ? {\n                      pointerEvents: \"none\",\n                      opacity: 0.4,\n                    }\n                  : null\n              }\n            >\n              <Box display=\"flex\" alignItems=\"center\">\n                <Typography className={classes.titulos}>Color</Typography>\n                <Box mx={1} />\n                <CrearColorProducto refetch={refetch} />\n              </Box>\n              <Grid container>\n                {colores.map((color, index) => (\n                  <Colores\n                    key={index}\n                    color={color}\n                    coloresSeleccionados={coloresSeleccionados}\n                    setColoresSeleccionados={setColoresSeleccionados}\n                    medidasSeleccionadas={medidasSeleccionadas}\n                  />\n                ))}\n              </Grid>\n            </Box>\n          </Grid>\n        </Grid>\n        <Box mt={3} />\n        <TablaPresentaciones\n          from={from}\n          withoutPrice={withoutPrice}\n          setOnUpdate={setOnUpdate}\n          onUpdate={onUpdate}\n        />\n      </Box>\n    </div>\n  );\n}\n\nconst RenderTallas = ({\n\ttalla,\n\tcoloresSeleccionados,\n\tmedidasSeleccionadas,\n\tsetMedidasSeleccionadas,\n\tdatos\n}) => {\n\tconst classes = useStyles();\n\tconst theme = useTheme();\n\tconst { setPresentaciones, presentaciones, datos_generales, preciosP } = useContext(RegProductoContext);\n\tconst [ selected, setSelected ] = useState(false);\n\n\tconst seleccionarMedidas = useCallback(\n\t\t() => {\n\t\t\tmedidasSeleccionadas.forEach((res) => {\n\t\t\t\tif (res._id === talla._id) setSelected(true);\n\t\t\t});\n\t\t},\n\t\t[ talla._id, medidasSeleccionadas ]\n\t);\n\n\tuseEffect(\n\t\t() => {\n\t\t\tif (datos.medidas_registradas) {\n\t\t\t\treturn seleccionarMedidas();\n\t\t\t}\n\t\t},\n\t\t[ seleccionarMedidas ]\n\t);\n\n\tconst handleAddTallas = (value) => {\n\t\tconst medidas_seleccionadas_temp = [ ...medidasSeleccionadas ];\n\n\t\tif (!selected) {\n\t\t\tmedidas_seleccionadas_temp.push(talla);\n\t\t\tsetSelected(value);\n\t\t} else {\n\t\t\tmedidas_seleccionadas_temp.forEach((res, index) => {\n\t\t\t\tif (res._id === talla._id) {\n\t\t\t\t\tmedidas_seleccionadas_temp.splice(index, 1);\n\t\t\t\t\tsetSelected(value);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tlet presentacion_temp = [];\n\t\tconst array_medidad_finales = [ ...presentaciones ];\n\n\t\tif (!coloresSeleccionados.length && !array_medidad_finales.length) {\n\t\t\t/* SI NO HAY COLORES NI VALORES EN EL ARRAY FINAL SE AGREGA EL PRIMER ELEMENTO */\n\t\t\tfor (let i = 0; i < medidas_seleccionadas_temp.length; i++) {\n\t\t\t\tconst producto_medida = medidas_seleccionadas_temp[i];\n\t\t\t\tpresentacion_temp.push({\n\t\t\t\t\texistencia: false,\n\t\t\t\t\tcodigo_barras: GenCodigoBarras(),\n\t\t\t\t\tnombre_comercial: datos_generales.nombre_comercial,\n\t\t\t\t\tmedida: producto_medida,\n\t\t\t\t\tcolor: { nombre: '', hex: '' },\n\t\t\t\t\tprecio: preciosP[0].precio_neto,\n\t\t\t\t\tcantidad: 0,\n\t\t\t\t\tnuevo: true\n\t\t\t\t});\n\t\t\t}\n\t\t} else if (!coloresSeleccionados.length && array_medidad_finales.length > 0) {\n\t\t\t/* SI NO HAY COLORES REGISTRADOS PERO YA HAY TALLAS SE AGREGAN MAS */\n\t\t\tfor (let i = 0; i < medidas_seleccionadas_temp.length; i++) {\n\t\t\t\tconst producto_medida = medidas_seleccionadas_temp[i];\n\t\t\t\tconst result = array_medidad_finales.filter((res) => res.medida._id === producto_medida._id);\n\t\t\t\tif (result.length) {\n\t\t\t\t\tpresentacion_temp.push(result[0]);\n\t\t\t\t} else {\n\t\t\t\t\tpresentacion_temp.push({\n\t\t\t\t\t\texistencia: false,\n\t\t\t\t\t\tcodigo_barras: GenCodigoBarras(),\n\t\t\t\t\t\tnombre_comercial: datos_generales.nombre_comercial,\n\t\t\t\t\t\tmedida: producto_medida,\n\t\t\t\t\t\tcolor: { nombre: '', hex: '' },\n\t\t\t\t\t\tprecio: preciosP[0].precio_neto,\n\t\t\t\t\t\tcantidad: 0,\n\t\t\t\t\t\tnuevo: true\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (coloresSeleccionados.length > 0 && medidas_seleccionadas_temp.length === 1 && value) {\n\t\t\t/* SI HAY COLORES SE LE AGREGA TALLA POR PRIMERA VEZ */\n\t\t\tfor (let i = 0; i < array_medidad_finales.length; i++) {\n\t\t\t\tfor (let k = 0; k < medidas_seleccionadas_temp.length; k++) {\n\t\t\t\t\tpresentacion_temp.push({\n\t\t\t\t\t\texistencia: array_medidad_finales[i].existencia,\n\t\t\t\t\t\tcodigo_barras: array_medidad_finales[i].codigo_barras,\n\t\t\t\t\t\tnombre_comercial: array_medidad_finales[i].nombre_comercial,\n\t\t\t\t\t\tmedida: medidas_seleccionadas_temp[k],\n\t\t\t\t\t\tcolor: array_medidad_finales[i].color,\n\t\t\t\t\t\tprecio: array_medidad_finales[i].precio,\n\t\t\t\t\t\tcantidad: array_medidad_finales[i].cantidad,\n\t\t\t\t\t\tnuevo: true\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (coloresSeleccionados.length > 0 && medidas_seleccionadas_temp.length > 0) {\n\t\t\t/* YA HAY COLORES Y MEDIDAS EN LAS PRESENTACIONES, SE AGREGAN NORMAL */\n\t\t\tfor (let i = 0; i < medidas_seleccionadas_temp.length; i++) {\n\t\t\t\tconst producto_medida = medidas_seleccionadas_temp[i];\n\t\t\t\tfor (let k = 0; k < coloresSeleccionados.length; k++) {\n\t\t\t\t\tconst producto_color = coloresSeleccionados[k];\n\t\t\t\t\tconst presentacion_existente = array_medidad_finales.filter(\n\t\t\t\t\t\t(producto_array_final) =>\n\t\t\t\t\t\t\tproducto_array_final.medida._id === producto_medida._id &&\n\t\t\t\t\t\t\tproducto_color._id === producto_array_final.color._id\n\t\t\t\t\t);\n\t\t\t\t\tif (!presentacion_existente.length) {\n\t\t\t\t\t\tpresentacion_temp.push({\n\t\t\t\t\t\t\texistencia: false,\n\t\t\t\t\t\t\tcodigo_barras: GenCodigoBarras(),\n\t\t\t\t\t\t\tnombre_comercial: datos_generales.nombre_comercial,\n\t\t\t\t\t\t\tmedida: producto_medida,\n\t\t\t\t\t\t\tcolor: producto_color,\n\t\t\t\t\t\t\tprecio: preciosP[0].precio_neto,\n\t\t\t\t\t\t\tcantidad: 0,\n\t\t\t\t\t\t\tnuevo: true\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tpresentacion_temp.push(presentacion_existente[0]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (coloresSeleccionados.length > 0 && !medidas_seleccionadas_temp.length) {\n\t\t\t/* SI NO HAY TALLAS SE VUELVE A LISTAR LOS COLORES QUE YA ESTABAN EN PRESENTACIONES */\n\t\t\tconst presentaciones_existentes = array_medidad_finales.filter((producto) => producto.medida._id);\n\t\t\tif (presentaciones_existentes.length) {\n\t\t\t\tfor (let x = 0; x < array_medidad_finales.length; x++) {\n\t\t\t\t\tconst objeto_presentaciones_final = array_medidad_finales[x];\n\t\t\t\t\tpresentacion_temp.push({\n\t\t\t\t\t\texistencia: objeto_presentaciones_final.existencia,\n\t\t\t\t\t\tcodigo_barras: objeto_presentaciones_final.codigo_barras,\n\t\t\t\t\t\tnombre_comercial: objeto_presentaciones_final.nombre_comercial,\n\t\t\t\t\t\tmedida: {},\n\t\t\t\t\t\tcolor: objeto_presentaciones_final.color,\n\t\t\t\t\t\tprecio: objeto_presentaciones_final.precio,\n\t\t\t\t\t\tcantidad: objeto_presentaciones_final.cantidad,\n\t\t\t\t\t\tnuevo: true\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tsetMedidasSeleccionadas([ ...medidas_seleccionadas_temp ]);\n\t\tsetPresentaciones(presentacion_temp);\n\t};\n\n\treturn (\n\t\t<Grid item>\n\t\t\t<div\n\t\t\t\tclassName={classes.colorContainer}\n\t\t\t\tonClick={() => handleAddTallas(!selected)}\n\t\t\t\tstyle={\n\t\t\t\t\tselected ? (\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tbackgroundColor: theme.palette.primary.main\n\t\t\t\t\t\t}\n\t\t\t\t\t) : null\n\t\t\t\t}\n\t\t\t>\n\t\t\t\t<Typography\n\t\t\t\t\tvariant=\"button\"\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tcolor: theme.palette.getContrastText(selected ? theme.palette.primary.main : '#FFFFFF'),\n\t\t\t\t\t\tfontSize: 16\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{talla.talla}\n\t\t\t\t</Typography>\n\t\t\t</div>\n\t\t</Grid>\n\t);\n};\n\nconst Colores = ({ color, coloresSeleccionados, setColoresSeleccionados, medidasSeleccionadas, datos }) => {\n\tconst classes = useStyles();\n\tconst theme = useTheme();\n\tconst { presentaciones, setPresentaciones, datos_generales, preciosP } = useContext(RegProductoContext);\n\n\tconst [ selected, setSelected ] = useState(false);\n\n\tconst seleccionarColores = useCallback(\n\t\t() => {\n\t\t\tcoloresSeleccionados.forEach((res) => {\n\t\t\t\tif (res._id === color._id) setSelected(true);\n\t\t\t});\n\t\t},\n\t\t[ color._id, coloresSeleccionados ]\n\t);\n\n\tuseEffect(\n\t\t() => {\n\t\t\tif (datos.medidas_registradas) {\n\t\t\t\treturn seleccionarColores();\n\t\t\t}\n\t\t},\n\t\t[ seleccionarColores ]\n\t);\n\n\tconst obtenerColores = (value) => {\n\t\tif (!selected) {\n\t\t\tcoloresSeleccionados.push(color);\n\t\t\tsetSelected(value);\n\t\t} else {\n\t\t\tcoloresSeleccionados.forEach((res, index) => {\n\t\t\t\tif (res._id === color._id) {\n\t\t\t\t\tcoloresSeleccionados.splice(index, 1);\n\t\t\t\t\tsetSelected(value);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\tlet presentacion_temp = [];\n\t\tconst array_medidad_finales = [ ...presentaciones ];\n\n\t\tif (!medidasSeleccionadas.length && !array_medidad_finales.length) {\n\t\t\t/* SI NO HAY COLORES NI VALORES EN EL ARRAY FINAL SE AGREGA EL PRIMER ELEMENTO */\n\t\t\tfor (let i = 0; i < coloresSeleccionados.length; i++) {\n\t\t\t\tconst producto_color = coloresSeleccionados[i];\n\t\t\t\tpresentacion_temp.push({\n\t\t\t\t\texistencia: false,\n\t\t\t\t\tcodigo_barras: GenCodigoBarras(),\n\t\t\t\t\tnombre_comercial: datos_generales.nombre_comercial,\n\t\t\t\t\tmedida: {},\n\t\t\t\t\tcolor: producto_color,\n\t\t\t\t\tprecio: preciosP[0].precio_neto,\n\t\t\t\t\tcantidad: 0,\n\t\t\t\t\tnuevo: true\n\t\t\t\t});\n\t\t\t}\n\t\t} else if (!medidasSeleccionadas.length && array_medidad_finales.length > 0) {\n\t\t\t/* SI YA HAY COLORES REGISTRADOS SE AGREGAN MAS */\n\t\t\tfor (let i = 0; i < coloresSeleccionados.length; i++) {\n\t\t\t\tconst producto_color = coloresSeleccionados[i];\n\t\t\t\tconst result = array_medidad_finales.filter((res) => res.color._id === producto_color._id);\n\t\t\t\tif (result.length) {\n\t\t\t\t\tpresentacion_temp.push(result[0]);\n\t\t\t\t} else {\n\t\t\t\t\tpresentacion_temp.push({\n\t\t\t\t\t\texistencia: false,\n\t\t\t\t\t\tcodigo_barras: GenCodigoBarras(),\n\t\t\t\t\t\tnombre_comercial: datos_generales.nombre_comercial,\n\t\t\t\t\t\tmedida: {},\n\t\t\t\t\t\tcolor: producto_color,\n\t\t\t\t\t\tprecio: preciosP[0].precio_neto,\n\t\t\t\t\t\tcantidad: 0,\n\t\t\t\t\t\tnuevo: true\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (medidasSeleccionadas.length > 0 && coloresSeleccionados.length === 1 && value) {\n\t\t\t/* SI YA HAY TALLAS SE LE AGREGA EL COLOR POR PRIMERA VEZ */\n\t\t\tfor (let i = 0; i < array_medidad_finales.length; i++) {\n\t\t\t\tfor (let k = 0; k < coloresSeleccionados.length; k++) {\n\t\t\t\t\tpresentacion_temp.push({\n\t\t\t\t\t\texistencia: array_medidad_finales[i].existencia,\n\t\t\t\t\t\tcodigo_barras: array_medidad_finales[i].codigo_barras,\n\t\t\t\t\t\tnombre_comercial: array_medidad_finales[i].nombre_comercial,\n\t\t\t\t\t\tmedida: array_medidad_finales[i].medida,\n\t\t\t\t\t\tcolor: coloresSeleccionados[k],\n\t\t\t\t\t\tprecio: array_medidad_finales[i].precio,\n\t\t\t\t\t\tcantidad: array_medidad_finales[i].cantidad,\n\t\t\t\t\t\tnuevo: true\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (medidasSeleccionadas.length > 0 && coloresSeleccionados.length > 0) {\n\t\t\t/* YA HAY TALLAS Y MEIDAS EN LAS PRESENTACIONES, SE REGISTRAN NORMAL */\n\t\t\tfor (let i = 0; i < coloresSeleccionados.length; i++) {\n\t\t\t\tconst producto_color = coloresSeleccionados[i];\n\t\t\t\tfor (let k = 0; k < medidasSeleccionadas.length; k++) {\n\t\t\t\t\tconst producto_medida = medidasSeleccionadas[k];\n\t\t\t\t\tconst presentacion_existente = array_medidad_finales.filter(\n\t\t\t\t\t\t(producto_array_final) =>\n\t\t\t\t\t\t\tproducto_array_final.medida._id === producto_medida._id &&\n\t\t\t\t\t\t\tproducto_color._id === producto_array_final.color._id\n\t\t\t\t\t);\n\t\t\t\t\tif (!presentacion_existente.length) {\n\t\t\t\t\t\tpresentacion_temp.push({\n\t\t\t\t\t\t\texistencia: false,\n\t\t\t\t\t\t\tcodigo_barras: GenCodigoBarras(),\n\t\t\t\t\t\t\tnombre_comercial: datos_generales.nombre_comercial,\n\t\t\t\t\t\t\tmedida: producto_medida,\n\t\t\t\t\t\t\tcolor: producto_color,\n\t\t\t\t\t\t\tprecio: preciosP[0].precio_neto,\n\t\t\t\t\t\t\tcantidad: 0,\n\t\t\t\t\t\t\tnuevo: true\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tpresentacion_temp.push(presentacion_existente[0]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (medidasSeleccionadas.length > 0 && !coloresSeleccionados.length) {\n\t\t\t/* SI NO HAY COLORES SE VUELVE A LISTAR LAS TALLAS QUE YA ESTABAN EN PRESENTACIONES */\n\t\t\tconst presentaciones_existentes = array_medidad_finales.filter((producto) => producto.color._id);\n\t\t\tif (presentaciones_existentes.length) {\n\t\t\t\tfor (let x = 0; x < array_medidad_finales.length; x++) {\n\t\t\t\t\tconst objeto_presentaciones_final = array_medidad_finales[x];\n\t\t\t\t\tpresentacion_temp.push({\n\t\t\t\t\t\texistencia: objeto_presentaciones_final.existencia,\n\t\t\t\t\t\tcodigo_barras: objeto_presentaciones_final.codigo_barras,\n\t\t\t\t\t\tnombre_comercial: objeto_presentaciones_final.nombre_comercial,\n\t\t\t\t\t\tmedida: objeto_presentaciones_final.medida,\n\t\t\t\t\t\tcolor: { nombre: '', hex: '' },\n\t\t\t\t\t\tprecio: objeto_presentaciones_final.precio,\n\t\t\t\t\t\tcantidad: objeto_presentaciones_final.cantidad,\n\t\t\t\t\t\tnuevo: true\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tsetColoresSeleccionados([ ...coloresSeleccionados ]);\n\t\tsetPresentaciones(presentacion_temp);\n\t};\n\n\treturn (\n\t\t<Grid item>\n\t\t\t<Tooltip title={color.nombre} placement=\"top\" arrow TransitionComponent={Zoom}>\n\t\t\t\t<div\n\t\t\t\t\tclassName={classes.colorContainer}\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tbackgroundColor: color.hex,\n\t\t\t\t\t\tcolor: theme.palette.getContrastText(color.hex)\n\t\t\t\t\t}}\n\t\t\t\t\tonClick={() => obtenerColores(!selected)}\n\t\t\t\t>\n\t\t\t\t\t{selected ? <Done /> : null}\n\t\t\t\t</div>\n\t\t\t</Tooltip>\n\t\t</Grid>\n\t);\n};\n","import React, { Fragment, useContext, useState } from \"react\";\nimport { Button, CircularProgress, Tooltip } from \"@material-ui/core\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport Slide from \"@material-ui/core/Slide\";\nimport { Done, SquareFoot } from \"@material-ui/icons\";\nimport { useQuery } from \"@apollo/client\";\nimport { OBTENER_CONSULTAS } from \"../../../../../gql/Catalogos/productos\";\nimport ErrorPage from \"../../../../../components/ErrorPage\";\nimport { ComprasContext } from \"../../../../../context/Compras/comprasContext\";\nimport TallasProducto from \"../../../Catalogos/Producto/TallasColores/TallasColores\";\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function AlertDialogSlide({verificate, setVerificate}) {\n  const [open, setOpen] = useState(false);\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n  const { datosProducto, datosCompra, setLoadingProductos } = useContext(ComprasContext);\n\n  /* Queries */\n  const { loading, data, error, refetch } = useQuery(OBTENER_CONSULTAS, {\n    variables: { empresa: sesion.empresa._id, sucursal: sesion.sucursal._id },\n  });\n\n  /* useEffect(() => {\n    if(loading){\n      setLoadingProductos(true);\n    }else{\n      setLoadingProductos(false);\n    }\n  }, [loading]); */\n\n  if (loading)\n    return (\n      <Button\n        color=\"primary\"\n        size=\"medium\"\n        disabled={true}\n        startIcon={<CircularProgress size={16} color=\"inherit\" />}\n      >\n        Medidas\n      </Button>\n    );\n\n  if (error) return <ErrorPage error={error} />;\n\n  const { obtenerConsultasProducto } = data;\n\n  const toggleDrawer = () => {\n    setOpen(!open);\n    setVerificate(false);\n  }\n\n  return (\n    <Fragment>\n      <Tooltip title=\"Selecciona medidas y colores\" disableHoverListener={true} open={verificate} placement=\"top\">\n        <Button\n          color={verificate ? \"secondary\" :\"inherit\"}\n          variant=\"outlined\"\n          size=\"medium\"\n          onClick={() => toggleDrawer()}\n          startIcon={<SquareFoot />}\n          disabled={!datosProducto.producto.datos_generales}\n        >\n          Medidas\n        </Button>\n      </Tooltip>\n      <Dialog\n        open={open}\n        TransitionComponent={Transition}\n        keepMounted\n        onClose={toggleDrawer}\n        aria-labelledby=\"alert-tallas-compra\"\n        aria-describedby=\"alert-tallas-compra-description\"\n        fullWidth\n        maxWidth=\"lg\"\n      >\n        <DialogContent>\n          <TallasProducto\n            datos={datosProducto.producto}\n            obtenerConsultasProducto={obtenerConsultasProducto}\n            refetch={refetch}\n            from=\"compra\"\n            almacen={datosCompra.almacen}\n            withoutPrice={true}\n          />\n        </DialogContent>\n        <DialogActions>\n          <Button\n            size=\"large\"\n            onClick={() => toggleDrawer()}\n            startIcon={<Done />}\n            color=\"primary\"\n            variant=\"contained\"\n          >\n            Aceptar\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </Fragment>\n  );\n}\n","import $ from \"jquery\"\nimport jQuery from \"jquery\"\n\nvar valuesFacturama = {\n    token: \"QUJTT0xVQ0lPTkVTOkxlb24yMDE4Iw==\",\n    url: \"https://apisandbox.facturama.mx/\"\n};\n\n$.ajaxSetup({\n    beforeSend: function (xhr) {\n        xhr.withCredentials = true;\n        xhr.setRequestHeader(\"Authorization\", \"Basic \" + valuesFacturama.token);\n    }\n});\n\nfunction facturama() {\n\n    var settings = {\n        url: valuesFacturama.url\n    };\n\n    function retrieve(path, id, callback) {\n        return jQuery.get(settings.url + path + '/' + id, undefined, callback, \"json\");\n    }\n\n    function list(path, callback) {\n        return jQuery.get(settings.url + path, undefined, callback, \"json\");\n    }\n\n    function listWithParam(path, param, callback) {\n        return jQuery.get(settings.url + path + param, undefined, callback, \"json\");\n    }\n\n    function postSyncWithParam(path, param, callback) {\n        $.ajax({\n            url: settings.url + path + param,\n            type: 'POST',\n            async: false,\n            success: callback\n        });\n    }\n\n    function postSyncWithData(path, data, callback, callbackError) {\n        $.ajax({\n            url: settings.url + path,\n            type: 'POST',\n            dataType: 'json',\n            data: JSON.stringify(data),\n            contentType: \"application/json\",\n            success: callback,\n            error: callbackError\n        });\n    }\n\n    function putSyncWithData(path, data, callback, callbackError) {\n        $.ajax({\n            url: settings.url + path,\n            type: 'PUT',\n            data: JSON.stringify(data),\n            contentType: \"application/json\",\n            success: callback,\n            error: callbackError\n        });\n    }\n\n    function deleteSyncWithParam(path, param, callback, callbackError) {\n        $.ajax({\n            url: settings.url + path + '/' + param,\n            type: 'DELETE',\n            async: false,\n            success: callback,\n            error: callbackError\n        });\n    }\n\n    var facturamaObject = {\n        Clients: {\n            Get: function (id, callback) {\n                return retrieve('client', id, callback);\n            },\n            List: function (callback) {\n                return list('client', callback);\n            },\n            Create: function (data, callback, callbackError) {\n                postSyncWithData('client', data, callback, callbackError);\n            },\n            Remove: function (id, callback, callbackError) {\n                deleteSyncWithParam('client/', id, callback, callbackError);\n            },\n            Update: function (id, data, callback, callbackError) {\n                putSyncWithData('client/' + id, data, callback, callbackError);\n            }\n        },\n        Products: {\n            Get: function (id, callback) {\n                return retrieve('product', id, callback);\n            },\n            List: function (callback) {\n                return list('product', callback);\n            },\n            Create: function (data, callback, callbackError) {\n                postSyncWithData('product', data, callback, callbackError);\n            },\n            Remove: function (id, callback, callbackError) {\n                deleteSyncWithParam('product/', id, callback, callbackError);\n            },\n            Update: function (id, data, callback, callbackError) {\n                putSyncWithData('product/' + id, data, callback, callbackError);\n            }\n        },\n        BranchOffice: {\n            Get: function (id, callback) {\n                return retrieve('branchOffice', id, callback);\n            },\n            List: function (callback) {\n                return list('branchOffice', callback);\n            },\n            Create: function (data, callback, callbackError) {\n                postSyncWithData('branchOffice', data, callback, callbackError);\n            },\n            Remove: function (id, callback, callbackError) {\n                deleteSyncWithParam('branchOffice', id, callback, callbackError);\n            },\n            Update: function (id, data, callback, callbackError) {\n                putSyncWithData('branchOffice/' + id, data, callback, callbackError);\n            }\n        },\n        Series: {\n            List: function (id, callback) {\n                return retrieve('serie', id, callback);\n            },\n            Create: function (idBranch, data, callback, callbackError) {\n                postSyncWithData('serie/' + idBranch, data, callback, callbackError);\n            },\n            Remove: function (idBranch, name, callback, callbackError) {\n                deleteSyncWithParam('serie/' + idBranch, name, callback, callbackError);\n            },\n            Update: function (idBranch, name, data, callback, callbackError) {\n                putSyncWithData('serie/' + idBranch + '/' + name, data, callback, callbackError);\n            }\n        },\n        Cfdi: {\n            Get: function (id, callback) {\n                return retrieve('cfdi', id, callback);\n            },\n            List: function (param, callback) {\n                return listWithParam('cfdi', param, callback);\n            },\n            Create: function (data, callback, callbackError) {\n                postSyncWithData('2/cfdis', data, callback, callbackError);\n            },\n            Send: function (param, callback) {\n                postSyncWithParam('cfdi', param, callback);\n            },\n            Cancel: function (params, callback, callbackError) {\n                deleteSyncWithParam('cfdi', params, callback, callbackError);\n            },\n            Download: function (format, type, id, callback) {\n                retrieve('cfdi/' + format + '/' + type, id, callback);\n            },\n            Acuse: function (format, type, id, callback) {\n                retrieve('acuse/' + format + '/' + type, id, callback);\n            }\n        },\n        TaxEntity: {\n            Get: function (callback) {\n                return list('taxEntity', callback);\n            },\n            Update: function (data, callback, callbackError) {\n                putSyncWithData('taxEntity', data, callback, callbackError);\n            },\n            UploadCsd: function (data, callback, callbackError) {\n                putSyncWithData('taxEntity/UploadCsd', data, callback, callbackError);\n            },\n            UploadImage: function (data, callback, callbackError) {\n                putSyncWithData('taxEntity/UploadLogo', data, callback, callbackError);\n            }\n        },\n        Catalogs: {\n            States: function (country, callback) {\n                return list('catalogs/municipalities?countryCode' + country, callback);\n            },\n            Municipalities: function (state, callback) {\n                return list('catalogs/municipalities?stateCode' + state, callback);\n            },\n            Localities: function (state, callback) {\n                return list('catalogs/localities?stateCode' + state, callback);\n            },\n            Neighborhoods: function (postalCode, callback) {\n                return list('catalogs/neighborhoods?postalCode' + postalCode, callback);\n            },\n            ProductsOrServices: function (keyword, callback) {\n                return list('catalogs/ProductsOrServices?keyword=' + keyword, callback);\n            },\n            PostalCodes: function (keyword, callback) {\n                return list('catalogs/PostalCodes?keyword=' + keyword, callback);\n            },\n            Units: function (callback) {\n                return list('catalogs/Units', callback);\n            },\n            Currencies: function (callback) {\n                return list('catalogs/Currencies', callback);\n            },\n            Countries: function (callback) {\n                return list('catalogs/Countries', callback);\n            },\n            PaymentForms: function (callback) {\n                return list('catalogs/PaymentForms', callback);\n            },\n            PaymentMethods: function (callback) {\n                return list('catalogs/PaymentMethods', callback);\n            },\n            FederalTaxes: function (callback) {\n                return list('catalogs/FederalTaxes', callback);\n            },\n            FiscalRegimens: function (callback) {\n                return list('catalogs/FiscalRegimens', callback);\n            },\n            CfdiTypes: function (callback) {\n                return list('catalogs/CfdiTypes', callback);\n            },\n            RelationTypes: function (callback) {\n                return list('catalogs/RelationTypes', callback);\n            },\n            CfdiUses: function (keyword, callback) {\n                return list('catalogs/CfdiUses?keyword=' + keyword, callback);\n            }\n        }\n    };\n\n    facturamaObject.getToken = function () {\n        return \"Basic \" + valuesFacturama.token;\n    };\n\n    facturamaObject.getBaseUri = function () {\n        return settings.url;\n    };\n\n    return facturamaObject;\n}\n\n export default facturama()\n","import { gql } from \"@apollo/client\";\n\nexport const CREAR_CODIGO_PRODUCTO = gql`\n  mutation crearCodigoProducto($input: CodigoCatalogoProductoInput) {\n    crearCodigoProducto(input: $input) {\n      message\n    }\n  }\n`;\n\nexport const OBTENER_CODIGOS_PRODUCTO = gql`\n  query obtenerCodigosProducto($empresa: ID!, $sucursal: ID) {\n    obtenerCodigosProducto(empresa: $empresa, sucursal: $sucursal) {\n      _id\n      Name\n      Value\n      empresa {\n        _id\n        nombre_empresa\n      }\n      sucursal {\n        _id\n        nombre_sucursal\n      }\n    }\n  }\n`;\n\nexport const ELIMINAR_CODIGO_PRODUCTO = gql`\n  mutation eliminarCodigoProducto($id: ID!) {\n    eliminarCodigoProducto(id: $id) {\n      message\n    }\n  }\n`;\n","import React, { Fragment, useContext, useEffect, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Slide from \"@material-ui/core/Slide\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Box from \"@material-ui/core/Box\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport Divider from \"@material-ui/core/Divider\";\n\nimport { RegProductoContext } from \"../../../../../context/Catalogos/CtxRegProducto\";\nimport { Close, Done, Search } from \"@material-ui/icons\";\nimport {\n  CircularProgress,\n  IconButton,\n  InputAdornment,\n} from \"@material-ui/core\";\nimport Facturama from \"../../../../../billing/Facturama/facturama.api\";\nimport {\n  CREAR_CODIGO_PRODUCTO,\n  ELIMINAR_CODIGO_PRODUCTO,\n} from \"../../../../../gql/CatalogosSat/catalogoProductosSat\";\nimport { useMutation } from \"@apollo/client\";\nimport SnackBarMessages from \"../../../../../components/SnackBarMessages\";\nimport { useDebounce } from \"use-debounce\";\nimport { Alert } from \"@material-ui/lab\";\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: \"100%\",\n    backgroundColor: theme.palette.background.paper,\n  },\n  spin_container: {\n    position: \"absolute\",\n    height: \"100%\",\n    width: \"100%\",\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n  },\n  spin: {\n    zIndex: 9999,\n  },\n  titulos: {\n    fontWeight: 500,\n  },\n}));\n\nexport default function CatalogosProductosSAT({ codigos, refetch }) {\n  const classes = useStyles();\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n  const [open, setOpen] = React.useState(false);\n  const { datos_generales, setDatosGenerales } = useContext(RegProductoContext);\n  const [busqueda, setBusqueda] = useState(\"\");\n  const [productos, setProductos] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [loading_save, setLoadingSave] = useState(false);\n  const [loading_delete, setLoadingDelete] = useState(false);\n  const [selectedIndex, setSelectedIndex] = useState({});\n\n  const [error, setError] = useState(\"\");\n  const [alert, setAlert] = useState({ message: \"\", status: \"\", open: false });\n\n  const [crearCodigoProducto] = useMutation(CREAR_CODIGO_PRODUCTO);\n  const [eliminarCodigoProducto] = useMutation(ELIMINAR_CODIGO_PRODUCTO);\n\n  const handleClickOpen = () => setOpen(true);\n  const handleClose = () => setOpen(false);\n\n  const limpiarDataModal = () => {\n    setSelectedIndex({});\n    setProductos([]);\n    setBusqueda(\"\");\n    handleClose();\n  };\n\n  const [value] = useDebounce(busqueda, 500);\n\n  const handleOk = async (selectedIndex) => {\n    const { Name, Value } = selectedIndex;\n    setDatosGenerales({\n      ...datos_generales,\n      clave_producto_sat: {\n        Name,\n        Value,\n      },\n    });\n    //Crear Codigo product a la BD\n    try {\n      setLoadingSave(true);\n      const result = await crearCodigoProducto({\n        variables: {\n          input: {\n            Name,\n            Value,\n            empresa: sesion.empresa._id,\n            sucursal: sesion.sucursal._id,\n          },\n        },\n      });\n\n      if (result) {\n        const { message } = result.data.crearCodigoProducto;\n        setAlert({\n          message: message,\n          status: \"success\",\n          open: true,\n        });\n        setLoadingSave(false);\n        refetch();\n        limpiarDataModal();\n      }\n    } catch (error) {\n      setLoadingSave(false);\n      setAlert({\n        message: `Error: ${error.message}`,\n        status: \"error\",\n        open: true,\n      });\n    }\n  };\n\n  const eliminarCodigoBD = async (data) => {\n    try {\n      setLoadingDelete(true);\n      const result = await eliminarCodigoProducto({\n        variables: {\n          id: data._id,\n        },\n      });\n\n      if (result) {\n        const { message } = result.data.eliminarCodigoProducto;\n        setAlert({\n          message: message,\n          status: \"success\",\n          open: true,\n        });\n        setDatosGenerales({\n          ...datos_generales,\n          clave_producto_sat: {\n            Name: \"\",\n            Value: \"\",\n          },\n        });\n        setLoadingDelete(false);\n        refetch();\n      }\n    } catch (error) {\n      setLoadingDelete(false);\n      setAlert({\n        message: `Error: ${error.message}`,\n        status: \"error\",\n        open: true,\n      });\n    }\n  };\n\n  const handleCancel = () => {\n    limpiarDataModal();\n  };\n\n  const obtenerCampos = (data) => {\n    if (!data) {\n      setDatosGenerales({\n        ...datos_generales,\n        clave_producto_sat: {\n          Name: \"\",\n          Value: \"\",\n        },\n      });\n      return null;\n    }\n    setDatosGenerales({\n      ...datos_generales,\n      clave_producto_sat: {\n        Name: data.Name,\n        Value: data.Value,\n      },\n    });\n  };\n\n  const buscarCatalogo = async () => {\n    if (!value) {\n      setProductos([]);\n      return;\n    }\n    setLoading(true);\n    try {\n      await Facturama.Catalogs.ProductsOrServices(\n        value,\n        function (result) {\n          setProductos(result);\n          setLoading(false);\n        },\n        function (error) {\n          if (error && error.responseJSON) {\n            setError(error.responseJSON);\n          }\n          setLoading(false);\n        }\n      );\n    } catch (error) {\n      if (error && error.responseJSON) {\n        setError(error.responseJSON.Message);\n      }\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    buscarCatalogo();\n  }, [value]);\n\n  return (\n    <div>\n      <SnackBarMessages alert={alert} setAlert={setAlert} />\n      <Typography className={classes.titulos}>Clave de producto SAT</Typography>\n      <Box display=\"flex\">\n        <Autocomplete\n          id=\"catalogos-bd-productos\"\n          size=\"small\"\n          options={codigos}\n          disabled={loading_delete}\n          getOptionLabel={(option) =>\n            option.Name ? `${option.Value} - ${option.Name}` : \"\"\n          }\n          fullWidth\n          renderInput={(params) => (\n            <TextField\n              {...params}\n              variant=\"outlined\"\n              InputProps={{\n                ...params.InputProps,\n                endAdornment: (\n                  <Fragment>\n                    {loading_delete ? <CircularProgress size={20} /> : null}\n                    {params.InputProps.endAdornment}\n                  </Fragment>\n                ),\n              }}\n            />\n          )}\n          renderOption={(option) => (\n            <Fragment>\n              {`${option.Value} - ${option.Name}`}\n              <div style={{ flexGrow: 1 }} />\n              <IconButton size=\"small\" onClick={() => eliminarCodigoBD(option)}>\n                <Close />\n              </IconButton>\n            </Fragment>\n          )}\n          onChange={(_, data) => obtenerCampos(data)}\n          getOptionSelected={(option, value) => option.Value === value.Value}\n          value={datos_generales.clave_producto_sat}\n        />\n        <Button color=\"primary\" onClick={handleClickOpen}>\n          <Search />\n        </Button>\n      </Box>\n      <Dialog\n        open={open}\n        TransitionComponent={Transition}\n        keepMounted\n        onClose={handleCancel}\n        aria-labelledby=\"alert-dialog-clave-producto\"\n        fullWidth\n        maxWidth=\"sm\"\n      >\n        <DialogTitle id=\"alert-dialog-clave-producto\">\n          <Box display=\"flex\" justifyContent=\"space-between\">\n            <Typography variant=\"h6\">\n              Catalogo de productos y servicios SAT\n            </Typography>\n            <Box>\n              <Button\n                variant=\"contained\"\n                color=\"secondary\"\n                onClick={() => handleCancel()}\n                size=\"large\"\n                disabled={loading_save}\n              >\n                <Close />\n              </Button>\n            </Box>\n          </Box>\n        </DialogTitle>\n        {loading_save ? (\n          <div className={classes.spin_container}>\n            <CircularProgress className={classes.spin} size={35} />\n          </div>\n        ) : null}\n        <div\n          style={\n            loading_save\n              ? {\n                  pointerEvents: \"none\",\n                  opacity: 0.4,\n                }\n              : null\n          }\n        >\n          <Box p={2}>\n            <TextField\n              variant=\"outlined\"\n              label=\"producto, servicio o giro de la empresa\"\n              fullWidth\n              size=\"small\"\n              onChange={(e) => {\n                setBusqueda(e.target.value);\n                setError(\"\");\n              }}\n              value={busqueda}\n              InputProps={{\n                startAdornment: (\n                  <InputAdornment position=\"start\">\n                    <Search color=\"disabled\" />\n                  </InputAdornment>\n                ),\n              }}\n              error={error ? true : false}\n              helperText={error ? error : \"\"}\n            />\n            <Box my={1}>\n              <Alert severity=\"info\">\n                Para seleccionar un cliente haz un doble click!\n              </Alert>\n            </Box>\n          </Box>\n\n          <DialogContent style={{ height: \"50vh\" }}>\n            <Box my={3} className={classes.root}>\n              {loading ? (\n                <Box\n                  display=\"flex\"\n                  justifyContent=\"center\"\n                  alignItems=\"center\"\n                  height=\"25vh\"\n                >\n                  <CircularProgress />\n                </Box>\n              ) : (\n                <List dense component=\"nav\" aria-label=\"main mailbox folders\">\n                  {productos.map((res, index) => (\n                    <SelectedListItem\n                      key={index}\n                      producto={res}\n                      busqueda={busqueda}\n                      handleOk={handleOk}\n                      setSelectedIndex={setSelectedIndex}\n                      selectedIndex={selectedIndex}\n                    />\n                  ))}\n                </List>\n              )}\n            </Box>\n          </DialogContent>\n          <DialogActions>\n            <Button onClick={() => handleCancel()}>Cancelar</Button>\n          </DialogActions>\n        </div>\n      </Dialog>\n    </div>\n  );\n}\n\nconst SelectedListItem = ({\n  producto,\n  busqueda,\n  handleOk,\n  selectedIndex,\n  setSelectedIndex,\n}) => {\n  const handleListItemClick = (click, data) => {\n    setSelectedIndex(data);\n    if (click === 2) {\n      handleOk(data);\n    }\n  };\n\n  const contiene = busqueda.includes(\"potacio\");\n  if (producto.Value === \"0\" && !contiene) {\n    return null;\n  }\n\n  return (\n    <Fragment>\n      <ListItem\n        button\n        selected={selectedIndex.Value === producto.Value}\n        onClick={(e) => handleListItemClick(e.detail, producto)}\n      >\n        <ListItemText primary={`${producto.Value} - ${producto.Name}`} />\n      </ListItem>\n      <Divider />\n    </Fragment>\n  );\n};\n","import { gql } from '@apollo/client';\n \nexport const CREAR_CATEGORIA = gql`\n\tmutation crearCategoria($input: CrearCategoriasInput) {\n\t\tcrearCategoria(input: $input) {\n\t\t\t_id\n\t\t\tcategoria\n\t\t\tempresa {\n\t\t\t\t_id\n\t\t\t\tnombre_empresa\n\t\t\t\tcorreo_empresa\n\t\t\t\tnombre_dueno\n\t\t\t\ttelefono_dueno\n\t\t\t}\n\t\t\tsucursal {\n\t\t\t\t_id\n\t\t\t\tnombre_sucursal\n\t\t\t\tdescripcion\n\t\t\t}\n\t\t}\n\t}\n`;\nexport const CREAR_SUBCATEGORIA = gql`\n\tmutation crearSubcategoria($idCategoria: ID!, $input: CrearSubcategoriasInput) {\n\t\tcrearSubcategoria(idCategoria: $idCategoria, input: $input) {\n\t\t\tmessage\n\t\t}\n\t}\n`;\n\nexport const ACTUALIZAR_CATEGORIA = gql`\n\tmutation actualizarCategoria($idCategoria: ID!, $input: ActualizarCategoriasInput) {\n\t\tactualizarCategoria(idCategoria: $idCategoria, input: $input) {\n\t\t\tmessage\n\t\t}\n\t}\n`;\nexport const ACTUALIZAR_SUBCATEGORIA = gql`\n\tmutation actualizarSubcategoria($idCategoria: ID!, $idSubcategoria: ID!, $input: ActualizarSubcategoriasInput) {\n\t\tactualizarSubcategoria(idCategoria: $idCategoria, idSubcategoria: $idSubcategoria, input: $input) {\n\t\t\tmessage\n\t\t}\n\t}\n`;\n\nexport const OBTENER_CATEGORIAS = gql`\n\tquery obtenerCategorias($empresa: ID!, $sucursal: ID!) {\n\t\tobtenerCategorias(empresa: $empresa, sucursal: $sucursal) {\n\t\t\t_id\n\t\t\tcategoria\n\t\t\tsubcategorias {\n\t\t\t\t_id\n\t\t\t\tsubcategoria\n\t\t\t}\n\t\t\tempresa {\n\t\t\t\t_id\n\t\t\t\tnombre_empresa\n\t\t\t\tcorreo_empresa\n\t\t\t\tnombre_dueno\n\t\t\t\ttelefono_dueno\n\t\t\t}\n\t\t\tsucursal {\n\t\t\t\t_id\n\t\t\t\tnombre_sucursal\n\t\t\t\tdescripcion\n\t\t\t}\n\t\t}\n\t}\n`;\nexport const ELIMINAR_CATEGORIA = gql`\n\tmutation eliminarCategoria($idCategoria: ID!) {\n\t\teliminarCategoria(idCategoria: $idCategoria) {\n\t\t\tmessage\n\t\t}\n\t}\n`; \n\nexport const ELIMINAR_SUBCATEGORIA = gql`\n\tmutation eliminarSubcategoria($idCategoria: ID!, $idSubcategoria: ID!) {\n\t\teliminarSubcategoria(idCategoria: $idCategoria, idSubcategoria: $idSubcategoria) {\n\t\t\tmessage\n\t\t}\n\t}\n`;\n","import { gql } from '@apollo/client';\n\nexport const OBTENER_DEPARTAMENTOS = gql`\n\tquery ObtenerDepartamentos($empresa: ID!, $sucursal: ID!){\n        obtenerDepartamentos(empresa: $empresa, sucursal: $sucursal){\n            _id\n            nombre_departamentos\n            empresa{\n                _id\n                nombre_empresa\n            }\n            sucursal{\n                _id\n                nombre_sucursal\n            }\n        }\n    }\n`;\n\nexport const REGISTRAR_DEPARTAMENTO = gql`\n\tmutation CrearDepartamentos($input: DepartamentosInput, $empresa: ID!, $sucursal: ID!){\n        crearDepartamentos(input: $input, empresa: $empresa, sucursal: $sucursal){\n            message\n        }\n    }\n`;\n\nexport const ACTUALIZAR_DEPARTAMENTO = gql`\n\tmutation ActualzarDepartamentos($input: DepartamentosInput, $id: ID!){\n        actualzarDepartamentos(input: $input, id: $id){\n            message\n        }\n    }\n`;\n\nexport const ELIMINAR_DEPARTAMENTO = gql`\n    mutation EliminarDepartamento($id: ID!){\n        eliminarDepartamento(id: $id){\n            message\n        }\n    }\n\t\n`;","import { gql } from '@apollo/client';\n\nexport const OBTENER_MARCAS = gql`\n    query ObtenerMarcas($empresa: ID!, $sucursal: ID!){\n        obtenerMarcas(empresa: $empresa, sucursal: $sucursal){\n            _id\n            nombre_marca\n        }\n    }\n`;\n\nexport const REGISTRAR_MARCAS = gql`\n    mutation CrearMarca($input: MarcasInput!, $empresa: ID!, $sucursal: ID!){\n        crearMarcas(input: $input, empresa: $empresa, sucursal: $sucursal ){\n            message\n        }\n    }\n`;\n\nexport const ACTUALIZAR_MARCAS = gql`\n    mutation actualzarMarcas($input: MarcasInput, $id: ID! ) {\n\t\tactualzarMarcas(id: $id, input: $input) {\n\t\t\tmessage\n\t\t}\n\t}\n`;\n\nexport const ELIMINAR_MARCAS = gql`\n\tmutation eliminarMarca($id: ID!, $empresa: ID!, $sucursal: ID!) {\n\t\teliminarMarca(id: $id, empresa: $empresa, sucursal: $sucursal) {\n\t\t\tmessage\n\t\t}\n\t}\n`;","import React, { Fragment, useContext, useEffect, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport {\n  Box,\n  FormControl,\n  Divider,\n  MenuItem,\n  Select,\n  Container,\n  FormHelperText,\n  OutlinedInput,\n  InputAdornment,\n  Grid,\n  IconButton,\n} from \"@material-ui/core\";\nimport {\n  TextField,\n  Typography,\n  Button,\n  Checkbox,\n  FormControlLabel,\n} from \"@material-ui/core\";\nimport {\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  CircularProgress,\n} from \"@material-ui/core\";\nimport { Add, Autorenew } from \"@material-ui/icons\";\nimport { RegProductoContext } from \"../../../../../context/Catalogos/CtxRegProducto\";\nimport CatalogosProductosSAT from \"./CatalogoProductosSAT\";\n\nimport { useMutation } from \"@apollo/client\";\nimport {\n  CREAR_CATEGORIA,\n  CREAR_SUBCATEGORIA,\n} from \"../../../../../gql/Catalogos/categorias\";\nimport { REGISTRAR_DEPARTAMENTO } from \"../../../../../gql/Catalogos/departamentos\";\nimport { REGISTRAR_MARCAS } from \"../../../../../gql/Catalogos/marcas\";\nimport SnackBarMessages from \"../../../../../components/SnackBarMessages\";\n\nconst useStyles = makeStyles((theme) => ({\n  formInputFlex: {\n    display: \"flex\",\n    \"& > *\": {\n      margin: `${theme.spacing(1)}px ${theme.spacing(1)}px`,\n    },\n  },\n  formInput: {\n    margin: `${theme.spacing(1)}px ${theme.spacing(2)}px`,\n  },\n  obligatorio: {\n    color: \"red\",\n  },\n  titulos: {\n    fontWeight: 500,\n  },\n}));\n\nexport default function RegistroInfoGenerales({\n  obtenerConsultasProducto,\n  refetch,\n}) {\n  const classes = useStyles();\n  const {\n    datos_generales,\n    setDatosGenerales,\n    validacion,\n    precios,\n    setPrecios,\n    centro_de_costos,\n    setSubcostos,\n  } = useContext(RegProductoContext);\n  const {\n    subcategorias,\n    setSubcategorias,\n    unidadVentaXDefecto,\n    setUnidadVentaXDefecto,\n    unidadVentaSecundaria,\n    setUnidadVentaSecundaria,\n    update,\n  } = useContext(RegProductoContext);\n  const {\n    categorias,\n    departamentos,\n    marcas,\n    centro_costos,\n    codigos,\n  } = obtenerConsultasProducto;\n\n  const obtenerCampos = (e) => {\n    if (e.target.name === \"monedero_electronico\") {\n      if (!e.target.value) {\n        setPrecios({\n          ...precios,\n          [e.target.name]: \"\",\n        });\n        return;\n      }\n      setPrecios({\n        ...precios,\n        [e.target.name]: parseFloat(e.target.value),\n      });\n      return;\n    }\n    if (e.target.name === \"codigo_barras\") {\n      setUnidadVentaXDefecto({\n        ...unidadVentaXDefecto,\n        codigo_barras: e.target.value,\n      });\n    }\n    setDatosGenerales({\n      ...datos_generales,\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  const checkFarmacia = (e) => {\n    setDatosGenerales({\n      ...datos_generales,\n      receta_farmacia: e.target.checked,\n    });\n  };\n\n  const obtenerChecks = (e) => {\n    if (e.target.name === \"monedero\" && e.target.checked) {\n      setPrecios({\n        ...precios,\n        monedero_electronico: 1,\n        monedero: e.target.checked,\n      });\n      return;\n    }\n    /* setPrecios({\n\t\t\t...precios,\n\t\t\t[e.target.name]: e.target.checked\n\t\t}); */\n    if (e.target.name === \"granel\" && e.target.checked) {\n      setPrecios({\n        ...precios,\n        [e.target.name]: e.target.checked,\n        inventario: {\n          ...precios.inventario,\n          unidad_de_inventario: \"Kg\",\n          codigo_unidad: \"KGM\",\n        },\n        unidad_de_compra: {\n          ...precios.unidad_de_compra,\n          unidad: \"Kg\",\n          codigo_unidad: \"KGM\",\n        },\n      });\n      setUnidadVentaXDefecto({\n        ...unidadVentaXDefecto,\n        unidad: \"Kg\",\n        codigo_unidad: \"KGM\",\n      });\n      setUnidadVentaSecundaria({\n        ...unidadVentaSecundaria,\n        unidad: \"Costal\",\n        codigo_unidad: \"KGM\",\n      });\n    } else {\n      setPrecios({\n        ...precios,\n        [e.target.name]: e.target.checked,\n        inventario: {\n          ...precios.inventario,\n          unidad_de_inventario: \"Pz\",\n          codigo_unidad: \"H87\",\n        },\n        unidad_de_compra: {\n          ...precios.unidad_de_compra,\n          unidad: \"Pz\",\n          codigo_unidad: \"H87\",\n        },\n      });\n      setUnidadVentaXDefecto({\n        ...unidadVentaXDefecto,\n        unidad: \"Pz\",\n        codigo_unidad: \"H87\",\n      });\n      setUnidadVentaSecundaria({\n        ...unidadVentaSecundaria,\n        unidad: \"Caja\",\n        codigo_unidad: \"XBX\",\n      });\n    }\n  };\n\n  const obtenerIDs = (event, child) => {\n    setDatosGenerales({\n      ...datos_generales,\n      [event.target.name]: event.target.value,\n      [child.props.name]: child.props.id,\n    });\n    if (child.props.categoria) {\n      const { subcategorias } = child.props.categoria;\n      setSubcategorias(subcategorias);\n    }\n  };\n\n  const GenCodigoBarras = () => {\n    const max = 999999999999;\n    const min = 100000000000;\n    const codigo_barras = Math.floor(\n      Math.random() * (max - min + 1) + min\n    ).toString();\n    setDatosGenerales({\n      ...datos_generales,\n      codigo_barras,\n    });\n    setUnidadVentaXDefecto({\n      ...unidadVentaXDefecto,\n      codigo_barras,\n    });\n  };\n\n  const verificarCampoVacio = (campo) => {\n    if (!precios.monedero_electronico) {\n      setPrecios({\n        ...precios,\n        monedero_electronico: 1,\n      });\n    }\n  };\n\n  useEffect(() => {\n    if (update) {\n      const categoria = categorias.filter(\n        (res) => res._id === datos_generales.id_categoria\n      );\n      const costos = centro_costos.filter(\n        (res) => res._id === centro_de_costos.id_cuenta\n      );\n      if (categoria.length > 0) {\n        setSubcategorias(categoria[0].subcategorias);\n      }\n      if (costos.length > 0) {\n        setSubcostos(costos[0].subcuentas);\n      }\n    }\n  }, [update]);\n\n  return (\n    <Fragment>\n      <Container maxWidth=\"lg\">\n        <Grid container spacing={2}>\n          <Grid item md={3} xs={12}>\n            <FormControl\n              variant=\"outlined\"\n              size=\"small\"\n              name=\"codigo_barras\"\n              fullWidth\n            >\n              <Typography className={classes.titulos}>\n                Código de barras\n              </Typography>\n              <OutlinedInput\n                disabled={update && datos_generales.codigo_barras}\n                style={{ padding: 0 }}\n                id=\"form-producto-codigo-barras\"\n                name=\"codigo_barras\"\n                value={\n                  datos_generales.codigo_barras\n                    ? datos_generales.codigo_barras\n                    : \"\"\n                }\n                onChange={obtenerCampos}\n                endAdornment={\n                  <InputAdornment position=\"start\">\n                    <IconButton\n                      disabled={update && datos_generales.codigo_barras}\n                      onClick={() => GenCodigoBarras()}\n                      /* edge=\"end\" */\n                      color=\"primary\"\n                      size=\"small\"\n                    >\n                      <Autorenew />\n                    </IconButton>\n                  </InputAdornment>\n                }\n              />\n            </FormControl>\n          </Grid>\n          <Grid item md={2} xs={12}>\n            <Typography className={classes.titulos}>\n              <span className={classes.obligatorio}>* </span>Clave alterna\n            </Typography>\n            <TextField\n              fullWidth\n              size=\"small\"\n              error={validacion.error && !datos_generales.clave_alterna}\n              name=\"clave_alterna\"\n              id=\"form-producto-clave-alterna\"\n              variant=\"outlined\"\n              value={\n                datos_generales.clave_alterna\n                  ? datos_generales.clave_alterna\n                  : \"\"\n              }\n              helperText={validacion.message}\n              onChange={obtenerCampos}\n            />\n          </Grid>\n          <Grid item md={2} xs={12}>\n            <Typography className={classes.titulos}>\n              <span className={classes.obligatorio}>* </span>Tipo de producto\n            </Typography>\n            <FormControl\n              variant=\"outlined\"\n              fullWidth\n              size=\"small\"\n              error={validacion.error && !datos_generales.tipo_producto}\n            >\n              <Select\n                id=\"form-producto-tipo\"\n                name=\"tipo_producto\"\n                value={\n                  datos_generales.tipo_producto\n                    ? datos_generales.tipo_producto\n                    : \"\"\n                }\n                onChange={obtenerCampos}\n              >\n                <MenuItem value=\"\">\n                  <em>Selecciona uno</em>\n                </MenuItem>\n                <MenuItem value=\"ROPA\">Ropa</MenuItem>\n                <MenuItem value=\"CALZADO\">Calzado</MenuItem>\n                <MenuItem value=\"OTROS\">Otros</MenuItem>\n              </Select>\n              <FormHelperText>{validacion.message}</FormHelperText>\n            </FormControl>\n          </Grid>\n          <Grid item md={5} xs={12}>\n            <CatalogosProductosSAT codigos={codigos} refetch={refetch} />\n          </Grid>\n\n          <Grid item md={4} xs={12}>\n            <Typography className={classes.titulos}>\n              <span className={classes.obligatorio}>* </span>Nombre comercial\n            </Typography>\n            <TextField\n              fullWidth\n              size=\"small\"\n              error={validacion.error && !datos_generales.nombre_comercial}\n              name=\"nombre_comercial\"\n              id=\"form-producto-nombre-comercial\"\n              variant=\"outlined\"\n              value={\n                datos_generales.nombre_comercial\n                  ? datos_generales.nombre_comercial\n                  : \"\"\n              }\n              helperText={validacion.message}\n              onChange={obtenerCampos}\n            />\n          </Grid>\n          <Grid item md={4} xs={12}>\n            <Typography className={classes.titulos}>\n              <span className={classes.obligatorio}>* </span>Nombre genérico\n            </Typography>\n            <TextField\n              fullWidth\n              size=\"small\"\n              error={validacion.error && !datos_generales.nombre_generico}\n              name=\"nombre_generico\"\n              id=\"form-producto-nombre-generico\"\n              variant=\"outlined\"\n              value={\n                datos_generales.nombre_generico\n                  ? datos_generales.nombre_generico\n                  : \"\"\n              }\n              helperText={validacion.message}\n              onChange={obtenerCampos}\n            />\n          </Grid>\n          <Grid item md={4} xs={12}>\n            <Typography className={classes.titulos}>Descripción</Typography>\n            <TextField\n              fullWidth\n              size=\"small\"\n              name=\"descripcion\"\n              id=\"form-producto-descripcion\"\n              variant=\"outlined\"\n              value={\n                datos_generales.descripcion ? datos_generales.descripcion : \"\"\n              }\n              onChange={obtenerCampos}\n            />\n          </Grid>\n\n          <Grid item md={6} xs={12}>\n            <Typography className={classes.titulos}>Categoria</Typography>\n            <Box display=\"flex\">\n              <FormControl variant=\"outlined\" fullWidth size=\"small\">\n                <Select\n                  id=\"form-producto-categoria\"\n                  value={\n                    datos_generales.categoria ? datos_generales.categoria : \"\"\n                  }\n                  onChange={(event, child) => obtenerIDs(event, child)}\n                  name=\"categoria\"\n                >\n                  <MenuItem value=\"\">\n                    <em>Seleccione uno</em>\n                  </MenuItem>\n                  {categorias ? (\n                    categorias.map((res) => {\n                      return (\n                        <MenuItem\n                          name=\"id_categoria\"\n                          key={res._id}\n                          value={res.categoria}\n                          id={res._id}\n                          categoria={res}\n                        >\n                          {res.categoria}\n                        </MenuItem>\n                      );\n                    })\n                  ) : (\n                    <MenuItem value=\"\" />\n                  )}\n                </Select>\n              </FormControl>\n              <RegistrarNuevoSelect\n                tipo=\"categoria\"\n                name=\"categoria\"\n                refetch={refetch}\n              />\n            </Box>\n          </Grid>\n          <Grid item md={6} xs={12}>\n            <Typography className={classes.titulos}>Subcategoria</Typography>\n            <Box display=\"flex\">\n              <FormControl variant=\"outlined\" fullWidth size=\"small\">\n                <Select\n                  id=\"form-producto-subcategoria\"\n                  name=\"subcategoria\"\n                  value={\n                    datos_generales.subcategoria\n                      ? datos_generales.subcategoria\n                      : \"\"\n                  }\n                  onChange={(event, child) => obtenerIDs(event, child)}\n                >\n                  <MenuItem value=\"\">\n                    <em>Seleccione uno</em>\n                  </MenuItem>\n                  {subcategorias ? (\n                    subcategorias.map((res) => {\n                      return (\n                        <MenuItem\n                          name=\"id_subcategoria\"\n                          key={res._id}\n                          value={res.subcategoria}\n                          id={res._id}\n                        >\n                          {res.subcategoria}\n                        </MenuItem>\n                      );\n                    })\n                  ) : (\n                    <MenuItem value=\"\" />\n                  )}\n                </Select>\n              </FormControl>\n              <RegistrarNuevoSelect\n                tipo=\"subcategoria\"\n                name=\"subcategoria\"\n                refetch={refetch}\n                subcategorias={subcategorias}\n                setSubcategorias={setSubcategorias}\n              />\n            </Box>\n          </Grid>\n          <Grid item md={6} xs={12}>\n            <Typography className={classes.titulos}>Departamento</Typography>\n            <Box display=\"flex\">\n              <FormControl variant=\"outlined\" fullWidth size=\"small\">\n                <Select\n                  id=\"form-producto-departamento\"\n                  name=\"departamento\"\n                  value={\n                    datos_generales.departamento\n                      ? datos_generales.departamento\n                      : \"\"\n                  }\n                  onChange={(event, child) => obtenerIDs(event, child)}\n                >\n                  <MenuItem value=\"\">\n                    <em>Seleccione uno</em>\n                  </MenuItem>\n                  {departamentos ? (\n                    departamentos.map((res) => {\n                      return (\n                        <MenuItem\n                          name=\"id_departamento\"\n                          key={res._id}\n                          value={res.nombre_departamentos}\n                          id={res._id}\n                        >\n                          {res.nombre_departamentos}\n                        </MenuItem>\n                      );\n                    })\n                  ) : (\n                    <MenuItem value=\"\" />\n                  )}\n                </Select>\n              </FormControl>\n              <RegistrarNuevoSelect\n                tipo=\"departamento\"\n                name=\"nombre_departamentos\"\n                refetch={refetch}\n              />\n            </Box>\n          </Grid>\n          <Grid item md={6} xs={12}>\n            <Typography className={classes.titulos}>Marca</Typography>\n            <Box display=\"flex\">\n              <FormControl variant=\"outlined\" fullWidth size=\"small\">\n                <Select\n                  id=\"form-producto-marca\"\n                  name=\"marca\"\n                  value={datos_generales.marca ? datos_generales.marca : \"\"}\n                  onChange={(event, child) => obtenerIDs(event, child)}\n                >\n                  <MenuItem value=\"\">\n                    <em>Seleccione uno</em>\n                  </MenuItem>\n                  {marcas ? (\n                    marcas.map((res) => {\n                      return (\n                        <MenuItem\n                          name=\"id_marca\"\n                          key={res._id}\n                          value={res.nombre_marca}\n                          id={res._id}\n                        >\n                          {res.nombre_marca}\n                        </MenuItem>\n                      );\n                    })\n                  ) : (\n                    <MenuItem value=\"\" />\n                  )}\n                </Select>\n              </FormControl>\n              <RegistrarNuevoSelect\n                tipo=\"marca\"\n                name=\"nombre_marca\"\n                refetch={refetch}\n              />\n            </Box>\n          </Grid>\n        </Grid>\n        <Box display=\"flex\" mt={4}>\n          <Grid container>\n            <Grid item md={3} xs={12}>\n              {!update ? (\n                <Box>\n                  <Box>\n                    <Typography>\n                      <b>Granel</b>\n                    </Typography>\n                    <Divider />\n                  </Box>\n                  <div className={classes.formInput}>\n                    <FormControlLabel\n                      control={\n                        <Checkbox\n                          checked={precios.granel ? precios.granel : false}\n                          onChange={obtenerChecks}\n                          name=\"granel\"\n                        />\n                      }\n                      label=\"Vender a granel\"\n                    />\n                  </div>\n                </Box>\n              ) : null}\n            </Grid>\n            <Grid item md={3} xs={12}>\n              <Box>\n                <Typography>\n                  <b>Farmacia</b>\n                </Typography>\n                <Divider />\n              </Box>\n              <div className={classes.formInput}>\n                <FormControlLabel\n                  control={\n                    <Checkbox\n                      checked={\n                        datos_generales.receta_farmacia\n                          ? datos_generales.receta_farmacia\n                          : false\n                      }\n                      onChange={checkFarmacia}\n                      name=\"receta_farmacia\"\n                    />\n                  }\n                  label=\"Necesita receta\"\n                  name=\"receta_farmacia\"\n                />\n              </div>\n            </Grid>\n            <Grid item md={6} xs={12}>\n              <Box>\n                <Typography>\n                  <b>Monedero eléctronico</b>\n                </Typography>\n                <Divider />\n              </Box>\n              <Box>\n                <Box className={classes.formInput}>\n                  <FormControlLabel\n                    control={\n                      <Checkbox\n                        checked={precios.monedero}\n                        onChange={obtenerChecks}\n                        name=\"monedero\"\n                      />\n                    }\n                    label=\"Monedero electrónico\"\n                  />\n                  <TextField\n                    type=\"number\"\n                    InputProps={{ inputProps: { min: 0 } }}\n                    size=\"small\"\n                    label=\"Valor por punto\"\n                    name=\"monedero_electronico\"\n                    id=\"form-producto-monedero_electronico\"\n                    variant=\"outlined\"\n                    value={precios.monedero_electronico}\n                    onChange={obtenerCampos}\n                    disabled={precios.monedero ? false : true}\n                    onBlur={() => verificarCampoVacio(\"monedero_electronico\")}\n                    error={precios.monedero_electronico === \"\"}\n                  />\n                </Box>\n              </Box>\n            </Grid>\n          </Grid>\n        </Box>\n      </Container>\n    </Fragment>\n  );\n}\n\nconst RegistrarNuevoSelect = ({\n  tipo,\n  name,\n  refetch,\n  subcategorias,\n  setSubcategorias,\n}) => {\n  const [open, setOpen] = useState(false);\n  const [validacion, setValidacion] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [value, setValue] = useState(\"\");\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n  const { datos_generales, setDatosGenerales } = useContext(RegProductoContext);\n  const [alert, setAlert] = useState({ message: \"\", status: \"\", open: false });\n\n  /*  Categorias Mutation */\n  const [crearCategoria] = useMutation(CREAR_CATEGORIA);\n  /*  Subcategorias Mutation */\n  const [crearSubcategoria] = useMutation(CREAR_SUBCATEGORIA);\n  /*  Departamentos Mutation */\n  const [CrearDepartamentos] = useMutation(REGISTRAR_DEPARTAMENTO);\n  /*  Marcas Mutation */\n  const [CrearMarca] = useMutation(REGISTRAR_MARCAS);\n\n  const handleToggle = () => {\n    setOpen(!open);\n  };\n\n  const obtenerDatos = (e) => {\n    setValue(e.target.value);\n  };\n\n  const guardarDatos = async (e) => {\n    e.preventDefault();\n    if (!value) {\n      setValidacion(true);\n      return;\n    }\n    let variables = {\n      input: {\n        [name]: value,\n      },\n      empresa: sesion.empresa._id,\n      sucursal: sesion.sucursal._id,\n    };\n    if (tipo === \"categoria\") {\n      variables = {\n        input: {\n          [name]: value,\n          empresa: sesion.empresa._id,\n          sucursal: sesion.sucursal._id,\n        },\n      };\n    }\n    if (tipo === \"subcategoria\") {\n      variables = {\n        input: {\n          [name]: value,\n        },\n        idCategoria: datos_generales.id_categoria,\n      };\n    }\n    setLoading(true);\n    try {\n      switch (tipo) {\n        case \"categoria\":\n          const categoria_creada = await crearCategoria({ variables });\n          refetch();\n          const id_categoria = categoria_creada.data.crearCategoria._id;\n          setDatosGenerales({\n            ...datos_generales,\n            categoria: value,\n            id_categoria,\n          });\n          break;\n        case \"subcategoria\":\n          const subcategoria_creada = await crearSubcategoria({ variables });\n          refetch();\n          const id_subcategoria =\n            subcategoria_creada.data.crearSubcategoria.message;\n          setSubcategorias([\n            ...subcategorias,\n            { _id: id_subcategoria, subcategoria: value },\n          ]);\n          setDatosGenerales({\n            ...datos_generales,\n            subcategoria: value,\n            id_subcategoria,\n          });\n          break;\n        case \"departamento\":\n          const departamento_creado = await CrearDepartamentos({ variables });\n          refetch();\n          const id_departamento =\n            departamento_creado.data.crearDepartamentos.message;\n          setDatosGenerales({\n            ...datos_generales,\n            departamento: value,\n            id_departamento,\n          });\n          break;\n        case \"marca\":\n          const marca_creada = await CrearMarca({ variables });\n          refetch();\n          const id_marca = marca_creada.data.crearMarcas.message;\n          setDatosGenerales({\n            ...datos_generales,\n            marca: value,\n            id_marca,\n          });\n          break;\n        default:\n          break;\n      }\n      setAlert({ message: \"¡Listo!\", status: \"success\", open: true });\n      setLoading(false);\n      handleToggle();\n    } catch (error) {\n      setAlert({ message: \"Hubo un error\", status: \"error\", open: true });\n      setLoading(false);\n    }\n  };\n\n  return (\n    <Fragment>\n      <Button\n        color=\"primary\"\n        onClick={() => handleToggle()}\n        disabled={tipo === \"subcategoria\" && !datos_generales.id_categoria}\n      >\n        <Add />\n      </Button>\n      <Dialog\n        open={open}\n        onClose={handleToggle}\n        aria-labelledby={`modal-title-${tipo}`}\n      >\n        <SnackBarMessages alert={alert} setAlert={setAlert} />\n        <DialogTitle id={`modal-title-${tipo}`}>Registrar {tipo}</DialogTitle>\n        <DialogContent>\n          <form id={`registro-${name}`} onSubmit={(e) => guardarDatos(e)}>\n            <TextField\n              error={validacion}\n              name={name}\n              autoFocus\n              label={tipo}\n              fullWidth\n              variant=\"outlined\"\n              onChange={obtenerDatos}\n              helperText={validacion ? \"Campo obligatorio\" : \"\"}\n            />\n          </form>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={() => handleToggle()} color=\"primary\">\n            Cancelar\n          </Button>\n          <Button\n            /* onClick={() => guardarDatos()} */\n            form={`registro-${name}`}\n            type=\"submit\"\n            variant=\"contained\"\n            color=\"primary\"\n            endIcon={\n              loading ? <CircularProgress color=\"inherit\" size={18} /> : null\n            }\n          >\n            Guardar\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </Fragment>\n  );\n};\n","import React, { Fragment, useContext, useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Dialog, DialogActions, DialogTitle } from '@material-ui/core';\nimport { Box, Typography, Button, Divider, Grid } from '@material-ui/core';\nimport { AddPhotoAlternate, Visibility, Delete } from '@material-ui/icons';\nimport { RegProductoContext } from '../../../../../context/Catalogos/CtxRegProducto';\n\nimport PhotoSizeSelectActualOutlinedIcon from '@material-ui/icons/PhotoSizeSelectActualOutlined';\nconst useStyles = makeStyles((theme) => ({\n\tformInputFlex: {\n\t\tdisplay: 'flex',\n\t\twidth: '100%',\n\t\t'& > *': {\n\t\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(1)}px`\n\t\t}\n\t},\n\tformInput: {\n\t\tmargin: `${theme.spacing(0)}px ${theme.spacing(1)}px`\n\t},\n\tinput: {\n\t\tdisplay: 'none'\n\t},\n\timagen: {\n\t\tmaxHeight: \"100%\",\n\t\tmaxWidth: \"100%\"\n\t}\n}));\n\nexport default function CargarImagenesProducto() {\n\tconst classes = useStyles();\n\tconst { imagenes, setImagenes, setOnPreview, onPreview } = useContext(RegProductoContext);\n\n\tconst cargarImagen = (e) => {\n\t\tconst { files } = e.target;\n\t\tif (e.target.files.length < 1) return\n\t\tsetImagenes([\n\t\t\t...imagenes,\n\t\t\tfiles[0]\n\t\t]);\n\t\tsetOnPreview({image: URL.createObjectURL(files[0])})\n\t};\n\n\tconst render_imagenes = imagenes.map((res, index) => <RenderImagenes key={index} index={index} imagen={res} />);\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<Grid container>\n\t\t\t\t<Grid item md={6}>\n\t\t\t\t\t<Box>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\taccept=\"image/*\"\n\t\t\t\t\t\t\tclassName={classes.input}\n\t\t\t\t\t\t\tid=\"contained-button-file\"\n\t\t\t\t\t\t\t/* multiple */\n\t\t\t\t\t\t\ttype=\"file\"\n\t\t\t\t\t\t\tonChange={cargarImagen}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<label htmlFor=\"contained-button-file\">\n\t\t\t\t\t\t\t<Button variant=\"text\" color=\"primary\" component=\"span\" startIcon={<AddPhotoAlternate />}>\n\t\t\t\t\t\t\t\tCargar imagen\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t</Box>\n\t\t\t\t\t{render_imagenes}\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item md={6}>\n\t\t\t\t\t<Box display=\"flex\" minHeight={300}>\n\t\t\t\t\t\t<Box mx={1}>\n\t\t\t\t\t\t\t<Divider orientation=\"vertical\" />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box width=\"100%\" height=\"50vh\" display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t{!onPreview.image ? (\n\t\t\t\t\t\t\t\t<PhotoSizeSelectActualOutlinedIcon style={{ fontSize: 150 }} />\n\t\t\t\t\t\t\t) : (<img alt=\"img-onPreview\" src={onPreview.image} className={classes.imagen} />)}\n\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Box>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t</Fragment>\n\t);\n}\n\nconst RenderImagenes = ({ imagen, index }) => {\n\tconst classes = useStyles();\n\tconst preview = imagen.key_imagen ? imagen.url_imagen : URL.createObjectURL(imagen)\n\tconst { imagenes, setImagenes, setOnPreview, onPreview, imagenes_eliminadas, setImagenesEliminadas } = useContext(RegProductoContext);\n\tconst [open, setOpen] = useState(false);\n\tconst handleModal = () => setOpen(!open);\n\n\tconst eliminarImagen = () => {\n\t\t/* agregar al arrya de imagenes eliminadas */\n\t\tif(imagen.key_imagen){\n\t\t\tsetImagenesEliminadas([\n\t\t\t\t...imagenes_eliminadas, imagen\n\t\t\t])\n\t\t}\n\t\t/* quitar imagenes del array */\n\t\tif (onPreview.index === index) {\n\t\t\tsetOnPreview({ index: '', image: '' })\n\t\t}\n\t\tconst array = [...imagenes];\n\t\tarray.splice(index, 1);\n\t\tsetImagenes([\n\t\t\t...array,\n\t\t]);\n\t\thandleModal();\n\t}\n\n\treturn (\n\t\t<Box my={2} mr={5}>\n\t\t\t<Box className={classes.formInputFlex}>\n\t\t\t\t<Box height={70} width={70}>\n\t\t\t\t\t<img alt=\"producto-img-prev\" src={preview} width=\"100%\" />\n\t\t\t\t</Box>\n\t\t\t\t<Box width=\"90%\">\n\t\t\t\t\t<Typography noWrap>\n\t\t\t\t\t\t{imagen.key_imagen ? imagen.key_imagen : imagen.name}\n\t\t\t\t\t</Typography>\n\t\t\t\t\t{imagen.key_imagen ? null : (<Typography variant=\"caption\">{imagen.size} bits</Typography>)}\n\t\t\t\t\t\n\t\t\t\t\t<Box display=\"flex\" justifyContent=\"flex-end\">\n\t\t\t\t\t\t<Button size=\"small\" startIcon={<Visibility />} onClick={() => setOnPreview({ index, image: preview })}>\n\t\t\t\t\t\t\tprevisualizar\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Box mx={1} />\n\t\t\t\t\t\t<ModalDelete handleModal={handleModal} open={open} eliminarImagen={eliminarImagen} />\n\t\t\t\t\t</Box>\n\t\t\t\t</Box>\n\t\t\t</Box>\n\t\t\t<Divider />\n\t\t</Box>\n\t);\n};\n\nconst ModalDelete = ({ handleModal, open, eliminarImagen }) => {\n\treturn (\n\t\t<div>\n\t\t\t<Button size=\"small\" color=\"secondary\" startIcon={<Delete />} onClick={() => handleModal()}>\n\t\t\t\teliminar\n\t\t\t</Button>\n\t\t\t<Dialog open={open} onClose={handleModal}>\n\t\t\t\t<DialogTitle>{'¿Seguro que quieres eliminar esto?'}</DialogTitle>\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Button onClick={() => handleModal()} color=\"primary\">\n\t\t\t\t\t\tCancelar\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button color=\"secondary\" autoFocus variant=\"contained\" onClick={() => eliminarImagen()}>\n\t\t\t\t\t\tEliminar\n\t\t\t\t\t</Button>\n\t\t\t\t</DialogActions>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n};\n","import React, { createContext, useState } from 'react';\n\nexport const CrearAlmacenContext = createContext();\n\nexport const AlmacenProvider = ({ children }) => {\n\tconst [ datosAlmacen, setDatosAlmacen ] = useState({\n        nombre_almacen: '',\n        id_usuario_encargado: '',\n        direccion: {\n            calle: '',\n            no_ext: '',\n            no_int: '',\n            codigo_postal: '',\n            colonia: '',\n            municipio: '',\n            localidad: '',\n            estado: '',\n            pais: ''\n        }\n    });\n\n    const [ update, setUpdate ] = useState(false);\n    const [ error, setError ] = useState(false);\n    const [ openRegistro, setOpenRegistro ] = useState(false);\n\n\treturn (\n\t\t<CrearAlmacenContext.Provider value={\n            { \n                datosAlmacen, \n                setDatosAlmacen,\n                update,\n                setUpdate,\n                error,\n                setError,\n                openRegistro,\n                setOpenRegistro\n            }\n        }>\n\t\t\t{children}\n\t\t</CrearAlmacenContext.Provider>\n\t);\n};\n","import { gql } from \"@apollo/client\";\n\nexport const REGISTRO_ALMACEN = gql`\n  mutation CrearAlmacen($input: CrearAlmacen, $id: ID!, $empresa: ID!) {\n    crearAlmacen(input: $input, id: $id, empresa: $empresa) {\n      _id\n    }\n  }\n`;\n\nexport const OBTENER_ALMACENES = gql`\n  query obtenerAlmacenes($id: ID!) {\n    obtenerAlmacenes(id: $id) {\n      _id\n      nombre_almacen\n      id_usuario_encargado {\n        _id\n        nombre\n      }\n      id_sucursal {\n        _id\n        nombre_sucursal\n        descripcion\n        direccion {\n          calle\n          no_ext\n          no_int\n          codigo_postal\n          colonia\n          municipio\n          localidad\n          estado\n          pais\n        }\n      }\n      direccion {\n        calle\n        no_ext\n        no_int\n        codigo_postal\n        colonia\n        municipio\n        localidad\n        estado\n        pais\n      }\n    }\n  }\n`;\n\nexport const ACTUALIZAR_ALMACEN = gql`\n  mutation ActualizarAlmacen($input: EditarAlmacen, $id: ID!) {\n    actualizarAlmacen(input: $input, id: $id) {\n      message\n    }\n  }\n`;\n\nexport const OBTENER_PRODUCTOS_ALMACEN = gql`\n  query obtenerProductosAlmacenes(\n    $empresa: ID!\n    $sucursal: ID!\n    $filtro: String\n  ) {\n    obtenerProductosAlmacenes(\n      empresa: $empresa\n      sucursal: $sucursal\n      filtro: $filtro\n    ) {\n      _id\n      datos_generales {\n        codigo_barras\n        clave_alterna\n        tipo_producto\n        nombre_comercial\n        nombre_generico\n        descripcion\n        id_categoria\n        categoria\n        subcategoria\n        id_subcategoria\n        id_departamento\n        departamento\n        id_marca\n        marca\n        clave_producto_sat {\n          Name\n          Value\n        }\n        receta_farmacia\n      }\n      precios{\n        inventario{\n          inventario_maximo\n          inventario_minimo\n          unidad_de_inventario\n          codigo_unidad\n        }\n      }\n  \n      existencia_almacenes {\n        _id {\n          producto\n          almacen {\n            _id\n            nombre_almacen\n          }\n        }\n        unidad_inventario\n        cantidad_existente\n      }\n      empresa\n      sucursal\n    }\n  }\n`;\n\nexport const OBTENER_CATEGORIAS = gql`\n  query obtenerCategorias($empresa: ID!, $sucursal: ID!) {\n    obtenerCategorias(empresa: $empresa, sucursal: $sucursal) {\n      _id\n      categoria\n      subcategorias {\n        _id\n        subcategoria\n      }\n    }\n  }\n`;\n\nexport const REALIZAR_TRASPASO = gql`\n  mutation CrearTraspaso(\n    $input: CrearTraspasoInput\n    $usuario: ID!\n    $empresa: ID!\n  ) {\n    crearTraspaso(input: $input, usuario: $usuario, empresa: $empresa) {\n      message\n      resp\n    }\n  }\n`;\n\nexport const OBTENER_PRODUCTOS_EMPRESA = gql`\n  query obtenerProductosPorEmpresa($empresa: ID!, $filtro: String) {\n    obtenerProductosPorEmpresa(empresa: $empresa, filtro : $filtro) {\n      _id\n      datos_generales {\n        codigo_barras\n        clave_alterna\n        tipo_producto\n        nombre_comercial\n        nombre_generico\n        descripcion\n        id_categoria\n        categoria\n        subcategoria\n        id_subcategoria\n        id_departamento\n        departamento\n        id_marca\n        marca\n        clave_producto_sat {\n          Name\n          Value\n        }\n        receta_farmacia\n      }\n      precio_plazos {\n        precio_cajas {\n          plazo\n          unidad\n          precio\n        }\n        precio_piezas {\n          plazo\n          unidad\n          precio\n        }\n        precio_costales {\n          plazo\n          unidad\n          precio\n        }\n      }\n      precios {\n        ieps\n        ieps_activo\n        iva\n        iva_activo\n        monedero\n        monedero_electronico\n        precio_de_compra {\n          ieps\n          iva\n          precio_con_impuesto\n          precio_sin_impuesto\n        }\n        precios_producto {\n          numero_precio\n          precio_neto\n          precio_venta\n          unidad_mayoreo\n          utilidad\n          ieps_precio\n          iva_precio\n        }\n        unidad_de_compra {\n          cantidad\n          precio_unitario_con_impuesto\n          precio_unitario_sin_impuesto\n          unidad\n        }\n        inventario {\n          inventario_minimo\n          inventario_maximo\n          unidad_de_inventario\n        }\n        granel\n      }\n      sucursal\n      usuario\n      empresa\n    }\n  }\n`;\n\nexport const OBTENER_TRASPASOS = gql`\n  query obtenerTraspasos( $input: ConsultaTraspasosInput) {\n    obtenerTraspasos(input: $input) {\n      _id  \n      cantidad\n      \n      id_traspaso{\n        concepto_traspaso{\n          nombre_concepto\n        }\n        fecha_registro\n      }\n      producto{\n        datos_generales{\n          nombre_comercial\n        }\n      }\n      almacen_origen{\n        _id\n        nombre_almacen\n      }\n      almacen_destino{\n        _id\n        nombre_almacen\n      }\n    }\n  }\n`;\n","import React, { useState, Fragment, useContext, useCallback } from 'react';\nimport {\n    Button,\n    Dialog,\n    TextField,\n    Container,\n    Typography,\n    Box,\n    IconButton,\n    DialogTitle,\n    Divider,\n    FormControl,\n    Select,\n    MenuItem\n} from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { CrearAlmacenContext } from '../../../../context/Almacenes/crearAlmacen';\nimport { useMutation, useQuery } from '@apollo/client';\nimport { REGISTRO_ALMACEN, ACTUALIZAR_ALMACEN } from '../../../../gql/Almacenes/Almacen';\nimport SnackBarMessages from '../../../../components/SnackBarMessages';\nimport BackdropComponent from '../../../../components/Layouts/BackDrop';\nimport { OBTENER_USUARIOS } from '../../../../gql/Catalogos/usuarios';\nimport { Edit } from '@material-ui/icons';\nimport { RegProductoContext } from '../../../../context/Catalogos/CtxRegProducto';\nimport Add from '@material-ui/icons/Add';\n\nconst useStyles = makeStyles((theme) => ({\n    formInputFlex: {\n        display: 'flex',\n        '& > *': {\n            margin: `${theme.spacing(1)}px ${theme.spacing(1)}px`\n        },\n        '& span': {\n            color: 'red'\n        }\n    },\n    formInput: {\n        margin: `${theme.spacing(1)}px ${theme.spacing(2)}px`\n    }\n}));\n\nexport default function ContainerRegistroAlmacen({ accion, datos, refetch }) {\n\n    /* const sucursal = {\n        _id: \"60c8e180340d5d223432a916\",\n        nombre_sucursal: \"Sucursal 1 editada\"\n    }; */\n    const sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n    const [CrearAlmacen] = useMutation(REGISTRO_ALMACEN);\n    const [ActualizarAlmacen] = useMutation(ACTUALIZAR_ALMACEN);\n    const { data } = useQuery(OBTENER_USUARIOS, {\n        variables: {\n            sucursal: `${sesion.sucursal._id}`\n        }\n    });\n    let obtenerUsuarios = [];\n\n    const classes = useStyles();\n    const [alert, setAlert] = useState({ message: '', status: '', open: false });\n    // const empresa = '609eb3b4b995884dc49bbffa';\n    const [open, setOpen] = useState(false);\n    const { datosAlmacen, setDatosAlmacen, error, setError, update, setUpdate } = useContext(CrearAlmacenContext);\n    const { almacen_inicial, setAlmacenInicial } = useContext(RegProductoContext);\n    const [loading, setLoading] = useState(false);\n\n\n    // const sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\n    const limpiarCampos = useCallback(\n        () => {\n            setDatosAlmacen({\n                nombre_almacen: '',\n                id_usuario_encargado: '',\n                direccion: {\n                    calle: '',\n                    no_ext: '',\n                    no_int: '',\n                    codigo_postal: '',\n                    colonia: '',\n                    municipio: '',\n                    localidad: '',\n                    estado: '',\n                    pais: ''\n                }\n            });\n        },\n        [setDatosAlmacen]\n    );\n    const toggleModal = () => {\n        setOpen(true);\n        if (datos) {\n            let input = {};\n            if (datos.id_usuario_encargado) {\n                const { id_usuario_encargado, ...datosNew } = datos;\n                input = datosNew;\n                input.id_usuario_encargado = id_usuario_encargado._id;\n            } else {\n                input = datos;\n            }\n            setDatosAlmacen(input);\n        }\n    };\n    const onCloseModal = () => {\n        setOpen(false);\n        limpiarCampos();\n    };\n\n    const obtenerCampos = (e) => {\n        setDatosAlmacen({\n            ...datosAlmacen,\n            [e.target.name]: e.target.value\n        });\n    };\n\n    const obtenerCamposDireccion = (e) => {\n        setDatosAlmacen({\n            ...datosAlmacen,\n            direccion: { ...datosAlmacen.direccion, [e.target.name]: e.target.value }\n        });\n    };\n\n    const saveData = async () => {\n        try {\n            if (!datosAlmacen.nombre_almacen) {\n                setError(true);\n                return;\n            } else {\n                if (accion === \"registrar\") {\n                    let input = {};\n                    let almacen_creado;\n                    if (datosAlmacen.id_usuario_encargado === \"\") {\n                        const { id_usuario_encargado, ...input } = datosAlmacen;\n                        almacen_creado = await CrearAlmacen({\n                            variables: {\n                                input,\n                                id: sesion.sucursal._id,\n                                empresa: sesion.empresa._id\n                            }\n                        });\n                    } else {\n                        input = datosAlmacen;\n                        almacen_creado = await CrearAlmacen({\n                            variables: {\n                                input,\n                                id: sesion.sucursal._id,\n                                empresa: sesion.empresa._id\n                            }\n                        });\n                    }\n\n                    const id_almacen = almacen_creado.data.crearAlmacen._id;\n                    if (refetch) {\n                        setAlmacenInicial({\n                            ...almacen_inicial,\n                            id_almacen,\n                            almacen: datosAlmacen.nombre_almacen,\n                        })\n                        refetch();\n                    }\n                } else {\n                    const { id_sucursal, _id, ...input } = datosAlmacen;\n                    await ActualizarAlmacen({\n                        variables: {\n                            input,\n                            id: datosAlmacen._id\n                        }\n                    })\n                }\n                setUpdate(!update);\n                setAlert({ message: '¡Listo!', status: 'success', open: true });\n                setError(false);\n                setLoading(false);\n                onCloseModal();\n            }\n        } catch (error) {\n            setAlert({ message: 'Hubo un error', status: 'error', open: true });\n            setLoading(false);\n        }\n    }\n\n    if (data) {\n        obtenerUsuarios = data.obtenerUsuarios;\n    }\n\n    return (\n        <Fragment>\n            <SnackBarMessages alert={alert} setAlert={setAlert} />\n            {accion === 'registrar' ? refetch ? (\n                <IconButton color=\"primary\" onClick={toggleModal}>\n                    <Add />\n                </IconButton>\n            ) : (\n                <Button color=\"primary\" variant=\"contained\" size=\"large\" onClick={toggleModal}>\n                    AGREGAR\n                </Button>\n            ) : (\n                <IconButton onClick={toggleModal}>\n                    <Edit />\n                </IconButton>\n            )}\n            <Dialog open={open} onClose={onCloseModal} fullWidth maxWidth=\"md\">\n                <BackdropComponent loading={loading} setLoading={setLoading} />\n                <DialogTitle id=\"form-dialog-title\">Registro almacen</DialogTitle>\n                <Container maxWidth=\"md\">\n                    <div className={classes.formInputFlex}>\n                        <Box width=\"100%\">\n                            <Typography><span>* </span>Nombre Almacen</Typography>\n                            <TextField\n                                fullWidth\n                                size=\"small\"\n                                error={error}\n                                name=\"nombre_almacen\"\n                                id=\"form-producto-codigo-barras\"\n                                variant=\"outlined\"\n                                value={datosAlmacen.nombre_almacen}\n                                /* helperText=\"Incorrect entry.\" */\n                                onChange={obtenerCampos}\n                            />\n                        </Box>\n                        <Box width=\"100%\">\n                            <Typography>Encargado de almacen</Typography>\n                            <FormControl fullWidth size=\"small\" variant=\"outlined\">\n                                <Select\n                                    labelId=\"demo-simple-select-label\"\n                                    id=\"demo-simple-select\"\n                                    name=\"id_usuario_encargado\"\n                                    value={datosAlmacen.id_usuario_encargado ? datosAlmacen.id_usuario_encargado : \"\"}\n                                    onChange={obtenerCampos}\n                                >\n                                    {\n                                        obtenerUsuarios?.map((user, index) => (\n                                            <MenuItem key={index} value={user._id}>{user.nombre}</MenuItem>\n                                        ))\n                                    }\n                                </Select>\n                            </FormControl>\n                        </Box>\n                        <Box width=\"100%\">\n                            <Typography>Sucursal</Typography>\n                            <Typography style={{ marginTop: \"7px\", fontWeight: \"bold\" }}>{sesion.sucursal.nombre_sucursal}</Typography>\n                        </Box>\n                    </div>\n                    <Box mt={2}>\n                        <Typography>\n                            <b>Domicilio</b>\n                        </Typography>\n                        <Divider />\n                    </Box>\n                    <div className={classes.formInputFlex}>\n                        <Box width=\"100%\">\n                            <Typography>Calle</Typography>\n                            <TextField\n                                fullWidth\n                                size=\"small\"\n                                // error={error && !datosAlmacen.direccion.calle}\n                                name=\"calle\"\n                                variant=\"outlined\"\n                                value={datosAlmacen.direccion.calle}\n                                onChange={obtenerCamposDireccion}\n                            />\n                        </Box>\n                        <Box width=\"100%\">\n                            <Typography>No. exterior</Typography>\n                            <TextField\n                                fullWidth\n                                size=\"small\"\n                                // error={error && !datosAlmacen.direccion.no_ext}\n                                name=\"no_ext\"\n                                variant=\"outlined\"\n                                value={datosAlmacen.direccion.no_ext}\n                                onChange={obtenerCamposDireccion}\n                            />\n                        </Box>\n                        <Box width=\"100%\">\n                            <Typography>No. interior</Typography>\n                            <TextField\n                                fullWidth\n                                size=\"small\"\n                                // error={error && !datosAlmacen.direccion.no_int}\n                                name=\"no_int\"\n                                variant=\"outlined\"\n                                value={datosAlmacen.direccion.no_int}\n                                onChange={obtenerCamposDireccion}\n                            />\n                        </Box>\n                    </div>\n                    <div className={classes.formInputFlex}>\n                        <Box width=\"100%\">\n                            <Typography>Codigo Postal</Typography>\n                            <TextField\n                                fullWidth\n                                size=\"small\"\n                                type=\"number\"\n                                // error={error && !datosAlmacen.direccion.codigo_postal}\n                                name=\"codigo_postal\"\n                                variant=\"outlined\"\n                                value={datosAlmacen.direccion.codigo_postal}\n                                onChange={obtenerCamposDireccion}\n                            />\n                        </Box>\n                        <Box width=\"100%\">\n                            <Typography>Colonia</Typography>\n                            <TextField\n                                fullWidth\n                                size=\"small\"\n                                // error={error && !datosAlmacen.direccion.colonia}\n                                name=\"colonia\"\n                                variant=\"outlined\"\n                                value={datosAlmacen.direccion.colonia}\n                                onChange={obtenerCamposDireccion}\n                            />\n                        </Box>\n                        <Box width=\"100%\">\n                            <Typography>Municipio</Typography>\n                            <TextField\n                                fullWidth\n                                size=\"small\"\n                                // error={error && !datosAlmacen.direccion.municipio}\n                                name=\"municipio\"\n                                variant=\"outlined\"\n                                value={datosAlmacen.direccion.municipio}\n                                onChange={obtenerCamposDireccion}\n                            />\n                        </Box>\n                    </div>\n                    <div className={classes.formInputFlex}>\n                        <Box width=\"100%\">\n                            <Typography>Localidad</Typography>\n                            <TextField\n                                fullWidth\n                                size=\"small\"\n                                // error={error && !datosAlmacen.direccion.localidad}\n                                name=\"localidad\"\n                                variant=\"outlined\"\n                                value={datosAlmacen.direccion.localidad}\n                                onChange={obtenerCamposDireccion}\n                            />\n                        </Box>\n                        <Box width=\"100%\">\n                            <Typography>Estado</Typography>\n                            <TextField\n                                fullWidth\n                                size=\"small\"\n                                // error={error && !datosAlmacen.direccion.estado}\n                                name=\"estado\"\n                                variant=\"outlined\"\n                                value={datosAlmacen.direccion.estado}\n                                onChange={obtenerCamposDireccion}\n                            />\n                        </Box>\n                        <Box width=\"100%\">\n                            <Typography>Pais</Typography>\n                            <TextField\n                                fullWidth\n                                size=\"small\"\n                                //  error={error && !datosAlmacen.direccion.pais}\n                                name=\"pais\"\n                                variant=\"outlined\"\n                                value={datosAlmacen.direccion.pais}\n                                onChange={obtenerCamposDireccion}\n                            />\n                        </Box>\n                    </div>\n                    <Box m={1} display=\"flex\" justifyContent=\"flex-end\">\n                        <Button color=\"primary\" variant=\"contained\" size=\"large\" onClick={saveData} >\n                            Guardar\n                        </Button>\n                    </Box>\n                </Container>\n            </Dialog>\n        </Fragment>\n    )\n}\n","import React, { Fragment, useContext } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { Divider } from \"@material-ui/core\";\nimport {\n  Box,\n  FormControl,\n  MenuItem,\n  Select,\n  TextField,\n  Typography,\n  Grid,\n} from \"@material-ui/core\";\n/* import \"date-fns\";\nimport local from \"date-fns/locale/es\";\nimport DateFnsUtils from \"@date-io/date-fns\";\nimport {\n  MuiPickersUtilsProvider,\n  KeyboardDatePicker,\n} from \"@material-ui/pickers\"; */\nimport { RegProductoContext } from \"../../../../../context/Catalogos/CtxRegProducto\";\nimport ContainerRegistroAlmacen from \"../../../Almacenes/RegistroAlmacen/ContainerRegistroAlmacen\";\nimport { AlmacenProvider } from \"../../../../../context/Almacenes/crearAlmacen\";\nimport { unitCodes, unitCodes_granel } from \"../unidades\";\n\nconst useStyles = makeStyles((theme) => ({\n  titulos: {\n    fontWeight: 500,\n  },\n}));\n\nexport default function RegistroAlmacenInicial({\n  obtenerConsultasProducto,\n  refetch,\n}) {\n  const classes = useStyles();\n  const {\n    datos_generales,\n    precios,\n    setPrecios,\n    almacen_inicial,\n    setAlmacenInicial,\n    selectedDate,\n    setSelectedDate,\n    update,\n  } = useContext(RegProductoContext);\n  const { almacenes } = obtenerConsultasProducto;\n\n  /*ARMAR OBJETO DE INVENTARIO  */\n  const obtenerInventario = (e, child) => {\n    if (!e.target.value) {\n      setPrecios({\n        ...precios,\n        inventario: { ...precios.inventario, [e.target.name]: \"\" },\n      });\n      return;\n    }\n    if (e.target.name === \"unidad_de_inventario\") {\n      const { codigo_unidad, unidad } = child.props.unidad;\n      setPrecios({\n        ...precios,\n        inventario: {\n          ...precios.inventario,\n          [e.target.name]: unidad,\n          codigo_unidad,\n        },\n      });\n      return;\n    }\n    setPrecios({\n      ...precios,\n      inventario: {\n        ...precios.inventario,\n        [e.target.name]: parseFloat(e.target.value),\n      },\n    });\n  };\n\n  const obtenerAlmacenInicial = (e) => {\n    if (!e.target.value) {\n      setAlmacenInicial({\n        ...almacen_inicial,\n        [e.target.name]: \"\",\n      });\n      return;\n    }\n    if (e.target.name === \"almacen\") {\n      setAlmacenInicial({\n        ...almacen_inicial,\n        [e.target.name]: e.target.value,\n      });\n      return;\n    }\n    setAlmacenInicial({\n      ...almacen_inicial,\n      [e.target.name]: parseFloat(e.target.value),\n    });\n  };\n\n  const obtenerAlmacenes = (event, child) => {\n    setAlmacenInicial({\n      ...almacen_inicial,\n      [event.target.name]: event.target.value,\n      [child.props.name]: child.props.id,\n    });\n  };\n\n  const handleDateChange = (date) => {\n    setSelectedDate(date);\n    setAlmacenInicial({\n      ...almacen_inicial,\n      fecha_de_expiracion: date,\n    });\n  };\n\n  return (\n    <Fragment>\n      <Box my={2}>\n        <Typography>\n          <b>Inventario</b>\n        </Typography>\n        <Divider />\n      </Box>\n      <Grid container spacing={2}>\n        <Grid item md={4} xs={12}>\n          <Box>\n            <Typography className={classes.titulos}>\n              Inventario mínimo\n            </Typography>\n            <TextField\n              fullWidth\n              type=\"number\"\n              InputProps={{ inputProps: { min: 0 } }}\n              size=\"small\"\n              name=\"inventario_minimo\"\n              id=\"form-producto-inventario_minimo\"\n              variant=\"outlined\"\n              value={precios.inventario.inventario_minimo}\n              onChange={obtenerInventario}\n              onFocus={(e) => {\n                const { name, value } = e.target;\n                if (parseFloat(value) === 0) {\n                  setPrecios({\n                    ...precios,\n                    inventario: { ...precios.inventario, [name]: \"\" },\n                  });\n                }\n              }}\n              onBlur={(e) => {\n                const { name, value } = e.target;\n                if (value === \"\") {\n                  setPrecios({\n                    ...precios,\n                    inventario: { ...precios.inventario, [name]: 0 },\n                  });\n                }\n              }}\n              error={precios.inventario.inventario_minimo === \"\"}\n            />\n          </Box>\n        </Grid>\n        <Grid item md={4} xs={12}>\n          <Box>\n            <Typography className={classes.titulos}>\n              Inventario máximo\n            </Typography>\n            <TextField\n              fullWidth\n              type=\"number\"\n              InputProps={{ inputProps: { min: 0 } }}\n              size=\"small\"\n              name=\"inventario_maximo\"\n              id=\"form-producto-inventario_maximo\"\n              variant=\"outlined\"\n              value={precios.inventario.inventario_maximo}\n              onChange={obtenerInventario}\n              onFocus={(e) => {\n                const { name, value } = e.target;\n                if (parseFloat(value) === 0) {\n                  setPrecios({\n                    ...precios,\n                    inventario: { ...precios.inventario, [name]: \"\" },\n                  });\n                }\n              }}\n              onBlur={(e) => {\n                const { name, value } = e.target;\n                if (value === \"\") {\n                  setPrecios({\n                    ...precios,\n                    inventario: { ...precios.inventario, [name]: 0 },\n                  });\n                }\n              }}\n              error={precios.inventario.inventario_maximo === \"\"}\n            />\n          </Box>\n        </Grid>\n        <Grid item md={4} xs={12}>\n          <Box>\n            <Typography className={classes.titulos}>\n              Unidad de inventario\n            </Typography>\n            <Box display=\"flex\">\n              <FormControl\n                variant=\"outlined\"\n                fullWidth\n                size=\"small\"\n                name=\"unidad_de_inventario\"\n              >\n                {precios.granel ? (\n                  <Select\n                    name=\"unidad_de_inventario\"\n                    value={precios.inventario.unidad_de_inventario}\n                    onChange={obtenerInventario}\n                  >\n                    {unitCodes_granel.map((res, index) => (\n                      <MenuItem key={index} unidad={res} value={res.unidad}>\n                        {res.unidad}\n                      </MenuItem>\n                    ))}\n                  </Select>\n                ) : (\n                  <Select\n                    name=\"unidad_de_inventario\"\n                    value={precios.inventario.unidad_de_inventario}\n                    onChange={obtenerInventario}\n                  >\n                    {unitCodes.map((res, index) => (\n                      <MenuItem key={index} unidad={res} value={res.unidad}>\n                        {res.unidad}\n                      </MenuItem>\n                    ))}\n                  </Select>\n                )}\n              </FormControl>\n            </Box>\n          </Box>\n        </Grid>\n      </Grid>\n      {update ? null : datos_generales.tipo_producto === \"OTROS\" ? (\n        <Fragment>\n          <Box my={3}>\n            <Typography>\n              <b>Almacen incial</b>\n            </Typography>\n            <Divider />\n          </Box>\n          <Grid container spacing={2} style={{ alignItems: \"center\" }}>\n            <Grid item md={6} xs={12}>\n              <Box>\n                <Typography className={classes.titulos}>\n                  Cantidad inicial en <b>{precios.unidad_de_compra.unidad}</b>\n                </Typography>\n                <Box display=\"flex\" alignItems=\"center\">\n                  <TextField\n                    fullWidth\n                    type=\"number\"\n                    InputProps={{ inputProps: { min: 0 } }}\n                    size=\"small\"\n                    name=\"cantidad\"\n                    variant=\"outlined\"\n                    value={almacen_inicial.cantidad}\n                    onChange={obtenerAlmacenInicial}\n                    onFocus={(e) => {\n                      const { name, value } = e.target;\n                      if (parseFloat(value) === 0) {\n                        setAlmacenInicial({\n                          ...almacen_inicial,\n                          [name]: \"\",\n                        });\n                      }\n                    }}\n                    onBlur={(e) => {\n                      const { name, value } = e.target;\n                      if (value === \"\") {\n                        setAlmacenInicial({\n                          ...almacen_inicial,\n                          [name]: 0,\n                        });\n                      }\n                    }}\n                    error={almacen_inicial.cantidad === \"\"}\n                  />\n                </Box>\n              </Box>\n            </Grid>\n            <Grid item md={6} xs={12}>\n              <Box>\n                <Typography className={classes.titulos}>Almacen</Typography>\n                <Box display=\"flex\" alignItems=\"center\">\n                  <FormControl\n                    variant=\"outlined\"\n                    fullWidth\n                    size=\"small\"\n                    name=\"almacen\"\n                    error={\n                      almacen_inicial.cantidad > 0 && !almacen_inicial.almacen\n                    }\n                  >\n                    <Select\n                      name=\"almacen\"\n                      value={almacen_inicial.almacen}\n                      onChange={obtenerAlmacenes}\n                    >\n                      <MenuItem value=\"\">\n                        <em>Seleccione uno</em>\n                      </MenuItem>\n                      {almacenes ? (\n                        almacenes.map((res) => {\n                          return (\n                            <MenuItem\n                              name=\"id_almacen\"\n                              key={res._id}\n                              value={res.nombre_almacen}\n                              id={res._id}\n                            >\n                              {res.nombre_almacen}\n                            </MenuItem>\n                          );\n                        })\n                      ) : (\n                        <MenuItem value=\"\" />\n                      )}\n                    </Select>\n                  </FormControl>\n                  <AlmacenProvider>\n                    <ContainerRegistroAlmacen\n                      accion=\"registrar\"\n                      refetch={refetch}\n                    />\n                  </AlmacenProvider>\n                </Box>\n              </Box>\n            </Grid>\n          </Grid>\n\n          {/*  <Box width=\"100%\">\n              <Typography>Fecha de expiración</Typography>\n              <MuiPickersUtilsProvider utils={DateFnsUtils} locale={local}>\n                <Grid container justify=\"space-around\">\n                  <KeyboardDatePicker\n                    margin=\"dense\"\n                    id=\"date-picker-dialog\"\n                    placeholder=\"ex: DD/MM/AAAA\"\n                    format=\"dd/MM/yyyy\"\n                    value={selectedDate}\n                    onChange={handleDateChange}\n                    KeyboardButtonProps={{\n                      \"aria-label\": \"change date\",\n                    }}\n                  />\n                </Grid>\n              </MuiPickersUtilsProvider>\n            </Box> */}\n        </Fragment>\n      ) : null}\n    </Fragment>\n  );\n}\n","export function validaciones(generales, precios, almacen, presentaciones) {\n    /* si no hay generales y datos 2 */\n    /* console.log(almacen); */\n    if (\n        !generales.clave_alterna ||\n        !generales.tipo_producto ||\n        !generales.nombre_generico ||\n        !generales.nombre_comercial\n    ) {\n        if (!precios.precio_de_compra.precio_con_impuesto ||\n            !precios.precio_de_compra.precio_sin_impuesto ||\n            !precios.unidad_de_compra.cantidad) {\n            return { error: true, message: 'Campo obligatorio', vista1: true, vista2: true };\n        }\n        return { error: true, message: 'Campo obligatorio', vista1: true };\n    } else if (\n        /* si solo hay generales */\n        !precios.precio_de_compra.precio_con_impuesto || !precios.precio_de_compra.precio_sin_impuesto || !precios.unidad_de_compra.cantidad\n    ) {\n        return { error: true, message: 'Campo obligatorio', vista2: true };\n    } else if (\n        /* si solo hay precios */\n        !generales.clave_alterna || !generales.tipo_producto || !generales.nombre_generico || !generales.nombre_comercial\n    ) {\n        return { error: true, message: 'Campo obligatorio', vista1: true };\n    } else if(\n        /* si hay cantidad almacen pero no hay almacen seleccionado */\n        almacen.cantidad > 0 && !almacen.almacen && generales.tipo_producto === \"OTROS\"\n    ) {\n        console.log(\"si hay cantidad almacen pero no hay almacen seleccionado\");\n        return { error: true, message: 'Campo obligatorio', vista3: true };\n    }/*  else if(\n        //si no hay almacen seleccionado\n        presentaciones.length > 0 && !almacen.almacen && !almacen_existente\n    ){\n        console.log(\"no hay present\");\n        return { error: true, message: 'Campo obligatorio', vista7: true };\n    } */ else {\n        /* si hay todos los datos */\n        return { error: false, message: '' };\n    }\n}","import { gql } from '@apollo/client';\n\nexport const CREAR_CUENTA = gql`\n\tmutation crearCuenta($input: CrearCuentasInput) {\n\t\tcrearCuenta(input: $input) {\n\t\t\t_id\n\t\t\tcuenta\n\t\t\tempresa {\n\t\t\t\t_id\n\t\t\t\tnombre_empresa\n\t\t\t\tcorreo_empresa\n\t\t\t\tnombre_dueno\n\t\t\t\ttelefono_dueno\n\t\t\t}\n\t\t\tsucursal {\n\t\t\t\t_id\n\t\t\t\tnombre_sucursal\n\t\t\t\tdescripcion\n\t\t\t}\n\t\t}\n\t}\n`;\nexport const CREAR_SUBCUENTA= gql`\n\tmutation crearSubcuenta($idCuenta: ID!, $input: CrearSubcuentasInput) {\n\t\tcrearSubcuenta(idCuenta: $idCuenta, input: $input) {\n\t\t\tmessage\n\t\t}\n\t}\n`;\n\nexport const ACTUALIZAR_CUENTA= gql`\n\tmutation actualizarCuenta($idCuenta: ID!, $input: ActualizarCuentasInput) {\n\t\tactualizarCuenta(idCuenta: $idCuenta, input: $input) {\n\t\t\tmessage\n\t\t}\n\t}\n`;\nexport const ACTUALIZAR_SUBCUENTA = gql`\n\tmutation actualizarSubcuenta($idCuenta: ID!, $idSubcuenta: ID!, $input: ActualizarSubcuentasInput) {\n\t\tactualizarSubcuenta(idCuenta: $idCuenta, idSubcuenta: $idSubcuenta, input: $input) {\n\t\t\tmessage\n\t\t}\n\t}\n`;\n\nexport const OBTENER_CUENTAS = gql`\n\tquery obtenerCuentas($empresa: ID!, $sucursal: ID!) {\n\t\tobtenerCuentas(empresa: $empresa, sucursal: $sucursal) {\n\t\t\t_id\n\t\t\tcuenta\n\t\t\tsubcuentas {\n\t\t\t\t_id\n\t\t\t\tsubcuenta\n\t\t\t}\n\t\t\tempresa {\n\t\t\t\t_id\n\t\t\t\tnombre_empresa\n\t\t\t\tcorreo_empresa\n\t\t\t\tnombre_dueno\n\t\t\t\ttelefono_dueno\n\t\t\t}\n\t\t\tsucursal {\n\t\t\t\t_id\n\t\t\t\tnombre_sucursal\n\t\t\t\tdescripcion\n\t\t\t}\n\t\t}\n\t}\n`;\n\nexport const ELIMINAR_CUENTA = gql`\n\tmutation eliminarCuenta($id: ID!) {\n\t\teliminarCuenta(id: $id) {\n\t\t\tmessage\n\t\t}\n\t}\n`; \nexport const ELIMINAR_SUBCUENTA = gql`\n\tmutation eliminarSubcuenta($idCuenta: ID!, $idSubcuenta: ID!) {\n\t\teliminarSubcuenta(idCuenta: $idCuenta, idSubcuenta: $idSubcuenta) {\n\t\t\tmessage\n\t\t}\n\t}\n`; ","import React, { Fragment, useContext, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport {\n  Button,\n  CircularProgress,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  Divider,\n  Grid,\n  TextField,\n} from \"@material-ui/core\";\nimport {\n  Box,\n  FormControl,\n  MenuItem,\n  Select,\n  Typography,\n} from \"@material-ui/core\";\nimport { RegProductoContext } from \"../../../../../context/Catalogos/CtxRegProducto\";\nimport Add from \"@material-ui/icons/Add\";\nimport SnackBarMessages from \"../../../../../components/SnackBarMessages\";\nimport {\n  CREAR_CUENTA,\n  CREAR_SUBCUENTA,\n} from \"../../../../../gql/Catalogos/centroCostos\";\nimport { useMutation } from \"@apollo/client\";\n\nconst useStyles = makeStyles((theme) => ({\n  titulos: {\n    fontWeight: 500,\n  },\n}));\n\nexport default function CentroCostos({ obtenerConsultasProducto, refetch }) {\n  const classes = useStyles();\n  const {\n    centro_de_costos,\n    setCentroDeCostos,\n    subcostos,\n    setSubcostos,\n  } = useContext(RegProductoContext);\n  const { centro_costos } = obtenerConsultasProducto;\n\n  const obtenerAlmacenes = (event, child) => {\n    setCentroDeCostos({\n      ...centro_de_costos,\n      [event.target.name]: event.target.value,\n      [child.props.name]: child.props.id,\n    });\n    if (child.props.costos) {\n      const { subcuentas } = child.props.costos;\n      setSubcostos(subcuentas);\n    }\n  };\n\n  return (\n    <Fragment>\n      <Box my={3}>\n        <Typography>\n          <b>Centro de costos</b>\n        </Typography>\n        <Divider />\n      </Box>\n      <Grid container spacing={2}>\n        <Grid item md={6} xs={12}>\n          <Box>\n            <Typography className={classes.titulos}>Cuenta</Typography>\n            <Box display=\"flex\">\n              <FormControl\n                variant=\"outlined\"\n                fullWidth\n                size=\"small\"\n                name=\"cuenta\"\n              >\n                <Select\n                  name=\"cuenta\"\n                  value={centro_de_costos.cuenta ? centro_de_costos.cuenta : \"\"}\n                  onChange={obtenerAlmacenes}\n                >\n                  <MenuItem value=\"\">\n                    <em>Seleccione uno</em>\n                  </MenuItem>\n                  {centro_costos ? (\n                    centro_costos.map((res) => {\n                      return (\n                        <MenuItem\n                          name=\"id_cuenta\"\n                          key={res._id}\n                          value={res.cuenta}\n                          id={res._id}\n                          costos={res}\n                        >\n                          {res.cuenta}\n                        </MenuItem>\n                      );\n                    })\n                  ) : (\n                    <MenuItem value=\"\" />\n                  )}\n                </Select>\n              </FormControl>\n              <RegistrarNuevoSelect\n                tipo=\"cuenta\"\n                name=\"cuenta\"\n                refetch={refetch}\n              />\n            </Box>\n          </Box>\n        </Grid>\n        <Grid item md={6} xs={12}>\n          <Box>\n            <Typography className={classes.titulos}>Subcuenta</Typography>\n            <Box display=\"flex\">\n              <FormControl\n                variant=\"outlined\"\n                fullWidth\n                size=\"small\"\n                name=\"subcuenta\"\n              >\n                <Select\n                  name=\"subcuenta\"\n                  value={\n                    centro_de_costos.subcuenta ? centro_de_costos.subcuenta : \"\"\n                  }\n                  onChange={obtenerAlmacenes}\n                >\n                  <MenuItem value=\"\">\n                    <em>Seleccione uno</em>\n                  </MenuItem>\n                  {subcostos ? (\n                    subcostos.map((res) => {\n                      return (\n                        <MenuItem\n                          name=\"id_subcuenta\"\n                          key={res._id}\n                          value={res.subcuenta}\n                          id={res._id}\n                        >\n                          {res.subcuenta}\n                        </MenuItem>\n                      );\n                    })\n                  ) : (\n                    <MenuItem value=\"\" />\n                  )}\n                </Select>\n              </FormControl>\n              <RegistrarNuevoSelect\n                tipo=\"subcuenta\"\n                name=\"subcuenta\"\n                refetch={refetch}\n              />\n            </Box>\n          </Box>\n        </Grid>\n      </Grid>\n    </Fragment>\n  );\n}\n\nconst RegistrarNuevoSelect = ({ tipo, name, refetch }) => {\n  const [open, setOpen] = useState(false);\n  const [validacion, setValidacion] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [value, setValue] = useState(\"\");\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n  const {\n    centro_de_costos,\n    setCentroDeCostos,\n    subcostos,\n    setSubcostos,\n  } = useContext(RegProductoContext);\n  const [alert, setAlert] = useState({ message: \"\", status: \"\", open: false });\n\n  /*  costos Mutation */\n  const [crearCuenta] = useMutation(CREAR_CUENTA);\n  /*  subcostos Mutation */\n  const [crearSubcuenta] = useMutation(CREAR_SUBCUENTA);\n\n  const handleToggle = () => {\n    setOpen(!open);\n  };\n\n  const obtenerDatos = (e) => {\n    setValue(e.target.value);\n  };\n\n  const guardarDatos = async (e) => {\n    e.preventDefault();\n    if (!value) {\n      setValidacion(true);\n      return;\n    }\n    let variables = {\n      input: {\n        [name]: value,\n        empresa: sesion.empresa._id,\n        sucursal: sesion.sucursal._id,\n      },\n    };\n    if (tipo === \"subcuenta\") {\n      variables = {\n        input: {\n          [name]: value,\n        },\n        idCuenta: centro_de_costos.id_cuenta,\n      };\n    }\n\n    setLoading(true);\n    try {\n      switch (tipo) {\n        case \"cuenta\":\n          const cuenta_creada = await crearCuenta({ variables });\n          refetch();\n          const id_cuenta = cuenta_creada.data.crearCuenta._id;\n          setCentroDeCostos({\n            ...centro_de_costos,\n            cuenta: value,\n            id_cuenta,\n          });\n          break;\n        case \"subcuenta\":\n          const subcuenta_creada = await crearSubcuenta({ variables });\n          refetch();\n          const id_subcuenta = subcuenta_creada.data.crearSubcuenta._id;\n          setSubcostos([...subcostos, { _id: id_subcuenta, subcuenta: value }]);\n          setCentroDeCostos({\n            ...centro_de_costos,\n            subcuenta: value,\n            id_subcuenta,\n          });\n          break;\n        default:\n          break;\n      }\n      setAlert({ message: \"¡Listo!\", status: \"success\", open: true });\n      setLoading(false);\n      handleToggle();\n    } catch (error) {\n      setAlert({ message: \"Hubo un error\", status: \"error\", open: true });\n      setLoading(false);\n    }\n  };\n\n  return (\n    <Fragment>\n      <Button\n        color=\"primary\"\n        onClick={() => handleToggle()}\n        disabled={tipo === \"subcuenta\" && !centro_de_costos.id_cuenta}\n      >\n        <Add />\n      </Button>\n      <Dialog\n        open={open}\n        onClose={handleToggle}\n        aria-labelledby={`modal-title-${tipo}`}\n      >\n        <SnackBarMessages alert={alert} setAlert={setAlert} />\n        <DialogTitle id={`modal-title-${tipo}`}>Registrar {tipo}</DialogTitle>\n        <DialogContent>\n          <form id={`registro-${name}`} onSubmit={(e) => guardarDatos(e)}>\n            <TextField\n              error={validacion}\n              name={name}\n              autoFocus\n              label={tipo}\n              fullWidth\n              variant=\"outlined\"\n              onChange={obtenerDatos}\n              helperText={validacion ? \"Campo obligatorio\" : \"\"}\n            />\n          </form>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={() => handleToggle()} color=\"primary\">\n            Cancelar\n          </Button>\n          <Button\n            /* onClick={() => guardarDatos()} */\n            form={`registro-${name}`}\n            type=\"submit\"\n            variant=\"contained\"\n            color=\"primary\"\n            endIcon={\n              loading ? <CircularProgress color=\"inherit\" size={18} /> : null\n            }\n          >\n            Guardar\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </Fragment>\n  );\n};\n","import React, { Fragment, useContext, useState } from \"react\";\nimport {\n  Box,\n  Divider,\n  FormControl,\n  Grid,\n  makeStyles,\n  MenuItem,\n  Select,\n  TextField,\n  Typography,\n  Button,\n} from \"@material-ui/core\";\nimport TablaPreciosPlazos from \"./tabla_precios\";\nimport { RegProductoContext } from \"../../../../../context/Catalogos/CtxRegProducto\";\nimport { unitCodes, unitCodes_granel } from \"../unidades\";\n\nconst useStyles = makeStyles((theme) => ({\n  formInputFlex: {\n    display: \"flex\",\n    \"& > *\": {\n      margin: `${theme.spacing(1)}px ${theme.spacing(1)}px`,\n    },\n    \"& > .precios-box\": {\n      margin: `${theme.spacing(1)}px ${theme.spacing(3)}px`,\n    },\n  },\n}));\n\nexport default function PrecioPlazos() {\n  const classes = useStyles();\n  const {\n    precios,\n    preciosPlazos,\n    setPreciosPlazos,\n    unidadesVenta,\n    unidadVentaXDefecto,\n  } = useContext(RegProductoContext);\n  const [plazo, setPlazo] = useState({\n    plazo: \"1\",\n    unidad: precios.granel ? \"Costal\" : \"Pz\",\n    codigo_unidad: precios.granel ? \"KGM\" : \"H87\",\n    precio: 0,\n  });\n\n  const obtenerPlazos = (e, child) => {\n    if (e.target.name === \"precio\") {\n      setPlazo({\n        ...plazo,\n        [e.target.name]: parseFloat(e.target.value),\n      });\n      return;\n    }\n    if (e.target.name === \"unidad\") {\n      const { codigo_unidad, unidad } = child.props.unidad;\n      setPlazo({\n        ...plazo,\n        unidad,\n        codigo_unidad,\n      });\n      return;\n    }\n    setPlazo({\n      ...plazo,\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  const guardarPlazo = () => {\n    if (!plazo.plazo || !plazo.precio || !plazo.unidad) return;\n    switch (plazo.unidad) {\n      case \"Pz\":\n        setPreciosPlazos({\n          ...preciosPlazos,\n          precio_piezas: [...preciosPlazos.precio_piezas, plazo],\n        });\n        break;\n      case \"Caja\":\n        setPreciosPlazos({\n          ...preciosPlazos,\n          precio_cajas: [...preciosPlazos.precio_cajas, plazo],\n        });\n        break;\n      case \"Costal\":\n        setPreciosPlazos({\n          ...preciosPlazos,\n          precio_costales: [...preciosPlazos.precio_costales, plazo],\n        });\n        break;\n      default:\n        break;\n    }\n    setPlazo({\n      ...plazo,\n      precio: 0,\n    });\n  };\n\n  return (\n    <Fragment>\n      <Box className={classes.formInputFlex}>\n        <Typography className=\"precios-box\">\n          Precio venta de <b>{unidadVentaXDefecto.unidad}</b> con\n          impuestos(NETO): <b>${unidadVentaXDefecto.precio}</b>\n        </Typography>\n        {unidadesVenta.map((unidades, index) => {\n          if (!unidades.default)\n            return (\n              <Typography key={index} className=\"precios-box\">\n                Precio venta de <b>{unidades.unidad}</b> con impuestos(NETO):{\" \"}\n                <b>${unidades.precio}</b>\n              </Typography>\n            );\n          return null;\n        })}\n      </Box>\n      <Divider />\n      <Box className={classes.formInputFlex} justifyContent=\"center\">\n        <Box>\n          <Typography>Plazo</Typography>\n          <Box display=\"flex\">\n            <FormControl variant=\"outlined\" fullWidth size=\"small\" name=\"plazo\">\n              <Select name=\"plazo\" value={plazo.plazo} onChange={obtenerPlazos}>\n                <MenuItem value=\"1\">1 Mes</MenuItem>\n                <MenuItem value=\"2\">2 Meses</MenuItem>\n                <MenuItem value=\"6\">6 Meses</MenuItem>\n                <MenuItem value=\"8\">8 Meses</MenuItem>\n                <MenuItem value=\"12\">12 Meses</MenuItem>\n                <MenuItem value=\"18\">18 Meses</MenuItem>\n              </Select>\n            </FormControl>\n          </Box>\n        </Box>\n        <Box>\n          <Typography>Unidad</Typography>\n          <Box display=\"flex\">\n            <FormControl\n              variant=\"outlined\"\n              fullWidth\n              size=\"small\"\n              name=\"unidad\"\n            >\n              {precios.granel ? (\n                <Select\n                  name=\"unidad\"\n                  value={plazo.unidad}\n                  onChange={obtenerPlazos}\n                >\n                  {unitCodes_granel.map((res, index) =>\n                    res.unidad === \"Costal\" ? (\n                      <MenuItem key={index} unidad={res} value={res.unidad}>\n                        {res.unidad}\n                      </MenuItem>\n                    ) : null\n                  )}\n                </Select>\n              ) : (\n                <Select\n                  name=\"unidad\"\n                  value={plazo.unidad}\n                  onChange={obtenerPlazos}\n                >\n                  {unitCodes.map((res, index) => (\n                    <MenuItem key={index} unidad={res} value={res.unidad}>\n                      {res.unidad}\n                    </MenuItem>\n                  ))}\n                </Select>\n              )}\n            </FormControl>\n          </Box>\n        </Box>\n        <Box>\n          <Typography>Precio</Typography>\n          <TextField\n            type=\"number\"\n            InputProps={{ inputProps: { min: 0 } }}\n            size=\"small\"\n            name=\"precio\"\n            value={plazo.precio}\n            variant=\"outlined\"\n            onChange={obtenerPlazos}\n          />\n        </Box>\n        <Box display=\"flex\" alignItems=\"flex-end\">\n          <Button\n            variant=\"contained\"\n            size=\"large\"\n            color=\"primary\"\n            onClick={() => guardarPlazo()}\n          >\n            Agregar\n          </Button>\n        </Box>\n      </Box>\n      <Box>\n        <Grid container spacing={2} justify=\"center\">\n          {precios.granel ? (\n            <Fragment>\n              <Grid item lg={3}>\n                <Typography variant=\"h6\" align=\"center\">\n                  Costal\n                </Typography>\n                <TablaPreciosPlazos precios={preciosPlazos.precio_costales} />\n              </Grid>\n            </Fragment>\n          ) : (\n            <Fragment>\n              <Grid item lg={3}>\n                <Typography variant=\"h6\" align=\"center\">\n                  Piezas\n                </Typography>\n                <TablaPreciosPlazos precios={preciosPlazos.precio_piezas} />\n              </Grid>\n              <Grid item lg={3}>\n                <Typography variant=\"h6\" align=\"center\">\n                  Cajas\n                </Typography>\n                <TablaPreciosPlazos precios={preciosPlazos.precio_cajas} />\n              </Grid>\n            </Fragment>\n          )}\n        </Grid>\n      </Box>\n    </Fragment>\n  );\n}\n","export const validateJsonEdit = async (data, tipo) => {\n    if (tipo === \"datos_generales\") {\n      let object_date = {\n        clave_alterna: data.clave_alterna,\n        tipo_producto: data.tipo_producto,\n        nombre_comercial: data.nombre_comercial,\n        nombre_generico: data.nombre_generico,\n        receta_farmacia: data.receta_farmacia,\n      };\n      if (data.codigo_barras !== null && data.codigo_barras !== \"\")\n        object_date = { ...object_date, codigo_barras: data.codigo_barras };\n      if (data.descripcion !== null && data.descripcion !== \"\")\n        object_date = { ...object_date, descripcion: data.descripcion };\n      if (data.id_categoria !== null && data.id_categoria !== \"\")\n        object_date = { ...object_date, id_categoria: data.id_categoria };\n      if (data.categoria !== null && data.categoria !== \"\")\n        object_date = { ...object_date, categoria: data.categoria };\n      if (data.subcategoria !== null && data.subcategoria !== \"\")\n        object_date = { ...object_date, subcategoria: data.subcategoria };\n      if (data.id_subcategoria !== null && data.id_subcategoria !== \"\")\n        object_date = { ...object_date, id_subcategoria: data.id_subcategoria };\n      if (data.id_departamento !== null && data.id_departamento !== \"\")\n        object_date = { ...object_date, id_departamento: data.id_departamento };\n      if (data.departamento !== null && data.departamento !== \"\")\n        object_date = { ...object_date, departamento: data.departamento };\n      if (data.id_marca !== null && data.id_marca !== \"\")\n        object_date = { ...object_date, id_marca: data.id_marca };\n      if (data.marca !== null && data.marca !== \"\")\n        object_date = { ...object_date, marca: data.marca };\n      if (data.clave_producto_sat.Name !== null)\n        object_date = {\n          ...object_date,\n          clave_producto_sat: data.clave_producto_sat,\n        };\n      return object_date;\n    } else if (tipo === \"unidades_de_venta\") {\n      let end_array = [];\n      for (var i = 0; i < data.length; i++) {\n        let object = {\n          _id: data[i]._id,\n          cantidad: data[i].cantidad,\n          id_producto: data[i].id_producto,\n          precio: data[i].precio,\n          unidad_principal: data[i].unidad_principal,\n          unidad: data[i].unidad,\n          codigo_unidad: data[i].codigo_unidad,\n          precio_unidad: data[i].precio_unidad\n        };\n        if (data[i].codigo_barras !== null && data[i].codigo_barras !== \"\")\n          object = { ...object, codigo_barras: data[i].codigo_barras };\n        if (data[i].default !== null && data[i].default !== \"\")\n          object = { ...object, default: data[i].default };\n        if (data[i].descuento_activo !== null && data[i].descuento_activo !== \"\")\n          object = { ...object, descuento_activo: data[i].descuento_activo, descuento: data[i].descuento };\n          \n          end_array.push(object);\n      }\n      return end_array;\n    }\n  };","import React, { useState, Fragment, useContext, useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport DoneIcon from \"@material-ui/icons/Done\";\nimport {\n  Button,\n  AppBar,\n  Badge,\n  Typography,\n  CircularProgress,\n  Backdrop,\n  IconButton,\n} from \"@material-ui/core\";\nimport {\n  Dialog,\n  DialogActions,\n  DialogContent,\n  Tabs,\n  Tab,\n  Box,\n} from \"@material-ui/core\";\nimport RegistroInfoGenerales from \"./DatosGenerales/registrarInfoGeneral\";\nimport RegistroInfoAdidional from \"../Producto/PreciosVenta/registrarInfoAdicional\";\nimport CargarImagenesProducto from \"./Imagenes/cargarImagenesProducto\";\nimport { RegProductoContext } from \"../../../../context/Catalogos/CtxRegProducto\";\nimport RegistroAlmacenInicial from \"./Inventario&Almacen/AlmacenInicial\";\nimport ColoresTallas from \"./TallasColores/TallasColores\";\nimport ErrorPage from \"../../../../components/ErrorPage\";\n\nimport { useMutation, useQuery } from \"@apollo/client\";\nimport {\n  CREAR_PRODUCTO,\n  OBTENER_CONSULTAS,\n  ACTUALIZAR_PRODUCTO,\n} from \"../../../../gql/Catalogos/productos\";\nimport { validaciones } from \"./validaciones\";\nimport CentroCostos from \"./CentroCostos/CentroCostos\";\nimport PrecioPlazos from \"./PrecioPlazos/PrecioPlazos\";\n\nimport {\n  initial_state_datos_generales,\n  initial_state_precios,\n  initial_state_unidadVentaXDefecto,\n  initial_state_almacen_inicial,\n  initial_state_centro_de_costos,\n  initial_state_preciosPlazos,\n  initial_state_unidadVentaSecundaria,\n  initial_state_unidadesVenta,\n} from \"../../../../context/Catalogos/initialStatesProducto\";\nimport {\n  Add,\n  Close,\n  Edit,\n  NavigateBefore,\n  NavigateNext,\n} from \"@material-ui/icons\";\nimport { validateJsonEdit } from \"./validateDatos\";\n/* import { cleanTypenames } from \"../../../../config/reuserFunctions\"; */\n/* import SnackBarMessages from '../../../../components/SnackBarMessages'; */\n\nexport const initial_state_preciosP = [\n  {\n    numero_precio: 1,\n    utilidad: 0,\n    precio_neto: 0,\n    unidad_mayoreo: 0,\n    precio_venta: 0,\n    iva_precio: 0,\n    ieps_precio: 0,\n  },\n  {\n    numero_precio: 2,\n    utilidad: 0,\n    precio_neto: 0,\n    unidad_mayoreo: 0,\n    precio_venta: 0,\n    iva_precio: 0,\n    ieps_precio: 0,\n  },\n  {\n    numero_precio: 3,\n    utilidad: 0,\n    precio_neto: 0,\n    unidad_mayoreo: 0,\n    precio_venta: 0,\n    iva_precio: 0,\n    ieps_precio: 0,\n  },\n  {\n    numero_precio: 4,\n    utilidad: 0,\n    precio_neto: 0,\n    unidad_mayoreo: 0,\n    precio_venta: 0,\n    iva_precio: 0,\n    ieps_precio: 0,\n  },\n  {\n    numero_precio: 5,\n    utilidad: 0,\n    precio_neto: 0,\n    unidad_mayoreo: 0,\n    precio_venta: 0,\n    iva_precio: 0,\n    ieps_precio: 0,\n  },\n  {\n    numero_precio: 6,\n    utilidad: 0,\n    precio_neto: 0,\n    unidad_mayoreo: 0,\n    precio_venta: 0,\n    iva_precio: 0,\n    ieps_precio: 0,\n  },\n];\n\nfunction TabPanel(props) {\n  const { children, value, index, ...other } = props;\n\n  return (\n    <div\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`tabpanel-reg-product-${index}`}\n      aria-labelledby={`reg-product-tab-${index}`}\n      {...other}\n    >\n      {value === index && (\n        <Box p={3} height=\"70vh\">\n          {children}\n        </Box>\n      )}\n    </div>\n  );\n}\n\nTabPanel.propTypes = {\n  children: PropTypes.node,\n  index: PropTypes.any.isRequired,\n  value: PropTypes.any.isRequired,\n};\n\nfunction a11yProps(index) {\n  return {\n    id: `reg-product-tab-${index}`,\n    \"aria-controls\": `tabpanel-reg-product-${index}`,\n  };\n}\n\nconst useStyles = makeStyles((theme) => ({\n  formInputFlex: {\n    display: \"flex\",\n    \"& > *\": {\n      margin: `${theme.spacing(1)}px ${theme.spacing(2)}px`,\n    },\n  },\n  formInput: {\n    margin: `${theme.spacing(1)}px ${theme.spacing(2)}px`,\n  },\n  root_app: {\n    flexGrow: 1,\n    backgroundColor: theme.palette.background.paper,\n    display: \"flex\",\n    maxHeight: \"80vh\",\n  },\n  iconSvg: {\n    width: 50,\n  },\n  dialogContent: {\n    padding: 0,\n  },\n  backdrop: {\n    zIndex: theme.zIndex.drawer + 1,\n    color: \"#fff\",\n  },\n  tabs: {\n    borderRight: `1px solid ${theme.palette.divider}`,\n  },\n}));\n\nexport default function CrearProducto({\n  accion,\n  datos,\n  productosRefetch,\n  fromCompra,\n  getProductos,\n}) {\n  const classes = useStyles();\n  const [open, setOpen] = useState(false);\n  const [value, setValue] = useState(0);\n  const {\n    datos_generales,\n    setDatosGenerales,\n    precios,\n    setPrecios,\n    validacion,\n    setValidacion,\n    preciosP,\n    setPreciosP,\n    imagenes,\n    setImagenes,\n    unidadesVenta,\n    setUnidadesVenta,\n    almacen_inicial,\n    setAlmacenInicial,\n    unidadVentaXDefecto,\n    setUnidadVentaXDefecto,\n    centro_de_costos,\n    setCentroDeCostos,\n    setUpdate,\n    preciosPlazos,\n    setPreciosPlazos,\n    setSubcategorias,\n    setOnPreview,\n    setSubcostos,\n    imagenes_eliminadas,\n    setImagenesEliminadas,\n    presentaciones,\n    setPresentaciones,\n    presentaciones_eliminadas,\n    setPresentacionesEliminadas,\n    setAlmacenExistente,\n    almacen_existente,\n    unidadVentaSecundaria,\n    setUnidadVentaSecundaria,\n  } = useContext(RegProductoContext);\n\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n\n  /* const [ alert, setAlert ] = useState({ message: '', status: '', open: false }); */\n  const { setAlert } = useContext(RegProductoContext);\n  const [loading, setLoading] = useState(false);\n  const tipo = datos_generales.tipo_producto;\n\n  /* Mutations */\n  const [crearProducto] = useMutation(CREAR_PRODUCTO);\n  const [actualizarProducto] = useMutation(ACTUALIZAR_PRODUCTO);\n\n  const toggleModal = (producto) => {\n    setOpen(!open);\n    setUpdate(accion);\n    if (producto && accion) {\n      setInitialStates(producto);\n    } else {\n      resetInitialStates();\n    }\n  };\n\n  const handleChange = (event, newValue) => {\n    setValue(newValue);\n  };\n  /* ###### GUARDAR LA INFO EN LA BD ###### */\n\n  const saveData = async () => {\n    const validate = validaciones(\n      datos_generales,\n      precios,\n      almacen_inicial,\n      presentaciones,\n      almacen_existente\n    );\n\n    if (validate.error) {\n      setValidacion(validate);\n      return;\n    }\n    setValidacion(validate);\n    if (presentaciones.length > 0) {\n      const pres = presentaciones.filter(\n        (res) => res.color._id && res.medida._id\n      );\n\n      if (pres.length !== presentaciones.length) {\n        setValidacion({\n          error: true,\n          message: \"Faltan medidas o colores a tus presentaciones\",\n          vista7: true,\n        });\n        setAlert({\n          message: `Faltan medidas o colores en tus presentaciones`,\n          status: \"error\",\n          open: true,\n        });\n        return;\n      }\n    }\n\n    let copy_unidadesVenta = [{...unidadVentaXDefecto}, {...unidadVentaSecundaria}];\n\n    /* if (copy_unidadesVenta.length === 0) {\n      copy_unidadesVenta.push(unidadVentaXDefecto);\n    } else {\n      const unidadxdefecto = copy_unidadesVenta.filter(\n        (unidades) => unidades.default === true\n      );\n      if (unidadxdefecto.length === 0) {\n        copy_unidadesVenta.splice(0, 0, unidadVentaXDefecto);\n      }\n    } */\n\n    console.log(copy_unidadesVenta);\n\n    precios.precios_producto = preciosP;\n\n    let imagenes_without_aws = imagenes;\n    if (accion) {\n      imagenes_without_aws = [...imagenes].filter((res) => !res.key_imagen);\n    }\n\n    let input = {\n      datos_generales: await validateJsonEdit(\n        datos_generales,\n        \"datos_generales\"\n      ),\n      precios,\n      imagenes: imagenes_without_aws,\n      imagenes_eliminadas,\n      almacen_inicial,\n      centro_de_costos,\n      unidades_de_venta: await validateJsonEdit(\n        copy_unidadesVenta,\n        \"unidades_de_venta\"\n      ),\n      presentaciones,\n      presentaciones_eliminadas,\n      precio_plazos: preciosPlazos,\n      empresa: sesion.empresa._id,\n      sucursal: sesion.sucursal._id,\n      usuario: sesion._id,\n    };\n\n    /* const clean_data = cleanTypenames(input); */\n    console.log(input);\n\n    setLoading(true);\n     try {\n      if (accion) {\n        const result = await actualizarProducto({\n          variables: {\n            input,\n            id: datos._id,\n          },\n        });\n        setAlert({\n          message: `¡Listo! ${result.data.actualizarProducto.message}`,\n          status: \"success\",\n          open: true,\n        });\n      } else {\n        const result = await crearProducto({\n          variables: {\n            input,\n          },\n        });\n        setAlert({\n          message: `¡Listo! ${result.data.crearProducto.message}`,\n          status: \"success\",\n          open: true,\n        });\n      }\n      setLoading(false);\n      toggleModal();\n      if (fromCompra) {\n        getProductos();\n      } else {\n        productosRefetch();\n      }\n    } catch (error) {\n      setLoading(false);\n      setAlert({\n        message: `Error: ${error.message}`,\n        status: \"error\",\n        open: true,\n      });\n      console.log(error);\n      if (error.networkError) {\n        console.log(error.networkError.result);\n      } else if (error.graphQLErrors) {\n        console.log(error.graphQLErrors);\n      }\n    }\n  };\n\n  /* ###### RESET STATES ###### */\n  const resetInitialStates = () => {\n    setDatosGenerales(initial_state_datos_generales);\n    setPrecios(initial_state_precios);\n    setUnidadVentaXDefecto(initial_state_unidadVentaXDefecto);\n    setUnidadVentaSecundaria(initial_state_unidadVentaSecundaria);\n    setPreciosP(initial_state_preciosP);\n    setUnidadesVenta(initial_state_unidadesVenta);\n    setAlmacenInicial(initial_state_almacen_inicial);\n    setCentroDeCostos({});\n    setPreciosPlazos(initial_state_preciosPlazos);\n    setSubcategorias([]);\n    setImagenes([]);\n    setOnPreview({ index: \"\", image: \"\" });\n    setValidacion({ error: false, message: \"\" });\n    setSubcostos([]);\n    setImagenesEliminadas([]);\n    setPresentaciones([]);\n    setPresentacionesEliminadas([]);\n    setValue(0);\n  };\n\n  /* SET STATES WHEN UPDATING */\n  const setInitialStates = (producto) => {\n    /* const producto = cleanTypenames(product); */\n    console.log(producto);\n    const { precios_producto, ...new_precios } = producto.precios;\n    const { unidades_de_venta } = producto;\n    let unidades_secundaria = producto.unidades_de_venta.filter(\n      (res) => res.default === false\n    );\n    let unidadxdefecto = producto.unidades_de_venta.filter(\n      (res) => res.default === true\n    );\n    setDatosGenerales(producto.datos_generales);\n    setPrecios(new_precios);\n    setCentroDeCostos(\n      producto.centro_de_costos\n        ? producto.centro_de_costos\n        : initial_state_centro_de_costos\n    );\n    setImagenes(producto.imagenes);\n    setPreciosPlazos(producto.precio_plazos);\n    setUnidadesVenta(unidades_de_venta);\n    setPreciosP(producto.precios.precios_producto);\n    setUnidadVentaXDefecto(unidadxdefecto[0]);\n    setUnidadVentaSecundaria(unidades_secundaria[0]);\n    setPresentaciones(\n      producto.medidas_producto ? producto.medidas_producto : []\n    );\n    if (producto.inventario_general.length > 0) {\n      setAlmacenExistente(true);\n    } else {\n      setAlmacenExistente(false);\n    }\n  };\n\n  function funcion_tecla(event) {\n    const { keyCode } = event;\n    if (keyCode === 114) {\n      document.getElementById(\"modal-registro-product\").click();\n    }\n  } /* CODIGO PARA PODER EJECUTAR LAS VENTANAS A BASE DE LAS TECLAS */\n\n  window.onkeydown = funcion_tecla;\n\n  const saveButton = (\n    <Button\n      variant=\"contained\"\n      color=\"primary\"\n      onClick={() => saveData()}\n      size=\"large\"\n      startIcon={<DoneIcon />}\n      /* disabled={\n        !datos_generales.clave_alterna ||\n        !datos_generales.tipo_producto ||\n        !datos_generales.nombre_generico ||\n        !datos_generales.nombre_comercial ||\n        !precios.precio_de_compra.precio_con_impuesto ||\n        !precios.precio_de_compra.precio_sin_impuesto ||\n        !precios.unidad_de_compra.cantidad\n          ? true\n          : false\n      } */\n    >\n      Guardar\n    </Button>\n  );\n\n  const ButtonActions = () => {\n    if (!accion && value === 4) {\n      return saveButton;\n    } else if (accion && tipo === \"OTROS\" && value === 4) {\n      return saveButton;\n    } else if (accion && tipo !== \"OTROS\" && value === 5) {\n      return saveButton;\n    } else {\n      return (\n        <Button\n          variant=\"contained\"\n          color=\"primary\"\n          onClick={() => setValue(value + 1)}\n          size=\"large\"\n          endIcon={<NavigateNext />}\n          disableElevation\n        >\n          Siguiente\n        </Button>\n      );\n    }\n  };\n\n  return (\n    <Fragment>\n      {/* <SnackBarMessages alert={alert} setAlert={setAlert} /> */}\n\n      {!accion ? (\n        fromCompra ? (\n          <IconButton color=\"primary\" onClick={() => toggleModal()}>\n            <Add />\n          </IconButton>\n        ) : (\n          <Button\n            id=\"modal-registro-product\"\n            color=\"primary\"\n            variant=\"contained\"\n            size=\"large\"\n            onClick={() => toggleModal()}\n            startIcon={<Add />}\n          >\n            Agregar\n          </Button>\n        )\n      ) : (\n        <IconButton color=\"default\" onClick={() => toggleModal(datos)}>\n          <Edit />\n        </IconButton>\n      )}\n      <Dialog\n        open={open}\n        fullWidth\n        maxWidth=\"lg\"\n        scroll=\"paper\"\n        disableEscapeKeyDown\n        onClose={(_, reason) => {\n          if (reason !== \"backdropClick\") {\n            toggleModal();\n          }\n        }}\n      >\n        <div className={classes.root_app}>\n          <Tabs\n            style={{ minWidth: \"200px\" }}\n            value={value}\n            onChange={handleChange}\n            variant=\"scrollable\"\n            orientation=\"vertical\"\n            scrollButtons=\"on\"\n            indicatorColor=\"primary\"\n            textColor=\"primary\"\n            aria-label=\"scrollable force tabs example\"\n            className={classes.tabs}\n          >\n            <Tab\n              style={{ minWidth: \"200px\" }}\n              label=\"Datos generales\"\n              icon={\n                <Badge\n                  color=\"secondary\"\n                  badgeContent={<Typography variant=\"h6\">!</Typography>}\n                  anchorOrigin={{\n                    vertical: \"bottom\",\n                    horizontal: \"right\",\n                  }}\n                  invisible={\n                    validacion.error && validacion.vista1 ? false : true\n                  }\n                >\n                  <img\n                    src=\"https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/portapapeles.svg\"\n                    alt=\"icono registro\"\n                    className={classes.iconSvg}\n                  />\n                </Badge>\n              }\n              {...a11yProps(0)}\n            />\n            <Tab\n              style={{ minWidth: \"200px\" }}\n              label=\"Precios de venta\"\n              icon={\n                <Badge\n                  color=\"secondary\"\n                  badgeContent={<Typography variant=\"h6\">!</Typography>}\n                  anchorOrigin={{\n                    vertical: \"bottom\",\n                    horizontal: \"right\",\n                  }}\n                  invisible={\n                    validacion.error && validacion.vista2 ? false : true\n                  }\n                >\n                  <img\n                    src=\"https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/etiqueta-de-precio.svg\"\n                    alt=\"icono venta\"\n                    className={classes.iconSvg}\n                  />\n                </Badge>\n              }\n              {...a11yProps(1)}\n            />\n            <Tab\n              style={{ minWidth: \"200px\" }}\n              label=\"Inventario y almacen\"\n              icon={\n                <Badge\n                  color=\"secondary\"\n                  badgeContent={<Typography variant=\"h6\">!</Typography>}\n                  anchorOrigin={{\n                    vertical: \"bottom\",\n                    horizontal: \"right\",\n                  }}\n                  invisible={\n                    validacion.error && validacion.vista3 ? false : true\n                  }\n                >\n                  <img\n                    src=\"https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/tarea-completada.svg\"\n                    alt=\"icono almacen\"\n                    className={classes.iconSvg}\n                  />\n                </Badge>\n              }\n              {...a11yProps(2)}\n            />\n            <Tab\n              style={{ minWidth: \"200px\" }}\n              label=\"Centro de costos\"\n              icon={\n                <img\n                  src=\"https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/costos.svg\"\n                  alt=\"icono almacen\"\n                  className={classes.iconSvg}\n                />\n              }\n              {...a11yProps(3)}\n            />\n            {/* <Tab\n              style={{ minWidth: \"200px\" }}\n              label=\"Precios a plazos\"\n              icon={\n                <img\n                  src=\"https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/calendar.svg\"\n                  alt=\"icono almacen\"\n                  className={classes.iconSvg}\n                />\n              }\n              {...a11yProps(4)}\n            /> */}\n            <Tab\n              style={{ minWidth: \"200px\" }}\n              label=\"Imagenes\"\n              icon={\n                <img\n                  src=\"https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/imagenes.svg\"\n                  alt=\"icono imagenes\"\n                  className={classes.iconSvg}\n                />\n              }\n              {...a11yProps(4)}\n            />\n            {accion ? (\n              datos_generales.tipo_producto !== \"OTROS\" ? (\n                <Tab\n                  style={{ minWidth: \"200px\" }}\n                  label=\"Tallas y colores\"\n                  icon={\n                    <Badge\n                      color=\"secondary\"\n                      badgeContent={<Typography variant=\"h6\">!</Typography>}\n                      anchorOrigin={{\n                        vertical: \"bottom\",\n                        horizontal: \"right\",\n                      }}\n                      invisible={\n                        validacion.error && validacion.vista7 ? false : true\n                      }\n                    >\n                      <img\n                        src=\"https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/tallas-colores.svg\"\n                        alt=\"icono colores\"\n                        className={classes.iconSvg}\n                      />\n                    </Badge>\n                  }\n                  {...a11yProps(5)}\n                />\n              ) : null\n            ) : null}\n          </Tabs>\n          <Box width=\"100%\">\n            <Box m={1} display=\"flex\" justifyContent=\"flex-end\">\n              <Button\n                variant=\"contained\"\n                color=\"secondary\"\n                onClick={() => toggleModal()}\n                size=\"large\"\n              >\n                <Close />\n              </Button>\n            </Box>\n            <DialogContent className={classes.dialogContent}>\n              <Backdrop className={classes.backdrop} open={loading}>\n                <CircularProgress color=\"inherit\" />\n              </Backdrop>\n              <ContenidoModal value={value} />\n            </DialogContent>\n          </Box>\n        </div>\n\n        <DialogActions\n          style={{ display: \"flex\", justifyContent: \"space-between\" }}\n        >\n          <Button\n            variant=\"outlined\"\n            color=\"primary\"\n            onClick={() => setValue(value - 1)}\n            size=\"large\"\n            startIcon={<NavigateBefore />}\n            disabled={value === 0}\n          >\n            Anterior\n          </Button>\n          <ButtonActions />\n        </DialogActions>\n      </Dialog>\n    </Fragment>\n  );\n}\n\nconst ContenidoModal = ({ value }) => {\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n\n  /* Queries */\n  const { loading, data, error, refetch } = useQuery(OBTENER_CONSULTAS, {\n    variables: { empresa: sesion.empresa._id, sucursal: sesion.sucursal._id },\n    fetchPolicy: \"network-only\",\n  });\n\n  useEffect(() => {\n    return () => {\n      refetch();\n    };\n  }, [refetch]);\n\n  if (loading)\n    return (\n      <Box\n        display=\"flex\"\n        flexDirection=\"column\"\n        justifyContent=\"center\"\n        alignItems=\"center\"\n        height=\"80vh\"\n      >\n        <CircularProgress />\n        <Typography variant=\"h6\">Cargando...</Typography>\n      </Box>\n    );\n\n  if (error) return <ErrorPage error={error} />;\n\n  const { obtenerConsultasProducto } = data;\n\n  return (\n    <Fragment>\n      <TabPanel value={value} index={0}>\n        <RegistroInfoGenerales\n          obtenerConsultasProducto={obtenerConsultasProducto}\n          refetch={refetch}\n        />\n      </TabPanel>\n      <TabPanel value={value} index={1}>\n        <RegistroInfoAdidional />\n      </TabPanel>\n      <TabPanel value={value} index={2}>\n        <RegistroAlmacenInicial\n          obtenerConsultasProducto={obtenerConsultasProducto}\n          refetch={refetch}\n        />\n      </TabPanel>\n      <TabPanel value={value} index={3}>\n        <CentroCostos\n          obtenerConsultasProducto={obtenerConsultasProducto}\n          refetch={refetch}\n        />\n      </TabPanel>\n      {/* <TabPanel value={value} index={4}>\n        <PrecioPlazos />\n      </TabPanel> */}\n      <TabPanel value={value} index={4}>\n        <CargarImagenesProducto />\n      </TabPanel>\n      <TabPanel value={value} index={5}>\n        <ColoresTallas\n          obtenerConsultasProducto={obtenerConsultasProducto}\n          refetch={refetch}\n        />\n      </TabPanel>\n    </Fragment>\n  );\n};\n","import React, { useCallback, useContext, useEffect, useState } from \"react\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport { ComprasContext } from \"../../../../../context/Compras/comprasContext\";\n\nexport default function PreciosDeVentaCompras() {\n  const { preciosVenta } = useContext(ComprasContext);\n\n  return (\n    <div>\n      <TableContainer>\n        <Table aria-label=\"simple table\" size=\"small\">\n          <TableHead>\n            <TableRow>\n              <TableCell style={{ minWidth: 150 }}>Precios de venta</TableCell>\n              {[1, 2, 3, 4, 5, 6].map((numero, index) => (\n                <TableCell style={{ minWidth: 100 }} key={index}>\n                  {numero}\n                </TableCell>\n              ))}\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {[\"Utilidad\", \"Precio de venta\"].map((tipo, index) => (\n              <TableRow key={index}>\n                <TableCell style={{ border: 0 }}>\n                  <b>{tipo}</b>\n                </TableCell>\n                {preciosVenta.map((data, index) => (\n                  <RenderPrecios\n                    key={index}\n                    data={data}\n                    index={index}\n                    tipo={tipo}\n                  />\n                ))}\n              </TableRow>\n            ))}\n          </TableBody>\n        </Table>\n      </TableContainer>\n    </div>\n  );\n}\n\nconst RenderPrecios = ({ data, tipo, index }) => {\n  const { preciosVenta, setPreciosVenta, datosProducto, productoOriginal } = useContext(\n    ComprasContext\n  );\n  const { precios } = productoOriginal;\n\n  const [precio_neto, setPrecioNeto] = useState(data.precio_neto);\n\n  //creamos variables para trabajar con ellas, no causar errores y afectar las originales\n  let copy_preciosVenta = { ...preciosVenta[index] };\n  let preciosVenta_base = [...preciosVenta];\n\n  let precio_unitario_con_impuesto =\n    /* datosProducto.costo / datosProducto.cantidad; */\n    datosProducto.costo / precios.unidad_de_compra.cantidad;\n  let precio_unitario_sin_impuesto =\n    /* precios.precio_de_compra.precio_sin_impuesto / datosProducto.cantidad; */\n    precios.precio_de_compra.precio_sin_impuesto /\n    precios.unidad_de_compra.cantidad;\n\n  if (isNaN(precio_unitario_sin_impuesto)) precio_unitario_sin_impuesto = 0;\n  if (isNaN(precio_unitario_con_impuesto)) precio_unitario_con_impuesto = 0;\n\n  const calculosCompra = useCallback(() => {\n    if (copy_preciosVenta.numero_precio === data.numero_precio) {\n      copy_preciosVenta.precio_neto = precio_unitario_con_impuesto;\n      setPrecioNeto(precio_unitario_con_impuesto);\n\n      let utilidad_base = data.utilidad ? data.utilidad : 0;\n      let utilidad = utilidad_base / 100;\n\n      const precio_venta = parseFloat(\n        (\n          precio_unitario_sin_impuesto * utilidad +\n          precio_unitario_sin_impuesto\n        ).toFixed(2)\n      );\n      copy_preciosVenta.precio_venta = parseFloat(precio_venta.toFixed(2));\n      if (precios.iva_activo || precios.ieps_activo) {\n        const precio_neto =\n          precio_unitario_con_impuesto +\n          precio_unitario_con_impuesto * utilidad;\n\n        copy_preciosVenta.precio_neto = parseFloat(precio_neto.toFixed(2));\n        setPrecioNeto(parseFloat(precio_neto.toFixed(2)));\n      } else {\n        copy_preciosVenta.precio_neto = parseFloat(precio_venta.toFixed(2));\n        setPrecioNeto(parseFloat(precio_venta.toFixed(2)));\n      }\n      preciosVenta_base.splice(index, 1, copy_preciosVenta);\n      setPreciosVenta(preciosVenta_base)\n    }\n  }, [datosProducto.costo, datosProducto.cantidad]);\n\n  useEffect(() => {\n    if (data.numero_precio === 1) {\n      calculosCompra();\n    } else if (data.numero_precio > 1 && precio_neto) {\n      calculosCompra();\n    }\n  }, [calculosCompra]);\n\n  switch (tipo) {\n    case \"Utilidad\":\n      return <TableCell style={{ border: 0 }}>{data.utilidad}%</TableCell>;\n    case \"Precio de venta\":\n      return (\n        <TableCell style={{ border: 0 }}>\n          ${parseFloat(precio_neto).toFixed(2)}\n        </TableCell>\n      );\n    default:\n      return null;\n  }\n};\n","import React, { Fragment, useContext } from \"react\";\nimport { Box, InputAdornment, TextField } from \"@material-ui/core\";\nimport { ComprasContext } from \"../../../../../context/Compras/comprasContext\";\n\nexport default function DescuentosInputs() {\n  const { datosProducto, setDatosProducto, productoOriginal } = useContext(\n    ComprasContext\n  );\n  const {\n    precio_sin_impuesto,\n    precio_con_impuesto,\n    iva,\n    ieps,\n  } = productoOriginal.precios.precio_de_compra;\n  const impuestos = iva + ieps;\n\n  const obtenerPorcentaje = (value) => {\n    if (!value || parseFloat(value) === 0) {\n      setDatosProducto({\n        ...datosProducto,\n        descuento_porcentaje: \"\",\n        descuento_precio: \"\",\n        subtotal_descuento: precio_sin_impuesto,\n        total_descuento: precio_con_impuesto,\n      });\n      return;\n    }\n    let porcentaje = parseFloat(value);\n    let cantidad_descontada = Math.round(\n      (datosProducto.subtotal * porcentaje) / 100\n    );\n    let subtotal = datosProducto.subtotal - cantidad_descontada;\n    let total = subtotal + impuestos;\n\n    setDatosProducto({\n      ...datosProducto,\n      descuento_porcentaje: parseFloat(porcentaje),\n      descuento_precio: parseFloat(cantidad_descontada.toFixed(2)),\n      subtotal_descuento: parseFloat(subtotal.toFixed(2)),\n      total_descuento: parseFloat(total.toFixed(2)),\n    });\n  };\n\n  const obtenerPrecio = (value) => {\n    if (!value || parseFloat(value) === 0) {\n      setDatosProducto({\n        ...datosProducto,\n        descuento_porcentaje: \"\",\n        descuento_precio: \"\",\n        subtotal_descuento: precio_sin_impuesto,\n        total_descuento: precio_con_impuesto,\n      });\n      return;\n    }\n    let cantidad_descontada = parseFloat(value);\n\n    let porcentaje = Math.round(\n      (cantidad_descontada / datosProducto.subtotal) * 100\n    );\n    /* let descuento_porcentaje = 100 - porcentaje; */\n    /* let total = datosProducto.total - cantidad_descontada; */\n    let subtotal = datosProducto.subtotal - cantidad_descontada;\n    let total = subtotal + impuestos;\n\n    setDatosProducto({\n      ...datosProducto,\n      descuento_porcentaje: parseFloat(porcentaje),\n      descuento_precio: parseFloat(cantidad_descontada.toFixed(2)),\n      subtotal_descuento: parseFloat(subtotal.toFixed(2)),\n      total_descuento: parseFloat(total.toFixed(2)),\n    });\n  };\n\n  return (\n    <Fragment>\n      <Box display=\"flex\" width={160}>\n        <TextField\n          variant=\"outlined\"\n          size=\"small\"\n          fullWidth\n          inputMode=\"numeric\"\n          onChange={(e) => obtenerPrecio(e.target.value)}\n          disabled={!datosProducto.producto.datos_generales}\n          value={datosProducto.descuento_precio}\n          InputProps={{\n            startAdornment: <InputAdornment position=\"start\">$</InputAdornment>,\n          }}\n        />\n        <Box mr={1} />\n        <TextField\n          variant=\"outlined\"\n          size=\"small\"\n          fullWidth\n          inputMode=\"numeric\"\n          onChange={(e) => obtenerPorcentaje(e.target.value)}\n          disabled={!datosProducto.producto.datos_generales}\n          value={datosProducto.descuento_porcentaje}\n          InputProps={{\n            startAdornment: <InputAdornment position=\"start\">%</InputAdornment>,\n          }}\n        />\n      </Box>\n    </Fragment>\n  );\n}\n","import React, { createContext, useState } from 'react';\n\nexport const ClienteCtx = createContext();\n\nexport const ClienteProvider = ({ children }) => {\n\tconst [ cliente, setCliente ] = useState({\n\t\tdireccion: {\n\t\t\tcalle: '',\n\t\t\tno_ext: '',\n\t\t\tno_int: '',\n\t\t\tcodigo_postal: '',\n\t\t\tcolonia: '',\n\t\t\tmunicipio: '',\n\t\t\tlocalidad: '',\n\t\t\testado: '',\n\t\t\tpais: ''\n\t\t},\n\t\testado_cliente: true\n\t});\n\tconst [ toUpdate, setToUpdate ] = useState(false);\n\tconst [ error, setError ] = useState(false);\n\tconst [ update, setUpdate ] = useState(false);\n\n\tconst [updateClientVenta, setUpdateClientVenta] = useState(false);\n\n\n\treturn (\n\t\t<ClienteCtx.Provider\n\t\t\tvalue={{\n\t\t\t\tcliente,\n\t\t\t\tsetCliente,\n\t\t\t\ttoUpdate,\n\t\t\t\tsetToUpdate,\n\t\t\t\terror,\n\t\t\t\tsetError,\n\t\t\t\tupdate,\n\t\t\t\tsetUpdate,\n\t\t\t\tsetUpdateClientVenta,\n\t\t\t\tupdateClientVenta\n\t\t\t}}\n\t\t>\n\t\t\t{children}\n\t\t</ClienteCtx.Provider>\n\t);\n};\n","import React, { Fragment, useContext, useCallback, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport {\n  Box,\n  Divider,\n  Avatar,\n  InputAdornment,\n  IconButton,\n} from \"@material-ui/core\";\nimport { TextField, Typography, Grid } from \"@material-ui/core\";\nimport { useDropzone } from \"react-dropzone\";\nimport { ClienteCtx } from \"../../../../context/Catalogos/crearClienteCtx\";\nimport { Cached } from \"@material-ui/icons\";\n\nconst useStyles = makeStyles((theme) => ({\n  avatarContainer: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    width: 150,\n    height: 150,\n    border: \"dashed 2px #000000\",\n  },\n  avatar: {\n    width: 135,\n    height: 135,\n    \"& > .icon\": {\n      fontSize: 100,\n    },\n  },\n  input: {\n    \"& input[type=number]\": {\n      \"-moz-appearance\": \"textfield\",\n    },\n    \"& input[type=number]::-webkit-outer-spin-button\": {\n      \"-webkit-appearance\": \"none\",\n      margin: 0,\n    },\n    \"& input[type=number]::-webkit-inner-spin-button\": {\n      \"-webkit-appearance\": \"none\",\n      margin: 0,\n    },\n  },\n  title: {\n    fontWeight: \"500\",\n    \"& span\": {\n      color: \"red\",\n    },\n  },\n}));\n\nexport default function RegistrarInfoBasica({ tipo, accion }) {\n  const classes = useStyles();\n  const { cliente, setCliente, error } = useContext(ClienteCtx);\n  const [preview, setPreview] = useState(\"\");\n\n  //dropzone\n  const onDrop = useCallback(\n    (acceptedFiles) => {\n      let reader = new FileReader();\n      reader.readAsDataURL(acceptedFiles[0]);\n      reader.onload = function () {\n        let image = reader.result;\n        setPreview(image);\n      };\n      setCliente({\n        ...cliente,\n        imagen: acceptedFiles[0],\n      });\n    },\n    [cliente, setCliente]\n  );\n\n  const { getRootProps, getInputProps } = useDropzone({\n    accept: \"image/jpeg, image/png\",\n    noKeyboard: true,\n    onDrop,\n  });\n\n  const obtenerCampos = (e) => {\n    const { name, value } = e.target;\n    setCliente({\n      ...cliente,\n      [name]: value,\n    });\n  };\n  const obtenerCamposDireccion = (e) => {\n    const { name, value } = e.target;\n    setCliente({\n      ...cliente,\n      direccion: { ...cliente.direccion, [name]: value },\n    });\n  };\n\n  const GenCodigoBarras = () => {\n    const max = 999999999999;\n    const min = 100000000000;\n    const clave_cliente = Math.floor(\n      Math.random() * (max - min + 1) + min\n    ).toString();\n    setCliente({\n      ...cliente,\n      clave_cliente,\n    });\n  };\n\n  return (\n    <Fragment>\n      <Grid container className={classes.input}>\n        <Grid\n          item\n          md={3}\n          xs={12}\n          style={{\n            display: \"flex\",\n            justifyContent: \"center\",\n            marginTop: \"8px\",\n          }}\n        >\n          <Box className={classes.avatarContainer} {...getRootProps()}>\n            <input {...getInputProps()} />\n            {preview ? (\n              <Avatar\n                variant=\"square\"\n                className={classes.avatar}\n                src={`${preview}`}\n              />\n            ) : (\n              <Avatar\n                variant=\"square\"\n                className={classes.avatar}\n                src={`${cliente.imagen}`}\n              />\n            )}\n          </Box>\n        </Grid>\n        <Grid item md={9} xs={12}>\n          <Grid container spacing={2}>\n            {accion === \"registrar\" ? null : (\n              <Grid item md={3} xs={12}>\n                <Typography className={classes.title}>N. Cliente</Typography>\n                <TextField\n                  fullWidth\n                  size=\"small\"\n                  name=\"numero_cliente\"\n                  variant=\"outlined\"\n                  value={cliente.numero_cliente ? cliente.numero_cliente : \"\"}\n                  onChange={obtenerCampos}\n                  disabled\n                  type=\"number\"\n                />\n              </Grid>\n            )}\n            <Grid item md={accion === \"registrar\" ? 12 : 9} xs={12}>\n              <Typography className={classes.title}>\n                <span>* </span>Nombre Cliente\n              </Typography>\n              <TextField\n                fullWidth\n                size=\"small\"\n                error={error && !cliente.nombre_cliente}\n                name=\"nombre_cliente\"\n                variant=\"outlined\"\n                value={\n                  cliente.nombre_cliente\n                    ? cliente.nombre_cliente\n                    : \"\"\n                }\n                helperText={error ? \"Campo Requerido\" : \"\"}\n                onChange={obtenerCampos}\n              />\n            </Grid>\n            {tipo === \"CLIENTE\" ? null : (\n              <Grid item md={4} xs={12}>\n                <Typography className={classes.title}>\n                  <span>* </span>Representante\n                </Typography>\n                <TextField\n                  fullWidth\n                  size=\"small\"\n                  error={error && !cliente.representante}\n                  name=\"representante\"\n                  variant=\"outlined\"\n                  value={\n                    cliente.representante\n                      ? cliente.representante\n                      : \"\"\n                  }\n                  helperText={error ? \"Campo Requerido\" : \"\"}\n                  onChange={obtenerCampos}\n                />\n              </Grid>\n            )}\n            <Grid item md={tipo === \"CLIENTE\" ? 6 : 4} xs={12}>\n              <Typography className={classes.title}>\n                <span>* </span>Clave(Tarjeta de puntos)\n              </Typography>\n              <TextField\n                fullWidth\n                size=\"small\"\n                error={error && !cliente.clave_cliente}\n                name=\"clave_cliente\"\n                variant=\"outlined\"\n                value={cliente.clave_cliente ? cliente.clave_cliente : \"\"}\n                helperText={error ? \"Campo Requerido\" : \"\"}\n                onChange={obtenerCampos}\n                InputProps={{\n                  endAdornment: (\n                    <InputAdornment position=\"end\">\n                      <IconButton\n                        color=\"primary\"\n                        size=\"small\"\n                        onClick={() => GenCodigoBarras()}\n                      >\n                        <Cached />\n                      </IconButton>\n                    </InputAdornment>\n                  ),\n                  disabled: true,\n                }}\n                type=\"number\"\n              />\n            </Grid>\n            <Grid item md={tipo === \"CLIENTE\" ? 6 : 4} xs={12}>\n              <Typography className={classes.title}>\n                Fecha nacimiento\n              </Typography>\n              <TextField\n                fullWidth\n                size=\"small\"\n                name=\"fecha_nacimiento\"\n                variant=\"outlined\"\n                type=\"date\"\n                onChange={obtenerCampos}\n                value={cliente.fecha_nacimiento ? cliente.fecha_nacimiento : \"\"}\n              />\n            </Grid>\n          </Grid>\n        </Grid>\n        <Grid item md={12}>\n          <Grid container spacing={2}>\n            <Grid item md={3} xs={12}>\n              <Typography className={classes.title}>CURP</Typography>\n              <TextField\n                fullWidth\n                size=\"small\"\n                name=\"curp\"\n                variant=\"outlined\"\n                value={cliente.curp ? cliente.curp : \"\"}\n                onChange={obtenerCampos}\n              />\n            </Grid>\n            <Grid item md={3} xs={12}>\n              <Typography className={classes.title}>\n                <span>* </span>Email\n              </Typography>\n              <TextField\n                fullWidth\n                size=\"small\"\n                error={error && !cliente.email}\n                name=\"email\"\n                variant=\"outlined\"\n                value={cliente.email ? cliente.email : \"\"}\n                helperText={error ? \"Campo Requerido\" : \"\"}\n                onChange={obtenerCampos}\n              />\n            </Grid>\n\n            <Grid item md={3} xs={12}>\n              <Typography className={classes.title}>\n                <span>* </span>Num. Telefono\n              </Typography>\n              <TextField\n                fullWidth\n                size=\"small\"\n                error={error && !cliente.telefono}\n                name=\"telefono\"\n                variant=\"outlined\"\n                value={cliente.telefono ? cliente.telefono : \"\"}\n                helperText={error ? \"Campo Requerido\" : \"\"}\n                onChange={obtenerCampos}\n                type=\"number\"\n              />\n            </Grid>\n            <Grid item md={3} xs={12}>\n              <Typography className={classes.title}>Num. Celular</Typography>\n              <TextField\n                fullWidth\n                size=\"small\"\n                name=\"celular\"\n                variant=\"outlined\"\n                value={cliente.celular ? cliente.celular : \"\"}\n                onChange={obtenerCampos}\n                type=\"number\"\n              />\n            </Grid>\n          </Grid>\n        </Grid>\n        <Grid item md={12}>\n          <Box my={2}>\n            <Typography className={classes.title}>\n              <b>Domicilio</b>\n            </Typography>\n            <Divider />\n          </Box>\n          <Grid container spacing={2}>\n            <Grid item md={3} xs={12}>\n              <Typography className={classes.title}>\n                <span>* </span>Calle\n              </Typography>\n              <TextField\n                size=\"small\"\n                fullWidth\n                error={error && !cliente.direccion.calle}\n                name=\"calle\"\n                variant=\"outlined\"\n                value={\n                  cliente.direccion.calle\n                    ? cliente.direccion.calle\n                    : \"\"\n                }\n                helperText={error ? \"Campo Requerido\" : \"\"}\n                onChange={obtenerCamposDireccion}\n              />\n            </Grid>\n            <Grid item md={2} xs={12}>\n              <Typography className={classes.title}>\n                <span>* </span>Num. Ext\n              </Typography>\n              <TextField\n                fullWidth\n                size=\"small\"\n                error={error && !cliente.direccion.no_ext}\n                name=\"no_ext\"\n                variant=\"outlined\"\n                value={cliente.direccion.no_ext ? cliente.direccion.no_ext : \"\"}\n                helperText={error ? \"Campo Requerido\" : \"\"}\n                onChange={obtenerCamposDireccion}\n              />\n            </Grid>\n            <Grid item md={2} xs={12}>\n              <Typography className={classes.title}>Num. Int</Typography>\n              <TextField\n                fullWidth\n                size=\"small\"\n                name=\"no_int\"\n                variant=\"outlined\"\n                value={cliente.direccion.no_int ? cliente.direccion.no_int : \"\"}\n                onChange={obtenerCamposDireccion}\n              />\n            </Grid>\n            <Grid item md={2} xs={12}>\n              <Typography className={classes.title}>\n                <span>* </span>Código postal\n              </Typography>\n              <TextField\n                size=\"small\"\n                fullWidth\n                error={error && !cliente.direccion.codigo_postal}\n                name=\"codigo_postal\"\n                variant=\"outlined\"\n                value={\n                  cliente.direccion.codigo_postal\n                    ? cliente.direccion.codigo_postal\n                    : \"\"\n                }\n                helperText={error ? \"Campo Requerido\" : \"\"}\n                onChange={obtenerCamposDireccion}\n              />\n            </Grid>\n            <Grid item md={3} xs={12}>\n              <Typography className={classes.title}>\n                <span>* </span>Colonia\n              </Typography>\n              <TextField\n                fullWidth\n                size=\"small\"\n                error={error && !cliente.direccion.colonia}\n                name=\"colonia\"\n                variant=\"outlined\"\n                value={\n                  cliente.direccion.colonia\n                    ? cliente.direccion.colonia\n                    : \"\"\n                }\n                helperText={error ? \"Campo Requerido\" : \"\"}\n                onChange={obtenerCamposDireccion}\n              />\n            </Grid>\n            <Grid item md={3} xs={12}>\n              <Typography className={classes.title}>\n                <span>* </span>Municipio\n              </Typography>\n              <TextField\n                fullWidth\n                size=\"small\"\n                error={error && !cliente.direccion.municipio}\n                name=\"municipio\"\n                variant=\"outlined\"\n                value={\n                  cliente.direccion.municipio\n                    ? cliente.direccion.municipio\n                    : \"\"\n                }\n                helperText={error ? \"Campo Requerido\" : \"\"}\n                onChange={obtenerCamposDireccion}\n              />\n            </Grid>\n            <Grid item md={3} xs={12}>\n              <Typography className={classes.title}>Localidad</Typography>\n              <TextField\n                size=\"small\"\n                name=\"localidad\"\n                variant=\"outlined\"\n                value={\n                  cliente.direccion.localidad\n                    ? cliente.direccion.localidad\n                    : \"\"\n                }\n                onChange={obtenerCamposDireccion}\n              />\n            </Grid>\n            <Grid item md={3} xs={12}>\n              <Typography className={classes.title}>\n                <span>* </span>Estado\n              </Typography>\n              <TextField\n                fullWidth\n                size=\"small\"\n                error={error && !cliente.direccion.estado}\n                name=\"estado\"\n                variant=\"outlined\"\n                value={\n                  cliente.direccion.estado\n                    ? cliente.direccion.estado\n                    : \"\"\n                }\n                helperText={error ? \"Campo Requerido\" : \"\"}\n                onChange={obtenerCamposDireccion}\n              />\n            </Grid>\n            <Grid item md={3} xs={12}>\n              <Typography className={classes.title}>\n                <span>* </span>Pais\n              </Typography>\n              <TextField\n                fullWidth\n                size=\"small\"\n                error={error && !cliente.direccion.pais}\n                name=\"pais\"\n                variant=\"outlined\"\n                value={\n                  cliente.direccion.pais\n                    ? cliente.direccion.pais\n                    : \"\"\n                }\n                helperText={error ? \"Campo Requerido\" : \"\"}\n                onChange={obtenerCamposDireccion}\n              />\n            </Grid>\n          </Grid>\n        </Grid>\n      </Grid>\n    </Fragment>\n  );\n}\n","import React, { Fragment, useContext } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { Box, Divider, Grid } from \"@material-ui/core\";\nimport { TextField, Typography } from \"@material-ui/core\";\nimport { ClienteCtx } from \"../../../../context/Catalogos/crearClienteCtx\";\nimport { Alert } from \"@material-ui/lab\";\n\nconst useStyles = makeStyles((theme) => ({\n  title: {\n    fontWeight: \"500\",\n  },\n}));\n\nexport default function RegistrarInfoCredito({ tipo }) {\n  const classes = useStyles();\n  const { cliente, setCliente } = useContext(ClienteCtx);\n\n  const obtenerCampos = (e) => {\n    const name = e.target.name;\n    if (name === \"numero_descuento\" || name === \"limite_credito\") {\n      setCliente({\n        ...cliente,\n        [e.target.name]: parseInt(e.target.value),\n      });\n      return;\n    }\n    setCliente({\n      ...cliente,\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  return (\n    <Fragment>\n      <Box my={3}>\n        <Alert severity=\"info\">\n          Si deseas hacer facturas a este cliente el <b>RFC</b> y la{\" \"}\n          <b>Razon social</b> son obligatorios.\n        </Alert>\n      </Box>\n      <Grid container spacing={2}>\n        <Grid item md={6} xs={12}>\n          <Typography className={classes.title}>RFC</Typography>\n          <TextField\n            fullWidth\n            size=\"small\"\n            name=\"rfc\"\n            variant=\"outlined\"\n            value={cliente.rfc ? cliente.rfc : \"\"}\n            onChange={obtenerCampos}\n          />\n        </Grid>\n        <Grid item md={6} xs={12}>\n          <Typography className={classes.title}>Razon social</Typography>\n          <TextField\n            fullWidth\n            size=\"small\"\n            name=\"razon_social\"\n            variant=\"outlined\"\n            value={\n              cliente.razon_social ? cliente.razon_social : \"\"\n            }\n            onChange={obtenerCampos}\n          />\n        </Grid>\n        <Grid item md={4} xs={12}>\n          <Typography className={classes.title}>Descuento</Typography>\n          <TextField\n            fullWidth\n            size=\"small\"\n            name=\"numero_descuento\"\n            variant=\"outlined\"\n            value={cliente.numero_descuento ? cliente.numero_descuento : \"\"}\n            onChange={obtenerCampos}\n          />\n        </Grid>\n        <Grid item md={4} xs={12}>\n          <Typography className={classes.title}>Limite de crédito</Typography>\n          <TextField\n            fullWidth\n            size=\"small\"\n            name=\"limite_credito\"\n            variant=\"outlined\"\n            value={cliente.limite_credito ? cliente.limite_credito : \"\"}\n            onChange={obtenerCampos}\n          />\n        </Grid>\n        <Grid item md={4} xs={12}>\n          <Typography className={classes.title}>Días de crédito</Typography>\n          <TextField\n            fullWidth\n            size=\"small\"\n            name=\"dias_credito\"\n            variant=\"outlined\"\n            value={\n              cliente.dias_credito ? cliente.dias_credito : \"\"\n            }\n            onChange={obtenerCampos}\n          />\n        </Grid>\n      </Grid>\n      {tipo !== \"CLIENTE\" ? (\n        <Fragment>\n          <Box my={3}>\n            <Typography className={classes.title}>\n              Datos bancarios\n            </Typography>\n            <Divider />\n          </Box>\n          <Grid container spacing={2}>\n            <Grid item md={6} xs={12}>\n              <Typography className={classes.title}>Banco</Typography>\n              <TextField\n                fullWidth\n                size=\"small\"\n                name=\"banco\"\n                variant=\"outlined\"\n                value={cliente.banco ? cliente.banco : \"\"}\n                onChange={obtenerCampos}\n              />\n            </Grid>\n            <Grid item md={6} xs={12}>\n              <Typography className={classes.title}>\n                No. de Cuenta Bancaria\n              </Typography>\n              <TextField\n                fullWidth\n                size=\"small\"\n                name=\"numero_cuenta\"\n                variant=\"outlined\"\n                value={cliente.numero_cuenta ? cliente.numero_cuenta : \"\"}\n                onChange={obtenerCampos}\n              />\n            </Grid>\n          </Grid>\n        </Fragment>\n      ) : null}\n    </Fragment>\n  );\n}\n","import { gql } from '@apollo/client';\n\nexport const CREAR_CLIENTE = gql`\n\tmutation crearCliente($input: CrearClienteInput) {\n\t\tcrearCliente(input: $input) {\n\t\t\t_id\n\t\t\tnumero_cliente\n\t\t\tclave_cliente\n\t\t\trepresentante\n\t\t\tnombre_cliente\n\t\t\trfc\n\t\t\tcurp\n\t\t\ttelefono\n\t\t\tcelular\n\t\t\temail\n\t\t\tnumero_descuento\n\t\t\tlimite_credito\n\t\t\tdias_credito\n\t\t\trazon_social\n\t\t\tdireccion {\n\t\t\t\tcalle\n\t\t\t\tno_ext\n\t\t\t\tno_int\n\t\t\t\tcodigo_postal\n\t\t\t\tcolonia\n\t\t\t\tmunicipio\n\t\t\t\tlocalidad\n\t\t\t\testado\n\t\t\t\tpais\n\t\t\t}\n\t\t\timagen\n\t\t\testado_cliente\n\t\t\ttipo_cliente\n\t\t}\n\t}\n`;\n\nexport const OBTENER_CLIENTES = gql`\n\tquery obtenerClientes($tipo: String!, $filtro: String) {\n\t\tobtenerClientes(tipo: $tipo, filtro: $filtro) {\n\t\t\t_id\n\t\t\tnumero_cliente\n\t\t\tclave_cliente\n\t\t\trepresentante\n\t\t\tnombre_cliente\n\t\t\trfc\n\t\t\tcurp\n\t\t\ttelefono\n\t\t\tcelular\n\t\t\temail\n\t\t\tnumero_descuento\n\t\t\tlimite_credito\n\t\t\tdias_credito\n\t\t\trazon_social\n\t\t\tdireccion {\n\t\t\t\tcalle\n\t\t\t\tno_ext\n\t\t\t\tno_int\n\t\t\t\tcodigo_postal\n\t\t\t\tcolonia\n\t\t\t\tmunicipio\n\t\t\t\tlocalidad\n\t\t\t\testado\n\t\t\t\tpais\n\t\t\t}\n\t\t\timagen\n\t\t\testado_cliente\n\t\t\ttipo_cliente\n\t\t\tbanco\n\t\t\tnumero_cuenta\n\t\t\tempresa {\n\t\t\t\t_id\n\t\t\t\tnombre_empresa\n\t\t\t\tcorreo_empresa\n\t\t\t\tnombre_dueno\n\t\t\t\ttelefono_dueno\n\t\t\t\tsucursales_activas\n\t\t\t\tlimite_sucursales\n\t\t\t}\n\t\t\tsucursal {\n\t\t\t\t_id\n\t\t\t\tnombre_sucursal\n\t\t\t\tdescripcion\n\t\t\t}\n\t\t\tmonedero_electronico\n\t\t\tfecha_nacimiento\n    \t\tfecha_registro\n\t\t\teliminado\n\t\t}\n\t}\n`;\n\nexport const ACTUALIZAR_CLIENTE = gql`\n\tmutation actualizarCliente($input: ActualizarClienteInput, $id: ID!) {\n\t\tactualizarCliente(id: $id, input: $input) {\n\t\t\tmessage\n\t\t}\n\t}\n`;\nexport const ELIMINAR_CLIENTE = gql`\n\tmutation eliminarCliente($id: ID!) {\n\t\teliminarCliente(id: $id) {\n\t\t\tmessage\n\t\t}\n\t}\n`;\n","import React, { useState, Fragment, useContext, useCallback } from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport Box from \"@material-ui/core/Box\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Divider from \"@material-ui/core/Divider\";\nimport Container from \"@material-ui/core/Container\";\nimport RegistrarInfoBasica from \"./RegistrarInfoBasica\";\nimport RegistrarInfoCredito from \"./RegistroInfoCredito\";\nimport { Add, Close, Done, Edit } from \"@material-ui/icons\";\nimport { ClienteCtx } from \"../../../../context/Catalogos/crearClienteCtx\";\n// import { VentasContext } from \"../../../../context/Ventas/ventasContext\";\nimport BackdropComponent from \"../../../../components/Layouts/BackDrop\";\nimport SnackBarMessages from \"../../../../components/SnackBarMessages\";\n\nimport { useMutation } from \"@apollo/client\";\nimport {\n  CREAR_CLIENTE,\n  ACTUALIZAR_CLIENTE,\n} from \"../../../../gql/Catalogos/clientes\";\nimport { Toolbar } from \"@material-ui/core\";\n\nexport default function CrearCliente({\n  tipo,\n  accion,\n  datos,\n  refetch,\n  ventas,\n  handleClickOpen,\n}) {\n  const {\n    cliente,\n    setCliente,\n    setError,\n    update,\n    setUpdate,\n    updateClientVenta,\n    setUpdateClientVenta,\n  } = useContext(ClienteCtx);\n  const [open, setOpen] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [alert, setAlert] = useState({ message: \"\", status: \"\", open: false });\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n\n  const limpiarCampos = useCallback(() => {\n    setCliente({\n      direccion: {\n        calle: \"\",\n        no_ext: \"\",\n        no_int: \"\",\n        codigo_postal: \"\",\n        colonia: \"\",\n        municipio: \"\",\n        localidad: \"\",\n        estado: \"\",\n        pais: \"\",\n      },\n      estado_cliente: true,\n    });\n  }, [setCliente]);\n\n  const toggleModal = () => {\n    setOpen(true);\n    if (datos) {\n      setCliente(datos);\n    }\n  };\n\n  const onCloseModal = () => {\n    setOpen(false);\n    limpiarCampos();\n  };\n\n  /* Mutations */\n  const [crearCliente] = useMutation(CREAR_CLIENTE);\n  const [actualizarCliente] = useMutation(ACTUALIZAR_CLIENTE);\n\n  const saveData = async () => {\n    let copy_cliente = { ...cliente };\n    if (\n      !copy_cliente.clave_cliente ||\n      !copy_cliente.nombre_cliente ||\n      !copy_cliente.telefono ||\n      !copy_cliente.email ||\n      !copy_cliente.direccion.calle ||\n      !copy_cliente.direccion.municipio ||\n      !copy_cliente.direccion.estado ||\n      !copy_cliente.direccion.pais\n    ) {\n      if (tipo !== \"CLIENTE\" && !copy_cliente.representante) {\n        setError(true);\n        return;\n      }\n      setError(true);\n      return;\n    }\n    setLoading(true);\n    try {\n      if (accion === \"registrar\") {\n        copy_cliente.tipo_cliente = tipo;\n        copy_cliente.empresa = sesion.empresa._id;\n        copy_cliente.sucursal = sesion.sucursal._id;\n        if (tipo === \"CLIENTE\") {\n          copy_cliente.representante = \"\";\n        }\n        const input = copy_cliente;\n        const clienteBase = await crearCliente({\n          variables: {\n            input,\n          },\n        });\n\n        if (ventas === true) {\n          const venta = JSON.parse(localStorage.getItem(\"DatosVentas\"));\n          let venta_actual = venta === null ? {} : venta;\n          // console.log(venta_actual);\n          localStorage.setItem(\n            \"DatosVentas\",\n            JSON.stringify({\n              subTotal:\n                venta_actual.subTotal === undefined ? 0 : venta_actual.subTotal,\n              total: venta_actual.total === undefined ? 0 : venta_actual.total,\n              impuestos:\n                venta_actual.impuestos === undefined\n                  ? 0\n                  : venta_actual.impuestos,\n              iva: venta_actual.iva === undefined ? 0 : venta_actual.iva,\n              ieps: venta_actual.ieps === undefined ? 0 : venta_actual.ieps,\n              descuento:\n                venta_actual.descuento === undefined\n                  ? 0\n                  : venta_actual.descuento,\n              monedero:\n                venta_actual.monedero === undefined ? 0 : venta_actual.monedero,\n              tipo_cambio: venta_actual.tipo_cambio\n                ? venta_actual.tipo_cambio\n                : {},\n              cliente: clienteBase.data.crearCliente,\n              venta_cliente: true,\n              productos:\n                venta_actual.productos?.length > 0\n                  ? venta_actual.productos\n                  : [],\n            })\n          );\n          setUpdateClientVenta(!updateClientVenta);\n          onCloseModal();\n          handleClickOpen();\n        }\n      } else {\n        const {\n          numero_cliente,\n          _id,\n          clave_cliente,\n          sucursal,\n          empresa,\n          ...input\n        } = copy_cliente;\n        await actualizarCliente({\n          variables: {\n            input: input,\n            id: copy_cliente._id,\n          },\n        });\n      }\n      if (refetch) {\n        refetch();\n      }\n      setUpdate(!update);\n      setAlert({ message: \"¡Listo!\", status: \"success\", open: true });\n      setError(false);\n      setLoading(false);\n      onCloseModal();\n    } catch (error) {\n      setAlert({ message: error.message, status: \"error\", open: true });\n      setLoading(false);\n      console.log(error);\n      if (error.networkError) {\n        console.log(error.networkError.result);\n      } else if (error.graphQLErrors) {\n        console.log(error.graphQLErrors);\n      }\n    }\n  };\n\n  return (\n    <Fragment>\n      <SnackBarMessages alert={alert} setAlert={setAlert} />\n      {accion === \"registrar\" ? (\n        refetch ? (\n          <IconButton color=\"primary\" onClick={toggleModal}>\n            <Add />\n          </IconButton>\n        ) : (\n          <Button\n            color=\"primary\"\n            variant=\"contained\"\n            size=\"large\"\n            onClick={toggleModal}\n            startIcon={<Add />}\n          >\n            Agregar\n          </Button>\n        )\n      ) : (\n        <IconButton onClick={toggleModal}>\n          <Edit />\n        </IconButton>\n      )}\n      <Dialog open={open} onClose={onCloseModal} fullWidth maxWidth=\"md\">\n        <DialogTitle style={{ padding: 0 }}>\n          <BackdropComponent loading={loading} setLoading={setLoading} />\n          <AppBar position=\"static\" color=\"default\" elevation={0}>\n            <Toolbar>\n              <Typography variant=\"h6\">{accion === \"registrar\" ? \"Registrar\" : \"Actualizar\"}</Typography>\n              <Box flexGrow={1} />\n              <Button\n                variant=\"contained\"\n                color=\"secondary\"\n                size=\"large\"\n                onClick={() => onCloseModal()}\n              >\n                <Close />\n              </Button>\n            </Toolbar>\n          </AppBar>\n        </DialogTitle>\n        <DialogContent>\n          <Container>\n            <Typography>\n              <b>Información básica</b>\n            </Typography>\n            <Divider />\n            <RegistrarInfoBasica tipo={tipo} accion={accion} />\n            <Box my={2} />\n            <Typography>\n              <b>Información de credito</b>\n            </Typography>\n            <Divider />\n            <RegistrarInfoCredito tipo={tipo} accion={accion} />\n          </Container>\n        </DialogContent>\n        <DialogActions>\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={saveData}\n            size=\"large\"\n            startIcon={<Done />}\n          >\n            Guardar\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </Fragment>\n  );\n}\n","import { gql } from \"@apollo/client\";\n\nexport const CREAR_COMPRA = gql`\n  mutation crearCompra(\n    $input: CrearCompraInput\n    $empresa: ID!\n    $sucursal: ID!\n    $usuario: ID!\n  ) {\n    crearCompra(\n      input: $input\n      empresa: $empresa\n      sucursal: $sucursal\n      usuario: $usuario\n    ) {\n      message\n    }\n  }\n`;\n\nexport const CREAR_COMPRA_ESPERA = gql`\n  mutation crearCompraEnEspera(\n    $input: CrearCompraInput\n    $empresa: ID!\n    $sucursal: ID!\n    $usuario: ID!\n  ) {\n    crearCompraEnEspera(\n      input: $input\n      empresa: $empresa\n      sucursal: $sucursal\n      usuario: $usuario\n    ) {\n      message\n    }\n  }\n`;\n\nexport const OBTENER_COMPRAS_REALIZADAS = gql`\n  query obtenerComprasRealizadas(\n    $empresa: ID!\n    $sucursal: ID!\n    $filtro: String\n    $fecha: String\n  ) {\n    obtenerComprasRealizadas(\n      empresa: $empresa\n      sucursal: $sucursal\n      filtro: $filtro\n      fecha: $fecha\n    ) {\n      _id\n      usuario {\n        _id\n        numero_usuario\n        nombre\n        estado_usuario\n      }\n      empresa {\n        _id\n        nombre_empresa\n      }\n      sucursal {\n        _id\n        nombre_sucursal\n      }\n      proveedor {\n        id_proveedor {\n          _id\n          numero_cliente\n          clave_cliente\n          nombre_cliente\n          telefono\n          email\n        }\n        numero_cliente\n        clave_cliente\n        nombre_cliente\n      }\n      productos {\n        _id\n        id_compra\n        id_traspaso\n        id_producto\n        producto {\n          almacen_inicial {\n            almacen\n            cantidad\n            fecha_de_expiracion\n            id_almacen\n          }\n          datos_generales {\n            codigo_barras\n            clave_alterna\n            tipo_producto\n            nombre_comercial\n            nombre_generico\n            descripcion\n            id_categoria\n            categoria\n            subcategoria\n            id_subcategoria\n            id_departamento\n            departamento\n            id_marca\n            marca\n            clave_producto_sat {\n              Name\n              Value\n            }\n            receta_farmacia\n          }\n          precios {\n            ieps\n            ieps_activo\n            iva\n            iva_activo\n            monedero\n            monedero_electronico\n            granel\n            inventario {\n              inventario_minimo\n              inventario_maximo\n              unidad_de_inventario\n            }\n            precio_de_compra {\n              precio_con_impuesto\n              precio_sin_impuesto\n              iva\n              ieps\n            }\n            precios_producto {\n              numero_precio\n              precio_neto\n              precio_venta\n              unidad_mayoreo\n              utilidad\n            }\n            unidad_de_compra {\n              cantidad\n              precio_unitario_con_impuesto\n              precio_unitario_sin_impuesto\n              unidad\n            }\n          }\n          unidades_de_venta {\n            _id\n            cantidad\n            codigo_barras\n            id_producto\n            precio\n            unidad\n            unidad_principal\n          }\n        }\n        concepto\n        cantidad\n        cantidad_regalo\n        cantidad_total\n        costo\n        descuento_porcentaje\n        descuento_precio\n        impuestos\n        mantener_precio\n        subtotal\n        total\n        medida {\n          id_medida\n          medida\n          tipo\n        }\n        color {\n          id_color\n          color\n          hex\n        }\n        unidad\n        id_unidad_venta\n        empresa\n        sucursal\n        usuario\n        year_registro\n        numero_semana_year\n        numero_mes_year\n        fecha_registro\n      }\n      almacen {\n        id_almacen {\n          _id\n          nombre_almacen\n          id_usuario_encargado {\n            _id\n            numero_usuario\n            nombre\n          }\n        }\n        nombre_almacen\n      }\n      compra_credito\n      credito_pagado\n      saldo_credito_pendiente\n      fecha_vencimiento_credito\n      subtotal\n      impuestos\n      total\n      year_registro\n      numero_semana_year\n      numero_mes_year\n      fecha_registro\n    }\n  }\n`;\n\nexport const OBTENER_COMPRAS_ESPERA = gql`\n  query obtenerComprasEnEspera($empresa: ID!, $sucursal: ID!, $filtro: String) {\n    obtenerComprasEnEspera(\n      empresa: $empresa\n      sucursal: $sucursal\n      filtro: $filtro\n    ) {\n      _id\n      en_espera\n      proveedor {\n        id_proveedor\n        clave_cliente\n        numero_cliente\n        nombre_cliente\n      }\n      almacen {\n        id_almacen\n        nombre_almacen\n      }\n      productos {\n        producto {\n          almacen_inicial {\n            almacen\n            cantidad\n            fecha_de_expiracion\n            id_almacen\n          }\n          datos_generales {\n            codigo_barras\n            clave_alterna\n            tipo_producto\n            nombre_comercial\n            nombre_generico\n            descripcion\n            id_categoria\n            categoria\n            subcategoria\n            id_subcategoria\n            id_departamento\n            departamento\n            id_marca\n            marca\n            clave_producto_sat {\n              Name\n              Value\n            }\n            receta_farmacia\n          }\n          precios {\n            ieps\n            ieps_activo\n            iva\n            iva_activo\n            monedero\n            monedero_electronico\n            precio_de_compra {\n              ieps\n              iva\n              precio_con_impuesto\n              precio_sin_impuesto\n            }\n            precios_producto {\n              numero_precio\n              precio_neto\n              precio_venta\n              iva_precio\n              ieps_precio\n              utilidad\n              precio_general\n              cantidad_unidad\n              unidad_maxima\n            }\n            unidad_de_compra {\n              cantidad\n              precio_unitario_con_impuesto\n              precio_unitario_sin_impuesto\n              unidad\n            }\n            inventario {\n              inventario_minimo\n              inventario_maximo\n              unidad_de_inventario\n            }\n            granel\n          }\n          imagenes {\n            url_imagen\n            location_imagen\n            key_imagen\n            extencion_imagen\n          }\n          centro_de_costos {\n            cuenta\n            id_cuenta\n            id_subcuenta\n            subcuenta\n          }\n          precio_plazos {\n            precio_cajas {\n              plazo\n              unidad\n              precio\n            }\n            precio_costales {\n              plazo\n              unidad\n              precio\n            }\n            precio_piezas {\n              plazo\n              unidad\n              precio\n            }\n          }\n          empresa\n          sucursal\n          usuario\n          unidades_de_venta {\n            _id\n            precio\n            cantidad\n            unidad\n            unidad_principal\n            codigo_barras\n            id_producto\n            descuento {\n              cantidad_unidad\n              numero_precio\n              unidad_maxima\n              precio_general\n              precio_neto\n              precio_venta\n              iva_precio\n              ieps_precio\n              utilidad\n              porciento\n              dinero_descontado\n            }\n            descuento_activo\n            default\n            precio_unidad {\n              numero_precio\n              precio_neto\n              precio_venta\n              iva_precio\n              unidad_mayoreo\n              utilidad\n              precio_general\n              cantidad_unidad\n              unidad_maxima\n            }\n          }\n          presentaciones {\n            _id\n            almacen\n            cantidad\n            cantidad_nueva\n            codigo_barras\n            color {\n              hex\n              nombre\n              _id\n            }\n            descuento {\n              cantidad_unidad\n              numero_precio\n              unidad_maxima\n              precio_general\n              precio_neto\n              precio_venta\n              iva_precio\n              ieps_precio\n              utilidad\n              porciento\n              dinero_descontado\n            }\n            descuento_activo\n            existencia\n            medida {\n              talla\n              tipo\n              _id\n            }\n            nombre_comercial\n            precio\n            precio_unidad {\n              numero_precio\n              precio_neto\n              precio_venta\n              iva_precio\n              unidad_mayoreo\n              utilidad\n              precio_general\n              cantidad_unidad\n              unidad_maxima\n            }\n          }\n        }\n        id_producto\n        cantidad\n        cantidad_regalo\n        unidad_regalo\n        cantidad_total\n        iva_total\n        ieps_total\n        costo\n        descuento_porcentaje\n        descuento_precio\n        impuestos\n        mantener_precio\n        subtotal\n        total\n        subtotal_descuento\n        total_descuento\n      }\n      impuestos\n      subtotal\n      total\n      fecha_registro\n    }\n  }\n`;\n\nexport const OBTENER_CONSULTA_GENERAL_PRODUCTO = gql`\n  query obtenerConsultaGeneralCompras($empresa: ID!, $sucursal: ID!) {\n    obtenerConsultaGeneralCompras(empresa: $empresa, sucursal: $sucursal) {\n      productos {\n        _id\n        datos_generales {\n          codigo_barras\n          clave_alterna\n          tipo_producto\n          nombre_comercial\n          nombre_generico\n          descripcion\n          descripcion\n          id_categoria\n          categoria\n          subcategoria\n          id_subcategoria\n          id_departamento\n          departamento\n          id_marca\n          marca\n          clave_producto_sat {\n            Name\n            Value\n          }\n          receta_farmacia\n        }\n        precios {\n          ieps\n          ieps_activo\n          inventario {\n            inventario_minimo\n            inventario_maximo\n            unidad_de_inventario\n          }\n          iva\n          iva_activo\n          monedero\n          monedero_electronico\n          precio_de_compra {\n            precio_con_impuesto\n            precio_sin_impuesto\n            iva\n            ieps\n          }\n          precios_producto {\n            numero_precio\n            precio_neto\n            precio_venta\n            unidad_mayoreo\n            utilidad\n          }\n          unidad_de_compra {\n            cantidad\n            precio_unitario_con_impuesto\n            precio_unitario_sin_impuesto\n            unidad\n          }\n          granel\n        }\n        imagenes {\n          url_imagen\n          location_imagen\n          key_imagen\n          extencion_imagen\n        }\n        centro_de_costos {\n          cuenta\n          id_cuenta\n          id_subcuenta\n          subcuenta\n        }\n        precio_plazos {\n          precio_cajas {\n            plazo\n            unidad\n            precio\n          }\n          precio_costales {\n            plazo\n            unidad\n            precio\n          }\n          precio_piezas {\n            plazo\n            unidad\n            precio\n          }\n        }\n        unidades_de_venta {\n          _id\n          precio\n          cantidad\n          concepto\n          unidad\n          unidad_principal\n          codigo_barras\n          id_producto\n          empresa\n          sucursal\n          descuento {\n            cantidad_unidad\n            numero_precio\n            unidad_maxima\n            precio_general\n            precio_neto\n            precio_venta\n            iva_precio\n            ieps_precio\n            utilidad\n            porciento\n            dinero_descontado\n          }\n          descuento_activo\n          default\n        }\n        inventario_general {\n          _id\n          cantidad_existente\n          unidad_inventario\n          cantidad_existente_maxima\n          unidad_maxima\n        }\n        medidas_producto {\n          _id\n          cantidad\n          codigo_barras\n          color {\n            hex\n            nombre\n            _id\n          }\n          existencia\n          medida {\n            talla\n            tipo\n            _id\n          }\n          nombre_comercial\n          precio\n        }\n        medidas_registradas\n        empresa\n        sucursal\n        usuario\n      }\n      proveedores {\n        _id\n        numero_cliente\n        clave_cliente\n        representante\n        nombre_cliente\n        rfc\n        curp\n        telefono\n        celular\n        email\n        numero_descuento\n        limite_credito\n        dias_credito\n        razon_social\n        direccion {\n          calle\n          no_ext\n          no_int\n          codigo_postal\n          colonia\n          municipio\n          localidad\n          estado\n          pais\n        }\n        imagen\n        estado_cliente\n        tipo_cliente\n        banco\n        numero_cuenta\n        empresa {\n          _id\n        }\n        sucursal {\n          _id\n        }\n      }\n      almacenes {\n        _id\n        nombre_almacen\n        id_usuario_encargado {\n          _id\n          numero_usuario\n          nombre\n          email\n          imagen\n          estado_usuario\n        }\n        id_sucursal {\n          _id\n          nombre_sucursal\n          usuario_sucursal\n        }\n        direccion {\n          calle\n          no_ext\n          no_int\n          codigo_postal\n          colonia\n          municipio\n          localidad\n          estado\n          pais\n        }\n      }\n    }\n  }\n`;\n\nexport const ELIMINAR_COMPRA_ESPERA = gql`\n  mutation eliminarCompraEnEspera($id: ID!) {\n    eliminarCompraEnEspera(id: $id) {\n      message\n    }\n  }\n`;\n","import { initial_state_precios } from \"../../../../context/Catalogos/initialStatesProducto\";\nimport moment from 'moment';\n\nexport const initial_state_datosProducto = {\n  producto: {},\n  costo: 0,\n  cantidad: 0,\n  cantidad_regalo: 0,\n  unidad_regalo: '',\n  cantidad_total: 0,\n  descuento_porcentaje: 0,\n  descuento_precio: 0,\n  iva_total: 0,\n  ieps_total: 0,\n  subtotal: 0,\n  impuestos: 0,\n  total: 0,\n  mantener_precio: true,\n  subtotal_descuento: 0,\n  total_descuento: 0,\n};\n\nexport const initial_state_datosCompra = {\n  productos: [],\n    proveedor: {},\n    en_espera: false,\n    fecha_registro: moment().locale(\"es-mx\").format(),\n    almacen: {},\n    compra_credito: false,\n    fecha_vencimiento_credito: moment().locale(\"es-mx\").format(),\n    credito_pagado: false,\n    saldo_credito_pendiente: 0,\n    forma_pago: \"\",\n    descuento_aplicado: false,\n    descuento: {\n      porcentaje: 0,\n      cantidad_descontada: 0,\n      precio_con_descuento: 0\n    },\n    subtotal: 0,\n    impuestos: 0,\n    total: 0,\n};\n\nexport const initial_state_precios_venta = [\n  {\n    numero_precio: 1,\n    utilidad: 0,\n    precio_neto: 0,\n    unidad_mayoreo: 0,\n    precio_venta: 0,\n    iva_precio: 0,\n    ieps_precio: 0,\n  },\n  {\n    numero_precio: 2,\n    utilidad: 0,\n    precio_neto: 0,\n    unidad_mayoreo: 0,\n    precio_venta: 0,\n    iva_precio: 0,\n    ieps_precio: 0,\n  },\n  {\n    numero_precio: 3,\n    utilidad: 0,\n    precio_neto: 0,\n    unidad_mayoreo: 0,\n    precio_venta: 0,\n    iva_precio: 0,\n    ieps_precio: 0,\n  },\n  {\n    numero_precio: 4,\n    utilidad: 0,\n    precio_neto: 0,\n    unidad_mayoreo: 0,\n    precio_venta: 0,\n    iva_precio: 0,\n    ieps_precio: 0,\n  },\n  {\n    numero_precio: 5,\n    utilidad: 0,\n    precio_neto: 0,\n    unidad_mayoreo: 0,\n    precio_venta: 0,\n    iva_precio: 0,\n    ieps_precio: 0,\n  },\n  {\n    numero_precio: 6,\n    utilidad: 0,\n    precio_neto: 0,\n    unidad_mayoreo: 0,\n    precio_venta: 0,\n    iva_precio: 0,\n    ieps_precio: 0,\n  },\n];\n\nexport const initial_state_productoOriginal = {\n  precios: initial_state_precios,\n};\nexport const initial_state_productosCompra = [];\n","import React, { Fragment, useContext } from \"react\";\nimport {\n  Box,\n  CircularProgress,\n  Grid,\n  IconButton,\n  TextField,\n} from \"@material-ui/core\";\nimport { Autocomplete } from \"@material-ui/lab\";\nimport { ClienteProvider } from \"../../../../../context/Catalogos/crearClienteCtx\";\nimport { AlmacenProvider } from \"../../../../../context/Almacenes/crearAlmacen\";\nimport { ComprasContext } from \"../../../../../context/Compras/comprasContext\";\nimport RegistroProvedor from \"../../../Catalogos/Cliente/CrearCliente\";\nimport RegistroAlmacen from \"../../../Almacenes/RegistroAlmacen/ContainerRegistroAlmacen\";\nimport { RegProductoContext } from \"../../../../../context/Catalogos/CtxRegProducto\";\n\nimport { useQuery } from \"@apollo/client\";\nimport { OBTENER_CONSULTA_GENERAL_PRODUCTO } from \"../../../../../gql/Compras/compras\";\nimport { ErrorOutline } from \"@material-ui/icons\";\nimport { initial_state_datosProducto } from \"../initial_states\";\nimport {\n  initial_state_almacen_inicial,\n  initial_state_datos_generales,\n  initial_state_precios,\n  initial_state_preciosP,\n  initial_state_preciosPlazos,\n  initial_state_unidadVentaXDefecto,\n  initial_state_unidadVentaSecundaria,\n} from \"../../../../../context/Catalogos/initialStatesProducto\";\n\nexport default function DatosProveedorAlmacen({\n  getProductos,\n  status,\n}) {\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n  const {\n    datosCompra,\n    setDatosCompra,\n    setDatosProducto,\n    productosCompra,\n  } = useContext(ComprasContext);\n\n  const {\n    setDatosGenerales,\n    setPrecios,\n    setValidacion,\n    setPreciosP,\n    setImagenes,\n    setUnidadesVenta,\n    almacen_inicial,\n    setAlmacenInicial,\n    setUnidadVentaXDefecto,\n    setUnidadVentaSecundaria,\n    setCentroDeCostos,\n    setPreciosPlazos,\n    setSubcategorias,\n    setOnPreview,\n    setSubcostos,\n    setImagenesEliminadas,\n    setPresentaciones,\n    setPresentacionesEliminadas,\n  } = useContext(RegProductoContext);\n\n  /* Queries */\n  const { loading, data, error, refetch } = useQuery(\n    OBTENER_CONSULTA_GENERAL_PRODUCTO,\n    {\n      variables: { sucursal: sesion.sucursal._id, empresa: sesion.empresa._id },\n    }\n  );\n\n  const obtenerProveedorAlmacen = (tipo, value) => {\n    if (!value) {\n      setDatosCompra({ ...datosCompra, [tipo]: {} });\n      return;\n    }\n    if (tipo === \"proveedor\") {\n      setDatosCompra({\n        ...datosCompra,\n        proveedor: {\n          id_proveedor: value._id,\n          nombre_cliente: value.nombre_cliente,\n          numero_cliente: value.numero_cliente,\n          clave_cliente: value.clave_cliente,\n        },\n      });\n    } else {\n      setDatosProducto(initial_state_datosProducto);\n      resetInitialStates();\n      setDatosCompra({\n        ...datosCompra,\n        almacen: {\n          id_almacen: value._id,\n          nombre_almacen: value.nombre_almacen,\n        },\n      });\n      setAlmacenInicial({\n        ...almacen_inicial,\n        id_almacen: value._id,\n        almacen: value.nombre_almacen,\n      });\n      getProductos(value._id);\n    }\n  };\n\n  const resetInitialStates = () => {\n    setDatosGenerales(initial_state_datos_generales);\n    setPrecios(initial_state_precios);\n    setUnidadVentaXDefecto(initial_state_unidadVentaXDefecto);\n    setUnidadVentaSecundaria(initial_state_unidadVentaSecundaria);\n    setPreciosP(initial_state_preciosP);\n    setUnidadesVenta([]);\n    setAlmacenInicial(initial_state_almacen_inicial);\n    setCentroDeCostos({});\n    setPreciosPlazos(initial_state_preciosPlazos);\n    setSubcategorias([]);\n    setImagenes([]);\n    setOnPreview({ index: \"\", image: \"\" });\n    setValidacion({ error: false, message: \"\" });\n    setSubcostos([]);\n    setImagenesEliminadas([]);\n    setPresentaciones([]);\n    setPresentacionesEliminadas([]);\n  };\n\n  const errorRender = (\n    <Grid item xs={12} md={4}>\n      <Box display=\"flex\" alignItems=\"center\">\n        <TextField\n          size=\"small\"\n          fullWidth\n          value=\"Error\"\n          error\n          disabled\n          variant=\"outlined\"\n        />\n        <IconButton disabled>\n          <ErrorOutline fontSize=\"default\" />\n        </IconButton>\n      </Box>\n    </Grid>\n  );\n\n  const loadingRender = (\n    <Grid item xs={12} md={4}>\n      <Box display=\"flex\" alignItems=\"center\">\n        <TextField\n          size=\"small\"\n          fullWidth\n          disabled\n          value=\"Cargando...\"\n          variant=\"outlined\"\n        />\n        <IconButton disabled>\n          <CircularProgress size={24} />\n        </IconButton>\n      </Box>\n    </Grid>\n  );\n\n  if (loading)\n    return (\n      <Grid container spacing={2} alignItems=\"center\">\n        {loadingRender}\n        {loadingRender}\n        {loadingRender}\n      </Grid>\n    );\n  if (error) {\n    return (\n      <Fragment>\n        <Grid container spacing={2} alignItems=\"center\">\n          {errorRender}\n          {errorRender}\n          {errorRender}\n        </Grid>\n      </Fragment>\n    );\n  }\n\n  const { almacenes, proveedores } = data.obtenerConsultaGeneralCompras;\n\n  return (\n    <Fragment>\n      <Grid container spacing={2} alignItems=\"center\">\n        <Grid item xs={12} md={4}>\n          <Box display=\"flex\" alignItems=\"center\">\n            <Autocomplete\n              disabled={productosCompra.length > 0}\n              id=\"combo-box-proveedor\"\n              size=\"small\"\n              fullWidth\n              options={proveedores}\n              getOptionLabel={(option) => option.nombre_cliente}\n              renderInput={(params) => (\n                <TextField {...params} label=\"Proveedor\" variant=\"outlined\" />\n              )}\n              onChange={(_, value) =>\n                obtenerProveedorAlmacen(\"proveedor\", value)\n              }\n              getOptionSelected={(option) => option.nombre_cliente}\n              value={\n                datosCompra.proveedor.nombre_cliente\n                  ? datosCompra.proveedor\n                  : null\n              }\n            />\n            <ClienteProvider>\n              <RegistroProvedor\n                accion=\"registrar\"\n                tipo=\"PROVEEDOR\"\n                refetch={refetch}\n              />\n            </ClienteProvider>\n          </Box>\n        </Grid>\n        <Grid item xs={12} md={4}>\n          <Box display=\"flex\" alignItems=\"center\">\n            <Autocomplete\n              disabled={productosCompra.length > 0}\n              id=\"combo-box-almacen\"\n              size=\"small\"\n              fullWidth\n              options={almacenes}\n              getOptionLabel={(option) => option.nombre_almacen}\n              renderInput={(params) => (\n                <TextField {...params} label=\"Almacen\" variant=\"outlined\" />\n              )}\n              onChange={(_, value) => obtenerProveedorAlmacen(\"almacen\", value)}\n              getOptionSelected={(option) => option.nombre_almacen}\n              value={\n                datosCompra.almacen.nombre_almacen ? datosCompra.almacen : null\n              }\n            />\n            <AlmacenProvider>\n              <RegistroAlmacen accion=\"registrar\" refetch={refetch} />\n            </AlmacenProvider>\n          </Box>\n        </Grid>\n        <Grid item xs={12} md={4}>\n          <Box display=\"flex\" alignItems=\"center\">\n            <TextField\n              fullWidth\n              size=\"small\"\n              variant=\"outlined\"\n              type=\"date\"\n              onChange={(e) => {\n                console.log(e.target.value);\n                setDatosCompra({\n                  ...datosCompra,\n                  fecha_registro: e.target.value,\n                });\n              }}\n              value={datosCompra.fecha_registro}\n            />\n          </Box>\n        </Grid>\n      </Grid>\n    </Fragment>\n  );\n}\n","import { Grid, Typography } from \"@material-ui/core\";\nimport React, { useContext } from \"react\";\nimport { formatoMexico } from \"../../../../../config/reuserFunctions\";\nimport { RegProductoContext } from \"../../../../../context/Catalogos/CtxRegProducto\";\nimport { ComprasContext } from \"../../../../../context/Compras/comprasContext\";\n\nexport default function MostrarPrecios() {\n  const { datosProducto } = useContext(ComprasContext);\n  const { presentaciones } = useContext(RegProductoContext);\n\n  if (presentaciones.length > 0) {\n    let cantida_suma = 0;\n    let cantidad_total = 0;\n    presentaciones.forEach((presentacion) => {\n      const { cantidad, cantidad_nueva } = presentacion;\n      let nueva = cantidad_nueva ? cantidad_nueva : 0;\n\n      cantida_suma += cantidad + nueva;\n    });\n    if (isNaN(cantida_suma)) cantidad_total = 0;\n    cantidad_total = cantida_suma; \n\n    return (\n      <Grid container spacing={2}>\n        <Grid item>\n          <Typography style={{ fontSize: 16 }}>Subtotal:</Typography>\n          <Typography style={{ fontSize: 18 }}>\n            <b>${formatoMexico(datosProducto.subtotal_descuento * cantidad_total)}</b>\n          </Typography>\n        </Grid>\n        <Grid item>\n          <Typography style={{ fontSize: 16 }}>Impuestos:</Typography>\n          <Typography style={{ fontSize: 18 }}>\n            <b>${formatoMexico(datosProducto.impuestos * cantidad_total)}</b>\n          </Typography>\n        </Grid>\n        <Grid item>\n          <Typography style={{ fontSize: 16 }}>Descuento:</Typography>\n          <Typography style={{ fontSize: 18 }}>\n            <b>{datosProducto.descuento_porcentaje}%</b>\n          </Typography>\n        </Grid>\n        <Grid item>\n          <Typography style={{ fontSize: 16 }}>Total:</Typography>\n          <Typography style={{ fontSize: 18 }}>\n            <b>\n              $\n              {formatoMexico(\n                datosProducto.total_descuento * cantidad_total\n              )}\n            </b>\n          </Typography>\n        </Grid>\n      </Grid>\n    );\n  } else {\n    return (\n      <Grid container spacing={2}>\n        <Grid item>\n          <Typography style={{ fontSize: 16 }}>Subtotal:</Typography>\n          <Typography style={{ fontSize: 18 }}>\n            <b>${formatoMexico(datosProducto.subtotal_descuento * datosProducto.cantidad)}</b>\n          </Typography>\n        </Grid>\n        <Grid item>\n          <Typography style={{ fontSize: 16 }}>Impuestos:</Typography>\n          <Typography style={{ fontSize: 18 }}>\n            <b>${formatoMexico(datosProducto.impuestos * datosProducto.cantidad)}</b>\n          </Typography>\n        </Grid>\n        <Grid item>\n          <Typography style={{ fontSize: 16 }}>Descuento:</Typography>\n          <Typography style={{ fontSize: 18 }}>\n            <b>{datosProducto.descuento_porcentaje}%</b>\n          </Typography>\n        </Grid>\n        <Grid item>\n          <Typography style={{ fontSize: 16 }}>Total:</Typography>\n          <Typography style={{ fontSize: 18 }}>\n            <b>\n              $\n              {formatoMexico(\n                datosProducto.total_descuento * datosProducto.cantidad\n              )}\n            </b>\n          </Typography>\n        </Grid>\n      </Grid>\n    );\n  }\n}\n","import React, {\n  Fragment,\n  useContext,\n  useState,\n  forwardRef,\n  useEffect,\n} from \"react\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Box from \"@material-ui/core/Box\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Typography from \"@material-ui/core/Typography\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\n\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Select from \"@material-ui/core/Select\";\nimport Slide from \"@material-ui/core/Slide\";\n\nimport PreciosProductos from \"./PreciosProductos\";\nimport TallasProductos from \"./TallasProducto\";\nimport Add from \"@material-ui/icons/Add\";\n\nimport {\n  initial_state_almacen_inicial,\n  initial_state_centro_de_costos,\n  initial_state_datos_generales,\n  initial_state_precios,\n  initial_state_preciosPlazos,\n  initial_state_unidadVentaXDefecto,\n  initial_state_unidadVentaSecundaria,\n} from \"../../../../../context/Catalogos/initialStatesProducto\";\n\nimport CrearProducto, {\n  initial_state_preciosP,\n} from \"../../../Catalogos/Producto/crearProducto\";\nimport { ComprasContext } from \"../../../../../context/Compras/comprasContext\";\nimport { RegProductoContext } from \"../../../../../context/Catalogos/CtxRegProducto\";\nimport { useApolloClient } from \"@apollo/client\";\nimport { OBTENER_PRODUCTOS } from \"../../../../../gql/Catalogos/productos\";\nimport PreciosDeVentaCompras from \"./PreciosVenta\";\nimport { validateJsonEdit } from \"../../../Catalogos/Producto/validateDatos\";\nimport { Alert, AlertTitle } from \"@material-ui/lab\";\nimport { InfoOutlined } from \"@material-ui/icons\";\nimport DescuentosInputs from \"./Descuentos\";\nimport DatosProveedorAlmacen from \"./DatosProveedorAlmacen\";\nimport { initial_state_datosProducto } from \"../initial_states\";\nimport MostrarPrecios from \"./mostrar_precios\";\nimport { useDebounce } from \"use-debounce/lib\";\nimport SnackBarMessages from \"../../../../../components/SnackBarMessages\";\n\nexport default function DatosProducto({ status }) {\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n  const {\n    datosProducto,\n    setDatosProducto,\n    productosCompra,\n    setProductosCompra,\n    datosCompra,\n    productoOriginal,\n    setProductoOriginal,\n    setPreciosVenta,\n    setDatosCompra,\n    isEditing,\n    setIsEditing,\n    editFinish,\n    setEditFinish,\n    costo,\n    setCosto,\n    cantidad,\n    setCantidad,\n    loadingProductos,\n    setLoadingProductos,\n  } = useContext(ComprasContext);\n  const {\n    datos_generales,\n    setDatosGenerales,\n    precios,\n    setPrecios,\n    setValidacion,\n    preciosP,\n    setPreciosP,\n    imagenes,\n    setImagenes,\n    unidadesVenta,\n    setUnidadesVenta,\n    almacen_inicial,\n    setAlmacenInicial,\n    unidadVentaXDefecto,\n    setUnidadVentaXDefecto,\n    unidadVentaSecundaria,\n    setUnidadVentaSecundaria,\n    centro_de_costos,\n    setCentroDeCostos,\n    preciosPlazos,\n    setPreciosPlazos,\n    setSubcategorias,\n    setOnPreview,\n    setSubcostos,\n    imagenes_eliminadas,\n    setImagenesEliminadas,\n    presentaciones,\n    setPresentaciones,\n    presentaciones_eliminadas,\n    setPresentacionesEliminadas,\n    setAlmacenExistente,\n  } = useContext(RegProductoContext);\n  const [verificate, setVerificate] = useState(false);\n\n  let count = 0;\n  if (status === \"enEspera\" && datosCompra) count = 1;\n\n  const [cargando, setCargando] = useState(false);\n  const client = useApolloClient();\n  const [data, setData] = useState();\n  const [alert, setAlert] = useState({ message: \"\", status: \"\", open: false });\n\n  /* Queries */\n  const getProductos = async (id_almacen) => {\n    try {\n      let almacen = id_almacen ? id_almacen : datosCompra.almacen._id;\n      setLoadingProductos(true);\n      const response = await client.query({\n        query: OBTENER_PRODUCTOS,\n        variables: {\n          almacen,\n          empresa: sesion.empresa._id,\n          sucursal: sesion.sucursal._id,\n        },\n        fetchPolicy: \"network-only\",\n      });\n      setLoadingProductos(false);\n      setData(response.data);\n    } catch (error) {\n      setLoadingProductos(false);\n      setAlert({\n        message: \"Hubo un error al cargar los productos\",\n        status: \"error\",\n        open: true,\n      });\n    }\n  };\n\n  const [COSTO] = useDebounce(costo, 500);\n  const [CANTIDAD] = useDebounce(cantidad, 500);\n\n  /* useEffect(() => {\n    if (loadingProductos) {\n      setLoadingProductos(true);\n    } else {\n      setLoadingProductos(false);\n    }\n  }, [loadingProductos]); */\n\n  useEffect(() => {\n    if (data) obtenerCosto(COSTO);\n  }, [COSTO]);\n\n  useEffect(() => {\n    if (data) obtenerCantidad(CANTIDAD);\n  }, [CANTIDAD]);\n\n  useEffect(() => {\n    if (count === 1) {\n      getProductos(datosCompra.almacen._id);\n    }\n  }, [count]);\n\n  if (loadingProductos) {\n    return (\n      <Box\n        display=\"flex\"\n        flexDirection=\"column\"\n        justifyContent=\"center\"\n        alignItems=\"center\"\n        height=\"20vh\"\n      >\n        <CircularProgress />\n        <Typography variant=\"h5\">Cargando</Typography>\n      </Box>\n    );\n  }\n\n  let obtenerProductos = [];\n  if (data) obtenerProductos = data.obtenerProductos;\n\n  const obtenerSelectsProducto = (producto) => {\n    /* console.log(producto); */\n    if (!producto) {\n      setDatosProducto(initial_state_datosProducto);\n      setCosto(0);\n      setCantidad(0);\n      resetInitialStates();\n      return;\n    }\n\n    const {\n      ieps,\n      iva,\n      precio_con_impuesto,\n      precio_sin_impuesto,\n    } = producto.precios.precio_de_compra;\n\n    const impuestos = iva + ieps;\n\n    setDatosProducto({\n      ...datosProducto,\n      producto,\n      id_producto: producto._id,\n      costo: precio_con_impuesto,\n      cantidad: 1,\n      unidad_regalo: producto.precios.unidad_de_compra.unidad,\n      descuento_porcentaje: 0,\n      descuento_precio: 0,\n      subtotal: precio_sin_impuesto,\n      impuestos: parseFloat(impuestos.toFixed(6)),\n      total: precio_con_impuesto,\n      subtotal_descuento: precio_sin_impuesto,\n      total_descuento: precio_con_impuesto,\n    });\n    setInitialStates(producto);\n    setCosto(precio_con_impuesto);\n    setCantidad(1);\n    setProductoOriginal(producto);\n    setPreciosVenta(producto.precios.precios_producto);\n  };\n\n  function obtenerCantidad(value) {\n    if (!value) {\n      setDatosProducto({\n        ...datosProducto,\n        cantidad: \"\",\n      });\n      return;\n    }\n    setDatosProducto({\n      ...datosProducto,\n      cantidad: parseFloat(value),\n    });\n  }\n\n  const obtenerCantidadRegalo = (value) => {\n    if (!value) {\n      setDatosProducto({\n        ...datosProducto,\n        cantidad_regalo: \"\",\n      });\n      return;\n    }\n    setDatosProducto({\n      ...datosProducto,\n      cantidad_regalo: parseFloat(value),\n    });\n  };\n\n  const obtenerUnidadRegalo = (e) => {\n    const { value, name } = e.target;\n    setDatosProducto({\n      ...datosProducto,\n      [name]: value,\n    });\n  };\n\n  function obtenerCosto(value) {\n    /* const { name, value } = e.target; */\n    if (!value) {\n      setDatosProducto({\n        ...datosProducto,\n        costo: \"\",\n      });\n      return;\n    }\n\n    const { iva, ieps, precio_de_compra } = datosProducto.producto.precios;\n    const iva_precio = precio_de_compra.iva;\n    const ieps_precio = precio_de_compra.ieps;\n\n    let precio_neto = parseFloat(value);\n    let subtotal = 0;\n    let total = 0;\n    let cantidad_descontada = 0;\n    let impuesto_actual = iva_precio + ieps_precio;\n\n    let precio_sin_impuesto = precio_neto - impuesto_actual;\n    let nuevo_iva =\n      parseFloat(precio_sin_impuesto) *\n      parseFloat(iva < 10 ? \".0\" + iva : \".\" + iva);\n    let nuevo_ieps =\n      parseFloat(precio_sin_impuesto) *\n      parseFloat(ieps < 10 ? \".0\" + ieps : \".\" + ieps);\n    let nuevo_impuesto = nuevo_ieps + nuevo_iva;\n\n    if (datosProducto.descuento_porcentaje > 0) {\n      cantidad_descontada = Math.round(\n        (precio_sin_impuesto * datosProducto.descuento_porcentaje) / 100\n      );\n      subtotal = precio_sin_impuesto - cantidad_descontada;\n      total = subtotal + nuevo_impuesto;\n\n      setDatosProducto({\n        ...datosProducto,\n        costo: parseFloat(precio_neto),\n        descuento_precio: parseFloat(cantidad_descontada),\n        subtotal_descuento: parseFloat(subtotal),\n        total_descuento: parseFloat(total),\n      });\n      return;\n    }\n    setDatosProducto({\n      ...datosProducto,\n      costo: parseFloat(precio_neto),\n      subtotal_descuento: parseFloat(precio_sin_impuesto),\n      total_descuento: parseFloat(precio_sin_impuesto + nuevo_impuesto),\n    });\n  }\n\n  const agregarCompra = async (actualizar_Precios) => {\n    let copy_datosProducto = { ...datosProducto };\n    let copy_datosGenerales = { ...datos_generales };\n    let copy_presentaciones = [...presentaciones];\n    let copy_precios = { ...precios };\n    let copy_preciosP = [...preciosP];\n    let copy_almacenInicial = { ...almacen_inicial };\n    let copy_centroCostos = { ...centro_de_costos };\n    let copy_presentacionesEliminadas = [...presentaciones_eliminadas];\n    let copy_precioPlazos = { ...preciosPlazos };\n\n    /* Validaciones */\n    setCargando(true);\n    if (\n      !copy_datosProducto.producto.datos_generales ||\n      !datosCompra.proveedor.nombre_cliente ||\n      !datosCompra.almacen.nombre_almacen\n    ) {\n      setCargando(false);\n      return;\n    }\n\n    if (copy_datosGenerales.tipo_producto !== \"OTROS\") {\n      if (copy_presentaciones.length > 0) {\n        const pres = copy_presentaciones.filter(\n          (res) => res.color._id && res.medida._id && res.existencia\n        );\n        if (pres.length !== copy_presentaciones.length) {\n          setVerificate(true);\n          setCargando(false);\n          return;\n        }\n      } else {\n        setVerificate(true);\n        setCargando(false);\n        return;\n      }\n    }\n\n    /* let copy_unidadesVenta = [...unidadesVenta]; */\n    let copy_unidadesVenta = [\n      { ...unidadVentaXDefecto },\n      { ...unidadVentaSecundaria },\n    ];\n\n    /* if (copy_unidadesVenta.length === 0) {\n      copy_unidadesVenta.push(unidadVentaXDefecto);\n    } else {\n      const unidadxdefecto = copy_unidadesVenta.filter(\n        (unidades) => unidades.default === true\n      );\n      if (unidadxdefecto.length === 0) {\n        copy_unidadesVenta.splice(0, 0, unidadVentaXDefecto);\n      }\n    } */\n\n    if (actualizar_Precios) {\n      copy_datosProducto.mantener_precio = false;\n    } else {\n      copy_datosProducto.mantener_precio = true;\n    }\n    copy_precios.precios_producto = copy_preciosP;\n\n    let producto = {\n      datos_generales: await validateJsonEdit(\n        copy_datosGenerales,\n        \"datos_generales\"\n      ),\n      precios: copy_precios,\n      imagenes,\n      imagenes_eliminadas,\n      almacen_inicial: copy_almacenInicial,\n      centro_de_costos: copy_centroCostos,\n      unidades_de_venta: await validateJsonEdit(\n        copy_unidadesVenta,\n        \"unidades_de_venta\"\n      ),\n      presentaciones: copy_presentaciones,\n      presentaciones_eliminadas: copy_presentacionesEliminadas,\n      precio_plazos: copy_precioPlazos,\n      empresa: sesion.empresa._id,\n      sucursal: sesion.sucursal._id,\n      usuario: sesion._id,\n    };\n\n    copy_datosProducto.producto = producto;\n\n    if (copy_datosProducto.producto.datos_generales.tipo_producto !== \"OTROS\") {\n      //si son medidas sumas las cantidades de las presetnaciones\n      if (copy_datosProducto.producto.presentaciones.length > 0) {\n        copy_datosProducto.cantidad = 0;\n        copy_datosProducto.producto.presentaciones.forEach((presentacion) => {\n          const { cantidad, cantidad_nueva } = presentacion;\n          let nueva = cantidad_nueva ? cantidad_nueva : 0;\n          copy_datosProducto.cantidad += cantidad + nueva;\n        });\n        if (isNaN(copy_datosProducto.cantidad)) copy_datosProducto.cantidad = 0;\n        copy_datosProducto.cantidad_total = copy_datosProducto.cantidad;\n      } else {\n        copy_datosProducto.cantidad = 0;\n        copy_datosProducto.cantidad_total = copy_datosProducto.cantidad;\n      }\n    } else {\n      //Si hay cantidad regalo y es diferente unidad hacer las converciones\n      const { cantidad_regalo, cantidad, unidad_regalo } = copy_datosProducto;\n      //convertir todo a la unidad media y sumar (Pz, Kg, Lt)\n      const factor =\n        copy_datosProducto.producto.precios.unidad_de_compra.cantidad;\n      const cantiad_media = cantidad * factor;\n      let cantidad_regalo_media =\n        unidad_regalo === \"Pz\" ||\n        unidad_regalo === \"Kg\" ||\n        unidad_regalo === \"Lt\"\n          ? cantidad_regalo\n          : cantidad_regalo * factor;\n      let cantidad_total_media = cantiad_media + cantidad_regalo_media;\n\n      //si factor es > 1 es caja o costal y dividir unidad media entre factor y si no mandar la cantidad total media;\n      if (factor > 1) {\n        copy_datosProducto.cantidad_regalo = cantidad_regalo_media / factor;\n        copy_datosProducto.cantidad_total = cantidad_total_media / factor;\n      } else {\n        copy_datosProducto.cantidad_regalo = cantidad_regalo_media;\n        copy_datosProducto.cantidad_total = cantidad_total_media;\n      }\n    }\n    copy_datosProducto.subtotal = copy_datosProducto.subtotal_descuento;\n    copy_datosProducto.total = copy_datosProducto.total_descuento;\n\n    if (isEditing.producto) {\n      //se tiene que actualizar el producto en la fila y sumar el subtotal\n      let productosCompra_ordenados = [...productosCompra];\n      //calculos de totales, subtotales e impuestos de compra general\n      const {\n        iva,\n        ieps,\n      } = copy_datosProducto.producto.precios.precio_de_compra;\n\n      copy_datosProducto.iva_total = iva * copy_datosProducto.cantidad_total;\n      copy_datosProducto.ieps_total = ieps * copy_datosProducto.cantidad_total;\n      copy_datosProducto.subtotal =\n        copy_datosProducto.subtotal * copy_datosProducto.cantidad_total;\n      copy_datosProducto.impuestos =\n        copy_datosProducto.impuestos * copy_datosProducto.cantidad_total;\n      copy_datosProducto.total =\n        copy_datosProducto.total * copy_datosProducto.cantidad_total;\n\n      let subtotal =\n        datosCompra.subtotal +\n        copy_datosProducto.subtotal * copy_datosProducto.cantidad_total -\n        isEditing.producto.subtotal;\n      let impuestos =\n        datosCompra.impuestos +\n        copy_datosProducto.impuestos * copy_datosProducto.cantidad_total -\n        isEditing.producto.impuestos;\n      let total =\n        datosCompra.total +\n        copy_datosProducto.total * copy_datosProducto.cantidad_total -\n        isEditing.producto.total;\n\n      productosCompra_ordenados.splice(isEditing.index, 1, copy_datosProducto);\n\n      setProductosCompra(productosCompra_ordenados);\n      setDatosCompra({\n        ...datosCompra,\n        subtotal,\n        impuestos,\n        total,\n      });\n      setIsEditing({});\n      setEditFinish(!editFinish);\n      setProductoOriginal({ precios: initial_state_precios });\n      setDatosProducto(initial_state_datosProducto);\n      setCosto(0);\n      setCantidad(0);\n      setCargando(false);\n    } else {\n      // se agregar el producto normal y verificar si ya esta el producto en la lista\n\n      const existente = productosCompra\n        .map((prod_exist, index) => {\n          if (prod_exist.id_producto === copy_datosProducto.id_producto) {\n            return { prod_exist, index };\n          } else {\n            return \"\";\n          }\n        })\n        .filter(Boolean);\n\n      if (existente.length > 0) {\n        let productosCompra_ordenados = [...productosCompra];\n        const { index, prod_exist } = existente[0];\n        const {\n          iva,\n          ieps,\n        } = copy_datosProducto.producto.precios.precio_de_compra;\n\n        copy_datosProducto.iva_total = iva * copy_datosProducto.cantidad_total;\n        copy_datosProducto.ieps_total =\n          ieps * copy_datosProducto.cantidad_total;\n        copy_datosProducto.subtotal =\n          copy_datosProducto.subtotal * copy_datosProducto.cantidad_total;\n        copy_datosProducto.impuestos =\n          copy_datosProducto.impuestos * copy_datosProducto.cantidad_total;\n        copy_datosProducto.total =\n          copy_datosProducto.total * copy_datosProducto.cantidad_total;\n\n        productosCompra_ordenados.splice(index, 1, copy_datosProducto);\n        setProductosCompra(productosCompra_ordenados);\n        setDatosCompra({\n          ...datosCompra,\n          subtotal:\n            datosCompra.subtotal -\n            prod_exist.subtotal +\n            copy_datosProducto.subtotal,\n          impuestos:\n            datosCompra.impuestos -\n            prod_exist.impuestos +\n            copy_datosProducto.impuestos,\n          total:\n            datosCompra.total - prod_exist.total + copy_datosProducto.total,\n        });\n      } else {\n        let array_ordenado = [...productosCompra];\n        const {\n          iva,\n          ieps,\n        } = copy_datosProducto.producto.precios.precio_de_compra;\n\n        copy_datosProducto.iva_total = iva * copy_datosProducto.cantidad_total;\n        copy_datosProducto.ieps_total =\n          ieps * copy_datosProducto.cantidad_total;\n        copy_datosProducto.subtotal =\n          copy_datosProducto.subtotal * copy_datosProducto.cantidad_total;\n        copy_datosProducto.impuestos =\n          copy_datosProducto.impuestos * copy_datosProducto.cantidad_total;\n        copy_datosProducto.total =\n          copy_datosProducto.total * copy_datosProducto.cantidad_total;\n\n        array_ordenado.splice(0, 0, copy_datosProducto);\n        setProductosCompra(array_ordenado);\n        setDatosCompra({\n          ...datosCompra,\n          subtotal: datosCompra.subtotal + copy_datosProducto.subtotal,\n          impuestos: datosCompra.impuestos + copy_datosProducto.impuestos,\n          total: datosCompra.total + copy_datosProducto.total,\n        });\n      }\n      setProductoOriginal({ precios: initial_state_precios });\n      setDatosProducto(initial_state_datosProducto);\n      setCosto(0);\n      setCantidad(0);\n      setCargando(false);\n    }\n  };\n\n  /* SET STATES WHEN UPDATING */\n  const setInitialStates = (producto) => {\n    const { precios_producto, ...new_precios } = producto.precios;\n    const { unidades_de_venta } = producto;\n    /* let unidades_venta = producto.unidades_de_venta.filter(\n      (res) => !res.default\n    );\n    const unidadxdefecto = producto.unidades_de_venta.filter(\n      (res) => res.default === true\n    ); */\n    setDatosGenerales(producto.datos_generales);\n    setPrecios(new_precios);\n    setCentroDeCostos(\n      producto.centro_de_costos\n        ? producto.centro_de_costos\n        : initial_state_centro_de_costos\n    );\n    setImagenes(producto.imagenes);\n    setPreciosPlazos(producto.precio_plazos);\n    setUnidadesVenta(unidades_de_venta);\n    setPreciosP(producto.precios.precios_producto);\n    setUnidadVentaXDefecto(\n      unidades_de_venta.length > 0\n        ? unidades_de_venta[0]\n        : initial_state_unidadVentaXDefecto\n    );\n    setUnidadVentaSecundaria(\n      unidades_de_venta.length > 0\n        ? unidades_de_venta[1]\n        : initial_state_unidadVentaSecundaria\n    );\n    setPresentaciones(\n      producto.medidas_producto ? producto.medidas_producto : []\n    );\n    if (\n      datosCompra.almacen.id_almacen &&\n      producto.medidas_producto.length === 0\n    ) {\n      setAlmacenInicial({\n        ...almacen_inicial,\n        id_almacen: datosCompra.almacen.id_almacen,\n        almacen: datosCompra.almacen.nombre_almacen,\n      });\n    }\n\n    if (producto.inventario_general.length > 0) {\n      setAlmacenExistente(true);\n    } else {\n      setAlmacenExistente(false);\n    }\n  };\n\n  /* ###### RESET STATES ###### */\n  const resetInitialStates = () => {\n    setDatosGenerales(initial_state_datos_generales);\n    setPrecios(initial_state_precios);\n    setUnidadVentaXDefecto(initial_state_unidadVentaXDefecto);\n    setUnidadVentaSecundaria(initial_state_unidadVentaSecundaria);\n    setPreciosP(initial_state_preciosP);\n    setUnidadesVenta([]);\n    setAlmacenInicial(initial_state_almacen_inicial);\n    setCentroDeCostos({});\n    setPreciosPlazos(initial_state_preciosPlazos);\n    setSubcategorias([]);\n    setImagenes([]);\n    setOnPreview({ index: \"\", image: \"\" });\n    setValidacion({ error: false, message: \"\" });\n    setSubcostos([]);\n    setImagenesEliminadas([]);\n    setPresentaciones([]);\n    setPresentacionesEliminadas([]);\n  };\n\n  return (\n    <Fragment>\n      <SnackBarMessages alert={alert} setAlert={setAlert} />\n      <DatosProveedorAlmacen status={status} getProductos={getProductos} />\n      <Box my={1} />\n      <Grid container spacing={1} alignItems=\"center\">\n        <Grid item>\n          <Typography>Código de barras</Typography>\n          <Box width={200}>\n            <Autocomplete\n              id=\"combo-box-producto-codigo\"\n              size=\"small\"\n              fullWidth\n              options={obtenerProductos}\n              getOptionLabel={(option) =>\n                option.datos_generales.codigo_barras\n                  ? option.datos_generales.codigo_barras\n                  : \"N/A\"\n              }\n              renderInput={(params) => (\n                <TextField {...params} variant=\"outlined\" />\n              )}\n              onChange={(_, value) => obtenerSelectsProducto(value)}\n              getOptionSelected={(option, value) => option._id === value._id}\n              value={\n                datosProducto.producto.datos_generales\n                  ? datosProducto.producto\n                  : null\n              }\n              disabled={\n                !datosCompra.almacen.id_almacen ||\n                !datosCompra.proveedor.id_proveedor\n              }\n            />\n          </Box>\n        </Grid>\n        <Grid item>\n          <Typography>Producto</Typography>\n          <Box display=\"flex\" width={250} alignItems=\"center\">\n            <Autocomplete\n              id=\"combo-box-producto-nombre\"\n              size=\"small\"\n              fullWidth\n              options={obtenerProductos}\n              getOptionLabel={(option) =>\n                option.datos_generales.nombre_comercial\n              }\n              renderInput={(params) => (\n                <TextField {...params} variant=\"outlined\" />\n              )}\n              onChange={(_, value) => obtenerSelectsProducto(value)}\n              getOptionSelected={(option, value) => option._id === value._id}\n              value={\n                datosProducto.producto.datos_generales\n                  ? datosProducto.producto\n                  : null\n              }\n              disabled={\n                !datosCompra.almacen.id_almacen ||\n                !datosCompra.proveedor.id_proveedor\n              }\n            />\n            {!datosCompra.almacen.id_almacen ||\n            !datosCompra.proveedor.id_proveedor ? (\n              <IconButton disabled>\n                <Add />\n              </IconButton>\n            ) : (\n              <CrearProducto\n                accion={false}\n                /* productosRefetch={refetch} */\n                getProductos={getProductos}\n                fromCompra={true}\n              />\n            )}\n          </Box>\n        </Grid>\n        <Grid item>\n          <Typography>Clave</Typography>\n          <Box width={140}>\n            <Autocomplete\n              id=\"combo-box-producto-clave\"\n              size=\"small\"\n              fullWidth\n              options={obtenerProductos}\n              getOptionLabel={(option) => option.datos_generales.clave_alterna}\n              renderInput={(params) => (\n                <TextField {...params} variant=\"outlined\" />\n              )}\n              onChange={(_, value) => obtenerSelectsProducto(value)}\n              getOptionSelected={(option, value) => option._id === value._id}\n              value={\n                datosProducto.producto.datos_generales\n                  ? datosProducto.producto\n                  : null\n              }\n              disabled={\n                !datosCompra.almacen.id_almacen ||\n                !datosCompra.proveedor.id_proveedor\n              }\n            />\n          </Box>\n        </Grid>\n        <Grid item>\n          <Typography>Costo</Typography>\n          <Box width={100}>\n            <TextField\n              inputMode=\"decimal\"\n              name=\"costo\"\n              variant=\"outlined\"\n              size=\"small\"\n              fullWidth\n              disabled={!datosProducto.producto.datos_generales}\n              value={costo}\n              onChange={(e) => setCosto(e.target.value)}\n              InputProps={{\n                startAdornment: (\n                  <InputAdornment position=\"start\">$</InputAdornment>\n                ),\n              }}\n            />\n          </Box>\n        </Grid>\n        {datosProducto.producto.datos_generales &&\n        datosProducto.producto.datos_generales.tipo_producto === \"OTROS\" ? (\n          <Fragment>\n            <Grid item>\n              <Typography>Unidad</Typography>\n              <Box width={100}>\n                <TextField\n                  variant=\"outlined\"\n                  size=\"small\"\n                  fullWidth\n                  aria-readonly=\"true\"\n                  value={datosProducto.producto.precios.unidad_de_compra.unidad}\n                />\n              </Box>\n            </Grid>\n            <Grid item>\n              <Typography>Cantidad</Typography>\n              <Box width={100}>\n                <TextField\n                  name=\"cantidad\"\n                  variant=\"outlined\"\n                  size=\"small\"\n                  fullWidth\n                  inputMode=\"numeric\"\n                  disabled={!datosProducto.producto.datos_generales}\n                  value={cantidad}\n                  onChange={(e) => setCantidad(e.target.value)}\n                />\n              </Box>\n            </Grid>\n            <Grid item>\n              <Typography>Cant. regalo</Typography>\n              <Box width={100}>\n                <TextField\n                  name=\"cantidad_regalo\"\n                  variant=\"outlined\"\n                  size=\"small\"\n                  fullWidth\n                  inputMode=\"numeric\"\n                  disabled={!datosProducto.producto.datos_generales}\n                  value={datosProducto.cantidad_regalo}\n                  onChange={(e) => obtenerCantidadRegalo(e.target.value)}\n                />\n              </Box>\n            </Grid>\n            <Grid item>\n              <Typography>Unidad. regalo</Typography>\n              <Box width={100}>\n                <FormControl\n                  variant=\"outlined\"\n                  size=\"small\"\n                  name=\"unidad_regalo\"\n                  fullWidth\n                >\n                  {datosProducto.producto.precios.granel ? (\n                    <Select\n                      id=\"select-unidad-regalo\"\n                      disabled={!datosProducto.producto.datos_generales}\n                      name=\"unidad_regalo\"\n                      value={datosProducto.unidad_regalo}\n                      onChange={obtenerUnidadRegalo}\n                    >\n                      <MenuItem value=\"Kg\">Kg</MenuItem>\n                      <MenuItem value=\"Costal\">Costal</MenuItem>\n                      <MenuItem value=\"Lt\">Lt</MenuItem>\n                    </Select>\n                  ) : (\n                    <Select\n                      id=\"select-unidad-regalo\"\n                      disabled={!datosProducto.producto.datos_generales}\n                      name=\"unidad_regalo\"\n                      value={datosProducto.unidad_regalo}\n                      onChange={obtenerUnidadRegalo}\n                    >\n                      <MenuItem value=\"Caja\">Caja</MenuItem>\n                      <MenuItem value=\"Pz\">Pz</MenuItem>\n                    </Select>\n                  )}\n                </FormControl>\n              </Box>\n            </Grid>\n          </Fragment>\n        ) : null}\n\n        <Grid item>\n          <Typography>Descuento</Typography>\n          <DescuentosInputs />\n        </Grid>\n      </Grid>\n      <Box mt={1}>\n        <Grid container>\n          <Grid item xs={12} md={7} padding=\"checkbox\">\n            <PreciosDeVentaCompras />\n          </Grid>\n          <Grid\n            item\n            xs={12}\n            md={5}\n            style={{\n              display: \"flex\",\n              alignItems: \"center\",\n              justifyContent: \"center\",\n              flexDirection: \"column\",\n            }}\n          >\n            <Box m={1}>\n              <MostrarPrecios />\n            </Box>\n            <Box display=\"flex\">\n              {datosProducto.producto.datos_generales &&\n              datosProducto.producto.datos_generales.tipo_producto !==\n                \"OTROS\" ? (\n                <TallasProductos\n                  verificate={verificate}\n                  setVerificate={setVerificate}\n                />\n              ) : null}\n\n              <Box mx={1} />\n              {datosProducto.costo !==\n              productoOriginal.precios.precio_de_compra.precio_con_impuesto ? (\n                <ModalAgregarCompra\n                  agregarCompra={agregarCompra}\n                  cargando={cargando}\n                />\n              ) : (\n                <Button\n                  style={\n                    loadingProductos\n                      ? {\n                          pointerEvents: \"none\",\n                          opacity: 0.4,\n                        }\n                      : null\n                  }\n                  variant=\"contained\"\n                  color=\"primary\"\n                  startIcon={\n                    cargando ? (\n                      <CircularProgress color=\"inherit\" size={20} />\n                    ) : (\n                      <Add />\n                    )\n                  }\n                  disableElevation\n                  disabled={\n                    datosProducto.producto.datos_generales\n                      ? datosProducto.producto.datos_generales.tipo_producto ===\n                        \"OTROS\"\n                        ? !datosCompra.proveedor.nombre_cliente ||\n                          !datosCompra.almacen.nombre_almacen ||\n                          !datosProducto.costo ||\n                          !datosProducto.cantidad\n                          ? true\n                          : false\n                        : !datosCompra.proveedor.nombre_cliente ||\n                          !datosCompra.almacen.nombre_almacen ||\n                          !datosProducto.costo\n                        ? true\n                        : false\n                      : true\n                  }\n                  onClick={() => agregarCompra()}\n                >\n                  {isEditing.producto ? \"Actualizar \" : \"Agregar a compra\"}\n                </Button>\n              )}\n            </Box>\n          </Grid>\n        </Grid>\n      </Box>\n    </Fragment>\n  );\n}\n\nconst Transition = forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nconst ModalAgregarCompra = ({ agregarCompra, cargando }) => {\n  const [open, setOpen] = useState(false);\n  const {\n    datosProducto,\n    datosCompra,\n    isEditing,\n    loadingProductos,\n  } = useContext(ComprasContext);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  return (\n    <div>\n      <Button\n        style={\n          loadingProductos\n            ? {\n                pointerEvents: \"none\",\n                opacity: 0.4,\n              }\n            : null\n        }\n        variant=\"contained\"\n        color=\"primary\"\n        startIcon={<Add />}\n        disableElevation\n        disabled={\n          datosProducto.producto.datos_generales\n            ? datosProducto.producto.datos_generales.tipo_producto === \"OTROS\"\n              ? !datosCompra.proveedor.nombre_cliente ||\n                !datosCompra.almacen.nombre_almacen ||\n                !datosProducto.costo ||\n                !datosProducto.cantidad\n                ? true\n                : false\n              : !datosCompra.proveedor.nombre_cliente ||\n                !datosCompra.almacen.nombre_almacen ||\n                !datosProducto.costo\n              ? true\n              : false\n            : true\n        }\n        onClick={() => handleClickOpen()}\n      >\n        {isEditing.producto ? \"Actualizar \" : \"Agregar a compra\"}\n      </Button>\n      <Dialog\n        open={open}\n        TransitionComponent={Transition}\n        keepMounted\n        onClose={() => handleClose()}\n        aria-labelledby=\"modal-agregar-compra\"\n      >\n        <DialogTitle id=\"modal-agregar-compra\" style={{ padding: 0 }}>\n          <Alert\n            severity=\"info\"\n            icon={<InfoOutlined style={{ fontSize: 30 }} />}\n            style={{ padding: 16 }}\n          >\n            <AlertTitle style={{ fontSize: 20 }}>\n              El costo es diferente al precio de compra actual\n            </AlertTitle>\n            <Typography style={{ fontSize: 18 }}>\n              ¿Desea actualizar los precios o mantenerlos?\n            </Typography>\n          </Alert>\n        </DialogTitle>\n        <DialogActions style={{ display: \"flex\", justifyContent: \"center\" }}>\n          <Button onClick={() => handleClose()} color=\"default\">\n            Cancelar\n          </Button>\n          <Button\n            onClick={() => {\n              agregarCompra();\n              handleClose();\n            }}\n            color=\"primary\"\n          >\n            Mantener\n          </Button>\n          <PreciosProductos\n            cargando={cargando}\n            handleClose={handleClose}\n            agregarCompra={agregarCompra}\n          />\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n};\n","import {\n  initial_state_almacen_inicial,\n  initial_state_centro_de_costos,\n  initial_state_datos_generales,\n  initial_state_precios,\n  initial_state_preciosPlazos,\n  initial_state_unidadVentaXDefecto,\n  initial_state_unidadVentaSecundaria,\n} from \"../../../../../context/Catalogos/initialStatesProducto\";\n\nimport { initial_state_preciosP } from \"../../../Catalogos/Producto/crearProducto\";\n\nexport const SetOrResetData = (accion,setStates, producto) => {\n  const {\n    setDatosGenerales,\n    setPrecios,\n    setValidacion,\n    setPreciosP,\n    setImagenes,\n    setUnidadesVenta,\n    almacen_inicial,\n    setAlmacenInicial,\n    setUnidadVentaXDefecto,\n    setUnidadVentaSecundaria,\n    setCentroDeCostos,\n    setPreciosPlazos,\n    setSubcategorias,\n    setOnPreview,\n    setSubcostos,\n    setImagenesEliminadas,\n    setPresentaciones,\n    setPresentacionesEliminadas,\n    datosCompra\n  } = setStates\n\n  if (accion === \"SET\") {\n    const { precios_producto, ...new_precios } = producto.precios;\n    const { unidades_de_venta } = producto;\n    /* const unidadxdefecto = producto.unidades_de_venta.filter(\n      (res) => res.default\n    ); */\n\n    setDatosGenerales(producto.datos_generales);\n    setPrecios(new_precios);\n    setCentroDeCostos(\n      producto.centro_de_costos\n        ? producto.centro_de_costos\n        : initial_state_centro_de_costos\n    );\n    setImagenes(producto.imagenes);\n    setPreciosPlazos(producto.precio_plazos);\n    setUnidadesVenta(unidades_de_venta);\n    setPreciosP(producto.precios.precios_producto);\n    /* setUnidadVentaXDefecto(unidadxdefecto[0]); */\n    setUnidadVentaXDefecto(\n      unidades_de_venta.length > 0\n        ? unidades_de_venta[0]\n        : initial_state_unidadVentaXDefecto\n    );\n    setUnidadVentaSecundaria(\n      unidades_de_venta.length > 0\n        ? unidades_de_venta[1]\n        : initial_state_unidadVentaSecundaria\n    );\n    setPresentaciones(\n      producto.presentaciones ? producto.presentaciones : []\n    );\n    /* if (datosCompra.almacen.id_almacen && !producto.medidas_registradas) */\n    if (datosCompra.almacen.id_almacen && producto.presentaciones.length === 0) {\n      setAlmacenInicial({\n        ...almacen_inicial,\n        id_almacen: datosCompra.almacen.id_almacen,\n        almacen: datosCompra.almacen.nombre_almacen,\n      });\n    }\n  } else {\n    setDatosGenerales(initial_state_datos_generales);\n    setPrecios(initial_state_precios);\n    setUnidadVentaXDefecto(initial_state_unidadVentaXDefecto);\n    setUnidadVentaSecundaria(initial_state_unidadVentaSecundaria);\n    setPreciosP(initial_state_preciosP);\n    setUnidadesVenta([]);\n    setAlmacenInicial(initial_state_almacen_inicial);\n    setCentroDeCostos({});\n    setPreciosPlazos(initial_state_preciosPlazos);\n    setSubcategorias([]);\n    setImagenes([]);\n    setOnPreview({ index: \"\", image: \"\" });\n    setValidacion({ error: false, message: \"\" });\n    setSubcostos([]);\n    setImagenesEliminadas([]);\n    setPresentaciones([]);\n    setPresentacionesEliminadas([]);\n  }\n};\n","import React, {\n  useContext,\n  useState,\n  forwardRef,\n  useEffect,\n  Fragment,\n} from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport RemoveCircleOutlineIcon from \"@material-ui/icons/RemoveCircleOutline\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Slide from \"@material-ui/core/Slide\";\nimport { ComprasContext } from \"../../../../context/Compras/comprasContext\";\nimport { Close, Edit, Error } from \"@material-ui/icons\";\nimport { initial_state_datosProducto } from \"./initial_states\";\nimport { SetOrResetData } from \"./productos/setOrResetData\";\nimport { RegProductoContext } from \"../../../../context/Catalogos/CtxRegProducto\";\nimport { formatoMexico } from \"../../../../config/reuserFunctions\";\nimport { Grid, Typography } from \"@material-ui/core\";\n\nconst useStyles = makeStyles({\n  root: {\n    width: \"100%\",\n  },\n  container: {\n    height: \"40vh\",\n  },\n});\n\nexport default function ListaCompras() {\n  const classes = useStyles();\n  const { productosCompra, loadingProductos, datosCompra } = useContext(\n    ComprasContext\n  );\n\n  const productos_ordernados = [...productosCompra];\n\n  return (\n    <Paper className={classes.root} variant=\"outlined\">\n      <TableContainer\n        className={classes.container}\n        style={\n          loadingProductos\n            ? {\n                pointerEvents: \"none\",\n                opacity: 0.4,\n              }\n            : null\n        }\n      >\n        <Table stickyHeader size=\"small\">\n          <TableHead>\n            <TableRow>\n              <TableCell>Código de barras</TableCell>\n              <TableCell>Producto</TableCell>\n              <TableCell>Precio de compra</TableCell>\n              <TableCell padding=\"checkbox\">Cantidad</TableCell>\n              <TableCell padding=\"checkbox\">Cantidad regalo</TableCell>\n              <TableCell padding=\"checkbox\">Cantidad total</TableCell>\n              <TableCell padding=\"checkbox\">Presentaciones</TableCell>\n              <TableCell>IVA</TableCell>\n              <TableCell>IEPS</TableCell>\n              <TableCell>Total IVA</TableCell>\n              <TableCell>Total IEPS</TableCell>\n              <TableCell>Editar</TableCell>\n              <TableCell>Remover</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {productos_ordernados.map((producto, index) => {\n              return (\n                <RenderProductosCompra\n                  key={index}\n                  producto={producto}\n                  index={index}\n                />\n              );\n            })}\n          </TableBody>\n        </Table>\n      </TableContainer>\n        <Grid container spacing={2}>\n          <Grid item>\n            <Typography style={{ fontSize: 18 }}>\n              Subtotal: <b>${ datosCompra.subtotal ? formatoMexico(datosCompra.subtotal) : 0}</b>\n            </Typography>\n          </Grid>\n          <Grid item>\n            <Typography style={{ fontSize: 18 }}>\n              Impuestos: <b>${datosCompra.impuestos ? formatoMexico(datosCompra.impuestos) : 0}</b>\n            </Typography>\n          </Grid>\n          <Grid item>\n            <Typography style={{ fontSize: 18 }}>\n              <b>Total: ${datosCompra.total ? formatoMexico(datosCompra.total) : 0}</b>\n            </Typography>\n          </Grid>\n        </Grid>\n    </Paper>\n  );\n}\n\nconst RenderProductosCompra = ({ producto, index }) => {\n  const {\n    datosCompra,\n    setDatosProducto,\n    setProductoOriginal,\n    setPreciosVenta,\n    isEditing,\n    setIsEditing,\n    editFinish,\n    setCosto,\n    setCantidad,\n    setIssue,\n  } = useContext(ComprasContext);\n  const [isSelected, setIsSelected] = useState(false);\n  const productoCTX = useContext(RegProductoContext);\n\n  const seStates = {\n    setDatosGenerales: productoCTX.setDatosGenerales,\n    setPrecios: productoCTX.setPrecios,\n    setValidacion: productoCTX.setValidacion,\n    setPreciosP: productoCTX.setPreciosP,\n    setImagenes: productoCTX.setImagenes,\n    setUnidadesVenta: productoCTX.setUnidadesVenta,\n    almacen_inicial: productoCTX.almacen_inicial,\n    setAlmacenInicial: productoCTX.setAlmacenInicial,\n    setUnidadVentaXDefecto: productoCTX.setUnidadVentaXDefecto,\n    setUnidadVentaSecundaria: productoCTX.setUnidadVentaSecundaria,\n    setCentroDeCostos: productoCTX.setCentroDeCostos,\n    setPreciosPlazos: productoCTX.setPreciosPlazos,\n    setSubcategorias: productoCTX.setSubcategorias,\n    setOnPreview: productoCTX.setOnPreview,\n    setSubcostos: productoCTX.setSubcostos,\n    setImagenesEliminadas: productoCTX.setImagenesEliminadas,\n    setPresentaciones: productoCTX.setPresentaciones,\n    setPresentacionesEliminadas: productoCTX.setPresentacionesEliminadas,\n    datosCompra,\n  };\n\n  const handleEdit = () => {\n    setIsSelected(true);\n    setIsEditing({ producto, index, finish: false });\n    setDatosProducto(producto);\n    SetOrResetData(\"SET\", seStates, producto.producto);\n    setProductoOriginal(producto.producto);\n    setPreciosVenta(producto.producto.precios.precios_producto);\n    setCosto(producto.costo);\n    setCantidad(producto.cantidad);\n  };\n\n  const handleCancelEdit = () => {\n    setIsSelected(false);\n    setIsEditing({});\n    setDatosProducto(initial_state_datosProducto);\n    SetOrResetData(\"RESET\", seStates);\n    setCosto(0);\n    setCantidad(1);\n  };\n\n  useEffect(() => {\n    setIsSelected(false);\n  }, [editFinish]);\n\n  useEffect(() => {\n    if (!producto.cantidad) {\n    } else {\n      setIssue(false);\n    }\n  }, [producto.cantidad]);\n\n  const unidad_producto = producto.producto.precios.unidad_de_compra.unidad;\n  const { cantidad, cantidad_regalo, cantidad_total } = producto;\n\n  return (\n    <TableRow\n      hover\n      role=\"checkbox\"\n      tabIndex={-1}\n      selected={isSelected || !cantidad}\n      style={\n        isEditing.producto && !isSelected\n          ? {\n              pointerEvents: \"none\",\n              opacity: 0.4,\n            }\n          : null\n      }\n    >\n      <TableCell>\n        {producto.producto.datos_generales\n          ? producto.producto.datos_generales.codigo_barras\n            ? producto.producto.datos_generales.codigo_barras\n            : \"-\"\n          : \"-\"}\n      </TableCell>\n      <TableCell>\n        {producto.producto.datos_generales.nombre_comercial}\n      </TableCell>\n      <TableCell width={180}>\n        {!cantidad ? (\n          <Error color=\"error\" />\n        ) : (\n          <b>$ {formatoMexico(producto.total)}</b>\n        )}\n      </TableCell>\n      <TableCell>\n        {cantidad}\n        <b>({unidad_producto})</b>\n      </TableCell>\n      <TableCell>\n        {cantidad_regalo}\n        <b>({unidad_producto})</b>\n      </TableCell>\n      <TableCell>\n        {cantidad_total}\n        <b>({unidad_producto})</b>\n      </TableCell>\n      <TableCell>\n        {producto.producto.presentaciones.length > 0\n          ? producto.producto.presentaciones.length\n          : \"N/A\"}\n      </TableCell>\n      <TableCell>{producto.producto.precios.iva}%</TableCell>\n      <TableCell>{producto.producto.precios.ieps}%</TableCell>\n      <TableCell>${producto.iva_total}</TableCell>\n      <TableCell>${producto.ieps_total}</TableCell>\n      <TableCell>\n        {isSelected ? (\n          <IconButton\n            color=\"inherit\"\n            size=\"small\"\n            onClick={() => handleCancelEdit()}\n          >\n            <Close />\n          </IconButton>\n        ) : (\n          <IconButton color=\"primary\" size=\"small\" onClick={() => handleEdit()}>\n            <Edit />\n          </IconButton>\n        )}\n      </TableCell>\n      <TableCell>\n        <ModalDeleteProducto index={index} isSelected={isSelected} />\n      </TableCell>\n    </TableRow>\n  );\n};\n\nconst Transition = forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nconst ModalDeleteProducto = ({ index, isSelected }) => {\n  const {\n    productosCompra,\n    setProductosCompra,\n    datosCompra,\n    setDatosCompra,\n  } = useContext(ComprasContext);\n  const [open, setOpen] = useState(false);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const eliminarCompra = () => {\n    let copy_compras = [...productosCompra];\n    let objeto_eliminado = copy_compras.splice(index, 1);\n\n    setDatosCompra({\n      ...datosCompra,\n      subtotal: datosCompra.subtotal - objeto_eliminado[0].subtotal,\n      impuestos: datosCompra.impuestos - objeto_eliminado[0].impuestos,\n      total: datosCompra.total - objeto_eliminado[0].total,\n    });\n    setProductosCompra([...copy_compras]);\n    handleClose();\n  };\n\n  return (\n    <Fragment>\n      <IconButton\n        color=\"secondary\"\n        size=\"small\"\n        onClick={handleClickOpen}\n        disabled={isSelected}\n      >\n        <RemoveCircleOutlineIcon />\n      </IconButton>\n      <Dialog\n        open={open}\n        TransitionComponent={Transition}\n        keepMounted\n        onClose={handleClose}\n        aria-labelledby=\"modal-eliminar-compra\"\n      >\n        <DialogTitle id=\"modal-eliminar-compra\">\n          Seguro que quiere eliminar esto de la lista?\n        </DialogTitle>\n\n        <DialogActions>\n          <Button onClick={handleClose} color=\"primary\">\n            Cancelar\n          </Button>\n          <Button onClick={eliminarCompra} color=\"secondary\">\n            Aceptar\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </Fragment>\n  );\n};\n","import React, { useContext, useState } from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport Typography from \"@material-ui/core/Typography\";\nimport {\n  Box,\n  Checkbox,\n  CircularProgress,\n  FormControl,\n  FormControlLabel,\n  Grid,\n  InputAdornment,\n  InputLabel,\n  MenuItem,\n  Select,\n  Slide,\n  TextField,\n} from \"@material-ui/core\";\nimport { ComprasContext } from \"../../../../context/Compras/comprasContext\";\nimport { formatoMexico } from \"../../../../config/reuserFunctions\";\nimport { formaPago } from \"../../Facturacion/catalogos\";\nimport { Done } from \"@material-ui/icons\";\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function ConfirmarCompra({ realizarCompraBD }) {\n  const [open, setOpen] = useState(false);\n  const [loading_modal, setLoadingModal] = useState(false);\n  const {\n    productosCompra,\n    datosCompra,\n    setDatosCompra,\n    issue,\n    descuentoCompra,\n    setDescuentoCompra,\n  } = useContext(ComprasContext);\n  const handleClickOpen = () => setOpen(true);\n  const handleClose = () => setOpen(false);\n\n  const obtenerFormaPago = (forma_pago) => {\n    setDatosCompra({\n      ...datosCompra,\n      forma_pago,\n    });\n  };\n\n  const aplicarDescuento = (descuento_aplicado) => {\n    if (!descuento_aplicado) {\n      setDescuentoCompra({\n        ...descuentoCompra,\n        subtotal: datosCompra.subtotal,\n        total: datosCompra.total,\n        descuento_aplicado,\n        porcentaje: 0,\n        cantidad_descontada: 0,\n        precio_con_descuento: 0,\n      });\n      return;\n    }\n    setDescuentoCompra({\n      ...descuentoCompra,\n      descuento_aplicado,\n    });\n  };\n\n  const obtenerPorcentaje = (value) => {\n    if (!value || parseFloat(value) === 0) {\n      setDescuentoCompra({\n        ...descuentoCompra,\n        subtotal: datosCompra.subtotal,\n        total: datosCompra.total,\n        porcentaje: 0,\n        cantidad_descontada: 0,\n        precio_con_descuento: 0,\n      });\n      return;\n    }\n    let porcentaje = parseFloat(value);\n    let cantidad_descontada = Math.round(\n      (datosCompra.subtotal * porcentaje) / 100\n    );\n    let precio_con_descuento = datosCompra.subtotal - cantidad_descontada;\n\n    setDescuentoCompra({\n      ...descuentoCompra,\n      subtotal: parseFloat((precio_con_descuento).toFixed(2)),\n      total: parseFloat((precio_con_descuento + datosCompra.impuestos).toFixed(2)),\n      porcentaje,\n      cantidad_descontada,\n      precio_con_descuento: parseFloat((precio_con_descuento).toFixed(2)),\n    });\n  };\n\n  const obtenerPrecio = (value) => {\n    if (!value || parseFloat(value) === 0) {\n      setDescuentoCompra({\n        ...descuentoCompra,\n        subtotal: datosCompra.subtotal,\n        total: datosCompra.total,\n        porcentaje: 0,\n        cantidad_descontada: 0,\n        precio_con_descuento: 0,\n      });\n      return;\n    }\n\n    let cantidad_descontada = parseFloat(value);\n    let porcentaje = Math.round(\n      (cantidad_descontada / datosCompra.subtotal) * 100\n    );\n    /* let descuento_porcentaje = 100 - porcentaje; */\n    let precio_con_descuento = datosCompra.subtotal - cantidad_descontada;\n\n    setDescuentoCompra({\n      ...descuentoCompra,\n      subtotal: parseFloat((precio_con_descuento).toFixed(2)),\n      total: parseFloat((precio_con_descuento + datosCompra.impuestos).toFixed(2)),\n      porcentaje,\n      cantidad_descontada,\n      precio_con_descuento: parseFloat((precio_con_descuento).toFixed(2)),\n    });\n  };\n\n  return (\n    <div>\n      <Button\n        autoFocus\n        color=\"primary\"\n        variant=\"contained\"\n        size=\"large\"\n        onClick={() => handleClickOpen()}\n        disabled={!productosCompra.length || issue}\n        startIcon={<Done />}\n      >\n        Realizar compra\n      </Button>\n      <Dialog\n        open={open}\n        TransitionComponent={Transition}\n        keepMounted\n        onClose={handleClose}\n        aria-labelledby=\"dialog-confirmacion-compra\"\n        aria-describedby=\"dialog-confirmacion-compra-description\"\n        fullWidth\n        maxWidth=\"xs\"\n      >\n        <DialogContent>\n          <Box>\n            <Typography>\n              <b>Total de productos:</b>\n              {\" \" + productosCompra.length}\n            </Typography>\n            <Typography>\n              <b>Subtotal:</b>\n              {\" $\" +\n                formatoMexico(\n                  !descuentoCompra.subtotal\n                    ? datosCompra.subtotal\n                    : descuentoCompra.subtotal\n                )}\n            </Typography>\n            <Typography>\n              <b>Impuestos:</b>\n              {\" $\" + formatoMexico(datosCompra.impuestos)}\n            </Typography>\n            <Typography>\n              <b>Total:</b>\n              {\" $\" +\n                formatoMexico(\n                  !descuentoCompra.total\n                    ? datosCompra.total\n                    : descuentoCompra.total\n                )}\n            </Typography>\n          </Box>\n\n          <Box my={2}>\n            <FormControl\n              variant=\"outlined\"\n              fullWidth\n              size=\"small\"\n              name=\"forma_pago\"\n            >\n              <InputLabel id=\"forma_pago\">Forma de pago</InputLabel>\n              <Select\n                labelId=\"forma_pago\"\n                value={datosCompra.forma_pago}\n                name=\"forma_pago\"\n                onChange={(e) => obtenerFormaPago(e.target.value)}\n                label=\"Forma de pago\"\n              >\n                {formaPago.map((res, index) => (\n                  <MenuItem\n                    key={index}\n                    value={res.Value}\n                  >{`${res.Value} - ${res.Name}`}</MenuItem>\n                ))}\n              </Select>\n            </FormControl>\n            <FormControlLabel\n              control={\n                <Checkbox\n                  checked={descuentoCompra.descuento_aplicado}\n                  onChange={(e) => aplicarDescuento(e.target.checked)}\n                  name=\"descuento_aplicado\"\n                />\n              }\n              label=\"Aplicar descuento\"\n            />\n            <Grid container spacing={2}>\n              <Grid item md={6}>\n                <TextField\n                  variant=\"outlined\"\n                  size=\"small\"\n                  fullWidth\n                  onChange={(e) => obtenerPrecio(e.target.value)}\n                  disabled={!descuentoCompra.descuento_aplicado}\n                  value={descuentoCompra.cantidad_descontada}\n                  InputProps={{\n                    startAdornment: (\n                      <InputAdornment position=\"start\">$</InputAdornment>\n                    ),\n                  }}\n                />\n              </Grid>\n              <Grid item md={6}>\n                <TextField\n                  variant=\"outlined\"\n                  type=\"number\"\n                  size=\"small\"\n                  fullWidth\n                  onChange={(e) => obtenerPorcentaje(e.target.value)}\n                  disabled={!descuentoCompra.descuento_aplicado}\n                  value={descuentoCompra.porcentaje}\n                  InputProps={{\n                    startAdornment: (\n                      <InputAdornment position=\"start\">%</InputAdornment>\n                    ),\n                  }}\n                />\n              </Grid>\n            </Grid>\n          </Box>\n        </DialogContent>\n        <DialogActions>\n          <Button\n            onClick={handleClose}\n            color=\"inherit\"\n            disabled={loading_modal}\n          >\n            Cancelar\n          </Button>\n          <Button\n            onClick={() =>\n              realizarCompraBD(false, undefined, handleClose, setLoadingModal)\n            }\n            color=\"primary\"\n            startIcon={\n              loading_modal ? (\n                <CircularProgress color=\"inherit\" size={20} />\n              ) : (\n                <Done />\n              )\n            }\n            disabled={loading_modal || !datosCompra.forma_pago}\n          >\n            Realizar Compra\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n}\n","import React, { useContext, useState } from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Slide from \"@material-ui/core/Slide\";\nimport {\n  Box,\n  Checkbox,\n  CircularProgress,\n  FormControl,\n  FormControlLabel,\n  Grid,\n  InputAdornment,\n  InputLabel,\n  MenuItem,\n  Select,\n  TextField,\n  Typography,\n} from \"@material-ui/core\";\nimport { ComprasContext } from \"../../../../context/Compras/comprasContext\";\nimport { CreditCard, Done } from \"@material-ui/icons\";\nimport { formatoMexico } from \"../../../../config/reuserFunctions\";\nimport { formaPago } from \"../../Facturacion/catalogos\";\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function CompraCredito({ realizarCompraBD }) {\n  const [open, setOpen] = useState(false);\n  const [loading_modal, setLoadingModal] = useState(false);\n  const {\n    productosCompra,\n    datosCompra,\n    setDatosCompra,\n    issue,\n    descuentoCompra,\n    setDescuentoCompra,\n  } = useContext(ComprasContext);\n\n  const handleClickOpen = () => setOpen(true);\n  const handleClose = () => setOpen(false);\n\n  const obtenerFormaPago = (forma_pago) => {\n    setDatosCompra({\n      ...datosCompra,\n      forma_pago,\n    });\n  };\n\n  const aplicarDescuento = (descuento_aplicado) => {\n    if (!descuento_aplicado) {\n      setDescuentoCompra({\n        ...descuentoCompra,\n        subtotal: datosCompra.subtotal,\n        total: datosCompra.total,\n        descuento_aplicado,\n        porcentaje: 0,\n        cantidad_descontada: 0,\n        precio_con_descuento: 0,\n      });\n      return;\n    }\n    setDescuentoCompra({\n      ...descuentoCompra,\n      descuento_aplicado,\n    });\n  };\n\n  const obtenerPorcentaje = (value) => {\n    if (!value || parseFloat(value) === 0) {\n      setDescuentoCompra({\n        ...descuentoCompra,\n        subtotal: datosCompra.subtotal,\n        total: datosCompra.total,\n        porcentaje: 0,\n        cantidad_descontada: 0,\n        precio_con_descuento: 0,\n      });\n      return;\n    }\n    let porcentaje = parseFloat(value);\n    let cantidad_descontada = Math.round(\n      (datosCompra.subtotal * porcentaje) / 100\n    );\n    let precio_con_descuento = datosCompra.subtotal - cantidad_descontada;\n\n    setDescuentoCompra({\n      ...descuentoCompra,\n      subtotal: parseFloat(precio_con_descuento.toFixed(2)),\n      total: parseFloat(\n        (precio_con_descuento + datosCompra.impuestos).toFixed(2)\n      ),\n      porcentaje,\n      cantidad_descontada,\n      precio_con_descuento: parseFloat(precio_con_descuento.toFixed(2)),\n    });\n  };\n\n  const obtenerPrecio = (value) => {\n    if (!value || parseFloat(value) === 0) {\n      setDescuentoCompra({\n        ...descuentoCompra,\n        subtotal: datosCompra.subtotal,\n        total: datosCompra.total,\n        porcentaje: 0,\n        cantidad_descontada: 0,\n        precio_con_descuento: 0,\n      });\n      return;\n    }\n\n    let cantidad_descontada = parseFloat(value);\n    let porcentaje = Math.round(\n      (cantidad_descontada / datosCompra.subtotal) * 100\n    );\n    /* let descuento_porcentaje = 100 - porcentaje; */\n    let precio_con_descuento = datosCompra.subtotal - cantidad_descontada;\n\n    setDescuentoCompra({\n      ...descuentoCompra,\n      subtotal: parseFloat(precio_con_descuento.toFixed(2)),\n      total: parseFloat(\n        (precio_con_descuento + datosCompra.impuestos).toFixed(2)\n      ),\n      porcentaje,\n      cantidad_descontada,\n      precio_con_descuento: parseFloat(precio_con_descuento.toFixed(2)),\n    });\n  };\n\n  return (\n    <div>\n      <Button\n        autoFocus\n        color=\"primary\"\n        size=\"large\"\n        onClick={() => handleClickOpen()}\n        disabled={!productosCompra.length || issue}\n        startIcon={<CreditCard />}\n      >\n        Compra a Credito\n      </Button>\n      <Dialog\n        open={open}\n        TransitionComponent={Transition}\n        keepMounted\n        onClose={handleClose}\n        aria-labelledby=\"dialog-compra-credito\"\n        aria-describedby=\"dialog-compra-credito-description\"\n        fullWidth\n        maxWidth=\"xs\"\n      >\n        <DialogTitle id=\"dialog-compra-credito\">\n          {\"Comprar a credito\"}\n        </DialogTitle>\n        <DialogContent>\n          <Box>\n            <Typography>\n              <b>Total de productos:</b>\n              {\" \" + productosCompra.length}\n            </Typography>\n            <Typography>\n              <b>Subtotal:</b>\n              {\" $\" +\n                formatoMexico(\n                  !descuentoCompra.subtotal\n                    ? datosCompra.subtotal\n                    : descuentoCompra.subtotal\n                )}\n            </Typography>\n            <Typography>\n              <b>Impuestos:</b>\n              {\" $\" + formatoMexico(datosCompra.impuestos)}\n            </Typography>\n            <Typography>\n              <b>Total:</b>\n              {\" $\" +\n                formatoMexico(\n                  !descuentoCompra.total\n                    ? datosCompra.total\n                    : descuentoCompra.total\n                )}\n            </Typography>\n          </Box>\n          <Box my={2}>\n            <FormControl\n              variant=\"outlined\"\n              fullWidth\n              size=\"small\"\n              name=\"forma_pago\"\n            >\n              <InputLabel id=\"forma_pago\">Forma de pago</InputLabel>\n              <Select\n                labelId=\"forma_pago\"\n                value={datosCompra.forma_pago}\n                name=\"forma_pago\"\n                onChange={(e) => obtenerFormaPago(e.target.value)}\n                label=\"Forma de pago\"\n              >\n                {formaPago.map((res, index) => (\n                  <MenuItem\n                    key={index}\n                    value={res.Value}\n                  >{`${res.Value} - ${res.Name}`}</MenuItem>\n                ))}\n              </Select>\n            </FormControl>\n            <FormControlLabel\n              control={\n                <Checkbox\n                  checked={descuentoCompra.descuento_aplicado}\n                  onChange={(e) => aplicarDescuento(e.target.checked)}\n                  name=\"descuento_aplicado\"\n                />\n              }\n              label=\"Aplicar descuento\"\n            />\n            <Grid container spacing={2}>\n              <Grid item md={6}>\n                <TextField\n                  variant=\"outlined\"\n                  size=\"small\"\n                  fullWidth\n                  onChange={(e) => obtenerPrecio(e.target.value)}\n                  disabled={!descuentoCompra.descuento_aplicado}\n                  value={descuentoCompra.cantidad_descontada}\n                  InputProps={{\n                    startAdornment: (\n                      <InputAdornment position=\"start\">$</InputAdornment>\n                    ),\n                  }}\n                />\n              </Grid>\n              <Grid item md={6}>\n                <TextField\n                  variant=\"outlined\"\n                  type=\"number\"\n                  size=\"small\"\n                  fullWidth\n                  onChange={(e) => obtenerPorcentaje(e.target.value)}\n                  disabled={!descuentoCompra.descuento_aplicado}\n                  value={descuentoCompra.porcentaje}\n                  InputProps={{\n                    startAdornment: (\n                      <InputAdornment position=\"start\">%</InputAdornment>\n                    ),\n                  }}\n                />\n              </Grid>\n            </Grid>\n          </Box>\n          <Box>\n            <Typography>Fecha de vencimiento del crédito</Typography>\n            <TextField\n              fullWidth\n              size=\"small\"\n              variant=\"outlined\"\n              type=\"date\"\n              onChange={(e) => {\n                setDatosCompra({\n                  ...datosCompra,\n                  fecha_vencimiento_credito: e.target.value,\n                });\n              }}\n              value={datosCompra.fecha_vencimiento_credito}\n            />\n          </Box>\n        </DialogContent>\n        <DialogActions>\n          <Button\n            onClick={handleClose}\n            color=\"inherit\"\n            disabled={loading_modal}\n          >\n            Cancelar\n          </Button>\n          <Button\n            onClick={() =>\n              realizarCompraBD(false, \"credito\", handleClose, setLoadingModal)\n            }\n            color=\"primary\"\n            startIcon={\n              loading_modal ? (\n                <CircularProgress color=\"inherit\" size={20} />\n              ) : (\n                <Done />\n              )\n            }\n            disabled={loading_modal}\n          >\n            Realizar Compra\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n}\n","import React, { useContext, useEffect, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Slide from \"@material-ui/core/Slide\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Typography from \"@material-ui/core/Typography\";\nimport CloseIcon from \"@material-ui/icons/Close\";\n\nimport DatosProducto from \"./productos/DatosProducto\";\nimport { FcPlus } from \"react-icons/fc\";\nimport { Box } from \"@material-ui/core\";\nimport ListaCompras from \"./TablaCompras\";\nimport {\n  ComprasContext,\n  ComprasProvider,\n} from \"../../../../context/Compras/comprasContext\";\nimport \"date-fns\";\nimport { Done, Timer } from \"@material-ui/icons\";\nimport {\n  initial_state_datosCompra,\n  initial_state_datosProducto,\n  initial_state_precios_venta,\n  initial_state_productoOriginal,\n  initial_state_productosCompra,\n} from \"./initial_states\";\nimport { useMutation } from \"@apollo/client\";\nimport {\n  CREAR_COMPRA,\n  CREAR_COMPRA_ESPERA,\n} from \"../../../../gql/Compras/compras\";\nimport Close from \"@material-ui/icons/Close\";\nimport SnackBarMessages from \"../../../../components/SnackBarMessages\";\nimport BackdropComponent from \"../../../../components/Layouts/BackDrop\";\nimport ConfirmarCompra from \"./ConfirmarCompra\";\nimport CompraCredito from \"./CompraCredito\";\nimport moment from \"moment\";\n\nconst useStyles = makeStyles((theme) => ({\n  appBar: {\n    position: \"relative\",\n  },\n  title: {\n    marginLeft: theme.spacing(2),\n    flex: 1,\n  },\n  icon: {\n    fontSize: 100,\n  },\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function AbrirCompra({\n  compra,\n  status,\n  handleOpenDetalles,\n  refetchEspera,\n}) {\n  const classes = useStyles();\n  const [open, setOpen] = React.useState(false);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n    if (status === \"enEspera\") {\n      handleOpenDetalles();\n      refetchEspera();\n    }\n  };\n\n  return (\n    <div>\n      {status === \"enEspera\" ? (\n        <Button\n          fullWidth\n          onClick={handleClickOpen}\n          color=\"primary\"\n          variant=\"contained\"\n          size=\"large\"\n          startIcon={<Done />}\n        >\n          continuar compra\n        </Button>\n      ) : (\n        <Button fullWidth onClick={handleClickOpen}>\n          <Box display=\"flex\" flexDirection=\"column\">\n            <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n              <FcPlus className={classes.icon} />\n            </Box>\n            Abrir una compra\n          </Box>\n        </Button>\n      )}\n      <ComprasProvider>\n        <ModalCompra\n          open={open}\n          handleClose={handleClose}\n          status={status}\n          compra={compra}\n        />\n      </ComprasProvider>\n    </div>\n  );\n}\n\nconst ModalCompra = ({ open, handleClose, compra, status }) => {\n  const classes = useStyles();\n  const {\n    productosCompra,\n    datosCompra,\n    setDatosProducto,\n    setProductosCompra,\n    setDatosCompra,\n    setProductoOriginal,\n    setPreciosVenta,\n    issue,\n    descuentoCompra,\n    setDescuentoCompra,\n  } = useContext(ComprasContext);\n  const [openDelete, setOpenDelete] = useState(false);\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n  const [alert, setAlert] = useState({ message: \"\", status: \"\", open: false });\n  const [loading, setLoading] = useState(false);\n\n  const [crearCompra] = useMutation(CREAR_COMPRA);\n  const [crearCompraEnEspera] = useMutation(CREAR_COMPRA_ESPERA);\n\n  const limpiarCampos = () => {\n    setDatosProducto(initial_state_datosProducto);\n    setProductosCompra(initial_state_productosCompra);\n    setDatosCompra(initial_state_datosCompra);\n    setProductoOriginal(initial_state_productoOriginal);\n    setPreciosVenta(initial_state_precios_venta);\n    setDescuentoCompra({\n      subtotal: 0,\n      total: 0,\n      descuento_aplicado: false,\n      porcentaje: 0,\n      cantidad_descontada: 0,\n      precio_con_descuento: 0,\n    });\n  };\n\n  useEffect(() => {\n    if (status === \"enEspera\" && compra && open === true) {\n      setDatosCompra(compra);\n      setProductosCompra(compra.productos);\n    }\n  }, [open]);\n\n  const realizarCompraBD = async (\n    compra_en_espera,\n    credito,\n    handleClose,\n    setLoadingModal\n  ) => {\n    let datos = { ...datosCompra };\n    let productos = productosCompra;\n    if (status === \"enEspera\") {\n      productos = productosCompra.map((res) => {\n        delete res.conflicto;\n        return res;\n      });\n      delete datos.empresa;\n      delete datos.sucursal;\n      delete datos.usuario;\n    }\n\n    setLoading(true);\n    if (credito) setLoadingModal(true);\n    try {\n      datos.productos = productos;\n\n      if (compra_en_espera) {\n        datos.en_espera = true;\n        const result = await crearCompraEnEspera({\n          variables: {\n            input: datos,\n            empresa: sesion.empresa._id,\n            sucursal: sesion.sucursal._id,\n            usuario: sesion._id,\n          },\n        });\n        setAlert({\n          message: `¡Listo! ${result.data.crearCompraEnEspera.message}`,\n          status: \"success\",\n          open: true,\n        });\n      } else {\n        if (credito) {\n          datos.compra_credito = true;\n          datos.saldo_credito_pendiente = datos.total;\n        }\n        if (descuentoCompra.descuento_aplicado) {\n          const {\n            descuento_aplicado,\n            subtotal,\n            total,\n            ...descuento\n          } = descuentoCompra;\n          datos.descuento_aplicado = descuentoCompra.descuento_aplicado;\n          datos.subtotal = descuentoCompra.subtotal;\n          datos.total = descuentoCompra.total;\n          datos.descuento = descuento;\n        }\n        /* console.log(datos); */\n        const result = await crearCompra({\n          variables: {\n            input: datos,\n            empresa: sesion.empresa._id,\n            sucursal: sesion.sucursal._id,\n            usuario: sesion._id,\n          },\n        });\n        setAlert({\n          message: `¡Listo! ${result.data.crearCompra.message}`,\n          status: \"success\",\n          open: true,\n        });\n      }\n      setLoading(false);\n      limpiarCampos();\n      if (handleClose) {\n        handleClose();\n        setLoadingModal(false);\n      }\n    } catch (error) {\n      setLoading(false);\n      setAlert({\n        message: `Error de servidor`,\n        status: \"error\",\n        open: true,\n      });\n      if (handleClose) {\n        handleClose();\n        setLoadingModal(false);\n      }\n      console.log(error);\n      if (error.networkError) {\n        console.log(error.networkError.result);\n      } else if (error.graphQLErrors) {\n        console.log(error.graphQLErrors);\n      }\n    }\n  };\n\n  const handleToggleDelete = () => {\n    if (productosCompra.length > 0) {\n      setOpenDelete(!openDelete);\n    } else {\n      limpiarCampos();\n      handleClose();\n    }\n  };\n\n  return (\n    <Dialog\n      fullScreen\n      open={open}\n      onClose={handleClose}\n      TransitionComponent={Transition}\n    >\n      <DialogTitle style={{ padding: 0 }}>\n        <AppBar className={classes.appBar}>\n          <Toolbar>\n            <Typography variant=\"h6\" className={classes.title}>\n              Nueva compra\n            </Typography>\n            <Box m={1}>\n              <Button\n                variant=\"contained\"\n                color=\"secondary\"\n                onClick={handleToggleDelete}\n                size=\"large\"\n              >\n                <CloseIcon style={{ fontSize: 30 }} />\n              </Button>\n              <CancelarCompra\n                handleClose={handleClose}\n                handleToggleDelete={handleToggleDelete}\n                openDelete={openDelete}\n              />\n            </Box>\n          </Toolbar>\n        </AppBar>\n      </DialogTitle>\n      <DialogContent>\n        <SnackBarMessages alert={alert} setAlert={setAlert} />\n        <BackdropComponent loading={loading} setLoading={setLoading} />\n        <DatosProducto status={status} />\n        <Box my={2} />\n        <ListaCompras />\n      </DialogContent>\n\n      <DialogActions style={{ justifyContent: \"center\" }}>\n        <Button\n          color=\"inherit\"\n          size=\"large\"\n          onClick={() => handleToggleDelete()}\n          startIcon={<Close />}\n        >\n          Cancelar\n        </Button>\n        {status === \"enEspera\" ? null : (\n          <Button\n            autoFocus\n            color=\"primary\"\n            variant=\"text\"\n            size=\"large\"\n            onClick={() => realizarCompraBD(true)} //realiza la compra en espera en la funcion\n            disabled={!productosCompra.length}\n            startIcon={<Timer />}\n          >\n            Compra en espera\n          </Button>\n        )}\n        <CompraCredito realizarCompraBD={realizarCompraBD} />\n        <ConfirmarCompra realizarCompraBD={realizarCompraBD} />\n      </DialogActions>\n    </Dialog>\n  );\n};\n\nconst CancelarCompra = ({ handleClose, handleToggleDelete, openDelete }) => {\n  const {\n    setProductosCompra,\n    setDatosCompra,\n    setPreciosVenta,\n    setProductoOriginal,\n    setDatosProducto,\n  } = useContext(ComprasContext);\n\n  const cancelarCompra = () => {\n    /* reset states */\n    setDatosProducto(initial_state_datosProducto);\n    setDatosCompra(initial_state_datosCompra);\n    setPreciosVenta(initial_state_precios_venta);\n    setProductoOriginal(initial_state_productoOriginal);\n    setProductosCompra(initial_state_productosCompra);\n    /* cerrar modales */\n    handleToggleDelete();\n    handleClose();\n  };\n\n  return (\n    <div>\n      <Dialog\n        open={openDelete}\n        TransitionComponent={Transition}\n        keepMounted\n        onClose={handleToggleDelete}\n        aria-labelledby=\"modal-eliminar-compra\"\n      >\n        <DialogTitle id=\"modal-eliminar-compra\">\n          ¿Quieres cancelar esta compra?\n        </DialogTitle>\n\n        <DialogActions>\n          <Button onClick={handleToggleDelete} color=\"primary\">\n            Cancelar\n          </Button>\n          <Button onClick={cancelarCompra} color=\"secondary\">\n            Aceptar\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n};\n","import React, { Fragment } from \"react\";\nimport { CloudDownloadOutlined } from \"@material-ui/icons\";\nimport { Grid, Button, Box } from \"@material-ui/core\";\nimport ReactExport from \"react-export-excel\";\nimport {\n  formatoFecha,\n  formatoMexico,\n} from \"../../../../config/reuserFunctions\";\n\nconst ExcelFile = ReactExport.ExcelFile;\nconst ExcelSheet = ReactExport.ExcelFile.ExcelSheet;\nconst ExcelColumn = ReactExport.ExcelFile.ExcelColumn;\n\nexport default function ExportarProductosComprasExcel({ compra }) {\n  const {\n    almacen,\n    proveedor,\n    fecha_registro,\n    subtotal,\n    impuestos,\n    total,\n    productos,\n  } = compra;\n\n  const compra_realizada = [\n    {\n      almacen: almacen.nombre_almacen,\n      proveedor: proveedor.nombre_cliente,\n      fecha_registro: formatoFecha(fecha_registro),\n      subtotal: formatoMexico(subtotal),\n      impuestos: formatoMexico(impuestos),\n      total: formatoMexico(total),\n    },\n  ];\n\n  const productos_detalles = productos.map((productos) => {\n    const {\n      producto,\n      medida,\n      color,\n      unidad,\n      cantidad,\n      Cantidad_regalo,\n      cantidad_total,\n      descuento_precio,\n      descuento_porcentaje,\n      subtotal,\n      impuestos,\n      total,\n    } = productos;\n    const detalle_producto = {\n      producto: producto.datos_generales.nombre_comercial,\n      medida: medida ? medida.medida : \"N/A\",\n      color: color ? color.color : \"N/A\",\n      unidad,\n      cantidad,\n      Cantidad_regalo,\n      cantidad_total,\n      descuento_precio,\n      descuento_porcentaje,\n      subtotal: formatoMexico(subtotal),\n      impuestos: formatoMexico(impuestos),\n      total: formatoMexico(total),\n    };\n\n    return detalle_producto;\n  });\n\n  return (\n    <Fragment>\n      <Grid>\n        <Grid item>\n          <ExcelFile\n            element={\n              <Box display=\"flex\" justifyContent=\"flex-end\">\n                <Button\n                  variant=\"contained\"\n                  color=\"primary\"\n                  startIcon={<CloudDownloadOutlined />}\n                >\n                  Exportar a Excel\n                </Button>\n              </Box>\n            }\n            filename={\"Detalle de compra\"}\n          >\n            <ExcelSheet data={compra_realizada} name=\"Detalle compra\">\n              <ExcelColumn label=\"Almacen\" value=\"almacen\" />\n              <ExcelColumn label=\"Proveedor\" value=\"proveedor\" />\n              <ExcelColumn label=\"Fecha de compra\" value=\"fecha_registro\" />\n              <ExcelColumn label=\"Subtotal\" value=\"subtotal\" />\n              <ExcelColumn label=\"Impuestos\" value=\"impuestos\" />\n              <ExcelColumn label=\"Total\" value=\"total\" />\n            </ExcelSheet>\n            <ExcelSheet data={productos_detalles} name=\"Productos de la compra\">\n              <ExcelColumn label=\"Producto\" value=\"producto\" />\n              <ExcelColumn label=\"Medida\" value=\"medida\" />\n              <ExcelColumn label=\"Color\" value=\"color\" />\n              <ExcelColumn label=\"Unidad\" value=\"unidad\" />\n              <ExcelColumn label=\"Cantidad\" value=\"cantidad\" />\n              <ExcelColumn label=\"Cantidad de regalo\" value=\"cantidad_regalo\" />\n              <ExcelColumn label=\"Cantidad total\" value=\"cantidad_total\" />\n              <ExcelColumn\n                label=\"Precio de descuento\"\n                value=\"descuento_precio\"\n              />\n              <ExcelColumn\n                label=\"Porcentaje de descuento\"\n                value=\"descuento_porcentaje\"\n              />\n              <ExcelColumn label=\"Subtotal\" value=\"subtotal\" />\n              <ExcelColumn label=\"Impuestos\" value=\"impuestos\" />\n              <ExcelColumn label=\"Total\" value=\"total\" />\n            </ExcelSheet>\n          </ExcelFile>\n        </Grid>\n      </Grid>\n    </Fragment>\n  );\n}\n","import React, { Fragment, useEffect, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\n\nimport Box from \"@material-ui/core/Box\";\nimport Chip from \"@material-ui/core/Chip\";\nimport Grid from \"@material-ui/core/Grid\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { useTheme } from \"@material-ui/core\";\nimport SearchOutlinedIcon from \"@material-ui/icons/SearchOutlined\";\nimport { formatoMexico } from \"../../../../config/reuserFunctions\";\nimport ExportarProductosComprasExcel from \"./ExportarProductosCompra\";\n\nconst useStyles = makeStyles({\n  root: {\n    width: \"100%\",\n  },\n  container: {\n    height: \"50vh\",\n  },\n});\n\nexport default function DatosDeCompra({ compra }) {\n  const classes = useStyles();\n  const theme = useTheme();\n  const { productos } = compra;\n  const [busqueda, setBusqueda] = useState(\"\");\n  const [productosFiltrados, setProductosFiltrados] = useState([]);\n\n  const obtenerBusqueda = (value) => setBusqueda(value);\n\n  useEffect(() => {\n    setProductosFiltrados(\n      productos.filter((datos) => {\n        return datos.producto.datos_generales.nombre_comercial\n          .toLowerCase()\n          .includes(busqueda.toLowerCase());\n      })\n    );\n  }, [busqueda, productos]);\n\n  return (\n    <Fragment>\n      <Box mb={1} display=\"flex\">\n        <Typography style={{ marginRight: 16 }}>\n          <b>Proveedor: </b>\n          {compra.proveedor.nombre_cliente}\n        </Typography>\n        <Typography style={{ marginRight: 16 }}>\n          <b>Almacen: </b>\n          {compra.almacen.nombre_almacen}\n        </Typography>\n        <Typography style={{ marginRight: 16 }}>\n          <b>Subtotal: ${compra.subtotal}</b>\n        </Typography>\n        <Typography style={{ marginRight: 16 }}>\n          <b>Impuestos: ${compra.impuestos}</b>\n        </Typography>\n        <Typography style={{ marginRight: 16 }}>\n          <b>Total: ${compra.total}</b>\n        </Typography>\n        {compra.compra_credito === true ? (\n          <Chip\n          label={\n            compra.credito_pagado === true ? 'Credito pagado' : `Saldo pendiente: $${formatoMexico(compra.saldo_credito_pendiente)}`\n          }\n          color={compra.credito_pagado === true ? \"primary\" : \"secondary\"}\n          variant=\"outlined\"\n        />\n        ) : null}\n      </Box>\n      <Box mb={2} display=\"flex\">\n        <Grid container>\n          <Grid item sm={6} xs={12}>\n            <TextField\n              fullWidth\n              size=\"small\"\n              variant=\"outlined\"\n              placeholder=\"Buscar una compra...\"\n              onChange={(e) => obtenerBusqueda(e.target.value)}\n              InputProps={{\n                startAdornment: (\n                  <InputAdornment position=\"start\">\n                    <SearchOutlinedIcon color=\"action\" />\n                  </InputAdornment>\n                ),\n              }}\n            />\n          </Grid>\n          <Grid item sm={6} xs={12}>\n            <ExportarProductosComprasExcel compra={compra} />\n          </Grid>\n        </Grid>\n      </Box>\n      <Paper className={classes.root}>\n        <TableContainer className={classes.container}>\n          <Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n            <TableHead>\n              <TableRow>\n                <TableCell>Producto</TableCell>\n                <TableCell>Medida</TableCell>\n                <TableCell>Color</TableCell>\n                <TableCell>Unidad</TableCell>\n                <TableCell>Cantidad</TableCell>\n                <TableCell>C. regalo</TableCell>\n                <TableCell>C. total</TableCell>\n                <TableCell>Descuento</TableCell>\n                <TableCell>Subtotal</TableCell>\n                <TableCell>Impuestos</TableCell>\n                <TableCell>Total</TableCell>\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {productosFiltrados.map((datos, index) => {\n                return (\n                  <TableRow hover tabIndex={-1} key={index}>\n                    <TableCell>\n                      {datos.producto.datos_generales.nombre_comercial}\n                    </TableCell>\n                    <TableCell padding=\"checkbox\">\n                      {datos.medida && datos.medida.medida ? datos.medida.medida : \"N/A\"}\n                    </TableCell>\n                    <TableCell padding=\"checkbox\">\n                      {datos.color && datos.color.hex ? (\n                        <Chip\n                          label={datos.color.color}\n                          size=\"small\"\n                          style={{\n                            backgroundColor: datos.color.hex,\n                            color: theme.palette.getContrastText(\n                              datos.color.hex\n                            ),\n                          }}\n                        />\n                      ) : (\n                        \"N/A\"\n                      )}\n                    </TableCell>\n                    <TableCell>{datos.unidad}</TableCell>\n                    <TableCell>{datos.cantidad}</TableCell>\n                    <TableCell>{datos.cantidad_regalo}</TableCell>\n                    <TableCell>{datos.cantidad_total}</TableCell>\n                    <TableCell>{`$${datos.descuento_precio} - %${datos.descuento_porcentaje}`}</TableCell>\n                    <TableCell>\n                      <b>${formatoMexico(datos.subtotal)}</b>\n                    </TableCell>\n                    <TableCell>\n                      <b>${formatoMexico(datos.impuestos)}</b>\n                    </TableCell>\n                    <TableCell>\n                      <b>${formatoMexico(datos.total)}</b>\n                    </TableCell>\n                  </TableRow>\n                );\n              })}\n            </TableBody>\n          </Table>\n        </TableContainer>\n      </Paper>\n    </Fragment>\n  );\n}\n","import React, { Fragment, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport {\n  Dialog,\n  Typography,\n  Box,\n  Button,\n  IconButton,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n  Slide,\n  Chip,\n} from \"@material-ui/core\";\nimport DatosDeCompra from \"./DatosDeCompra\";\nimport {\n  formatoFecha,\n  formatoMexico,\n} from \"../../../../config/reuserFunctions\";\nimport { AssignmentOutlined, Done } from \"@material-ui/icons\";\n\nconst useStyles = makeStyles({\n  root: {\n    width: \"100%\",\n  },\n  container: {\n    height: \"72vh\",\n  },\n});\n\nexport default function ListaProductos({ obtenerComprasRealizadas }) {\n  const classes = useStyles();\n\n  return (\n    <Paper className={classes.root} variant=\"outlined\">\n      <TableContainer className={classes.container}>\n        <Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n          <TableHead>\n            <TableRow>\n              <TableCell>Almacen</TableCell>\n              <TableCell>Proveedor</TableCell>\n              <TableCell>Fecha de compra</TableCell>\n              <TableCell>Compra a credito</TableCell>\n              <TableCell>Subtotal</TableCell>\n              <TableCell>Impuestos</TableCell>\n              <TableCell>Total</TableCell>\n              <TableCell>Productos</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {obtenerComprasRealizadas.map((compra, index) => (\n              <RenderRowsCompras key={index} compra={compra} />\n            ))}\n          </TableBody>\n        </Table>\n      </TableContainer>\n    </Paper>\n  );\n}\n\nconst RenderRowsCompras = ({ compra }) => {\n  const {\n    almacen,\n    proveedor,\n    fecha_registro,\n    compra_credito,\n    credito_pagado,\n    subtotal,\n    impuestos,\n    total,\n  } = compra;\n\n  return (\n    <TableRow hover tabIndex={-1}>\n      <TableCell>{almacen.nombre_almacen}</TableCell>\n      <TableCell>{proveedor.nombre_cliente}</TableCell>\n      <TableCell>{formatoFecha(fecha_registro)}</TableCell>\n      <TableCell>\n        {compra_credito === true ? (\n          <Chip\n          label={\n            credito_pagado === true ? 'Credito: Pagado' : \"Credito: Pendiente\"\n          }\n          color={credito_pagado === true ? \"primary\" : \"secondary\"}\n          variant=\"outlined\"\n        />\n        ) : null}\n      </TableCell>\n      <TableCell>\n        <b>${formatoMexico(subtotal)}</b>\n      </TableCell>\n      <TableCell>\n        <b>${formatoMexico(impuestos)}</b>\n      </TableCell>\n      <TableCell>\n        <b>${formatoMexico(total)}</b>\n      </TableCell>\n      <TableCell>\n        <DetallesCompra compra={compra} />\n      </TableCell>\n    </TableRow>\n  );\n};\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nconst DetallesCompra = ({ compra }) => {\n  const [open, setOpen] = useState(false);\n\n  const handleOpen = () => {\n    setOpen(!open);\n  };\n  return (\n    <Fragment>\n      <IconButton onClick={() => handleOpen()}>\n        <AssignmentOutlined />\n      </IconButton>\n      <Dialog\n        open={open}\n        onClose={handleOpen}\n        fullWidth\n        maxWidth=\"lg\"\n        TransitionComponent={Transition}\n      >\n        <DialogTitle>\n          <Box display=\"flex\">\n            <Typography variant=\"h6\" style={{ flexGrow: 1 }}>\n              Datos de compra\n            </Typography>\n            <Button\n              variant=\"text\"\n              color=\"primary\"\n              onClick={handleOpen}\n              size=\"large\"\n            >\n              <CloseIcon style={{ fontSize: 30 }} />\n            </Button>\n          </Box>\n        </DialogTitle>\n        <DialogContent>\n          <DatosDeCompra compra={compra} />\n        </DialogContent>\n        <DialogActions>\n          <Button\n            variant=\"text\"\n            color=\"primary\"\n            size=\"large\"\n            startIcon={<Done />}\n            onClick={() => handleOpen()}\n          >\n            Acpetar\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </Fragment>\n  );\n};\n","import React, { Fragment } from \"react\";\nimport { CloudDownloadOutlined } from \"@material-ui/icons\";\nimport { Grid, Button, Box } from \"@material-ui/core\";\nimport ReactExport from \"react-export-excel\";\nimport {\n  formatoFecha,\n  formatoMexico,\n} from \"../../../../config/reuserFunctions\";\n\nconst ExcelFile = ReactExport.ExcelFile;\nconst ExcelSheet = ReactExport.ExcelFile.ExcelSheet;\nconst ExcelColumn = ReactExport.ExcelFile.ExcelColumn;\n\nexport default function ExportarComprasExcel({\n  obtenerComprasRealizadas,\n  filtro,\n  filtroFecha,\n}) {\n  const compras = obtenerComprasRealizadas.map((compra) => {\n    const {\n      almacen,\n      proveedor,\n      fecha_registro,\n      subtotal,\n      impuestos,\n      total,\n    } = compra;\n    const compra_realizada = {\n      almacen: almacen.nombre_almacen,\n      proveedor: proveedor.nombre_cliente,\n      fecha_registro: formatoFecha(fecha_registro),\n      subtotal: formatoMexico(subtotal),\n      impuestos: formatoMexico(impuestos),\n      total: formatoMexico(total),\n    };\n\n    return compra_realizada;\n  });\n\n  let nombre_documento = \"\";\n  if (filtro && filtroFecha.fecha) {\n    nombre_documento = `Lista de compras realizadas desde hace ${filtroFecha.since} y filtradas por ${filtro}`;\n  } else if (filtro && !filtroFecha.fecha) {\n    nombre_documento = `Lista de compras realizadas filtradas por ${filtro}`;\n  } else if (!filtro && filtroFecha.fecha) {\n    nombre_documento = `Lista de compras realizadas desde hace ${filtroFecha.since}`;\n  } else if (!filtro && !filtroFecha.fecha) {\n    nombre_documento = `Lista de compras realizadas`;\n  }\n\n  return (\n    <Fragment>\n      <Grid>\n        <Grid item>\n          <ExcelFile\n            element={\n              <Box display=\"flex\" justifyContent=\"flex-end\">\n                <Button\n                  variant=\"contained\"\n                  color=\"primary\"\n                  startIcon={<CloudDownloadOutlined />}\n                >\n                  Exportar a Excel\n                </Button>\n              </Box>\n            }\n            filename={nombre_documento}\n          >\n            <ExcelSheet data={compras} name={nombre_documento}>\n              <ExcelColumn label=\"Almacen\" value=\"almacen\" />\n              <ExcelColumn label=\"Proveedor\" value=\"proveedor\" />\n              <ExcelColumn label=\"Fecha de compra\" value=\"fecha_registro\" />\n              <ExcelColumn label=\"Subtotal\" value=\"subtotal\" />\n              <ExcelColumn label=\"Impuestos\" value=\"impuestos\" />\n              <ExcelColumn label=\"Total\" value=\"total\" />\n            </ExcelSheet>\n          </ExcelFile>\n        </Grid>\n      </Grid>\n    </Fragment>\n  );\n}\n","import React, { Fragment, useRef, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Box from \"@material-ui/core/Box\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport Container from \"@material-ui/core/Container\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Typography from \"@material-ui/core/Typography\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport Slide from \"@material-ui/core/Slide\";\nimport Chip from \"@material-ui/core/Chip\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Select from \"@material-ui/core/Select\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Grid from \"@material-ui/core/Grid\";\nimport { FcInspection } from \"react-icons/fc\";\nimport ListaCompras from \"./ListaCompras\";\nimport { useQuery } from \"@apollo/client\";\nimport { OBTENER_COMPRAS_REALIZADAS } from \"../../../../gql/Compras/compras\";\nimport ErrorPage from \"../../../../components/ErrorPage\";\nimport { SearchOutlined } from \"@material-ui/icons\";\nimport moment from \"moment\";\nimport ExportarComprasExcel from \"./ExportarComprasExcel\";\n\nconst useStyles = makeStyles((theme) => ({\n  appBar: {\n    position: \"relative\",\n  },\n  title: {\n    marginLeft: theme.spacing(2),\n    flex: 1,\n  },\n  icon: {\n    fontSize: 100,\n  },\n  formInputFlex: {\n    display: \"flex\",\n    \"& > *\": {\n      margin: `${theme.spacing(1)}px ${theme.spacing(1)}px`,\n    },\n  },\n  formInput: {\n    margin: `${theme.spacing(1)}px ${theme.spacing(2)}px`,\n  },\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function ComprasRealizadas() {\n  const classes = useStyles();\n  const [open, setOpen] = React.useState(false);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  return (\n    <div>\n      <Button fullWidth onClick={handleClickOpen}>\n        <Box display=\"flex\" flexDirection=\"column\">\n          <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n            <FcInspection className={classes.icon} />\n          </Box>\n          Compras realizadas\n        </Box>\n      </Button>\n      <Dialog\n        fullScreen\n        open={open}\n        onClose={handleClose}\n        TransitionComponent={Transition}\n      >\n        <AppBar className={classes.appBar}>\n          <Toolbar>\n            <Typography variant=\"h6\" className={classes.title}>\n              Compras realizadas\n            </Typography>\n            <Box m={1}>\n              <Button\n                variant=\"contained\"\n                color=\"secondary\"\n                onClick={handleClose}\n                size=\"large\"\n              >\n                <CloseIcon style={{ fontSize: 30 }} />\n              </Button>\n            </Box>\n          </Toolbar>\n        </AppBar>\n        <Container maxWidth=\"xl\">\n          <ContentDialogCompras />\n        </Container>\n      </Dialog>\n    </div>\n  );\n}\n\nconst ContentDialogCompras = () => {\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n  const [filtro, setFiltro] = useState(\"\");\n  const [filtroFecha, setFiltroFecha] = useState({ fecha: \"\", since: \"todos\" });\n  const searchfilter = useRef(null);\n  const filterDate = useRef(null);\n\n  /* Queries */\n  const { loading, data, error, refetch } = useQuery(\n    OBTENER_COMPRAS_REALIZADAS,\n    {\n      variables: {\n        empresa: sesion.empresa._id,\n        sucursal: sesion.sucursal._id,\n        fecha: filtroFecha.fecha,\n      },\n      fetchPolicy: \"network-only\",\n    }\n  );\n\n  if (loading)\n    return (\n      <Box\n        display=\"flex\"\n        flexDirection=\"column\"\n        justifyContent=\"center\"\n        alignItems=\"center\"\n        height=\"40vh\"\n      >\n        <CircularProgress />\n        <Typography variant=\"h5\">Cargando</Typography>\n      </Box>\n    );\n  if (error) {\n    return <ErrorPage error={error} altura={300} />;\n  }\n\n  let obtenerComprasRealizadas = [];\n  if (data) obtenerComprasRealizadas = data.obtenerComprasRealizadas;\n\n  const obtenerBusqueda = (e, value) => {\n    e.preventDefault();\n    refetch({ filtro: value, fecha: filtroFecha.fecha });\n    setFiltro(value);\n  };\n\n  const handleDeleteFiltro = () => {\n    refetch({ filtro: \"\", fecha: filtroFecha.fecha });\n    setFiltro(\"\");\n    searchfilter.current.value = \"\";\n  };\n  const handleDeleteFecha = () => {\n    refetch({ filtro, fecha: \"\" });\n    setFiltroFecha({ since: \"todos\", fecha: \"\" });\n    filterDate.current.value = \"todos\";\n  };\n\n  const obtenerFecha = (value) => {\n    switch (value) {\n      case \"7 dias\":\n        setFiltroFecha({\n          since: value,\n          fecha: moment().subtract(7, \"d\").format(),\n        });\n        refetch({ filtro, fecha: moment().subtract(7, \"d\").format() });\n        break;\n      case \"2 semanas\":\n        setFiltroFecha({\n          since: value,\n          fecha: moment().subtract(2, \"w\").format(),\n        });\n        refetch({ filtro, fecha: moment().subtract(2, \"w\").format() });\n        break;\n      case \"1 mes\":\n        setFiltroFecha({\n          since: value,\n          fecha: moment().subtract(1, \"M\").format(),\n        });\n        refetch({ filtro, fecha: moment().subtract(1, \"M\").format() });\n        break;\n      case \"3 meses\":\n        setFiltroFecha({\n          since: value,\n          fecha: moment().subtract(3, \"M\").format(),\n        });\n        refetch({ filtro, fecha: moment().subtract(3, \"M\").format() });\n        break;\n      case \"6 meses\":\n        setFiltroFecha({\n          since: value,\n          fecha: moment().subtract(6, \"M\").format(),\n        });\n        refetch({ filtro, fecha: moment().subtract(6, \"M\").format() });\n        break;\n      case \"8 meses\":\n        setFiltroFecha({\n          since: value,\n          fecha: moment().subtract(8, \"M\").format(),\n        });\n        refetch({ filtro, fecha: moment().subtract(8, \"M\").format() });\n        break;\n      case \"1 año\":\n        setFiltroFecha({\n          since: value,\n          fecha: moment().subtract(1, \"y\").format(),\n        });\n        refetch({ filtro, fecha: moment().subtract(1, \"y\").format() });\n        break;\n      default:\n        setFiltroFecha({ since: \"todos\", fecha: \"\" });\n        refetch({ filtro, fecha: \"\" });\n        break;\n    }\n  };\n\n  return (\n    <Fragment>\n      <Box my={3}>\n        <Grid container spacing={2}>\n          <Grid item md={4} xs={12}>\n            <form onSubmit={(e) => obtenerBusqueda(e, e.target[0].value)}>\n              <TextField\n                inputRef={searchfilter}\n                fullWidth\n                size=\"small\"\n                variant=\"outlined\"\n                placeholder=\"Buscar una compra...\"\n                InputProps={{\n                  endAdornment: (\n                    <InputAdornment position=\"end\">\n                      <IconButton type=\"submit\" color=\"primary\" size=\"medium\">\n                        <SearchOutlined />\n                      </IconButton>\n                    </InputAdornment>\n                  ),\n                }}\n              />\n            </form>\n          </Grid>\n          <Grid item md={4} xs={12}>\n            <FormControl variant=\"outlined\" fullWidth size=\"small\">\n              <InputLabel id=\"label-select-fecha-filter\">\n                Filtrar desde...\n              </InputLabel>\n              <Select\n                inputRef={filterDate}\n                labelId=\"label-select-fecha-filter\"\n                value={filtroFecha.since}\n                onChange={(e) => obtenerFecha(e.target.value)}\n                label=\"Filtrar desde...\"\n              >\n                <MenuItem value=\"todos\">\n                  <em>Todos los registros</em>\n                </MenuItem>\n                <MenuItem value=\"7 dias\">hace 7 días</MenuItem>\n                <MenuItem value=\"2 semanas\">hace 2 semanas</MenuItem>\n                <MenuItem value=\"1 mes\">hace 1 mes</MenuItem>\n                <MenuItem value=\"3 meses\">hace 3 meses</MenuItem>\n                <MenuItem value=\"6 meses\">hace 6 meses</MenuItem>\n                <MenuItem value=\"8 meses\">hace 8 meses</MenuItem>\n                <MenuItem value=\"1 año\">hace 1 año</MenuItem>\n              </Select>\n            </FormControl>\n          </Grid>\n          <Grid item md={4} xs={12}>\n            <ExportarComprasExcel\n              obtenerComprasRealizadas={obtenerComprasRealizadas}\n              filtro={filtro}\n              filtroFecha={filtroFecha}\n            />\n          </Grid>\n        </Grid>\n      </Box>\n      {filtro || filtroFecha.fecha ? (\n        <Box display=\"flex\" mb={1}>\n          <Typography variant=\"h6\">Resultados de:</Typography>\n          <Box mr={1} />\n          {filtro ? (\n            <Chip\n              variant=\"outlined\"\n              size=\"medium\"\n              label={filtro}\n              onDelete={handleDeleteFiltro}\n            />\n          ) : null}\n          <Box mx={1} />\n          {filtroFecha.fecha ? (\n            <Chip\n              variant=\"outlined\"\n              size=\"medium\"\n              label={`Desde hace ${filtroFecha.since}`}\n              onDelete={handleDeleteFecha}\n            />\n          ) : null}\n        </Box>\n      ) : null}\n\n      <ListaCompras obtenerComprasRealizadas={obtenerComprasRealizadas} />\n    </Fragment>\n  );\n};\n","import React, { Fragment, useCallback, useEffect, useState } from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport Slide from \"@material-ui/core/Slide\";\nimport { CheckCircle, Done, VerifiedUser } from \"@material-ui/icons\";\nimport { Box, CircularProgress } from \"@material-ui/core\";\n\nimport { useLazyQuery } from \"@apollo/client\";\nimport { OBTENER_PRODUCTOS } from \"../../../../gql/Catalogos/productos\";\nimport ErrorPage from \"../../../../components/ErrorPage\";\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function VerificarProductosCompras({\n  compra,\n  nuevoArray,\n  setNuevoArray,\n  setVerificado,\n}) {\n  const [open, setOpen] = useState(false);\n  const [success, setSuccess] = useState(false);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    if (success) {\n      setVerificado(true);\n    }\n    setOpen(false);\n  };\n\n  return (\n    <div>\n      <Button\n        variant=\"contained\"\n        color=\"primary\"\n        onClick={() => handleClickOpen()}\n        startIcon={<VerifiedUser />}\n      >\n        Continuar compra\n      </Button>\n      <Dialog\n        open={open}\n        TransitionComponent={Transition}\n        keepMounted\n        /* onClose={() => handleClose()} */\n        onClose={(event, reason) => {\n          if (reason !== \"backdropClick\") {\n            handleClose();\n          }\n        }}\n        aria-labelledby=\"dialog-verificarcompra-title\"\n        aria-describedby=\"dialog-verificarcompra-description\"\n        fullWidth\n        maxWidth=\"sm\"\n      >\n        <ModalVerificacion\n          handleClose={handleClose}\n          compra={compra}\n          handleClickOpen={handleClickOpen}\n          open={open}\n          nuevoArray={nuevoArray}\n          setNuevoArray={setNuevoArray}\n          setSuccess={setSuccess}\n        />\n      </Dialog>\n    </div>\n  );\n}\n\nconst ModalVerificacion = ({\n  handleClose,\n  compra,\n  handleClickOpen,\n  open,\n  nuevoArray,\n  setNuevoArray,\n  setSuccess,\n}) => {\n  const [loadingVerificacion, setLoadingVerificacion] = useState(false);\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n  let count = 0;\n\n  /* Queries */\n  const [getQuery, { loading, data, error }] = useLazyQuery(OBTENER_PRODUCTOS, {\n    variables: {\n      empresa: sesion.empresa._id,\n      sucursal: sesion.sucursal._id,\n      almacen: compra.almacen.id_almacen,\n    },\n    fetchPolicy: \"network-only\",\n  });\n\n  if (data) count = 1;\n\n  useEffect(() => {\n    if (open && count === 0) {\n      getQuery();\n      count = 1;\n    }\n  }, [handleClickOpen]);\n\n  useEffect(() => {\n    if (data) {\n      verificarProductos();\n    }\n  }, [data]);\n\n  if (loading) {\n    return (\n      <Fragment>\n        <DialogContent\n          style={{\n            height: 150,\n            display: \"flex\",\n            alignItems: \"center\",\n            justifyContent: \"center\",\n            flexDirection: \"column\",\n          }}\n        >\n          <DialogContentText id=\"dialog-verificarcompra-description\">\n            Si ya no hay existencias en tu producto se marcaran en la tabla y se\n            quitaran al retomar la compra para no causar conflictos, podras\n            editar tu compra mas adelante\n          </DialogContentText>\n          <Box display=\"flex\" alignItems=\"center\">\n            <CircularProgress\n              size={18}\n              color=\"primary\"\n              style={{ marginRight: 8 }}\n            />\n            Obteniendo productos de la Base de datos...\n          </Box>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={handleClose} color=\"inherit\">\n            Cancelar\n          </Button>\n        </DialogActions>\n      </Fragment>\n    );\n  }\n\n  if (error) {\n    return (\n      <Fragment>\n        <DialogContent>\n          <ErrorPage error={error} altura={130} />\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={handleClose} color=\"inherit\">\n            Cerrar\n          </Button>\n        </DialogActions>\n      </Fragment>\n    );\n  }\n\n  let obtenerProductos = [];\n  if (data) obtenerProductos = data.obtenerProductos;\n\n  /* console.log(compra); */\n\n  function verificarProductos() {\n    setLoadingVerificacion(true);\n    const { productos } = compra;\n    let productos_nuevos = [...productos];\n    let conflicto = false;\n\n    for (let i = 0; i < productos.length; i++) {\n      const productosCompra = productos[i];\n      let copy_producto_compra = { ...productosCompra };\n      let copy_producto = { ...productosCompra.producto };\n\n      //Filtrar los productos\n      const productos_filtrados = obtenerProductos.filter(\n        (res) => res._id === copy_producto_compra.id_producto\n      );\n\n      const { precios, unidades_de_venta, presentaciones } = copy_producto;\n\n      const precios_base = productos_filtrados[0].precios;\n      const unidades_base = productos_filtrados[0].unidades_de_venta;\n      const presentaciones_base = productos_filtrados[0].medidas_producto;\n\n      //verificacion de Precios\n      if (\n        precios.unidad_de_compra.cantidad !==\n          precios_base.unidad_de_compra.cantidad ||\n        precios.unidad_de_compra.precio_unitario_con_impuesto !==\n          precios_base.unidad_de_compra.precio_unitario_con_impuesto ||\n        precios.unidad_de_compra.unidad !== precios_base.unidad_de_compra.unidad\n      ) {\n        /* console.log(\"conflicto precios\"); */\n        //si son diferentes se agrega los precios_base al compra_nueva\n        copy_producto.precios = precios_base;\n        copy_producto_compra.producto = copy_producto;\n        copy_producto_compra.conflicto = true;\n        productos_nuevos[i] = copy_producto_compra;\n        conflicto = true;\n      }\n      //verificacion de Unidades de venta\n      const u_default = unidades_de_venta.filter((res) => res.default === true);\n      const u_default_base = unidades_base.filter(\n        (res) => res.default === true\n      );\n      if (\n        u_default[0].cantidad !== u_default_base[0].cantidad ||\n        u_default[0].precio !== u_default_base[0].precio ||\n        u_default[0].unidad !== u_default_base[0].unidad\n      ) {\n        //si son diferentes se agrega los precios_base al compra_nueva\n        copy_producto.unidades_de_venta = unidades_base;\n        copy_producto_compra.producto = copy_producto;\n        copy_producto_compra.conflicto = true;\n        productos_nuevos[i] = copy_producto_compra;\n        conflicto = true;\n        /* console.log(\"conflicto unidades\"); */\n      }\n\n      //verificacion de Presentaciones si hay presentaciones\n\n      if (presentaciones.length > 0) {\n        /* console.log(presentaciones, presentaciones_base); */\n        if (presentaciones_base.length > 0) {\n          if (presentaciones.length === presentaciones_base.length) {\n            for (let x = 0; x < presentaciones.length; x++) {\n              const present = presentaciones[x];\n              for (let y = 0; y < presentaciones_base.length; y++) {\n                const present_base = presentaciones_base[y];\n\n                if (\n                  present.medida._id === present_base.medida._id &&\n                  present.color._id === present_base.color._id &&\n                  present.almacen === present_base.almacen\n                ) {\n                  if (\n                    present.cantidad !== present_base.cantidad ||\n                    present.precio !== present_base.precio\n                  ) {\n                    //si son diferentes se agrega las presentaciones_base al compra_nueva\n                    copy_producto.presentaciones = presentaciones_base;\n                    copy_producto_compra.producto = copy_producto;\n                    copy_producto_compra.conflicto = true;\n                    productos_nuevos[i] = copy_producto_compra;\n                    conflicto = true;\n                    /* console.log(\"conflicto presentaciones\"); */\n                  }\n                }\n              }\n            }\n          } else {\n            //si son diferentes se agrega las presentaciones al compra_nueva\n            copy_producto.presentaciones = presentaciones_base;\n            copy_producto_compra.producto = copy_producto;\n            copy_producto_compra.conflicto = true;\n            productos_nuevos[i] = copy_producto_compra;\n            conflicto = true;\n            /* console.log(\"conflicto diferentes presentaciones \"); */\n          }\n        } else {\n          //si no hay se agrega las presentaciones al compra_nueva\n          copy_producto_compra.conflicto = true;\n          productos_nuevos[i] = copy_producto_compra;\n          conflicto = true;\n          /* console.log(\"conflicto sin presentaciones \"); */\n        }\n      }\n    }\n\n    const nuevo_producto_compra = [];\n    let subtotal = 0;\n    let impuestos = 0;\n    let total = 0;\n    if (conflicto) {\n      for (let k = 0; k < productos_nuevos.length; k++) {\n        const datosProducto = { ...productos_nuevos[k] };\n\n        if (datosProducto.producto.datos_generales.tipo_producto !== \"OTROS\") {\n          //si es calzado o ropa\n          //CANTIDADES\n          if (datosProducto.producto.presentaciones.length > 0) {\n            datosProducto.cantidad = 0;\n            datosProducto.producto.presentaciones.forEach((presentacion) => {\n              const { cantidad, cantidad_nueva } = presentacion;\n              let nueva = cantidad_nueva ? cantidad_nueva : 0;\n              datosProducto.cantidad += cantidad + nueva;\n            });\n            if (isNaN(datosProducto.cantidad)) datosProducto.cantidad = 0;\n            datosProducto.cantidad_total = datosProducto.cantidad;\n          } else {\n            datosProducto.cantidad = 0;\n            datosProducto.cantidad_total = datosProducto.cantidad;\n          }\n        } else {\n          //Si es una unidad normal\n\n          //CANTIDADES\n          const { cantidad_regalo, cantidad, unidad_regalo } = datosProducto;\n          //convertir todo a la unidad media y sumar (Pz, Kg, Lt)\n          const factor =\n            datosProducto.producto.precios.unidad_de_compra.cantidad;\n          const cantiad_media = cantidad * factor;\n          let cantidad_regalo_media =\n            unidad_regalo === \"Pz\" ||\n            unidad_regalo === \"Kg\" ||\n            unidad_regalo === \"Lt\"\n              ? cantidad_regalo\n              : cantidad_regalo * factor;\n          let cantidad_total_media = cantiad_media + cantidad_regalo_media;\n\n          //si factor es > 1 es caja o costal y dividir unidad media entre factor y si no mandar la cantidad total media;\n          if (factor > 1) {\n            datosProducto.cantidad_regalo = cantidad_regalo_media / factor;\n            datosProducto.cantidad_total = cantidad_total_media / factor;\n          } else {\n            datosProducto.cantidad_regalo = cantidad_regalo_media;\n            datosProducto.cantidad_total = cantidad_total_media;\n          }\n        }\n\n        //PRECIOS\n        const {\n          iva,\n          ieps,\n          precio_con_impuesto,\n          precio_sin_impuesto,\n        } = datosProducto.producto.precios.precio_de_compra;\n\n        datosProducto.total_con_descuento = precio_con_impuesto;\n        datosProducto.costo = precio_con_impuesto;\n        datosProducto.iva_total = iva * datosProducto.cantidad_total;\n        datosProducto.ieps_total = ieps * datosProducto.cantidad_total;\n        datosProducto.impuestos = (iva + ieps) * datosProducto.cantidad_total;\n        datosProducto.subtotal =\n          precio_sin_impuesto * datosProducto.cantidad_total;\n        datosProducto.total =\n          precio_con_impuesto * datosProducto.cantidad_total;\n\n        if (datosProducto.descuento_porcentaje > 0) {\n          datosProducto.descuento_precio = Math.round(\n            (precio_con_impuesto * datosProducto.descuento_porcentaje) / 100\n          );\n          datosProducto.total_con_descuento =\n            precio_con_impuesto - datosProducto.descuento_precio;\n        }\n\n        subtotal += datosProducto.subtotal;\n        impuestos += datosProducto.impuestos;\n        total +=\n          datosProducto.total_con_descuento * datosProducto.cantidad_total;\n\n        nuevo_producto_compra.push(datosProducto);\n      }\n      setNuevoArray({\n        _id: compra._id,\n        almacen: compra.almacen,\n        proveedor: compra.proveedor,\n        productos: nuevo_producto_compra,\n        en_espera: compra.en_espera,\n        fecha_registro: compra.fecha_registro,\n        impuestos,\n        subtotal,\n        total,\n      });\n    } else {\n      setNuevoArray(compra);\n    }\n\n    setTimeout(() => {\n      setLoadingVerificacion(false);\n      setSuccess(true);\n    }, 1500);\n  }\n\n  return (\n    <Fragment>\n      <DialogContent\n        style={{\n          height: 150,\n          display: \"flex\",\n          alignItems: \"center\",\n          justifyContent: \"center\",\n          flexDirection: \"column\",\n        }}\n      >\n        <DialogContentText id=\"dialog-verificarcompra-description\">\n          Si ya no hay existencias en tu producto se marcaran en la tabla y se\n          quitaran al retomar la compra para no causar conflictos, podras editar\n          tu compra mas adelante\n        </DialogContentText>\n        {loadingVerificacion ? (\n          <Box display=\"flex\" alignItems=\"center\">\n            <CircularProgress\n              size={18}\n              color=\"primary\"\n              style={{ marginRight: 8 }}\n            />\n            Verificando existencias en tus productos...\n          </Box>\n        ) : null}\n        {!loadingVerificacion ? (\n          <Box display=\"flex\" alignItems=\"center\">\n            <CheckCircle color=\"primary\" style={{ marginRight: 8 }} />\n            Listo, producto verificados\n          </Box>\n        ) : null}\n      </DialogContent>\n      <DialogActions>\n        {loadingVerificacion ? (\n          <Button onClick={handleClose} color=\"inherit\">\n            Cancelar\n          </Button>\n        ) : (\n          <Button onClick={handleClose} color=\"primary\" startIcon={<Done />}>\n            Aceptar\n          </Button>\n        )}\n      </DialogActions>\n    </Fragment>\n  );\n};\n","import React, { Fragment, useEffect, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\n\nimport Box from \"@material-ui/core/Box\";\nimport Chip from \"@material-ui/core/Chip\";\nimport Grid from \"@material-ui/core/Grid\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { Button, useTheme } from \"@material-ui/core\";\nimport SearchOutlinedIcon from \"@material-ui/icons/SearchOutlined\";\nimport { formatoMexico } from \"../../../../config/reuserFunctions\";\nimport AbrirCompra from \"../AbrirCompra/AbrirCompra\";\nimport VerificarProductosCompras from \"./VerificarProductos\";\n\nimport {\n  Dialog,\n  CircularProgress,\n  DialogTitle,\n  DialogActions,\n  Slide,\n} from \"@material-ui/core\";\nimport { CheckCircle, DeleteOutlined, Done, Error } from \"@material-ui/icons\";\nimport Close from \"@material-ui/icons/Close\";\nimport { useMutation } from \"@apollo/client\";\nimport { ELIMINAR_COMPRA_ESPERA } from \"../../../../gql/Compras/compras\";\n\nconst useStyles = makeStyles({\n  root: {\n    width: \"100%\",\n  },\n  container: {\n    height: \"50vh\",\n  },\n});\n\nexport default function DatosDeCompra({\n  compra,\n  setAlert,\n  refetch,\n  handleOpenDetalles,\n}) {\n  const classes = useStyles();\n  const theme = useTheme();\n  /* let compra_temp = {...compra} */\n  const [compra_temp, setCompraTemp] = useState({ ...compra });\n  const { productos } = compra_temp;\n\tconst permisosUsuario = JSON.parse(localStorage.getItem('sesionCafi'));\n\n  const [busqueda, setBusqueda] = useState(\"\");\n  const [productosFiltrados, setProductosFiltrados] = useState([]);\n\n  const [nuevoArray, setNuevoArray] = useState();\n  const [verificado, setVerificado] = useState(false);\n\n  const obtenerBusqueda = (value) => setBusqueda(value);\n\n  useEffect(() => {\n    setProductosFiltrados(\n      productos.filter((datos) => {\n        return datos.producto.datos_generales.nombre_comercial\n          .toLowerCase()\n          .includes(busqueda.toLowerCase());\n      })\n    );\n  }, [busqueda, productos]);\n\n  useEffect(() => {\n    if (verificado && nuevoArray) {\n      setCompraTemp(nuevoArray);\n    }\n  }, [verificado]);\n\n  return (\n    <Fragment>\n      <Box mb={1} display=\"flex\">\n        <Typography style={{ marginRight: 16 }}>\n          <b>Proveedor: </b>\n          {compra_temp.proveedor.nombre_cliente}\n        </Typography>\n        <Typography style={{ marginRight: 16 }}>\n          <b>Almacen: </b>\n          {compra_temp.almacen.nombre_almacen}\n        </Typography>\n        <Typography style={{ marginRight: 16 }}>\n          <b>Subtotal: ${parseFloat(compra_temp.subtotal).toFixed(2)}</b>\n        </Typography>\n        <Typography style={{ marginRight: 16 }}>\n          <b>Impuestos: ${parseFloat(compra_temp.impuestos).toFixed(2)}</b>\n        </Typography>\n        <Typography style={{ marginRight: 16 }}>\n          <b>Total: ${formatoMexico(parseFloat(compra_temp.total).toFixed(2))}</b>\n        </Typography>\n      </Box>\n      <Box mb={2} display=\"flex\">\n        <Grid container>\n          <Grid item sm={6} xs={12}>\n            <TextField\n              fullWidth\n              size=\"small\"\n              variant=\"outlined\"\n              placeholder=\"Buscar una compra...\"\n              onChange={(e) => obtenerBusqueda(e.target.value)}\n              InputProps={{\n                startAdornment: (\n                  <InputAdornment position=\"start\">\n                    <SearchOutlinedIcon color=\"action\" />\n                  </InputAdornment>\n                ),\n              }}\n            />\n          </Grid>\n          <Grid item sm={6} xs={12}>\n            <Box display=\"flex\" justifyContent=\"flex-end\">\n              {permisosUsuario.accesos.compras.compras_espera.eliminar === false ? (null) : (\n                <ModalEliminarCompra\n                  compra={compra_temp}\n                  setAlert={setAlert}\n                  refetch={refetch}\n                  handleOpenDetalles={handleOpenDetalles}\n                />\n              )}\n              <Box mx={1} />\n\n              {permisosUsuario.accesos.compras.compras_espera.editar === false ? (null) : (\n                verificado ? (\n                  <AbrirCompra\n                    compra={compra_temp}\n                    status=\"enEspera\"\n                    handleOpenDetalles={handleOpenDetalles}\n                    refetchEspera={refetch}\n                  />\n                ) : (\n                  <VerificarProductosCompras\n                    compra={compra_temp}\n                    nuevoArray={nuevoArray}\n                    setNuevoArray={setNuevoArray}\n                    setVerificado={setVerificado}\n                  />\n                )\n              )}\n            </Box>\n          </Grid>\n        </Grid>\n      </Box>\n      <Paper className={classes.root} variant=\"outlined\">\n        <TableContainer className={classes.container}>\n          <Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n            <TableHead>\n              <TableRow>\n                {verificado ? <TableCell /> : null}\n                <TableCell>Producto</TableCell>\n                <TableCell>Medida</TableCell>\n                <TableCell>Color</TableCell>\n                <TableCell>Unidad</TableCell>\n                <TableCell>Cantidad</TableCell>\n                <TableCell>C. regalo</TableCell>\n                <TableCell>C. total</TableCell>\n                <TableCell>Descuento</TableCell>\n                <TableCell>Subtotal</TableCell>\n                <TableCell>Impuestos</TableCell>\n                <TableCell>Total</TableCell>\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {productosFiltrados.map((datos, index) => {\n                /* console.log(datos); */\n                return (\n                  <TableRow\n                    tabIndex={-1}\n                    key={index}\n                    selected={datos.conflicto}\n                  >\n                    {verificado ? (\n                      <TableCell\n                        style={{\n                          paddingTop: 0,\n                          paddingBottom: 0,\n                        }}\n                      >\n                        {datos.conflicto ? (\n                          <Error color=\"primary\" />\n                        ) : (\n                          <CheckCircle\n                            style={{\n                              color: theme.palette.success.main,\n                            }}\n                          />\n                        )}\n                      </TableCell>\n                    ) : null}\n                    <TableCell>\n                      {datos.producto.datos_generales.nombre_comercial}\n                    </TableCell>\n                    <TableCell padding=\"checkbox\">\n                      {datos.medida && datos.medida.medida\n                        ? datos.medida.medida\n                        : \"N/A\"}\n                    </TableCell>\n                    <TableCell padding=\"checkbox\">\n                      {datos.color && datos.color.hex ? (\n                        <Chip\n                          label={datos.color.color}\n                          size=\"small\"\n                          style={{\n                            backgroundColor: datos.color.hex,\n                            color: theme.palette.getContrastText(\n                              datos.color.hex\n                            ),\n                          }}\n                        />\n                      ) : (\n                        \"N/A\"\n                      )}\n                    </TableCell>\n                    <TableCell>{datos.unidad}</TableCell>\n                    <TableCell>{datos.cantidad}</TableCell>\n                    <TableCell>{datos.cantidad_regalo}</TableCell>\n                    <TableCell>{datos.cantidad_total}</TableCell>\n                    <TableCell>{`$${datos.descuento_precio} - %${datos.descuento_porcentaje}`}</TableCell>\n                    <TableCell>\n                      <b>${formatoMexico(datos.subtotal)}</b>\n                    </TableCell>\n                    <TableCell>\n                      <b>${formatoMexico(datos.impuestos)}</b>\n                    </TableCell>\n                    <TableCell>\n                      <b>${formatoMexico(datos.total)}</b>\n                    </TableCell>\n                  </TableRow>\n                );\n              })}\n            </TableBody>\n          </Table>\n        </TableContainer>\n      </Paper>\n    </Fragment>\n  );\n}\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nconst ModalEliminarCompra = ({\n  compra,\n  setAlert,\n  refetch,\n  handleOpenDetalles,\n}) => {\n  const [open, setOpen] = useState(false);\n  const [loading, setLoading] = useState(false);\n\n  const [eliminarCompraEnEspera] = useMutation(ELIMINAR_COMPRA_ESPERA);\n\n  const handleOpen = () => {\n    setOpen(!open);\n  };\n\n  const eliminarCompra = async () => {\n    setLoading(true);\n    try {\n      const result = await eliminarCompraEnEspera({\n        variables: {\n          id: compra._id,\n        },\n      });\n      setAlert({\n        message: `¡Listo! ${result.data.eliminarCompraEnEspera.message}`,\n        status: \"success\",\n        open: true,\n      });\n      refetch();\n      setLoading(false);\n      handleOpen();\n      handleOpenDetalles();\n    } catch (error) {\n      console.log(error);\n      setLoading(false);\n      setAlert({\n        message: `Error: ${error.message}`,\n        status: \"error\",\n        open: true,\n      });\n    }\n  };\n  return (\n    <Fragment>\n      <Button\n        color=\"secondary\"\n        startIcon={<DeleteOutlined />}\n        onClick={() => handleOpen()}\n      >\n        Eliminar compra\n      </Button>\n      <Dialog open={open} onClose={handleOpen} TransitionComponent={Transition}>\n        <DialogTitle>¿Desea eliminar esta compra?</DialogTitle>\n        <DialogActions>\n          <Button\n            variant=\"text\"\n            color=\"inherit\"\n            size=\"large\"\n            startIcon={<Close />}\n            onClick={() => handleOpen()}\n          >\n            Cancelar\n          </Button>\n          <Button\n            variant=\"text\"\n            color=\"secondary\"\n            size=\"large\"\n            disabled={loading}\n            startIcon={\n              loading ? (\n                <CircularProgress size={18} color=\"inherit\" />\n              ) : (\n                <Done />\n              )\n            }\n            onClick={() => eliminarCompra()}\n          >\n            Eliminar\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </Fragment>\n  );\n};\n","import React, { useState, Fragment } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport {\n  Dialog,\n  Typography,\n  Box,\n  Button,\n  IconButton,\n  CircularProgress,\n} from \"@material-ui/core\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport DatosDeCompraEspera from \"./DatosDeCompraEspera\";\nimport {\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n  Slide,\n} from \"@material-ui/core\";\n\nimport {\n  formatoFecha,\n  formatoMexico,\n} from \"../../../../config/reuserFunctions\";\nimport { AssignmentOutlined, DeleteOutlined, Done } from \"@material-ui/icons\";\nimport Close from \"@material-ui/icons/Close\";\nimport { useMutation } from \"@apollo/client\";\nimport SnackBarMessages from \"../../../../components/SnackBarMessages\";\nimport { ELIMINAR_COMPRA_ESPERA } from \"../../../../gql/Compras/compras\";\n\nconst useStyles = makeStyles({\n  root: {\n    width: \"100%\",\n  },\n  container: {\n    height: \"75vh\",\n  },\n});\n\nexport default function ListaEnEspera({ obtenerComprasEnEspera, refetch }) {\n  const classes = useStyles();\n  const [alert, setAlert] = useState({ message: \"\", status: \"\", open: false });\n\tconst permisosUsuario = JSON.parse(localStorage.getItem('sesionCafi'));\n\n  return (\n    <Paper className={classes.root} variant=\"outlined\">\n      <SnackBarMessages alert={alert} setAlert={setAlert} />\n      <TableContainer className={classes.container}>\n        <Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n          <TableHead>\n            <TableRow>\n              <TableCell>Almacen</TableCell>\n              <TableCell>Proveedor</TableCell>\n              <TableCell>Fecha de compra</TableCell>\n              <TableCell>Subtotal</TableCell>\n              <TableCell>Impuestos</TableCell>\n              <TableCell>Total</TableCell>\n              <TableCell>Detalles</TableCell>\n              {permisosUsuario.accesos.compras.compras_espera.elimina === false ? (null) : (\n                <TableCell>Eliminar</TableCell>\n              )}\n              </TableRow>\n          </TableHead>\n          <TableBody>\n            {obtenerComprasEnEspera.map((compra, index) => (\n              <RenderRowsComprasEspera\n                key={index}\n                compra={compra}\n                refetch={refetch}\n                setAlert={setAlert}\n              />\n            ))}\n          </TableBody>\n        </Table>\n      </TableContainer>\n    </Paper>\n  );\n}\n\nconst RenderRowsComprasEspera = ({ compra, refetch, setAlert }) => {\n  const {\n    almacen,\n    proveedor,\n    fecha_registro,\n    subtotal,\n    impuestos,\n    total,\n  } = compra;\n\tconst permisosUsuario = JSON.parse(localStorage.getItem('sesionCafi'));\n  return (\n    <TableRow hover tabIndex={-1}>\n      <TableCell>{almacen.nombre_almacen}</TableCell>\n      <TableCell>{proveedor.nombre_cliente}</TableCell>\n      <TableCell>{formatoFecha(fecha_registro)}</TableCell>\n      <TableCell>\n        <b>${formatoMexico(subtotal)}</b>\n      </TableCell>\n      <TableCell>\n        <b>${formatoMexico(impuestos)}</b>\n      </TableCell>\n      <TableCell>\n        <b>${formatoMexico(total)}</b>\n      </TableCell>\n      <TableCell>\n        <ModalContinuarCompra\n          compra={compra}\n          refetch={refetch}\n          setAlert={setAlert}\n        />\n      </TableCell>\n      {permisosUsuario.accesos.compras.compras_espera.eliminar === false ? (null) : (\n        <TableCell>\n          <ModalEliminarCompra\n            compra={compra}\n            refetch={refetch}\n            setAlert={setAlert}\n          />\n        </TableCell>\n      )}\n    </TableRow>\n  );\n};\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nconst ModalContinuarCompra = ({ compra, setAlert, refetch }) => {\n  const [open, setOpen] = useState(false);\n\n  const handleOpen = () => {\n    setOpen(!open);\n  };\n  return (\n    <Fragment>\n      <IconButton onClick={() => handleOpen()}>\n        <AssignmentOutlined />\n      </IconButton>\n      <Dialog\n        open={open}\n        onClose={handleOpen}\n        fullWidth\n        maxWidth=\"lg\"\n        TransitionComponent={Transition}\n      >\n        <DialogTitle>\n          <Box display=\"flex\">\n            <Typography variant=\"h6\" style={{ flexGrow: 1 }}>\n              Datos de compra en espera\n            </Typography>\n            <Button\n              variant=\"text\"\n              color=\"primary\"\n              onClick={handleOpen}\n              size=\"large\"\n            >\n              <CloseIcon style={{ fontSize: 30 }} />\n            </Button>\n          </Box>\n        </DialogTitle>\n        <DialogContent>\n          <DatosDeCompraEspera\n            compra={compra}\n            refetch={refetch}\n            setAlert={setAlert}\n            handleOpenDetalles={handleOpen}\n          />\n        </DialogContent>\n      </Dialog>\n    </Fragment>\n  );\n};\n\nconst ModalEliminarCompra = ({ compra, setAlert, refetch }) => {\n  const [open, setOpen] = useState(false);\n  const [loading, setLoading] = useState(false);\n\n  const [eliminarCompraEnEspera] = useMutation(ELIMINAR_COMPRA_ESPERA);\n\n  const handleOpen = () => {\n    setOpen(!open);\n  };\n\n  const eliminarCompra = async () => {\n    setLoading(true);\n    try {\n      const result = await eliminarCompraEnEspera({\n        variables: {\n          id: compra._id,\n        },\n      });\n      setAlert({\n        message: `¡Listo! ${result.data.eliminarCompraEnEspera.message}`,\n        status: \"success\",\n        open: true,\n      });\n      refetch();\n      setLoading(false);\n      handleOpen();\n    } catch (error) {\n      console.log(error);\n      setLoading(false);\n      setAlert({\n        message: `Error: ${error.message}`,\n        status: \"error\",\n        open: true,\n      });\n    }\n  };\n  return (\n    <Fragment>\n      <IconButton onClick={() => handleOpen()}>\n        <DeleteOutlined color=\"error\" />\n      </IconButton>\n      <Dialog open={open} onClose={handleOpen} TransitionComponent={Transition}>\n        <DialogTitle>¿Desea eliminar esta compra?</DialogTitle>\n        <DialogActions>\n          <Button\n            variant=\"text\"\n            color=\"inherit\"\n            size=\"large\"\n            startIcon={<Close />}\n            onClick={() => handleOpen()}\n          >\n            Cancelar\n          </Button>\n          <Button\n            variant=\"text\"\n            color=\"secondary\"\n            size=\"large\"\n            disabled={loading}\n            startIcon={\n              loading ? (\n                <CircularProgress size={18} color=\"inherit\" />\n              ) : (\n                <Done />\n              )\n            }\n            onClick={() => eliminarCompra()}\n          >\n            Eliminar\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </Fragment>\n  );\n};\n","import React, { useState, useRef, Fragment } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Typography from \"@material-ui/core/Typography\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport Slide from \"@material-ui/core/Slide\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport Container from \"@material-ui/core/Container\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport Box from \"@material-ui/core/Box\";\nimport TextField from \"@material-ui/core/TextField\";\nimport { FcOvertime } from \"react-icons/fc\";\nimport { SearchOutlined } from \"@material-ui/icons\";\n\nimport { useQuery } from \"@apollo/client\";\n\nimport ListaEnEspera from \"./ListaEnEspera\";\nimport ErrorPage from \"../../../../components/ErrorPage\";\nimport { OBTENER_COMPRAS_ESPERA } from \"../../../../gql/Compras/compras\";\n\nconst useStyles = makeStyles((theme) => ({\n  appBar: {\n    position: \"relative\",\n  },\n  title: {\n    marginLeft: theme.spacing(2),\n    flex: 1,\n  },\n  icon: {\n    fontSize: 100,\n  },\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function ComprasEnEspera() {\n  const classes = useStyles();\n  const [open, setOpen] = React.useState(false);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  return (\n    <div>\n      <Button fullWidth onClick={handleClickOpen}>\n        <Box display=\"flex\" flexDirection=\"column\">\n          <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n            <FcOvertime className={classes.icon} />\n          </Box>\n          Compras en espera\n        </Box>\n      </Button>\n      <Dialog\n        fullScreen\n        open={open}\n        onClose={handleClose}\n        TransitionComponent={Transition}\n      >\n        <AppBar className={classes.appBar}>\n          <Toolbar>\n            <Typography variant=\"h6\" className={classes.title}>\n              Compras en espera\n            </Typography>\n            <Box m={1}>\n              <Button\n                variant=\"contained\"\n                color=\"secondary\"\n                onClick={handleClose}\n                size=\"large\"\n              >\n                <CloseIcon style={{ fontSize: 30 }} />\n              </Button>\n            </Box>\n          </Toolbar>\n        </AppBar>\n        <Container maxWidth=\"xl\">\n          <ContentDialogCompras />\n        </Container>\n      </Dialog>\n    </div>\n  );\n}\n\nconst ContentDialogCompras = () => {\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n  const [filtro, setFiltro] = useState(\"\");\n  const searchfilter = useRef(null);\n\n  /* Queries */\n  const { loading, data, error, refetch } = useQuery(OBTENER_COMPRAS_ESPERA, {\n    variables: {\n      empresa: sesion.empresa._id,\n      sucursal: sesion.sucursal._id,\n      filtro,\n    },\n    fetchPolicy: \"network-only\",\n  });\n\n  if (loading)\n    return (\n      <Box\n        display=\"flex\"\n        flexDirection=\"column\"\n        justifyContent=\"center\"\n        alignItems=\"center\"\n        height=\"40vh\"\n      >\n        <CircularProgress />\n        <Typography variant=\"h5\">Cargando</Typography>\n      </Box>\n    );\n  if (error) {\n    return <ErrorPage error={error} altura={300} />;\n  }\n\n  let obtenerComprasEnEspera = [];\n  if (data) obtenerComprasEnEspera = data.obtenerComprasEnEspera;\n\n  const obtenerBusqueda = (e, value) => {\n    e.preventDefault();\n    refetch({ filtro: value });\n    setFiltro(value);\n  };\n\n  return (\n    <Fragment>\n      <Box my={3} maxWidth={500}>\n        <form onSubmit={(e) => obtenerBusqueda(e, e.target[0].value)}>\n          <TextField\n            inputRef={searchfilter}\n            fullWidth\n            size=\"small\"\n            variant=\"outlined\"\n            placeholder=\"Buscar una compra...\"\n            InputProps={{\n              endAdornment: (\n                <InputAdornment position=\"end\">\n                  <IconButton type=\"submit\" color=\"primary\" size=\"medium\">\n                    <SearchOutlined />\n                  </IconButton>\n                </InputAdornment>\n              ),\n            }}\n          />\n        </form>\n      </Box>\n      <ListaEnEspera obtenerComprasEnEspera={obtenerComprasEnEspera} refetch={refetch} />\n    </Fragment>\n  );\n};\n","import React from 'react';\nimport { Box, Container, Grid } from '@material-ui/core';\nimport AbrirCompra from './AbrirCompra/AbrirCompra';\nimport ComprasRealizadas from './ComprasRealizadas/ComprasRealizadas';\n/* import CargaMasiva from './CargaMasiva/CargaMasiva'; */\nimport ComprasEnEspera from './ComprasEnEspera/ComprasEnEspera';\n\n\nexport default function Compras() {\n\n\tconst permisosUsuario = JSON.parse(localStorage.getItem('sesionCafi'));\n\n\treturn (\n\t\t<Container maxWidth=\"md\">\n\t\t\t<Grid container spacing={3} justify=\"center\">\n\t\t\t{permisosUsuario.accesos.compras.abrir_compra.ver === false ? (null):(\n\t\t\t\t<Grid item md={4}>\n\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t<AbrirCompra />\n\t\t\t\t\t</Box>\n\t\t\t\t</Grid>\n\t\t\t)}\n\t\t\t{permisosUsuario.accesos.compras.compras_realizadas.ver === false ? (null):(\n\t\t\t\t<Grid item md={4}>\n\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t<ComprasRealizadas />\n\t\t\t\t\t</Box>\n\t\t\t\t</Grid>\n\t\t\t)}\n\t\t\t{permisosUsuario.accesos.compras.compras_espera.ver === false ? (null):(\n                <Grid item md={4}>\n\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t<ComprasEnEspera />\n\t\t\t\t\t</Box>\n\t\t\t\t</Grid>\n\t\t\t)}\n\t\t\t\t{/* <Grid item md={2}>\n\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t<CargaMasiva />\n\t\t\t\t\t</Box>\n\t\t\t\t</Grid> */}\n\t\t\t</Grid>\n\t\t</Container>\n\t);\n}\n","import React, { useContext, useState, Fragment } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport Box from \"@material-ui/core/Box\";\nimport Button from \"@material-ui/core/Button\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Switch from \"@material-ui/core/Switch\";\nimport Slide from \"@material-ui/core/Slide\";\nimport CrearCliente from \"./CrearCliente\";\nimport ErrorPage from \"../../../../components/ErrorPage\";\nimport { Delete } from \"@material-ui/icons\";\nimport { ClienteCtx } from \"../../../../context/Catalogos/crearClienteCtx\";\nimport { useDebounce } from \"use-debounce\";\nimport { useQuery, useMutation } from \"@apollo/client\";\nimport {\n  OBTENER_CLIENTES,\n  ACTUALIZAR_CLIENTE,\n  ELIMINAR_CLIENTE,\n} from \"../../../../gql/Catalogos/clientes\";\nimport { formatoFechaCorta } from \"../../../../config/reuserFunctions\";\nimport SnackBarMessages from \"../../../../components/SnackBarMessages\";\n// import { VentasContext } from \"../../../../context/Ventas/ventasContext\";\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nconst useStyles = makeStyles({\n  root: {\n    width: \"100%\",\n  },\n  container: {\n    maxHeight: \"75vh\",\n  },\n});\n\nexport default function ListaClientes({\n  user,\n  tipo,\n  filtro,\n  ventas,\n  handleClickOpen,\n}) {\n  const classes = useStyles();\n  const { setUpdateClientVenta, updateClientVenta } = useContext(\n    ClienteCtx\n  );\n  const [value] = useDebounce(filtro, 1000);\n  const [selectDataClient, setSelectDataClient] = useState(false);\n  /* Queries */\n  const { loading, data, error, refetch } = useQuery(OBTENER_CLIENTES, {\n    variables: { tipo, filtro: value },\n    fetchPolicy: \"network-only\",\n  });\n\n  /* useEffect(() => {\n    refetch();\n  }, [update, refetch]); */\n\n  //show modal accept client\n  const [showModal, setShowModal] = useState(false);\n\n  const [dataSelectRowClient, setDataSelectRowClient] = useState({});\n  const [alert, setAlert] = useState({ message: \"\", status: \"\", open: false });\n\n  const handleClickOpenModal = (data, e) => {\n    if (ventas && !selectDataClient) {\n      setShowModal(true);\n      setDataSelectRowClient(data);\n    }\n  };\n\n  const handleClickSelectClient = () => {\n    try {\n      const venta = JSON.parse(localStorage.getItem(\"DatosVentas\"));\n      let venta_actual = venta === null ? {} : venta;\n      localStorage.setItem(\n        \"DatosVentas\",\n        JSON.stringify({\n          subTotal:\n            venta_actual.subTotal === undefined ? 0 : venta_actual.subTotal,\n          total: venta_actual.total === undefined ? 0 : venta_actual.total,\n          impuestos:\n            venta_actual.impuestos === undefined ? 0 : venta_actual.impuestos,\n          iva: venta_actual.iva === undefined ? 0 : venta_actual.iva,\n          ieps: venta_actual.ieps === undefined ? 0 : venta_actual.ieps,\n          descuento:\n            venta_actual.descuento === undefined ? 0 : venta_actual.descuento,\n          monedero:\n            venta_actual.monedero === undefined ? 0 : venta_actual.monedero,\n          tipo_cambio: venta_actual.tipo_cambio ? venta_actual.tipo_cambio : {},\n          cliente: dataSelectRowClient,\n          venta_cliente: true,\n          productos:\n            venta_actual.productos?.length > 0 ? venta_actual.productos : [],\n        })\n      );\n      setUpdateClientVenta(!updateClientVenta);\n      setShowModal(!showModal);\n      handleClickOpen();\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  if (loading)\n    return (\n      <Box\n        display=\"flex\"\n        justifyContent=\"center\"\n        alignItems=\"center\"\n        height=\"50vh\"\n        width=\"120vh\"\n      >\n        <CircularProgress />\n      </Box>\n    );\n  if (error) {\n    return <ErrorPage error={error} />;\n  }\n\n  const { obtenerClientes } = data;\n\n  return (\n    <Fragment>\n      <SnackBarMessages alert={alert} setAlert={setAlert} />\n      <Paper className={classes.root}>\n        <TableContainer className={classes.container}>\n          <Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n            <TableHead>\n              <TableRow>\n                <TableCell width=\"110\">No. Cliente</TableCell>\n                <TableCell width=\"100\">Clave</TableCell>\n                <TableCell width=\"200\">Nombre</TableCell>\n                <TableCell width=\"150\">Correo</TableCell>\n                <TableCell width=\"200\">Fecha Registro</TableCell>\n                {user === \"EMPLEADO\" ? null : (\n                  <TableCell width=\"100\">Estado</TableCell>\n                )}\n                <TableCell width=\"50\">Editar</TableCell>\n                {user === \"EMPLEADO\" ? null : (\n                  <TableCell width=\"50\">Eliminar</TableCell>\n                )}\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {obtenerClientes.map((row, index) => {\n                return (\n                  <RowsRender\n                    user={user}\n                    key={index}\n                    datos={row}\n                    handleClickOpenModal={handleClickOpenModal}\n                    setAlert={setAlert}\n                    refetch={refetch}\n                  />\n                );\n              })}\n            </TableBody>\n          </Table>\n        </TableContainer>\n        <Dialog\n          open={showModal}\n          onClose={() => setShowModal(false)}\n          aria-labelledby=\"select-dialog-cliente-venta\"\n          aria-describedby=\"select-cliente-venta-description\"\n        >\n          <DialogTitle id=\"select-dialog-cliente-venta\">\n            {\" Estas seguro que desea seleccionar este cliente ?\"}\n          </DialogTitle>\n          <DialogContent>\n            <DialogContentText id=\"select-cliente-venta-description\">\n              Al seleccionar el cliente se colocara en la venta.\n            </DialogContentText>\n          </DialogContent>\n          <DialogActions>\n            <Button\n              onClick={() => setShowModal(false)}\n              color=\"primary\"\n              autoFocus\n            >\n              cancelar\n            </Button>\n            <Button onClick={() => handleClickSelectClient()} color=\"primary\">\n              Aceptar\n            </Button>\n          </DialogActions>\n        </Dialog>\n      </Paper>\n    </Fragment>\n  );\n}\n\nconst RowsRender = ({\n  datos,\n  user,\n  handleClickOpenModal,\n  setAlert,\n  refetch,\n}) => {\n  const permisosUsuario = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n\n  const { update, setUpdate } = useContext(ClienteCtx);\n  const [loading, setLoading] = useState(false);\n\n  /* console.log(datos); */\n\n  const [actualizarCliente] = useMutation(ACTUALIZAR_CLIENTE);\n\n  const cambiarEstado = async (e) => {\n    setLoading(true);\n\n    try {\n      await actualizarCliente({\n        variables: {\n          input: {\n            estado_cliente: e.target.checked,\n          },\n          id: datos._id,\n        },\n      });\n      setUpdate(!update);\n      setLoading(false);\n    } catch (error) {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <Fragment>\n      <TableRow\n        hover\n        role=\"checkbox\"\n        tabIndex={-1}\n        onClick={(e) => handleClickOpenModal(datos, e)}\n      >\n        <TableCell>\n          <Typography>{datos.numero_cliente}</Typography>\n        </TableCell>\n        <TableCell>\n          <Typography>{datos.clave_cliente}</Typography>\n        </TableCell>\n        <TableCell>\n          <Typography>{datos.nombre_cliente}</Typography>\n        </TableCell>\n        <TableCell>\n          <Typography>{datos.email}</Typography>\n        </TableCell>\n        <TableCell>\n          <Typography>{formatoFechaCorta(datos.fecha_registro)}</Typography>\n        </TableCell>\n        {user === \"EMPLEADO\" ? null : (\n          <TableCell>\n            {loading ? (\n              <CircularProgress size={30} />\n            ) : (\n              <Switch\n                checked={datos.estado_cliente}\n                onChange={cambiarEstado}\n                color=\"primary\"\n              />\n            )}\n          </TableCell>\n        )}\n        <TableCell width={50}>\n          {permisosUsuario.accesos.catalogos.clientes.editar ===\n          false ? null : (\n            <CrearCliente\n              tipo=\"CLIENTE\"\n              accion=\"actualizar\"\n              datos={datos}\n              refetch={refetch}\n            />\n          )}\n        </TableCell>\n        <TableCell width={50}>\n          {permisosUsuario.accesos.catalogos.clientes.editar ===\n          false ? null : (\n            <EliminarCliente\n              datos={datos}\n              setAlert={setAlert}\n              refetch={refetch}\n            />\n          )}\n        </TableCell>\n      </TableRow>\n    </Fragment>\n  );\n};\n\nconst EliminarCliente = ({ datos, setAlert, refetch }) => {\n  const [open, setOpen] = useState(false);\n  const [eliminarCliente] = useMutation(ELIMINAR_CLIENTE);\n  const [loading, setLoading] = useState(false);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const eliminarClienteBD = async () => {\n    setLoading(true);\n    try {\n      const result = await eliminarCliente({\n        variables: {\n          id: datos._id,\n        },\n      });\n      if (result) {\n        const { message } = result.data.eliminarCliente;\n        setAlert({ message, status: \"success\", open: true });\n        refetch();\n      }\n      setLoading(false);\n      handleClose();\n    } catch (error) {\n      console.log(error);\n      setLoading(false);\n      if (error.message) {\n        setAlert({ message: error.message, status: \"error\", open: true });\n        return;\n      }\n      setAlert({ message: \"Hubo un error\", status: \"error\", open: true });\n    }\n  };\n\n  return (\n    <div>\n      <IconButton color=\"secondary\" onClick={() => handleClickOpen()}>\n        <Delete />\n      </IconButton>\n      <Dialog\n        open={open}\n        TransitionComponent={Transition}\n        keepMounted\n        onClose={() => handleClose()}\n        aria-labelledby=\"alert-eliminar-cliente\"\n      >\n        <DialogTitle id=\"alert-eliminar-cliente\">\n          {\"¿Está seguro de eliminar esto?\"}\n        </DialogTitle>\n        <DialogActions>\n          <Button\n            onClick={() => handleClose()}\n            color=\"inherit\"\n            disabled={loading}\n          >\n            Cancelar\n          </Button>\n          <Button\n            onClick={() => eliminarClienteBD()}\n            color=\"secondary\"\n            disabled={loading}\n            startIcon={\n              loading ? <CircularProgress size={20} color=\"inherit\" /> : null\n            }\n          >\n            Eliminar\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n};\n","import React, { useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Typography from \"@material-ui/core/Typography\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport Slide from \"@material-ui/core/Slide\";\nimport { FcManager } from \"react-icons/fc\";\nimport { Box, Grid, IconButton, InputBase, Paper } from \"@material-ui/core\";\nimport { Search } from \"@material-ui/icons\";\nimport ListaClientes from \"./ListaClientes\";\nimport CrearCliente from \"./CrearCliente\";\nimport { ClienteProvider } from \"../../../../context/Catalogos/crearClienteCtx\";\n\nconst useStyles = makeStyles((theme) => ({\n  appBar: {\n    position: \"relative\",\n  },\n  title: {\n    marginLeft: theme.spacing(2),\n    flex: 1,\n  },\n  icon: {\n    fontSize: 100,\n  },\n  root: {\n    display: \"flex\",\n    paddingLeft: theme.spacing(2),\n  },\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function Cliente() {\n  const classes = useStyles();\n\n  const permisosUsuario = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n\n  const [open, setOpen] = useState(false);\n  const [values, setValues] = useState(\"\");\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const pressEnter = (e) => {\n    if (e.key === \"Enter\") setValues(e.target.defaultValue);\n  };\n\n  return (\n    <div>\n      <ClienteProvider>\n        <Button onClick={handleClickOpen}>\n          <Box display=\"flex\" flexDirection=\"column\">\n            <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n              <FcManager className={classes.icon} />\n            </Box>\n            Cliente\n          </Box>\n        </Button>\n        <Dialog\n          fullScreen\n          open={open}\n          onClose={handleClose}\n          TransitionComponent={Transition}\n        >\n          <AppBar className={classes.appBar}>\n            <Toolbar>\n              <Typography variant=\"h6\" className={classes.title}>\n                Cliente\n              </Typography>\n              <Box m={1}>\n                <Button\n                  variant=\"contained\"\n                  color=\"secondary\"\n                  onClick={handleClose}\n                  size=\"large\"\n                >\n                  <CloseIcon style={{ fontSize: 30 }} />\n                </Button>\n              </Box>\n            </Toolbar>\n          </AppBar>\n          <Box m={3}>\n            <Grid container spacing={2}>\n              <Grid item md={6} xs={8}>\n                <Paper className={classes.root}>\n                  <InputBase\n                    fullWidth\n                    placeholder=\"Buscar cliente...\"\n                    onChange={(e) => setValues(e.target.value)}\n                    onKeyPress={pressEnter}\n                    value={values}\n                  />\n                  <IconButton onClick={() => setValues(values)}>\n                    <Search />\n                  </IconButton>\n                </Paper>\n              </Grid>\n              <Grid\n                item\n                md={6}\n                xs={4}\n                style={{ display: \"flex\", justifyContent: \"flex-end\" }}\n              >\n                {permisosUsuario.accesos.catalogos.clientes.agregar ===\n                false ? null : (\n                  <CrearCliente tipo=\"CLIENTE\" accion=\"registrar\" />\n                )}\n              </Grid>\n            </Grid>\n          </Box>\n          <Box mx={4}>\n            <ListaClientes tipo=\"CLIENTE\" filtro={values} />\n          </Box>\n        </Dialog>\n      </ClienteProvider>\n    </div>\n  );\n}\n","import { gql } from '@apollo/client';\n\nexport const REGISTRAR_DESCUENTOS = gql`\n\tmutation CrearDescuentoUnidad($input: ObjetoDescuentoUnidadesInput!){\n        crearDescuentoUnidad(input: $input){\n            message\n        }\n  }\n`;\n\nexport const ACTUALIZAR_DESCUENTOS = gql`\n\tmutation ActualizarDescuentoUnidad($input: ObjetoDescuentoUnidadesInput!){\n        actualizarDescuentoUnidad(input: $input){\n            message\n        }\n    }\n`;\n\nexport const DESACTIVAR_DESCUENTOS = gql`\n\tmutation DesactivarDescuentoUnidad($input: ActivarDescuentoUnidades , $id: ID!){\n        desactivarDescuentoUnidad(input: $input, id: $id){\n            message\n        }\n    }\n`;\n\nexport const ELIMINAR_DESCUENTOS = gql`\n\tmutation ELiminarDescuentoUnidad( $id: ID!){\n        eliminarDescuentoUnidad( id: $id){\n            message\n        }\n    }\n`;","import React, { useContext, useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { Delete } from '@material-ui/icons';\nimport { makeStyles, useTheme } from \"@material-ui/core\";\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport { Button, Dialog, DialogActions, DialogTitle, IconButton, Switch, Tooltip } from '@material-ui/core';\nimport Zoom from \"@material-ui/core/Zoom\";\n\nimport {  DESACTIVAR_DESCUENTOS, ELIMINAR_DESCUENTOS } from '../../../../../gql/Catalogos/descuentos';\nimport { useMutation } from '@apollo/client';\nimport SnackBarMessages from '../../../../../components/SnackBarMessages';\nimport { RegProductoContext } from '../../../../../context/Catalogos/CtxRegProducto';\nimport BackdropComponent from '../../../../../components/Layouts/BackDrop';\n\nconst headCells = [\n\t{ id: 'cantidad',  label: 'Cantidad' },\n\t{ id: 'tipo',  label: 'Tipo' },\n\t{ id: 'precio',  label: 'Precio U.' },\n\t{ id: 'precioDes',  label: 'Precio Desc.' },\n\t{ id: 'descuento',  label: '% Desc.' },\n\t{ id: 'eliminar',  label: 'Eliminar'},\n\t{ id: 'activo',  label: 'Activo'}\n];\n\nfunction EnhancedTableHead(props) {\n\tconst { onSelectAllClick, numSelected, rowCount, datosPrecios } = props;\n\tlet variable = false;\n\tdatosPrecios?.forEach(element => {\n\t\tif (element.medida) {\n\t\t\treturn variable = true;\n\t\t}\n\t});\n\treturn (\n\t\t<TableHead>\n\t\t\t<TableRow>\n\t\t\t\t<TableCell padding=\"checkbox\">\n\t\t\t\t\t<Checkbox\n\t\t\t\t\t\tindeterminate={numSelected > 0 && numSelected < rowCount}\n\t\t\t\t\t\tchecked={rowCount > 0 && numSelected === rowCount}\n\t\t\t\t\t\tonChange={onSelectAllClick}\n\t\t\t\t\t\tinputProps={{ 'aria-label': 'select all desserts' }}\n\t\t\t\t\t/>\n\t\t\t\t</TableCell>\n\t\t\t\t{headCells.map((headCell) => (\n\t\t\t\t\t<TableCell\n\t\t\t\t\t\tkey={headCell.id}\n\t\t\t\t\t\talign={headCell.numeric ? 'right' : 'left'}\n\t\t\t\t\t\tpadding={headCell.disablePadding ? 'none' : 'default'}\n\t\t\t\t\t>\n\t\t\t\t\t\t{headCell.label}\n\t\t\t\t\t</TableCell>\n\t\t\t\t))}\n\t\t\t\t{ variable === true ? (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<TableCell>Talla</TableCell>\n\t\t\t\t\t\t<TableCell>Color</TableCell>\n\t\t\t\t\t</>\n\t\t\t\t): null}\n\t\t\t\t\n\t\t\t</TableRow>\n\t\t</TableHead>\n\t);\n}\n\nEnhancedTableHead.propTypes = {\n\tclasses: PropTypes.object.isRequired,\n\tnumSelected: PropTypes.number.isRequired,\n\tonSelectAllClick: PropTypes.func.isRequired,\n\trowCount: PropTypes.number.isRequired\n};\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n\t\twidth: '100%'\n\t},\n\tpaper: {\n\t\twidth: '100%',\n\t\tmarginBottom: theme.spacing(2)\n\t},\n\ttable: {\n\t\theight: 300\n\t},\n\tvisuallyHidden: {\n\t\tborder: 0,\n\t\tclip: 'rect(0 0 0 0)',\n\t\theight: 1,\n\t\tmargin: -1,\n\t\toverflow: 'hidden',\n\t\tpadding: 0,\n\t\tposition: 'absolute',\n\t\ttop: 20,\n\t\twidth: 1\n\t},\n\tcolorContainer: {\n\t\tborder: \"1px solid rgba(0,0,0, .3)\",\n\t\tdisplay: \"flex\",\n\t\tjustifyContent: \"center\",\n\t\talignItems: \"center\",\n\t\theight: 30,\n\t\twidth: 30,\n\t\tmargin: 1,\n\t\tborderRadius: \"15%\",\n\t\tcursor: \"pointer\",\n\t  },\n}));\n\nexport default function TablaPreciosDescuentos(\n\t{ \n\t\tvalue,\n\t\tdatos,\n\t\tsetCleanList, \n\t\tcleanList, \n\t\tverificarDatos, \n\t\tsetPrecioPrueba,\n\t\tproductosRefetch,\n\t\tsetLoading,\n\t\tloading\n\t}\n\t) {\n\tconst classes = useStyles();\n\tconst { \n\t\t//es este \n\t\tdatosPreciosProducto, \n        setPreciosProductos,\n\t\tsetDatosPreciosProducto\n    } = useContext(RegProductoContext);\n\n\tconst [ alert, setAlert ] = useState({ message: '', status: '', open: false });\n\tvar porcentaje  =  parseFloat((100 - value).toFixed(6));\n\tconst [ selected, setSelected ] = useState([]);\n\tconst [ page, setPage ] = useState(0);\n\tconst [ rowsPerPage, setRowsPerPage ] = useState(5);\n\n\tif(datos){\n\t\tif (datos.medidas_producto.length > 0) {\n\t\t\tsetDatosPreciosProducto(datos.medidas_producto);\n\t\t}else{\n\t\t\tsetDatosPreciosProducto(datos.unidades_de_venta);\n\t\t}\n\t};\n\n\tconst handleSelectAllClick = (event) => {\n\t\tif (event.target.checked) {\n\t\t\tconst newSelecteds = datosPreciosProducto.map((n) => n);\n\t\t\tsetSelected(newSelecteds); \n\t\t\tverificarDatos(newSelecteds);\n\t\t\tsetPreciosProductos(newSelecteds);\n\t\t\treturn;\n\t\t};\n\t\tsetPreciosProductos([]); \n\t\tsetSelected([]);\n\t};\n\n\tconst handleClick = (event, _id) => {\n\t\tconst selectedIndex = selected.indexOf(_id);\n\t\tlet newSelected = [];\n\t\tif (selectedIndex === -1) {\n\t\t\tnewSelected = newSelected.concat(selected, _id);\n\t\t} else if (selectedIndex === 0) {\n\t\t\tnewSelected = newSelected.concat(selected.slice(1));\n\t\t} else if (selectedIndex === selected.length - 1) {\n\t\t\tnewSelected = newSelected.concat(selected.slice(0, -1));\n\t\t} else if (selectedIndex > 0) {\n\t\t\tnewSelected = newSelected.concat(selected.slice(0, selectedIndex), selected.slice(selectedIndex + 1));\n\t\t}\n\t\tsetPrecioPrueba(newSelected.length === 0 ? 0 : newSelected);\n\t\tsetPreciosProductos(newSelected);\n\t\tverificarDatos(newSelected);\n\t\tsetSelected(newSelected);\n\t};\n\t\n\tuseEffect(() => {\n\t\tsetSelected([]);\n\t\tsetCleanList(false);\n\t}, [cleanList]);\n\n\tconst isSelected = (_id) => selected.indexOf(_id) !== -1;\n\n\tconst emptyRows = rowsPerPage - Math.min(rowsPerPage, datosPreciosProducto.length - page * rowsPerPage);\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<SnackBarMessages alert={alert} setAlert={setAlert} />\n\t\t\t<Paper className={classes.paper}>\n\t\t\t\t<BackdropComponent loading={loading} setLoading={setLoading} />\n\t\t\t\t<TableContainer className={classes.table}>\n\t\t\t\t\t<Table\n\t\t\t\t\t\tclassName={classes.table}\n\t\t\t\t\t\taria-labelledby=\"tableTitle\"\n\t\t\t\t\t\tsize=\"small\" \n\t\t\t\t\t\taria-label=\"a dense table\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<EnhancedTableHead\n\t\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\t\tnumSelected={selected.length}\n\t\t\t\t\t\t\tonSelectAllClick={handleSelectAllClick}\n\t\t\t\t\t\t\trowCount={datosPreciosProducto.length}\n\t\t\t\t\t\t\tdatosPrecios={datosPreciosProducto}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t{datosPreciosProducto.map((row, index) => {\n\t\t\t\t\t\t\t\tconst isItemSelected = isSelected(row);\n\t\t\t\t\t\t\t\tconst labelId = `enhanced-table-checkbox-${index}`;\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<RowsRender\n\t\t\t\t\t\t\t\t\t\tkey={row._id}\n\t\t\t\t\t\t\t\t\t    setLoading={setLoading}\n\t\t\t\t\t\t\t\t\t\tproductosRefetch={productosRefetch}\n\t\t\t\t\t\t\t\t\t\thandleClick={handleClick} \n\t\t\t\t\t\t\t\t\t\tselected={selected} \n\t\t\t\t\t\t\t\t\t\trow={row}\n\t\t\t\t\t\t\t\t\t\tsetAlert={setAlert}\n\t\t\t\t\t\t\t\t\t\tporcentaje={porcentaje}\n\t\t\t\t\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\t\t\t\t\tdatos={datos}\n\t\t\t\t\t\t\t\t\t\tisItemSelected={isItemSelected} \n\t\t\t\t\t\t\t\t\t\tlabelId={labelId} \n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t{emptyRows > 0 && (\n\t\t\t\t\t\t\t\t<TableRow style={{ height: 53 * emptyRows }}>\n\t\t\t\t\t\t\t\t\t<TableCell colSpan={6} />\n\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t</Table>\n\t\t\t\t</TableContainer>\n\t\t\t\t\n\t\t\t</Paper>\n\t\t</div>\n\t);\n}\n\nfunction RowsRender({row, value, isItemSelected, setLoading, datos, labelId, setAlert, porcentaje, productosRefetch, handleClick, selected}) {\n\n\tconst classes = useStyles();\n\tconst theme = useTheme();\n\tconst [openModal, setOpenModal] = useState(false);\n\tconst { \n        setDatosPreciosProducto,\n    } = useContext(RegProductoContext);\n\tconst [ DesactivarDescuentoUnidad ] = useMutation(DESACTIVAR_DESCUENTOS);\n\tconst [ ELiminarDescuentoUnidad ] = useMutation(ELIMINAR_DESCUENTOS);\n\n\tconst handleChangeActivo = async () => {\n\t\tsetLoading(true);\n\t\ttry {\n\t\t\tawait DesactivarDescuentoUnidad({\n\t\t\t\tvariables: {\n\t\t\t\t\tinput: {\n\t\t\t\t\t\tdescuento_activo: !row.descuento_activo,\n\t\t\t\t\t},\n\t\t\t\t\tid: row._id\n\t\t\t\t}\n\t\t\t});\n\t\t\tsetLoading(false);\n\t\t\tproductosRefetch();\n\t\t\tsetAlert({ message: 'Estado de descuento actualizado', status: 'success', open: true });\n\t\t} catch (error) {\n\t\t\tsetAlert({ message: 'Ocurrio un problema en el servidor' , status: 'error', open: true });\n\t\t}\n\t};\n\n\tconst handleModal = () => {\n\t\tsetOpenModal(!openModal);\n\t\teditarDatos();\n\t};\n\t\n\tconst editarDatos = () => {\n\t\tif (datos.medidas_producto.length > 0) {\n            setDatosPreciosProducto(datos.medidas_producto);\n\t\t\tsetLoading(false);\n        }else{\n\t\t\tsetDatosPreciosProducto(datos.unidades_de_venta);\n\t\t\tsetLoading(false);\n        }\n\t};\n\n\tconst handleDelete = async () => {\n\t\tsetLoading(true);\n\t\ttry {\n\t\t\tproductosRefetch();\n\t\t\tconst resultado = await ELiminarDescuentoUnidad({\n\t\t\t\tvariables: {\n\t\t\t\t\tid: row._id,\n\t\t\t\t}\n\t\t\t});\n\t\t\thandleModal();\n\t\t\teditarDatos();\n\t\t\tsetAlert({ message: resultado.data.eliminarDescuentoUnidad.message, status: 'success', open: true });\n\t\t} catch (error) {\n\t\t\tsetAlert({ message: error.message, status: 'error', open: true });\n\t\t}\n\t};\n\n\treturn(\n\t\t<TableRow\n\t\t\thover\n\t\t\trole=\"checkbox\"\n\t\t\taria-checked={isItemSelected}\n\t\t\ttabIndex={-1}\n\t\t\tkey={row._id}\n\t\t\tselected={isItemSelected}\n\t\t>\n\t\t\t<TableCell padding=\"checkbox\">\n\t\t\t\t<Checkbox\n\t\t\t\t\tonClick={(event) => {\n\t\t\t\t\t\thandleClick(event, row)\n\t\t\t\t\t}}\n\t\t\t\t\tchecked={isItemSelected}\n\t\t\t\t\tinputProps={{ 'aria-labelledby': labelId }}\n\t\t\t\t/>\n\t\t\t</TableCell>\n\t\t\t<TableCell align=\"center\">{row.cantidad}</TableCell>\n\t\t\t<TableCell align=\"center\">{row?.unidad}</TableCell>\n\t\t\t<TableCell align=\"center\">{row.precio}</TableCell>\n\t\t\t<TableCell align=\"center\">\n\t\t\t\t{\n\t\t\t\t\tisItemSelected === true && selected.length > 1 ? <b style={{color: 'green'}}> ${parseFloat((row.precio * porcentaje / 100).toFixed(2))} </b>\n\t\t\t\t\t: (row.descuento === null ? 0 : <b style={{color: 'green'}}> ${row.descuento.precio_neto} </b> )\n\t\t\t\t}\n\t\t\t</TableCell>\n\t\t\t<TableCell align=\"center\">\n\t\t\t\t{isItemSelected === true && selected.length > 1 ? <b style={{color: 'red'}}> {value}% </b> : (!row.descuento || row.descuento === null ? 0 : <b style={{color: 'red'}}> {row.descuento.porciento}% </b>)}\n\t\t\t</TableCell>\n\t\t\t<TableCell align=\"center\">\n\t\t\t\t<Modal row={row} handleModal={handleModal} openModal={openModal} handleDelete={handleDelete} />\n\t\t\t</TableCell>\n\t\t\t<TableCell key={row._id} align=\"center\">\n\t\t\t\t<Switch\n\t\t\t\t\tkey={row._id}\n\t\t\t\t\tonChange={handleChangeActivo}\n\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\tdisabled={ !row.descuento ? true \n\t\t\t\t\t\t : ( row.descuento.porciento === 0 ? true : false ) }\n\t\t\t\t\tdefaultChecked={row.descuento_activo ? row.descuento_activo : false}\n\t\t\t\t\tname=\"descuento_activo\"\n\t\t\t\t\tinputProps={{ 'aria-label': 'secondary checkbox' }}\n\t\t\t\t/>\n\t\t\t</TableCell>\n\t\t\t{\n\t\t\t\trow.medida ? (\n\t\t\t\t\t<TableCell align=\"center\">{row?.medida?.talla}</TableCell>\n\t\t\t\t) :(\n\t\t\t\t\tnull\n\t\t\t\t)\n\t\t\t}\n\n\t\t\t{\n\t\t\t\trow.color ? (\n\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t<Tooltip\n\t\t\t\t\t\t\ttitle={row?.color?.nombre}\n\t\t\t\t\t\t\tplacement=\"top\"\n\t\t\t\t\t\t\tarrow\n\t\t\t\t\t\t\tTransitionComponent={Zoom}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclassName={classes.colorContainer}\n\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\tbackgroundColor:row?.color?.hex,\n\t\t\t\t\t\t\t\t\tcolor: theme.palette.getContrastText(row?.color?.hex),\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t</TableCell>\n\t\t\t\t) :(\n\t\t\t\t\tnull\n\t\t\t\t)\n\t\t\t}\n\t\t</TableRow>\n\t)\n};\n\n// MODAL PARA ELIMINAR EL DESCUENTO DE LOS PRODUCTOS\nconst Modal = ({row, handleModal, openModal, handleDelete }) => {\n\n\treturn (\n\t\t<div>\n\t\t\t<IconButton \n\t\t\t\tcolor=\"secondary\" \n\t\t\t\tonClick={handleModal}\n\t\t\t\tdisabled={ !row.descuento ? true \n\t\t\t\t\t: ( row.descuento.porciento === 0 ? true : false ) }\n\t\t\t>\n\t\t\t\t<Delete />\n\t\t\t</IconButton>\n\t\t\t<Dialog open={openModal} onClose={handleModal}>\n\t\t\t\t<DialogTitle>{'¿Seguro que quieres eliminar esto?'}</DialogTitle>\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Button onClick={handleModal} color=\"primary\">\n\t\t\t\t\t\tCancelar\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button color=\"secondary\" autoFocus variant=\"contained\" onClick={handleDelete}>\n\t\t\t\t\t\tEliminar\n\t\t\t\t\t</Button>\n\t\t\t\t</DialogActions>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n};\n","import React, { useCallback, useContext, useState } from 'react';\n\nimport LocalOfferIcon from '@material-ui/icons/LocalOffer';\nimport { Button, Dialog, makeStyles, DialogTitle, DialogContent, Grid, Box, Typography, TextField, Slider, IconButton } from '@material-ui/core';\nimport CloseIcon from '@material-ui/icons/Close';\n\nimport TablaPreciosDescuentos from './ListaPrecios';\n\nimport {  REGISTRAR_DESCUENTOS } from '../../../../../gql/Catalogos/descuentos';\nimport { useMutation } from '@apollo/client';\nimport SnackBarMessages from '../../../../../components/SnackBarMessages';\nimport BackdropComponent from '../../../../../components/Layouts/BackDrop';\nimport { RegProductoContext } from '../../../../../context/Catalogos/CtxRegProducto';\n\nconst useStyles = makeStyles((theme) => ({\n\tavatarGroup: {\n\t\t'& > .MuiAvatarGroup-avatar': {\n\t\t\twidth: theme.spacing(8),\n\t\t\theight: theme.spacing(8)\n\t\t}\n\t},\n\troot: {\n\t\twidth: 400\n\t},\n    rootSlice:{\n        width: 350\n    },\n\tmargin: {\n\t\theight: theme.spacing(3)\n\t},\n    rootTable:{\n        height: 300\n    }\n}));\n\nexport default function DescuentoProductos({datos, productosRefetch}) {\n    const [ CrearDescuentoUnidad ] = useMutation(REGISTRAR_DESCUENTOS);\n    const { \n        setDatosPreciosProducto,\n        preciosDescuentos, \n        setPreciosDescuentos,\n        preciosProductos, \n        setPreciosProductos,\n    } = useContext(RegProductoContext);\n\n    let iva = datos.precios.iva;\n    let ieps = datos.precios.ieps;\n    // Precio compra sin impuestos y sin utilidad\n    let PCSI = datos.precios.unidad_de_compra.precio_unitario_sin_impuesto;\n\n    const [ alert, setAlert ] = useState({ message: '', status: '', open: false });\n    const [ openDescuento, setOpenDescuento ] = useState(false);\n    const [ cleanList, setCleanList ] = useState(false);\n    const [ validate ] = useState(false);\n    const [ loading, setLoading ] = useState(false);\n\n    const [ precioPrueba, setPrecioPrueba ] = useState(0);\n    const [ value, setValue] =  useState(0);\n\n    const classes = useStyles();\n\n    const handleCloseDescuentos = () => {\n        if (datos.medidas_producto.length > 0) {\n            setDatosPreciosProducto(datos.medidas_producto);\n            setLoading(false);\n        }else{\n            setDatosPreciosProducto(datos.unidades_de_venta);\n            setLoading(false);\n        }\n        setPrecioPrueba(0);\n        setValue(0);\n        preciosDescuentos.splice(0, preciosDescuentos.length);\n    };\n\n    const cerrarModal =()=>{\n        setOpenDescuento(!openDescuento);\n        handleCloseDescuentos();\n    }\n\n    const verificarDatos = useCallback(\n        (datos) => {\n            for (let i = 0; i < datos.length; i++) {\n                if (datos[i].descuento) {\n                    if ( datos[i].descuento.porciento !== 0) {\n                        setValue(datos[i].descuento.porciento);\n                        if (datos.length === 1) {\n                            setPrecioPrueba(datos[i].descuento.precio_neto);\n                        }\n                    }\n                }\n            };\n    },\n        [datos]\n    );\n    \n    let arrayDescuento = [];\n\n    const obtenerPorcientoSlide = (event, newValue) => {\n        setValue(newValue);\n        preciosDescuentos.splice(0, preciosDescuentos.length);\n\n        for (let i = 0; i < preciosProductos.length; i++) {\n            let porcentaje  =  parseFloat((100 - newValue).toFixed(2));//Porcentaje para calculos de descuento\n            let PVCDSI = 0; // Precio venta con descuento sin impuestos\n            let dineroDescontado = 0; \n            let cantidad_unidad = preciosProductos[i].precio_unidad.cantidad_unidad;\n\n            PVCDSI = parseFloat((preciosProductos[i].precio_unidad.precio_venta * porcentaje / 100).toFixed(2));\n            dineroDescontado = parseFloat((preciosProductos[i].precio_unidad.precio_venta - PVCDSI).toFixed(2));\n\n            let iva_precio = parseFloat((PVCDSI * parseFloat(`0.${iva < 10 ? `0${iva}` : iva}`).toFixed(2)));\n\n            let ieps_precio = parseFloat((PVCDSI * parseFloat(`0.${ieps < 10 ? `0${ieps}` : ieps}`).toFixed(2)));\n            let utilidad = parseFloat((((PVCDSI - PCSI) / PCSI) * 100).toFixed(2));\n            let precio_neto = parseFloat((PVCDSI + iva_precio + ieps_precio).toFixed(2));\n            let precio_general = parseFloat((precio_neto * cantidad_unidad).toFixed(2));\n\n            arrayDescuento = {\n                _id: preciosProductos[i]._id,\n                descuento_activo: true,\n                descuento:{\n                    cantidad_unidad: cantidad_unidad,\n                    numero_precio: preciosProductos[i].precio_unidad.numero_precio,\n                    unidad_maxima: preciosProductos[i].precio_unidad.unidad_maxima,\n                    precio_general: precio_general,\n                    precio_neto: precio_neto,\n                    precio_venta: PVCDSI,\n                    iva_precio: iva_precio,\n                    ieps_precio: ieps_precio,\n                    utilidad: utilidad,\n                    porciento: newValue,\n                    dinero_descontado: dineroDescontado,\n                }\n            };\n\n            setPrecioPrueba(precio_neto);\n            if (preciosProductos.length !== 1) {\n                preciosDescuentos.push(arrayDescuento);\n            }else{\n                setPreciosDescuentos([arrayDescuento]);\n            }\n\n        }\n    };\n\n    const obtenerPrecioText = (e) => {\n        let valorText = parseFloat(e.target.value);\n        if (preciosProductos.length === 1) {\n            setPrecioPrueba(valorText);\n            \n            let suma_impuestos = parseFloat(`0.${iva < 10 ? `0${iva}` : iva}`) + parseFloat(`0.${ieps < 10 ? `0${ieps}` : ieps}`);\n            let PVSI = parseFloat((valorText / (suma_impuestos+1)).toFixed(2));\n\n            let cantidad_unidad = preciosProductos[0].precio_unidad.cantidad_unidad;\n            let dineroDescontado = 0;\n            let PVCDSI = 0; // Precio venta con descuento sin impuestos\n            let porcentaje  = parseFloat(((PVSI / preciosProductos[0].precio_unidad.precio_venta) * 100).toFixed(2));\n            let descuento = parseFloat((100 - porcentaje).toFixed(2));\n\n            PVCDSI = parseFloat((preciosProductos[0].precio_unidad.precio_venta * porcentaje / 100).toFixed(2));\n            dineroDescontado = parseFloat((preciosProductos[0].precio_unidad.precio_venta - PVCDSI).toFixed(2));\n\n            let iva_precio = parseFloat((PVCDSI * parseFloat(`0.${iva < 10 ? `0${iva}` : iva}`).toFixed(2)));\n            let ieps_precio = parseFloat((PVCDSI * parseFloat(`0.${ieps < 10 ? `0${ieps}` : ieps}`).toFixed(2)));\n            let utilidad = parseFloat((((PVCDSI - PCSI) / PCSI) * 100).toFixed(2));\n            let precio_neto = parseFloat((PVCDSI + iva_precio + ieps_precio).toFixed(2));\n            let precio_general = parseFloat((precio_neto * cantidad_unidad).toFixed(2));\n\n            arrayDescuento = {\n                \"_id\": preciosProductos[0]._id,\n                \"descuento_activo\": true,\n                \"descuento\":{\n                    cantidad_unidad: cantidad_unidad,\n                    numero_precio: preciosProductos[0].precio_unidad.numero_precio,\n                    unidad_maxima: preciosProductos[0].precio_unidad.unidad_maxima,\n                    precio_general: precio_general,\n                    precio_neto: precio_neto,\n                    precio_venta: PVCDSI,\n                    iva_precio: iva_precio,\n                    ieps_precio: ieps_precio,\n                    utilidad: utilidad,\n                    porciento: descuento,\n                    dinero_descontado: dineroDescontado,\n                }\n            };\n            \n            setValue(descuento);\n            setPreciosDescuentos([arrayDescuento]);\n        }\n    };\n\n    function valuetext(e) {\n        return `${e}`;\n    };\n\n    const saveData = async () => {\n        setLoading(true);\n\t\ttry {\n            await CrearDescuentoUnidad({\n                variables: {\n                    input: {\n                        descuentos: preciosDescuentos\n                    }\n                }\n            });\n            handleCloseDescuentos()\n            productosRefetch();\n            setValue(0);\n            setPreciosProductos([]);\n            setPreciosDescuentos([]);\n            setCleanList(!cleanList);\n            setAlert({ message: '¡Listo descuentos realizados!', status: 'success', open: true });\n\t\t} catch (error) {\n            setAlert({ message: '¡Oh no, ocurrio un problema con el servidor!', status: 'error', open: true });\n\t\t}\n\t};\n\n    const validacion = () => {\n        if (datos.medidas_producto.length > 0 ) {\n            for (let i = 0; i < datos.medidas_producto.length; i++) {\n                if (datos.medidas_producto[i]?.descuento_activo === true) {\n                    return \"primary\";\n                }else{\n                    return \"default\";\n                }\n            }\n        }else{\n            for (let i = 0; i < datos.unidades_de_venta.length; i++) {\n                if (datos.unidades_de_venta[i]?.descuento_activo === true) {\n                    return \"primary\";\n                }else{\n                    return \"default\";\n                }\n            }\n        }\n    }\n\n    return (\n        <div>\n            <SnackBarMessages alert={alert} setAlert={setAlert} />\n            <IconButton\n                color={validacion()}\n                onClick={cerrarModal}\n                disabled={datos.inventario_general && datos.inventario_general.length > 0 && datos.inventario_general[0].eliminado === true}\n            >\n               <LocalOfferIcon />\n            </IconButton>\n            <Dialog open={openDescuento} onClose={handleCloseDescuentos} fullWidth maxWidth=\"lg\">\n            <BackdropComponent loading={loading} setLoading={setLoading} />\n\t\t\t\t<DialogTitle>\n                    <Grid container>\n                        <Box flexGrow={1} display=\"flex\" alignItems=\"center\">\n                            {'Descuento de Producto'}\n                        </Box>\n                        <Box m={1}>\n                            <Button variant=\"contained\" color=\"secondary\" onClick={cerrarModal} size=\"large\">\n                                <CloseIcon />\n                            </Button>\n                        </Box>\n                    </Grid>\n                </DialogTitle>\n\t\t\t\t<DialogContent>\n                    <Box textAlign=\"center\">\n                        <Typography>\n                            <b>Nombre comercial: </b>\n                            {datos.datos_generales.nombre_comercial ? datos.datos_generales.nombre_comercial : '-'}\n                        </Typography>\n                    </Box>\n                    <Box textAlign=\"center\">\n                        <Typography>\n                            <b>Nombre genérico: </b>\n                            {datos.datos_generales.nombre_generico ? datos.datos_generales.nombre_generico : '-'}\n                        </Typography>\n                    </Box>\n                    <Grid container>\n                        <Grid item lg={8} md={6} xs={12}> \n                            <Box p={1}>\n                                <TablaPreciosDescuentos\n                                    verificarDatos={verificarDatos}\n                                    productosRefetch={productosRefetch}\n                                    datos={datos}\n                                    value={value}\n                                    cleanList={cleanList}\n                                    setCleanList={setCleanList}\n                                    setPrecioPrueba={setPrecioPrueba}\n                                    setLoading={setLoading}\n                                    loading={loading}\n                                />\n                            </Box>\n                        </Grid>\n                        <Grid item lg={4} md={6} xs={12}> \n                            <Box mt={5} dislay=\"flex\" justifyContent=\"center\">\n                                <div className={classes.root}>\n                                    <Box textAlign=\"center\">\n                                        <Typography id=\"discrete-slider-always\" gutterBottom>\n                                            <b>Porcentaje de descuento</b>\n                                        </Typography>\n                                    </Box>\n                                    <Box my={5} />\n                                    <Box display='flex' justifyContent=\"center\" justifyItems=\"center\" className={classes.rootSlice}>\n                                        <Slider\n                                            disabled={preciosProductos.length === 0 ? true : false}\n                                            getAriaValueText={valuetext}\n                                            value={value.toFixed(2)}\n                                            aria-labelledby=\"discrete-slider-small-steps\"\n                                            valueLabelDisplay=\"auto\"\n                                            onChange={obtenerPorcientoSlide} \n                                        />\n                                    </Box>\n                                </div>\n                            </Box>\n                            <Box mt={5} display=\"flex\" justifyContent=\"center\">\n                                {preciosProductos.length === 1 ? ( \n                                    <div>\n                                        <Typography>Precio con Descuento</Typography>\n                                        <TextField\n                                            type=\"number\"\n                                            InputProps={{ inputProps: { min: 0} }}\n                                            size=\"small\"\n                                            variant=\"outlined\"\n                                            value={ precioPrueba }\n                                            onChange={(e) => obtenerPrecioText(e)}\n                                        />\n                                    </div>\n                                ) : (\n                                    null\n                                )}\n\n                            </Box>\n                            <Box mt={2} display=\"flex\" justifyContent=\"center\">\n                                <Button \n                                    disabled={preciosProductos.length === 0 || validate === true ? true : false}\n                                    variant=\"contained\" \n                                    color=\"primary\" \n                                    size=\"large\"\n                                    onClick={saveData}\n                                >\n                                    Guardar \n                                </Button>\n                            </Box>\n                        </Grid>\n                    </Grid>\n\t\t\t\t</DialogContent>\n\t\t\t</Dialog>\n        </div>\n    )\n}\n","import React, { useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport {\n  Drawer,\n  Typography,\n  Box,\n  Grid,\n  Button,\n  IconButton,\n} from \"@material-ui/core\";\nimport { Close, CropOriginal, ListAlt } from \"@material-ui/icons\";\n\nconst useStyles = makeStyles((theme) => ({\n  drawWidth: {\n    width: \"50vw\",\n    [theme.breakpoints.down(\"sm\")]: {\n      width: \"100vw\",\n    },\n  },\n}));\n\nexport default function InfoProductoDrawer({ producto }) {\n  const { datos_generales, imagenes } = producto;\n  const classes = useStyles();\n  const [open, setOpen] = useState(false);\n\n  const toggleDrawer = () => setOpen(!open);\n\n  return (\n    <div>\n      <IconButton\n        color=\"default\"\n        variant=\"contained\"\n        onClick={() => toggleDrawer()}\n      >\n        <ListAlt />\n      </IconButton>\n      <Drawer anchor=\"right\" open={open} onClose={() => toggleDrawer()}>\n        <div className={classes.drawWidth}>\n          <Grid container>\n            <Grid\n              item\n              md={imagenes.length > 1 ? 6 : 12}\n              style={{ display: \"flex\", justifyContent: \"center\" }}\n            >\n              <Box\n                m={1}\n                width=\"300px\"\n                height=\"300px\"\n                display=\"flex\"\n                justifyContent=\"center\"\n                alignItems=\"center\"\n              >\n                {imagenes.length > 0 ? (\n                  <img\n                    width=\"100%\"\n                    alt=\"img producto\"\n                    src={imagenes[0].url_imagen}\n                    /* src=\"https://www.dportenis.mx/wcsstore/ExtendedSitesCatalogAssetStore/images/catalog/zoom/1020139-0001V1.jpg\" */\n                  />\n                ) : (\n                  <CropOriginal style={{ fontSize: 90 }} />\n                )}\n              </Box>\n            </Grid>\n            {imagenes.length > 1 ? (\n              <Grid item md={6}>\n                <Grid container>\n                  {imagenes.map((res, index) => {\n                    return index > 0 ? (\n                      <Grid item key={index}>\n                        <Box\n                          m={1}\n                          key={index}\n                          height={120}\n                          width={120}\n                          display=\"flex\"\n                          justifyContent=\"center\"\n                          alignItems=\"center\"\n                        >\n                          <img\n                            width=\"100%\"\n                            alt=\"img producto\"\n                            src={res.url_imagen}\n                          />\n                        </Box>\n                      </Grid>\n                    ) : null;\n                  })}\n                </Grid>\n              </Grid>\n            ) : null}\n          </Grid>\n          <Box m={5}>\n            <Grid container spacing={3} justify=\"center\">\n              <Grid item>\n                <Typography>\n                  <b>Código de barras: </b>\n                  {datos_generales.codigo_barras\n                    ? datos_generales.codigo_barras\n                    : \"-\"}\n                </Typography>\n                <Typography>\n                  <b>Clave alterna: </b>\n                  {datos_generales.clave_alterna\n                    ? datos_generales.clave_alterna\n                    : \"-\"}\n                </Typography>\n                <Typography>\n                  <b>Clave producto del SAT: </b>\n                  {datos_generales.clave_producto_sat &&\n                  datos_generales.clave_producto_sat.Value\n                    ? datos_generales.clave_producto_sat.Value: \"-\"}\n                </Typography>\n                <Typography>\n                  <b>Nombre comercial: </b>\n                  {datos_generales.nombre_comercial\n                    ? datos_generales.nombre_comercial\n                    : \"-\"}\n                </Typography>\n                <Typography>\n                  <b>Nombre genérico: </b>\n                  {datos_generales.nombre_generico\n                    ? datos_generales.nombre_generico\n                    : \"-\"}\n                </Typography>\n                <Typography>\n                  <b>Descripción: </b>\n                  {datos_generales.descripcion\n                    ? datos_generales.descripcion\n                    : \"-\"}\n                </Typography>\n              </Grid>\n              <Grid item>\n                <Typography>\n                  <b>Tipo de producto: </b>\n                  {datos_generales.tipo_producto\n                    ? datos_generales.tipo_producto\n                    : \"-\"}\n                </Typography>\n                <Typography>\n                  <b>Categoria: </b>\n                  {datos_generales.categoria ? datos_generales.categoria : \"-\"}\n                </Typography>\n                <Typography>\n                  <b>Subcategoria: </b>\n                  {datos_generales.subcategoria\n                    ? datos_generales.subcategoria\n                    : \"-\"}\n                </Typography>\n                <Typography>\n                  <b>Departamento: </b>\n                  {datos_generales.departamento\n                    ? datos_generales.departamento\n                    : \"-\"}\n                </Typography>\n                <Typography>\n                  <b>Marca: </b>\n                  {datos_generales.marca ? datos_generales.marca : \"-\"}\n                </Typography>\n              </Grid>\n            </Grid>\n          </Box>\n        </div>\n        <Box\n          position=\"absolute\"\n          bottom={16}\n          width=\"100%\"\n          display=\"flex\"\n          justifyContent=\"center\"\n        >\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            size=\"large\"\n            onClick={() => toggleDrawer()}\n            startIcon={<Close />}\n          >\n            Cerrar\n          </Button>\n        </Box>\n      </Drawer>\n    </div>\n  );\n}\n","import React, { forwardRef, Fragment, useContext, useState } from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Slide from \"@material-ui/core/Slide\";\nimport { CircularProgress, IconButton } from \"@material-ui/core\";\nimport { Delete } from \"@material-ui/icons\";\n/* import SnackBarMessages from '../../../../components/SnackBarMessages'; */\nimport { useMutation } from \"@apollo/client\";\nimport { ELIMINAR_PRODUCTO } from \"../../../../gql/Catalogos/productos\";\nimport { RegProductoContext } from \"../../../../context/Catalogos/CtxRegProducto\";\n\nconst Transition = forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function EliminarProducto({ datos, productosRefetch }) {\n  const [open, setOpen] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n  /* const [ alert, setAlert ] = useState({ message: '', status: '', open: false }); */\n  const { actualizarLista, setActualizarLista, setAlert } = useContext(\n    RegProductoContext\n  );\n\n  const [eliminarProducto] = useMutation(ELIMINAR_PRODUCTO);\n\n  const handleToggleModal = () => setOpen(!open);\n\n  const eliminarProductoBD = async () => {\n    setLoading(true);\n    try {\n      const result = await eliminarProducto({\n        variables: {\n          id: datos._id,\n        },\n      });\n      setActualizarLista(!actualizarLista);\n      productosRefetch();\n      setAlert({\n        message: `¡Listo! ${result.data.eliminarProducto.message}`,\n        status: \"success\",\n        open: true,\n      });\n      setLoading(false);\n      handleToggleModal();\n    } catch (error) {\n      setAlert({\n        message: `Error: ${error.message}`,\n        status: \"error\",\n        open: true,\n      });\n      setLoading(false);\n      handleToggleModal();\n    }\n  };\n\n  return (\n    <Fragment>\n      {/* <SnackBarMessages alert={alert} setAlert={setAlert} /> */}\n      <IconButton\n        onClick={() => handleToggleModal()}\n        disabled={\n            datos.inventario_general && datos.inventario_general.length === 0\n              ? true\n              : datos.inventario_general[0].eliminado === true\n              ? true\n              : false\n          }\n      >\n        <Delete\n          color={\n            datos.inventario_general && datos.inventario_general.length === 0\n              ? \"disabled\"\n              : datos.inventario_general[0].eliminado === true\n              ? \"disabled\"\n              : \"error\"\n          }\n        />\n      </IconButton>\n      <Dialog\n        open={open}\n        TransitionComponent={Transition}\n        keepMounted\n        onClose={() => handleToggleModal()}\n        aria-labelledby=\"alert-dialog-delete-producto\"\n      >\n        <DialogTitle id=\"alert-dialog-delete-producto\">\n          {\"¿Estás seguro de eliminar este producto?\"}\n        </DialogTitle>\n        <DialogActions style={{ display: \"flex\", justifyContent: \"center\" }}>\n          <Button onClick={() => handleToggleModal()} color=\"inherit\">\n            Cancelar\n          </Button>\n          <Button\n            onClick={() => eliminarProductoBD()}\n            color=\"secondary\"\n            startIcon={\n              loading ? <CircularProgress color=\"inherit\" size={20} /> : null\n            }\n          >\n            Eliminar\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </Fragment>\n  );\n}\n","import React, { Fragment } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport CrearProducto from \"./crearProducto\";\nimport DescuentoProductos from \"./Descuentos/Descuento\";\nimport InfoProductoDrawer from \"./infoProductoDrawer\";\nimport EliminarProducto from \"./EliminarProducto\";\n\nconst useStyles = makeStyles({\n  root: {\n    width: \"100%\",\n  },\n  container: {\n    maxHeight: \"70vh\",\n\t'& ::-webkit-scrollbar': {\n\t\tdisplay: 'none'\n\t}\n  },\n  avatar: {\n    width: 130,\n    height: 130,\n  },\n});\n\nexport default function ListaProductos({ obtenerProductos, productosRefetch }) {\n\n  const classes = useStyles();\n\n  return (\n    <div className={classes.root}>\n      <TableContainer className={classes.container}>\n        <Table stickyHeader aria-label=\"sticky table\">\n          <TableHead>\n            <TableRow>\n              <TableCell>Codigo barras</TableCell>\n              <TableCell>Clave alterna</TableCell>\n              <TableCell>Nombre comercial</TableCell>\n              <TableCell>Existencia</TableCell>\n              <TableCell>Tipo</TableCell>\n              <TableCell>Información</TableCell>\n              <TableCell>Editar</TableCell>\n              <TableCell>Descuento</TableCell>\n              <TableCell>Eliminar</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody className=\"hide-scroll\">\n            {obtenerProductos.map((producto, index) => {\n              return (\n                <RenderTableRows\n                  key={index}\n                  producto={producto}\n                  productosRefetch={productosRefetch}\n                />\n              );\n            })}\n          </TableBody>\n        </Table>\n      </TableContainer>\n    </div>\n  );\n}\n\nconst RenderTableRows = ({ producto, productosRefetch }) => {\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n\n  return (\n    <Fragment>\n      <TableRow hover>\n        <TableCell>{producto.datos_generales.codigo_barras}</TableCell>\n        <TableCell>{producto.datos_generales.clave_alterna}</TableCell>\n        <TableCell>{producto.datos_generales.nombre_comercial}</TableCell>\n        <TableCell align=\"center\" padding=\"checkbox\">\n          {producto.inventario_general.map(\n            (existencia) =>\n              `${existencia.cantidad_existente} ${existencia.unidad_inventario}`\n          )}\n        </TableCell>\n        <TableCell>{producto.datos_generales.tipo_producto}</TableCell>\n        <TableCell align=\"center\" padding=\"checkbox\">\n          <InfoProductoDrawer producto={producto} />\n        </TableCell>\n        <TableCell align=\"center\" padding=\"checkbox\">\n          {sesion.accesos.catalogos.productos.editar === false ? (null):(\n            <CrearProducto\n              accion={true}\n              datos={producto}\n              productosRefetch={productosRefetch}\n            />\n          )}\n        </TableCell>\n        <TableCell align=\"center\" padding=\"checkbox\">\n          <DescuentoProductos\n            datos={producto}\n            productosRefetch={productosRefetch}\n          />\n        </TableCell>\n        <TableCell align=\"center\" padding=\"checkbox\">\n          {sesion.accesos.catalogos.productos.agregar === false ? (null):(\n            <EliminarProducto\n              datos={producto}\n              productosRefetch={productosRefetch}\n            />\n          )}\n        </TableCell>\n      </TableRow>\n    </Fragment>\n  );\n};\n","import React, { useState, forwardRef, useEffect, useContext } from 'react';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Slide from '@material-ui/core/Slide';\nimport { RestoreFromTrash, Publish } from '@material-ui/icons';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport { Box, IconButton, CircularProgress, Typography } from '@material-ui/core';\nimport { Fragment } from 'react';\nimport ErrorPage from '../../../../components/ErrorPage';\nimport { ACTIVAR_PRODUCTOS, PRODUCTOS_ELIMINADOS } from '../../../../gql/Catalogos/productos';\nimport { useMutation, useQuery } from '@apollo/client';\n/* import SnackBarMessages from '../../../../components/SnackBarMessages'; */\nimport { RegProductoContext } from '../../../../context/Catalogos/CtxRegProducto';\n\nconst Transition = forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function ProdcutosEliminados({productosActivosRefetch}) {\n\tconst [ open, setOpen ] = useState(false);\n\n\tconst handleModalToggle = () => setOpen(!open);\n\n\treturn (\n\t\t<div>\n\t\t\t<Button disableElevation color=\"primary\" onClick={handleModalToggle} size=\"large\" startIcon={<RestoreFromTrash />}>\n\t\t\t\tProductos inactivos\n\t\t\t</Button>\n\t\t\t<Dialog\n\t\t\t\topen={open}\n\t\t\t\tTransitionComponent={Transition}\n\t\t\t\tkeepMounted\n\t\t\t\tonClose={handleModalToggle}\n\t\t\t\taria-labelledby=\"dialog-productos-eliminados\"\n\t\t\t\tmaxWidth=\"md\"\n\t\t\t\tfullWidth\n\t\t\t>\n\t\t\t\t<DialogTitle id=\"dialog-productos-eliminados\">{'Productos inactivos'}</DialogTitle>\n\t\t\t\t<DialogContent>\n\t\t\t\t\t<TablaProductosEliminados productosActivosRefetch={productosActivosRefetch} />\n\t\t\t\t</DialogContent>\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Button variant=\"contained\" onClick={handleModalToggle} color=\"primary\" size=\"large\">\n\t\t\t\t\t\tCerrar\n\t\t\t\t\t</Button>\n\t\t\t\t</DialogActions>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n}\n\nconst TablaProductosEliminados = ({productosActivosRefetch}) => {\n\tconst sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\tconst { actualizarLista } = useContext(RegProductoContext);\n\n\t/* Queries */\n\tconst { loading, data, error, refetch } = useQuery(PRODUCTOS_ELIMINADOS, {\n\t\tvariables: { sucursal: sesion.sucursal._id, empresa: sesion.empresa._id }\n\t});\n\n\tuseEffect(() => {\n\t\trefetch();\n\t}, [ refetch, actualizarLista ]);\n\n\tif (loading)\n\t\treturn (\n\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" height=\"30vh\">\n\t\t\t\t<CircularProgress />\n\t\t\t</Box>\n\t\t);\n\tif (error) {\n\t\treturn <ErrorPage error={error} />;\n\t}\n\n\tif (!loading && !error && !data) {\n\t\treturn (\n\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" height=\"30vh\">\n\t\t\t\t<Typography variant=\"h6\">No hay productos inactivos</Typography>\n\t\t\t</Box>\n\t\t);\n\t}\n\n\tconst { obtenerProductosInactivos } = data;\n\n\treturn (\n\t\t<Box height=\"60vh\">\n\t\t\t<TableContainer>\n\t\t\t\t<Table aria-label=\"simple table\" size=\"small\">\n\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t<TableCell align=\"left\">Código de barras</TableCell>\n\t\t\t\t\t\t\t<TableCell align=\"left\">Clave alterna</TableCell>\n\t\t\t\t\t\t\t<TableCell>Nombre comercial</TableCell>\n\t\t\t\t\t\t\t<TableCell align=\"right\">Reactivar</TableCell>\n\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t</TableHead>\n\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t{obtenerProductosInactivos.map((producto, index) => (\n\t\t\t\t\t\t\t<RenderProductosTabla key={index} datos={producto} refetch={refetch} productosActivosRefetch={productosActivosRefetch} />\n\t\t\t\t\t\t))}\n\t\t\t\t\t</TableBody>\n\t\t\t\t</Table>\n\t\t\t</TableContainer>\n\t\t</Box>\n\t);\n};\n\nconst RenderProductosTabla = ({ datos, refetch, productosActivosRefetch }) => {\n\tconst [ open, setOpen ] = useState(false);\n\tconst [ loading, setLoading ] = useState(false);\n\tconst { datos_generales } = datos.producto;\n    /* const [ alert, setAlert ] = useState({ message: '', status: '', open: false }); */\n\tconst { setAlert } = useContext(RegProductoContext);\n\n    const [ activarProducto ] = useMutation(ACTIVAR_PRODUCTOS);\n\n\tconst handleDeleteToggle = () => setOpen(!open);\n\n\tconst reactivarProducto = async () => {\n\t\tsetLoading(true);\n\t\ttry {\n\t\t\tconst result = await activarProducto({\n\t\t\t\tvariables: {\n\t\t\t\t\tid: datos._id\n\t\t\t\t}\n\t\t\t});\n            refetch();\n\t\t\tproductosActivosRefetch();\n\t\t\tsetAlert({ message: `¡Listo! ${result.data.activarProducto.message}`, status: 'success', open: true });\n\t\t\tsetLoading(false);\n\t\t\thandleDeleteToggle();\n\t\t} catch (error) {\n\t\t\tsetAlert({ message: `Error: ${error.message}`, status: 'error', open: true });\n\t\t\tsetLoading(false);\n\t\t}\n\t};\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<TableRow>\n\t\t\t\t<TableCell align=\"left\">{datos_generales.codigo_barras}</TableCell>\n\t\t\t\t<TableCell align=\"left\">{datos_generales.clave_alterna}</TableCell>\n\t\t\t\t<TableCell>{datos_generales.nombre_comercial}</TableCell>\n\t\t\t\t<TableCell align=\"right\">\n\t\t\t\t\t{loading ? (\n\t\t\t\t\t\t<IconButton color=\"primary\" disabled onClick={handleDeleteToggle}>\n\t\t\t\t\t\t\t<CircularProgress size={26} />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<IconButton color=\"primary\" onClick={handleDeleteToggle}>\n\t\t\t\t\t\t\t<Publish />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t)}\n\t\t\t\t</TableCell>\n\t\t\t</TableRow>\n\t\t\t<Dialog open={open} onClose={handleDeleteToggle} aria-labelledby=\"reactivar-producto-dialog\">\n\t\t\t\t<DialogTitle id=\"reactivar-producto-dialog\">{'Se reactivará este producto'}</DialogTitle>\n\t\t\t\t{/* <SnackBarMessages alert={alert} setAlert={setAlert} />        */}  \n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Button onClick={handleDeleteToggle} color=\"inherit\">\n\t\t\t\t\t\tCancelar\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button onClick={() => reactivarProducto()} color=\"primary\" autoFocus>\n\t\t\t\t\t\tAceptar\n\t\t\t\t\t</Button>\n\t\t\t\t</DialogActions>\n\t\t\t</Dialog>\n\t\t</Fragment>\n\t);\n};\n","import React, { useContext, useState } from \"react\";\nimport Slide from \"@material-ui/core/Slide\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport Button from \"@material-ui/core/Button\";\nimport Tabs from \"@material-ui/core/Tabs\";\nimport Tab from \"@material-ui/core/Tab\";\nimport Box from \"@material-ui/core/Box\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport OutlinedInput from \"@material-ui/core/OutlinedInput\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport CrearProducto from \"./crearProducto\";\nimport ListaProductos from \"./ListaProductos\";\nimport { RegProductoContext } from \"../../../../context/Catalogos/CtxRegProducto\";\nimport { useQuery } from \"@apollo/client\";\nimport { OBTENER_PRODUCTOS } from \"../../../../gql/Catalogos/productos\";\nimport ErrorPage from \"../../../../components/ErrorPage\";\nimport { Search, Close, ArrowBack } from \"@material-ui/icons\";\nimport ProductosEliminados from \"./ProductosEliminados\";\nimport SnackBarMessages from \"../../../../components/SnackBarMessages\";\nimport { makeStyles } from \"@material-ui/core\";\n\nconst useStyles = makeStyles((theme) => ({\n  appBar: {\n    position: \"relative\",\n  },\n  title: {\n    marginLeft: theme.spacing(2),\n    flex: 1,\n  },\n  icon: {\n    fontSize: 100,\n  },\n  iconSvg: {\n    width: 100,\n  },\n  root: {\n    flexGrow: 1,\n    backgroundColor: theme.palette.background.paper,\n  },\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function Productos() {\n  const classes = useStyles();\n  const [open, setOpen] = React.useState(false);\n  const { alert, setAlert } = useContext(RegProductoContext);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  return (\n    <div>\n      <Button fullWidth onClick={() => handleClickOpen()}>\n        <Box display=\"flex\" flexDirection=\"column\">\n          <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n            <img\n              src=\"https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/productos.svg\"\n              alt=\"icono ropa\"\n              className={classes.iconSvg}\n            />\n          </Box>\n          Productos\n        </Box>\n      </Button>\n      <SnackBarMessages alert={alert} setAlert={setAlert} />\n      <Dialog\n        fullScreen\n        open={open}\n        onClose={handleClose}\n        TransitionComponent={Transition}\n      >\n        <AppBar className={classes.appBar}>\n          <Toolbar>\n            <Typography variant=\"h6\" className={classes.title}>\n              Productos\n            </Typography>\n\n            <Box m={1}>\n              <Button\n                variant=\"contained\"\n                color=\"secondary\"\n                onClick={handleClose}\n                size=\"large\"\n              >\n                <CloseIcon style={{ fontSize: 30 }} />\n              </Button>\n            </Box>\n          </Toolbar>\n        </AppBar>\n        <RegistroComponent />\n      </Dialog>\n    </div>\n  );\n}\n\nconst RegistroComponent = () => {\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n  const [filtro, setFiltro] = useState(\"\");\n  const [busqueda, setBusqueda] = useState(\"\");\n  const [existencias, setExistencias] = useState(true);\n  const [value, setValue] = useState(0);\n  const classes = useStyles();\n\n  const handleChange = (event, value) => {\n    setValue(value);\n    if (value === 0) {\n      setExistencias(true);\n    } else {\n      setExistencias(false);\n    }\n  };\n\n  /* Queries */\n  const { loading, data, error, refetch } = useQuery(OBTENER_PRODUCTOS, {\n    variables: {\n      sucursal: sesion.sucursal._id,\n      empresa: sesion.empresa._id,\n      filtro,\n      existencias,\n    },\n    fetchPolicy: \"network-only\",\n  });\n\n  if (loading)\n    return (\n      <Box\n        display=\"flex\"\n        justifyContent=\"center\"\n        alignItems=\"center\"\n        height=\"30vh\"\n      >\n        <CircularProgress />\n      </Box>\n    );\n  if (error) {\n    return <ErrorPage error={error} />;\n  }\n\n  const { obtenerProductos } = data;\n\n  const filtrarProductos = (event) => {\n    event.preventDefault();\n    if (busqueda === \"\") {\n      setFiltro(\"\");\n      refetch({ filtro: \"\" });\n      return;\n    }\n    setFiltro(busqueda);\n  };\n\n  const reload = () => {\n    setBusqueda(\"\");\n    setFiltro(\"\");\n    refetch({ filtro: \"\" });\n  };\n\n  return (\n    <div>\n      <Box mx={4} my={3} display=\"flex\">\n        <Box style={{ width: \"500px\" }}>\n          <form\n            onSubmit={filtrarProductos}\n            style={{ display: \"flex\", alignItems: \"center\" }}\n          >\n            <FormControl variant=\"outlined\" fullWidth size=\"small\">\n              <OutlinedInput\n                id=\"search-producto\"\n                type=\"text\"\n                value={busqueda}\n                onChange={(e) => setBusqueda(e.target.value)}\n                endAdornment={\n                  <InputAdornment position=\"start\">\n                    <IconButton\n                      type=\"submit\"\n                      aria-label=\"search producto\"\n                      edge=\"end\"\n                    >\n                      <Search />\n                    </IconButton>\n                  </InputAdornment>\n                }\n              />\n            </FormControl>\n            {filtro !== \"\" ? (\n              <IconButton color=\"primary\" onClick={() => reload()}>\n                <ArrowBack />\n              </IconButton>\n            ) : null}\n          </form>\n        </Box>\n\n        <Box flexGrow={1} />\n        <Box display=\"flex\">\n          <ProductosEliminados productosActivosRefetch={refetch} />\n          <Box mx={1} />\n          {sesion.accesos.catalogos.productos.agregar === false ? null : (\n            <CrearProducto accion={false} productosRefetch={refetch} />\n          )}\n        </Box>\n      </Box>\n      <Box mx={4}>\n        <div className={classes.root}>\n          <Tabs\n            indicatorColor=\"primary\"\n            value={value}\n            onChange={handleChange}\n            aria-label=\"simple tabs example\"\n          >\n            <Tab label=\"Productos de Sucursal\" />\n            <Tab label=\"Todos los productos\" />\n          </Tabs>\n        </div>\n        <ListaProductos\n          obtenerProductos={obtenerProductos}\n          productosRefetch={refetch}\n        />\n      </Box>\n    </div>\n  );\n};\n","import React from 'react'\nimport { RegProductoProvider } from '../../../../context/Catalogos/CtxRegProducto'\nimport Productos from './Productos'\n \nexport default function ProductoIndex(){\n\n    return (\n        <RegProductoProvider>\n            <Productos />\n        </RegProductoProvider>\n    )\n}","import React, { useEffect, useState, Fragment } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TablePagination from '@material-ui/core/TablePagination';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport { Box, Button, Dialog, DialogActions, DialogTitle, IconButton, TextField, Typography } from '@material-ui/core';\nimport { Close, Delete, Edit } from '@material-ui/icons';\n\nimport { useMutation } from '@apollo/client';\nimport { ELIMINAR_TALLA } from '../../../../gql/Catalogos/tallas';\nimport SnackBarMessages from '../../../../components/SnackBarMessages';\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n\t\twidth: '100%'\n\t},\n\tpaper: {\n\t\twidth: '100%',\n\t\tmarginBottom: theme.spacing(2)\n\t}\n}));\n\nexport default function TablaTallas({ tipo, datos, toUpdate, setToUpdate, setValue, refetch }) {\n\tconst sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\n\tconst classes = useStyles();\n\tconst [ page, setPage ] = useState(0);\n\tconst [ rowsPerPage, setRowsPerPage ] = useState(7);\n\tconst [ busqueda, setBusqueda ] = useState('');\n\tconst [ productosFiltrados, setProductosFiltrados ] = useState([]);\n\tconst [ alert, setAlert ] = useState({\n\t\tstatus: '',\n\t\tmessage: '',\n\t\topen: false\n\t});\n\n\tconst handleChangePage = (event, newPage) => {\n\t\tsetPage(newPage);\n\t};\n\n\tconst handleChangeRowsPerPage = (event) => {\n\t\tsetRowsPerPage(parseInt(event.target.value, 10));\n\t\tsetPage(0);\n\t};\n\n\tuseEffect(\n\t\t() => {\n\t\t\tsetProductosFiltrados(\n\t\t\t\tdatos.filter((datos) => {\n\t\t\t\t\treturn datos.talla.toLowerCase().includes(busqueda.toLowerCase());\n\t\t\t\t})\n\t\t\t);\n\t\t},\n\t\t[ busqueda, datos ]\n\t);\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<SnackBarMessages alert={alert} setAlert={setAlert} />\n\t\t\t<Paper className={classes.paper}>\n\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tplaceholder=\"Buscar...\"\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tonChange={(e) => setBusqueda(e.target.value)}\n\t\t\t\t\t/>\n\t\t\t\t</Box>\n\t\t\t\t<TableContainer>\n\t\t\t\t\t<Table\n\t\t\t\t\t\tclassName={classes.table}\n\t\t\t\t\t\taria-labelledby=\"tableTitle\"\n\t\t\t\t\t\tsize=\"medium\"\n\t\t\t\t\t\taria-label=\"enhanced table\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t<TableCell>{tipo === 'ROPA' ? 'Talla' : 'Número'}</TableCell>\n\t\t\t\t\t\t\t\t{sesion.accesos.catalogos.tallas_numeros.editar === false ? (null) : (\n\t\t\t\t\t\t\t\t\t<TableCell padding=\"default\">Editar</TableCell>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t{sesion.accesos.catalogos.tallas_numeros.eliminar === false ? (null) : (\n\t\t\t\t\t\t\t\t\t<TableCell padding=\"default\">Eliminar</TableCell>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t</TableHead>\n\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t{productosFiltrados\n\t\t\t\t\t\t\t\t.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\n\t\t\t\t\t\t\t\t.map((row, index) => (\n\t\t\t\t\t\t\t\t\t<RowsRender key={index} row={row} setAlert={setAlert} tipo={tipo} toUpdate={toUpdate} setToUpdate={setToUpdate} setValue={setValue} refetch={refetch} />\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t</Table>\n\t\t\t\t</TableContainer>\n\t\t\t\t<TablePagination\n\t\t\t\t\trowsPerPageOptions={[]}\n\t\t\t\t\tcomponent=\"div\"\n\t\t\t\t\tcount={datos.length}\n\t\t\t\t\trowsPerPage={rowsPerPage}\n\t\t\t\t\tpage={page}\n\t\t\t\t\tonChangePage={handleChangePage}\n\t\t\t\t\tonChangeRowsPerPage={handleChangeRowsPerPage}\n\t\t\t\t/>\n\t\t\t</Paper>\n\t\t</div>\n\t);\n}\n\nconst RowsRender = ({ row, setAlert, tipo, toUpdate, setToUpdate, setValue, refetch }) => {\n\tconst sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\n\tconst [ openModal, setOpenModal ] = useState(false);\n\tconst handleModal = () => setOpenModal(!openModal);\n\tconst [ eliminarTalla ] = useMutation(ELIMINAR_TALLA);\n\n \n\tconst handleDelete = async () => {\n\t\n\t\ttry {\n\t\t\tconst resp = await eliminarTalla({\n\t\t\t\tvariables: {\n\t\t\t\t\tid: row._id,\n\t\t\t\t\tinput:{\n\t\t\t\t\t\ttipo:tipo,\n\t\t\t\t\t\ttalla:''\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\n\t\t\tlet msgAlert = { message: resp.data.eliminarTalla.message, status: 'success', open: true }\n\t\t\tsetAlert(msgAlert);\n\t\t\trefetch();\n\t\t\thandleModal();\n\t\t} catch (error) {\n\t\t\t\thandleModal();\n\t\t\tsetAlert({ message: error.message, status: 'error', open: true });\n\t\t}\n\t};\n\n\tconst onUpdate = (dato) => {\n\t\tif(!dato){\n\t\t\tsetToUpdate('');\n\t\t\tsetValue('');\n\t\t\treturn\n\t\t}\n\t\tsetToUpdate(dato._id);\n\t\tsetValue(dato.talla);\n\t};\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<TableRow hover role=\"checkbox\" tabIndex={-1} selected={toUpdate === row._id ? true : false}>\n\t\t\t\t<TableCell>\n\t\t\t\t\t<Typography>\n\t\t\t\t\t\t<b>{row.talla}</b>\n\t\t\t\t\t</Typography>\n\t\t\t\t</TableCell>\n\t\t\t\t{sesion.accesos.catalogos.tallas_numeros.editar === false ? (null) : (\n\t\t\t\t\t<TableCell padding=\"checkbox\">\n\t\t\t\t\t\t{toUpdate === row._id ? (\n\t\t\t\t\t\t\t<IconButton onClick={() => onUpdate()}>\n\t\t\t\t\t\t\t\t<Close />\n\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<IconButton onClick={() => onUpdate(row)}>\n\t\t\t\t\t\t\t\t<Edit />\n\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</TableCell>\n\t\t\t\t)}\n\t\t\t\t{sesion.accesos.catalogos.tallas_numeros.eliminar === false ? (null) : (\n\t\t\t\t\t<TableCell padding=\"checkbox\">\n\t\t\t\t\t\t<Modal handleModal={handleModal} openModal={openModal} handleDelete={handleDelete} />\n\t\t\t\t\t</TableCell>\n\t\t\t\t)}\n\t\t\t</TableRow>\n\t\t</Fragment>\n\t);\n};\n\nconst Modal = ({ handleModal, openModal, handleDelete }) => {\n\treturn (\n\t\t<div>\n\t\t\t<IconButton color=\"secondary\" onClick={handleModal}>\n\t\t\t\t<Delete />\n\t\t\t</IconButton>\n\t\t\t<Dialog open={openModal} onClose={handleModal}>\n\t\t\t\t<DialogTitle>{'¿Seguro que quieres eliminar esto?'}</DialogTitle>\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Button onClick={handleModal} color=\"primary\">\n\t\t\t\t\t\tCancelar\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button color=\"secondary\" autoFocus variant=\"contained\" onClick={handleDelete}>\n\t\t\t\t\t\tEliminar\n\t\t\t\t\t</Button>\n\t\t\t\t</DialogActions>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n};\n","import React, { useState } from 'react';\nimport { Box, Button, TextField, CircularProgress } from '@material-ui/core';\nimport { Add } from '@material-ui/icons';\nimport TablaTallas from './ListaTallas';\nimport SnackBarMessages from '../../../../components/SnackBarMessages';\nimport ErrorPage from '../../../../components/ErrorPage';\n\nimport { useQuery, useMutation } from '@apollo/client';\nimport { OBTENER_TALLAS, CREAR_TALLAS, ACTUALIZAR_TALLA } from '../../../../gql/Catalogos/tallas';\nimport { cleanTypenames } from '../../../../config/reuserFunctions';\n\nexport default function RegistroTallas({ tipo }) {\n\tconst [ value, setValue ] = useState('');\n\tconst [ toUpdate, setToUpdate ] = useState('');\n\tconst [ alert, setAlert ] = useState({ message: '', status: '', open: false });\n\tconst sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\n\t/* Queries */\n\tconst { loading, data, error, refetch } = useQuery(OBTENER_TALLAS, {\n\t\tvariables: { sucursal: sesion.sucursal._id, tipo }\n\t});\n\t/* Mutations */\n\tconst [ crearTalla ] = useMutation(CREAR_TALLAS);\n\tconst [ actualizarTalla ] = useMutation(ACTUALIZAR_TALLA);\n\n\tif (loading)\n\t\treturn (\n\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" height=\"30vh\">\n\t\t\t\t<CircularProgress />\n\t\t\t</Box>\n\t\t);\n\tif (error) {\n\t\treturn <ErrorPage error={error} />;\n\t}\n\n\tconst { obtenerTallas } = data;\n\n\tconst GuardarDatosBD = async () => {\n\t\tlet resp;\n\t\tif (!value) {\n\t\t\treturn;\n\t\t}\n\t\ttry {\n\t\t\tconst nueva_talla = value;\n\t\t\tif(toUpdate){\n\t\t\t\tif (sesion.accesos.catalogos.tallas_numeros.editar === false ) {\n\t\t\t\t\treturn setAlert({ message: 'Lo sentimos no tienes autorización para esta acción', status: 'error', open: true });\n\t\t\t\t}else{\n\t\t\t\t\tconst talla_actualizada = cleanTypenames(nueva_talla);\n\t\t\t\t\tresp = await actualizarTalla({\n\t\t\t\t\t\tvariables: {\n\t\t\t\t\t\t\tinput: {\n\t\t\t\t\t\t\t\ttalla: talla_actualizada,\n\t\t\t\t\t\t\t\ttipo\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tid: toUpdate\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tif (sesion.accesos.catalogos.tallas_numeros.agregar === false ) {\n\t\t\t\t\treturn setAlert({ message: 'Lo sentimos no tienes autorización para esta acción', status: 'error', open: true });\n\t\t\t\t}else{\n\t\t\t\t\tresp = await crearTalla({\n\t\t\t\t\t\tvariables: {\n\t\t\t\t\t\t\tinput: {\n\t\t\t\t\t\t\t\ttalla: nueva_talla,\n\t\t\t\t\t\t\t\ttipo,\n\t\t\t\t\t\t\t\tempresa: sesion.empresa._id,\n\t\t\t\t\t\t\t\tsucursal: sesion.sucursal._id\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t\trefetch();\n\t\t\tsetValue('');\n\t\t\tsetToUpdate('');\n\t\t\tlet msgAlert = (toUpdate) ? { message: resp.data.actualizarTalla.message, status: 'success', open: true }:{ message: resp.data.crearTalla.message, status: 'success', open: true }\n\t\t\tsetAlert(msgAlert);\n\t\t\t\n\t\t} catch (error) {\n\t\t\tsetAlert({ message: 'Hubo un error', status: 'error', open: true });\n\t\t}\n\t};\n\n\treturn (\n\t\t<Box>\n\t\t\t<SnackBarMessages alert={alert} setAlert={setAlert} />\n\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" my={2}>\n\t\t\t\t<TextField\n\t\t\t\t\tid=\"outlined-error-helper-text\"\n\t\t\t\t\tlabel={tipo === 'ROPA' ? 'Talla' : 'Número'}\n\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\tsize=\"small\"\n\t\t\t\t\tvalue={value}\n\t\t\t\t\tonChange={(e) => setValue(e.target.value.toUpperCase())}\n\t\t\t\t/>\n\t\t\t\t<Box ml={1} />\n\t\t\t\t<Button color=\"primary\" variant=\"contained\" size=\"large\" disableElevation onClick={GuardarDatosBD}>\n\t\t\t\t\t<Add />Guardar\n\t\t\t\t</Button>\n\t\t\t</Box>\n\t\t\t<TablaTallas datos={obtenerTallas} tipo={tipo} toUpdate={toUpdate} setToUpdate={setToUpdate} setValue={setValue} refetch={refetch} />\n\t\t</Box>\n\t);\n}\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport CloseIcon from '@material-ui/icons/Close';\nimport Slide from '@material-ui/core/Slide';\nimport { Box, Container, Tab, Tabs } from '@material-ui/core';\nimport RegistroTallas from './RegistroTallas';\n\nfunction TabPanel(props) {\n\tconst { children, value, index, ...other } = props;\n\n\treturn (\n\t\t<div\n\t\t\trole=\"tabpanel\"\n\t\t\thidden={value !== index}\n\t\t\tid={`scrollable-force-tabpanel-${index}`}\n\t\t\taria-labelledby={`scrollable-force-tab-${index}`}\n\t\t\t{...other}\n\t\t>\n\t\t\t{value === index && (\n\t\t\t\t<Box p={2} my={1} minHeight=\"50vh\">\n\t\t\t\t\t{children}\n\t\t\t\t</Box>\n\t\t\t)}\n\t\t</div>\n\t);\n}\n\nTabPanel.propTypes = {\n\tchildren: PropTypes.node,\n\tindex: PropTypes.any.isRequired,\n\tvalue: PropTypes.any.isRequired\n};\n\nfunction a11yProps(index) {\n\treturn {\n\t\tid: `scrollable-force-tab-${index}`,\n\t\t'aria-controls': `scrollable-force-tabpanel-${index}`\n\t};\n}\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n\t\tflexGrow: 1,\n\t\twidth: '100%',\n\t\theight: '100vh',\n\t\tbackgroundColor: theme.palette.background.paper\n\t},\n\tappBar: {\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n\ticonSvg: {\n\t\twidth: 100\n\t},\n\ticon: {\n\t\tfontSize: 100\n\t},\n\ticonSvgSecondary: {\n\t\twidth: 50\n\t}\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function Tallas() {\n\tconst classes = useStyles();\n\tconst [ open, setOpen ] = useState(false);\n\tconst [ value, setValue ] = useState(0);\n\n\tconst handleChange = (event, newValue) => setValue(newValue);\n\n\tconst handleClickOpen = () => setOpen(!open);\n\n\treturn (\n\t\t<div>\n\t\t\t<Button fullWidth onClick={handleClickOpen}>\n\t\t\t\t<Box display=\"flex\" flexDirection=\"column\">\n\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t<img src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/tallas.svg' alt=\"icono ropa\" className={classes.iconSvg} />\n\t\t\t\t\t</Box>\n\t\t\t\t\tTallas y numeros\n\t\t\t\t</Box>\n\t\t\t</Button>\n\t\t\t<Dialog fullScreen open={open} onClose={handleClickOpen} TransitionComponent={Transition}>\n\t\t\t\t<AppBar className={classes.appBar}>\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t<Typography variant=\"h6\" className={classes.title}>\n\t\t\t\t\t\t\tRopa\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Box m={1}>\n\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"secondary\" onClick={handleClickOpen} size=\"large\">\n\t\t\t\t\t\t\t\t<CloseIcon style={{fontSize: 30}} />\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</AppBar>\n\t\t\t\t<div className={classes.root}>\n\t\t\t\t\t<Box>\n\t\t\t\t\t\t<AppBar position=\"static\" color=\"default\" elevation={0}>\n\t\t\t\t\t\t\t<Tabs\n\t\t\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\tindicatorColor=\"primary\"\n\t\t\t\t\t\t\t\ttextColor=\"primary\"\n\t\t\t\t\t\t\t\tcentered\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Tab\n\t\t\t\t\t\t\t\t\tlabel=\"Tallas\"\n\t\t\t\t\t\t\t\t\ticon={\n\t\t\t\t\t\t\t\t\t\t<img src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/shirt.svg' alt=\"icono tallas\" className={classes.iconSvgSecondary} />\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t{...a11yProps(0)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<Tab\n\t\t\t\t\t\t\t\t\tlabel=\"Numeros\"\n\t\t\t\t\t\t\t\t\ticon={\n\t\t\t\t\t\t\t\t\t\t<img src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/shoes.svg' alt=\"icono numeros\" className={classes.iconSvgSecondary} />\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t{...a11yProps(1)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Tabs>\n\t\t\t\t\t\t</AppBar>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<TabPanel value={value} index={0}>\n\t\t\t\t\t\t\t\t<Container maxWidth=\"xs\">\n\t\t\t\t\t\t\t\t\t<RegistroTallas tipo=\"ROPA\" />\n\t\t\t\t\t\t\t\t</Container>\n\t\t\t\t\t\t\t</TabPanel>\n\t\t\t\t\t\t\t<TabPanel value={value} index={1}>\n\t\t\t\t\t\t\t\t<Container maxWidth=\"xs\">\n\t\t\t\t\t\t\t\t\t<RegistroTallas tipo=\"CALZADO\" />\n\t\t\t\t\t\t\t\t</Container>\n\t\t\t\t\t\t\t</TabPanel>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Box>\n\t\t\t\t</div>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n}\n","import { gql } from '@apollo/client';\n\nexport const OBTENER_CONTABILIDAD = gql`\n    query obtenerContabilidad($empresa: ID!, $sucursal: ID!){\n        obtenerContabilidad(empresa: $empresa, sucursal: $sucursal){\n                _id\n            nombre_servicio\n            empresa{\n                _id\n                nombre_empresa\n            }\n                sucursal{\n                _id\n                nombre_sucursal\n            }\n        }\n    }\n`;\n\nexport const REGISTRAR_CONTABILIDAD = gql`\n    mutation CrearContabilidad($input: ContabilidadInput, $empresa: ID!, $sucursal: ID!, $usuario: ID!){\n        crearContabilidad(input:$input,empresa:$empresa,sucursal:$sucursal, usuario:$usuario){\n            message\n        }\n    }\n`;\n\nexport const ACTUALIZAR_CONTABILIDAD = gql`\n    mutation ActualizarContabilidad($input: ContabilidadInput, $id: ID!){\n        actualzarContabilidad(input: $input, id: $id){\n            message\n        }\n    }\n`;\n\nexport const ELIMINAR_CONTABILIDAD = gql`\n    mutation EliminarContabilidad($id: ID!){\n        eliminarContabilidad(id: $id){\n            message\n        }\n    }\n`;","import React, { useState, useEffect } from 'react';\nimport { \n\tBox,\n\tCircularProgress,\n\tTable,\n\tTableBody,\n\tTableCell,\n\tTableContainer,\n\tTableHead,\n\tTablePagination,\n\tTableRow,\n\tPaper,\n\tmakeStyles,\n\tDialog,\n\tDialogTitle,\n\tDialogActions,\n\tButton\n} from '@material-ui/core';\n\nimport { IconButton } from '@material-ui/core';\nimport { Delete, Edit } from '@material-ui/icons';\n\nimport { useQuery, useMutation } from '@apollo/client';\nimport { OBTENER_CONTABILIDAD, ELIMINAR_CONTABILIDAD } from '../../../../gql/Catalogos/contabilidad';\nimport ErrorPage from '../../../../components/ErrorPage';\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n\t\twidth: '100%'\n\t},\n\tpaper: {\n\t\twidth: '100%',\n\t\tmarginBottom: theme.spacing(2)\n\t}\n}));\n\nexport default function TablaServicios({setData, setIdService, idService, setAccion, updateData, setAlert}) {\n\tconst classes = useStyles();\n\tconst [ page, setPage ] = useState(0);\n\tconst [ rowsPerPage, setRowsPerPage ] = useState(10);\n\tconst sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\tconst [ openModal, setOpenModal ] = useState(false);\n\tconst handleModal = () => setOpenModal(!openModal);\n\n\tconst handleChangePage = (event, newPage) => {\n\t\tsetPage(newPage);\n\t};\n\tlet obtenerContabilidad= [];\n\n\tconst { loading, data, error, refetch } = useQuery(OBTENER_CONTABILIDAD,{\n\t\tvariables: {\n\t\t\tempresa: sesion.empresa._id,\n\t\t\tsucursal: sesion.sucursal._id\n\t\t}\n\t});\n\tconst [ EliminarContabilidad ] = useMutation(ELIMINAR_CONTABILIDAD);\n\n\tuseEffect(\n\t\t() => {\n\t\t\trefetch();\n\t\t},\n\t\t[ updateData, refetch ]\n\t);\n\n\tif(data){\n\t\tobtenerContabilidad = data.obtenerContabilidad;\n\t}\n\n\tconst handleChangeRowsPerPage = (event) => {\n\t\tsetRowsPerPage(parseInt(event.target.value, 10));\n\t\tsetPage(0);\n\t};\n\n\tconst handleDelete = async () => {\n\t\ttry {\n\t\t\tawait EliminarContabilidad({\n\t\t\t\tvariables: {\n\t\t\t\t\tid: idService\n\t\t\t\t}\n\t\t\t});\n\t\t\trefetch();\n\t\t\tsetAlert({ message: '¡Listo!', status: 'success', open: true });\n\t\t\thandleModal();\n\t\t\tsetIdService(\"\");\n\t\t} catch (error) {\n\t\t\tsetAlert({ message: error.message, status: 'error', open: true });\n\t\t}\n\t};\n\n\tif (error) {\n\t\treturn <ErrorPage error={error} />;\n\t}\n\n\tif (loading){\n\t\treturn (\n\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" height=\"30vh\">\n\t\t\t\t<CircularProgress />\n\t\t\t</Box>\n\t\t);\n\t}\n\t\t\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Paper className={classes.paper}>\n\t\t\t\t<TableContainer>\n\t\t\t\t\t<Table\n\t\t\t\t\t\tclassName={classes.table}\n\t\t\t\t\t\taria-labelledby=\"tableTitle\"\n\t\t\t\t\t\tsize=\"medium\"\n\t\t\t\t\t\taria-label=\"enhanced table\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t<TableCell>Servicios</TableCell>\n\t\t\t\t\t\t\t\t{sesion.accesos.catalogos.contabilidad.editar === false ? (null):(\n\t\t\t\t\t\t\t\t\t<TableCell padding=\"default\">Editar</TableCell>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t{sesion.accesos.catalogos.contabilidad.eliminar === false ? (null):(\n\t\t\t\t\t\t\t\t\t<TableCell padding=\"default\">Eliminar</TableCell>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t</TableHead>\n\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t{obtenerContabilidad?.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)?.map((row, index) => {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<TableRow hover role=\"checkbox\" tabIndex={-1} key={row._id}>\n\t\t\t\t\t\t\t\t\t\t<TableCell>{row.nombre_servicio}</TableCell>\n\t\t\t\t\t\t\t\t\t\t{sesion.accesos.catalogos.contabilidad.editar === false ? (null):(\n\t\t\t\t\t\t\t\t\t\t\t<TableCell padding=\"checkbox\">\n\t\t\t\t\t\t\t\t\t\t\t\t<IconButton onClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetAccion(false)\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetIdService(row._id)\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetData({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tnombre_servicio: row.nombre_servicio\n\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Edit />\n\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t{sesion.accesos.catalogos.contabilidad.eliminar === false ? (null):(\n\t\t\t\t\t\t\t\t\t\t\t<TableCell padding=\"checkbox\">\n\t\t\t\t\t\t\t\t\t\t\t\t<IconButton onClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetIdService(row._id);\n\t\t\t\t\t\t\t\t\t\t\t\t\thandleModal();\n\t\t\t\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Delete />\n\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t</Table>\n\t\t\t\t</TableContainer>\n\t\t\t\t<TablePagination\n\t\t\t\t\trowsPerPageOptions={[]}\n\t\t\t\t\tcomponent=\"div\"\n\t\t\t\t\tcount={obtenerContabilidad.length}\n\t\t\t\t\trowsPerPage={rowsPerPage}\n\t\t\t\t\tpage={page}\n\t\t\t\t\tonChangePage={handleChangePage}\n\t\t\t\t\tonChangeRowsPerPage={handleChangeRowsPerPage}\n\t\t\t\t/>\n\t\t\t</Paper>\n\t\t\t<Modal handleModal={handleModal} openModal={openModal} handleDelete={handleDelete} />\n\t\t</div>\n\t);\n}\n\nconst Modal = ({ handleModal, openModal, handleDelete }) => {\n\treturn (\n\t\t<div>\n\t\t\t<Dialog open={openModal} onClose={handleModal}>\n\t\t\t\t<DialogTitle>{'¿Seguro que quieres eliminar esto?'}</DialogTitle>\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Button onClick={handleModal} color=\"primary\">\n\t\t\t\t\t\tCancelar\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button color=\"secondary\" autoFocus variant=\"contained\" onClick={handleDelete}>\n\t\t\t\t\t\tEliminar\n\t\t\t\t\t</Button>\n\t\t\t\t</DialogActions>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n};\n","import React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport { Box, Button, TextField } from '@material-ui/core';\nimport { Add } from '@material-ui/icons';\nimport ListaServicios from './ListaServicios';\nimport { REGISTRAR_CONTABILIDAD, ACTUALIZAR_CONTABILIDAD } from '../../../../gql/Catalogos/contabilidad';\nimport { useMutation } from '@apollo/client';\nimport SnackBarMessages from '../../../../components/SnackBarMessages';\nimport { cleanTypenames } from '../../../../config/reuserFunctions';\n\nconst useStyles = makeStyles({\n\troot: {\n\t\twidth: '100%'\n\t},\n\tflexGrow: {\n\t\tflexGrow: 1\n\t}\n});\n\nexport default function RegistroServicios() {\n\tconst classes = useStyles();\n\tconst [updateData, setUpdateData] = useState(false);\n\tconst [data, setData] = useState({\n\t\tnombre_servicio: \"\"\n\t});\n\tconst [ alert, setAlert ] = useState({ message: '', status: '', open: false });\n\tconst [error, setError] = useState(false);\n\tconst sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\tconst [accion, setAccion] = useState(true);\n\tconst [idService, setIdService] = useState('')\n\n\tconst [ CrearContabilidad ] = useMutation(REGISTRAR_CONTABILIDAD);\n\tconst [ ActualizarContabilidad ] = useMutation(ACTUALIZAR_CONTABILIDAD);\n\n\tconst handleChangeInput = (e) => {\n\t\tsetData({\n\t\t\t...data,\n\t\t\t[e.target.name]: e.target.value\n\t\t})\n\t}\n\n\tconst handleSubmit = async () => {\n\t\ttry {\n\t\t\tif(!data.nombre_servicio){\n\t\t\t\tsetError(true);\n\t\t\t    return;\n\t\t\t}else{\n\t\t\t\tconst input = data;\n\t\t\t\tif(accion){\n\t\t\t\t\tif (sesion.accesos.catalogos.contabilidad.agregar === false) {\n\t\t\t\t\t\treturn setAlert({ message: '¡Lo sentimos no tienes autorización para esta acción!', status: 'error', open: true });\n\t\t\t\t\t}else{\n\t\t\t\t\t\tawait CrearContabilidad({\n\t\t\t\t\t\t\tvariables: {\n\t\t\t\t\t\t\t\tinput,\n\t\t\t\t\t\t\t\tempresa: sesion.empresa._id,\n\t\t\t\t\t\t\t\tsucursal: sesion.sucursal._id,\n\t\t\t\t\t\t\t\tusuario: sesion._id\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tif (sesion.accesos.catalogos.contabilidad.editar === false) {\n\t\t\t\t\t\treturn setAlert({ message: '¡Lo sentimos no tienes autorización para esta acción!', status: 'error', open: true });\n\t\t\t\t\t}else{\n\t\t\t\t\t\tconst inputActualizado = cleanTypenames(input);\n\t\t\t\t\t\tawait ActualizarContabilidad({\n\t\t\t\t\t\t\tvariables: {\n\t\t\t\t\t\t\t\tinput: inputActualizado,\n\t\t\t\t\t\t\t\tid: idService\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t\tsetAccion(true);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tsetAlert({ message: '¡Listo!', status: 'success', open: true });\n\t\t\t\tsetData({nombre_servicio: \"\"});\n\t\t\t\tsetUpdateData(!updateData);\n\t\t\t\tsetIdService(\"\");\n\t\t\t}\n\t\t} catch (error) {\n\t\t\t\n\t\t}\n\t}\n\n\tconst pressEnter = (e) => {\n\t\tif (e.key === 'Enter') handleSubmit();\n\t};\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<SnackBarMessages alert={alert} setAlert={setAlert} />\n\t\t\t<Typography variant=\"h6\">Tipo de Servicio</Typography>\n\t\t\t<Box display=\"flex\" alignItems=\"center\" mb={2}>\n\t\t\t\t<TextField\n\t\t\t\t\terror={error}\n\t\t\t\t\tid=\"outlined-error-helper-text\"\n\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\tsize=\"small\"\n\t\t\t\t\tname=\"nombre_servicio\"\n\t\t\t\t\tvalue={data.nombre_servicio}\n\t\t\t\t\tonChange={handleChangeInput}\n\t\t\t\t\tonKeyPress={pressEnter}\n\t\t\t\t/>\n\t\t\t\t<Box ml={1} />\n\t\t\t\t<Button color=\"primary\" variant=\"contained\" size=\"large\" onClick={handleSubmit} disableElevation>\n\t\t\t\t\t<Add />Guardar\n\t\t\t\t</Button>\n\t\t\t</Box>\n\t\t\t<ListaServicios \n\t\t\t\tsetData={setData} \n\t\t\t\tidService={idService} \n\t\t\t\tsetIdService={setIdService} \n\t\t\t\tsetAccion={setAccion} \n\t\t\t\tupdateData={updateData}\n\t\t\t\tsetAlert={setAlert} \n\t\t\t/>\n\t\t</div>\n\t);\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport CloseIcon from '@material-ui/icons/Close';\nimport Slide from '@material-ui/core/Slide';\nimport { Box, Container } from '@material-ui/core';\nimport RegistroServicios from './RegistroServicio';\n\nconst useStyles = makeStyles((theme) => ({\n\tappBar: {\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n\ticon: {\n\t\twidth: 100\n\t}\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function Contabilidad() {\n\tconst classes = useStyles();\n\tconst [ open, setOpen ] = React.useState(false);\n\n\tconst handleClickOpen = () => {\n\t\tsetOpen(true);\n\t};\n\n\tconst handleClose = () => {\n\t\tsetOpen(false);\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<Button fullWidth onClick={handleClickOpen}>\n\t\t\t\t<Box display=\"flex\" flexDirection=\"column\">\n\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t<img src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/contabilidad.svg' alt=\"icono numero calzado\" className={classes.icon} />\n\t\t\t\t\t</Box>\n\t\t\t\t\tContabilidad\n\t\t\t\t</Box>\n\t\t\t</Button>\n\t\t\t<Dialog fullScreen open={open} onClose={handleClose} TransitionComponent={Transition}>\n\t\t\t\t<AppBar className={classes.appBar}>\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t<Typography variant=\"h6\" className={classes.title}>\n\t\t\t\t\t\t\tContabilidad\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Box m={1}>\n\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"secondary\" onClick={handleClose} size=\"large\">\n\t\t\t\t\t\t\t\t<CloseIcon style={{fontSize: 30}} />\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</AppBar>\n\t\t\t\t<Box mt={4}>\n\t\t\t\t\t<Container maxWidth=\"md\">\n\t\t\t\t\t\t<RegistroServicios />\n\t\t\t\t\t</Container>\n\t\t\t\t</Box>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n}\n","import React, { useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport CrearCliente from \"../Cliente/CrearCliente\";\n\nimport { useMutation, useQuery } from \"@apollo/client\";\nimport {\n  ELIMINAR_CLIENTE,\n  OBTENER_CLIENTES,\n} from \"../../../../gql/Catalogos/clientes\";\nimport {\n  Box,\n  Button,\n  CircularProgress,\n  Dialog,\n  DialogActions,\n  Slide,\n} from \"@material-ui/core\";\nimport { DialogTitle, IconButton, Typography } from \"@material-ui/core\";\nimport { Delete } from \"@material-ui/icons\";\nimport ErrorPage from \"../../../../components/ErrorPage\";\nimport { formatoFechaCorta } from \"../../../../config/reuserFunctions\";\nimport SnackBarMessages from \"../../../../components/SnackBarMessages\";\n\nconst columns = [\n  { id: 1, label: \"No. Cliente\", minWidth: 100 },\n  { id: 2, label: \"Clave\", minWidth: 100 },\n  { id: 3, label: \"Nombre\", minWidth: 150 },\n  { id: 4, label: \"Razon Social\", minWidth: 150 },\n  { id: 5, label: \"Correo\", minWidth: 150 },\n  { id: 6, label: \"Fecha registro\", minWidth: 100 },\n  { id: 7, label: \"Estado\", minWidth: 100 },\n];\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nconst useStyles = makeStyles({\n  root: {\n    width: \"100%\",\n  },\n  container: {\n    height: \"75vh\",\n  },\n  avatar: {\n    width: 130,\n    height: 130,\n  },\n});\n\nexport default function TablaProveedores({ tipo, filtro }) {\n  const permisosUsuario = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n  const [alert, setAlert] = useState({ message: \"\", status: \"\", open: false });\n  const classes = useStyles();\n\n  const { loading, data, error, refetch } = useQuery(OBTENER_CLIENTES, {\n    variables: { tipo, filtro },\n    fetchPolicy: \"network-only\",\n  });\n\n  if (loading)\n    return (\n      <Box\n        display=\"flex\"\n        justifyContent=\"center\"\n        alignItems=\"center\"\n        height=\"30vh\"\n      >\n        <CircularProgress />\n      </Box>\n    );\n  if (error) {\n    return <ErrorPage error={error} />;\n  }\n\n  const { obtenerClientes } = data;\n\n  return (\n    <Paper className={classes.root}>\n      <SnackBarMessages alert={alert} setAlert={setAlert} />\n      <TableContainer className={classes.container}>\n        <Table stickyHeader aria-label=\"sticky table\" size=\"small\">\n          <TableHead>\n            <TableRow>\n              {columns.map((column) => (\n                <TableCell key={column.id} align={column.align}>\n                  {column.label}\n                </TableCell>\n              ))}\n              {permisosUsuario.accesos.catalogos.provedores.editar ===\n              false ? null : (\n                <TableCell key={9} align={\"right\"}>\n                  Editar\n                </TableCell>\n              )}\n              {permisosUsuario.accesos.catalogos.provedores.eliminar ===\n              false ? null : (\n                <TableCell key={10} align={\"right\"}>\n                  Eliminar\n                </TableCell>\n              )}\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {obtenerClientes.map((row, index) => {\n              return (\n                <RowsRender\n                  key={index}\n                  datos={row}\n                  setAlert={setAlert}\n                  refetch={refetch}\n                />\n              );\n            })}\n          </TableBody>\n        </Table>\n      </TableContainer>\n    </Paper>\n  );\n}\n\nconst RowsRender = ({ datos, setAlert, refetch }) => {\n  const permisosUsuario = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n\n  return (\n    <TableRow hover role=\"checkbox\" tabIndex={-1}>\n      <TableCell>\n        <Typography>{datos.numero_cliente}</Typography>\n      </TableCell>\n      <TableCell>\n        <Typography>{datos.clave_cliente}</Typography>\n      </TableCell>\n      <TableCell>\n        <Typography>{datos.nombre_cliente}</Typography>\n      </TableCell>\n      <TableCell>\n        <Typography>{datos.razon_social}</Typography>\n      </TableCell>\n      <TableCell>\n        <Typography>{datos.email}</Typography>\n      </TableCell>\n      <TableCell>\n        <Typography>{formatoFechaCorta(datos.fecha_registro)}</Typography>\n      </TableCell>\n      <TableCell>\n        <Typography>{datos.estado_cliente ? \"Activo\" : \"Inactivo\"}</Typography>\n      </TableCell>\n      {permisosUsuario.accesos.catalogos.provedores.editar === false ? null : (\n        <TableCell width={50}>\n          <CrearCliente tipo=\"PRROVEEDOR\" accion=\"actualizar\" datos={datos} />\n        </TableCell>\n      )}\n      {permisosUsuario.accesos.catalogos.provedores.eliminar ===\n      false ? null : (\n        <TableCell width={50}>\n          <EliminarCliente\n            datos={datos}\n            setAlert={setAlert}\n            refetch={refetch}\n          />\n        </TableCell>\n      )}\n    </TableRow>\n  );\n};\n\nconst EliminarCliente = ({ datos, setAlert, refetch }) => {\n  const [open, setOpen] = useState(false);\n  const [eliminarCliente] = useMutation(ELIMINAR_CLIENTE);\n  const [loading, setLoading] = useState(false);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const eliminarClienteBD = async () => {\n    setLoading(true);\n    try {\n      const result = await eliminarCliente({\n        variables: {\n          id: datos._id,\n        },\n      });\n      if (result) {\n        const { message } = result.data.eliminarCliente;\n        setAlert({ message, status: \"success\", open: true });\n        refetch();\n      }\n      setLoading(false);\n      handleClose();\n    } catch (error) {\n      console.log(error);\n      setLoading(false);\n      if (error.message) {\n        setAlert({ message: error.message, status: \"error\", open: true });\n        return;\n      }\n      setAlert({ message: \"Hubo un error\", status: \"error\", open: true });\n    }\n  };\n\n  return (\n    <div>\n      <IconButton color=\"secondary\" onClick={() => handleClickOpen()}>\n        <Delete />\n      </IconButton>\n      <Dialog\n        open={open}\n        TransitionComponent={Transition}\n        keepMounted\n        onClose={() => handleClose()}\n        aria-labelledby=\"alert-eliminar-cliente\"\n      >\n        <DialogTitle id=\"alert-eliminar-cliente\">\n          {\"¿Está seguro de eliminar esto?\"}\n        </DialogTitle>\n        <DialogActions>\n          <Button\n            onClick={() => handleClose()}\n            color=\"inherit\"\n            disabled={loading}\n          >\n            Cancelar\n          </Button>\n          <Button\n            onClick={() => eliminarClienteBD()}\n            color=\"secondary\"\n            disabled={loading}\n            startIcon={\n              loading ? <CircularProgress size={20} color=\"inherit\" /> : null\n            }\n          >\n            Eliminar\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n};\n","import React, { useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Typography from \"@material-ui/core/Typography\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport Slide from \"@material-ui/core/Slide\";\nimport { Box, Grid, IconButton, InputBase, Paper } from \"@material-ui/core\";\nimport { Search } from \"@material-ui/icons\";\nimport TablaProovedores from \"./ListaProveedores\";\nimport CrearCliente from \"../Cliente/CrearCliente\";\nimport { ClienteProvider } from \"../../../../context/Catalogos/crearClienteCtx\";\n\nconst useStyles = makeStyles((theme) => ({\n  appBar: {\n    position: \"relative\",\n  },\n  title: {\n    marginLeft: theme.spacing(2),\n    flex: 1,\n  },\n  icon: {\n    width: 100,\n  },\n  root: {\n    display: \"flex\",\n    paddingLeft: theme.spacing(2),\n  },\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function Proveedores() {\n  const permisosUsuario = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n\n  const classes = useStyles();\n  const [open, setOpen] = useState(false);\n  const [filtro, setFiltro] = useState(\"\");\n  const [values, setValues] = useState(\"\");\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const pressEnter = (e) => {\n    if (e.key === \"Enter\") setFiltro(e.target.defaultValue);\n  };\n\n  return (\n    <div>\n      <ClienteProvider>\n        <Button fullWidth onClick={handleClickOpen}>\n          <Box display=\"flex\" flexDirection=\"column\">\n            <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n              <img\n                src=\"https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/distribution.svg\"\n                alt=\"icono numero calzado\"\n                className={classes.icon}\n              />\n            </Box>\n            Proveedores\n          </Box>\n        </Button>\n        <Dialog\n          fullScreen\n          open={open}\n          onClose={handleClose}\n          TransitionComponent={Transition}\n        >\n          <AppBar className={classes.appBar}>\n            <Toolbar>\n              <Typography variant=\"h6\" className={classes.title}>\n                Proveedores\n              </Typography>\n              <Box m={1}>\n                <Button\n                  variant=\"contained\"\n                  color=\"secondary\"\n                  onClick={handleClose}\n                  size=\"large\"\n                >\n                  <CloseIcon style={{ fontSize: 30 }} />\n                </Button>\n              </Box>\n            </Toolbar>\n          </AppBar>\n\n          <Box m={3}>\n            <Grid container spacing={2}>\n              <Grid item md={6} xs={8}>\n                <Paper className={classes.root}>\n                  <InputBase\n                    fullWidth\n                    placeholder=\"Buscar proveedor...\"\n                    onChange={(e) => setValues(e.target.value)}\n                    onKeyPress={pressEnter}\n                    value={values}\n                  />\n                  <IconButton onClick={() => setFiltro(values)}>\n                    <Search />\n                  </IconButton>\n                </Paper>\n              </Grid>\n              <Grid\n                item\n                md={6}\n                xs={4}\n                style={{ display: \"flex\", justifyContent: \"flex-end\" }}\n              >\n                {permisosUsuario.accesos.catalogos.provedores.ver ===\n                false ? null : (\n                  <CrearCliente tipo=\"PROVEEDOR\" accion=\"registrar\" />\n                )}\n              </Grid>\n            </Grid>\n          </Box>\n          <Box mx={4}>\n            <TablaProovedores tipo=\"PROVEEDOR\" filtro={filtro} />\n          </Box>\n        </Dialog>\n      </ClienteProvider>\n    </div>\n  );\n}\n","import React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TablePagination from '@material-ui/core/TablePagination';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport { IconButton } from '@material-ui/core';\nimport { Delete } from '@material-ui/icons';\n\n\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n\t\twidth: '100%'\n\t},\n\tpaper: {\n\t\twidth: '100%',\n\t\tmarginBottom: theme.spacing(2)\n\t}\n}));\n\nexport default function TablaCajas(props) {\n\tconst permisos = JSON.parse(localStorage.getItem('sesionCafi'));\n\n\tconst classes = useStyles();\n\n\tconst [ page, setPage ] = useState(0);\n\tconst [ rowsPerPage, setRowsPerPage ] = useState(8);\n\n\tconst handleChangePage = (event, newPage) => {\n\t\tsetPage(newPage);\n\t};\n\n\tconst handleChangeRowsPerPage = (event) => {\n\t\tsetRowsPerPage(parseInt(event.target.value, 10));\n\t\tsetPage(0);\n\t};\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Paper className={classes.paper}>\n\t\t\t\t<TableContainer>\n\t\t\t\t\t<Table\n\t\t\t\t\t\tclassName={classes.table}\n\t\t\t\t\t\taria-labelledby=\"tableTitle\"\n\t\t\t\t\t\tsize=\"medium\"\n\t\t\t\t\t\taria-label=\"enhanced table\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t<TableCell>Cajas</TableCell>\n\t\t\t\t\t\t\t\t{permisos.accesos.catalogos.cajas.eliminar === false ? (null):(\n\t\t\t\t\t\t\t\t\t<TableCell padding=\"default\">Eliminar</TableCell>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t</TableHead>\n\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t{props.obtenerCajasSucursal.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage).map((row, index) => {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<TableRow hover role=\"checkbox\" tabIndex={-1} key={row.numero_caja}>\n\t\t\t\t\t\t\t\t\t\t<TableCell> Caja {row.numero_caja}</TableCell>\n\t\t\t\t\t\t\t\t\t\t{permisos.accesos.catalogos.cajas.eliminar === false ? (null):(\n\t\t\t\t\t\t\t\t\t\t\t<TableCell padding=\"checkbox\">\n\t\t\t\t\t\t\t\t\t\t\t\t<IconButton onClick={() => props.deleteCaja(row._id)} >\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Delete />\n\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t</Table>\n\t\t\t\t</TableContainer>\n\t\t\t\t<TablePagination\n\t\t\t\t\trowsPerPageOptions={[]}\n\t\t\t\t\tcomponent=\"div\"\n\t\t\t\t\tcount={props.obtenerCajasSucursal.length}\n\t\t\t\t\trowsPerPage={rowsPerPage}\n\t\t\t\t\tpage={page}\n\t\t\t\t\tonChangePage={handleChangePage}\n\t\t\t\t\tonChangeRowsPerPage={handleChangeRowsPerPage}\n\t\t\t\t/>\n\t\t\t</Paper>\n\t\t</div>\n\t);\n}\n","import { gql } from '@apollo/client';\n\nexport const CREAR_CAJA = gql`\n    mutation CrearCaja($input: CrearCajasInput!, $empresa: ID!, $sucursal: ID!){\n        crearCaja(input: $input, empresa: $empresa, sucursal: $sucursal){\n            message\n        }\n    }\n`;\n\nexport const OBTENER_CAJAS = gql`\n    query ObtenerCajasSucursales($empresa: ID!, $sucursal: ID!){\n        obtenerCajasSucursal(empresa: $empresa, sucursal: $sucursal){\n            _id\n            numero_caja\n            activa\n            usuario_creador {\n            numero_usuario\n            nombre\n            email\n            }\n            cantidad_efectivo_actual\n            usuario_en_caja {\n            _id\n            numero_usuario\n            nombre\n            email\n            }\n             \n        }\n    }\n`;\nexport const CREAR_HISTORIAL_CAJA = gql`\n    mutation CrearHistorialCaja($input: CrearHistorialCajasInput!, $empresa: ID!, $sucursal: ID!){\n        crearHistorialCaja(input: $input, empresa: $empresa, sucursal: $sucursal){\n            message\n        }\n    }\n`;\n\nexport const OBTENER_HISTORIAL_CAJA = gql`\n    query ObtenerHistorialCaja($input: HistorialCajasInput, $id_Caja: ID!,$empresa: ID!, $sucursal: ID!){\n        obtenerHistorialCaja(input: $input, id_Caja: $id_Caja,empresa: $empresa, sucursal: $sucursal){\n            tipo_movimiento\n            concepto\n            horario_turno\n            numero_caja\n            numero_usuario_creador\n            nombre_usuario_creador\n            hora_moviento{\n                hora\n                minutos\n                segundos\n                completa\n            }\n            fecha_movimiento{\n                year\n                mes\n                dia\n                no_dia_year\n                no_semana_year\n                completa\n            }\n            montos_en_caja{\n                monto_efectivo{\n                    monto \n                }\n                monto_tarjeta_credito{\n                    monto \n                }\n                monto_tarjeta_debito{\n                    monto \n                }\n                monto_creditos{\n                    monto \n                }\n                monto_monedero{\n                    monto \n                }\n                monto_transferencia{\n                    monto \n                }\n                monto_cheques{\n                    monto \n                }\n                monto_vales_despensa{\n                    monto \n                }\n            }\n        }\n    }\n`;\n\nexport const ELIMINAR_CAJA = gql`\n\tmutation eliminarCaja($id: ID!) {\n\t\teliminarCaja(id: $id) {\n\t\t\tmessage\n\t\t}\n\t}\n`; \n\nexport const ACTUALIZAR_CAJA = gql`\n\tmutation ActualizarCaja($input: EditarCaja, $id: ID!) {\n\t\tactualizarCaja(id: $id, input: $input) {\n            _id\n            numero_caja\n            activa\n        }\n    }\n`; \n\nexport const OBTENER_PRE_CORTE_CAJA = gql`\n    query ObtenerPreCorteCaja($empresa: ID!, $sucursal: ID!, $input: PreCortesDeCajaInput){\n        obtenerPreCorteCaja(empresa: $empresa, sucursal: $sucursal, input: $input){\n            monto_efectivo_precorte         \n        }\n    }\n`;\n\nexport const OBTENER_CORTES_CAJA = gql`\n    query ObtenerCortesDeCaja($empresa: ID!, $sucursal: ID!, $input: FiltroCorteDeCajaInput){\n        obtenerCortesDeCaja(empresa: $empresa, sucursal: $sucursal, input: $input){\n            concepto\n            token_turno_user\n            numero_caja\n            horario_en_turno\n            id_caja\n            hora_salida{\n                completa\n            }\n            fecha_salida{\n                completa\n            }\n            fecha_movimiento\n            usuario_en_turno{\n                nombre\n                telefono\n                email\n                numero_usuario\n            }\n            montos_en_caja{\n                monto_efectivo{\n                    monto \n                }\n                monto_tarjeta_credito{\n                    monto \n                }\n                monto_tarjeta_debito{\n                    monto \n                }\n                monto_creditos{\n                    monto \n                }\n                monto_monedero{\n                    monto \n                }\n                monto_transferencia{\n                    monto \n                }\n                monto_cheques{\n                    monto \n                }\n                monto_vales_despensa{\n                    monto \n                }\n            }\n            sucursal{\n                nombre_sucursal\n            }\n        }\n    }\n`;\n\nexport const OBTENER_CORTE_CAJA = gql`\n    query ObtenerCorteCaja($empresa: ID!, $sucursal: ID!, $input: CorteDeCajaInput){\n        obtenerCorteCaja(empresa: $empresa, sucursal: $sucursal, input: $input){\n            montos_en_sistema{\n                monto_efectivo\n                monto_tarjeta_debito\n                monto_tarjeta_credito\n                monto_creditos\n                monto_monedero\n                monto_transferencia\n                monto_cheques\n                monto_vales_despensa\n            }\n        }\n    }\n`;\n","import React, {useState, useEffect} from 'react';\nimport { Box, Button } from '@material-ui/core';\nimport { Add } from '@material-ui/icons';\nimport { useMutation, useQuery } from '@apollo/client';\nimport TablaCajas from './ListaCajas';\nimport SnackBarMessages from '../../../../components/SnackBarMessages';\nimport BackdropComponent from '../../../../components/Layouts/BackDrop';\nimport { CREAR_CAJA, OBTENER_CAJAS, ELIMINAR_CAJA } from '../../../../gql/Cajas/cajas';\n\nexport default function RegistroCajas() {\n\tconst [ loading, setLoading ] = React.useState(false);\n    // const [ open, setOpen ] = React.useState(false);\n\tconst [ alert, setAlert ] = useState({ message: '', status: '', open: false });\n\t\n\tconst sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\n\tlet obtenerCajasSucursal = [];\n\t  /* Mutation */\n\tconst [ crearCaja ] = useMutation(CREAR_CAJA);\n\tconst [ eliminarCaja ] = useMutation(ELIMINAR_CAJA);\n\n\n\t  /* Queries */\n\tconst {  data, refetch } = useQuery(OBTENER_CAJAS,{\n\t\tvariables: {\n            empresa: sesion.empresa._id,\n\t\t\tsucursal: sesion.sucursal._id\n\t\t}\n\t});\t\n\tconst nuevaCaja = async () => {\n\t\ttry {\n            setLoading(true);\n\t\t\t\tawait crearCaja({\n\t\t\t\t\tvariables: {\n\t\t\t\t\t\tinput:{usuario_creador:  sesion._id, numero_usuario_creador: sesion.numero_usuario, nombre_usuario_creador: sesion.nombre},\n\t\t\t\t\t\tempresa: sesion.empresa._id,\n\t\t\t\t\t\tsucursal: sesion.sucursal._id\n\t\t\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\trefetch();\n\t\t\tsetAlert({ message: '¡Listo!', status: 'success', open: true });\n\t\t\tsetLoading(false);\n\t\t\n\t\t\t\n\t\t} catch (error) {\n\t\t\tsetAlert({ message: 'Hubo un error', status: 'error', open: true });\n\t\t\tsetLoading(false);\n\t\t}\n\t};\n\t\n\tconst deleteCaja = async (id) => {\n\t\ttry {\n            setLoading(true);\n\t\t\t\tawait eliminarCaja({\n\t\t\t\t\tvariables: {\n\t\t\t\t\t\tid: id\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\trefetch();\n\t\t\tsetAlert({ message: '¡Listo!', status: 'success', open: true });\n\t\t\tsetLoading(false);\n\t\t} catch (error) {\n\t\t\tsetAlert({ message: 'Hubo un error', status: 'error', open: true });\n\t\t\tsetLoading(false);\n\t\t}\n\t};\n\t\n\tif(data){\n\t\tobtenerCajasSucursal = data.obtenerCajasSucursal;\n\t}\n\n\tuseEffect(\n\t\t() => {\n\t\t\tsetLoading(true);\n\t\t\trefetch();\n\t\t\tsetLoading(false);\n\t\t},\n\t\t[ refetch ]\n\t); \n\n\treturn (\n\t\t<Box>\n\t\t\t<SnackBarMessages alert={alert} setAlert={setAlert} />\t\n\t\t\t<BackdropComponent loading={loading} setLoading={setLoading} />\n\t\t\t<Box display=\"flex\" justifyContent=\"left\" alignItems=\"left\" my={2}>\n\t\t\t\n\t\t\t\t<Box ml={1} />\n\t\t\t\t{sesion.accesos.catalogos.cajas.agregar === false ? (null):(\n\t\t\t\t\t<Button color=\"primary\" variant=\"contained\" size=\"large\" disableElevation onClick={() => nuevaCaja()}>\n\t\t\t\t\t\t<Add />Agregar\n\t\t\t\t\t</Button>\n\t\t\t\t)}\n\t\t\t</Box>\n\t\t\t<TablaCajas obtenerCajasSucursal={obtenerCajasSucursal} deleteCaja={deleteCaja} />\n\t\t</Box>\n\t);\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport CloseIcon from '@material-ui/icons/Close';\nimport Slide from '@material-ui/core/Slide';\nimport { Box, Container } from '@material-ui/core';\nimport RegistroCajas from './RegistrarCajas';\n\nconst useStyles = makeStyles((theme) => ({\n\tappBar: {\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n\ticon: {\n\t\twidth: 100\n\t}\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function Cajas() {\n\tconst classes = useStyles();\n\n\tconst [ open, setOpen ] = React.useState(false);\n\n\n\t\n\tconst handleClickOpen = () => {\n\t\tsetOpen(true);\n\t};\n\n\tconst handleClose = () => {\n\t\tsetOpen(false);\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<Button fullWidth onClick={handleClickOpen}>\n\t\t\t\t<Box display=\"flex\" flexDirection=\"column\">\n\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t<img src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/cajas.svg' alt=\"icono numero calzado\" className={classes.icon} />\n\t\t\t\t\t</Box>\n\t\t\t\t\tCajas\n\t\t\t\t</Box>\n\t\t\t</Button>\n\t\t\t<Dialog fullScreen open={open} onClose={handleClose} TransitionComponent={Transition}>\n\t\t\t\t<AppBar className={classes.appBar}>\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t<Typography variant=\"h6\" className={classes.title}>\n\t\t\t\t\t\t\tCajas\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Box m={1}>\n\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"secondary\" onClick={handleClose} size=\"large\">\n\t\t\t\t\t\t\t\t<CloseIcon style={{fontSize: 30}} />\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</AppBar>\n\t\t\t\t<Box mt={3}>\n\t\t\t\t\t<Container maxWidth=\"sm\">\n\t\t\t\t\t\t<RegistroCajas />\n\t\t\t\t\t</Container>\n\t\t\t\t</Box>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n}\n","\nlet arregloVacio = {\n    mi_empresa:{\n        datos_empresa: {\n            ver: false,\n            agregar: false,\n            editar: false,\n            eliminar: false\n        },\n        informacion_fiscal: {\n            ver: false,\n            agregar: false,\n            editar: false,\n            eliminar: false\n        }\n    },\n    compras:{\n        abrir_compra:{\n            ver: false,\n            agregar: false,\n            editar: false,\n            eliminar: false\n        },\n        compras_realizadas:{\n            ver: false,\n            agregar: false,\n            editar: false,\n            eliminar: false\n        },\n        compras_espera:{\n            ver: false,\n            agregar: false,\n            editar: false,\n            eliminar: false\n        }\n    },\n    tesoreria:{\n        cuentas_empresa:{\n            ver: false,\n            agregar: false,\n            editar: false,\n            eliminar: false\n        },\n        egresos:{\n            ver: false,\n            agregar: false,\n            editar: false,\n            eliminar: false\n        },\n        abonos_proveedores:{\n            ver: false,\n            agregar: false,\n            editar: false,\n            eliminar: false\n        },\n        abonos_clientes:{\n            ver: false,\n            agregar: false,\n            editar: false,\n            eliminar: false\n        }\n    },\n    reportes:{\n        reporte_historial_cajas:{\n            ver: false,\n            agregar: false,\n            editar: false,\n            eliminar: false\n        },\n        reporte_turnos:{\n            ver: false,\n            agregar: false,\n            editar: false,\n            eliminar: false\n        },\n        reporte_compras:{\n            ver: false,\n            agregar: false,\n            editar: false,\n            eliminar: false\n        },\n        reporte_ventas:{\n            ver: false,\n            agregar: false,\n            editar: false,\n            eliminar: false\n        },\n        rerporte_almacen:{\n            ver: false,\n            agregar: false,\n            editar: false,\n            eliminar: false\n        },\n        reporte_corte_caja:{\n            ver: false,\n            agregar: false,\n            editar: false,\n            eliminar: false\n        },\n        reporte_tesoreria:{\n            ver: false,\n            agregar: false,\n            editar: false,\n            eliminar: false\n        }\n    },\n    ventas:{\n        cancelar_venta:{\n            ver: false,\n            agregar: false,\n            editar: false,\n            eliminar: false\n        },\n        precios_productos: {\n            ver: false,\n            agregar: false,\n            editar: false,\n            eliminar: false\n        },\n        pre_corte:{\n            ver: false,\n            agregar: false,\n            editar: false,\n            eliminar: false\n        },\n        cotizaciones:{\n            ver: false,\n            agregar: false,\n            editar: false,\n            eliminar: false\n        },\n        administrador:{\n            ver: false,\n            agregar: false,\n            editar: false,\n            eliminar: false\n        },\n        eliminar_ventas:{\n            ver: false,\n            agregar: false,\n            editar: false,\n            eliminar: false\n        },\n        producto_rapido: {\n            ver: false,\n            agregar: false,\n            editar: false,\n            eliminar: false\n        }\n    },\n    almacenes:{\n        almacen:{\n            ver: false,\n            agregar: false,\n            editar: false,\n            eliminar: false\n        },\n        traspasos:{\n            ver: false,\n            agregar: false,\n            editar: false,\n            eliminar: false\n        },\n        inventario_almacen:{\n            ver: false,\n            agregar: false,\n            editar: false,\n            eliminar: false\n        }\n    },\n    catalogos: {\n        clientes:{\n            ver: false,\n            agregar: false,\n            eliminar: false,\n            editar:false\n        },\n        usuarios:{\n            ver: false,\n            agregar: false,\n            eliminar: false,\n            editar:false\n        },\n        productos:{\n            ver: false,\n            agregar: false,\n            eliminar: false,\n            editar:false\n        },\n        marcas:{\n            ver: false,\n            agregar: false,\n            eliminar: false,\n            editar:false\n        },\n        contabilidad:{\n            ver: false,\n            agregar: false,\n            eliminar: false,\n            editar:false\n        },\n        provedores:{\n            ver: false,\n            agregar: false,\n            eliminar: false,\n            editar:false\n        },\n        cajas:{\n            ver: false,\n            agregar: false,\n            eliminar: false,\n            editar:false\n        },\n        departamentos:{\n            ver: false,\n            agregar: false,\n            eliminar: false,\n            editar:false\n        },\n        centro_costos:{\n            ver: false,\n            agregar: false,\n            eliminar: false,\n            editar:false\n        },\n        conceptos_almacen:{\n            ver: false,\n            agregar: false,\n            eliminar: false,\n            editar:false\n        },\n        categorias:{\n            ver: false,\n            agregar: false,\n            eliminar: false,\n            editar:false\n        },\n        colores:{\n            ver: false,\n            agregar: false,\n            eliminar: false,\n            editar:false\n        },\n        tallas_numeros:{\n            ver: false,\n            agregar: false,\n            eliminar: false,\n            editar:false\n        },\n    },\n    facturacion:{\n        generar_cdfi:{\n            ver: false,\n            agregar: false,\n            editar: false,\n            eliminar: false\n        },\n        cdfi_realizados:{\n            ver: false,\n            agregar: false,\n            editar: false,\n            eliminar: false\n        },\n        registro_series_cdfi:{\n            ver: false,\n            agregar: false,\n            editar: false,\n            eliminar: false\n        }\n    }\n} \n\nexport default arregloVacio;\n","import React, { createContext, useState } from 'react';\nimport arregloVacio from '../../pages/sucursales/Catalogos/Usuarios/AsingarAccesos/arregloVacioAcceso'\n\nexport const UsuarioContext = createContext();\n\nexport const UsuarioProvider = ({ children }) => {\n\tconst [ usuario, setUsuario ] = useState({\n\t\tdireccion: {\n\t\t\tcalle: '',\n\t\t\tno_ext: '',\n\t\t\tno_int: '',\n\t\t\tcodigo_postal: '',\n\t\t\tcolonia: '',\n\t\t\tmunicipio: '',\n\t\t\tlocalidad: '',\n\t\t\testado: '',\n\t\t\tpais: ''\n\t\t},\n\t\testado_usuario: true,\n\t\taccesos: arregloVacio\n\t});\n\tconst [ toUpdate, setToUpdate ] = useState(false);\n\tconst [ error, setError ] = useState({error: false, message: ''});\n\tconst [ update, setUpdate ] = useState(false);\n\n\treturn (\n\t\t<UsuarioContext.Provider\n\t\t\tvalue={{\n\t\t\t\tusuario,\n\t\t\t\tsetUsuario,\n\t\t\t\ttoUpdate,\n\t\t\t\tsetToUpdate,\n\t\t\t\terror,\n\t\t\t\tsetError,\n\t\t\t\tupdate,\n\t\t\t\tsetUpdate\n\t\t\t}}\n\t\t>\n\t\t\t{children}\n\t\t</UsuarioContext.Provider>\n\t);\n};\n","import React, { Fragment, useContext, useCallback, useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Box, Divider, Avatar, IconButton, OutlinedInput, FormHelperText, Button } from '@material-ui/core';\nimport { TextField, Typography, Grid, FormControl, InputAdornment } from '@material-ui/core';\nimport { Dialog, DialogTitle, DialogContent, DialogActions, CircularProgress } from '@material-ui/core';\nimport Visibility from '@material-ui/icons/Visibility';\nimport VisibilityOff from '@material-ui/icons/VisibilityOff';\nimport { useDropzone } from 'react-dropzone';\nimport { UsuarioContext } from '../../../../context/Catalogos/usuarioContext';\nimport SnackBarMessages from '../../../../components/SnackBarMessages';\n\nimport { useMutation } from '@apollo/client';\nimport { ACTUALIZAR_USUARIO } from '../../../../gql/Catalogos/usuarios';\n\nconst useStyles = makeStyles((theme) => ({\n\tformInputFlex: {\n\t\tdisplay: 'flex',\n\t\t'& > *': {\n\t\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(1)}px`\n\t\t},\n\t\t'& span': {\n\t\t\tcolor: 'red'\n\t\t}\n\t},\n\tformInput: {\n\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(2)}px`\n\t},\n\tavatarContainer: {\n\t\tdisplay: 'flex',\n\t\tjustifyContent: 'center',\n\t\talignItems: 'center',\n\t\twidth: 150,\n\t\theight: 150,\n\t\tborder: 'dashed 2px black',\n\t\tborderRadius: '100%'\n\t},\n\tavatar: {\n\t\twidth: 130,\n\t\theight: 130,\n\t\t'& > .icon': {\n\t\t\tfontSize: 100\n\t\t}\n\t}\n}));\n\nexport default function FormularioUsuario({ accion }) {\n\tconst classes = useStyles();\n\tconst { usuario, setUsuario, error } = useContext(UsuarioContext);\n\tconst [ preview, setPreview ] = useState('');\n\tconst [ showPassword, setShowPassword ] = useState(false);\n\n\t//dropzone\n\tconst onDrop = useCallback(\n\t\t(acceptedFiles) => {\n\t\t\tlet reader = new FileReader();\n\t\t\treader.readAsDataURL(acceptedFiles[0]);\n\t\t\treader.onload = function() {\n\t\t\t\tlet image = reader.result;\n\t\t\t\tsetPreview(image);\n\t\t\t};\n\t\t\tsetUsuario({\n\t\t\t\t...usuario,\n\t\t\t\timagen: acceptedFiles[0]\n\t\t\t});\n\t\t},\n\t\t[ usuario, setUsuario ]\n\t);\n\n\tconst { getRootProps, getInputProps } = useDropzone({\n\t\taccept: 'image/jpeg, image/png',\n\t\tnoKeyboard: true,\n\t\tonDrop\n\t});\n\n\tconst obtenerCampos = (e) => {\n\t\tconst name = e.target.name;\n\t\tif (name === 'numero_usuario') {\n\t\t\tsetUsuario({\n\t\t\t\t...usuario,\n\t\t\t\t[e.target.name]: parseInt(e.target.value)\n\t\t\t});\n\t\t\treturn;\n\t\t}\n\t\tsetUsuario({\n\t\t\t...usuario,\n\t\t\t[e.target.name]: e.target.value\n\t\t});\n\t};\n\tconst obtenerCamposDireccion = (e) => {\n\t\tsetUsuario({\n\t\t\t...usuario,\n\t\t\tdireccion: { ...usuario.direccion, [e.target.name]: e.target.value }\n\t\t});\n\t};\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<Grid container>\n\t\t\t\t<Grid item md={3}>\n\t\t\t\t\t<Box className={classes.avatarContainer} {...getRootProps()}>\n\t\t\t\t\t\t<input {...getInputProps()} />\n\t\t\t\t\t\t{preview ? (\n\t\t\t\t\t\t\t<Avatar className={classes.avatar} src={`${preview}`} />\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<Avatar className={classes.avatar} src={`${usuario.imagen}`} />\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Box>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item md={9}>\n\t\t\t\t\t<Box>\n\t\t\t\t\t\t<form autoComplete=\"off\" className={classes.formInputFlex}>\n\t\t\t\t\t\t\t<Box width=\"100%\">\n\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\t<span>* </span>Nombre usuario\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\terror={error.error && !usuario.nombre}\n\t\t\t\t\t\t\t\t\tname=\"nombre\"\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\tvalue={usuario.nombre ? usuario.nombre : ''}\n\t\t\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\t\t\terror.error && error.message !== 'Las contraseñas no coinciden' ? (\n\t\t\t\t\t\t\t\t\t\t\terror.message\n\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t''\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tonChange={obtenerCampos}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</form>\n\t\t\t\t\t</Box>\n\t\t\t\t\t{accion === 'registrar' ? (\n\t\t\t\t\t\t<form autoComplete=\"off\" className={classes.formInputFlex}>\n\t\t\t\t\t\t\t<Box width=\"100%\">\n\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\t<span>* </span>Contraseña\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\terror={\n\t\t\t\t\t\t\t\t\t\terror.error && !usuario.password ? (\n\t\t\t\t\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t\t\t\t\t) : error.error && error.message === 'Las contraseñas no coinciden' ? (\n\t\t\t\t\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\tfalse\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<OutlinedInput\n\t\t\t\t\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\t\t\t\t\ttype={showPassword ? 'text' : 'password'}\n\t\t\t\t\t\t\t\t\t\tvalue={usuario.password ? usuario.password : ''}\n\t\t\t\t\t\t\t\t\t\tonChange={obtenerCampos}\n\t\t\t\t\t\t\t\t\t\tendAdornment={\n\t\t\t\t\t\t\t\t\t\t\t<InputAdornment position=\"end\">\n\t\t\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\t\t\t\taria-label=\"toggle password visibility\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => setShowPassword(!showPassword)}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonMouseDown={() => setShowPassword(!showPassword)}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{showPassword ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Visibility color=\"primary\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<VisibilityOff color=\"primary\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t\t</InputAdornment>\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<FormHelperText>{error.message}</FormHelperText>\n\t\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box width=\"100%\">\n\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\t<span>* </span>Repetir contraseña\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\terror={\n\t\t\t\t\t\t\t\t\t\terror.error && !usuario.password ? (\n\t\t\t\t\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t\t\t\t\t) : error.error && error.message === 'Las contraseñas no coinciden' ? (\n\t\t\t\t\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\tfalse\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tname=\"repeatPassword\"\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<OutlinedInput\n\t\t\t\t\t\t\t\t\t\tname=\"repeatPassword\"\n\t\t\t\t\t\t\t\t\t\ttype={showPassword ? 'text' : 'password'}\n\t\t\t\t\t\t\t\t\t\tvalue={usuario.repeatPassword ? usuario.repeatPassword : ''}\n\t\t\t\t\t\t\t\t\t\tonChange={obtenerCampos}\n\t\t\t\t\t\t\t\t\t\tendAdornment={\n\t\t\t\t\t\t\t\t\t\t\t<InputAdornment position=\"end\">\n\t\t\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\t\t\t\taria-label=\"toggle password visibility\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => setShowPassword(!showPassword)}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonMouseDown={() => setShowPassword(!showPassword)}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{showPassword ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Visibility color=\"primary\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<VisibilityOff color=\"primary\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t\t</InputAdornment>\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<FormHelperText>{error.message}</FormHelperText>\n\t\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</form>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<ActualizarPasswordModal />\n\t\t\t\t\t)}\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item md={12}>\n\t\t\t\t\t<form autoComplete=\"off\" className={classes.formInputFlex}>\n\t\t\t\t\t\t<Box width=\"100%\">\n\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t<span>* </span>Email\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\terror={error.error && !usuario.email}\n\t\t\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tvalue={usuario.email ? usuario.email : ''}\n\t\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\t\terror.error && error.message !== 'Las contraseñas no coinciden' ? error.message : ''\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tonChange={obtenerCampos}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box width=\"100%\">\n\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t<span>* </span>Num. Telefono\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\terror={error.error && !usuario.telefono}\n\t\t\t\t\t\t\t\tname=\"telefono\"\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tvalue={usuario.telefono ? usuario.telefono : ''}\n\t\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\t\terror.error && error.message !== 'Las contraseñas no coinciden' ? error.message : ''\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tonChange={obtenerCampos}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box width=\"100%\">\n\t\t\t\t\t\t\t<Typography>Num. Celular</Typography>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\tname=\"celular\"\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tvalue={usuario.celular ? usuario.celular : ''}\n\t\t\t\t\t\t\t\tonChange={obtenerCampos}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</form>\n\t\t\t\t\t<Box mt={2}>\n\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t<b>usuario domicilio</b>\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Divider />\n\t\t\t\t\t</Box>\n\t\t\t\t\t<form autoComplete=\"off\" className={classes.formInputFlex}>\n\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t<Typography>Calle</Typography>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\tname=\"calle\"\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tvalue={usuario.direccion.calle ? usuario.direccion.calle : ''}\n\t\t\t\t\t\t\t\tonChange={obtenerCamposDireccion}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t<Typography>Colonia</Typography>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\tname=\"colonia\"\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tvalue={usuario.direccion.colonia ? usuario.direccion.colonia : ''}\n\t\t\t\t\t\t\t\tonChange={obtenerCamposDireccion}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box width=\"100px\">\n\t\t\t\t\t\t\t<Typography>Num. Ext</Typography>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\tname=\"no_ext\"\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tvalue={usuario.direccion.no_ext ? usuario.direccion.no_ext : ''}\n\t\t\t\t\t\t\t\tonChange={obtenerCamposDireccion}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box width=\"100px\">\n\t\t\t\t\t\t\t<Typography>Num. Int</Typography>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\tname=\"no_int\"\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tvalue={usuario.direccion.no_int ? usuario.direccion.no_int : ''}\n\t\t\t\t\t\t\t\tonChange={obtenerCamposDireccion}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box width=\"100px\">\n\t\t\t\t\t\t\t<Typography>CP</Typography>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\tname=\"codigo_postal\"\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tvalue={usuario.direccion.codigo_postal ? usuario.direccion.codigo_postal : ''}\n\t\t\t\t\t\t\t\tonChange={obtenerCamposDireccion}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</form>\n\t\t\t\t\t<form autoComplete=\"off\" className={classes.formInputFlex}>\n\t\t\t\t\t\t<Box width=\"100%\">\n\t\t\t\t\t\t\t<Typography>Municipio</Typography>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\tname=\"municipio\"\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tvalue={usuario.direccion.municipio ? usuario.direccion.municipio : ''}\n\t\t\t\t\t\t\t\tonChange={obtenerCamposDireccion}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box width=\"100%\">\n\t\t\t\t\t\t\t<Typography>Localidad</Typography>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\tname=\"localidad\"\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tvalue={usuario.direccion.localidad ? usuario.direccion.localidad : ''}\n\t\t\t\t\t\t\t\tonChange={obtenerCamposDireccion}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box width=\"100%\">\n\t\t\t\t\t\t\t<Typography>Estado</Typography>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\tname=\"estado\"\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tvalue={usuario.direccion.estado ? usuario.direccion.estado : ''}\n\t\t\t\t\t\t\t\tonChange={obtenerCamposDireccion}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box width=\"100%\">\n\t\t\t\t\t\t\t<Typography>Pais</Typography>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\tname=\"pais\"\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tvalue={usuario.direccion.pais ? usuario.direccion.pais : ''}\n\t\t\t\t\t\t\t\tonChange={obtenerCamposDireccion}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</form>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t</Fragment>\n\t);\n}\n\nconst ActualizarPasswordModal = () => {\n\tconst [ open, setOpen ] = useState(false);\n\tconst { usuario, setUsuario, error, setError, update, setUpdate } = useContext(UsuarioContext);\n\tconst [ showPassword, setShowPassword ] = useState(false);\n\tconst [ loading, setLoading ] = useState(false);\n\tconst [ alert, setAlert ] = useState({ message: '', status: '', open: false });\n\n\tconst [ actualizarUsuario ] = useMutation(ACTUALIZAR_USUARIO);\n\n\tconst handleClickOpen = () => {\n\t\tsetOpen(true);\n\t};\n\n\tconst handleClose = () => {\n\t\tsetOpen(false);\n\t\tsetError({ error: false, message: '' });\n\t};\n\n\tconst obtenerCampos = (e) => {\n\t\tsetUsuario({\n\t\t\t...usuario,\n\t\t\t[e.target.name]: e.target.value\n\t\t});\n\t};\n\n\tconst confirmarPassowrd = async () => {\n\t\tif (!usuario.password || !usuario.repeatPassword) {\n\t\t\tsetError({ error: true, message: 'Este campo es requerido' });\n\t\t\treturn;\n\t\t}\n\t\tif (usuario.password !== usuario.repeatPassword) {\n\t\t\tsetError({ error: true, message: 'Las contraseñas no coinciden' });\n\t\t\treturn;\n\t\t}\n\t\tsetLoading(true);\n\n\t\ttry {\n\t\t\tawait actualizarUsuario({\n\t\t\t\tvariables: {\n\t\t\t\t\tinput: {\n\t\t\t\t\t\tpassword: usuario.password,\n\t\t\t\t\t\trepeatPassword: usuario.repeatPassword\n\t\t\t\t\t},\n\t\t\t\t\tid: usuario._id\n\t\t\t\t}\n\t\t\t});\n\t\t\tsetUpdate(!update);\n\t\t\tsetAlert({ message: '¡Listo!', status: 'success', open: true });\n\t\t\tsetLoading(false);\n\t\t\thandleClose();\n\t\t} catch (error) {\n\t\t\tsetAlert({ message: 'Hubo un error', status: 'error', open: true });\n\t\t\tsetLoading(false);\n\t\t}\n\t};\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<Button color=\"primary\" variant=\"text\" onClick={handleClickOpen}>\n\t\t\t\tCambiar contraseña\n\t\t\t</Button>\n\t\t\t<Dialog\n\t\t\t\topen={open}\n\t\t\t\tonClose={handleClose}\n\t\t\t\taria-labelledby=\"alert-dialog-title\"\n\t\t\t\taria-describedby=\"alert-dialog-description\"\n\t\t\t>\n\t\t\t\t<SnackBarMessages alert={alert} setAlert={setAlert} />\n\t\t\t\t<DialogTitle id=\"alert-dialog-title\">{'Cambiar contraseña'}</DialogTitle>\n\t\t\t\t<DialogContent>\n\t\t\t\t\t<form autoComplete=\"off\">\n\t\t\t\t\t\t<Box width=\"100%\">\n\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t<span>* </span>Contraseña\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\terror={\n\t\t\t\t\t\t\t\t\terror.error && !usuario.password ? (\n\t\t\t\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t\t\t\t) : error.error && error.message === 'Las contraseñas no coinciden' ? (\n\t\t\t\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\tfalse\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<OutlinedInput\n\t\t\t\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\t\t\t\ttype={showPassword ? 'text' : 'password'}\n\t\t\t\t\t\t\t\t\tvalue={usuario.password ? usuario.password : ''}\n\t\t\t\t\t\t\t\t\tonChange={obtenerCampos}\n\t\t\t\t\t\t\t\t\tendAdornment={\n\t\t\t\t\t\t\t\t\t\t<InputAdornment position=\"end\">\n\t\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\t\t\taria-label=\"toggle password visibility\"\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => setShowPassword(!showPassword)}\n\t\t\t\t\t\t\t\t\t\t\t\tonMouseDown={() => setShowPassword(!showPassword)}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{showPassword ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Visibility color=\"primary\" />\n\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<VisibilityOff color=\"primary\" />\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t</InputAdornment>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<FormHelperText>{error.message}</FormHelperText>\n\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box width=\"100%\">\n\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t<span>* </span>Repetir contraseña\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\terror={\n\t\t\t\t\t\t\t\t\terror.error && !usuario.password ? (\n\t\t\t\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t\t\t\t) : error.error && error.message === 'Las contraseñas no coinciden' ? (\n\t\t\t\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\tfalse\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tname=\"repeatPassword\"\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<OutlinedInput\n\t\t\t\t\t\t\t\t\tname=\"repeatPassword\"\n\t\t\t\t\t\t\t\t\ttype={showPassword ? 'text' : 'password'}\n\t\t\t\t\t\t\t\t\tvalue={usuario.repeatPassword ? usuario.repeatPassword : ''}\n\t\t\t\t\t\t\t\t\tonChange={obtenerCampos}\n\t\t\t\t\t\t\t\t\tendAdornment={\n\t\t\t\t\t\t\t\t\t\t<InputAdornment position=\"end\">\n\t\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\t\t\taria-label=\"toggle password visibility\"\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => setShowPassword(!showPassword)}\n\t\t\t\t\t\t\t\t\t\t\t\tonMouseDown={() => setShowPassword(!showPassword)}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{showPassword ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Visibility color=\"primary\" />\n\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<VisibilityOff color=\"primary\" />\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t</InputAdornment>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<FormHelperText>{error.message}</FormHelperText>\n\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</form>\n\t\t\t\t</DialogContent>\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Button onClick={handleClose} color=\"primary\">\n\t\t\t\t\t\tCancelar\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tonClick={confirmarPassowrd}\n\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\tendIcon={loading ? <CircularProgress color=\"inherit\" size={25} /> : null}\n\t\t\t\t\t>\n\t\t\t\t\t\tConfirmar\n\t\t\t\t\t</Button>\n\t\t\t\t</DialogActions>\n\t\t\t</Dialog>\n\t\t</Fragment>\n\t);\n};\n","import { Box, Checkbox, FormControlLabel } from '@material-ui/core'\nimport React from 'react';\n\nexport default function Parametros({ \n    arregloAccesos, \n    obtenerAccesos, \n    departamento, \n    subDepartamento\n}) {\n\n    return(\n        <Box display='flex' justifyContent='center' alignItems='center'>\n            <FormControlLabel\n                control={\n                    <Checkbox\n                        checked={arregloAccesos ? arregloAccesos[departamento][subDepartamento].ver : false}\n                        name=\"ver\"\n                        color=\"primary\"\n                        onChange={(e) => obtenerAccesos(e, departamento, subDepartamento)}\n                    />\n                }\n                label={\n                    <Box mr={2} display='flex'>\n                        {departamento === 'ventas' ? \"Autorizar\" : \"Ver\" } \n                    </Box>\n                }\n            />\n            {   subDepartamento === 'informacion_fiscal' ||\n                subDepartamento === 'datos_empresa' || \n                subDepartamento === 'abrir_compra' || \n                subDepartamento === 'compras_realizadas' || \n                subDepartamento === 'compras_espera' || \n                subDepartamento === 'traspasos' || \n                subDepartamento === 'inventario_almacen' || \n                subDepartamento === 'cuentas_empresa' || \n                subDepartamento === 'generar_cdfi' || \n                subDepartamento === 'cdfi_realizados' || \n                departamento === 'reportes' || \n                departamento === 'ventas'|| \n                subDepartamento === 'egresos' ? (null):(\n                    <FormControlLabel\n                        control={\n                            <Checkbox\n                                checked={arregloAccesos ? arregloAccesos[departamento][subDepartamento].agregar : false}\n                                name=\"agregar\"\n                                disabled={arregloAccesos ? arregloAccesos[departamento][subDepartamento].ver === false : true}\n                                color=\"primary\"\n                                onChange={(e) => obtenerAccesos(e, departamento, subDepartamento)}\n                            />\n                        }\n                        label={\n                            <Box mr={2}  display='flex'>\n                                Agregar\n                            </Box>\n                        }\n                    />\n            )}\n            {   subDepartamento === 'cajas' || \n                subDepartamento === 'abrir_compra' || \n                subDepartamento === 'compras_realizadas' || \n                subDepartamento === 'traspasos' || \n                subDepartamento === 'inventario_almacen' || \n                subDepartamento === 'abonos_proveedores'|| \n                subDepartamento === 'abonos_clientes'|| \n                subDepartamento === 'egresos' || \n                subDepartamento === 'generar_cdfi' || \n                subDepartamento === 'cdfi_realizados' || \n                subDepartamento === 'registro_series_cdfi' || \n                departamento === 'reportes' || \n                departamento === 'ventas' ? (null) : ( \n                <FormControlLabel\n                    control={\n                        <Checkbox\n                            checked={arregloAccesos ? arregloAccesos[departamento][subDepartamento].editar : false}\n                            name=\"editar\"\n                            disabled={arregloAccesos ? arregloAccesos[departamento][subDepartamento].ver === false : true}\n                            color=\"primary\"\n                            onChange={(e) => obtenerAccesos(e, departamento, subDepartamento)}\n                        />\n                    }\n                    label={\n                        <Box mr={2}  display='flex'>\n                            Editar\n                        </Box>\n                    }\n                />\n            )}\n            {   subDepartamento === 'informacion_fiscal' ||\n                subDepartamento === 'datos_empresa' || \n                subDepartamento === 'abrir_compra' || \n                subDepartamento === 'compras_realizadas' || \n                subDepartamento === 'traspasos' || \n                subDepartamento === 'inventario_almacen' || \n                subDepartamento === 'cuentas_empresa' || \n                subDepartamento === 'abonos_proveedores' || \n                subDepartamento === 'generar_cdfi' || \n                subDepartamento === 'cdfi_realizados' || \n                subDepartamento === 'abonos_clientes'|| \n                subDepartamento === 'egresos' || \n                departamento === 'reportes' || \n                departamento === 'ventas'? (null):( \n                <FormControlLabel\n                    control={\n                        <Checkbox\n                            checked={arregloAccesos ? arregloAccesos[departamento][subDepartamento].eliminar : false}\n                            name=\"eliminar\"\n                            color=\"primary\"\n                            disabled={arregloAccesos ? arregloAccesos[departamento][subDepartamento].ver === false : true}\n                            onChange={(e) => obtenerAccesos(e, departamento, subDepartamento)}\n                        />\n                    }\n                    label={\n                        <Box display='flex'>\n                            Eliminar\n                        </Box>\n                    }\n                />\n            )}\n        </Box>\n    )\n}\n","import {\n  Box,\n  Paper,\n  Typography,\n} from \"@material-ui/core\";\nimport React, { Fragment } from \"react\";\nimport Parametros from \"../Parametros\";\n\nexport default function Catalogos({ obtenerAccesos, arregloAccesos }) {\n    \n    return (\n        <Fragment>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Typography variant=\"h6\">\n                        Marca los permisos que deseas asignar a este usuario\n                    </Typography>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Clientes</b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'catalogos'}\n                                subDepartamento={'clientes'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Usuarios</b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'catalogos'}\n                                subDepartamento={'usuarios'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Productos</b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'catalogos'}\n                                subDepartamento={'productos'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Marcas</b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'catalogos'}\n                                subDepartamento={'marcas'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Provedores</b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'catalogos'}\n                                subDepartamento={'provedores'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Contabilidad</b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'catalogos'}\n                                subDepartamento={'contabilidad'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Cajas</b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'catalogos'}\n                                subDepartamento={'cajas'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Departamento</b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'catalogos'}\n                                subDepartamento={'departamentos'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Centro de costos</b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'catalogos'}\n                                subDepartamento={'centro_costos'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Conceptos almacen</b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'catalogos'}\n                                subDepartamento={'conceptos_almacen'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Categorias</b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'catalogos'}\n                                subDepartamento={'categorias'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Colores</b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'catalogos'}\n                                subDepartamento={'colores'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Tallas y Numeros</b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'catalogos'}\n                                subDepartamento={'tallas_numeros'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n        </Fragment>\n    );\n};\n\n","import {\n    Box,\n    Paper,\n    Typography,\n} from \"@material-ui/core\";\nimport React, { Fragment } from \"react\";\nimport Parametros from \"../Parametros\";\n  \nexport default function MiEmpresa({ obtenerAccesos, arregloAccesos }) {\n      return (\n            <Fragment>\n                <Box p={1}  display='flex' justifyContent= 'center'>\n                    <Box width='80%'>\n                        <Typography variant=\"h6\">\n                            Marca los permisos que deseas asignar a este usuario\n                        </Typography>\n                    </Box>\n                </Box>\n                <Box p={1}  display='flex' justifyContent= 'center'>\n                    <Box width='80%'>\n                        <Paper elevation={3}>\n                            <Box display='flex'>\n                                <Box ml={1} p={1} flexGrow={1} >\n                                    <Typography variant=\"h6\">\n                                        <b>Datos de Empresa</b>\n                                    </Typography>\n                                </Box>\n                                <Parametros \n                                    arregloAccesos={arregloAccesos} \n                                    obtenerAccesos={obtenerAccesos}\n                                    departamento={'mi_empresa'}\n                                    subDepartamento={'datos_empresa'}\n                                />\n                            </Box>\n                        </Paper>\n                    </Box>\n                </Box>\n                <Box p={1}  display='flex' justifyContent= 'center'>\n                    <Box width='80%'>\n                        <Paper elevation={3}>\n                            <Box display='flex'>\n                                <Box ml={1} p={1} flexGrow={1} >\n                                    <Typography variant=\"h6\">\n                                        <b>Información Fiscal</b>\n                                    </Typography>\n                                </Box>\n                                <Parametros \n                                    arregloAccesos={arregloAccesos} \n                                    obtenerAccesos={obtenerAccesos}\n                                    departamento={'mi_empresa'}\n                                    subDepartamento={'informacion_fiscal'}\n                                />\n                            </Box>\n                        </Paper>\n                    </Box>\n                </Box>\n            </Fragment>\n      )\n}","import {\n    Box,\n    Paper,\n    Typography,\n} from \"@material-ui/core\";\nimport React, { Fragment } from \"react\";\nimport Parametros from \"../Parametros\";\n  \nexport default function Compras({ obtenerAccesos, arregloAccesos }) {\n    return (\n        <Fragment>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Typography variant=\"h6\">\n                        Marca los permisos que deseas asignar a este usuario\n                    </Typography>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Abrir una compra</b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'compras'}\n                                subDepartamento={'abrir_compra'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Compras realizadas</b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'compras'}\n                                subDepartamento={'compras_realizadas'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Compras en espera</b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'compras'}\n                                subDepartamento={'compras_espera'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n        </Fragment>\n    )\n}","import {\n    Box,\n    Paper,\n    Typography,\n} from \"@material-ui/core\";\nimport React, { Fragment } from \"react\";\nimport Parametros from \"../Parametros\";\n  \nexport default function Almacenes({ obtenerAccesos, arregloAccesos }) {\n    return (\n        <Fragment>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Typography variant=\"h6\">\n                        Marca los permisos que deseas asignar a este usuario\n                    </Typography>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Almacenes</b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'almacenes'}\n                                subDepartamento={'almacen'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Traspasos</b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'almacenes'}\n                                subDepartamento={'traspasos'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Inventario por almacen</b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'almacenes'}\n                                subDepartamento={'inventario_almacen'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n        </Fragment>\n    )\n}","import {\n    Box,\n    Paper,\n    Typography,\n} from \"@material-ui/core\";\nimport React, { Fragment } from \"react\";\nimport Parametros from \"../Parametros\";\n  \nexport default function Tesoreria({ obtenerAccesos, arregloAccesos }) {\n    return (\n        <Fragment>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Typography variant=\"h6\">\n                        Marca los permisos que deseas asignar a este usuario\n                    </Typography>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Cuentas</b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'tesoreria'}\n                                subDepartamento={'cuentas_empresa'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Abonos Proveedores</b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'tesoreria'}\n                                subDepartamento={'abonos_proveedores'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Abonos Clientes</b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'tesoreria'}\n                                subDepartamento={'abonos_clientes'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Egresos</b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'tesoreria'}\n                                subDepartamento={'egresos'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n        </Fragment>\n    )\n}","import {\n    Box,\n    Paper,\n    Typography,\n} from \"@material-ui/core\";\nimport React, { Fragment } from \"react\";\nimport Parametros from \"../Parametros\";\n  \nexport default function Reportes({ obtenerAccesos, arregloAccesos }) {\n    return (\n        <Fragment>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Typography variant=\"h6\">\n                        Marca los permisos que deseas asignar a este usuario\n                    </Typography>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Reportes Historiales Cajas</b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'reportes'}\n                                subDepartamento={'reporte_historial_cajas'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Reportes turnos usuarios </b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'reportes'}\n                                subDepartamento={'reporte_turnos'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Reportes de compras </b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'reportes'}\n                                subDepartamento={'reporte_compras'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Reportes de ventas </b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'reportes'}\n                                subDepartamento={'reporte_ventas'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Reportes de almacenes </b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'reportes'}\n                                subDepartamento={'rerporte_almacen'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Reportes de cortes </b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'reportes'}\n                                subDepartamento={'reporte_corte_caja'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Reportes tesoreria </b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'reportes'}\n                                subDepartamento={'reporte_tesoreria'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n        </Fragment>\n    );\n}","import {\n    Box,\n    Paper,\n    Typography,\n} from \"@material-ui/core\";\nimport React, { Fragment } from \"react\";\nimport Parametros from \"../Parametros\";\n  \nexport default function Ventas({ obtenerAccesos, arregloAccesos }) {\n    return (\n        <Fragment>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Typography variant=\"h6\">\n                        Marca los permisos que deseas asignar a este usuario\n                    </Typography>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Cancelar ventas</b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'ventas'}\n                                subDepartamento={'cancelar_venta'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Precios de productos</b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'ventas'}\n                                subDepartamento={'precios_productos'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Pre cortes de caja</b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'ventas'}\n                                subDepartamento={'pre_corte'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Cotizaciones</b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'ventas'}\n                                subDepartamento={'cotizaciones'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Producto Rapido</b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'ventas'}\n                                subDepartamento={'producto_rapido'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Panel de administrador</b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'ventas'}\n                                subDepartamento={'administrador'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Eliminar ventas pendientes</b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'ventas'}\n                                subDepartamento={'eliminar_ventas'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n        </Fragment>\n    )\n}","import {\n    Box,\n    Paper,\n    Typography,\n} from \"@material-ui/core\";\nimport React, { Fragment } from \"react\";\nimport Parametros from \"../Parametros\";\n  \nexport default function Facturacion({ obtenerAccesos, arregloAccesos }) {\n    return (\n        <Fragment>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Typography variant=\"h6\">\n                        Marca los permisos que deseas asignar a este usuario\n                    </Typography>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Generar nuevo CDFI</b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'facturacion'}\n                                subDepartamento={'generar_cdfi'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>CDFIs realizados</b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'facturacion'}\n                                subDepartamento={'cdfi_realizados'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Registrar series CDFI</b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'facturacion'}\n                                subDepartamento={'registro_series_cdfi'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n        </Fragment>\n    )\n}","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport { AppBar, Box, Tabs } from '@material-ui/core';\nimport { Tab } from '@material-ui/core';\nimport {  FcPaid, FcShop, FcSurvey, FcNews } from 'react-icons/fc';\n\nimport Catalogos from './Departamentos/Catalogos';\nimport MiEmpresa from './Departamentos/MiEmpresa';\n\nimport SnackBarMessages from '../../../../../components/SnackBarMessages';\nimport Compras from './Departamentos/Compras';\nimport Almacenes from './Departamentos/Almacenes';\nimport Tesoreria from './Departamentos/Tesoreria';\nimport Reportes from './Departamentos/Reportes';\nimport Ventas from './Departamentos/Ventas';\nimport Facturacion from './Departamentos/Facturacion';\n\nfunction TabPanel(props) {\n\tconst { children, value, index, ...other } = props;\n\n\treturn (\n\t\t<div\n\t\t\trole=\"tabpanel\"\n\t\t\thidden={value !== index}\n\t\t\tid={`tabpanel-reg-product-${index}`}\n\t\t\taria-labelledby={`reg-product-tab-${index}`}\n\t\t\t{...other}\n\t\t>\n\t\t\t{value === index && (\n\t\t\t\t<Box p={1} minHeight=\"20vh\">\n\t\t\t\t\t{children}\n\t\t\t\t</Box>\n\t\t\t)}\n\t\t</div>\n\t);\n}\n\nTabPanel.propTypes = {\n\tchildren: PropTypes.node,\n\tindex: PropTypes.any.isRequired,\n\tvalue: PropTypes.any.isRequired\n};\n\nfunction a11yProps(index) {\n\treturn {\n\t\tid: `reg-product-tab-${index}`,\n\t\t'aria-controls': `tabpanel-reg-product-${index}`\n\t};\n};\n\nconst useStyles = makeStyles((theme) => ({\n\tformInputFlex: {\n\t\tdisplay: 'flex',\n\t\t'& > *': {\n\t\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(2)}px`\n\t\t}\n\t},\n\tformInput: {\n\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(2)}px`\n\t},\n\troot: {\n\t\tflexGrow: 1,\n\t\twidth: '100%',\n\t\tbackgroundColor: theme.palette.background.paper\n\t},\n\ticonSvg: {\n\t\twidth: 30\n\t},\n\ticon:{\n\t\tfontSize: 30\n\t}\n}));\n\nexport default function AsignarPermisos({obtenerAccesos, arregloAccesos}) {\n\n\tconst classes = useStyles();\n\tconst [ alert, setAlert ] = useState({ message: '', status: '', open: false });\n\n\tconst [ value, setValue ] = useState(0);\n\n    const handleChange = (event, newValue) => {\n\t\tsetValue(newValue);\n\t};\n\n    return (\n        <>\n\t\t<SnackBarMessages alert={alert} setAlert={setAlert} />\n            <AppBar position=\"static\" color=\"default\" elevation={0}>\n                <Tabs\n                    value={value}\n                    onChange={handleChange}\n                    variant=\"scrollable\"\n                    scrollButtons=\"on\"\n                    indicatorColor=\"primary\"\n                    textColor=\"primary\"\n                    aria-label=\"scrollable force tabs example\"\n                >\n                   \t<Tab \n\t\t\t\t\t\tlabel=\"Mi empresa\"\n\t\t\t\t\t\ticon={<FcShop className={classes.icon}/>} {...a11yProps(0)} \n\t\t\t\t\t/>\n\t\t\t\t\t<Tab\n\t\t\t\t\t\tlabel=\"Almacenes\"\n\t\t\t\t\t\ticon={<img src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/almacen.svg' alt=\"icono almacen\" className={classes.iconSvg} />}\n\t\t\t\t\t\t{...a11yProps(1)}\n\t\t\t\t\t/>\n\t\t\t\t\t<Tab \n\t\t\t\t\t\tlabel=\"Compras\" \n\t\t\t\t\t\ticon={<FcPaid className={classes.icon} />} {...a11yProps(2)} \n\t\t\t\t\t/>\n\t\t\t\t\t<Tab \n\t\t\t\t\t\tlabel=\"Catalogos\" \n\t\t\t\t\t\ticon={<FcNews className={classes.icon} />} {...a11yProps(3)} \n\t\t\t\t\t/>\n\t\t\t\t\t<Tab\n\t\t\t\t\t\tlabel=\"Tesoreria\"\n\t\t\t\t\t\ticon={<img src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/money.svg' alt=\"icono money\" className={classes.iconSvg} />}\n\t\t\t\t\t\t{...a11yProps(4)}\n\t\t\t\t\t/>\n\t\t\t\t\t<Tab\n\t\t\t\t\t\tlabel=\"Reportes\"\n\t\t\t\t\t\ticon={<FcSurvey className={classes.icon} />}\n\t\t\t\t\t\t{...a11yProps(5)}\n\t\t\t\t\t\n\t\t\t\t\t/>\n\t\t\t\t\t<Tab\n\t\t\t\t\t\tlabel=\"Facturación\"\n\t\t\t\t\t\ticon={<img src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/factura.svg' alt=\"icono factura\" className={classes.iconSvg} />}\n\t\t\t\t\t\t{...a11yProps(6)}\n\t\t\t\t\t/>\n\t\t\t\t\t<Tab\n\t\t\t\t\t\tlabel=\"Ventas\"\n\t\t\t\t\t\ticon={<img src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/ventas/cart-add.svg' alt=\"icono ventas\" className={classes.iconSvg} />}\n\t\t\t\t\t\t{...a11yProps(7)}\n\t\t\t\t\t/>\n                </Tabs>\n            </AppBar>\n\t\t\t<TabPanel value={value} index={0}>\n\t\t\t\t<Box p={2}>\n\t\t\t\t\t<MiEmpresa obtenerAccesos={obtenerAccesos} arregloAccesos={arregloAccesos} />\n\t\t\t\t</Box>\n\t\t\t</TabPanel>\n\t\t\t<TabPanel value={value} index={1}>\n\t\t\t\t<Box p={2}>\n\t\t\t\t\t<Almacenes obtenerAccesos={obtenerAccesos} arregloAccesos={arregloAccesos} />\n\t\t\t\t</Box>\n\t\t\t</TabPanel>\n\t\t\t<TabPanel value={value} index={2}>\n\t\t\t\t<Box p={2}>\n\t\t\t\t\t<Compras obtenerAccesos={obtenerAccesos} arregloAccesos={arregloAccesos} />\n\t\t\t\t</Box>\n\t\t\t</TabPanel>\n\t\t\t<TabPanel value={value} index={3}>\n\t\t\t\t<Box p={0}>\n\t\t\t\t\t<Catalogos obtenerAccesos={obtenerAccesos} arregloAccesos={arregloAccesos} />\n\t\t\t\t</Box>\n\t\t\t</TabPanel>\n\t\t\t<TabPanel value={value} index={4}>\n\t\t\t\t<Box p={2}>\n\t\t\t\t\t<Tesoreria obtenerAccesos={obtenerAccesos} arregloAccesos={arregloAccesos} />\n\t\t\t\t</Box>\n\t\t\t</TabPanel>\n\t\t\t<TabPanel value={value} index={5}>\n\t\t\t\t<Box p={2}>\n\t\t\t\t\t<Reportes obtenerAccesos={obtenerAccesos} arregloAccesos={arregloAccesos} />\n\t\t\t\t</Box>\n\t\t\t</TabPanel>\n\t\t\t<TabPanel value={value} index={6}>\n\t\t\t\t<Box p={2}>\n\t\t\t\t\t<Facturacion obtenerAccesos={obtenerAccesos} arregloAccesos={arregloAccesos} />\n\t\t\t\t</Box>\n\t\t\t</TabPanel>\n\t\t\t<TabPanel value={value} index={7}>\n\t\t\t\t<Box p={2}>\n\t\t\t\t\t<Ventas obtenerAccesos={obtenerAccesos} arregloAccesos={arregloAccesos} />\n\t\t\t\t</Box>\n\t\t\t</TabPanel>\n        </>\n    )\n}\n","import React, { useState, Fragment, useContext, useCallback } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport PropTypes from 'prop-types';\nimport CloseIcon from '@material-ui/icons/Close';\nimport DoneIcon from '@material-ui/icons/Done';\nimport { Button, IconButton, Tabs } from '@material-ui/core';\nimport { Dialog, DialogActions, Box } from '@material-ui/core';\nimport FormularioUsuario from './FormularioUsuario';\nimport AsignarPermisos from './AsingarAccesos/AsignarPermisos';\nimport { Add, Edit } from '@material-ui/icons';\nimport { UsuarioContext } from '../../../../context/Catalogos/usuarioContext';\nimport BackdropComponent from '../../../../components/Layouts/BackDrop';\nimport SnackBarMessages from '../../../../components/SnackBarMessages';\n\nimport arregloVacio from './AsingarAccesos/arregloVacioAcceso'\nimport { useMutation } from '@apollo/client';\nimport { CREAR_USUARIO, ACTUALIZAR_USUARIO } from '../../../../gql/Catalogos/usuarios';\nimport { cleanTypenames, numerosRandom } from '../../../../config/reuserFunctions';\nimport { AppBar } from '@material-ui/core';\nimport { Tab } from '@material-ui/core';\n\nfunction TabPanel(props) {\n\tconst { children, value, index, ...other } = props;\n\treturn (\n\t\t<div\n\t\t\trole=\"tabpanel\"\n\t\t\thidden={value !== index}\n\t\t\tid={`tabpanel-reg-product-${index}`}\n\t\t\taria-labelledby={`reg-product-tab-${index}`}\n\t\t\t{...other}\n\t\t>\n\t\t\t{value === index && (\n\t\t\t\t<Box minHeight=\"70vh\">\n\t\t\t\t\t{children}\n\t\t\t\t</Box>\n\t\t\t)}\n\t\t</div>\n\t);\n}\n\nTabPanel.propTypes = {\n\tchildren: PropTypes.node,\n\tindex: PropTypes.any.isRequired,\n\tvalue: PropTypes.any.isRequired\n};\n\nfunction a11yProps(index) {\n\treturn {\n\t\tid: `reg-product-tab-${index}`,\n\t\t'aria-controls': `tabpanel-reg-product-${index}`\n\t};\n}\n\nconst useStyles = makeStyles((theme) => ({\n\tformInputFlex: {\n\t\tdisplay: 'flex',\n\t\t'& > *': {\n\t\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(2)}px`\n\t\t}\n\t},\n\tformInput: {\n\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(2)}px`\n\t},\n\trootPrincipal:{\n\t\tpadding: 0,\n\t\tmargin: 0\n\t},\n\troot: {\n\t\tflexGrow: 1,\n\t\twidth: '100%',\n\t\tbackgroundColor: theme.palette.background.paper\n\t},\n\ticonSvg: {\n\t\twidth: 50\n\t}\n}));\n\nexport default function CrearUsuario({ accion, datos }) {\n\tconst classes = useStyles();\n\tconst { usuario, setUsuario, setError, update, setUpdate } = useContext(UsuarioContext);\n\tconst [ open, setOpen ] = useState(false);\n\tconst [ value, setValue ] = useState(0);\n\tconst [ loading, setLoading ] = useState(false);\n\tconst [ alert, setAlert ] = useState({ message: '', status: '', open: false });\n\tconst sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\n\tconst limpiarCampos = useCallback(\n\t\t() => {\n\t\t\tsetUsuario({\n\t\t\t\tdireccion: {\n\t\t\t\t\tcalle: '',\n\t\t\t\t\tno_ext: '',\n\t\t\t\t\tno_int: '',\n\t\t\t\t\tcodigo_postal: '',\n\t\t\t\t\tcolonia: '',\n\t\t\t\t\tmunicipio: '',\n\t\t\t\t\tlocalidad: '',\n\t\t\t\t\testado: '',\n\t\t\t\t\tpais: ''\n\t\t\t\t},\n\t\t\t\tturno_en_caja_activo: false,\n\t\t\t\testado_usuario: true,\n\t\t\t\taccesos: arregloVacio\n\t\t\t});\n\t\t},\n\t\t[ setUsuario ]\n\t);\n\n\tconst handleChange = (event, newValue) => {\n\t\tsetValue(newValue);\n\t};\n\n\tconst toggleModal = () => {\n\t\tsetOpen(true);\n\t\tif (accion !== 'registrar') {\n\t\t\tsetUsuario(datos);\n\t\t}\n\t};\n\t\n\tconst onCloseModal = () => {\n\t\tsetOpen(false);\n\t\tlimpiarCampos();\n\t};\n\n\tconst obtenerAccesos = (event, departamento, subDepartamentos) => {\n        const { name, checked } = event.target;\n        setUsuario({\n\t\t\t...usuario, accesos:{ ...usuario.accesos, \n\t\t\t\t[departamento]: {...usuario.accesos[departamento], \n\t\t\t\t\t[subDepartamentos]: {...usuario.accesos[departamento][subDepartamentos], [name]: checked }}\n\t\t\t}\n\t\t});\n\t};\n\n\t/* Mutations */\n\tconst [ crearUsuario ] = useMutation(CREAR_USUARIO);\n\tconst [ actualizarUsuario ] = useMutation(ACTUALIZAR_USUARIO);\n\tconst saveData = async () => {\n\t\tif (accion === 'registrar') {\n\t\t\tif (\n\t\t\t\t!usuario.nombre ||\n\t\t\t\t!usuario.password ||\n\t\t\t\t!usuario.repeatPassword ||\n\t\t\t\t!usuario.telefono ||\n\t\t\t\t!usuario.email\n\t\t\t) {\n\t\t\t\tsetError({ error: true, message: 'Este campo es requerido' });\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (usuario.password !== usuario.repeatPassword) {\n\t\t\t\tsetError({ error: true, message: 'Las contraseñas no coinciden' });\n\t\t\t\treturn;\n\t\t\t}\n\t\t} else {\n\t\t\tif (!usuario.nombre || !usuario.telefono || !usuario.email) {\n\t\t\t\tsetError({ error: true, message: 'Este campo es requerido' });\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\tsetLoading(true);\n\t\ttry {\n\t\t\tif (accion === 'registrar') {\n\t\t\t\tusuario.numero_usuario = numerosRandom(100000000, 999999999);\n\t\t\t\tusuario.empresa = sesion.empresa._id;\n\t\t\t\tusuario.sucursal = sesion.sucursal._id;\n\t\t\t\tusuario.turno_en_caja_activo = false;\n\t\t\t\tconst input = usuario;\n\t\t\t\tawait crearUsuario({\n\t\t\t\t\tvariables: {\n\t\t\t\t\t\tinput\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tconst { numero_usuario, _id, sucursal, empresa, turno_en_caja_activo, estado_usuario, ...input } = usuario;\n\t\t\t\tawait actualizarUsuario({\n\t\t\t\t\tvariables: {\n\t\t\t\t\t\tinput: input,\n\t\t\t\t\t\tid: usuario._id\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\tsetUpdate(!update);\n\t\t\tsetAlert({ message: '¡Listo!', status: 'success', open: true });\n\t\t\tsetError({ error: false, message: '' });\n\t\t\tsetLoading(false);\n\t\t\tonCloseModal();\n\t\t} catch (error) {\n\t\t\tsetAlert({ message: 'Hubo un error en el servidor', status: 'error', open: true });\n\t\t\tsetLoading(false);\n\t\t}\n\t};\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<SnackBarMessages alert={alert} setAlert={setAlert} />\n\t\t\t{accion === 'registrar' ? (\n\t\t\t\t<Button color=\"primary\" variant=\"contained\" size=\"large\" onClick={toggleModal}>\n\t\t\t\t\t<Add /> Nuevo Usuario\n\t\t\t\t</Button>\n\t\t\t) : (\n\t\t\t\t<IconButton onClick={toggleModal}>\n\t\t\t\t\t<Edit />\n\t\t\t\t</IconButton>\n\t\t\t)}\n\t\t\t<Dialog open={open} onClose={onCloseModal} fullWidth maxWidth=\"md\">\n\t\t\t\t<Box className={classes.root}>\n\t\t\t\t\t<BackdropComponent loading={loading} setLoading={setLoading} />\n\t\t\t\t\t<AppBar position=\"static\" color=\"default\" elevation={0}>\n\t\t\t\t\t\t<Tabs\n\t\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\tvariant=\"scrollable\"\n\t\t\t\t\t\t\tscrollButtons=\"on\"\n\t\t\t\t\t\t\tindicatorColor=\"primary\"\n\t\t\t\t\t\t\ttextColor=\"primary\"\n\t\t\t\t\t\t\taria-label=\"scrollable force tabs example\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Tab\n\t\t\t\t\t\t\t\tlabel=\"Información básica\"\n\t\t\t\t\t\t\t\ticon={<img src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/perfil.svg' alt=\"icono perfil\" className={classes.iconSvg} />}\n\t\t\t\t\t\t\t\t{...a11yProps(0)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Tab\n\t\t\t\t\t\t\t\tlabel=\"Permisos\"\n\t\t\t\t\t\t\t\ticon={<img src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/permisos.svg' alt=\"icono factura\" className={classes.iconSvg} />}\n\t\t\t\t\t\t\t\t{...a11yProps(1)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Box ml={58} mt={3} >\n\t\t\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"secondary\" onClick={onCloseModal} size=\"large\">\n\t\t\t\t\t\t\t\t\t\t<CloseIcon />\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Tabs>\n\t\t\t\t\t</AppBar>\n\t\t\t\t\t<TabPanel value={value} index={0}>\n\t\t\t\t\t\t<Box p={2}>\n\t\t\t\t\t\t\t<FormularioUsuario accion={accion} />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</TabPanel>\n\t\t\t\t\t<TabPanel value={value} index={1}>\n\t\t\t\t\t\t<AsignarPermisos \n\t\t\t\t\t\t\tarregloAccesos={usuario.accesos}\n\t\t\t\t\t\t\tobtenerAccesos={obtenerAccesos}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</TabPanel>\n\t\t\t\t</Box>\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\tonClick={saveData}\n\t\t\t\t\t\tsize=\"large\"\n\t\t\t\t\t\tstartIcon={<DoneIcon />}\n\t\t\t\t\t>\n\t\t\t\t\t\tGuardar\n\t\t\t\t\t</Button>\n\t\t\t\t</DialogActions>\n\t\t\t</Dialog>\n\t\t</Fragment>\n\t);\n}\n","import React, { useContext, useEffect, useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport { Table, TableBody, TableCell, TableContainer, TableHead, TablePagination, TableRow } from '@material-ui/core';\nimport { Box, Button, CircularProgress, Dialog, DialogActions, Divider, Grid } from '@material-ui/core';\nimport { DialogContent, DialogTitle, IconButton, Typography, Avatar, Switch } from '@material-ui/core';\nimport CrearUsario from './CrearUsuario';\nimport ErrorPage from '../../../../components/ErrorPage';\nimport { Dehaze, Delete } from '@material-ui/icons';\nimport { UsuarioContext } from '../../../../context/Catalogos/usuarioContext';\n\nimport { useQuery, useMutation } from '@apollo/client';\nimport { OBTENER_USUARIOS, ACTUALIZAR_USUARIO } from '../../../../gql/Catalogos/usuarios';\n\nconst columns = [\n\t{ id: 1, label: 'No. Usuario', minWidth: 100 },\n\t{ id: 3, label: 'Nombre', minWidth: 150 },\n\t{ id: 5, label: 'Correo', minWidth: 150 },\n\t{ id: 7, label: 'Estado', minWidth: 100 },\n\t{ id: 8, label: 'Detalles', minWidth: 50, align: 'right' },\n\t// { id: 9, label: 'Editar', minWidth: 50, align: 'right'},\n\t// { id: 10, label: 'Eliminar', minWidth: 50, align: 'right' }\n];\n\nconst useStyles = makeStyles({\n\troot: {\n\t\twidth: '100%'\n\t},\n\tcontainer: {\n\t\tmaxHeight: '70vh'\n\t},\n\tavatar: {\n\t\twidth: 130,\n\t\theight: 130\n\t}\n});\n\nexport default function ListaUsuarios({ sucursal, filtro }) {\n\tconst classes = useStyles();\n\tconst permisosUsuario = JSON.parse(localStorage.getItem('sesionCafi'));\n\tconst { update } = useContext(UsuarioContext);\n\tconst [ page, setPage ] = useState(0);\n\tconst [ rowsPerPage, setRowsPerPage ] = useState(10);\n\n\t/* Queries */\n\tconst { loading, data, error, refetch } = useQuery(OBTENER_USUARIOS, {\n\t\tvariables: { sucursal, filtro }\n\t});\n\n\tuseEffect(\n\t\t() => {\n\t\t\trefetch();\n\t\t},\n\t\t[ update, refetch ]\n\t);\n\n\tconst handleChangePage = (event, newPage) => {\n\t\tsetPage(newPage);\n\t};\n\n\tconst handleChangeRowsPerPage = (event) => {\n\t\tsetRowsPerPage(+event.target.value);\n\t\tsetPage(0);\n\t};\n\n\tif (loading)\n\t\treturn (\n\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" height=\"30vh\">\n\t\t\t\t<CircularProgress />\n\t\t\t</Box>\n\t\t);\n\tif (error) {\n\t\treturn <ErrorPage error={error} />;\n\t}\n\n\tconst { obtenerUsuarios } = data;\n\n\treturn (\n\t\t<Paper className={classes.root}>\n\t\t\t<TableContainer className={classes.container}>\n\t\t\t\t<Table stickyHeader aria-label=\"sticky table\">\n\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t{columns.map((column) => (\n\t\t\t\t\t\t\t\t<TableCell key={column.id} align={column.align}>\n\t\t\t\t\t\t\t\t\t{column.label}\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t{permisosUsuario.accesos.catalogos.usuarios.editar === false ? (null):(\n\t\t\t\t\t\t\t\t<TableCell key={9} align={'right'}>\n\t\t\t\t\t\t\t\t\tEditar\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{permisosUsuario.accesos.catalogos.usuarios.eliminar === false ? (null):(\n\t\t\t\t\t\t\t\t<TableCell key={10} align={'right'}>\n\t\t\t\t\t\t\t\t\tEliminar\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t</TableHead>\n\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t{obtenerUsuarios\n\t\t\t\t\t\t\t.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\n\t\t\t\t\t\t\t.map((row, index) => {\n\t\t\t\t\t\t\t\treturn <RowsRender key={index} datos={row} />;\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t</TableBody>\n\t\t\t\t</Table>\n\t\t\t</TableContainer>\n\t\t\t<TablePagination\n\t\t\t\trowsPerPageOptions={[]}\n\t\t\t\tcomponent=\"div\"\n\t\t\t\tcount={obtenerUsuarios.length}\n\t\t\t\trowsPerPage={rowsPerPage}\n\t\t\t\tpage={page}\n\t\t\t\tonChangePage={handleChangePage}\n\t\t\t\tonChangeRowsPerPage={handleChangeRowsPerPage}\n\t\t\t/>\n\t\t</Paper>\n\t);\n}\n\nconst RowsRender = ({ datos }) => {\n\tconst permisosUsuario = JSON.parse(localStorage.getItem('sesionCafi'));\n\n\tconst [ openDetalles, setOpenDetalles ] = useState(false);\n\tconst { update, setUpdate } = useContext(UsuarioContext);\n\tconst [ loading, setLoading ] = useState(false);\n\n\tconst handleDetalles = () => setOpenDetalles(!openDetalles);\n\n\tconst [ actualizarUsuario ] = useMutation(ACTUALIZAR_USUARIO);\n\n\tconst cambiarEstado = async (e) => {\n\t\tsetLoading(true);\n\n\t\ttry {\n\t\t\tawait actualizarUsuario({\n\t\t\t\tvariables: {\n\t\t\t\t\tinput: {\n\t\t\t\t\t\testado_usuario: e.target.checked\n\t\t\t\t\t},\n\t\t\t\t\tid: datos._id\n\t\t\t\t}\n\t\t\t});\n\t\t\tsetUpdate(!update);\n\t\t\tsetLoading(false);\n\t\t} catch (error) {\n\t\t\tsetLoading(false);\n\t\t}\n\t};\n\n\treturn (\n\t\t<TableRow hover role=\"checkbox\" tabIndex={-1}>\n\t\t\t<TableCell>\n\t\t\t\t<Typography>{datos.numero_usuario}</Typography>\n\t\t\t</TableCell>\n\t\t\t<TableCell>\n\t\t\t\t<Typography>{datos.nombre}</Typography>\n\t\t\t</TableCell>\n\t\t\t<TableCell>\n\t\t\t\t<Typography>{datos.email}</Typography>\n\t\t\t</TableCell>\n\t\t\t<TableCell>\n\t\t\t\t{loading ? (\n\t\t\t\t\t<CircularProgress size={30} />\n\t\t\t\t) : (\n\t\t\t\t\t<Switch\n\t\t\t\t\t\tchecked={datos.estado_usuario}\n\t\t\t\t\t\tonChange={cambiarEstado}\n\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t</TableCell>\n\t\t\t<TableCell width={50}>\n\t\t\t\t<ModalDetalles openDetalles={openDetalles} handleDetalles={handleDetalles} datos={datos} />\n\t\t\t</TableCell>\n\t\t\t{permisosUsuario.accesos.catalogos.usuarios.editar === false ? (null):(\n\t\t\t\t<TableCell width={50}>\n\t\t\t\t\t<CrearUsario accion=\"actualizar\" datos={datos} />\n\t\t\t\t</TableCell>\n\t\t\t)}\n\t\t\t{permisosUsuario.accesos.catalogos.usuarios.eliminar === false ? (null):(\n\t\t\t\t<TableCell width={50}>\n\t\t\t\t\t<IconButton color=\"secondary\">\n\t\t\t\t\t\t<Delete />\n\t\t\t\t\t</IconButton>\n\t\t\t\t</TableCell>\n\t\t\t)}\n\t\t\n\t\t</TableRow>\n\t);\n};\n\nconst ModalDetalles = ({ handleDetalles, openDetalles, datos }) => {\n\tconst classes = useStyles();\n\treturn (\n\t\t<div>\n\t\t\t<IconButton onClick={handleDetalles}>\n\t\t\t\t<Dehaze />\n\t\t\t</IconButton>\n\t\t\t<Dialog open={openDetalles} onClose={handleDetalles} fullWidth maxWidth=\"md\">\n\t\t\t\t<DialogTitle>{'Información completa del cliente'}</DialogTitle>\n\t\t\t\t<DialogContent>\n\t\t\t\t\t<Box mt={3}>\n\t\t\t\t\t\t<Typography variant=\"h6\">Información básica</Typography>\n\t\t\t\t\t\t<Divider />\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box display=\"flex\">\n\t\t\t\t\t\t<Box mt={3} height={120} width={120} display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t<Avatar className={classes.avatar} src={datos.imagen} />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t<b>Número de usuario: </b>\n\t\t\t\t\t\t\t\t{datos.numero_usuario}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t<b>Nombre: </b>\n\t\t\t\t\t\t\t\t{datos.nombre}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t<b>Correo: </b>\n\t\t\t\t\t\t\t\t{datos.email ? datos.email : ' -'}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t<b>Telefono: </b>\n\t\t\t\t\t\t\t\t{datos.telefono ? datos.telefono : ' -'}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t<b>Celular: </b>\n\t\t\t\t\t\t\t\t{datos.celular ? datos.celular : ' -'}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t<b>Estado del usuario: </b>\n\t\t\t\t\t\t\t\t{datos.estado_usuario ? 'Activo' : 'Inactivo'}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t\t<Grid item md={6}>\n\t\t\t\t\t\t\t<Box mt={3}>\n\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\t<b>Dirección</b>\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t<Divider />\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box display=\"flex\">\n\t\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\t\t<b>Calle: </b>\n\t\t\t\t\t\t\t\t\t\t{datos.direccion.calle ? datos.direccion.calle : ' -'}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\t\t<b>No. Exterior: </b>\n\t\t\t\t\t\t\t\t\t\t{datos.direccion.no_ext ? datos.direccion.no_ext : ' -'}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\t\t<b>No. Interior: </b>\n\t\t\t\t\t\t\t\t\t\t{datos.direccion.no_int ? datos.direccion.no_int : ' -'}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\t\t<b>Código postal: </b>\n\t\t\t\t\t\t\t\t\t\t{datos.direccion.codigo_postal ? datos.direccion.codigo_postal : ' -'}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\t\t<b>Colonia: </b>\n\t\t\t\t\t\t\t\t\t\t{datos.direccion.colonia ? datos.direccion.colonia : ' -'}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\t\t<b>Municipio: </b>\n\t\t\t\t\t\t\t\t\t\t{datos.direccion.municipio ? datos.direccion.municipio : ' -'}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\t\t<b>Localidad: </b>\n\t\t\t\t\t\t\t\t\t\t{datos.direccion.localidad ? datos.direccion.localidad : ' -'}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\t\t<b>Estado: </b>\n\t\t\t\t\t\t\t\t\t\t{datos.direccion.estado ? datos.direccion.estado : ' -'}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\t\t<b>Pais: </b>\n\t\t\t\t\t\t\t\t\t\t{datos.direccion.pais ? datos.direccion.pais : ' -'}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t</DialogContent>\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Button onClick={handleDetalles} color=\"primary\" variant=\"contained\" size=\"large\">\n\t\t\t\t\t\tCerrar\n\t\t\t\t\t</Button>\n\t\t\t\t</DialogActions>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n};\n","import React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { Search } from '@material-ui/icons';\nimport Slide from '@material-ui/core/Slide';\nimport { Box, Paper, InputBase, IconButton } from '@material-ui/core';\nimport ListaUsuarios from './ListaUsuario';\nimport CrearUsuario from './CrearUsuario';\nimport { UsuarioProvider } from '../../../../context/Catalogos/usuarioContext';\n\nconst useStyles = makeStyles((theme) => ({\n\tappBar: {\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n\ticon: {\n\t\twidth: 100\n\t},\n\troot: {\n\t\tdisplay: 'flex',\n\t\tpaddingLeft: theme.spacing(2)\n\t}\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function Usuarios() {\n\tconst classes = useStyles();\n\tconst permisosUsuario = JSON.parse(localStorage.getItem('sesionCafi'));\n\n\tconst [ open, setOpen ] = React.useState(false);\n\tconst [ filtro, setFiltro ] = useState('');\n\tconst [ values, setValues ] = useState('');\n\tconst sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\n\tconst handleClickOpen = () => {\n\t\tsetOpen(true);\n\t};\n\n\tconst handleClose = () => {\n\t\tsetOpen(false);\n\t};\n\n\tconst pressEnter = (e) => {\n\t\tif (e.key === 'Enter') setFiltro(e.target.defaultValue);\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<UsuarioProvider>\n\t\t\t\t<Button fullWidth onClick={handleClickOpen}>\n\t\t\t\t\t<Box display=\"flex\" flexDirection=\"column\">\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t<img src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/usuarios.svg' alt=\"icono numero calzado\" className={classes.icon} />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\tUsuarios\n\t\t\t\t\t</Box>\n\t\t\t\t</Button>\n\t\t\t\t<Dialog fullScreen open={open} onClose={handleClose} TransitionComponent={Transition}>\n\t\t\t\t\t<AppBar className={classes.appBar}>\n\t\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t\t<Typography variant=\"h6\" className={classes.title}>\n\t\t\t\t\t\t\t\tUsuarios\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Box m={1}>\n\t\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"secondary\" onClick={handleClose} size=\"large\">\n\t\t\t\t\t\t\t\t\t<CloseIcon style={{fontSize: 30}} />\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Toolbar>\n\t\t\t\t\t</AppBar>\n\n\t\t\t\t\t<Box m={3} display=\"flex\" justifyContent=\"space-between\">\n\t\t\t\t\t\t<Box mr={5} minWidth=\"70%\">\n\t\t\t\t\t\t\t<Paper className={classes.root}>\n\t\t\t\t\t\t\t\t<InputBase\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\tplaceholder=\"Buscar cliente...\"\n\t\t\t\t\t\t\t\t\tonChange={(e) => setValues(e.target.value)}\n\t\t\t\t\t\t\t\t\tonKeyPress={pressEnter}\n\t\t\t\t\t\t\t\t\tvalue={values}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<IconButton onClick={() => setFiltro(values)}>\n\t\t\t\t\t\t\t\t\t<Search />\n\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t</Paper>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t{permisosUsuario.accesos.catalogos.usuarios.agregar === false ? (null):(\n\t\t\t\t\t\t\t<CrearUsuario accion=\"registrar\" datos={undefined} />\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box mx={4}>\n\t\t\t\t\t\t<ListaUsuarios sucursal={sesion.sucursal._id} filtro={filtro} />\n\t\t\t\t\t</Box>\n\t\t\t\t</Dialog>\n\t\t\t</UsuarioProvider>\n\t\t</div>\n\t);\n}\n","import React, { createContext, useState } from 'react';\n\nexport const CreateDepartamentosContext = createContext();\n\nexport const DepartamentosProvider = ({ children }) => {\n    const [data, setData] = useState({\n\t\tnombre_departamentos:''\n\t});\n    const [ update, setUpdate ] = useState(false);\n    const [ error, setError ] = useState(false);\n    const [ accion, setAccion ] = useState(true);\n    const [ openRegistro, setOpenRegistro ] = useState(false);\n    const [ idDepartamento, setIdDepartamento ] = useState(\"\");\n    const [ alert, setAlert ] = useState({ message: '', status: '', open: false });\n    const [  loading, setLoading ] = useState(false);\n\n\n\treturn (\n\t\t<CreateDepartamentosContext.Provider value={\n            { \n                data, \n                setData,\n                update,\n                setUpdate,\n                error,\n                setError,\n                openRegistro,\n                setOpenRegistro,\n                accion,\n                setAccion,\n                idDepartamento, \n                setIdDepartamento,\n                alert,\n                setAlert,\n                loading,\n                setLoading\n            }\n        }>\n\t\t\t{children}\n\t\t</CreateDepartamentosContext.Provider>\n\t);\n};\n","import React, { useState, useEffect, useContext } from 'react';\nimport { \n    Paper, \n    makeStyles, \n    Table, \n    TableBody, \n    TableCell, \n    TableContainer, \n    TableHead, \n    TableRow,\n\tIconButton,\n\tTablePagination,\n\tDialog,\n\tDialogTitle,\n\tDialogActions,\n\tButton\n} from '@material-ui/core/';\n \nimport { Delete, Edit, Close } from '@material-ui/icons';\n\nimport { useQuery, useMutation } from '@apollo/client';\nimport { OBTENER_DEPARTAMENTOS, ELIMINAR_DEPARTAMENTO } from '../../../../gql/Catalogos/departamentos';\n// import ContainerRegistroAlmacen from './RegistroDepartamento';\n import { CreateDepartamentosContext } from '../../../../context/Catalogos/Departamentos';\n\nconst useStyles = makeStyles((theme) => ({\n\troot: { \n\t\twidth: '100%'\n\t},\n\tpaper: {\n\t\twidth: '100%',\n\t\tmarginBottom: theme.spacing(2)\n\t}\n}));\n\nexport default function TablaDepartamentos() {\n\tconst classes = useStyles();\n\tconst [ page, setPage ] = useState(0);\n\tconst [ rowsPerPage, setRowsPerPage ] = useState(8);\n\tconst [open, setOpen] = useState(false);\n\tconst sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\tlet obtenerDepartamentos = [];\n\n\tconst { update, setAccion, idDepartamento,setIdDepartamento, setData, setAlert, setLoading } = useContext(CreateDepartamentosContext);\n\tconst [ eliminarDepartamento ] = useMutation(ELIMINAR_DEPARTAMENTO);\n\t/* Queries */\n\tconst { data, refetch } = useQuery(OBTENER_DEPARTAMENTOS,{\n\t\tvariables: {\n\t\t\tempresa: sesion.empresa._id,\n\t\t\tsucursal: sesion.sucursal._id\n\t\t}\n\t});\t\n\n\tconst handleModal = () => setOpen(!open);\n\tuseEffect(\n\t\t() => {\n\t\t\trefetch();\n\t\t},\n\t\t[ update, refetch ]\n\t);\n\n\tconst handleDelete = async () => {\n   \n\t\tsetLoading(true);\n\t\ttry {\n            const resultado = await eliminarDepartamento({\n                variables: {\n                    id: idDepartamento\n                }\n            });\n\n\t\t\tif(resultado.data.eliminarDepartamento.message === 'false'){\n\t\t\t\tsetAlert({ message: 'Departamento eliminado con exito', status: 'success', open: true });\n\t\t\t}else{\n\t\t\t\tsetAlert({ message: resultado.data.eliminarDepartamento.message, status: 'error', open: true });\n\t\t\t};\n\n\t\t\trefetch();\n\t\t\tsetLoading(false);\n\t\t\tsetOpen(false)\n\t\t\tsetIdDepartamento('');\n\t\t\n\t\t} catch (error) {\n\t\t\tconsole.log(error);\n\t\t\tsetAlert({ message: 'Hubo un error', status: 'error', open: true });\n\t\t\tsetLoading(false);\n\t\t}\n\t};\n\n\tconst handleChangePage = (event, newPage) => {\n\t\tsetPage(newPage);\n\t};\n\n\tconst handleChangeRowsPerPage = (event) => {\n\t\tsetRowsPerPage(parseInt(event.target.value, 10));\n\t\tsetPage(0);\n\t};\n\n\tif(data){\n\t\tobtenerDepartamentos = data.obtenerDepartamentos\n\t}\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Paper className={classes.paper}>\n\t\t\t\t<TableContainer>\n\t\t\t\t\t<Table\n\t\t\t\t\t\tclassName={classes.table}\n\t\t\t\t\t\taria-labelledby=\"tableTitle\"\n\t\t\t\t\t\tsize=\"medium\"\n\t\t\t\t\t\taria-label=\"enhanced table\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t<TableCell>Departamentos</TableCell>\n\t\t\t\t\t\t\t\t{sesion.accesos.catalogos.departamentos.editar === false ? (null):(\n\t\t\t\t\t\t\t\t\t<TableCell padding=\"default\">Editar</TableCell>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t{sesion.accesos.catalogos.departamentos.eliminar === false ? (null):(\n\t\t\t\t\t\t\t\t\t<TableCell padding=\"default\">Eliminar</TableCell>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t</TableHead>\n\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t{obtenerDepartamentos?.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)?.map((row, index) => {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<TableRow hover role=\"checkbox\" tabIndex={-1} key={row._id}selected={idDepartamento === row._id ? true : false}>\n\t\t\t\t\t\t\t\t\t\t\t<TableCell>{row.nombre_departamentos}</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t{sesion.accesos.catalogos.departamentos.editar === false ?(null):(\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell padding=\"checkbox\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{idDepartamento === row._id ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<IconButton onClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetIdDepartamento(\"\");\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetData({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tnombre_departamentos: \"\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}); \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Close />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<IconButton onClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetAccion(false)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetData({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tnombre_departamentos: row.nombre_departamentos\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetIdDepartamento(row._id);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Edit />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t{sesion.accesos.catalogos.departamentos.eliminar === false ?(null):(\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell padding=\"checkbox\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<IconButton onClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetIdDepartamento(row._id);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleModal();\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Delete />\n\t\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t</Table>\n\t\t\t\t</TableContainer>\n\t\t\t\t<TablePagination\n\t\t\t\t\trowsPerPageOptions={[]}\n\t\t\t\t\tcomponent=\"div\"\n\t\t\t\t\tcount={obtenerDepartamentos.length}\n\t\t\t\t\trowsPerPage={rowsPerPage}\n\t\t\t\t\tpage={page}\n\t\t\t\t\tonChangePage={handleChangePage}\n\t\t\t\t\tonChangeRowsPerPage={handleChangeRowsPerPage}\n\t\t\t\t/>\n\t\t\t</Paper>\n\t\t\t<Modal handleModal={handleModal} openModal={open} handleDelete={handleDelete} />\n\t\t</div>\n\t);\n}\n\n\nconst Modal = ({ handleModal, openModal, handleDelete }) => {\n\treturn (\n\t\t<div>\n\t\t\t<Dialog open={openModal} onClose={handleModal}>\n\t\t\t\t<DialogTitle>{'¿Seguro que quieres eliminar esto?'}</DialogTitle>\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Button onClick={handleModal} color=\"primary\">\n\t\t\t\t\t\tCancelar\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button color=\"secondary\" autoFocus variant=\"contained\" onClick={handleDelete}>\n\t\t\t\t\t\tOK\n\t\t\t\t\t</Button>\n\t\t\t\t</DialogActions>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n};\n","import React, { useState, useContext } from 'react';\nimport { Box, Button, TextField } from '@material-ui/core';\nimport { Add } from '@material-ui/icons';\nimport TablaDepartamentos from './ListaDepartamentos';\nimport { REGISTRAR_DEPARTAMENTO,  ACTUALIZAR_DEPARTAMENTO  } from '../../../../gql/Catalogos/departamentos';\nimport { useMutation } from '@apollo/client';\nimport { CreateDepartamentosContext } from '../../../../context/Catalogos/Departamentos';\nimport SnackBarMessages from '../../../../components/SnackBarMessages';\nimport BackdropComponent from '../../../../components/Layouts/BackDrop';\nimport { cleanTypenames } from '../../../../config/reuserFunctions';\n\nexport default function RegistroDepartamentos() {\n\tconst { data, setData, update, setUpdate, error, setError, accion, setAccion, idDepartamento, setIdDepartamento , setLoading, setAlert, loading, alert} = useContext(CreateDepartamentosContext);\n\tconst sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\n\tconst obtenerDatos = (e) => {\n\t\tsetData({\n\t\t\t...data,\n\t\t\t[e.target.name]: e.target.value\n\t\t})\n\t}\n\n\tconst [ CrearDepartamentos ] = useMutation(REGISTRAR_DEPARTAMENTO);\n\tconst [ ActualzarDepartamentos ] = useMutation(ACTUALIZAR_DEPARTAMENTO);\n\n\n\n\tconst saveData = async () => {\n\t\ttry {\n\t\t\tif(!data.nombre_departamentos){\n\t\t\t\tsetError(true);\n\t\t\t    return;\n\t\t\t}else{\n\t\t\t\tconst input = data\n\t\t\t\tif(accion){\n\t\t\t\t\tif (sesion.accesos.catalogos.departamentos.agregar === false) {\n\t\t\t\t\t\treturn setAlert({ message: '¡Lo sentimos no tienes autorización para esta acción!', status: 'error', open: true });\n\t\t\t\t\t}else{\n\t\t\t\t\t\tawait CrearDepartamentos({\n\t\t\t\t\t\t\tvariables: {\n\t\t\t\t\t\t\t\tinput,\n\t\t\t\t\t\t\t\tempresa: sesion.empresa._id,\n\t\t\t\t\t\t\t\tsucursal: sesion.sucursal._id\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tif (sesion.accesos.catalogos.departamentos.editar === false) {\n\t\t\t\t\t\treturn setAlert({ message: '¡Lo sentimos no tienes autorización para esta acción!', status: 'error', open: true });\n\t\t\t\t\t}else{\n\t\t\t\t\t\tconst inputActualizado = cleanTypenames(input);\n\t\t\t\t\t\tawait ActualzarDepartamentos({\n\t\t\t\t\t\t\tvariables: {\n\t\t\t\t\t\t\t\tinput: inputActualizado,\n\t\t\t\t\t\t\t\tid: idDepartamento\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}) \n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tsetUpdate(!update);\n\t\t\t\tsetAccion(true)\n\t\t\t\tsetIdDepartamento(\"\");\n\t\t\t\tsetData({\n\t\t\t\t\tnombre_departamentos: \"\"\n\t\t\t\t});\n                setAlert({ message: '¡Listo!', status: 'success', open: true });\n                setError(false);\n                setLoading(false);\n\t\t\t}\n\t\t} catch (error) {\n\t\t}\n\t}\n\n\treturn (\n\t\t<Box>\n\t\t\t<SnackBarMessages alert={alert} setAlert={setAlert} />\n\t\t\t<BackdropComponent loading={loading} setLoading={setLoading} />\n\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" my={2}>\n\t\t\t\t<TextField\n\t\t\t\t\tid=\"outlined-error-helper-text\"\n\t\t\t\t\tlabel=\"Nombre departamento\"\n\t\t\t\t\tvalue={data.nombre_departamentos}\n\t\t\t\t\tname=\"nombre_departamentos\"\n\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\tsize=\"small\"\n                    fullWidth\n\t\t\t\t\tonChange={obtenerDatos}\n\t\t\t\t\terror={error}\n\t\t\t\t/>\n\t\t\t\t<Box ml={1} />\n\t\t\t\t<Button color=\"primary\" variant=\"contained\" size=\"large\" disableElevation onClick={saveData} >\n\t\t\t\t\t<Add />Guardar\n\t\t\t\t</Button>\n\t\t\t</Box>\n\t\t\t<TablaDepartamentos  />\n\t\t</Box>\n\t); \n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport CloseIcon from '@material-ui/icons/Close';\nimport Slide from '@material-ui/core/Slide';\nimport { Box, Container } from '@material-ui/core';\nimport RegistroDepartamentos from './RegistroDepartamento';\nimport { DepartamentosProvider } from '../../../../context/Catalogos/Departamentos';\n\nconst useStyles = makeStyles((theme) => ({\n\tappBar: {\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n\ticon: {\n\t\twidth: 100\n\t}\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function Departamentos() {\n\tconst classes = useStyles();\n\tconst [ open, setOpen ] = React.useState(false);\n\n\tconst handleClickOpen = () => {\n\t\tsetOpen(true);\n\t};\n\n\tconst handleClose = () => {\n\t\tsetOpen(false);\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<DepartamentosProvider>\n\t\t\t\t<Button fullWidth onClick={handleClickOpen}>\n\t\t\t\t\t<Box display=\"flex\" flexDirection=\"column\">\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t<img src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/departamentos.svg' alt=\"icono numero calzado\" className={classes.icon} />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\tDepartamentos\n\t\t\t\t\t</Box>\n\t\t\t\t</Button>\n\t\t\t\t<Dialog fullScreen open={open} onClose={handleClose} TransitionComponent={Transition}>\n\t\t\t\t\t<AppBar className={classes.appBar}>\n\t\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t\t<Typography variant=\"h6\" className={classes.title}>\n\t\t\t\t\t\t\t\tDepartamentos\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Box m={1}>\n\t\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"secondary\" onClick={handleClose} size=\"large\">\n\t\t\t\t\t\t\t\t\t<CloseIcon style={{fontSize: 30}} />\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Toolbar>\n\t\t\t\t\t</AppBar>\n\t\t\t\t\t<Box mt={3}>\n\t\t\t\t\t\t<Container maxWidth=\"sm\">\n\t\t\t\t\t\t\t<RegistroDepartamentos accion=\"registrar\" />\n\t\t\t\t\t\t</Container>\n\t\t\t\t\t</Box>\n\t\t\t\t</Dialog>\n\t\t\t</DepartamentosProvider>\n\t\t</div>\n\t);\n} \n","import React, { useState, Fragment } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Accordion, AccordionSummary, AccordionDetails, fade } from '@material-ui/core';\nimport { Box, Button, Divider, IconButton, TextField, CircularProgress, Typography } from '@material-ui/core';\nimport { Add, Delete, Edit, ExpandMore, Close } from '@material-ui/icons';\nimport ErrorPage from '../../../../components/ErrorPage';\nimport SnackBarMessages from '../../../../components/SnackBarMessages';\nimport BackdropComponent from '../../../../components/Layouts/BackDrop';\n \nimport { useQuery, useMutation } from '@apollo/client';\nimport {\n\tOBTENER_CATEGORIAS,\n\tCREAR_CATEGORIA,\n\tCREAR_SUBCATEGORIA,\n\tACTUALIZAR_SUBCATEGORIA,\n\tACTUALIZAR_CATEGORIA, \n\tELIMINAR_CATEGORIA,\n\tELIMINAR_SUBCATEGORIA\n} from '../../../../gql/Catalogos/categorias';\nimport { cleanTypenames } from '../../../../config/reuserFunctions';\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n\t\twidth: '100%'\n\t},\n\tflexGrow: {\n\t\tflexGrow: 1\n\t},\n\tselected: {\n\t\tbackground: fade(theme.palette.secondary.main, 0.1)\n\t}\n}));\n\nexport default function RegistroCategorias() {\n\tconst classes = useStyles();\n\tconst sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\tconst [ categoria, setCategoria ] = useState('');\n\tconst [ toUpdateID, setToUpdateID ] = useState('');\n\tconst [ loadingBackDrop, setLoadingBackDrop ] = useState(false);\n\tconst [ alert, setAlert ] = useState({ message: '', status: '', open: false });\n\n\t/* Queries */\n\tconst { loading, data, error, refetch } = useQuery(OBTENER_CATEGORIAS, {\n\t\tvariables: { empresa: sesion.empresa._id, sucursal: sesion.sucursal._id }\n\t});\n\t/*  Categorias Mutations */\n\tconst [ crearCategoria ] = useMutation(CREAR_CATEGORIA);\n\tconst [ actualizarCategoria ] = useMutation(ACTUALIZAR_CATEGORIA);\n\n\t\n\n\tconst obtenerDatos = (e) => {\n\t\tsetCategoria(e.target.value);\n\t};\n\n\tconst guardarCategoria = async () => {\n\t\tif (!categoria) return;\n\t\tsetLoadingBackDrop(true);\n\t\ttry {\n\t\t\tif (!toUpdateID) {\n\t\t\t\tif (sesion.accesos.catalogos.categorias.agregar === false) {\n\t\t\t\t\tsetLoadingBackDrop(false);\n\t\t\t\t\treturn setAlert({ message: 'Lo sentimos no tienes autorización para esta acción', status: 'error', open: true });\n\t\t\t\t}else{\n\t\t\t\t\tawait crearCategoria({\n\t\t\t\t\t\tvariables: {\n\t\t\t\t\t\t\tinput: {\n\t\t\t\t\t\t\t\tcategoria,\n\t\t\t\t\t\t\t\tempresa: sesion.empresa._id,\n\t\t\t\t\t\t\t\tsucursal: sesion.sucursal._id\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\t\n\t\t\t} else {\n\t\t\t\tif (sesion.accesos.catalogos.categorias.editar === false) {\n\t\t\t\t\tsetLoadingBackDrop(false);\n\t\t\t\t\treturn setAlert({ message: 'Lo sentimos no tienes autorización para esta acción', status: 'error', open: true });\n\t\t\t\t}else{\n\t\t\t\t\tconst categoriaActualizada = cleanTypenames(categoria);\n\t\t\t\t\tawait actualizarCategoria({\n\t\t\t\t\t\tvariables: {\n\t\t\t\t\t\t\tinput: {\n\t\t\t\t\t\t\t\tcategoria: categoriaActualizada\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tidCategoria: toUpdateID\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t\trefetch();\n\t\t\tsetAlert({ message: '¡Listo!', status: 'success', open: true });\n\t\t\tsetLoadingBackDrop(false);\n\t\t\tsetCategoria('');\n\t\t\tsetToUpdateID('');\n\t\t} catch (error) {\n\t\t\tsetAlert({ message: 'Hubo un error', status: 'error', open: true });\n\t\t\tsetLoadingBackDrop(false);\n\t\t}\n\t};\n\tif (loading)\n\t\treturn (\n\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" height=\"30vh\">\n\t\t\t\t<CircularProgress />\n\t\t\t</Box>\n\t\t);\n\tif (error) {\n\t\treturn <ErrorPage error={error} />;\n\t}\n\n\tconst { obtenerCategorias } = data;\n\tconst render_categorias = obtenerCategorias.map((categoria, index) => (\n\t\t<RenderCategorias\n\t\t\tkey={index}\n\t\t\tcategoria={categoria}\n\t\t\tsetToUpdateID={setToUpdateID}\n\t\t\tsetCategoria={setCategoria}\n\t\t\trefetch={refetch}\n\t\t\ttoUpdateID={toUpdateID}\n\t\t/>\n\t));\n\treturn (\n\t\t<div className={classes.root} >\n\t\t\t<SnackBarMessages alert={alert} setAlert={setAlert} />\n\t\t\t<BackdropComponent loading={loadingBackDrop} setLoading={setLoadingBackDrop} />\n\t\t\t<Typography variant=\"h6\">Categorias</Typography>\n\t\t\t<Box display=\"flex\" alignItems=\"center\" mb={2}>\n\t\t\t\t<TextField value={categoria} variant=\"outlined\" size=\"small\" onChange={obtenerDatos} />\n\t\t\t\t<Box ml={1} />\n\t\t\t\t<Button color=\"primary\" variant=\"contained\" size=\"large\" disableElevation onClick={guardarCategoria}>\n\t\t\t\t\t<Add />Guardar\n\t\t\t\t</Button>\n\t\t\t</Box>\n\t\t\t{render_categorias}\n\t\t</div>\n\t);\n}\n\nconst RenderCategorias = ({ categoria, setToUpdateID, setCategoria, refetch, toUpdateID }) => {\n\tconst classes = useStyles();\n\tconst sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\tconst [ subcategoria, setSubcategoria ] = useState('');\n\tconst [ loadingBackDrop, setLoadingBackDrop ] = useState(false);\n\tconst [ alert, setAlert ] = useState({ message: '', status: '', open: false });\n\n\t/*  Subcategorias Mutations */\n\tconst [ crearSubcategoria ] = useMutation(CREAR_SUBCATEGORIA);\n\tconst [ actualizarSubcategoria ] = useMutation(ACTUALIZAR_SUBCATEGORIA);\n\tconst [ eliminarCategoria ] = useMutation(ELIMINAR_CATEGORIA);\n\n\n\tconst render_subcategorias = categoria.subcategorias.map((subcategoria) => (\n\t\t<RenderSubcategorias\n\t\t\tkey={subcategoria._id}\n\t\t\tidCategoria= {categoria._id}\n\t\t\tsubcategoria={subcategoria}\n\t\t\tsetToUpdateID={setToUpdateID}\n\t\t\ttoUpdateID={toUpdateID}\n\t\t\tsetSubcategoria={setSubcategoria}\n\t\t\tsetAlert={setAlert}\n\t\t\trefetch={refetch}\n\t\t/>\n\t));\n\n\tconst obtenerCamposParaActualizar = (event) => {\n\t\n\t\twindow.scrollTo(0,0);\n\t\tevent.stopPropagation();\n\t\tsetToUpdateID(categoria._id);\n\t\tsetCategoria(categoria.categoria);\n\t};\n\n\tconst cancelarUpdate = (event) => {\n\t\tevent.stopPropagation();\n\t\tsetToUpdateID('');\n\t\tsetCategoria('');\n\t};\n\n\tconst obtenerDatos = (e) => {\n\t\tsetSubcategoria(e.target.value);\n\t};\n\n\tconst guardarSubcategoria = async () => {\n\t\tif (!subcategoria) return;\n\t\tsetLoadingBackDrop(true);\n\t\tlet msgAlert = '';\n\t\tlet resp;\n\t\ttry {\n\t\t\tif (!toUpdateID) {\n\t\t\t\tif (sesion.accesos.catalogos.categorias.agregar === false) {\n\t\t\t\t\tsetLoadingBackDrop(false);\n\t\t\t\t\treturn setAlert({ message: 'Lo sentimos no tienes autorización para esta acción', status: 'error', open: true });\n\t\t\t\t}else{\n\t\t\t\t\tresp = await crearSubcategoria({\n\t\t\t\t\t\tvariables: {\n\t\t\t\t\t\t\tinput: {\n\t\t\t\t\t\t\t\tsubcategoria\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tidCategoria: categoria._id\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tmsgAlert = ( resp.data.crearSubcategoria.message === 'false' ) ? { message: '¡Listo!', status: 'success', open: true }: { message: resp.data.crearSubcategoria.message, status: 'error', open: true }\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (sesion.accesos.catalogos.categorias.editar === false) {\n\t\t\t\t\tsetLoadingBackDrop(false);\n\t\t\t\t\treturn setAlert({ message: 'Lo sentimos no tienes autorización para esta acción', status: 'error', open: true });\n\t\t\t\t}else{\n\t\t\t\t\tconst subCategoriaActualizada = cleanTypenames(subcategoria);\n\t\t\t\t\tresp = await actualizarSubcategoria({\n\t\t\t\t\t\tvariables: {\n\t\t\t\t\t\t\tinput: {\n\t\t\t\t\t\t\t\tsubcategoria: subCategoriaActualizada\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tidCategoria: categoria._id,\n\t\t\t\t\t\t\tidSubcategoria: toUpdateID\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tmsgAlert =( resp.data.actualizarSubcategoria.message === 'false' ) ? { message: '¡Listo!', status: 'success', open: true }: { message: resp.data.actualizarSubcategoria.message, status: 'error', open: true }\n\t\t\t\t}\n\t\t\t}\n\t\t\trefetch();\n\t\t\t\n\t\t\tsetAlert(msgAlert);\n\t\t\tsetLoadingBackDrop(false);\n\t\t\tsetSubcategoria('');\n\t\t\tsetToUpdateID('');\n\t\t} catch (error) {\n\t\t\tsetAlert({ message: 'Hubo un error', status: 'error', open: true });\n\t\t\tsetLoadingBackDrop(false);\n\t\t}\n\t};\n\n\tconst handleDelete = async (event) => {\n\t\tevent.stopPropagation()\n\t\ttry {\n\t\t\tconst resp = await eliminarCategoria({\n\t\t\t\tvariables: {\n\t\t\t\t\tidCategoria: categoria._id\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\tlet msgAlert = ( resp.data.eliminarCategoria.message === 'false' ) ? { message: '¡Listo!', status: 'success', open: true }: { message: resp.data.eliminarCategoria.message, status: 'error', open: true }\n\t\t\tsetAlert(msgAlert);\n\t\t\trefetch();\n\t\t\n\t\t} catch (error) {\n\t\t\tsetAlert({ message: 'Hubo un error', status: 'error', open: true });\n\t\t}\n\t};\n\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<SnackBarMessages alert={alert} setAlert={setAlert} />\n\t\t\t<BackdropComponent loading={loadingBackDrop} setLoading={setLoadingBackDrop} />\n\t\t\t<Accordion>\n\t\t\t\t<AccordionSummary\n\t\t\t\t\tclassName={toUpdateID && toUpdateID === categoria._id ? classes.selected : ''}\n\t\t\t\t\texpandIcon={<ExpandMore />}\n\t\t\t\t\taria-label=\"Expand\"\n\t\t\t\t\taria-controls={`categoria-action-${categoria._id}`}\n\t\t\t\t\tid={`categoria-${categoria._id}`}\n\t\t\t\t>\n\t\t\t\t\t<Box display=\"flex\" alignItems=\"center\" width=\"100%\">\n\t\t\t\t\t\t<Typography variant=\"h6\">{categoria.categoria}</Typography>\n\t\t\t\t\t\t<div className={classes.flexGrow} />\n\t\t\t\t\t\t{sesion.accesos.catalogos.categorias.editar === false ?(null):(\n\t\t\t\t\t\t\ttoUpdateID && toUpdateID === categoria._id ? (\n\t\t\t\t\t\t\t\t<IconButton onClick={cancelarUpdate} onFocus={(event) => event.stopPropagation()}>\n\t\t\t\t\t\t\t\t\t<Close />\n\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\tonClick={obtenerCamposParaActualizar}\n\t\t\t\t\t\t\t\t\tonFocus={(event) => event.stopPropagation()}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Edit />\n\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{sesion.accesos.catalogos.categorias.eliminar === false ?(null):(\n\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\tonClick={(event) => handleDelete(event)}\n\t\t\t\t\t\t\t\tonFocus={(event) => handleDelete(event)}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Delete />\n\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Box>\n\t\t\t\t</AccordionSummary>\n\t\t\t\t<AccordionDetails>\n\t\t\t\t\t<Box width=\"100%\">\n\t\t\t\t\t\t<Divider />\n\t\t\t\t\t\t<Box mb={2} />\n\t\t\t\t\t\t<Box ml={5} width=\"100%\" display=\"flex\">\n\t\t\t\t\t\t\t<Typography variant=\"h6\">Subcategorias</Typography>\n\t\t\t\t\t\t\t<Box mr={2} />\n\t\t\t\t\t\t\t<Box display=\"flex\" alignItems=\"center\" mb={2}>\n\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\tvalue={subcategoria}\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\tonChange={obtenerDatos}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<Box ml={1} />\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\tsize=\"large\"\n\t\t\t\t\t\t\t\t\tdisableElevation\n\t\t\t\t\t\t\t\t\tonClick={guardarSubcategoria}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Add />Guardar\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box ml={5}>{render_subcategorias}</Box>\n\t\t\t\t\t</Box>\n\t\t\t\t</AccordionDetails>\n\t\t\t</Accordion>\n\t\t</Fragment>\n\t);\n};\n\nconst RenderSubcategorias = ({ subcategoria,idCategoria, toUpdateID, setToUpdateID, setSubcategoria,setAlert, refetch }) => {\n\tconst sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\tconst classes = useStyles();\n\tconst [ eliminarSubcategoria ] = useMutation(ELIMINAR_SUBCATEGORIA);\n\tconst obtenerCamposParaActualizar = (event) => {\n\t\tevent.stopPropagation();\n\t\tsetToUpdateID(subcategoria._id);\n\t\tsetSubcategoria(subcategoria.subcategoria);\n\t};\n\n\tconst cancelarUpdate = (event) => {\n\t\tevent.stopPropagation();\n\t\tsetToUpdateID('');\n\t\tsetSubcategoria('');\n\t};\n\tconst handleDelete = async (event) => {\n\t\ttry {\n\t\t\tevent.stopPropagation()\n\t\t\tconst resp = await eliminarSubcategoria({\n\t\t\t\tvariables: {\n\t\t\t\t\tidCategoria: idCategoria,\n\t\t\t\t\tidSubcategoria:subcategoria._id\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\tlet msgAlert = ( resp.data.eliminarSubcategoria.message === 'false' ) ? { message: '¡Listo!', status: 'success', open: true }: { message: resp.data.eliminarSubcategoria.message, status: 'error', open: true }\n\t\t\n\t\t\tsetAlert(msgAlert);\n\t\t\t\n\t\t\trefetch();\n\t\t\n\t\t} catch (error) {\n\t\t\tsetAlert({ message: 'Ocurrió un error', status: 'error', open: true });\n\t\t}\n\t};\n\treturn (\n\t\t<Fragment>\n\t\t\t<Box\n\t\t\t\tdisplay=\"flex\"\n\t\t\t\talignItems=\"center\"\n\t\t\t\tborderRadius={3}\n\t\t\t\tpx={1}\n\t\t\t\tclassName={toUpdateID && toUpdateID === subcategoria._id ? classes.selected : ''}\n\t\t\t>\n\t\t\t\t<Typography>{subcategoria.subcategoria}</Typography>\n\t\t\t\t<div className={classes.flexGrow} />\n\t\t\t\t{sesion.accesos.catalogos.categorias.editar === false ?(null):(\n\t\t\t\t\ttoUpdateID && toUpdateID === subcategoria._id ? (\n\t\t\t\t\t\t<IconButton onClick={cancelarUpdate} onFocus={(event) => event.stopPropagation()}>\n\t\t\t\t\t\t\t<Close />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<IconButton onClick={obtenerCamposParaActualizar} onFocus={(event) => event.stopPropagation()}>\n\t\t\t\t\t\t\t<Edit />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t)\n\t\t\t\t)}\n\t\t\t\t{sesion.accesos.catalogos.categorias.eliminar === false ?(null):(\n\t\t\t\t\t<IconButton onClick={(event) => handleDelete(event) }>\n\t\t\t\t\t\t<Delete />\n\t\t\t\t\t</IconButton>\n\t\t\t\t)}\n\t\t\t</Box>\n\t\t\t<Divider />\n\t\t</Fragment>\n\t);\n};\n","import React from 'react'; \nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport CloseIcon from '@material-ui/icons/Close';\nimport Slide from '@material-ui/core/Slide';\nimport { Box, Container } from '@material-ui/core';\nimport RegistroCategorias from './RegistroCategorias';\n\nconst useStyles = makeStyles((theme) => ({\n\tappBar: {\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n\ticon: {\n\t\twidth: 100\n\t}\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function Categorias() {\n\tconst classes = useStyles();\n\tconst [ open, setOpen ] = React.useState(false);\n\n\tconst handleClickOpen = () => {\n\t\tsetOpen(true);\n\t};\n\n\tconst handleClose = () => {\n\t\tsetOpen(false);\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<Button fullWidth onClick={handleClickOpen}>\n\t\t\t\t<Box display=\"flex\" flexDirection=\"column\">\n\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t<img src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/categorias.svg' alt=\"icono numero calzado\" className={classes.icon} />\n\t\t\t\t\t</Box>\n\t\t\t\t\tCategorias\n\t\t\t\t</Box>\n\t\t\t</Button>\n\t\t\t<Dialog fullScreen open={open} onClose={handleClose} TransitionComponent={Transition}>\n\t\t\t\t<AppBar className={classes.appBar}>\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t<Typography variant=\"h6\" className={classes.title}>\n\t\t\t\t\t\t\tCategorias\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Box m={1}>\n\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"secondary\" onClick={handleClose} size=\"large\">\n\t\t\t\t\t\t\t\t<CloseIcon style={{fontSize: 30}} />\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</AppBar>\n\t\t\t\t<Box mt={3}>\n\t\t\t\t\t<Container maxWidth=\"md\">\n\t\t\t\t\t\t<RegistroCategorias />\n\t\t\t\t\t</Container>\n\t\t\t\t</Box>\n\t\t\t</Dialog>\n\t\t</div> \n\t);\n}\n","import React, { useEffect, useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TablePagination from '@material-ui/core/TablePagination';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport { Box, Button, Dialog, DialogActions, DialogTitle, IconButton, TextField, Typography } from '@material-ui/core';\nimport { Close, Delete, Edit } from '@material-ui/icons';\nimport SnackBarMessages from '../../../../components/SnackBarMessages';\n\nimport { useMutation } from '@apollo/client';\nimport { ELIMINAR_COLOR, OBTENER_COLORES } from '../../../../gql/Catalogos/colores';\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n\t\twidth: '100%'\n\t},\n\tpaper: {\n\t\twidth: '100%',\n\t\tmarginBottom: theme.spacing(2)\n\t},\n\tcolor: {\n\t\tdisplay: 'flex',\n\t\talignItems: 'center'\n\t}\n}));\n\nexport default function TablaColores({ datos, toUpdate, setToUpdate, setValues, refetch }) {\n\tconst classes = useStyles();\n\tconst sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\tconst [ page, setPage ] = useState(0);\n\tconst [ rowsPerPage, setRowsPerPage ] = useState(8);\n\tconst [ busqueda, setBusqueda ] = useState('');\n\tconst [ productosFiltrados, setProductosFiltrados ] = useState([]);\n\tconst [ alert, setAlert ] = useState({\n\t\tstatus: '',\n\t\tmessage: '',\n\t\topen: false\n\t});\n\n\tconst handleChangePage = (event, newPage) => {\n\t\tsetPage(newPage);\n\t};\n\n\tconst handleChangeRowsPerPage = (event) => {\n\t\tsetRowsPerPage(parseInt(event.target.value, 10));\n\t\tsetPage(0);\n\t};\n\n\tuseEffect(\n\t\t() => {\n\t\t\tsetProductosFiltrados(\n\t\t\t\tdatos.filter((datos) => {\n\t\t\t\t\treturn datos.nombre.toLowerCase().includes(busqueda.toLowerCase());\n\t\t\t\t})\n\t\t\t);\n\t\t},\n\t\t[ busqueda, datos ]\n\t);\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<SnackBarMessages alert={alert} setAlert={setAlert} />\n\t\t\t<Paper className={classes.paper}>\n\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tplaceholder=\"Buscar...\"\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tonChange={(e) => setBusqueda(e.target.value)}\n\t\t\t\t\t/>\n\t\t\t\t</Box>\n\t\t\t\t<TableContainer>\n\t\t\t\t\t<Table\n\t\t\t\t\t\tclassName={classes.table}\n\t\t\t\t\t\taria-labelledby=\"tableTitle\"\n\t\t\t\t\t\tsize=\"medium\"\n\t\t\t\t\t\taria-label=\"enhanced table\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t<TableCell width={150}>Color</TableCell>\n\t\t\t\t\t\t\t\t<TableCell>Nombre</TableCell>\n\t\t\t\t\t\t\t\t{sesion.accesos.catalogos.colores.editar === false ? (null) : (\n\t\t\t\t\t\t\t\t\t<TableCell padding=\"default\">Editar</TableCell>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t{sesion.accesos.catalogos.colores.eliminar === false ? (null) : (\n\t\t\t\t\t\t\t\t\t<TableCell padding=\"default\">Eliminar</TableCell>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t</TableHead>\n\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t{productosFiltrados\n\t\t\t\t\t\t\t\t.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\n\t\t\t\t\t\t\t\t.map((row, index) => {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<RowsRender\n\t\t\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\t\t\trow={row}\n\t\t\t\t\t\t\t\t\t\t\tsetAlert={setAlert}\n\t\t\t\t\t\t\t\t\t\t\ttoUpdate={toUpdate}\n\t\t\t\t\t\t\t\t\t\t\tsetToUpdate={setToUpdate}\n\t\t\t\t\t\t\t\t\t\t\tsetValues={setValues}\n\t\t\t\t\t\t\t\t\t\t\trefetch={refetch}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t</Table>\n\t\t\t\t</TableContainer>\n\t\t\t\t<TablePagination\n\t\t\t\t\trowsPerPageOptions={[]}\n\t\t\t\t\tcomponent=\"div\"\n\t\t\t\t\tcount={datos.length}\n\t\t\t\t\trowsPerPage={rowsPerPage}\n\t\t\t\t\tpage={page}\n\t\t\t\t\tonChangePage={handleChangePage}\n\t\t\t\t\tonChangeRowsPerPage={handleChangeRowsPerPage}\n\t\t\t\t/>\n\t\t\t</Paper>\n\t\t</div>\n\t);\n}\n\nconst RowsRender = ({ row, setAlert, toUpdate, setToUpdate, setValues, refetch }) => {\n\tconst classes = useStyles();\n\tconst sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\tconst [ openModal, setOpenModal ] = useState(false);\n\n\tconst handleModal = () => setOpenModal(!openModal);\n\n\tconst [ eliminarColor ] = useMutation(ELIMINAR_COLOR, {\n\t\tupdate(cache, { data: { eliminarColor } }) {\n\t\t\ttry {\n\t\t\t\tconst { obtenerColores } = cache.readQuery({\n\t\t\t\t\tquery: OBTENER_COLORES,\n\t\t\t\t\tvariables: { empresa: row.empresa._id }\n\t\t\t\t});\n\n\t\t\t\tcache.writeQuery({\n\t\t\t\t\tquery: OBTENER_COLORES,\n\t\t\t\t\tvariables: { empresa: row.empresa._id },\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tobtenerColores: {\n\t\t\t\t\t\t\t...obtenerColores,\n\t\t\t\t\t\t\teliminarColor\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} catch (error) {\n\t\t\t}\n\t\t}\n\t});\n\n\tconst handleDelete = async () => {\n\t\ttry {\n\t\t\tconst resp = await eliminarColor({\n\t\t\t\tvariables: {\n\t\t\t\t\tid: row._id\n\t\t\t\t}\n\t\t\t});\n\t\t\trefetch(refetch);\n\t\t\tsetAlert({ message: resp.data.eliminarColor.message, status: 'success', open: true });\n\t\t\thandleModal();\n\t\t} catch (error) {\n\t\t\tsetAlert({ message: error.message, status: 'error', open: true });\n\t\t}\n\t};\n\n\tconst onUpdate = (row) => {\n\t\tif (!row) {\n\t\t\tsetToUpdate('');\n\t\t\tsetValues({ nombre: '', hex: '' });\n\t\t\treturn;\n\t\t}\n\t\tsetToUpdate(row._id);\n\t\tsetValues({ nombre: row.nombre, hex: row.hex });\n\t};\n\n\treturn (\n\t\t<TableRow hover role=\"checkbox\" tabIndex={-1} selected={toUpdate === row._id ? true : false}>\n\t\t\t<TableCell className={classes.color}>\n\t\t\t\t<Box mr={1} width={30} height={25} bgcolor={row.hex} borderRadius=\"10%\" />\n\t\t\t\t<Typography>\n\t\t\t\t\t<b>{row.hex}</b>\n\t\t\t\t</Typography>\n\t\t\t</TableCell>\n\t\t\t<TableCell>\n\t\t\t\t<Typography>\n\t\t\t\t\t<b>{row.nombre}</b>\n\t\t\t\t</Typography>\n\t\t\t</TableCell>\n\t\t\t{sesion.accesos.catalogos.colores.editar === false ? (null) : (\n\t\t\t\t<TableCell padding=\"checkbox\">\n\t\t\t\t\t{toUpdate === row._id ? (\n\t\t\t\t\t\t<IconButton onClick={() => onUpdate()}>\n\t\t\t\t\t\t\t<Close />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<IconButton onClick={() => onUpdate(row)}>\n\t\t\t\t\t\t\t<Edit />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t)}\n\t\t\t\t</TableCell>\n\t\t\t)}\n\t\t\t{sesion.accesos.catalogos.colores.eliminar === false ? (null) : (\n\t\t\t\t<TableCell padding=\"checkbox\">\n\t\t\t\t\t<Modal handleModal={handleModal} openModal={openModal} handleDelete={handleDelete} />\n\t\t\t\t</TableCell>\n\t\t\t)}\n\t\t</TableRow>\n\t);\n};\n\nconst Modal = ({ handleModal, openModal, handleDelete }) => {\n\treturn (\n\t\t<div>\n\t\t\t<IconButton color=\"secondary\" onClick={handleModal}>\n\t\t\t\t<Delete />\n\t\t\t</IconButton>\n\t\t\t<Dialog open={openModal} onClose={handleModal}>\n\t\t\t\t<DialogTitle>{'¿Seguro que quieres eliminar esto?'}</DialogTitle>\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Button onClick={handleModal} color=\"primary\">\n\t\t\t\t\t\tCancelar\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button color=\"secondary\" autoFocus variant=\"contained\" onClick={handleDelete}>\n\t\t\t\t\t\tEliminar\n\t\t\t\t\t</Button>\n\t\t\t\t</DialogActions>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n};\n","import React, { useState } from 'react';\nimport { Box, Button, Grid, CircularProgress, TextField, Typography } from '@material-ui/core';\nimport { Add } from '@material-ui/icons';\nimport TablaColores from './ListaColores';\nimport { SketchPicker } from 'react-color'; \nimport SnackBarMessages from '../../../../components/SnackBarMessages';\nimport ErrorPage from '../../../../components/ErrorPage';\nimport { cleanTypenames } from '../../../../config/reuserFunctions';\n\nimport { useQuery, useMutation } from '@apollo/client';\nimport { OBTENER_COLORES, CREAR_COLOR, ACTUALIZAR_COLOR } from '../../../../gql/Catalogos/colores';\n\nexport default function RegistroColores() {\n\tconst [ color, setColor ] = useState({});\n\tconst [ toUpdate, setToUpdate ] = useState('');\n\tconst [ values, setValues ] = useState({ nombre: '', hex: '' });\n\tconst [ alert, setAlert ] = useState({ message: '', status: '', open: false });\n\tconst sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\n\t/* Queries */\n\tconst { loading, data, error, refetch } = useQuery(OBTENER_COLORES, {\n\t\tvariables: { sucursal: sesion.sucursal._id }\n\t});\n\n\t/* Mutations */\n\tconst [ crearColor ] = useMutation(CREAR_COLOR);\n\tconst [ actualizarColor ] = useMutation(ACTUALIZAR_COLOR);\n\n\tconst handleChangeComplete = (color) => {\n\t\tsetColor(color);\n\t\tsetValues({\n\t\t\t...values,\n\t\t\thex: color.hex.toUpperCase()\n\t\t});\n\t};\n\n\tif (loading)\n\t\treturn (\n\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" height=\"30vh\">\n\t\t\t\t<CircularProgress />\n\t\t\t</Box>\n\t\t);\n\tif (error) {\n\t\treturn <ErrorPage error={error} />;\n\t}\n\n\tconst { obtenerColores } = data;\n\n\tconst GuardarDatosBD = async () => {\n\t\tif (!values.nombre || !values.hex) {\n\t\t\treturn;\n\t\t}\n\t\ttry {\n\t\t\tconst colores = values;\n\t\t\tlet msg;\n\t\t\tif (toUpdate) {\n\t\t\t\tif (sesion.accesos.catalogos.colores.editar === false) {\n\t\t\t\t\treturn setAlert({ message: '¡Lo sentimos no tienes autorización para esta acción!', status: 'error', open: true });\n\t\t\t\t}else{\n\t\t\t\t\tconst colorActualizado = cleanTypenames(colores);\n\t\t\t\t\tconst resp = await actualizarColor({\n\t\t\t\t\t\t\tvariables: {\n\t\t\t\t\t\t\t\tinput: {\n\t\t\t\t\t\t\t\t\tnombre: colorActualizado.nombre,\n\t\t\t\t\t\t\t\t\thex: colorActualizado.hex\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tid: toUpdate\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\tmsg = resp.data.actualizarColor.message\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (sesion.accesos.catalogos.colores.agregar === false) {\n\t\t\t\t\treturn setAlert({ message: '¡Lo sentimos no tienes autorización para esta acción!', status: 'error', open: true });\n\t\t\t\t}else{\n\t\t\t\t\t\tawait crearColor({\n\t\t\t\t\t\tvariables: {\n\t\t\t\t\t\t\tinput: {\n\t\t\t\t\t\t\t\tnombre: colores.nombre,\n\t\t\t\t\t\t\t\thex: colores.hex,\n\t\t\t\t\t\t\t\tempresa: sesion.empresa._id,\n\t\t\t\t\t\t\t\tsucursal: sesion.sucursal._id\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\tmsg = '¡Listo!. Color creado.'\n\t\t\t\t}\n\t\t\t}\n\t\t\trefetch();\n\t\t\tsetValues({ nombre: '', hex: '' });\n\t\t\tsetToUpdate('');\n\t\t\n\t\t\tsetAlert({ message: msg, status: 'success', open: true });\n\t\t} catch (error) {\n\t\t\tsetAlert({ message: error.message, status: 'error', open: true });\n\t\t\t\n\t\t}\n\t};\n\t\n\n\treturn (\n\t\t<Box display=\"flex\" justifyContent=\"center\">\n\t\t\t<SnackBarMessages alert={alert} setAlert={setAlert} />\n\t\t\t<Grid container spacing={2}>\n\t\t\t\t<Grid item md={4}>\n\t\t\t\t\t<SketchPicker color={color} onChangeComplete={handleChangeComplete} />\n\t\t\t\t\t<Box mt={2}>\n\t\t\t\t\t\t<Typography>Color seleccionado:</Typography>\n\t\t\t\t\t\t{!values.hex ? (\n\t\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" width={220}>\n\t\t\t\t\t\t\t\t<Typography color=\"secondary\">NINGUNO</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<Box bgcolor={values.hex} height={30} width={220} />\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box my={2} width=\"75%\">\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tlabel=\"Nombre del color\"\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\tvalue={values.nombre}\n\t\t\t\t\t\t\tonChange={(e) => setValues({ ...values, nombre: e.target.value.toUpperCase() })}\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Box my={1} />\n\t\t\t\t\t\t<Button color=\"primary\" variant=\"contained\" size=\"large\" fullWidth onClick={GuardarDatosBD}>\n\t\t\t\t\t\t\t<Add />Guardar\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Box>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item md={7}>\n\t\t\t\t\t<TablaColores\n\t\t\t\t\t\tdatos={obtenerColores}\n\t\t\t\t\t\ttoUpdate={toUpdate}\n\t\t\t\t\t\tsetToUpdate={setToUpdate}\n\t\t\t\t\t\tsetValues={setValues}\n\t\t\t\t\t\trefetch={refetch}\n\t\t\t\t\t/>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t</Box>\n\t);\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport CloseIcon from '@material-ui/icons/Close';\nimport Slide from '@material-ui/core/Slide';\nimport { Box, Container } from '@material-ui/core';\nimport RegistroColores from './RegistroColores';\n\nconst useStyles = makeStyles((theme) => ({\n\tappBar: {\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n\ticon: {\n\t\twidth: 100\n\t}\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function Colores() {\n\tconst classes = useStyles();\n\tconst [ open, setOpen ] = React.useState(false);\n\n\tconst handleClickOpen = () => {\n\t\tsetOpen(true);\n\t};\n\n\tconst handleClose = () => {\n\t\tsetOpen(false);\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<Button fullWidth onClick={handleClickOpen}>\n\t\t\t\t<Box display=\"flex\" flexDirection=\"column\">\n\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t<img src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/colores.svg' alt=\"icono numero calzado\" className={classes.icon} />\n\t\t\t\t\t</Box>\n\t\t\t\t\tColores\n\t\t\t\t</Box>\n\t\t\t</Button>\n\t\t\t<Dialog fullScreen open={open} onClose={handleClose} TransitionComponent={Transition}>\n\t\t\t\t<AppBar className={classes.appBar}>\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t<Typography variant=\"h6\" className={classes.title}>\n\t\t\t\t\t\t\tColores\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Box m={1}>\n\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"secondary\" onClick={handleClose} size=\"large\">\n\t\t\t\t\t\t\t\t<CloseIcon style={{fontSize: 30}} />\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</AppBar>\n\t\t\t\t<Box mt={4}>\n\t\t\t\t\t<Container maxWidth=\"md\">\n\t\t\t\t\t\t<RegistroColores />\n\t\t\t\t\t</Container>\n\t\t\t\t</Box>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n}\n","import React, { useState, useEffect } from 'react';\nimport { \n    Paper, \n    makeStyles, \n    Table, \n    TableBody, \n    TableCell, \n    TableContainer, \n    TableHead, \n    TableRow,\n\tIconButton,\n\tTablePagination,\n\tDialog,\n\tDialogTitle,\n\tDialogActions,\n\tButton\n} from '@material-ui/core/';\nimport { Delete, Edit, Close } from '@material-ui/icons';\nimport { useQuery } from '@apollo/client';\nimport { useMutation } from '@apollo/client';\nimport { OBTENER_MARCAS, ELIMINAR_MARCAS } from '../../../../gql/Catalogos/marcas';\nimport SnackBarMessages from '../../../../components/SnackBarMessages';\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n\t\twidth: '100%'\n\t},\n\tpaper: {\n\t\twidth: '100%',\n\t\tmarginBottom: theme.spacing(2)\n\t}\n}));\n\nexport default function ListaMarcas({updateData, toUpdate, setToUpdate, setData}) {\n\n    const classes = useStyles();\n    const [ page, setPage ] = useState(0);\n\tconst [ rowsPerPage, setRowsPerPage ] = useState(8);\n\tconst [ alert, setAlert ] = useState({\n\t\tstatus: '',\n\t\tmessage: '',\n\t\topen: false\n\t});\n\tconst sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\tlet obtenerMarcas = [];\n\t\n\n    const { data, refetch } = useQuery(OBTENER_MARCAS,{\n\t\tvariables: {\n\t\t\tempresa: sesion.empresa._id,\n\t\t\tsucursal: sesion.sucursal._id\n\t\t}\n\t});\t\n\n\tuseEffect(() => {\n\t\trefetch();\n\t}, [refetch, updateData])\n\n    if(data){\n\t\tobtenerMarcas = data.obtenerMarcas\n\t}\n\n    const handleChangePage = (event, newPage) => {\n\t\tsetPage(newPage);\n\t};\n\n\tconst handleChangeRowsPerPage = (event) => {\n\t\tsetRowsPerPage(parseInt(event.target.value, 10));\n\t\tsetPage(0);\n\t};\n\n\n    return (\n        <div className={classes.root}>\n\t\t\t<SnackBarMessages alert={alert} setAlert={setAlert} />\n\t\t\t<Paper className={classes.paper}>\n\t\t\t\t<TableContainer>\n\t\t\t\t\t<Table\n\t\t\t\t\t\tclassName={classes.table}\n\t\t\t\t\t\taria-labelledby=\"tableTitle\"\n\t\t\t\t\t\tsize=\"medium\"\n\t\t\t\t\t\taria-label=\"enhanced table\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t<TableCell>Marca</TableCell>\n\t\t\t\t\t\t\t\t{sesion.accesos.catalogos.marcas.editar === false ? (null):(\n\t\t\t\t\t\t\t\t\t<TableCell padding=\"default\">Editar</TableCell>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t{sesion.accesos.catalogos.marcas.eliminar === false ? (null):(\n\t\t\t\t\t\t\t\t\t<TableCell padding=\"default\">Eliminar</TableCell>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t</TableHead>\n\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\tobtenerMarcas\n\t\t\t\t\t\t\t\t?.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\n\t\t\t\t\t\t\t\t?.map((row, index) => {\n\t\t\t\t\t\t\t\t\treturn <RowsRender key={index} setAlert={setAlert} refetch={refetch} datos={row} toUpdate={toUpdate} setToUpdate={setToUpdate} setData={setData} />;\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t</Table>\n\t\t\t\t</TableContainer>\n\t\t\t\t<TablePagination\n\t\t\t\t\trowsPerPageOptions={[]}\n\t\t\t\t\tcomponent=\"div\"\n\t\t\t\t\tcount={obtenerMarcas.length}\n\t\t\t\t\trowsPerPage={rowsPerPage}\n\t\t\t\t\tpage={page}\n\t\t\t\t\tonChangePage={handleChangePage}\n\t\t\t\t\tonChangeRowsPerPage={handleChangeRowsPerPage}\n\t\t\t\t/>\n\t\t\t</Paper>\n\t\t</div>\n    )\n}\n\nconst RowsRender = ({ datos, updateData, toUpdate, setAlert, setToUpdate, setData, refetch }) => {\n\tconst sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\tconst [ openModal, setOpenModal ] = useState(false);\n\tconst handleModal = () => setOpenModal(!openModal);\n\n\tconst [ eliminarMarca ] = useMutation(ELIMINAR_MARCAS);\n\n\tconst handleDelete = async () => {\n\t\ttry {\n\t\t\tconst resultado = await eliminarMarca({\n\t\t\t\tvariables: {\n\t\t\t\t\tid: datos._id,\n\t\t\t\t\tempresa: sesion.empresa._id,\n\t\t\t\t\tsucursal: sesion.sucursal._id\n\t\t\t\t}\n\t\t\t});\n\t\t\tif(resultado.data.eliminarMarca.message === 'false'){\n\t\t\t\tsetAlert({ message: 'Marca eliminada con exito', status: 'success', open: true });\n\t\t\t}else{\n\t\t\t\tsetAlert({ message: resultado.data.eliminarMarca.message, status: 'error', open: true });\n\t\t\t};\n\t\t\trefetch();\n\t\t\thandleModal();\n\t\t} catch (error) {\n\t\t\tsetAlert({ message: error.message, status: 'error', open: true });\n\t\t}\n\t};\n\n\tconst onUpdate = (dato) => {\n\t\tif(!dato){\n\t\t\tsetToUpdate('');\n\t\t\tsetData('');\n\t\t\trefetch();\n\t\t\treturn\n\t\t}\n\t\trefetch();\n\t\tsetToUpdate(dato._id);\n\t\tsetData(dato);\n\t};\n\n\treturn (\n\t\t<TableRow hover role=\"checkbox\" tabIndex={-1} selected={toUpdate === datos._id ? true : false}>\n\t\t\t<TableCell>{datos.nombre_marca}</TableCell>\n\t\t\t{sesion.accesos.catalogos.marcas.editar === false ? (null):(\n\t\t\t\t<TableCell padding=\"checkbox\">\n\t\t\t\t\t{toUpdate === datos._id ? (\n\t\t\t\t\t\t<IconButton onClick={() => onUpdate()}>\n\t\t\t\t\t\t\t<Close />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<IconButton onClick={() => onUpdate(datos)}>\n\t\t\t\t\t\t\t<Edit />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t)}\n\t\t\t\t</TableCell>\n\t\t\t)}\n\t\t\t{sesion.accesos.catalogos.marcas.eliminar === false ? (null):(\n\t\t\t\t<TableCell padding=\"checkbox\">\n\t\t\t\t\t<Modal handleModal={handleModal} openModal={openModal} handleDelete={handleDelete} />\n\t\t\t\t</TableCell>\n\t\t\t)}\n\t\t</TableRow>\n\t);\n};\n\n\n//ELIMINAR DATOS DE LA TABLA\nconst Modal = ({ handleModal, openModal, handleDelete }) => {\n\treturn (\n\t\t<div>\n\t\t\t<IconButton color=\"secondary\" onClick={handleModal}>\n\t\t\t\t<Delete />\n\t\t\t</IconButton>\n\t\t\t<Dialog open={openModal} onClose={handleModal}>\n\t\t\t\t<DialogTitle>{'¿Seguro que quieres eliminar esto?'}</DialogTitle>\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Button onClick={handleModal} color=\"primary\">\n\t\t\t\t\t\tCancelar\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button color=\"secondary\" autoFocus variant=\"contained\" onClick={handleDelete}>\n\t\t\t\t\t\tEliminar\n\t\t\t\t\t</Button>\n\t\t\t\t</DialogActions>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n};\n\n","import React, { createContext, useState } from 'react';\n\nexport const CreateMarcasContext = createContext();\n\nexport const MarcasProvider = ({ children }) => {\n\tconst [ datosMarcas, setDatosMarcas ] = useState({\n        nombre_marca: \"\"\n    });\n\n    const [ update, setUpdate ] = useState(false);\n    const [ error, setError ] = useState(false);\n    const [ openRegistro, setOpenRegistro ] = useState(false);\n\n\treturn (\n\t\t<CreateMarcasContext.Provider value={\n            { \n                datosMarcas, \n                setDatosMarcas,\n                update,\n                setUpdate,\n                error,\n                setError,\n                openRegistro,\n                setOpenRegistro\n            }\n        }>\n\t\t\t{children}\n\t\t</CreateMarcasContext.Provider>\n\t);\n};\n","import React, { useState, useContext } from 'react';\nimport {\n    Button,\n    Box,\n    TextField\n} from '@material-ui/core';\nimport ListaMarcas from './ListaMarcas';\nimport SnackBarMessages from '../../../../components/SnackBarMessages';\nimport { Add } from '@material-ui/icons';\nimport { /* OBTENER_MARCAS, */ REGISTRAR_MARCAS, ACTUALIZAR_MARCAS} from '../../../../gql/Catalogos/marcas';\nimport { useMutation } from '@apollo/client';\nimport { CreateMarcasContext } from '../../../../context/Catalogos/Marcas';\nimport { cleanTypenames } from '../../../../config/reuserFunctions';\n\n\nexport default function VistaMarcas() {\n\n    const [ alert, setAlert ] = useState({ message: '', status: '', open: false });\n    const [ data, setData ] = useState({\n        nombre_marca: \"\"\n    });\n    const [ toUpdate, setToUpdate ] = useState('');\n    const [updateData, setUpdateData] = useState(false);\n    const { /* datosMarcas, setDatosMarcas, */ error, setError } = useContext(CreateMarcasContext);\n\n    const sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\n    const [ CrearMarca ] = useMutation(REGISTRAR_MARCAS);\n\tconst [ actualizarMarca ] = useMutation(ACTUALIZAR_MARCAS);\n\n    const obtenerDatos = (e) => {\n        setData({\n            ...data,\n            [e.target.name]: e.target.value\n        })\n    }\n\n    const saveData = async () => {\n        try {\n            if(!data.nombre_marca){\n                setError(true);\n\t\t\t    return;\n            }else{\n                if(toUpdate){\n                    if (sesion.accesos.catalogos.marcas.editar === false) {\n                        return setAlert({ message: '¡Lo sentimos no tienes autorización para esta acción !', status: 'error', open: true });\n                    }else{\n                        const input = cleanTypenames(data);\n                        await actualizarMarca({\n                            variables: {\n                                input: {\n                                    nombre_marca: input.nombre_marca,\n                                },\n                                id: toUpdate\n                            }\n                        });\n                        setData(\"\");\n                    }\n                }else{\n                    if (sesion.accesos.catalogos.marcas.agregar === false) {\n                        return setAlert({ message: '¡Lo sentimos no tienes autorización para esta acción !', status: 'error', open: true });\n                    }else{\n                        const input = data;\n                        await CrearMarca({\n                            variables: {\n                                input,\n                                empresa: sesion.empresa._id,\n                                sucursal: sesion.sucursal._id\n                            }\n                        });\n                        setData(\"\");\n                    }\n                }\n                setToUpdate('');\n                setUpdateData(!updateData);\n                setAlert({ message: '¡Listo!', status: 'success', open: true });\n                setError(false);\n            }\n        } catch (error) {\n        }\n    }\n\n    const pressEnter = (e) => {\n        if (e.key === 'Enter') saveData();\n\t};\n\n    return (\n        <div>\n            <SnackBarMessages alert={alert} setAlert={setAlert} />\n                <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" my={2}>\n                    <TextField\n                        id=\"outlined-error-helper-text\"\n                        label=\"Nombre departamento\"\n                        value={data.nombre_marca ? data.nombre_marca : \"\"}\n                        name=\"nombre_marca\"\n                        variant=\"outlined\"\n                        size=\"small\"\n                        fullWidth\n                        onChange={obtenerDatos}\n                        error={error}\n                        onKeyPress={pressEnter}\n                    />\n                    <Box ml={1} />\n                    <Button \n                        color=\"primary\" \n                        variant=\"contained\" \n                        size=\"large\" \n                        disableElevation \n                        onClick={saveData}\n                    >\n                        <Add />Guardar\n                    </Button>\n                </Box>\n            <ListaMarcas toUpdate={toUpdate} setToUpdate={setToUpdate} updateData={updateData} setData={setData} />\n        </div>\n    )\n}\n","import React from 'react';\nimport { \n    Button, \n    Box, \n    Dialog,\n    AppBar,\n    Toolbar,\n    Typography,\n    Container,\n    makeStyles,\n    Slide\n} from '@material-ui/core';\nimport { FcRating } from \"react-icons/fc\";\nimport CloseIcon from '@material-ui/icons/Close';\nimport VistaMarcas from './VistaMarcas';\nimport { MarcasProvider } from '../../../../context/Catalogos/Marcas';\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nconst useStyles = makeStyles((theme) => ({\n\tappBar: {\t\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n\ticon: {\n\t\tfontSize: 100\n\t}\n}));\n\nexport default function Marcas() {\n    const classes = useStyles();\n    const [ open, setOpen ] = React.useState(false);\n\n    const handleClickOpen = () => {\n\t\tsetOpen(true);\n\t};\n\n\tconst handleClose = () => {\n\t\tsetOpen(false);\n\t};\n\n    return (\n        <div>\n\t\t\t<MarcasProvider>\n\t\t\t\t<Button fullWidth onClick={handleClickOpen}>\n\t\t\t\t\t<Box display=\"flex\" flexDirection=\"column\">\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t<FcRating className={classes.icon} />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\tMarcas\n\t\t\t\t\t</Box>\n\t\t\t\t</Button>\n\t\t\t\t<Dialog fullScreen open={open} onClose={handleClose} TransitionComponent={Transition}>\n\t\t\t\t\t<AppBar className={classes.appBar}>\n\t\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t\t<Typography variant=\"h6\" className={classes.title}>\n\t\t\t\t\t\t\t\tMarcas\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Box m={1}>\n\t\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"secondary\" onClick={handleClose} size=\"large\">\n\t\t\t\t\t\t\t\t\t<CloseIcon style={{fontSize: 30}} />\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Toolbar>\n\t\t\t\t\t</AppBar>\n\t\t\t\t\t<Box mt={4}>\n\t\t\t\t\t\t<Container maxWidth=\"md\">\n\t\t\t\t\t\t\t<VistaMarcas />\n\t\t\t\t\t\t</Container>\n\t\t\t\t\t</Box>\n\t\t\t\t</Dialog>\n\t\t\t</MarcasProvider>\n\t\t</div>\n    )\n}\n","import React, { useState, Fragment } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Accordion, AccordionSummary, AccordionDetails, fade } from '@material-ui/core';\nimport { Box, Button, Divider, IconButton, TextField, CircularProgress, Typography } from '@material-ui/core';\nimport { Add, Delete, Edit, ExpandMore, Close } from '@material-ui/icons';\nimport ErrorPage from '../../../../components/ErrorPage';\nimport SnackBarMessages from '../../../../components/SnackBarMessages';\nimport BackdropComponent from '../../../../components/Layouts/BackDrop';\n\nimport { useQuery, useMutation } from '@apollo/client';\nimport {\n\tOBTENER_CUENTAS,\n\tCREAR_CUENTA,\n\tCREAR_SUBCUENTA,\n\tACTUALIZAR_SUBCUENTA,\n\tACTUALIZAR_CUENTA,\n    ELIMINAR_CUENTA,\n    ELIMINAR_SUBCUENTA\n} from '../../../../gql/Catalogos/centroCostos';\nimport { cleanTypenames } from '../../../../config/reuserFunctions';\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n\t\twidth: '100%'\n\t},\n\tflexGrow: {\n\t\tflexGrow: 1\n\t},\n\tselected: {\n\t\tbackground: fade(theme.palette.secondary.main, 0.1)\n\t}\n}));\n\nexport default function RegistroCategorias() {\n\tconst classes = useStyles();\n\tconst sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\tconst [ cuenta, setCuenta ] = useState('');\n\tconst [ toUpdateID, setToUpdateID ] = useState('');\n\tconst [ loadingBackDrop, setLoadingBackDrop ] = useState(false);\n\tconst [ alert, setAlert ] = useState({ message: '', status: '', open: false });\n\n\t/* Queries */\n\tconst { loading, data, error, refetch } = useQuery(OBTENER_CUENTAS, {\n\t\tvariables: { empresa: sesion.empresa._id, sucursal: sesion.sucursal._id }\n\t});\n\t/*  Categorias Mutations */\n\tconst [ crearCuenta ] = useMutation(CREAR_CUENTA);\n\tconst [ actualizarCuenta ] = useMutation(ACTUALIZAR_CUENTA);\n   \n  \n\n\tif (loading)\n\t\treturn (\n\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" height=\"30vh\">\n\t\t\t\t<CircularProgress />\n\t\t\t</Box>\n\t\t);\n\tif (error) {\n\t\treturn <ErrorPage error={error} />;\n\t}\n\n\tconst { obtenerCuentas } = data;\n\tconst render_cuentas = obtenerCuentas.map((cuenta, index) => (\n\t\t<RenderCuentas\n\t\t\tkey={index}\n\t\t\tcuenta={cuenta}\n\t\t\tsetToUpdateID={setToUpdateID}\n\t\t\tsetCuenta={setCuenta}\n\t\t\trefetch={refetch}\n\t\t\ttoUpdateID={toUpdateID}\n\t\t/>\n\t));\n\n\tconst obtenerDatos = (e) => {\n\t\tsetCuenta(e.target.value);\n\t};\n    \n\tconst guardarCuenta = async () => {\n\t\tif (!cuenta) return;\n\t\tsetLoadingBackDrop(true);\n\t\ttry {\n\t\t\tif (!toUpdateID) {\n\t\t\t\tif (sesion.accesos.catalogos.centro_costos.agregar === false) {\n\t\t\t\t\tsetLoadingBackDrop(false);\n\t\t\t\t\treturn setAlert({ message: '¡Lo sentimos no tienes autorización para esta acción!', status: 'error', open: true });\n\t\t\t\t}else{\n\t\t\t\t\tawait crearCuenta({\n\t\t\t\t\t\tvariables: {\n\t\t\t\t\t\t\tinput: {\n\t\t\t\t\t\t\t\tcuenta,\n\t\t\t\t\t\t\t\tempresa: sesion.empresa._id,\n\t\t\t\t\t\t\t\tsucursal: sesion.sucursal._id\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (sesion.accesos.catalogos.centro_costos.editar === false) {\n\t\t\t\t\tsetLoadingBackDrop(false);\n\t\t\t\t\treturn setAlert({ message: '¡Lo sentimos no tienes autorización para esta acción!', status: 'error', open: true });\n\t\t\t\t}else{\n\t\t\t\t\tconst cuentaActualizada = cleanTypenames(cuenta);\n\t\t\t\t\tawait actualizarCuenta({\n\t\t\t\t\t\tvariables: {\n\t\t\t\t\t\t\tinput: {\n\t\t\t\t\t\t\t\tcuenta: cuentaActualizada\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tidCuenta: toUpdateID\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t\trefetch();\n\t\t\tsetAlert({ message: '¡Listo!', status: 'success', open: true });\n\t\t\tsetLoadingBackDrop(false);\n\t\t\tsetCuenta('');\n\t\t\tsetToUpdateID('');\n\t\t} catch (error) {\n\t\t\tsetAlert({ message: 'Hubo un error', status: 'error', open: true });\n\t\t\tsetLoadingBackDrop(false);\n\t\t}\n\t};\n\n    \n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<SnackBarMessages alert={alert} setAlert={setAlert} />\n\t\t\t<BackdropComponent loading={loadingBackDrop} setLoading={setLoadingBackDrop} />\n\t\t\t<Typography variant=\"h6\">Cuentas</Typography>\n\t\t\t<Box display=\"flex\" alignItems=\"center\" mb={2}>\n\t\t\t\t<TextField value={cuenta} variant=\"outlined\" size=\"small\" onChange={obtenerDatos} />\n\t\t\t\t<Box ml={1} />\n\t\t\t\t<Button color=\"primary\" variant=\"contained\" size=\"large\" disableElevation onClick={guardarCuenta}>\n\t\t\t\t\t<Add />Guardar\n\t\t\t\t</Button>\n\t\t\t</Box>\n\t\t\t{render_cuentas}\n\t\t</div>\n\t);\n}\n\nconst RenderCuentas = ({ cuenta, setToUpdateID, setCuenta, refetch, toUpdateID }) => {\n\tconst sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\n\tconst classes = useStyles();\n\tconst [ subcuenta, setSubcuenta ] = useState('');\n\tconst [ loadingBackDrop, setLoadingBackDrop ] = useState(false);\n\tconst [ alert, setAlert ] = useState({ message: '', status: '', open: false });\n     const [ eliminarCuenta ] = useMutation(ELIMINAR_CUENTA);\n\t/*  Subcategorias Mutations */\n\tconst [ crearSubcuenta ] = useMutation(CREAR_SUBCUENTA);\n\tconst [ actualizarSubcuenta ] = useMutation(ACTUALIZAR_SUBCUENTA);\n   \n\t\n    const render_subcuentas = (cuenta.subcuentas !== null) ? cuenta.subcuentas.map((subcuenta) => (\n\t\t<RenderSubcuentas\n\t\t\tkey={subcuenta._id}\n            idCuenta={cuenta._id}\n\t\t\tsubcuenta={subcuenta}\n\t\t\tsetToUpdateID={setToUpdateID}\n\t\t\ttoUpdateID={toUpdateID}\n\t\t\tsetSubcuenta={setSubcuenta}\n            refetch={refetch}\n\t\t/>\n\t))\n\t: \n\t(<div/>)\n\t; \n\n\tconst obtenerCamposParaActualizar = (event) => {\n\t\tevent.stopPropagation();\n\t\tsetToUpdateID(cuenta._id);\n\t\tsetCuenta(cuenta.cuenta);\n\t};\n\n\tconst cancelarUpdate = (event) => {\n\t\tevent.stopPropagation();\n\t\tsetToUpdateID('');\n\t\tsetCuenta('');\n\t};\n\n\tconst obtenerDatos = (e) => {\n\t\tsetSubcuenta(e.target.value);\n\t};\n\n\tconst guardarSubcuenta = async () => {\n\t\tif (!subcuenta) return;\n\t\tsetLoadingBackDrop(true);\n\t\ttry {\n\t\t\tif (!toUpdateID) {\n\t\t\t\tif (sesion.accesos.catalogos.centro_costos.agregar === false) {\n\t\t\t\t\tsetLoadingBackDrop(false);\n\t\t\t\t\treturn setAlert({ message: '¡Lo sentimos no tienes autorización para esta acción!', status: 'error', open: true });\n\t\t\t\t}else{\n\t\t\t\t\tawait crearSubcuenta({\n\t\t\t\t\t\tvariables: {\n\t\t\t\t\t\t\tinput: {\n\t\t\t\t\t\t\t\tsubcuenta\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tidCuenta: cuenta._id\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (sesion.accesos.catalogos.centro_costos.editar === false) {\n\t\t\t\t\tsetLoadingBackDrop(false);\n\t\t\t\t\treturn setAlert({ message: '¡Lo sentimos no tienes autorización para esta acción!', status: 'error', open: true });\n\t\t\t\t}else{\n\t\t\t\t\tconst subCuentaActualizada = cleanTypenames(subcuenta)\n\t\t\t\t\tawait actualizarSubcuenta({\n\t\t\t\t\t\tvariables: {\n\t\t\t\t\t\t\tinput: { \n\t\t\t\t\t\t\t\tsubcuenta: subCuentaActualizada\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tidCuenta: cuenta._id,\n\t\t\t\t\t\t\tidSubcuenta: toUpdateID\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t\trefetch();\n\t\t\tsetAlert({ message: '¡Listo!', status: 'success', open: true });\n\t\t\tsetLoadingBackDrop(false);\n\t\t\tsetSubcuenta('');\n\t\t\tsetToUpdateID('');\n\t\t} catch (error) {\n\t\t\tsetAlert({ message: 'Hubo un error', status: 'error', open: true });\n\t\t\tsetLoadingBackDrop(false);\n\t\t}\n\t};\n\n    const deleteCuenta = async (idCuenta) => {\n\t\tsetLoadingBackDrop(true);\n\t\ttry {\n            await eliminarCuenta({\n                variables: {\n                    id: idCuenta\n                }\n            });\n\t\t\trefetch();\n\t\t\tsetAlert({ message: '¡Listo!', status: 'success', open: true });\n\t\t\tsetLoadingBackDrop(false);\n\t\t\tsetCuenta('');\n\t\t\tsetToUpdateID('');\n\t\t} catch (error) {\n\t\t\tsetAlert({ message: 'Hubo un error', status: 'error', open: true });\n\t\t\tsetLoadingBackDrop(false);\n\t\t}\n\t};\n    \n\n\treturn (\n\t\t<Fragment>\n\t\t\t<SnackBarMessages alert={alert} setAlert={setAlert} />\n\t\t\t<BackdropComponent loading={loadingBackDrop} setLoading={setLoadingBackDrop} />\n\t\t\t<Accordion>\n\t\t\t\t<AccordionSummary\n\t\t\t\t\tclassName={toUpdateID && toUpdateID === cuenta._id ? classes.selected : ''}\n\t\t\t\t\texpandIcon={<ExpandMore />}\n\t\t\t\t\taria-label=\"Expand\"\n\t\t\t\t\taria-controls={`cuenta-action-${cuenta._id}`}\n\t\t\t\t\tid={`cuenta-${cuenta._id}`}\n\t\t\t\t>\n\t\t\t\t\t<Box display=\"flex\" alignItems=\"center\" width=\"100%\">\n\t\t\t\t\t\t<Typography variant=\"h6\">{cuenta.cuenta}</Typography>\n\t\t\t\t\t\t<div className={classes.flexGrow} />\n\t\t\t\t\t\t{toUpdateID && toUpdateID === cuenta._id ? (\n\t\t\t\t\t\t\t<IconButton onClick={cancelarUpdate} onFocus={(event) => event.stopPropagation()}>\n\t\t\t\t\t\t\t\t<Close />\n\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\tsesion.accesos.catalogos.centro_costos.editar === false ? (null):(\n\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\tonClick={obtenerCamposParaActualizar}\n\t\t\t\t\t\t\t\t\tonFocus={(event) => event.stopPropagation()}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Edit />\n\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{sesion.accesos.catalogos.centro_costos.eliminar === false ? (null):(\n\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\tonClick={() => deleteCuenta(cuenta._id )}\n\t\t\t\t\t\t\t\tonFocus={(event) => event.stopPropagation()}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Delete />\n\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Box>\n\t\t\t\t</AccordionSummary>\n\t\t\t\t<AccordionDetails>\n\t\t\t\t\t<Box width=\"100%\">\n\t\t\t\t\t\t<Divider />\n\t\t\t\t\t\t<Box mb={2} />\n\t\t\t\t\t\t<Box ml={5} width=\"100%\" display=\"flex\">\n\t\t\t\t\t\t\t<Typography variant=\"h6\">Subcuenta</Typography>\n\t\t\t\t\t\t\t<Box mr={2} />\n\t\t\t\t\t\t\t<Box display=\"flex\" alignItems=\"center\" mb={2}>\n\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\tvalue={subcuenta}\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\tonChange={obtenerDatos}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<Box ml={1} />\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\tsize=\"large\"\n\t\t\t\t\t\t\t\t\tdisableElevation\n\t\t\t\t\t\t\t\t\tonClick={guardarSubcuenta}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Add />Guardar\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t{(cuenta.subcuentas !== null ) ?\n\t\t\t\t\t\t\t<Box ml={5}>{render_subcuentas}</Box>\n\t\t\t\t\t\t:\n\t\t\t\t\t\t<div/>\n\t\t\t\t\t\t}\t\n\t\t\t\t\t\t{/* <Box ml={5}>{render_subcostos}</Box> */}\n\t\t\t\t\t</Box>\n\t\t\t\t</AccordionDetails>\n\t\t\t</Accordion>\n\t\t</Fragment>\n\t);\n};\n\nconst RenderSubcuentas = ({ idCuenta,subcuenta, toUpdateID, setToUpdateID, setSubcuenta, refetch }) => {\n\tconst sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\n\tconst classes = useStyles();\n    const [ loadingBackDrop, setLoadingBackDrop ] = useState(false);\n\tconst [ alert, setAlert ] = useState({ message: '', status: '', open: false });\n    const [ eliminarSubcuenta ] = useMutation(ELIMINAR_SUBCUENTA);\n\t\n    const obtenerCamposParaActualizar = (event) => {\n\t\tevent.stopPropagation();\n\t\tsetToUpdateID(subcuenta._id);\n\t\tsetSubcuenta(subcuenta.subcuenta);\n\t};\n\n\tconst cancelarUpdate = (event) => {\n\t\tevent.stopPropagation();\n\t\tsetToUpdateID('');\n\t\tsetSubcuenta('');\n\t};\n    const deleteSubCuenta = async ( idSubCuenta) => {\n        \n\t\tsetLoadingBackDrop(true);\n\t\ttry {\n            await eliminarSubcuenta({\n                variables: {\n                    idCuenta: idCuenta,\n                    idSubcuenta: idSubCuenta\n                }\n            });\n\t\t\trefetch();\n\t\t\tsetAlert({ message: '¡Listo!', status: 'success', open: true });\n\t\t\tsetLoadingBackDrop(false);\n\t\t\tsetSubcuenta('');\n\t\t\tsetToUpdateID('');\n\t\t} catch (error) {\n\t\t\tsetAlert({ message: 'Hubo un error', status: 'error', open: true });\n\t\t\tsetLoadingBackDrop(false);\n\t\t}\n\t};\n    \n\treturn (\n\t\t<Fragment>\n\t\t\t<SnackBarMessages alert={alert} setAlert={setAlert} />\n\t\t\t<BackdropComponent loading={loadingBackDrop} setLoading={setLoadingBackDrop} />\n\t\t\t<Box\n\t\t\t\tdisplay=\"flex\"\n\t\t\t\talignItems=\"center\"\n\t\t\t\tborderRadius={3}\n\t\t\t\tpx={1}\n\t\t\t\tclassName={toUpdateID && toUpdateID === subcuenta._id ? classes.selected : ''}\n\t\t\t>\n\t\t\t\t<Typography>{subcuenta.subcuenta}</Typography>\n\t\t\t\t<div className={classes.flexGrow} />\n\t\t\t\t{\n\t\t\t\t\tsesion.accesos.catalogos.centro_costos.editar === false ? (null):(\n\t\t\t\t\t\ttoUpdateID && toUpdateID === subcuenta._id ? (\n\t\t\t\t\t\t\t<IconButton onClick={cancelarUpdate} onFocus={(event) => event.stopPropagation()}>\n\t\t\t\t\t\t\t\t<Close />\n\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t<IconButton onClick={obtenerCamposParaActualizar} onFocus={(event) => event.stopPropagation()}>\n\t\t\t\t\t\t\t\t\t<Edit />\n\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t\t{sesion.accesos.catalogos.centro_costos.eliminar === false ? (null):(\n\t\t\t\t\t<IconButton onClick={() => deleteSubCuenta(subcuenta._id)} onFocus={(event) => event.stopPropagation()}>\n\t\t\t\t\t\t<Delete />\n\t\t\t\t\t</IconButton>\n\t\t\t\t)}\n\t\t\t</Box>\n\t\t\t<Divider />\n\t\t</Fragment>\n\t);\n};\n","import React from 'react'; \nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport CloseIcon from '@material-ui/icons/Close';\nimport Slide from '@material-ui/core/Slide';\nimport { Box, Container } from '@material-ui/core';\nimport RegistroCentroCostos from './RegistroCentroCostos';\n\nconst useStyles = makeStyles((theme) => ({\n\tappBar: {\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n\ticon: {\n\t\twidth: 100\n\t}\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function CentroCostos() {\n\tconst classes = useStyles();\n\tconst [ open, setOpen ] = React.useState(false);\n\n\tconst handleClickOpen = () => {\n\t\tsetOpen(true);\n\t};\n\n\tconst handleClose = () => {\n\t\tsetOpen(false);\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<Button fullWidth onClick={handleClickOpen}>\n\t\t\t\t<Box display=\"flex\" flexDirection=\"column\">\n\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t<img src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/costos.svg' alt=\"icono numero calzado\" className={classes.icon} />\n\t\t\t\t\t</Box>\n\t\t\t\t\tCentro de costos\n\t\t\t\t</Box>\n\t\t\t</Button>\n\t\t\t<Dialog fullScreen open={open} onClose={handleClose} TransitionComponent={Transition}>\n\t\t\t\t<AppBar className={classes.appBar}>\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t<Typography variant=\"h6\" className={classes.title}>\n\t\t\t\t\t\t\tCentro de costos\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Box m={1}>\n\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"secondary\" onClick={handleClose} size=\"large\">\n\t\t\t\t\t\t\t\t<CloseIcon style={{fontSize: 30}} />\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</AppBar>\n\t\t\t\t<Box mt={3}>\n\t\t\t\t\t<Container maxWidth=\"md\">\n\t\t\t\t\t\t<RegistroCentroCostos />\n\t\t\t\t\t</Container>\n\t\t\t\t</Box>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n}\n","import { gql } from '@apollo/client';\n\nexport const OBTENER_CONCEPTOS_ALMACEN = gql`\n    query ObtenerConceptosAlmacen($empresa: ID!, $sucursal: ID!){\n        obtenerConceptosAlmacen(empresa: $empresa, sucursal: $sucursal){\n                _id\n            nombre_concepto\n            destino\n            origen\n            editable\n            empresa{\n                _id\n                nombre_empresa\n            }\n                sucursal{\n                _id\n                nombre_sucursal\n            }\n        }\n    }\n`;\n\nexport const REGISTRAR_CONCEPTO_ALMACEN = gql`\n    mutation CrearConceptoAlmacen($input: ConceptoAlmacenInput, $empresa: ID!, $sucursal: ID!, $usuario: ID!){\n        crearConceptoAlmacen(input:$input,empresa:$empresa,sucursal:$sucursal, usuario:$usuario){\n            message\n        }\n    }\n`;\n\nexport const ACTUALIZAR_CONCEPTO_ALMACEN = gql`\n    mutation ActualizarConceptoAlmacen($input: ConceptoAlmacenInput, $id: ID!){\n        actualizarConceptoAlmacen(input: $input, id: $id){\n            message\n        }\n    }\n`;\n\nexport const ELIMINAR_CONCEPTO_ALMACEN = gql`\n    mutation EliminarConceptoAlmacen($id: ID!){\n        eliminarConceptoAlmacen(id: $id){\n            message\n        }\n    }\n`;","import React, { useState, useEffect } from 'react';\nimport { \n\tBox,\n\tCircularProgress,\n\tTable,\n\tTableBody,\n\tTableCell,\n\tTableContainer,\n\tTableHead,\n\tTablePagination,\n\tTableRow,\n\tPaper,\n\tmakeStyles,\n\tDialog,\n\tDialogTitle,\n\tDialogActions,\n\tButton\n} from '@material-ui/core';\n\nimport { IconButton } from '@material-ui/core';\nimport { Delete, Edit } from '@material-ui/icons';\n\nimport { useQuery, useMutation } from '@apollo/client';\nimport { OBTENER_CONCEPTOS_ALMACEN, ELIMINAR_CONCEPTO_ALMACEN } from '../../../../gql/Catalogos/conceptosAlmacen';\nimport ErrorPage from '../../../../components/ErrorPage';\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n\t\twidth: '100%'\n\t},\n\tpaper: {\n\t\twidth: '100%',\n\t\tmarginBottom: theme.spacing(2)\n\t}\n}));\n\nexport default function TablaConceptos({setData, setIdConcepto, idConcepto, setAccion, updateData, setAlert}) {\n\tconst classes = useStyles();\n\tconst [ page, setPage ] = useState(0);\n\tconst [ rowsPerPage, setRowsPerPage ] = useState(10);\n\tconst sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\tconst [ openModal, setOpenModal ] = useState(false);\n\tconst handleModal = () => setOpenModal(!openModal);\n\n\tconst handleChangePage = (event, newPage) => {\n\t\tsetPage(newPage);\n\t};\n\tlet obtenerConcepto= [];\n\n\tconst { loading, data, error, refetch } = useQuery(OBTENER_CONCEPTOS_ALMACEN,{\n\t\tvariables: {\n\t\t\tempresa: sesion.empresa._id,\n\t\t\tsucursal: sesion.sucursal._id\n\t\t}\n\t});\n\tconst [ EliminarConceptoAlmacen ] = useMutation(ELIMINAR_CONCEPTO_ALMACEN);\n\n\tuseEffect(\n\t\t() => {\n\t\t\trefetch();\n\t\t},\n\t\t[ updateData, refetch ]\n\t); \n\n\tif(data){\n\t\tobtenerConcepto = data.obtenerConceptosAlmacen;\n\t}\n\n\tconst handleChangeRowsPerPage = (event) => {\n\t\tsetRowsPerPage(parseInt(event.target.value, 10));\n\t\tsetPage(0);\n\t};\n\n\tconst handleDelete = async () => {\n\t\ttry {\n\t\t\tawait EliminarConceptoAlmacen({\n\t\t\t\tvariables: {\n\t\t\t\t\tid: idConcepto\n\t\t\t\t}\n\t\t\t});\n\t\t\trefetch();\n\t\t\tsetAlert({ message: '¡Listo!', status: 'success', open: true });\n\t\t\thandleModal();\n\t\t\tsetIdConcepto(\"\");\n\t\t} catch (error) {\n\t\t\tsetAlert({ message: error.message, status: 'error', open: true });\n\t\t}\n\t};\n\n\tif (error) {\n\t\treturn <ErrorPage error={error} />;\n\t}\n\n\tif (loading){\n\t\treturn (\n\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" height=\"30vh\">\n\t\t\t\t<CircularProgress />\n\t\t\t</Box>\n\t\t);\n\t}\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Paper className={classes.paper}>\n\t\t\t\t<TableContainer>\n\t\t\t\t\t<Table\n\t\t\t\t\t\tclassName={classes.table}\n\t\t\t\t\t\taria-labelledby=\"tableTitle\"\n\t\t\t\t\t\tsize=\"medium\"\n\t\t\t\t\t\taria-label=\"enhanced table\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t<TableCell>Concepto almacén</TableCell>\n                                <TableCell padding=\"default\">Origen</TableCell>\n\t\t\t\t\t\t\t\t<TableCell padding=\"default\">Destino</TableCell>\n\t\t\t\t\t\t\t\t{sesion.accesos.catalogos.conceptos_almacen.editar === false ? (null):(\n\t\t\t\t\t\t\t\t\t<TableCell padding=\"default\">Editar</TableCell>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t{sesion.accesos.catalogos.conceptos_almacen.eliminar === false ? (null):(\n\t\t\t\t\t\t\t\t\t<TableCell padding=\"default\">Eliminar</TableCell>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t</TableHead>\n\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t{obtenerConcepto?.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)?.map((row, index) => {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<TableRow hover role=\"checkbox\" tabIndex={-1} key={row._id}>\n\t\t\t\t\t\t\t\t\t\t<TableCell>{row.nombre_concepto}</TableCell>\n                                        <TableCell>{row.origen}</TableCell>\n\t\t\t\t\t\t\t\t\t\t<TableCell>{row.destino}</TableCell>\n\t\t\t\t\t\t\t\t\t\t{sesion.accesos.catalogos.conceptos_almacen.editar === false ? (null):(\n\t\t\t\t\t\t\t\t\t\t\t<TableCell padding=\"checkbox\">\n\t\t\t\t\t\t\t\t\t\t\t\t<IconButton onClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetAccion(false)\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetIdConcepto(row._id)\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetData({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tnombre_concepto: row.nombre_concepto,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\torigen: row.origen,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdestino: row.destino\n\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={!row.editable}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Edit />\n\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t{sesion.accesos.catalogos.conceptos_almacen.eliminar === false ? (null):(\n\t\t\t\t\t\t\t\t\t\t\t<TableCell padding=\"checkbox\">\n\t\t\t\t\t\t\t\t\t\t\t\t<IconButton onClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetIdConcepto(row._id);\n\t\t\t\t\t\t\t\t\t\t\t\t\thandleModal();\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\tdisabled={!row.editable}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Delete />\n\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t</Table>\n\t\t\t\t</TableContainer>\n\t\t\t\t<TablePagination\n\t\t\t\t\trowsPerPageOptions={[]}\n\t\t\t\t\tcomponent=\"div\"\n\t\t\t\t\tcount={obtenerConcepto.length}\n\t\t\t\t\trowsPerPage={rowsPerPage}\n\t\t\t\t\tpage={page}\n\t\t\t\t\tonChangePage={handleChangePage}\n\t\t\t\t\tonChangeRowsPerPage={handleChangeRowsPerPage}\n\t\t\t\t/>\n\t\t\t</Paper>\n\t\t\t<Modal handleModal={handleModal} openModal={openModal} handleDelete={handleDelete} />\n\t\t</div>\n\t);\n}\n\nconst Modal = ({ handleModal, openModal, handleDelete }) => {\n\treturn (\n\t\t<div>\n\t\t\t<Dialog open={openModal} onClose={handleModal}>\n\t\t\t\t<DialogTitle>{'Eliminar este concepto afectará cálculos de estados de resultado ,¿Seguro que quieres eliminar esto?'}</DialogTitle>\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Button onClick={handleModal} color=\"primary\">\n\t\t\t\t\t\tCancelar\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button color=\"secondary\" autoFocus variant=\"contained\" onClick={handleDelete}>\n\t\t\t\t\t\tEliminar\n\t\t\t\t\t</Button>\n\t\t\t\t</DialogActions>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n};\n","import React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport { Box, Button, TextField, FormControl, Input, Grid, InputLabel, Select, MenuItem, useTheme, Dialog, DialogTitle, DialogActions } from '@material-ui/core';\nimport { Add } from '@material-ui/icons';\nimport ListaConceptos from './ListaConceptos';\nimport { REGISTRAR_CONCEPTO_ALMACEN, ACTUALIZAR_CONCEPTO_ALMACEN } from '../../../../gql/Catalogos/conceptosAlmacen';\nimport { useMutation } from '@apollo/client';\nimport SnackBarMessages from '../../../../components/SnackBarMessages';\n\nconst useStyles = makeStyles((theme) =>({\n\troot: {\n\t\twidth: '100%'\n\t},\n\tflexGrow: {\n\t\tflexGrow: 1\n\t},\n     formControl: {\n        marginLeft: theme.spacing(5),\n        marginBottom:theme.spacing(3),\n        minWidth: 200,\n        maxWidth: 200,\n    },\n}));\nconst ITEM_HEIGHT = 200;\nconst ITEM_PADDING_TOP = 8;\nconst MenuProps = {\n  PaperProps: {\n    style: {\n      maxHeight: ITEM_HEIGHT * 4.5 + ITEM_PADDING_TOP,\n      width: 400,\n    },\n  },\n};\nconst tipos = [\n    'SUMA',\n    'RESTA',\n\t'N/A'\n];\n\nfunction getStyles(tipo, tipoName, theme) {\n\tconsole.log(tipoName)\n  return {\n    fontWeight:\n      tipoName.indexOf(tipo) === -1\n        ? theme.typography.fontWeightRegular\n        : theme.typography.fontWeightMedium,\n  };\n}\nexport default function RegistroServicios() {\n\tconst classes = useStyles();\n     const theme = useTheme();\n\tconst [updateData, setUpdateData] = useState(false);\n\tconst [data, setData] = useState({\n\t\tnombre_concepto: \"\",\n        destino: \"\",\n\t\torigen:\"\"\n\t\t\n\t});\n\tconst [ alert, setAlert ] = useState({ message: '', status: '', open: false });\n\tconst [error, setError] = useState(false);\n\tconst sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\tconst [accion, setAccion] = useState(true);\n\tconst [idConcepto, setIdConcepto] = useState('')\n    \n\tconst [ crearConceptoAlmacen ] = useMutation(REGISTRAR_CONCEPTO_ALMACEN);\n\tconst [ actualizarConceptoAlmacen ] = useMutation(ACTUALIZAR_CONCEPTO_ALMACEN);\n    const [ openModal, setOpenModal ] = useState(false);\n\tconst handleModal = () => setOpenModal(!openModal);\n\tconst handleChangeInput = (e) => {\n\t\tsetData({\n\t\t\t...data,\n\t\t\t[e.target.name]: e.target.value\n\t\t})\n\t}\n     const handleChangeDestino = (event) => {\n        setData({...data, destino:event.target.value});\n    };\n\tconst handleChangeOrigen = (event) => {\n        setData({...data, origen:event.target.value});\n    };\n\tconst handleSubmit = async () => {\n\t\ttry {\n           setOpenModal(false);\n\t\t\tif(!data.nombre_concepto || !data.origen || !data.destino ){\n\t\t\t\tsetError(true);\n\t\t\t    return;\n\t\t\t}else{\n\t\t\t\tconst input = data;\n\t\t\t\tif(accion){\n\t\t\t\t\tif (sesion.accesos.catalogos.conceptos_almacen.agregar === false) {\n\t\t\t\t\t\treturn setAlert({ message: 'Lo sentimos no tienes los permisos autorizados', status: 'error', open: true });\n\t\t\t\t\t}else{\n\t\t\t\t\t\tawait crearConceptoAlmacen({\n\t\t\t\t\t\t\tvariables: {\n\t\t\t\t\t\t\t\tinput,\n\t\t\t\t\t\t\t\tempresa: sesion.empresa._id,\n\t\t\t\t\t\t\t\tsucursal: sesion.sucursal._id,\n\t\t\t\t\t\t\t\tusuario: sesion._id\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tif (sesion.accesos.catalogos.conceptos_almacen.editar === false) {\n\t\t\t\t\t\treturn setAlert({ message: 'Lo sentimos no tienes los permisos autorizados', status: 'error', open: true });\n\t\t\t\t\t}else{\n\t\t\t\t\t\tawait actualizarConceptoAlmacen({\n\t\t\t\t\t\t\tvariables: {\n\t\t\t\t\t\t\t\tinput,\n\t\t\t\t\t\t\t\tid: idConcepto\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t\tsetAccion(true);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tsetAlert({ message: '¡Listo!', status: 'success', open: true });\n\t\t\t\tsetData({nombre_concepto: \"\", origen: \"\", destino:\"\"});\n                setError(false);\n\t\t\t\tsetUpdateData(!updateData);\n\t\t\t\tsetIdConcepto(\"\");\n\t\t\t\t\n\t\t\t}\n\t\t} catch (error) {\n\t\t\t\n\t\t}\n\t}\n\n\tconst pressEnter = (e) => {\n\t\tif (e.key === 'Enter') handleSubmit();\n\t};\n\n    const Modal = ({ handleModal, openModal, handleSubmit }) => {\n\treturn (\n\t\t<div>\n\t\t\t<Dialog open={openModal} onClose={handleModal}>\n\t\t\t\t<DialogTitle>{'Editar este concepto afectará cálculos de estados de resultado ,¿Seguro que quieres editar esto?'}</DialogTitle>\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Button onClick={handleModal} color=\"primary\">\n\t\t\t\t\t\tCancelar\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button color=\"secondary\" autoFocus variant=\"contained\" onClick={handleSubmit}>\n\t\t\t\t\t\tEditar\n\t\t\t\t\t</Button>\n\t\t\t\t</DialogActions>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n};\n\n\treturn (\n\t\t<div className={classes.root}>\n            <Box  flexDirection=\"row\" >\n                <Grid container>\n                    <SnackBarMessages alert={alert} setAlert={setAlert} />\n                   \n                    <Box display=\"flex\" alignItems=\"center\" mb={2}>\n                         <Typography>Concepto </Typography>\n                        <TextField\n                            error={error}\n                            id=\"outlined-error-helper-text\"\n                            variant=\"outlined\"\n                            size=\"small\"\n                            name=\"nombre_concepto\"\n\t\t\t\t\t\t\tstyle={{marginLeft:2}}\n                            value={data.nombre_concepto}\n                            onChange={handleChangeInput}\n                            onKeyPress={pressEnter}\n                        />\n                        \n                    </Box>\n\t\t\t\t\t<FormControl className={classes.formControl}>\n                        <InputLabel id=\"origen-label\">Origen</InputLabel>\n                        <Select\n                        error={error}\n                        labelId=\"origen-label\"\n                        id=\"origen-name\"\n                        value={data.origen}\n                        onChange={handleChangeOrigen}\n                        input={<Input />}\n                        MenuProps={MenuProps}\n                        >\n                        {tipos.map((tipo) => (\n                            <MenuItem key={tipo} value={tipo} style={getStyles(tipo, data.origen, theme)}>\n                            {tipo}\n                            </MenuItem>\n                        ))}\n                        </Select>\n                    </FormControl>\n                    <FormControl className={classes.formControl}>\n                        <InputLabel id=\"destino-label\">Destino</InputLabel>\n                        <Select\n                        error={error}\n                        labelId=\"destino-label\"\n                        id=\"destino-name\"\n                        value={data.destino}\n                        onChange={handleChangeDestino}\n                        input={<Input />}\n                        MenuProps={MenuProps}\n                        >\n                        {tipos.map((tipo) => (\n                            <MenuItem key={tipo} value={tipo} style={getStyles(tipo, data.destino, theme)}>\n                            {tipo}\n                            </MenuItem>\n                        ))}\n                        </Select>\n                    </FormControl>\n                    <Box display=\"flex\" alignItems=\"center\" mb={2}>\n                        <Box ml={5} />\n                        <Button color=\"primary\" variant=\"contained\" size=\"large\" onClick={ () =>(accion) ? handleSubmit(): setOpenModal(true)} disableElevation>\n                            <Add />Guardar\n                        </Button>\n                    </Box>\n                </Grid>\n            </Box>\n\t\t\t<ListaConceptos \n\t\t\t\tsetData={setData} \n\t\t\t\tidConcepto={idConcepto} \n\t\t\t\tsetIdConcepto={setIdConcepto} \n\t\t\t\tsetAccion={setAccion} \n\t\t\t\tupdateData={updateData}\n\t\t\t\tsetAlert={setAlert} \n\t\t\t/>\n            <Modal handleModal={handleModal} openModal={openModal} handleSubmit={handleSubmit} />\n\t\t</div>\n\t);\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport CloseIcon from '@material-ui/icons/Close';\nimport Slide from '@material-ui/core/Slide';\nimport { Box, Container } from '@material-ui/core';\nimport RegistroConcepto from './RegistroConcepto';\n\nconst useStyles = makeStyles((theme) => ({\n\tappBar: {\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n\ticon: {\n\t\twidth: 100\n\t}\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function ConceptosAlmacen() {\n\tconst classes = useStyles();\n\tconst [ open, setOpen ] = React.useState(false);\n\n\tconst handleClickOpen = () => {\n\t\tsetOpen(true);\n\t};\n\n\tconst handleClose = () => {\n\t\tsetOpen(false);\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<Button fullWidth onClick={handleClickOpen}>\n\t\t\t\t<Box display=\"flex\" flexDirection=\"column\">\n\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t<img src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/conceptosAlmacen.svg' alt=\"icono numero calzado\" className={classes.icon} />\n\t\t\t\t\t</Box>\n\t\t\t\t\tConceptos Almacén\n\t\t\t\t</Box>\n\t\t\t</Button>\n\t\t\t<Dialog fullScreen open={open} onClose={handleClose} TransitionComponent={Transition}>\n\t\t\t\t<AppBar className={classes.appBar}>\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t<Typography variant=\"h6\" className={classes.title}>\n\t\t\t\t\t\t\tConceptos almacén\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Box m={1}>\n\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"secondary\" onClick={handleClose} size=\"large\">\n\t\t\t\t\t\t\t\t<CloseIcon style={{fontSize: 30}} />\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</AppBar>\n\t\t\t\t<Box mt={4} alignSelf='center' >\n\t\t\t\t\t<Container >\n\t\t\t\t\t\t<RegistroConcepto />\n\t\t\t\t\t</Container>\n\t\t\t\t</Box>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n}\n","import React from 'react';\nimport { Box, Container, Grid } from '@material-ui/core';\nimport Cliente from './Cliente/Cliente';\nimport Productos from './Producto/';\nimport Tallas from './Tallas/Tallas';\n/* import UnidadMedida from './UnidadMedida/UnidadMedida'; */\nimport Contabilidad from './Contabilidad/Contabilidad';\nimport Proveedores from './Proveedores/Proovedores';\nimport Cajas from './Cajas/Cajas'; \nimport Usuarios from './Usuarios/Usuarios';\nimport Departamentos from './Departamentos/Departamentos';\nimport Categorias from './Categorias/Categorias';\nimport Colores from './Colores/Colores';\nimport Marcas from './Marcas/Marcas';\nimport CentroCostos from './CentroCostos/CentroCostos';\nimport ConceptosAlmacen from './ConceptosAlmacen/ConceptosAlmacen';\n\nexport default function Catalogos() {\n\n\tconst permisosUsuario = JSON.parse(localStorage.getItem('sesionCafi'));\n\t\n\treturn (\n\t\t<Container>\n\t\t\t<Grid container spacing={5} justify=\"center\">\n\t\t\t\t{permisosUsuario.accesos.catalogos.clientes.ver === false ? (null):(\n\t\t\t\t\t<Grid item lg={2}>\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t<Cliente />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t)}\n\t\t\t\t{permisosUsuario.accesos.catalogos.productos.ver === false ? (null):(\n\t\t\t\t\t<Grid item lg={2}>\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t<Productos />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t)}\n\t\t\t\t{permisosUsuario.accesos.catalogos.tallas_numeros.ver === false ? (null):(\n\t\t\t\t\t<Grid item lg={2}>\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t<Tallas />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t)}\n\t\t\t\t{/* <Grid item lg={2}>\n\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t<UnidadMedida />\n\t\t\t\t\t</Box>\n\t\t\t\t</Grid> */}\n\t\t\t\t{permisosUsuario.accesos.catalogos.contabilidad.ver === false ? (null):(\n\t\t\t\t\t<Grid item lg={2}>\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t<Contabilidad />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t)}\n\t\t\t\t{permisosUsuario.accesos.catalogos.provedores.ver === false ? (null):(\n\t\t\t\t\t<Grid item lg={2}>\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t<Proveedores />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t)}\n\t\t\t\t{permisosUsuario.accesos.catalogos.cajas.ver === false ? (null):(\n\t\t\t\t\t<Grid item lg={2}>\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t<Cajas />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t)}\n\t\t\t\t{permisosUsuario.accesos.catalogos.usuarios.ver === false ? (null):(\n\t\t\t\t\t<Grid item lg={2}>\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t<Usuarios />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t)}\n\t\t\t\t{permisosUsuario.accesos.catalogos.departamentos.ver === false ? (null):(\n\t\t\t\t\t<Grid item lg={2}>\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t<Departamentos />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t)}\n\t\t\t\t{permisosUsuario.accesos.catalogos.categorias.ver === false ? (null):(\n\t\t\t\t\t<Grid item lg={2}>\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t<Categorias />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t)}\n\t\t\t\t{permisosUsuario.accesos.catalogos.colores.ver === false ? (null):(\n\t\t\t\t\t<Grid item lg={2}>\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t<Colores />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t)}\n\t\t\t\t{permisosUsuario.accesos.catalogos.marcas.ver === false ? (null):(\n\t\t\t\t\t<Grid item lg={2}>\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t<Marcas />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t)}\n\t\t\t\t{permisosUsuario.accesos.catalogos.centro_costos.ver === false ? (null):(\n\t\t\t\t\t<Grid item lg={2}>\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t<CentroCostos />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t)}\n\t\t\t\t{permisosUsuario.accesos.catalogos.conceptos_almacen.ver === false ? (null):(\n\t\t\t\t\t<Grid item lg={2}>\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t<ConceptosAlmacen />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t)}\n\t\t\t</Grid>\n\t\t</Container>\n\t);\n}\n","import React, { createContext, useState } from \"react\";\n\nexport const TesoreriaCtx = createContext();\n\nexport const TesoreriaProvider = ({ children }) => {\n\n    const [alert, setAlert] = useState({ message: \"\", status: \"\", open: false });\n    const [cuentas, setCuentas] = useState([]);\n    const [cuenta, setCuenta] = useState([]);\n    const [reload, setReload] = useState(false);\n    \n    return (\n        <TesoreriaCtx.Provider\n            value={{\n                alert, \n                setAlert,\n                cuentas, \n                setCuentas,\n                reload, \n                setReload,\n                cuenta, \n                setCuenta\n            }}\n        >\n            {children}\n        </TesoreriaCtx.Provider>\n    );\n};\n","import { Box, Button, Dialog, DialogActions,\n        DialogContent, IconButton, makeStyles, \n        MenuItem, Select, Slide, TextField, Typography \n} from '@material-ui/core';\nimport React, { Fragment, useState } from 'react';\nimport moment from 'moment';\n\nimport CompareArrowsIcon from '@material-ui/icons/CompareArrows';\n\nimport SnackBarMessages from '../../../../components/SnackBarMessages';\nimport { CREAR_MOVIMIENTO_CUENTA } from '../../../../gql/Empresa/sucursales';\nimport { useMutation } from '@apollo/client';\n\nconst useStyles = makeStyles((theme) => ({\n\tformInputFlex: {\n\t\tdisplay: 'flex',\n\t\t'& > *': {\n\t\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(1)}px`\n\t\t}\n\t},\n\tformInput: {\n\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(1)}px`\n\t},\n    formComboBox:{\n        height: '50%'\n    },\n    input: {\n        \"& input[type=number]\": {\n          \"-moz-appearance\": \"textfield\",\n        },\n        \"& input[type=number]::-webkit-outer-spin-button\": {\n          \"-webkit-appearance\": \"none\",\n          margin: 0,\n        },\n        \"& input[type=number]::-webkit-inner-spin-button\": {\n          \"-webkit-appearance\": \"none\",\n          margin: 0,\n        },\n    }\n}));\n\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function RetiroDeposito({cuenta, refetch, tipo}) {\n\n    const sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n    const turnoEnCurso = JSON.parse(localStorage.getItem('turnoEnCurso'));\n    const [ CrearMovimientoCuenta ] = useMutation(CREAR_MOVIMIENTO_CUENTA);\n\n    const classes = useStyles();\n    const [alert, setAlert] = useState({ message: \"\", status: \"\", open: false });\n    const [datosMovimiento, setDatosMovimiento] = useState([]);\n    const [open, setOpen] = useState(false);\n\n    const handleClickOpen =()=>{\n        setOpen(!open);\n    };\n\n    const onChangeDatos = (e) => {\n        setDatosMovimiento({...datosMovimiento, [e.target.name]: e.target.value })\n    };\n\n    const input ={\n        tipo_movimiento: datosMovimiento.tipo_movimiento === 'RETIRO' ? 'CUENTA-RETIRO' : 'CUENTA-DEPOSITO',\n        id_usuario: sesion._id,\n        rol_movimiento: tipo === true ? \"CUENTA-EMPRESA\" : \"CUENTA\",\n        numero_caja: turnoEnCurso ? parseInt(turnoEnCurso.numero_caja) : 0,\n        id_Caja: turnoEnCurso ? turnoEnCurso.id_caja : null,\n        numero_usuario_creador: sesion.numero_usuario.toString(),\n        nombre_usuario_creador: sesion.nombre,\n        horario_turno: turnoEnCurso ? turnoEnCurso.horario_turno : null,\n        concepto: datosMovimiento.concepto,\n        hora_moviento: {\n            hora: moment().format('hh'),\n            minutos: moment().format('mm'),\n            segundos: moment().format('ss'),\n            completa: moment().format('HH:mm:ss')\n        },\n        fecha_movimiento: {\n            year: moment().format('YYYY'),\n            mes: moment().format('MM'),\n            dia: moment().format('DD'),\n            no_semana_year: moment().week().toString(),\n            no_dia_year: moment().dayOfYear().toString(),\n            completa: moment().locale('es-mx').format()\n        },\n        montos_en_caja: {\n            monto_efectivo: {\n                monto: parseFloat(datosMovimiento.cantidad),\n                metodo_pago: \"01\"\n            },\n            monto_tarjeta_debito: {\n                monto: 0,\n                metodo_pago: \"28\"\n            },\n            monto_tarjeta_credito: {\n                monto: 0,\n                metodo_pago: \"04\"\n            },\n            monto_creditos: {\n                monto: 0,\n                metodo_pago: \"99\"\n            },\n            monto_monedero: {\n                monto: 0,\n                metodo_pago: \"05\"\n            },\n            monto_transferencia: {\n                monto: 0,\n                metodo_pago: \"03\"\n            },\n            monto_cheques: {\n                monto: 0,\n                metodo_pago: \"02\"\n            },\n            monto_vales_despensa: {\n                monto: 0,\n                metodo_pago: \"08\"\n            },\n        },\n        comentarios: datosMovimiento.comentarios,\n    };\n\n    const enviarDatos = async () => { \n        try {\n            if (!datosMovimiento.concepto || !datosMovimiento.tipo_movimiento || !datosMovimiento.cantidad ) {\n                setAlert({\n                    message: 'Por favor complete los datos',\n                    status: \"error\",\n                    open: true,\n                });\n                return null;\n            }\n            const movimiento = await CrearMovimientoCuenta({\n                variables: {\n                    input,\n                    empresa: sesion.empresa._id,\n                    sucursal: cuenta._id,\n                    tipo: tipo\n                }\n            });\n            refetch();\n            setDatosMovimiento([]); \n            handleClickOpen();\n            setAlert({\n                message: movimiento.data.crearMovimientoCuenta.message,\n                status: \"success\",\n                open: true,\n            });\n        } catch (error) {\n            setAlert({\n                message: error.message,\n                status: \"error\",\n                open: true,\n              });\n        }\n    }\n\n    return (\n        <Fragment>\n            <Box>\n                <IconButton\n                    color='primary'\n                    onClick={handleClickOpen}\n                    size=\"small\"\n                >\n                    <CompareArrowsIcon style={{fontSize: 35}} />\n                </IconButton>\n            </Box>\n            <SnackBarMessages alert={alert} setAlert={setAlert} />\n            <Dialog\n                open={open} \n\t\t\t\tTransitionComponent={Transition} \n\t\t\t\tmaxWidth=\"sm\"\n\t\t\t\tfullWidth\n            >\n                <DialogContent>\n                    <Box textAlign={'center'} p={1}>\n                        <Typography variant='h5'>\n                            Movimiento en Cuenta\n                        </Typography>\n                    </Box>\n                    <div className={classes.formInputFlex}>\n                        <Box width=\"100%\">\n                            <Typography>Usuario</Typography>\n                            <TextField\n                                fullWidth\n                                size=\"small\"\n                                name=\"usuario\"\n                                variant=\"outlined\"\n                                disabled={true}\n                                value={sesion?.nombre}\n                            />\n                        </Box>\n                        <Box width=\"100%\" >\n                            <Typography>Fecha y hora</Typography>\n                            <TextField\n                                fullWidth\n                                disabled={true}\n                                size=\"small\"\n                                value={moment().format('D MMMM YYYY, h:mm:ss')}\n                                name=\"fecha_movimiento\"\n                                variant=\"outlined\"\n\n                            />\n                        </Box>\n                    </div>\n                    <div className={classes.formInputFlex}>\n                        <Box width=\"100%\">\n                            <Typography>Movimiento a Realizar</Typography>\n                            <Select\n                                className={classes.formComboBox}    \n                                size=\"small\"\n                                variant=\"outlined\"\n                                name=\"tipo_movimiento\"\n                                onChange={onChangeDatos}\n                                fullWidth\n                            >\n                                <MenuItem value=''>Ninguno</MenuItem>\n                                <MenuItem value='DEPOSITO'>Deposito</MenuItem>\n                                <MenuItem value='RETIRO'>Retiro</MenuItem>\n                            </Select>\n                        </Box>\n                    </div>\n                    <div className={classes.formInputFlex}>\n                        <Box width=\"100%\">\n                            <Typography>Cantidad</Typography>\n                            <TextField\n                                className={classes.input}\n                                fullWidth\n                                onChange={onChangeDatos}\n                                size=\"small\"\n                                type='number'\n                                name=\"cantidad\"\n                                variant=\"outlined\"\n                            />\n                        </Box>\n                        <Box width=\"100%\">\n                            <Typography>Concepto</Typography>\n                            <TextField\n                                fullWidth\n                                onChange={onChangeDatos}\n                                size=\"small\"\n                                name=\"concepto\"\n                                variant=\"outlined\"\n                            />\n                        </Box>\n                    </div>\n                    <div className={classes.formInputFlex}>\n                        <Box width=\"100%\">\n                            <Typography>Comentarios</Typography>\n                            <TextField\n                                className={classes.input}\n                                fullWidth\n                                onChange={onChangeDatos}\n                                size=\"small\"\n                                multiline\n                                rows={2}\n                                type='number'\n                                name=\"monto_movimiento\"\n                                variant=\"outlined\"\n                            />\n                        </Box>\n                    </div>\n                </DialogContent>\n                <DialogActions>\n                    <Button\n                        color=\"primary\"\n                        variant='outlined'\n                        onClick={enviarDatos}\n                        size=\"large\"\n                    >\n                        Realizar\n                    </Button>\n                    <Button\n                        color=\"secondary\"\n                        variant='outlined'\n                        onClick={handleClickOpen}\n                        size=\"large\"\n                    >\n                        Cancelar\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        </Fragment>\n    )\n}\n","import React, { Fragment, useState, useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { Box, Button, CircularProgress, Dialog, DialogActions, \n        DialogContent,  MenuItem,  Select,  Slide, \n        TextField, Typography\n} from '@material-ui/core';\nimport VisibilityIcon from '@material-ui/icons/Visibility';\nimport moment from 'moment';\n\nimport { useQuery } from '@apollo/client';\nimport { OBTENER_HISTORIAL_CUENTAS } from '../../../../gql/Empresa/sucursales';\nimport { useDebounce } from 'use-debounce/lib';\nimport { formatoMexico } from '../../../../config/reuserFunctions';\n\nconst columns = [\n\t{ id: 'movimiento', label: 'Origen Movimiento', minWidth: 100 },\t\n    { id: 'fecha', label: 'Fecha', minWidth: 100 },\n\t{ id: 'name', label: 'Usuario', minWidth: 150 },\n\t{ id: 'cantidad', label: 'Cantidad', minWidth: 150 },\n\t{ id: 'concepto', label: 'Concepto', minWidth: 150 },\n\t{ id: 'tipo', label: 'Tipo Movimiento', minWidth: 100 }\n];\n\nconst useStyles  = makeStyles((theme) => ({\n\troot: {\n\t\twidth: '100%',\n        height: '50vh'\n\t},\n\tcontainer: {\n\t\tmaxHeight: '100%'\n\t},\n    appBar: {\t\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n    formComboBox:{\n        height: '50%'\n    },\n\trootBusqueda: {\n\t\tdisplay: 'flex',\n\t\tpaddingLeft: theme.spacing(2)\n\t},\n    formInputFlex: {\n\t\tdisplay: 'flex',\n\t\t'& > *': {\n\t\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(1)}px`\n\t\t}\n\t},\n\tformInput: {\n\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(1)}px`\n\t},\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function HistorialCuentas({cuenta, tipo}) {\n    const sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n    moment.locale('es');\n    const classes = useStyles();\n    const [open, setOpen] = useState(false);\n    const [datosFiltro, setDatosFiltro] = useState([]);\n    const [ value ] = useDebounce(datosFiltro, 500);\n\n\n    const handleClickOpen = () => {\n        setOpen(!open);\n        setDatosFiltro([]);\n        refetch();\n    };\n\n    const {  data, error, loading, refetch } = useQuery(OBTENER_HISTORIAL_CUENTAS, {\n\t\tvariables: {\n            input:{\n                fecha_inicio: datosFiltro.fecha_inicio ? datosFiltro.fecha_inicio : \"\",\n                fecha_fin: datosFiltro.fecha_fin ? datosFiltro.fecha_fin : \"\",\n                usuario: value.usuario ? value.usuario : \"\",\n                tipo_movimiento: datosFiltro.tipo_movimiento ? datosFiltro.tipo_movimiento : \"\"\n            },\n            empresa: sesion.empresa._id,\n            sucursal: cuenta._id,\n            tipo: tipo\n\t\t}\n\t});\t\n    \n    let historialCuenta = [];\n    if(data){\n        historialCuenta = data.obtenerHistorialCuenta;\n    };\n\n    const obtenerDatos = (e) => {\n        setDatosFiltro({...datosFiltro, [e.target.name]: e.target.value})\n    };\n\n    useEffect(() => {\n        refetch()\n    }, [refetch])\n\n\treturn (\n        <Fragment>\n            <Box>\n                <Button\n                    color='primary'\n                    onClick={handleClickOpen}\n                    size=\"small\"\n                    endIcon={<VisibilityIcon style={{fontSize: 35}}  />}\n                >\n                    Ver\n                </Button>\n            </Box>\n            <Dialog\n                open={open} \n\t\t\t\tTransitionComponent={Transition} \n\t\t\t\tmaxWidth=\"lg\"\n\t\t\t\tfullWidth\n            >\n                <Box m={1} display=\"flex\" justifyContent=\"flex-end\">\n\t\t\t\t\t<Button variant=\"contained\" color=\"secondary\" onClick={handleClickOpen} size=\"large\">\n\t\t\t\t\t\t<CloseIcon />\n\t\t\t\t\t</Button>\n\t\t\t\t</Box>\n                <DialogContent>\n                    <Box textAlign={'center'} p={1}>\n                        <Typography variant='h6'>\n                            Historial de cuenta\n                        </Typography>\n                    </Box>\n                    <Box>\n                        <div className={classes.formInputFlex}>\n                            <Box width=\"100%\">\n                                <Typography>Fecha inicio:</Typography>\n                                <TextField \n                                    fullWidth\n                                    size=\"small\"\n                                    type='date'\n                                    name=\"fecha_inicio\"\n                                    onChange={obtenerDatos}\n                                    variant=\"outlined\"\n                                />\n                            </Box>\n                            <Box width=\"100%\">\n                                <Typography>Fecha fin:</Typography>\n                                <TextField \n                                    fullWidth\n                                    size=\"small\"\n                                    type='date'\n                                    onChange={obtenerDatos}\n                                    name=\"fecha_fin\"\n                                    variant=\"outlined\"\n                                />\n                            </Box>\n                            <Box width=\"100%\">\n                                <Typography>Usuario:</Typography>\n                                <TextField \n                                    fullWidth\n                                    size=\"small\"\n                                    onChange={obtenerDatos}\n                                    name=\"usuario\"\n                                    variant=\"outlined\"\n                                />\n                            </Box>\n                            <Box width=\"100%\">\n                                <Typography>Tipo Movimiento:</Typography>\n                                <Select\n                                    className={classes.formComboBox}    \n                                    size=\"small\"\n                                    variant=\"outlined\"\n                                    name=\"tipo_movimiento\"\n                                    onChange={obtenerDatos}\n                                    fullWidth\n                                >\n                                    <MenuItem value='TODOS'>Ninguno</MenuItem>\n                                    <MenuItem value='CUENTA-DEPOSITO'>Deposito</MenuItem>\n                                    <MenuItem value='CUENTA-RETIRO'>Retiro</MenuItem>\n                                </Select>\n                            </Box>\n                        </div>\n                    </Box>\n                    <Box p={2}>\n                        <Paper className={classes.root}>\n                            <TableContainer className={classes.container}>\n                                <Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n                                    <TableHead>\n                                        <TableRow>\n                                            {columns.map((column) => (\n                                                <TableCell key={column.id} align={column.align} style={{ minWidth: column.minWidth }}>\n                                                    {column.label}\n                                                </TableCell>\n                                            ))}\n                                        </TableRow>\n                                    </TableHead>\n                                    <TableBody> \n                                        {\n                                            historialCuenta?.map((row, index) => {\n                                                return(\n                                                    <RowsHistorial \n                                                        key={index}\n                                                        row={row}\n                                                        loading={loading}\n                                                    />\n                                                )\n                                            })\n                                        }\n                                       \n                                    </TableBody>\n                                </Table>\n                            </TableContainer>\n                        </Paper>\n                    </Box>\n                </DialogContent>\n                <DialogActions>\n                    <Button\n                        color=\"secondary\"\n                        variant='outlined'\n                        onClick={handleClickOpen}\n                        size=\"large\"\n                    >\n                        Cancelar\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        </Fragment>\n\t);\n};\n\nfunction RowsHistorial ({ row, loading }) {\n\n    if (loading) \n\treturn (\n\t\t<Box\n\t\tdisplay=\"flex\"\n\t\tflexDirection=\"column\"\n\t\tjustifyContent=\"center\"\n\t\talignItems=\"center\"\n\t\theight=\"80vh\"\n\t\t>\n\t\t\t<CircularProgress />\n\t\t</Box>\n\t);\n\n    return(\n        <TableRow\n            hover\n            role=\"checkbox\"handleClickOpen\n            tabIndex={-1}\n        >\n            <TableCell>Caja {row.numero_caja !== \"\" ? row.numero_caja : \"\"}</TableCell>\n            <TableCell>{moment(row?.fecha_movimiento.completa).format('D MMMM YYYY')}</TableCell>\n            <TableCell>{row?.nombre_usuario_creador}</TableCell>\n            <TableCell >\n                <b style={{fontSize: 17}}>${formatoMexico(row.montos_en_caja.monto_efectivo.monto)}</b>\n            </TableCell>\n            <TableCell>{row?.concepto}</TableCell>\n            <TableCell>{\n                row?.tipo_movimiento === \"CUENTA-DEPOSITO\" ? 'DEPOSITO' : 'RETIRO'    \n            }</TableCell>\n\n        </TableRow>\n    );\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport { Box, CircularProgress} from '@material-ui/core';\nimport { useQuery } from '@apollo/client';\n\nimport RetiroDeposito from './RetiroDeposito';\nimport HistorialCuentas from './HistorialCuentas';\nimport { OBTENER_SUCURSALES } from '../../../../gql/Empresa/sucursales';\nimport { OBTENER_DATOS_EMPRESA } from '../../../../gql/Empresa/empresa';\nimport { formatoMexico } from '../../../../config/reuserFunctions';\n\nconst columns = [\n\t{ id: 'name', label: 'Origen', minWidth: 150, align: 'left' },\n\t{ id: 'tipo', label: 'Tipo Cuenta', minWidth: 150, align: 'left' },\n\t{ id: 'dinero', label: 'Dinero Existencia', minWidth: 100, align: 'left' },\n\t{ id: 'movimiento', label: 'Realizar Movimiento', minWidth: 100, align: 'center' },\t\n\t{ id: 'historial', label: 'Historial', minWidth: 100, align: 'center' },\n];\n\nconst useStyles  = makeStyles((theme) => ({\n\troot: {\n\t\twidth: '100%',\n        height: '50vh'\n\t},\n\tcontainer: {\n\t\tmaxHeight: '100%'\n\t},\n    appBar: {\t\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n\trootBusqueda: {\n\t\tdisplay: 'flex',\n\t\tpaddingLeft: theme.spacing(2)\n\t},\n}));\n\nexport default function ListaCuentas() {\n    const sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\n    const {  data, error, loading, refetch } = useQuery(OBTENER_SUCURSALES, {\n\t\tvariables: {\n            id: sesion.empresa._id\n\t\t}\n\t});\t\n\n\n    const cuentaEmpresa = useQuery(OBTENER_DATOS_EMPRESA, {\n\t\tvariables: {\n            id: sesion.empresa._id\n\t\t}\n\t});\t\n\n\tconst classes = useStyles();\n    let cuentasSucursalesEmpresa = [];\n    let cuentaPrincipal = [];\n\n\n    if(cuentaEmpresa.data){\n        cuentaPrincipal = cuentaEmpresa.data.obtenerEmpresa;\n    };\n\n    if (data) {\n        cuentasSucursalesEmpresa = data.obtenerSucursalesEmpresa\n    };\n\n    if (loading && cuentaEmpresa.loading) \n        return (\n            <Box\n            display=\"flex\"\n            flexDirection=\"column\"\n            justifyContent=\"center\"\n            alignItems=\"center\"\n            height=\"50vh\"\n            >\n                <CircularProgress/>\n            </Box>\n        );\n    \n\treturn (\n        <Box p={2}>\n            <Paper className={classes.root}>\n                <TableContainer className={classes.container}>\n                    <Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n                        <TableHead>\n                            <TableRow>\n                                {columns.map((column) => (\n                                    <TableCell key={column.id} align={column.align} style={{ minWidth: column.minWidth }}>\n                                        {column.label}\n                                    </TableCell>\n                                ))}\n                            </TableRow>\n                        </TableHead>\n                        <TableBody> \n                        <TableRow\n                            hover\n                            role=\"checkbox\"handleClickOpen\n                            tabIndex={-1}\n                        >\n                            <TableCell >{cuentaPrincipal?.nombre_empresa}</TableCell>\n                            <TableCell >CUENTA PRINCIPAL</TableCell>\n                            <TableCell >\n                                <b style={{fontSize: 17}}>${formatoMexico(cuentaPrincipal?.cuenta_empresa?.dinero_actual)}</b>\n                            </TableCell>\n                            {sesion.accesos.tesoreria.cuentas_empresa.editar === false ? (\n                                <TableCell align='center'>  </TableCell>\n                            ):(\n                                <TableCell align='center'> <RetiroDeposito cuenta={cuentaPrincipal} refetch={cuentaEmpresa.refetch} tipo={true} /> </TableCell>\n                            )}\n                            <TableCell align='center'> <HistorialCuentas cuenta={cuentaPrincipal}  tipo={true} /> </TableCell>\n                        </TableRow>\n                            {cuentasSucursalesEmpresa?.map((cuenta, index) => {\n                                return(\n                                    <RowsCuentas \n                                        key={index}\n                                        refetch={refetch}\n                                        cuenta={cuenta}\n                                        loading={loading}\n                                        \n                                    /> \n                                )\n                            })}\n                        </TableBody>\n                    </Table>\n                </TableContainer>\n            </Paper>\n        </Box>\n\t);\n};\n\nfunction RowsCuentas ({cuenta, refetch}) {\n\tconst permisosUsuario = JSON.parse(localStorage.getItem('sesionCafi'));\n\n    return(\n        <TableRow\n            hover\n            role=\"checkbox\"handleClickOpen\n            tabIndex={-1}\n        >\n            <TableCell >{cuenta.nombre_sucursal}</TableCell>\n            <TableCell >SUCURSAL</TableCell>\n            <TableCell >\n                <b style={{fontSize: 17}}>${formatoMexico(cuenta?.cuenta_sucursal?.dinero_actual)}</b>\n            </TableCell>\n            {permisosUsuario.accesos.tesoreria.cuentas_empresa.editar === false ? (\n                <TableCell align='center'>  </TableCell>\n            ):(\n                <TableCell align='center'> <RetiroDeposito cuenta={cuenta} refetch={refetch} tipo={false} /> </TableCell>\n            )}\n            <TableCell align='center'> <HistorialCuentas cuenta={cuenta} tipo={false}/> </TableCell>\n        </TableRow>\n    );\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport Typography from '@material-ui/core/Typography';\nimport CloseIcon from '@material-ui/icons/Close';\nimport Slide from '@material-ui/core/Slide';\nimport { Box, DialogContent } from '@material-ui/core';\nimport ListaCuentas from './ListaCuentas';\n\nconst useStyles = makeStyles((theme) => ({\n\tappBar: {\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n    icon: {\n\t\twidth: 100\n\t},\n\tformInputFlex: {\n\t\tdisplay: 'flex',\n\t\t'& > *': {\n\t\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(2)}px`\n\t\t}\n\t},\n\tformInput: {\n\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(2)}px`\n\t},\n\tbuttons: {\n\t\t'& > *': {\n\t\t\tmargin: `0px ${theme.spacing(1)}px`\n\t\t}\n\t}\n\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function CuentasEmpresaSucursales() {\n\tconst classes = useStyles();\n\tconst [ open, setOpen ] = React.useState(false);\n\n\tconst handleClickOpen = () => setOpen(!open);\n\n\treturn (\n\t\t<div>\n\t\t\t<Button fullWidth onClick={handleClickOpen}>\n\t\t\t\t<Box display=\"flex\" flexDirection=\"column\">\n\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n                        <img src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/retiro-de-dinero.svg' alt=\"icono retiro\" className={classes.icon} />\n\t\t\t\t\t</Box>\n\t\t\t\t\tCuentas de Empresa\n\t\t\t\t</Box>\n\t\t\t</Button>\n\n\t\t\t<Dialog \n\t\t\t\topen={open} \n\t\t\t\tTransitionComponent={Transition} \n\t\t\t\tmaxWidth=\"lg\"\n\t\t\t\tfullWidth\n\t\t\t>\n\t\t\t\t<Box m={1} display=\"flex\" justifyContent=\"flex-end\">\n\t\t\t\t\t<Button variant=\"contained\" color=\"secondary\" onClick={handleClickOpen} size=\"large\">\n\t\t\t\t\t\t<CloseIcon />\n\t\t\t\t\t</Button>\n\t\t\t\t</Box>\n\t\t\t\t<DialogContent>\n\t\t\t\t\t<Box textAlign=\"center\">\n\t\t\t\t\t\t<Typography variant=\"h6\">\n\t\t\t\t\t\t\tCuentas de empresa\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box>\n\t\t\t\t\t\t<ListaCuentas />\n\t\t\t\t\t</Box>\n\t\t\t\t</DialogContent>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n}\n","import { gql } from '@apollo/client';\n\nexport const OBTENER_HISTORIAL_EGRESOS = gql`\n    query ObtenerHistorialEgresos($input: ObtenerHistorialEgresosInput, $empresa: ID!, $sucursal: ID!){\n        obtenerHistorialEgresos(input: $input, empresa: $empresa, sucursal: $sucursal){\n            folio_egreso\n            folio_factura\n            empresa_distribuidora\n            provedor\n            productos {\n                cantidad_productos\n                precio_unitario\n                producto\n                total\n            }\n            categoria\n            subCategoria\n            metodo_pago\n            fecha_compra\n            fecha_registro\n            fecha_vencimiento\n            observaciones\n            compra_credito\n            credito_pagado\n            saldo_credito_pendiente\n            saldo_total\n            numero_usuario_creador\n            nombre_usuario_creador\n            id_user\n            empresa\n            sucursal         \n        }\n    }\n`\n\nexport const CREAR_EGRESO = gql`\n    mutation CrearEgreso($input: CrearEgresosInput, $empresa: ID!, $sucursal: ID!){\n        crearEgreso(input: $input, empresa: $empresa, sucursal: $sucursal){\n            message\n        }\n    }\n`;","import React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TablePagination from '@material-ui/core/TablePagination';\nimport TableRow from '@material-ui/core/TableRow';\nimport { IconButton } from '@material-ui/core';\nimport { formatoMexico } from '../../../../config/reuserFunctions';\n\nconst columns = [\n\t{ id: 'cantidad', label: 'Cantidad', minWidth: 100 },\n\t{ id: 'nombre', label: 'Nombre', minWidth: 100 },\n\t{ id: 'precioU', label: 'Precio Unitario', minWidth: 100 },\n    { id: 'total', label: 'Total', minWidth: 100 }\n];\n\nconst useStyles  = makeStyles((theme) => ({\n\troot: {\n\t\twidth: '100%'\n\t},\n\tcontainer: {\n\t\tmaxHeight: '100%'\n\t},\n    appBar: {\t\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(1),\n\t\tflex: 1\n\t},\n    table: {\n        minWidth: 650,\n    },\n}));\n\nexport default function TablaProductosEgresos({productos, borrarProducto}) {\n\tconst classes = useStyles();\n\tconst [ page, setPage ] = useState(0);\n\tconst [ rowsPerPage, setRowsPerPage ] = useState(3);\n\n\tconst handleChangePage = (event, newPage) => {\n\t\tsetPage(newPage);\n\t};\n\n\tconst handleChangeRowsPerPage = (event) => {\n\t\tsetRowsPerPage(+event.target.value);\n\t\tsetPage(0);\n\t};\n\n\treturn (\n\t\t<Paper className={classes.root}>\n\t\t\t<TableContainer className={classes.container}>\n\t\t\t\t<Table stickyHeader className={classes.table} size=\"small\" aria-label=\"a dense table\">\n\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t{columns.map((column) => (\n\t\t\t\t\t\t\t\t<TableCell key={column.id} align={column.align} style={{ minWidth: column.minWidth }}>\n\t\t\t\t\t\t\t\t\t{column.label}\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t<TableCell align={'center'} style={{ minWidth: 100 }}>\n\t\t\t\t\t\t\t\tEliminar\n\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t</TableHead>\n\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t{productos.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage).map((producto, index) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<RowsProductos \n\t\t\t\t\t\t\t\t\tindex={index}\n\t\t\t\t\t\t\t\t\tproducto={producto}\n\t\t\t\t\t\t\t\t\tborrarProducto={borrarProducto}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t\t</TableBody>\n\t\t\t\t</Table>\n\t\t\t</TableContainer>\n\t\t\t<TablePagination\n\t\t\t\trowsPerPageOptions={[]}\n\t\t\t\tcomponent=\"div\"\n\t\t\t\tcount={productos.length}\n\t\t\t\trowsPerPage={rowsPerPage}\n\t\t\t\tpage={page}\n\t\t\t\tonPageChange={handleChangePage}\n\t\t\t\tonRowsPerPageChange={handleChangeRowsPerPage}\n\t\t\t/>\n\t\t</Paper>\n\t);\n};\n\n\nfunction RowsProductos ({index, producto, borrarProducto}) {\n\treturn(\n\t\t<TableRow hover role=\"checkbox\" tabIndex={-1}>\n\t\t\t<TableCell>\n\t\t\t\t{producto?.cantidad_productos}\n\t\t\t</TableCell>\n\t\t\t<TableCell>\n\t\t\t\t{producto?.producto}\n\t\t\t</TableCell>\n\t\t\t<TableCell>\n\t\t\t\t${formatoMexico(producto?.precio_unitario)}\n\t\t\t</TableCell>\n\t\t\t<TableCell>\n\t\t\t\t${formatoMexico(producto?.total)}\n\t\t\t</TableCell>\n\t\t\t<TableCell align='center' >\n\t\t\t\t<IconButton \n\t\t\t\t\taria-label=\"delete\" \n\t\t\t\t\tsize='small'\n\t\t\t\t\tonClick={() => borrarProducto(index)}\n\t\t\t\t>\n\t\t\t\t\t<DeleteIcon fontSize=\"medium\" />\n\t\t\t\t</IconButton>\n\t\t\t</TableCell>\n\t\t</TableRow>\n\t)\n}","import { useMutation, useQuery } from '@apollo/client';\nimport { Box, makeStyles, Select,MenuItem , TextField, Typography, FormControl, OutlinedInput, InputAdornment, IconButton, Button, Divider } from '@material-ui/core';\nimport { Autorenew } from '@material-ui/icons';\nimport AddIcon from '@material-ui/icons/Add';\nimport React, { Fragment, useContext, useEffect, useState } from 'react';\nimport { formatoMexico } from '../../../../config/reuserFunctions';\nimport { TesoreriaCtx } from '../../../../context/Tesoreria/tesoreriaCtx';\nimport { OBTENER_CUENTAS } from '../../../../gql/Catalogos/centroCostos';\nimport { CREAR_EGRESO } from '../../../../gql/Tesoreria/egresos';\nimport TablaProductosEgresos from './TablaProductosEgresos';\n\nconst useStyles = makeStyles((theme) => ({\n\tappBar: {\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n    icon: {\n\t\twidth: 100\n\t},\n\tformInputFlex: {\n\t\tdisplay: 'flex',\n\t\t'& > *': {\n\t\t\tmargin: `${theme.spacing(0)}px ${theme.spacing(1)}px`\n\t\t}\n\t},\n\tformInput: {\n\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(1)}px`\n\t},\n    formComboBox:{\n        height: '50%'\n    },\n    input: {\n        \"& input[type=number]\": {\n          \"-moz-appearance\": \"textfield\",\n        },\n        \"& input[type=number]::-webkit-outer-spin-button\": {\n          \"-webkit-appearance\": \"none\",\n          margin: 0,\n        },\n        \"& input[type=number]::-webkit-inner-spin-button\": {\n          \"-webkit-appearance\": \"none\",\n          margin: 0,\n        },\n    },\n}));\n\nexport default function FormRegistroEgresos({tipo, handleClickOpen}) {\n    const sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n    const { setAlert } = useContext(TesoreriaCtx);\n    const [ CrearEgreso ] = useMutation(CREAR_EGRESO);\n\n    const classes = useStyles();\n    const [upload, setUpload] = useState(false);\n    const [datosEgreso, setDatosEgreso] = useState([]);\n    const [totalCompra, setTotalCompra] = useState(0);\n    const [subCuentas, setSubCuentas] = useState([]);\n    const [producto, setProducto] = useState([]);\n    const [productos, setProductos] = useState([]);\n\n    const obtenerCuentas = useQuery(OBTENER_CUENTAS, {\n\t\tvariables: { empresa: sesion.empresa._id, sucursal: sesion.sucursal._id }\n\t});\n\n    let cuentas = [];\n\n    if (obtenerCuentas.data) {\n        cuentas = obtenerCuentas.data.obtenerCuentas;\n    };\n\n    const GenFolio = () => {\n        const max = 999999999999;\n        const min = 100000000000;\n        const folio_egreso = Math.floor(\n          Math.random() * (max - min + 1) + min\n        ).toString();\n        setDatosEgreso({\n          ...datosEgreso,\n          folio_egreso,\n        });\n    };\n\n    const obtenerDatos = (e) => {\n        setDatosEgreso({...datosEgreso, [e.target.name]: e.target.value });\n    };\n\n    const obtenerSubCuentas = (cuenta) => {\n        setSubCuentas(cuenta.subcuentas);\n    };\n\n    const obtenerDatoProductos = (e) => {\n        setProducto({...producto, [e.target.name]: e.target.value})\n    };\n\n    const agregarProducto = () => {\n        let producto_guardado = {\n            cantidad_productos: parseFloat(producto.cantidad_productos),\n            precio_unitario: parseFloat(producto.precio_unitario),\n            producto: producto.producto,\n            total: (parseFloat(producto.cantidad_productos) * parseFloat(producto.precio_unitario))\n        };\n\n        productos.push(producto_guardado);\n\n        setDatosEgreso({\n            ...datosEgreso,\n            productos,\n        });\n        totalCompraVenta();\n        setProducto([]);\n    };\n    \n    function borrarProducto(index) {\n        productos.forEach(function(elemento, indice, array) {\n            if(index === indice){\n                productos.splice(index, 1);\n            }\n        });\n        setUpload(true);\n    };\n\n    useEffect(() => { \n        totalCompraVenta();\n        setProductos(productos);\n        setUpload(false);\n\n    }, [upload, productos]);\n\n    const totalCompraVenta = () =>{\n        let total = 0;\n        for (let i = 0; i < productos.length; i++) {\n            total += productos[i].total;\n        };\n        setTotalCompra(total);\n    };\n\n    const input = {\n        folio_egreso:  datosEgreso.folio_egreso,\n        folio_factura: datosEgreso.folio_factura,\n        empresa_distribuidora: datosEgreso.empresa_distribuidora,\n        provedor: datosEgreso.provedor,\n        productos: datosEgreso.productos ? datosEgreso.productos : [],\n        categoria: datosEgreso.categoria,\n        subCategoria:  datosEgreso.subCategoria,\n        metodo_pago: datosEgreso.metodo_pago,\n        fecha_compra: datosEgreso.fecha_compra,\n        fecha_vencimiento: datosEgreso.fecha_vencimiento0 ? datosEgreso.fecha_vencimiento : \"\",\n        observaciones: datosEgreso.observaciones,\n        compra_credito: datosEgreso.compra_credito ? datosEgreso.compra_credito : false, \n        credito_pagado: datosEgreso.credito_pagado ? datosEgreso.credito_pagado : false,\n        saldo_credito_pendiente: datosEgreso.saldo_credito_pendiente ? datosEgreso.saldo_credito_pendiente : 0,\n        numero_usuario_creador: sesion.numero_usuario.toString(),\n        nombre_usuario_creador: sesion.nombre,\n        id_user: sesion._id,\n        saldo_total: totalCompra ? totalCompra : 0\n    }\n\n    const enviarDatos = async () => { \n        try {\n            if(!datosEgreso.folio_egreso){\n                setAlert({\n                    message: 'Por favor genere un folio.',\n                    status: \"error\",\n                    open: true,\n                });\n                return null;\n            };\n\n            const egreso = await CrearEgreso({\n                variables: {\n                    input,\n                    empresa: sesion.empresa._id,\n                    sucursal: sesion.sucursal._id\n                }\n            });\n            handleClickOpen();\n            setDatosEgreso([]); \n            setAlert({\n                message: egreso.data.crearEgreso.message,\n                status: \"success\",\n                open: true,\n            });\n\n        } catch (error) {\n            setAlert({\n                message: error.message,\n                status: \"error\",\n                open: true,\n            });\n        }\n    }\n\n    return (\n        <Fragment>\n        <Box p={1}>\n            <Box>\n                <Typography>\n                    <b>Datos Generales</b>\n                </Typography>\n            </Box>\n            <Divider />\n        </Box>\n        <div className={classes.formInputFlex}>\n            <Box width=\"100%\">\n                <FormControl\n                    variant=\"outlined\"\n                    size=\"small\"\n                    name=\"folio_egreso\"\n                    fullWidth\n                >\n                    <Typography>Folio</Typography>\n                    <OutlinedInput\n                        style={{ padding: 0 }}\n                        id=\"form-producto-codigo-barras\"\n                        name=\"folio_egreso\"\n                        value={\n                            datosEgreso.folio_egreso\n                            ? datosEgreso.folio_egreso\n                            : \"\"\n                        }\n                        onChange={obtenerDatos}\n                        endAdornment={\n                        <InputAdornment position=\"start\">\n                            <IconButton\n                                onClick={() => GenFolio()}\n                                color=\"primary\"\n                                size=\"small\"\n                            >\n                                <Autorenew />\n                            </IconButton>\n                        </InputAdornment>\n                        }\n                    />\n                </FormControl>\n            </Box>\n            <Box width=\"100%\">\n                <Typography>ID Factura:</Typography>\n                <TextField\n                    fullWidth\n                    size=\"small\"\n                    name=\"id_factura\"\n                    variant=\"outlined\"\n                    onChange={obtenerDatos}\n                />\n            </Box>\n            <Box width=\"100%\">\n                <Typography>Fecha de Compra:</Typography>\n                <TextField\n                    fullWidth\n                    size=\"small\"\n                    name=\"fecha_compra\"\n                    variant=\"outlined\"\n                    onChange={obtenerDatos}\n                    type=\"date\"\n                    InputLabelProps={{\n                        shrink: true,\n                    }}\n                />\n            </Box>\n            <Box width=\"100%\">\n                <Typography>Metodo de pago:</Typography>\n                    <Select\n                        className={classes.formComboBox}\n                        size=\"small\"\n                        variant=\"outlined\"\n                        onChange={obtenerDatos}\n                        name=\"metodo_pago\"\n                        fullWidth\n                    >\n                        <MenuItem value='TARJETA'>Tarjeta</MenuItem>\n                        <MenuItem value='EFECTIVO'>Efectivo</MenuItem>\n                        <MenuItem value='CHEQUE'>Cheque</MenuItem>\n                        <MenuItem value='TRANSFERENCIA'>Transferencia</MenuItem>\n                        <MenuItem value='MONEDERO ELECTRONICO'>Monedero electronico</MenuItem>\n                    </Select>\n            </Box>\n        </div>\n        <div className={classes.formInputFlex}>\n            <Box width=\"100%\">\n                <Typography>Categoria:</Typography>\n                <Select\n                    className={classes.formComboBox}\n                    size=\"small\"\n                    variant=\"outlined\"\n                    onChange={obtenerDatos}\n                    name=\"categoria\"\n                    fullWidth\n                >\n                    <MenuItem value='Ninguno' onClick={() => setSubCuentas([])}>Ninguno</MenuItem>\n                    {cuentas?.map((cuenta) =>{\n                        return(\n                            <MenuItem \n                                key={cuenta._id}\n                                onClick={() => obtenerSubCuentas(cuenta)}\n                                value={cuenta.cuenta}\n                            >\n                                {cuenta.cuenta}\n                            </MenuItem>\n                        )\n                    })}\n                </Select>\n            </Box>\n            <Box width=\"100%\">\n                <Typography>SubCatergoria:</Typography>\n                <Select\n                    className={classes.formComboBox}\n                    size=\"small\"\n                    variant=\"outlined\"\n                    onChange={obtenerDatos}\n                    name=\"subCategoria\"\n                    fullWidth\n                >\n                    <MenuItem value='Ninguno'>Ninguno</MenuItem>\n                    {subCuentas?.map((subCuenta) =>{\n                        return(\n                            <MenuItem value={subCuenta.subcuenta}>{subCuenta.subcuenta}</MenuItem>\n                        )\n                    })}\n                </Select>\n            </Box>\n            <Box width=\"100%\">\n                <Typography>Empresa:</Typography>\n                <TextField\n                    fullWidth\n                    size=\"small\"\n                    name=\"empresa_distribuidora\"\n                    onChange={obtenerDatos}\n                    variant=\"outlined\"\n                />\n            </Box>\n            <Box width=\"100%\">\n                <Typography>Provedor: </Typography>\n                <TextField\n                    fullWidth\n                    size=\"small\"\n                    name=\"provedor\"\n                    onChange={obtenerDatos}\n                    variant=\"outlined\"\n                />\n            </Box>\n        </div>\n        <Box p={1} mt={1}>\n            <Box>\n                <Typography>\n                    <b>Productos Adquiridos</b>\n                </Typography>\n            </Box>\n            <Divider />\n        </Box>\n        <div className={classes.formInputFlex}>\n            <Box width=\"100%\">\n                <Typography>Cantidad:</Typography>\n                <TextField\n                    fullWidth\n                    className={classes.input}\n                    size=\"small\"\n                    name=\"cantidad_productos\"\n                    value={producto.cantidad_productos ? producto.cantidad_productos : \"\"}\n                    onChange={obtenerDatoProductos}\n                    variant=\"outlined\"\n                    type=\"number\"\n                />\n            </Box>\n            <Box width=\"100%\">\n                <Typography>Producto:</Typography>\n                <TextField\n                    fullWidth\n                    size=\"small\"\n                    name=\"producto\"\n                    value={producto.producto ? producto.producto : \"\"}\n                    onChange={obtenerDatoProductos}\n                    variant=\"outlined\"\n                />\n            </Box>\n            <Box width=\"100%\">\n                <Typography>Precio Unitario:</Typography>\n                <TextField\n                    className={classes.input}\n                    fullWidth\n                    size=\"small\"\n                    name=\"precio_unitario\"\n                    value={producto.precio_unitario ? producto.precio_unitario : \"\"}\n                    onChange={obtenerDatoProductos}\n                    variant=\"outlined\"\n                    type=\"number\"\n                />\n            </Box> \n            <Box width=\"100%\" display='flex' justifyContent='center' alignItems='center'>\n                <Button\n                    variant='outlined'\n                    size='large'\n                    color='primary'\n                    onClick={agregarProducto}\n                    startIcon={<AddIcon />}\n                >\n                    Agregar\n                </Button>\n            </Box>\n        </div>\n        <Box p={1} >\n            <TablaProductosEgresos productos={productos} borrarProducto={borrarProducto} />\n        </Box>\n        <Box display='flex' justifyContent='flex-end' p={1}> \n            <Typography variant='h6'>\n                Total: ${formatoMexico(totalCompra)}\n            </Typography>\n        </Box>\n        <div className={classes.formInputFlex}>\n            <Box width=\"100%\">\n                <Typography>Observaciónes:</Typography>\n                <TextField\n                    multiline\n                    rows={2}\n                    fullWidth\n                    size=\"small\"\n                    name=\"observaciones\"\n                    onChange={obtenerDatos}\n                    variant=\"outlined\"\n                />\n            </Box>\n        </div>\n        <Box display=\"flex\" justifyContent=\"flex-end\">\n            <Box p={1}>\n                <Button\n                    size=\"large\"\n                    variant='contained'\n                    color='primary'\n                    onClick={enviarDatos}\n                >\n                    Guardar Egreso\n                </Button>\n            </Box>\n            <Box p={1}>\n                <Button\n                    size=\"large\"\n                    variant='contained'\n                    color='secondary'\n                >\n                    Cancelar\n                </Button>\n            </Box>\n        </Box>\n        </Fragment>\n    )\n}\n","import React, { Fragment, useContext, useState } from 'react'\nimport PropTypes from 'prop-types';\nimport { AppBar, Box, Button, Grid, makeStyles, Tab, Tabs, Typography } from '@material-ui/core';\nimport { FcDonate } from 'react-icons/fc';\n\nimport CloseIcon from '@material-ui/icons/Close';\nimport FormRegistroEgresos from './FormRegistroEgresos';\nimport moment from 'moment';\nimport { TesoreriaCtx } from '../../../../context/Tesoreria/tesoreriaCtx';\n\n\nfunction TabPanel(props) {\n\tconst { children, value, index, ...other } = props;\n\n\treturn (\n\t\t<div\n\t\t\trole=\"tabpanel\"\n\t\t\thidden={value !== index}\n\t\t\tid={`tabpanel-reg-product-${index}`}\n\t\t\taria-labelledby={`reg-product-tab-${index}`}\n\t\t\t{...other}\n\t\t>\n\t\t\t{value === index && (\n\t\t\t\t<Box p={3} minHeight=\"70vh\">\n\t\t\t\t\t{children}\n\t\t\t\t</Box>\n\t\t\t)}\n\t\t</div>\n\t);\n}\n\nTabPanel.propTypes = {\n\tchildren: PropTypes.node,\n\tindex: PropTypes.any.isRequired,\n\tvalue: PropTypes.any.isRequired\n};\n\nfunction a11yProps(index) {\n\treturn {\n\t\tid: `reg-product-tab-${index}`,\n\t\t'aria-controls': `tabpanel-reg-product-${index}`\n\t};\n}\n\nconst useStyles = makeStyles((theme) => ({\n\tformInputFlex: {\n\t\tdisplay: 'flex',\n\t\t'& > *': {\n\t\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(2)}px`\n\t\t}\n\t},\n\tformInput: {\n\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(2)}px`\n\t},\n\troot: {\n\t\tflexGrow: 1,\n\t\twidth: '100%',\n\t\tbackgroundColor: theme.palette.background.paper\n\t},\n\ticonSvg: {\n\t\twidth: 50\n\t},\n\ticonSize: {\n\t\tfontSize: 40,\n        color: theme.palette.info.main\n\t},\n\tbuttons: {\n\t\t'& > *': {\n\t\t\tmargin: `0px ${theme.spacing(1)}px`\n\t\t}\n\t}\n\n}));\n\nexport default function VistaRegistroEgreso({handleClickOpen}) {\n    const sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n    const classes = useStyles();\n\tconst { setAlert } = useContext(TesoreriaCtx);\n    const [ value, setValue ] = useState(0);\n\n    const handleChange = (event, newValue) => {\n\t\tsetValue(newValue);\n\t};\n\n    return (\n        <Fragment>\n\t\t\t<div className={classes.root}>\n\t\t\t\t<AppBar position=\"static\" color=\"default\" elevation={0}>\n\t\t\t\t\t<Tabs\n\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\tvariant=\"scrollable\"\n\t\t\t\t\t\tscrollButtons=\"on\"\n\t\t\t\t\t\ttextColor='primary'\n\t\t\t\t\t\tindicatorColor='primary'\n\t\t\t\t\t\taria-label=\"scrollable force tabs example\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<Tab\n\t\t\t\t\t\t\tlabel=\"Egreso a Contado\"\n\t\t\t\t\t\t\ticon={<FcDonate className={classes.iconSize} />}\n\t\t\t\t\t\t\t{...a11yProps(0)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Grid container justify=\"flex-end\">\n\t\t\t\t\t\t\t<Box mt={4}>\n\t\t\t\t\t\t\t\t<Typography>Usuario: <b>{sesion.nombre}</b></Typography> \n\t\t\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t\t\t<b>{moment().format('D MMMM YYYY')}</b>\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid>\n\t\t\t\t\t\t\t<Box mt={3} ml={5} display=\"flex\" justifyContent=\"flex-end\">\n\t\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"secondary\" onClick={handleClickOpen} size=\"large\">\n\t\t\t\t\t\t\t\t\t<CloseIcon />\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Tabs>\n\t\t\t\t</AppBar>\n\t\t\t\t<TabPanel value={value} index={0}>\n\t\t\t\t\t<FormRegistroEgresos handleClickOpen={handleClickOpen} tipo='CONTADO' />\n\t\t\t\t</TabPanel>\n\t\t\t</div>\n        </Fragment>\n\n    )\n}\n","import React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport DoneIcon from '@material-ui/icons/Done';\n\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport Slide from '@material-ui/core/Slide';\nimport { Box, DialogActions,Paper} from '@material-ui/core';\nimport VistaRegistroEgreso from './VistaRegistroEgreso';\n\nconst useStyles = makeStyles((theme) => ({\n\tappBar: {\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n    icon: {\n\t\twidth: 100\n\t},\n\troot: {\n\t\tflexGrow: 1,\n\t\twidth: '100%',\n\t\theight: '100vh',\n\t\tbackgroundColor: theme.palette.background.paper\n\t},\n\trootBusqueda: {\n\t\tdisplay: 'flex',\n\t\tpaddingLeft: theme.spacing(2)\n\t},\n\ticonSize: {\n\t\tfontSize: 40,\n        color: theme.palette.info.main\n\t},\n\ticonSizeSecond: {\n\t\twidth: 40,\n\t},\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function Egresos() {\n\tconst classes = useStyles();\n\tconst [ open, setOpen ] = useState(false);\n\n\tconst handleClickOpen = () => setOpen(!open);\n\n\treturn (\n\t\t<div>\n\t\t\t<Button fullWidth onClick={handleClickOpen}>\n\t\t\t\t<Box display=\"flex\" flexDirection=\"column\">\n\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n                        <img src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/income.svg' alt=\"icono egreso\" className={classes.icon} />\n\t\t\t\t\t</Box>\n\t\t\t\t\tEgresos\n\t\t\t\t</Box>\n\t\t\t</Button>\n\t\t\t<Dialog \n\t\t\t\topen={open} \n\t\t\t\tTransitionComponent={Transition} \n\t\t\t\tfullWidth \n\t\t\t\tmaxWidth=\"lg\"\n\t\t\t>\n\t\t\t\t<VistaRegistroEgreso handleClickOpen={handleClickOpen} />\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\n\nconst columns = [\n\t{ id: 'cantidad', label: 'Cantidad', minWidth: 80},\n\t{ id: 'cantidadR', label: 'Cant. Regalo', minWidth: 80},\n\t{ id: 'nombre', label: 'Producto', minWidth: 80},\n\t{ id: 'precio', label: 'Precio', minWidth: 80},\n\t{ id: 'total', label: 'Total', minWidth: 80},\n];\n\nconst useStyles  = makeStyles((theme) => ({\n\troot: {\n\t\twidth: '100%',\n\t\theight: '45vh'\n\t},\n\tcontainer: {\n\t\tmaxHeight: '100%'\n\t},\n    appBar: {\t\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t}\n}));\n\nexport default function TablaCompras({productos}) {\n\tconst classes = useStyles();\n\n\n\treturn (\n\t\t<Paper className={classes.root}>\n\t\t\t<TableContainer className={classes.container}>\n\t\t\t\t<Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t{columns.map((column) => (\n\t\t\t\t\t\t\t\t<TableCell key={column.id} align={column.align} style={{ minWidth: column.minWidth }}>\n\t\t\t\t\t\t\t\t\t{column.label}\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t</TableHead>\n\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t{productos?.map((producto, index) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<TableRow key={index} hover role=\"checkbox\" tabIndex={-1} >\n\t\t\t\t\t\t\t\t\t<TableCell>{producto.cantidad}</TableCell>\n\t\t\t\t\t\t\t\t\t<TableCell>{producto.cantidad_regalo}</TableCell>\n\t\t\t\t\t\t\t\t\t<TableCell>{producto.producto.datos_generales.nombre_comercial}</TableCell>\n\t\t\t\t\t\t\t\t\t<TableCell>{producto.costo}</TableCell>\n\t\t\t\t\t\t\t\t\t<TableCell>{producto.total}</TableCell>\n\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t\t</TableBody>\n\t\t\t\t</Table>\n\t\t\t</TableContainer>\n\t\t</Paper>\n\t);\n}","import { gql } from '@apollo/client';\n\nexport const OBTENER_HISTORIAL_ABONOS = gql`\n    query ObtenerHistorialAbonos($empresa: ID!, $sucursal: ID!, $input: ObtenerHistorialAbonosInput){\n        obtenerHistorialAbonos( empresa: $empresa, sucursal: $sucursal, input: $input ){\n            numero_caja\n            id_Caja\n            horario_turno\n            tipo_movimiento\n            rol_movimiento\n            fecha_movimiento{\n                completa\n            }\n            numero_usuario_creador\n            nombre_usuario_creador\n            monto_total_abonado\n            numero_cliente\n            nombre_cliente\n            telefono_cliente\n            email_cliente\n            montos_en_caja{\n                monto_efectivo{\n                    monto \n                }\n                monto_tarjeta_credito{\n                    monto \n                }\n                monto_tarjeta_debito{\n                    monto \n                }\n                monto_creditos{\n                    monto \n                }\n                monto_monedero{\n                    monto \n                }\n                monto_transferencia{\n                    monto \n                }\n                monto_cheques{\n                    monto \n                }\n                monto_vales_despensa{\n                    monto \n                }\n            }\n        }\n    }\n`\n\nexport const CREAR_ABONO = gql`\n    mutation CrearAbono($empresa: ID!, $sucursal: ID!, $input: CrearAbonoInput){\n        crearAbono(empresa: $empresa, sucursal: $sucursal, input: $input, ){\n            message\n        }\n    }\n`;","import React, { useContext, useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport { useQuery } from '@apollo/client';\nimport { OBTENER_HISTORIAL_ABONOS } from \"../../../../../../../gql/Tesoreria/abonos\";\nimport moment from 'moment';\nimport { TesoreriaCtx } from '../../../../../../../context/Tesoreria/tesoreriaCtx';\n\nconst columns = [\n\t{ id: 'fecha', label: 'Fecha de abono', minWidth: 170, align: 'center' },\n\t{ id: 'cliente', label: 'Nombre', minWidth: 170, align: 'center' },\n\t{ id: 'abono', label: 'Cantidad abonada', minWidth: 170, align: 'right' },\n];\n\nconst useStyles  = makeStyles((theme) => ({\n\troot: {\n\t\twidth: '100%',\n\t\theight: '45vh'\n\t},\n\tcontainer: {\n\t\tmaxHeight: '100%'\n\t},\n    appBar: {\t\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t}\n}));\n\nexport default function TablaAbonos({cuenta}) {\n\t\n\tconst sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n\n\tconst { reload } = useContext(TesoreriaCtx);\n\n\tconst classes = useStyles();\n\n\tconst { loading, data, error, refetch } = useQuery(\n\t\tOBTENER_HISTORIAL_ABONOS, {\n\t\t\tvariables: {\n\t\t\t\tempresa: sesion.empresa._id,\n\t\t\t\tsucursal: sesion.sucursal._id,\n\t\t\t\tinput: {\n\t\t\t\t\tfecha_inicio: \"\",\n\t\t\t\t\tfecha_fin: \"\",\n\t\t\t\t\tusuario: \"\",\n\t\t\t\t\tid_cliente: cuenta.proveedor.id_proveedor._id,\n\t\t\t\t\tid_egreso: \"\",\n\t\t\t\t\trol_movimiento: \"PROVEEDOR\",\n\t\t\t\t\tid_compra: cuenta._id\n\t\t\t\t}\n\t\t\t},\n\t\t  \tfetchPolicy: \"network-only\",\n\t\t}\n\t);\n\t\n\tlet abonos = []\n\tif(data){\n\t\tabonos = data.obtenerHistorialAbonos;\n\t}\n\n\tuseEffect(() => {\n\t\trefetch();\n\t}, [reload])\n\n\treturn (\n\t\t<Paper className={classes.root}>\n\t\t\t<TableContainer className={classes.container}>\n\t\t\t\t<Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t{columns.map((column) => (\n\t\t\t\t\t\t\t\t<TableCell key={column.id} align={column.align} style={{ minWidth: column.minWidth }}>\n\t\t\t\t\t\t\t\t\t{column.label}\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t</TableHead>\n\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t{abonos?.map((row, index) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<TableRow hover tabIndex={-1} key={index}>\n\t\t\t\t\t\t\t\t\t<TableCell align='center'>{moment(row.fecha_movimiento.completa).format('D MMMM YYYY')}</TableCell>\n\t\t\t\t\t\t\t\t\t<TableCell align='center'>{row.nombre_cliente}</TableCell>\n\t\t\t\t\t\t\t\t\t<TableCell align='right'><b>${row.monto_total_abonado}</b></TableCell>\n\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t\t</TableBody>\n\t\t\t\t</Table>\n\t\t\t</TableContainer>\n\t\t</Paper>\n\t);\n}","import React, { useContext, useState } from 'react';\nimport CloseIcon from '@material-ui/icons/Close';\nimport AddCircleOutlineIcon from '@material-ui/icons/AddCircleOutline';\nimport { Box, Button, Dialog, \n        DialogContent,  DialogTitle, FormControl, makeStyles, \n        MenuItem, \n        Select, \n        Slide, TextField, Typography \n} from '@material-ui/core'\nimport { formaPago } from '../../../../Facturacion/catalogos';\nimport { formatoMexico } from '../../../../../../config/reuserFunctions';\nimport { useMutation } from '@apollo/client';\nimport { CREAR_ABONO } from '../../../../../../gql/Tesoreria/abonos';\nimport moment from 'moment';\nimport BackdropComponent from '../../../../../../components/Layouts/BackDrop';\nimport { TesoreriaCtx } from '../../../../../../context/Tesoreria/tesoreriaCtx';\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n    return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nconst useStyles = makeStyles((theme) => ({\n\tinput: {\n        \"& input[type=number]\": {\n          \"-moz-appearance\": \"textfield\",\n        },\n        \"& input[type=number]::-webkit-outer-spin-button\": {\n          \"-webkit-appearance\": \"none\",\n          margin: 0,\n        },\n        \"& input[type=number]::-webkit-inner-spin-button\": {\n          \"-webkit-appearance\": \"none\",\n          margin: 0,\n        },\n    },\n    formInputFlex: {\n\t\tdisplay: 'flex',\n\t\t'& > *': {\n\t\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(.5)}px`\n\t\t},\n\t\t'& .obligatorio': {\n\t\t\tcolor: 'red'\n\t\t},\n        paddingTop: 0,\n        alignItems: \"center\",\n        justifyItems: \"center\"\n\t},\n}));\n\nexport default function AbonoaRecibir({cuenta}) {\n    const [ CrearAbono ] = useMutation(CREAR_ABONO);\n    \n\tconst { setReload, setAlert } = useContext(TesoreriaCtx);\n\n    const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n\n    const classes = useStyles();\n    \n    const [open, setOpen] = useState(false);\n    const [loading, setLoading] = useState(false);\n    const [abono, setAbono] = useState(''); \n    const [metodoPago, setMetodoPago] = useState('');\n\n    \n    const input = {\n        tipo_movimiento: \"ABONO\",\n        rol_movimiento: \"PROVEEDOR\",\n        fecha_movimiento: {\n            year: moment().format('YYYY'),\n            mes: moment().format('MM'),\n            dia: moment().format('DD'),\n            no_semana_year: moment().week().toString(),\n            no_dia_year: moment().dayOfYear().toString(),\n            completa: moment().locale('es-mx').format()\n        },\n        monto_total_abonado: parseFloat(abono),\n        montos_en_caja: {   \n            monto_efectivo: {\n                monto: metodoPago === '01' ? parseFloat(abono) : 0,\n                metodo_pago: \"01\"\n            },\n            monto_tarjeta_debito: {\n                monto: metodoPago === '28' ? parseFloat(abono) : 0,\n                metodo_pago: \"28\"\n            },\n            monto_tarjeta_credito: {\n                monto: metodoPago === '04' ? parseFloat(abono) : 0,\n                metodo_pago: \"04\"\n            },\n            monto_creditos: {\n                monto: metodoPago === '99' ? parseFloat(abono) : 0,\n                metodo_pago: \"99\"\n            },\n            monto_monedero: {\n                monto: metodoPago === '05' ? parseFloat(abono) : 0,\n                metodo_pago: \"05\"\n            },\n            monto_transferencia: {\n                monto: metodoPago === '03' ? parseFloat(abono) : 0,\n                metodo_pago: \"03\"\n            },\n            monto_cheques: {\n                monto: metodoPago === '02' ? parseFloat(abono) : 0,\n                metodo_pago: \"02\"\n            },\n            monto_vales_despensa: {\n                monto: metodoPago === '08' ? parseFloat(abono) : 0,\n                metodo_pago: \"08\"\n            },\n        },\n        metodo_de_pago:{\n            clave: \"\",\n            metodo:  \"\",\n        },\n        id_usuario: sesion._id,\n        numero_usuario_creador: sesion.numero_usuario,\n        nombre_usuario_creador: sesion.nombre,\n        id_cliente: cuenta.proveedor.id_proveedor._id,\n        numero_cliente: cuenta.proveedor.numero_cliente,\n        nombre_cliente: cuenta.proveedor.nombre_cliente, \n        telefono_cliente: cuenta.proveedor.id_proveedor.telefono, \n        email_cliente: cuenta.proveedor.id_proveedor.email,\n        id_compra: cuenta._id\n    };\n\n    \n    const enviarDatos = async () => { \n        setLoading(true);\n        try {\n            if(abono === '' || metodoPago === '' ){\n                setAlert({ \n                    message: 'Por favor complete los datos', \n                    status: 'error', \n                    open: true \n                });\n                setLoading(false);\n                return \n            }; \n            await CrearAbono({\n                variables: {\n                    empresa: sesion.empresa._id,\n                    sucursal: sesion.sucursal._id,\n                    input\n                },\n            });\n            setReload(true);\n            setAbono('');\n            setMetodoPago('');\n            setAlert({ \n                message: 'Abono registrado con exito', \n                status: 'success', \n                open: true \n            });\n            handleClick();\n            setLoading(false);\n        } catch (error) {\n            handleClick();\n            setLoading(false);\n            setAlert({ \n                message: 'Ocurrio un problema en el servidor', \n                status: 'error', \n                open: true \n            });\n\n        }\n    };\n\n    const handleClick = () => {\n        setReload(true);\n        setOpen(!open);\n    };\n\n    return (\n        <div>\n            <Button\n                size=\"large\"\n                variant=\"outlined\" \n                fullWidth\n                color=\"primary\"\n                startIcon={<AddCircleOutlineIcon style={{fontSize: 35}} />}\n                onClick={handleClick}\n            >\n                <Typography variant=\"h6\">\n                    Abonar    \n                </Typography>\n            </Button>\n            <Dialog\n                open={open}\n                TransitionComponent={Transition}\n                keepMounted\n                onClose={handleClick}\n                fullWidth\n                maxWidth='xs'\n            >\n                <BackdropComponent loading={loading} setLoading={setLoading} />\n                <DialogTitle id=\"alert-dialog-slide-title\">\n                    <Box display=\"flex\">\n                        <Box p={1} flexGrow={1}>\n                            Registrar nuevo abono\n                        </Box>\n                        <Box p={1}>\n                            <Button variant=\"contained\" color=\"secondary\" onClick={handleClick} size=\"large\">\n\t\t\t\t\t\t\t\t<CloseIcon />\n\t\t\t\t\t\t\t</Button>\n                        </Box>\n                    </Box>\n                </DialogTitle>\n                <DialogContent>\n                    <Box width=\"100%\"  mt={2} >\n                        <Typography><b>Cantidad a abonar:</b></Typography>\n                        <TextField\n                            fullWidth\n                            className={classes.input}\n                            onChange={(e) => setAbono(e.target.value)}\n                            value={abono}\n                            size=\"small\"\n                            name=\"abono_recibir\"\n                            variant=\"outlined\"\n                            type='number'\n                        />\n                    </Box>\n                    <div className={classes.formInputFlex}>\n                        <Box width=\"100%\" mt={2} >\n                            <Typography><b>Metodo de pago:</b></Typography>\n                            <FormControl \n                                variant=\"outlined\"\n                                fullWidth\n                                size=\"small\"\n                            >\n                                <Select\n                                    width=\"100%\"\n                                    name=\"metodo_pago\"\n                                    variant='outlined'\n                                    value={metodoPago ? metodoPago : ''}\n                                    onChange={(e) => setMetodoPago(e.target.value)}\n                                >\n                                    <MenuItem value=\"\">\n                                        <em>Selecciona uno</em>\n                                    </MenuItem>\n                                    {formaPago.map((metodo, index) => {\n                                        return(\n                                            <MenuItem key={index} value={metodo.Value}>{metodo.Name}</MenuItem>\n                                        )\n                                    })}\n                                </Select>\n                            </FormControl>\n                        </Box>\n                    </div>\n                    <Box width=\"100%\" mt={2} display='flex'>\n                        <Box flexGrow={1}>\n                            <Typography variant='h6'>\n                                <b>Total cuenta</b>\n                            </Typography>\n                        </Box>\n                        <Typography style={{color: '#9B9B9B'}} variant='h6'>\n                            <b>${formatoMexico(cuenta.total)}</b>\n                        </Typography>\n                    </Box>\n                    <Box width=\"100%\" display='flex'>\n                        <Box flexGrow={1}>\n                            <Typography  variant='h6'>\n                                <b>Total abonado</b>\n                            </Typography>\n                        </Box>\n                        <Typography style={{color: 'green'}} variant='h6'>\n                            <b>${formatoMexico(cuenta.total - cuenta.saldo_credito_pendiente)}</b>\n                        </Typography>\n                    </Box>\n                    <Box width=\"100%\" display='flex'>\n                        <Box flexGrow={1} >\n                            <Typography  variant='h6'>\n                                <b>Total restante</b>\n                            </Typography>\n                        </Box>\n                        <Typography  variant='h6'>\n                            <b>${formatoMexico(cuenta.saldo_credito_pendiente)}</b>\n                        </Typography>\n                    </Box>\n                    \n                </DialogContent>\n                <Box display=\"flex\" justifyContent=\"center\" alignContent=\"center\" p={2}>\n                    <Button\n                        size=\"large\"\n                        variant=\"contained\" \n                        color=\"primary\"\n                        style={{fontSize: 18}}\n                        onClick={enviarDatos}\n                    >\n                        Registrar Abono\n                    </Button>\n                </Box>\n            </Dialog>\n        </div>\n    )\n}\n","import React, { Fragment } from 'react'\nimport { Box, Grid, makeStyles, Typography, Button, AppBar, Toolbar } from '@material-ui/core';\nimport CloseIcon from '@material-ui/icons/Close';\nimport TablaCompras from './TablaCompras';\nimport TablaAbonos from './TablaDeAbonos';\nimport AbonoaRecibir from '../AbonoPercibir';\nimport moment from 'moment';\nimport { formatoMexico } from '../../../../../../../config/reuserFunctions';\n\nconst useStyles = makeStyles((theme) => ({\n    appBar: {\t\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n    icon: {\n\t\twidth: 100\n\t},\n\tformInputFlex: {\n\t\tdisplay: 'flex',\n\t\t'& > *': {\n\t\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(1)}px`\n\t\t}\n\t},\n\tformInput: {\n\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(1)}px`\n\t},\n}));\n\n\nexport default function DetallesCuenta({handleClick, cuenta}) {\n\tconst permisosUsuario = JSON.parse(localStorage.getItem('sesionCafi'));\n    const classes = useStyles();\n\n    return (\n        <Fragment>\n            <AppBar className={classes.appBar}>\n                <Toolbar>\n                    <Typography variant=\"h6\" className={classes.title}>\n                        Detalles de cuenta\n                    </Typography>\n                    <Box m={1}>\n                        <Button variant=\"contained\" color=\"secondary\" onClick={handleClick} size=\"large\">\n                            <CloseIcon style={{fontSize: 30}} />\n                        </Button>\n                    </Box>\n                </Toolbar>\n            </AppBar>\n            <div className={classes.formInputFlex}>\n                <Box width=\"100%\" p={1}>\n                    <Box width=\"100%\" display=\"flex\" p={.5}>\n                        <Typography><b>Nombre de proveedor: </b> </Typography>\n                        <Typography style={{paddingLeft: 5}}>{cuenta.proveedor.id_proveedor.nombre_cliente}</Typography>\n                    </Box>\n                    <Box width=\"100%\" display=\"flex\"  p={.5}>\n                        <Typography><b>Clave proveedor: </b> </Typography>\n                        <Typography style={{paddingLeft: 5}}>{cuenta.proveedor.id_proveedor.clave_cliente}</Typography>\n                    </Box>\n                </Box>\n                <Box width=\"100%\" p={1}>\n                    <Box width=\"100%\" display=\"flex\" p={.5}>\n                        <Typography><b>Nombre de usuario: </b> </Typography>\n                        <Typography style={{paddingLeft: 5}}>{cuenta.usuario.nombre}</Typography>\n                    </Box>\n                    <Box width=\"100%\" display=\"flex\"  p={.5}>\n                        <Typography><b>Numero usuario: </b> </Typography>\n                        <Typography style={{paddingLeft: 5}}>{cuenta.usuario.numero_usuario}</Typography>\n                    </Box>\n                </Box>\n                <Box width=\"100%\" p={1}>\n                    <Box width=\"100%\" display=\"flex\" p={.5}>\n                        <Typography><b>Fecha compra: </b> </Typography>\n                        <Typography style={{paddingLeft: 5}}>{moment(cuenta.fecha_registro).format('D MMMM YYYY')}</Typography>\n                    </Box>\n                    <Box width=\"100%\" display=\"flex\"  p={.5}>\n                        <Typography><b>Fecha vencimiento: </b> </Typography>\n                        <Typography style={{paddingLeft: 5}}>{moment(cuenta.fecha_vencimiento_credito).format('D MMMM YYYY')}</Typography>\n                    </Box>\n                </Box>\n                {permisosUsuario.accesos.tesoreria.abonos_proveedores.editar === false ? (null) : (\n                    <Box width=\"60%\" p={1} display='flex' alignItems={'center'} >\n                        <AbonoaRecibir cuenta={cuenta} />\n                    </Box>\n                )}\n            </div>\n            <Grid container>\n                <Grid item lg={6} xs={12}>\n                    <Box p={2}>\n                        <Typography variant=\"h6\">\n                            Lista de abonos\n                        </Typography>\n                    </Box>\n                    <Box p={2}>\n                        <TablaAbonos cuenta={cuenta} />\n                    </Box>\n                    <Box p={1} mr={3} display=\"flex\" justifyContent=\"flex-end\">\n                        <Typography variant='h6'>Total abonado: <b style={{color: \"#9B9B9B\"}}>${cuenta.total - cuenta.saldo_credito_pendiente}</b></Typography>\n                    </Box> \n                    <Box p={1} mr={3} display=\"flex\" justifyContent=\"flex-end\">\n                        <Typography variant='h6'>Restante: <b  style={{color: \"green\"}}>${formatoMexico(cuenta.saldo_credito_pendiente)}</b></Typography>\n                    </Box>\n                </Grid>\n                <Grid item lg={6} xs={12}>\n                    <Box p={2} >\n                        <Typography variant=\"h6\">\n                            Lista de compra\n                        </Typography>\n                    </Box>\n                    <Box p={2}>\n                        <TablaCompras productos={cuenta.productos}/>\n                    </Box>\n                    <Box p={1} mr={3} display=\"flex\" justifyContent=\"flex-end\">\n                        <Typography variant='h6'>Total a liquidar: <b  style={{color: \"red\"}}>${formatoMexico(cuenta.total)}</b></Typography>\n                    </Box>\n                </Grid>\n            </Grid>\n        </Fragment>\n\n    )\n}\n","import React, { useContext, useState } from 'react'\nimport {  Box, Button, Dialog, DialogActions, DialogContent, FormControl, makeStyles, MenuItem, Select, Slider, TextField, Typography } from '@material-ui/core';\nimport DoneIcon from '@material-ui/icons/Done';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { formatoMexico } from '../../../../../../config/reuserFunctions';\nimport BackdropComponent from '../../../../../../components/Layouts/BackDrop';\nimport { formaPago } from '../../../../Facturacion/catalogos';\nimport moment from 'moment';\nimport { CREAR_ABONO } from '../../../../../../gql/Tesoreria/abonos';\nimport { useMutation } from '@apollo/client';\nimport { TesoreriaCtx } from '../../../../../../context/Tesoreria/tesoreriaCtx';\n\nconst useStyles = makeStyles((theme) => ({\n\tformInputFlex: {\n\t\tdisplay: 'flex',\n\t\t'& > *': {\n\t\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(1)}px`\n\t\t}\n\t},\n\tformInput: {\n\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(1)}px`\n\t},\n    appBar: {\n\t\tposition: 'relative'\n\t},\n}));\n\nexport default function LiquidarCuenta({cuenta, refetch}) {\n    const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n    const { setAlert, setReload } = useContext(TesoreriaCtx);\n\n    const [ CrearAbono ] = useMutation(CREAR_ABONO);\n\n    const [open, setOpen] = useState(false);\n    const [value, setValue] = useState(0);\n    const [cuentaTotalDescuento, setCuentaTotalDescuento] = useState(0);\n    const [dineroDescontado, setDineroDescontado] = useState(0);\n\n    const [loading, setLoading] = useState(false);\n    const [metodoPago, setMetodoPago] = useState('');\n\n    const handleClick = () => { \n        setOpen(!open);\n        setCuentaTotalDescuento(0);\n        setDineroDescontado(0);\n        setValue(0)\n    };\n\n    const classes = useStyles();\n\n    const obtenerPorcientoSlide = (event, newValue) => {\n        setValue(newValue);\n        let porcentaje  =  parseFloat((100 - newValue).toFixed(2));//Porcentaje para calculos de descuento\n        let cuenta_con_descuento = parseFloat((cuenta.saldo_credito_pendiente * porcentaje / 100).toFixed(2));\n        let dineroDescontado = parseFloat((cuenta.saldo_credito_pendiente - cuenta_con_descuento).toFixed(2));\n        setCuentaTotalDescuento(cuenta_con_descuento);\n        setDineroDescontado(dineroDescontado);\n    };\n\n    const obtenerPrecioText = (e) => {\n        let valorText = parseFloat(e.target.value);\n\n        let porcentaje  = parseFloat((((valorText * 100) / cuenta.saldo_credito_pendiente ).toFixed(2)));\n        let dineroDescontado = parseFloat((cuenta.saldo_credito_pendiente - valorText).toFixed(2));\n\n        setCuentaTotalDescuento(valorText);\n        setDineroDescontado(dineroDescontado);\n        setValue(porcentaje);\n\n    };\n    \n    function valuetext(e) {\n        return `${e}`;\n    };\n\n    const input = {\n        tipo_movimiento: \"ABONO\",\n        rol_movimiento: \"PROVEEDOR\",\n        fecha_movimiento: {\n            year: moment().format('YYYY'),\n            mes: moment().format('MM'),\n            dia: moment().format('DD'),\n            no_semana_year: moment().week().toString(),\n            no_dia_year: moment().dayOfYear().toString(),\n            completa: moment().locale('es-mx').format()\n        },\n        monto_total_abonado: parseFloat(cuenta.saldo_credito_pendiente),\n        descuento: {\n            porciento_descuento: value,\n            dinero_descontado: dineroDescontado,\n            total_con_descuento: cuentaTotalDescuento\n        },\n        montos_en_caja: {   \n            monto_efectivo: {\n                monto: metodoPago === '01' ? parseFloat(cuentaTotalDescuento === 0 ? cuenta.saldo_credito_pendiente : cuentaTotalDescuento) : 0,\n                metodo_pago: \"01\"\n            },\n            monto_tarjeta_debito: {\n                monto: metodoPago === '28' ? parseFloat(cuentaTotalDescuento === 0 ? cuenta.saldo_credito_pendiente : cuentaTotalDescuento) : 0,\n                metodo_pago: \"28\"\n            },\n            monto_tarjeta_credito: {\n                monto: metodoPago === '04' ? parseFloat(cuentaTotalDescuento === 0 ? cuenta.saldo_credito_pendiente : cuentaTotalDescuento) : 0,\n                metodo_pago: \"04\"\n            },\n            monto_creditos: {\n                monto: metodoPago === '99' ? parseFloat(cuentaTotalDescuento === 0 ? cuenta.saldo_credito_pendiente : cuentaTotalDescuento) : 0,\n                metodo_pago: \"99\"\n            },\n            monto_monedero: {\n                monto: metodoPago === '05' ? parseFloat(cuentaTotalDescuento === 0 ? cuenta.saldo_credito_pendiente : cuentaTotalDescuento) : 0,\n                metodo_pago: \"05\"\n            },\n            monto_transferencia: {\n                monto: metodoPago === '03' ? parseFloat(cuentaTotalDescuento === 0 ? cuenta.saldo_credito_pendiente : cuentaTotalDescuento) : 0,\n                metodo_pago: \"03\"\n            },\n            monto_cheques: {\n                monto: metodoPago === '02' ? parseFloat(cuentaTotalDescuento === 0 ? cuenta.saldo_credito_pendiente : cuentaTotalDescuento) : 0,\n                metodo_pago: \"02\"\n            },\n            monto_vales_despensa: {\n                monto: metodoPago === '08' ? parseFloat(cuentaTotalDescuento === 0 ? cuenta.saldo_credito_pendiente : cuentaTotalDescuento) : 0,\n                metodo_pago: \"08\"\n            },\n        },\n        metodo_de_pago:{\n            clave: \"\",\n            metodo:  \"\",\n        },\n        numero_usuario_creador: sesion.numero_usuario,\n        nombre_usuario_creador: sesion.nombre,\n        id_cliente: cuenta.proveedor.id_proveedor._id,\n        numero_cliente: cuenta.proveedor.numero_cliente,\n        nombre_cliente: cuenta.proveedor.nombre_cliente, \n        telefono_cliente: cuenta.proveedor.id_proveedor.telefono, \n        email_cliente: cuenta.proveedor.id_proveedor.email,\n        id_compra: cuenta._id\n    };\n\n    \n    const enviarDatos = async () => { \n        setLoading(true);\n        try {\n            if( metodoPago === '' ){\n                setAlert({ \n                    message: 'Por favor complete el metodo de pago', \n                    status: 'error', \n                    open: true \n                });\n                setLoading(false);\n                return \n            }; \n            await CrearAbono({\n                variables: {\n                    empresa: sesion.empresa._id,\n                    sucursal: sesion.sucursal._id,\n                    input\n                },\n            });\n            setReload(true);\n            setMetodoPago('');\n            setAlert({ \n                message: 'Cuenta liquidada con exito', \n                status: 'success', \n                open: true \n            });\n            handleClick();\n            setLoading(false);\n\n        } catch (error) {\n            handleClick();\n            setLoading(false);\n            setAlert({ \n                message: 'Ocurrio un problema en el servidor', \n                status: 'error', \n                open: true \n            });\n        }\n    };\n\n    return (\n        <div>\n            <Button\n                size=\"medium\"\n                variant=\"outlined\"  \n                color=\"primary\"\n                startIcon={<DoneIcon />}\n                onClick={handleClick}\n            >\n                Liquidar\n            </Button>\n\n            <Dialog\n                open={open}\n                fullWidth\n                maxWidth='xs'\n                onClose={handleClick}\n                aria-labelledby=\"draggable-dialog-title\"\n            >\n                <BackdropComponent loading={loading} setLoading={setLoading} />\n                <Box display=\"flex\">\n                    <Box flexGrow={1} p={2}>\n                        <Typography variant=\"h6\" className={classes.title}>\n                            Liquidar Cuenta\n                        </Typography>\n                    </Box>\n                    <Box p={1}>\n                        <Button variant=\"contained\" color=\"secondary\" onClick={handleClick} size=\"large\">\n                            <CloseIcon  />\n                        </Button>\n                    </Box>\n\t\t\t\t</Box>\n                <DialogContent>\n                    <Typography>Aplica un descuento por pronto pago a tu cuenta</Typography>\n                    <Box mt={1} textAlign=\"center\">\n                        <Typography id=\"discrete-slider-always\" gutterBottom>\n                            <b>Porcentaje de descuento</b>\n                        </Typography>\n                    </Box>\n                    <Box ml={1} mr={1} mb={2} >\n                        <Slider\n                            getAriaValueText={valuetext}\n                            valueLabelFormat={value.toFixed(2)}\n                            aria-labelledby=\"discrete-slider-small-steps\"\n                            valueLabelDisplay=\"auto\"\n                            onChange={obtenerPorcientoSlide} \n                        />\n                    </Box>\n                    <Box width=\"100%\" textAlign=\"center\">\n                        <Typography id=\"discrete-slider-always\" gutterBottom>\n                            <b>Dinero a liquidar con descuento</b>\n                        </Typography>\n                        <TextField\n                            fullWidth\n                            size=\"small\"\n                            name=\"descuento\"\n                            variant=\"outlined\"\n                            value={cuentaTotalDescuento ? cuentaTotalDescuento : 0 }\n                            onChange={obtenerPrecioText}\n                        />\n                    </Box>\n                    <Box width=\"100%\" mt={2} textAlign={'center'} >\n                        <Typography><b>Metodo de pago:</b></Typography>\n                        <FormControl\n                            variant=\"outlined\"\n                            fullWidth\n                            size=\"small\"\n                        >\n                            <Select\n                                width=\"100%\"\n                                name=\"metodo_pago\"\n                                variant='outlined'\n                                onChange={(e) => setMetodoPago(e.target.value )}\n                            >\n                                <MenuItem value=\"\">\n                                    <em>Selecciona uno</em>\n                                </MenuItem>\n                                {formaPago.map((metodo, index) => {\n                                    return(\n                                        <MenuItem key={index} value={metodo.Value}>{metodo.Name}</MenuItem>\n                                    )\n                                })}\n                            </Select>\n                        </FormControl>\n                    </Box>\n                    <Box display=\"flex\" mt={2}>\n                        <Box flexGrow={1}>\n                            <Typography>Total cuenta: </Typography>\n                        </Box>\n                        <Box>\n                            <Typography><b>${formatoMexico(cuenta.total)}</b></Typography>\n                        </Box>\n                    </Box>\n                    <Box display=\"flex\">\n                        <Box flexGrow={1}>\n                            <Typography>Saldo pendiente: </Typography>\n                        </Box>\n                        <Box >\n                            <Typography><b>${formatoMexico(cuenta.saldo_credito_pendiente)}</b></Typography>\n                        </Box>\n                    </Box>\n                    <Box display=\"flex\">\n                        <Box flexGrow={1}>\n                            <Typography>Dinero Descontado: </Typography>\n                        </Box>\n                        <Box >\n                            <Typography><b>${formatoMexico(dineroDescontado)}</b></Typography>\n                        </Box>\n                    </Box>\n                    <Box display=\"flex\">\n                        <Box flexGrow={1}>\n                            <Typography>Porciento Descontado: </Typography>\n                        </Box>\n                        <Box >\n                            <Typography><b>{formatoMexico(value)}%</b></Typography>\n                        </Box>\n                    </Box>\n                    <Box display=\"flex\">\n                        <Box flexGrow={1}>\n                            <Typography variant=\"h6\" >Total a pagar:</Typography>\n                        </Box>\n                        <Box >\n                            <Typography variant=\"h6\" ><b style={{color: 'green'}}>${formatoMexico(cuentaTotalDescuento === 0 ? cuenta.saldo_credito_pendiente : cuentaTotalDescuento)}</b></Typography>\n                        </Box>\n                    </Box>\n                </DialogContent>\n                <DialogActions>\n                    <Button \n                        onClick={enviarDatos} \n                        color=\"primary\"\n                        variant=\"contained\"\n                        size=\"large\"\n                    >\n                        Liquidar\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        </div>\n    )\n}\n","import React, { Fragment, useContext, useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport {formatoMexico} from '../../../../../../config/reuserFunctions'\nimport DetallesCuenta from './DetalleCuenta/DetallesCuenta';\nimport LiquidarCuenta from './LiquidarCuenta';\nimport moment from 'moment';\n\nimport { Box, CircularProgress, Dialog, Slide, TableHead } from '@material-ui/core';\nimport 'moment/locale/es';\nimport { TesoreriaCtx } from '../../../../../../context/Tesoreria/tesoreriaCtx';\n\nconst columns = [\n\t{ id: 'fecha', label: 'Fecha Compra', minWidth: 100, align: 'center' },\n\t{ id: 'provedor', label: 'Provedor', minWidth: 100, align: 'center' },\n\t{ id: 'abonado', label: 'Abonado', minWidth: 100, align: 'center' },\n    { id: 'restante', label: 'Restante', minWidth: 100, align: 'center' },\n    { id: 'total', label: 'Total', minWidth: 100, align: 'center' }\n];\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n\t\twidth: '100%'\n\t},\n\tpaper: {\n\t\twidth: '100%',\n\t\tmarginBottom: theme.spacing(2)\n\t},\n\ttable: {\n\t\tminWidth: 750\n\t},\n\tvisuallyHidden: {\n\t\tborder: 0,\n\t\tclip: 'rect(0 0 0 0)',\n\t\theight: 1,\n\t\tmargin: -1,\n\t\toverflow: 'hidden',\n\t\tpadding: 0,\n\t\tposition: 'absolute',\n\t\ttop: 20,\n\t\twidth: 1\n\t}\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function TablaAbonos({loading}) {\n\n\tconst { cuentas} = useContext(TesoreriaCtx);\n\n\tconst classes = useStyles();\n\n\tif (loading) \n\t\treturn (\n\t\t\t<Box\n\t\t\tdisplay=\"flex\"\n\t\t\tflexDirection=\"column\"\n\t\t\tjustifyContent=\"center\"\n\t\t\talignItems=\"center\"\n\t\t\theight=\"50vh\"\n\t\t\t>\n\t\t\t\t<CircularProgress />\n\t\t\t</Box>\n\t\t);\n\n\treturn (\n\t\t<Fragment>\n\t\t<div className={classes.root}>\n\t\t\t<Paper className={classes.paper}>\n\t\t\t\t<TableContainer>\n\t\t\t\t\t<Table\n\t\t\t\t\t\tclassName={classes.table}\n\t\t\t\t\t\taria-labelledby=\"tableTitle\"\n\t\t\t\t\t\tstickyHeader\n\t\t\t\t\t\tsize=\"small\" \n\t\t\t\t\t\taria-label=\"a dense table\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t{columns.map((column) => (\n\t\t\t\t\t\t\t\t\t<TableCell key={column.id} align={column.align} style={{ minWidth: column.minWidth }}>\n\t\t\t\t\t\t\t\t\t\t{column.label}\n\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t<TableCell align={'center'} style={{ minWidth: 100 }}>\n\t\t\t\t\t\t\t\t\tLiquidar\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t</TableHead>\n\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t{cuentas?.map((row, index) => {\n\t\t\t\t\t\t\t\tif(row.credito_pagado === false){\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<RowsCuentas \n\t\t\t\t\t\t\t\t\t\t\tloading={loading}\n\t\t\t\t\t\t\t\t\t\t\tcuentaSelect={row}\n\t\t\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t})} \n\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t</Table>\n\t\t\t\t</TableContainer>\n\t\t\t</Paper>\n\t\t</div>\n\t\t</Fragment>\n\t);\n};\n\nfunction RowsCuentas ({cuentaSelect, loading}){\n\tconst permisosUsuario = JSON.parse(localStorage.getItem('sesionCafi'));\n\tconst [open, setOpen] = useState(false);\n    \n\tconst handleClick = () => {\n        setOpen(!open);\n    };\n\t\n\tconst TwoClickInRowTableBuy = (e) => {\n\t\ttry {\n\t\t\tlet timer;\n\t\t\tclearTimeout(timer);\n\t\t\tif (e.detail === 2) {\n\t\t\t\thandleClick();\n\t\t\t}\n\t\t} catch (error) {\n\t\t}\n\t};\n\n\treturn(\n\t\t<Fragment>\n\t\t\t<TableRow\n\t\t\t\thover\n\t\t\t\ttabIndex={-1}\n\t\t\t\tonClick={(e) => TwoClickInRowTableBuy(e)}\n\t\t\t>\n\t\t\t\t<TableCell align=\"center\">{moment(cuentaSelect.fecha_registro).format('D MMMM YYYY')}</TableCell>\n\t\t\t\t<TableCell align=\"center\">{cuentaSelect.proveedor.id_proveedor.nombre_cliente}</TableCell>\n\t\t\t\t<TableCell align=\"center\">${formatoMexico(cuentaSelect.total - cuentaSelect.saldo_credito_pendiente)}</TableCell>\n\t\t\t\t<TableCell align=\"center\">${formatoMexico(cuentaSelect.saldo_credito_pendiente)}</TableCell>\n\t\t\t\t<TableCell align=\"center\">${formatoMexico(cuentaSelect.total)}</TableCell>\n\t\t\t\t{permisosUsuario.accesos.tesoreria.abonos_proveedores.editar === false ? (\n\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t</TableCell>\n\t\t\t\t) : (\n\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t<LiquidarCuenta cuenta={cuentaSelect}/>\n\t\t\t\t\t</TableCell>\n\t\t\t\t)}\n\t\t\t</TableRow>\n\n\t\t\t<Dialog\n\t\t\t\tfullScreen\n\t\t\t\topen={open} \n\t\t\t\tonClose={handleClick} \n\t\t\t\tTransitionComponent={Transition}\n\t\t\t>\n\t\t\t\t<DetallesCuenta\n\t\t\t\t\tcuenta={cuentaSelect}\n\t\t\t\t\tloading={loading}\n\t\t\t\t\thandleClick={handleClick}\n\t\t\t\t/>\n\t\t\t</Dialog>\n\t\t</Fragment>\n\t);\n};\n","import React, { useContext, useEffect, useRef, useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport CloseIcon from '@material-ui/icons/Close';\nimport Slide from '@material-ui/core/Slide';\nimport { Box, IconButton, InputAdornment, TextField } from '@material-ui/core';\nimport { OBTENER_COMPRAS_REALIZADAS } from \"../../../../../gql/Compras/compras\";\n\n\nimport TablaAbonos from './Components/TablaAbonos';\nimport { useQuery } from '@apollo/client';\nimport { TesoreriaCtx } from '../../../../../context/Tesoreria/tesoreriaCtx';\nimport SearchOutlined from '@material-ui/icons/SearchOutlined';\n\nconst useStyles = makeStyles((theme) => ({\n\tappBar: {\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n    icon: {\n\t\twidth: 100\n\t},\n\trootSearch: {\n\t\tdisplay: 'flex',\n\t\tpaddingLeft: theme.spacing(2)\n\t}\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function AbonosProveedores() {\n\tconst sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n\tconst { reload, setReload, setCuentas } = useContext(TesoreriaCtx);\n\t\n\tconst classes = useStyles();\n\tconst [ open, setOpen ] = useState(false);\n\tconst [filtro, setFiltro] = useState(\"\");\n\tconst searchfilter = useRef(null);\n\n\tconst { loading, data, error, refetch } = useQuery(\n\t\tOBTENER_COMPRAS_REALIZADAS,\n\t\t{\n\t\t  variables: {\n\t\t\tempresa: sesion.empresa._id,\n\t\t\tsucursal: sesion.sucursal._id,\n\t\t\tfecha: \"\"\n\t\t  },\n\t\t  fetchPolicy: \"network-only\",\n\t\t}\n\t);\n\n\tif(data){\n\t\tsetCuentas(data.obtenerComprasRealizadas)\n\t};\n\t\n\tuseEffect(() => {\n\t\t\n\t\trefetch();\n\t\t\n\t\tsetReload(false);\n\n\t}, [reload, refetch]);\n\n\tconst handleClickOpen = () => setOpen(!open);\n\n\tconst obtenerBusqueda = (e, value) => {\n\t\te.preventDefault();\n\t\trefetch({ filtro: value, fecha: '' });\n\t\tsetFiltro(value);\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<Button fullWidth onClick={handleClickOpen}>\n\t\t\t\t<Box display=\"flex\" flexDirection=\"column\">\n\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n                        <img src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/salary.svg' alt=\"icono abono\" className={classes.icon} />\n\t\t\t\t\t</Box>\n\t\t\t\t\tAbonos de provedores\n\t\t\t\t</Box>\n\t\t\t</Button>\n\t\t\t<Dialog fullScreen open={open} onClose={handleClickOpen} TransitionComponent={Transition}>\n\t\t\t\t<AppBar className={classes.appBar}>\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t<Typography variant=\"h6\" className={classes.title}>\n                        \tAbonos a Provedores\n\t\t\t\t\t\t</Typography>\n                        <Box m={1}>\n\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"secondary\" onClick={handleClickOpen} size=\"large\">\n\t\t\t\t\t\t\t\t<CloseIcon style={{fontSize: 30}} />\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</AppBar>\n\t\t\t\t<Box display='flex' p={2}>\n\t\t\t\t\t<Box minWidth=\"70%\">\n\t\t\t\t\t<form onSubmit={(e) => obtenerBusqueda(e, e.target[0].value)}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tinputRef={searchfilter}\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\tplaceholder=\"Buscar una compra...\"\n\t\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\tendAdornment: (\n\t\t\t\t\t\t\t\t<InputAdornment position=\"end\">\n\t\t\t\t\t\t\t\t<IconButton type=\"submit\" color=\"primary\" size=\"medium\">\n\t\t\t\t\t\t\t\t\t<SearchOutlined />\n\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t</InputAdornment>\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t</form>\n\t\t\t\t\t</Box>\n\t\t\t\t</Box>\n\t\t\t\t<Box p={2}>\n\t\t\t\t\t<TablaAbonos \t\n\t\t\t\t\t\tloading={loading}\n\t\t\t\t\t\trefetch={refetch}\n\t\t\t\t\t/>\n\t\t\t\t</Box>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n}\n","import React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TablePagination from '@material-ui/core/TablePagination';\nimport TableRow from '@material-ui/core/TableRow';\n\nconst columns = [\n\t{ id: 'name', label: 'Name', minWidth: 170 },\n\t{ id: 'code', label: 'ISO\\u00a0Code', minWidth: 100 },\n\t{\n\t\tid: 'population',\n\t\tlabel: 'Population',\n\t\tminWidth: 170,\n\t\talign: 'right',\n\t\tformat: (value) => value.toLocaleString('en-US')\n\t},\n\t{\n\t\tid: 'size',\n\t\tlabel: 'Size\\u00a0(km\\u00b2)',\n\t\tminWidth: 170,\n\t\talign: 'right',\n\t\tformat: (value) => value.toLocaleString('en-US')\n\t},\n\t{\n\t\tid: 'density',\n\t\tlabel: 'Density',\n\t\tminWidth: 170,\n\t\talign: 'right',\n\t\tformat: (value) => value.toFixed(2)\n\t}\n];\n\nfunction createData(name, code, population, size) {\n\tconst density = population / size;\n\treturn { name, code, population, size, density };\n}\n\nconst rows = [\n\tcreateData('India', 'IN', 1324171354, 3287263),\n\tcreateData('China', 'CN', 1403500365, 9596961),\n\tcreateData('Italy', 'IT', 60483973, 301340),\n\tcreateData('United States', 'US', 327167434, 9833520),\n\tcreateData('Canada', 'CA', 37602103, 9984670),\n\tcreateData('Australia', 'AU', 25475400, 7692024),\n\tcreateData('Germany', 'DE', 83019200, 357578),\n\tcreateData('Ireland', 'IE', 4857000, 70273),\n\tcreateData('Mexico', 'MX', 126577691, 1972550),\n\tcreateData('Japan', 'JP', 126317000, 377973),\n\tcreateData('France', 'FR', 67022000, 640679),\n\tcreateData('United Kingdom', 'GB', 67545757, 242495),\n\tcreateData('Russia', 'RU', 146793744, 17098246),\n\tcreateData('Nigeria', 'NG', 200962417, 923768),\n\tcreateData('Brazil', 'BR', 210147125, 8515767)\n];\n\nconst useStyles  = makeStyles((theme) => ({\n\troot: {\n\t\twidth: '100%'\n\t},\n\tcontainer: {\n\t\tmaxHeight: '100%'\n\t},\n    appBar: {\t\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t}\n}));\n\nexport default function TablaCompras() {\n\tconst classes = useStyles();\n\tconst [ page, setPage ] = useState(0);\n\tconst [ rowsPerPage, setRowsPerPage ] = useState(5);\n\n\tconst handleChangePage = (event, newPage) => {\n\t\tsetPage(newPage);\n\t};\n\n\tconst handleChangeRowsPerPage = (event) => {\n\t\tsetRowsPerPage(+event.target.value);\n\t\tsetPage(0);\n\t};\n\n\treturn (\n\t\t<Paper className={classes.root}>\n\t\t\t<TableContainer className={classes.container}>\n\t\t\t\t<Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t{columns.map((column) => (\n\t\t\t\t\t\t\t\t<TableCell key={column.id} align={column.align} style={{ minWidth: column.minWidth }}>\n\t\t\t\t\t\t\t\t\t{column.label}\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t</TableHead>\n\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t{rows.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage).map((row) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<TableRow hover role=\"checkbox\" tabIndex={-1} key={row.code}>\n\t\t\t\t\t\t\t\t\t{columns.map((column) => {\n\t\t\t\t\t\t\t\t\t\tconst value = row[column.id];\n\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t<TableCell \n                                                key={column.id} \n                                                align={column.align}\n                                            >\n\t\t\t\t\t\t\t\t\t\t\t\t{column.format && typeof value === 'number' ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolumn.format(value)\n\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t\t</TableBody>\n\t\t\t\t</Table>\n\t\t\t</TableContainer>\n\t\t\t<TablePagination\n\t\t\t\trowsPerPageOptions={[ 10, 25, 100 ]}\n\t\t\t\tcomponent=\"div\"\n\t\t\t\tcount={rows.length}\n\t\t\t\trowsPerPage={rowsPerPage}\n\t\t\t\tpage={page}\n\t\t\t\tonChangePage={handleChangePage}\n\t\t\t\tonChangeRowsPerPage={handleChangeRowsPerPage}\n\t\t\t/>\n\n\t\t</Paper>\n\t);\n}","import React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TablePagination from '@material-ui/core/TablePagination';\nimport TableRow from '@material-ui/core/TableRow';\n\nconst columns = [\n\t{ id: 'name', label: 'Name', minWidth: 170 },\n\t{ id: 'code', label: 'ISO\\u00a0Code', minWidth: 100 },\n\t{\n\t\tid: 'population',\n\t\tlabel: 'Population',\n\t\tminWidth: 170,\n\t\talign: 'right',\n\t\tformat: (value) => value.toLocaleString('en-US')\n\t},\n\t{\n\t\tid: 'size',\n\t\tlabel: 'Size\\u00a0(km\\u00b2)',\n\t\tminWidth: 170,\n\t\talign: 'right',\n\t\tformat: (value) => value.toLocaleString('en-US')\n\t},\n\t{\n\t\tid: 'density',\n\t\tlabel: 'Density',\n\t\tminWidth: 170,\n\t\talign: 'right',\n\t\tformat: (value) => value.toFixed(2)\n\t}\n];\n\nfunction createData(name, code, population, size) {\n\tconst density = population / size;\n\treturn { name, code, population, size, density };\n}\n\nconst rows = [\n\tcreateData('India', 'IN', 1324171354, 3287263),\n\tcreateData('China', 'CN', 1403500365, 9596961),\n\tcreateData('Italy', 'IT', 60483973, 301340),\n\tcreateData('United States', 'US', 327167434, 9833520),\n\tcreateData('Canada', 'CA', 37602103, 9984670),\n\tcreateData('Australia', 'AU', 25475400, 7692024),\n\tcreateData('Germany', 'DE', 83019200, 357578),\n\tcreateData('Ireland', 'IE', 4857000, 70273),\n\tcreateData('Mexico', 'MX', 126577691, 1972550),\n\tcreateData('Japan', 'JP', 126317000, 377973),\n\tcreateData('France', 'FR', 67022000, 640679),\n\tcreateData('United Kingdom', 'GB', 67545757, 242495),\n\tcreateData('Russia', 'RU', 146793744, 17098246),\n\tcreateData('Nigeria', 'NG', 200962417, 923768),\n\tcreateData('Brazil', 'BR', 210147125, 8515767)\n];\n\nconst useStyles  = makeStyles((theme) => ({\n\troot: {\n\t\twidth: '100%'\n\t},\n\tcontainer: {\n\t\tmaxHeight: '100%'\n\t},\n    appBar: {\t\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t}\n}));\n\nexport default function TablaAbonos() {\n\tconst classes = useStyles();\n\tconst [ page, setPage ] = useState(0);\n\tconst [ rowsPerPage, setRowsPerPage ] = useState(5);\n\n\tconst handleChangePage = (event, newPage) => {\n\t\tsetPage(newPage);\n\t};\n\n\tconst handleChangeRowsPerPage = (event) => {\n\t\tsetRowsPerPage(+event.target.value);\n\t\tsetPage(0);\n\t};\n\n\treturn (\n\t\t<Paper className={classes.root}>\n\t\t\t<TableContainer className={classes.container}>\n\t\t\t\t<Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t{columns.map((column) => (\n\t\t\t\t\t\t\t\t<TableCell key={column.id} align={column.align} style={{ minWidth: column.minWidth }}>\n\t\t\t\t\t\t\t\t\t{column.label}\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t</TableHead>\n\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t{rows.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage).map((row) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<TableRow hover role=\"checkbox\" tabIndex={-1} key={row.code}>\n\t\t\t\t\t\t\t\t\t{columns.map((column) => {\n\t\t\t\t\t\t\t\t\t\tconst value = row[column.id];\n\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t<TableCell \n                                                key={column.id} \n                                                align={column.align}\n                                            >\n\t\t\t\t\t\t\t\t\t\t\t\t{column.format && typeof value === 'number' ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolumn.format(value)\n\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t\t</TableBody>\n\t\t\t\t</Table>\n\t\t\t</TableContainer>\n\t\t\t<TablePagination\n\t\t\t\trowsPerPageOptions={[ 10, 25, 100 ]}\n\t\t\t\tcomponent=\"div\"\n\t\t\t\tcount={rows.length}\n\t\t\t\trowsPerPage={rowsPerPage}\n\t\t\t\tpage={page}\n\t\t\t\tonChangePage={handleChangePage}\n\t\t\t\tonChangeRowsPerPage={handleChangeRowsPerPage}\n\t\t\t/>\n\n\t\t</Paper>\n\t);\n}","import React, { useState } from 'react'\n\nimport { Box, Grid, makeStyles, Typography, Button, Dialog, Slide, AppBar, Toolbar } from '@material-ui/core'\nimport CloseIcon from '@material-ui/icons/Close';\nimport TablaCompras from './TablaCompras';\nimport TablaAbonos from './TablaDeAbonos';\n\nconst useStyles = makeStyles((theme) => ({\n    appBar: {\t\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n    icon: {\n\t\twidth: 100\n\t},\n\tformInputFlex: {\n\t\tdisplay: 'flex',\n\t\t'& > *': {\n\t\t\tmargin: `${theme.spacing(4)}px ${theme.spacing(2)}px`\n\t\t}\n\t},\n\tformInput: {\n\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(2)}px`\n\t},\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function DetallesCuenta() {\n    \n    const [open, setOpen] = useState(false);\n    const classes = useStyles();\n\n    const handleClick =()=>{\n        setOpen(!open);\n    }\n\n    return (\n        <div>\n            <Button\n                size=\"medium\"\n                variant=\"contained\" \n                color=\"primary\"\n                onClick={handleClick}\n            >\n                Detalles\n            </Button>\n            <Dialog fullScreen open={open} onClose={handleClick} TransitionComponent={Transition}>\n\t\t\t\t<AppBar className={classes.appBar}>\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t<Typography variant=\"h6\" className={classes.title}>\n                        \tDetalle de cuenta\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\n                        <Box m={1}>\n\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"secondary\" onClick={handleClick} size=\"large\">\n\t\t\t\t\t\t\t\t<CloseIcon style={{fontSize: 30}} />\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</AppBar>\n                <div className={classes.formInputFlex}>\n                    <Box width=\"100%\">\n                        <Typography>Nombre de Cliente:</Typography>\n                        <Box mt={1}>\n                            <Typography>\n                                Hola mundo\n                            </Typography>\n                        </Box>\n                    </Box>\n                    <Box width=\"100%\">\n                        <Typography>Fecha:</Typography>\n                        <Box mt={1}>\n                            <Typography>\n                                Hola mundo\n                            </Typography>\n                        </Box>\n                    </Box>\n                    <Box width=\"100%\">\n                        <Typography>Factura:</Typography>\n                        <Box mt={1}>\n                            <Typography>\n                                Hola mundo\n                            </Typography>\n                        </Box>\n                    </Box>\n                    <Box width=\"100%\">\n                        <Typography>Empresa:</Typography>\n                        <Box mt={1}>\n                            <Typography>\n                                Hola mundo\n                            </Typography>\n                        </Box>\n                    </Box>\n                    <Box width=\"100%\">\n                        <Typography>Domicilio:</Typography>\n                        <Box mt={1}>\n                            <Typography>\n                                Hola mundo\n                            </Typography>\n                        </Box>\n                    </Box>\n                </div>\n                <Grid container>\n                    <Grid item lg={6} xs={12}>\n                        <Box p={1}>\n                            <Typography variant=\"h6\">\n                                Lista de abonos\n                            </Typography>\n                        </Box>\n                        <Box p={1}>\n                            <TablaAbonos />\n                        </Box>\n                        <Box p={1} mr={3} display=\"flex\" justifyContent=\"flex-end\">\n                            <Typography>Total a abonado: $ 150,000.00</Typography>\n                        </Box>\n                        <Box p={1} mr={3} display=\"flex\" justifyContent=\"flex-end\">\n                            <Typography>Restante: $ 150,000.00</Typography>\n                        </Box>\n                    </Grid>\n                    <Grid item lg={6} xs={12}>\n                        <Box p={1} >\n                            <Typography variant=\"h6\">\n                               Lista de compra\n                            </Typography>\n                        </Box>\n                        <Box p={1}>\n                            <TablaCompras />\n                        </Box>\n                        <Box p={1} mr={3} display=\"flex\" justifyContent=\"flex-end\">\n                            <Typography>Total a liquidar: $ 150,000.00</Typography>\n                        </Box>\n                    </Grid>\n                </Grid>\n\t\t\t</Dialog>\n          \n        </div>\n\n    )\n}\n","import React, { useState } from 'react'\n\nimport {  Box, Button, Dialog, DialogActions, DialogContent, makeStyles, TextField, Typography } from '@material-ui/core';\nimport { ToggleButtonGroup } from '@material-ui/lab';\nimport CloseIcon from '@material-ui/icons/Close';\n\nconst useStyles = makeStyles((theme) => ({\n\tformInputFlex: {\n\t\tdisplay: 'flex',\n\t\t'& > *': {\n\t\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(1)}px`\n\t\t}\n\t},\n\tformInput: {\n\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(1)}px`\n\t},\n    appBar: {\n\t\tposition: 'relative'\n\t},\n}));\n\nexport default function LiquidarCuenta() {\n\n    const [open, setOpen] = useState(false);\n\n    const handleClick = () => { \n        setOpen(!open);\n    } \n    const classes = useStyles();\n\n    return (\n        <div>\n            <Button\n                size=\"medium\"\n                variant=\"contained\" \n                color=\"primary\"\n                onClick={handleClick}\n            >\n                Liquidar\n            </Button>\n\n            <Dialog\n                open={open}\n                onClose={handleClick}\n                aria-labelledby=\"draggable-dialog-title\"\n            >\n                <Box display=\"flex\" alignItems=\"center\" m={1}>\n                    <Typography variant=\"h6\" className={classes.title}>\n                        Abonos a Proveedores\n                    </Typography>\n                    <Box m={1} ml={8} >\n                        <Button variant=\"contained\" color=\"secondary\" onClick={handleClick} size=\"large\">\n                            <CloseIcon  />\n                        </Button>\n                    </Box>\n\t\t\t\t</Box>\n                <DialogContent>\n                    <Box width=\"100%\" textAlign=\"center\">\n                        <Typography>Descuento por pronto pago</Typography>\n\n                        <Box p={1}>\n                            <ToggleButtonGroup\n                                // value={alignment}\n                                exclusive\n                                // onChange={handleAlignment}\n                                aria-label=\"text alignment\"\n                            >\n                                <Box p={1}>\n                                    <Button\n                                        variant=\"contained\"\n                                        color=\"primary\"\n                                    >\n                                        Por decuento\n                                    </Button>\n                                </Box>\n                                <Box p={1}>\n                                    <Button\n                                        variant=\"contained\"\n                                        color=\"primary\"\n                                    >\n                                        Por pesos\n                                    </Button>\n                                </Box>\n                            </ToggleButtonGroup>\n                        </Box>\n                       \n                        <TextField\n                            fullWidth\n                            size=\"small\"\n                            /* error */\n                            name=\"nombre_comercial\"\n                            id=\"form-producto-nombre-comercial\"\n                            variant=\"outlined\"\n                            value=\"10% o $100.00\" \n                            /* helperText=\"Incorrect entry.\" */\n                            /* onChange={obtenerCampos} */\n                        />\n                    </Box>\n                    <div className={classes.formInputFlex}>\n                        <Box width=\"100%\">\n                            <Typography>Sub Total: </Typography>\n                        </Box>\n                        <Box width=\"100%\">\n                            <Typography>$150000</Typography>\n                        </Box>\n                    </div>\n                    <div className={classes.formInputFlex}>\n                        <Box width=\"100%\">\n                            <Typography>Descuento: </Typography>\n                        </Box>\n                        <Box width=\"100%\">\n                            <Typography>$150000</Typography>\n                        </Box>\n                    </div>\n                    <div className={classes.formInputFlex}>\n                        <Box width=\"100%\">\n                            <Typography>Total a pagar:</Typography>\n                        </Box>\n                        <Box width=\"100%\">\n                            <Typography>$150000</Typography>\n                        </Box>\n                    </div>\n                </DialogContent>\n                <DialogActions>\n                    <Button \n                        onClick={handleClick} \n                        color=\"primary\"\n                        variant=\"contained\"\n                        size=\"large\"\n                    >\n                        Liquidar\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        </div>\n    )\n}\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TablePagination from '@material-ui/core/TablePagination';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport Checkbox from '@material-ui/core/Checkbox';\n\nimport DetallesCuenta from './DetalleCuenta/DetallesCuenta';\nimport LiquidarCuenta from './LiquidarCuenta';\n\nfunction createData(name, calories, fat, carbs, protein) {\n\treturn { name, calories, fat, carbs, protein };\n}\n\nconst rows = [\n\tcreateData('Cupcake', 305, 3.7, 67, 4.3),\n\tcreateData('Donut', 452, 25.0, 51, 4.9),\n\tcreateData('Eclair', 262, 16.0, 24, 6.0),\n\tcreateData('Frozen yoghurt', 159, 6.0, 24, 4.0),\n\tcreateData('Gingerbread', 356, 16.0, 49, 3.9),\n\tcreateData('Honeycomb', 408, 3.2, 87, 6.5),\n\tcreateData('Ice cream sandwich', 237, 9.0, 37, 4.3),\n\tcreateData('Jelly Bean', 375, 0.0, 94, 0.0),\n\tcreateData('KitKat', 518, 26.0, 65, 7.0),\n\tcreateData('Lollipop', 392, 0.2, 98, 0.0),\n\tcreateData('Marshmallow', 318, 0, 81, 2.0),\n\tcreateData('Nougat', 360, 19.0, 9, 37.0),\n\tcreateData('Oreo', 437, 18.0, 63, 4.0)\n];\n\nconst headCells = [\n\t{ id: 'name', numeric: false, disablePadding: true, label: 'Cliente' },\n\t{ id: 'calories', numeric: true, disablePadding: false, label: 'Abondado' },\n\t{ id: 'fat', numeric: true, disablePadding: false, label: 'Restante' },\n\t{ id: 'abono', numeric: true, disablePadding: false, label: 'Abono a percibir' },\n\t{ id: 'carbs', numeric: true, disablePadding: false, label: 'Detalles' },\n\t{ id: 'protein', numeric: true, disablePadding: false, label: 'Liquidar' }\n];\n\nfunction EnhancedTableHead(props) {\n\tconst { onSelectAllClick, numSelected, rowCount } = props;\n\n\treturn (\n\t\t<TableHead>\n\t\t\t<TableRow>\n\t\t\t\t<TableCell padding=\"checkbox\">\n\t\t\t\t\t<Checkbox\n\t\t\t\t\t\tindeterminate={numSelected > 0 && numSelected < rowCount}\n\t\t\t\t\t\tchecked={rowCount > 0 && numSelected === rowCount}\n\t\t\t\t\t\tonChange={onSelectAllClick}\n\t\t\t\t\t\tinputProps={{ 'aria-label': 'select all desserts' }}\n\t\t\t\t\t/>\n\t\t\t\t</TableCell>\n\t\t\t\t{headCells.map((headCell) => (\n\t\t\t\t\t<TableCell\n\t\t\t\t\t\tkey={headCell.id}\n\t\t\t\t\t\talign={headCell.numeric ? 'right' : 'left'}\n\t\t\t\t\t\tpadding={headCell.disablePadding ? 'none' : 'default'}\n\t\t\t\t\t>\n\t\t\t\t\t\t{headCell.label}\n\t\t\t\t\t</TableCell>\n\t\t\t\t))}\n\t\t\t</TableRow>\n\t\t</TableHead>\n\t);\n}\n\nEnhancedTableHead.propTypes = {\n\tclasses: PropTypes.object.isRequired,\n\tnumSelected: PropTypes.number.isRequired,\n\t// onRequestSort: PropTypes.func.isRequired,\n\tonSelectAllClick: PropTypes.func.isRequired,\n\t// order: PropTypes.oneOf([ 'asc', 'desc' ]).isRequired,\n\t// orderBy: PropTypes.string.isRequired,\n\trowCount: PropTypes.number.isRequired\n};\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n\t\twidth: '100%'\n\t},\n\tpaper: {\n\t\twidth: '100%',\n\t\tmarginBottom: theme.spacing(2)\n\t},\n\ttable: {\n\t\tminWidth: 750\n\t},\n\tvisuallyHidden: {\n\t\tborder: 0,\n\t\tclip: 'rect(0 0 0 0)',\n\t\theight: 1,\n\t\tmargin: -1,\n\t\toverflow: 'hidden',\n\t\tpadding: 0,\n\t\tposition: 'absolute',\n\t\ttop: 20,\n\t\twidth: 1\n\t}\n}));\n\nexport default function TablaAbonos() {\n\tconst classes = useStyles();\n\tconst [ selected, setSelected ] = useState([]);\n\tconst [ page, setPage ] = useState(0);\n\tconst [ rowsPerPage, setRowsPerPage ] = useState(10);\n\n\tconst handleSelectAllClick = (event) => {\n\t\tif (event.target.checked) {\n\t\t\tconst newSelecteds = rows.map((n) => n.name);\n\t\t\tsetSelected(newSelecteds);\n\t\t\treturn;\n\t\t}\n\t\tsetSelected([]);\n\t};\n\n\tconst handleClick = (event, name) => {\n\t\tconst selectedIndex = selected.indexOf(name);\n\t\tlet newSelected = [];\n\n\t\tif (selectedIndex === -1) {\n\t\t\tnewSelected = newSelected.concat(selected, name);\n\t\t} else if (selectedIndex === 0) {\n\t\t\tnewSelected = newSelected.concat(selected.slice(1));\n\t\t} else if (selectedIndex === selected.length - 1) {\n\t\t\tnewSelected = newSelected.concat(selected.slice(0, -1));\n\t\t} else if (selectedIndex > 0) {\n\t\t\tnewSelected = newSelected.concat(selected.slice(0, selectedIndex), selected.slice(selectedIndex + 1));\n\t\t}\n\n\t\tsetSelected(newSelected);\n\t};\n\n\tconst handleChangePage = (event, newPage) => {\n\t\tsetPage(newPage);\n\t};\n\n\tconst handleChangeRowsPerPage = (event) => {\n\t\tsetRowsPerPage(parseInt(event.target.value, 10));\n\t\tsetPage(0);\n\t};\n\n\tconst isSelected = (name) => selected.indexOf(name) !== -1;\n\n\tconst emptyRows = rowsPerPage - Math.min(rowsPerPage, rows.length - page * rowsPerPage);\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Paper className={classes.paper}>\n\t\t\t\t<TableContainer>\n\t\t\t\t\t<Table\n\t\t\t\t\t\tclassName={classes.table}\n\t\t\t\t\t\taria-labelledby=\"tableTitle\"\n\t\t\t\t\t\tstickyHeader\n\t\t\t\t\t\tsize=\"small\" \n\t\t\t\t\t\taria-label=\"a dense table\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<EnhancedTableHead\n\t\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\t\tnumSelected={selected.length}\n\t\t\t\t\t\t\tonSelectAllClick={handleSelectAllClick}\n\t\t\t\t\t\t\trowCount={rows.length}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t{rows.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage).map((row, index) => {\n\t\t\t\t\t\t\t\tconst isItemSelected = isSelected(row.name);\n\t\t\t\t\t\t\t\tconst labelId = `enhanced-table-checkbox-${index}`;\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<TableRow\n\t\t\t\t\t\t\t\t\t\thover\n\t\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\t\tonClick={(event) => handleClick(event, row.name)}\n\t\t\t\t\t\t\t\t\t\trole=\"checkbox\"\n\t\t\t\t\t\t\t\t\t\taria-checked={isItemSelected}\n\t\t\t\t\t\t\t\t\t\ttabIndex={-1}\n\t\t\t\t\t\t\t\t\t\tselected={isItemSelected}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<TableCell padding=\"checkbox\">\n\t\t\t\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\t\t\t\tchecked={isItemSelected}\n\t\t\t\t\t\t\t\t\t\t\t\tinputProps={{ 'aria-labelledby': labelId }}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t<TableCell component=\"th\" id={labelId} scope=\"row\" padding=\"none\">\n\t\t\t\t\t\t\t\t\t\t\t{row.name}\n\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t<TableCell align=\"right\">{row.calories}</TableCell>\n\t\t\t\t\t\t\t\t\t\t<TableCell align=\"right\">{row.fat}</TableCell>\n\t\t\t\t\t\t\t\t\t\t<TableCell align=\"right\">{row.carbs}</TableCell>\n\t\t\t\t\t\t\t\t\t\t<TableCell align=\"right\">\n\t\t\t\t\t\t\t\t\t\t\t<DetallesCuenta />\n\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t<TableCell align=\"right\">\n\t\t\t\t\t\t\t\t\t\t\t<LiquidarCuenta />\n\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t{emptyRows > 0 && (\n\t\t\t\t\t\t\t\t<TableRow style={{ height: 53 * emptyRows }}>\n\t\t\t\t\t\t\t\t\t<TableCell colSpan={6} />\n\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t</Table>\n\t\t\t\t</TableContainer>\n\t\t\t\t<TablePagination\n                    rowsPerPageOptions={[]}\n\t\t\t\t\tcomponent=\"div\"\n\t\t\t\t\tcount={rows.length}\n\t\t\t\t\trowsPerPage={rowsPerPage}\n\t\t\t\t\tpage={page}\n\t\t\t\t\tonChangePage={handleChangePage}\n\t\t\t\t\tonChangeRowsPerPage={handleChangeRowsPerPage}\n\t\t\t\t/>\n\t\t\t</Paper>\n\t\t</div>\n\t);\n}\n","import React, { useState } from 'react';\n\nimport CloseIcon from '@material-ui/icons/Close';\nimport { Alert } from '@material-ui/lab';\nimport { Box, Button, Dialog,  DialogContent,  DialogTitle, Slide, TextField, Typography } from '@material-ui/core'\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n    return <Slide direction=\"up\" ref={ref} {...props} />;\n  });\n\nexport default function AbonoaRecibir() {\n    //listo\n    const [open, setOpen] = useState(false);\n\n    const handleClick = () => { \n        setOpen(!open);\n    } \n\n    return (\n        <div>\n                <Button\n                    size=\"large\"\n                    variant=\"contained\" \n                    color=\"primary\"\n                    onClick={handleClick}\n                >\n                   Abonar\n                </Button>\n            <Dialog\n                open={open}\n                TransitionComponent={Transition}\n                keepMounted\n                onClose={handleClick}\n                aria-labelledby=\"alert-dialog-slide-title\"\n                aria-describedby=\"alert-dialog-slide-description\"\n            >\n                <DialogTitle id=\"alert-dialog-slide-title\">\n                    <Box display=\"flex\">\n                        <Box display=\"flex\" justifyContent=\"flex-start\">\n                            Abono a recibir por cuenta\n                        </Box>\n                        <Box ml={3} display=\"flex\" justifyContent=\"flex-end\">\n                            <Button variant=\"contained\" color=\"secondary\" onClick={handleClick} size=\"large\">\n\t\t\t\t\t\t\t\t<CloseIcon />\n\t\t\t\t\t\t\t</Button>\n                        </Box>\n                    </Box>\n                    \n                </DialogTitle>\n                <DialogContent>\n                    <Box width=\"100%\">\n                        <Typography>Cuenta No. 2501265</Typography>\n                        <TextField\n                            fullWidth\n                            size=\"small\"\n                            /* error */\n                            name=\"nombre_comercial\"\n                            id=\"form-producto-nombre-comercial\"\n                            variant=\"outlined\"\n                            value=\"$150,000.00 Mx\" \n                            /* helperText=\"Incorrect entry.\" */\n                            /* onChange={obtenerCampos} */\n                        />\n                    </Box>\n                    <Box width=\"100%\">\n                        <Typography>Cuenta No. 2501265</Typography>\n                        <TextField\n                            fullWidth\n                            size=\"small\"\n                            /* error */\n                            name=\"nombre_comercial\"\n                            id=\"form-producto-nombre-comercial\"\n                            variant=\"outlined\"\n                            value=\"$150,000.00 Mx\" \n                            /* helperText=\"Incorrect entry.\" */\n                            /* onChange={obtenerCampos} */\n                        />\n                    </Box>\n                    <Box width=\"100%\" p={1} mt={1}>\n                        <Typography>Nombre de Cliente: SUTANO</Typography>\n                    </Box>\n                    <Box width=\"100%\" p={1}>\n                        <Typography>Total a abonar:  $15,100</Typography>\n                    </Box>\n                    <Box p={1}>\n                        <Alert severity=\"info\">Si desea editar el abono del cliente, <br/>\n                        procure este sea mayor al establecido</Alert>\n                    </Box>\n                </DialogContent>\n                <Box display=\"flex\" justifyContent=\"center\" alignContent=\"center\" p={2}>\n                    <Button\n                        size=\"large\"\n                        variant=\"contained\" \n                        color=\"primary\"\n                        style={{fontSize: 16}}\n                        onClick={handleClick}\n                    >\n                        Registrar Abono\n                    </Button>\n                </Box>\n            </Dialog>\n        </div>\n    )\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport CloseIcon from '@material-ui/icons/Close';\nimport Slide from '@material-ui/core/Slide';\nimport { Box, TextField, Grid } from '@material-ui/core';\n\nimport TablaAbonos from './Components/TablaAbonos';\nimport AbonoaRecibir from './Components/AbonoPercibir';\n\nconst useStyles = makeStyles((theme) => ({\n\tappBar: {\t\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n    icon: {\n\t\twidth: 100\n\t},\n\tformInputFlex: {\n\t\tdisplay: 'flex',\n\t\t'& > *': {\n\t\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(2)}px`\n\t\t}\n\t},\n\tformInput: {\n\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(2)}px`\n\t},\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function AbonosClientes() {\n\tconst classes = useStyles();\n\tconst [ open, setOpen ] = React.useState(false);\n\n\tconst handleClickOpen = () => setOpen(!open);\n\n\treturn (\n\t\t<div>\n\t\t\t<Button fullWidth onClick={handleClickOpen}>\n\t\t\t\t<Box display=\"flex\" flexDirection=\"column\">\n\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n                        <img src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/salary.svg' alt=\"icono abono\" className={classes.icon} />\n\t\t\t\t\t</Box>\n\t\t\t\t\tAbonos de Clientes\n\t\t\t\t</Box>\n\t\t\t</Button>\n\t\t\t<Dialog fullScreen open={open} onClose={handleClickOpen} TransitionComponent={Transition}>\n\t\t\t\t<AppBar className={classes.appBar}>\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t<Typography variant=\"h6\" className={classes.title}>\n                        \tAbonos de Clientes\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\n                        <Box m={1}>\n\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"secondary\" onClick={handleClickOpen} size=\"large\">\n\t\t\t\t\t\t\t\t<CloseIcon style={{fontSize: 30}} />\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</AppBar>\n\t\t\t\t<Grid container>\n\t\t\t\t\t<Box width=\"50%\" p={2}>\n\t\t\t\t\t\t<Typography>Busqueda por cliente o por cuenta</Typography>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t/* error */\n\t\t\t\t\t\t\tname=\"nombre_comercial\"\n\t\t\t\t\t\t\tid=\"form-producto-nombre-comercial\"\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t/* value=\"\" */\n\t\t\t\t\t\t\t/* helperText=\"Incorrect entry.\" */\n\t\t\t\t\t\t\t/* onChange={obtenerCampos} */\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Box>\n\t\t\t\t\t\n\t\t\t\t\t<Box mt={5}>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tsize=\"large\"\n\t\t\t\t\t\t\tvariant=\"contained\" \n\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tBuscar\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Grid item lg={5}>\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" mt={4}>\n\t\t\t\t\t\t\t<AbonoaRecibir />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t\t<Box p={2}>\n\t\t\t\t\t<TablaAbonos />\n\t\t\t\t</Box>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n}\n","import React, { useContext } from 'react';\nimport { Box, Container, Grid } from '@material-ui/core';\nimport CuentasEmpresaSucursales from './CuentasEmpresaSucursales/CuentasEmpresaSucursales';\nimport Egresos from './Egresos/Egresos';\nimport AbonosProveedores from './Abonos/Provedores/AbonosProovedores';\nimport AbonosClientes from './Abonos/Clientes/AbonosClientes';\n// import Transferencias from './Transferencias/Transferencias';\n\nimport SnackBarMessages from '../../../components/SnackBarMessages';\nimport { TesoreriaCtx } from '../../../context/Tesoreria/tesoreriaCtx';\n\nexport default function Tesoreria() {\n\n\tconst { alert, setAlert } = useContext(TesoreriaCtx);\n\tconst permisosUsuario = JSON.parse(localStorage.getItem('sesionCafi'));\n\n\treturn (\n\t\t<Container>\n            <SnackBarMessages alert={alert} setAlert={setAlert} />\n\t\t\t<Grid container spacing={2} justify=\"center\">\n\t\t\t\t{permisosUsuario.accesos.tesoreria.cuentas_empresa.ver === false ? (null):(\n\t\t\t\t\t<Grid item lg={2}>\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t<CuentasEmpresaSucursales />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t)}\n\t\t\t\t{permisosUsuario.accesos.tesoreria.egresos.ver === false ? (null):(\n\t\t\t\t\t<Grid item lg={2}>\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t<Egresos />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t)}\n\t\t\t\t{permisosUsuario.accesos.tesoreria.abonos_proveedores.ver === false ? (null):(\n\t\t\t\t\t<Grid item lg={2}>\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t<AbonosProveedores />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t)}\n\t\t\t\t{permisosUsuario.accesos.tesoreria.abonos_clientes.ver === false ? (null):(\n\t\t\t\t\t<Grid item lg={2}>\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t<AbonosClientes />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t)}\n                {/* <Grid item lg={2}>\n\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t<Transferencias />\n\t\t\t\t\t</Box>\n\t\t\t\t</Grid> */}\n\t\t\t</Grid>\n\t\t</Container>\n\t);\n}\n","import React from 'react';\nimport { TesoreriaProvider } from '../../../context/Tesoreria/tesoreriaCtx';\nimport Tesoreria from './Tesoreria';\n\nexport default function IndexTesoreria() {\n    return (\n        <TesoreriaProvider>\n            <Tesoreria />\n        </TesoreriaProvider>\n    )\n}\n","import React, { createContext, useState } from \"react\";\n\nexport const FacturacionCtx = createContext();\n\nexport const FacturacionProvider = ({ children }) => {\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n\n  const [datosFactura, setDatosFactura] = useState({\n    serie: \"\",\n    currency: \"MXN\",\n    expedition_place: \"\",\n    folio: \"\",\n    cfdi_type: \"I\",\n    payment_form: \"\",\n    payment_method: \"\",\n    logo_url: sesion ? sesion.imagen : '',\n    date: \"0\",\n    issuer: {\n      FiscalRegime: sesion ? sesion.empresa.regimen_fiscal : \"\",\n      Rfc: sesion ? sesion.empresa.rfc : \"\",\n      Name: sesion ? sesion.empresa.nombre_fiscal : \"\",\n    },\n    receiver: {\n      Rfc: \"\",\n      Name: \"\",\n      CfdiUse: \"\",\n    },\n    items: [],\n    empresa: sesion ? sesion.empresa._id : \"\",\n    sucursal: sesion ? sesion.sucursal._id : \"\",\n  });\n\n  const [venta_factura, setVentaFactura] = useState(null);\n  const [productos, setProductos] = useState([]);\n\n  const [cp_valido, setCPValido] = useState(false);\n  const [codigo_postal, setCodigoPostal] = useState(\"\");\n  const [error_validation, setError] = useState({ status: false, message: \"\" });\n\n  return (\n    <FacturacionCtx.Provider\n      value={{\n        datosFactura,\n        setDatosFactura,\n        cp_valido,\n        setCPValido,\n        codigo_postal,\n        setCodigoPostal,\n        error_validation,\n        setError,\n        venta_factura,\n        setVentaFactura,\n        productos,\n        setProductos,\n      }}\n    >\n      {children}\n    </FacturacionCtx.Provider>\n  );\n};\n","import React from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport Box from \"@material-ui/core/Box\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport Slide from \"@material-ui/core/Slide\";\nimport { Close } from \"@material-ui/icons\";\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function ProductosSinClaveSat({ productos, open, handleClose }) {\n  return (\n    <div>\n      <Dialog\n        open={open}\n        TransitionComponent={Transition}\n        keepMounted\n        onClose={(_, reason) => {\n          if (reason !== \"backdropClick\") {\n            handleClose();\n          }\n        }}\n      >\n        <DialogTitle>\n          <Box style={{ display: \"flex\" }}>\n            <Typography variant=\"h6\">\n              Productos sin CLAVE del catalogo SAT\n            </Typography>\n            <Box flexGrow={1} />\n            <Button\n              variant=\"contained\"\n              color=\"secondary\"\n              size=\"large\"\n              onClick={() => handleClose()}\n            >\n              <Close />\n            </Button>\n          </Box>\n        </DialogTitle>\n        <DialogContent>\n          <DialogContentText>\n            Hay productos sin clave de catalogo de productos del sat, sin esta\n            clave no puede realizar facturas\n          </DialogContentText>\n          <Paper variant=\"outlined\">\n            <TableContainer style={{ maxHeight: \"40vh\" }}>\n              <Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n                <TableHead>\n                  <TableRow>\n                    <TableCell>Código de barras</TableCell>\n                    <TableCell>Clave alterna</TableCell>\n                    <TableCell>Producto</TableCell>\n                  </TableRow>\n                </TableHead>\n                <TableBody>\n                  {productos.map((row, index) => {\n                    const { datos_generales } = row.id_producto;\n                    return (\n                      <TableRow key={index} role=\"checkbox\" tabIndex={-1}>\n                        <TableCell>\n                          <Typography>\n                            {datos_generales.codigo_barras}\n                          </Typography>\n                        </TableCell>\n                        <TableCell>\n                          <Typography>\n                            {datos_generales.clave_alterna}\n                          </Typography>\n                        </TableCell>\n                        <TableCell>\n                          <Typography>\n                            {datos_generales.nombre_comercial}\n                          </Typography>\n                        </TableCell>\n                      </TableRow>\n                    );\n                  })}\n                </TableBody>\n              </Table>\n            </TableContainer>\n          </Paper>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={() => handleClose()} color=\"inherit\" size=\"large\">\n            Cerrar\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n}\n","import { gql } from \"@apollo/client\";\n\nexport const CONSULTA_PRODUCTOS = gql`\n  query ObtenerConsultaGeneralVentas($empresa: ID!, $sucursal: ID!) {\n    obtenerConsultaGeneralVentas(empresa: $empresa, sucursal: $sucursal) {\n      _id\n      precio\n      cantidad\n      concepto\n      unidad\n      unidad_principal\n      codigo_barras\n      descuento {\n        porciento\n        dinero_descontado\n        precio_con_descuento\n      }\n      descuento_activo\n      default\n      id_producto {\n        datos_generales {\n          nombre_comercial\n          codigo_barras\n          tipo_producto\n          clave_alterna\n        }\n      }\n      inventario_general {\n        cantidad_existente\n        unidad_inventario\n        cantidad_existente_maxima\n        unidad_maxima\n      }\n    }\n  }\n`;\n\nexport const CONSULTA_PRODUCTO_UNITARIO = gql`\n  query ObtenerUnProductoVentas(\n    $empresa: ID!\n    $sucursal: ID!\n    $datosProductos: ID!\n  ) {\n    obtenerUnProductoVentas(\n      empresa: $empresa\n      sucursal: $sucursal\n      datosProductos: $datosProductos\n    ) {\n      _id\n      precio\n      cantidad\n      concepto\n      unidad\n      unidad_principal\n      codigo_barras\n      codigo_unidad\n      precio_unidad {\n        numero_precio\n        precio_neto\n        precio_venta\n        iva_precio\n        ieps_precio\n        unidad_mayoreo\n        precio_general\n        cantidad_unidad\n        unidad_maxima\n      }\n      descuento {\n        cantidad_unidad\n        numero_precio\n        unidad_maxima\n        precio_general\n        precio_neto\n        precio_venta\n        iva_precio\n        ieps_precio\n        utilidad\n        dinero_descontado\n        porciento\n      }\n      medida {\n        talla\n        tipo\n        _id\n      }\n      color {\n        hex\n        nombre\n        _id\n      }\n      descuento_activo\n      default\n      id_producto {\n        imagenes {\n          url_imagen\n        }\n        _id\n        datos_generales {\n          nombre_comercial\n          codigo_barras\n          tipo_producto\n          clave_alterna\n          nombre_generico\n          descripcion\n          id_categoria\n          categoria\n          subcategoria\n          id_subcategoria\n          id_departamento\n          departamento\n          id_marca\n          marca\n          clave_producto_sat {\n            Name\n            Value\n          }\n          receta_farmacia\n        }\n        precios {\n          ieps\n          ieps_activo\n          inventario {\n            inventario_minimo\n            inventario_maximo\n            unidad_de_inventario\n            codigo_unidad\n          }\n          iva\n          iva_activo\n          monedero\n          monedero_electronico\n          precio_de_compra {\n            precio_con_impuesto\n            precio_sin_impuesto\n            iva\n            ieps\n          }\n          precios_producto {\n            numero_precio\n            precio_neto\n            precio_venta\n            iva_precio\n            ieps_precio\n            unidad_mayoreo\n            utilidad\n            precio_general\n            cantidad_unidad\n            unidad_maxima\n          }\n          unidad_de_compra {\n            cantidad\n            precio_unitario_con_impuesto\n            precio_unitario_sin_impuesto\n            unidad\n            codigo_unidad\n          }\n        }\n      }\n      inventario_general {\n        cantidad_existente\n        unidad_inventario\n        cantidad_existente_maxima\n        unidad_maxima\n        codigo_unidad\n      }\n    }\n  }\n`;\n\nexport const CONSULTA_PRODUCTOS_VENTAS = gql`\n  query ObtenerProductosVentas(\n    $empresa: ID!\n    $sucursal: ID!\n    $input: ObtenerProductosVentasInput\n  ) {\n    obtenerProductosVentas(\n      empresa: $empresa\n      sucursal: $sucursal\n      input: $input\n    ) {\n      _id\n      precio\n      cantidad\n      concepto\n      unidad\n      unidad_principal\n      codigo_barras\n      descuento {\n        porciento\n        dinero_descontado\n        precio_con_descuento\n      }\n      descuento_activo\n      default\n      id_producto {\n        imagenes {\n          url_imagen\n        }\n        _id\n        datos_generales {\n          nombre_comercial\n          codigo_barras\n          tipo_producto\n          clave_alterna\n        }\n        precios {\n          ieps\n          ieps_activo\n          inventario {\n            inventario_minimo\n            inventario_maximo\n            unidad_de_inventario\n          }\n          iva\n          iva_activo\n          monedero\n          monedero_electronico\n          precio_de_compra {\n            precio_con_impuesto\n            precio_sin_impuesto\n            iva\n            ieps\n          }\n          precios_producto {\n            numero_precio\n            precio_neto\n            unidad_mayoreo\n            utilidad\n          }\n          unidad_de_compra {\n            cantidad\n            precio_unitario_con_impuesto\n            precio_unitario_sin_impuesto\n            unidad\n          }\n        }\n      }\n      inventario_general {\n        cantidad_existente\n        unidad_inventario\n        cantidad_existente_maxima\n        unidad_maxima\n      }\n    }\n  }\n`;\n\nexport const OBTENER_CLIENTES_VENTAS = gql`\n  query ObtenerClientesVentas($empresa: ID!, $sucursal: ID!) {\n    obtenerClientesVentas(empresa: $empresa, sucursal: $sucursal) {\n      numero_cliente\n      clave_cliente\n      nombre_cliente\n      rfc\n      curp\n      telefono\n      celular\n      email\n      numero_descuento\n      limite_credito\n      dias_credito\n      razon_social\n      direccion {\n        calle\n        no_ext\n        no_int\n        codigo_postal\n        colonia\n        municipio\n        localidad\n        estado\n        pais\n      }\n      imagen\n      banco\n      numero_cuenta\n      monedero_electronico\n      credito_disponible\n    }\n  }\n`;\n\nexport const CREAR_VENTA = gql`\n  mutation createVenta(\n    $input: CrearVentasInput!\n    $empresa: ID!\n    $sucursal: ID!\n    $usuario: ID!\n    $caja: ID!\n  ) {\n    createVenta(\n      input: $input\n      empresa: $empresa\n      sucursal: $sucursal\n      usuario: $usuario\n      caja: $caja\n    ) {\n      message\n    }\n  }\n`;\n\nexport const OBTENER_VENTAS_SUCURSAL = gql`\nquery obtenerVentasSucursal($empresa: ID!, $sucursal: ID!, $filtro: String ) {\n\t\tobtenerVentasSucursal(empresa: $empresa, sucursal: $sucursal, filtro: $filtro) {\n\t\t\t_id\n      folio\n      cliente {\n        _id\n        numero_cliente\n        clave_cliente\n        nombre_cliente\n        rfc\n        telefono\n        celular\n        email\n        razon_social\n      }\n      descuento\n      ieps\n      impuestos\n      iva\n      monedero\n      subTotal\n      total\n      venta_cliente\n      credito\n      descuento_general_activo\n      id_caja{\n        _id\n        numero_caja\n        activa\n      }\n      fecha_de_vencimiento_credito\n      dias_de_credito_venta\n      empresa\n      sucursal\n      usuario{\n        _id\n        numero_usuario\n        nombre\n      }\n      productos{\n        _id\n        id_producto{\n          _id\n          datos_generales{\n            codigo_barras\n            clave_alterna\n            tipo_producto\n            nombre_comercial\n            nombre_generico\n            descripcion\n            id_categoria\n            categoria\n            subcategoria\n            id_subcategoria\n            id_departamento\n            departamento\n            id_marca\n            marca\n            clave_producto_sat{\n              Name\n              Value\n            }\n            receta_farmacia\n          }\n          precios{\n            ieps\n            ieps_activo\n            inventario{\n              inventario_minimo\n              inventario_maximo\n              unidad_de_inventario\n              codigo_unidad\n            }\n            iva\n            iva_activo\n            monedero\n            monedero_electronico\n            precio_de_compra{\n              precio_con_impuesto\n              precio_sin_impuesto\n              iva\n              ieps\n            }\n            precios_producto{\n              numero_precio\n              precio_neto\n              precio_venta\n              iva_precio\n              ieps_precio\n              unidad_mayoreo\n              utilidad\n              precio_general\n              cantidad_unidad\n              unidad_maxima\n            }\n            unidad_de_compra{\n              cantidad\n              precio_unitario_con_impuesto\n              precio_unitario_sin_impuesto\n              unidad\n              codigo_unidad\n            }\n            granel\n            litros\n          }\n          imagenes{\n            url_imagen\n            location_imagen\n            key_imagen\n            extencion_imagen\n          }\n          centro_de_costos{\n            cuenta\n            id_cuenta\n            id_subcuenta\n            subcuenta\n          }\n          precio_plazos{\n            precio_cajas{\n              plazo\n              unidad\n              codigo_unidad\n              precio\n            }\n            precio_costales{\n              plazo\n              unidad\n              codigo_unidad\n              precio\n            }\n            precio_piezas{\n              plazo\n              unidad\n              codigo_unidad\n              precio\n            }\n          }\n          unidades_de_venta{\n            _id\n            precio\n            cantidad\n            concepto\n            unidad\n            codigo_unidad\n            unidad_principal\n            codigo_barras\n            codigo_barras\n            id_producto\n            empresa\n            sucursal\n            descuento{\n              cantidad_unidad\n              numero_precio\n              unidad_maxima\n              precio_general\n              precio_neto\n              precio_venta\n              iva_precio\n              ieps_precio\n              utilidad\n              porciento\n              dinero_descontado\n            }\n            descuento_activo\n            default\n            precio_unidad{\n              numero_precio\n              precio_neto\n              precio_venta\n              iva_precio\n              ieps_precio\n              unidad_mayoreo\n              utilidad\n              precio_general\n              cantidad_unidad\n              unidad_maxima\n            }\n          }\n          inventario_general{\n            _id\n            cantidad_existente\n            unidad_inventario\n            codigo_unidad\n            cantidad_existente_maxima\n            unidad_maxima\n            id_almacen_general\n            eliminado\n          }\n          medidas_producto{\n            _id\n            cantidad\n            cantidad_nueva\n            almacen\n            codigo_barras\n            color{\n              hex\n              nombre\n              _id\n            }\n            descuento{\n              cantidad_unidad\n              numero_precio\n              unidad_maxima\n              precio_general\n              precio_neto\n              precio_venta\n              iva_precio\n              ieps_precio\n              utilidad\n              porciento\n              dinero_descontado\n            }\n            descuento_activo\n            existencia\n            medida{\n              talla\n              tipo\n              _id\n            }\n            nombre_comercial\n            precio\n            precio_unidad{\n              numero_precio\n              precio_neto\n              precio_venta\n              iva_precio\n              ieps_precio\n              unidad_mayoreo\n              utilidad\n              precio_general\n              cantidad_unidad\n              unidad_maxima\n            }\n          }\n        }\n        concepto\n        cantidad\n        iva_total\n        ieps_total\n        subtotal\n        impuestos\n        total\n        medida{\n          id_medida\n          medida\n          tipo\n        }\n        color{\n          id_color\n          color\n          hex\n        }\n        cantidad_venta\n        granel_producto{\n          granel\n          valor\n        }\n        precio\n        precio_a_vender\n        precio_actual_producto\n        default\n        unidad\n        codigo_unidad\n        id_unidad_venta\n        year_registro\n        fecha_registro\n        precio_unidad{\n          numero_precio\n          precio_neto\n          precio_venta\n          iva_precio\n          ieps_precio\n          unidad_mayoreo\n          utilidad\n          precio_general\n          cantidad_unidad\n          unidad_maxima\n        }\n        precio_actual_object{\n          cantidad_unidad\n          numero_precio\n          unidad_maxima\n          unidad_mayoreo\n          precio_general\n          precio_neto\n          precio_venta\n          iva_precio\n          ieps_precio\n          utilidad\n          porciento\n          dinero_descontado\n        }\n      }\n\t\t}\n\t}\n`;\n","import React, { Fragment, useContext, useState } from \"react\";\nimport Box from \"@material-ui/core/Box\";\nimport Button from \"@material-ui/core/Button\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Slide from \"@material-ui/core/Slide\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport Grid from \"@material-ui/core/Grid\";\nimport { makeStyles } from \"@material-ui/core\";\nimport Typography from \"@material-ui/core/Typography\";\n\nimport { Close, Search } from \"@material-ui/icons\";\nimport ErrorPage from \"../../../../../components/ErrorPage\";\nimport { useQuery } from \"@apollo/client\";\nimport { FacturacionCtx } from \"../../../../../context/Facturacion/facturacionCtx\";\nimport ProductosSinClaveSat from \"./ProductosSinClave\";\nimport { OBTENER_VENTAS_SUCURSAL } from \"../../../../../gql/Ventas/ventas_generales\";\nimport { formatoMexico } from \"../../../../../config/reuserFunctions\";\nimport { Alert } from \"@material-ui/lab\";\nimport { useDebounce } from \"use-debounce/lib\";\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nconst useStyles = makeStyles((theme) => ({\n  container: {\n    height: \"50vh\",\n  },\n}));\n\nexport default function ListaVentasFactura() {\n  const [open, setOpen] = useState(false);\n\n  const handleOpen = () => setOpen(true);\n  const handleClose = () => setOpen(false);\n\n  return (\n    <div>\n      <IconButton onClick={() => handleOpen()} size=\"small\">\n        <Search />\n      </IconButton>\n      <Dialog\n        maxWidth=\"md\"\n        fullWidth\n        open={open}\n        onClose={(_, reason) => {\n          if (reason !== \"backdropClick\") {\n            handleClose();\n          }\n        }}\n        TransitionComponent={Transition}\n      >\n        <DialogTitle>\n          <Box style={{ display: \"flex\" }}>\n            <Typography variant=\"h6\">Selecionar venta</Typography>\n            <Box flexGrow={1} />\n            <Button\n              variant=\"contained\"\n              color=\"secondary\"\n              size=\"large\"\n              onClick={() => handleClose()}\n            >\n              <Close />\n            </Button>\n          </Box>\n        </DialogTitle>\n        <DialogContent>\n          <ComponentBusquedaVenta handleClose={handleClose} />\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={() => handleClose()}>Cancelar</Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n}\n\nconst ComponentBusquedaVenta = ({ handleClose }) => {\n  const [filtro, setFiltro] = useState(\"\");\n\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n  const [open_productos, setOpenProductos] = useState(false);\n  const [productos_sin_clave, setProductosSinClave] = useState([]);\n\n  const openProductosClaves = () => setOpenProductos(true);\n  const closeProductosClaves = () => setOpenProductos(false);\n\n  const [value] = useDebounce(filtro, 500);\n\n  /* Queries */\n  const resultado_ventas = useQuery(OBTENER_VENTAS_SUCURSAL, {\n    variables: {\n      empresa: sesion.empresa._id,\n      sucursal: sesion.sucursal._id,\n      filtro: value,\n    },\n    fetchPolicy: \"network-only\",\n  });\n\n  return (\n    <Fragment>\n      <ProductosSinClaveSat\n        productos={productos_sin_clave}\n        open={open_productos}\n        handleClose={closeProductosClaves}\n      />\n      <Box mb={2}>\n        <Grid container spacing={2}>\n          <Grid item sm={8} xs={12}>\n            <TextField\n              fullWidth\n              size=\"small\"\n              placeholder=\"Buscar por: Folio, cliente, clave o nombre\"\n              variant=\"outlined\"\n              onChange={(e) => setFiltro(e.target.value)}\n              value={filtro}\n            />\n          </Grid>\n          <Grid item sm={4} xs={12}>\n            <TextField\n              fullWidth\n              size=\"small\"\n              variant=\"outlined\"\n              type=\"date\"\n              onChange={(e) => setFiltro(e.target.value)}\n            />\n          </Grid>\n        </Grid>\n      </Box>\n      <Box my={1}>\n        <Alert severity=\"info\">\n          Para seleccionar una venta haz un doble click!\n        </Alert>\n      </Box>\n      <RenderLista\n        resultado_ventas={resultado_ventas}\n        handleClose={handleClose}\n        setProductosSinClave={setProductosSinClave}\n        openProductosClaves={openProductosClaves}\n      />\n    </Fragment>\n  );\n};\n\nconst RenderLista = ({\n  resultado_ventas,\n  handleClose,\n  setProductosSinClave,\n  openProductosClaves,\n}) => {\n  const classes = useStyles();\n  const [selected, setSelected] = useState(\"\");\n  const { setVentaFactura, setProductos } = useContext(FacturacionCtx);\n  const { loading, data, error } = resultado_ventas;\n\n  if (loading)\n    return (\n      <Box\n        display=\"flex\"\n        justifyContent=\"center\"\n        alignItems=\"center\"\n        height=\"50vh\"\n      >\n        <CircularProgress />\n      </Box>\n    );\n  if (error) {\n    return <ErrorPage />;\n  }\n\n  const { obtenerVentasSucursal } = data;\n\n  const obtenerVenta = (click, data) => {\n    setSelected(data.folio);\n    if (click === 2) {\n      console.log(data);\n      const without_sat_code = data.productos.filter(\n        (res) => !res.id_producto.datos_generales.clave_producto_sat.Value\n      );\n\n      if (without_sat_code.length > 0) {\n        setProductosSinClave(without_sat_code);\n        openProductosClaves();\n        return;\n      }\n\n      const { productos, ...venta } = {...data}\n      const productos_base = [...data.productos]\n      setVentaFactura(venta);\n      setProductos(productos_base);\n      handleClose();\n    }\n  };\n\n  return (\n    <Paper variant=\"outlined\">\n      <TableContainer className={classes.container}>\n        <Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n          <TableHead>\n            <TableRow>\n              <TableCell>Folio</TableCell>\n              <TableCell>Cliente</TableCell>\n              <TableCell>Usuario</TableCell>\n              <TableCell>Caja</TableCell>\n              <TableCell>Descuento</TableCell>\n              <TableCell>Subtotal</TableCell>\n              <TableCell>Impuestos</TableCell>\n              <TableCell>Total</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {obtenerVentasSucursal.map((data, index) => {\n              return (\n                <TableRow\n                  key={index}\n                  hover\n                  role=\"checkbox\"\n                  tabIndex={-1}\n                  selected={data.folio === selected}\n                  onClick={(e) => obtenerVenta(e.detail, data)}\n                >\n                  <TableCell>{data.folio}</TableCell>\n                  <TableCell>\n                    {data.cliente !== null ? data.cliente.nombre_cliente : \"-\"}\n                  </TableCell>\n                  <TableCell>{data.usuario.nombre}</TableCell>\n                  <TableCell>{data.id_caja.numero_caja}</TableCell>\n                  <TableCell>\n                    ${data.descuento ? formatoMexico(data.descuento) : 0}\n                  </TableCell>\n                  <TableCell>${formatoMexico(data.subTotal)}</TableCell>\n                  <TableCell>${formatoMexico(data.impuestos)}</TableCell>\n                  <TableCell>${formatoMexico(data.total)}</TableCell>\n                </TableRow>\n              );\n            })}\n          </TableBody>\n        </Table>\n      </TableContainer>\n    </Paper>\n  );\n};\n","import React from \"react\";\nimport Facturama from \"../../../../../billing/Facturama/facturama.api\";\nimport { CircularProgress, InputAdornment, TextField } from \"@material-ui/core\";\nimport { FacturacionCtx } from \"../../../../../context/Facturacion/facturacionCtx\";\nimport { useDebounce } from \"use-debounce/lib\";\nimport { CheckCircle, Error } from \"@material-ui/icons\";\n\nexport default function CodigoPostal() {\n  const [loading, setLoading] = React.useState(false);\n  const {\n    cp_valido,\n    setCPValido,\n    codigo_postal,\n    setCodigoPostal,\n    error_validation,\n  } = React.useContext(FacturacionCtx);\n  const [value, setValue] = React.useState(\"\");\n\n  const [CP] = useDebounce(value, 500);\n\n  const obtenerCodigoPostal = React.useCallback(async (codigo_postal) => {\n    if (!codigo_postal) return;\n    try {\n      setLoading(true);\n      const result = await Facturama.Catalogs.PostalCodes(\n        codigo_postal,\n        function (result) {\n          return result;\n        }\n      );\n\n      if (result) {\n        setCPValido(true);\n        setLoading(false);\n        setCodigoPostal(result[0].Value);\n      }\n    } catch (error) {\n      setLoading(false);\n      setCPValido(false);\n      setCodigoPostal(\"\");\n    }\n  }, []);\n\n  React.useEffect(() => {\n    obtenerCodigoPostal(CP);\n  }, [CP]);\n\n  return (\n    <React.Fragment>\n      {/* <Typography>Código Postal:</Typography> */}\n      <form onSubmit={obtenerCodigoPostal}>\n        <TextField\n          fullWidth\n          name=\"expedition_place\"\n          size=\"small\"\n          variant=\"outlined\"\n          value={value}\n          label=\"Código postal\"\n          onChange={(e) => setValue(e.target.value)}\n          InputProps={{\n            endAdornment: (\n              <InputAdornment position=\"end\">\n                {value ? (\n                  loading ? (\n                    <CircularProgress size={20} />\n                  ) : cp_valido ? (\n                    <CheckCircle color=\"primary\" />\n                  ) : (\n                    <Error color=\"error\" />\n                  )\n                ) : (\n                  <div />\n                )}\n              </InputAdornment>\n            ),\n          }}\n          /* error={value ? cp_valido ? false : true : false}\n          helperText={value ? cp_valido ? \"\" : \"Introduce un CP valido\" : \"\"} */\n\n          error={\n            error_validation.status && !value\n              ? true\n              : value\n              ? cp_valido\n                ? false\n                : true\n              : false\n          }\n          helperText={\n            error_validation.status && !value\n              ? error_validation.message\n              : value\n              ? cp_valido\n                ? \"\"\n                : \"Introduce un CP valido\"\n              : \"\"\n          }\n        />\n      </form>\n    </React.Fragment>\n  );\n}\n","import React, { Fragment, useContext, useState } from \"react\";\nimport Box from \"@material-ui/core/Box\";\nimport Button from \"@material-ui/core/Button\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Slide from \"@material-ui/core/Slide\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport { makeStyles } from \"@material-ui/core\";\nimport { Close, Error, Search } from \"@material-ui/icons\";\nimport ErrorPage from \"../../../../components/ErrorPage\";\nimport { useQuery } from \"@apollo/client\";\nimport { OBTENER_CLIENTES } from \"../../../../gql/Catalogos/clientes\";\nimport { FacturacionCtx } from \"../../../../context/Facturacion/facturacionCtx\";\nimport CrearCliente from \"../../Catalogos/Cliente/CrearCliente\";\nimport { ClienteProvider } from \"../../../../context/Catalogos/crearClienteCtx\";\nimport { Alert } from \"@material-ui/lab\";\nimport { useDebounce } from \"use-debounce\";\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nconst useStyles = makeStyles((theme) => ({\n  container: {\n    height: \"50vh\",\n  },\n}));\n\nexport default function ListaClientesFacturas() {\n  const [open, setOpen] = useState(false);\n\n  const handleOpen = () => setOpen(true);\n  const handleClose = () => setOpen(false);\n\n  return (\n    <div>\n      <IconButton onClick={() => handleOpen()} size=\"small\">\n        <Search />\n      </IconButton>\n      <Dialog\n        maxWidth=\"md\"\n        fullWidth\n        open={open}\n        onClose={(_, reason) => {\n          if (reason !== \"backdropClick\") {\n            handleClose();\n          }\n        }}\n        TransitionComponent={Transition}\n      >\n        <DialogTitle>\n          <Box style={{ display: \"flex\" }}>\n            <Typography variant=\"h6\">Selecionar cliente</Typography>\n            <Box flexGrow={1} />\n            <Button\n              variant=\"contained\"\n              color=\"secondary\"\n              size=\"large\"\n              onClick={() => handleClose()}\n            >\n              <Close />\n            </Button>\n          </Box>\n        </DialogTitle>\n        <DialogContent>\n          <BuscadorClienteComponent handleClose={handleClose} />\n        </DialogContent>\n        <DialogActions>\n          <Button size=\"large\" onClick={() => handleClose()}>\n            Cancelar\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n}\n\nconst BuscadorClienteComponent = ({ handleClose }) => {\n  const [filtro, setFiltro] = useState(\"\");\n  const [openAlertRfc, setOpenAlertRfc] = useState(false);\n\n  const [value] = useDebounce(filtro, 500);\n\n  /* Queries */\n  const resultado_clientes = useQuery(OBTENER_CLIENTES, {\n    variables: { tipo: \"CLIENTE\", filtro: value },\n    fetchPolicy: \"network-only\",\n  });\n\n  const handleCloseAlertRFC = () => {\n    setOpenAlertRfc(false);\n  };\n  const openAlertRFC = () => {\n    setOpenAlertRfc(true);\n  };\n\n  return (\n    <Fragment>\n      <ClienteProvider>\n        <Dialog\n          open={openAlertRfc}\n          TransitionComponent={Transition}\n          keepMounted\n          onClose={(_, reason) => {\n            if (reason !== \"backdropClick\") {\n              handleCloseAlertRFC();\n            }\n          }}\n        >\n          <DialogContent>\n            <Alert severity=\"info\">\n              Deber registrar un RFC y RAZON SOCIAL a este cliente.\n            </Alert>\n          </DialogContent>\n          <DialogActions>\n            <Button onClick={() => handleCloseAlertRFC()} color=\"primary\">\n              Aceptar\n            </Button>\n          </DialogActions>\n        </Dialog>\n        <Box mb={2} display=\"flex\" alignItems=\"center\">\n          <TextField\n            fullWidth\n            size=\"small\"\n            placeholder=\"Buscar por: Numero de cliente, clave o nombre\"\n            variant=\"outlined\"\n            onChange={(e) => setFiltro(e.target.value)}\n            value={filtro}\n          />\n          <CrearCliente\n            tipo=\"CLIENTE\"\n            accion=\"registrar\"\n            refetch={resultado_clientes.refetch}\n          />\n        </Box>\n        <Box my={1}>\n          <Alert severity=\"info\">\n            Para seleccionar un cliente haz un doble click!\n          </Alert>\n        </Box>\n        <RenderListClientes\n          handleClose={handleClose}\n          resultado_clientes={resultado_clientes}\n          openAlertRFC={openAlertRFC}\n        />\n      </ClienteProvider>\n    </Fragment>\n  );\n};\n\nconst RenderListClientes = ({\n  handleClose,\n  resultado_clientes,\n  openAlertRFC,\n}) => {\n  const classes = useStyles();\n  const [selected, setSelected] = useState(\"\");\n  const { datosFactura, setDatosFactura } = useContext(FacturacionCtx);\n\n  const { loading, data, error, refetch } = resultado_clientes;\n\n  if (loading)\n    return (\n      <Box\n        display=\"flex\"\n        justifyContent=\"center\"\n        alignItems=\"center\"\n        height=\"50vh\"\n      >\n        <CircularProgress />\n      </Box>\n    );\n  if (error) {\n    return <ErrorPage />;\n  }\n\n  const { obtenerClientes } = data;\n\n  const obtenerClienteTabla = (click, row) => {\n    setSelected(row.nombre_cliente);\n    if (click === 2) {\n      if (!row.rfc) {\n        openAlertRFC();\n        return;\n      }\n      setDatosFactura({\n        ...datosFactura,\n        receiver: {\n          ...datosFactura.receiver,\n          Name: row.nombre_cliente,\n          Rfc: row.rfc,\n        },\n      });\n      handleClose();\n    }\n  };\n\n  return (\n    <Paper variant=\"outlined\">\n      <TableContainer className={classes.container}>\n        <Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n          <TableHead>\n            <TableRow>\n              <TableCell minwidth=\"100\">No. Cliente</TableCell>\n              <TableCell minwidth=\"100\">Clave</TableCell>\n              <TableCell minwidth=\"150\">Nombre</TableCell>\n              <TableCell minwidth=\"150\">Razon Social</TableCell>\n              <TableCell minwidth=\"150\">RFC</TableCell>\n              <TableCell minwidth=\"150\">Editar Cliente</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {obtenerClientes.map((row, index) => {\n              return (\n                <TableRow\n                  key={index}\n                  hover\n                  role=\"checkbox\"\n                  tabIndex={-1}\n                  onClick={(e) => obtenerClienteTabla(e.detail, row)}\n                  selected={row.nombre_cliente === selected}\n                >\n                  <TableCell>\n                    <Typography>{row.numero_cliente}</Typography>\n                  </TableCell>\n                  <TableCell>\n                    <Typography>{row.clave_cliente}</Typography>\n                  </TableCell>\n                  <TableCell>\n                    <Typography>{row.nombre_cliente}</Typography>\n                  </TableCell>\n                  <TableCell>\n                    <Typography>{row.razon_social}</Typography>\n                  </TableCell>\n                  <TableCell>\n                    <Typography>\n                      {row.rfc ? row.rfc : <Error color=\"primary\" />}\n                    </Typography>\n                  </TableCell>\n                  <TableCell>\n                    <CrearCliente\n                      tipo=\"CLIENTE\"\n                      accion=\"actualizar\"\n                      datos={row}\n                      refetch={refetch}\n                    />\n                  </TableCell>\n                </TableRow>\n              );\n            })}\n          </TableBody>\n        </Table>\n      </TableContainer>\n    </Paper>\n  );\n};\n","import React, { useContext, useEffect } from \"react\";\nimport Box from \"@material-ui/core/Box\";\nimport Divider from \"@material-ui/core/Divider\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport FormHelperText from \"@material-ui/core/FormHelperText\";\nimport Grid from \"@material-ui/core/Grid\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Typography from \"@material-ui/core/Typography\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Select from \"@material-ui/core/Select\";\nimport ListaVentasFactura from \"./ListaVentas/ListaVentasFactura.js\";\nimport { FacturacionCtx } from \"../../../../context/Facturacion/facturacionCtx.js\";\nimport CodigosPostales from \"./Catalogos/CodigoPostal.js\";\nimport { tipoCambio, tiposCfdi } from \"../catalogos\";\nimport ListaClientesFacturas from \"./ClientesSelect.js\";\n\nexport default function RegistroFactura({ serie_default }) {\n  const { datosFactura, setDatosFactura, error_validation, venta_factura } = useContext(\n    FacturacionCtx\n  );\n\n  useEffect(() => {\n    const { folio, serie } = serie_default[0];\n    setDatosFactura({ ...datosFactura, folio: folio.toString(), serie });\n  }, []);\n\n  const obtenerDatos = (e) => {\n    const { name, value } = e.target;\n    console.log(name, value);\n    setDatosFactura({\n      ...datosFactura,\n      [name]: value,\n    });\n  };\n\n  return (\n    <div>\n      <Grid container spacing={5}>\n        <Grid item md={6} xs={12}>\n          <Box mb={1}>\n            <Typography>\n              <b>{`Emisor: ${datosFactura.issuer.Name}`}</b>\n            </Typography>\n            <Divider />\n          </Box>\n          <Grid container spacing={2}>\n            <Grid item md={4} xs={12}>\n              <Typography>RFC</Typography>\n              <TextField\n                size=\"small\"\n                variant=\"outlined\"\n                fullWidth\n                value={datosFactura.issuer.Rfc}\n                disabled\n                error={error_validation.status && !datosFactura.issuer.Rfc}\n                helperText={\n                  error_validation.status && !datosFactura.issuer.Rfc\n                    ? error_validation.message\n                    : \"\"\n                }\n              />\n            </Grid>\n            <Grid item md={4} xs={12}>\n              <Typography>Regimen fiscal</Typography>\n              <FormControl fullWidth size=\"small\" variant=\"outlined\">\n                <TextField\n                  size=\"small\"\n                  variant=\"outlined\"\n                  fullWidth\n                  value={datosFactura.issuer.FiscalRegime}\n                  disabled\n                  error={\n                    error_validation.status && !datosFactura.issuer.FiscalRegime\n                  }\n                  helperText={\n                    error_validation.status && !datosFactura.issuer.FiscalRegime\n                      ? error_validation.message\n                      : \"\"\n                  }\n                />\n              </FormControl>\n            </Grid>\n          </Grid>\n        </Grid>\n        <Grid item md={6} xs={12}>\n          <Box mb={1}>\n            <Typography>\n              <b>Receptor</b>\n            </Typography>\n            <Divider />\n          </Box>\n          <Grid container spacing={2}>\n            <Grid item md={4} xs={12}>\n              <Typography>Cliente</Typography>\n              <TextField\n                value={datosFactura.receiver.Name}\n                placeholder=\"Selecciona un cliente\"\n                fullWidth\n                size=\"small\"\n                variant=\"outlined\"\n                InputProps={{\n                  endAdornment: (\n                    <InputAdornment position=\"end\">\n                      <ListaClientesFacturas />\n                    </InputAdornment>\n                  ),\n                  readOnly: true,\n                  disabled: true,\n                }}\n                error={error_validation.status && !datosFactura.receiver.Name}\n                helperText={\n                  error_validation.status && !datosFactura.receiver.Name\n                    ? error_validation.message\n                    : \"\"\n                }\n              />\n            </Grid>\n            <Grid item md={4} xs={12}>\n              <Typography>RFC</Typography>\n              <TextField\n                size=\"small\"\n                variant=\"outlined\"\n                fullWidth\n                value={datosFactura.receiver.Rfc}\n                disabled\n                error={error_validation.status && !datosFactura.receiver.Rfc}\n                helperText={\n                  error_validation.status && !datosFactura.receiver.Rfc\n                    ? error_validation.message\n                    : \"\"\n                }\n              />\n            </Grid>\n          </Grid>\n        </Grid>\n      </Grid>\n\n      <Box mt={1} mb={2}>\n        <Typography>\n          <b>Datos factura</b>\n        </Typography>\n        <Divider />\n      </Box>\n      <Grid container spacing={2}>\n        <Grid item xs={12} sm={4} md={3}>\n          <TextField\n            value={datosFactura.cliente}\n            placeholder=\"Selecciona venta a facturar\"\n            fullWidth\n            size=\"small\"\n            label=\"Folio Venta\"\n            variant=\"outlined\"\n            InputProps={{\n              endAdornment: (\n                <InputAdornment position=\"end\">\n                  <ListaVentasFactura />\n                </InputAdornment>\n              ),\n              readOnly: true,\n              disabled: true,\n            }}\n            value={venta_factura ? venta_factura.folio : ''}\n          />\n        </Grid>\n        <Grid item xs={12} sm={4} md={1}>\n          <TextField\n            value={datosFactura.folio}\n            label=\"Folio\"\n            fullWidth\n            size=\"small\"\n            variant=\"outlined\"\n            disabled\n            error={error_validation.status && !datosFactura.folio}\n            helperText={\n              error_validation.status && !datosFactura.folio\n                ? error_validation.message\n                : \"\"\n            }\n          />\n        </Grid>\n        <Grid item xs={12} sm={4} md={1}>\n          <TextField\n            value={datosFactura.serie}\n            label=\"Serie\"\n            fullWidth\n            size=\"small\"\n            variant=\"outlined\"\n            disabled\n            error={error_validation.status && !datosFactura.serie}\n            helperText={\n              error_validation.status && !datosFactura.serie\n                ? error_validation.message\n                : \"\"\n            }\n          />\n        </Grid>\n        <Grid item xs={12} sm={4} md={2}>\n          <FormControl\n            variant=\"outlined\"\n            fullWidth\n            size=\"small\"\n            name=\"cfdi_type\"\n            error={error_validation.status && !datosFactura.cfdi_type}\n          >\n            <InputLabel id=\"cfdi_type\">Tipo de CFDI</InputLabel>\n            <Select\n              labelId=\"cfdi_type\"\n              value={datosFactura.cfdi_type}\n              name=\"cfdi_type\"\n              onChange={obtenerDatos}\n              label=\"tipo de CFDI\"\n            >\n              <MenuItem value=\"\">\n                <em>Selecciona uno</em>\n              </MenuItem>\n              {tiposCfdi.map((res, index) => (\n                <MenuItem\n                  key={index}\n                  value={res.Value}\n                >{`${res.Value} - ${res.Name}`}</MenuItem>\n              ))}\n            </Select>\n            <FormHelperText>\n              {error_validation.status && !datosFactura.cfdi_type\n                ? error_validation.message\n                : \"\"}\n            </FormHelperText>\n          </FormControl>\n        </Grid>\n        <Grid item xs={12} sm={4} md={2}>\n          <FormControl\n            variant=\"outlined\"\n            fullWidth\n            size=\"small\"\n            name=\"currency\"\n            error={error_validation.status && !datosFactura.currency}\n          >\n            <InputLabel id=\"moneda\">Moneda</InputLabel>\n            <Select\n              labelId=\"moneda\"\n              value={datosFactura.currency}\n              name=\"currency\"\n              onChange={obtenerDatos}\n              label=\"moneda\"\n            >\n              <MenuItem value=\"\">\n                <em>Selecciona uno</em>\n              </MenuItem>\n              {tipoCambio.map((res, index) => (\n                <MenuItem\n                  key={index}\n                  value={res.Value}\n                >{`${res.Value} - ${res.Name}`}</MenuItem>\n              ))}\n            </Select>\n            <FormHelperText>\n              {error_validation.status && !datosFactura.currency\n                ? error_validation.message\n                : \"\"}\n            </FormHelperText>\n          </FormControl>\n        </Grid>\n        <Grid item xs={12} sm={4} md={3}>\n          <CodigosPostales />\n        </Grid>\n      </Grid>\n    </div>\n  );\n}\n","import React, { useContext, useState } from \"react\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport Table from \"@material-ui/core/Table\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport Slide from \"@material-ui/core/Slide\";\nimport Box from \"@material-ui/core/Box\";\nimport Divider from \"@material-ui/core/Divider\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { Close, Edit } from \"@material-ui/icons\";\nimport {\n  calculatePrices2,\n  formatoMexico,\n} from \"../../../../../config/reuserFunctions\";\nimport { FacturacionCtx } from \"../../../../../context/Facturacion/facturacionCtx\";\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function ModificarProductoFactura({ venta, producto, index }) {\n  const [open, setOpen] = useState(false);\n  const { setVentaFactura, setProductos, productos } = useContext(\n    FacturacionCtx\n  );\n\n  const [producto_base, setProductoBase] = useState({ ...producto });\n  const [venta_base, setVentaBase] = useState({ ...venta });\n\n  const [cantidad_base, setCantidad] = useState(producto_base.cantidad_venta);\n  const [precio_base, setPrecio] = useState(\n    producto_base.precio_actual_object.precio_neto\n  );\n  const [error, setError] = useState(false);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const handleCancel = () => {\n    handleClose();\n    setProductoBase(producto);\n    setVentaBase(venta);\n    setCantidad(producto.cantidad_venta);\n    setPrecio(producto.precio_actual_object.precio_neto);\n  };\n\n  const obtenerDatos = async (e) => {\n    const { name, value } = e.target;\n    if (name === \"cantidad_venta\") {\n      setCantidad(value);\n    } else {\n      setPrecio(value);\n    }\n    if (!value) return;\n    //##################\n    let venta_copy = { ...venta_base };\n    let copy_producto = { ...producto_base };\n    let { precio_actual_object, cantidad_venta, granel_producto } = {\n      ...copy_producto,\n    };\n\n    const { precios } = { ...copy_producto.id_producto };\n    //meter el precio original para restalo a la venta\n    const resta_base = await calculatePrices2({\n      newP: copy_producto,\n      cantidad: cantidad_venta,\n      granel: granel_producto,\n      precio_boolean: true,\n      precio: precio_actual_object,\n    });\n    //restal resultados a la venta\n\n    venta_copy.iva = venta_copy.iva - resta_base.ivaCalculo;\n    venta_copy.ieps = venta_copy.ieps - resta_base.iepsCalculo;\n    venta_copy.impuestos = venta_copy.impuestos - resta_base.impuestoCalculo;\n    venta_copy.subTotal = venta_copy.subTotal - resta_base.subtotalCalculo;\n    venta_copy.total = venta_copy.total - resta_base.totalCalculo;\n    venta_copy.monedero = venta_copy.monedero - resta_base.monederoCalculo;\n\n    //realizar calculos de cantidad\n    //meter el precio nuevo para sumarlo a la venta\n    let suma_nuevo;\n\n    if (name === \"cantidad_venta\") {\n      suma_nuevo = await calculatePrices2({\n        newP: copy_producto,\n        cantidad: parseFloat(value),\n        granel: granel_producto,\n        precio_boolean: true,\n        precio: precio_actual_object,\n      });\n      copy_producto.cantidad_venta = parseFloat(value);\n      setProductoBase({ ...copy_producto, [name]: parseFloat(value) });\n    } else {\n      const precio_neto = parseFloat(value);\n      //sacar impuestos\n      const { iva, ieps } = precios;\n\n      let suma_impuestos =\n        parseFloat(`0.${iva < 10 ? `0${iva}` : iva}`) +\n        parseFloat(`0.${ieps < 10 ? `0${ieps}` : ieps}`);\n\n      //sacar precio_venta\n      let PVCI = parseFloat((precio_neto / cantidad_venta).toFixed(2));\n      let PVSI = parseFloat((PVCI / (suma_impuestos + 1)).toFixed(2));\n\n      //sacar iva e ieps\n      let iva_precio = parseFloat(\n        PVSI * parseFloat(`0.${iva < 10 ? `0${iva}` : iva}`).toFixed(2)\n      );\n      let ieps_precio = parseFloat(\n        PVSI * parseFloat(`0.${ieps < 10 ? `0${ieps}` : ieps}`).toFixed(2)\n      );\n      //sacar utilidad\n      let PCSI = precios.unidad_de_compra.precio_unitario_sin_impuesto;\n      let utilidad = parseFloat((((PVSI - PCSI) / PCSI) * 100).toFixed(2));\n      let precios_nuevos = { ...precio_actual_object };\n\n      let impuestos_precio = ieps_precio + iva_precio;\n\n      precios_nuevos.ieps_precio = ieps_precio;\n      precios_nuevos.iva_precio = iva_precio;\n      precios_nuevos.precio_venta = PVSI;\n      precios_nuevos.precio_neto = PVCI;\n      precios_nuevos.utilidad = utilidad;\n      if (precio_actual_object.unidad_maxima) {\n        precio_actual_object.precio_general = precio_neto;\n      }\n\n      suma_nuevo = await calculatePrices2({\n        newP: copy_producto,\n        cantidad: cantidad_venta,\n        granel: granel_producto,\n        precio_boolean: true,\n        precio: precios_nuevos,\n      });\n      setProductoBase({\n        ...copy_producto,\n        precio_actual_object: precios_nuevos,\n        ieps_total: precios_nuevos.ieps_precio * cantidad_base,\n        iva_total: precios_nuevos.iva_precio * cantidad_base,\n        precio_a_vender: precios_nuevos.precio_neto * cantidad_base,\n        precio_actual_producto: precios_nuevos.precio_neto * cantidad_base,\n        subtotal: precios_nuevos.precio_venta * cantidad_base,\n        impuestos: impuestos_precio * cantidad_base,\n        total: precios_nuevos.precio_neto * cantidad_base,\n      });\n    }\n    //sumar resultados a la venta\n    venta_copy.iva = venta_copy.iva + suma_nuevo.ivaCalculo;\n    venta_copy.ieps = venta_copy.ieps + suma_nuevo.iepsCalculo;\n    venta_copy.impuestos = venta_copy.impuestos + suma_nuevo.impuestoCalculo;\n    venta_copy.subTotal = venta_copy.subTotal + suma_nuevo.subtotalCalculo;\n    venta_copy.total = venta_copy.total + suma_nuevo.totalCalculo;\n    venta_copy.monedero = venta_copy.monedero + suma_nuevo.monederoCalculo;\n    setVentaBase(venta_copy);\n  };\n\n  const verificarCampoVacio = (value) => {\n    if (!value) {\n      setError(true);\n    } else {\n      setError(false);\n    }\n  };\n\n  const guardarPrecios = () => {\n    if (error) return;\n    const copy_array_productos = [...productos];\n    copy_array_productos.splice(index, 1, producto_base);\n    setVentaFactura(venta_base);\n    setProductos(copy_array_productos);\n    handleClose();\n  };\n\n  return (\n    <div>\n      <IconButton size=\"small\" onClick={handleClickOpen}>\n        <Edit />\n      </IconButton>\n      <Dialog\n        open={open}\n        TransitionComponent={Transition}\n        keepMounted\n        onClose={(_, reason) => {\n          if (reason !== \"backdropClick\") {\n            handleClose();\n          }\n        }}\n        fullWidth\n        maxWidth=\"md\"\n      >\n        <DialogTitle>\n          <Box style={{ display: \"flex\" }}>\n            <Typography variant=\"h6\">\n              {producto_base.id_producto.datos_generales.nombre_comercial}\n            </Typography>\n            <Box flexGrow={1} />\n            <Button\n              variant=\"contained\"\n              color=\"secondary\"\n              size=\"large\"\n              onClick={() => handleCancel()}\n            >\n              <Close />\n            </Button>\n          </Box>\n        </DialogTitle>\n        <DialogContent>\n          <Box mb={2}>\n            <Box mb={2}>\n              <Typography>\n                <b>Producto</b>\n              </Typography>\n              <TableContainer>\n                <Table size=\"small\" aria-label=\"a dense table\">\n                  <TableHead>\n                    <TableRow>\n                      <TableCell style={{ width: 50 }}>Cantidad</TableCell>\n                      <TableCell style={{ width: 50 }}>Precio</TableCell>\n                      <TableCell style={{ width: 100 }}>Subtotal</TableCell>\n                      <TableCell style={{ width: 100 }}>Impuestos</TableCell>\n                      <TableCell style={{ width: 100 }}>Total</TableCell>\n                    </TableRow>\n                  </TableHead>\n                  <TableBody>\n                    <TableRow tabIndex={-1}>\n                      <TableCell>\n                        <TextField\n                          variant=\"outlined\"\n                          size=\"small\"\n                          value={cantidad_base}\n                          type=\"number\"\n                          name=\"cantidad_venta\"\n                          InputProps={{\n                            startAdornment: (\n                              <InputAdornment position=\"start\">\n                                {producto_base.unidad}\n                              </InputAdornment>\n                            ),\n                          }}\n                          onChange={obtenerDatos}\n                          placeholder={\n                            producto ? producto.cantidad_venta.toString() : \"\"\n                          }\n                          onBlur={(e) => verificarCampoVacio(e.target.value)}\n                          error={error && !cantidad_base}\n                        />\n                      </TableCell>\n                      <TableCell>\n                        <TextField\n                          variant=\"outlined\"\n                          size=\"small\"\n                          value={precio_base}\n                          type=\"number\"\n                          name=\"precio_neto\"\n                          InputProps={{\n                            startAdornment: (\n                              <InputAdornment position=\"start\">\n                                $\n                              </InputAdornment>\n                            ),\n                          }}\n                          onChange={obtenerDatos}\n                          placeholder={producto.precio_actual_object.precio_neto.toString()}\n                          onBlur={(e) => verificarCampoVacio(e.target.value)}\n                          error={error && !precio_base}\n                        />\n                      </TableCell>\n                      <TableCell>\n                        ${formatoMexico(producto_base.subtotal)}\n                      </TableCell>\n                      <TableCell>\n                        ${formatoMexico(producto_base.impuestos)}\n                      </TableCell>\n                      <TableCell>\n                        ${formatoMexico(producto_base.total)}\n                      </TableCell>\n                    </TableRow>\n                  </TableBody>\n                </Table>\n              </TableContainer>\n            </Box>\n          </Box>\n          <Box>\n            <Typography>\n              <b>Venta</b>\n            </Typography>\n          </Box>\n          <Divider />\n          <TableContainer>\n            <Table size=\"small\" aria-label=\"a dense table\">\n              <TableHead>\n                <TableRow>\n                  <TableCell style={{ width: 50 }}>IVA</TableCell>\n                  <TableCell style={{ width: 50 }}>IEPS</TableCell>\n                  <TableCell style={{ width: 100 }}>Subtotal</TableCell>\n                  <TableCell style={{ width: 100 }}>Impuestos</TableCell>\n                  <TableCell style={{ width: 100 }}>Total</TableCell>\n                </TableRow>\n              </TableHead>\n              <TableBody>\n                <TableRow tabIndex={-1}>\n                  <TableCell>\n                    <b>${formatoMexico(venta_base.iva)}</b>\n                  </TableCell>\n                  <TableCell>\n                    <b>${formatoMexico(venta_base.ieps)}</b>\n                  </TableCell>\n                  <TableCell>\n                    <b> ${formatoMexico(venta_base.subTotal)}</b>\n                  </TableCell>\n                  <TableCell>\n                    <b>${formatoMexico(venta_base.impuestos)}</b>\n                  </TableCell>\n                  <TableCell>\n                    <b> ${formatoMexico(venta_base.total)}</b>\n                  </TableCell>\n                </TableRow>\n              </TableBody>\n            </Table>\n          </TableContainer>\n        </DialogContent>\n        <DialogActions>\n          <Button\n            onClick={() => guardarPrecios()}\n            variant=\"contained\"\n            color=\"primary\"\n          >\n            Guardar\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n}\n","import React from \"react\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport Table from \"@material-ui/core/Table\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport Slide from \"@material-ui/core/Slide\";\nimport {\n  calculatePrices2,\n  formatoMexico,\n} from \"../../../../../config/reuserFunctions\";\nimport { useState } from \"react\";\nimport { Close } from \"@material-ui/icons\";\nimport { useContext } from \"react\";\nimport { FacturacionCtx } from \"../../../../../context/Facturacion/facturacionCtx\";\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function EliminarProductoFactura({ venta, producto, index }) {\n  const [open, setOpen] = useState(false);\n  const { setVentaFactura, setProductos, productos } = useContext(FacturacionCtx);\n  const { datos_generales } = producto.id_producto;\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const handleDelete = async () => {\n    const copy_venta = { ...venta };\n    const copy_productos = [ ...productos];\n    const { cantidad_venta, granel_producto, precio_actual_object } = producto;\n    const { iva, ieps, impuestos, subTotal, total, monedero } = copy_venta;\n    //devuelve cantidades a restar\n    const precio_resta = await calculatePrices2({\n      newP: producto,\n      cantidad: cantidad_venta,\n      granel: granel_producto,\n      precio_boolean: true,\n      precio: precio_actual_object,\n    });\n    //Restar precios a venta\n    console.log(precio_resta);\n    const {\n      ivaCalculo,\n      iepsCalculo,\n      impuestoCalculo,\n      subtotalCalculo,\n      totalCalculo,\n      monederoCalculo,\n    } = precio_resta;\n\n    copy_venta.iva = iva - ivaCalculo;\n    copy_venta.ieps = ieps - iepsCalculo;\n    copy_venta.impuestos = impuestos - impuestoCalculo;\n    copy_venta.subTotal = subTotal - subtotalCalculo;\n    copy_venta.total = total - totalCalculo;\n    copy_venta.monedero = monedero - monederoCalculo;\n\n    //remover de la lista\n    copy_productos.splice(index, 1);\n    setVentaFactura(copy_venta);\n    setProductos(copy_productos);\n    handleClose();\n  };\n\n  return (\n    <div>\n      <IconButton size=\"small\" onClick={handleClickOpen}>\n        <Close />\n      </IconButton>\n      <Dialog\n        open={open}\n        TransitionComponent={Transition}\n        keepMounted\n        onClose={(_, reason) => {\n          if (reason !== \"backdropClick\") {\n            handleClose();\n          }\n        }}\n      >\n        <DialogTitle>¿Está seguro de eliminar este producto?</DialogTitle>\n        <DialogContent>\n          <TableContainer>\n            <Table size=\"small\" aria-label=\"a dense table\">\n              <TableHead>\n                <TableRow>\n                  <TableCell style={{ width: 100 }}>Producto</TableCell>\n                  <TableCell style={{ width: 50 }}>Cantidad</TableCell>\n                  <TableCell style={{ width: 100 }}>Subtotal</TableCell>\n                  <TableCell style={{ width: 100 }}>Impuestos</TableCell>\n                  <TableCell style={{ width: 100 }}>Total</TableCell>\n                </TableRow>\n              </TableHead>\n              <TableBody>\n                <TableRow tabIndex={-1}>\n                  <TableCell>{datos_generales.nombre_comercial}</TableCell>\n                  <TableCell>{producto.cantidad_venta}</TableCell>\n                  <TableCell>\n                    ${formatoMexico(producto.subtotal)}\n                  </TableCell>\n                  <TableCell>\n                    ${formatoMexico(producto.impuestos)}\n                  </TableCell>\n                  <TableCell>\n                    ${formatoMexico(producto.total)}\n                  </TableCell>\n                </TableRow>\n              </TableBody>\n            </Table>\n          </TableContainer>\n        </DialogContent>\n        <DialogActions style={{ justifyContent: \"center\" }}>\n          <Button onClick={() => handleClose()} color=\"inherit\">\n            Cancelar\n          </Button>\n          <Button onClick={() => handleDelete()} color=\"secondary\">\n            Eliminar\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n}\n","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport { Box, Typography } from \"@material-ui/core\";\nimport { formatoMexico } from \"../../../../../config/reuserFunctions\";\nimport ModificarProductoFactura from \"./EditarProductoFactura\";\nimport EliminarProductoFactura from \"./EliminarProductoFactura\";\nimport { useContext } from \"react\";\nimport { FacturacionCtx } from \"../../../../../context/Facturacion/facturacionCtx\";\n\nconst useStyles = makeStyles({\n  root: {\n    width: \"100%\",\n  },\n  container: {\n    height: \"36vh\",\n  },\n});\n\nexport default function DetallesFactura() {\n  const classes = useStyles();\n  const { venta_factura, productos } = useContext(FacturacionCtx);\n\n  if (!venta_factura) {\n    return null;\n  }\n\n  return (\n    <Paper className={classes.root} variant=\"elevation\">\n      <Box textAlign=\"center\">\n        <Typography variant=\"button\">Detalles de Venta</Typography>\n      </Box>\n      <TableContainer>\n        <Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n          <TableHead>\n            <TableRow>\n              <TableCell style={{ width: 250 }}>Folio</TableCell>\n              <TableCell style={{ width: 50 }}>Cliente</TableCell>\n              <TableCell style={{ width: 50 }}>Descuento</TableCell>\n              <TableCell style={{ width: 50 }}>IVA</TableCell>\n              <TableCell style={{ width: 50 }}>IEPS</TableCell>\n              <TableCell style={{ width: 100 }}>Subtotal</TableCell>\n              <TableCell style={{ width: 100 }}>Impuestos</TableCell>\n              <TableCell style={{ width: 100 }}>Total</TableCell>\n              <TableCell style={{ width: 50 }}>Usuario</TableCell>\n              <TableCell style={{ width: 50 }}>Caja</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <TableRow hover role=\"checkbox\" tabIndex={-1}>\n              <TableCell style={{ width: 200 }}>\n                {venta_factura.folio}\n              </TableCell>\n              <TableCell style={{ width: 50 }}>\n                {venta_factura.cliente !== null\n                  ? venta_factura.cliente.nombre_cliente\n                  : \"-\"}\n              </TableCell>\n              <TableCell style={{ width: 200 }}>\n                ${formatoMexico(venta_factura.descuento)}\n              </TableCell>\n              <TableCell style={{ width: 200 }}>\n                $\n                {venta_factura.iva\n                  ? formatoMexico(venta_factura.iva)\n                  : 0}\n              </TableCell>\n              <TableCell style={{ width: 200 }}>\n                $\n                {venta_factura.ieps\n                  ? formatoMexico(venta_factura.ieps)\n                  : 0}\n              </TableCell>\n              <TableCell style={{ width: 200 }}>\n                ${formatoMexico(venta_factura.subTotal)}\n              </TableCell>\n              <TableCell style={{ width: 200 }}>\n                ${formatoMexico(venta_factura.impuestos)}\n              </TableCell>\n              <TableCell style={{ width: 200 }}>\n                ${formatoMexico(venta_factura.total)}\n              </TableCell>\n              <TableCell style={{ width: 200 }}>\n                {venta_factura.usuario.nombre}\n              </TableCell>\n              <TableCell style={{ width: 200 }}>\n                {venta_factura.id_caja.numero_caja}\n              </TableCell>\n            </TableRow>\n          </TableBody>\n        </Table>\n      </TableContainer>\n      <Box textAlign=\"center\" mt={1}>\n        <Typography variant=\"button\">Productos de Venta</Typography>\n      </Box>\n      <TableContainer className={classes.container}>\n        <Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n          <TableHead>\n            <TableRow>\n              <TableCell style={{ width: 250 }}>Producto</TableCell>\n              <TableCell style={{ width: 50 }}>Cantidad</TableCell>\n              <TableCell style={{ width: 50 }}>IVA</TableCell>\n              <TableCell style={{ width: 50 }}>IEPS</TableCell>\n              <TableCell style={{ width: 100 }}>Subtotal</TableCell>\n              <TableCell style={{ width: 100 }}>Impuestos</TableCell>\n              <TableCell style={{ width: 100 }}>Total</TableCell>\n              <TableCell style={{ width: 50 }}>Modificar</TableCell>\n              <TableCell style={{ width: 50 }}>Eliminar</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {productos.map((producto, index) => {\n              return (\n                <RowTableProductos\n                  venta={venta_factura}\n                  producto={producto}\n                  key={index}\n                  index={index}\n                />\n              );\n            })}\n          </TableBody>\n        </Table>\n      </TableContainer>\n    </Paper>\n  );\n}\n\nconst RowTableProductos = ({ venta, producto, index }) => {\n  const { datos_generales } = producto.id_producto;\n  return (\n    <TableRow tabIndex={-1}>\n      <TableCell>{datos_generales.nombre_comercial}</TableCell>\n      <TableCell>{producto.cantidad_venta}</TableCell>\n      <TableCell>${formatoMexico(producto.iva_total)}</TableCell>\n      <TableCell>${formatoMexico(producto.ieps_total)}</TableCell>\n      <TableCell>${formatoMexico(producto.subtotal)}</TableCell>\n      <TableCell>${formatoMexico(producto.impuestos)}</TableCell>\n      <TableCell>${formatoMexico(producto.total)}</TableCell>\n      <TableCell>\n        <ModificarProductoFactura\n          venta={venta}\n          producto={producto}\n          index={index}\n        />\n      </TableCell>\n      <TableCell>\n        <EliminarProductoFactura\n          venta={venta}\n          producto={producto}\n          index={index}\n        />\n      </TableCell>\n    </TableRow>\n  );\n};\n","const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n\nexport const factura_initial_state = {\n    serie: \"\",\n    currency: \"MXN\",\n    expedition_place: \"\",\n    folio: \"\",\n    cfdi_type: \"I\",\n    payment_form: \"\",\n    payment_method: \"\",\n    logo_url: sesion ? sesion.imagen : '',\n    date: \"0\",\n    issuer: {\n      FiscalRegime: sesion ? sesion.empresa.regimen_fiscal : \"\",\n      Rfc: sesion ? sesion.empresa.rfc : \"\",\n      Name: sesion ? sesion.empresa.nombre_fiscal : \"\",\n    },\n    receiver: {\n      Rfc: \"\",\n      Name: \"\",\n      CfdiUse: \"\",\n    },\n    items: [],\n    empresa: sesion ? sesion.empresa._id : \"\",\n    sucursal: sesion ? sesion.sucursal._id : \"\",\n  }","import React, { useContext, useState } from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport Slide from \"@material-ui/core/Slide\";\nimport Box from \"@material-ui/core/Box\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport FormHelperText from \"@material-ui/core/FormHelperText\";\nimport Typography from \"@material-ui/core/Typography\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Select from \"@material-ui/core/Select\";\nimport DoneIcon from \"@material-ui/icons/Done\";\nimport moment from \"moment\";\nimport { verificarDatosFactura } from \"./validacion_factura\";\nimport { factura_initial_state } from \"./initial_factura_states\";\nimport { FacturacionCtx } from \"../../../../context/Facturacion/facturacionCtx\";\nimport { CREAR_FACTURA } from \"../../../../gql/Facturacion/Facturacion\";\nimport { useMutation } from \"@apollo/client\";\nimport { formaPago, metodoPago, tiposCfdi, usosCfdi } from \"../catalogos\";\nimport { Close, Done } from \"@material-ui/icons\";\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function RealizarFactura({ setAlert }) {\n  const [open, setOpen] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const {\n    datosFactura,\n    setDatosFactura,\n    codigo_postal,\n    setCodigoPostal,\n    productos,\n    setProductosFactura,\n    setError,\n  } = useContext(FacturacionCtx);\n\n  const [CrearFactura] = useMutation(CREAR_FACTURA);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const limpiarCampos = () => {\n    setDatosFactura(factura_initial_state);\n    setProductosFactura([]);\n    setCodigoPostal(\"\");\n  };\n\n  const crearFactura = async () => {\n    try {\n      /* setLoading(true); */\n      let nuevo_obj = { ...datosFactura };\n\n      /* \n      {\n          ProductCode: \"50202306\",\n          IdentificationNumber: \"61b7bf6e3454b727a0c2e357\",\n          Description: \"COCACOLA\",\n          //Unit: \"Unidad de Servicio\",\n          UnitCode: \"XBX\",\n          UnitPrice: \"36\",\n          Quantity: \"1\",\n          Subtotal: \"36\",\n          Discount: \"5.4\",\n          Taxes: [\n            {\n              Total: \"4.89\",\n              Name: \"IVA\",\n              Base: \"30.6\",\n              Rate: \"0.16\",\n              IsRetention: \"false\",\n            },\n          ],\n          Total: \"35.49\",\n        }, */\n\n      const items = [];\n\n      productos.forEach(producto => {\n        console.log(producto);\n        let {iva, ieps} = producto.id_producto.precios;\n        let Taxes = [];\n\n        if(producto.iva_total){\n          Taxes.push({\n            Total: producto.iva_total,\n            Name: \"IVA\",\n            Base: producto.precio_a_vender,\n            Rate: `0.${iva < 10 ? `0${iva}` : iva}`,\n            IsRetention: \"true\",\n          })\n        }\n        if(producto.ieps_total){\n          Taxes.push({\n            Total: producto.ieps_total,\n            Name: \"IEPS\",\n            Base: producto.precio_a_vender,\n            Rate: `0.${ieps < 10 ? `0${ieps}` : ieps}`,\n            IsRetention: \"true\",\n          })\n        }\n        items.push(\n          {\n            ProductCode: producto.id_producto.datos_generales.clave_producto_sat.Value,\n            IdentificationNumber: producto.id_producto._id,\n            Description: producto.id_producto.datos_generales.nombre_comercial,\n            UnitCode: producto.codigo_unidad,\n            UnitPrice: producto.precio_actual_object.precio_venta,\n            Quantity: producto.cantidad_venta,\n            Subtotal: producto.subtotal,\n            Discount: producto.precio_actual_object.dinero_descontado ? producto.precio_actual_object.dinero_descontado : 0,\n            Taxes,\n            Total: producto.total\n          },\n        )\n      });\n      \nconsole.log(items);\n      return\n\n      //poner la fecha de facturacion\n      if (datosFactura.date === \"1\") {\n        nuevo_obj.date = moment()\n          .subtract(1, \"d\")\n          .format(\"YYYY-MM-DDTHH:mm:ss\");\n      } else if (datosFactura.date === \"2\") {\n        nuevo_obj.date = moment()\n          .subtract(2, \"d\")\n          .format(\"YYYY-MM-DDTHH:mm:ss\");\n      } else {\n        nuevo_obj.date = moment().format(\"YYYY-MM-DDTHH:mm:ss\");\n      }\n\n      nuevo_obj.items = productos;\n      nuevo_obj.expedition_place = codigo_postal;\n\n      /* validar todos los datos */\n      const validate = verificarDatosFactura(nuevo_obj);\n\n      console.log(nuevo_obj);\n      if (validate.length) {\n        setError({ status: true, message: validate[0].message });\n        setLoading(false);\n        return;\n      }\n      setError({ status: false, message: \"\" });\n\n      let result = await CrearFactura({\n        variables: {\n          input: nuevo_obj,\n        },\n      });\n      console.log(\"result\", result);\n      setLoading(false);\n      setAlert({\n        message: `¡Listo! ${result.data.crearFactura.message}`,\n        status: \"success\",\n        open: true,\n      });\n      /* limpiarCampos(); */\n    } catch (error) {\n      console.log(error);\n      console.log(error.response);\n      setLoading(false);\n      if (error.response) {\n        setAlert({\n          message: error.response,\n          status: \"error\",\n          open: true,\n        });\n      } else if (error.networkError) {\n        console.log(error.networkError.result);\n      } else if (error.graphQLErrors) {\n        console.log(error.graphQLErrors);\n      }\n    }\n  };\n\n  return (\n    <div>\n      <Button\n        color=\"primary\"\n        variant=\"contained\"\n        startIcon={<DoneIcon />}\n        size=\"large\"\n        onClick={() => handleClickOpen()}\n      >\n        Guardar\n      </Button>\n      <Dialog\n        open={open}\n        TransitionComponent={Transition}\n        keepMounted\n        onClose={(_, reason) => {\n          if (reason !== \"backdropClick\") {\n            handleClose();\n          }\n        }}\n        fullWidth\n        maxWidth=\"xs\"\n      >\n        <Box display=\"flex\" justifyContent=\"flex-end\" m={1}>\n          <Button\n            onClick={() => handleClose()}\n            size=\"large\"\n            color=\"secondary\"\n            variant=\"contained\"\n          >\n            <Close />\n          </Button>\n        </Box>\n        <DialogContent>\n          <InputsFacturaModal />\n        </DialogContent>\n        <DialogActions style={{justifyContent: \"center\"}}>\n          <Button\n            startIcon={<Done />}\n            onClick={() => crearFactura()}\n            variant=\"contained\"\n            color=\"primary\"\n          >\n            Guardar\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n}\n\nconst InputsFacturaModal = () => {\n  const { datosFactura, setDatosFactura, error_validation } = useContext(\n    FacturacionCtx\n  );\n\n  const obtenerDatos = (e) => {\n    const { name, value } = e.target;\n    console.log(name, value);\n    setDatosFactura({\n      ...datosFactura,\n      [name]: value,\n    });\n  };\n\n  const obtenerUsoCfdi = (e) => {\n    const { name, value } = e.target;\n    setDatosFactura({\n      ...datosFactura,\n      receiver: {\n        ...datosFactura.receiver,\n        [name]: value,\n      },\n    });\n  };\n\n  return (\n    <Box>\n      <Box my={1}>\n        <Typography>Fecha de facturación</Typography>\n        <FormControl\n          variant=\"outlined\"\n          fullWidth\n          size=\"small\"\n          name=\"date\"\n          error={error_validation.status && !datosFactura.date}\n        >\n          <Select value={datosFactura.date} name=\"date\" onChange={obtenerDatos}>\n            <MenuItem value=\"\">\n              <em>Selecciona una fecha</em>\n            </MenuItem>\n            <MenuItem value=\"0\">{moment().format(\"LL\")}</MenuItem>\n            <MenuItem value=\"1\">\n              {moment().subtract(1, \"d\").format(\"LL\")}\n            </MenuItem>\n            <MenuItem value=\"2\">\n              {moment().subtract(2, \"d\").format(\"LL\")}\n            </MenuItem>\n          </Select>\n          <FormHelperText>\n            {error_validation.status && !datosFactura.date\n              ? error_validation.message\n              : \"\"}\n          </FormHelperText>\n        </FormControl>\n      </Box>\n      <Box my={1}>\n        <Typography>Forma de pago</Typography>\n        <FormControl\n          variant=\"outlined\"\n          fullWidth\n          size=\"small\"\n          name=\"payment_form\"\n          error={error_validation.status && !datosFactura.payment_form}\n        >\n          <Select\n            value={datosFactura.payment_form}\n            name=\"payment_form\"\n            onChange={obtenerDatos}\n          >\n            <MenuItem value=\"\">\n              <em>Selecciona uno</em>\n            </MenuItem>\n            {formaPago.map((res, index) => (\n              <MenuItem\n                key={index}\n                value={res.Value}\n              >{`${res.Value} - ${res.Name}`}</MenuItem>\n            ))}\n          </Select>\n          <FormHelperText>\n            {error_validation.status && !datosFactura.payment_form\n              ? error_validation.message\n              : \"\"}\n          </FormHelperText>\n        </FormControl>\n      </Box>\n      <Box my={1}>\n        <Typography>Método de pago</Typography>\n        <FormControl\n          variant=\"outlined\"\n          fullWidth\n          size=\"small\"\n          name=\"payment_method\"\n          error={error_validation.status && !datosFactura.payment_method}\n        >\n          <Select\n            value={datosFactura.payment_method}\n            name=\"payment_method\"\n            onChange={obtenerDatos}\n          >\n            <MenuItem value=\"\">\n              <em>Selecciona uno</em>\n            </MenuItem>\n            {metodoPago.map((res, index) => (\n              <MenuItem\n                key={index}\n                value={res.Value}\n              >{`${res.Value} - ${res.Name}`}</MenuItem>\n            ))}\n          </Select>\n          <FormHelperText>\n            {error_validation.status && !datosFactura.payment_method\n              ? error_validation.message\n              : \"\"}\n          </FormHelperText>\n        </FormControl>\n      </Box>\n      <Box>\n        <Typography>Uso de CFDi</Typography>\n        <FormControl\n          fullWidth\n          size=\"small\"\n          variant=\"outlined\"\n          fullWidth\n          error={error_validation.status && !datosFactura.receiver.CfdiUse}\n        >\n          <Select\n            value={datosFactura.receiver.CfdiUse}\n            name=\"CfdiUse\"\n            onChange={obtenerUsoCfdi}\n          >\n            <MenuItem value=\"\">\n              <em>Selecciona uno</em>\n            </MenuItem>\n            {usosCfdi.map((res, index) => (\n              <MenuItem\n                key={index}\n                value={res.Value}\n              >{`${res.Value} - ${res.Name}`}</MenuItem>\n            ))}\n          </Select>\n          <FormHelperText>\n            {error_validation.status && !datosFactura.receiver.CfdiUse\n              ? error_validation.message\n              : \"\"}\n          </FormHelperText>\n        </FormControl>\n      </Box>\n    </Box>\n  );\n};\n","import React, { useContext } from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Slide from \"@material-ui/core/Slide\";\nimport { FacturacionCtx } from \"../../../../context/Facturacion/facturacionCtx\";\nimport { factura_initial_state } from \"./initial_factura_states\";\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function CancelarFactura({ open, setOpen, handleCloseFactura }) {\n  const {\n    setDatosFactura,\n    setCodigoPostal,\n    setProductos,\n    setVentaFactura,\n    setCPValido,\n    setError,\n  } = useContext(FacturacionCtx);\n\n  const limpiarCampos = () => {\n    setDatosFactura(factura_initial_state);\n    setVentaFactura(null);\n    setProductos([]);\n    setCodigoPostal(\"\");\n    setCPValido(false);\n    setError({ status: false, message: \"\" });\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const cancelar = () => {\n    limpiarCampos();\n    handleClose();\n    handleCloseFactura();\n  };\n\n  return (\n    <div>\n      <Dialog\n        open={open}\n        TransitionComponent={Transition}\n        keepMounted\n        onClose={() => handleClose()}\n      >\n        <DialogTitle>{\"¿Estás seguro de cancelar esta factura?\"}</DialogTitle>\n        <DialogActions>\n          <Button onClick={() => handleClose()}>Cerrar</Button>\n          <Button onClick={() => cancelar()} color=\"primary\">\n            Cancelar Factura\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n}\n","import React, { forwardRef, Fragment, useContext, useState } from \"react\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Box from \"@material-ui/core/Box\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport Slide from \"@material-ui/core/Slide\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Typography from \"@material-ui/core/Typography\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport { makeStyles } from \"@material-ui/core\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport Alert from \"@material-ui/lab/Alert\";\n\nimport RegistroFactura from \"./RegistroFactura\";\nimport DetallesFactura from \"./TablaVenta/TablaDetallesFactura\";\nimport { ClienteProvider } from \"../../../../context/Catalogos/crearClienteCtx\";\nimport {\n  FacturacionCtx,\n  FacturacionProvider,\n} from \"../../../../context/Facturacion/facturacionCtx\";\n\nimport { useQuery } from \"@apollo/client\";\nimport { OBTENER_SERIES } from \"../../../../gql/Facturacion/Facturacion\";\nimport ErrorPage from \"../../../../components/ErrorPage\";\nimport SnackBarMessages from \"../../../../components/SnackBarMessages\";\nimport RealizarFactura from \"./RealizarFactura\";\nimport CancelarFactura from \"./CancelarFactura\";\n\nconst useStyles = makeStyles((theme) => ({\n  appBar: {\n    position: \"relative\",\n  },\n  title: {\n    marginLeft: theme.spacing(2),\n    flex: 1,\n  },\n}));\n\nconst Transition = forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function NuevaFactura() {\n  const [open, setOpen] = useState(false);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  return (\n    <div>\n      <ClienteProvider>\n        <Button fullWidth onClick={() => handleClickOpen()}>\n          <Box display=\"flex\" flexDirection=\"column\">\n            <Box\n              display=\"flex\"\n              justifyContent=\"center\"\n              alignItems=\"center\"\n              mb={2}\n            >\n              <img\n                src=\"https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/factura-2.png\"\n                alt=\"icono Factura\"\n                style={{ width: 100 }}\n              />\n            </Box>\n            Generar nuevo CFDI\n          </Box>\n        </Button>\n        <Dialog\n          fullScreen\n          open={open}\n          onClose={() => handleClose()}\n          disableEscapeKeyDown\n          TransitionComponent={Transition}\n        >\n          <FacturacionProvider>\n            <DialogFacturaPrincipal handleClose={handleClose} />\n          </FacturacionProvider>\n        </Dialog>\n      </ClienteProvider>\n    </div>\n  );\n}\n\nconst DialogFacturaPrincipal = ({ handleClose }) => {\n  const classes = useStyles();\n  const { venta_factura } = useContext(FacturacionCtx);\n  const [openCancel, setOpenCancel] = React.useState(false);\n  const [alert, setAlert] = useState({ message: \"\", status: \"\", open: false });\n\n  const handleClickOpen = () => {\n    setOpenCancel(true);\n  };\n\n  const cancelarCFDI = () => {\n    if (venta_factura !== null) {\n      handleClickOpen();\n    } else {\n      handleClose();\n    }\n  };\n\n  return (\n    <Fragment>\n      <AppBar className={classes.appBar}>\n        <Toolbar>\n          <Typography variant=\"h6\" className={classes.title}>\n            Generar nuevo CFDI\n          </Typography>\n          <Box m={1}>\n            <Button\n              variant=\"contained\"\n              color=\"inherit\"\n              onClick={() => cancelarCFDI()}\n              color=\"secondary\"\n              size=\"large\"\n            >\n              <CloseIcon style={{ fontSize: 30 }} />\n            </Button>\n          </Box>\n        </Toolbar>\n      </AppBar>\n      <DialogContent>\n        <SnackBarMessages alert={alert} setAlert={setAlert} />\n        <FacturaModalContent />\n      </DialogContent>\n      <DialogActions>\n        <RealizarFactura setAlert={setAlert} />\n      </DialogActions>\n      <CancelarFactura\n        open={openCancel}\n        setOpen={setOpenCancel}\n        handleCloseFactura={handleClose}\n      />\n    </Fragment>\n  );\n};\n\nconst FacturaModalContent = () => {\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n\n  const { loading, data, error } = useQuery(OBTENER_SERIES, {\n    variables: {\n      sucursal: sesion.sucursal._id,\n      empresa: sesion.empresa._id,\n    },\n    fetchPolicy: \"network-only\",\n  });\n\n  if (loading) {\n    return (\n      <Box\n        display=\"flex\"\n        justifyContent=\"center\"\n        alignItems=\"center\"\n        height=\"30vh\"\n      >\n        <CircularProgress />\n      </Box>\n    );\n  }\n  if (error) {\n    return <ErrorPage error={error} />;\n  }\n\n  const { seriesCfdi } = data.obtenerSeriesCdfi;\n\n  let serie_default = [];\n  serie_default = seriesCfdi.filter((serie) => serie.default === true);\n  if (!serie_default.length) {\n    serie_default = [{ folio: \"\", serie: \"\" }];\n    console.log(serie_default);\n  }\n\n  return (\n    <Fragment>\n      {!seriesCfdi.length ? (\n        <Alert severity=\"warning\">No tienes Series CFDI registradas</Alert>\n      ) : null}\n      <Box my={2}>\n        <RegistroFactura serie_default={serie_default} />\n      </Box>\n      <DetallesFactura />\n    </Fragment>\n  );\n};\n","import React, { useState } from \"react\";\nimport {\n  Box,\n  Button,\n  Checkbox,\n  CircularProgress,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  FormControlLabel,\n  TextField,\n  Typography,\n} from \"@material-ui/core\";\nimport { Add, Close, Done } from \"@material-ui/icons\";\nimport Slide from \"@material-ui/core/Slide\";\nimport { CREAR_SERIE } from \"../../../../gql/Facturacion/Facturacion\";\nimport { useMutation } from \"@apollo/client\";\nimport SnackBarMessages from \"../../../../components/SnackBarMessages\";\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function RegistroSeries({ refetch }) {\n  const [open, setOpen] = useState(false);\n  const [datos, setDatos] = useState({ folio: \"\", serie: \"\", default: false });\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n  const [alert, setAlert] = useState({ message: \"\", status: \"\", open: false });\n  const [loading, setLoading] = useState(false);\n\n  const [crearSerieCFDI] = useMutation(CREAR_SERIE);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n    setDatos({ folio: \"\", serie: \"\", default: false });\n  };\n\n  const obtenerDatosSeries = (e) => {\n    const { name, value } = e.target;\n    setDatos({\n      ...datos,\n      [name]: value,\n    });\n  };\n\n  const obtenerPredeterminado = (e) => {\n    const { name, checked } = e.target;\n    setDatos({\n      ...datos,\n      [name]: checked,\n    });\n  };\n\n  const guardarDatosBD = async () => {\n    if (!datos.folio || !datos.serie) return;\n\n    try {\n      setLoading(true);\n      const result = await crearSerieCFDI({\n        variables: {\n          input: {\n            serie: datos.serie,\n            folio: parseInt(datos.folio),\n            default: datos.default,\n            empresa: sesion.empresa._id,\n            sucursal: sesion.sucursal._id,\n          },\n        },\n      });\n      setAlert({\n        message: `¡Listo! ${result.data.crearSerieCFDI.message}`,\n        status: \"success\",\n        open: true,\n      });\n      refetch();\n      setLoading(false);\n      handleClose();\n    } catch (error) {\n      setLoading(false);\n      setAlert({\n        message: `Error: ${error.message}`,\n        status: \"error\",\n        open: true,\n      });\n      console.log(error);\n      if (error.networkError) {\n        console.log(error.networkError.result);\n      } else if (error.graphQLErrors) {\n        console.log(error.graphQLErrors);\n      }\n    }\n  };\n\n  return (\n    <div>\n      <SnackBarMessages alert={alert} setAlert={setAlert} />\n      <Box display=\"flex\" justifyContent=\"flex-end\">\n        <Button\n          onClick={() => handleClickOpen()}\n          color=\"primary\"\n          variant=\"contained\"\n          size=\"large\"\n          startIcon={<Add />}\n        >\n          Nueva serie\n        </Button>\n      </Box>\n      <Dialog\n        maxWidth=\"xs\"\n        fullWidth\n        open={open}\n        onClose={() => handleClose()}\n        TransitionComponent={Transition}\n      >\n        <DialogTitle>Registrar nueva serie</DialogTitle>\n        <DialogContent>\n          <Box width=\"100%\">\n            <Typography>Serie para CDFI:</Typography>\n            <Box display=\"flex\" alignItems=\"center\">\n              <TextField\n                fullWidth\n                size=\"small\"\n                variant=\"outlined\"\n                name=\"serie\"\n                onChange={obtenerDatosSeries}\n              />\n            </Box>\n          </Box>\n          <Box width=\"100%\">\n            <Typography>Folio Inicial:</Typography>\n            <Box display=\"flex\" alignItems=\"center\">\n              <TextField\n                fullWidth\n                size=\"small\"\n                variant=\"outlined\"\n                name=\"folio\"\n                onChange={obtenerDatosSeries}\n              />\n            </Box>\n          </Box>\n          <FormControlLabel\n            style={{ marginTop: 8 }}\n            control={\n              <Checkbox\n                checked={datos.default}\n                onChange={obtenerPredeterminado}\n                name=\"default\"\n              />\n            }\n            label=\"Serie predeterminada\"\n          />\n        </DialogContent>\n        <DialogActions style={{ justifyContent: \"center\" }}>\n          <Button startIcon={<Close />} onClick={() => handleClose()}>\n            Cancelar\n          </Button>\n          <Button\n            color=\"primary\"\n            startIcon={loading ? <CircularProgress size={20} /> : <Done />}\n            disabled={!datos.serie || !datos.folio || loading}\n            onClick={() => guardarDatosBD()}\n          >\n            Guardar\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n}\n","import React, { Fragment, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport Slide from \"@material-ui/core/Slide\";\nimport { Close, Done } from \"@material-ui/icons\";\nimport { Backdrop, Checkbox, CircularProgress } from \"@material-ui/core\";\nimport SnackBarMessages from \"../../../../components/SnackBarMessages\";\nimport { useMutation } from \"@apollo/client\";\nimport {\n  ACTUALIZAR_DEFAULT_SERIE,\n  ELIMINAR_SERIE,\n} from \"../../../../gql/Facturacion/Facturacion\";\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nconst useStyles = makeStyles((theme) => ({\n  container: {\n    height: \"80vh\",\n  },\n  backdrop: {\n    zIndex: theme.zIndex.drawer + 1,\n    color: \"#fff\",\n  },\n}));\n\nexport default function ListaSeriesCDFI({ obtenerSeriesCdfi, refetch }) {\n  const classes = useStyles();\n  const [loading, setLoading] = useState(false);\n  const [alert, setAlert] = useState({ message: \"\", status: \"\", open: false });\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n\n  const { seriesCfdi } = obtenerSeriesCdfi;\n  const [modificarDefaultSerie] = useMutation(ACTUALIZAR_DEFAULT_SERIE);\n\n  const setPredeterminado = async (value, data) => {\n    setLoading(true);\n    try {\n      const result = await modificarDefaultSerie({\n        variables: {\n          id: data._id,\n          empresa: sesion.empresa._id,\n          sucursal: sesion.sucursal._id,\n        },\n      });\n      refetch();\n      setLoading(false);\n      setAlert({\n        message: `¡Listo! ${result.data.modificarDefaultSerie.message}`,\n        status: \"success\",\n        open: true,\n      });\n      setLoading(false);\n    } catch (error) {\n      setLoading(false);\n      setAlert({\n        message: `Error: ${error.message}`,\n        status: \"success\",\n        open: true,\n      });\n    }\n  };\n\n  return (\n    <Paper variant=\"outlined\">\n      <Backdrop className={classes.backdrop} open={loading}>\n        <CircularProgress color=\"inherit\" />\n      </Backdrop>\n      <SnackBarMessages alert={alert} setAlert={setAlert} />\n      <TableContainer className={classes.container}>\n        <Table stickyHeader>\n          <TableHead>\n            <TableRow>\n              <TableCell>Serie</TableCell>\n              <TableCell>Folio</TableCell>\n              <TableCell>Predeterminado</TableCell>\n              <TableCell padding=\"checkbox\">Eliminar</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {seriesCfdi.map((row, index) => {\n              return (\n                <TableRow hover role=\"checkbox\" tabIndex={-1} key={index}>\n                  <TableCell>{row.serie}</TableCell>\n                  <TableCell>{row.folio}</TableCell>\n                  <TableCell align=\"center\" padding=\"checkbox\">\n                    <Checkbox\n                      checked={row.default}\n                      onChange={(e) => setPredeterminado(e.target.checked, row)}\n                      name=\"checkedA\"\n                    />\n                  </TableCell>\n                  <TableCell align=\"center\" padding=\"checkbox\">\n                    {sesion.accesos.facturacion.registro_series_cdfi.eliminar === false ? (null) : (\n                      <ModalDeleteSerie\n                        row={row}\n                        refetch={refetch}\n                        setAlert={setAlert}\n                      />\n                    )}\n                  </TableCell>\n                </TableRow>\n              );\n            })}\n          </TableBody>\n        </Table>\n      </TableContainer>\n    </Paper>\n  );\n}\n\nconst ModalDeleteSerie = ({ row, refetch, setAlert }) => {\n  const [open, setOpen] = useState(false);\n  const [loading, setLoading] = useState(false);\n\n  const [eliminarSerie] = useMutation(ELIMINAR_SERIE);\n\n  const handleOpen = () => setOpen(true);\n  const handleClose = () => setOpen(false);\n\n  const eliminarSerieBD = async () => {\n    setLoading(true);\n    try {\n      const result = await eliminarSerie({\n        variables: {\n          id: row._id,\n        },\n      });\n      refetch();\n      setLoading(false);\n      handleClose();\n      setAlert({\n        message: `¡Listo! ${result.data.eliminarSerie.message}`,\n        status: \"success\",\n        open: true,\n      });\n      setLoading(false);\n    } catch (error) {\n      setLoading(false);\n      setAlert({\n        message: `Error: ${error.message}`,\n        status: \"success\",\n        open: true,\n      });\n    }\n  };\n\n  return (\n    <Fragment>\n      <IconButton aria-label=\"delete\" size=\"small\" onClick={() => handleOpen()} disabled={row.default}>\n        <DeleteIcon />\n      </IconButton>\n      <Dialog\n        open={open}\n        onClose={() => handleClose()}\n        TransitionComponent={Transition}\n      >\n        <DialogTitle>Se eliminara esta serie</DialogTitle>\n        <DialogActions style={{ justifyContent: \"center\" }}>\n          <Button startIcon={<Close />} onClick={() => handleClose()}>\n            Cancelar\n          </Button>\n          <Button\n            color=\"secondary\"\n            disabled={loading}\n            startIcon={loading ? <CircularProgress size={20} /> : <Done />}\n            onClick={() => eliminarSerieBD()}\n          >\n            Eliminar\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </Fragment>\n  );\n};\n","import React, { forwardRef, useState } from \"react\";\nimport {\n  AppBar,\n  Box,\n  Button,\n  CircularProgress,\n  Container,\n  Dialog,\n  makeStyles,\n  Slide,\n  Toolbar,\n  Typography,\n} from \"@material-ui/core\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport RegistroSeries from \"./RegistroSeries\";\nimport ListaSeriesCDFI from \"./ListaSeries\";\nimport { useQuery } from \"@apollo/client\";\nimport { OBTENER_SERIES } from \"../../../../gql/Facturacion/Facturacion\";\nimport ErrorPage from \"../../../../components/ErrorPage\";\nconst useStyles = makeStyles((theme) => ({\n  appBar: {\n    position: \"relative\",\n  },\n  title: {\n    marginLeft: theme.spacing(2),\n    flex: 1,\n  },\n  icon: {\n    width: 100,\n  },\n}));\n\nconst Transition = forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function SeriesCDFI() {\n  const sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\n  const classes = useStyles();\n  const [open, setOpen] = useState(false);\n\n  const handleClickOpen = () => {\n    setOpen(!open);\n  };\n\n  return (\n    <div>\n      <Button fullWidth onClick={handleClickOpen}>\n        <Box display=\"flex\" flexDirection=\"column\">\n          <Box\n            display=\"flex\"\n            justifyContent=\"center\"\n            alignItems=\"center\"\n            mb={2}\n          >\n            <img\n              src=\"https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/factura-1.png\"\n              alt=\"icono Factura\"\n              style={{ width: 100 }}\n            />\n          </Box>\n          Registrar Series CFDI\n        </Box>\n      </Button>\n      <Dialog\n        fullScreen\n        open={open}\n        onClose={handleClickOpen}\n        TransitionComponent={Transition}\n      >\n        <AppBar className={classes.appBar}>\n          <Toolbar>\n            <Typography variant=\"h6\" className={classes.title}>\n              Seleccion de Series para CFDI\n            </Typography>\n            <Box m={1}>\n              <Button color=\"secondary\" variant=\"contained\" onClick={handleClickOpen} size=\"large\">\n                <CloseIcon />\n              </Button>\n            </Box>\n          </Toolbar>\n        </AppBar>\n        <ContentSeriesCFDI />\n      </Dialog>\n    </div>\n  );\n}\n\nconst ContentSeriesCFDI = () => {\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n\n  const { loading, data, error, refetch } = useQuery(OBTENER_SERIES, {\n    variables: {\n      sucursal: sesion.sucursal._id,\n      empresa: sesion.empresa._id,\n    },\n    fetchPolicy: \"network-only\",\n  });\n\n  if (loading) {\n    return (\n      <Box\n        display=\"flex\"\n        justifyContent=\"center\"\n        alignItems=\"center\"\n        height=\"30vh\"\n      >\n        <CircularProgress />\n      </Box>\n    );\n  }\n  if (error) {\n    return <ErrorPage error={error} />;\n  }\n\n  const { obtenerSeriesCdfi } = data;\n\n  return (\n    <Container maxWidth=\"md\">\n      <Box my={2}>\n        {sesion.accesos.facturacion.registro_series_cdfi.agregar === false ? (null) : (\n          <RegistroSeries refetch={refetch} />\n        )}\n      </Box>\n      <ListaSeriesCDFI\n        obtenerSeriesCdfi={obtenerSeriesCdfi}\n        refetch={refetch}\n      />\n    </Container>\n  );\n};\n","import React, { Fragment } from \"react\";\nimport { CloudDownloadOutlined } from \"@material-ui/icons\";\nimport { Grid, Button, Box } from \"@material-ui/core\";\nimport ReactExport from \"react-export-excel\";\nimport {\n  formatoFecha,\n  formatoMexico,\n} from \"../../../../config/reuserFunctions\";\n\nconst ExcelFile = ReactExport.ExcelFile;\nconst ExcelSheet = ReactExport.ExcelFile.ExcelSheet;\nconst ExcelColumn = ReactExport.ExcelFile.ExcelColumn;\n\nexport default function ExportarProductosFacturaExcel({ compra }) {\n  const {\n    almacen,\n    proveedor,\n    fecha_registro,\n    subtotal,\n    impuestos,\n    total,\n    productos,\n  } = compra;\n\n  const compra_realizada = [\n    {\n      almacen: almacen.nombre_almacen,\n      proveedor: proveedor.nombre_cliente,\n      fecha_registro: formatoFecha(fecha_registro),\n      subtotal: formatoMexico(subtotal),\n      impuestos: formatoMexico(impuestos),\n      total: formatoMexico(total),\n    },\n  ];\n\n  const productos_detalles = productos.map((productos) => {\n    const {\n      producto,\n      medida,\n      color,\n      unidad,\n      cantidad,\n      Cantidad_regalo,\n      cantidad_total,\n      descuento_precio,\n      descuento_porcentaje,\n      subtotal,\n      impuestos,\n      total,\n    } = productos;\n    const detalle_producto = {\n      producto: producto.datos_generales.nombre_comercial,\n      medida: medida ? medida.medida : \"N/A\",\n      color: color ? color.color : \"N/A\",\n      unidad,\n      cantidad,\n      Cantidad_regalo,\n      cantidad_total,\n      descuento_precio,\n      descuento_porcentaje,\n      subtotal: formatoMexico(subtotal),\n      impuestos: formatoMexico(impuestos),\n      total: formatoMexico(total),\n    };\n\n    return detalle_producto;\n  });\n\n  return (\n    <Fragment>\n      <Grid>\n        <Grid item>\n          <ExcelFile\n            element={\n              <Box display=\"flex\" justifyContent=\"flex-end\">\n                <Button\n                  variant=\"contained\"\n                  color=\"primary\"\n                  startIcon={<CloudDownloadOutlined />}\n                >\n                  Exportar a Excel\n                </Button>\n              </Box>\n            }\n            filename={\"Detalle de compra\"}\n          >\n            <ExcelSheet data={compra_realizada} name=\"Detalle compra\">\n              <ExcelColumn label=\"Almacen\" value=\"almacen\" />\n              <ExcelColumn label=\"Proveedor\" value=\"proveedor\" />\n              <ExcelColumn label=\"Fecha de compra\" value=\"fecha_registro\" />\n              <ExcelColumn label=\"Subtotal\" value=\"subtotal\" />\n              <ExcelColumn label=\"Impuestos\" value=\"impuestos\" />\n              <ExcelColumn label=\"Total\" value=\"total\" />\n            </ExcelSheet>\n            <ExcelSheet data={productos_detalles} name=\"Productos de la compra\">\n              <ExcelColumn label=\"Producto\" value=\"producto\" />\n              <ExcelColumn label=\"Medida\" value=\"medida\" />\n              <ExcelColumn label=\"Color\" value=\"color\" />\n              <ExcelColumn label=\"Unidad\" value=\"unidad\" />\n              <ExcelColumn label=\"Cantidad\" value=\"cantidad\" />\n              <ExcelColumn label=\"Cantidad de regalo\" value=\"cantidad_regalo\" />\n              <ExcelColumn label=\"Cantidad total\" value=\"cantidad_total\" />\n              <ExcelColumn\n                label=\"Precio de descuento\"\n                value=\"descuento_precio\"\n              />\n              <ExcelColumn\n                label=\"Porcentaje de descuento\"\n                value=\"descuento_porcentaje\"\n              />\n              <ExcelColumn label=\"Subtotal\" value=\"subtotal\" />\n              <ExcelColumn label=\"Impuestos\" value=\"impuestos\" />\n              <ExcelColumn label=\"Total\" value=\"total\" />\n            </ExcelSheet>\n          </ExcelFile>\n        </Grid>\n      </Grid>\n    </Fragment>\n  );\n}\n","import React, { Fragment, useEffect, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\n\nimport Box from \"@material-ui/core/Box\";\nimport Chip from \"@material-ui/core/Chip\";\nimport Grid from \"@material-ui/core/Grid\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { useTheme } from \"@material-ui/core\";\nimport SearchOutlinedIcon from \"@material-ui/icons/SearchOutlined\";\nimport { formatoMexico } from \"../../../../config/reuserFunctions\";\nimport ExportarProductosFacturaExcel from \"./ExportarProductosFactura\";\n\nconst useStyles = makeStyles({\n  root: {\n    width: \"100%\",\n  },\n  container: {\n    height: \"50vh\",\n  },\n});\n\nexport default function DatosDeCompra({ compra }) {\n  const classes = useStyles();\n  const theme = useTheme();\n  const { productos } = compra;\n  const [busqueda, setBusqueda] = useState(\"\");\n  const [productosFiltrados, setProductosFiltrados] = useState([]);\n\n  const obtenerBusqueda = (value) => setBusqueda(value);\n\n  useEffect(() => {\n    setProductosFiltrados(\n      productos.filter((datos) => {\n        return datos.producto.datos_generales.nombre_comercial\n          .toLowerCase()\n          .includes(busqueda.toLowerCase());\n      })\n    );\n  }, [busqueda, productos]);\n\n  return (\n    <Fragment>\n      <Box mb={1} display=\"flex\">\n        <Typography style={{ marginRight: 16 }}>\n          <b>Proveedor: </b>\n          {compra.proveedor.nombre_cliente}\n        </Typography>\n        <Typography style={{ marginRight: 16 }}>\n          <b>Almacen: </b>\n          {compra.almacen.nombre_almacen}\n        </Typography>\n        <Typography style={{ marginRight: 16 }}>\n          <b>Subtotal: ${compra.subtotal}</b>\n        </Typography>\n        <Typography style={{ marginRight: 16 }}>\n          <b>Impuestos: ${compra.impuestos}</b>\n        </Typography>\n        <Typography style={{ marginRight: 16 }}>\n          <b>Total: ${compra.total}</b>\n        </Typography>\n      </Box>\n      <Box mb={2} display=\"flex\">\n        <Grid container>\n          <Grid item sm={6} xs={12}>\n            <TextField\n              fullWidth\n              size=\"small\"\n              variant=\"outlined\"\n              placeholder=\"Buscar una compra...\"\n              onChange={(e) => obtenerBusqueda(e.target.value)}\n              InputProps={{\n                startAdornment: (\n                  <InputAdornment position=\"start\">\n                    <SearchOutlinedIcon color=\"action\" />\n                  </InputAdornment>\n                ),\n              }}\n            />\n          </Grid>\n          <Grid item sm={6} xs={12}>\n            <ExportarProductosFacturaExcel compra={compra} />\n          </Grid>\n        </Grid>\n      </Box>\n      <Paper className={classes.root}>\n        <TableContainer className={classes.container}>\n          <Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n            <TableHead>\n              <TableRow>\n                <TableCell>Producto</TableCell>\n                <TableCell>Medida</TableCell>\n                <TableCell>Color</TableCell>\n                <TableCell>Unidad</TableCell>\n                <TableCell>Cantidad</TableCell>\n                <TableCell>C. regalo</TableCell>\n                <TableCell>C. total</TableCell>\n                <TableCell>Descuento</TableCell>\n                <TableCell>Subtotal</TableCell>\n                <TableCell>Impuestos</TableCell>\n                <TableCell>Total</TableCell>\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {productosFiltrados.map((datos, index) => {\n                return (\n                  <TableRow hover tabIndex={-1} key={index}>\n                    <TableCell>\n                      {datos.producto.datos_generales.nombre_comercial}\n                    </TableCell>\n                    <TableCell padding=\"checkbox\">\n                      {datos.medida && datos.medida.medida ? datos.medida.medida : \"N/A\"}\n                    </TableCell>\n                    <TableCell padding=\"checkbox\">\n                      {datos.color && datos.color.hex ? (\n                        <Chip\n                          label={datos.color.color}\n                          size=\"small\"\n                          style={{\n                            backgroundColor: datos.color.hex,\n                            color: theme.palette.getContrastText(\n                              datos.color.hex\n                            ),\n                          }}\n                        />\n                      ) : (\n                        \"N/A\"\n                      )}\n                    </TableCell>\n                    <TableCell>{datos.unidad}</TableCell>\n                    <TableCell>{datos.cantidad}</TableCell>\n                    <TableCell>{datos.cantidad_regalo}</TableCell>\n                    <TableCell>{datos.cantidad_total}</TableCell>\n                    <TableCell>{`$${datos.descuento_precio} - %${datos.descuento_porcentaje}`}</TableCell>\n                    <TableCell>\n                      <b>${formatoMexico(datos.subtotal)}</b>\n                    </TableCell>\n                    <TableCell>\n                      <b>${formatoMexico(datos.impuestos)}</b>\n                    </TableCell>\n                    <TableCell>\n                      <b>${formatoMexico(datos.total)}</b>\n                    </TableCell>\n                  </TableRow>\n                );\n              })}\n            </TableBody>\n          </Table>\n        </TableContainer>\n      </Paper>\n    </Fragment>\n  );\n}\n","import React, { Fragment, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport {\n  Dialog,\n  Typography,\n  Box,\n  Button,\n  IconButton,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n  Slide,\n} from \"@material-ui/core\";\nimport DatosDeCompra from \"./DatosFactura\";\nimport {\n  formatoFecha,\n  formatoMexico,\n} from \"../../../../config/reuserFunctions\";\nimport { AssignmentOutlined, Done } from \"@material-ui/icons\";\n\nconst useStyles = makeStyles({\n  root: {\n    width: \"100%\",\n  },\n  container: {\n    height: \"72vh\",\n  },\n});\n\nexport default function ListaFacturas({ obtenerComprasRealizadas }) {\n  const classes = useStyles();\n\n  return (\n    <Paper className={classes.root} variant=\"outlined\">\n      <TableContainer className={classes.container}>\n        <Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n          <TableHead>\n            <TableRow>\n              <TableCell>Almacen</TableCell>\n              <TableCell>Proveedor</TableCell>\n              <TableCell>Fecha de compra</TableCell>\n              <TableCell>Subtotal</TableCell>\n              <TableCell>Impuestos</TableCell>\n              <TableCell>Total</TableCell>\n              <TableCell>Productos</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {obtenerComprasRealizadas.map((compra, index) => (\n              <RenderRowsCompras key={index} compra={compra} />\n            ))}\n          </TableBody>\n        </Table>\n      </TableContainer>\n    </Paper>\n  );\n}\n\nconst RenderRowsCompras = ({ compra }) => {\n  const {\n    almacen,\n    proveedor,\n    fecha_registro,\n    subtotal,\n    impuestos,\n    total,\n  } = compra;\n\n  return (\n    <TableRow hover tabIndex={-1}>\n      <TableCell>{almacen.nombre_almacen}</TableCell>\n      <TableCell>{proveedor.nombre_cliente}</TableCell>\n      <TableCell>{formatoFecha(fecha_registro)}</TableCell>\n      <TableCell>\n        <b>${formatoMexico(subtotal)}</b>\n      </TableCell>\n      <TableCell>\n        <b>${formatoMexico(impuestos)}</b>\n      </TableCell>\n      <TableCell>\n        <b>${formatoMexico(total)}</b>\n      </TableCell>\n      <TableCell>\n        <DetallesCompra compra={compra} />\n      </TableCell>\n    </TableRow>\n  );\n};\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nconst DetallesCompra = ({ compra }) => {\n  const [open, setOpen] = useState(false);\n\n  const handleOpen = () => {\n    setOpen(!open);\n  };\n  return (\n    <Fragment>\n      <IconButton onClick={() => handleOpen()}>\n        <AssignmentOutlined />\n      </IconButton>\n      <Dialog\n        open={open}\n        onClose={handleOpen}\n        fullWidth\n        maxWidth=\"lg\"\n        TransitionComponent={Transition}\n      >\n        <DialogTitle>\n          <Box display=\"flex\">\n            <Typography variant=\"h6\" style={{ flexGrow: 1 }}>\n              Datos de compra\n            </Typography>\n            <Button\n              variant=\"text\"\n              color=\"primary\"\n              onClick={handleOpen}\n              size=\"large\"\n            >\n              <CloseIcon style={{ fontSize: 30 }} />\n            </Button>\n          </Box>\n        </DialogTitle>\n        <DialogContent>\n          <DatosDeCompra compra={compra} />\n        </DialogContent>\n        <DialogActions>\n          <Button\n            variant=\"text\"\n            color=\"primary\"\n            size=\"large\"\n            startIcon={<Done />}\n            onClick={() => handleOpen()}\n          >\n            Acpetar\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </Fragment>\n  );\n};\n","import React, { Fragment } from \"react\";\nimport { CloudDownloadOutlined } from \"@material-ui/icons\";\nimport { Grid, Button, Box } from \"@material-ui/core\";\nimport ReactExport from \"react-export-excel\";\nimport {\n  formatoFecha,\n  formatoMexico,\n} from \"../../../../config/reuserFunctions\";\n\nconst ExcelFile = ReactExport.ExcelFile;\nconst ExcelSheet = ReactExport.ExcelFile.ExcelSheet;\nconst ExcelColumn = ReactExport.ExcelFile.ExcelColumn;\n\nexport default function ExportarComprasExcel({\n  obtenerComprasRealizadas,\n  filtro,\n  filtroFecha,\n}) {\n  const compras = obtenerComprasRealizadas.map((compra) => {\n    const {\n      almacen,\n      proveedor,\n      fecha_registro,\n      subtotal,\n      impuestos,\n      total,\n    } = compra;\n    const compra_realizada = {\n      almacen: almacen.nombre_almacen,\n      proveedor: proveedor.nombre_cliente,\n      fecha_registro: formatoFecha(fecha_registro),\n      subtotal: formatoMexico(subtotal),\n      impuestos: formatoMexico(impuestos),\n      total: formatoMexico(total),\n    };\n\n    return compra_realizada;\n  });\n\n  let nombre_documento = \"\";\n  if (filtro && filtroFecha.fecha) {\n    nombre_documento = `Lista de compras realizadas desde hace ${filtroFecha.since} y filtradas por ${filtro}`;\n  } else if (filtro && !filtroFecha.fecha) {\n    nombre_documento = `Lista de compras realizadas filtradas por ${filtro}`;\n  } else if (!filtro && filtroFecha.fecha) {\n    nombre_documento = `Lista de compras realizadas desde hace ${filtroFecha.since}`;\n  } else if (!filtro && !filtroFecha.fecha) {\n    nombre_documento = `Lista de compras realizadas`;\n  }\n\n  return (\n    <Fragment>\n      <Grid>\n        <Grid item>\n          <ExcelFile\n            element={\n              <Box display=\"flex\" justifyContent=\"flex-end\">\n                <Button\n                  variant=\"contained\"\n                  color=\"primary\"\n                  startIcon={<CloudDownloadOutlined />}\n                >\n                  Exportar a Excel\n                </Button>\n              </Box>\n            }\n            filename={nombre_documento}\n          >\n            <ExcelSheet data={compras} name={nombre_documento}>\n              <ExcelColumn label=\"Almacen\" value=\"almacen\" />\n              <ExcelColumn label=\"Proveedor\" value=\"proveedor\" />\n              <ExcelColumn label=\"Fecha de compra\" value=\"fecha_registro\" />\n              <ExcelColumn label=\"Subtotal\" value=\"subtotal\" />\n              <ExcelColumn label=\"Impuestos\" value=\"impuestos\" />\n              <ExcelColumn label=\"Total\" value=\"total\" />\n            </ExcelSheet>\n          </ExcelFile>\n        </Grid>\n      </Grid>\n    </Fragment>\n  );\n}\n","import React, { Fragment, useRef, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Box from \"@material-ui/core/Box\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport Container from \"@material-ui/core/Container\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Typography from \"@material-ui/core/Typography\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport Slide from \"@material-ui/core/Slide\";\nimport Chip from \"@material-ui/core/Chip\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Select from \"@material-ui/core/Select\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Grid from \"@material-ui/core/Grid\";\nimport { FcInspection } from \"react-icons/fc\";\nimport ListaCompras from \"./ListaFacturas\";\nimport { useQuery } from \"@apollo/client\";\nimport { OBTENER_COMPRAS_REALIZADAS } from \"../../../../gql/Compras/compras\";\nimport ErrorPage from \"../../../../components/ErrorPage\";\nimport { SearchOutlined } from \"@material-ui/icons\";\nimport moment from \"moment\";\nimport ExportarComprasExcel from \"./ExportarListaFacturasExcel\";\n\nconst useStyles = makeStyles((theme) => ({\n  appBar: {\n    position: \"relative\",\n  },\n  title: {\n    marginLeft: theme.spacing(2),\n    flex: 1,\n  },\n  icon: {\n    fontSize: 100,\n  },\n  formInputFlex: {\n    display: \"flex\",\n    \"& > *\": {\n      margin: `${theme.spacing(1)}px ${theme.spacing(1)}px`,\n    },\n  },\n  formInput: {\n    margin: `${theme.spacing(1)}px ${theme.spacing(2)}px`,\n  },\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function ComprasRealizadas() {\n  const classes = useStyles();\n  const [open, setOpen] = React.useState(false);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  return (\n    <div>\n      <Button fullWidth onClick={handleClickOpen}>\n        <Box display=\"flex\" flexDirection=\"column\">\n          <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n            <Box\n              display=\"flex\"\n              justifyContent=\"center\"\n              alignItems=\"center\"\n              mb={2}\n            >\n              <img\n                src=\"https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/factura-3.png\"\n                alt=\"icono Factura\"\n                style={{ width: 100 }}\n              />\n            </Box>\n          </Box>\n          CFDis realizados\n        </Box>\n      </Button>\n      <Dialog\n        fullScreen\n        open={open}\n        onClose={handleClose}\n        TransitionComponent={Transition}\n      >\n        <AppBar className={classes.appBar}>\n          <Toolbar>\n            <Typography variant=\"h6\" className={classes.title}>\n              CFDis realizados\n            </Typography>\n            <Box m={1}>\n              <Button\n                variant=\"contained\"\n                color=\"secondary\"\n                onClick={handleClose}\n                size=\"large\"\n              >\n                <CloseIcon style={{ fontSize: 30 }} />\n              </Button>\n            </Box>\n          </Toolbar>\n        </AppBar>\n        <Container maxWidth=\"xl\">\n          <ContentDialogCompras />\n        </Container>\n      </Dialog>\n    </div>\n  );\n}\n\nconst ContentDialogCompras = () => {\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n  const [filtro, setFiltro] = useState(\"\");\n  const [filtroFecha, setFiltroFecha] = useState({ fecha: \"\", since: \"todos\" });\n  const searchfilter = useRef(null);\n  const filterDate = useRef(null);\n\n  /* Queries */\n  const { loading, data, error, refetch } = useQuery(\n    OBTENER_COMPRAS_REALIZADAS,\n    {\n      variables: {\n        empresa: sesion.empresa._id,\n        sucursal: sesion.sucursal._id,\n        fecha: filtroFecha.fecha,\n      },\n      fetchPolicy: \"network-only\",\n    }\n  );\n\n  if (loading)\n    return (\n      <Box\n        display=\"flex\"\n        flexDirection=\"column\"\n        justifyContent=\"center\"\n        alignItems=\"center\"\n        height=\"40vh\"\n      >\n        <CircularProgress />\n        <Typography variant=\"h5\">Cargando</Typography>\n      </Box>\n    );\n  if (error) {\n    return <ErrorPage error={error} altura={300} />;\n  }\n\n  let obtenerComprasRealizadas = [];\n  if (data) obtenerComprasRealizadas = data.obtenerComprasRealizadas;\n\n  const obtenerBusqueda = (e, value) => {\n    e.preventDefault();\n    refetch({ filtro: value, fecha: filtroFecha.fecha });\n    setFiltro(value);\n  };\n\n  const handleDeleteFiltro = () => {\n    refetch({ filtro: \"\", fecha: filtroFecha.fecha });\n    setFiltro(\"\");\n    searchfilter.current.value = \"\";\n  };\n  const handleDeleteFecha = () => {\n    refetch({ filtro, fecha: \"\" });\n    setFiltroFecha({ since: \"todos\", fecha: \"\" });\n    filterDate.current.value = \"todos\";\n  };\n\n  const obtenerFecha = (value) => {\n    switch (value) {\n      case \"7 dias\":\n        setFiltroFecha({\n          since: value,\n          fecha: moment().subtract(7, \"d\").format(),\n        });\n        refetch({ filtro, fecha: moment().subtract(7, \"d\").format() });\n        break;\n      case \"2 semanas\":\n        setFiltroFecha({\n          since: value,\n          fecha: moment().subtract(2, \"w\").format(),\n        });\n        refetch({ filtro, fecha: moment().subtract(2, \"w\").format() });\n        break;\n      case \"1 mes\":\n        setFiltroFecha({\n          since: value,\n          fecha: moment().subtract(1, \"M\").format(),\n        });\n        refetch({ filtro, fecha: moment().subtract(1, \"M\").format() });\n        break;\n      case \"3 meses\":\n        setFiltroFecha({\n          since: value,\n          fecha: moment().subtract(3, \"M\").format(),\n        });\n        refetch({ filtro, fecha: moment().subtract(3, \"M\").format() });\n        break;\n      case \"6 meses\":\n        setFiltroFecha({\n          since: value,\n          fecha: moment().subtract(6, \"M\").format(),\n        });\n        refetch({ filtro, fecha: moment().subtract(6, \"M\").format() });\n        break;\n      case \"8 meses\":\n        setFiltroFecha({\n          since: value,\n          fecha: moment().subtract(8, \"M\").format(),\n        });\n        refetch({ filtro, fecha: moment().subtract(8, \"M\").format() });\n        break;\n      case \"1 año\":\n        setFiltroFecha({\n          since: value,\n          fecha: moment().subtract(1, \"y\").format(),\n        });\n        refetch({ filtro, fecha: moment().subtract(1, \"y\").format() });\n        break;\n      default:\n        setFiltroFecha({ since: \"todos\", fecha: \"\" });\n        refetch({ filtro, fecha: \"\" });\n        break;\n    }\n  };\n\n  return (\n    <Fragment>\n      <Box my={3}>\n        <Grid container spacing={2}>\n          <Grid item md={4} xs={12}>\n            <form onSubmit={(e) => obtenerBusqueda(e, e.target[0].value)}>\n              <TextField\n                inputRef={searchfilter}\n                fullWidth\n                size=\"small\"\n                variant=\"outlined\"\n                placeholder=\"Buscar una compra...\"\n                InputProps={{\n                  endAdornment: (\n                    <InputAdornment position=\"end\">\n                      <IconButton type=\"submit\" color=\"primary\" size=\"medium\">\n                        <SearchOutlined />\n                      </IconButton>\n                    </InputAdornment>\n                  ),\n                }}\n              />\n            </form>\n          </Grid>\n          <Grid item md={4} xs={12}>\n            <FormControl variant=\"outlined\" fullWidth size=\"small\">\n              <InputLabel id=\"label-select-fecha-filter\">\n                Filtrar desde...\n              </InputLabel>\n              <Select\n                inputRef={filterDate}\n                labelId=\"label-select-fecha-filter\"\n                value={filtroFecha.since}\n                onChange={(e) => obtenerFecha(e.target.value)}\n                label=\"Filtrar desde...\"\n              >\n                <MenuItem value=\"todos\">\n                  <em>Todos los registros</em>\n                </MenuItem>\n                <MenuItem value=\"7 dias\">hace 7 días</MenuItem>\n                <MenuItem value=\"2 semanas\">hace 2 semanas</MenuItem>\n                <MenuItem value=\"1 mes\">hace 1 mes</MenuItem>\n                <MenuItem value=\"3 meses\">hace 3 meses</MenuItem>\n                <MenuItem value=\"6 meses\">hace 6 meses</MenuItem>\n                <MenuItem value=\"8 meses\">hace 8 meses</MenuItem>\n                <MenuItem value=\"1 año\">hace 1 año</MenuItem>\n              </Select>\n            </FormControl>\n          </Grid>\n          <Grid item md={4} xs={12}>\n            <ExportarComprasExcel\n              obtenerComprasRealizadas={obtenerComprasRealizadas}\n              filtro={filtro}\n              filtroFecha={filtroFecha}\n            />\n          </Grid>\n        </Grid>\n      </Box>\n      {filtro || filtroFecha.fecha ? (\n        <Box display=\"flex\" mb={1}>\n          <Typography variant=\"h6\">Resultados de:</Typography>\n          <Box mr={1} />\n          {filtro ? (\n            <Chip\n              variant=\"outlined\"\n              size=\"medium\"\n              label={filtro}\n              onDelete={handleDeleteFiltro}\n            />\n          ) : null}\n          <Box mx={1} />\n          {filtroFecha.fecha ? (\n            <Chip\n              variant=\"outlined\"\n              size=\"medium\"\n              label={`Desde hace ${filtroFecha.since}`}\n              onDelete={handleDeleteFecha}\n            />\n          ) : null}\n        </Box>\n      ) : null}\n\n      <ListaCompras obtenerComprasRealizadas={obtenerComprasRealizadas} />\n    </Fragment>\n  );\n};\n","import React from 'react'\n\nimport { Box, Container, Grid } from '@material-ui/core'\n\nimport NuevaFactura from './NuevaFactura/NuevaFactura';\nimport SeriesCDFI from './CFDISeries/SeriesCdfi';\n/* import SellosCDFI from './CFDISellos/SellosCdfi'; */\nimport FacturasRealizadas from './FacturasRealizadas/FacturasRealizadas';\n\nexport default function Facturacion() {\n    const sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\n    return (\n        <div>\n            <Container>\n                <Grid container spacing={2} justify=\"center\">\n                    {sesion.accesos.facturacion.generar_cdfi.ver === false ? (null) : (\n                        <Grid item lg={2}>\n                            <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n                                <NuevaFactura />\n                            </Box>\n                        </Grid>\n                    )}\n                    {sesion.accesos.facturacion.cdfi_realizados.ver === false ? (null) : (\n                        <Grid item lg={2}>\n                            <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n                                <FacturasRealizadas />\n                            </Box>\n                        </Grid>\n                    )}\n                    {/* \n                    <Grid item lg={2}>\n                        <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n                            <SellosCDFI />\n                        </Box>\n                    </Grid> */}\n                    {sesion.accesos.facturacion.registro_series_cdfi.ver === false ? (null) : (\n                        <Grid item lg={2}>\n                            <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n                                <SeriesCDFI />\n                            </Box>\n                        </Grid>\n                    )}\n                    \n                </Grid>\n            </Container>\n        </div>\n    )\n}\n","import React, { useEffect, useContext } from 'react'\nimport { \n    Paper, \n    makeStyles, \n    Table, \n    TableBody, \n    TableCell, \n    TableContainer, \n    TableHead, \n    TableRow, \n    CircularProgress,\n    Box,\n    Typography,\n\tIconButton,\n\tTablePagination\n} from '@material-ui/core/';\nimport { Delete } from '@material-ui/icons';\nimport ErrorPage from '../../../../components/ErrorPage'\n\n\nimport { useQuery } from '@apollo/client';\nimport { OBTENER_ALMACENES } from '../../../../gql/Almacenes/Almacen';\nimport ContainerRegistroAlmacen from './ContainerRegistroAlmacen';\nimport { CrearAlmacenContext } from '../../../../context/Almacenes/crearAlmacen';\n\nconst useStyles = makeStyles({\n    table: {\n      minWidth: 650,\n    },\n\troot: {\n\t\twidth: '100%'\n\t}\n  });\n\n  const columns = [\n\t{ id: 1, label: 'Nombre', minWidth: 100 },\n\t{ id: 2, label: 'Encargado', minWidth: 100 },\n\t{ id: 3, label: 'Sucursal', minWidth: 150 },\n\t{ id: 4, label: 'Calle', minWidth: 150 },\n\t{ id: 5, label: 'No. exterior', minWidth: 150 },\n\t{ id: 6, label: 'No. interior', minWidth: 100 },\n\t{ id: 7, label: 'Codigo postal', minWidth: 100 },\n\t{ id: 8, label: 'Colonia', minWidth: 100 },\n\t{ id: 9, label: 'Municipio', minWidth: 50, align: 'right' },\n\t{ id: 10, label: 'Localidad', minWidth: 50, align: 'right' },\n\t{ id: 11, label: 'Estado', minWidth: 50, align: 'right' },\n\t{ id: 12, label: 'Pais', minWidth: 50, align: 'right' },\n\t{ id: 13, label: 'Editar', minWidth: 50, align: 'right' },\n\t{ id: 14, label: 'Eliminar', minWidth: 50, align: 'right' }\n];\n\nexport default function ListaAlmacen() {\n\n    const classes = useStyles();\n\tconst [ page, setPage ] = React.useState(0);\n\tconst [ rowsPerPage, setRowsPerPage ] = React.useState(10);\n\tconst { update } = useContext(CrearAlmacenContext);\n    const sesion = JSON.parse(localStorage.getItem('sesionCafi'));\t\n\t/* Queries */\n\tconst { loading, data, error, refetch } = useQuery(OBTENER_ALMACENES,{\n\t\tvariables: {\n\t\t\tid: sesion.sucursal._id\n\t\t}\n\t});\t\n\t\n\tuseEffect(\n\t\t() => {\n\t\t\trefetch();\n\t\t},\n\t\t[ update, refetch ]\n\t);\n\n\tconst handleChangePage = (event, newPage) => {\n\t\tsetPage(newPage);\n\t};\n\n\tconst handleChangeRowsPerPage = (event) => {\n\t\tsetRowsPerPage(+event.target.value);\n\t\tsetPage(0);\n\t};\n\n\tif (loading)\n\t\treturn (\n\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" height=\"30vh\">\n\t\t\t\t<CircularProgress />\n\t\t\t</Box>\n\t\t);\n\tif (error) {\n\t\treturn <ErrorPage error={error} />;\n\t}\n\n\tconst { obtenerAlmacenes } = data;\n\n    // const classes = useStyles();\n\n    return (\n\t\t<Paper className={classes.root}>\n\t\t\t<TableContainer component={Paper}>\n\t\t\t\t<Table className={classes.table} aria-label=\"simple table\">\n\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t{columns.map((column) => (\n\t\t\t\t\t\t\t\t<TableCell key={column.id} align={column.align}>\n\t\t\t\t\t\t\t\t\t{column.label}\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t</TableHead>\n\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t{obtenerAlmacenes\n\t\t\t\t\t\t\t?.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\n\t\t\t\t\t\t\t?.map((row, index) => {\n\t\t\t\t\t\t\t\treturn <RowsRender key={index} datos={row} />;\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t</TableBody>\n\t\t\t\t</Table>\n\t\t\t</TableContainer>\n\t\t\t<TablePagination\n\t\t\t\trowsPerPageOptions={[]}\n\t\t\t\tcomponent=\"div\"\n\t\t\t\tcount={obtenerAlmacenes.length}\n\t\t\t\trowsPerPage={rowsPerPage}\n\t\t\t\tpage={page}\n\t\t\t\tonChangePage={handleChangePage}\n\t\t\t\tonChangeRowsPerPage={handleChangeRowsPerPage}\n\t\t\t/>\n\t\t</Paper>\n    )\n}\n\nconst RowsRender = ({ datos }) => {\n    const sesion = JSON.parse(localStorage.getItem('sesionCafi'));\t\n\n\treturn (\n\t\t<TableRow hover role=\"checkbox\" tabIndex={-1}>\n\t\t\t<TableCell>\n\t\t\t\t<Typography>{datos.nombre_almacen}</Typography>\n\t\t\t</TableCell>\n\t\t\t<TableCell>\n\t\t\t\t<Typography>{!datos.id_usuario_encargado ? \"Sin encargado\" : datos.id_usuario_encargado.nombre}</Typography>\n\t\t\t</TableCell>\n\t\t\t<TableCell>\n\t\t\t\t<Typography>{datos.id_sucursal.nombre_sucursal}</Typography>\n\t\t\t</TableCell>\n\t\t\t<TableCell>\n\t\t\t\t<Typography>{datos.direccion.calle ? datos.direccion.calle : \"\"}</Typography>\n\t\t\t</TableCell>\n\t\t\t<TableCell>\n\t\t\t\t<Typography>{datos.direccion.no_ext ? datos.direccion.no_ext : \"\"}</Typography>\n\t\t\t</TableCell>\n\t\t\t<TableCell>\n\t\t\t\t<Typography>{datos.direccion.no_int ? datos.direccion.no_int : \"\"}</Typography>\n\t\t\t</TableCell>\n\t\t\t<TableCell>\n\t\t\t\t<Typography>{datos.direccion.codigo_postal ? datos.direccion.codigo_postal : \"\"}</Typography>\n\t\t\t</TableCell>\n\t\t\t<TableCell>\n\t\t\t\t<Typography>{datos.direccion.colonia ? datos.direccion.colonia : \"\"}</Typography>\n\t\t\t</TableCell>\n\t\t\t<TableCell>\n\t\t\t\t<Typography>{datos.direccion.municipio ? datos.direccion.municipio : \"\"}</Typography>\n\t\t\t</TableCell>\n\t\t\t<TableCell>\n\t\t\t\t<Typography>{datos.direccion.localidad ? datos.direccion.localidad : \"\"}</Typography>\n\t\t\t</TableCell>\n\t\t\t<TableCell>\n\t\t\t\t<Typography>{datos.direccion.estado ? datos.direccion.estado : \"\"}</Typography>\n\t\t\t</TableCell>\n\t\t\t<TableCell>\n\t\t\t\t<Typography>{datos.direccion.pais ? datos.direccion.pais : \"\"}</Typography>\n\t\t\t</TableCell>\n\t\t\t<TableCell width={50}>\n\t\t\t\t{sesion.accesos.almacenes.almacen.editar === false ? (null):(\n\t\t\t\t\t<ContainerRegistroAlmacen accion=\"actualizar\" datos={datos} />\n\t\t\t\t)}\n\t\t\t</TableCell>\n\t\t\t<TableCell width={50}>\n\t\t\t\t{sesion.accesos.almacenes.almacen.eliminar === false ? (null):(\n\t\t\t\t\t<IconButton color=\"secondary\">\n\t\t\t\t\t\t<Delete />\n\t\t\t\t\t</IconButton>\n\t\t\t\t)}\n\t\t\t</TableCell>\n\t\t\t{/* <TableCell width={50}>\n\t\t\t\t<ModalDetalles openDetalles={openDetalles} handleDetalles={handleDetalles} datos={datos} />\n\t\t\t</TableCell>\n\t\t\t<TableCell width={50}>\n\t\t\t\t<CrearCliente tipo=\"CLIENTE\" accion=\"actualizar\" datos={datos} />\n\t\t\t</TableCell>\n\t\t\t<TableCell width={50}>\n\t\t\t\t<IconButton color=\"secondary\">\n\t\t\t\t\t<Delete />\n\t\t\t\t</IconButton>\n\t\t\t</TableCell> */}\n\t\t</TableRow>\n\t);\n};\n","import React, { forwardRef } from 'react';\nimport { AppBar, Toolbar, Typography, Slide, Button, Box, Dialog } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { FcPlus } from 'react-icons/fc';\nimport ContainerRegistroAlmacen from './ContainerRegistroAlmacen';\nimport ListaAlmacen from './ListaAlmacen';\nimport { AlmacenProvider } from '../../../../context/Almacenes/crearAlmacen';\nimport CloseIcon from '@material-ui/icons/Close';\nconst useStyles = makeStyles((theme) => ({\n\tappBar: {\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n    icon: {\n\t\tfontSize: 100\n\t}\n}));\n\nconst Transition = forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function RegistroAlmacen() {\n    const classes = useStyles();\n\tconst [ open, setOpen ] = React.useState(false);\n\tconst sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\n\tconst handleClickOpen = () => {\n\t\tsetOpen(true);\n\t};\n\n\tconst handleClose = () => {\n\t\tsetOpen(false);\n\t};\n\n    return (\n        <div>\n\t\t\t<AlmacenProvider>\n\t\t\t\t<Button fullWidth onClick={handleClickOpen}>\n\t\t\t\t\t<Box display=\"flex\" flexDirection=\"column\">\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t<FcPlus className={classes.icon} />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\tAgregar almacen\n\t\t\t\t\t</Box>\n\t\t\t\t</Button>\n\t\t\t\t<Dialog fullScreen open={open} onClose={handleClose} TransitionComponent={Transition}>\n\t\t\t\t\t<AppBar className={classes.appBar}>\n\t\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t\t<Typography variant=\"h6\" className={classes.title}>\n\t\t\t\t\t\t\t\t\tAgregar almacen\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Box m={1}>\n\t\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"secondary\" onClick={handleClose} size=\"large\">\n\t\t\t\t\t\t\t\t\t<CloseIcon style={{fontSize: 30}} />\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Toolbar>\n\t\t\t\t\t</AppBar>\n\t\t\t\t\t\t<Box m={3} display=\"flex\" justifyContent=\"flex-end\">\n\t\t\t\t\t\t\t{sesion.accesos.almacenes.almacen.agregar === false ? (null):(\n\t\t\t\t\t\t\t\t<ContainerRegistroAlmacen accion=\"registrar\" />\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t<Box mx={4}>\n\t\t\t\t\t\t<ListaAlmacen />\n\t\t\t\t\t</Box>\n\t\t\t\t</Dialog>\n\t\t\t</AlmacenProvider>\n        </div>\n    )\n}\n","export default __webpack_public_path__ + \"static/media/almacen.31993015.svg\";","import React, { createContext, useState, useEffect, } from 'react';\n\nexport const TraspasosAlmacenContext = createContext();\n\nexport const TraspasosProvider = ({ children }) => {\n\n\n    const [ update, setUpdate ] = useState(false);\n    const [ error, setError ] = useState(false);\n    const [ openRegistro, setOpenRegistro ] = useState(false);\n    const [ productos, setProductos ] = useState([]);\n    const [ productosTo, setProductosTo ] = useState([]);\n     const [ productosEmpTo, setProductosEmpTo ] = useState([]);\n    const [ productosTras, setProductosTras ] = useState([]);\n    const [ dataExcel, setDataExcel ] = useState([]);\n\n\treturn (\n\t\t<TraspasosAlmacenContext.Provider value={\n            { \n                \n                update,\n                setUpdate,\n                error,\n                setError,\n                openRegistro,\n                setOpenRegistro,\n                productos,\n                setProductos,\n                productosTras,\n                setProductosTras,\n                productosTo,\n                setProductosTo,\n                productosEmpTo, \n                setProductosEmpTo,\n                dataExcel,\n                setDataExcel\n                \n            }\n        }>\n\t\t\t{children}\n\t\t</TraspasosAlmacenContext.Provider>\n\t);\n};\n","import React, {\n  Fragment,\n  useRef,\n  useState,\n} from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Input from \"@material-ui/core/Input\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Checkbox from \"@material-ui/core/Checkbox\";\n//import { RegProductoContext } from \"../../../../../context/Catalogos/CtxRegProducto\";\nimport {\n  Box,\n  Chip,\n  IconButton,\n  Tooltip,\n  Zoom,\n} from \"@material-ui/core\";\nimport {\n  Cached,\n  Close,\n  Edit\n} from \"@material-ui/icons\";\nimport { fade } from \"@material-ui/core/styles/colorManipulator\";\n\nconst compareFunction = (a, b) => {\n  if (a.medida.talla && b.medida.talla) {\n    return a.medida.talla.localeCompare(b.medida.talla);\n  }\n};\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: \"100%\",\n  },\n  paper: {\n    width: \"100%\",\n    marginBottom: theme.spacing(2),\n  },\n  table: {\n    minWidth: 750,\n  },\n  container: {\n    \n  },\n  tableRow: {\n    \"&.Mui-selected, &.Mui-selected:hover\": {\n      backgroundColor: fade(theme.palette.primary.main, 0.1),\n    },\n  },\n  visuallyHidden: {\n    border: 0,\n    clip: \"rect(0 0 0 0)\",\n    height: 1,\n    margin: -1,\n    overflow: \"hidden\",\n    padding: 0,\n    position: \"absolute\",\n    top: 20,\n    width: 1,\n  },\n  colorContainer: {\n    border: \"1px solid rgba(0,0,0, .3)\",\n    height: 30,\n    width: 30,\n    borderRadius: \"15%\",\n  },\n}));\n\nexport default function TablaPresentaciones({\n  datos,\n  setOnUpdate,\n  onUpdate,\n  setNew_medidas\n}) {\n  \n  const classes = useStyles();\n  //const { presentaciones, setPresentaciones } = useContext([]);\n //let mostrar_presentaciones = [];\n   let mostrar_presentaciones = [...datos].sort((a, b) =>\n    compareFunction(a, b)\n  ); \n\n  return (\n    <div className={classes.root}>\n      <Paper className={classes.paper}>\n        <TableContainer className={classes.container}>\n          <Table\n            className={classes.table}\n            aria-labelledby=\"tableTitle\"\n            size=\"small\"\n            aria-label=\"enhanced table\"\n            stickyHeader\n          >\n            <TableHead>\n              <TableRow>\n                <TableCell>Existencia</TableCell>\n                <TableCell>Código de barras</TableCell>\n                <TableCell width={200}>Nombre</TableCell>\n                <TableCell padding=\"checkbox\">Medida</TableCell>\n                <TableCell padding=\"checkbox\">Color</TableCell>\n                <TableCell padding=\"checkbox\">Precio</TableCell>\n                {/* <TableCell padding=\"checkbox\">Descuento</TableCell> */}\n                {/* {!onlyPrice ? (\n                  <Fragment>\n                    <TableCell padding=\"checkbox\">Cantidad</TableCell>\n                  </Fragment>\n                ) : null} */}\n                <Fragment>\n                  <TableCell padding=\"checkbox\">Cantidad</TableCell>\n                </Fragment>\n                <TableCell padding=\"checkbox\">Editar</TableCell>\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {mostrar_presentaciones.map((producto, index) => {\n                return (\n                  <RenderPresentacionesRows\n                    key={index}\n                    producto={producto}\n                    index={index}\n                    datos={datos}\n                    setNew_medidas={setNew_medidas} \n                    setOnUpdate={setOnUpdate}\n                    onUpdate={onUpdate}\n                  />\n                );\n              })}\n            </TableBody>\n          </Table>\n        </TableContainer>\n      </Paper>\n    </div>\n  );\n}\n\nconst RenderPresentacionesRows = ({\n  producto,\n  index,\n  datos,\n  setNew_medidas,\n  from,\n  setOnUpdate,\n  onUpdate,\n  withoutPrice,\n  onlyPrice,\n}) => {\n  /* const { presentaciones, setPresentaciones, preciosP } = useContext(\n    RegProductoContext\n  ); */\n  const [disabledInput, setDisabledInput] = useState(true);\n  const classes = useStyles();\n  const textfield = useRef(null);\n\n  const copy_presentaciones = [...datos].sort((a, b) =>\n    compareFunction(a, b)\n  ); \n  const copy_element_presentacion = { ...copy_presentaciones[index] };\n  //const copy_element_presentacion = {  };\n  //const copy_element_presentacion_descuento = { ...copy_presentaciones[index].descuento };\n  const copy_element_presentacion_descuento = { };\n  const copy_producto = { ...producto };\n\n  /* if(from && from === 'compra'){\n\t\tcopy_producto.cantidad_nueva = 0\n\t} */\n\n  const handleEditCancel = () => {\n    if (!copy_producto.medida.cantidad) {\n      copy_element_presentacion.medida.cantidad = 0;\n    }\n    if (!copy_producto.nuevaCantidad) {\n      copy_element_presentacion.nuevaCantidad = 0;\n    }\n    if (!copy_producto.precio) {\n      copy_element_presentacion.precio = copy_producto.precio;\n      //copy_element_presentacion.medida.precio = 0;\n    }\n     copy_presentaciones.splice(index, 1, copy_element_presentacion);\n    setNew_medidas(copy_presentaciones); \n    setDisabledInput(true);\n  };\n\n  const obtenerDatos = (e) => {\n    const { name, value } = e.target;\n    if (name === \"cantidad\") {\n      if (!value) {\n        copy_element_presentacion.medida.cantidad = \"\";\n        copy_element_presentacion.medida.existencia = false;\n        copy_presentaciones.splice(index, 1, copy_element_presentacion);\n        setNew_medidas(setNew_medidas); \n        return;\n      }\n      copy_element_presentacion.medida.cantidad = parseFloat(value);\n      copy_element_presentacion.medida.existencia = true;\n    } else if (name === \"nuevaCantidad\") {\n      if (!value) {\n        copy_element_presentacion.nuevaCantidad = \"\";\n        copy_element_presentacion.medida.existencia = copy_producto.medida.existencia;\n        copy_presentaciones.splice(index, 1, copy_element_presentacion);\n        setNew_medidas(copy_presentaciones); \n        return;\n      }\n      copy_element_presentacion.nuevaCantidad = parseFloat(value);\n      copy_element_presentacion.medida.existencia = true;\n    } else if (name === \"precio\") {\n      if (!value) {\n        copy_element_presentacion.medida.precio = 0;\n        copy_presentaciones.splice(index, 1, copy_element_presentacion);\n        setNew_medidas(copy_presentaciones);\n        return;\n      }\n      if(copy_element_presentacion.medida.descuento_activo && copy_element_presentacion.medida.descuento_activo === true){\n        let precio_con_descuento = Math.round(\n          (value * copy_element_presentacion.medida.descuento.porciento) / 100\n        );\n        copy_element_presentacion_descuento.medida.precio_con_descuento = parseFloat(precio_con_descuento);\n        copy_element_presentacion.medida.precio = parseFloat(value);\n        copy_element_presentacion.medida.descuento = copy_element_presentacion_descuento\n      }else{\n        copy_element_presentacion.medida.precio = parseFloat(value);\n      }\n    } \n      else if (name === \"descuento\") {\n      /* if (!value) {\n        copy_element_presentacion.medida.precio = 0;\n        copy_presentaciones.splice(index, 1, copy_element_presentacion);\n        setNew_medidas(copy_presentaciones);\n        return;\n      }\n      if(copy_element_presentacion.medida.descuento_activo && copy_element_presentacion.medida.descuento_activo === true){\n        let precio_con_descuento = Math.round(\n          (value * copy_element_presentacion.medida.descuento.porciento) / 100\n        );\n        copy_element_presentacion_descuento.medida.precio_con_descuento = parseFloat(precio_con_descuento);\n        copy_element_presentacion.medida.precio = parseFloat(value);\n        copy_element_presentacion.medida.descuento = copy_element_presentacion_descuento\n      }else{\n        copy_element_presentacion.medida.precio = parseFloat(value);\n      } */\n       copy_element_presentacion.medida.descuento = value;\n         \n    }\n    else {\n      if (!value) {\n        copy_element_presentacion.medida.codigo_barras = \"\";\n        copy_presentaciones.splice(index, 1, copy_element_presentacion);\n        setNew_medidas(copy_presentaciones); \n        return;\n      }\n      copy_element_presentacion.medida.codigo_barras = value;\n    }\n     copy_presentaciones.splice(index, 1, copy_element_presentacion);\n    setNew_medidas(copy_presentaciones); \n  };\n\n  const GenCodigoBarras = () => {\n    const max = 999999999999;\n    const min = 100000000000;\n    const codigo_barras = Math.floor(\n      Math.random() * (max - min + 1) + min\n    ).toString();\n    copy_element_presentacion.medida.codigo_barras = codigo_barras;\n/*     copy_presentaciones.splice(index, 1, copy_element_presentacion);\n    setPresentaciones(copy_presentaciones); */\n  };\n\n  const actionButton = () => {\n    if (!disabledInput) {\n      handleEditCancel();\n      /* quitar del array\t */\n      onUpdate.splice(onUpdate.length - 1, 1);\n      setOnUpdate([...onUpdate]);\n    } else {\n      setDisabledInput(!disabledInput);\n      /*  agregar al array */\n      setOnUpdate([...onUpdate, index]);\n    }\n  };\n\n /*  const aplicarDescuento = (value) => {\n    copy_element_presentacion.medida.descuento_activo = value;\n/*     copy_presentaciones.splice(index, 1, copy_element_presentacion);\n    setPresentaciones(copy_presentaciones); \n  }; */\n\n  return (\n    <TableRow hover selected={!disabledInput} className={classes.tableRow}>\n      <TableCell align=\"center\" padding=\"checkbox\">\n        <Checkbox checked={copy_producto.medida.existencia} color=\"primary\" />\n      </TableCell>\n      <TableCell width={220}>\n        <Box display=\"flex\">\n          <Input\n            inputRef={textfield}\n            onChange={(e) => obtenerDatos(e)}\n            /* disabled={disabledInput} */\n            value={copy_producto.medida.codigo_barras}\n            type=\"number\"\n            name=\"codigo_barras\"\n            disabled={\n              datos.medidas_registradas && !copy_producto.medida.nuevo\n                ? true\n                : disabledInput\n            }\n          />\n          {!datos.medidas_registradas && copy_producto.medida.nuevo ? (\n            <IconButton\n              color=\"primary\"\n              size=\"small\"\n              onClick={() => GenCodigoBarras()}\n            >\n              <Cached />\n            </IconButton>\n          ) : datos.medidas_registradas && copy_producto.medida.nuevo ? (\n            <IconButton\n              color=\"primary\"\n              size=\"small\"\n              onClick={() => GenCodigoBarras()}\n            >\n              <Cached />\n            </IconButton>\n          ) : null}\n        </Box>\n      </TableCell>\n      <TableCell width={200}>{copy_producto.medida.nombre_comercial}</TableCell>\n      <TableCell padding=\"checkbox\">\n        {copy_producto.medida.medida._id ? (\n          <Chip label={copy_producto.medida.medida.talla} color=\"primary\" />\n        ) : (\n          \"\"\n        )}\n      </TableCell>\n      <TableCell padding=\"checkbox\">\n        {copy_producto.medida.color._id ? (\n          <Tooltip\n            title={copy_producto.medida.color.nombre}\n            placement=\"top\"\n            arrow\n            TransitionComponent={Zoom}\n          >\n            <div\n              className={classes.colorContainer}\n              style={{\n                backgroundColor: copy_producto.medida.color.hex,\n              }}\n            />\n          </Tooltip>\n        ) : null}\n      </TableCell>\n     \n\n         <Fragment>\n            <TableCell width={110}>\n              <Input\n                inputRef={textfield}\n                inputMode=\"numeric\"\n                type=\"number\"\n                onChange={(e) => obtenerDatos(e)}\n                disabled={disabledInput}\n                value={copy_producto.medida.precio}\n               \n                name=\"precio\"\n              />\n              \n            </TableCell>\n           {/*  <TableCell>\n              <Input\n                inputRef={textfield}\n                onChange={(e) => obtenerDatos(e)}\n                disabled={disabledInput}\n                value={copy_producto.medida.descuento}\n                type=\"tel\"\n                name=\"descuento\"\n              />\n            </TableCell> */}\n            <TableCell padding=\"checkbox\">\n              <Input\n                inputRef={textfield}\n                onChange={(e) => obtenerDatos(e)}\n                disabled={disabledInput}\n                value={copy_producto.nuevaCantidad}\n                type=\"tel\"\n                name=\"nuevaCantidad\"\n              />\n            </TableCell>\n          </Fragment>\n     \n      <TableCell padding=\"checkbox\">\n        <IconButton size=\"small\" onClick={() => actionButton()}>\n          {!disabledInput ? <Close /> : <Edit />}\n        </IconButton>\n      </TableCell>\n    </TableRow>\n  );\n};\n","import React, {\n  useState,\n  useEffect,\n  useCallback,\n} from \"react\";\nimport {\n  Typography,\n  Tooltip,\n  Slide\n} from \"@material-ui/core\";\n\n\nimport { Box, Grid } from \"@material-ui/core\";\nimport { makeStyles, useTheme } from \"@material-ui/core\";\nimport Zoom from \"@material-ui/core/Zoom\";\nimport { Done } from \"@material-ui/icons\";\nimport TablaPresentacionesNotOrigen from \"./TablePresentacionesNotOrigen\";\n\n\nimport CrearColorProducto from \"../../pages/sucursales/Catalogos/Producto/TallasColores/crearColor\";\nimport CrearTallasProducto from \"../../pages/sucursales/Catalogos/Producto/TallasColores/crearTalla\";\n\nconst useStyles = makeStyles((theme) => ({\n  colorContainer: {\n    border: \"1px solid rgba(0,0,0, .3)\",\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    height: 50,\n    width: 50,\n    margin: 1,\n    borderRadius: \"15%\",\n    cursor: \"pointer\",\n    \n  },\n}));\n\nconst GenCodigoBarras = () => {\n  return Math.floor(\n    Math.random() * (999999999999 - 100000000000 + 1) + 100000000000\n  ).toString();\n};\n\n\nexport default function ColoresTallas({\n  producto,\n  new_medidas,\n  setNew_medidas,\n  obtenerConsultasProducto,\n  refetch\n}) {\n\n    const [medidasSeleccionadas, setMedidasSeleccionadas] = useState([]);\n    const [coloresSeleccionados, setColoresSeleccionados] = useState([]);\n    /* const medidas =\n    producto.datos_generales.tipo_producto === \"ROPA\" ? [...obtenerConsultasProducto.tallas] : [...obtenerConsultasProducto.calzados]; */ \n    const [onUpdate, setOnUpdate] = useState([]);\n //console.log(data.obtenerConsultasProducto)\n  const obtenerColoresSeleccinados = useCallback(() => {\n    let colors = [];\n    let medidas = [];\n    \n    const copy_presentaciones =  [...new_medidas ];\n    \n \n//const copy_presentaciones = [];\n    /* Queries */\n \n    copy_presentaciones.forEach((element) => {\n   //console.log('obtenerColoresSeleccinados', element)\n      if (element.medida.color._id) colors.push(element.medida.color);\n      if (element.medida.medida._id) medidas.push(element.medida.medida);\n    });\n\n    var hashColor = {};\n    var hashMedida = {};\n    const colores_existentes = colors.filter((color) => {\n      var existColor = !hashColor[color._id];\n      hashColor[color._id] = true;\n      return existColor;\n    });\n    const medidas_existentes = medidas.filter((medida) => {\n      var existMedida = !hashMedida[medida._id];\n      hashMedida[medida._id] = true;\n      return existMedida;\n    });\n    //console.log('colores_existentes', colores_existentes, 'medidas_existentes', medidas_existentes)\n    setColoresSeleccionados([...colores_existentes]);\n    setMedidasSeleccionadas([...medidas_existentes]);\n   \n    \n  }, [new_medidas,setColoresSeleccionados, setMedidasSeleccionadas]);\n\n \n\n  useEffect(() => {\n    obtenerColoresSeleccinados();\n  }, [obtenerColoresSeleccinados]);\n\n  return (\n     <div>\n       <Box alignContent='center' m={5} >\n        <Grid container spacing={4}>\n         {/*  {!datos.medidas_registradas ? (\n            <Grid item md={4}>\n              <Box width=\"100%\">\n                <Typography>Almacen</Typography>\n                <Box display=\"flex\">\n                  <FormControl\n                    disabled={presentaciones.length === 0 || from === \"compra\"}\n                    variant=\"outlined\"\n                    fullWidth\n                    size=\"small\"\n                    name=\"almacen\"\n                    error={\n                      presentaciones.length > 0 && !almacen_inicial.almacen\n                    }\n                  >\n                    \n                    {presentaciones.length > 0  ? (\n                      <FormLabel>* Campo obligatorio</FormLabel>\n                    ) : null}\n                  </FormControl>\n            \n                </Box>\n              </Box>\n            </Grid>\n          ) : null} */}\n\n          <Grid item md={6}>\n            <Box\n              width=\"100%\"\n              style={\n                onUpdate.length > 0\n                  ? {\n                      pointerEvents: \"none\",\n                      opacity: 0.4,\n                    }\n                  : null\n              }\n            >\n              <Box display=\"flex\" alignItems=\"center\">\n                <Typography>\n                  {producto.datos_generales.tipo_producto === \"ROPA\"\n                    ? \"Talla\"\n                    : \"Número\"}\n                </Typography>\n                <Box mx={1} />\n                <CrearTallasProducto\n                  setMedidasSeleccionadas={setMedidasSeleccionadas}\n                  refetch={refetch}\n                />\n              </Box>\n              { (producto.datos_generales.tipo_producto === \"ROPA\") ? \n                  (obtenerConsultasProducto.tallas  !== undefined) ? \n                    <Grid container >\n                        {obtenerConsultasProducto.tallas.map((talla, index) => (\n                        <RenderTallas\n                            producto={producto}\n                            key={index}\n                            talla={talla}\n                            coloresSeleccionados={coloresSeleccionados}\n                            medidasSeleccionadas={medidasSeleccionadas}\n                            setMedidasSeleccionadas={setMedidasSeleccionadas}\n                            datos={new_medidas}\n                            setNew_medidas={setNew_medidas}\n                        />\n                        ))}\n                    </Grid>\n                  :\n                  <div/>\n                :\n                   (obtenerConsultasProducto.calzados  !== undefined) ? \n                      <Grid container >\n                        {obtenerConsultasProducto.calzados.map((talla, index) => (\n                        <RenderTallas\n                            producto={producto}\n                            key={index}\n                            talla={talla}\n                            coloresSeleccionados={coloresSeleccionados}\n                            medidasSeleccionadas={medidasSeleccionadas}\n                            setMedidasSeleccionadas={setMedidasSeleccionadas}\n                            datos={new_medidas}\n                            setNew_medidas={setNew_medidas}\n                        />\n                        ))}\n                    </Grid>\n                    :\n                    <div/>\n              }\n              \n            </Box>\n          </Grid>\n          <Grid item md={6}>\n            <Box\n              width=\"100%\"\n              style={\n                onUpdate.length > 0\n                  ? {\n                      pointerEvents: \"none\",\n                      opacity: 0.4,\n                    }\n                  : null\n              }\n            >\n              <Box display=\"flex\" alignItems=\"center\">\n                <Typography>Color</Typography>\n                <Box mx={1} />\n                <CrearColorProducto refetch={refetch} />\n              </Box>\n            {\n            (obtenerConsultasProducto.colores !== undefined) ? \n              <Grid container>\n                {obtenerConsultasProducto.colores.map((color, index) => (\n                  <Colores\n                    producto={producto}\n                    key={index}\n                    color={color}\n                    coloresSeleccionados={coloresSeleccionados}\n                    setColoresSeleccionados={setColoresSeleccionados}\n                    medidasSeleccionadas={medidasSeleccionadas}\n                    datos={new_medidas}\n                    setNew_medidas={setNew_medidas}\n                  />\n                ))}\n              </Grid>\n            :\n            <div/>\n            }  \n            </Box>\n          </Grid>\n        </Grid>\n        <Box mt={2} />\n        <TablaPresentacionesNotOrigen\n          datos={new_medidas}\n          setOnUpdate={setOnUpdate}\n          onUpdate={onUpdate}\n          setNew_medidas={setNew_medidas}\n        />\n      </Box>\n    </div>\n  );\n}\n\nconst RenderTallas = ({\n  producto,\n  talla,\n  coloresSeleccionados,\n  setMedidasSeleccionadas,\n  medidasSeleccionadas,\n  setNew_medidas,\n  datos,\n}) => {\n  const classes = useStyles();\n  const theme = useTheme();\n /*  const {\n    setPresentaciones,\n    presentaciones,\n    datos_generales,\n    preciosP,\n    presentaciones_eliminadas,\n    setPresentacionesEliminadas,\n  } = useContext(RegProductoContext); */\n  const [selected, setSelected] = useState(false);\n\n  const seleccionarMedidas = useCallback(() => {\n    medidasSeleccionadas.forEach((res) => {\n      if (res._id === talla._id) setSelected(true);\n    });\n  }, [talla._id, medidasSeleccionadas]);\n\n   useEffect(() => {\n    if (datos) {\n      return seleccionarMedidas();\n    }\n  }, [datos, seleccionarMedidas]); \n\n  const handleAddTallas = (value) => {\n    const medidas_seleccionadas_temp = [...medidasSeleccionadas];\n    //console.log('handleAddTallas', datos)\n    if (!selected) {\n      medidas_seleccionadas_temp.push(talla);\n      setSelected(value);\n    } else {\n      medidas_seleccionadas_temp.forEach((res, index) => {\n        if (res._id === talla._id) {\n          medidas_seleccionadas_temp.splice(index, 1);\n          setSelected(value);\n      /*     presentaciones.forEach((presentacion) => {\n            if (!presentacion.nuevo) {\n              if (presentacion.medida._id === res._id) {\n                setPresentacionesEliminadas([\n                  ...presentaciones_eliminadas,\n                  presentacion,\n                ]);\n              }\n            }\n          }); */\n        }\n      });\n    }\n\n    let presentacion_temp = [];\n    const array_medidad_finales = [...datos];\n    //const array_medidad_finales = [];\n    if (!coloresSeleccionados.length && !array_medidad_finales.length) {\n      /* SI NO HAY COLORES NI VALORES EN EL ARRAY FINAL SE AGREGA EL PRIMER ELEMENTO */\n      for (let i = 0; i < medidas_seleccionadas_temp.length; i++) {\n        const producto_medida = medidas_seleccionadas_temp[i];\n        presentacion_temp.push({\n          medida :{\n            _id: \"\",\n            existencia: false,\n            codigo_barras: GenCodigoBarras(),\n            nombre_comercial: producto.datos_generales.nombre_comercial,\n            medida: producto_medida,\n            color: { nombre: \"\", hex: \"\" },\n            precio: producto.precios.precios_producto[0].precio_neto,\n            cantidad: 0,\n            //nuevo: true\n          },\n          nuevaCantidad: 0\n          \n        });\n        \n      }\n    } else if (\n      !coloresSeleccionados.length &&\n      array_medidad_finales.length > 0\n    ) {\n      /* SI NO HAY COLORES REGISTRADOS PERO YA HAY TALLAS SE AGREGAN MAS */\n      for (let i = 0; i < medidas_seleccionadas_temp.length; i++) {\n        const producto_medida = medidas_seleccionadas_temp[i];\n        const result = array_medidad_finales.filter(\n          (res) => res.medida.medida._id === producto_medida._id\n        );\n        if (result.length) {\n          presentacion_temp.push(result[0]);\n        } else {\n          presentacion_temp.push({\n              medida :{\n              _id: \"\",\n              existencia: false,\n              codigo_barras: GenCodigoBarras(),\n              nombre_comercial: producto.datos_generales.nombre_comercial,\n              medida: producto_medida,\n              color: { nombre: \"\", hex: \"\" },\n              precio: producto.precios.precios_producto[0].precio_neto,\n              cantidad: 0,\n              //nuevo: true\n            },\n            nuevaCantidad: 0,\n    \n          });\n        }\n      }\n    } else if (\n      coloresSeleccionados.length > 0 &&\n      medidas_seleccionadas_temp.length === 1 &&\n      value\n    ) {\n      /* SI HAY COLORES SE LE AGREGA TALLA POR PRIMERA VEZ */\n      for (let i = 0; i < array_medidad_finales.length; i++) {\n        for (let k = 0; k < medidas_seleccionadas_temp.length; k++) {\n          presentacion_temp.push({\n             medida :{\n              _id: \"\",\n              existencia: array_medidad_finales[i].medida.existencia,\n              codigo_barras: array_medidad_finales[i].medida.codigo_barras,\n              nombre_comercial: array_medidad_finales[i].medida.nombre_comercial,\n              medida: medidas_seleccionadas_temp[k],\n              color: array_medidad_finales[i].medida.color,\n              precio: array_medidad_finales[i].medida.precio,\n              cantidad: array_medidad_finales[i].medida.cantidad,\n              //nuevo: true\n            },\n            nuevaCantidad: array_medidad_finales[i].nuevaCantidad,\n           \n          });\n        }\n      }\n    } else if (\n      coloresSeleccionados.length > 0 &&\n      medidas_seleccionadas_temp.length > 0\n    ) {\n      /* YA HAY COLORES Y MEDIDAS EN LAS PRESENTACIONES, SE AGREGAN NORMAL */\n      for (let i = 0; i < medidas_seleccionadas_temp.length; i++) {\n        const producto_medida = medidas_seleccionadas_temp[i];\n        for (let k = 0; k < coloresSeleccionados.length; k++) {\n          const producto_color = coloresSeleccionados[k];\n          const presentacion_existente = array_medidad_finales.filter(\n            (producto_array_final) =>\n              producto_array_final.medida.medida._id === producto_medida._id &&\n              producto_color._id === producto_array_final.medida.color._id\n          );\n          if (!presentacion_existente.length) {\n            //console.log('YA HAY COLORES Y MEDIDAS EN LAS PRESENTACIONES, SE AGREGAN NORMAL' , array_medidad_finales, producto_medida, producto_color)\n            presentacion_temp.push({\n              \n              medida :{\n                _id: \"\",\n                existencia: false,\n                codigo_barras: GenCodigoBarras(),\n                nombre_comercial: producto.datos_generales.nombre_comercial,\n                medida: producto_medida,\n                color: producto_color,\n                precio: 0,\n                cantidad: 0,\n                \n              },\n              nuevaCantidad: 0,\n            });\n          } else {\n            presentacion_temp.push(presentacion_existente[0]);\n          }\n        }\n      }\n    } else if (\n      coloresSeleccionados.length > 0 &&\n      !medidas_seleccionadas_temp.length\n    ) {\n      /* SI NO HAY TALLAS SE VUELVE A LISTAR LOS COLORES QUE YA ESTABAN EN PRESENTACIONES */\n      const presentaciones_existentes = array_medidad_finales.filter(\n        (producto) => producto.medida.medida._id\n      );\n      if (presentaciones_existentes.length) {\n        for (let x = 0; x < array_medidad_finales.length; x++) {\n          const objeto_presentaciones_final = array_medidad_finales[x];\n          presentacion_temp.push({\n              \n              medida :{\n                _id: \"\",\n                existencia: objeto_presentaciones_final.medida.existencia,\n                codigo_barras: objeto_presentaciones_final.medida.codigo_barras,\n                nombre_comercial: objeto_presentaciones_final.medida.nombre_comercial,\n                medida: objeto_presentaciones_final.medida.medida,\n                color: objeto_presentaciones_final.medida.color,\n                precio: objeto_presentaciones_final.medida.precio,\n                cantidad: objeto_presentaciones_final.medida.cantidad,\n                //nuevo: true\n              },\n              nuevaCantidad: objeto_presentaciones_final.nuevaCantidad, \n\n          \n          });\n        }\n      }\n    }\n     \n    setMedidasSeleccionadas([...medidas_seleccionadas_temp]);\n    setNew_medidas(presentacion_temp);\n  };\n\n  return (\n    <Grid item>\n      <div\n        className={classes.colorContainer}\n        onClick={() => handleAddTallas(!selected)}\n        style={\n          selected\n            ? {\n                backgroundColor: theme.palette.primary.main,\n              }\n            : null\n        }\n      >\n        <Typography\n          variant=\"button\"\n          style={{\n            color: theme.palette.getContrastText(\n              selected ? theme.palette.primary.main : \"#FFFFFF\"\n            ),\n            fontSize: 16,\n          }}\n        >\n          {talla.talla}\n        </Typography>\n      </div>\n    </Grid>\n  );\n};\n\nconst Colores = ({\n  producto,\n  color,\n  coloresSeleccionados,\n  setColoresSeleccionados,\n  medidasSeleccionadas,\n  datos,\n  setNew_medidas\n}) => {\n  const classes = useStyles();\n  const theme = useTheme();\n\n \n\n  const [selected, setSelected] = useState(false);\n\n  const seleccionarColores = useCallback(() => {\n    coloresSeleccionados.forEach((res) => {\n      if (res._id === color._id) setSelected(true);\n    });\n  }, [color._id, coloresSeleccionados]);\n \n  useEffect(() => {\n    if (producto) {\n      return seleccionarColores();\n    }\n  }, [producto, seleccionarColores]);\n\n  const obtenerColores = (value) => {\n    if (!selected) {\n      coloresSeleccionados.push(color);\n      setSelected(value);\n    } else {\n      coloresSeleccionados.forEach((res, index) => {\n        if (res._id === color._id) {\n          coloresSeleccionados.splice(index, 1);\n          setSelected(value);\n         /*  new_medidas.forEach((presentacion) => {\n            if (!presentacion.nuevo) {\n              if (presentacion.color._id === res._id) {\n                setPresentacionesEliminadas([\n                  ...presentaciones_eliminadas,\n                  presentacion,\n                ]);\n              }\n            }\n          }); */\n        }\n      });\n    }\n    let presentacion_temp = [];\n    const array_medidad_finales = [...datos];\n\n    if (!medidasSeleccionadas.length && !array_medidad_finales.length) {\n      /* SI NO HAY COLORES NI VALORES EN EL ARRAY FINAL SE AGREGA EL PRIMER ELEMENTO */\n      for (let i = 0; i < coloresSeleccionados.length; i++) {\n        const producto_color = coloresSeleccionados[i];\n        presentacion_temp.push({\n          medida :{\n              _id: \"\",\n              existencia: false,\n              codigo_barras: GenCodigoBarras(),\n              nombre_comercial: producto.datos_generales.nombre_comercial,\n              medida: {},\n              color: producto_color,\n              precio: producto.precios.precios_producto[0].precio_neto,\n              cantidad: 0,\n              //nuevo: true\n            },\n            nuevaCantidad: 0,\n        });\n      }\n    } else if (\n      !medidasSeleccionadas.length &&\n      array_medidad_finales.length > 0\n    ) {\n      /* SI YA HAY COLORES REGISTRADOS SE AGREGAN MAS */\n      for (let i = 0; i < coloresSeleccionados.length; i++) {\n        const producto_color = coloresSeleccionados[i];\n        const result = array_medidad_finales.filter(\n          (res) => res.medida.color._id === producto_color._id\n        );\n        if (result.length) {\n          presentacion_temp.push(result[0]);\n        } else {\n          presentacion_temp.push({\n             medida :{\n              _id: \"\",\n              existencia: false,\n              codigo_barras: GenCodigoBarras(),\n              nombre_comercial: producto.datos_generales.nombre_comercial,\n              medida: {},\n              color: producto_color,\n              precio: producto.precios.precios_producto[0].precio_neto,\n              cantidad: 0,\n              //nuevo: true\n            },\n            nuevaCantidad: 0,\n          });\n        }\n      }\n    } else if (\n      medidasSeleccionadas.length > 0 &&\n      coloresSeleccionados.length === 1 &&\n      value\n    ) {\n      /* SI YA HAY TALLAS SE LE AGREGA EL COLOR POR PRIMERA VEZ */\n      for (let i = 0; i < array_medidad_finales.length; i++) {\n        for (let k = 0; k < coloresSeleccionados.length; k++) {\n          presentacion_temp.push({\n            medida :{\n              _id: \"\",\n              existencia: array_medidad_finales[i].medida.existencia,\n              codigo_barras: array_medidad_finales[i].medida.codigo_barras,\n              nombre_comercial: array_medidad_finales[i].medida.nombre_comercial,\n              medida: array_medidad_finales[i].medida.medida,\n              color: coloresSeleccionados[k],\n              precio: array_medidad_finales[i].medida.precio,\n              cantidad: array_medidad_finales[i].medida.cantidad,\n              //nuevo: true\n            },\n            nuevaCantidad: array_medidad_finales[i].nuevaCantidad,\n           \n          });\n        }\n      }\n    } else if (\n      medidasSeleccionadas.length > 0 &&\n      coloresSeleccionados.length > 0\n    ) {\n      /* YA HAY TALLAS Y MEIDAS EN LAS PRESENTACIONES, SE REGISTRAN NORMAL */\n      for (let i = 0; i < coloresSeleccionados.length; i++) {\n        const producto_color = coloresSeleccionados[i];\n        for (let k = 0; k < medidasSeleccionadas.length; k++) {\n          const producto_medida = medidasSeleccionadas[k];\n          const presentacion_existente = array_medidad_finales.filter(\n            (producto_array_final) =>\n              producto_array_final.medida.medida._id === producto_medida._id &&\n              producto_color._id === producto_array_final.medida.color._id\n          );\n          if (!presentacion_existente.length) {\n            presentacion_temp.push({\n               medida :{\n                _id: \"\",\n                existencia: false,\n                codigo_barras: GenCodigoBarras(),\n                nombre_comercial: producto.datos_generales.nombre_comercial,\n                medida: producto_medida,\n                color: producto_color,\n                precio: 0,\n                cantidad: 0,\n                //nuevo: true\n              },\n              nuevaCantidad: 0,\n              \n            });\n          } else {\n            presentacion_temp.push(presentacion_existente[0]);\n          }\n        }\n      }\n    } else if (\n      medidasSeleccionadas.length > 0 &&\n      !coloresSeleccionados.length\n    ) {\n      /* SI NO HAY COLORES SE VUELVE A LISTAR LAS TALLAS QUE YA ESTABAN EN PRESENTACIONES */\n      const presentaciones_existentes = array_medidad_finales.filter(\n        (producto) => producto.medida.color._id\n      );\n      if (presentaciones_existentes.length) {\n        for (let x = 0; x < array_medidad_finales.length; x++) {\n          const objeto_presentaciones_final = array_medidad_finales[x];\n          presentacion_temp.push({\n            medida :{\n                _id: objeto_presentaciones_final.medida._id,\n                existencia: objeto_presentaciones_final.medida.existencia,\n                codigo_barras: objeto_presentaciones_final.medida.codigo_barras,\n                nombre_comercial: objeto_presentaciones_final.medida.nombre_comercial,\n                medida: objeto_presentaciones_final.medida.medida,\n                color: { nombre: \"\", hex: \"\" },\n                precio: objeto_presentaciones_final.medida.precio,\n                cantidad: objeto_presentaciones_final.medida.cantidad,\n                //nuevo: true\n              },\n            nuevaCantidad: objeto_presentaciones_final.nuevaCantidad,\n\n          });\n        }\n      }\n    }\n\n    setColoresSeleccionados([...coloresSeleccionados]);\n    setNew_medidas(presentacion_temp);\n  };\n\n  return (\n    <Grid item >\n      <Tooltip\n        title={color.nombre}\n        placement=\"top\"\n        arrow\n        TransitionComponent={Zoom}\n      >\n        <div\n          className={classes.colorContainer}\n          style={{\n            backgroundColor: color.hex,\n            color: theme.palette.getContrastText(color.hex),\n          }}\n          onClick={() => obtenerColores(!selected, color)}\n        >\n          {selected ? <Done /> : null}\n        </div>\n      </Tooltip>\n    </Grid>\n  );\n};\n","import React, { useContext,  useState, useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport {  Chip,  Tooltip, Zoom , TextField} from '@material-ui/core';\nimport { TraspasosAlmacenContext } from \"../../context/Almacenes/traspasosAlmacen\";\nimport { fade } from '@material-ui/core/styles/colorManipulator';\n\n/* const compareFunction = (a, b) => {\n\tif (a.medida.talla && b.medida.talla) {\n\t\treturn a.medida.talla.localeCompare(b.medida.talla);\n\t}\n}; */\n\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n\t\talignSelf:'center',\n\t\twidth:'90%',\n\t\tpaddingLeft: theme.spacing(2),\n    paddingRight: theme.spacing(1),\n\t\t\n\t},\n\tpaper: {\n\t\twidth: '100%',\n\t\tmarginBottom: theme.spacing(2)\n\t},\n\ttable: {\n\t\t\n\t\tminWidth: '100%',\n\t\tmaxWidth: '100%',\n\t\t\n\t},\n\t\n\ttableRow: {\n    \n\t\t'&.Mui-selected, &.Mui-selected:hover': {\n\t\t\tbackgroundColor: fade(theme.palette.primary.main, 0.1)\n\t\t}\n\t},\n    cell:{\n       align:'center'     \n    },\n\tvisuallyHidden: {\n\t\tborder: 0,\n\t\tclip: 'rect(0 0 0 0)',\n\t\theight: 1,\n\t\tmargin: -1,\n\t\toverflow: 'hidden',\n\t\tpadding: 0,\n\t\tposition: 'absolute',\n\t\ttop: 20,\n\t\twidth: 1\n\t},\n\tcolorContainer: {\n\t\tborder: '1px solid rgba(0,0,0, .3)',\n\t\theight: 30,\n\t\twidth: 30,\n\t\tborderRadius: '15%'\n\t}\n}));\n\n\n/* function stableSort(array, comparator) {\n  const stabilizedThis = array.map((el, index) => [el, index]);\n  stabilizedThis.sort((a, b) => {\n    const order = comparator(a[0], b[0]);\n    if (order !== 0) return order;\n    return a[1] - b[1];\n  });\n  return stabilizedThis.map((el) => el[0]);\n} */\n\nfunction descendingComparator(a, b, orderBy) {\n  if (b[orderBy] < a[orderBy]) {\n    return -1;\n  }\n  if (b[orderBy] > a[orderBy]) {\n    return 1;\n  }\n  return 0;\n}\n\nfunction getComparator(order, orderBy) {\n  return order === 'desc'\n    ? (a, b) => descendingComparator(a, b, orderBy)\n    : (a, b) => -descendingComparator(a, b, orderBy);\n}\n\nexport default function TablaPresentaciones({ producto, setOnUpdate, onUpdate, new_medidas, setNew_medidas }) {\n  const classes = useStyles();\n \n \n\n/*  \nconst handleChangePage = (event, newPage) => {\n    setPage(newPage);\n}; */\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Paper className={classes.paper}>\n\t\t\t\t<TableContainer style={{height:400}}>\n\t\t\t\t\t<Table\n\t\t\t\t\t\tclassName={classes.table}\n\t\t\t\t\t\taria-labelledby=\"tableTitle\"\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\taria-label=\"enhanced table\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t<TableCell >Medida</TableCell>\n\t\t\t\t\t\t\t\t<TableCell >Color</TableCell>\n\t\t\t\t\t\t\t\t<TableCell >Cantidad existente</TableCell>\n                                <TableCell >Cantidad a traspasar</TableCell>\n                            </TableRow>\n\t\t\t\t\t\t</TableHead>\n\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t{/* {stableSort(producto.medidas_producto, getComparator(order, orderBy))\n                \t\t\t.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\n\t\t\t\t\t\t\t.map((item, index) => { */}\n\t\t\t\t\t\t\t{producto.medidas_producto.map((item, index) => {\t\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<RenderPresentacionesRows\n\t\t\t\t\t\t\t\t\t\tidProducto={producto._id}\n\t\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\t\tmedida={item}\n\t\t\t\t\t\t\t\t\t\tindex={index}\n\t\t\t\t\t\t\t\t\t\tsetOnUpdate={setOnUpdate}\n\t\t\t\t\t\t\t\t\t\tonUpdate={onUpdate}\n\t\t\t\t\t\t\t\t\t\tnew_medidas={new_medidas}\n\t\t\t\t\t\t\t\t\t\tsetNew_medidas={setNew_medidas}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t</Table>\n\t\t\t\t</TableContainer>\n\t\t\t{/* \t<TablePagination\n\t\t\t\t\trowsPerPageOptions={[5, 10, 25]}\n\t\t\t\t\tcomponent=\"div\"\n\t\t\t\t\tcount={producto.medidas_producto.length}\n\t\t\t\t\trowsPerPage={rowsPerPage}\n\t\t\t\t\tpage={page}\n\t\t\t\t\tonChangePage={handleChangePage}\n\t\t\t\t\t// onRowsPerPageChange={handleChangeRowsPerPage}\n\t\t\t\t/> */}\n\t\t\t</Paper>\n\t\t</div>\n\t);\n}\n\n\nconst RenderPresentacionesRows = ({ medida, index, setOnUpdate, onUpdate,new_medidas, setNew_medidas, idProducto}) => {\n\n\tconst [ disabledInput, setDisabledInput ] = useState(true);\n\tconst classes = useStyles();\n\tconst [ cantidad, setCantidad ] = useState(0);\n\tconst [ cantidadAnt, setCantidadAnt ] = useState(0);\n\tconst copy_medida = { ...medida };\n\tconst {productosTras} = useContext(TraspasosAlmacenContext);\n\t//const [productInTras, setProductInTras] =  useState(null);\n\t//let productInTras = null;\n\t//let productInTras = productosTras.find(element => element.product_selecteded._id === idProducto);\n\t//const productosTrasContext = productosTras;\n \n\tuseEffect(() => {\n\t\tproductosTras.forEach(producto => {\n\t\t\t//console.log(\"SELECTMEDIDAS\",producto)\n\n\t\tif(producto.product_selected._id === idProducto){\n\t\t\tlet new_medidasCopia = [];\n\t\t\tlet element = null;\n\t\t\n\t\t\tfor (const med in producto.new_medidas) {\n\t\t\t\tif (Object.hasOwnProperty.call(producto.new_medidas, med)) {\n\t\t\t\t\telement = producto.new_medidas[med];\n\t\t\t\t\tnew_medidasCopia.push(element)\n\t\t\t\t\t\n\t\t\t\t\tif(medida._id === element.medida._id){\n\t\t\t\t\t\tsetCantidad( element.nuevaCantidad);\t\t\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tsetNew_medidas(producto.new_medidas);\n\t\t\treturn;\n\t\t}\n\t\t\n\t});\n\t\treturn () => {\n\t\t\t<div/>\n\t\t}\n\t}, [productosTras])\n\t\n\n\n\t\n\n\t/* if(from && from === 'compra'){\n\t\tcopy_producto.cantidad_nueva = 0\n\t} */\n\t\n\tconst obtenerDatos = (value) => {\n\t\tlet cant = (cantidadAnt > 0) ? parseInt(value - cantidadAnt)   : value;\n\t\t//console.log(\"CANT\",cantidad)\n\n\t\tif(cant <= medida.cantidad){\n\t\t\tsetCantidad(value);\n\t\t\n\t\t\tsetNew_medidas({...new_medidas, [index] : {medida:medida, nuevaCantidad: parseInt(cant)}})\n\t\t}\n\t\t/* \n\t\tconst unidades = {cantidad:} \n\t\tcopy_producto.push() */\n\t\t//Tengo que obtener los datos que se van a enviar se debe agregar un elemento al array \n\t\t\n\t\t//setPresentaciones(copy_presentaciones);\n\t};\n\n\n\treturn (\n\t\t<TableRow  selected={!disabledInput} className={classes.tableRow} >\n\t\t\t<TableCell >\n\t\t\t\t{copy_medida.medida._id ? <Chip label={copy_medida.medida.talla} color=\"primary\" /> : ''}\n\t\t\t</TableCell>\n\t\t\t<TableCell  style={{width:'20%'}}>\n\t\t\t\t{copy_medida.color._id ? (\n\t\t\t\t\t<Tooltip title={copy_medida.color.nombre} placement=\"top\" arrow TransitionComponent={Zoom}>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName={classes.colorContainer}\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\tbackgroundColor: copy_medida.color.hex\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Tooltip>\n\t\t\t\t) : null}\n\t\t\t</TableCell>\n\t\t\t\n\t\t\n\t\t\t<TableCell className={classes.cell}  style={{width:'25%'}}>\n\t\t\t\t{medida.cantidad}\n\t\t\t</TableCell>\n\t\t \n\t\t\t<TableCell  style={{width:'25%'}}>\n\t\t\t\t<TextField\n\t\t\t\t\tsize=\"small\"\n\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\tInputProps={{ inputProps: { min: 0 } }}\n\t\t\t\t\tinputMode=\"numeric\"\n\t\t\t\t\ttype=\"number\"\n\t\t\t\t\tvalue={cantidad}\n\t\t\t\t\tonChange={(value) => obtenerDatos(value.target.value)}\n\t\t\t\t\tname=\"nuevaCantidad\"\n\t\t\t\t/>\n            </TableCell>    \n\t\t</TableRow>\n\t);\n};","import React, {useContext, useEffect, useState} from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { Grid,Box, TextField } from '@material-ui/core';\nimport { lighten, makeStyles } from '@material-ui/core/styles';\nimport {Table, TableBody, TableCell, TableContainer, TableHead, TableRow, TableSortLabel} from '@material-ui/core';\nimport {Toolbar, Typography, Paper, IconButton, Tooltip, Dialog, Checkbox ,Slide, Button, DialogTitle, DialogActions} from '@material-ui/core';\nimport AddIcon from '@material-ui/icons/Add';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport EditIcon from '@material-ui/icons/Edit';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { TraspasosAlmacenContext } from \"../../context/Almacenes/traspasosAlmacen\";\nimport TallasColoresTraspasos from './TallasColoresTraspasos';\nimport TableSelectMedidas from './TableSelectMedidas';\nimport { useQuery } from '@apollo/client';\nimport {  OBTENER_CONSULTAS } from \"../../gql/Catalogos/productos\";\n\n// function createData(name, cantidad, precio) {\n//   return { name, cantidad, precio };\n// }\n\nfunction descendingComparator(a, b, orderBy) {\n  if (b[orderBy] < a[orderBy]) {\n    return -1;\n  }\n  if (b[orderBy] > a[orderBy]) {\n    return 1;\n  }\n  return 0;\n}\n\n/* function getComparator(order, orderBy) {\n  return order === 'desc'\n    ? (a, b) => descendingComparator(a, b, orderBy)\n    : (a, b) => -descendingComparator(a, b, orderBy);\n}\n\nfunction stableSort(array, comparator) {\n  const stabilizedThis = array.map((el, index) => [el, index]);\n  stabilizedThis.sort((a, b) => {\n    const order = comparator(a[0], b[0]);\n    if (order !== 0) return order;\n    return a[1] - b[1];\n  });\n  return stabilizedThis.map((el) => el[0]);\n} */\n\nconst headCells = (add) => {\n\nlet hC = (add) ? \n\n  [\n    { id: 'codeBarras', numeric: false, disablePadding: false, label: 'Código de barras' },\n    { id: 'name', numeric: false, disablePadding: true, label: 'Nombre' },\n    { id: 'tipo', numeric: true, disablePadding: false, label: 'Tipo' },\n    { id: 'cantidad', numeric: true, disablePadding: false, label: 'Cantidad' },\n\n  ]\n  :\n\n  [\n    { id: 'codeBarras', numeric: false, disablePadding: false, label: 'Código de barras' },\n    { id: 'name', numeric: false, disablePadding: true, label: 'Nombre' },\n    { id: 'tipo', numeric: true, disablePadding: false, label: 'Tipo' },\n    { id: 'cantidad', numeric: true, disablePadding: false, label: 'Cantidad' },\n    { id: 'solo', numeric: true, disablePadding: false, label: ' ' },\n  ]\n\n  return hC;\n}\n;\nconst getUnidadMax  = (cantidad_existente_maxima,unidadMaxima) => {\n  //console.log('getCantidad',cantidad_nueva, cantidad_medida, accion)\n  const UNIDAD_MAXIMA = {\n    'Caja' :  'Cantidad existente en cajas: ' + cantidad_existente_maxima,\n    'Costal' : 'Cantidad existente en costales: ' + cantidad_existente_maxima,\n  }  \n  return UNIDAD_MAXIMA[unidadMaxima];\n}\n\nfunction EnhancedTableHead(props) {\n  const { classes,  order, orderBy, onRequestSort } = props;\n  const createSortHandler = (property) => (event) => {\n    onRequestSort(event, property);\n  };\n  const headCellsNames =  headCells(props.add);\n  return (\n    <TableHead>\n      <TableRow>\n     \n        {headCellsNames.map((headCell) => (\n          <TableCell\n            key={headCell.id}\n            align='left'\n            // padding={headCell.disablePadding ? 'none' : 'normal'}\n            sortDirection={orderBy === headCell.id ? order : false}\n          >\n            <TableSortLabel\n              active={orderBy === headCell.id}\n              direction={orderBy === headCell.id ? order : 'asc'}\n              onClick={createSortHandler(headCell.id)}\n            >\n              {headCell.label}\n              {orderBy === headCell.id ? (\n                <span className={classes.visuallyHidden}>\n                  {order === 'desc' ? 'sorted descending' : 'sorted ascending'}\n                </span>\n              ) : null}\n            </TableSortLabel>\n          </TableCell>\n        ))}\n      </TableRow>\n    </TableHead>\n  );\n}\n\nEnhancedTableHead.propTypes = {\n  classes: PropTypes.object.isRequired,\n  // product_selected: PropTypes.object.isRequired,\n  onRequestSort: PropTypes.func.isRequired,\n  order: PropTypes.oneOf(['asc', 'desc']).isRequired,\n  orderBy: PropTypes.string.isRequired,\n  rowCount: PropTypes.number.isRequired,\n};\n\nconst useToolbarStyles = makeStyles((theme) => ({\n  root: {\n    \n    paddingLeft: theme.spacing(2),\n    paddingRight: theme.spacing(1),\n    maxWidth:650\n  },\n  input:{\n    width:180\n  }\n  ,\n  inputCantidad:{\n    width:120,\n    height:10\n  },\n  inputCantidadTable:{\n    width:'20%',\n    height:10\n  },\n  highlight:\n    theme.palette.type === 'light'\n      ? {\n          \n          color: theme.palette.secondary.main,\n          backgroundColor: lighten(theme.palette.primary.light, 0.85),\n        }\n      : {\n          color: theme.palette.text.primary,\n          backgroundColor: theme.palette.secondary.dark,\n        },\n  title: {\n    fontSize:16,\n    flex: '1',\n     display: 'flex',\n    flexWrap: 'wrap',\n  },\n}));\n\nconst DialogTallas = (props) => {\n\n  const [new_medidas, setNew_medidas] = useState([]);\n  const {setProductosTras, productosTras} = useContext(TraspasosAlmacenContext);\n \n  const setProd = () =>{\n    let newMedidasCopy = new_medidas;\n    let cantidad_total = 0;\n    \n\n     try {\n     \n       let prodSelect = null;\n    prodSelect = (props.almacenOrigen !== null) ? {\n      _id: props.product_selected._id,\n      datos_generales:  props.product_selected.datos_generales,\n      medidas_producto: props.product_selected.medidas_producto,\n      inventario_general: props.product_selected.inventario_general,\n      unidades_de_venta: props.product_selected.unidades_de_venta,\n      precios: props.product_selected.precios,\n      empresa:props.product_selected.empresa,\n      sucursal:props.product_selected.sucursal,\n      usuario: props.product_selected.usuario\n    }\n    :\n\n    {\n       _id: props.product_selected._id,\n      datos_generales:  props.product_selected.datos_generales,\n      precios: props.product_selected.precios,\n       medidas_producto: [],\n      inventario_general: [{unidad_maxima:''}],\n      unidades_de_venta: [],\n      empresa:props.product_selected.empresa,\n      sucursal:props.product_selected.sucursal,\n      usuario: props.product_selected.usuario \n    }; \n    let existe = false;\n    let copyProductosTras = productosTras;\n    let medidasTo =[];\n    //Count all new_medidas from array\n\n    for (let newMed in newMedidasCopy){ \n        cantidad_total +=  newMedidasCopy[newMed].nuevaCantidad;\n        //cantidad_total += newMedidasCopy[newMed];\n      medidasTo.push(newMedidasCopy[newMed])\n    } \n\n    if(cantidad_total > 0){\n    \n      if(copyProductosTras.length){//Check have data context\n        copyProductosTras.forEach(element => {\n          if(element.product_selected._id === props.product_selected._id){\n            existe = true;\n            ///VA A SUMAR EN LAS MEDIDAS LAS CANTIDADES\n            element.new_medidas = medidasTo;\n            element.cantidad_total = cantidad_total;\n            return;\n          }\n        });\n    \n        if(!existe){\n          //console.log(\"NO está este producto\", element.product_selected._id , props.product_selected._id );\n          let obj= {product_selected:prodSelect, new_medidas:medidasTo, cantidad_total:parseInt(cantidad_total), unidad_maxima: false}\n          copyProductosTras.push(obj)\n      \n        } \n      }else{ \n          let obj= {product_selected:prodSelect, new_medidas:medidasTo, cantidad_total:parseInt(cantidad_total), unidad_maxima: false}\n          copyProductosTras.push(obj)\n      }\n         \n      setProductosTras([...copyProductosTras])  \n      setNew_medidas([]);\n      close();\n    }  \n     } catch (error) {\n       //console.log('MANDH',error)\n     }\n    \n  }\n\n  const close= () => {\n    try {\n      props.setOpenTallas();\n      props.setproduct_selected(undefined)\n    } catch (error) {\n      //console.log(error)\n    }\n  }\n \n  useEffect(() => {\n    let new_medidasCopia = [];\n\n    productosTras.forEach(prod => {\n\t\t\n\t\tif(prod.product_selected._id ===  props.product_selected._id){\n\t\t\tlet element = null;\n        for (const med in prod.new_medidas) {\n          if (Object.hasOwnProperty.call(prod.new_medidas, med)) {\n            element = prod.new_medidas[med];\n            new_medidasCopia.push(element)\n          }\n        }\n      }\n    })  \n    setNew_medidas(new_medidasCopia);\n  }, [productosTras, props.product_selected._id])\n     \n\n  return(\n    <Dialog open={props.openTallas} TransitionComponent={Transition} fullWidth maxWidth={\"md\"} >\n        <Box m={1} display=\"flex\" justifyContent=\"flex-end\">\n                <Button variant=\"contained\" color=\"secondary\" onClick={() => close()} size=\"large\">\n                  <CloseIcon />\n                </Button>\n          </Box>\n      {\n        (props.almacenOrigen === null) ? \n          <div>\n            <TallasColoresTraspasos \n              obtenerConsultasProducto={props.obtenerConsultasProducto}\n              refetch={props.obtenerConsultasProducto.refetch}\n              producto={props.product_selected}\n              new_medidas={new_medidas} \n              setNew_medidas={setNew_medidas}\n            />\n          </div>\n        :\n        <div>\n          <TableSelectMedidas producto = {props.product_selected} new_medidas={new_medidas} setNew_medidas={setNew_medidas} add={props.add} />\n        </div> \n      }    \n      <Box display=\"flex\" justifyContent=\"flex-end\" m={1} mr={5}>\n        <Button  variant=\"contained\" color=\"primary\"style={{width:\"20%\"}} onClick={setProd} >\n          AGREGAR \n        </Button>\n      </Box>   \n    </Dialog>\n  )\n}\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nconst EnhancedTableToolbar = (props) => {\n  const classes = useToolbarStyles();\n  const [cantidadTo, setCantidadTo] = useState('');\n  const [openEnd, setOpenEnd] = useState(false);\n \n  \n  const { product_selected, setproduct_selected, tipoPieza, update } = props;\n   const {\n        setProductosTras,\n        productosTras\n    } = useContext(TraspasosAlmacenContext);\n\n\n\nconst setValueToTrans =(cantidad_total) =>{\n  try {\n    props.setError({error:false, mensaje:''})\n   \n    if(cantidad_total === 0 || cantidad_total === '') return;\n   let element = productosTras.find(element => element.product_selected._id === product_selected._id);\n  /*   let elementTablaTo = (props.almacenOrigen !== null) ? \n        productosEmpTo.find(element => element.product_selected._id === product_selected._id)\n        :\n        productosTo.find(element => element.product_selected._id === product_selected._id) */\n    if(element) {\n //console.log(cantidad_total, element)\n      let totalCantExistMasNuevaCantidad = parseFloat(cantidad_total);\n      //SUMA CANTIDAD TOTAL\n      \n      if(props.add){\n        if(product_selected.inventario_general !== undefined){\n          if( !tipoPieza.piezas ){\n            if(totalCantExistMasNuevaCantidad <=  product_selected.inventario_general[0].cantidad_existente_maxima){\n              element.cantidad_total = totalCantExistMasNuevaCantidad;\n            }else{\n              props.setError({error:true, mensaje:'La cantidad ingresada sobrepasa la cantidad existente del producto seleccionado.'})\n            }  \n          }else{\n            if(totalCantExistMasNuevaCantidad <=  product_selected.inventario_general[0].cantidad_existente){\n              element.cantidad_total = totalCantExistMasNuevaCantidad;\n            \n            }else{\n              props.setError({error:true, mensaje:'La cantidad ingresada sobrepasa la cantidad existente del producto seleccionado.'})\n            }\n          }\n        }else{\n          element.cantidad_total = totalCantExistMasNuevaCantidad;\n        /*   if(props.add){\n            elementTablaTo.inventario_general[0].cantidad_existente -= cantidad_total;\n          }else{\n            elementTablaTo.cantidad_total -= cantidad_total\n          } */\n\n          \n        }\n      }else{\n\n        element.cantidad_total = parseFloat(cantidad_total);\n      }  \n      setProductosTras([...productosTras]);\n      /*  if(props.almacenOrigen !== null){\n           setProductosEmpTo([...productosTras]);\n        }else{\n           setProductosTo([...productosTras]);\n        } */\n\n      return;\n\n\n    }else{\n      //Cuando sea el caso que no hay almacen de origen cambiar los datos que van a ir vacíos\n      //\n     \n      //console.log(props.product_selected.precios)\n      let prodSelect = {\n        _id: props.product_selected._id,\n        datos_generales:  props.product_selected.datos_generales,\n        inventario_general: props.product_selected.inventario_general,\n        unidades_de_venta: props.product_selected.unidades_de_venta,\n        medidas_producto: props.product_selected.medidas_producto,\n      \n        precios: props.product_selected.precios,\n        empresa:props.product_selected.empresa,\n        sucursal:props.product_selected.sucursal,\n        usuario: props.product_selected.usuario\n      } \n    //VERIFICA CANTIDAD MAXIMA\n    if(product_selected.inventario_general !== undefined){\n      if(cantidad_total <=  product_selected.inventario_general[0].cantidad_existente){\n      \n        let obj= {product_selected:prodSelect, new_medidas:[], cantidad_total, unidad_maxima: tipoPieza.cajas};\n        setProductosTras([...productosTras, obj]);\n      }\n      else{\n        props.setError({error:true, mensaje:'La cantidad ingresada sobrepasa la cantidad existente.'})\n      }\n    }else{\n       let obj= {product_selected:prodSelect, new_medidas:[], cantidad_total, unidad_maxima: tipoPieza.cajas};\n        setProductosTras([...productosTras, obj]);\n    }\n    }\n    setproduct_selected(undefined);\n     return;\n  } catch (error) {\n     //console.log(error)\n  }\n}\n\nconst deletesItems =() =>{\n  try {\n  \n    setproduct_selected(undefined)\n    //console.log(prodSet.filter(item => item.product_selected._id !== product_selected._id))\n    setProductosTras([]);\n\n  } catch (error) {\n\n  }\n}\n\n\nuseEffect(() => {\n  try {\n    if(props.add){\n      props.setOpenTallas(true)\n    }\n    setCantidadTo(props.cant)\n    \n  } catch (error) {\n    \n  }\n  \n}, [product_selected])   \n  \n  const pressEnter = (e) => {\n    try {\n      if (e.key === \"Enter\") {\n        setValueToTrans(parseFloat(e.target.value))\n      }\n    } catch (error) {\n      \n    }\n    \n  };        \n  function onlyNumbers(value){\n    props.setError({error:false, mensaje:''})\n      //const onlyNums = value.toString().replace(/[^0-9]/g, '');\n      const intValue = (value !== '') ? parseFloat(value) : 0;\n      try {\n        if(props.almacenOrigen !== null){\n          console.log(intValue)\n          if( !tipoPieza.piezas  ){\n            if(intValue <= product_selected.inventario_general[0].cantidad_existente_maxima){\n              setCantidadTo((intValue !== 0) ? intValue : '');\n              //console.log(intValue)\n              return;\n            }else{\n              props.setError({error:true, mensaje:'La cantidad ingresada sobrepasa la cantidad existente.'})\n              return;\n            } \n          }else{\n            \n              if(intValue <= product_selected.inventario_general[0].cantidad_existente){\n                 setCantidadTo((intValue !== 0) ? intValue : '');\n                return;\n              }\n              else{\n              props.setError({error:true, mensaje:'La cantidad ingresada sobrepasa la cantidad existente.'})\n              return;\n            } \n            }\n          }else{\n          \n            setCantidadTo(intValue);\n            return;\n          }\n      } catch (error) {\n        \n      }\n    \n  }\n\n\n\n  const TipoPiezaComponent = () => {\n     try {\n     \n      const TIPO_PIEZA = {\n        'Pz' :  {unidad_maxima: null, unidad_minima: 'Pz' },\n        'Caja' : {unidad_maxima: 'Caja', unidad_minima: 'Pz' },\n        'Kg' : {unidad_maxima: null, unidad_minima: 'Kg' },\n        'Costal' : {unidad_maxima: 'Costal', unidad_minima: 'Kg' },\n        'Lt' : {unidad_maxima: null, unidad_minima: 'Lt' }\n      }\n      \n\n    \n      return (\n        <Box flexDirection={'row'} display=\"flex\">\n          <Box flexDirection={'row'}  >\n          <Checkbox checked={tipoPieza.piezas}   color=\"primary\" onChange={() => {update(); setCantidadTo(0)}} disabled={TIPO_PIEZA[product_selected.precios.unidad_de_compra.unidad].unidad_maxima === null} />\n            <Typography color=\"primary\" style={{marginLeft:10}}>{TIPO_PIEZA[product_selected.precios.unidad_de_compra.unidad].unidad_minima}</Typography> \n          </Box>\n    \n          \n        { \n          (TIPO_PIEZA[product_selected.precios.unidad_de_compra.unidad].unidad_maxima !== null) ? \n            <Box flexDirection={'row'} >\n              <Checkbox checked={tipoPieza.cajas} color=\"primary\" onChange={() => {update(); setCantidadTo(0)}}/>\n              <Typography color=\"primary\" style={{marginLeft:10}}>{TIPO_PIEZA[product_selected.precios.unidad_de_compra.unidad].unidad_maxima} </Typography> \n            </Box>\n          :\n            <div/>\n          \n          }\n      \n        </Box>\n      );\n     } catch (error) {\n       \n     }\n    \n    \n  }\n\n  return (\n    <Toolbar\n      className={clsx(classes.root, {\n        [classes.highlight]: product_selected !== undefined && props.add,\n      })}\n    \n    >\n    <Grid container>\n      {product_selected !== undefined  && props.add ? (\n        <Box style={{width:'100%'}}>\n         \n          <Typography className={classes.title} color=\"inherit\" variant=\"subtitle2\"  >\n            {product_selected.datos_generales.nombre_comercial} \n          </Typography>\n        </Box>\n      ) : (\n        <Box style={{width:'100%'}} flexDirection={'row'} display=\"flex\">\n          <Typography className={classes.title} variant=\"h6\" id=\"tableTitle\" component=\"div\">\n            {props.title}\n          </Typography>\n          {\n            (productosTras.length > 0 && !props.add) ? \n            <Tooltip title=\"Eliminar todos\">\n              <IconButton aria-label=\"delete\" onClick={() => setOpenEnd(true)} >\n                  <DeleteIcon />\n              </IconButton>\n            </Tooltip>\n            :\n            <div/>\n          }\n          \n         </Box>  \n      )}\n\n      {(product_selected !== undefined )? (\n      <Box > \n        {\n          (props.error.error) ?\n          <Typography color=\"inherit\">{props.error.mensaje}</Typography>\n          :\n          <div/>\n        } \n            {\n            (props.add ) ?\n                (product_selected.datos_generales.tipo_producto === 'OTROS') ? \n                  <Grid container  justifyContent=\"space-evenly\" ml={1}>\n                \n                      {\n                        (props.almacenOrigen === null)?\n                        \n                        <TipoPiezaComponent />\n                        :\n                        <Box flexDirection={'row'} display=\"flex\">\n                          <Box flexDirection={'row'}  >\n                            <Checkbox checked={tipoPieza.piezas}   color=\"primary\" onChange={() => {update(); setCantidadTo(0)}} disabled={props.product_selected.inventario_general[0].cantidad_existente_maxima === null} />\n                            <Typography color=\"primary\" style={{marginLeft:10}}>{props.product_selected.inventario_general[0].unidad_inventario}</Typography> \n                          </Box>\n                          {\n                            (props.product_selected.inventario_general[0].unidad_maxima !== null ) ?\n                              <Box flexDirection={'row'} >\n                                <Checkbox checked={tipoPieza.cajas} color=\"primary\" onChange={() => {update(); setCantidadTo(0)}}/>\n                                <Typography color=\"primary\" style={{marginLeft:10}}>{\"\" + props.product_selected.inventario_general[0].unidad_maxima} </Typography> \n                              </Box>\n                            :\n                              <div/>\n                          }\n                        </Box>\n                      }\n                        \n                      <Box width=\"180px\" ml={2}>\n                    \n                        <Typography color=\"primary\">Cantidad</Typography>\n                        <TextField\n                            className={classes.inputCantidad}\n                            \n                            size=\"small\"\n                            name=\"cantidad\"\n                            variant=\"outlined\"\n                            type=\"number\"\n                            InputProps={{ inputProps: { min: 0 } }}\n                            value={cantidadTo}\n    \n                            onKeyPress={pressEnter}\n                            onChange={(value) => onlyNumbers(value.target.value)}\n                            \n                        />\n                      \n                        <Tooltip title=\"Agregar\">\n                            <IconButton aria-label=\"add\" onClick={() => setValueToTrans(cantidadTo)} >\n                                <AddIcon />\n                            </IconButton>\n                        </Tooltip>\n                      </Box>\n                      {\n                        (props.almacenOrigen) ? \n                          <Box  width=\"150px\" >\n                            {\n                              (props.product_selected.inventario_general[0].cantidad_existente_maxima !== null ) ? \n                                <Typography color=\"primary\" style={{flexWrap: \"wrap\"}}>\n                                  {getUnidadMax(props.product_selected.inventario_general[0].cantidad_existente_maxima,props.product_selected.inventario_general[0].unidad_maxima)}\n                                  </Typography>\n                              :\n                              <div/>\n                            }\n                          </Box>\n                        :\n                        <div/>\n                      }\n                    </Grid>\n                   \n                  :    \n                  <div>\n                    <DialogTallas openTallas={props.openTallas} setOpenTallas={props.setOpenTallas} setproduct_selected={setproduct_selected}  product_selected={product_selected} almacenOrigen={props.almacenOrigen} obtenerConsultasProducto={props.obtenerConsultasProducto}refetch={props.refetch}/> \n                  </div> \n                :\n                <div>\n                   <DialogTallas openTallas={props.openTallas} setOpenTallas={props.setOpenTallas} setproduct_selected={setproduct_selected}  product_selected={product_selected} almacenOrigen={props.almacenOrigen} obtenerConsultasProducto={props.obtenerConsultasProducto}refetch={props.refetch}/> \n                </div>\n                /* <Grid width={'100%'} container>\n                  { (product_selected.datos_generales.tipo_producto === 'OTROS') ? \n                    <div>\n                     \n                      <Typography color=\"primary\">Cantidad</Typography>\n                      <TextField\n                          className={classes.inputCantidad}\n                          size=\"small\"\n                          name=\"cantidad\"\n                          variant=\"outlined\"\n                          type=\"number\"\n                          InputProps={{ inputProps: { min: 0 } }}\n                          value={cantidadTo}\n                          onChange={(value) => onlyNumbers(value.target.value)}\n                          \n                      />\n                    \n                      <Tooltip title=\"Agregar\">\n                          <IconButton aria-label=\"add\" onClick={() => setValueToTrans(cantidadTo)} >\n                              <AddIcon />\n                          </IconButton>\n                      </Tooltip>\n                    </div>\n                    :\n                    \n                    <DialogTallas openTallas={openTallas} setOpenTallas={setOpenTallas} setproduct_selected={setproduct_selected}  product_selected={product_selected} almacenOrigen={props.almacenOrigen} obtenerConsultasProducto={props.obtenerConsultasProducto}refetch={props.refetch}/> \n                     \n                     \n                  }\n                  <Box mt={3} >\n                  { (product_selected.datos_generales.tipo_producto !== 'OTROS') ? \n                     <Tooltip title=\"Editar\">\n                        <IconButton aria-label=\"delete\" onClick={() => editItem()} >\n                            <EditIcon />\n                        </IconButton>\n                    </Tooltip> \n                    :\n                    <div/>\n                    }\n                    <Tooltip title=\"Eliminar\">\n                        <IconButton aria-label=\"delete\" onClick={() => deleteItem()} >\n                            <DeleteIcon />\n                        </IconButton>\n                    </Tooltip>\n                  </Box> \n                </Grid> */\n            }\n                \n         \n        </Box>\n      ) : (\n        <div/>\n      )}\n      </Grid>\n      <Dialog open={openEnd} onClose={() => setOpenEnd(false)}>\n            <DialogTitle>{'¿Está seguro de realizar esta acción?'}</DialogTitle>\n            <DialogActions>\n                <Button onClick={() => setOpenEnd(false)} color=\"primary\">\n                    Cancelar\n                </Button>\n                <Button color=\"secondary\" autoFocus variant=\"contained\" onClick={() => deletesItems()}>\n                    Eliminar\n                </Button>\n            </DialogActions>\n        </Dialog>\n    </Toolbar>\n  );\n};\n\n// EnhancedTableToolbar.propTypes = {\n//   numSelected: PropTypes.number.isRequired,\n// };\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n   \n    marginLeft:theme.spacing(1),\n    marginRight:theme.spacing(1),\n\n\n  },\n  paper: {\n    width: '100%',\n    marginBottom: theme.spacing(2),\n  },\n  table: {\n    minWidth: 600,\n    maxWidth:600\n   \n  },\n  visuallyHidden: {\n    border: 0,\n    clip: 'rect(0 0 0 0)',\n    height: 1,\n    margin: -1,\n    overflow: 'hidden',\n    padding: 0,\n    position: 'absolute',\n    top: 20,\n    width: 1,\n  },\n}));\n\nexport default function EnhancedTable(props) {\n  const classes = useStyles();\n  const [order, setOrder] = useState('asc');\n  const [orderBy, setOrderBy] = useState('calories');\n  const [selected, setSelected] = useState(undefined);\n  const [ openTallas, setOpenTallas] = useState(false);\n  const [cant, setCant] = useState(0);\n   const [error, setError] = useState({error:false, mensaje:''});\n  //const [data, setData] = useState([]);\n  const [page, setPage] = React.useState(0);\n  const [rowsPerPage, setRowsPerPage] = useState(5);\n  const [tipoPieza, setTipoPieza] = useState({piezas: true, cajas: false});\n  const sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\n\n\n  const update = () => {\n   setTipoPieza({...tipoPieza, piezas: !tipoPieza.piezas, cajas: !tipoPieza.cajas})\n }\n \n  const {\n        productosTras, productosTo,   productosEmpTo, setProductosTras\n    } = useContext(TraspasosAlmacenContext);\n\n  const obtenerConsultasProducto = useQuery(OBTENER_CONSULTAS, {\n    variables: { empresa: sesion.empresa._id, sucursal: sesion.sucursal._id },\n  });\n\n  \n  const handleRequestSort = (event, property) => {\n    const isAsc = orderBy === property && order === 'asc';\n    setOrder(isAsc ? 'desc' : 'asc');\n    setOrderBy(property);\n  };\n\n  const handleSelectAllClick = (event) => {\n    if (event.target.checked) {\n      //const newSelecteds = data.map((n) => n.name);\n      setSelected(event.target.checked);\n      return;\n    }\n    setSelected([]);\n  };\n  const data = (!props.add) ?  productosTras  : (!props.almacenOrigen) ? productosEmpTo : productosTo  ; \n\n  const handleClick = (event, elemento, cant) => {\n  setError({error:false, mensaje:''})\n    if(elemento.datos_generales.tipo_producto === 'OTROS'){\n      let haveCant= 0;\n      productosTras.forEach(producto => {\n        if(producto.product_selected._id === elemento._id){\n      \t  \n          haveCant = producto.cantidad_total;\t\t\n        }\n      });\n      \n        setCant(props.add ? haveCant : cant)\n    }\n\n    \n    if(selected!== undefined){\n      const selectedIndex = selected._id === elemento._id;\n     \n      // let newSelected = [];\n      if(selectedIndex){\n          setSelected(undefined);\n      }else{\n          setSelected(elemento);\n      } \n    }else{\n      //console.log(elemento)\n      setSelected(elemento);\n    }\n   \n    \n  };\n    \n  const handleChangePage = (event, newPage) => {\n    setPage(newPage);\n  };\n\n  const handleChangeRowsPerPage = (event) => {\n    setRowsPerPage(parseInt(event.target.value, 10));\n    setPage(0);\n  };\n  const deleteItem =(row) =>{\n    try {\n      \n      let prodSet =  [] ;\n      \n    \n      if(productosTras.length){\n        prodSet = productosTras;\n      }\n      \n    \n      //console.log(prodSet.filter(item => item.product_selected._id !== product_selected._id))\n      setProductosTras(prodSet.filter(item => item.product_selected._id !== row._id));\n\n    } catch (error) {\n\n    }\n  }\n  const setValueToTrans =(cantidad_total) =>{\n  try {\n    //setError({error:false, mensaje:''})\n   \n    if(cantidad_total === 0 || cantidad_total === '') return;\n   let element = productosTras.find(element => element.product_selected._id === selected._id);\n  /*   let elementTablaTo = (props.almacenOrigen !== null) ? \n        productosEmpTo.find(element => element.product_selected._id === product_selected._id)\n        :\n        productosTo.find(element => element.product_selected._id === product_selected._id) */\n  if(element) {\n //console.log(cantidad_total, element)\n      let totalCantExistMasNuevaCantidad = parseFloat(cantidad_total + element.cantidad_total);\n      //SUMA CANTIDAD TOTAL\n      \n      if(props.add){\n        if(selected.inventario_general !== undefined){\n          if( !tipoPieza.piezas ){\n            if(totalCantExistMasNuevaCantidad <=  selected.inventario_general[0].cantidad_existente_maxima){\n              element.cantidad_total = totalCantExistMasNuevaCantidad;\n            }else{\n              setError({error:true, mensaje:'La cantidad ingresada sobrepasa la cantidad existente del producto seleccionado.'})\n            }  \n          }else{\n            if(totalCantExistMasNuevaCantidad <=  selected.inventario_general[0].cantidad_existente){\n              element.cantidad_total = totalCantExistMasNuevaCantidad;\n            \n            }else{\n              setError({error:true, mensaje:'La cantidad ingresada sobrepasa la cantidad existente del producto seleccionado.'})\n            }\n          }\n        }else{\n          element.cantidad_total = totalCantExistMasNuevaCantidad;\n        /*   if(props.add){\n            elementTablaTo.inventario_general[0].cantidad_existente -= cantidad_total;\n          }else{\n            elementTablaTo.cantidad_total -= cantidad_total\n          } */\n\n          \n        }\n      }else{\n\n        element.cantidad_total = parseFloat(cantidad_total);\n      }  \n      setProductosTras([...productosTras]);\n      /*  if(props.almacenOrigen !== null){\n           setProductosEmpTo([...productosTras]);\n        }else{\n           setProductosTo([...productosTras]);\n        } */\n\n      return;\n\n\n    }\n     return;\n  } catch (error) {\n     //console.log(error)\n  }\n}\n\n  \n  function onlyNumbers(value){\n   setError({error:false, mensaje:''})\n      //const onlyNums = value.toString().replace(/[^0-9]/g, '');\n      const intValue = parseFloat(value);\n      try {\n        if(props.almacenOrigen !== null){\n          if( !tipoPieza.piezas  ){\n            if(intValue <= selected.inventario_general[0].cantidad_existente_maxima){\n               setValueToTrans(intValue)\n              //console.log(intValue)\n              return;\n            } \n          }else{\n            \n              if(intValue <= selected.inventario_general[0].cantidad_existente){\n                setValueToTrans(intValue)\n                return;\n              }\n            }\n          }else{\n           \n          \n            \n            return;\n          }\n      } catch (error) {\n        \n      }\n    \n  }\n  const isSelected = (id) => {\n    //return selected.indexOf(name) !== -1;\n    \n    if(selected!== undefined){\n      const selectedIndex = selected._id === id;\n   \n      // let newSelected = [];\n      if(!selectedIndex){\n        return false;\n      }else{\n        return true;\n      } \n    }else{\n      return false;\n    }\n    \n  } \n\n  const editItem =(prod_sel) =>{\n  try {\n  \n  \n    if(prod_sel.datos_generales.tipo_producto !== 'OTROS') {\n      setOpenTallas(true);\n      //console.log(props)\n    }\n   \n  } catch (error) {\n\n  }\n}\n  const emptyRows = rowsPerPage - Math.min(rowsPerPage, data.length - page * rowsPerPage);\n  \n  return (\n    <div className={classes.root}>\n      <Paper className={classes.paper}>\n       \n        <EnhancedTableToolbar \n          product_selected={selected} \n          setproduct_selected={setSelected} \n          openTallas={openTallas}\n          setOpenTallas={setOpenTallas}\n          error={error}\n          setError={setError}\n          title={props.title} add={props.add} almacenOrigen={props.almacenOrigen} productosTras ={productosTras} tipoPieza={tipoPieza} update={update} cant={cant} obtenerConsultasProducto={(obtenerConsultasProducto.data) ? obtenerConsultasProducto.data.obtenerConsultasProducto :[]}refetch={( obtenerConsultasProducto.refetch ) ? obtenerConsultasProducto.refetch : null}  />\n        <TableContainer style={{height:'50vh'}}>\n          <Table\n            className={classes.table}\n            aria-labelledby=\"tableTitle\"\n            size={'small'}\n           \n            aria-label=\"a dense table\"\n          >\n            <EnhancedTableHead\n              classes={classes}\n              product_selected={selected}\n              add = {props.add}\n              order={order}\n              orderBy={orderBy}\n              handleSelectAllClick={handleSelectAllClick}\n              onRequestSort={handleRequestSort}\n              rowCount={data.length}\n            />\n            <TableBody>\n              {data\n                .map((row, index) => {\n                \n                  const isItemSelected = isSelected((props.add === true) ? row._id: row.product_selected._id);\n                  const labelId = `enhanced-table-checkbox-${index}`;\n                \n                  if(props.add){\n                    \n                    if(props.almacenOrigen) {\n                 \n                    return (\n                      <TableRow\n                        hover\n                        onClick={(event) => handleClick(event, row)}\n                        role=\"checkbox\"\n                        aria-checked={isItemSelected}\n                        tabIndex={-1}\n                        key={(props.add === true) ? row._id : row.product_selected._id}\n                        selected={isItemSelected}\n                        \n                      >\n                        <TableCell  id={labelId} scope=\"row\">\n                          {(row.datos_generales.codigo_barras == null)? 'SIN CÓDIGO' : row.datos_generales.codigo_barras}\n                        </TableCell>\n                        <TableCell component=\"th\" id={labelId} scope=\"row\">\n                          {row.datos_generales.nombre_comercial}\n                        </TableCell>\n                        \n                        <TableCell align=\"left\"> {row.datos_generales.tipo_producto}</TableCell>\n                        <TableCell align=\"left\"> {row.inventario_general[0].cantidad_existente }  {row.inventario_general[0].unidad_inventario} </TableCell>\n                        \n                        \n                      \n                      </TableRow>\n                    );\n                    }else{\n                      return(\n                        <TableRow\n                        hover\n                        onClick={(event) => handleClick(event, row)}\n                        role=\"checkbox\"\n                        aria-checked={isItemSelected}\n                        tabIndex={-1}\n                        key={row._id}\n                        selected={isItemSelected}\n                        \n                      >\n                        <TableCell  id={labelId} scope=\"row\">\n                          {(row.datos_generales.codigo_barras == null)? 'SIN CÓDIGO' : row.datos_generales.codigo_barras}\n                        </TableCell>\n                        <TableCell component=\"th\" id={labelId} scope=\"row\">\n                          {row.datos_generales.nombre_comercial}\n                        </TableCell>\n                        <TableCell align=\"left\"> {row.datos_generales.tipo_producto}</TableCell>\n                        <TableCell align=\"left\"> N/A</TableCell>\n                      </TableRow>\n                      );\n                    }\n                  }else{\n                    \n                    return(\n                    <TableRow\n                      hover\n                      onClick={(event) => handleClick(event, row.product_selected, row.cantidad_total)}\n                      role=\"checkbox\"\n                      aria-checked={isItemSelected}\n                      tabIndex={-1}\n                       key={(props.add === true) ? row._id : row.product_selected._id}\n                      selected={isItemSelected}\n                      \n                    >\n                      <TableCell  id={labelId} component=\"th\" width={100}>\n                        {(row.product_selected.datos_generales.codigo_barras == null)? 'SIN CÓDIGO' : row.product_selected.datos_generales.codigo_barras}\n                      </TableCell>\n                      <TableCell id={labelId}  width={200}>\n                        {row.product_selected.datos_generales.nombre_comercial}\n                      </TableCell>\n                      <TableCell align=\"left\" > {row.product_selected.datos_generales.tipo_producto}</TableCell>\n                      {\n                        (row.product_selected.datos_generales.tipo_producto  === \"OTROS\") ? \n                          <TableCell align=\"left\"  width={20} > \n                            <TextField\n                              size=\"small\"\n                              name=\"cantidad\"\n                              variant=\"outlined\"\n                              type=\"number\"\n                              InputProps={{ inputProps: { min: 0 } }}\n                              value={row.cantidad_total}\n                              onChange={(value) => onlyNumbers(value.target.value)}\n                            \n                            />\n                          </TableCell> \n                          :\n                          <TableCell align=\"left\"> {row.cantidad_total}</TableCell> \n\n                      }\n\n                      <TableCell align=\"left\" width={10}>\n                        <Box flexDirection={'row'} display=\"flex\" style={{width:75}}>\n                          { (row.product_selected.datos_generales.tipo_producto !== 'OTROS') ? \n                          <Tooltip title=\"Editar\">\n                              <IconButton aria-label=\"edit\" onClick={() => editItem(row.product_selected)} >\n                                  <EditIcon />\n                              </IconButton>\n                          </Tooltip> \n                          :\n                          <div/>\n                          } \n                          <Tooltip title=\"Eliminar\">\n                            <IconButton aria-label=\"delete\" onClick={() => deleteItem(row.product_selected)} >\n                                <DeleteIcon />\n                            </IconButton>\n                          </Tooltip>\n                        </Box>\n                      </TableCell> \n                    </TableRow>\n                    )\n                  }\n                })}\n              {emptyRows > 0 && (\n                <TableRow style={{ height: 53 * emptyRows }}>\n                  <TableCell colSpan={6} />\n                </TableRow>\n              )}\n            </TableBody>\n          </Table>\n        </TableContainer>\n      {/*   <TablePagination\n          rowsPerPageOptions={[5, 10, 25]}\n          component=\"div\"\n          count={data.length}\n          rowsPerPage={rowsPerPage}\n          page={page}\n          onPageChange={handleChangePage}\n          labelRowsPerPage={\"\"}\n          // onRowsPerPageChange={handleChangeRowsPerPage}\n        /> */}\n       \n      </Paper>\n      \n    </div>\n  );\n}","import React, { forwardRef, useEffect, useContext, useState,useCallback } from 'react';\nimport { AppBar, Toolbar, Typography, IconButton, Slide,\n         Button, Box, Dialog, Grid, DialogActions, TextField,Divider,\n         InputLabel, Select, Input, MenuItem, FormControl, useTheme, OutlinedInput, InputAdornment,\n         Stepper, Step, StepLabel, DialogTitle } from '@material-ui/core';\nimport { Search } from \"@material-ui/icons\";\nimport { makeStyles } from '@material-ui/core/styles';\nimport moment from 'moment';\nimport 'moment/locale/es';\nimport { useDebounce } from 'use-debounce';\nimport BackdropComponent from '../../../../components/Layouts/BackDrop';\nimport {Close} from '@material-ui/icons';\n//import ErrorPage from '../../../../components/ErrorPage';\nimport SnackBarMessages from '../../../../components/SnackBarMessages';\n\nimport { FcAdvance } from 'react-icons/fc';\nimport almacenIcon from '../../../../icons/almacen.svg';\nimport TableSelectProducts from '../../../../components/Traspasos/TableSelectProducts';\n\nimport { useQuery, useMutation } from '@apollo/client';\nimport { OBTENER_CONCEPTOS_ALMACEN} from '../../../../gql/Catalogos/conceptosAlmacen';\nimport { OBTENER_ALMACENES, REALIZAR_TRASPASO, OBTENER_CATEGORIAS, OBTENER_PRODUCTOS_EMPRESA} from '../../../../gql/Almacenes/Almacen';\n\nimport { OBTENER_PRODUCTOS } from \"../../../../gql/Catalogos/productos\";\n\n\nimport { TraspasosAlmacenContext } from \"../../../../context/Almacenes/traspasosAlmacen\";\n\nconst useStyles = makeStyles((theme) => ({\n\tappBar: {\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n    icon: {\n\t\tfontSize: 50\n\t},\n    imagen: {\n        width: 50\n    },\n    formInputFlex: {\n\t\tdisplay: 'flex',\n\t\t'& > *': {\n\t\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(1)}px`\n\t\t},\n\t\t'& span': {\n\t\t\tcolor: 'red'\n\t\t}\n\t},\n    subtitle: {\n\t\tmarginLeft: '10px',\n\t\twidth:'50%',\n     \n\t},\n    boxUpData:{\n        height: 80,\n\n    },\n    formControl: {\n        margin: theme.spacing(1),\n        minWidth: 300,\n        maxWidth: 300,\n    },\n    selected2:{\n\t\twidth: '50%',\n\t\theight: 50,\n\t\t\n    },\n    selected:{\n\t\twidth: '50%',\n\t\theight: 50,\n\t\t\n    },\n    input:{\n\t\twidth:'100%'\t\n\t},\n    inputBox:{\n\t\tmargin:20,\n        marginTop:5,\n        marginBottom:10,\n       \n\t},\n    button:{\n\t\tmargin: theme.spacing(3),\n        marginTop: theme.spacing(2),\n        marginBottom: theme.spacing(0)\n\t},\n    boxControl: {\n        margin: theme.spacing(2.5),\n\t\tmarginTop: 0,\n        minWidth: \"20%\",\n        maxWidth: \"20%\",\n        minHeight: 20,\n      \n    },\n    centerControl:{\n        marginTop:10,\n      \n    },\n  \n}));\n\n\nfunction getStyles(almacen, almacenName, theme) {\n  return {\n    fontWeight:\n      almacenName.indexOf(almacen) === -1\n        ? theme.typography.fontWeightRegular\n        : theme.typography.fontWeightMedium,\n  };\n}\n\nconst Transition = forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nconst ITEM_HEIGHT = 200;\nconst ITEM_PADDING_TOP = 8;\nconst MenuProps = {\n  PaperProps: {\n    style: {\n      maxHeight: ITEM_HEIGHT * 4.5 + ITEM_PADDING_TOP,\n      width: 400,\n    },\n  },\n};\n\n\nconst transportes = [\n    'Barco',\n    'Moto',\n    'Carro',\n    'Camioneta'\n];\n\n/* function createData(name, cantidad, precio, unidad) {\n    return { name, cantidad, precio, unidad };\n}  */\n\n\nconst steps = ['Datos traspaso', 'Seleccionar productos'];\n\nexport default function Traspasos() {\n    const classes = useStyles();\n    const theme = useTheme();\n    const sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n    const {\n        setProductos,\n        setProductosTras,\n        setProductosTo,\n        setProductosEmpTo,\n        productosTras\n    } = useContext(TraspasosAlmacenContext);\n    const [ alert, setAlert ] = useState({ message: '', status: '', open: false });\n\tconst [ open, setOpen ] = useState(false);\n    const [ loading, setLoading ] = useState(false);\n    const [ filtro, setFiltro ] = useState('');\n\tconst [value] = useDebounce(filtro, 700);\n\n    const [ haveConcepto, setHaveConcepto ] = useState(false);\n    const [ conceptoTraspaso, setConceptoTraspaso ] = useState(null);\n    const [ isAlmacenOrigen, setIsAlmacenOrigen ] = useState(false);\n    const [ isAlmacenDestino, setIsAlmacenDestino ] = useState(false);\n\n    const [ almacenOrigen, setAlmacenOrigen ] = useState(null);\n    const [ almacenDestino, setAlmacenDestino ] = useState(null);\n    const [almacenesDestino, setAlmacenesDestino] =useState([])\n    const [ transporte, setTransporte ] = useState('');\n    const [ placas, setPlacas ] = useState('');\n    const [ nombreQuien, setNombreQuien ] = useState('');\n  \n    const [activeStep, setActiveStep] = useState(0);\n    const [skipped, setSkipped] = useState(new Set());\n    const [openEnd, setOpenEnd] = useState(false);\n \n    const [ CrearTraspaso ] = useMutation(REALIZAR_TRASPASO); \n\n    let conceptos= [];\n    let almacenes = [];\n    \n    const queryObtenerAlmacenes = useQuery(OBTENER_ALMACENES,{\n        variables: {\n            id: sesion.sucursal._id\n        },\n         fetchPolicy: \"network-only\"\n    });\t\n   /*  const productosAlmacenQuery = useQuery(OBTENER_PRODUCTOS_ALMACEN,{\n\t\tvariables: {\n            empresa: sesion.empresa._id,\n\t\t\tsucursal: sesion.sucursal._id,\n\t\t\tfiltro: value\n\t\t}\n\t});\t */\n\tconst dataConceptos = useQuery(OBTENER_CONCEPTOS_ALMACEN,{\n\t\tvariables: {\n\t\t\tempresa: sesion.empresa._id,\n\t\t\tsucursal: sesion.sucursal._id\n\t\t},\n         fetchPolicy: \"network-only\"\n\t});\n   \n    const categoriasQuery = useQuery(OBTENER_CATEGORIAS,{\n\t\tvariables: {\n            empresa: sesion.empresa._id,\n\t\t\tsucursal: sesion.sucursal._id,\t\n\t\t},\n        fetchPolicy: \"network-only\"\n\t});\n\n    const productosQuery = useQuery(\n    OBTENER_PRODUCTOS,\n    {\n      variables: { \n          empresa: sesion.empresa._id, \n          sucursal: sesion.sucursal._id,\n          filtro: value,\n          almacen: (almacenOrigen ) ? almacenOrigen._id : \"\",\n          existencias: true\n      },\n      fetchPolicy: \"network-only\"\n\n    }\n  );\n\n    const productosEmpresaQuery = useQuery(\n    OBTENER_PRODUCTOS_EMPRESA,\n    {\n        variables: { \n          empresa: sesion.empresa._id, \n          filtro: value,\n        },\n        fetchPolicy: \"network-only\"\n     }\n  );\n    \n    /* const obtenerAlmacenes= useCallback( () =>{\n        try {\n            console.log('obtenerAlmacenes')\n            \n        } catch (error) {\n           console.log(error)\n        }   \n    },[]); */\n\n    const obtenerProductosAlmacen = useCallback(async() =>{\n        try {\n           productosQuery.refetch();\n        } catch (error) {\n            \n        }   \n    },[productosQuery]);\n    \n   \n    \n    useEffect(() => {\n        if(almacenOrigen){\n          \n            setAlmacenesDestino(queryObtenerAlmacenes.data.obtenerAlmacenes.filter(element => element._id !== almacenOrigen._id));\n            obtenerProductosAlmacen();\n        }\n    }, [almacenOrigen ])\n\n\n    const obtenerProductosEmpresa = useCallback(async () =>{\n        try {\n             productosEmpresaQuery.refetch();\n        } catch (error) {\n            console.log('errorObtenerProductosEmpresa',error)\n        }   \n      },[productosEmpresaQuery]);\n\n   \n\n    useEffect(() => {\n        try {\n            if(conceptoTraspaso!== null){\n                if(conceptoTraspaso.origen === 'N/A'){\n                    obtenerProductosEmpresa();\n                } else{\n                    obtenerProductosAlmacen();\n                }      \n            }\n        } catch (error) {\n            console.log('conceptoTraspaso', error)\n        }\n       \n    }, [conceptoTraspaso])    \n\n /*    useEffect(() => {\n\t\t\tdataConceptos.refetch();\n\t},[ dataConceptos ]);  */\n\n     useEffect(() => {\n        \n        if(conceptoTraspaso !== null){\n            if(conceptoTraspaso.destino === 'N/A'){\n                if(almacenOrigen !== null){\n                    setHaveConcepto(true)\n                }else{\n                     setHaveConcepto(false)\n                }\n            \n            }else{\n                if(conceptoTraspaso.origen === 'N/A'){\n                    if(almacenDestino !== null){\n                        setHaveConcepto(true);\n                    }else{\n                        setHaveConcepto(false);\n                    } \n                }else{\n                    if(almacenOrigen !== null && almacenDestino !== null){\n                        setHaveConcepto(true);\n                    }else{\n                        setHaveConcepto(false);\n                    } \n                }\n                \n            }    \n        }\n       \n\t},[conceptoTraspaso, almacenOrigen, almacenDestino ]); \n\n    \n\n     \n    useEffect(\n\t\t() => {\n\t\t\t if(productosEmpresaQuery.data){\n             \n                //setProductos(productosEmpresaQuery.data.obtenerProductosPorEmpresa);\n                //console.log(productosEmpresaQuery.data)\n                setProductosEmpTo(productosEmpresaQuery.data.obtenerProductosPorEmpresa);\n            }\n    },[ productosEmpresaQuery.data, setProductosEmpTo ]);  \n\n\n    useEffect(\n\t\t() => {\n            if(productosQuery.data ){\n                setProductos(productosQuery.data.obtenerProductos);\n                setProductosTo(productosQuery.data.obtenerProductos)\n                return;\n            }    \n\t\t},\n\t\t[ productosQuery, setProductos, setProductosTo ]\n\t); \n    \n    useEffect(\n\t\t() => {\n\t\t\tsetLoading(true);\n\t\t\tcategoriasQuery.refetch();\n\t\t\tsetLoading(false);\n\t\t},\n\t\t[ categoriasQuery ]\n\t); \n  \n\n\tconst handleClickOpen = () => {\n\t\tsetOpen(true);\n\t};\n\n\tconst handleClose = () => {\n\t\tsetOpen(false);\n\t};\n\n     const handleChange = (event) => {\n        setAlmacenOrigen(event.target.value);\n       /*   productosQuery.refetch({\n            variables: { \n            \n                almacen: event.target.value._id,\n                existencias: true\n            },\n        });  */\n        setProductosTras([]);\n        return;\n    };\n\n    const handleChangeDestino = (event) => {\n        //console.log(event)\n        setAlmacenDestino(event.target.value);\n        setProductosTras([]);\n        return;\n    };\n\n     const handleChangeConcepto = (event) => {\n        try {\n            \n            let concepto = event.target.value;  \n            setAlmacenesDestino([]);\n            almacenes = [];\n            setAlmacenOrigen(null); \n            setAlmacenDestino(null);\n            if(concepto.origen === 'N/A'){\n                setAlmacenesDestino( queryObtenerAlmacenes.data.obtenerAlmacenes)\n            }else{\n                setAlmacenesDestino([])\n            }\n          \n            setIsAlmacenOrigen((concepto.origen === 'N/A') ? false:true);\n            setIsAlmacenDestino((concepto.destino === 'N/A') ? false:true);\n           \n            setConceptoTraspaso(concepto);    \n        } catch (error) {\n            //console.log(error)\n        }\n      \n    };\n    \n      const handleChangeTransporte = (event) => {\n        setTransporte(event.target.value);\n    };\n\n    const isStepOptional = (step) => {\n        return step === 1;\n    };\n\n    const isStepSkipped = (step) => {\n        return skipped.has(step);\n    };\n\n    const handleNext = () => {\n        /* if(conceptoTraspaso === null ) {setAlert({message:'No es posible continuar sin seleccionar un concepto.', status: 'error', open: true });  return}\n        if( isAlmacenOrigen && almacenOrigen === null)  {setAlert({message:'No es posible continuar sin seleccionar un almacén origen.', status: 'error', open: true });  return }   \n        if(isAlmacenDestino && almacenDestino === null) { setAlert({message:'No es posible continuar sin seleccionar un almacén destino.', status: 'error', open: true }); return}    */\n        \n        let newSkipped = skipped;\n        if (isStepSkipped(activeStep)) {\n            newSkipped = new Set(newSkipped.values());\n            newSkipped.delete(activeStep);\n        }\n\n        setActiveStep((prevActiveStep) => prevActiveStep + 1);\n        setSkipped(newSkipped);\n        \n    };\n\n    const handleBack = () => {\n        \n        setActiveStep((prevActiveStep) => prevActiveStep - 1);\n    };\n\n    /* const handleSkip = () => {\n        if (!isStepOptional(activeStep)) {\n        // You probably want to guard against something like this,\n        // it should never occur unless someone's actively trying to break something.\n        throw new Error(\"You can't skip a step that isn't optional.\");\n        }\n\n        setActiveStep((prevActiveStep) => prevActiveStep + 1);\n        setSkipped((prevSkipped) => {\n        const newSkipped = new Set(prevSkipped.values());\n        newSkipped.add(activeStep);\n        return newSkipped;\n        });\n    };\n\n    const handleReset = () => {\n        setActiveStep(0);\n    }; */\n\n\n   /*  if(categoriasQuery.data){\n\t\tcategorias = categoriasQuery.data.obtenerCategorias;\n\t}  */\n   \n    if(dataConceptos.data){\n\t\tconceptos = dataConceptos.data.obtenerConceptosAlmacen;\n\t}\n\n    if(queryObtenerAlmacenes.data){\n        almacenes = queryObtenerAlmacenes.data.obtenerAlmacenes;\n       \n    }\n\n   \n   \n   /*  const filtrarProductos = (event) => {\n        event.preventDefault();\n        if(almacenOrigen !== ''){\n            productosQuery.refetch();\n        }else{\n            productosEmpresaQuery.refetch();\n        }\n    }; */\n\n    const handleModal = () => {\n        setOpenEnd(!openEnd)\n    }\n\n    const traspasar = async () => {\n        try {\n          \n            if(productosTras.length){\n               setOpenEnd(false)\n               setLoading(true)\n                //let productTrasTo = productosTras;\n             const input =  {\n                variables: {\n                    input: {\n                        concepto_traspaso: {\n                            _id: conceptoTraspaso._id, \n                            nombre_concepto: conceptoTraspaso.nombre_concepto,\n                            destino: conceptoTraspaso.destino,\n                            origen: conceptoTraspaso.origen,\n                            editable: conceptoTraspaso.editable,\n                        },\n                        almacen_origen: (almacenOrigen !== null) ? almacenOrigen._id : '',\n                        almacen_destino: (almacenDestino !== null) ? almacenDestino._id : '',\n                        productos: productosTras,\n                        datos_transporte :{\n                            transporte: transporte,\n                            placas: placas,\n                            nombre_encargado: nombreQuien\n                        },\n                        sucursalOrigen: sesion.sucursal._id,\n                        sucursalDestino: sesion.sucursal._id,\n                        fecha_registro: moment().locale(\"es-mx\").format()\n                    },\n                    usuario: sesion._id,\n                    empresa: sesion.empresa._id\n                }\n            }  \n           \n             const traspaso =    await CrearTraspaso(input) \n           \n                //console.log(traspaso)\n                setAlert({message: traspaso.data.crearTraspaso.message, status: traspaso.data.crearTraspaso.resp, open: true })\n                if(traspaso.data.crearTraspaso.resp !== 'error'){\n                    setProductosTras([]);\n                    setAlmacenOrigen(null);\n                    setAlmacenDestino(null);\n                    setConceptoTraspaso(null);\n                    handleBack();\n                }\n                \n            }else{\n                \n                setAlert({message:'No es posible realizar un traspaso sin agregar productos.', status: 'error', open: true })\n           \n            }\n            \n           \n           \n            setLoading(false);\n        } catch (error) {\n             setLoading(false);\n             setOpenEnd(false)\n           if(error.networkError !== undefined){\n\t\t\t  console.log('traspaso networkError', error.networkError)\n            }else if(error.graphQLErrors!== undefined){\n                console.log('traspaso graphQLErrors', error.graphQLErrors)\n            }else{\n             \n              \n            }\n             setAlert({message: 'Ocurrió un error al realizar el traspaso...', status: 'error', open: true })\n        }\n    }\n\n   \n\n    return (\n        <>\n        <Box sx={{ width: '100%',  }}>\n            <Button fullWidth onClick={handleClickOpen}>\n                <Box display=\"flex\" flexDirection=\"column\">\n                    <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n                        <FcAdvance className={classes.icon} />\n\t\t\t\t\t</Box>\n                    <Grid container spacing={10} justify=\"center\" >\n                        <Grid item lg={2} >\n                            <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n                                    <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n                                        <img src={almacenIcon} alt=\"icono almacen\" className={classes.imagen}/>\n                                    </Box>\n                            </Box>\n                        </Grid>\n                        <Grid item lg={2} >\n                            <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n                                <Box display=\"flex\" flexDirection=\"column\">\n                                    <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n                                        <img src={almacenIcon} alt=\"icono almacen\" className={classes.imagen} />\n                                    </Box>\n                                </Box>\n                            </Box>\n                        </Grid>\n                    </Grid>\n                    Traspasos\n                </Box>\n\t\t\t\t\t\n\t\t\t</Button>\n\t\t\t<Dialog fullScreen open={open} onClose={handleClose} TransitionComponent={Transition}>\n                <BackdropComponent loading={loading} setLoading={setLoading} />\n                <AppBar className={classes.appBar}>\n               \n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t<Typography variant=\"h6\" className={classes.title}>\n                                Traspasos\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Box mx={3}>\n                            <Box m={1}>\n                                <Button  variant=\"contained\" color=\"secondary\"onClick={handleClose}>\n                                    <Close style={{ fontSize: 30}}/>\n                                </Button>\n                            </Box>\n                        </Box>\n                        <IconButton edge=\"start\" color=\"inherit\" onClick={handleClose} aria-label=\"close\">\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</AppBar>\n                <Box style={{ width: '50%',alignSelf:'center', alignContent:'center', alignItems:'center' }}>\n                  \n                    <Stepper activeStep={activeStep}>\n                        {steps.map((label, index) => {\n                        const stepProps = {};\n                        const labelProps = {};\n                    \n                        if (isStepSkipped(index)) {\n                            stepProps.completed = false;\n                        }\n                        return (\n                            <Step key={label} {...stepProps}>\n                            <StepLabel {...labelProps}>{label}</StepLabel>\n                            </Step>\n                        );\n                        })}\n                    </Stepper>\n                </Box>\n                <Box >\n                {\n                (activeStep === 0) ? \n                    <Grid container  justify=\"center\" >\n                        <Grid item lg={6}>\n                            <Box>\n                                <Box >\n                                    <Typography className={classes.subtitle}  >\n                                        <b>Datos traspaso</b>\n                                    </Typography>\n                                    <Divider />\n                                \n                                    <Box mt={2} style={{display: 'flex', width:'100%', justifyContent: 'center'}}>\n                                        <Box m={3}>\n                                            <Typography><b>Usuario</b></Typography>\n                                            <Typography> {sesion.nombre} </Typography>\n                                        </Box>\n                                        <Box m={3}>\n                                            <Typography><b>Sucursal</b></Typography>\n                                            <Typography> {sesion.sucursal.nombre_sucursal} </Typography>\n                                        </Box>\n                                        <Box m={3}>\n                                            <Typography><b>Fecha</b></Typography>\n                                            <Typography> \t{moment().format('MM/DD/YYYY')} </Typography>\n                                        </Box>\n                                    \n                                    </Box>\n                                    <Box m={2}   style={{width:'100%', justifyContent: 'center'}}>\n                                        <Box style={{width:'100%'}}>\n                                            <FormControl className={classes.formControl}>\n                                                <InputLabel id=\"concepto-label\">Concepto traspaso</InputLabel>\n                                                <Select\n                                                labelId=\"concepto-label\"\n                                                id=\"concepto-name\"\n                                                value={(conceptoTraspaso) ? conceptoTraspaso : \"\"}\n                                                onChange={handleChangeConcepto}\n                                                input={<Input />}\n                                                MenuProps={MenuProps}\n                                                >\n                                                {conceptos.map((concepto) => {\n                                                \n                                                    return(\n                                                    <MenuItem key={concepto._id} value={concepto} >\n                                                        {concepto.nombre_concepto}\n                                                    </MenuItem>\n                                                    )})\n                                                }\n                                                </Select>\n                                            </FormControl>\n                                        </Box>\n                                    {\n                                        (conceptoTraspaso !== null) ? \n                                        <Box style={{display: 'flex'}}>\n                                            {   \n                                                \n                                                (isAlmacenOrigen) ?\n                                                <Box> \n                                                    <FormControl className={classes.formControl}>\n                                                        <InputLabel id=\"almacen-origen-label\">Almacén origen</InputLabel>\n                                                        <Select\n                                                        labelId=\"almacen-origen-label\"\n                                                        id=\"almacen-origen-name\"\n                                                        value={(almacenOrigen) ? almacenOrigen : \"\"}\n                                                        onChange={handleChange}\n                                                        input={<Input />}\n                                                        MenuProps={MenuProps}\n                                                        >\n                                                        {almacenes.map((almacen) => (\n                                                            <MenuItem key={almacen._id} value={almacen}>\n                                                                {almacen.nombre_almacen}\n                                                            </MenuItem>\n                                                        ))}\n                                                        </Select>\n                                                    </FormControl>\n                                                </Box>\n                                                :\n                                                <></>\n                                            }\n                                            \n                                            {\n                                                (isAlmacenDestino) ? \n                                                <FormControl className={classes.formControl}>\n                                                    <InputLabel id=\"almacen-destino-label\">Almacén destino</InputLabel>\n                                                    <Select\n                                                    labelId=\"almacen-destino-label\"\n                                                    id=\"almacen-destino-name\"\n                                                    value={(almacenDestino) ? almacenDestino : \"\"}\n\n                                                    onChange={handleChangeDestino}\n                                                    input={<Input />}\n                                                    MenuProps={MenuProps}\n                                                    >\n                                                    {almacenesDestino.map((almacen) => (\n                                                        <MenuItem key={almacen._id} value={almacen} >\n                                                        {almacen.nombre_almacen}\n                                                        </MenuItem>\n                                                    ))}\n                                                    </Select>\n                                                </FormControl>\n\n                                                :\n                                                <></>\n                                            }\n                                           \n                                        </Box> \n                                        :\n                                        <></>\n                                        \n                                    } \n                                    \n                                    </Box>   \n                                </Box>      \n                                <Box className={classes.centerControl}   style={{width:'100%'}} >\n                                    <Typography className={classes.subtitle}>\n                                        <b>Datos transporte traspaso</b>\n                                    </Typography>\n                                    <Divider />\n                                \n                                    <Grid  justify=\"center\" >\n                                        \n                                        <FormControl className={classes.formControl} style={{marginTop:15}}>\n                                            \n                                            <InputLabel id=\"transporte-label\">Transporte</InputLabel>\n                                            <Select\n                                            labelId=\"transporte-label\"\n                                            id=\"transporte-name\"\n                                            value={transporte}\n                                            onChange={handleChangeTransporte}\n                                            input={<Input />}\n                                            \n                                            MenuProps={MenuProps}\n                                            >\n                                            {transportes.map((trans) => (\n                                                <MenuItem key={trans} value={trans} style={getStyles(trans, transporte, theme)}>\n                                                {trans}\n                                                </MenuItem>\n                                            ))}\n                                            </Select>\n                                            \n                                        </FormControl>\n                                        <Box  justify=\"center\" >\n                                        <FormControl className={classes.formControl}>\n                                        \n                                            <Typography>\n                                                Placas\n                                            </Typography>\n                                            <TextField\n                                                fullWidth\n                                                className={classes.input}\n                                                type=\"text\"\n                                                size=\"small\"\n                                                name=\"placas\"\n                                                variant=\"outlined\"\n                                                value={placas.toUpperCase()}\n                                                \n                                                onChange={(e) => setPlacas(e.target.value)}\n                                            />\n                                        \n                                        </FormControl>\n                                        <FormControl className={classes.formControl}>\n                                        \n                                            <Typography>\n                                                Nombre de encargado de transporte\n                                            </Typography>\n                                            <TextField\n                                                fullWidth\n                                                className={classes.input}\n                                                type=\"text\"\n                                                size=\"small\"\n                                                name=\"nombreQuien\"\n                                                variant=\"outlined\"\n                                                value={nombreQuien}\n                                                \n                                                onChange={(e) => setNombreQuien(e.target.value)}\n                                            />\n                                        </FormControl>\n                                        </Box>\n                                    </Grid>\n                                </Box>\n                            </Box>\n                        </Grid>\n                    </Grid>\n                :\n                    <Box>\n                        <Box ml={1} style={{width:'100%'}}  >\n                            <Box ml={2}>\n                            <Typography className={classes.subtitle}>\n                                <b>Buscar producto</b>\n                            </Typography>\n                            <Box  style={{ width: \"35%\" }}>\n                                \n                                    <FormControl variant=\"outlined\" fullWidth size=\"small\">\n                                    <OutlinedInput\n                                        id=\"search-producto\"\n                                        type=\"text\"\n                                        value={filtro}\n                                        onChange={(e) => setFiltro(e.target.value)}\n                                        endAdornment={\n                                        <InputAdornment position=\"start\">\n                                            <IconButton\n                                            type=\"submit\"\n                                            aria-label=\"search producto\"\n                                            edge=\"end\"\n                                            >\n                                            <Search />\n                                            </IconButton>\n                                        </InputAdornment>\n                                        }\n                                    />\n                                    </FormControl>\n                                    \n                                \n                            </Box>\n                            </Box>\n                            <Box  mt={2}>\n                                <Grid container spacing={2} style={{width:'100%'}}>\n                                    <Grid item md={6}>\n                                    {\n                                        (isAlmacenOrigen) ? \n                                    \n                                        <TableSelectProducts title='Productos' add={true} almacenOrigen={almacenOrigen} />\n                                        :\n                                        <TableSelectProducts title='Productos' add={true} almacenOrigen={null} />   \n                                    }\n                                    </Grid>\n                                    <Grid item md={6}>\n                                        <TableSelectProducts title='Productos a traspasar' add={false} almacenOrigen={almacenOrigen}  />\n                                    </Grid>\n                                </Grid>\n                            </Box>\n                        </Box>\n                    </Box>\n                }\n                \n                   <DialogActions style={{justifyContent:'center'}}>\n                    <Box sx={{ flexDirection: 'row',alignSelf: 'center',  width: '15%',display: 'flex', pt: 2 }} >\n                            <Button\n                            color=\"inherit\"\n                            disabled={activeStep === 0}\n                            onClick={handleBack}\n                            sx={{ mr: 1 }}\n                            >\n                            Atrás\n                            </Button>\n                            <Box style={{ flex: '1 1 auto' }} />\n                            {/*     {isStepOptional(activeStep) && (\n                                <Button color=\"inherit\" onClick={handleSkip} sx={{ mr: 1 }}>\n                                    Skip\n                                </Button>\n                                )} */}\n                            \n                                <Button disabled={!haveConcepto} onClick={() => (activeStep < steps.length -1) ? handleNext() : handleModal()}>\n                                    {activeStep < steps.length -1   ? 'Siguiente' : 'Terminar'}\n                                </Button>\n                        \n                        </Box>\n                   </DialogActions>    \n                </Box>\n                <Dialog open={openEnd} onClose={handleModal}>\n                    <DialogTitle>{'¿Está seguro de realizar este traspaso?'}</DialogTitle>\n                    <DialogActions>\n                        <Button onClick={() => handleModal()} color=\"primary\">\n                            Cancelar\n                        </Button>\n                        <Button color=\"secondary\" autoFocus variant=\"contained\" onClick={() => traspasar()}>\n                            Traspasar\n                        </Button>\n                    </DialogActions>\n                </Dialog>\n               \n\t        <SnackBarMessages alert={alert} setAlert={setAlert} />  \n            \n\t\t\t</Dialog>\n            \n               \n        </Box>\n        </>\n    )\n}","import React, {useEffect, useState, useContext} from 'react';\nimport { TraspasosAlmacenContext } from \"../../../../context/Almacenes/traspasosAlmacen\";\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport Paper from '@material-ui/core/Paper';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport ErrorPage from '../../../../components/ErrorPage'\n\nimport { useQuery } from '@apollo/client';\nimport { OBTENER_ALMACENES } from '../../../../gql/Almacenes/Almacen';\n\nconst useStyles = makeStyles({\n\troot: {\n\t\twidth: '100%'\n\t},\n\tcontainer: {\n\t\t\n\t\tmaxHeight: '76vh'\n\t}\n});\n\nconst Rowrow = (rowProps) => {\n\tconst {dataExcel, setDataExcel} = useContext(TraspasosAlmacenContext);\t\n\tconst [dataExcelHere, setDataExcelHere] = useState([]);\t\n\tconst [arrayCantidades , setArrayCantidades] = useState([]);\n\tconst [row, setRow] = useState({'codigo_barras' : rowProps.producto.datos_generales.codigo_barras, \"nombre_comercial\":rowProps.producto.datos_generales.nombre_comercial, style: {\n\t\t\t\t\tfont: { sz: '12' },\n\t\t\t\t\talignment: { wrapText: true, horizontal: 'center', vertical: 'top' },\n\t\t\t\t\tborder: { bottom: { style: 'thin', color: { rgb: '000000' } } \n\t\t\t\t}}});\n\tconst [total , setTotal] = useState(0)\n\tconst [unidad_minima , setUnidad_Minima] = useState('')\n\t\t\n\t\t\n\t\tuseEffect(() => {\n\t\t\tlet tot= 0;\n\t\t\tlet r = row;\n\t\t\tlet datExc = dataExcel;\n\t\t\trowProps.obtenerAlmacenes.forEach((almacenColumna) => {\n\t\t\t\tconst existencias =\trowProps.producto.existencia_almacenes.filter((existencia) => existencia._id.almacen._id === almacenColumna._id)\n\n\t\t\t\tif(existencias.length > 0){\n\t\t\t\t\tarrayCantidades.push(existencias[0].cantidad_existente )\n\t\t\t\t\tsetUnidad_Minima((existencias[0].unidad_inventario !== null) ? existencias[0].unidad_inventario: 'pz');\n\t\t\t\t\tr = {...r, [almacenColumna._id]: existencias[0].cantidad_existente + \" \" + unidad_minima };\n\t\t\t\t\ttot +=  existencias[0].cantidad_existente;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t\n\t\t\t\telse{\n\t\t\t\t\tarrayCantidades.push(0);\n\t\t\t\t\tr = {...r, [almacenColumna._id]:0   };\t\n\t\t\t\t}\n\t\t\t});\t \n\t\t\tr = {...r, total:tot + \" \" + unidad_minima };\n\n\t\t\tsetTotal(tot)\n\t\t\tsetRow(r);\n\t\t\tdatExc.push(r);\n\t\t\t//console.log( 'DATA EXCEL LISTA PROductos' , datExc)\n\t\t\t\n\t\t\n\t\t \t\n\t\t\tif(rowProps.index === rowProps.productosLength -1){\n\t\t\t\t\n\t\t\t\tsetDataExcelHere(datExc);\n\t\t\t} \n\t\t\n\t\t}, []);\n\n\t\tuseEffect(() => {\n\t\t\n\t\t\tif(dataExcelHere){\n\t\t\t\tsetDataExcel(dataExcelHere);\n\t\t\t}\n\t\t\n\t\t}, [dataExcelHere])\n\t\t\n\t\treturn(\n\t\t\t<TableRow hover role=\"checkbox\" tabIndex={-1} key={rowProps.producto._id} >\n\t\t\t\t<TableCell style={{minWidth:60}} >{rowProps.producto.datos_generales.codigo_barras}</TableCell>\n\t\t\t\t\t\t\n\t\t\t\n\t\t\t\t<TableCell style={{minWidth:170}} >{rowProps.producto.datos_generales.nombre_comercial}</TableCell>\n\t\t\t\n\t\t\t\n\t\t\t\t{/* <TableCell style={{textAlign: 'center',}} >{(producto.datos_generales.receta_farmacia) ? \"SI\" : \"NO\"}</TableCell> */}\n\t\t\t\t{ \n\t\t\t\t\tarrayCantidades.map((cantidad, index) => {\n\t\t\t\t\t\treturn(<TableCell key={index} style={{backgroundColor:'rgba(255, 253, 150, 0.1)', color:'black',fontSize:17, textAlign:'center',minWidth:60 }}>{cantidad + \" \" + unidad_minima}</TableCell>)\t\n\t\t\t\t\t})\t\n\t\t\t\t}\n\t\t\t\t<TableCell  style={{backgroundColor:'rgba(255, 253, 150, 0.1)', color:'black', fontSize:18,fontWeight:'bold', textAlign:'center' ,minWidth:60}}>{total + \" \" + unidad_minima }</TableCell>\n\t\t\t\t\n\t\t\t</TableRow>\n\t\t)\n\t}\nexport default function ListaAlmacenes(props) {\n\tconst classes = useStyles();\n\t\n\t\n\t//const sesion = JSON.parse(localStorage.getItem('sesionCafi'));\t\n\t// const almacenesColumnas = [];\n\t// const productosRows = [];\n\t\t/* Queries */\n\t/* const { loading, error, refetch } = useQuery(OBTENER_ALMACENES,{\n\t\tvariables: {\n\t\t\tid: sesion.sucursal._id\n\t\t}\n\t});\t */\n   \n\t\n\n\t/* useEffect(\n\t\t() => {\n\t\t\trefetch();\n\t\t},\n\t\t[ refetch ]\n\t); */\n\t\n\n\t\n\t\n/* \tconst handleChangePage = (event, newPage) => {\n\t\tsetPage(newPage);\n\t};\n\n\tconst handleChangeRowsPerPage = (event) => {\n\t\tsetRowsPerPage(+event.target.value);\n\t\tsetPage(0);\n\t}; */\n\n\t/* if (loading)\n\treturn (\n\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" height=\"30vh\">\n\t\t\t<CircularProgress />\n\t\t</Box>\n\t);\n\tif (error) {\n\t\tconsole.log(error)\n\t\treturn <ErrorPage error={error} />;\n\t} */\n\n\t\n\treturn (\n\t\t<div>\n\t\t\n\t\t<Paper className={classes.root}>\n\t\t\n\t\t\t<TableContainer className={classes.container}>\n\t\t\t\t<Table stickyHeader size={'small'} aria-label=\"a dense table\">\n\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t{props.columns.map((column, index) => (\n\t\t\t\t\t\t\t\t<TableCell key={column.id} align={column.align} style={{textAlign:(index > 1)? 'center': 'left', minWidth: column.minWidth, width: column.minWidth}}>\n\t\t\t\t\t\t\t\t\t{column.label}\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t))}\t\n\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t</TableHead>\n\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t{props.productos.map((row, index) => {\n\t\t\t\t\t\t    let key =  index;\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<Rowrow producto={row} index={key} key={index} productosLength={props.productos.length} dataExcel ={props.dataExcel} setDataExcel={props.setDataExcel} obtenerAlmacenes={props.obtenerAlmacenes} />\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t\t</TableBody>\n\t\t\t\t</Table>\n\t\t\t</TableContainer>\n\t\t\t{/* <TablePagination\n\t\t\t\trowsPerPageOptions={[ 10, 25, 100 ]}\n\t\t\t\tcomponent=\"div\"\n\t\t\t\tcount={props.productos.length}\n\t\t\t\trowsPerPage={rowsPerPage}\n\t\t\t\tpage={page}\n\t\t\t\tonChangePage={handleChangePage}\n\t\t\t\tonChangeRowsPerPage={handleChangeRowsPerPage}\n\t\t\t\tlabelRowsPerPage={\"Renglones por página\"}\n\t\t\t/> */}\n\t\t\t\n\t\t</Paper>\n\t\t\n\t\t</div>\n\t);\n}\n","import React, { Fragment } from 'react';\nimport DescriptionOutlinedIcon from '@material-ui/icons/DescriptionOutlined';\n\n\nimport { withRouter } from 'react-router-dom';\nimport { Grid, Button } from '@material-ui/core';\nimport ExcelFile from 'react-export-excel/dist/ExcelPlugin/components/ExcelFile'\n\nimport ExcelSheet from 'react-export-excel/dist/ExcelPlugin/elements/ExcelSheet';\nimport ExcelColumn from 'react-export-excel/dist/ExcelPlugin/elements/ExcelColumn';\n\n//Este componente requiere el ArrayData, ArrayColumn, fileName\nfunction ExportarExcel(props) {\n\treturn (\n\t\t<Fragment>\n            <Grid>\n                <Grid item>\n                <ExcelFile\n\t\t\t\t\t\n\t\t\t\t\telement={\n\t\t\t\t\t\t<Button variant=\"contained\" color=\"primary\"startIcon={<DescriptionOutlinedIcon />}>\n\t\t\t\t\t\t\tExportar a Excel\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t}\n\t\t\t\t\tfilename={props.fileName}\n\t\t\t\t>\n\t\t\t\t\t<ExcelSheet data={props.data} name={props.fileName}>\n                        {props.columnName.map((element) => {\n                            return(\n                                <ExcelColumn key={element.id} label={element.label} value={element.id} />\n                            )\n                        }\n                        )}\n\t\t\t\t\t\n\t\t\t\t\t</ExcelSheet>\n\t\t\t\t</ExcelFile>\n                </Grid>\n            </Grid>\n\t\t</Fragment>\n\t);\n}\n\nexport default withRouter(ExportarExcel);","import React, { forwardRef, useContext, useState, useEffect } from 'react';\nimport { AppBar, Toolbar, Typography, IconButton,FormControl,\nSlide, Button, Box, Dialog, OutlinedInput, InputAdornment,CircularProgress} from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Search } from \"@material-ui/icons\";\nimport { useQuery } from '@apollo/client';\nimport {Close} from '@material-ui/icons';\nimport ListaProductos from './ListaProductos'\nimport ExportarExcel from '../../../../components/ExportExcel'\nimport ErrorPage from '../../../../components/ErrorPage'\nimport { useDebounce } from 'use-debounce';\nimport { TraspasosAlmacenContext } from \"../../../../context/Almacenes/traspasosAlmacen\";\nimport { OBTENER_PRODUCTOS_ALMACEN, OBTENER_CATEGORIAS,OBTENER_ALMACENES } from '../../../../gql/Almacenes/Almacen';\n\nconst useStyles = makeStyles((theme) => ({\n\tappBar: {\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n\tboxControl: {\n        margin: theme.spacing(2.5),\n\t\tmarginTop: 0,\n        minWidth: \"20%\",\n        maxWidth: \"20%\",\n    },\n    icon: {\n\t\tfontSize: 100\n\t},\n\timagen: {\n\t\twidth: 100\n\t},\n\tinputBox:{\n\t\tmargin:20\n\t},\n\tbutton:{\n\t\tmargin: theme.spacing(3),\n\t}\n}));\n\nconst Transition = forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\n\nexport default function InventariosPorAlmacen() {\n    const classes = useStyles();\n\tconst [ open, setOpen ] = useState(false);\n\t\n\tconst handleClickOpen = () => {\n\t\tsetOpen(true);\n\t};\n\n\tconst handleClose = () => {\n\t\tsetOpen(false);\n\t};\n\t\n\t\n\n    return (\n        <div>\n            <Button fullWidth onClick={handleClickOpen}>\n\t\t\t\t<Box display=\"flex\" flexDirection=\"column\">\n\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t<img src={'https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/conceptosAlmacen.svg'} alt=\"icono almacen\" className={classes.imagen}/>\n\t\t\t\t\t</Box>\n\t\t\t\t\tInventario por almacen\n\t\t\t\t</Box>\n\t\t\t</Button>\n\t\t\t<InventarioPorAlmacen open={open} handleClose={handleClose} />\n        </div>\n    )\n}\n\nconst InventarioPorAlmacen = (props) =>{\n\tconst classes = useStyles();\n\tconst [ loading, setLoading ] = useState(true);\n\t  \n\tconst [ filtro, setFiltro ] = useState('');\n\n\tconst {dataExcel, setDataExcel } = useContext(TraspasosAlmacenContext);\n\t\n\tconst [ productos, setProductos] = \tuseState([]);\n\tconst [ obtenerAlmacenes, setObtenerAlmacenes] = \tuseState([]);\n\t// const [ almacen, setAlmacen ] = React.useState('');\n\n\tconst [value] = useDebounce(filtro, 700);\n\tconst sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\n\t\n\t// let tipos = ['ROPA','CALZADO','OTROS'];\n\tconst [columns, setColumns] = useState([])\n\t\n\t \t/* Queries */\n\t//const {  data, error, refetch } = useQuery(OBTENER_PRODUCTOS_ALMACEN,{\n    const productosAlmacenQuery = useQuery(OBTENER_PRODUCTOS_ALMACEN,{\n\t\tvariables: {\n            empresa: sesion.empresa._id,\n\t\t\tsucursal: sesion.sucursal._id,\n\t\t\tfiltro: value\n\t\t}\n\t});\t\n\n\tconst categoriasQuery = useQuery(OBTENER_CATEGORIAS,{\n\t\tvariables: {\n            empresa: sesion.empresa._id,\n\t\t\tsucursal: sesion.sucursal._id,\t\n\t\t}\n\t});\n\t\n\tconst queryObtenerAlmacenes = useQuery(OBTENER_ALMACENES,{\n\t\tvariables: {\n\t\t\tid: sesion.sucursal._id\n\t\t}\n\t});\t\n\t\n\n\tuseEffect(\n\t\t() => {\n\t\t\tqueryObtenerAlmacenes.refetch();\n\t\t},\n\t\t[ queryObtenerAlmacenes.update, queryObtenerAlmacenes ]\n\t);\n\n\t\n\tuseEffect(\n\t\t() => {\n\t\t\tif(props.open){\n\t\t\t\tsetDataExcel([])\n\t\t\t\tproductosAlmacenQuery.refetch();\n\t\t\t\tqueryObtenerAlmacenes.refetch();\n\t\t\t\tsetLoading(false);\n\t\t\t}\n\t\t\t\n\t\t},\n\t\t[props.open ]\n\t);\n\t\n\tuseEffect(\n\t\t() => {\n\t\tif(productosAlmacenQuery.data){\n\t\t\t//setDataExcel([]);\n\t\t\tsetProductos(productosAlmacenQuery.data.obtenerProductosAlmacenes);\n\t\t}\n\t\t},\n\t\t[ productosAlmacenQuery.data]\n\t);\n\n\tuseEffect(\n\t\t() => {\n\t\t\tif(queryObtenerAlmacenes.data){\n\t\t\t\tconst columnsEffect = [\n\t\t\t\t\t{ id: 'codigo_barras', label: 'Código de barras', minWidth: 60 , widthPx: 160, },\n\t\t\t\t\t{ id: 'nombre_comercial', label: 'Nombre comercial', minWidth: 170, widthPx: 160, }\n\t\t\t\t];\n\t\t\t\tlet almace = queryObtenerAlmacenes.data.obtenerAlmacenes;\n\t\t\t\talmace.forEach(element => {\n\t\t\t\t\t\t\t\n\t\t\t\t\tcolumnsEffect.push({ id: element._id, label: element.nombre_almacen, minWidth: 60, widthPx: 160,})\n\t\t\t\t}); \n\t\t\t\tcolumnsEffect.push({ id: 'total', label: 'Total existencias', minWidth: 60, widthPx: 160,})\n\t\t\t\tsetObtenerAlmacenes(almace);\n\t\t\t\tsetColumns(columnsEffect);\n\t\t\t}\n\t\t\t\n\t\t},\n\t\t[ queryObtenerAlmacenes.data]\n\t);\n\n\t\n\t\n\t\n\t\n\n\t \n\treturn(\n\t\t<Dialog fullScreen open={props.open} onClose={props.handleClose} TransitionComponent={Transition}>\n\t\t\t\t<AppBar className={classes.appBar}>\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t<Typography variant=\"h6\" className={classes.title}>\n                                Inventario por almacén\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Box mx={3}>\n\t\t\t\t\t\t\t<Box m={1}>\n\t\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"secondary\" onClick={props.handleClose} size=\"large\">\n\t\t\t\t\t\t\t\t\t<Close style={{ fontSize: 30}}/>\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</Box>\n                        </Box>\n                        <IconButton edge=\"start\" color=\"inherit\" onClick={props.handleClose} aria-label=\"close\">\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</AppBar>\n\t\t\t\t\t<Box mt={2}>\n\t\t\t\t\t\t<Box ml={4} >\n\t\t\t\t\t\t<Typography className={classes.subtitle}>\n                            <b>Buscar producto</b>\n                        </Typography>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box ml={4} display=\"flex\" >\n                            \n                            <Box style={{  width: \"35%\" }}>\n                                \n                                    <FormControl variant=\"outlined\" fullWidth size=\"small\">\n                                    <OutlinedInput\n                                        id=\"search-producto\"\n                                        type=\"text\"\n                                        value={filtro}\n                                        onChange={(e) => setFiltro(e.target.value)}\n                                        endAdornment={\n                                        <InputAdornment position=\"start\">\n                                            <IconButton\n                                            type=\"submit\"\n                                            aria-label=\"search producto\"\n                                            edge=\"end\"\n                                            >\n                                            <Search />\n                                            </IconButton>\n                                        </InputAdornment>\n                                        }\n                                    />\n                                    </FormControl>\n                                    \n                                \n                            </Box>\n\t\t\t\t\t\t\t{(productos.length > 0) ?\n\t\t\t\t\t\t\t\t<Box ml={4} mrstyle={{ backgroundColor:'red', alignContent:'flex-end'}}  justifyContent=\"flex-end\" alignItems=\"center\" >\n\t\t\t\t\t\t\t\t\t<Box  >\n\t\t\t\t\t\t\t\t\t\t<ExportarExcel fileName=\"Inventarios almacen\" data={dataExcel} columnName={columns} />\n\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t<div/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\n\t\t\t\t\t</Box>\t\t\t\n\n\t\t\t\t{\n\t\t\t\t\t(loading) ?\n\t\t\n\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" height=\"30vh\">\n\t\t\t\t\t\t<CircularProgress />\n\t\t\t\t\t</Box>\n\t\t\t\t\t: \n\t\t\t\t\t\t(productosAlmacenQuery.error || categoriasQuery.error) ?\n\t\t\t\t\t\t\t<ErrorPage error={productosAlmacenQuery.error} />\n\t\t\t\t\t\t:\n\t\t\t\t\t\t<Box mx={5} mt={1} >\n\t\t\t\t\t\t\t<ListaProductos productos={productos} obtenerAlmacenes={obtenerAlmacenes} columns={columns} />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t</Dialog>\n\t)\n}\n","import React from 'react';\nimport { Container, Grid, Box } from '@material-ui/core';\nimport RegistroAlmacen from './RegistroAlmacen/RegistroAlmacen';\nimport Traspasos from './Traspasos/Traspasos';\nimport InventariosPorAlmacen from './InventarioPorAlmacen/InventariosPorAlmacen';\nimport { TraspasosProvider } from \"../../../context/Almacenes/traspasosAlmacen\";\n\nexport default function Moviminetos() {\n\n\tconst sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\n\treturn (\n\t\t<Container>\n\t\t\t<Grid container spacing={3} justify=\"center\" >\n\t\t\t{sesion.accesos.almacenes.almacen.ver === false ? (null):(\n\t\t\t\t<Grid item lg={2} >\n\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t<RegistroAlmacen />\n\t\t\t\t\t</Box>\n\t\t\t\t</Grid>\n\t\t\t)}\n\t\t\t{sesion.accesos.almacenes.traspasos.ver === false ? (null):(\n\t\t\t\t<Grid item lg={2}>\n\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t<TraspasosProvider>\n\t\t\t\t\t\t\t<Traspasos />\n\t\t\t\t\t\t</TraspasosProvider>\n\t\t\t\t\t</Box>\n\t\t\t\t</Grid>\n\t\t\t)}\n\t\t\t{sesion.accesos.almacenes.inventario_almacen.ver === false ? (null):(\n\t\t\t\t<Grid item lg={2} >\n\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t<TraspasosProvider>\n\t\t\t\t\t\t\t<InventariosPorAlmacen />\n\t\t\t\t\t\t</TraspasosProvider>\n\t\t\t\t\t</Box>\n\t\t\t\t</Grid>\n\t\t\t)}\n\t\t\t</Grid>\n\t\t</Container>\n\t);\n}\n","import React, { useState } from 'react';\nimport 'moment'\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport { Box, Grid, Dialog, DialogContent, Typography, CircularProgress} from '@material-ui/core';\nimport moment from 'moment';\n\nconst columns = [\n\t{ id: 'fecha', label: 'Fecha', minWidth: 100 },\n\t{ id: 'hora', label: 'Hora', minWidth: 100 },\n\t{ id: 'movimiento', label: 'Movimieto', minWidth: 100 },\n\t{ id: 'usuario', label: 'Usuario', minWidth: 100 },\n\t{ id: 'hTurno', label: 'Horario Turno', minWidth: 100 },\t\n\t{ id: 'concepto', label: 'Concepto', minWidth: 100 },\n];\n\nconst useStyles  = makeStyles((theme) => ({\n\troot: {\n\t\twidth: '100%'\n\t},\n\tcontainer: {\n\t\theight: '70%',\n\t},\n    appBar: {\t\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n\trootBusqueda: {\n\t\tdisplay: 'flex',\n\t\tpaddingLeft: theme.spacing(2)\n\t},\n}));\n\n\nexport default function TablaHistorialFiltrado({loading, historial}) {\n\tconst classes = useStyles();\n\t\n\tif (loading)\n\t\treturn (\n\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" height=\"30vh\">\n\t\t\t\t<CircularProgress />\n\t\t\t</Box>\n\t\t);\n\t\t\n\treturn (\n\t\t<>\n\t\t\t<Box p={2}>\n\t\t\t\t<Paper className={classes.root}>\n\t\t\t\t\t<TableContainer className={classes.container}>\n\t\t\t\t\t\t<Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n\t\t\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t\t{columns.map((column) => (\n\t\t\t\t\t\t\t\t\t\t<TableCell key={column.id} align=\"center\" style={{ minWidth: column.minWidth }}>\n\t\t\t\t\t\t\t\t\t\t\t{column.label}\n\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t</TableHead>\n\t\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t\t{historial.map((row) => {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<RowsRender\n\t\t\t\t\t\t\t\t\t\t\tkey={row._id}\n\t\t\t\t\t\t\t\t\t\t\tdatos={row}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t\t</Table>\n\t\t\t\t\t</TableContainer>\n\t\t\t\t</Paper>\n\t\t\t</Box>\n\t\t</>\n\t);\n}\n\n\nfunction RowsRender({datos}) {\n\tconst [open, setOpen] = useState(false);\n\tconst handleClickOpen =()=> setOpen(!open);\n\n\tconst classes = useStyles();\n\tconsole.log(datos)\n\n\treturn(\n\t\t<>\n\t\t\t<TableRow\n\t\t\t\thover\n\t\t\t\trole=\"checkbox\"\n\t\t\t\tonClick={handleClickOpen}\n\t\t\t\ttabIndex={-1}\n\t\t\t>\n\t\t\t\t<TableCell align=\"center\">{moment(datos.fecha_movimiento.completa).format('YYYY-MM-DD')}</TableCell>\n\t\t\t\t<TableCell align=\"center\">{datos.hora_moviento.completa}</TableCell>\n\t\t\t\t<TableCell align=\"center\">{datos.tipo_movimiento}</TableCell>\n\t\t\t\t<TableCell align=\"center\">{datos.nombre_usuario_creador}</TableCell>\n\t\t\t\t<TableCell align=\"center\">{datos.horario_turno}</TableCell>\n\t\t\t\t<TableCell align=\"center\">{datos.concepto}</TableCell>\n\t\t\t</TableRow>\n\n\t\t\t<Dialog\n\t\t\t\tfullWidth={true}\n\t\t\t\tmaxWidth='xs'\n\t\t\t\topen={open} \n\t\t\t\tonClose={handleClickOpen} \n\t\t\t>\n\t\t\t\t<DialogContent>\n\t\t\t\t\t<Grid container>\n\t\t\t\t\t\t<Grid lg={12} xs={12}>\n\t\t\t\t\t\t\t<Box textAlign=\"center\" p={2}>\n\t\t\t\t\t\t\t\t<Typography variant=\"h6\">\n\t\t\t\t\t\t\t\t\tInformación de movimiento\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid lg={12} xs={12}>\n\t\t\t\t\t\t\t<Box display=\"flex\" textAlign=\"left\" p={1}>\n\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\t<b>Fecha Movimiento: </b> {moment(datos.fecha_movimiento.completa).format('YYYY-MM-DD')}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box display=\"flex\" textAlign=\"left\" p={1}>\n\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\t<b>Hora Movimiento: </b> {datos.hora_moviento.completa}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box display=\"flex\" textAlign=\"left\" p={1}>\n\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\t<b>Usuario: </b> {datos.nombre_usuario_creador}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box display=\"flex\" textAlign=\"left\" p={1}>\n\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\t<b>Horario en Turno: </b>\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box display=\"flex\" textAlign=\"left\" p={1}>\n\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\t<b>Tipo Movimiento: </b> {datos.tipo_movimiento}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box display=\"flex\" textAlign=\"left\" p={1}>\n\t\t\t\t\t\t\t\t<Typography> \n\t\t\t\t\t\t\t\t\t<b>Concepto: </b> {datos.concepto}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box display=\"flex\" textAlign=\"left\" p={1}>\n\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\t<b>Caja: </b> {datos.numero_caja}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Paper className={classes.root}>\n\t\t\t\t\t\t\t\t<TableContainer className={classes.container}>\n\t\t\t\t\t\t\t\t\t<Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n\t\t\t\t\t\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\" style={{ minWidth: 100 }}>\n\t\t\t\t\t\t\t\t\t\t\t\t\tConcepto\n\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\" style={{ minWidth: 100 }}>\n\t\t\t\t\t\t\t\t\t\t\t\t\tMonto depositado\n\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t\t\t</TableHead>\n\t\t\t\t\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t\t\t\t\t<TableRow hover tabIndex={-1} >\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\"><b>Monto Total Efectivo:</b></TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\"><b>${datos.montos_en_caja.monto_efectivo.monto}</b></TableCell>\n\t\t\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t\t\t\t<TableRow hover tabIndex={-1} >\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">Creditos</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">${datos.montos_en_caja.monto_creditos.monto}</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t\t\t\t<TableRow hover tabIndex={-1} >\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">Tarjeta Debito</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">${datos.montos_en_caja.monto_tarjeta_debito.monto}</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t\t\t\t<TableRow hover tabIndex={-1} >\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">Tarjeta Credito</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">${datos.montos_en_caja.monto_tarjeta_credito.monto}</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t\t\t\t<TableRow hover tabIndex={-1} >\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">Monedero</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">${datos.montos_en_caja.monto_monedero.monto}</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t\t\t\t<TableRow hover tabIndex={-1} >\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">Cheques</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">${datos.montos_en_caja.monto_cheques.monto}</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t\t\t\t<TableRow hover tabIndex={-1} >\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">Transferencias</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">${datos.montos_en_caja.monto_transferencia.monto}</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t\t\t\t<TableRow hover tabIndex={-1} >\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">Vales de despensa</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">${datos.montos_en_caja.monto_vales_despensa.monto}</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t\t\t\t\t</Table>\n\t\t\t\t\t\t\t\t</TableContainer>\n\t\t\t\t\t\t\t</Paper>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t</DialogContent>\n\t\t\t</Dialog>\n\t\t</>\n\t)\n};","import React, {  useState, useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Dialog, Slide, Box, Button, Toolbar, Typography, FormControl, MenuItem, Select, Grid, TextField} from '@material-ui/core';\nimport CloseIcon from '@material-ui/icons/Close';\nimport AppBar from '@material-ui/core/AppBar';\nimport { useQuery } from '@apollo/client';\nimport { OBTENER_HISTORIAL_CAJA} from '../../../../gql/Cajas/cajas';\nimport { useDebounce } from 'use-debounce/lib';\nimport TablaHistorialFiltrado from './TablaHistorialFiltrado';\nimport SaveIcon from '@material-ui/icons/Save';\nimport ExcelFile from 'react-export-excel/dist/ExcelPlugin/components/ExcelFile';\nimport ExcelSheet from 'react-export-excel/dist/ExcelPlugin/elements/ExcelSheet';\nimport ExcelColumn from 'react-export-excel/dist/ExcelPlugin/elements/ExcelColumn';\n\nconst useStyles = makeStyles((theme) => ({\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1,\n\t},\n    appBar: {\n\t\tposition: 'relative'\n\t},\n\tformInputFlex: {\n\t\tdisplay: 'flex',\n\t\t'& > *': {\n\t\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(1)}px`\n\t\t}\n\t},\n\ticon: {\n\t\tfontSize: 40,\n\t\twidth: 40\n\t},\n    iconSave: {\n\t\tzIndex: 10,\n\t\tposition: 'fixed',\n\t\tbottom: theme.spacing(2),\n\t\tright: theme.spacing(10)\n\t}\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nconst tipos = [\n    'TODOS',\n    'VENTA',\n    'DEPOSITO',\n    'RETIRO',\n    'TRANSFERENCIA'\n];\n\nexport default function HistorialCaja(props) {\n    const classes = useStyles();\n    const sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n    const [ datosBuscar, setDatosBuscar ] = useState([]);\n    const [ datosExcel, setDatosExcel ] = useState([]);\n\tconst [ value ] = useDebounce(datosBuscar, 500);\n\n\tlet obtenerHistorialCaja = [];\n\n    /* Queries */\n\tconst {  data, refetch, loading } = useQuery(OBTENER_HISTORIAL_CAJA, {\n\t\tvariables: {\n            id_Caja: props.cajaSelected._id,\n            empresa: sesion.empresa._id,\n\t\t\tsucursal: sesion.sucursal._id,\n            input: {\n                tipo_movimiento: datosBuscar.tipo_movimiento ? datosBuscar.tipo_movimiento :  \"\",\n                fecha_incio: datosBuscar.fecha_incio ? datosBuscar.fecha_incio : \"\",\n                fecha_fin: datosBuscar.fecha_fin ? datosBuscar.fecha_fin : \"\",\n                usuario: value.usuario ? value.usuario : \"\"\n            },\n\t\t}\n\t});\n\n    useEffect(\n\t\t() => {\n\t\t\trefetch();\n\t\t},\n\t\t[ refetch ]\n\t);\n\n    let arrayExcel = [];\n\n    const agruparDatos = (datosHistorial) => {\n        datosExcel.splice(0, datosExcel.length);\n        for (let i = 0; i < datosHistorial.length; i++) {\n            arrayExcel = { \n                fecha: datosHistorial[i].fecha_movimiento.completa,\n                hora_movimiento: datosHistorial[i].hora_moviento.completa,\n                nombre: datosHistorial[i].nombre_usuario_creador,\n                horario_turno: datosHistorial[i].horario_turno,\n                tipo_movimiento: datosHistorial[i].tipo_movimiento,\n                concepto: datosHistorial[i].concepto,\n                caja: datosHistorial[i].numero_caja,\n                monto_efectivo: datosHistorial[i].montos_en_caja.monto_efectivo.monto , \n                monto_creditos: datosHistorial[i].montos_en_caja.monto_creditos.monto , \n                monto_tarjeta_debito: datosHistorial[i].montos_en_caja.monto_tarjeta_debito.monto , \n                monto_tarjeta_credito: datosHistorial[i].montos_en_caja.monto_tarjeta_credito.monto , \n                monto_monedero: datosHistorial[i].montos_en_caja.monto_monedero.monto , \n                monto_cheques: datosHistorial[i].montos_en_caja.monto_cheques.monto , \n                monto_transferencia: datosHistorial[i].montos_en_caja.monto_transferencia.monto ,\n                monto_vales_despensa: datosHistorial[i].montos_en_caja.monto_vales_despensa.monto , \n            }\n            datosExcel.push(arrayExcel);\n        };\n    };\n\n\tif(data){\n\t\tobtenerHistorialCaja = data.obtenerHistorialCaja;\n        agruparDatos(obtenerHistorialCaja);\n\t}\n\n    const handleDatos = (e) => {\n        setDatosBuscar({...datosBuscar, [e.target.name]: e.target.value})\n    };\n\n    const filtrarProductos = (event) => {\n\t\tevent.preventDefault();\n        refetch();\n\t};\n\n    const limpiarFiltros = () => {\n        setDatosBuscar([]);\n    }\n\n    return (\n        <Dialog fullScreen open={props.open} onClose={()=>{props.handleClose();}} TransitionComponent={Transition}>\n            <AppBar className={classes.appBar}>\n                <Toolbar>\n                    <Typography variant=\"h5\" className={classes.title}>\n                        Caja {props.cajaSelected.numero_caja}\n                    </Typography>\n                    <Box m={1}>\n                        <Button variant=\"contained\" color=\"secondary\" onClick={ () => {props.handleClose()} } size=\"large\">\n                            <CloseIcon style={{fontSize: 30}} />\n                        </Button>\n                    </Box>\n                </Toolbar>\n            </AppBar>\n            <Grid container>\n                <ExcelFile\n                    element={\n                        <Button\n                            variant=\"contained\"\n                            color=\"primary\"\n                            aria-label=\"Guardar\"\n                            className={classes.iconSave}\n                        >\n                            <SaveIcon className={classes.margin} />\n                            Exportar\n                        </Button>   \n                    }\n                    filename={`Reporte de Historial de Caja ${props.cajaSelected.numero_caja}`}\n                >\n                    <ExcelSheet data={datosExcel} name={`Reporte de Historial de Caja ${props.cajaSelected.numero_caja}`}>\n                        <ExcelColumn label='Usuario' value='nombre' />\n                        <ExcelColumn label='Fecha Movimiento' value='fecha' />\n                        <ExcelColumn label='Hora Movimiento' value='hora_movimiento' />\n                        <ExcelColumn label='Horario en Turno' value='horario_turno' />\n                        <ExcelColumn label='Concepto' value='concepto' />\n                        <ExcelColumn label='Tipo Movimiento' value='tipo_movimiento' />\n                        <ExcelColumn label='No. de Caja' value='caja' />\n                        <ExcelColumn label='M. en Efectivo' value='monto_efectivo' />\n                        <ExcelColumn label='M. en Creditos' value='monto_creditos' />\n                        <ExcelColumn label='M. en Tarjeta Debito' value='monto_tarjeta_debito' />\n                        <ExcelColumn label='M. en Tarjeta Credito' value='monto_tarjeta_credito' />\n                        <ExcelColumn label='M. en monedero' value='monto_monedero' />\n                        <ExcelColumn label='M. en Cheques' value='monto_cheques' />\n                        <ExcelColumn label='M. en Transferencia' value='monto_transferencia' />\n                        <ExcelColumn label='M. en Vale Despensa' value='monto_vales_despensa' />\n                    </ExcelSheet>\n                </ExcelFile>\n                <Grid item lg={12} md={12} xs={12}>\n                    <div className={classes.formInputFlex}>\n                        <Box width=\"100%\">\n                            <Typography>\n                                Movimiento\n                            </Typography>\n                            <FormControl\n                                variant=\"outlined\"\n                                fullWidth\n                                size=\"small\"\n                            >\n                                <Select\n                                    id=\"form-producto-tipo\"\n                                    name=\"tipo_movimiento\"\n                                    onChange={handleDatos}\n                                    value={datosBuscar.tipo_movimiento ? datosBuscar.tipo_movimiento : \"\"}\n                                >\n                                    <MenuItem value=\"\">\n                                        <em>Selecciona uno</em>\n                                    </MenuItem>\n                                    {tipos.map((tipo, index) => {\n                                        return(\n                                            <MenuItem key={index} value={tipo}>{tipo}</MenuItem>\n                                        )\n                                    })}\n                                </Select>\n                            </FormControl>\n                        </Box>\t\n                        <Box width=\"100%\">\n                            <Typography>\n                                Fecha inicio:\n                            </Typography>\n                            <TextField \n                                fullWidth\n                                size=\"small\"\n                                name=\"fecha_incio\"\n                                variant=\"outlined\"\n                                type=\"date\"\n                                value={datosBuscar.fecha_incio ? datosBuscar.fecha_incio : \"\"}\n                                onChange={handleDatos}\n                            />\n                        </Box>\n                        <Box width=\"100%\">\n                            <Typography>\n                                Fecha fin:\n                            </Typography>\n                            <TextField \n                                fullWidth\n                                size=\"small\"\n                                name=\"fecha_fin\"\n                                variant=\"outlined\"\n                                type=\"date\"\n                                value={datosBuscar.fecha_fin ? datosBuscar.fecha_fin : \"\"}\n                                onChange={handleDatos}\n                            />\n                        </Box>\n                        <form onSubmit={filtrarProductos} style={{ display: 'flex', alignItems: 'center', width: \"100%\" }} >\n                            <Box width=\"100%\">\n                                <Typography>\n                                    Usuario:\n                                </Typography>\n                                <TextField\n                                    fullWidth\n                                    size=\"small\"\n                                    name=\"usuario\"\n                                    variant=\"outlined\"\n                                    value={datosBuscar.usuario ? datosBuscar.usuario : \"\"}\n                                    onChange={handleDatos}\n                                />\n                            </Box>\n                        </form>\n                        <Box width=\"70%\" display=\"flex\" justifyContent=\"center\" justifyItems=\"center\" alignItems=\"center\">\n                            <Box mt={2}>\n                                <Button\n                                    color=\"primary\"\n                                    size=\"large\"\n                                    variant=\"contained\"\n                                    onClick={limpiarFiltros}\n                                >\n                                    Limpiar\n                                </Button>\n                            </Box>\n                        </Box>\n                    </div>\n                </Grid>\n                <Grid item lg={12} md={12} xs={12}>\n                    <TablaHistorialFiltrado loading={loading} historial={obtenerHistorialCaja} />\n                </Grid>  \n            </Grid>\n        </Dialog>\n    );\n}\n\n","import React from 'react';\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport CardActions from '@material-ui/core/CardActions';\nimport Avatar from '@material-ui/core/Avatar';\nimport Typography from '@material-ui/core/Typography';\nimport { red } from '@material-ui/core/colors';\nimport {Badge, Box} from '@material-ui/core';\n \nconst StyledBadge = withStyles((theme) => ({\n    badge: {\n      color :({props})=> props.color,\n      background: ({props})=> props.color,\n      boxShadow: `0 0 0 2px ${theme.palette.background.paper}`,\n      '&::after': {\n        position: 'absolute',\n        top: 0,\n        left: 0,\n        width: '100%',\n        height: '100%',\n        borderRadius: '50%',\n        animation: '$ripple 1.2s infinite ease-in-out',\n        border: '1px solid currentColor',\n        content: '\"\"',\n      },\n    },\n    '@keyframes ripple': {\n      '0%': {\n        transform: 'scale(.8)',\n        opacity: 1,\n      },\n      '100%': {\n        transform: 'scale(2.4)',\n        opacity: 0,\n      },\n    }\n  }))(Badge);\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    minWidth:230,\n    maxWidth: 230,\n    margin:5,\n    \n  },\n  media: {\n    height: 0,\n    paddingTop: '56.25%', // 16:9\n  },\n  expand: {\n    transform: 'rotate(0deg)',\n    marginLeft: 'auto',\n    transition: theme.transitions.create('transform', {\n      duration: theme.transitions.duration.shortest,\n    }),\n  },\n  expandOpen: {\n    transform: 'rotate(180deg)',\n  },\n  avatar: {\n    color: red[500],\n  },\n  textActive:{\n    position:'relative',\n    bottom:8\n  }\n}));\n\nexport default function CardCaja(props) {\n    const styleProps={\n      color: (props.activa)  ? '#44b700' : 'red'\n    }\n    const classes = useStyles();\n \n    return (\n        <div>\n            <Card className={classes.root}>\n                    <CardHeader\n                      color=\"secondary\"\n                        avatar={\n                            <StyledBadge\n                              overlap=\"circle\"\n                              props={styleProps}\n                              anchorOrigin={{\n                                vertical: 'bottom',\n                                horizontal: 'right',\n                              }}\n                              variant=\"dot\"\n                              badgeContent=\"\"\n                            >\n                            <Avatar alt=\"Cajero X\" src=\"/static/images/avatar/1.jpg\" />\n                            </StyledBadge>\n                        }\n                    />\n                    <Box m={1} mb={2}>\n                    <Typography variant=\"h4\" color=\"textSecondary\" component=\"p\" >\n                            Caja {props.name}\n                    </Typography>\n                    </Box>\n                    {/* <CardActions disableSpacing  >\n                        <Typography style={{fontWeight: 'bold'}} color=\"textSecondary\" component=\"p\">\n                           Total en caja: \n                        </Typography>\n                        <Typography style={{margin: '0px 10px', color: 'green'}} variant=\"h6\" color=\"textSecondary\" component=\"p\">\n                           $ {parseFloat(props.cantidad_efectivo_actual)}\n                        </Typography>\n                    </CardActions> */}\n                </Card>\n        </div>\n    )\n}\n","import React, {useEffect, useState} from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport CloseIcon from '@material-ui/icons/Close';\nimport Slide from '@material-ui/core/Slide';\nimport { Box, Grid  } from '@material-ui/core';\nimport HistorialCaja from './HistorialCaja';\nimport SnackBarMessages from '../../../../components/SnackBarMessages';\nimport BackdropComponent from '../../../../components/Layouts/BackDrop';\nimport CardCaja from './CardCaja';\n\nimport { OBTENER_CAJAS } from '../../../../gql/Cajas/cajas';\nimport { useQuery } from '@apollo/client';\n\nconst useStyles = makeStyles((theme) => ({\n\tappBar: {\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n\ticon: {\n\t\twidth: 100\n\t}\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function Cajas() {\n\tconst classes = useStyles();\n    const [ loading, setLoading ] = React.useState(false);\n\tconst [ open, setOpen ] = React.useState(false);\n    const [ openHistorial, setOpenHistorial ] = React.useState(false);\n    const [ alert, setAlert ] = useState({ message: '', status: '', open: false });\n    const [ cajaSelected, setCajaSelected ] = React.useState({name:''});\n    const sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n    let obtenerCajasSucursal = []; \n\n\t\n    /* Queries */\n    const {  data, refetch } = useQuery(OBTENER_CAJAS,{\n\t\tvariables: {\n            empresa: sesion.empresa._id,\n\t\t\tsucursal: sesion.sucursal._id\n\t\t}\n\t});\t\n\n    useEffect(\n\t\t() => {\n\t\t\tsetLoading(true);\n\t\t\trefetch();\n\t\t\tsetLoading(false);\n\t\t},\n\t\t[ refetch ]\n\t); \n\t\n\tif(data){\n\t\tobtenerCajasSucursal = data.obtenerCajasSucursal;\n\t}\n\tconst handleClickOpen = () => {\n\t\tsetOpen(true);\n\t};\n    const handleClickOpenHistorial = () => {\n\t\tsetOpenHistorial(true);\n\t};\n\tconst handleClose = () => {\n\t\tsetOpen(false);\n\t};\n    const handleCloseHistorial = () => {\n\t\tsetOpenHistorial(false);\n\t};\n\n\treturn (\n\t\t<div>\n            <SnackBarMessages alert={alert} setAlert={setAlert} />\t\n\t\t\t<BackdropComponent loading={loading} setLoading={setLoading} />\n\t\t\t<Button fullWidth onClick={handleClickOpen}>\n\t\t\t\t<Box display=\"flex\" flexDirection=\"column\">\n\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t<img src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/cajas.svg' alt=\"icono numero calzado\" className={classes.icon} />\n\t\t\t\t\t</Box>\n\t\t\t\t\tHistorial de Cajas\n\t\t\t\t</Box>\n\t\t\t</Button>\n\t\t\t<Dialog fullScreen open={open} onClose={handleClose} TransitionComponent={Transition}>\n\t\t\t\t<AppBar className={classes.appBar}>\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t<Typography variant=\"h6\" className={classes.title}>\n\t\t\t\t\t\t\tHistorial de Cajas\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Box m={1}>\n\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"secondary\" onClick={handleClose} size=\"large\">\n\t\t\t\t\t\t\t\t<CloseIcon style={{fontSize: 30}} />\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</AppBar>\n\t\t\t\t<Grid container spacing={1} justify=\"center\" >\n\t\t\t\t\t{obtenerCajasSucursal?.map((caja, index) => {\n\t\t\t\t\t\treturn(\n\t\t\t\t\t\t\t<Button key={index} onClick={()=>{handleClickOpenHistorial(); setCajaSelected(caja)}}>\n\t\t\t\t\t\t\t\t<CardCaja name={caja.numero_caja} activa={caja.activa} cantidad_efectivo_actual={caja.cantidad_efectivo_actual} />\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t)\t\n\t\t\t\t\t})} \n\t\t\t\t</Grid> \t\n\t\t\t</Dialog>\n            <HistorialCaja open={openHistorial} fetchCajas={refetch} handleClickOpen={handleClickOpenHistorial} cajaSelected={cajaSelected} handleClose={handleCloseHistorial} obtenerCajasSucursal={obtenerCajasSucursal} />\n\t\t</div>\n\t);\n}\n","import React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport { Box, Grid, Dialog, DialogContent, Typography, CircularProgress} from '@material-ui/core';\n\nconst columns = [\n\t{ id: 'fecha', label: 'Fecha', minWidth: 100 },\n\t{ id: 'hora', label: 'Hora', minWidth: 100 },\n\t{ id: 'usuario', label: 'Usuario', minWidth: 100 },\n\t{ id: 'hTurno', label: 'Horario Turno', minWidth: 100 },\t\n\t{ id: 'concepto', label: 'Concepto', minWidth: 100 },\n\t{ id: 'caja', label: 'Caja', minWidth: 100 },\n];\n\nconst useStyles  = makeStyles((theme) => ({\n\troot: {\n\t\twidth: '100%'\n\t},\n\tcontainer: {\n\t\tmaxHeight: 500,\n\t},\n    appBar: {\t\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n\trootBusqueda: {\n\t\tdisplay: 'flex',\n\t\tpaddingLeft: theme.spacing(2)\n\t}\n}));\n\n\nexport default function TablaTurnosFiltrados({loading, turnos}) {\n\tconst classes = useStyles();\n\t\n\tif (loading)\n\t\treturn (\n\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" height=\"30vh\">\n\t\t\t\t<CircularProgress />\n\t\t\t</Box>\n\t\t);\n\t\t\n\treturn (\n\t\t<>\n\t\t\t<Box p={2}>\n\t\t\t\t<Paper className={classes.root}>\n\t\t\t\t\t<TableContainer className={classes.container}>\n\t\t\t\t\t\t<Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n\t\t\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t\t{columns.map((column) => (\n\t\t\t\t\t\t\t\t\t\t<TableCell key={column.id} align=\"center\" style={{ minWidth: column.minWidth }}>\n\t\t\t\t\t\t\t\t\t\t\t{column.label}\n\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t</TableHead>\n\t\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t\t{turnos.map((row) => {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<RowsRender\n\t\t\t\t\t\t\t\t\t\t\tkey={row._id}\n\t\t\t\t\t\t\t\t\t\t\tturno={row}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t\t</Table>\n\t\t\t\t\t</TableContainer>\n\t\t\t\t</Paper>\n\t\t\t</Box>\n\t\t</>\n\t);\n}\n\n\nfunction RowsRender({turno}) {\n\tconst [open, setOpen] = useState(false);\n\tconst classes = useStyles();\n\tconst handleClickOpen =()=> setOpen(!open);\n\n\treturn(\n\t\t<>\n\t\t\t<TableRow\n\t\t\t\thover\n\t\t\t\trole=\"checkbox\"\n\t\t\t\tonClick={handleClickOpen}\n\t\t\t\ttabIndex={-1}\n\t\t\t\tkey={turno._id}\n\t\t\t>\n\t\t\t\t<TableCell align=\"center\">{turno.fecha_movimiento}</TableCell>\n\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t{turno.concepto === \"ABRIR TURNO\" ? (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t{turno.hora_entrada.completa}\n\t\t\t\t\t\t</>\n\t\t\t\t\t\t): (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t{turno.hora_salida.completa}\n\t\t\t\t\t\t</>\n\t\t\t\t\t)}\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell align=\"center\">{turno.usuario_en_turno.nombre}</TableCell>\n\t\t\t\t<TableCell align=\"center\">{turno.horario_en_turno}</TableCell>\n\t\t\t\t<TableCell align=\"center\">{turno.concepto}</TableCell>\n\t\t\t\t<TableCell align=\"center\">{turno.numero_caja}</TableCell>\n\t\t\t</TableRow>\n\n\t\t\t<Dialog\n\t\t\t\tfullWidth={true}\n\t\t\t\tmaxWidth='md'\n\t\t\t\topen={open} \n\t\t\t\tonClose={handleClickOpen} \n\t\t\t>\n\t\t\t\t<DialogContent>\n\t\t\t\t\t<Grid container>\n\t\t\t\t\t\t<Grid lg={12} xs={12}>\n\t\t\t\t\t\t\t<Box textAlign=\"center\" p={2}>\n\t\t\t\t\t\t\t\t<Typography variant=\"h6\">\n\t\t\t\t\t\t\t\t\tInformación del turno\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid lg={6} xs={12}>\n\t\t\t\t\t\t\t<Box p={1}>\n\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\t<b>Usuario</b>: {turno.usuario_en_turno.nombre}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box p={1}>\n\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\t<b>Numero de caja</b>: {turno.numero_caja}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box p={1}>\n\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\t<b>Moviento de turno</b>: {turno.concepto}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box p={1}>\n\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\t<b>Horario de turno</b>: {turno.horario_en_turno}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box p={1}>\n\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\t{turno.concepto === \"ABRIR TURNO\" ? (\n\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t<b>Hora de Entrada de turno: </b>{turno.hora_entrada.completa}\n\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t): (\n\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t<b>Hora de Salida de turno: </b>{turno.hora_salida.completa}\n\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box p={1}>\n\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\t<b>Comentarios</b>: {turno.comentarios}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box p={1}>\n\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\t<b>Fecha de movimiento</b>: {turno.fecha_movimiento}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid lg={6} xs={12}>\n\t\t\t\t\t\t\t<Paper className={classes.root}>\n\t\t\t\t\t\t\t\t<TableContainer className={classes.container}>\n\t\t\t\t\t\t\t\t\t<Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n\t\t\t\t\t\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\" style={{ minWidth: 100 }}>\n\t\t\t\t\t\t\t\t\t\t\t\t\tConcepto\n\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\" style={{ minWidth: 100 }}>\n\t\t\t\t\t\t\t\t\t\t\t\t\tMonto depositado\n\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t\t\t</TableHead>\n\n\t\t\t\t\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t\t\t\t\t<TableRow hover tabIndex={-1} >\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\"><b>Monto Total Efectivo:</b></TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\"><b>${turno.montos_en_caja.monto_efectivo.monto}</b></TableCell>\n\t\t\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t\t\t\t<TableRow hover tabIndex={-1} >\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">Creditos</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">${turno.montos_en_caja.monto_creditos.monto}</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t\t\t\t<TableRow hover tabIndex={-1} >\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">Tarjeta Debito</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">${turno.montos_en_caja.monto_tarjeta_debito.monto}</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t\t\t\t<TableRow hover tabIndex={-1} >\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">Tarjeta Credito</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">${turno.montos_en_caja.monto_tarjeta_credito.monto}</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t\t\t\t<TableRow hover tabIndex={-1} >\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">Monedero</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">${turno.montos_en_caja.monto_monedero.monto}</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t\t\t\t<TableRow hover tabIndex={-1} >\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">Cheques</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">${turno.montos_en_caja.monto_cheques.monto}</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t\t\t\t<TableRow hover tabIndex={-1} >\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">Transferencias</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">${turno.montos_en_caja.monto_transferencia.monto}</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t\t\t\t<TableRow hover tabIndex={-1} >\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">Vales de despensa</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">${turno.montos_en_caja.monto_vales_despensa.monto}</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t\t\t\t\t</Table>\n\t\t\t\t\t\t\t\t</TableContainer>\n\t\t\t\t\t\t\t</Paper>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t</DialogContent>\n\t\t\t</Dialog>\n\t\t</>\n\t)\n};","import { gql } from \"@apollo/client\";\n\nexport const REGISTRAR_TURNOS = gql`\n\tmutation crearRegistroDeTurno( $input: AbrirCerrarTurnoInput, $activa: Boolean) {\n\t\tcrearRegistroDeTurno(input: $input, activa: $activa) {\n\t\t\thorario_en_turno\n\t\t\ttoken_turno_user\n\t\t\tconcepto\n\t\t\tnumero_caja\n\t\t\tid_caja\n\t\t\tcomentarios\n\t\t\thora_entrada {\n\t\t\t\thora\n\t\t\t\tminutos\n\t\t\t\tsegundos\n\t\t\t}\n\t\t\thora_salida{\n\t\t\t\thora\n\t\t\t\tminutos\n\t\t\t\tsegundos\n\t\t\t}\n\t\t\tfecha_entrada{\n\t\t\t\tyear\n\t\t\t\tmes\n\t\t\t\tdia\n\t\t\t\tno_semana_year\n\t\t\t\tno_dia_year\n\t\t\t}\n\t\t\tfecha_salida{\n\t\t\t\tyear\n\t\t\t\tmes\n\t\t\t\tdia\n\t\t\t\tno_semana_year\n\t\t\t\tno_dia_year\n\t\t\t}\n\t\t\tmontos_en_caja {\n\t\t\t\tmonto_efectivo{\n                    monto \n                }\n                monto_tarjeta_credito{\n                    monto \n                }\n                monto_tarjeta_debito{\n                    monto \n                }\n                monto_creditos{\n                    monto \n                }\n                monto_monedero{\n                    monto \n                }\n                monto_transferencia{\n                    monto \n                }\n                monto_cheques{\n                    monto \n                }\n                monto_vales_despensa{\n                    monto \n                }\n\t\t\t}\n\t\t\tusuario_en_turno {\n\t\t\t\tnumero_usuario\n\t\t\t\tnombre\n\t\t\t}\n\t\t\tempresa\n\t\t\tsucursal\n\t\t}\n\t}\n`;\n\nexport const OBTENER_HISTORIAL_TURNOS = gql`\n\tquery obtenerFiltroTurnos($input: HistorialTurnosInput, $empresa: ID!, $sucursal: ID!) {\n\t\tobtenerFiltroTurnos(input: $input, empresa: $empresa, sucursal: $sucursal) {\n\t\t\thorario_en_turno\n\t\t\tconcepto\n\t\t\tnumero_caja\n\t\t\tid_caja\n\t\t\tcomentarios\n\t\t\thora_entrada {\n\t\t\t\thora\n\t\t\t\tminutos\n\t\t\t\tsegundos\n\t\t\t\tcompleta\n\t\t\t}\n\t\t\thora_salida{\n\t\t\t\thora\n\t\t\t\tminutos\n\t\t\t\tsegundos\n\t\t\t\tcompleta\n\t\t\t}\n\t\t\tfecha_entrada{\n\t\t\t\tyear\n\t\t\t\tmes\n\t\t\t\tdia\n\t\t\t\tno_semana_year\n\t\t\t\tno_dia_year\n\t\t\t\tcompleta\n\t\t\t}\n\t\t\tfecha_salida{\n\t\t\t\tyear\n\t\t\t\tmes\n\t\t\t\tdia\n\t\t\t\tno_semana_year\n\t\t\t\tno_dia_year\n\t\t\t\tcompleta\n\t\t\t}\n\t\t\tfecha_movimiento\n\t\t\tmontos_en_caja {\n\t\t\t\tmonto_efectivo{\n                    monto \n                }\n                monto_tarjeta_credito{\n                    monto \n                }\n                monto_tarjeta_debito{\n                    monto \n                }\n                monto_creditos{\n                    monto \n                }\n                monto_monedero{\n                    monto \n                }\n                monto_transferencia{\n                    monto \n                }\n                monto_cheques{\n                    monto \n                }\n                monto_vales_despensa{\n                    monto \n                }\n\t\t\t}\n\t\t\tusuario_en_turno {\n\t\t\t\tnumero_usuario\n\t\t\t\tnombre\n\t\t\t}\n\t\t\tempresa\n\t\t\tsucursal\n\t\t}\n\t}\n`;","import React, { useEffect, useState } from 'react';\nimport { AppBar, Box, Button, Dialog, FormControl, Grid, MenuItem, Select, Slide, TextField, Toolbar, Typography } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/styles';\nimport ReactExport from 'react-export-excel'; //LIBRERIA EXCEL\nimport CloseIcon from '@material-ui/icons/Close';\nimport SaveIcon from '@material-ui/icons/Save';\nimport TablaTurnosFiltrados from './TablaTurnosFiltrados';\nimport { useQuery } from '@apollo/client';\nimport { OBTENER_CAJAS } from '../../../../gql/Cajas/cajas';\nimport { OBTENER_HISTORIAL_TURNOS } from '../../../../gql/Ventas/abrir_cerrar_turno';\nimport { useDebounce } from 'use-debounce';\nimport moment from 'moment';\nimport 'moment/locale/es';\nimport ErrorPage from '../../../../components/ErrorPage';\nmoment.locale('es');\nconst ExcelFile = ReactExport.ExcelFile; //ARCHIVO DE EXCEL\nconst ExcelSheet = ReactExport.ExcelSheet; //HOJA DE EXCEL\nconst ExcelColumn = ReactExport.ExcelColumn; //COLUMNA DE EXCEL\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nconst useStyles = makeStyles((theme) => ({\n\tappBar: {\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n\ticon: {\n\t\twidth: 100\n\t},\n    formInputFlex: {\n\t\tdisplay: 'flex',\n\t\t'& > *': {\n\t\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(1)}px`\n\t\t},\n\t\t'& .obligatorio': {\n\t\t\tcolor: 'red'\n\t\t}\n\t},\n\tformInput: {\n\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(2)}px`\n\t},\n    margin: {\n\t\tmargin: theme.spacing(1)\n\t},\n\ticonSave: {\n\t\tzIndex: 10,\n\t\tposition: 'fixed',\n\t\tbottom: theme.spacing(2),\n\t\tright: theme.spacing(10)\n\t},\n}));\n\nexport default function ReportesTurnosUsuarios() {\n    const [open, setOpen] = useState(false);\n    const handleClickOpen =()=>{setOpen(!open)};\n    const classes = useStyles();\n\n    return (\n        <>\n            <Button aria-controls=\"simple-menu\" aria-haspopup=\"true\" onClick={handleClickOpen}>\n\t\t\t\t<Box display=\"flex\" flexDirection=\"column\">\n                    <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n                        <img \n                            src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/ventas/shift.svg'\n                            alt=\"icono caja\" \n                            style={{width: 100}}\n                        />\n                    </Box>\n\t\t\t\t\tTurnos de Usuarios\n\t\t\t\t</Box>\n\t\t\t</Button>\n\t\t\t<Dialog fullScreen open={open} onClose={handleClickOpen} TransitionComponent={Transition}>\n\t\t\t\t<AppBar className={classes.appBar}>\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t<Typography variant=\"h6\" className={classes.title}>\n                            Reportes Turnos de Usuarios\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Box m={1} display=\"flex\">\n                            <Box p={1}>\n                                <Button variant=\"contained\" color=\"secondary\" onClick={handleClickOpen} size=\"large\">\n                                    <CloseIcon style={{fontSize: 30}} />\n                                </Button>\n                            </Box>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</AppBar>\n                <FiltroTablaTurnos />\n\t\t\t</Dialog> \n        </>\n    )   \n};\n\nconst FiltroTablaTurnos = () => {\n\n    const classes = useStyles();\n    const sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n    const [filtros, setFiltros] = useState([]);\n    const [ datosExcel, setDatosExcel] = useState([]);\n\tconst [value] = useDebounce(filtros, 500);\n    let historialTurnos = [];\n\n    const cajas = useQuery(OBTENER_CAJAS,{\n\t\tvariables: {\n            empresa: sesion.empresa._id,\n\t\t\tsucursal: sesion.sucursal._id,\n\t\t}\n\t});\n\n    const { loading, data, error, refetch  } = useQuery(OBTENER_HISTORIAL_TURNOS,{\n\t\tvariables: {\n            empresa: sesion.empresa._id,\n\t\t\tsucursal: sesion.sucursal._id,\n            input: {\n                horario_en_turno: filtros.horario_turno ? filtros.horario_turno : \"\",\n                usuario_en_turno: value.usuario_en_turno ? value.usuario_en_turno : \"\",\n                numero_caja: filtros.numero_caja ? filtros.numero_caja : \"\",\n                fechaInicio: filtros.fechaInicio ? filtros.fechaInicio : \"\",\n                fechaFin: filtros.fechaFin ? filtros.fechaFin : \"\"\n            }\n\t\t}\n\t});\n\n    useEffect(\n\t\t() => {\n\t\t\trefetch();\n\t\t},\n\t\t[ refetch ]\n\t);\n\n    const obtenerDatos = (e) => {  \n        setFiltros({...filtros, [e.target.name]: e.target.value.toString()});\n    };\n\n    let arrayExcel = [];\n\n    const agruparDatos = (turnos) => {\n        datosExcel.splice(0, datosExcel.length);\n        for (let i = 0; i < turnos.length; i++) {\n            arrayExcel = { \n                fecha: turnos[i].fecha_movimiento,\n                nombre: turnos[i].usuario_en_turno.nombre,\n                numero_usuario: turnos[i].usuario_en_turno.numero_usuario,\n                fecha_entrada: turnos[i].fecha_entrada.completa,\n                fecha_salida: turnos[i].fecha_salida.completa,\n                hora_entrada: turnos[i].hora_entrada.completa,\n                hora_salida: turnos[i].hora_salida.completa,\n                horario_en_turno: turnos[i].horario_en_turno,\n                concepto: turnos[i].concepto,\n                caja: turnos[i].numero_caja,\n            }\n            datosExcel.push(arrayExcel);\n        };\n    };\n\n    if(data && cajas.loading  === false){\n\t\thistorialTurnos = data.obtenerFiltroTurnos;\n        agruparDatos(historialTurnos);\n\t};\n\n\tif (error) {\n\t\treturn <ErrorPage error={error} />;\n\t}\n\n    const filtrarProductos = (event) => {\n\t\tevent.preventDefault();\n        refetch();\n\t};\n    \n    const limpiarFiltros = () => {\n        setFiltros([]);\n    };\n    \n    return(\n        <>\n        <Grid container>\n            <ExcelFile\n                element={\n                    <Button\n                        variant=\"contained\"\n                        color=\"primary\"\n                        aria-label=\"Guardar\"\n                        className={classes.iconSave}\n                    >\n                        <SaveIcon className={classes.margin} />\n                        Exportar\n                    </Button>   \n                }\n                filename=\"Reporte de Turnos Usuarios\"\n            >\n                <ExcelSheet data={datosExcel} name={'Reporte de Turnos Usuarios'}>\n                    <ExcelColumn label='No. Usuario' value='numero_usuario' />\n                    <ExcelColumn label='Usuario' value='nombre' />\n                    <ExcelColumn label='Fecha Movimiento' value='fecha' />\n                    <ExcelColumn label='Fecha Entrada' value='fecha_entrada' />\n                    <ExcelColumn label='Fecha Salida' value='fecha_salida' />\n                    <ExcelColumn label='Hora Entrada' value='hora_entrada' />\n                    <ExcelColumn label='Hora Salida' value='hora_salida' />\n                    <ExcelColumn label='Horario en Turno' value='horario_en_turno' />\n                    <ExcelColumn label='Concepto' value='concepto' />\n                    <ExcelColumn label='No. de Caja' value='caja' />\n                </ExcelSheet>\n            </ExcelFile>\n\n            <Grid item lg={12}>\n                <div className={classes.formInputFlex}>\n                    <Box width=\"100%\">\n                        <Typography>\n                            Fecha inicio:\n                        </Typography>\n                        <TextField \n                            fullWidth\n                            size=\"small\"\n                            name=\"fechaInicio\"\n                            variant=\"outlined\"\n                            type=\"date\"\n                            onChange={obtenerDatos}\n                            value={filtros.fechaInicio ? filtros.fechaInicio : \"\"}\n                        />\n                    </Box>\n                    <Box width=\"100%\">\n                        <Typography>\n                            Fecha fin:\n                        </Typography>\n                        <TextField \n                            fullWidth\n                            size=\"small\"\n                            name=\"fechaFin\"\n                            variant=\"outlined\"\n                            type=\"date\"\n                            onChange={obtenerDatos}\n                            value={filtros.fechaFin ? filtros.fechaFin : \"\"}\n                        />\n                    </Box>\n                    <form onSubmit={filtrarProductos} style={{ display: 'flex', alignItems: 'center', width: \"100%\" }}>\n                        <Box width=\"100%\">\n                            <Typography>\n                                Usuario:\n                            </Typography>\n                            <TextField\n                                fullWidth\n                                size=\"small\"\n                                name=\"usuario_en_turno\"\n                                value={filtros.usuario_en_turno ? filtros.usuario_en_turno : \"\"}\n                                variant=\"outlined\"\n                                onChange={obtenerDatos}\n                            />\n                        </Box>\n                    </form>\n                    <Box width=\"100%\">\n                        <Typography>\n                            Caja:\n                        </Typography>\n                        <FormControl\n                            variant=\"outlined\"\n                            fullWidth\n                            size=\"small\"\n                        >\n                            <Select\n                                id=\"form-producto-tipo\"\n                                name=\"numero_caja\"\n                                onChange={obtenerDatos}\n                                value={filtros.numero_caja ? filtros.numero_caja : \"\"}\n                            >\n                                <MenuItem value=\"\">\n                                    <em>Selecciona uno</em>\n                                </MenuItem>\n                                {\n                                    cajas.data?.obtenerCajasSucursal?.map((caja) =>{\n                                        return(\n                                            <MenuItem key={caja.numero_caja} value={caja.numero_caja}>\n                                                Caja {caja.numero_caja}\n                                            </MenuItem>\n                                        );\n                                    })\n                                }\n                            </Select>\n                        </FormControl>\n                    </Box>\n                    <Box width=\"100%\">\n                        <Typography>\n                            Horario de Turno:\n                        </Typography>\n                        <FormControl\n                            variant=\"outlined\"\n                            fullWidth\n                            size=\"small\"\n                        >\n                            <Select\n                                id=\"form-producto-tipo\"\n                                name=\"horario_turno\"\n                                value={filtros.horario_turno ? filtros.horario_turno : \"\"}\n                                onChange={obtenerDatos}\n                            >\n                                <MenuItem value=\"\">\n                                    <em>Selecciona uno</em>\n                                </MenuItem>\n                                <MenuItem value=\"VESPERTINO\">Vespertino</MenuItem>\n                                <MenuItem value=\"MATUTINO\">Matutino</MenuItem>\n                            </Select>\n                        </FormControl>\n                    </Box>\n                    <Box width=\"70%\" display=\"flex\" justifyContent=\"center\" justifyItems=\"center\" alignItems=\"center\">\n                        <Box mt={2}>\n                            <Button\n                                color=\"primary\"\n                                size=\"large\"\n                                variant=\"contained\"\n                                onClick={limpiarFiltros}\n                            >\n                                Limpiar\n                            </Button>\n                        </Box>\n                    </Box>\n                </div>\n            </Grid> \n           \n        </Grid>    \n        <Grid item lg={12}>\n            <TablaTurnosFiltrados loading={loading} turnos={historialTurnos} />\n        </Grid>  \n        </>\n    );\n}","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport { Box } from \"@material-ui/core\";\nimport {\n  formatoFechaCorta,\n  formatoMexico,\n} from \"../../../../config/reuserFunctions\";\nimport { formaPago } from \"../../Facturacion/catalogos\";\n\nconst columns = [\n  { label: \"Nombre producto\", minWidth: 160 },\n  { label: \"Fecha de Compra\", minWidth: 160 },\n  { label: \"Almacen\", minWidth: 100 },\n  { label: \"Proveedor\", minWidth: 100 },\n  { label: \"M. pago\", minWidth: 90 },\n  { label: \"F. pago\", minWidth: 100 },\n  { label: \"Cantidad\", minWidth: 90 },\n  { label: \"Descuento\", minWidth: 100 },\n  { label: \"Subtotal\", minWidth: 90 },\n  { label: \"Impuestos\", minWidth: 90 },\n  { label: \"Total\", minWidth: 100 },\n];\n\nconst useStyles = makeStyles((theme) => ({\n  container: {\n    maxHeight: \"70vh\",\n  },\n}));\n\nexport default function TablaComprasFiltradas({ data }) {\n  const classes = useStyles();\n\n  return (\n    <Box my={2}>\n      <Paper variant=\"outlined\">\n        <TableContainer className={classes.container}>\n          <Table size=\"small\" stickyHeader aria-label=\"a dense table\">\n            <TableHead>\n              <TableRow>\n                {columns.map((column, index) => (\n                  <TableCell\n                    key={index}\n                    /* align={column.align} */\n                    style={{ minWidth: column.minWidth }}\n                  >\n                    {column.label}\n                  </TableCell>\n                ))}\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {data.map((data, index) => {\n                const result = formaPago.filter(\n                  (res) => res.Value === data.forma_pago\n                );\n                let forma_pago = result[0];\n\n                return (\n                  <TableRow key={index} role=\"checkbox\" tabIndex={-1}>\n                    <TableCell>\n                      {data.producto.datos_generales.nombre_comercial}\n                    </TableCell>\n                    <TableCell>\n                      {formatoFechaCorta(data.fecha_registro)}\n                    </TableCell>\n                    <TableCell>{data.almacen.nombre_almacen}</TableCell>\n                    <TableCell>{data.proveedor.nombre_cliente}</TableCell>\n                    <TableCell>\n                      {data.compra_credito ? \"Crédito\" : \"Contado\"}\n                    </TableCell>\n                    <TableCell>\n                      {`${forma_pago.Value}-${forma_pago.Name}`}\n                    </TableCell>\n                    <TableCell>\n                      {`${data.cantidad_total} - ${data.unidad}`}\n                    </TableCell>\n                    <TableCell>\n                      {`%${data.descuento_porcentaje} - $${\n                        data.descuento_precio\n                          ? formatoMexico(data.descuento_precio)\n                          : 0\n                      }`}\n                    </TableCell>\n                    <TableCell>${formatoMexico(data.subtotal)}</TableCell>\n                    <TableCell>${formatoMexico(data.impuestos)}</TableCell>\n                    <TableCell>${formatoMexico(data.total)}</TableCell>\n                  </TableRow>\n                );\n              })}\n            </TableBody>\n          </Table>\n        </TableContainer>\n      </Paper>\n    </Box>\n  );\n}\n","import { gql } from \"@apollo/client\";\n\nexport const OBTENER_REPORTE_COMPRAS = gql`\n  query obtenerProductoMovimientos(\n    $empresa: ID!\n    $sucursal: ID\n    $input: ObteneReportesCompras\n  ) {\n    obtenerProductoMovimientos(\n      empresa: $empresa\n      sucursal: $sucursal\n      input: $input\n    ) {\n      _id\n      id_compra\n      id_traspaso\n      id_producto\n      id_proveedor\n      id_almacen\n      almacen {\n        id_almacen\n        nombre_almacen\n      }\n      proveedor {\n        _id\n        clave_cliente\n        numero_cliente\n        nombre_cliente\n      }\n      producto {\n        almacen_inicial {\n          almacen\n          cantidad\n          fecha_de_expiracion\n          id_almacen\n        }\n        datos_generales {\n          codigo_barras\n          clave_alterna\n          tipo_producto\n          nombre_comercial\n          nombre_generico\n          descripcion\n          id_categoria\n          categoria\n          subcategoria\n          id_subcategoria\n          id_departamento\n          departamento\n          id_marca\n          marca\n          clave_producto_sat {\n            Name\n            Value\n          }\n          receta_farmacia\n        }\n        precios {\n          ieps\n          ieps_activo\n          iva\n          iva_activo\n          monedero\n          monedero_electronico\n          granel\n          litros\n          inventario {\n            inventario_minimo\n            inventario_maximo\n            unidad_de_inventario\n            codigo_unidad\n          }\n          precio_de_compra {\n            precio_con_impuesto\n            precio_sin_impuesto\n            iva\n            ieps\n          }\n          precios_producto {\n            numero_precio\n            precio_neto\n            precio_venta\n            iva_precio\n            ieps_precio\n            unidad_mayoreo\n            utilidad\n            precio_general\n            cantidad_unidad\n            unidad_maxima\n          }\n          unidad_de_compra {\n            cantidad\n            precio_unitario_con_impuesto\n            unidad\n            codigo_unidad\n          }\n        }\n        unidades_de_venta {\n          cantidad\n          codigo_barras\n          id_producto\n          precio\n          unidad\n          unidad_principal\n          _id\n          precio_unidad {\n            numero_precio\n            precio_neto\n            precio_venta\n            iva_precio\n            ieps_precio\n            unidad_mayoreo\n            utilidad\n            precio_general\n            cantidad_unidad\n            unidad_maxima\n          }\n        }\n      }\n      concepto\n      cantidad\n      cantidad_regalo\n      unidad_regalo\n      cantidad_total\n      iva_total\n      ieps_total\n      costo\n      descuento_porcentaje\n      descuento_precio\n      compra_credito\n      forma_pago\n      impuestos\n      mantener_precio\n      subtotal\n      total\n      medida {\n        id_medida\n        medida\n        tipo\n      }\n      color {\n        id_color\n        color\n        hex\n      }\n      unidad\n      id_unidad_venta\n      empresa\n      sucursal\n      usuario\n      year_registro\n      numero_semana_year\n      numero_mes_year\n      fecha_registro\n    }\n  }\n`;\n","import React from \"react\";\nimport { Button } from \"@material-ui/core\";\nimport { RiFileExcel2Line } from \"react-icons/ri\";\nimport {\n  formatoFechaCorta,\n  formatoMexico,\n} from \"../../../../config/reuserFunctions\";\nimport { formaPago } from \"../../Facturacion/catalogos\";\n\nimport ReactExport from \"react-export-excel\";\n\nconst ExcelFile = ReactExport.ExcelFile;\nconst ExcelSheet = ReactExport.ExcelFile.ExcelSheet;\nconst ExcelColumn = ReactExport.ExcelFile.ExcelColumn;\n\nexport default function ExportarCompras({ data }) {\n  const compras = data.map((compra) => {\n    const {\n      producto,\n      fecha_registro,\n      almacen,\n      proveedor,\n      color,\n      medida,\n      cantidad,\n      unidad,\n      unidad_regalo,\n      cantidad_regalo,\n      cantidad_total,\n      compra_credito,\n      costo,\n      descuento_porcentaje,\n      descuento_precio,\n      iva_precio,\n      ieps_precio,\n      subtotal,\n      impuestos,\n      total,\n    } = compra;\n    const forma_pago_filtrada = formaPago.filter(\n      (forma) => forma.Value === compra.forma_pago\n    );\n    const forma_pago = forma_pago_filtrada[0];\n\n    const compra_realizada = {\n      producto: producto.datos_generales.nombre_comercial,\n      fecha_registro: formatoFechaCorta(fecha_registro),\n      almacen: almacen.nombre_almacen,\n      proveedor: proveedor.nombre_cliente,\n      color: color ? color.color : \"N/A\",\n      medida: medida ? `${medida.medida}/${medida.tipo}` : \"N/A\",\n      cantidad,\n      unidad,\n      unidad_regalo,\n      cantidad_regalo,\n      cantidad_total,\n      compra_credito: compra_credito === true ? \"Credito\" : \"Contado\",\n      forma_pago: `${forma_pago.Value} - ${forma_pago.Name}`,\n      costo: `$${costo ? formatoMexico(costo) : 0}`,\n      descuento_porcentaje: `%${descuento_porcentaje}`,\n      descuento_precio: `$${\n        descuento_precio ? formatoMexico(descuento_precio) : 0\n      }`,\n      iva_precio: `$${ieps_precio ? formatoMexico(ieps_precio) : 0}`,\n      subtotal: `$${subtotal ? formatoMexico(subtotal) : 0}`,\n      impuestos: `$${impuestos ? formatoMexico(impuestos) : 0}`,\n      total: `$${total ? formatoMexico(total) : 0}`,\n    };\n\n    return compra_realizada;\n  });\n  return (\n    <ExcelFile\n      element={\n        <Button color=\"primary\" startIcon={<RiFileExcel2Line />}>\n          Exportar a Excel\n        </Button>\n      }\n      filename=\"Reporte de compras\"\n    >\n      <ExcelSheet data={compras} name=\"Reporte de compras\">\n        <ExcelColumn label=\"Producto\" value=\"producto\" />\n        <ExcelColumn label=\"Fecha de compra\" value=\"fecha_registro\" />\n        <ExcelColumn label=\"Almacen\" value=\"almacen\" />\n        <ExcelColumn label=\"Proveedor\" value=\"proveedor\" />\n        <ExcelColumn label=\"Color\" value=\"color\" />\n        <ExcelColumn label=\"Medida\" value=\"medida\" />\n        <ExcelColumn label=\"Cantidad\" value=\"cantidad\" />\n        <ExcelColumn label=\"Unidad\" value=\"unidad\" />\n        <ExcelColumn label=\"Unidad de Regalo\" value=\"unidad_regalo\" />\n        <ExcelColumn label=\"Cantidad de Regalo\" value=\"cantidad_regalo\" />\n        <ExcelColumn label=\"Cantidad Total\" value=\"cantidad_total\" />\n        <ExcelColumn label=\"Metodo de Pago\" value=\"compra_credito\" />\n        <ExcelColumn label=\"Forma de pago\" value=\"forma_pago\" />\n        <ExcelColumn label=\"Costo\" value=\"costo\" />\n        <ExcelColumn\n          label=\"Descuento en Porcentaje\"\n          value=\"descuento_porcentaje\"\n        />\n        <ExcelColumn label=\"Descuento en Cantidad\" value=\"descuento_precio\" />\n        <ExcelColumn label=\"IVA\" value=\"iva_precio\" />\n        <ExcelColumn label=\"IEPS\" value=\"ieps_precio\" />\n        <ExcelColumn label=\"Subtotal\" value=\"subtotal\" />\n        <ExcelColumn label=\"Impuestos\" value=\"impuestos\" />\n        <ExcelColumn label=\"Total\" value=\"total\" />\n      </ExcelSheet>\n    </ExcelFile>\n  );\n}\n","import {\n  Box,\n  Button,\n  CircularProgress,\n  DialogContent,\n  FormControl,\n  Grid,\n  MenuItem,\n  Select,\n  TextField,\n  Typography,\n} from \"@material-ui/core\";\nimport React, { Fragment, useEffect, useState } from \"react\";\nimport TablaComprasFiltradas from \"./TablaComprasFiltradas\";\nimport { formaPago } from \"../../Facturacion/catalogos\";\nimport { useDebounce } from \"use-debounce/lib\";\nimport { OBTENER_REPORTE_COMPRAS } from \"../../../../gql/Compras/reporte_compras\";\nimport { useQuery } from \"@apollo/client\";\nimport ErrorPage from \"../../../../components/ErrorPage\";\nimport { ClearOutlined } from \"@material-ui/icons\";\nimport ExportarCompras from \"./ExportarCompras\";\n\nexport default function FiltrosCompras() {\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n\n  const { loading, data, error, refetch } = useQuery(OBTENER_REPORTE_COMPRAS, {\n    variables: {\n      empresa: sesion.empresa._id,\n      sucursal: sesion.sucursal._id,\n      input: {\n        fecha_inicio: \"\",\n        fecha_fin: \"\",\n        proveedor: \"\",\n        metodo_pago: \"\",\n        forma_pago: \"\",\n        producto: \"\",\n      },\n    },\n    fetchPolicy: \"network-only\",\n  });\n\n  if (loading) {\n    return (\n      <Box\n        display=\"flex\"\n        flexDirection=\"column\"\n        justifyContent=\"center\"\n        alignItems=\"center\"\n        height=\"80vh\"\n      >\n        <CircularProgress />\n        <Typography variant=\"h6\">Cargando...</Typography>\n      </Box>\n    );\n  }\n\n  if (error) return <ErrorPage error={error} />;\n\n  const { obtenerProductoMovimientos } = data;\n\n  return (\n    <Fragment>\n      <DialogContent>\n        <CapturaDeDatos refetch={refetch} data={obtenerProductoMovimientos} />\n        <TablaComprasFiltradas data={obtenerProductoMovimientos} />\n      </DialogContent>\n    </Fragment>\n  );\n}\n\nconst CapturaDeDatos = ({ refetch, data }) => {\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n  const [filtro, setFiltro] = useState({\n    fecha_inicio: \"\",\n    fecha_fin: \"\",\n    proveedor: \"\",\n    metodo_pago: \"\",\n    forma_pago: \"\",\n    producto: \"\",\n  });\n\n  const [values] = useDebounce(filtro, 800);\n\n  const limpiarFiltros = () => {\n    setFiltro({\n      fecha_inicio: \"\",\n      fecha_fin: \"\",\n      proveedor: \"\",\n      metodo_pago: \"\",\n      forma_pago: \"\",\n      producto: \"\",\n    });\n  };\n\n  const obtenerCamposFiltro = (e) => {\n    const { name, value } = e.target;\n    setFiltro({\n      ...filtro,\n      [name]: value,\n    });\n  };\n\n  useEffect(() => {\n    realizarBusquedaBD(values);\n  }, [values]);\n\n  const realizarBusquedaBD = (filter) => {\n    refetch({\n      empresa: sesion.empresa._id,\n      sucursal: sesion.sucursal._id,\n      input: filter,\n    });\n  };\n  return (\n    <Fragment>\n      <Grid container spacing={2}>\n        <Grid item md={2}>\n          <Typography>Fecha compra inicio:</Typography>\n          <TextField\n            fullWidth\n            size=\"small\"\n            name=\"fecha_inicio\"\n            variant=\"outlined\"\n            type=\"date\"\n            onChange={obtenerCamposFiltro}\n            value={filtro.fecha_inicio}\n          />\n        </Grid>\n        <Grid item md={2}>\n          <Typography>Fecha compra fin:</Typography>\n          <TextField\n            fullWidth\n            size=\"small\"\n            name=\"fecha_fin\"\n            variant=\"outlined\"\n            type=\"date\"\n            onChange={obtenerCamposFiltro}\n            value={filtro.fecha_fin}\n          />\n        </Grid>\n        <Grid item md={2}>\n          <Typography>Proveedor:</Typography>\n          <TextField\n            fullWidth\n            size=\"small\"\n            name=\"proveedor\"\n            variant=\"outlined\"\n            placeholder=\"Nombre, Clave o numero\"\n            onChange={obtenerCamposFiltro}\n            value={filtro.proveedor}\n          />\n        </Grid>\n        <Grid item md={2}>\n          <Typography>Método de pago:</Typography>\n          <FormControl variant=\"outlined\" fullWidth size=\"small\">\n            <Select\n              name=\"metodo_pago\"\n              onChange={obtenerCamposFiltro}\n              value={filtro.metodo_pago}\n            >\n              <MenuItem value=\"\">\n                <em>Cualquier metodo</em>\n              </MenuItem>\n              <MenuItem value=\"CREDITO\">Crédito</MenuItem>\n              <MenuItem value=\"CONTADO\">Contado</MenuItem>\n            </Select>\n          </FormControl>\n        </Grid>\n        <Grid item md={2}>\n          <Typography>Forma de Pago:</Typography>\n          <FormControl variant=\"outlined\" fullWidth size=\"small\">\n            <Select\n              name=\"forma_pago\"\n              onChange={obtenerCamposFiltro}\n              value={filtro.forma_pago}\n            >\n              <MenuItem value=\"\">\n                <em>Cualquier forma</em>\n              </MenuItem>\n              {formaPago.map((res, index) => (\n                <MenuItem\n                  key={index}\n                  value={res.Value}\n                >{`${res.Value} - ${res.Name}`}</MenuItem>\n              ))}\n            </Select>\n          </FormControl>\n        </Grid>\n        <Grid item md={2}>\n          <Typography>Producto:</Typography>\n          <TextField\n            fullWidth\n            size=\"small\"\n            name=\"producto\"\n            variant=\"outlined\"\n            placeholder=\"Nombre, código, clave...\"\n            onChange={obtenerCamposFiltro}\n            value={filtro.producto}\n          />\n        </Grid>\n      </Grid>\n      <Box mt={1} display=\"flex\">\n        <Button\n          color=\"primary\"\n          startIcon={<ClearOutlined />}\n          onClick={() => limpiarFiltros()}\n        >\n          Limpiar filtros\n        </Button>\n        <Box mx={1} />\n        <ExportarCompras data={data} />\n      </Box>\n    </Fragment>\n  );\n};\n","import {\n  AppBar,\n  Box,\n  Button,\n  Dialog,\n  Slide,\n  Toolbar,\n  Typography,\n} from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/styles\";\nimport React, { useState } from \"react\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport { FcPaid } from \"react-icons/fc\";\nimport FiltrosCompras from \"./FiltrosCompra\";\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nconst useStyles = makeStyles((theme) => ({\n  appBar: {\n    position: \"relative\",\n  },\n  title: {\n    marginLeft: theme.spacing(2),\n    flex: 1,\n  },\n}));\n\nexport default function ReportesCompras() {\n  const classes = useStyles();\n  const [open, setOpen] = useState(false);\n\n  const handleClickOpen = () => {\n    setOpen(!open);\n  };\n\n  return (\n    <Box>\n      <Button fullWidth onClick={handleClickOpen}>\n        <Box display=\"flex\" flexDirection=\"column\">\n          <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n            <FcPaid fontSize={100} />\n          </Box>\n          Reportes Compras\n        </Box>\n      </Button>\n      <Dialog\n        fullScreen\n        open={open}\n        onClose={handleClickOpen}\n        TransitionComponent={Transition}\n      >\n        <AppBar className={classes.appBar}>\n          <Toolbar>\n            <Typography variant=\"h6\" className={classes.title}>\n              Reportes Compras\n            </Typography>\n            <Box m={1}>\n              <Button\n                variant=\"contained\"\n                color=\"secondary\"\n                onClick={handleClickOpen}\n                size=\"large\"\n              >\n                <CloseIcon style={{ fontSize: 30 }} />\n              </Button>\n            </Box>\n          </Toolbar>\n        </AppBar>\n        <FiltrosCompras />\n      </Dialog>\n    </Box>\n  );\n}\n","import React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TablePagination from '@material-ui/core/TablePagination';\nimport TableRow from '@material-ui/core/TableRow';\nimport { Box} from '@material-ui/core';\n\nconst columns = [\n\t{ id: 'name', label: 'F. Venta', minWidth: 100 },\n\t{ id: 'code', label: 'Producto', minWidth: 100 },\n\t{ id: 'code', label: 'P. de Compra', minWidth: 100 },\t\n\t{ id: 'code', label: 'Cantidad', minWidth: 100 },\n\t{ id: 'code', label: 'Total', minWidth: 100 },\t\n\t{ id: 'code', label: 'Provedor', minWidth: 100 },\t\n\t{ id: 'code', label: 'Fomas', minWidth: 100 },\t\n\t{ id: 'code', label: 'M. de Pago', minWidth: 100 },\t\n\n];\n\nconst useStyles  = makeStyles((theme) => ({\n\troot: {\n\t\twidth: '100%'\n\t},\n\tcontainer: {\n\t\tmaxHeight: '100%'\n\t},\n    appBar: {\t\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n\trootBusqueda: {\n\t\tdisplay: 'flex',\n\t\tpaddingLeft: theme.spacing(2)\n\t},\n}));\n\nexport default function TablaVentasFiltradas() {\n\tconst classes = useStyles();\n\n\treturn (\n        <Box p={2}>\n            <Paper className={classes.root}>\n                <TableContainer className={classes.container}>\n                    <Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n                        <TableHead>\n                            <TableRow>\n                                {columns.map((column) => (\n                                    <TableCell key={column.id} align={column.align} style={{ minWidth: column.minWidth }}>\n                                        {column.label}\n                                    </TableCell>\n                                ))}\n                            </TableRow>\n                        </TableHead>\n                        <TableBody>\n                            \n                        </TableBody>\n                    </Table>\n                </TableContainer>\n            </Paper>\n        </Box>\n\t);\n}","import { AppBar, Box, Button, Dialog, FormControl, Grid, MenuItem, Select, Slide, TextField, Toolbar, Typography } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/styles';\nimport React, { useState } from 'react';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { FcPaid } from 'react-icons/fc';\nimport SaveIcon from '@material-ui/icons/Save';\nimport TablaVentasFiltradas from './TablaVentasFiltradas';\n\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nconst useStyles = makeStyles((theme) => ({\n\tappBar: {\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n\ticon: {\n\t\twidth: 100\n\t},\n    formInputFlex: {\n\t\tdisplay: 'flex',\n\t\t'& > *': {\n\t\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(1)}px`\n\t\t},\n\t\t'& .obligatorio': {\n\t\t\tcolor: 'red'\n\t\t}\n\t},\n\tformInput: {\n\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(2)}px`\n\t},\n    margin: {\n\t\tmargin: theme.spacing(1)\n\t},\n\ticonSave: {\n\t\tzIndex: 10,\n\t\tposition: 'fixed',\n\t\tbottom: theme.spacing(2),\n\t\tright: theme.spacing(10)\n\t},\n}));\n\nexport default function ReportesVentas() {\n\n    const classes = useStyles();\n\n    const [open, setOpen] = useState(false);\n\n    const handleClickOpen =()=>{setOpen(!open)};\n\n    return (\n        <>\n            <Button fullWidth onClick={handleClickOpen}>\n\t\t\t\t<Box display=\"flex\" flexDirection=\"column\">\n\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n                        <img src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/ventas/cart-add.svg' alt=\"icono ventas\" style={{width: 100}} />\n\t\t\t\t\t</Box>\n\t\t\t\t\tReportes Ventas\n\t\t\t\t</Box>\n\t\t\t</Button>\n\t\t\t<Dialog fullScreen open={open} onClose={handleClickOpen} TransitionComponent={Transition}>\n\t\t\t\t<AppBar className={classes.appBar}>\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t<Typography variant=\"h6\" className={classes.title}>\n\t\t\t\t\t\t\tReportes Ventas\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Box m={1}>\n\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"secondary\" onClick={handleClickOpen} size=\"large\">\n\t\t\t\t\t\t\t\t<CloseIcon style={{fontSize: 30}} />\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</AppBar>\n                <Grid container>\n                    <Button\n                        variant=\"contained\"\n                        color=\"primary\"\n                        aria-label=\"Guardar\"\n                        className={classes.iconSave}\n                    >\n                        <SaveIcon className={classes.margin} />\n                        Exportar\n                    </Button>\n                    <Grid item lg={12}>\n                        <div className={classes.formInputFlex}>\n                            <Box width=\"100%\">\n                                <Typography>\n                                    Fecha inicio:\n                                </Typography>\n                                <TextField \n                                    fullWidth\n                                    size=\"small\"\n                                    name=\"fechaInicio\"\n                                    variant=\"outlined\"\n                                    type=\"date\"\n                                />\n                            </Box>\n                            <Box width=\"100%\">\n                                <Typography>\n                                    Fecha fin:\n                                </Typography>\n                                <TextField \n                                    fullWidth\n                                    size=\"small\"\n                                    name=\"fechaFin\"\n                                    variant=\"outlined\"\n                                    type=\"date\"\n                                />\n                            </Box>\n                            <Box width=\"100%\">\n                                <Typography>\n                                    Clientes:\n                                </Typography>\n                                <TextField\n                                    fullWidth\n                                    size=\"small\"\n                                    name=\"provedor\"\n                                    variant=\"outlined\"\n                                />\n                            </Box>\n                            <Box width=\"100%\">\n                                <Typography>\n                                    Metodos de Pago:\n                                </Typography>\n                                <FormControl\n                                    variant=\"outlined\"\n                                    fullWidth\n                                    size=\"small\"\n                                >\n                                    <Select\n                                        id=\"form-producto-tipo\"\n                                        name=\"tipo_producto\"\n                                    >\n                                        <MenuItem value=\"\">\n                                            <em>Selecciona uno</em>\n                                        </MenuItem>\n                                        <MenuItem value=\"EFECTIVO\">Efectivo</MenuItem>\n                                        <MenuItem value=\"PUNTOS\">Puntos</MenuItem>\n                                        <MenuItem value=\"DEBITO\">T. Debito</MenuItem>\n                                        <MenuItem value=\"CREDITO\">T. Credito</MenuItem>\n                                        <MenuItem value=\"CHEQUES\">Cheques</MenuItem>\n                                    </Select>\n                                </FormControl>\n                            </Box>\n                            <Box width=\"100%\">\n                                <Typography>\n                                    Nombre Producto:\n                                </Typography>\n                                <TextField\n                                    fullWidth\n                                    size=\"small\"\n                                    name=\"provedor\"\n                                    variant=\"outlined\"\n                                />\n                            </Box>\n                        </div>\n                    </Grid> \n                    <Grid item lg={12}>\n                        <TablaVentasFiltradas />\n                    </Grid>\n                    \n                </Grid>            \n\t\t\t</Dialog> \n        </>\n    )   \n}\n","import React from \"react\";\nimport { Button } from \"@material-ui/core\";\nimport { RiFileExcel2Line } from \"react-icons/ri\";\nimport {\n  formatoFechaCorta,\n  formatoMexico,\n} from \"../../../../config/reuserFunctions\";\nimport { formaPago } from \"../../Facturacion/catalogos\";\n\nimport ReactExport from \"react-export-excel\";\n\nconst ExcelFile = ReactExport.ExcelFile;\nconst ExcelSheet = ReactExport.ExcelFile.ExcelSheet;\nconst ExcelColumn = ReactExport.ExcelFile.ExcelColumn;\n\nexport default function ExportarTraspasos({ data }) {\n  const traspasos = data.map((traspaso) => {\n    const trasp =  {\n      producto: traspaso.producto.datos_generales.nombre_comercial,\n      cantidad: traspaso.cantidad,\n      fecha:\tformatoFechaCorta(traspaso.id_traspaso.fecha_registro),\n      concepto: traspaso.id_traspaso.concepto_traspaso.nombre_concepto,\n      almacen_origen: (traspaso.almacen_origen !== null) ? traspaso.almacen_origen.nombre_almacen : '',\n      almacen_destino:(traspaso.almacen_destino !== null) ? traspaso.almacen_destino.nombre_almacen : ''\n    } ;\n  \n    return trasp;\n  });\n  return (\n    <ExcelFile\n      element={\n        <Button color=\"primary\" startIcon={<RiFileExcel2Line />}>\n          Exportar a Excel\n        </Button>\n      }\n      filename=\"Reporte de traspasos\"\n    >\t\n\n      <ExcelSheet data={traspasos} name=\"Reporte de traspasos\">\n        <ExcelColumn label=\"Producto\" value=\"producto\" />\n        <ExcelColumn label=\"Cantidad\" value=\"cantidad\" />\n        <ExcelColumn label=\"Fecha\" value=\"fecha\" />\n        <ExcelColumn label=\"Concepto\" value=\"concepto\" />\n        <ExcelColumn label=\"Almacén Origen\" value=\"almacen_origen\" />\n        <ExcelColumn label=\"Almacén Destino\" value=\"almacen_destino\" />\n        \n        \n      </ExcelSheet>\n    </ExcelFile>\n  );\n}\n","import React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport { Box} from '@material-ui/core';\nimport {\n  formatoFechaCorta,\n\n} from \"../../../../config/reuserFunctions\"; \n\nconst columns = [\n\t{ id: 'producto', label: 'Producto', minWidth: 200 },\n\t\n\t{ id: 'cantidad', label: 'Cantidad', minWidth: 50 },\n\t{ id: 'fecha', label: 'Fecha ', minWidth: 50 },\t\n\t{ id: 'concepto', label: 'Concepto ', minWidth: 100 },\n\t{ id: 'almacen_origen', label: 'Almacén Origen', minWidth: 100 },\t\n\t{ id: 'almacen_destino', label: 'Almacén Destino', minWidth: 100 },\t\n\n\n];\n\nconst useStyles  = makeStyles((theme) => ({\n\troot: {\n\t\twidth: '100%'\n\t},\n\tcontainer: {\n\t\tmaxHeight: '100%'\n\t},\n    appBar: {\t\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n\trootBusqueda: {\n\t\tdisplay: 'flex',\n\t\tpaddingLeft: theme.spacing(2)\n\t},\n}));\n\nexport default function TablaAlmacenFiltradas({data}) {\n\tconst classes = useStyles();\n\n\treturn (\n        <Box p={2}>\n            <Paper className={classes.root}>\n                <TableContainer className={classes.container}>\n                    <Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n                        <TableHead>\n                            <TableRow>\n                                {columns.map((column) => (\n                                    <TableCell key={column.id} align={column.align} style={{ minWidth: column.minWidth }}>\n                                        {column.label}\n                                    </TableCell>\n                                ))}\n                            </TableRow>\n                        </TableHead>\n                         <TableBody>\n\t\t\t\t\t\t\t{data.map((data, index) => {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<TableRow key={index} role=\"checkbox\" tabIndex={-1}>\n\t\t\t\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\t\t\t{data.producto.datos_generales.nombre_comercial}\n\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t<TableCell>{data.cantidad}</TableCell>\n\t\t\t\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\t\t\t{formatoFechaCorta(data.id_traspaso.fecha_registro)}\n\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\t\t\t{data.id_traspaso.concepto_traspaso.nombre_concepto}\n\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t<TableCell>{(data.almacen_origen !== null) ? data.almacen_origen.nombre_almacen : ''}</TableCell>\n\t\t\t\t\t\t\t\t\t<TableCell>{(data.almacen_destino !== null) ? data.almacen_destino.nombre_almacen : ''}</TableCell>\n\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</TableBody>\n                    </Table>\n                </TableContainer>\n            </Paper>\n        </Box>\n\t);\n}","import React, { useState,  Fragment } from 'react';\n\nimport { AppBar, Box, Button, Dialog, FormControl, \nGrid, MenuItem, Select, Slide, TextField, Toolbar, \nTypography } from '@material-ui/core';\nimport {CircularProgress} from \"@material-ui/core\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport { makeStyles } from '@material-ui/styles';\nimport { OBTENER_USUARIOS } from '../../../../gql/Catalogos/usuarios';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { ClearOutlined } from \"@material-ui/icons\";\nimport ExportarTraspasos from \"./ExportarTraspasos\";\nimport TablaAlmacenFiltradas from './TablaAlmacenFiltradas';\nimport { useQuery } from '@apollo/client';\n\n\nimport { OBTENER_ALMACENES, OBTENER_TRASPASOS  } from '../../../../gql/Almacenes/Almacen';\nimport { useDebounce } from 'use-debounce';\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nconst useStyles = makeStyles((theme) => ({\n\tappBar: {\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n\ticon: {\n\t\twidth: 100\n\t},\n    formInputFlex: {\n\t\tdisplay: 'flex',\n\t\t'& > *': {\n\t\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(1)}px`\n\t\t},\n\t\t'& .obligatorio': {\n\t\t\tcolor: 'red'\n\t\t}\n\t},\n\tformInput: {\n\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(2)}px`\n\t},\n    margin: {\n\t\tmargin: theme.spacing(1)\n\t},\n    CircularProgress:{\n         width: '100%',\n        height: 200,\n        marginTop:100,\n        display: 'flex',\n        justifyContent: 'center'\n    },\n\ticonSave: {\n\t\tzIndex: 10,\n\t\tposition: 'fixed',\n\t\tbottom: theme.spacing(2),\n\t\tright: theme.spacing(10)\n\t},\n}));\n\nexport default function ReportesAlmacen() {\n\n    const classes = useStyles();\n    const sesion = JSON.parse(localStorage.getItem('sesionCafi'));\t\n    const [open, setOpen] = useState(false);\n    const [almacenOrigen, setAlmacenOrigen] = useState(null);\n    const [almacenDestino, setAlmacenDestino] = useState(null);\n    const [loading, setLoading] = useState(false);\n    const [inputFilter, setFilter] = useState({\n        empresa: sesion.empresa._id,\n        sucursal: sesion.sucursal._id,\n        producto: '',\n        fecha_inicio: '',\n        fecha_final: '',\n        usuario: ''\n    });\n\n    const [encargado, setEncargado] = useState('');\n    const [value] = useDebounce(inputFilter, 1000);\n\n    let almacenes = [];\n    let traspasos = [];\n    let usuarios = [];\n\n\n    const queryObtenerAlmacenes = useQuery(OBTENER_ALMACENES,{\n        variables: {\n            id: sesion.sucursal._id\n        },\n         fetchPolicy: \"network-only\"\n    });\t\n    \n    const queryObtenerUsuarios =  useQuery(OBTENER_USUARIOS,{\n        variables: {\n            sucursal: `${sesion.sucursal._id}`\n        },\n        \n         fetchPolicy: \"network-only\"\n    })\n    const traspasosAlmacenes = useQuery(OBTENER_TRASPASOS,{\n        variables:{\n            input: value\n        },\n        fetchPolicy: \"network-only\"\n    });\t\n\t\n\n  /*   useEffect(() => {\n        try {\n            \n            traspasosAlmacenes.refetch({\n                  input: inputFilter\n            }) \n        } catch (error) {\n            console.log('traspasosAlmacenes',error)\n        }\n        \n    }, []); */\n    \n    const limpiarFiltros = () => {\n        try {\n            let filt = {\n                empresa: sesion.empresa._id,\n                sucursal: sesion.sucursal._id,\n                producto: '',\n                fecha_inicio: '',\n                fecha_final: '',\n                usuario: ''\n            };\n          \n        \n            setFilter(filt);\n            setLoading(true);\n            traspasosAlmacenes.refetch(\n                {\n                    input: filt\n                }\n            )\n            setEncargado('');\n            setAlmacenOrigen(null);\n            setAlmacenDestino(null);\n            setLoading(false);\n        } catch (error) {\n            \n        }\n  \n\n  };\n    const handleClickOpen =()=>{setOpen(!open)};\n    \n    if(queryObtenerAlmacenes.data){\n        almacenes = queryObtenerAlmacenes.data.obtenerAlmacenes;\n       \n    }\n     \n    const setDatosInput = (e) =>{\n      \n          let fil = {...inputFilter, [e.target.name]: e.target.value,almacen_destino:almacenDestino,almacen_origen : almacenOrigen}\n        setFilter(fil)\n    }\n    const setQueryAlmacenOrigen = (alm) =>{\n           \n        let almDes = (almacenDestino !== null ) ? almacenDestino._id : '';\n        \n        if(alm._id !== ''){\n             setLoading(true);\n            let fil = {...inputFilter, almacen_origen : alm._id, almacen_destino: almDes}\n        \n            traspasosAlmacenes.refetch(\n                {\n                    input: fil\n                }\n            )\n           \n        }\n         setAlmacenOrigen(alm)\n          setLoading(false);\n    }\n     const setQueryAlmacenDestino = (alm) =>{\n        let almOri = (almacenOrigen !== null ) ? almacenOrigen._id : '';  \n        if(alm._id !== ''){\n      \n            let fil = {...inputFilter, almacen_origen : almOri, almacen_destino : alm._id}\n            setLoading(true);\n            traspasosAlmacenes.refetch(\n                {\n                    input: fil\n                }\n            )\n            \n        }\n        \n        setAlmacenDestino(alm);\n         setLoading(false);\n    }\n    const setEncargadoInput = ( enc) =>{\n       try {\n            let almDes = (almacenDestino !== null ) ? almacenDestino._id : '';\n            let almOri = (almacenOrigen !== null ) ? almacenOrigen._id : '';\n            let encId = ( enc!== '' ) ? enc._id : ''; \n            let fil ={...inputFilter, usuario: encId, almacen_destino:almDes,almacen_origen : almOri};\n        \n        traspasosAlmacenes.refetch(\n                {\n                    input: fil\n                }\n            )\n         setEncargado(enc)  \n          setLoading(false);  \n       } catch (error) {\n           \n       }\n        \n    }\n\n    if(traspasosAlmacenes.data){\n       try {\n           \n            traspasos = traspasosAlmacenes.data.obtenerTraspasos;   \n       } catch (error) {\n           \n       }\n      \n       \n    }\n\n    if(queryObtenerUsuarios.data){\n        try {\n             usuarios = queryObtenerUsuarios.data.obtenerUsuarios;\n        } catch (error) {\n            \n        }\n       \n    }\n\n    return (\n        <>\n            <Button fullWidth onClick={handleClickOpen}>\n\t\t\t\t<Box display=\"flex\" flexDirection=\"column\">\n\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n                        <img \n                            src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/almacen.svg' \n                            alt=\"icono almacen\" \n                            style={{width: 100}}\n                        />\n\t\t\t\t\t</Box>\n\t\t\t\t\tReportes Almacen\n\t\t\t\t</Box>\n\t\t\t</Button>\n\t\t\t<Dialog fullScreen open={open} onClose={handleClickOpen} TransitionComponent={Transition}>\n\t\t\t\t<AppBar className={classes.appBar}>\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t<Typography variant=\"h6\" className={classes.title}>\n\t\t\t\t\t\t\tReportes Almacen\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Box m={1}>\n\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"secondary\" onClick={handleClickOpen} size=\"large\">\n\t\t\t\t\t\t\t\t<CloseIcon style={{fontSize: 30}} />\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</AppBar>\n                <Grid container>\n                    \n                    <Grid item lg={12}>\n                        <div className={classes.formInputFlex}>\n                            <Box width=\"100%\">\n                                <Typography>\n                                    Fecha inicio:\n                                </Typography>\n                                <TextField \n                                    fullWidth\n                                    size=\"small\"\n                                    name=\"fecha_inicio\"\n                                    variant=\"outlined\"\n                                    value={inputFilter.fecha_inicio}\n                                    type=\"date\"\n                                    onChange={(e) => setDatosInput(e)}\n                                />\n                            </Box>\n                            <Box width=\"100%\">\n                                <Typography>\n                                    Fecha fin:\n                                </Typography>\n                                <TextField \n                                    fullWidth\n                                    size=\"small\"\n                                    name=\"fecha_final\"\n                                    variant=\"outlined\"\n                                    type=\"date\"\n                                    onChange={(e) => setDatosInput(e)}\n                                    value={inputFilter.fecha_final}\n                                />\n                            </Box>\n                            <Box width=\"100%\">\n                                <Typography>Encargado</Typography>\n                                <Box display=\"flex\">\n                                    <Autocomplete\n                                        id=\"encargado\"\n                                        size=\"small\"\n                                        options={usuarios}\n                                       \n                                        getOptionLabel={(option) =>\n                                            option.nombre ? `${option.nombre}` : \"\"\n                                        }\n                                        fullWidth\n                                        renderInput={(params) => (\n                                            <TextField\n                                            {...params}\n                                            variant=\"outlined\"\n                                            InputProps={{\n                                                ...params.InputProps,\n                                                endAdornment: (\n                                                <Fragment>\n                                                  \n                                                    {params.InputProps.endAdornment}\n                                                </Fragment>\n                                                ),\n                                            }}\n                                            \n                                            />\n                                        )}\n                                        renderOption={(option) => (\n                                            <Fragment>\n                                            {`${option.nombre}`}\n                                            </Fragment>\n                                        )}\n                                        onChange={ (_, data) =>  setEncargadoInput(data)}\n                                        getOptionSelected={(option, value) =>\n                                            option.nombre === value.nombre\n                                        }\n             \n                                        value={(encargado.nombre) ? encargado: null }\n                                    />\n                                </Box>\n                            </Box>\n                             <Box width=\"100%\">\n                                <Typography>Producto:</Typography>\n                                <TextField\n                                    fullWidth\n                                    size=\"small\"\n                                    name=\"producto\"\n                                    variant=\"outlined\"\n                                    placeholder=\"Nombre, código, clave...\"\n                                    onChange={(e) => setDatosInput(e)}\n                                    value={inputFilter.producto}\n                                />\n                            </Box>\n                           \n                            <Box width=\"100%\">\n                                <Typography>\n                                    Almacen origen:\n                                </Typography>\n                                <FormControl\n                                    variant=\"outlined\"\n                                    fullWidth\n                                    size=\"small\"\n                                >\n                                    <Select\n                                        id=\"form-almacen-origen\"\n                                        name=\"almacen_origen\"\n                                        onChange={(e) => setQueryAlmacenOrigen(e.target.value)}\n                                        value={(almacenOrigen !== null) ? almacenOrigen : ''} \n                                    >   \n                                       \n                                        {almacenes.map((almacen) => (\n                                            <MenuItem key={almacen._id} value={almacen} >\n                                                {almacen.nombre_almacen}\n                                            </MenuItem>\n                                        ))}\n                                      \n                                    </Select>\n                                </FormControl>\n                            </Box>\n                            <Box width=\"100%\">\n                                <Typography>\n                                    Almacen destino:\n                                </Typography>\n                                <FormControl\n                                    variant=\"outlined\"\n                                    fullWidth\n                                    size=\"small\"\n                                    \n                                >\n                                    <Select\n                                        id=\"form-almacen-destino\"\n                                        name=\"almacen_destino\"\n                                        onChange={(e) => setQueryAlmacenDestino(e.target.value)}\n                                        value={(almacenDestino !== null) ? almacenDestino: ''} \n                                    >\n                                     \n                                          {almacenes.map((almacen) => (\n                                            <MenuItem key={almacen._id} value={almacen} >\n                                            {almacen.nombre_almacen}\n                                            </MenuItem>\n                                        ))}\n                                       \n                                    </Select>\n                                </FormControl>\n                            </Box>\n                           \n                        </div>\n                        <div className={classes.formInputFlex}>\n                            <Box mt={1} display=\"flex\">\n                                <Button\n                                color=\"primary\"\n                                startIcon={<ClearOutlined />}\n                                onClick={() => limpiarFiltros()}\n                                >\n                                Limpiar filtros\n                                </Button>\n                                <Box mx={1} />\n                                <ExportarTraspasos data= {traspasos} />\n                            </Box>\n                        </div>    \n                    </Grid> \n                    {\n                        (traspasosAlmacenes.loading || loading) ?\n                        <div className={classes.CircularProgress}>\n                        <CircularProgress/>\n                        </div>\n                        :\n                        <Grid item lg={12}>\n                         <TablaAlmacenFiltradas data={traspasos} />\n                        </Grid>\n                    }\n                 \n                    \n                </Grid>            \n\t\t\t</Dialog> \n        </>\n    )   \n}\n","import React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport { Box, Button, CircularProgress, Dialog, DialogActions, Grid, Typography} from '@material-ui/core';\nimport { OBTENER_CORTE_CAJA } from '../../../../gql/Cajas/cajas';\nimport moment from 'moment';\nimport { useLazyQuery } from '@apollo/client';\n\nconst columns = [\n\t{label: 'Fecha Corte', minWidth: 100 },\n\t{label: 'Hora Corte', minWidth: 100 },\n\t{label: 'Usuario', minWidth: 100 },\n\t{label: 'Turno Horario', minWidth: 100 },\t\n\t{label: 'Caja', minWidth: 100 },\n\t{label: 'Sucursal', minWidth: 100 }\n];\n\nconst useStyles  = makeStyles((theme) => ({\n\troot: {\n\t\twidth: '100%'\n\t},\n\tcontainer: {\n\t\tmaxHeight: \"70vh\",\n    \t'& ::-webkit-scrollbar': {\n      \t\tdisplay: 'none'\n    \t}\n\t},\n    appBar: {\t\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n\trootBusqueda: {\n\t\tdisplay: 'flex',\n\t\tpaddingLeft: theme.spacing(2)\n\t},\n}));\n\nexport default function TablaCortesFiltradas({loading, cortes}) {\n\tconst classes = useStyles();\n\n\tif (loading)\n\treturn (\n\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" height=\"30vh\">\n\t\t\t<CircularProgress />\n\t\t</Box>\n\t);\n\n\treturn (\n        <Box p={2}>\n            <Paper className={classes.root}>\n                <TableContainer className={classes.container}>\n                    <Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n                        <TableHead>\n                            <TableRow>\n                                {columns.map((column) => (\n                                    <TableCell key={column.id} align=\"center\" style={{ minWidth: column.minWidth }}>\n                                        {column.label}\n                                    </TableCell>\n                                ))}\n                            </TableRow>\n                        </TableHead>\n\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t{cortes.map((row) => {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<RowsRender\n\t\t\t\t\t\t\t\t\t\tkey={row._id}\n\t\t\t\t\t\t\t\t\t\tcorte={row}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</TableBody>\n                    </Table>\n                </TableContainer>\n            </Paper>\n        </Box>\n\t);\n}\n\nfunction RowsRender({corte}) {\n\tconst [open, setOpen] = useState(false);\n    const sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\n\tconst [obtenerCorte, { data, error, loading }] = useLazyQuery(\n\t\tOBTENER_CORTE_CAJA,\n\t\t{\n\t\t\tvariables: { \n\t\t\t\tsucursal: sesion.sucursal._id, \n\t\t\t\tempresa: sesion.empresa._id,\n\t\t\t\tinput: { \n\t\t\t\t\tusuario: sesion._id,\n\t\t\t\t\tcaja: corte.id_caja,\n\t\t\t\t\ttoken_turno_user: corte.token_turno_user,\n\t\t\t\t\tnumber_user: sesion.numero_usuario\n\t\t\t\t} \n\t\t\t},\n\t\t  fetchPolicy: \"network-only\",\n\t\t}\n\t);\n\n\tlet montos_sistema = [];\n\n\tif(data){\n\t\tmontos_sistema = data.obtenerCorteCaja.montos_en_sistema;\n\t};\n\n\tconst handleClickOpen = () => {\n\t\tsetOpen(!open);\n\t\tobtenerCorte();\n\t};\n\n\treturn(\n\t\t<>\n\t\t\t<TableRow\n\t\t\t\thover\n\t\t\t\trole=\"checkbox\"handleClickOpen\n\t\t\t\tonClick={handleClickOpen}\n\t\t\t\ttabIndex={-1}\n\t\t\t\tkey={corte._id}\n\t\t\t>\n\t\t\t\t<TableCell align=\"center\">{corte.fecha_salida.completa}</TableCell>\n\t\t\t\t<TableCell align=\"center\">{corte.hora_salida.completa}</TableCell>\n\t\t\t\t<TableCell align=\"center\">{corte.usuario_en_turno.nombre}</TableCell>\n\t\t\t\t<TableCell align=\"center\">{corte.horario_en_turno}</TableCell>\n\t\t\t\t<TableCell align=\"center\">{corte.numero_caja}</TableCell>\n\t\t\t\t<TableCell align=\"center\">{corte.sucursal.nombre_sucursal}</TableCell>\n\t\t\t</TableRow>\n\n\t\t\t<Dialog\n\t\t\t\tfullWidth={true}\n\t\t\t\tmaxWidth='lg'\n\t\t\t\topen={open} \n\t\t\t\tonClose={handleClickOpen} \n\t\t\t>\n\t\t\t\t<InformacionCorteCaja corte={corte} montos_sistema={montos_sistema} loading={loading} />\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Box p={2} display=\"flex\" flexDirection='row-reverse'>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\tsize=\"large\"\n\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\tonClick={handleClickOpen}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tImprimir Ticket\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Box>\n\t\t\t\t</DialogActions>\n\t\t\t</Dialog>\n\t\t</>\n\t);\n};\n\nfunction InformacionCorteCaja({corte, montos_sistema, loading}) {\n\tconst classes = useStyles();\n\n\tif (loading)\n\treturn (\n\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" height=\"30vh\">\n\t\t\t<CircularProgress />\n\t\t</Box>\n\t);\n\n\treturn(\n\t\t<>\n\t\t\t<Grid item lg={12} md={12} xs={12}>\n\t\t\t\t<Box p={1} textAlign=\"center\">\n\t\t\t\t\t<Typography variant=\"h5\">\n\t\t\t\t\t\t<b>Reporte de Corte de Caja</b>\n\t\t\t\t\t</Typography>\n\t\t\t\t</Box>\n\t\t\t\t<Box p={1} textAlign=\"center\">\n\t\t\t\t\t<Typography variant=\"h6\">\n\t\t\t\t\t\t<b>Fecha y hora de Corte: </b>{moment(corte.fecha_movimiento).format('Do MMMM YYYY, h:mm:ss')}\n\t\t\t\t\t</Typography>\n\t\t\t\t</Box>\n\t\t\t</Grid>\n\t\t\t<Grid item lg={12} md={12} xs={12}>\n\t\t\t\t<Box p={2} display=\"flex\" justifyContent=\"center\">\n\t\t\t\t\t<Box p={1}>\n\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t<b>Usuario: </b> {corte.usuario_en_turno.nombre}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box p={1}>\n\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t<b>No. de usuario: </b>{corte.usuario_en_turno.numero_usuario}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</Box>\n\t\t\t\t\t\n\t\t\t\t\t<Box p={1}>\n\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t<b>Horario en turno: </b>{corte.horario_en_turno}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box p={1}>\n\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t<b>Numero de caja: </b>{corte.numero_caja}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box p={1}>\n\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t<b>Sucursal: </b>{corte.sucursal.nombre_sucursal}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</Box>\n\t\t\t\t</Box>\n\t\t\t</Grid>\n\n\t\t\t<Grid>\n\t\t\t\t<Paper className={classes.root}>\n\t\t\t\t\t<TableContainer className={classes.container}>\n\t\t\t\t\t\t<Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n\t\t\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">CONCEPTO</TableCell>\n\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">CAJERO</TableCell>\n\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">SISTEMA</TableCell>\n\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">DIFERENCIA</TableCell>\n\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t</TableHead>\n\t\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\"><b>MONTO EFECTIVO</b></TableCell>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\">${corte.montos_en_caja.monto_efectivo.monto}</TableCell>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\">${montos_sistema.monto_efectivo}</TableCell>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t\t${( corte.montos_en_caja.monto_efectivo.monto - montos_sistema.monto_efectivo)}\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\"><b>MONTO TARJETA DEBITO</b></TableCell>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\">${corte.montos_en_caja.monto_tarjeta_debito.monto}</TableCell>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\">${montos_sistema.monto_tarjeta_debito}</TableCell>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t\t${( corte.montos_en_caja.monto_tarjeta_debito.monto - montos_sistema.monto_tarjeta_debito)}\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\"><b>MONTO TARJETA DE CREDITO</b></TableCell>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\">${corte.montos_en_caja.monto_tarjeta_credito.monto}</TableCell>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\">${montos_sistema.monto_tarjeta_credito}</TableCell>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t\t${( corte.montos_en_caja.monto_tarjeta_credito.monto - montos_sistema.monto_tarjeta_credito)}\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\"><b>MONTO TRANSFERENCIAS</b></TableCell>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\">${corte.montos_en_caja.monto_transferencia.monto}</TableCell>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\">${montos_sistema.monto_transferencia}</TableCell>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t\t${( corte.montos_en_caja.monto_transferencia.monto - montos_sistema.monto_transferencia)}\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\"><b>MONTO EN MONEDERO</b></TableCell>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\">${corte.montos_en_caja.monto_monedero.monto}</TableCell>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\">${montos_sistema.monto_monedero}</TableCell>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t\t${( corte.montos_en_caja.monto_monedero.monto - montos_sistema.monto_monedero)}\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\"><b>MONTO EN CREDITOS</b></TableCell>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\">${corte.montos_en_caja.monto_creditos.monto}</TableCell>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\">${montos_sistema.monto_creditos}</TableCell>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t\t${( corte.montos_en_caja.monto_creditos.monto - montos_sistema.monto_creditos)}\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\"><b>MONTO EN CHEQUES</b></TableCell>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\">${corte.montos_en_caja.monto_cheques.monto}</TableCell>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\">${montos_sistema.monto_cheques}</TableCell>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t\t${( corte.montos_en_caja.monto_cheques.monto - montos_sistema.monto_cheques)}\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\"><b>MONTO EN VALE DE DESPENSA</b></TableCell>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\">${corte.montos_en_caja.monto_vales_despensa.monto}</TableCell>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\">${montos_sistema.monto_vales_despensa}</TableCell>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t\t${( corte.montos_en_caja.monto_vales_despensa.monto - montos_sistema.monto_vales_despensa)}\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t\t</Table>\n\t\t\t\t\t</TableContainer>\n\t\t\t\t</Paper>\n\t\t\t\t\n\t\t\t</Grid>\n\t\t</>\n\t)\n}","import { Button, makeStyles } from '@material-ui/core'\nimport React, { useState } from 'react'\nimport ExcelFile from 'react-export-excel/dist/ExcelPlugin/components/ExcelFile'\nimport SaveIcon from '@material-ui/icons/Save';\nimport ExcelSheet from 'react-export-excel/dist/ExcelPlugin/elements/ExcelSheet';\nimport ExcelColumn from 'react-export-excel/dist/ExcelPlugin/elements/ExcelColumn';\n\nconst useStyles = makeStyles((theme) => ({\n\ticon: {\n\t\tfontSize: 40,\n\t\twidth: 40\n\t},\n    iconSave: {\n\t\tzIndex: 10,\n\t\tposition: 'fixed',\n\t\tbottom: theme.spacing(2),\n\t\tright: theme.spacing(10)\n\t}\n}));\n\nexport default function ExportExcel({historialCortes}) {\n    const [ datosExcel, setDatosExcel ] = useState([]);\n\n    const classes = useStyles();\n    let arrayExcel = [];\n\n    const agruparDatos = () => {\n       \n        \n        for (let i = 0; i < historialCortes.length; i++) {\n            arrayExcel = { \n                fecha: historialCortes[i].fecha_salida.completa,\n                hora_movimiento: historialCortes[i].hora_salida.completa,\n                horario_turno: historialCortes[i].horario_en_turno,\n                sucursal: historialCortes[i].sucursal.nombre_sucursal,\n                nombre: historialCortes[i].usuario_en_turno.nombre,\n                numero_usuario: historialCortes[i].usuario_en_turno.numero_usuario,\n                concepto: \"Corte Caja\",\n                caja: historialCortes[i].numero_caja,\n                monto_efectivo: historialCortes[i].montos_en_caja.monto_efectivo.monto , \n                monto_creditos: historialCortes[i].montos_en_caja.monto_creditos.monto , \n                monto_tarjeta_debito: historialCortes[i].montos_en_caja.monto_tarjeta_debito.monto , \n                monto_tarjeta_credito: historialCortes[i].montos_en_caja.monto_tarjeta_credito.monto , \n                monto_monedero: historialCortes[i].montos_en_caja.monto_monedero.monto , \n                monto_cheques: historialCortes[i].montos_en_caja.monto_cheques.monto , \n                monto_transferencia: historialCortes[i].montos_en_caja.monto_transferencia.monto ,\n                monto_vales_despensa: historialCortes[i].montos_en_caja.monto_vales_despensa.monto ,\n            };\n            setDatosExcel(arrayExcel);\n        };\n    };\n\n\n    return (\n        <>\n            <ExcelFile\n                element={\n                    <Button\n                        variant=\"contained\"\n                        color=\"primary\"\n                        aria-label=\"Guardar\"\n                        className={classes.iconSave}\n                        onClick={() => agruparDatos()}\n                    >\n                        <SaveIcon className={classes.margin} />\n                        Exportar\n                    </Button>   \n                }\n                filename={`Reporte de Historial de Cortes`}\n            >\n                <ExcelSheet data={datosExcel} name={`Reporte de Historial de Cortes`}>\n                    <ExcelColumn label='Usuario' value='nombre' />\n                    <ExcelColumn label='No. Usuario' value='numero_usuario' />\n                    <ExcelColumn label='Sucursal' value='sucursal' />\n                    <ExcelColumn label='Fecha Corte' value='fecha' />\n                    <ExcelColumn label='Hora Corte' value='hora_movimiento' />\n                    <ExcelColumn label='Horario Turno' value='horario_turno' />\n                    <ExcelColumn label='Concepto' value='concepto' />\n                    <ExcelColumn label='No. de Caja' value='caja' />\n                    <ExcelColumn label='M. en Efectivo' value='monto_efectivo' />\n                    <ExcelColumn label='M. en Creditos' value='monto_creditos' />\n                    <ExcelColumn label='M. en Tarjeta Debito' value='monto_tarjeta_debito' />\n                    <ExcelColumn label='M. en Tarjeta Credito' value='monto_tarjeta_credito' />\n                    <ExcelColumn label='M. en Monedero' value='monto_monedero' />\n                    <ExcelColumn label='M. en Cheques' value='monto_cheques' />\n                    <ExcelColumn label='M. en Transferencia' value='monto_transferencia' />\n                    <ExcelColumn label='M. en Vale Despensa' value='monto_vales_despensa' />\n                </ExcelSheet>\n            </ExcelFile>\n        </>\n    )\n}\n","import { AppBar, Box, Button, Dialog, FormControl, Grid, MenuItem, Select, Slide, TextField, Toolbar, Typography } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/styles';\nimport React, { useState } from 'react';\nimport CloseIcon from '@material-ui/icons/Close';\nimport TablaComprasFiltradas from './TablaCortesFiltradas';\nimport ExportExcel from './ExportExcel';\n\nimport { useQuery } from '@apollo/client';\nimport { OBTENER_CAJAS, OBTENER_CORTES_CAJA } from '../../../../gql/Cajas/cajas';\nimport { useDebounce } from 'use-debounce/lib';\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nconst useStyles = makeStyles((theme) => ({\n\tappBar: {\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n\ticon: {\n\t\twidth: 100\n\t},\n    formInputFlex: {\n\t\tdisplay: 'flex',\n\t\t'& > *': {\n\t\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(1)}px`\n\t\t},\n\t\t'& .obligatorio': {\n\t\t\tcolor: 'red'\n\t\t}\n\t},\n\tformInput: {\n\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(2)}px`\n\t},\n    margin: {\n\t\tmargin: theme.spacing(1)\n\t},\n\ticonSave: {\n\t\tzIndex: 10,\n\t\tposition: 'fixed',\n\t\tbottom: theme.spacing(2),\n\t\tright: theme.spacing(10)\n\t},\n}));\n\nexport default function ReportesCortes() {\n    const sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n    const classes = useStyles();\n\n    const [ open, setOpen ] = useState(false);\n    const [ datosFiltro, setDatosFiltro ] = useState([]);\n    const [value] = useDebounce(datosFiltro, 500);\n\n    let cajas = [];\n    let historialCortes = [];\n\n    const cajasBase = useQuery(OBTENER_CAJAS,{\n\t\tvariables: {\n            empresa: sesion.empresa._id,\n\t\t\tsucursal: sesion.sucursal._id,\n\t\t}\n\t});\n\n    const { loading, data, error, refetch  }= useQuery( OBTENER_CORTES_CAJA,{\n\t\tvariables: {\n            empresa: sesion.empresa._id,\n\t\t\tsucursal: sesion.sucursal._id,\n            input: {\n                fecha_consulta: datosFiltro.fecha_consulta ? datosFiltro.fecha_consulta : \"\",\n                usuario: value.usuario ? value.usuario : \"\", \n                numero_caja: datosFiltro.numero_caja ? parseInt(datosFiltro.numero_caja) : null\n            }\n\t\t}\n\t});\n\n    if(cajasBase.loading === false && loading === false){\n        cajas = cajasBase.data.obtenerCajasSucursal;\n        historialCortes = data.obtenerCortesDeCaja;\n    }\n\n    const handleClickOpen = () => {setOpen(!open)};\n\n    const obtenerDatos = (e) => { \n        setDatosFiltro({...datosFiltro, [e.target.name]: e.target.value})\n    };\n\n    const filtrarProductos = (event) => {\n\t\tevent.preventDefault();\n        refetch();\n\t};\n    \n    const limpiarDatos = () => {\n        setDatosFiltro([]);\n    };\n    \n    return (\n        <>\n            <Button fullWidth onClick={handleClickOpen}>\n\t\t\t\t<Box display=\"flex\" flexDirection=\"column\">\n\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n                        <img \n                            src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/ventas/cash-register.svg' \n                            alt=\"icono caja\" \n                            style={{width: 100}}\n                        />\n\t\t\t\t\t</Box>\n\t\t\t\t\tReportes Cortes de caja\n\t\t\t\t</Box>\n\t\t\t</Button>\n\t\t\t<Dialog fullScreen open={open} onClose={handleClickOpen} TransitionComponent={Transition}>\n\t\t\t\t<AppBar className={classes.appBar}>\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t<Typography variant=\"h6\" className={classes.title}>\n\t\t\t\t\t\t\tReportes Cortes de caja\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Box m={1}>\n\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"secondary\" onClick={handleClickOpen} size=\"large\">\n\t\t\t\t\t\t\t\t<CloseIcon style={{fontSize: 30}} />\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</AppBar>\n                <Grid container>\n                    <ExportExcel historialCortes={historialCortes} /> \n                    \n                    <Grid item lg={12} md={12} xs={12}>\n                        <div className={classes.formInputFlex}>\n                            <Box width=\"100%\">\n                                <Typography>\n                                    Fecha de corte:\n                                </Typography>\n                                <TextField \n                                    fullWidth\n                                    size=\"small\"\n                                    name=\"fecha_consulta\"\n                                    variant=\"outlined\"\n                                    type=\"date\"\n                                    onChange={obtenerDatos}\n                                    value={datosFiltro.fecha_consulta ? datosFiltro.fecha_consulta : \"\"}\n                                />\n                            </Box>\n                            <form onSubmit={filtrarProductos} style={{ display: 'flex', alignItems: 'center', width: \"100%\" }}>\n                                <Box width=\"100%\">\n                                    <Typography>\n                                        Usuario:\n                                    </Typography>\n                                    <TextField\n                                        fullWidth\n                                        size=\"small\"\n                                        name=\"usuario\"\n                                        variant=\"outlined\"\n                                        onChange={obtenerDatos}\n                                        value={datosFiltro.usuario ? datosFiltro.usuario : \"\"}\n                                    />\n                                </Box>\n                            </form>\n                            <Box width=\"100%\">\n                                <Typography>\n                                    Caja:\n                                </Typography>\n                                <FormControl\n                                    variant=\"outlined\"\n                                    fullWidth\n                                    size=\"small\"\n                                >\n                                    <Select\n                                        id=\"form-producto-tipo\"\n                                        name=\"numero_caja\"\n                                        onChange={obtenerDatos}\n                                        value={datosFiltro.numero_caja ? datosFiltro.numero_caja : \"\"}\n                                    >\n                                        <MenuItem value=\"\">\n                                            <em>Selecciona uno</em>\n                                        </MenuItem>\n                                        {\n                                            cajas?.map((caja) =>{\n                                                return(\n                                                    <MenuItem key={caja.numero_caja} value={caja.numero_caja}>\n                                                        Caja {caja.numero_caja}\n                                                    </MenuItem>\n                                                );\n                                            })\n                                        }\n                                    </Select>\n                                </FormControl>\n                            </Box>\n                            <Box \n                                width=\"100%\" \n                                display=\"flex\" \n                                justifyContent=\"center\" \n                                alignItems=\"center\"\n                                mt={2}\n                            >\n                                <Button\n                                    color=\"primary\"\n                                    size=\"large\"\n                                    variant=\"contained\"\n                                    onClick={limpiarDatos}\n                                >\n                                    Limpiar Filtro\n                                </Button>\n                            </Box>\n                        </div>\n                    </Grid> \n                    <Grid item lg={12} md={12} xs={12}>\n                        <TablaComprasFiltradas cortes={historialCortes} loading={loading} />\n                    </Grid>\n                </Grid>            \n\t\t\t</Dialog> \n        </>\n    )   \n}\n","import React, { Fragment, useEffect, useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport { Box, Button, CircularProgress, Dialog, DialogActions, DialogContent, FormControl, Grid, MenuItem, Select, Slide, TextField, Typography } from '@material-ui/core';\nimport { useDebounce } from 'use-debounce/lib';\nimport { useQuery } from '@apollo/client';\nimport { OBTENER_HISTORIAL_EGRESOS } from '../../../../gql/Tesoreria/egresos';\nimport moment from 'moment';\nimport { formatoMexico } from '../../../../config/reuserFunctions';\n\nconst columns = [\n\t{ id: 'folio', label: 'Folio', minWidth: 170 },\n\t{ id: 'nombre', label: 'Usuario', minWidth: 170 },\n\t{ id: 'fecha', label: 'Fecha', minWidth: 170 },\n\t{ id: 'folioF', label: 'Folio Factura', minWidth: 170 },\n\t{ id: 'tipo', label: 'Tipo Compra', minWidth: 170 },\n];\n\nconst useStyles  = makeStyles((theme) => ({\n\t\troot: {\n\t\t\twidth: '100%',\n\t\t\theight: '70vh'\n\t\t},\n\tcontainer: {\n\t\tmaxHeight: '100%'\n\t},\n    appBar: {\t\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n\trootBusqueda: {\n\t\tdisplay: 'flex',\n\t\tpaddingLeft: theme.spacing(2)\n\t},\n\tformInputFlex: {\n\t\tdisplay: 'flex',\n\t\t'& > *': {\n\t\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(2)}px`\n\t\t}\n\t},\n\tformInput: {\n\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(2)}px`\n\t},\n}));\n\nexport default function ListaEgresos() {\n    const sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\n\tconst classes = useStyles();\n\tconst [datosFiltro, setDatosFiltro] = useState([]);\n\tconst [value] = useDebounce(datosFiltro, 500);\n\n\n\tconst { loading, data, error, refetch  } = useQuery( OBTENER_HISTORIAL_EGRESOS,{\n\t\tvariables: {\n\t\t\tinput: {\n                fecha_inicio: datosFiltro.fecha_inicio ? datosFiltro.fecha_inicio : \"\",\n                fecha_fin: datosFiltro.fecha_fin ? datosFiltro.fecha_fin : \"\",\n                usuario: value.usuario ? value.usuario : \"\", \n                tipo_movimiento: datosFiltro.tipo_movimiento ? (datosFiltro.tipo_movimiento === \"CREDITO\" ?  true : false) : null\n            },\n            empresa: sesion.empresa._id,\n\t\t\tsucursal: sesion.sucursal._id\n\t\t}\n\t});\n\n\n\tuseEffect(() => {\n\t\trefetch();\n\t}, [refetch]);\n\n\t\n\tlet historialEgresos = [];\n\n\tif(data){\n\t\thistorialEgresos = data.obtenerHistorialEgresos\n\t}\n\n\tconst obtenerDatos =(e)=>{\n\t\tsetDatosFiltro({...datosFiltro, [e.target.name]: e.target.value})\n    };\n\n\tconst limpiarDatos = () => {\n\t\tsetDatosFiltro([]);\n\t};\n\n\treturn (\n\t\t<Grid>\n\t\t\t<Grid item lg={12} md={12} xs={12}>\n\t\t\t\t<div className={classes.formInputFlex}>\n\t\t\t\t\t<Box width=\"100%\">\n\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\tFecha Inicio:\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\tname=\"fecha_inicio\"\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\ttype=\"date\"\n\t\t\t\t\t\t\tonChange={obtenerDatos}\n\t\t\t\t\t\t\tvalue={datosFiltro.fecha_inicio ? datosFiltro.fecha_inicio : \"\"}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box width=\"100%\">\n\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\tFecha Fin:\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\tname=\"fecha_fin\"\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\ttype=\"date\"\n\t\t\t\t\t\t\tonChange={obtenerDatos}\n\t\t\t\t\t\t\tvalue={datosFiltro.fecha_fin ? datosFiltro.fecha_fin : \"\"}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box width=\"100%\">\n\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\tUsuario:\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\tname=\"usuario\"\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\tonChange={obtenerDatos}\n\t\t\t\t\t\t\tvalue={datosFiltro.usuario ? datosFiltro.usuario : \"\"}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box width=\"100%\">\n\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\tTipo Egreso:\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\t\tid=\"form-producto-tipo\"\n\t\t\t\t\t\t\t\tname=\"tipo_movimiento\"\n\t\t\t\t\t\t\t\tonChange={obtenerDatos}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<MenuItem value=\"TODOS\">\n\t\t\t\t\t\t\t\t\t<em>Selecciona uno</em>\n\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t<MenuItem value='CONTADO'>\n\t\t\t\t\t\t\t\t\tEgreso Contado\n\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t<MenuItem value='CREDITO'>\n\t\t\t\t\t\t\t\t\tEgreso Credito\n\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t</Select>\n\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box \n\t\t\t\t\t\twidth=\"100%\" \n\t\t\t\t\t\tdisplay=\"flex\" \n\t\t\t\t\t\tjustifyContent=\"center\" \n\t\t\t\t\t\talignItems=\"center\"\n\t\t\t\t\t\tmt={2}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\tsize=\"large\"\n\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\tonClick={limpiarDatos}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tLimpiar Filtro\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Box>\n\t\t\t\t</div>\n\t\t\t</Grid> \n\t\t\t<Box p={2}>\n\t\t\t\t<Paper className={classes.root}>\n\t\t\t\t\t<TableContainer className={classes.container}>\n\t\t\t\t\t\t<Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n\t\t\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t\t{columns.map((column) => (\n\t\t\t\t\t\t\t\t\t\t<TableCell key={column.id} align={column.align} style={{ minWidth: column.minWidth }}>\n\t\t\t\t\t\t\t\t\t\t\t{column.label}\n\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t</TableHead>\n\t\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t\t{historialEgresos.map((row, index) => {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<RowsEgresos row={row} loading={loading} key={index} />\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t\t</Table>\n\t\t\t\t\t</TableContainer>\n\t\t\t\t</Paper>\n\t\t\t</Box>\n\t\t</Grid>\n\t);\n};\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nfunction RowsEgresos({row, loading}){\n\n\tconst [open, setOpen] = useState(false);\n\n\tconst handleClickOpen =()=> setOpen(!open);\n\n\tif (loading) \n\treturn (\n\t\t<Box\n\t\tdisplay=\"flex\"\n\t\tflexDirection=\"column\"\n\t\tjustifyContent=\"center\"\n\t\talignItems=\"center\"\n\t\theight=\"80vh\"\n\t\t>\n\t\t\t<CircularProgress />\n\t\t</Box>\n\t);\n\n\treturn(\n\t\t<Fragment>\n\t\t\t<Dialog\n\t\t\t\topen={open} \n\t\t\t\tTransitionComponent={Transition} \n\t\t\t\tfullWidth \n\t\t\t\tmaxWidth=\"md\"\n\t\t\t>\n\t\t\t\t<DialogCaracteristicas row={row}  />\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\tsize='large'\n\t\t\t\t\t\tonClick={handleClickOpen}\n\t\t\t\t\t>\n\t\t\t\t\t\tCerrar\n\t\t\t\t\t</Button>\n\t\t\t\t</DialogActions>\n\t\t\t</Dialog>\n\t\t\t<TableRow \n\t\t\t\thover \n\t\t\t\ttabIndex={-1} \n\t\t\t\tkey={row.code}\n\t\t\t\tonClick={handleClickOpen}\n\t\t\t>\n\t\t\t\t<TableCell>\n\t\t\t\t\t{row.folio_egreso}\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell>\n\t\t\t\t\t{row.nombre_usuario_creador}\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell>\n\t\t\t\t\t{row.fecha_compra}\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell>\n\t\t\t\t\t{row.folio_factura}\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell>\n\t\t\t\t\t{row.compra_credito === false ? \"Contado\" : \"Credito\"}\n\t\t\t\t</TableCell>\n\t\t\t</TableRow>\n\t\t</Fragment>\n\t);\n};\n\nfunction DialogCaracteristicas ({row}) {\n\n\treturn(\n\t\t<Fragment>\n\t\t\t<DialogContent>\n\t\t\t\t<Grid container>\n\t\t\t\t\t<Grid item lg={12} xs={12}>\n\t\t\t\t\t\t<Box textAlign=\"center\" p={2}>\n\t\t\t\t\t\t\t<Typography variant=\"h6\">\n\t\t\t\t\t\t\t\tInformación de movimiento\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item lg={5} xs={12}>\n\t\t\t\t\t\t<Box display=\"flex\" textAlign=\"left\" p={1}>\n\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t<b>Fecha Compra: </b> {moment(row.fecha_compra).format('YYYY-MM-DD')}\n\t\t\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t\t\t<b>Folio movimiento: </b> {row.folio_egreso}\n\t\t\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t\t\t<b>Usuario: </b> {row.nombre_usuario_creador}\n\t\t\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t\t\t<b>Categoria: </b> {row.categoria}\n\t\t\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t\t\t<b>Sub-Categoria: </b> {row.subCategoria}\n\t\t\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t\t\t<b>Folio Factura: </b> {row.folio_factura}\n\t\t\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t\t\t<b>Empresa: </b> {row.empresa_distribuidora}\n\t\t\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t\t\t<b>Provedor: </b> {row.provedor}\n\t\t\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t\t\t<b>Metodo de pago: </b> {row.metodo_pago}\n\t\t\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t\t\t<b>Compra credito: </b> {row.compra_credito === false ? \"NO\" : \"Si\"}\n\t\t\t\t\t\t\t\t{row.compra_credito === false ? null : (\n\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t\t\t\t\t<b>Fecha Vencimiento: </b> {row.fecha_vencimiento}\n\t\t\t\t\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t\t\t\t\t<b>Saldo Pendiente: </b> {row.saldo_credito_pendiente}\n\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item lg={7} xs={12}>\n\t\t\t\t\t\t<Box textAlign=\"center\">\n\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\tProductos Adquiridos\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t<Paper style={{width: '100%', height: '30vh'}}>\n\t\t\t\t\t\t\t\t<TableContainer style={{maxHeight: '100%'}}>\n\t\t\t\t\t\t\t\t\t<Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n\t\t\t\t\t\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align='center' style={{ minWidth: 100 }}>\n\t\t\t\t\t\t\t\t\t\t\t\t\tCANTIDAD\n\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align='center' style={{ minWidth: 100 }}>\n\t\t\t\t\t\t\t\t\t\t\t\t\tPRODUCTO\n\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align='center' style={{ minWidth: 100 }}>\n\t\t\t\t\t\t\t\t\t\t\t\t\tP. UNITARIO\n\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align='center' style={{ minWidth: 100 }}>\n\t\t\t\t\t\t\t\t\t\t\t\t\tTOTAL\n\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t\t\t</TableHead>\n\t\t\t\t\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t\t\t\t\t{row?.productos.map((row, index) => {\n\t\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TableRow \n\t\t\t\t\t\t\t\t\t\t\t\t\t\thover \n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttabIndex={-1} \n\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align='center' >\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{row.cantidad_productos}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align='center' >\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{row.producto}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align='center' >\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{row.precio_unitario}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align='center' >\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{row.total}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t\t\t\t\t</Table>\n\t\t\t\t\t\t\t\t</TableContainer>\n\t\t\t\t\t\t\t</Paper>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box display='flex' justifyContent='flex-end' p={1}> \n\t\t\t\t\t\t\t<Typography variant='h6'>\n\t\t\t\t\t\t\t\tTotal: ${formatoMexico(row.saldo_total)}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</DialogContent>\n\t\t</Fragment>\n\t);\n}\n","import React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TablePagination from '@material-ui/core/TablePagination';\nimport TableRow from '@material-ui/core/TableRow';\nimport { Box, Grid, IconButton, InputBase } from '@material-ui/core';\nimport { Search } from '@material-ui/icons';\n\nconst columns = [\n\t{ id: 'name', label: 'Name', minWidth: 170 },\n\t{ id: 'code', label: 'ISO\\u00a0Code', minWidth: 100 },\n\t{\n\t\tid: 'population',\n\t\tlabel: 'Population',\n\t\tminWidth: 170,\n\t\talign: 'right',\n\t\tformat: (value) => value.toLocaleString('en-US')\n\t},\n\t{\n\t\tid: 'size',\n\t\tlabel: 'Size\\u00a0(km\\u00b2)',\n\t\tminWidth: 170,\n\t\talign: 'right',\n\t\tformat: (value) => value.toLocaleString('en-US')\n\t},\n\t{\n\t\tid: 'density',\n\t\tlabel: 'Density',\n\t\tminWidth: 170,\n\t\talign: 'right',\n\t\tformat: (value) => value.toFixed(2)\n\t}\n];\n\nfunction createData(name, code, population, size) {\n\tconst density = population / size;\n\treturn { name, code, population, size, density };\n}\n\nconst rows = [\n\tcreateData('India', 'IN', 1324171354, 3287263),\n\tcreateData('China', 'CN', 1403500365, 9596961),\n\tcreateData('Italy', 'IT', 60483973, 301340),\n\tcreateData('United States', 'US', 327167434, 9833520),\n\tcreateData('Canada', 'CA', 37602103, 9984670),\n\tcreateData('Australia', 'AU', 25475400, 7692024),\n\tcreateData('Germany', 'DE', 83019200, 357578),\n\tcreateData('Ireland', 'IE', 4857000, 70273),\n\tcreateData('Mexico', 'MX', 126577691, 1972550),\n\tcreateData('Japan', 'JP', 126317000, 377973),\n\tcreateData('France', 'FR', 67022000, 640679),\n\tcreateData('United Kingdom', 'GB', 67545757, 242495),\n\tcreateData('Russia', 'RU', 146793744, 17098246),\n\tcreateData('Nigeria', 'NG', 200962417, 923768),\n\tcreateData('Brazil', 'BR', 210147125, 8515767)\n];\n\nconst useStyles  = makeStyles((theme) => ({\n\troot: {\n\t\twidth: '100%'\n\t},\n\tcontainer: {\n\t\tmaxHeight: '100%'\n\t},\n    appBar: {\t\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n\trootBusqueda: {\n\t\tdisplay: 'flex',\n\t\tpaddingLeft: theme.spacing(2)\n\t},\n}));\n\nexport default function ListaTransferencias() {\n\tconst classes = useStyles();\n\tconst [ page, setPage ] = useState(0);\n\tconst [ rowsPerPage, setRowsPerPage ] = useState(14);\n\n\tconst handleChangePage = (event, newPage) => {\n\t\tsetPage(newPage);\n\t};\n\n\tconst handleChangeRowsPerPage = (event) => {\n\t\tsetRowsPerPage(+event.target.value);\n\t\tsetPage(0);\n\t};\n\n\treturn (\n\t\t<Grid>\n\t\t\t<div className={classes.root}>\n\t\t\t\t<Box m={2} display=\"flex\" justifyContent=\"space-between\">\n\t\t\t\t\t<Box mr={5} minWidth=\"70%\">\n\t\t\t\t\t\t<Paper className={classes.rootBusqueda}>\n\t\t\t\t\t\t\t<InputBase\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tplaceholder=\"Buscar transferencias...\"\n\t\t\t\t\t\t\t\t// onChange={(e) => setValues(e.target.value)}\n\t\t\t\t\t\t\t\t// onKeyPress={pressEnter}\n\t\t\t\t\t\t\t\t// value={values}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<IconButton>\n\t\t\t\t\t\t\t\t<Search />\n\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t</Paper>\n\t\t\t\t\t</Box>\n\t\t\t\t</Box>\n\t\t\t</div>\n\t\t<Box  p={2}>\n\t\t<Paper className={classes.root}>\n\t\t\t<TableContainer className={classes.container}>\n\t\t\t\t<Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t{columns.map((column) => (\n\t\t\t\t\t\t\t\t<TableCell key={column.id} align={column.align} style={{ minWidth: column.minWidth }}>\n\t\t\t\t\t\t\t\t\t{column.label}\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t</TableHead>\n\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t{rows.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage).map((row) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<TableRow hover role=\"checkbox\" tabIndex={-1} key={row.code}>\n\t\t\t\t\t\t\t\t\t{columns.map((column) => {\n\t\t\t\t\t\t\t\t\t\tconst value = row[column.id];\n\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t<TableCell \n                                                key={column.id} \n                                                align={column.align}\n                                            >\n\t\t\t\t\t\t\t\t\t\t\t\t{column.format && typeof value === 'number' ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolumn.format(value)\n\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t\t</TableBody>\n\t\t\t\t</Table>\n\t\t\t</TableContainer>\n\t\t\t<TablePagination\n\t\t\t\trowsPerPageOptions={[ 10, 25, 100 ]}\n\t\t\t\tcomponent=\"div\"\n\t\t\t\tcount={rows.length}\n\t\t\t\trowsPerPage={rowsPerPage}\n\t\t\t\tpage={page}\n\t\t\t\tonChangePage={handleChangePage}\n\t\t\t\tonChangeRowsPerPage={handleChangeRowsPerPage}\n\t\t\t/>\n\t\t</Paper>\n\t\t</Box>\n\t\t</Grid>\n\t);\n}\n","import React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport CloseIcon from '@material-ui/icons/Close';\nimport Slide from '@material-ui/core/Slide';\nimport { Box, ListItemIcon, Menu, MenuItem } from '@material-ui/core';\nimport {FcSurvey } from 'react-icons/fc';\n\nimport ListaEgresos from './ListaEgresos';\nimport ListaTransferencias from './ListaTransferencias';\n\nconst useStyles = makeStyles((theme) => ({\n\tappBar: {\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n    icon: {\n\t\twidth: 100\n\t},\n\troot: {\n\t\tflexGrow: 1,\n\t\twidth: '100%',\n\t\theight: '100vh',\n\t\tbackgroundColor: theme.palette.background.paper\n\t},\n\trootBusqueda: {\n\t\tdisplay: 'flex',\n\t\tpaddingLeft: theme.spacing(2)\n\t},\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function ReportesTesoreria() {\n\tconst classes = useStyles();\n\n\tconst [ventana, setVentana] = useState('');\n\tconst [ open, setOpen ] = useState(false);\n\n\tconst handleClickOpen = () => setOpen(!open);\n\n\tconst [anchorEl, setAnchorEl] = useState(null);\n\n\tconst handleClick = (event) => {\n\t\tsetAnchorEl(event.currentTarget);\n\t};\n\n\tconst handleClose = () => {\n\t\tsetAnchorEl(null);\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<Button aria-controls=\"simple-menu\" aria-haspopup=\"true\" onClick={handleClick}>\n\t\t\t\t<Box display=\"flex\" flexDirection=\"column\">\n\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" >\n                        <FcSurvey style={{fontSize: 100}}/>\n\t\t\t\t\t</Box>\n\t\t\t\t\tReportes Tesoreria\n\t\t\t\t</Box>\n\t\t\t</Button>\n\t\t\t<Menu\n\t\t\t\t id=\"customized-menu\"\n\t\t\t\tanchorEl={anchorEl}\n\t\t\t\tkeepMounted\n\t\t\t\topen={Boolean(anchorEl)}\n\t\t\t\tonClose={handleClose}\n\t\t\t>\n\t\t\t\t<MenuItem onClick={ ()=>{\n\t\t\t\t\t\thandleClickOpen()\n\t\t\t\t\t\tsetVentana('egresos')\n\t\t\t\t\t}}>\n\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t<FcSurvey style={{fontSize: 35}} />\n\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\tHistorial Egresos\n\t\t\t\t</MenuItem>\n\t\t\t\t<MenuItem onClick={ ()=>{\n\t\t\t\t\t\thandleClickOpen()\n\t\t\t\t\t\tsetVentana('transferencias')\n\t\t\t\t\t}}>\n\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t<FcSurvey style={{fontSize: 35}} />\n\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\tHistorial Transferencias\n\t\t\t\t</MenuItem>\n\t\t\t</Menu>\n\t\t\t\n\t\t\t<Dialog fullScreen open={open} onClose={handleClickOpen} TransitionComponent={Transition}>\n\t\t\t\t<AppBar className={classes.appBar}>\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t<Typography variant=\"h6\" className={classes.title}>\n\t\t\t\t\t\t\tHistotorial de {ventana}\n\t\t\t\t\t\t</Typography>\n                        <Box m={1}>\n\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"secondary\" onClick={handleClickOpen} size=\"large\">\n\t\t\t\t\t\t\t\t<CloseIcon style={{fontSize: 30}} />\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</AppBar>\n\t\t\t\t\n\t\t\t\t<Box>\n\t\t\t\t\t{\n\t\t\t\t\t\tventana === 'egresos' ? (\n\t\t\t\t\t\t\t<ListaEgresos />\n\t\t\t\t\t\t) : ventana === 'transferencias' ?(\n\t\t\t\t\t\t\t<ListaTransferencias />\t\t\t\n\t\t\t\t\t\t) :(\n\t\t\t\t\t\t\tnull\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t</Box>\n\t\t\t\t\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n}\n","import React from 'react';\nimport { Container, Grid, Box } from '@material-ui/core';\nimport Cajas from './Cajas/Cajas';\nimport ReportesTurnosUsuarios from './TurnosUsuarios/ReportesTurnosUsuarios';\nimport ReportesCompras from './Compras/ReportesCompras';\nimport ReportesVentas from './Ventas/ReportesVentas';\nimport ReportesAlmacen from './Almacenes/ReportesAlmacen';\nimport ReportesCortes from './Cortes/ReportesCortes';\nimport ReportesTesoreria from './Tesoreria/Reporte_Tesoreria';\n\nexport default function Reportes() {\n\tconst permisosUsuario = JSON.parse(localStorage.getItem('sesionCafi'));\n\n\treturn (\n\t\t<Container>\n\t\t\t<Grid container spacing={3} justify=\"center\">\n\t\t\t\t{permisosUsuario.accesos.reportes.reporte_historial_cajas.ver === false ? (null) : (\n\t\t\t\t\t<Grid item lg={2} >\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t<Cajas />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t)}\n\t\t\t\t{permisosUsuario.accesos.reportes.reporte_turnos.ver === false ? (null) : (\n\t\t\t\t\t<Grid item lg={2} >\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t<ReportesTurnosUsuarios />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t)}\n\t\t\t\t{permisosUsuario.accesos.reportes.reporte_compras.ver === false ? (null) : (\n\t\t\t\t\t<Grid item lg={2} >\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t<ReportesCompras />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t)}\n\t\t\t\t{permisosUsuario.accesos.reportes.reporte_ventas.ver === false ? (null) : (\n\t\t\t\t\t<Grid item lg={2} >\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t<ReportesVentas />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t)}\n\t\t\t\t{permisosUsuario.accesos.reportes.rerporte_almacen.ver === false ? (null) : (\n\t\t\t\t\t<Grid item lg={2} >\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t<ReportesAlmacen />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t)}\n\t\t\t\t{permisosUsuario.accesos.reportes.reporte_corte_caja.ver === false ? (null) : (\n\t\t\t\t\t<Grid item lg={2} >\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t<ReportesCortes />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t)}\n\t\t\t\t{permisosUsuario.accesos.reportes.reporte_tesoreria.ver === false ? (null) : (\n\t\t\t\t\t<Grid item lg={2} >\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t<ReportesTesoreria />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t)}\n\t\t\t</Grid>\n\t\t</Container>\n\t);\n}","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport SwipeableViews from \"react-swipeable-views\";\nimport { makeStyles, useTheme } from \"@material-ui/core/styles\";\nimport { FcShop, FcPaid, FcSurvey, FcNews } from \"react-icons/fc\";\nimport { Toolbar, Box, Tab, Tabs, AppBar } from \"@material-ui/core\";\nimport Empresa from \"./Empresa/Empresa\";\nimport Compras from \"./Compras/Compras\";\nimport Catalogos from \"./Catalogos/Catalogos\";\nimport IndexTesoreria from \"./Tesoreria/IndexTesoreria\";\nimport Facturacion from \"./Facturacion/Facturacion\";\nimport Almacenes from \"./Almacenes/Almacenes\";\nimport { withRouter } from \"react-router\";\nimport Reportes from \"./Reportes/Reportes\";\nfunction TabPanel(props) {\n  const { children, value, index, ...other } = props;\n\n  return (\n    <div\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`scrollable-force-tabpanel-${index}`}\n      aria-labelledby={`scrollable-force-tab-${index}`}\n      {...other}\n    >\n      {value === index && (\n        <Box p={3} my={6} minHeight=\"50vh\">\n          {children}\n        </Box>\n      )}\n    </div>\n  );\n}\n\nTabPanel.propTypes = {\n  children: PropTypes.node,\n  index: PropTypes.any.isRequired,\n  value: PropTypes.any.isRequired,\n};\n\nfunction a11yProps(index) {\n  return {\n    id: `scrollable-force-tab-${index}`,\n    \"aria-controls\": `scrollable-force-tabpanel-${index}`,\n  };\n}\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n    width: \"100%\",\n    height: \"100vh\",\n    backgroundColor: theme.palette.background.paper,\n  },\n  icon: {\n    fontSize: 100,\n  },\n  iconSvg: {\n    width: 100,\n  },\n  iconSvgVenta: {\n    width: 90,\n  },\n}));\n\nfunction AdminInicio(props) {\n  const classes = useStyles();\n  const theme = useTheme();\n  const [value, setValue] = React.useState(0);\n\n  const handleChange = (event, newValue) => {\n    setValue(newValue);\n  };\n  const handleChangeIndex = (index) => {\n    setValue(index);\n  };\n\n  return (\n    <div className={classes.root}>\n      <Toolbar />\n      <Box>\n        <AppBar position=\"static\" color=\"default\" elevation={0}>\n          <Tabs\n            value={value}\n            onChange={handleChange}\n            indicatorColor=\"primary\"\n            textColor=\"primary\"\n            /* centered */ variant=\"scrollable\"\n            scrollButtons=\"on\"\n          >\n            <Tab\n              label=\"Mi empresa\"\n              icon={<FcShop className={classes.icon} />}\n              {...a11yProps(0)}\n            />\n            <Tab\n              label=\"Almacenes\"\n              icon={\n                <img\n                  src=\"https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/almacen.svg\"\n                  alt=\"icono almacen\"\n                  className={classes.iconSvg}\n                />\n              }\n              {...a11yProps(1)}\n            />\n\n            <Tab\n              label=\"Compras\"\n              icon={<FcPaid className={classes.icon} />}\n              {...a11yProps(2)}\n            />\n            <Tab\n              label=\"Catalogos\"\n              icon={<FcNews className={classes.icon} />}\n              {...a11yProps(3)}\n            />\n            <Tab\n              label=\"Tesoreria\"\n              icon={\n                <img\n                  src=\"https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/money.svg\"\n                  alt=\"icono money\"\n                  className={classes.iconSvg}\n                />\n              }\n              {...a11yProps(4)}\n            />\n            <Tab\n              label=\"Reportes\"\n              icon={<FcSurvey className={classes.icon} />}\n              {...a11yProps(5)}\n            />\n\t\t\t<Tab\n              label=\"Facturación\"\n              icon={\n                <img\n                  src=\"https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/factura.svg\"\n                  alt=\"icono factura\"\n                  className={classes.iconSvg}\n                />\n              }\n              {...a11yProps(6)}\n            />\n            <Tab\n              label=\"Ventas\"\n              icon={\n                <img\n                  src=\"https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/ventas/cart-add.svg\"\n                  alt=\"icono ventas\"\n                  className={classes.iconSvg}\n                />\n              }\n              {...a11yProps(7)}\n              onClick={() => props.history.push(\"/ventas/venta-general\")}\n            />\n          </Tabs>\n        </AppBar>\n        <SwipeableViews\n          axis={theme.direction === \"rtl\" ? \"x-reverse\" : \"x\"}\n          index={value}\n          onChangeIndex={handleChangeIndex}\n        >\n          <TabPanel value={value} index={0}>\n            <Empresa />\n          </TabPanel>\n          <TabPanel value={value} index={1}>\n            <Almacenes />\n          </TabPanel>\n          <TabPanel value={value} index={2}>\n            <Compras />\n          </TabPanel>\n          <TabPanel value={value} index={3}>\n            <Catalogos />\n          </TabPanel>\n          <TabPanel value={value} index={4}>\n            <IndexTesoreria />\n          </TabPanel>\n          <TabPanel value={value} index={5}>\n            <Reportes />\n          </TabPanel>\n\t\t  <TabPanel value={value} index={6}>\n            <Facturacion />\n          </TabPanel>\n          <TabPanel value={value} index={7}></TabPanel>\n        </SwipeableViews>\n      </Box>\n    </div>\n  );\n}\n\nexport default withRouter(AdminInicio);\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Avatar, Box, Button, Typography, Toolbar, AppBar } from '@material-ui/core';\nimport PowerSettingsNewIcon from '@material-ui/icons/PowerSettingsNew';\nimport { withRouter } from 'react-router-dom';\nimport { grey } from '@material-ui/core/colors';\n\nconst useStyles = makeStyles((theme) => ({\n\tappbar: {\n\t\tbackgroundColor: theme.palette.navbar,\n        color: grey[800]\n\t},\n\tmenuButton: {\n\t\tmarginRight: theme.spacing(2)\n\t},\n\ttitle: {\n\t\tflexGrow: 1,\n\t\tmarginLeft: theme.spacing(2),\n\t}\n}));\n\nfunction NavegacionAdmin(props) {\n\tconst classes = useStyles();\n\tconst token = localStorage.getItem('sesionCafi');\n\tconst turnoEnCurso = JSON.parse(localStorage.getItem('turnoEnCurso'));\n    const sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\tlet usuario;\n\t\n\tif (token !== null) usuario = JSON.parse(localStorage.getItem('sesionCafi'));\n\n    const signOut = () => {\n\t\tlocalStorage.removeItem('sesionCafi');\n\t\tlocalStorage.removeItem('tokenCafi');\n\t\tlocalStorage.removeItem('ListaEnEspera');\n\t\tprops.history.push('/');\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<AppBar position=\"fixed\" className={classes.appbar} elevation={0}>\n\t\t\t\t<Toolbar>\n\t\t\t\t\t<Avatar alt=\"Remy Sharp\" src={usuario.imagen} />\n\t\t\t\t\t<Box className={classes.title}>\n\t\t\t\t\t\t<Typography variant=\"h6\" color=\"inherit\">Bienvenido {`${usuario.nombre}`}</Typography>\n\t\t\t\t\t</Box>\n\t\t\t\t\t{/* <Button\n\t\t\t\t\t\tcomponent={Link}\n\t\t\t\t\t\tto=\"/home\"\n\t\t\t\t\t\tsize=\"large\"\n\t\t\t\t\t\tclassName={classes.menuButton}\n\t\t\t\t\t\tstartIcon={<HomeIcon />}\n\t\t\t\t\t>\n\t\t\t\t\t\tInicio\n\t\t\t\t\t</Button> */}\n\t\t\t\t\t{sesion.turno_en_caja_activo === true && turnoEnCurso ? (\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\tsize=\"large\"\n\t\t\t\t\t\t\t\tclassName={classes.menuButton}\n\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\tdisabled={true}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tTURNO ACTIVO\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t):(\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\tsize=\"large\"\n\t\t\t\t\t\t\t\tclassName={classes.menuButton}\n\t\t\t\t\t\t\t\tstartIcon={<PowerSettingsNewIcon />}\n\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\tonClick={signOut}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tCerrar sesión\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t</Toolbar>\n\t\t\t</AppBar>\n\t\t</div>\n\t);\n}\n\n\nexport default withRouter(NavegacionAdmin)","import { makeStyles } from '@material-ui/core/styles';\n\nconst drawerWidth = '22%';\n\nconst useStyles = makeStyles((theme) => ({\n\tappBar: {\n\t\tzIndex: theme.zIndex.drawer + 1,\n\t\t// backgroundColor: theme.palette.navbar,\n\t\tbackgroundColor: 'white',\n\t},\n\tdrawer: {\n\t\twidth: drawerWidth,\n\t\tflexShrink: 0,\n\t\tbackgroundColor: 'white',\n\t},\n\tdrawerColor:{\n\t\theight: '100%',\n\t\tbackgroundColor: 'white',\n\t},\n\tdrawerPaper: {\n\t\twidth: drawerWidth,\n\t\tbackgroundColor: theme.palette.navbar\n\t},\n\troot: {\n\t\tdisplay: 'flex',\n\t\tflexDirection: 'column',\n\t\theight: '100%'\n\t},\n\tnavigationTop:{\n\t\theight: '100%'\n\t},\n\ticonSizeSuperior: {\n\t\tfontSize: 30,\n        color: theme.palette.info.main\n\t},\n    iconSizeSecondSuperior: {\n\t\twidth: 20,\n\t},\n\ticonSizeInferior: {\n\t\tfontSize: 50,\n        color: theme.palette.info.main\n\t},\n    iconSizeSecondInferior: {\n\t\twidth: 40,\n\t},\n\ticonSizeSecondInferiorGrande: {\n\t\twidth: 100\n\t},\n\ticonSizeInferiorGrande:{\n\t\tfontSize: 110,\n        color: theme.palette.info.main\n\t},\n\tavatar: {\n\t\twidth: theme.spacing(3),\n\t\theight: theme.spacing(3),\n\t\tmarginRight: theme.spacing(1)\n\t},\n\tborderBoton:{\n\t\tminWidth: '100%',\n\t\theight: '50%',\n        border: '.6px solid #DBDBDB'\n    },\n\tborderBotonChico:{\n\t\tminWidth: '100%',\n        border: '.6px solid #DBDBDB'\n    }\n}));\n\nexport default useStyles;","import { makeStyles } from '@material-ui/core/styles';\n\n\nconst useStyles = makeStyles((theme) => ({\n\troot:{\n        marginTop: theme.spacing(2)\n    },\n    rootPrecioProductos:{\n        minHeight: '40vh',\n    },\n    containerImage:{\n        maxWidth: 150,\n        maxHeight: 150,\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        justifyItems: 'ceter'\n    },\n    imagen:{\n        maxWidth: '100%',\n        maxHeight: '100%',\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        justifyItems: 'ceter'\n    },\n    rootBusqueda: {\n        height: 35,\n\t\tdisplay: 'flex',\n\t\tpadding: theme.spacing(1),\n        // marginTop: theme.spacing(1)\n\t},\n    rootBusquedaProductos: {\n        height: 35,\n\t\tdisplay: 'flex',\n\t\tpadding: theme.spacing(1),\n        // marginTop: theme.spacing(1)\n\t},\n    rootFecha: {\n        height: 40,\n        maxWidth: 150,\n\t\tdisplay: 'flex',\n\t},\n    formInputFlex: {\n\t\tdisplay: 'flex',\n\t\t'& > *': {\n\t\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(.5)}px`\n\t\t},\n\t\t'& .obligatorio': {\n\t\t\tcolor: 'red'\n\t\t},\n        paddingTop: 0,\n        alignItems: \"center\",\n        justifyItems: \"center\"\n\t},\n\tformInput: {\n\t\t// margin: `${theme.spacing(1)}px ${theme.spacing(1)}px`\n\t},\n    iconSize: {\n\t\twidth: 28,\n\t},\n    iconSizeDialogs:{\n        width: 80,\n    },\n    iconSizeDialogsPequeno:{\n        width: 50,\n    },\n    containerImagenesProducto:{\n        maxHeight: 300,\n        maxWidth: 300,\n        display: 'flex',\n        justifyItems: 'center',\n        alignContent: 'center',\n        justifyContent: 'center',\n        alignItems: 'center'\n    },\n    imagenProducto:{\n        height: '100%',\n        width: '100%'\n    },\n    borderBoton:{\n\t\tminWidth: '100%',\n\t\theight: '50%',\n        border: '.6px solid #DBDBDB'\n    },\n\tborderBotonChico:{\n\t\tminWidth: '100%',\n\t\theight: '100%',\n        border: '.6px solid #DBDBDB'\n    },\n    input: {\n        \"& input[type=number]\": {\n          \"-moz-appearance\": \"textfield\",\n        },\n        \"& input[type=number]::-webkit-outer-spin-button\": {\n          \"-webkit-appearance\": \"none\",\n          margin: 0,\n        },\n        \"& input[type=number]::-webkit-inner-spin-button\": {\n          \"-webkit-appearance\": \"none\",\n          margin: 0,\n        },\n    },\n}));\n\nexport default useStyles","import React, { createContext, useState } from 'react';\n\nexport const VentasContext = createContext();\n\nexport const VentasProvider = ({ children }) => {\n\n    const [datosProductoVentas, setDatosProductoVentas] = useState(\n        {\n            _id: null,\n            cantidad: null,\n            codigo_barras: null,\n            concepto: null,\n            default: null,\n            descuento: null,\n            descuento_activo: null,\n            id_producto: {},\n            precio: null,\n            unidad: null,\n            unidad_principal: null\n        }\n    );\n    \n    const [productosVentas, setProductosVentas] = useState([]);\n    const [datosVentas, setDatosVentas] = useState(\n        {\n            productos: [],\n            cliente: {},\n            subtotal: 0,\n            impuestos: 0,\n            total: 0,\n            usuario: {}\n        }\n    );\n\n    const [ productoCambioPrecio, setProductoCambioPrecio ] = useState({});\n    const [ precioSelectProductoVenta, setPrecioSelectProductoVenta ] = useState([]);\n    const [ clientesVentas, setClientesVentas ] = useState([]);\n    const [ turnoActivo, setTurnoActivo ] = useState();\n    const [ ubicacionTurno, setUbicacionTurno ] = useState('');\n\n    const [ update, setUpdate ] = useState(false);\n    const [ error, setError ] = useState(false);\n    const [ alert, setAlert ] = useState({ message: \"\", status: \"\", open: false });\n    const [ abrirTurnosDialog, setAbrirTurnosDialog ] = useState(false);\n    const [ updateClientVenta, setUpdateClientVenta ] = useState(false);\n\n    const [open, setOpen] = useState(false);\n\n    // const [precioSeleccionadoTabla, setPrecioSeleccionadoTabla] = useState(false);\n\n    const [updateTablaVentas, setUpdateTablaVentas] = useState(false);\n\n\treturn (\n\t\t<VentasContext.Provider value={\n            { \n                alert, \n                setAlert,\n                update,\n                setUpdate,\n                error,\n                setError,\n                datosProductoVentas,\n                setDatosProductoVentas,\n                productosVentas,\n                setProductosVentas,\n                datosVentas,\n                setDatosVentas,\n                abrirTurnosDialog, \n                setAbrirTurnosDialog,\n                setUpdateClientVenta,\n                updateClientVenta,\n                setProductoCambioPrecio,\n                productoCambioPrecio,\n                setPrecioSelectProductoVenta,\n                precioSelectProductoVenta,\n                setUpdateTablaVentas,\n                updateTablaVentas,\n                setOpen,\n                open,\n                clientesVentas, \n                setClientesVentas,\n                turnoActivo, \n                setTurnoActivo,\n                ubicacionTurno, \n                setUbicacionTurno,\n                // precioSeleccionadoTabla,\n                // setPrecioSeleccionadoTabla\n            }\n        }>\n\t\t\t{children}\n\t\t</VentasContext.Provider>\n\t);\n};","import React, { useContext, useState } from 'react';\nimport { Box, Button, CircularProgress,  Dialog, DialogActions, \n    DialogContent, Divider, FormControl, Grid,  MenuItem, \n    Select, Slide, TextField, Typography } \nfrom '@material-ui/core'\nimport CloseIcon from '@material-ui/icons/Close';\nimport { ToggleButton, ToggleButtonGroup } from '@material-ui/lab';\nimport { OBTENER_CONTABILIDAD } from '../../../gql/Catalogos/contabilidad';\nimport { CREAR_HISTORIAL_CAJA, OBTENER_PRE_CORTE_CAJA } from '../../../gql/Cajas/cajas';\nimport useStyles from '../styles';\nimport moment from 'moment';\nimport 'moment/locale/es';\nimport { useMutation, useQuery } from '@apollo/client';\nimport { VentasContext } from '../../../context/Ventas/ventasContext';\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function DepositoRetiroCaja() {\n    const turnoEnCurso =JSON.parse(localStorage.getItem('turnoEnCurso'));\n\tconst sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n    const [ CrearHistorialCaja ] = useMutation(CREAR_HISTORIAL_CAJA);\n\n    moment.locale('es');\n    const classes = useStyles();\n\n    const { setAlert } = useContext(VentasContext);\n    const [open, setOpen] = useState(false);\n    const [cargando, setCargando] = useState(false);\n    const [movimiento, setMovimiento] = useState('DEPOSITO');\n    const [datosMovimiento, setDatosMovimiento] = useState([]);\n\n\tconst { loading, data } = useQuery(OBTENER_CONTABILIDAD, {\n\t\tvariables: {\n\t\t\tempresa: sesion.empresa._id,\n\t\t\tsucursal: sesion.sucursal._id\n\t\t}\n\t});\n\n    const input = { \n        horario_en_turno: \"ABRIR TURNO\",\n        id_caja: turnoEnCurso ? turnoEnCurso.id_caja : \"\",\n        id_usuario: sesion._id,\n        token_turno_user: turnoEnCurso ? turnoEnCurso.token_turno_user : \"\",\n    };\n\n    const preCorteDeCaja = useQuery(OBTENER_PRE_CORTE_CAJA, {\n        variables: { empresa: sesion.empresa._id, sucursal: sesion.sucursal._id, input: input},\n    });\n\n    const handleClickOpen = () => { \n\t\tsetOpen(!open);\n        preCorteDeCaja.refetch();\n\t};\n\n    var dineroEnCaja = 0;\n    \n    if(!data || !preCorteDeCaja.data){\n        return null;\n    } else{\n        dineroEnCaja = preCorteDeCaja.data.obtenerPreCorteCaja.monto_efectivo_precorte;\n    }\n\n    if (loading || cargando || preCorteDeCaja.loading) \n\treturn (\n\t\t<Box\n\t\tdisplay=\"flex\"\n\t\tflexDirection=\"column\"\n\t\tjustifyContent=\"center\"\n\t\talignItems=\"center\"\n\t\theight=\"80vh\"\n\t\t>\n\t\t\t<CircularProgress />\n\t\t</Box>\n\t);\n\n    window.addEventListener('keydown', Mi_función); \n    function Mi_función(e){\n        if(e.altKey && e.keyCode === 68){ \n            handleClickOpen();\n        } \n    };\n\n    const obtenerDatos = (e) =>{\n        setDatosMovimiento({...datosMovimiento, [e.target.name]: e.target.value})\n    };\n\n    const enviarDatos = async () => {\n        setCargando(true);\n        try {\n            if(!turnoEnCurso && sesion?.turno_en_caja_activo === false ){\n                setCargando(false);\n                setAlert({\n                    message: `Por el momento no hay ningun turno activo.`,\n                    status: \"error\",\n                    open: true,\n                });\n                return null;\n            }else{\n                if(!datosMovimiento.tipo_movimiento ||\n                    !datosMovimiento.monto_efectivo ||\n                    !datosMovimiento.concepto\n                ){\n                    setCargando(false);\n                    setAlert({\n                        message: `Por favor complete los datos.`,\n                        status: \"error\",\n                        open: true,\n                    });\n                    return null;\n                }else{\n                    if(datosMovimiento.tipo_movimiento === \"RETIRO\" && dineroEnCaja <  parseFloat(datosMovimiento.monto_efectivo)){\n                        setCargando(false);\n                        setAlert({\n                            message: 'Lo sentimos no hay dinero suficiente en la caja para esta acción.',\n                            status: \"error\",\n                            open: true,\n                        });\n                        return null;\n                    }\n                    const input = {\n                        tipo_movimiento: datosMovimiento.tipo_movimiento,\n                        concepto: datosMovimiento.concepto,\n                        numero_caja: parseInt(turnoEnCurso.numero_caja),\n                        id_Caja: turnoEnCurso.id_caja,\n                        horario_turno: turnoEnCurso.horario_en_turno,\n                        rol_movimiento: 'CAJA',\n                        hora_moviento: {\n                            hora: moment().format('hh'),\n                            minutos: moment().format('mm'),\n                            segundos: moment().format('ss'),\n                            completa: moment().format('HH:mm:ss')\n                        },\n                        fecha_movimiento: {\n                            year: moment().format('YYYY'),\n                            mes: moment().format('DD'),\n                            dia: moment().format('MM'),\n                            no_semana_year: moment().week().toString(),\n                            no_dia_year: moment().dayOfYear().toString(),\n                            completa: moment().locale('es-mx').format()\n                        },\n                        id_User: sesion._id,\n                        numero_usuario_creador: sesion.numero_usuario,\n                        nombre_usuario_creador: sesion.nombre,\n                        montos_en_caja: {\n                            monto_efectivo: {\n                                monto: parseFloat(datosMovimiento.monto_efectivo),\n                                metodo_pago: \"01\"\n                            },\n                            monto_tarjeta_debito: {\n                                monto: 0,\n                                metodo_pago: \"28\"\n                            },\n                            monto_tarjeta_credito: {\n                                monto: 0,\n                                metodo_pago: \"04\"\n                            },\n                            monto_creditos: {\n                                monto: 0,\n                                metodo_pago: \"99\"\n                            },\n                            monto_monedero: {\n                                monto: 0,\n                                metodo_pago: \"05\"\n                            },\n                            monto_transferencia: {\n                                monto: 0,\n                                metodo_pago: \"03\"\n                            },\n                            monto_cheques: {\n                                monto: 0,\n                                metodo_pago: \"02\"\n                            },\n                            monto_vales_despensa: {\n                                monto: 0,\n                                metodo_pago: \"08\"\n                            }\n                        },\n                        empresa: sesion.empresa._id,\n                        sucursal: sesion.sucursal._id\n                    };\n                    await CrearHistorialCaja({\n                        variables: {\n                            empresa: sesion.empresa._id,\n                            sucursal: sesion.sucursal._id,\n                            input\n                        }\n                    });\n                    setAlert({\n                        message: `Registro de movimiento exitoso.`,\n                        status: \"success\",\n                        open: true,\n                    });\n                    handleClickOpen();\n                    setCargando(false);\n                }\n            }\n        } catch (error) {\n            setCargando(false);\n            setAlert({\n                message: `Error: ${error.message}`,\n                status: \"error\",\n                open: true,\n            });\n            handleClickOpen();\n        }\n    };\n\n    const handleAlignment = (event, newAlignment) => {\n        setMovimiento(newAlignment);\n        setDatosMovimiento({...datosMovimiento, tipo_movimiento: newAlignment})\n    };\n\n    return (\n        <>\n            <Button\n                onClick={() =>{handleClickOpen();}}\n                style={{textTransform: 'none', height: '100%', width: '60%'}}\n            >\n                <Box display=\"flex\" flexDirection=\"column\">\n                    <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n                        <img \n                            src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/ventas/cash-register2.svg' \n                            alt=\"icono caja\" \n                            style={{width: 20}}\n                        />\n                    </Box>\n                    <Box>\n                        <Typography variant=\"body2\" >\n                            <b>Deposito/Retiro Caja</b>\n                        </Typography>\n                    </Box>\n                    <Box>\n                        <Typography variant=\"caption\" style={{color: '#808080'}} >\n                            <b>Alt + D</b>\n                        </Typography>\n                    </Box>\n                </Box>\n            </Button>\t\n\n            <Dialog\n\t\t\t\tmaxWidth='lg'\n\t\t\t\topen={open} \n\t\t\t\tonClose={handleClickOpen} \n\t\t\t\tTransitionComponent={Transition}\n\t\t\t>\n                <DialogContent>\n                    <Grid container item lg={12}>\n                        <Box \n                            display=\"flex\" \n                            textAlign=\"center\" \n                        >\n                            <Box\n                                display=\"flex\" \n                                justifyContent=\"center\"\n                                flexGrow={1} \n                            >\n                                <Box>\n                                    <img src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/ventas/cash-register2.svg' alt=\"icono caja\" className={classes.iconSizeDialogs} />\n                                </Box>\n                                <Box m={2} >\n                                    <Divider orientation=\"vertical\" />\n                                </Box>\n                                <Box mt={1} >\n                                    <Box>\n                                        <Typography variant=\"h6\">\n                                            Deposito / Retiro Caja\n                                        </Typography>\n                                    </Box>\n                                    <Box display=\"flex\" textAlign=\"right\">\n                                        <Box textAlign=\"right\">\n                                            <Typography variant=\"caption\">\n                                                {moment().format('MM/DD/YYYY')}\n                                            </Typography>\n                                        </Box>\n                                        <Box textAlign=\"right\" ml={2}>\n                                            <Typography variant=\"caption\">\n                                                <b>{moment().format('h:mm')} hrs.</b> \n                                            </Typography>\n                                        </Box>\n                                        <Box textAlign=\"right\" ml={2}>\n                                            <Typography variant=\"caption\">\n                                                <b>Caja: </b>{turnoEnCurso?.numero_caja}\n                                            </Typography>\n                                        </Box>\n                                    </Box>\n                                </Box>\n                            </Box>\n                            <Box ml={10} mb={7} display=\"flex\" alignItems=\"center\">\n                                <Button variant=\"contained\" color=\"secondary\" onClick={handleClickOpen} size=\"large\">\n                                    <CloseIcon />\n                                </Button>\n                            </Box>\n                        </Box>\n                        </Grid>\n                        <Grid>\n                            {sesion.turno_en_caja_activo === true ? (\n                                <>\n                                <div className={classes.formInputFlex}>\n                                    {/* <Box width=\"100%\">\n                                        <Typography>\n                                            Movimiento\n                                        </Typography>\n                                        <FormControl\n                                            variant=\"outlined\"\n                                            fullWidth\n                                            size=\"small\"\n                                        >\n                                            <Select\n                                                id=\"form-producto-tipo\"\n                                                name=\"tipo_movimiento\"\n                                                onChange={obtenerDatos}\n                                            >\n                                                <MenuItem value=\"\">\n                                                    <em>Selecciona uno</em>\n                                                </MenuItem>\n                                                <MenuItem value=\"DEPOSITO\">Deposito</MenuItem>\n                                                <MenuItem value=\"RETIRO\">Retiro</MenuItem>\n                                            </Select>\n                                        </FormControl>\n                                    </Box> */}\n                                    <Box width=\"100%\" textAlign=\"center\">\n                                        <ToggleButtonGroup \n                                            onChange={handleAlignment}\n                                            value={movimiento}\n                                            exclusive \n                                        >\n                                            <ToggleButton \n                                                value=\"DEPOSITO\" \n                                            >\n                                                <Box p={1}>\n                                                    <Typography variant=\"h4\">\n                                                        <b>DEPOSITO</b>\n                                                    </Typography>\n                                                </Box>\n                                            </ToggleButton>\n                                            <ToggleButton \n                                                value=\"RETIRO\"\n                                            >\n                                                <Box p={1}>\n                                                    <Typography variant=\"h4\">\n                                                        <b>RETIRO</b>\n                                                    </Typography>\n                                                </Box>\n                                            </ToggleButton>\n                                        </ToggleButtonGroup>\n                                    </Box>\n                                </div>\n                                <div className={classes.formInputFlex}>\n                                    <Box width=\"100%\">\n                                        <Typography>Monto:</Typography>\n                                        <Box display=\"flex\">\n                                            <TextField\n                                                fullWidth\n                                                size=\"small\"\n                                                type=\"number\"\n                                                name=\"monto_efectivo\"\n                                                onChange={obtenerDatos}\n                                                id=\"form-producto-codigo-barras\"\n                                                variant=\"outlined\"\n                                            />\n                                        </Box>\n                                    </Box>\n                                </div>\n                                <div className={classes.formInputFlex}>\n                                    <Box width=\"100%\">\n                                        <Typography>\n                                            Concepto de Movimiento:\n                                        </Typography>\n                                        <FormControl\n                                            variant=\"outlined\"\n                                            fullWidth\n                                            size=\"small\"\n                                        >\n                                            <Select\n                                                id=\"form-producto-tipo\"\n                                                onChange={obtenerDatos}\n                                                name=\"concepto\"\n                                            >\n                                                <MenuItem value=\"\">\n                                                    <em>Selecciona uno</em>\n                                                </MenuItem>\n                                                {data?.obtenerContabilidad.map((concepto)=> {\n                                                    return(\n                                                        <MenuItem value={concepto.nombre_servicio}>{concepto.nombre_servicio}</MenuItem>\n                                                    )\n                                                })}\n                                            </Select>\n                                        </FormControl>\n                                    </Box>\n                                </div>\n                                </>\n                            ) : (\n                                <Box textAlign=\"center\" p={2}>\n                                    <Typography variant=\"h6\"> \n                                        <b>Por el momento no hay un turno en sesión</b> \n                                    </Typography>\n                                </Box>\n                            )}\n                        </Grid>\n                </DialogContent>\n                <DialogActions>\n                    <Button \n                        onClick={enviarDatos} \n                        variant=\"contained\" \n                        color=\"primary\" \n                        size=\"large\"\n                    >\n                        Guardar\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        </>\n    )\n};\n","import React, { useContext, useEffect, useState } from 'react'\nimport useStyles from '../styles';\n\nimport { Box, Button,\n        DialogActions, DialogContent,  \n        FormControl, Grid, MenuItem, \n        Select, TextField, Typography \n    } from '@material-ui/core'\nimport BackdropComponent from '../../../components/Layouts/BackDrop'\nimport { useMutation, useQuery } from '@apollo/client';\nimport { OBTENER_CAJAS } from '../../../gql/Cajas/cajas';\nimport { REGISTRAR_TURNOS } from '../../../gql/Ventas/abrir_cerrar_turno';\nimport { VentasContext } from '../../../context/Ventas/ventasContext';\n\nimport moment from 'moment';\nimport 'moment/locale/es';\nmoment.locale('es');\n\nexport default function AbrirTurno({handleClickOpen, loading, type, setLoading}) {\n    const sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n    const turnoEnCurso = JSON.parse(localStorage.getItem('turnoEnCurso'));\n\n    const [ CrearRegistroDeTurno ] = useMutation(REGISTRAR_TURNOS);\n    const { setTurnoActivo, setAlert } = useContext(VentasContext);\n\n    const [ error, setError ] = useState(false);\n    const [ abrirTurno, setAbrirTurno ] = useState([]);\n    const [ numeroCaja, setNumeroCaja ] = useState('');\n    \n    const classes = useStyles();\n    let obtenerCajasSucursal = [];\n\n    const cajas = useQuery(OBTENER_CAJAS,{\n\t\tvariables: {\n            empresa: sesion.empresa._id,\n\t\t\tsucursal: sesion.sucursal._id\n\t\t}\n\t});\t\n\n    const obtenerTurno = (e) => {\n        setAbrirTurno({...abrirTurno, [e.target.name]: e.target.value});\n    };\n\n    if(cajas.data){\n\t\tobtenerCajasSucursal = cajas.data.obtenerCajasSucursal;\n\t};\n\n    let arraySesion = {\n        accesos: sesion.accesos,\n        email: sesion.email,\n        empresa: sesion.empresa,\n        estado: sesion.estado,\n        exp: sesion.exp,\n        iat: sesion.iat,\n        imagen: sesion.imagen,\n        nombre: sesion.nombre,\n        numero_usuario: sesion.numero_usuario,\n        sucursal: sesion.sucursal,\n        telefono: sesion.telefono,\n        turno_en_caja_activo: true, \n        _id: sesion._id,\n    };\n\n    useEffect(() => {\n        cajas.refetch();\n    }, [loading]);\n\n    const enviarDatos = async () => {\n        setLoading(true);\n        try {\n            if(!abrirTurno.turno_en_curso ||\n                !abrirTurno.caja_elegida ||\n                !abrirTurno.monto_abrir\n            ){\n                setError(true);\n                setLoading(false);\n                setAlert({\n                    message: `Por favor complete los datos obligatorios`,\n                    status: \"error\",\n                    open: true,\n                });\n                return;\n            }else{\n                const input = {\n                    horario_en_turno: abrirTurno.turno_en_curso,\n                    concepto: \"ABRIR TURNO\",\n                    numero_caja: numeroCaja.toString(),\n                    comentarios: abrirTurno.comentarios,\n                    id_caja: abrirTurno.caja_elegida,\n                    empresa: sesion.empresa._id,\n                    sucursal: sesion.sucursal._id,\n                    id_usuario: sesion._id,\n                    usuario_en_turno: {\n                        nombre: sesion.nombre,\n                        telefono: sesion.telefono,\n                        numero_usuario: sesion.numero_usuario.toString(),\n                        email: sesion.email,\n                    },\n                    hora_entrada: {\n                        hora: moment().format('hh'),\n                        minutos: moment().format('mm'),\n                        segundos: moment().format('ss'),\n                        completa: moment().format('HH:mm:ss')\n                    },\n                    hora_salida: {\n                        hora: \"\",\n                        minutos: \"\",\n                        segundos: \"\",\n                        completa: \"\"\n                    },\n                    fecha_entrada:{\n                        year: moment().format('YYYY'),\n                        mes: moment().format('MM'),\n                        dia: moment().format('DD'),\n                        no_semana_year: moment().week().toString(),\n                        no_dia_year: moment().dayOfYear().toString(),\n                        completa: moment().format(\"YYYY-MM-DD\")\n                    },\n                    fecha_salida:{\n                        year: \"\",\n                        mes: \"\",\n                        dia: \"\",\n                        no_semana_year: \"\",\n                        no_dia_year: \"\",\n                        completa: \"\"\n                    },\n                    fecha_movimiento: moment().locale('es-mx').format(),\n                    montos_en_caja: {\n                        monto_efectivo: {\n                            monto: parseFloat(abrirTurno.monto_abrir),\n                            metodo_pago: \"01\"\n                        },\n                        monto_tarjeta_debito: {\n                            monto: 0,\n                            metodo_pago: \"28\"\n                        },\n                        monto_tarjeta_credito: {\n                            monto: 0,\n                            metodo_pago: \"04\"\n                        },\n                        monto_creditos: {\n                            monto: 0,\n                            metodo_pago: \"99\"\n                        },\n                        monto_monedero: {\n                            monto: 0,\n                            metodo_pago: \"05\"\n                        },\n                        monto_transferencia: {\n                            monto: 0,\n                            metodo_pago: \"03\"\n                        },\n                        monto_cheques: {\n                            monto: 0,\n                            metodo_pago: \"02\"\n                        },\n                        monto_vales_despensa: {\n                            monto: 0,\n                            metodo_pago: \"08\"\n                        },\n                    }\n                };\n\n                const variableTurnoAbierto = await CrearRegistroDeTurno({\n                    variables: {\n                        activa: true,\n                        input\n                    }\n                });\n\n                if(variableTurnoAbierto.data.crearRegistroDeTurno === null){\n                    setLoading(false);\n                    cajas.refetch();\n                    setAlert({\n                        message: `Lo sentimos esta caja ya esta en uso`,\n                        status: \"error\",\n                        open: true,\n                    });\n                }else{\n                    localStorage.setItem('turnoEnCurso', JSON.stringify(variableTurnoAbierto.data.crearRegistroDeTurno));\n                    localStorage.setItem('sesionCafi', JSON.stringify(arraySesion));\n                    setTurnoActivo(true);\n                    setAlert({\n                        message: `Turno abierto con exito`,\n                        status: \"success\",\n                        open: true,\n                    });\n                    cajas.refetch();\n                    if (type !== \"FRENTE\") {\n                        handleClickOpen();\n                    };\n                }\n            }\n        } catch (error) {\n            setLoading(false);\n            setAlert({\n                message: `Error: ${error.message}`,\n                status: \"error\",\n                open: true,\n            });\n            if (type !== \"FRENTE\") {\n                handleClickOpen();\n            }\n        }\n    };\n\n    if (cajas.loading) \n\treturn (\n        <BackdropComponent loading={loading} />\n\t\t// <Box\n\t\t// display=\"flex\"\n\t\t// flexDirection=\"column\"\n\t\t// justifyContent=\"center\"\n\t\t// alignItems=\"center\"\n\t\t// height=\"80vh\"\n\t\t// >\n\t\t// \t<CircularProgress />\n\t\t// </Box>\n\t);\n\n    return (\n        <div>\n            <DialogContent>\n                <Grid>\n                    <div className={classes.formInputFlex}>\n                        <Box width=\"100%\">\n                            <Typography> Empleado:</Typography>\n                            <Box display=\"flex\">\n                                <TextField\n                                    fullWidth\n                                    size=\"small\"\n                                    name=\"nombre_usuario\"\n                                    onChange={obtenerTurno}\n                                    disabled={true}\n                                    value={sesion ? sesion.nombre : ''}\n                                    id=\"form-producto-codigo-barras\"\n                                    variant=\"outlined\"\n                                />\n                            </Box>\n                        </Box>\n                        <Box width=\"100%\">\n                            <Typography>\n                                <span className=\"obligatorio\">* </span>Turno:\n                            </Typography>\n                            <FormControl\n                                variant=\"outlined\"\n                                disabled={turnoEnCurso ? true : false}\n                                fullWidth\n                                size=\"small\"\n                            >\n                                <Select\n                                    id=\"form-producto-tipo\"\n                                    name=\"turno_en_curso\"\n                                    onChange={obtenerTurno}\n                                >\n                                    <MenuItem value=\"\">\n                                        <em>Selecciona uno</em>\n                                    </MenuItem>\n                                    <MenuItem value=\"VESPERTINO\">Vespertino</MenuItem>\n                                    <MenuItem value=\"MATUTINO\">Matutino</MenuItem>\n                                </Select>\n                            </FormControl>\n                        </Box>\n                    </div>\n                    <div className={classes.formInputFlex}>\n                        <Box width=\"100%\">\n                            <Typography>\n                                <span className=\"obligatorio\">* </span>Caja:\n                            </Typography>\n                            <FormControl\n                                variant=\"outlined\"\n                                disabled={turnoEnCurso ? true : false}\n                                fullWidth\n                                size=\"small\"\n                            >\n                                <Select\n                                    id=\"form-producto-tipo\"\n                                    name=\"caja_elegida\"\n                                    onChange={obtenerTurno}\n                                >\n                                    <MenuItem value=\"\">\n                                        <em>Selecciona uno</em>\n                                    </MenuItem>\n                                    {\n                                        obtenerCajasSucursal.map((caja) =>{\n                                            return(\n                                                caja.activa === true ? null :(\n                                                    <MenuItem key={caja.numero_caja} value={caja._id} onClick={() => setNumeroCaja(caja.numero_caja)}>\n                                                        Caja {caja.numero_caja}\n                                                    </MenuItem>\n                                                )\n                                            );\n                                        })\n                                    }\n                                </Select>\n                            </FormControl>\n                        </Box>\n                        <Box width=\"100%\">\n                            <Typography> <span className=\"obligatorio\">* </span>Monto para abrir:</Typography>\n                            <Box display=\"flex\" className={classes.input}>\n                                <TextField\n                                    fullWidth\n                                    size=\"small\"\n                                    name=\"monto_abrir\"\n                                    inputProps={{min: 0}}\n                                    type=\"number\"\n                                    onChange={obtenerTurno}\n                                    id=\"form-producto-codigo-barras\"\n                                    variant=\"outlined\"\n                                />\n                            </Box>\n                        </Box>\n                    </div>\n                    <div className={classes.formInputFlex}>\n                        <Box width=\"100%\">\n                            <Typography> Comentarios:</Typography>\n                            <Box display=\"flex\">\n                                <TextField\n                                    fullWidth\n                                    size=\"small\"\n                                    name=\"comentarios\"\n                                    multiline\n                                    rows={5}\n                                    onChange={obtenerTurno}\n                                    id=\"form-producto-codigo-barras\"\n                                    variant=\"outlined\"\n                                />\n                            </Box>\n                        </Box>\n                    </div>\n                </Grid>\n            </DialogContent>\n            <DialogActions>\n                <Box display=\"flex\" alignItems='flex-end'>\n                    <Button \n                        onClick={enviarDatos} \n                        variant=\"contained\" \n                        color=\"primary\" \n                        size=\"large\"\n                    >\n                        Guardar\n                    </Button>\n                </Box>\n            </DialogActions>\n        </div>\n    )\n}","import React, { useContext, useState } from 'react'\nimport useStyles from '../styles';\nimport { Box,  Button,  DialogActions, \n        DialogContent,  FormControl, \n        Grid, MenuItem, Select, \n        TextField, Typography \n    } from '@material-ui/core'\nimport { REGISTRAR_TURNOS } from '../../../gql/Ventas/abrir_cerrar_turno';\n\nimport moment from 'moment';\nimport 'moment/locale/es';\nimport { VentasContext } from '../../../context/Ventas/ventasContext';\nimport { useMutation } from '@apollo/client';\nimport { withRouter } from 'react-router-dom';\nmoment.locale('es');\n\nfunction  CerrarTurno(props) {\n    const { handleClickOpen, setLoading } = props;\n    const [ CrearRegistroDeTurno ] = useMutation(REGISTRAR_TURNOS);\n    const { setAlert, setTurnoActivo, ubicacionTurno } = useContext(VentasContext);\n    const [ error, setError] = useState(false);\n\n    const sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n    const turnoEnCurso = JSON.parse(localStorage.getItem('turnoEnCurso'));\n\n    const classes = useStyles();\n    const [ montoTurno, setMontoTurno ] = useState([]);\n    const [ cerrarTurno, setCerrarTurno ] = useState([]);\n\n    const obtenerCamposMontos = (e) => { \n        setMontoTurno({...montoTurno, [e.target.name]: e.target.value})\n    };\n\n    const obtenerCampos = (e) => { \n        setCerrarTurno({...cerrarTurno, [e.target.name]: e.target.value})\n    };\n    \n    const input = {\n        horario_en_turno: cerrarTurno.horario_en_turno,\n        concepto: \"CERRAR TURNO\",\n        token_turno_user: turnoEnCurso ? turnoEnCurso.token_turno_user : \"\",\n        numero_caja: turnoEnCurso ? turnoEnCurso?.numero_caja.toString() : \"\",\n        comentarios: cerrarTurno.comentarios,\n        id_caja: turnoEnCurso ? turnoEnCurso.id_caja : \"\",\n        empresa: sesion.empresa._id,\n        sucursal: sesion.sucursal._id,\n        id_usuario: sesion._id,\n        usuario_en_turno: {\n            nombre: sesion.nombre,\n            telefono: sesion.telefono,\n            numero_usuario: sesion.numero_usuario.toString(),\n            email: sesion.email,\n        },\n        hora_entrada: {\n            hora:  \"\",\n            minutos: \"\",\n            segundos:  \"\",\n            completa: \"\"\n        },\n        hora_salida: {\n            hora: moment().format('hh'),\n            minutos: moment().format('mm'),\n            segundos: moment().format('ss'),\n            completa: moment().format('HH:mm:ss')\n        },\n        fecha_entrada:{\n            year: \"\",\n            mes: \"\",\n            dia: \"\",\n            no_semana_year: \"\",\n            no_dia_year: \"\",\n            completa: \"\"\n        },\n        fecha_salida:{\n            year: moment().format('YYYY'),\n            mes: moment().format('MM'),\n            dia: moment().format('DD'),\n            no_semana_year: moment().week().toString(),\n            no_dia_year: moment().dayOfYear().toString(),\n            completa: moment().format(\"YYYY-MM-DD\")\n        },\n        fecha_movimiento: moment().locale('es-mx').format(),\n        montos_en_caja: {\n            monto_efectivo: {\n                monto:  parseFloat(montoTurno.monto_efectivo ? montoTurno.monto_efectivo : 0),\n                metodo_pago: \"01\"\n            },\n            monto_tarjeta_debito: {\n                monto: parseFloat(montoTurno.monto_tarjeta_debito ? montoTurno.monto_tarjeta_debito : 0),\n                metodo_pago: \"28\"\n            },\n            monto_tarjeta_credito: {\n                monto: parseFloat(montoTurno.monto_tarjeta_credito ? montoTurno.monto_tarjeta_credito : 0),\n                metodo_pago: \"04\"\n            },\n            monto_creditos: {\n                monto: parseFloat(montoTurno.monto_creditos ? montoTurno.monto_creditos : 0 ),\n                metodo_pago: \"99\"\n            },\n            monto_monedero: {\n                monto: parseFloat(montoTurno.monto_puntos ? montoTurno.monto_puntos : 0),\n                metodo_pago: \"05\"\n            },\n            monto_transferencia: {\n                monto: parseFloat(montoTurno.monto_transferencia ? montoTurno.monto_transferencia : 0),\n                metodo_pago: \"03\"\n            },\n            monto_cheques: {\n                monto: parseFloat(montoTurno.monto_cheques ? montoTurno.monto_cheques : 0),\n                metodo_pago: \"02\"\n            },\n            monto_vales_despensa: {\n                monto: parseFloat(montoTurno.monto_vales_despensa ? montoTurno.monto_vales_despensa : 0),\n                metodo_pago: \"08\"\n            },\n        }\n    };\n\n    let arraySesion = {\n        accesos: sesion.accesos,\n        email: sesion.email,\n        empresa: sesion.empresa,\n        estado: sesion.estado,\n        exp: sesion.exp,\n        iat: sesion.iat,\n        imagen: sesion.imagen,\n        nombre: sesion.nombre,\n        numero_usuario: sesion.numero_usuario,\n        sucursal: sesion.sucursal,\n        telefono: sesion.telefono,\n        turno_en_caja_activo: false, \n        _id: sesion._id,\n    };\n\n    const actualizarTurnoSesion  = (ubicacionTurno) => {\n        if (ubicacionTurno === 'SESION') {\n            localStorage.removeItem('sesionCafi');\n\t\t\tlocalStorage.removeItem('tokenCafi');\n            localStorage.removeItem('turnoEnCurso');\n            localStorage.removeItem('ListaEnEspera');\n            localStorage.removeItem('DatosVentas');\n\t\t\tprops.history.push('/');\n        }else{\n            localStorage.setItem('sesionCafi', JSON.stringify(arraySesion));\n            localStorage.removeItem('DatosVentas');\n            localStorage.removeItem('ListaEnEspera');\n            localStorage.removeItem('turnoEnCurso');\n        }\n    };\n\n    const enviarDatos  = async () => {\n        setLoading(true);\n        try {\n            if(!cerrarTurno.horario_en_turno){\n                setError(true);\n                setLoading(false);\n                setAlert({\n                    message: `Por favor elija que turno esta cerrando`,\n                    status: \"error\",\n                    open: true,\n                });\n                return;\n            }else{\n                await CrearRegistroDeTurno({\n                    variables: {\n                        activa: false,\n                        input\n                    }\n                });\n                setAlert({\n                    message: `Turno cerrado con exito`,\n                    status: \"success\",\n                    open: true,\n                });\n\n                actualizarTurnoSesion(ubicacionTurno);\n\n                setLoading(false);\n                handleClickOpen();\n                setTurnoActivo(true);\n            }\n        } catch (error) {\n            setAlert({\n                message: `Error: ${error.message}`,\n                status: \"error\",\n                open: true,\n            });\n            setLoading(false);\n            handleClickOpen();\n        }\n    };\n\n\n    return (\n        <>\n            <DialogContent style={{padding: 0}}>\n            <Box width=\"100%\" textAlign=\"center\">\n                <Typography variant=\"h6\">Montos a Depositar</Typography>\n            </Box>\n            <div className={classes.formInputFlex}>\n                <Box width=\"100%\" className={classes.input}>\n                    <Typography> Monto Efectivo:</Typography>\n                    <Box display=\"flex\">\n                        <TextField\n                            name=\"monto_efectivo\"\n                            variant=\"outlined\"\n                            size=\"small\"\n                            inputProps={{min: 0}}\n                            type=\"number\"\n                            defaultValue={0}\n                            color=\"primary\"\n                            onChange={obtenerCamposMontos}\n                        />\n                    </Box>\n                </Box>\n                <Box width=\"100%\" className={classes.input}>\n                    <Typography> Creditos:</Typography>\n                    <Box display=\"flex\">\n                        <TextField\n                            name=\"monto_creditos\"\n                            variant=\"outlined\"\n                            size=\"small\"\n                            inputProps={{min: 0}}\n                            type=\"number\" \n                            defaultValue={0}\n                            color=\"primary\"\n                            onChange={obtenerCamposMontos}\n                        />\n                    </Box>\n                </Box>\n            </div>\n            <div className={classes.formInputFlex}>\n                <Box width=\"100%\" className={classes.input}>\n                    <Typography> Tarjeta Debito:</Typography>\n                    <Box display=\"flex\">\n                        <TextField\n                            name=\"monto_tarjeta_debito\"\n                            variant=\"outlined\"\n                            size=\"small\"\n                            inputProps={{min: 0}}\n                            type=\"number\"\n                            defaultValue={0}\n                            color=\"primary\"\n                            onChange={obtenerCamposMontos}\n                        />\n                    </Box>\n                </Box>\n                <Box width=\"100%\" className={classes.input}>\n                    <Typography> Tarjeta Credito:</Typography>\n                    <Box display=\"flex\">\n                        <TextField\n                            name=\"monto_tarjeta_credito\"\n                            variant=\"outlined\"\n                            size=\"small\"\n                            inputProps={{min: 0}}\n                            type=\"number\"\n                            defaultValue={0}\n                            color=\"primary\"\n                            onChange={obtenerCamposMontos}\n                        />\n                    </Box>\n                </Box>\n                \n            </div>\n            <div className={classes.formInputFlex}>\n                <Box width=\"100%\" className={classes.input}>\n                    <Typography>Monedero:</Typography>\n                    <Box display=\"flex\">\n                        <TextField\n                            name=\"monto_puntos\"\n                            variant=\"outlined\"\n                            size=\"small\"\n                            inputProps={{min: 0}}\n                            type=\"number\" \n                            defaultValue={0}\n                            color=\"primary\"\n                            onChange={obtenerCamposMontos}\n                        />\n                    </Box>\n                </Box>\n                <Box width=\"100%\" className={classes.input}>\n                    <Typography>Transferencias:</Typography>\n                    <Box display=\"flex\">\n                        <TextField\n                            name=\"monto_transferencia\"\n                            variant=\"outlined\"\n                            size=\"small\"\n                            inputProps={{min: 0}}\n                            type=\"number\" \n                            defaultValue={0}\n                            color=\"primary\"\n                            onChange={obtenerCamposMontos}\n                        />\n                    </Box>\n                </Box>\n            </div>\n            <div className={classes.formInputFlex}>\n                <Box width=\"100%\" className={classes.input}>\n                    <Typography>Cheques:</Typography>\n                    <Box display=\"flex\">\n                        <TextField\n                            name=\"monto_cheques\"\n                            variant=\"outlined\"\n                            size=\"small\"\n                            inputProps={{min: 0}}\n                            type=\"number\" \n                            defaultValue={0}\n                            color=\"primary\"\n                            onChange={obtenerCamposMontos}\n                        />\n                    </Box>\n                </Box>\n                <Box width=\"100%\" className={classes.input}>\n                    <Typography>Vales de despensa:</Typography>\n                    <Box display=\"flex\">\n                        <TextField\n                            name=\"monto_vales_despensa\"\n                            variant=\"outlined\"\n                            size=\"small\"\n                            inputProps={{min: 0}}\n                            type=\"number\" \n                            defaultValue={0}\n                            color=\"primary\"\n                            onChange={obtenerCamposMontos}\n                        />\n                    </Box>\n                </Box>\n            </div>\n                <Grid container >\n                    <Grid item lg={6}>\n                        <Box mt={1} textAlign=\"center\">\n                            <Typography >\n                                <b>Monto total efectivo:  </b>\n                            </Typography>\n                        </Box>\n                    </Grid>\n                    <Grid item lg={6} justify='flex-end'>\n                        <Box mt={1} textAlign=\"center\" >\n                            <Typography>\n                                 ${montoTurno.monto_efectivo} Mx.\n                            </Typography>\n                        </Box>\n                    </Grid>\n                </Grid>\n                <div className={classes.formInputFlex}>\n                    <Box width=\"100%\">\n                        <Typography>\n                            <span className=\"obligatorio\">* </span> Turno:\n                        </Typography>\n                        <FormControl\n                            variant=\"outlined\"\n                            fullWidth\n                            size=\"small\"\n                        >\n                            <Select\n                                onChange={obtenerCampos}\n                                id=\"form-producto-tipo\"\n                                name=\"horario_en_turno\"\n                            >\n                                <MenuItem value=\"\">\n                                    <em>Selecciona uno</em>\n                                </MenuItem>\n                                <MenuItem value=\"VESPERTINO\">Vespertino</MenuItem>\n                                <MenuItem value=\"MATUTINO\">Matutino</MenuItem>\n                            </Select>\n                        </FormControl>\n                    </Box>\n                </div>\n                <div className={classes.formInputFlex}>\n                    <Box width=\"100%\">\n                        <Typography>Comentarios:</Typography>\n                        <Box display=\"flex\">\n                            <TextField\n                                fullWidth\n                                multiline\n                                onChange={obtenerCampos}\n                                rows={2}\n                                size=\"small\"\n                                name=\"comentarios\"\n                                id=\"form-producto-codigo-barras\"\n                                variant=\"outlined\"\n                            />\n                        </Box>\n                    </Box>\n                </div>\n            </DialogContent>\n            <DialogActions>\n                <Box display=\"flex\" alignItems='flex-end'>\n                    <Button \n                        onClick={enviarDatos} \n                        variant=\"contained\" \n                        color=\"primary\" \n                        size=\"large\"\n                    >\n                        Aceptar\n                    </Button>\n                </Box>\n            </DialogActions>\n        </>\n    )\n};\n\nexport default withRouter(CerrarTurno);\n","import React, { useContext, useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport {\n  AppBar,\n  Box,\n  Button,\n  Dialog,\n  DialogContent,\n  Grid,\n  makeStyles,\n  Slide,\n  Tab,\n  Tabs,\n  Typography,\n} from \"@material-ui/core\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport BackdropComponent from '../../../components/Layouts/BackDrop'\n\nimport AbrirTurno from \"./AbrirTurno\";\nimport CerrarTurno from \"./CerrarTurno\";\nimport moment from \"moment\";\nimport \"moment/locale/es\";\nimport { VentasContext } from \"../../../context/Ventas/ventasContext\";\nmoment.locale(\"es\");\n\nfunction TabPanel(props) {\n  const { children, value, index, ...other } = props;\n\n  return (\n    <div\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`tabpanel-reg-product-${index}`}\n      aria-labelledby={`reg-product-tab-${index}`}\n      {...other}\n    >\n      {value === index && (\n        <Box p={3} height=\"70vh\">\n          {children}\n        </Box>\n      )}\n    </div>\n  );\n}\n\nTabPanel.propTypes = {\n  children: PropTypes.node,\n  index: PropTypes.any.isRequired,\n  value: PropTypes.any.isRequired,\n};\n\nfunction a11yProps(index) {\n  return {\n    id: `reg-product-tab-${index}`,\n    \"aria-controls\": `tabpanel-reg-product-${index}`,\n  };\n}\n\nconst useStyles = makeStyles((theme) => ({\n  formInputFlex: {\n    display: \"flex\",\n    \"& > *\": {\n      margin: `${theme.spacing(1)}px ${theme.spacing(0)}px`,\n    },\n  },\n  formInput: {\n    margin: `${theme.spacing(1)}px ${theme.spacing(0)}px`,\n  },\n  root: {\n    flexGrow: 1,\n    width: \"100%\",\n    backgroundColor: theme.palette.background.paper,\n  },\n  iconSvg: {\n    width: 50,\n  },\n  dialogContent: {\n    padding: 0,\n  },\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function Turnos() {\n  const { abrirTurnosDialog, setAbrirTurnosDialog, setTurnoActivo } =\n    useContext(VentasContext);\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n  const turnoEnCurso = JSON.parse(localStorage.getItem(\"turnoEnCurso\"));\n\n  const classes = useStyles();\n  const [value, setValue] = useState(0);\n\n  const handleChange = (event, newValue) => {\n    setValue(newValue);\n  };\n\n  const handleClickOpen = () => {\n    setAbrirTurnosDialog(!abrirTurnosDialog);\n    setTurnoActivo(true);\n  };\n\n  window.addEventListener(\"keydown\", Mi_función);\n\n  function Mi_función(e) {\n    if (e.altKey && e.keyCode === 85) {\n      handleClickOpen();\n    }\n  }\n\n  return (\n    <>\n      <Button\n        onClick={() => handleClickOpen()}\n        style={{ textTransform: \"none\", height: \"100%\", width: \"60%\" }}\n      >\n        <Box\n          display=\"flex\"\n          flexDirection=\"column\"\n          style={{ height: \"100%\", width: \"100%\" }}\n        >\n          <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n            <img\n              src=\"https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/ventas/shift.svg\"\n              alt=\"icono caja\"\n              style={{ width: 20 }}\n            />\n          </Box>\n          <Box>\n            <Typography variant=\"body2\">\n              <b>Abrir/Cerrar turno</b>\n            </Typography>\n          </Box>\n          <Box>\n            <Typography variant=\"caption\" style={{ color: \"#808080\" }}>\n              <b>Alt + U</b>\n            </Typography>\n          </Box>\n        </Box>\n      </Button>\n\n      <Dialog\n        maxWidth=\"xs\"\n\t\tfullWidth\n        open={abrirTurnosDialog}\n        onClose={handleClickOpen}\n        TransitionComponent={Transition}\n      >\n        <AppBar position=\"static\" color=\"default\" elevation={0}>\n          <Tabs\n            value={value}\n            onChange={handleChange}\n            variant=\"scrollable\"\n            scrollButtons=\"on\"\n            indicatorColor=\"primary\"\n            textColor=\"primary\"\n            aria-label=\"scrollable force tabs example\"\n          >\n            {sesion?.turno_en_caja_activo === true && turnoEnCurso ? (\n              <Tab\n                label=\"Cerrar Turno\"\n                icon={\n                  <img\n                    src=\"https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/ventas/shift.svg\"\n                    alt=\"icono almacen\"\n                    className={classes.iconSvg}\n                  />\n                }\n                {...a11yProps(0)}\n              />\n            ) : (\n              <Tab\n                label=\"Abrir Turno\"\n                icon={\n                  <img\n                    src=\"https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/ventas/shift.svg\"\n                    alt=\"icono almacen\"\n                    className={classes.iconSvg}\n                  />\n                }\n                {...a11yProps(0)}\n              />\n            )}\n            <Grid container justify=\"flex-end\">\n              <Box mt={2} textAlign=\"right\">\n                <Box textAlign=\"right\">\n                  <Typography variant=\"caption\">\n                    {moment().format(\"L\")}\n                  </Typography>\n                </Box>\n                <Box textAlign=\"right\">\n                  <Typography variant=\"caption\">\n                    {moment().format(\"LT\")} hrs.\n                  </Typography>\n                </Box>\n                <Box textAlign=\"right\">\n                  <Typography variant=\"caption\">\n                    Caja {!turnoEnCurso ? null : turnoEnCurso.numero_caja}\n                  </Typography>\n                </Box>\n              </Box>\n            </Grid>\n            <Box mt={2} ml={3}>\n              <Button\n                variant=\"contained\"\n                color=\"secondary\"\n                onClick={handleClickOpen}\n                size=\"medium\"\n              >\n                <CloseIcon />\n              </Button>\n            </Box>\n          </Tabs>\n        </AppBar>\n        <ContenidoTurnos handleClickOpen={handleClickOpen} value={value} />\n      </Dialog>\n    </>\n  );\n}\n\nconst ContenidoTurnos = ({ handleClickOpen, value }) => {\n  const turnoEnCurso = JSON.parse(localStorage.getItem(\"turnoEnCurso\"));\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n\n  const [loading, setLoading] = useState(false);\n\n  if (loading)\n    return (\n      <BackdropComponent loading={loading} />\n    )\n\n  return (\n    <DialogContent style={{ padding: 0 }}>\n      {sesion?.turno_en_caja_activo === true && turnoEnCurso ? (\n        <TabPanel style={{ padding: 0 }} value={value} index={0}>\n          <CerrarTurno\n            setLoading={setLoading}\n            handleClickOpen={handleClickOpen}\n          />\n        </TabPanel>\n      ) : (\n        <TabPanel value={value} index={0}>\n          <AbrirTurno\n            loading={loading}\n            setLoading={setLoading}\n            handleClickOpen={handleClickOpen}\n          />\n        </TabPanel>\n      )}\n    </DialogContent>\n  );\n};\n","import React, { createContext, useState } from 'react';\n\nexport const AccesosContext = createContext();\n\nexport const AccesosProvider = ({ children }) => {\n\n    const [ abrirPanelAcceso, setAbrirPanelAcceso ] = useState(false);\n    const [ departamentos, setDepartamentos ] = useState({departamento: '', subDepartamento: '', tipo_acceso: ''});\n\n    const [ reloadAdministrador, setReloadAdministrador ] = useState(false);\n    const [ reloadProductoRapido, setReloadProductoRapido ] = useState(false);\n    const [ reloadCancelarVenta, setReloadCancelarVenta ] = useState(false);\n    const [ reloadVerPrecios, setReloadVerPrecios ] = useState(false);\n    const [ reloadVerPreCorte, setReloadVerPreCorte ] = useState(false);\n    const [ reloadEliminarVentaEspera, setReloadEliminarVentaEspera ] = useState(false);\n    const [ reloadCrearCotizacion, setReloadCrearCotizacion ] = useState(false);\n\n    return (\n\t\t<AccesosContext.Provider value={\n            { \n                departamentos, \n                setDepartamentos,\n                reloadProductoRapido, \n                setReloadProductoRapido,\n                reloadAdministrador, \n                setReloadAdministrador,\n                abrirPanelAcceso, \n                setAbrirPanelAcceso,\n                reloadCancelarVenta, \n                setReloadCancelarVenta,\n                reloadVerPrecios, \n                setReloadVerPrecios,\n                reloadVerPreCorte, \n                setReloadVerPreCorte,\n                reloadEliminarVentaEspera, \n                setReloadEliminarVentaEspera,\n                reloadCrearCotizacion, \n                setReloadCrearCotizacion\n            }\n        }>\n\t\t\t{children}\n\t\t</AccesosContext.Provider>\n\t);\n};","import React, { useContext, useEffect, useState } from 'react'\nimport { Box, Button, Dialog, DialogActions, DialogContent, Grid, Slide, Typography } from '@material-ui/core'\nimport CloseIcon from '@material-ui/icons/Close';\nimport moment from 'moment';\nimport useStyles from '../styles';\nimport 'moment/locale/es';\nimport { useQuery } from '@apollo/client';\nimport { OBTENER_PRE_CORTE_CAJA } from '../../../gql/Cajas/cajas';\nimport { AccesosContext } from '../../../context/Accesos/accesosCtx';\nmoment.locale('es');\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n    return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function PreCorteCaja() {\n    const turnoEnCurso = JSON.parse(localStorage.getItem('turnoEnCurso'));\n    const sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\n    const { \n\t\treloadVerPreCorte, \n        setReloadVerPreCorte,\n\t\tsetAbrirPanelAcceso,\n        abrirPanelAcceso,\n\t\tsetDepartamentos\n\t} = useContext(AccesosContext);\n\n    const input = { \n        horario_en_turno: \"ABRIR TURNO\",\n        id_caja: turnoEnCurso ? turnoEnCurso.id_caja : \"\",\n        id_usuario: sesion._id,\n        token_turno_user: turnoEnCurso ? turnoEnCurso.token_turno_user : \"\"\n    };\n\n    const { data, refetch} = useQuery(OBTENER_PRE_CORTE_CAJA, {\n        variables: { empresa: sesion.empresa._id, sucursal: sesion.sucursal._id, input: input},\n    });\n\n    const classes = useStyles();\n    const [open, setOpen] = useState(false);\n\n    const handleClickOpen = () => { \n        if(sesion.accesos.ventas.pre_corte.ver === true){\n\t\t\tsetOpen(!open);\n        }else{\n            setAbrirPanelAcceso(!abrirPanelAcceso);\n            setDepartamentos({departamento: 'ventas', subDepartamento: 'pre_corte', tipo_acceso: 'ver'})\n        }\n\t};\n\n    useEffect(() => {\n\t\tif (reloadVerPreCorte === true) {\t\n            setOpen(!open);\n\t\t\tsetReloadVerPreCorte(false);\n\t\t}\n\t}, [reloadVerPreCorte]);\n    \n    if(!data) return null;\n\n    window.addEventListener('keydown', Mi_función); \n    function Mi_función(e){\n        if(e.altKey && e.keyCode === 79){ \n            handleClickOpen();\n            refetch();\n        } \n    };\n\n    return (\n        <>\n            <Button\n                onClick={() =>{\n                    handleClickOpen()\n                    refetch()\n                }}\n                style={{textTransform: 'none', height: '100%', width: '60%'}}\n            >\n                <Box display=\"flex\" flexDirection=\"column\">\n                    <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n                        <img \n                            src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/ventas/cash-register.svg' \n                            alt=\"icono caja\" \n                            style={{width: 20}}\n                        />\n                    </Box>\n                    <Box>\n                        <Typography variant=\"body2\" >\n                            <b>Pre corte caja</b>\n                        </Typography>\n                    </Box>\n                    <Box>\n                        <Typography variant=\"caption\" style={{color: '#808080'}} >\n                            <b>Alt + O</b>\n                        </Typography>\n                    </Box>\n                </Box>\n            </Button>\t\n\n            <Dialog\n\t\t\t\tmaxWidth='lg'\n\t\t\t\topen={open} \n\t\t\t\tonClose={() => setOpen(!open)} \n\t\t\t\tTransitionComponent={Transition}\n\t\t\t>\n                <DialogContent>\n                    <Grid container>\n                        <Grid item lg={10}>\n                            <Box\n                                display=\"flex\" \n                                alignItems=\"center\"\n                            >\n                                <Box>\n                                    <img src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/ventas/cash-register.svg' alt=\"icono caja\" className={classes.iconSizeDialogs} />\n                                </Box>\n                                <Box ml={2}>\n                                    <Box textAlign=\"left\">\n                                        <Typography variant=\"h6\">\n                                            Pre-Corte de Caja\n                                        </Typography>\n                                    </Box>\n                                    <Box display=\"flex\">\n                                        <Box textAlign=\"right\">\n                                            <Typography variant=\"caption\">\n                                                {moment().format('MM/DD/YYYY')}\n                                            </Typography>\n                                        </Box>\n                                        <Box textAlign=\"right\" ml={2}>\n                                            <Typography variant=\"caption\">\n                                                <b>{moment().format('h:mm')} hrs.</b>\n                                            </Typography>\n                                        </Box>\n                                    </Box>\n                                </Box>\n                            </Box>\n                        </Grid>\n                        <Grid item lg={2}>\n                            <Box ml={4} display=\"flex\" alignItems=\"center\" justifyContent=\"flex-end\">\n                                <Button variant=\"contained\" color=\"secondary\" onClick={() => setOpen(!open)} size=\"large\">\n                                    <CloseIcon />\n                                </Button>\n                            </Box>\n                        </Grid>\n                    </Grid>\n                    <Grid>\n                        <Box p={2}>\n                        {sesion.turno_en_caja_activo === true && turnoEnCurso ? (\n                            <>\n                                <Box>\n                                    <Typography variant=\"subtitle1\"> \n                                        <b>Usuario: </b> {sesion.nombre}\n                                    </Typography>\n                                </Box>\n                                <Box>\n                                    <Typography variant=\"subtitle1\"> \n                                        <b>Caja: </b> {turnoEnCurso ? turnoEnCurso.numero_caja : ''}\n                                    </Typography>\n                                </Box>\n                                <Box>\n                                    <Typography variant=\"subtitle1\"> \n                                        <b>Fecha y hora al precorte: </b> \n                                    </Typography>\n                                    <Typography variant=\"subtitle1\"> \n                                        {moment().format('MMMM D YYYY, h:mm:ss a')}\n                                    </Typography>\n                                </Box>\n                                <Box textAlign=\"center\" p={2}>\n                                    <Typography variant=\"h6\"> \n                                        <b>Monto total en efectivo: </b> \n                                    </Typography>\n                                    <Typography variant=\"h3\" style={{color: \"green\"}}> \n                                        <b>${data?.obtenerPreCorteCaja?.monto_efectivo_precorte}</b> \n                                    </Typography>\n                                </Box>\n                            </>\n                        ) : (\n                            <Box textAlign=\"center\" p={2}>\n                                <Typography variant=\"h6\"> \n                                    <b>Por el momento no hay un turno en sesión</b> \n                                </Typography>\n                            </Box>\n                        )}\n                        </Box>\n                    </Grid>\n                </DialogContent>\n                \n                <DialogActions>\n                    {sesion.turno_en_caja_activo === true && turnoEnCurso ? (\n                        <Button \n                            onClick={() => setOpen(!open)} \n                            color=\"primary\"\n                            variant=\"contained\"\n                            size=\"large\"\n                            autoFocus\n                        >\n                            Imprimir\n                        </Button>\n                    ) : null }\n                </DialogActions>\n\n            </Dialog>\n        </>\n    )\n}","import React, { useContext, useState } from 'react';\nimport { Box, Button, Dialog, DialogActions, \n        DialogContent, Divider, Grid, \n        Slide, Typography \n    } from '@material-ui/core'\nimport { FcExpired } from 'react-icons/fc';\nimport moment from 'moment';\nimport 'moment/locale/es';\nimport { VentasContext } from '../../../context/Ventas/ventasContext';\nmoment.locale('es');\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function VentaEnEspera() {\n    const { updateTablaVentas, setUpdateTablaVentas } = useContext(VentasContext);\n\n    const [open, setOpen] = useState(false);\n\n    const handleClickOpen = () => { \n\t\tsetOpen(!open);\n\t};\n\n    window.addEventListener('keydown', Mi_función); \n    function Mi_función(e){\n        if(e.altKey && e.keyCode === 69){ \n            handleClickOpen();\n        } \n    };\n\n    const agregarVentaEnEspera = () => {\n        let VentaEnEspera = JSON.parse(localStorage.getItem(\"DatosVentas\"));\n        let datos = localStorage.getItem(\"ListaEnEspera\");\n        if(VentaEnEspera !== null){\n            if(datos === null){\n                localStorage.setItem('ListaEnEspera', JSON.stringify([{VentaEnEspera, fecha: moment().format('MM/DD/YYYY') }]));\n                localStorage.removeItem('DatosVentas');\n                setUpdateTablaVentas(!updateTablaVentas);\n            }else{\n                let data = JSON.parse(datos);\n                data.push({VentaEnEspera, fecha: moment().format('MM/DD/YYYY') });\n                localStorage.setItem(\"ListaEnEspera\", JSON.stringify(data));\n                localStorage.removeItem('DatosVentas');\n                setUpdateTablaVentas(!updateTablaVentas);\n            }\n        }\n    };\n\n    return (\n        <>\n           <Button\n                onClick={() => agregarVentaEnEspera()} \n                style={{textTransform: 'none', height: '100%', width: '60%'}}\n            >\n                <Box display=\"flex\" flexDirection=\"column\">\n                    <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n                        <FcExpired style={{fontSize: 25}} />\n                    </Box>\n                    <Box>\n                        <Typography variant=\"body2\" >\n                            <b>En espera</b>\n                        </Typography>\n                    </Box>\n                    <Box>\n                        <Typography variant=\"caption\" style={{color: '#808080'}} >\n                            <b>Alt + E</b>\n                        </Typography>\n                    </Box>\n                </Box>\n            </Button>\n\n            <Dialog\n\t\t\t\tmaxWidth='lg'\n\t\t\t\topen={open} \n\t\t\t\tonClose={handleClickOpen} \n\t\t\t\tTransitionComponent={Transition}\n\t\t\t>\n                <DialogContent>\n                    <Grid container item lg={12}>\n                        <Box\n                            display=\"flex\" \n                            textAlign=\"center\" \n                            justifyContent=\"center\" \n                            alignContent=\"center\" \n                            alignSelf=\"center\"\n                            justifySelf=\"center\"\n                        >\n                            <Box>\n                                <FcExpired style={{fontSize: 80}} />\n                            </Box>\n                            <Box m={2} >\n                                <Divider orientation=\"vertical\" />\n                            </Box>\n                            <Box mt={3}>\n                                <Typography variant=\"h5\">\n                                    Venta pasada a espera\n                                </Typography>\n                            </Box>\n                        </Box>\n                    </Grid>\n                </DialogContent>\n                <DialogActions>\n                    <Button \n                        onClick={() =>{handleClickOpen();}}\n                        variant=\"contained\" \n                        color=\"primary\"\n                        size=\"large\"\n                    >\n                        Aceptar\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        </>\n    )\n}\n","import React, { Fragment, useContext } from \"react\";\n\nimport {\n  Box,\n  Button,\n  Checkbox,\n  Divider,\n  FormControl,\n  FormControlLabel,\n  FormHelperText,\n  InputAdornment,\n  makeStyles,\n  MenuItem,\n  OutlinedInput,\n  Select,\n  TextField,\n  Typography,\n} from \"@material-ui/core\";\nimport { RegProductoContext } from \"../../../context/Catalogos/CtxRegProducto\";\nimport CatalogosProductosSAT from \"../../sucursales/Catalogos/Producto/DatosGenerales/CatalogoProductosSAT\";\n// import RegistroInfoAdidional from '../../sucursales/Catalogos/Producto/PreciosVenta/registrarInfoAdicional';\n\nconst useStyles = makeStyles((theme) => ({\n  formInputFlex: {\n    display: \"flex\",\n    \"& > *\": {\n      margin: `${theme.spacing(1)}px ${theme.spacing(1)}px`,\n    },\n    \"& .obligatorio\": {\n      color: \"red\",\n    },\n  },\n  formInput: {\n    margin: `${theme.spacing(1)}px ${theme.spacing(2)}px`,\n  },\n}));\n\nexport default function RegistroInformacionRapido({\n  setAbrirTallaColor,\n  setCantidad,\n  cantidad,\n  obtenerConsultasProducto,\n  refetch,\n}) {\n  const {\n    datos_generales,\n    precios,\n    setPrecios,\n    setDatosGenerales,\n    validacion,\n  } = useContext(RegProductoContext);\n  const {\n    unidadVentaXDefecto,\n    setUnidadVentaXDefecto,\n    setUnidadVentaSecundaria,\n    unidadVentaSecundaria,\n    update,\n  } = useContext(RegProductoContext);\n\n  const obtenerCampos = (e) => {\n    if (e.target.name === \"codigo_barras\") {\n      setUnidadVentaXDefecto({\n        ...unidadVentaXDefecto,\n        codigo_barras: e.target.value,\n      });\n    }\n    setDatosGenerales({\n      ...datos_generales,\n      [e.target.name]: e.target.value,\n    });\n\n    if (e.target.value === \"CALZADO\" || e.target.value === \"ROPA\") {\n      setAbrirTallaColor(true);\n    }\n  };\n\n  const checkFarmacia = (e) => {\n    setDatosGenerales({\n      ...datos_generales,\n      receta_farmacia: e.target.checked,\n    });\n  };\n\n  const obtenerChecks = (e) => {\n    if (e.target.name === \"granel\" && e.target.checked) {\n      setPrecios({\n        ...precios,\n        [e.target.name]: e.target.checked,\n        inventario: {\n          ...precios.inventario,\n          unidad_de_inventario: \"Kg\",\n          codigo_unidad: \"KGM\",\n        },\n        unidad_de_compra: {\n          ...precios.unidad_de_compra,\n          unidad: \"Kg\",\n          codigo_unidad: \"KGM\",\n        },\n      });\n      setUnidadVentaXDefecto({\n        ...unidadVentaXDefecto,\n        unidad: \"Kg\",\n        codigo_unidad: \"KGM\",\n      });\n      setUnidadVentaSecundaria({\n        ...unidadVentaSecundaria,\n        unidad: \"Costal\",\n        codigo_unidad: \"KGM\",\n      });\n    } else {\n      setPrecios({\n        ...precios,\n        [e.target.name]: e.target.checked,\n        inventario: {\n          ...precios.inventario,\n          unidad_de_inventario: \"Pz\",\n          codigo_unidad: \"H87\",\n        },\n        unidad_de_compra: {\n          ...precios.unidad_de_compra,\n          unidad: \"Pz\",\n          codigo_unidad: \"H87\",\n        },\n      });\n      setUnidadVentaXDefecto({\n        ...unidadVentaXDefecto,\n        unidad: \"Pz\",\n        codigo_unidad: \"H87\",\n      });\n      setUnidadVentaSecundaria({\n        ...unidadVentaSecundaria,\n        unidad: \"Caja\",\n        codigo_unidad: \"XBX\",\n      });\n    }\n  };\n\n  const GenCodigoBarras = () => {\n    const max = 999999999999;\n    const min = 100000000000;\n    const codigo_barras = Math.floor(\n      Math.random() * (max - min + 1) + min\n    ).toString();\n    setDatosGenerales({\n      ...datos_generales,\n      codigo_barras,\n    });\n    setUnidadVentaXDefecto({\n      ...unidadVentaXDefecto,\n      codigo_barras,\n    });\n  };\n\n  const classes = useStyles();\n\n  return (\n    <Fragment>\n      <Box>\n        <Typography>\n          <b>Información General</b>\n        </Typography>\n      </Box>\n      <Divider />\n      <div className={classes.formInputFlex}>\n        <Box width=\"100%\">\n          <FormControl\n            variant=\"outlined\"\n            size=\"small\"\n            name=\"codigo_barras\"\n            fullWidth\n          >\n            <Typography>Código de barras</Typography>\n            <OutlinedInput\n              disabled={update && datos_generales.codigo_barras}\n              style={{ padding: 0 }}\n              id=\"form-producto-codigo-barras\"\n              name=\"codigo_barras\"\n              value={\n                datos_generales.codigo_barras\n                  ? datos_generales.codigo_barras\n                  : \"\"\n              }\n              onChange={obtenerCampos}\n              endAdornment={\n                <InputAdornment position=\"end\">\n                  <Button\n                    disabled={update && datos_generales.codigo_barras}\n                    onClick={() => GenCodigoBarras()}\n                    /* edge=\"end\" */\n                    color=\"primary\"\n                    variant=\"outlined\"\n                    size=\"large\"\n                  >\n                    Generar\n                  </Button>\n                </InputAdornment>\n              }\n            />\n          </FormControl>\n        </Box>\n        <Box width=\"100%\">\n          <Typography>\n            <span className=\"obligatorio\">* </span>Clave alterna\n          </Typography>\n          <TextField\n            fullWidth\n            size=\"small\"\n            error={validacion.error && !datos_generales.clave_alterna}\n            name=\"clave_alterna\"\n            id=\"form-producto-clave-alterna\"\n            variant=\"outlined\"\n            value={\n              datos_generales.clave_alterna ? datos_generales.clave_alterna : \"\"\n            }\n            helperText={validacion.message}\n            onChange={obtenerCampos}\n          />\n        </Box>\n\n        <Box width=\"100%\">\n          <Typography>\n            <span className=\"obligatorio\">* </span>Nombre comercial\n          </Typography>\n          <TextField\n            fullWidth\n            size=\"small\"\n            error={validacion.error && !datos_generales.nombre_comercial}\n            name=\"nombre_comercial\"\n            id=\"form-producto-nombre-comercial\"\n            variant=\"outlined\"\n            value={\n              datos_generales.nombre_comercial\n                ? datos_generales.nombre_comercial\n                : \"\"\n            }\n            helperText={validacion.message}\n            onChange={obtenerCampos}\n          />\n        </Box>\n        <Box width=\"100%\">\n          <CatalogosProductosSAT\n            refetch={refetch}\n            codigos={obtenerConsultasProducto.codigos}\n          />\n        </Box>\n      </div>\n      <div className={classes.formInputFlex}>\n        <Box width=\"100%\">\n          <Typography>\n            <span className=\"obligatorio\">* </span>Nombre genérico\n          </Typography>\n          <TextField\n            fullWidth\n            size=\"small\"\n            error={validacion.error && !datos_generales.nombre_generico}\n            name=\"nombre_generico\"\n            id=\"form-producto-nombre-generico\"\n            variant=\"outlined\"\n            value={\n              datos_generales.nombre_generico\n                ? datos_generales.nombre_generico\n                : \"\"\n            }\n            helperText={validacion.message}\n            onChange={obtenerCampos}\n          />\n        </Box>\n        <Box width=\"60%\">\n          <Typography>\n            <span className=\"obligatorio\">* </span>Tipo de producto\n          </Typography>\n          <FormControl\n            variant=\"outlined\"\n            fullWidth\n            size=\"small\"\n            error={validacion.error && !datos_generales.tipo_producto}\n          >\n            <Select\n              id=\"form-producto-tipo\"\n              name=\"tipo_producto\"\n              value={\n                datos_generales.tipo_producto\n                  ? datos_generales.tipo_producto\n                  : \"\"\n              }\n              onChange={obtenerCampos}\n            >\n              <MenuItem value=\"\">\n                <em>Selecciona uno</em>\n              </MenuItem>\n              <MenuItem value=\"ROPA\">Ropa</MenuItem>\n              <MenuItem value=\"CALZADO\">Calzado</MenuItem>\n              <MenuItem value=\"OTROS\">Otros</MenuItem>\n            </Select>\n            <FormHelperText>{validacion.message}</FormHelperText>\n          </FormControl>\n        </Box>\n        {datos_generales.tipo_producto === \"OTROS\" ? (\n          <>\n            <Box width=\"50%\">\n              <Typography>\n                <span className=\"obligatorio\">* </span>Cantidad\n              </Typography>\n              <TextField\n                fullWidth\n                size=\"small\"\n                error={validacion.error && !cantidad}\n                name=\"cantidad\"\n                type=\"number\"\n                id=\"form-producto-nombre-generico\"\n                variant=\"outlined\"\n                value={cantidad ? cantidad : \"\"}\n                helperText={validacion.message}\n                onChange={(e) => setCantidad(parseInt(e.target.value))}\n              />\n            </Box>\n            <Box width=\"80%\">\n              <Typography>Granel</Typography>\n              <FormControlLabel\n                control={<Checkbox onChange={obtenerChecks} name=\"granel\" />}\n                label=\"Vender a granel\"\n              />\n            </Box>\n            <Box width=\"80%\">\n              <Typography>Medicamento</Typography>\n              <FormControlLabel\n                control={\n                  <Checkbox\n                    // checked={datos_generales.receta_farmacia ? datos_generales.receta_farmacia : false}\n                    onChange={checkFarmacia}\n                    name=\"receta_farmacia\"\n                  />\n                }\n                label=\"Necesita receta\"\n                name=\"receta_farmacia\"\n              />\n            </Box>\n          </>\n        ) : null}\n      </div>\n    </Fragment>\n  );\n}\n","import React, { useContext, useRef, useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Input from '@material-ui/core/Input';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport { RegProductoContext } from '../../../../context/Catalogos/CtxRegProducto';\nimport { Box, Chip, IconButton, Tooltip, Zoom } from '@material-ui/core';\nimport { Cached, Close, Edit } from '@material-ui/icons';\nimport { fade } from '@material-ui/core/styles/colorManipulator';\n\nconst compareFunction = (a, b) => {\n\tif (a.medida.talla && b.medida.talla) {\n\t\treturn a.medida.talla.localeCompare(b.medida.talla);\n\t}\n};\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n\t\twidth: '100%'\n\t},\n\tpaper: {\n\t\twidth: '100%',\n\t\tmarginBottom: theme.spacing(2)\n\t},\n\ttable: {\n\t\tminWidth: 750\n\t},\n\tcontainer: {\n\t\tmaxHeight: '65vh'\n\t},\n\ttableRow: {\n\t\t'&.Mui-selected, &.Mui-selected:hover': {\n\t\t\tbackgroundColor: fade(theme.palette.primary.main, 0.1)\n\t\t}\n\t},\n\tvisuallyHidden: {\n\t\tborder: 0,\n\t\tclip: 'rect(0 0 0 0)',\n\t\theight: 1,\n\t\tmargin: -1,\n\t\toverflow: 'hidden',\n\t\tpadding: 0,\n\t\tposition: 'absolute',\n\t\ttop: 20,\n\t\twidth: 1\n\t},\n\tcolorContainer: {\n\t\tborder: '1px solid rgba(0,0,0, .3)',\n\t\theight: 30,\n\t\twidth: 30,\n\t\tborderRadius: '15%'\n\t}\n}));\n\nexport default function TablaPresentaciones({ from, setOnUpdate, onUpdate }) {\n\tconst classes = useStyles();\n\tconst { presentaciones } = useContext(RegProductoContext);\n\n\tlet mostrar_presentaciones = [ ...presentaciones ].sort((a, b) => compareFunction(a, b));\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Paper className={classes.paper}>\n\t\t\t\t<TableContainer className={classes.container}>\n\t\t\t\t\t<Table\n\t\t\t\t\t\tclassName={classes.table}\n\t\t\t\t\t\taria-labelledby=\"tableTitle\"\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\taria-label=\"enhanced table\"\n\t\t\t\t\t\tstickyHeader\n\t\t\t\t\t>\n\t\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t<TableCell>Existencia</TableCell>\n\t\t\t\t\t\t\t\t<TableCell>Código de barras</TableCell>\n\t\t\t\t\t\t\t\t<TableCell width={200}>Nombre</TableCell>\n\t\t\t\t\t\t\t\t<TableCell padding=\"checkbox\">Medida</TableCell>\n\t\t\t\t\t\t\t\t<TableCell padding=\"checkbox\">Color</TableCell>\n\t\t\t\t\t\t\t\t<TableCell>Precio</TableCell>\n\t\t\t\t\t\t\t\t{from && from === 'compra' ? (\n\t\t\t\t\t\t\t\t\t<TableCell padding=\"checkbox\">Existente</TableCell>\n\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t\t<TableCell padding=\"checkbox\">Cantidad</TableCell>\n\t\t\t\t\t\t\t\t<TableCell padding=\"checkbox\">Editar</TableCell>\n\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t</TableHead>\n\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t{mostrar_presentaciones.map((producto, index) => {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<RenderPresentacionesRows\n\t\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\t\tproducto={producto}\n\t\t\t\t\t\t\t\t\t\tindex={index}\n\t\t\t\t\t\t\t\t\t\tfrom={from}\n\t\t\t\t\t\t\t\t\t\tsetOnUpdate={setOnUpdate}\n\t\t\t\t\t\t\t\t\t\tonUpdate={onUpdate}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t</Table>\n\t\t\t\t</TableContainer>\n\t\t\t</Paper>\n\t\t</div>\n\t);\n};\n\nconst RenderPresentacionesRows = ({ producto, index,  from, setOnUpdate, onUpdate }) => {\n\tconst { presentaciones, setPresentaciones, preciosP, precios } = useContext(RegProductoContext);\n\tconst [ disabledInput, setDisabledInput ] = useState(true);\n\tconst classes = useStyles();\n\tconst textfield = useRef(null);\n\n\tconst copy_presentaciones = [...presentaciones].sort((a, b) => compareFunction(a, b))\n\tconst copy_element_presentacion = { ...copy_presentaciones[index] };\n\tconst copy_producto = { ...producto };\n\n\tif(from && from === 'compra'){\n\t\tcopy_producto.cantidad = 0\n\t}\n\t\n\tconst handleEditCancel = () => {\n\t\tif (!copy_producto.cantidad) {\n\t\t\tcopy_element_presentacion.cantidad = 0;\n\t\t}\n\t\tif (!copy_producto.precio) {\n\t\t\tcopy_element_presentacion.precio = preciosP[0].precio_neto;\n\t\t}\n\t\tcopy_presentaciones.splice(index, 1, copy_element_presentacion);\n\t\tsetPresentaciones(copy_presentaciones);\n\t\tsetDisabledInput(true);\n\t};\n\n\tconst obtenerDatos = (event) => {\n\t\tconst {value, name }= event.target;\n\t\tconsole.log(name)\n\t\tif (name === 'cantidad') {\n\t\t\tif (!value) {\n\t\t\t\tcopy_element_presentacion.cantidad = '';\n\t\t\t\tcopy_element_presentacion.existencia = false;\n\t\t\t\tcopy_presentaciones.splice(index, 1, copy_element_presentacion);\n\t\t\t\tsetPresentaciones(copy_presentaciones);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tcopy_element_presentacion.cantidad = parseFloat(value);\n\t\t\tcopy_element_presentacion.existencia = true;\n\t\t} else if (name === 'precio') {\n\t\t\tlet { iva, ieps } = precios;\n\t\t\tif (!value) {\n\t\t\t\tcopy_element_presentacion.precio = '';\n\t\t\t\tcopy_presentaciones.splice(index, 1, copy_element_presentacion);\n\t\t\t\tsetPresentaciones(copy_presentaciones);\n\t\t\t\treturn;\n\t\t\t};\n\t\t\tlet precio_neto = parseFloat(value);\n\t\t\tlet varIVA = (iva < 10 ? `0${iva}` : iva);\n\t\t\tlet varIEPS = (ieps < 10 ? `0${ieps}` : ieps);\n\n\t\t\tlet suma_impuestos = parseFloat(`0.${varIVA}`) + parseFloat(`0.${varIEPS}`);\n\t\t\tlet precio_venta = parseFloat((precio_neto / (suma_impuestos+1)).toFixed(2));\n\t\t\tlet iva_precio = parseFloat((precio_venta * parseFloat(`0.${varIVA}`)).toFixed(2));\n\t\t\tlet ieps_precio = parseFloat((precio_venta * parseFloat(`0.${varIEPS}`)).toFixed(2));\n\t\t\tlet PUCSI = precios.unidad_de_compra.precio_unitario_sin_impuesto;\n\t\t\tlet utilidad = parseFloat((((precio_venta - PUCSI) / PUCSI) * 100).toFixed(2));\n\t\t\tcopy_element_presentacion.precio_unidad.precio_venta = precio_venta;\n\t\t\tcopy_element_presentacion.precio_unidad.precio_neto = precio_neto;\n\t\t\tcopy_element_presentacion.precio_unidad.utilidad = utilidad;\n\t\t\tcopy_element_presentacion.precio_unidad.iva_precio = iva_precio;\n\t\t\tcopy_element_presentacion.precio_unidad.ieps_precio = ieps_precio;\n\t\t\t\n\t\t\tcopy_element_presentacion.precio = parseFloat(value);\n\t\t} else {\n\t\t\tif (!value) {\n\t\t\t\tcopy_element_presentacion.codigo_barras = '';\n\t\t\t\tcopy_presentaciones.splice(index, 1, copy_element_presentacion);\n\t\t\t\tsetPresentaciones(copy_presentaciones);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tcopy_element_presentacion.codigo_barras = value;\n\t\t}\n\t\tcopy_presentaciones.splice(index, 1, copy_element_presentacion);\n\t\tsetPresentaciones(copy_presentaciones);\n\t};\n\n\tconst GenCodigoBarras = () => {\n\t\tconst max = 999999999999;\n\t\tconst min = 100000000000;\n\t\tconst codigo_barras = Math.floor(Math.random() * (max - min + 1) + min).toString();\n\t\tcopy_element_presentacion.codigo_barras = codigo_barras;\n\t\tcopy_presentaciones.splice(index, 1, copy_element_presentacion);\n\t\tsetPresentaciones(copy_presentaciones);\n\t};\n\n\tconst actionButton = () => {\n\t\tif (!disabledInput) {\n\t\t\thandleEditCancel();\n\t\t\t/* quitar del array\t */\n\t\t\tonUpdate.splice(onUpdate.length - 1, 1);\n\t\t\tsetOnUpdate([ ...onUpdate ]);\n\t\t} else {\n\t\t\tsetDisabledInput(!disabledInput);\n\t\t\t/*  agregar al array */\n\t\t\tsetOnUpdate([ ...onUpdate, index ]);\n\t\t}\n\t};\n\n\treturn (\n\t\t<TableRow hover selected={!disabledInput} className={classes.tableRow}>\n\t\t\t<TableCell align=\"center\">\n\t\t\t\t<Checkbox checked={copy_producto.existencia} color=\"primary\" />\n\t\t\t</TableCell>\n\t\t\t<TableCell width={220}>\n\t\t\t\t<Box display=\"flex\">\n\t\t\t\t\t<Input\n\t\t\t\t\t\tinputRef={textfield}\n\t\t\t\t\t\tonChange={(e) => obtenerDatos(e)}\n\t\t\t\t\t\t/* disabled={disabledInput} */\n\t\t\t\t\t\tvalue={copy_producto.codigo_barras}\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\tname=\"precio\"\n\t\t\t\t\t\tdisabled={!copy_producto.nuevo ? true : disabledInput}\n\t\t\t\t\t/>\n\t\t\t\t\t{ copy_producto.nuevo ? (\n\t\t\t\t\t\t<IconButton color=\"primary\" size=\"small\" onClick={() => GenCodigoBarras()}>\n\t\t\t\t\t\t\t<Cached />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t) :  copy_producto.nuevo ? (\n\t\t\t\t\t\t<IconButton color=\"primary\" size=\"small\" onClick={() => GenCodigoBarras()}>\n\t\t\t\t\t\t\t<Cached />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t) : null}\n\t\t\t\t</Box>\n\t\t\t</TableCell>\n\t\t\t<TableCell width={200}>{copy_producto.nombre_comercial}</TableCell>\n\t\t\t<TableCell padding=\"checkbox\">\n\t\t\t\t{copy_producto.medida._id ? <Chip label={copy_producto.medida.talla} color=\"primary\" /> : ''}\n\t\t\t</TableCell>\n\t\t\t<TableCell padding=\"checkbox\">\n\t\t\t\t{copy_producto.color._id ? (\n\t\t\t\t\t<Tooltip title={copy_producto.color.nombre} placement=\"top\" arrow TransitionComponent={Zoom}>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName={classes.colorContainer}\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\tbackgroundColor: copy_producto.color.hex\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Tooltip>\n\t\t\t\t) : null}\n\t\t\t</TableCell>\n\t\t\t<TableCell width={110}>\n\t\t\t\t<Input\n\t\t\t\t\tinputRef={textfield}\n\t\t\t\t\tonChange={(e) => obtenerDatos(e)}\n\t\t\t\t\tdisabled={disabledInput}\n\t\t\t\t\tvalue={copy_producto.precio}\n\t\t\t\t\ttype=\"tel\"\n\t\t\t\t\tname=\"precio\"\n\t\t\t\t/>\n\t\t\t</TableCell>\n\t\t\t{from && from === 'compra' ? (\n\t\t\t\t<TableCell padding=\"checkbox\">\n\t\t\t\t{producto.cantidad}\n\t\t\t</TableCell>\n\t\t\t) : null}\n\t\t\t<TableCell padding=\"checkbox\">\n\t\t\t\t<Input\n\t\t\t\t\tinputRef={textfield}\n\t\t\t\t\tonChange={(e) => obtenerDatos(e)}\n\t\t\t\t\tdisabled={disabledInput}\n\t\t\t\t\tvalue={copy_producto.cantidad}\n\t\t\t\t\ttype=\"tel\"\n\t\t\t\t\tname=\"cantidad\"\n\t\t\t\t/>\n\t\t\t</TableCell>\n\t\t\t<TableCell padding=\"checkbox\">\n\t\t\t\t<IconButton size=\"small\" onClick={() => actionButton()}>\n\t\t\t\t\t{!disabledInput ? <Close /> : <Edit />}\n\t\t\t\t</IconButton>\n\t\t\t</TableCell>\n\t\t</TableRow>\n\t);\n};\n","import React, { useContext, useState,  useEffect, useCallback } from 'react';\nimport { Typography, Divider, Tooltip, } from '@material-ui/core';\nimport { Box,Grid } from '@material-ui/core';\nimport { makeStyles, useTheme } from '@material-ui/core';\nimport Zoom from '@material-ui/core/Zoom';\n\nimport { Done } from '@material-ui/icons';\nimport TablaPresentaciones from './TablaPresentaciones';\nimport { RegProductoContext } from '../../../../context/Catalogos/CtxRegProducto';\n// import { AlmacenProvider } from '../../../../context/Almacenes/crearAlmacen';\n// import ContainerRegistroAlmacen from '../../../sucursales/Almacenes/RegistroAlmacen/ContainerRegistroAlmacen';\nimport CrearColorProducto from '../../../sucursales/Catalogos/Producto/TallasColores/crearColor';\nimport CrearTallasProducto from '../../../sucursales/Catalogos/Producto/TallasColores/crearTalla';\n\nconst useStyles = makeStyles((theme) => ({\n\tcolorContainer: {\n\t\tborder: '1px solid rgba(0,0,0, .3)',\n\t\tdisplay: 'flex',\n\t\tjustifyContent: 'center',\n\t\talignItems: 'center',\n\t\theight: 50,\n\t\twidth: 50,\n\t\tmargin: 1,\n\t\tborderRadius: '15%',\n\t\tcursor: 'pointer'\n\t}\n}));\n\nconst GenCodigoBarras = () => {\n\treturn Math.floor(Math.random() * (999999999999 - 100000000000 + 1) + 100000000000).toString();\n};\n\nexport default function TallasColoresRapidos({ \n\tobtenerConsultasProducto, \n\trefetch, \n\tdatos, \n\tfrom\n}) {\n\tconst {\n\t\t// almacen_inicial,\n\t\t// setAlmacenInicial,\n\t\tpresentaciones,\n\t\tdatos_generales,\n\t} = useContext(RegProductoContext);\n\tconst { colores, tallas, calzados } = obtenerConsultasProducto;\n\tconst [ medidasSeleccionadas, setMedidasSeleccionadas ] = useState([]);\n\tconst [ coloresSeleccionados, setColoresSeleccionados ] = useState([]);\n\tconst medidas = datos_generales.tipo_producto === 'ROPA' ? [ ...tallas ] : [ ...calzados ];\n\tconst [ onUpdate, setOnUpdate ] = useState([]);\n\n\tconst obtenerColoresSeleccinados = useCallback(\n\t\t() => {\n\t\t\tlet colors = [];\n\t\t\tlet medidas = [];\n\t\t\tconst copy_presentaciones = [ ...presentaciones ];\n\n\t\t\tcopy_presentaciones.forEach((element) => {\n\t\t\t\tif (element.color._id) colors.push(element.color);\n\t\t\t\tif (element.medida._id) medidas.push(element.medida);\n\t\t\t});\n\n\t\t\tvar hashColor = {};\n\t\t\tvar hashMedida = {};\n\t\t\tconst colores_existentes = colors.filter((color) => {\n\t\t\t\tvar existColor = !hashColor[color._id];\n\t\t\t\thashColor[color._id] = true;\n\t\t\t\treturn existColor;\n\t\t\t});\n\t\t\tconst medidas_existentes = medidas.filter((medida) => {\n\t\t\t\tvar existMedida = !hashMedida[medida._id];\n\t\t\t\thashMedida[medida._id] = true;\n\t\t\t\treturn existMedida;\n\t\t\t});\n\n\t\t\tsetColoresSeleccionados([ ...colores_existentes ]);\n\t\t\tsetMedidasSeleccionadas([ ...medidas_existentes ]);\n\t\t},\n\t\t[ presentaciones ]\n\t);\n\n\t// const obtenerAlmacenes = (event, child) => {\n\t// \tsetAlmacenInicial({\n\t// \t\t...almacen_inicial,\n\t// \t\t[event.target.name]: event.target.value,\n\t// \t\t[child.props.name]: child.props.id\n\t// \t});\n\t// };\n\n\tuseEffect(\n\t\t() => {\n\t\t\tobtenerColoresSeleccinados();\n\t\t},\n\t\t[ obtenerColoresSeleccinados ]\n\t);\n\n\treturn (\n\t\t<div>\n\t\t\t<Grid container spacing={2}>\n\t\t\t\t<Grid item md={9}>\n\t\t\t\t\t<TablaPresentaciones from={from} setOnUpdate={setOnUpdate} onUpdate={onUpdate} />\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item md={3}>\n\t\t\t\t\t<Box\n\t\t\t\t\t\twidth=\"100%\"\n\t\t\t\t\t\tmy={2}\n\t\t\t\t\t\tstyle={\n\t\t\t\t\t\t\tonUpdate.length > 0 ? (\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tpointerEvents: 'none',\n\t\t\t\t\t\t\t\t\topacity: 0.4\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t) : null\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Typography>{datos_generales.tipo_producto === 'ROPA' ? 'Talla' : 'Número'}</Typography>\n\t\t\t\t\t\t<CrearTallasProducto setMedidasSeleccionadas={setMedidasSeleccionadas} refetch={refetch} />\n\t\t\t\t\t\t<Grid container>\n\t\t\t\t\t\t\t{medidas.map((talla, index) => (\n\t\t\t\t\t\t\t\t<RenderTallas\n\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\ttalla={talla}\n\t\t\t\t\t\t\t\t\tcoloresSeleccionados={coloresSeleccionados}\n\t\t\t\t\t\t\t\t\tmedidasSeleccionadas={medidasSeleccionadas}\n\t\t\t\t\t\t\t\t\tsetMedidasSeleccionadas={setMedidasSeleccionadas}\n\t\t\t\t\t\t\t\t\t// datos={datos}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Divider />\n\t\t\t\t\t<Box\n\t\t\t\t\t\twidth=\"100%\"\n\t\t\t\t\t\tmt={1}\n\t\t\t\t\t\tstyle={\n\t\t\t\t\t\t\tonUpdate.length > 0 ? (\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tpointerEvents: 'none',\n\t\t\t\t\t\t\t\t\topacity: 0.4\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t) : null\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Typography>Color</Typography>\n\t\t\t\t\t\t<CrearColorProducto refetch={refetch} />\n\t\t\t\t\t\t<Grid container>\n\t\t\t\t\t\t\t{colores.map((color, index) => (\n\t\t\t\t\t\t\t\t<Colores\n\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\tcolor={color}\n\t\t\t\t\t\t\t\t\tcoloresSeleccionados={coloresSeleccionados}\n\t\t\t\t\t\t\t\t\tsetColoresSeleccionados={setColoresSeleccionados}\n\t\t\t\t\t\t\t\t\tmedidasSeleccionadas={medidasSeleccionadas}\n\t\t\t\t\t\t\t\t\t// datos={datos}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Box>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t</div>\n\t);\n}\n\nconst RenderTallas = ({\n\ttalla,\n\tcoloresSeleccionados,\n\tmedidasSeleccionadas,\n\tsetMedidasSeleccionadas,\n\t// datos\n}) => {\n\tconst classes = useStyles();\n\tconst theme = useTheme();\n\tconst { \n\t\tsetPresentaciones, \n\t\tpresentaciones, \n\t\tdatos_generales, \n\t\tpreciosP, \n\t\tprecios,\n\t\tpresentaciones_eliminadas, \n\t\tsetPresentacionesEliminadas \n\t} = useContext(RegProductoContext);\n\tconst [ selected, setSelected ] = useState(false);\n\n\t// const seleccionarMedidas = useCallback(\n\t// \t() => {\n\t// \t\tmedidasSeleccionadas.forEach((res) => {\n\t// \t\t\tif (res._id === talla._id) setSelected(true);\n\t// \t\t});\n\t// \t},\n\t// \t[ talla._id, medidasSeleccionadas ]\n\t// );\n\n\t// useEffect(\n\t// \t() => {\n\t// \t\tif (datos.medidas_registradas) {\n\t// \t\t\treturn seleccionarMedidas();\n\t// \t\t}\n\t// \t},\n\t// \t[ seleccionarMedidas ]\n\t// );\n\n\n\tconst handleAddTallas = (value) => {\n\t\tconst medidas_seleccionadas_temp = [ ...medidasSeleccionadas ];\n\n\t\tif (!selected) {\n\t\t\tmedidas_seleccionadas_temp.push(talla);\n\t\t\tsetSelected(value);\n\t\t} else {\n\t\t\tmedidas_seleccionadas_temp.forEach((res, index) => {\n\t\t\t\tif (res._id === talla._id) {\n\t\t\t\t\tmedidas_seleccionadas_temp.splice(index, 1);\n\t\t\t\t\tsetSelected(value);\n\t\t\t\t\tpresentaciones.forEach((presentacion) => {\n\t\t\t\t\t\tif(!presentacion.nuevo){\n\t\t\t\t\t\t\tif(presentacion.medida._id === res._id){\n\t\t\t\t\t\t\t\tsetPresentacionesEliminadas([...presentaciones_eliminadas, presentacion])\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t}\n\n\t\tlet presentacion_temp = [];\n\t\tconst array_medidad_finales = [ ...presentaciones ];\n\t\tconst { iva, ieps } = precios;\n\n\t\tif (!coloresSeleccionados.length && !array_medidad_finales.length) {\n\t\t\t/* SI NO HAY COLORES NI VALORES EN EL ARRAY FINAL SE AGREGA EL PRIMER ELEMENTO */\n\t\t\tfor (let i = 0; i < medidas_seleccionadas_temp.length; i++) {\n\t\t\t\tconst producto_medida = medidas_seleccionadas_temp[i];\n\t\t\t\tlet varIVA = (iva < 10 ? `0${iva}` : iva);\n\t\t\t\tlet varIEPS = (ieps < 10 ? `0${ieps}` : ieps);\n\t\t\t\tlet iva_precio = parseFloat(\n\t\t\t\t\t(\n\t\t\t\t\t  preciosP[0].precio_venta *\n\t\t\t\t\t  parseFloat(`0.${varIVA}`)\n\t\t\t\t\t).toFixed(2)\n\t\t\t\t  );\n\t\t\t\t  let ieps_precio = parseFloat(\n\t\t\t\t\t(\n\t\t\t\t\t  preciosP[0].precio_venta *\n\t\t\t\t\t  parseFloat(`0.${varIEPS}`)\n\t\t\t\t\t).toFixed(2)\n\t\t\t\t  );\n\t\t\t\tpresentacion_temp.push({\n\t\t\t\t\t_id: '',\n\t\t\t\t\texistencia: false,\n\t\t\t\t\tcodigo_barras: GenCodigoBarras(),\n\t\t\t\t\tnombre_comercial: datos_generales.nombre_comercial,\n\t\t\t\t\tmedida: producto_medida,\n\t\t\t\t\tcolor: { nombre: '', hex: '' },\n\t\t\t\t\tprecio: preciosP[0].precio_neto,\n\t\t\t\t\tcantidad: 0,\n\t\t\t\t\tnuevo: true,\n\t\t\t\t\tprecio_unidad: {\n\t\t\t\t\t\tnumero_precio: 1,\n\t\t\t\t\t\tprecio_venta: preciosP[0].precio_venta,\n\t\t\t\t\t\tprecio_neto: preciosP[0].precio_neto,\n\t\t\t\t\t\tunidad_mayoreo: 0,\n\t\t\t\t\t\tiva_precio: iva_precio,\n\t\t\t\t\t\tieps_precio: ieps_precio,\n\t\t\t\t\t\tutilidad: preciosP[0].utilidad,\n\t\t\t\t\t\tunidad_maxima: false,\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t}\n\t\t} else if (!coloresSeleccionados.length && array_medidad_finales.length > 0) {\n\t\t\t/* SI NO HAY COLORES REGISTRADOS PERO YA HAY TALLAS SE AGREGAN MAS */\n\t\t\tfor (let i = 0; i < medidas_seleccionadas_temp.length; i++) {\n\t\t\t\tconst producto_medida = medidas_seleccionadas_temp[i];\n\t\t\t\tconst result = array_medidad_finales.filter((res) => res.medida._id === producto_medida._id);\n\t\t\t\tlet varIVA = (iva < 10 ? `0${iva}` : iva);\n\t\t\t\tlet varIEPS = (ieps < 10 ? `0${ieps}` : ieps);\n\n\t\t\t\tlet iva_precio = parseFloat(\n\t\t\t\t\t(\n\t\t\t\t\t  preciosP[0].precio_venta *\n\t\t\t\t\t  parseFloat(`0.${varIVA}`)\n\t\t\t\t\t).toFixed(2)\n\t\t\t\t  );\n\t\t\t\t  let ieps_precio = parseFloat(\n\t\t\t\t\t(\n\t\t\t\t\t  preciosP[0].precio_venta *\n\t\t\t\t\t  parseFloat(`0.${varIEPS}`)\n\t\t\t\t\t).toFixed(2)\n\t\t\t\t  );\n\t\t\t\tif (result.length) {\n\t\t\t\t\tpresentacion_temp.push(result[0]);\n\t\t\t\t} else {\n\t\t\t\t\tpresentacion_temp.push({\n\t\t\t\t\t\t_id: '',\n\t\t\t\t\t\texistencia: false,\n\t\t\t\t\t\tcodigo_barras: GenCodigoBarras(),\n\t\t\t\t\t\tnombre_comercial: datos_generales.nombre_comercial,\n\t\t\t\t\t\tmedida: producto_medida,\n\t\t\t\t\t\tcolor: { nombre: '', hex: '' },\n\t\t\t\t\t\tprecio: preciosP[0].precio_neto,\n\t\t\t\t\t\tcantidad: 0,\n\t\t\t\t\t\tnuevo: true,\n\t\t\t\t\t\tprecio_unidad: {\n\t\t\t\t\t\t\tnumero_precio: 1,\n\t\t\t\t\t\t\tprecio_venta: preciosP[0].precio_venta,\n\t\t\t\t\t\t\tprecio_neto: preciosP[0].precio_neto,\n\t\t\t\t\t\t\tunidad_mayoreo: 0,\n\t\t\t\t\t\t\tiva_precio: iva_precio,\n\t\t\t\t\t\t\tieps_precio: ieps_precio,\n\t\t\t\t\t\t\tutilidad: preciosP[0].utilidad,\n\t\t\t\t\t\t\tunidad_maxima: false,\n\t\t\t\t\t\t},\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (coloresSeleccionados.length > 0 && medidas_seleccionadas_temp.length === 1 && value) {\n\t\t\t/* SI HAY COLORES SE LE AGREGA TALLA POR PRIMERA VEZ */\n\t\t\tfor (let i = 0; i < array_medidad_finales.length; i++) {\n\t\t\t\tfor (let k = 0; k < medidas_seleccionadas_temp.length; k++) {\n\t\t\t\t\tpresentacion_temp.push({\n\t\t\t\t\t\t_id: '',\n\t\t\t\t\t\texistencia: array_medidad_finales[i].existencia,\n\t\t\t\t\t\tcodigo_barras: array_medidad_finales[i].codigo_barras,\n\t\t\t\t\t\tnombre_comercial: array_medidad_finales[i].nombre_comercial,\n\t\t\t\t\t\tmedida: medidas_seleccionadas_temp[k],\n\t\t\t\t\t\tcolor: array_medidad_finales[i].color,\n\t\t\t\t\t\tprecio: array_medidad_finales[i].precio,\n\t\t\t\t\t\tcantidad: array_medidad_finales[i].cantidad,\n\t\t\t\t\t\tnuevo: true,\n\t\t\t\t\t\tprecio_unidad: array_medidad_finales[i].precio_unidad,\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (coloresSeleccionados.length > 0 && medidas_seleccionadas_temp.length > 0) {\n\t\t\t/* YA HAY COLORES Y MEDIDAS EN LAS PRESENTACIONES, SE AGREGAN NORMAL */\n\t\t\tfor (let i = 0; i < medidas_seleccionadas_temp.length; i++) {\n\t\t\t\tconst producto_medida = medidas_seleccionadas_temp[i];\n\t\t\t\tfor (let k = 0; k < coloresSeleccionados.length; k++) {\n\t\t\t\t\tconst producto_color = coloresSeleccionados[k];\n\t\t\t\t\tconst presentacion_existente = array_medidad_finales.filter(\n\t\t\t\t\t\t(producto_array_final) =>\n\t\t\t\t\t\t\tproducto_array_final.medida._id === producto_medida._id &&\n\t\t\t\t\t\t\tproducto_color._id === producto_array_final.color._id\n\t\t\t\t\t);\n\t\t\t\t\tlet varIVA = (iva < 10 ? `0${iva}` : iva);\n\t\t\t\t\tlet varIEPS = (ieps < 10 ? `0${ieps}` : ieps);\n\t\t\t\t\tlet iva_precio = parseFloat(\n\t\t\t\t\t\t(\n\t\t\t\t\t\t  preciosP[0].precio_venta *\n\t\t\t\t\t\t  parseFloat(`0.${varIVA}`)\n\t\t\t\t\t\t).toFixed(2)\n\t\t\t\t\t  );\n\t\t\t\t\t  let ieps_precio = parseFloat(\n\t\t\t\t\t\t(\n\t\t\t\t\t\t  preciosP[0].precio_venta *\n\t\t\t\t\t\t  parseFloat(`0.${varIEPS}`)\n\t\t\t\t\t\t).toFixed(2)\n\t\t\t\t\t  );\n\t\t\t\t\tif (!presentacion_existente.length) {\n\t\t\t\t\t\tpresentacion_temp.push({\n\t\t\t\t\t\t\t_id: '',\n\t\t\t\t\t\t\texistencia: false,\n\t\t\t\t\t\t\tcodigo_barras: GenCodigoBarras(),\n\t\t\t\t\t\t\tnombre_comercial: datos_generales.nombre_comercial,\n\t\t\t\t\t\t\tmedida: producto_medida,\n\t\t\t\t\t\t\tcolor: producto_color,\n\t\t\t\t\t\t\tprecio: preciosP[0].precio_neto,\n\t\t\t\t\t\t\tcantidad: 0,\n\t\t\t\t\t\t\tnuevo: true,\n\t\t\t\t\t\t\tprecio_unidad: {\n\t\t\t\t\t\t\t\tnumero_precio: 1,\n\t\t\t\t\t\t\t\tprecio_venta: preciosP[0].precio_venta,\n\t\t\t\t\t\t\t\tprecio_neto: preciosP[0].precio_neto,\n\t\t\t\t\t\t\t\tunidad_mayoreo: 0,\n\t\t\t\t\t\t\t\tiva_precio: iva_precio,\n\t\t\t\t\t\t\t\tieps_precio: ieps_precio,\n\t\t\t\t\t\t\t\tutilidad: preciosP[0].utilidad,\n\t\t\t\t\t\t\t\tunidad_maxima: false,\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tpresentacion_temp.push(presentacion_existente[0]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (coloresSeleccionados.length > 0 && !medidas_seleccionadas_temp.length) {\n\t\t\t/* SI NO HAY TALLAS SE VUELVE A LISTAR LOS COLORES QUE YA ESTABAN EN PRESENTACIONES */\n\t\t\tconst presentaciones_existentes = array_medidad_finales.filter((producto) => producto.medida._id);\n\t\t\tif (presentaciones_existentes.length) {\n\t\t\t\tfor (let x = 0; x < array_medidad_finales.length; x++) {\n\t\t\t\t\tconst objeto_presentaciones_final = array_medidad_finales[x];\n\t\t\t\t\tpresentacion_temp.push({\n\t\t\t\t\t\t_id: objeto_presentaciones_final._id,\n\t\t\t\t\t\texistencia: objeto_presentaciones_final.existencia,\n\t\t\t\t\t\tcodigo_barras: objeto_presentaciones_final.codigo_barras,\n\t\t\t\t\t\tnombre_comercial: objeto_presentaciones_final.nombre_comercial,\n\t\t\t\t\t\tmedida: {},\n\t\t\t\t\t\tcolor: objeto_presentaciones_final.color,\n\t\t\t\t\t\tprecio: objeto_presentaciones_final.precio,\n\t\t\t\t\t\tcantidad: objeto_presentaciones_final.cantidad,\n\t\t\t\t\t\tnuevo: true,\n\t\t\t\t\t\tprecio_unidad: objeto_presentaciones_final.precio_unidad,\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tsetMedidasSeleccionadas([ ...medidas_seleccionadas_temp ]);\n\t\tsetPresentaciones(presentacion_temp);\n\t};\n\n\treturn (\n\t\t<Grid item>\n\t\t\t<div\n\t\t\t\tclassName={classes.colorContainer}\n\t\t\t\tonClick={() => handleAddTallas(!selected)}\n\t\t\t\tstyle={\n\t\t\t\t\tselected ? (\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tbackgroundColor: theme.palette.primary.main\n\t\t\t\t\t\t}\n\t\t\t\t\t) : null\n\t\t\t\t}\n\t\t\t>\n\t\t\t\t<Typography\n\t\t\t\t\tvariant=\"button\"\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tcolor: theme.palette.getContrastText(selected ? theme.palette.primary.main : '#FFFFFF'),\n\t\t\t\t\t\tfontSize: 16\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{talla.talla}\n\t\t\t\t</Typography>\n\t\t\t</div>\n\t\t</Grid>\n\t);\n};\n\nconst Colores = ({ \n\tcolor, \n\tcoloresSeleccionados, \n\tsetColoresSeleccionados, \n\tmedidasSeleccionadas, \n\tdatos \n}) => {\n\tconst classes = useStyles();\n\tconst theme = useTheme();\n\tconst { \n\t\tpresentaciones, \n\t\tsetPresentaciones, \n\t\tdatos_generales, \n\t\tpreciosP, \n\t\tprecios,\n\t\tpresentaciones_eliminadas, \n\t\tsetPresentacionesEliminadas \n\t} = useContext(RegProductoContext);\n\n\tconst [ selected, setSelected ] = useState(false);\n\n\t// const seleccionarColores = useCallback(\n\t// \t() => {\n\t// \t\tcoloresSeleccionados.forEach((res) => {\n\t// \t\t\tif (res._id === color._id) setSelected(true);\n\t// \t\t});\n\t// \t},\n\t// \t[ color._id, coloresSeleccionados ]\n\t// );\n\n\t// useEffect(\n\t// \t() => {\n\t// \t\tif (datos.medidas_registradas) {\n\t// \t\t\treturn seleccionarColores();\n\t// \t\t}\n\t// \t},\n\t// \t[ seleccionarColores ]\n\t// );\n\n\tconst obtenerColores = (value) => {\n\t\tif (!selected) {\n\t\t\tcoloresSeleccionados.push(color);\n\t\t\tsetSelected(value);\n\t\t} else {\n\t\t\tcoloresSeleccionados.forEach((res, index) => {\n\t\t\t\tif (res._id === color._id) {\n\t\t\t\t\tcoloresSeleccionados.splice(index, 1);\n\t\t\t\t\tsetSelected(value);\n\t\t\t\t\tpresentaciones.forEach((presentacion) => {\n\t\t\t\t\t\tif(!presentacion.nuevo){\n\t\t\t\t\t\t\tif(presentacion.color._id === res._id){\n\t\t\t\t\t\t\t\tsetPresentacionesEliminadas([...presentaciones_eliminadas, presentacion])\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\tlet presentacion_temp = [];\n\t\tconst array_medidad_finales = [ ...presentaciones ];\n\t\tconst { iva, ieps } = precios;\n\n\t\tif (!medidasSeleccionadas.length && !array_medidad_finales.length) {\n\t\t\t/* SI NO HAY COLORES NI VALORES EN EL ARRAY FINAL SE AGREGA EL PRIMER ELEMENTO */\n\t\t\tfor (let i = 0; i < coloresSeleccionados.length; i++) {\n\t\t\t\tconst producto_color = coloresSeleccionados[i];\n\t\t\t\tlet varIVA = (iva < 10 ? `0${iva}` : iva);\n\t\t\t\tlet varIEPS = (ieps < 10 ? `0${ieps}` : ieps);\n\t\t\t\tlet iva_precio = parseFloat(\n\t\t\t\t\t(\n\t\t\t\t\t  preciosP[0].precio_venta *\n\t\t\t\t\t  parseFloat(`0.${varIVA}`)\n\t\t\t\t\t).toFixed(2)\n\t\t\t\t);\n\t\t\t\tlet ieps_precio = parseFloat(\n\t\t\t\t\t(\n\t\t\t\t\t\tpreciosP[0].precio_venta *\n\t\t\t\t\t\tparseFloat(`0.${varIEPS}`)\n\t\t\t\t\t).toFixed(2)\n\t\t\t\t);\n\t\t\t\tpresentacion_temp.push({\n\t\t\t\t\t_id: '',\n\t\t\t\t\texistencia: false,\n\t\t\t\t\tcodigo_barras: GenCodigoBarras(),\n\t\t\t\t\tnombre_comercial: datos_generales.nombre_comercial,\n\t\t\t\t\tmedida: {},\n\t\t\t\t\tcolor: producto_color,\n\t\t\t\t\tprecio: preciosP[0].precio_neto,\n\t\t\t\t\tcantidad: 0,\n\t\t\t\t\tnuevo: true,\n\t\t\t\t\tprecio_unidad: {\n\t\t\t\t\t\tnumero_precio: 1,\n\t\t\t\t\t\tprecio_venta: preciosP[0].precio_venta,\n\t\t\t\t\t\tprecio_neto: preciosP[0].precio_neto,\n\t\t\t\t\t\tunidad_mayoreo: 0,\n\t\t\t\t\t\tiva_precio: iva_precio,\n\t\t\t\t\t\tieps_precio: ieps_precio,\n\t\t\t\t\t\tutilidad: preciosP[0].utilidad,\n\t\t\t\t\t\tunidad_maxima: false,\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t}\n\t\t} else if (!medidasSeleccionadas.length && array_medidad_finales.length > 0) {\n\t\t\t/* SI YA HAY COLORES REGISTRADOS SE AGREGAN MAS */\n\t\t\tfor (let i = 0; i < coloresSeleccionados.length; i++) {\n\t\t\t\tconst producto_color = coloresSeleccionados[i];\n\t\t\t\tconst result = array_medidad_finales.filter((res) => res.color._id === producto_color._id);\n\t\t\t\tlet varIVA = (iva < 10 ? `0${iva}` : iva);\n\t\t\t\tlet varIEPS = (ieps < 10 ? `0${ieps}` : ieps);\n\t\t\t\tlet iva_precio = parseFloat(\n\t\t\t\t\t(\n\t\t\t\t\t  preciosP[0].precio_venta *\n\t\t\t\t\t  parseFloat(`0.${varIVA}`)\n\t\t\t\t\t).toFixed(2)\n\t\t\t\t  );\n\t\t\t\tlet ieps_precio = parseFloat(\n\t\t\t\t\t(\n\t\t\t\t\t  preciosP[0].precio_venta *\n\t\t\t\t\t  parseFloat(`0.${varIEPS}`)\n\t\t\t\t\t).toFixed(2)\n\t\t\t\t);\n\t\t\t\tif (result.length) {\n\t\t\t\t\tpresentacion_temp.push(result[0]);\n\t\t\t\t} else {\n\t\t\t\t\tpresentacion_temp.push({\n\t\t\t\t\t\t_id: '',\n\t\t\t\t\t\texistencia: false,\n\t\t\t\t\t\tcodigo_barras: GenCodigoBarras(),\n\t\t\t\t\t\tnombre_comercial: datos_generales.nombre_comercial,\n\t\t\t\t\t\tmedida: {},\n\t\t\t\t\t\tcolor: producto_color,\n\t\t\t\t\t\tprecio: preciosP[0].precio_neto,\n\t\t\t\t\t\tcantidad: 0,\n\t\t\t\t\t\tnuevo: true,\n\t\t\t\t\t\tprecio_unidad: {\n\t\t\t\t\t\t\tnumero_precio: 1,\n\t\t\t\t\t\t\tprecio_venta: preciosP[0].precio_venta,\n\t\t\t\t\t\t\tprecio_neto: preciosP[0].precio_neto,\n\t\t\t\t\t\t\tunidad_mayoreo: 0,\n\t\t\t\t\t\t\tiva_precio: iva_precio,\n\t\t\t\t\t\t\tieps_precio: ieps_precio,\n\t\t\t\t\t\t\tutilidad: preciosP[0].utilidad,\n\t\t\t\t\t\t\tunidad_maxima: false,\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (medidasSeleccionadas.length > 0 && coloresSeleccionados.length === 1 && value) {\n\t\t\t/* SI YA HAY TALLAS SE LE AGREGA EL COLOR POR PRIMERA VEZ */\n\t\t\tfor (let i = 0; i < array_medidad_finales.length; i++) {\n\t\t\t\tfor (let k = 0; k < coloresSeleccionados.length; k++) {\n\t\t\t\t\tpresentacion_temp.push({\n\t\t\t\t\t\t_id: '',\n\t\t\t\t\t\texistencia: array_medidad_finales[i].existencia,\n\t\t\t\t\t\tcodigo_barras: array_medidad_finales[i].codigo_barras,\n\t\t\t\t\t\tnombre_comercial: array_medidad_finales[i].nombre_comercial,\n\t\t\t\t\t\tmedida: array_medidad_finales[i].medida,\n\t\t\t\t\t\tcolor: coloresSeleccionados[k],\n\t\t\t\t\t\tprecio: array_medidad_finales[i].precio,\n\t\t\t\t\t\tcantidad: array_medidad_finales[i].cantidad,\n\t\t\t\t\t\tnuevo: true,\n\t\t\t\t\t\tprecio_unidad: array_medidad_finales[i].precio_unidad\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (medidasSeleccionadas.length > 0 && coloresSeleccionados.length > 0) {\n\t\t\t/* YA HAY TALLAS Y MEIDAS EN LAS PRESENTACIONES, SE REGISTRAN NORMAL */\n\t\t\tfor (let i = 0; i < coloresSeleccionados.length; i++) {\n\t\t\t\tconst producto_color = coloresSeleccionados[i];\n\t\t\t\tfor (let k = 0; k < medidasSeleccionadas.length; k++) {\n\t\t\t\t\tconst producto_medida = medidasSeleccionadas[k];\n\t\t\t\t\tconst presentacion_existente = array_medidad_finales.filter(\n\t\t\t\t\t\t(producto_array_final) =>\n\t\t\t\t\t\t\tproducto_array_final.medida._id === producto_medida._id &&\n\t\t\t\t\t\t\tproducto_color._id === producto_array_final.color._id\n\t\t\t\t\t);\n\t\t\t\t\tlet varIVA = (iva < 10 ? `0${iva}` : iva);\n\t\t\t\t\tlet varIEPS = (ieps < 10 ? `0${ieps}` : ieps);\n\t\t\t\t\tlet iva_precio = parseFloat(\n\t\t\t\t\t\t(\n\t\t\t\t\t\t  preciosP[0].precio_venta *\n\t\t\t\t\t\t  parseFloat(`0.${varIVA}`)\n\t\t\t\t\t\t).toFixed(2)\n\t\t\t\t\t  );\n\t\t\t\t\tlet ieps_precio = parseFloat(\n\t\t\t\t\t\t(\n\t\t\t\t\t\t\tpreciosP[0].precio_venta *\n\t\t\t\t\t\t\tparseFloat(`0.${varIEPS}`)\n\t\t\t\t\t\t).toFixed(2)\n\t\t\t\t\t);\n\t\t\t\t\tif (!presentacion_existente.length) {\n\t\t\t\t\t\tpresentacion_temp.push({\n\t\t\t\t\t\t\t_id: '',\n\t\t\t\t\t\t\texistencia: false,\n\t\t\t\t\t\t\tcodigo_barras: GenCodigoBarras(),\n\t\t\t\t\t\t\tnombre_comercial: datos_generales.nombre_comercial,\n\t\t\t\t\t\t\tmedida: producto_medida,\n\t\t\t\t\t\t\tcolor: producto_color,\n\t\t\t\t\t\t\tprecio: preciosP[0].precio_neto,\n\t\t\t\t\t\t\tcantidad: 0,\n\t\t\t\t\t\t\tnuevo: true,\n\t\t\t\t\t\t\tprecio_unidad: {\n\t\t\t\t\t\t\t\tnumero_precio: 1,\n\t\t\t\t\t\t\t\tprecio_venta: preciosP[0].precio_venta,\n\t\t\t\t\t\t\t\tprecio_neto: preciosP[0].precio_neto,\n\t\t\t\t\t\t\t\tunidad_mayoreo: 0,\n\t\t\t\t\t\t\t\tiva_precio: iva_precio,\n\t\t\t\t\t\t\t\tieps_precio: ieps_precio,\n\t\t\t\t\t\t\t\tutilidad: preciosP[0].utilidad,\n\t\t\t\t\t\t\t\tunidad_maxima: false,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tpresentacion_temp.push(presentacion_existente[0]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (medidasSeleccionadas.length > 0 && !coloresSeleccionados.length) {\n\t\t\t/* SI NO HAY COLORES SE VUELVE A LISTAR LAS TALLAS QUE YA ESTABAN EN PRESENTACIONES */\n\t\t\tconst presentaciones_existentes = array_medidad_finales.filter((producto) => producto.color._id);\n\t\t\tif (presentaciones_existentes.length) {\n\t\t\t\tfor (let x = 0; x < array_medidad_finales.length; x++) {\n\t\t\t\t\tconst objeto_presentaciones_final = array_medidad_finales[x];\n\t\t\t\t\tpresentacion_temp.push({\n\t\t\t\t\t\t_id: objeto_presentaciones_final._id,\n\t\t\t\t\t\texistencia: objeto_presentaciones_final.existencia,\n\t\t\t\t\t\tcodigo_barras: objeto_presentaciones_final.codigo_barras,\n\t\t\t\t\t\tnombre_comercial: objeto_presentaciones_final.nombre_comercial,\n\t\t\t\t\t\tmedida: objeto_presentaciones_final.medida,\n\t\t\t\t\t\tcolor: { nombre: '', hex: '' },\n\t\t\t\t\t\tprecio: objeto_presentaciones_final.precio,\n\t\t\t\t\t\tcantidad: objeto_presentaciones_final.cantidad,\n\t\t\t\t\t\tnuevo: true,\n\t\t\t\t\t\tprecio_unidad: objeto_presentaciones_final.precio_unidad,\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tsetColoresSeleccionados([ ...coloresSeleccionados ]);\n\t\tsetPresentaciones(presentacion_temp);\n\t};\n\n\treturn (\n\t\t<Grid item>\n\t\t\t<Tooltip title={color.nombre} placement=\"top\" arrow TransitionComponent={Zoom}>\n\t\t\t\t<div\n\t\t\t\t\tclassName={classes.colorContainer}\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tbackgroundColor: color.hex,\n\t\t\t\t\t\tcolor: theme.palette.getContrastText(color.hex)\n\t\t\t\t\t}}\n\t\t\t\t\tonClick={() => obtenerColores(!selected)}\n\t\t\t\t>\n\t\t\t\t\t{selected ? <Done /> : null}\n\t\t\t\t</div>\n\t\t\t</Tooltip>\n\t\t</Grid>\n\t);\n};\n","import React, { Fragment, useContext, useState } from \"react\";\nimport {\n  Box,\n  Button,\n  Dialog,\n  DialogActions,\n  makeStyles,\n  Slide,\n  TextField,\n  Typography,\n} from \"@material-ui/core\";\nimport { VentasContext } from \"../../context/Ventas/ventasContext\";\nimport { useApolloClient } from  \"@apollo/client\";\nimport { LOGEAR_USUARIO_ACCESOS } from \"../../gql/Catalogos/usuarios\";\nimport BackdropComponent from \"../Layouts/BackDrop\";\nimport { AccesosContext } from \"../../context/Accesos/accesosCtx\";\nimport CloseIcon from '@material-ui/icons/Close';\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nconst useStyles = makeStyles((theme) => ({\n  formInputFlex: {\n    display: \"flex\",\n    \"& > *\": {\n      margin: `${theme.spacing(1)}px ${theme.spacing(0.5)}px`,\n    },\n    \"& .obligatorio\": {\n      color: \"red\",\n    },\n    paddingTop: 0,\n    alignItems: \"center\",\n    justifyItems: \"center\",\n  },\n}));\n\nexport default function Acceso() {\n  const classes = useStyles();\n  const client = useApolloClient();\n\n  const { setAlert } = useContext(VentasContext);\n\n  const {\n    departamentos,\n    abrirPanelAcceso,\n    setAbrirPanelAcceso,\n    setReloadProductoRapido,\n    setReloadAdministrador,\n    setReloadCancelarVenta,\n    setReloadVerPrecios,\n    setReloadVerPreCorte,\n    setReloadEliminarVentaEspera,\n    setReloadCrearCotizacion,\n  } = useContext(AccesosContext);\n\n  const [datosUser, setDatosUser] = useState([]);\n  const [loading, setLoading] = useState(false);\n\n  const handleClickClose = async () => {\n    setDatosUser([]);\n    setAbrirPanelAcceso(false);\n  };\n\n  const obtenerDatos = (e) => {\n    setDatosUser({ ...datosUser, [e.target.name]: e.target.value });\n  };\n\n  const input = {\n    numero_usuario: parseInt(datosUser.numero_usuario),\n    password: datosUser.password,\n    departamento: departamentos.departamento,\n    subDepartamento: departamentos.subDepartamento,\n    tipo_acceso: departamentos.tipo_acceso,\n  };\n\n  const obtenerQuery = async () => {\n    try {\n      setLoading(true);\n      const response = await client.query({\n        query: LOGEAR_USUARIO_ACCESOS,\n        variables: { input },\n        fetchPolicy: \"network-only\",\n      });\n      if (response.data.obtenerAccesoPermiso.permiso_concedido === true) {\n        SwitchPermisos(response.data.obtenerAccesoPermiso.subDepartamento);\n        setAbrirPanelAcceso(false);\n        setLoading(false);\n        setAlert({\n          message: \"Permiso Autorizado\",\n          status: \"success\",\n          open: true,\n        });\n        setDatosUser([]);\n      }\n    } catch (error) {\n      setLoading(false);\n    }\n  };\n\n  const SwitchPermisos = (subDepartamento) => {\n    switch (subDepartamento) {\n      case \"administrador\":\n        setReloadAdministrador(true);\n        break;\n      case \"producto_rapido\":\n        setReloadProductoRapido(true);\n        break;\n      case \"cancelar_venta\":\n        setReloadCancelarVenta(true);\n        break;\n      case \"precios_productos\":\n        setReloadVerPrecios(true);\n        break;\n      case \"pre_corte\":\n        setReloadVerPreCorte(true);\n        break;\n      case \"cotizaciones\":\n        setReloadCrearCotizacion(true);\n        break;\n      case \"eliminar_ventas\":\n        setReloadEliminarVentaEspera(true);\n        break;\n      default:\n        setAlert({\n            message: \"Permiso no autorizado\",\n            status: \"error\",\n            open: true,\n        });\n        break;\n    }\n  };\n\n  return (\n    <Fragment>\n      <Dialog\n        maxWidth=\"xs\"\n        open={abrirPanelAcceso}\n        onClose={handleClickClose}\n        TransitionComponent={Transition}\n      >\n        <BackdropComponent loading={loading} />\n        <Box p={3}>\n          <Box display='flex' p={1}>\n            <Box flexGrow={1}>\n              <Typography>\n                <b>Por favor autoriza con tu usuario y contraseña</b>\n              </Typography>\n            </Box>\n            <Box >\n                <Button variant=\"contained\" color=\"secondary\" onClick={() => handleClickClose()} size=\"medium\">\n                    <CloseIcon />\n                </Button>\n            </Box>\n          </Box>\n          <div className={classes.formInputFlex}>\n            <Box width=\"100%\">\n              <Typography>\n                <b>Numero Usuario:</b>\n              </Typography>\n              <Box display=\"flex\">\n                <TextField\n                  fullWidth\n                  name=\"numero_usuario\"\n                  size=\"small\"\n                  variant=\"outlined\"\n                  onChange={obtenerDatos}\n                />\n              </Box>\n            </Box>\n          </div>\n          <div className={classes.formInputFlex}>\n            <Box width=\"100%\">\n              <Typography>\n                <b>Contrasena:</b>\n              </Typography>\n              <Box display=\"flex\">\n                <TextField\n                  fullWidth\n                  size=\"small\"\n                  type=\"password\"\n                  name=\"password\"\n                  variant=\"outlined\"\n                  onChange={obtenerDatos}\n                />\n              </Box>\n            </Box>\n          </div>\n        </Box>\n        <DialogActions>\n          <Button\n            color=\"primary\"\n            size=\"medium\"\n            variant=\"contained\"\n            onClick={() => obtenerQuery()}\n          >\n            Guardar\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </Fragment>\n  );\n}\n","import React, { useContext, useEffect, useState } from \"react\";\nimport {\n  AppBar,\n  Backdrop,\n  Badge,\n  Box,\n  Button,\n  CircularProgress,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  makeStyles,\n  Slide,\n  Tab,\n  Tabs,\n  Typography,\n} from \"@material-ui/core\";\nimport PropTypes from \"prop-types\";\nimport RegistroInfoAdidional from \"../../sucursales/Catalogos/Producto/PreciosVenta/registrarInfoAdicional\";\nimport RegistroInformacionRapido from \"./RegistroInformacionRapido\";\nimport { NavigateBefore, NavigateNext } from \"@material-ui/icons\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport DoneIcon from \"@material-ui/icons/Done\";\nimport {\n  initial_state_datos_generales,\n  initial_state_precios,\n  initial_state_preciosP,\n  initial_state_unidadVentaXDefecto,\n  initial_state_presentaciones,\n  initial_state_unidadVentaSecundaria,\n} from \"../../../context/Catalogos/initialStatesProducto\";\nimport { cleanTypenames } from \"../../../config/reuserFunctions\";\nimport TallasColoresRapidos from \"./TallasColoresRapidos/TallasColoresRapidos\";\nimport { RegProductoContext } from \"../../../context/Catalogos/CtxRegProducto\";\nimport { useMutation, useQuery } from \"@apollo/client\";\nimport {\n  CREAR_PRODUCTO_RAPIDO,\n  OBTENER_CONSULTAS,\n} from \"../../../gql/Catalogos/productos\";\nimport { VentasContext } from \"../../../context/Ventas/ventasContext\";\nimport Acceso from \"../../../components/AccesosPassword/Acceso\";\nimport { AccesosContext } from \"../../../context/Accesos/accesosCtx\";\n\nfunction TabPanel(props) {\n  const { children, value, index, ...other } = props;\n\n  return (\n    <div\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`tabpanel-reg-product-${index}`}\n      aria-labelledby={`reg-product-tab-${index}`}\n      {...other}\n    >\n      {value === index && (\n        <Box p={3} height=\"70vh\">\n          {children}\n        </Box>\n      )}\n    </div>\n  );\n}\n\nTabPanel.propTypes = {\n  children: PropTypes.node,\n  index: PropTypes.any.isRequired,\n  value: PropTypes.any.isRequired,\n};\n\nfunction a11yProps(index) {\n  return {\n    id: `reg-product-tab-${index}`,\n    \"aria-controls\": `tabpanel-reg-product-${index}`,\n  };\n}\n\nconst useStyles = makeStyles((theme) => ({\n  formInputFlex: {\n    display: \"flex\",\n    \"& > *\": {\n      margin: `${theme.spacing(1)}px ${theme.spacing(2)}px`,\n    },\n  },\n  iconSizeDialogs: {\n    width: 80,\n  },\n  formInput: {\n    margin: `${theme.spacing(1)}px ${theme.spacing(2)}px`,\n  },\n  root: {\n    flexGrow: 1,\n    width: \"100%\",\n    backgroundColor: theme.palette.background.paper,\n  },\n  iconSvg: {\n    width: 50,\n  },\n  dialogContent: {\n    padding: 0,\n  },\n  backdrop: {\n    zIndex: theme.zIndex.drawer + 1,\n    color: \"#fff\",\n  },\n  iconSizeSecondSuperior: {\n    width: 20,\n  },\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function ArticuloRapido() {\n  const classes = useStyles();\n  const [value, setValue] = useState(0);\n  const [cargando, setCargando] = useState(false);\n\n  const {\n    datos_generales,\n    setDatosGenerales,\n    precios,\n    setPrecios,\n    validacion,\n    setValidacion,\n    setPreciosP,\n    preciosP,\n    unidadesVenta,\n    setUnidadesVenta,\n    unidadVentaXDefecto,\n    setUnidadVentaXDefecto,\n    unidadVentaSecundaria,\n    setUnidadVentaSecundaria,\n    setCentroDeCostos,\n    presentaciones,\n    setPresentaciones,\n  } = useContext(RegProductoContext);\n\n  const { setAlert, open, setOpen } = useContext(VentasContext);\n\n  const {\n    reloadProductoRapido,\n    setReloadProductoRapido,\n    setAbrirPanelAcceso,\n    setDepartamentos,\n  } = useContext(AccesosContext);\n\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n  const [crearProductoRapido] = useMutation(CREAR_PRODUCTO_RAPIDO);\n\n  const { data, refetch, loading } = useQuery(OBTENER_CONSULTAS, {\n    variables: { empresa: sesion.empresa._id, sucursal: sesion.sucursal._id },\n  });\n\n  const resetInitialStates = () => {\n    setDatosGenerales(initial_state_datos_generales);\n    setPrecios(initial_state_precios);\n    setUnidadVentaXDefecto(initial_state_unidadVentaXDefecto);\n    setUnidadVentaSecundaria(initial_state_unidadVentaSecundaria);\n    setPreciosP(initial_state_preciosP);\n    setUnidadesVenta([]);\n    setCentroDeCostos({});\n    setValidacion({ error: false, message: \"\" });\n    setPresentaciones([]);\n    setValue(0);\n  };\n\n  const [abrirTallaColor, setAbrirTallaColor] = useState(false);\n\n  const [cantidad, setCantidad] = useState(0);\n\n  const handleClickOpen = () => {\n    setOpen(!open);\n    resetInitialStates();\n    setAbrirTallaColor(false);\n  };\n\n  const AceesoProductoRapido = () => {\n    if (sesion.accesos.ventas.producto_rapido.ver === true) {\n      handleClickOpen();\n    } else {\n      setAbrirPanelAcceso(true);\n      setDepartamentos({\n        departamento: \"ventas\",\n        subDepartamento: \"producto_rapido\",\n        tipo_acceso: \"ver\",\n      });\n    }\n  };\n\n  useEffect(() => {\n    if (reloadProductoRapido === true) {\n      handleClickOpen();\n      setReloadProductoRapido(false);\n    }\n  }, [reloadProductoRapido]);\n\n  useEffect(() => {\n    return () => {\n      refetch();\n    };\n  }, []);\n  window.addEventListener(\"keydown\", Mi_función);\n\n  function Mi_función(e) {\n    if (e.altKey && e.keyCode === 82) {\n      AceesoProductoRapido();\n    }\n  }\n\n  if (loading || !data) {\n    return null;\n  }\n  if (loading)\n    return (\n      <Box\n        display=\"flex\"\n        flexDirection=\"column\"\n        justifyContent=\"center\"\n        alignItems=\"center\"\n        height=\"80vh\"\n      >\n        <CircularProgress />\n        <Typography variant=\"h6\">Cargando...</Typography>\n      </Box>\n    );\n\n  const { obtenerConsultasProducto } = data;\n\n  const handleChange = (event, newValue) => {\n    setValue(newValue);\n  };\n\n  const saveData = async () => {\n    setCargando(true);\n    if (datos_generales.tipo_producto === \"OTROS\" && cantidad < 1) {\n      return setValidacion(true);\n    } else {\n      if (\n        !datos_generales.clave_alterna ||\n        !datos_generales.tipo_producto ||\n        !datos_generales.nombre_generico ||\n        !datos_generales.nombre_comercial ||\n        !precios.precio_de_compra.precio_con_impuesto ||\n        !precios.precio_de_compra.precio_sin_impuesto ||\n        !precios.unidad_de_compra.cantidad\n      ) {\n        return setValidacion(true);\n      }\n    }\n    /* if (unidadesVenta.length === 0) {\n      unidadesVenta.push(unidadVentaXDefecto);\n    } else {\n      const unidadxdefecto = unidadesVenta.filter(\n        (unidades) => unidades.default\n      );\n      if (unidadxdefecto.length === 0) unidadesVenta.push(unidadVentaXDefecto);\n    } */\n    let copy_unidadesVenta = [{...unidadVentaXDefecto}, {...unidadVentaSecundaria}];\n    precios.precios_producto = preciosP;\n\n    if (datos_generales.tipo_producto === \"OTROS\" && cantidad < 1) {\n      setPresentaciones(initial_state_presentaciones);\n      setCantidad(0);\n    }\n\n    const data = {\n      datos_generales,\n      precios,\n      unidades_de_venta: copy_unidadesVenta,\n      presentaciones,\n      cantidad,\n      empresa: sesion.empresa._id,\n      sucursal: sesion.sucursal._id,\n      usuario: sesion._id,\n    };\n\n    try {\n      const input = cleanTypenames(data);\n      const result = await crearProductoRapido({\n        variables: {\n          input,\n        },\n      });\n      resetInitialStates();\n      refetch();\n      setAlert({\n        message: `¡Listo ${result.data.crearProductoRapido.message}!`,\n        status: \"success\",\n        open: true,\n      });\n      setCargando(false);\n      handleClickOpen();\n    } catch (error) {\n      resetInitialStates();\n      refetch();\n      setAlert({\n        message: `Error: ${error.message}`,\n        status: \"error\",\n        open: true,\n      });\n      setCargando(false);\n      handleClickOpen();\n    }\n  };\n\n  const saveButton = (\n    <Button\n      variant=\"contained\"\n      color=\"primary\"\n      onClick={() => saveData()}\n      size=\"large\"\n      startIcon={<DoneIcon />}\n      disabled={\n        datos_generales.tipo_producto === \"OTROS\"\n          ? !datos_generales.clave_alterna ||\n            !datos_generales.tipo_producto ||\n            !datos_generales.nombre_generico ||\n            !datos_generales.nombre_comercial ||\n            !cantidad ||\n            !precios.precio_de_compra.precio_con_impuesto ||\n            !precios.precio_de_compra.precio_sin_impuesto ||\n            !precios.unidad_de_compra.cantidad\n            ? true\n            : false\n          : !datos_generales.clave_alterna ||\n            !datos_generales.tipo_producto ||\n            !datos_generales.nombre_generico ||\n            !datos_generales.nombre_comercial ||\n            !precios.precio_de_compra.precio_con_impuesto ||\n            !precios.precio_de_compra.precio_sin_impuesto ||\n            !precios.unidad_de_compra.cantidad\n          ? true\n          : false\n      }\n    >\n      Guardar\n    </Button>\n  );\n\n  const ButtonActions = () => {\n    if (value === 1) {\n      return saveButton;\n    } else {\n      if (\n        datos_generales.tipo_producto === \"OTROS\" ||\n        !datos_generales.tipo_producto\n      ) {\n        return saveButton;\n      } else {\n        return (\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={() => setValue(value + 1)}\n            size=\"large\"\n            endIcon={<NavigateNext />}\n            disableElevation\n          >\n            Siguiente\n          </Button>\n        );\n      }\n    }\n  };\n\n  return (\n    <>\n      <Acceso />\n      <Button\n        onClick={() => {\n          AceesoProductoRapido();\n        }}\n        value=\"articulo-rapido\"\n        style={{ textTransform: \"none\", height: \"100%\", width: \"60%\" }}\n      >\n        <Box display=\"flex\" flexDirection=\"column\">\n          <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n            <img\n              src=\"https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/tiempo-rapido.svg\"\n              alt=\"icono caja2\"\n              className={classes.iconSizeSecondSuperior}\n            />\n          </Box>\n          <Box>\n            <Typography variant=\"body2\">\n              <b>Producto Rapido</b>\n            </Typography>\n          </Box>\n          <Box>\n            <Typography variant=\"caption\" style={{ color: \"#808080\" }}>\n              <b>Alt + R</b>\n            </Typography>\n          </Box>\n        </Box>\n      </Button>\n      <Dialog\n        maxWidth=\"lg\"\n        open={open}\n        onClose={handleClickOpen}\n        TransitionComponent={Transition}\n      >\n        <AppBar position=\"static\" color=\"default\" elevation={0}>\n          <Box display=\"flex\">\n            <Box display=\"flex\" flexGrow={1} justifyContent=\"space-between\">\n              <Tabs\n                value={value}\n                onChange={handleChange}\n                variant=\"scrollable\"\n                scrollButtons=\"on\"\n                indicatorColor=\"primary\"\n                textColor=\"primary\"\n                aria-label=\"scrollable force tabs example\"\n              >\n                <Tab\n                  label=\"Datos generales\"\n                  icon={\n                    <Badge\n                      color=\"secondary\"\n                      badgeContent={<Typography variant=\"h6\">!</Typography>}\n                      anchorOrigin={{\n                        vertical: \"bottom\",\n                        horizontal: \"right\",\n                      }}\n                      invisible={\n                        validacion.error && validacion.vista1 ? false : true\n                      }\n                    >\n                      <img\n                        src=\"https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/portapapeles.svg\"\n                        alt=\"icono registro\"\n                        className={classes.iconSvg}\n                      />\n                    </Badge>\n                  }\n                  {...a11yProps(0)}\n                />\n                {abrirTallaColor === false ||\n                datos_generales.tipo_producto === \"OTROS\" ? null : (\n                  <Tab\n                    label=\"Tallas y colores\"\n                    icon={\n                      <Badge\n                        color=\"secondary\"\n                        badgeContent={<Typography variant=\"h6\">!</Typography>}\n                        anchorOrigin={{\n                          vertical: \"bottom\",\n                          horizontal: \"right\",\n                        }}\n                        invisible={\n                          validacion.error && validacion.vista7 ? false : true\n                        }\n                      >\n                        <img\n                          src=\"https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/tallas-colores.svg\"\n                          alt=\"icono colores\"\n                          className={classes.iconSvg}\n                        />\n                      </Badge>\n                    }\n                    {...a11yProps(6)}\n                  />\n                )}\n              </Tabs>\n            </Box>\n            <Box p={2}>\n              <Button\n                variant=\"contained\"\n                color=\"secondary\"\n                onClick={() => {\n                  handleClickOpen() \n                  resetInitialStates()\n                }}\n                size=\"large\"\n              >\n                <CloseIcon />\n              </Button>\n            </Box>\n          </Box>\n        </AppBar>\n        <DialogContent className={classes.dialogContent}>\n          <Backdrop className={classes.backdrop} open={cargando}>\n            <CircularProgress color=\"inherit\" />\n          </Backdrop>\n          <div className={classes.root}>\n            <TabPanel value={value} index={0}>\n              <RegistroInformacionRapido\n                setAbrirTallaColor={setAbrirTallaColor}\n                setCantidad={setCantidad}\n                cantidad={cantidad}\n                obtenerConsultasProducto={obtenerConsultasProducto}\n                refetch={refetch}\n              />\n              <RegistroInfoAdidional />\n            </TabPanel>\n            <TabPanel value={value} index={1}>\n              <TallasColoresRapidos\n                obtenerConsultasProducto={obtenerConsultasProducto}\n                refetch={refetch}\n              />\n            </TabPanel>\n          </div>\n        </DialogContent>\n        <DialogActions style={{ display: \"flex\", justifyContent: \"space-between\" }}>\n          <Box p={1}>\n            <Button\n              variant=\"outlined\"\n              color=\"primary\"\n              onClick={() => setValue(value - 1)}\n              size=\"large\"\n              startIcon={<NavigateBefore />}\n              disabled={value === 0}\n            >\n              Anterior\n          </Button>\n          </Box>\n          <Box p={1}>\n            <ButtonActions />\n          </Box>\n        </DialogActions>\n      </Dialog>\n    </>\n  );\n}\n","import React from 'react'\nimport { RegProductoProvider } from '../../../context/Catalogos/CtxRegProducto'\nimport ArticuloRapido from './ArticuloRapido'\n \nexport default function ProductoRapidoIndex({handleClickOpen}){\n\n    return (\n        <RegProductoProvider>\n            <ArticuloRapido handleClickOpen={handleClickOpen} />\n        </RegProductoProvider>\n    )\n}","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport { IconButton, TablePagination } from '@material-ui/core';\nimport DeleteIcon from '@material-ui/icons/Delete';\n\nconst columns = [\n\t{ id: 'folio', label: 'Folio', minWidth: 20, align: 'center' },\n\t{ id: 'cliente', label: 'Cliente', minWidth: 330 },\n\t{ id: 'fecha', label: 'Fecha', minWidth: 100, align: 'center'},\n\t{ id: 'total', label: 'Total', minWidth: 100, align: 'center'}\n];\n\nfunction createData(folio, cliente, fecha, total) {\n\treturn { folio, cliente, fecha, total};\n}\n\nconst rows = [\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10)\n];\n\nconst useStyles = makeStyles({\n\troot: {\n\t\twidth: '100%'\n\t},\n\tcontainer: {\n\t\tmaxHeight: '65vh'\n\t}\n});\n\nexport default function CotizacionesPendientes({ setOpen }) {\n\tconst classes = useStyles();\n\tconst [ page, setPage ] = React.useState(0);\n\tconst [ rowsPerPage, setRowsPerPage ] = React.useState(10);\n\n\tconst handleChangePage = (event, newPage) => {\n\t\tsetPage(newPage);\n\t};\n\n\tconst handleChangeRowsPerPage = (event) => {\n\t\tsetRowsPerPage(+event.target.value);\n\t\tsetPage(0);\n\t};\n\n\treturn (\n\t\t<Paper className={classes.root}>\n\t\t\t<TableContainer className={classes.container}>\n\t\t\t\t<Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t{columns.map((column) => (\n\t\t\t\t\t\t\t\t<TableCell key={column.id} align={column.align} style={{ width: column.minWidth }}>\n\t\t\t\t\t\t\t\t\t{column.label}\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t<TableCell align='center' style={{ width: 35 }}>\n\t\t\t\t\t\t\t\tRetomar\n\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t<TableCell align='center' style={{ width: 35 }}>\n\t\t\t\t\t\t\t\tEliminar\n\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t</TableHead>\n\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t{rows.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage).map((row) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<CotizacionesRows row={row} />\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t\t</TableBody>\n\t\t\t\t</Table>\n\t\t\t</TableContainer>\n\t\t\t<TablePagination\n\t\t\t\trowsPerPageOptions={[ 10, 25, 100 ]}\n\t\t\t\tcomponent=\"div\"\n\t\t\t\tcount={rows.length}\n\t\t\t\trowsPerPage={rowsPerPage}\n\t\t\t\tpage={page}\n\t\t\t\tonChangePage={handleChangePage}\n\t\t\t\tonChangeRowsPerPage={handleChangeRowsPerPage}\n\t\t\t/>\n\t\t</Paper>\n\t);\n};\n\n\nconst CotizacionesRows = ({row}) => {\n\n\treturn(\n\t\t<>\n\t\t\t<TableRow hover role=\"checkbox\" tabIndex={-1} key={row.code}>\n\t\t\t\t<TableCell align='center' >\n\t\t\t\t\tuno\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell >\n\t\t\t\t\tuno\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell align='center' >\n\t\t\t\t\tuno\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell align='center' >\n\t\t\t\t\tuno\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell align='center' >\n\t\t\t\t\t<IconButton aria-label=\"delete\" size='small'>\n\t\t\t\t\t\t<DeleteIcon fontSize=\"small\" />\n\t\t\t\t\t</IconButton>\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell align='center' >\n\t\t\t\t\t<IconButton aria-label=\"delete\" size='small'>\n\t\t\t\t\t\t<DeleteIcon fontSize=\"small\" />\n\t\t\t\t\t</IconButton>\n\t\t\t\t</TableCell>\n\t\t\t</TableRow>\n\t\t</>\n\t);\n\n}\n","import React, { useState } from 'react';\nimport { AppBar, Box, Button, Dialog, Slide, Typography \n} from '@material-ui/core';\n\nimport CloseIcon from '@material-ui/icons/Close';\nimport CotizacionesPendientes from './CotizacionesPendientes';\n\nimport { FcCurrencyExchange } from 'react-icons/fc';\nimport moment from 'moment';\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function ListaCotizaciones() {\n\n    const [open, setOpen] = useState(false);\n    const sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n    const turnoEnCurso = JSON.parse(localStorage.getItem('turnoEnCurso'));\n\n    const handleClickOpen =()=>{\n        setOpen(!open);\n    }\n\n    return (\n        <>\n            <Button\n                onClick={() => handleClickOpen()}\n                style={{textTransform: 'none', height: '100%', width: '60%'}}\n            >\n                <Box display=\"flex\" flexDirection=\"column\">\n                    <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n                        <FcCurrencyExchange style={{fontSize: 25}} />\n                    </Box>\n                    <Box>\n                        <Typography variant=\"body2\" >\n                            <b>Lista cotizaciones</b>\n                        </Typography>\n                    </Box>\n                    <Box>\n                        <Typography variant=\"caption\" style={{color: '#808080'}} >\n                            <b>Alt + T</b>\n                        </Typography>\n                    </Box>\n                </Box>\n            </Button>\n\n            <Dialog\n\t\t\t\tfullWidth\n\t\t\t\topen={open} \n\t\t\t\tmaxWidth={'lg'}\n\t\t\t\tonClose={() => setOpen(false)} \n\t\t\t\tTransitionComponent={Transition}\n\t\t\t>\n                <AppBar position=\"static\" color=\"default\" elevation={0}>\n                    <Box display={'flex'}>\n                        <Box display='flex' flexGrow={1} >\n                            <Box p={2} display={'flex'} alignItems={'center'}>\n                                <img \n\t\t\t\t\t\t\t\t\tsrc='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/ventas/lista-de-espera.svg' \n                                    alt=\"icono caja2\" \n                                    style={{width: 58}} \n                                />\n                            </Box>\n                            <Box p={1} display={'flex'} alignItems={'center'}>\n                                <Typography variant='h6'>\n                                    Cotizaciones pendientes\n                                </Typography>\n                            </Box>\n                        </Box>\n                        <Box mt={2} textAlign=\"right\">\n                            <Box textAlign=\"right\">\n                                <Typography variant=\"caption\">\n                                    {moment().format('L')}\n                                </Typography>\n                            </Box>\n                            <Box textAlign=\"right\">\n                                <Typography variant=\"caption\">\n                                    {moment().format('LT')} hrs.\n                                </Typography>\n                            </Box>\n                            <Box textAlign=\"right\">\n                                <Typography variant=\"caption\">\n                                    {sesion?.nombre}\n                                </Typography>\n                            </Box>\n                            <Box textAlign=\"right\">\n                                <Typography variant=\"caption\">\n                                    Caja {!turnoEnCurso ? null : turnoEnCurso.numero_caja }\n                                </Typography>\n                            </Box>\n                        </Box>\n                        <Box  p={3} >\n                            <Button variant=\"contained\" color=\"secondary\" onClick={() => setOpen(!open)} size=\"medium\">\n                                <CloseIcon />\n                            </Button>\n                        </Box>\n                    </Box>\n\t\t\t\t</AppBar>\n                <CotizacionesPendientes setOpen={setOpen} /> \n            </Dialog>\n        </>\n    );\n}\n","import React, { useState, useContext, Fragment, useEffect} from 'react';\nimport { Divider, BottomNavigation, Button } from '@material-ui/core';\nimport {  Avatar, Box, Typography } from '@material-ui/core';\nimport { withRouter } from 'react-router';\nimport { FaPowerOff } from 'react-icons/fa';\nimport useStyles from './styles';\nimport moment from 'moment';\nimport 'moment/locale/es';\n\nimport DepositoRetiroCaja from '../../pages/ventas/Operaciones/DepositoRetiroCaja';\nimport Turnos from '../../pages/ventas/AbrirCerrarTurno/Turnos';\nimport PreCorteCaja from '../../pages/ventas/Operaciones/PreCorteCaja';\nimport VentaEnEspera from '../../pages/ventas/Operaciones/VentaEnEspera';\nimport ProductoRapidoIndex from '../../pages/ventas/ArticuloRapido/indexArticuloRapido';\n\nimport SnackBarMessages from '../SnackBarMessages';\nimport { VentasContext } from '../../context/Ventas/ventasContext';\nimport Acceso from '../AccesosPassword/Acceso';\nimport { AccesosContext } from '../../context/Accesos/accesosCtx';\nimport ListaCotizaciones from '../../pages/ventas/Cotizacion/ListaCotizaciones';\n\nfunction NavegacionVentas(props) {\n\n\tconst { \n\t\talert, \n\t\tsetAlert, \n\t\tabrirTurnosDialog, \n\t\tsetAbrirTurnosDialog, \n\t\tsetUbicacionTurno,\n\t} = useContext(VentasContext);\n\n\tconst { \n\t\treloadAdministrador, \n        setReloadAdministrador,\n\t\tsetAbrirPanelAcceso,\n\t\tabrirPanelAcceso,\n\t\tsetDepartamentos\n\t} = useContext(AccesosContext);\n\n\tconst classes = useStyles();\n\tconst [ value, setValue ] = useState('venta-general');\n    const sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\tconst turnoEnCurso = JSON.parse(localStorage.getItem('turnoEnCurso'));\n\n\tmoment.locale('es');\n\n\tconst signOut = () => {\n\t\tif (sesion.turno_en_caja_activo === true && turnoEnCurso) {\n\t\t\tsetAbrirTurnosDialog(!abrirTurnosDialog);\n\t\t\tsetUbicacionTurno('SESION');\n\t\t}else{\n\t\t\tlocalStorage.removeItem('sesionCafi');\n\t\t\tlocalStorage.removeItem('tokenCafi');\n            localStorage.removeItem('DatosVentas');\n\t\t\tlocalStorage.removeItem('turnoEnCurso');\n\t\t\tlocalStorage.removeItem('ListaEnEspera');\n\t\t\tprops.history.push('/');\n\t\t}\n\t};\n\n\tfunction Mi_función(e){\n\t\tif( e.keyCode === 112){ \n\t\t\tAdministrador();\n\t\t}\n\t};\n\n\tfunction Administrador() {\n\t\tif(sesion.accesos.ventas.administrador.ver === true){\n\t\t\tprops.history.push('/admin');\n\t\t}else{\n\t\t\tsetAbrirPanelAcceso(!abrirPanelAcceso);\n\t\t\tsetDepartamentos({departamento: 'ventas', subDepartamento: 'administrador', tipo_acceso: 'ver'})\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tif (reloadAdministrador === true) {\t\t\t\n\t\t\tprops.history.push('/admin');\t\n\t\t\tsetReloadAdministrador(false);\n\t\t}\n\t}, [reloadAdministrador]);\n\n\twindow.addEventListener('keydown', Mi_función); \n\n\treturn (\n\t\t<Fragment>\n\t\t\t<Acceso setReloadAdministrador={setReloadAdministrador} />\n\t\t\t<SnackBarMessages alert={alert} setAlert={setAlert} />\n\t\t\t\t<BottomNavigation\n\t\t\t\t\tvalue={value}\n\t\t\t\t\tonChange={(event, newValue) => {\n\t\t\t\t\t\tsetValue(newValue);\n\t\t\t\t\t}}\n\t\t\t\t\tshowLabels\n\t\t\t\t\tclassName={classes.navigationTop}\n\t\t\t\t>\n\t\t\t\t\t<ProductoRapidoIndex />\n\t\t\t\t\t\t<Divider orientation=\"vertical\" />\n\t\t\t\t\t<ListaCotizaciones /> \n\t\t\t\t\t\t<Divider orientation=\"vertical\" />\n\t\t\t\t\t<DepositoRetiroCaja />\n\t\t\t\t\t\t<Divider orientation=\"vertical\" />\n\t\t\t\t\t<Turnos />\n\t\t\t\t\t\t<Divider orientation=\"vertical\" />\n\t\t\t\t\t<PreCorteCaja />\n\t\t\t\t\t\t<Divider orientation=\"vertical\" />\n\t\t\t\t\t<VentaEnEspera />\n\t\t\t\t\t\t<Divider orientation=\"vertical\" />\n\t\t\t\t\t<Button\n\t\t\t\t\t\tonClick={() => Administrador()}\n\t\t\t\t\t\tstyle={{textTransform: 'none', height: '100%', width: '60%'}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Box display=\"flex\" flexDirection=\"column\">\n\t\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t\t<img \n\t\t\t\t\t\t\t\t\tsrc='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/ventas/admin.svg' \n\t\t\t\t\t\t\t\t\talt=\"icono admin\" \n\t\t\t\t\t\t\t\t\tclassName={classes.iconSizeSecondSuperior} \n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t\t<Typography variant=\"body2\" >\n\t\t\t\t\t\t\t\t\t<b>Administrador</b>\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t\t<Typography variant=\"caption\" style={{color: '#808080'}} >\n\t\t\t\t\t\t\t\t\t<b>F1</b>\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Divider orientation=\"vertical\" />\n\t\t\t\t\t<Button\n\t\t\t\t\t\tonClick={() =>{\n\t\t\t\t\t\t\tsignOut()\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tstyle={{textTransform: 'none', height: '100%', width: '40%'}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Box display=\"flex\" flexDirection=\"column\" style={{textTransform: 'none', height: '100%', width: '100%'}}>\n\t\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t\t<FaPowerOff className={classes.iconSizeSuperior} style={{color: 'red'}} />\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t\t<Typography variant=\"body2\" >\n\t\t\t\t\t\t\t\t\t<b>Salir</b>\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Box \n\t\t\t\t\t\tdisplay=\"flex\" \n\t\t\t\t\t\tjustifyContent=\"flex-end\"\n\t\t\t\t\t\tstyle={{height: '100%', width: '100%'}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Box mr={3} display=\"flex\" alignItems=\"center\">\n\t\t\t\t\t\t\t<Avatar alt=\"Remy Sharp\" srsc=\"/static/images/avatar/1.jpg\" className={classes.avatar} />\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t\t\t<Typography color=\"textSecondary\">{sesion?.nombre}</Typography>\n\t\t\t\t\t\t\t\t\t{!turnoEnCurso?.numero_caja ? (\n\t\t\t\t\t\t\t\t\t\t\"\"\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t<Typography color=\"textSecondary\">\n\t\t\t\t\t\t\t\t\t\t\t<b>Caja: </b>{turnoEnCurso?.numero_caja}\n\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box mr={3} display=\"flex\" alignItems=\"center\">\n\t\t\t\t\t\t\t<img src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/ventas/calendario.svg' alt=\"icono admin\" className={classes.avatar} />\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t\t\t<Typography color=\"textSecondary\">\n\t\t\t\t\t\t\t\t\t\t{moment().format('MM/DD/YYYY')}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t<Typography color=\"textSecondary\">\n\t\t\t\t\t\t\t\t\t\t<b>{moment().format('h:mm')} hrs.</b> \n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Box>\n\t\t\t\t</BottomNavigation>\n\t\t</Fragment>\n\t);\n}\n\nexport default withRouter(NavegacionVentas);","import React, { useState } from 'react';\nimport { Box, Button,  Dialog, DialogActions, DialogContent, Slide, Typography } from '@material-ui/core'\nimport useStyles from '../styles';\nimport { FcDonate } from 'react-icons/fc';\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function Abonos() {\n    const classes = useStyles();\n\n    const [open, setOpen] = useState(false);\n    const handleClickOpen = () => { \n\t\tsetOpen(!open);\n\t};\n    \n    window.addEventListener('keydown', Mi_función); \n    function Mi_función(e){\n        if(e.keyCode === 117){ \n            handleClickOpen();\n        } \n    };\n\n    return (\n        <>\n            <Button \n                className={classes.borderBotonChico}\n                onClick={handleClickOpen}\n            >\n                <Box>\n                    <Box>\n                        <FcDonate style={{fontSize: 35}} />\n                    </Box>\n                    <Box>\n                        <Typography variant=\"body2\" >\n                            <b>Abonos</b>\n                        </Typography>\n                    </Box>\n                    <Box>\n                        <Typography variant=\"caption\" style={{color: '#808080'}} >\n                            <b>F6</b>\n                        </Typography>\n                    </Box>\n                </Box>\n            </Button>\n            <Dialog\n\t\t\t\tmaxWidth='lg'\n\t\t\t\topen={open} \n\t\t\t\tonClose={handleClickOpen} \n\t\t\t\tTransitionComponent={Transition}\n\t\t\t>\n                <DialogContent>\n                    Abonitos\n                </DialogContent>\n                <DialogActions>\n\n                </DialogActions>\n\n            </Dialog>\n            \n        </>\n    )\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport { Box, CircularProgress } from '@material-ui/core';\n\nconst columns = [\n\t{ id: 'clave', label: 'Clave', minWidth: 40, align: 'center' },\n\t{ id: 'codigo', label: 'C. Barras', minWidth: 40, align: 'center' },\n\t{ id: 'descripcion', label: 'Nombre/Descrip.', minWidth: 330 },\n\t{ id: 'existencia', label: 'Exist.', minWidth: 30, align: 'center'},\n\t{ id: 'unidad', label: 'Unidad', minWidth: 30, align: 'center'},\n\t{ id: 'precio', label: 'Precio', minWidth: 30, align: 'center'},\n];\n\nconst useStyles = makeStyles({\n\troot: {\n\t\twidth: '100%',\n\t\tmarginTop: 15\n\t},\n\tcontainer: {\n\t\theight: '40vh'\n\t}\n});\n\nexport default function ListaProductos({\n\tproductosBusqueda, \n\tsetProductoSeleccionado, \n\tloading\n}) {\n\n\tconst classes = useStyles();\n\n\tif (loading)\n    return (\n      <Box\n        display=\"flex\"\n        flexDirection=\"column\"\n        justifyContent=\"center\"\n        alignItems=\"center\"\n        height=\"50vh\"\n      >\n        <CircularProgress />\n      </Box>\n    );\n\n\treturn (\n\t\t<Paper className={classes.root}>\n\t\t\t<TableContainer className={classes.container}>\n\t\t\t\t<Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t{columns.map((column) => (\n\t\t\t\t\t\t\t\t<TableCell key={column.id} align={column.align} style={{ width: column.minWidth }}>\n\t\t\t\t\t\t\t\t\t{column.label}\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t</TableHead>\n\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t{productosBusqueda.map((producto) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<RowsProductos \n\t\t\t\t\t\t\t\t\tproducto={producto}\n\t\t\t\t\t\t\t\t\tsetProductoSeleccionado={setProductoSeleccionado}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t\t</TableBody>\n\t\t\t\t</Table>\n\t\t\t</TableContainer>\n\t\t</Paper>\n\t);\n};\n\nfunction RowsProductos({producto, setProductoSeleccionado}) {\n\n\treturn(\n\t\t<>\n\t\t\t<TableRow \n\t\t\t\thover \n\t\t\t\trole=\"checkbox\" \n\t\t\t\ttabIndex={-1} \n\t\t\t\tkey={producto._id}\n\t\t\t\tonClick={() => setProductoSeleccionado(producto)}\n\t\t\t>\n\t\t\t\t<TableCell align=\"center\" >\n\t\t\t\t\t{producto.id_producto.datos_generales.clave_alterna}\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t{producto.id_producto.datos_generales.codigo_barras}\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell >\n\t\t\t\t\t{producto.id_producto.datos_generales.nombre_comercial}\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t{producto.cantidad}\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t{producto.unidad}\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t{producto.precio}\n\t\t\t\t</TableCell>\n\t\t\t</TableRow>\n\t\t</>\t\n\t);\n\t\n}","import React from 'react';\nimport useStyles from '../styles';\n\nimport {\n    TableContainer,\n    Table,\n    Box,\n    TableHead,\n    TableRow,\n    TableCell,\n    TableBody,\n    Grid,\n    Typography} from '@material-ui/core'\n\nexport default function InformacionProducto({productoSeleccionado}) {\n\n    const classes = useStyles();\n\n    if (!productoSeleccionado) return null;\n\n    return (\n        <Grid container>\n            <Grid item lg={12}>\n                <div className={classes.formInputFlex}>\n                    <Box width=\"100%\">\n                        <Typography>\n                            <b>Nombre:</b>\n                        </Typography>\n                        <Box display=\"flex\">\n                            <Typography>\n                                {productoSeleccionado?.id_producto?.datos_generales?.nombre_comercial}\n                            </Typography>\n                        </Box>\n                    </Box>\n                    <Box width=\"100%\">\n                        <Typography>\n                            <b>Codigo Barras:</b>\n                        </Typography>\n                        <Box display=\"flex\">\n                            <Typography>\n                                {productoSeleccionado?.codigo_barras}\n                            </Typography>\n                        </Box>\n                    </Box>\n                    <Box width=\"70%\">\n                        <Typography>\n                            <b>Cantidad:</b>\n                        </Typography>\n                        <Box display=\"flex\">\n                            <Typography>\n                                {productoSeleccionado?.cantidad}\n                            </Typography>\n                        </Box>\n                    </Box>\n                    <Box width=\"70%\">\n                        <Typography>\n                            <b>Unidad:</b>\n                        </Typography>\n                        <Box display=\"flex\">\n                            <Typography>\n                                {productoSeleccionado?.unidad}\n                            </Typography>\n                        </Box>\n                    </Box>\n                    <Box width=\"70%\">\n                        <Typography>\n                            <b>Descuento:</b>\n                        </Typography>\n                        <Box display=\"flex\">\n                            <Typography>\n                                {productoSeleccionado?.descuento ? productoSeleccionado?.descuento.precio_neto : 0}\n                            </Typography>\n                        </Box>\n                    </Box>\n                    <Box width=\"70%\">\n                        <Typography>\n                            <b>% Descuento:</b>\n                        </Typography>\n                        <Box display=\"flex\">\n                            <Typography>\n                                {productoSeleccionado?.descuento ? productoSeleccionado?.descuento.precio_neto : 0}\n                            </Typography>\n                        </Box>\n                    </Box>\n                </div>\n            </Grid>\n            <Grid item lg={12}>\n                <PreciosDeVentaCompras precios={productoSeleccionado?.id_producto?.precios?.precios_producto} />\n            </Grid>\n        </Grid>\n    )\n}\n\n\nfunction PreciosDeVentaCompras({precios}) {\n\n    return (\n      <div>\n        <TableContainer>\n          <Table aria-label=\"simple table\" size=\"small\">\n            <TableHead>\n              <TableRow>\n                <TableCell style={{ minWidth: 150 }}>Precios de venta</TableCell>\n                {[1, 2, 3, 4, 5, 6].map((numero, index) => (\n                  <TableCell style={{ minWidth: 100 }} key={index}>\n                    {numero}\n                  </TableCell>\n                ))}\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {[\"Precio de venta\"].map((tipo, index) => (\n                <TableRow key={index}>\n                  <TableCell style={{ border: 0 }}>\n                    <b>{tipo}</b>\n                  </TableCell>\n                  {precios?.map((data, index) => (\n                    <TableCell key={index} style={{ border: 0 }}>{data?.precio_neto}</TableCell>\n                  ))}\n                </TableRow>\n              ))}\n            </TableBody>\n          </Table>\n        </TableContainer>\n      </div>\n    );\n  }\n","import React, { useState } from 'react';\nimport { Box, Button, DialogActions, Dialog, \n        DialogContent, Divider, Grid, \n        Typography, Slide, InputBase, Paper, \n        IconButton} from '@material-ui/core'\nimport PhotoLibraryIcon from '@material-ui/icons/PhotoLibrary';\nimport useStyles from '../styles';\nimport { useDebounce } from 'use-debounce/lib';\nimport { FcSearch } from 'react-icons/fc';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { Search } from '@material-ui/icons';\nimport ListaProductos from './ListaProductos';\nimport { useQuery } from '@apollo/client';\nimport { CONSULTA_PRODUCTOS_VENTAS } from '../../../gql/Ventas/ventas_generales';\nimport InformacionProducto from './InformacionProducto';\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function BuscarProducto() {\n    const classes = useStyles();\n    const sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\n    const [open, setOpen] = useState(false);\n    const [ searchProducto, setSearchProducto ] = useState([]);\n    const [ productoSeleccionado, setProductoSeleccionado ] = useState([]);\n    \n\tconst [ value ] = useDebounce(searchProducto, 500);\n\n    const { data, refetch, loading } = useQuery(CONSULTA_PRODUCTOS_VENTAS, {\n\t\tvariables: {\n            empresa: sesion.empresa._id,\n\t\t\tsucursal: sesion.sucursal._id,\n            input: {\n                producto: value.producto ? value.producto : \"\"\n            }\n\t\t}\n\t});\n    \n    let productosBusqueda = [];\n\n    if(data) productosBusqueda = data.obtenerProductosVentas;\n\n    const obtenerDatos = (e) => {\n        setSearchProducto({...searchProducto, [e.target.name]: e.target.value})\n    };\n\n    const keyUpEvent = async (e) => {\n        if (e.code === \"Enter\" || e.code === \"NumpadEnter\") {\n            setSearchProducto({...searchProducto, [e.target.name]: e.target.value});\n            refetch();\n        }   \n    };\n\n    const handleClickOpen = () => { \n        setProductoSeleccionado([]);\n        refetch();\n\t\tsetOpen(!open);\n\t};\n\n    window.addEventListener('keydown', Mi_función); \n    function Mi_función(e){\n        if(e.altKey && e.keyCode === 80){ \n            handleClickOpen();\n        }\n    };\n\n    return (\n        <>\n           <Button \n                className={classes.borderBotonChico}\n                onClick={handleClickOpen}\n            >\n                <Box>\n                    <Box>\n                        <FcSearch style={{fontSize: 45}} />\n                    </Box>\n                    <Box>\n                        <Typography variant=\"body2\" >\n                            <b>Productos</b>\n                        </Typography>\n                    </Box>\n                    <Box>\n                        <Typography variant=\"caption\" style={{color: '#808080'}} >\n                            <b>Alt + P</b>\n                        </Typography>\n                    </Box>\n                </Box>\n            </Button>\n            <Dialog\n\t\t\t\tmaxWidth='md'\n                fullWidth\n\t\t\t\topen={open} \n\t\t\t\tonClose={handleClickOpen} \n\t\t\t\tTransitionComponent={Transition}\n\t\t\t>\n                <DialogContent>\n                    <Grid container>\n                        <Grid item lg={3}>\n                            <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" width=\"100%\">\n                                {productoSeleccionado?.id_producto?.imagenes.length > 0 ? (\n                                    <Box className={classes.containerImage}>\n                                        <img \n                                            alt=\"Imagen producto\" \n                                            src={productoSeleccionado?.id_producto?.imagenes[0].url_imagen} \n                                            className={classes.imagen}\n                                        />\n                                    </Box>\n                                ) : (\n                                    <Box p={8} display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n                                        <PhotoLibraryIcon style={{fontSize: 40}} />\n                                    </Box>\n                                )}\n                            </Box>\n                        </Grid>\n                        <Grid item lg={9}>\n                            <Box display=\"flex\">\n                                <Box\n                                    display=\"flex\"\n                                    flexGrow={1}\n                                >\n                                    <Box>\n                                        <Typography variant=\"h6\">\n                                            Buscar Productos\n                                        </Typography>\n                                    </Box>\n                                </Box>\n                                <Box>\n                                    <Button variant=\"contained\" color=\"secondary\" onClick={handleClickOpen} size=\"large\">\n                                        <CloseIcon />\n                                    </Button>\n                                </Box>\n                            </Box>\n                            <div className={classes.formInputFlex}>\n                                <Box width=\"50%\">\n                                    <Paper className={classes.rootBusqueda}>\n                                        <InputBase\n                                            fullWidth\n                                            name=\"producto\"\n                                            placeholder=\"Buscar producto...\"\n                                            onChange={obtenerDatos}\n                                            onKeyUp={keyUpEvent}\n                                        />\n                                        <IconButton >\n                                            <Search />\n                                        </IconButton>\n                                    </Paper>\n                                </Box>\n                            </div>\n                        </Grid>\n                    </Grid>\n                    <InformacionProducto productoSeleccionado={productoSeleccionado} />\n                    <Grid>\n                        <ListaProductos \n                            productosBusqueda={productosBusqueda}\n                            setProductoSeleccionado={setProductoSeleccionado}\n                            loading={loading}\n                        />\n                    </Grid>\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={handleClickOpen} variant=\"contained\" color=\"primary\" size=\"large\">\n                        AGREGAR\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        </>\n    )\n};\n","import React, { useState } from \"react\";\nimport {\n  Box,\n  Button,\n  Dialog,\n  DialogContent,\n  Grid,\n  IconButton,\n  InputBase,\n  makeStyles,\n  Paper,\n  Slide,\n  Typography,\n} from \"@material-ui/core\";\nimport { Search } from \"@material-ui/icons\";\nimport ListaClientes from \"../../sucursales/Catalogos/Cliente/ListaClientes\";\nimport CrearCliente from \"../../sucursales/Catalogos/Cliente/CrearCliente\";\nimport { ClienteProvider } from \"../../../context/Catalogos/crearClienteCtx\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport { FcBusinessman } from \"react-icons/fc\";\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nconst useStyles = makeStyles((theme) => ({\n  appBar: {\n    position: \"relative\",\n  },\n  title: {\n    marginLeft: theme.spacing(2),\n    flex: 1,\n  },\n  icon: {\n    fontSize: 100,\n  },\n  root: {\n    display: \"flex\",\n    paddingLeft: theme.spacing(2),\n  },\n}));\n\nexport default function ClientesVentas() {\n  const classes = useStyles();\n\n  const [values, setValues] = useState(\"\");\n\n  const pressEnter = (e) => {\n    if (e.key === \"Enter\") setValues(e.target.defaultValue);\n  };\n\n  const [open, setOpen] = useState(false);\n\n  const handleClickOpen = () => {\n    setOpen(!open);\n  };\n\n  window.addEventListener(\"keydown\", Mi_función);\n  function Mi_función(e) {\n    if (e.altKey && e.keyCode === 67) {\n      handleClickOpen();\n    }\n  }\n\n  return (\n    <>\n      <ClienteProvider>\n        <Button\n          style={{\n            height: \"100%\",\n            width: \"100%\",\n            border: \".6px solid #DBDBDB\",\n          }}\n          onClick={handleClickOpen}\n        >\n          <Box>\n            <Box>\n              <FcBusinessman style={{ fontSize: 45 }} />\n            </Box>\n            <Box>\n              <Typography variant=\"body2\">\n                <b>Clientes</b>\n              </Typography>\n            </Box>\n            <Box>\n              <Typography variant=\"caption\" style={{ color: \"#808080\" }}>\n                <b>aLT + C</b>\n              </Typography>\n            </Box>\n          </Box>\n        </Button>\n        <Dialog\n          maxWidth=\"lg\"\n          open={open}\n          onClose={handleClickOpen}\n          TransitionComponent={Transition}\n        >\n          <DialogContent>\n            <Grid container item lg={12}>\n              <Box ml={3} display=\"flex\" flexGrow={1} alignItems=\"center\">\n                <Box>\n                  <FcBusinessman style={{ fontSize: 65 }} />\n                </Box>\n                <Typography variant=\"h6\" className={classes.title}>\n                  Clientes\n                </Typography>\n              </Box>\n              <Box mr={2}>\n                <Button\n                  variant=\"contained\"\n                  color=\"secondary\"\n                  onClick={handleClickOpen}\n                  size=\"large\"\n                >\n                  <CloseIcon style={{ fontSize: 30 }} />\n                </Button>\n              </Box>\n            </Grid>\n            <Box m={2} display=\"flex\" justifyContent=\"space-between\">\n              <Box mr={5} minWidth=\"70%\">\n                <Paper className={classes.root}>\n                  <InputBase\n                    fullWidth\n                    placeholder=\"Buscar cliente...\"\n                    onChange={(e) => setValues(e.target.value)}\n                    onKeyPress={pressEnter}\n                    value={values}\n                  />\n                  <IconButton onClick={() => setValues(values)}>\n                    <Search />\n                  </IconButton>\n                </Paper>\n              </Box>\n              <CrearCliente\n                tipo=\"CLIENTE\"\n                accion=\"registrar\"\n                ventas={true}\n                handleClickOpen={handleClickOpen}\n              />\n            </Box>\n            <Box mx={2}>\n              <ListaClientes\n                tipo=\"CLIENTE\"\n                filtro={values}\n                ventas={true}\n                handleClickOpen={handleClickOpen}\n              />\n            </Box>\n          </DialogContent>\n        </Dialog>\n      </ClienteProvider>\n    </>\n  );\n}\n","import { gql } from \"@apollo/client\";\n\nexport const CREAR_COTIZACION = gql`\nmutation crearCotizacion( $input: CrearVentasInput!, $empresa: ID!, $sucursal: ID!, $usuario: ID!, $caja: ID!) {\n    crearCotizacion(input: $input, empresa: $empresa, sucursal: $sucursal, usuario: $usuario, caja: $caja, ) {\n\t\t\tmessage\n\t\t}\n\t}\n`;","import React, { useContext, useState } from 'react';\nimport {\n    Box, Button, DialogActions, DialogContent, \n    FormControl, Grid, MenuItem, \n    Paper, \n    Select, Slider, TextField, Typography \n} from '@material-ui/core'\nimport useStyles from '../styles';\nimport MonetizationOnIcon from '@material-ui/icons/MonetizationOn';\nimport MoneyOffIcon from '@material-ui/icons/MoneyOff';\nimport moment from 'moment';\nimport 'moment/locale/es';\nimport { CREAR_COTIZACION } from \"../../../gql/Ventas/cotizaciones\";\nimport { VentasContext } from '../../../context/Ventas/ventasContext';\nimport { useMutation } from '@apollo/client';\n\nexport default function NuevaCotizacion({ setOpen }) {\n    const { setAlert } = useContext(VentasContext);\n\n    const [ CrearCotizacion ] = useMutation(CREAR_COTIZACION);\n\n    const datosVentas = JSON.parse(localStorage.getItem('DatosVentas'));\n    const turnoEnCurso = JSON.parse(localStorage.getItem('turnoEnCurso'));\n    const sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\n    const [ newCotizacion, setNewCotizacion ] = useState([]);\n    const [ preciosDescuentos, setPreciosDescuentos ] = useState([]);\n    const [ totalDescount, setTotalDescount ] = useState(preciosDescuentos ? preciosDescuentos?.descuento_general?.precio_con_descuento : 0);\n    const [ value, setValue ] =  useState(preciosDescuentos?.descuento_general?.porciento ? preciosDescuentos?.descuento_general?.porciento : 0);\n\n    let descuento_general = [];\n    var totalCompra = datosVentas?.total;\n\n    \n    const classes = useStyles();\n\n    const obtenerDatos = (e) => {\n        setNewCotizacion({...newCotizacion, [e.target.name]: e.target.value});\n    };\n\n    // const input = {\n    //     folio: \"\",\n    //     descuento: datosVentas.descuento,\n    //     ieps: datosVentas.ieps,\n    //     impuestos: datosVentas.impuestos,\n    //     iva: datosVentas.iva,\n    //     monedero: datosVentas.monedero,\n    //     subTotal: datosVentas.subTotal,\n    //     total: datosVentas.total,\n    //     venta_cliente: false,\n    //     montos_en_caja: {},\n    //     credito: false,\n    //     descuento_general_activo: preciosDescuentos?.descuento_general_activo ? preciosDescuentos?.descuento_general_activo : false,\n    //     decuento_general: preciosDescuentos?.descuento_general ? preciosDescuentos?.descuento_general :\n    //     {\n    //         \"porciento\": 0,\n    //         \"precio_con_descuento\": 0,\n    //         \"cantidad_descontado\": 0\n    //     },\n    //     dias_de_credito_venta: \"\",\n    //     fecha_de_vencimiento_credito: \"\",\n    //     fecha_vencimiento_cotizacion: newCotizacion.fecha_vencimiento,\n    //     cliente: datosVentas.cliente,\n    //     productos: datosVentas.productos,\n    //     tipo_venta: newCotizacion.tipo_venta,\n    // };\n\n    const input = {\n        \"folio\": \"12345\",\n        \"descuento\": datosVentas.descuento,\n        \"ieps\": datosVentas.ieps,\n        \"impuestos\": datosVentas.impuestos,\n        \"iva\": datosVentas.iva,\n        \"monedero\": datosVentas.monedero,\n        \"subTotal\": datosVentas.subTotal,\n        \"total\": datosVentas.total,\n        \"venta_cliente\": false,\n        \"montos_en_caja\": {},\n        \"credito\": false,\n        \"descuento_general_activo\": preciosDescuentos?.descuento_general_activo ? preciosDescuentos?.descuento_general_activo : false,\n        \"decuento_general\": preciosDescuentos?.descuento_general ? preciosDescuentos?.descuento_general :\n        {\n            \"porciento\": 0,\n            \"precio_con_descuento\": 0,\n            \"cantidad_descontado\": 0\n        },\n        \"dias_de_credito_venta\": null,\n        \"fecha_de_vencimiento_credito\": null,\n        \"fecha_vencimiento_cotizacion\": newCotizacion.fecha_vencimiento,\n        \"cliente\":{\n            \"banco\": null,\n            \"celular\": null,\n            \"clave_cliente\": \"23233\",\n            \"curp\": null,\n            \"dias_credito\": null,\n            \"direccion\":{\n                \"calle\": \"Antonio\",\n                \"no_ext\": \"1\",\n                \"no_int\": \"1\",\n                \"codigo_postal\": \"1\",\n                \"colonia\": \"Antonio\",\n                \"municipio\": \"1\",\n                \"localidad\": \"1\",\n                \"estado\": \"1\",\n                \"pais\": \"1\"\n            },\n            \"email\": \"antonio.poday@gmail.com\",\n            \"imagen\": null,\n            \"limite_credito\": null,\n            \"nombre_cliente\": \"Antonio\",\n            \"numero_cliente\": \"2323\",\n            \"razon_social\": null,\n            \"rfc\": null,\n            \"telefono\": \"1212\",\n            \"monedero_electronico\": null\n        },\n        \"productos\": [\n        {\n            \"cantidad\": 1,\n            \"cantidad_venta\": 1,\n            \"codigo_barras\": \"226216505720\",\n            \"concepto\": \"unidades\",\n            \"default\": true,\n            \"descuento\": {\n                \"porciento\": 15,\n                \"dinero_descontado\": 5.4,\n                \"precio_con_descuento\": 30.6\n            },\n            \"descuento_activo\": true,\n                \"granel_producto\": {\n                \"granel\": false,\n                \"valor\": 0\n            },\n            \"precio\": 8.25,\n            \"precio_a_vender\": 8.25,\n            \"precio_actual_producto\": 8.25,\n            \"precio_anterior\":8.25,\n            \"iva_total_producto\": 1.03,\n            \"ieps_total_producto\": 0,\n            \"impuestos_total_producto\": 1.03,\n            \"subtotal_total_producto\": 7.22,\n            \"total_total_producto\": 8.25,\n            \"unidad\": \"Caja\",\n            \"codigo_unidad\": \"XBX\",\n            \"unidad_principal\": true,\n            \"inventario_general\": [\n                {\n                    \"cantidad_existente\": 120,\n                    \"cantidad_existente_maxima\": 10,\n                    \"unidad_inventario\": \"Pz\",\n                    \"codigo_unidad\": null,\n                    \"unidad_maxima\": \"Caja\"\n                }\n            ],\n            \"id_producto\":{\n                \"_id\": \"61b7bf6e3454b727a0c2e357\",\n                \"datos_generales\": {\n                    \"clave_alterna\": \"COCA\",\n                    \"codigo_barras\": \"226216505720\",\n                    \"nombre_comercial\": \"COCACOLA\",\n                    \"tipo_producto\": \"OTROS\",\n                    \"nombre_generico\": \"COCACOLA\",\n                    \"descripcion\": null,\n                    \"id_categoria\": null,\n                    \"categoria\": null,\n                    \"subcategoria\": null,\n                    \"id_subcategoria\": null,\n                    \"id_departamento\": null,\n                    \"departamento\": null,\n                    \"id_marca\": null,\n                    \"marca\": null,\n                    \"receta_farmacia\": false,\n                    \"clave_producto_sat\":{\n                        \"Name\": \"Refrescos\",\n                        \"Value\": \"50202306\"\n                    }\n                },\n                \"imagenes\":[{\n                    \"url_imagen\": \"\"\n                }],\n                \"precios\":{\n                    \"ieps\": 10,\n                    \"ieps_activo\": false,\n                    \"inventario\": {\n                        \"inventario_maximo\": 15,\n                        \"inventario_minimo\": 5,\n                        \"unidad_de_inventario\": \"Caja\",\n                        \"codigo_unidad\": \"XBX\"\n                    },\n                    \"iva\": 16,\n                    \"iva_activo\": true,\n                    \"monedero\": false,\n                    \"monedero_electronico\": 0,\n                    \"precio_de_compra\": {\n                        \"precio_con_impuesto\": 180,\n                        \"precio_sin_impuesto\": 155.1724,\n                        \"iva\": 24.8276,\n                        \"ieps\": 0\n                    },\n                    \"precios_producto\": [\n                        {\n                            \"numero_precio\": 1,\n                            \"precio_neto\": 8.25,\n                            \"unidad_mayoreo\": 0,\n                            \"utilidad\": 10\n                        },\n                        {\n                            \"numero_precio\": 2,\n                            \"precio_neto\": 0,\n                            \"unidad_mayoreo\": 0,\n                            \"utilidad\": 0\n                        },\n                        {\n                            \"numero_precio\": 3,\n                            \"precio_neto\": 0,\n                            \"unidad_mayoreo\": 0,\n                            \"utilidad\": 0\n                        },\n                        {\n                            \"numero_precio\": 4,\n                            \"precio_neto\": 0,\n                            \"unidad_mayoreo\": 0,\n                            \"utilidad\": 0\n                        },\n                        {\n                            \"numero_precio\": 5,\n                            \"precio_neto\": 0,\n                            \"unidad_mayoreo\": 0,\n                            \"utilidad\": 0\n                        },\n                        {\n                            \"numero_precio\": 6,\n                            \"precio_neto\": 0,\n                            \"unidad_mayoreo\": 0,\n                            \"utilidad\": 0\n                        }\n                        ],\n                    \"unidad_de_compra\": {\n                        \"cantidad\": 24,\n                        \"precio_unitario_con_impuesto\": 7.5,\n                        \"precio_unitario_sin_impuesto\": 6.4655,\n                        \"unidad\": \"Caja\",\n                        \"codigo_unidad\": \"XBX\"\n                    }\n                }\n            },\n            \"medida\": null,\n            \"color\": null\n        }]\n    };\n\n    const crearCotizacion = async () => {\n        try {\n            if(!newCotizacion.fecha_vencimiento || !newCotizacion.tipo_venta){\n                setAlert({\n                    message: `Por favor completa los datos necesarios`,\n                    status: \"error\",\n                    open: true,\n                });\n                return null;\n            }else{\n                const registroCotizacion = await CrearCotizacion({\n                    variables: {\n                        input,\n                        empresa: \"60c120b6a694891f58d32a1d\",\n                        sucursal: \"60c8e180340d5d223432a916\",\n                        usuario: \"60dde52c5cda9d5510c4b7d0\",\n                        caja: \"61a5037918594a4ecdc1c7bf\"\n                    }\n                });\n                console.log(registroCotizacion);\n            }\n\n        } catch (error) {\n            console.log(error);\n            if(error.networkError.result){\n\t\t\t\tconsole.log(error.networkError.result.errors);\n\t\t\t  }else if(error.graphQLErrors){\n\t\t\t\tconsole.log(error.graphQLErrors.message);\n\t\t\t  }\n\n        }\n    };\n\n    function valuetext(e) {\n        return `${e}`;\n    };\n\n    const obtenerPorciento = (event, newValue) => {\n        setValue(newValue);\n        var porcentaje  =  parseFloat((100 - newValue).toFixed(6));\n        var descuento = parseFloat((totalCompra * porcentaje / 100).toFixed(6));\n        var dineroDescontado = parseFloat((totalCompra - descuento).toFixed(6));\n        descuento_general = {\n            \"descuento_general_activo\": true,\n            \"descuento_general\": {\n                \"porciento\": newValue,\n                \"precio_con_descuento\": descuento,\n                \"cantidad_descontado\": dineroDescontado\n            }\n        };\n        setPreciosDescuentos(descuento_general);\n        setTotalDescount(descuento);\n    };\n    \n    const obtenerPrecioText = (e) => {\n        var valorText = parseFloat(e.target.value);\n        setTotalDescount(valorText);\n        var porcentaje  = parseFloat(((valorText / totalCompra) * 100).toFixed(6));\n        var descuento = parseFloat((100 - porcentaje).toFixed(6));\n        var dineroDescontado = parseFloat((totalCompra - valorText).toFixed(6));\n\n        descuento_general = {\n            \"descuento_general_activo\": true,\n            \"descuento_general\": {\n                \"porciento\": descuento,\n                \"precio_con_descuento\": valorText,\n                \"cantidad_descontado\": dineroDescontado\n            }\n        };\n        setPreciosDescuentos(descuento_general);\n        setValue(descuento);\n    };\n\n    const eliminarDescuento = () => { \n        descuento_general = {\n            \"descuento_general_activo\": false,\n            \"descuento_general\": {\n                \"porciento\": 0,\n                \"precio_con_descuento\": 0,\n                \"cantidad_descontado\": 0\n            }\n        };\n        setValue(0);\n        setTotalDescount(0);\n        setPreciosDescuentos(descuento_general);\n    }\n\n    return (\n        <>\n            <DialogContent style={{padding: 0}} >\n                <div className={classes.formInputFlex}>\n                    <Box width=\"100%\">\n                        <Typography>\n                            Usuario:\n                        </Typography>\n                        <Box display=\"flex\">\n                            <TextField\n                                fullWidth\n                                size=\"small\"\n                                disabled={true}\n                                variant=\"outlined\"\n                                onChange={obtenerDatos}\n                                value={sesion ? sesion.nombre : \"\"}\n                            />\n                        </Box>\n                    </Box>\n                    <Box width=\"100%\">\n                        <Typography>\n                            Fecha:\n                        </Typography>\n                        <Box display=\"flex\">\n                            <TextField\n                                fullWidth\n                                size=\"small\"\n                                disabled={true}\n                                onChange={obtenerDatos}\n                                variant=\"outlined\"\n                                value={moment().format('L')}\n                            />\n                        </Box>\n                    </Box>\n                </div>\n                <div className={classes.formInputFlex}>\n                    <Box width=\"100%\">\n                        <Typography>\n                            Cliente:\n                        </Typography>\n                        <Box display=\"flex\">\n                            <TextField\n                                fullWidth\n                                size=\"small\"\n                                disabled={true}\n                                onChange={obtenerDatos}\n                                variant=\"outlined\"\n                                value={datosVentas.cliente?.nombre_cliente ? datosVentas.cliente?.nombre_cliente : \"Publico General\"}\n                            />\n                        </Box>\n                    </Box>\n                    <Box width=\"100%\">\n                        <Typography>\n                            Fecha Vencimiento:\n                        </Typography>\n                        <Box display=\"flex\">\n                            <TextField\n                                fullWidth\n                                type='date'\n                                onChange={obtenerDatos}\n                                size=\"small\"\n                                name=\"fecha_vencimiento\"\n                                variant=\"outlined\"\n                            />\n                        </Box>\n                    </Box>\n                </div>\n                <div className={classes.formInputFlex}>\n                    <Box width=\"100%\">\n                        <Typography>\n                            No. Cliente:\n                        </Typography>\n                        <Box display=\"flex\">\n                            <TextField\n                                fullWidth\n                                size=\"small\"\n                                disabled={true}\n                                onChange={obtenerDatos}\n                                variant=\"outlined\"\n                                value={datosVentas ? datosVentas.cliente?.numero_cliente : \"\"}\n                            />\n                        </Box>\n                    </Box>\n                    <Box width=\"100%\">\n                        <Typography>\n                            Tipo de Venta:\n                        </Typography>\n                        <FormControl\n                            variant=\"outlined\"\n                            fullWidth\n                            size=\"small\"\n                        >\n                            <Select\n                                id=\"form-producto-tipo\"\n                                onChange={obtenerDatos}\n                                name=\"tipo_venta\"\n                            >\n                                <MenuItem value=''>\n                                    <em>Selecciona uno</em>\n                                </MenuItem>\n                                <MenuItem value='CREDITO'>Credito</MenuItem>\n                                <MenuItem value='CONTADO'>Contado</MenuItem>\n                            </Select>\n                        </FormControl>\n                    </Box>\n                </div>\n                <Grid container>\n                    <Grid lg={6}>\n                        <Box p={1}>\n                            <Paper elevation={3} >\n                                <Box p={2} textAlign={'center'}>\n                                    <Typography variant=\"h6\">\n                                        Agregar descuento total a la venta.\n                                    </Typography>\n                                </Box>\n                                <Box textAlign={'center'} p={2}>\n                                    <div className={classes.formInputFlex}>\n                                        <Box width=\"95%\">\n                                            <Box display=\"flex\" alignItems=\"center\">\n                                                <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" p={1}>\n                                                    <img \n                                                        src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/price-tag.png' \n                                                        alt=\"icono admin\" \n                                                        style={{width: 30}}                                   \n                                                    />\n                                                </Box>\n                                                <Typography variant=\"h6\">\n                                                    Porciento descuento\n                                                </Typography>\n                                            </Box>\n                                            <Box display='flex' justifyContent=\"center\" justifyItems=\"center\" className={classes.rootSlice}>\n                                                <Slider\n                                                    getAriaValueText={valuetext}\n                                                    value={value.toFixed(2)}\n                                                    aria-labelledby=\"discrete-slider-small-steps\"\n                                                    valueLabelDisplay=\"auto\"\n                                                    onChange={obtenerPorciento} \n                                                />\n                                            </Box>\n                                        </Box>\n                                    </div>\n                                    <div className={classes.formInputFlex}>\n                                        <Box width=\"100%\">\n                                            <Typography variant=\"h6\" >\n                                                Total con descuento:\n                                            </Typography>\n                                            <Box display=\"flex\">\n                                                <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" mr={1}>\n                                                    <MoneyOffIcon style={{fontSize: 38, color: \"green\"}} />\n                                                </Box>\n                                                <TextField\n                                                    fullWidth\n                                                    size=\"small\"\n                                                    type=\"number\"\n                                                    name=\"precioConDescuento\"\n                                                    onChange={obtenerPrecioText}\n                                                    value={totalDescount}\n                                                    className={classes.input}\n                                                    variant=\"outlined\"\n                                                />\n                                            </Box>\n                                        </Box>\n                                    </div>\n                                </Box>\n                                <Box \n                                    p={1}\n                                    display=\"flex\"\n                                    flexDirection='row-reverse'\n                                >\n                                    <Button \n                                        variant=\"outlined\"\n                                        color=\"secondary\"\n                                        size=\"large\"\n                                        onClick={eliminarDescuento}\n                                    >\n                                        Eliminar Descuento\n                                    </Button>\n                                </Box>\n                            </Paper>\n                        </Box>\n                    </Grid>\n                    <Grid lg={6}>\n                        <Box mr={2} mt={2}>\n                            <Box display=\"flex\" flexDirection=\"row-reverse\" width=\"100%\">\n                                <Typography style={{fontSize: 18}}>\n                                    <b>No. Productos: </b> {datosVentas.productos.length}\n                                </Typography>\n                            </Box>\n                            <Box display=\"flex\" flexDirection=\"row-reverse\" width=\"100%\">\n                                <Typography style={{fontSize: 18}}>\n                                    <b>Sub total:</b> ${datosVentas ? (datosVentas.subTotal).toFixed(2) : 0}\n                                </Typography>\n                            </Box>\n                            <Box display=\"flex\" flexDirection=\"row-reverse\" width=\"100%\">\n                                <Typography style={{fontSize: 18}}>\n                                    <b>Impuestos:</b> ${datosVentas ? (datosVentas.impuestos).toFixed(2): 0}\n                                </Typography>\n                            </Box>\n                            <Box display=\"flex\" flexDirection=\"row-reverse\" width=\"100%\">\n                                <Typography style={{fontSize: 18}}>\n                                    <b>I.V.A.:</b> ${datosVentas ? (datosVentas.iva).toFixed(2) : 0}\n                                </Typography>\n                            </Box>\n                            <Box display=\"flex\" flexDirection=\"row-reverse\" width=\"100%\">\n                                <Typography style={{fontSize: 18}}>\n                                    <b>Descuento:</b> <b style={{color: \"green\"}}>${preciosDescuentos?.descuento_general ? (preciosDescuentos?.descuento_general?.cantidad_descontado).toFixed(2) : 0} </b>\n                                </Typography>\n                            </Box>\n                        </Box>\n                        <Box display=\"flex\" flexDirection=\"row-reverse\" p={1}>\n                            <Typography variant=\"h4\">\n                                Total: \n                                <b style={{color: \"green\"}}>\n                                    ${preciosDescuentos?.descuento_general && preciosDescuentos?.descuento_general?.precio_con_descuento > 0? \n                                    (preciosDescuentos?.descuento_general?.precio_con_descuento).toFixed(2) : (\n                                        datosVentas ? (datosVentas.total).toFixed(2) : 0\n                                    )}\n                                </b>\n                            </Typography>\n                            <Box mt={.5} mr={1}>\n                                <MonetizationOnIcon style={{fontSize: 37, color: \"green\"}} />\n                            </Box>\n                        </Box>\n                    </Grid>\n                </Grid>\n            </DialogContent>\n            <DialogActions>\n                <Button\n                    color=\"primary\"\n                    variant=\"outlined\"\n                    size=\"large\"\n                    onClick={crearCotizacion}\n                >\n                    Crear cotización\n                </Button>\n                <Button\n                    color=\"secondary\"\n                    variant=\"outlined\"\n                    size=\"large\"\n                    onClick={() => setOpen(false)}\n                >\n                    Cancelar\n                </Button>\n            </DialogActions>\n        </>\n    )\n};","import React, { useContext, useEffect, useState } from 'react'\nimport { AppBar, Box, Button, \n\t\tDialog, Slide, Typography \n} from '@material-ui/core'\nimport { FcCurrencyExchange } from 'react-icons/fc';\nimport NuevaCotizacion from './NuevaCotizacion';\nimport CloseIcon from '@material-ui/icons/Close';\nimport moment from 'moment';\nimport 'moment/locale/es';\nimport useStyles from '../styles';\nimport { AccesosContext } from '../../../context/Accesos/accesosCtx';\nimport { VentasContext } from '../../../context/Ventas/ventasContext';\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\nexport default function Cotizacion({type}) {\n\n\n    moment.locale('es');\n\tconst classes = useStyles();\n\n    const sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n    const turnoEnCurso = JSON.parse(localStorage.getItem('turnoEnCurso'));\n    const datosVentas = JSON.parse(localStorage.getItem('DatosVentas'));\n\tconst [tipoVentana, setTipoVentana] = useState(type);\n\n\tconst { \n\t\treloadCrearCotizacion, \n        setReloadCrearCotizacion,\n\t\tsetAbrirPanelAcceso,\n        abrirPanelAcceso,\n\t\tsetDepartamentos\n\t} = useContext(AccesosContext);\n\n\tconst { \n\t\tsetAlert, \n\t} = useContext(VentasContext);\n\n    const [open, setOpen] = useState(false);\n\n\tconst handleClickOpen = (tipo) => {\n\t\tif(!datosVentas){\n\t\t\tsetAlert({\n\t\t\t\tmessage: `Lo sentimos no hay productos que cotizar`,\n\t\t\t\tstatus: \"error\",\n\t\t\t\topen: true,\n\t\t\t});\n\t\t\treturn null;\n\t\t}else{\n\t\t\tif(sesion?.accesos.ventas.cotizaciones.ver === true){\n\t\t\t\tsetOpen(!open);\n\t\t\t}else{\n\t\t\t\tconsole.log('pedir permiso');\n\t\t\t\tsetAbrirPanelAcceso(!abrirPanelAcceso);\n\t\t\t\tsetDepartamentos({departamento: 'ventas', subDepartamento: 'cotizaciones', tipo_acceso: 'ver'})\n\t\t\t}\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tif(reloadCrearCotizacion === true){\n\t\t\tsetReloadCrearCotizacion(false);\n\t\t\tsetTipoVentana('GENERAR');\n\t\t\tsetOpen(!open);\n\t\t}\n\t}, [reloadCrearCotizacion]);\n\n    window.addEventListener('keydown', Mi_función); \n    function Mi_función(e){\n        if(e.altKey && e.keyCode === 84){ \n            handleClickOpen('', false);\n        } \n    };\n\n    return (\n        <>\n\t\t\t<Button \n\t\t\t\tclassName={classes.borderBotonChico}\n\t\t\t\tonClick={() => handleClickOpen(tipoVentana)}\n\t\t\t>\n\t\t\t\t<Box>\n\t\t\t\t\t<Box>\n\t\t\t\t\t\t<FcCurrencyExchange style={{fontSize: 50}} />\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box>\n\t\t\t\t\t\t<Typography variant=\"body2\" >\n\t\t\t\t\t\t\t<b>Generar cotizacion</b>\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</Box>\n\t\t\t\t</Box>\n\t\t\t</Button>\n        \t<Dialog\n\t\t\t\tfullWidth\n\t\t\t\topen={open} \n\t\t\t\tmaxWidth={ tipoVentana === \"GENERAR\" ? 'md':'lg' }\n\t\t\t\tonClose={() => setOpen(false)} \n\t\t\t\tTransitionComponent={Transition}\n\t\t\t>\n                <AppBar position=\"static\" color=\"default\" elevation={0}>\n\t\t\t\t\t<Box display={'flex'}>\n                        <Box display='flex' flexGrow={1} >\n                            <Box p={2} display={'flex'} alignItems={'center'}>\n\t\t\t\t\t\t\t\t<FcCurrencyExchange style={{fontSize: 60}} />\n                            </Box>\n                            <Box p={1} display={'flex'} alignItems={'center'}>\n                                <Typography variant='h6'>\n\t\t\t\t\t\t\t\t\tNueva Cotización\n                                </Typography>\n                            </Box>\n                        </Box>\n                        <Box mt={2} textAlign=\"right\">\n                            <Box textAlign=\"right\">\n                                <Typography variant=\"caption\">\n                                    {moment().format('L')}\n                                </Typography>\n                            </Box>\n                            <Box textAlign=\"right\">\n                                <Typography variant=\"caption\">\n                                    {moment().format('LT')} hrs.\n                                </Typography>\n                            </Box>\n                            <Box textAlign=\"right\">\n                                <Typography variant=\"caption\">\n                                    {sesion?.nombre}\n                                </Typography>\n                            </Box>\n                            <Box textAlign=\"right\">\n                                <Typography variant=\"caption\">\n                                    Caja {!turnoEnCurso ? null : turnoEnCurso.numero_caja }\n                                </Typography>\n                            </Box>\n                        </Box>\n                        <Box  p={3} >\n                            <Button variant=\"contained\" color=\"secondary\" onClick={() => setOpen(!open)} size=\"medium\">\n                                <CloseIcon />\n                            </Button>\n                        </Box>\n                    </Box>\n\t\t\t\t</AppBar>\n\t\t\t\t<Box p={2} >\n\t\t\t\t\t<NuevaCotizacion setOpen={setOpen} />\n\t\t\t\t</Box>\n\t\t\t</Dialog>\n\t\t</>\n\t)\n};\n","import React, { useContext, useEffect, useState } from 'react';\nimport { Box, Button, Dialog, DialogActions, DialogContent, Divider, Grid, Slide, Typography } from '@material-ui/core'\nimport useStyles from '../styles';\nimport { AccesosContext } from '../../../context/Accesos/accesosCtx';\nimport CloseIcon from '@material-ui/icons/Close';\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function CancelarVenta() {\n    const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n    const classes = useStyles();\n    const [open, setOpen] = useState(false);\n\n    const { \n\t\treloadCancelarVenta, \n        setReloadCancelarVenta,\n\t\tsetAbrirPanelAcceso,\n        abrirPanelAcceso,\n\t\tsetDepartamentos\n\t} = useContext(AccesosContext);\n    \n    const handleClickOpen = () => {\n        if(sesion.accesos.ventas.cancelar_venta.ver === true){\n            setOpen(!open);\n        }else{\n\t\t\tsetAbrirPanelAcceso(!abrirPanelAcceso);\n\t\t\tsetDepartamentos({departamento: 'ventas', subDepartamento: 'cancelar_venta', tipo_acceso: 'ver'})\n\t\t}\n\t};\n    \n    window.addEventListener('keydown', Mi_función); \n    function Mi_función(e){\n        if(e.keyCode === 118){ \n            handleClickOpen();\n        } \n    };\n\n    useEffect(() => {\n\t\tif (reloadCancelarVenta === true) {\t\n            setOpen(!open);\n\t\t\tsetReloadCancelarVenta(false);\n\t\t}\n\t}, [reloadCancelarVenta]);\n    \n\n    return (\n        <>\n            <Button \n                className={classes.borderBotonChico}\n                onClick={handleClickOpen}\n            >\n                <Box>\n                    <Box>\n                        <img \n                            src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/ventas/shopping-cart.svg' \n                            alt=\"icono cancelarventa\" \n                            style={{width: 35}}\n                        />\n                    </Box>\n                    <Box>\n                        <Typography variant=\"body2\" >\n                            <b>Cancelar Venta</b>\n                        </Typography>\n                    </Box>\n                    <Box>\n                        <Typography variant=\"caption\" style={{color: '#808080'}} >\n                            <b>F7</b>\n                        </Typography>\n                    </Box>\n                </Box>\n            </Button>\n            <Dialog\n\t\t\t\tmaxWidth='lg'\n\t\t\t\topen={open} \n\t\t\t\tonClose={handleClickOpen} \n\t\t\t\tTransitionComponent={Transition}\n\t\t\t>\n                <DialogContent>\n                    <Grid container item lg={12}>\n                        <Box\n                            display=\"flex\"\n                            alignItems=\"center\"\n                            justifyContent=\"center\"\n                            flexGrow={1}\n                        >\n                            <Box>\n                                <img src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/ventas/shopping-cart.svg' alt=\"icono caja\" className={classes.iconSizeDialogs} />\n                            </Box>\n                            <Box m={2} >\n                                <Divider orientation=\"vertical\" />\n                            </Box>\n                            <Box>\n                                <Typography variant=\"h5\">\n                                    Cancelar Venta\n                                </Typography>\n                            </Box>\n                        </Box>\n                        <Box ml={10} mb={7} display=\"flex\" alignItems=\"center\">\n                            <Button variant=\"contained\" color=\"secondary\" onClick={()=> setOpen(!open)} size=\"large\">\n                                <CloseIcon />\n                            </Button>\n                        </Box>\n                    </Grid>\n                    <Box p={2}>\n                        <Typography variant='h5'>\n                            ¿Esta seguro que desea cancelar esta venta?\n                        </Typography>\n                    </Box> \n                </DialogContent>\n                <DialogActions>\n                    <Button \n                        onClick={()=>{\n                            localStorage.removeItem('DatosVentas');\n                            setOpen(!open);\n                        }} \n                        variant=\"contained\" \n                        color=\"primary\"\n                        size=\"large\"\n                        autoFocus\n                    >\n                        Aceptar\n                    </Button>\n                    {/* <Button \n                        onClick={() => setOpen(!open)} \n                        variant=\"contained\" \n                        color=\"secondary\"\n                        size=\"large\"\n                        autoFocus\n                    >\n                        Cancelar\n                    </Button> */}\n                </DialogActions>\n            </Dialog>\n        </>\n    )\n}\n","import React, { useState, useEffect, useContext } from \"react\";\nimport useStyles from \"../styles\";\n\nimport {\n  Box,\n  Button,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  Divider,\n  Grid,\n  IconButton,\n  Paper,\n  Slide,\n  TextField,\n  Typography,\n  InputAdornment,\n} from \"@material-ui/core\";\n// import tarjetaIcon from \"../../../icons/ventas/tarjeta-de-credito.svg\";\nimport { FcDonate, FcShop } from \"react-icons/fc\";\n// import { Search } from \"@material-ui/icons\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport CreditCardIcon from \"@material-ui/icons/CreditCard\";\nimport LocalOfferIcon from \"@material-ui/icons/LocalOffer\";\n\nimport ClearIcon from \"@material-ui/icons/Clear\";\n\nimport { Edit, ImportExport, PartyMode } from \"@material-ui/icons\";\n\nimport { FcBusinessman, FcSalesPerformance } from \"react-icons/fc\";\n// import { parse } from \"graphql\";\nimport { numerosRandom } from \"../../../config/reuserFunctions\";\nimport { formaPago } from \"../../../pages/sucursales/Facturacion/catalogos\";\n\nimport { CREAR_VENTA } from \"../../../gql/Ventas/ventas_generales\";\nimport { useMutation } from \"@apollo/client\";\nimport moment from \"moment\";\nimport { parse } from \"graphql\";\n\nimport { VentasContext } from \"../../../context/Ventas/ventasContext\";\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function CerrarVenta() {\n  const classes = useStyles();\n  const [cambio, setCambio] = useState(false);\n\n  const abrirCajon = () => {\n    setCambio(!cambio);\n  };\n  const [open, setOpen] = useState(false);\n\n  const [openModalDescuento, setOpenModalDescuento] = useState(false);\n\n  const [recalcular, setRecalcular] = useState(false);\n\n  //Datos del context\n  const { updateTablaVentas, setUpdateTablaVentas } = useContext(VentasContext);\n\n  //states de venta\n  const [totalVenta, setTotalVenta] = useState(0);\n  const [montoPagado, setMontoPagado] = useState(0);\n  const [cambioVenta, setCambioVenta] = useState(0);\n  const [datosCliente, setDatosCliente] = useState({});\n  const [monedero, setMonedero] = useState(0);\n  const [descuentoVenta, setDescuentoVenta] = useState(0);\n  const [fechaVencimientoDate, setfechaVencimientoDate] = useState(\"\");\n  const [valorPuntoProducto, setValorPuntoProducto] = useState(0.5);\n  const [valorFinalCambioPuntos, setValorFinalCambioPuntos] = useState(0);\n  const [monederoTotal, setMonederoTotal] = useState(0);\n  const [ventaActual, setVentaActual] = useState(0);\n  const [editableClient, setEditableClient] = useState(true);\n  const [visible, setVisible] = useState(false);\n\n  //States descuento venta\n  const [descuentoAplicarVenta, setDescuentoAplicarVenta] = useState(0);\n  const [descuentoPorsentajeVenta, setDescuentoPorsentajeVenta] = useState(0);\n\n  // const [descuentoAplicadoVenta, setDescuentoAplicadoVenta] = useState(0);\n  const [ventaOriginal, setVentaOriginal] = useState(0);\n\n  //States de los montos a pagar\n  const [efectivo, setEfectivo] = useState(0);\n  const [tarjeta, setTarjeta] = useState(0);\n  const [puntos, setPuntos] = useState(0);\n  const [transferencia, setTransferencia] = useState(0);\n  const [cheque, setCheque] = useState(0);\n\n  const [descuentoAplicado, setdescuentoAplicado] = useState(false);\n\n  const [createVenta] = useMutation(CREAR_VENTA);\n\n  const handleClickOpen = () => {\n    setOpen(!open);\n    setRecalcular(!recalcular);\n    //TODO: Guardar la venta original en un context u localstorage por si se quiere resetear el descuento\n  };\n\n  const hancleClickCerrarVentaCambio = () => {\n    setCambio(!cambio);\n    //Limpiar el storage de ventas\n    localStorage.setItem(\n      \"DatosVentas\",\n      JSON.stringify({\n        cliente: {},\n        venta_cliente: false,\n        monedero: 0,\n        productos: [],\n        total: 0,\n        subTotal: 0,\n        impuestos: 0,\n        iva: 0,\n        ieps: 0,\n        descuento: 0,\n      })\n    );\n    //Actualizar la tabla de ventas\n    setUpdateTablaVentas(!updateTablaVentas);\n  }\n\n  function funcion_tecla(event) {\n    const tecla_escape = event.keyCode;\n    if (tecla_escape === 27) {\n      handleClickOpen();\n    }\n  }\n\n  const handleClickFinishVenta = async () => {\n    try {\n\n      //TODO: Colocar loading en el modal\n      const sesion = JSON.parse(localStorage.getItem(\"turnoEnCurso\"));\n      const usuario = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n\n      const ventaFinal = { ...ventaActual };\n\n      //Generar folio\n      const folio = numerosRandom(100000000000, 999999999999);\n      console.log(folio);\n      //Agregar los montos en caja\n      const montosEnCaja = {\n        monto_efectivo: {\n          monto: parseFloat(efectivo),\n          metodo_pago: formaPago[0].Value,\n        },\n        monto_tarjeta_debito: {\n          monto: parseFloat(tarjeta),\n          metodo_pago: formaPago[3].Value,\n        },\n        monto_tarjeta_credito: {\n          monto: 0,\n          metodo_pago: formaPago[3].Value,\n        },\n        monto_creditos: {\n          monto: 0,\n          metodo_pago: \"\",\n        },\n        monto_monedero: {\n          monto: parseFloat(tarjeta),\n          metodo_pago: formaPago[4].Value,\n        },\n        monto_transferencia: {\n          monto: parseFloat(transferencia),\n          metodo_pago: formaPago[2].Value,\n        },\n        monto_cheques: {\n          monto: parseFloat(cheque),\n          metodo_pago: formaPago[1].Value,\n        },\n        monto_vales_despensa: {\n          monto: 0,\n          metodo_pago: formaPago[6].Value,\n        },\n      };\n      ventaFinal.montos_en_caja = montosEnCaja;\n      //Agregar folio venta\n      ventaFinal.folio = `${folio}`;\n      //Credito a credito false\n      ventaFinal.credito = visible;\n      //Agregar descuentos de ventas\n      ventaFinal.descuento_general_activo = false;\n      ventaFinal.decuento_general = null;\n      //Declarar dias de credito como false\n      ventaFinal.dias_de_credito_venta = datosCliente\n        ? datosCliente.dias_credito\n        : null;\n      ventaFinal.fecha_de_vencimiento_credito = fechaVencimientoDate;\n      ventaFinal.fecha_vencimiento_cotizacion = null;\n      ventaFinal.cambio = cambioVenta;\n      //Enviar los datos\n\n      console.log(ventaFinal);\n\n      const venta_realizada = await createVenta({\n        variables: {\n          input: ventaFinal,\n          empresa: sesion.empresa,\n          sucursal: sesion.sucursal,\n          usuario: usuario._id,\n          caja: sesion.id_caja,\n        },\n      });\n\n      //Mandar mensaje de error en dado caso de que la venta sea incorrecta\n\n      //TODO: Quitar loading\n      //Cerrar modal venta\n      setOpen(!open);\n      //Mandar mensaje de cambio en dado caso de ser correcta\n      setCambio(!cambio);\n      \n      console.log(ventaActual);\n    } catch (error) {\n      console.log(error);\n      if (error.networkError.result) {\n        console.log(error.networkError.result.errors);\n      } else if (error.graphQLErrors) {\n        console.log(error.graphQLErrors.message);\n      }\n    }\n  };\n\n  const handlerChangeValue = (e, location) => {\n    switch (location) {\n      case \"EFECTIVO\":\n        setEfectivo(e.target.value);\n        break;\n      case \"TARJETA\":\n        setTarjeta(e.target.value);\n        break;\n\n      case \"PUNTOS\":\n        const valor = e.target.value != \"\" ? parseInt(e.target.value) : 0;\n        console.log(e.target.value, valor);\n        if (valor <= monederoTotal) {\n          const valor2 = valorPuntoProducto * parseFloat(valor);\n          setPuntos(valor);\n          setValorFinalCambioPuntos(valor2);\n          console.log(\"valor2 >>\", valor2);\n        }\n        break;\n      case \"TRANSFERENCIA\":\n        setTransferencia(e.target.value);\n        break;\n      case \"CHEQUE\":\n        setCheque(e.target.value);\n        break;\n      default:\n        return alert(\"Error de pago\");\n    }\n  };\n\n  window.onkeydown = funcion_tecla;\n\n  const handlerChangeDiscountVenta = (e) => {\n    const valor = e.target.value;\n    setDescuentoAplicarVenta(valor);\n    setDescuentoPorsentajeVenta(0);\n    if (valor !== \"\") {\n      const ventaSubtotal = ventaActual.subTotal;\n      const descuento =\n        ((ventaSubtotal - parseFloat(valor)) * 100) / ventaActual.subTotal -\n        100;\n      const positiveDiscount = Math.abs(descuento);\n      setDescuentoPorsentajeVenta(parseFloat(positiveDiscount.toFixed(2)));\n    }\n  };\n\n  const handleChangePorsentDiscount = (e) => {\n    const valor = e.target.value;\n    setDescuentoAplicarVenta(0);\n    setDescuentoPorsentajeVenta(valor);\n    if (valor !== \"\") {\n      const ventaSubtotal = ventaActual.subTotal;\n      const val =\n        valor < 10\n          ? parseFloat(`0.0${valor.replace(\".\", \"\")}`)\n          : parseFloat(`0.${valor.replace(\".\", \"\")}`);\n      const porsent = ventaSubtotal * val;\n      setDescuentoAplicarVenta(porsent.toFixed(2));\n    }\n  };\n\n  const handleCalculateNewDiscountVenta = () => {\n    let venta = JSON.parse(localStorage.getItem(\"DatosVentas\"));\n    //Declarar la variables necesarias (total, subTotal, impuestos, iva ieps, productosFinal)\n    let total = 0,\n      subTotal = 0,\n      impuestos = 0,\n      iva = 0,\n      ieps = 0,\n      descuento = 0;\n    let productosFinal = [];\n    //Activar loading\n\n    //Obtener productos\n    const productStorage = ventaActual.productos;\n    //Mapearlos\n    for (let i = 0; i < productStorage.length; i++) {\n      //Obtener el producto valor i\n      const product = productStorage[i];\n      let precio_actual_object = {};\n      const porsentajeNewDescuento = parseFloat(descuentoPorsentajeVenta);\n      const dineroDescontadoDescuento = parseFloat(\n        product.precio_actual_object.precio_venta *\n          parseFloat(`0.${porsentajeNewDescuento}`).toFixed(2)\n      );\n      //Calcular los nuevos precios\n      const newPrecioVentaProduct = parseFloat(\n        (\n          product.precio_actual_object.precio_venta - dineroDescontadoDescuento\n        ).toFixed(2)\n      );\n      const newIvaProduct = parseFloat(\n        (\n          newPrecioVentaProduct *\n          parseFloat(`0.${product.id_producto.precios.iva}`)\n        ).toFixed(2)\n      );\n      const newIepsProduct = parseFloat(\n        (\n          newPrecioVentaProduct *\n          parseFloat(`0.${product.id_producto.precios.ieps}`)\n        ).toFixed(2)\n      );\n      const newPrecioNetoProduct = parseFloat(\n        (newPrecioVentaProduct + newIvaProduct + newIepsProduct).toFixed(2)\n      );\n\n      const newUtilidadProduct = parseFloat(\n        (\n          ((newPrecioVentaProduct -\n            product.id_producto.precios.precio_de_compra.precio_sin_impuesto) /\n            product.id_producto.precios.precio_de_compra.precio_sin_impuesto) *\n          100\n        ).toFixed(2)\n      );\n\n      precio_actual_object = {\n        cantidad_unidad: 1,\n        dinero_descontado: dineroDescontadoDescuento,\n        ieps_precio: newIepsProduct,\n        iva_precio: newIvaProduct,\n        numero_precio: product.precio_actual_object.numero_precio,\n        porciento: product.precio_actual_object.porciento\n          ? parseFloat(\n              (\n                parseFloat(product.precio_actual_object.porciento) +\n                parseFloat(descuentoPorsentajeVenta)\n              ).toFixed(2)\n            )\n          : parseFloat(descuentoPorsentajeVenta),\n        precio_general: 0,\n        precio_neto: newPrecioNetoProduct,\n        precio_venta: newPrecioVentaProduct,\n        unidad_maxima: false,\n        utilidad: newUtilidadProduct,\n      };\n\n      if (product.precio_actual_object.unidad_maxima) {\n        //Aqui se calcula la unidad por mayoreo (Cajas y costales)\n        precio_actual_object.cantidad_unidad =\n          product.precio_actual_object.cantidad_unidad;\n        precio_actual_object.precio_general =\n          newPrecioNetoProduct *\n          parseFloat(product.precio_actual_object.cantidad_unidad);\n        precio_actual_object.unidad_maxima = true;\n      }\n      const valorGranel =\n        product.granel_producto.granel === true\n          ? parseFloat(product.granel_producto.valor)\n          : 1;\n      //Guardar el nuevo producto en el arreglo\n      const ieps_total_producto = parseFloat(\n        (\n          precio_actual_object.ieps_precio *\n          valorGranel *\n          product.cantidad_venta\n        ).toFixed(2)\n      );\n      const impuestos_total_producto = parseFloat(\n        (\n          (precio_actual_object.ieps_precio + precio_actual_object.iva_precio) *\n          valorGranel *\n          product.cantidad_venta\n        ).toFixed(2)\n      );\n      const iva_total_producto = parseFloat(\n        (\n          precio_actual_object.iva_precio *\n          valorGranel *\n          product.cantidad_venta\n        ).toFixed(2)\n      );\n      const subtotal_total_producto = parseFloat(\n        (\n          precio_actual_object.precio_venta *\n          valorGranel *\n          product.cantidad_venta\n        ).toFixed(2)\n      );\n      const total_total_producto = parseFloat(\n        (\n          precio_actual_object.precio_neto *\n          valorGranel *\n          product.cantidad_venta\n        ).toFixed(2)\n      );\n      const descuentoProducto =\n        parseFloat(precio_actual_object.dinero_descontado.toFixed(2)) *\n        valorGranel *\n        product.cantidad_venta;\n\n      productosFinal.push({\n        ...product,\n        precio_actual_object,\n        ieps_total_producto,\n        impuestos_total_producto,\n        iva_total_producto,\n        subtotal_total_producto,\n        total_total_producto,\n      });\n      //Sumar los valores\n      total += total_total_producto;\n      subTotal += subtotal_total_producto;\n      impuestos += impuestos_total_producto;\n      iva += iva_total_producto;\n      ieps += ieps_total_producto;\n      descuento += descuentoProducto;\n    }\n    localStorage.setItem(\n      \"DatosVentas\",\n      JSON.stringify({\n        ...venta,\n        productos: productosFinal,\n        total,\n        subTotal,\n        impuestos,\n        iva,\n        ieps,\n        descuento,\n      })\n    );\n    setRecalcular(!recalcular);\n    setOpenModalDescuento(!openModalDescuento);\n  };\n\n  useEffect(() => {\n    const venta = JSON.parse(localStorage.getItem(\"DatosVentas\"));\n    setVentaActual(venta);\n\n    setVentaOriginal(venta);\n    const total = venta === null ? 0 : venta.total;\n    const monederoVenta = venta === null ? 0 : venta.monedero;\n    const cliente = venta === null ? {} : venta.cliente;\n\n    setTotalVenta(total.toFixed(2));\n    setEfectivo(total.toFixed(2));\n    setDatosCliente(cliente);\n    setMonedero(parseFloat(monederoVenta));\n    setMonederoTotal(\n      !cliente.monedero_electronico \n        ? parseFloat(monederoVenta)\n        : parseFloat(cliente.monedero_electronico) + parseFloat(monederoVenta)\n    );\n    //Recargar tabla ventas\n    setUpdateTablaVentas(!updateTablaVentas);\n  }, [recalcular]);\n\n  useEffect(() => {\n    setfechaVencimientoDate(\n      moment()\n        .add(\n          datosCliente.dias_credito ? parseInt(datosCliente.dias_credito) : 0,\n          \"days\"\n        )\n        .format(\"YYYY-MM-DD\")\n    );\n  }, [datosCliente, datosCliente.dias_credito]);\n\n  useEffect(() => {\n    setMontoPagado(\n      parseFloat(efectivo) +\n        parseFloat(tarjeta) +\n        parseFloat(valorFinalCambioPuntos) +\n        parseFloat(transferencia) +\n        parseFloat(cheque)\n    );\n  }, [efectivo, tarjeta, puntos, transferencia, cheque]);\n\n  useEffect(() => {\n    setCambioVenta(montoPagado - totalVenta);\n  }, [montoPagado]);\n\n  return (\n    <>\n      <Button className={classes.borderBotonChico} onClick={handleClickOpen}>\n        <Box>\n          <Box>\n            <img\n              src=\"https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/ventas/cart.svg\"\n              alt=\"icono ventas\"\n              style={{ width: 38 }}\n            />\n          </Box>\n          <Box>\n            <Typography variant=\"body2\">\n              <b>Pagar</b>\n            </Typography>\n          </Box>\n          <Box>\n            <Typography variant=\"caption\" style={{ color: \"#808080\" }}>\n              <b>ESC</b>\n            </Typography>\n          </Box>\n        </Box>\n      </Button>\n      <Dialog\n        maxWidth=\"lg\"\n        open={open}\n        onClose={handleClickOpen}\n        TransitionComponent={Transition}\n      >\n        <DialogContent>\n          <Grid container item lg={12}>\n            <Box display=\"flex\" justifyContent=\"center\" flexGrow={1}>\n              <Box>\n                <img\n                  src=\"https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/ventas/cart.svg\"\n                  alt=\"icono ventas\"\n                  className={classes.iconSizeDialogsPequeno}\n                />\n              </Box>\n              <Box m={2}>\n                <Divider orientation=\"vertical\" />\n              </Box>\n              <Box mt={1} textAlign=\"center\">\n                <Typography variant=\"h4\">Ticket</Typography>\n              </Box>\n            </Box>\n            <Box>\n              <Button\n                variant=\"contained\"\n                color=\"secondary\"\n                onClick={handleClickOpen}\n                size=\"large\"\n              >\n                <CloseIcon />\n              </Button>\n            </Box>\n          </Grid>\n          <Grid>\n            <div className={classes.formInputFlex}>\n              <Box width=\"25%\" textAlign=\"center\">\n                <Box>\n                  <img\n                    src=\"https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/ventas/money.svg\"\n                    alt=\"icono ventas\"\n                    className={classes.iconSizeDialogsPequeno}\n                    style={{ cursor: \"pointer\" }}\n                  />\n                </Box>\n                <Typography variant=\"caption\">Efectivo</Typography>\n                <Box display=\"flex\">\n                  <TextField\n                    fullWidth\n                    size=\"small\"\n                    name=\"efectivo\"\n                    id=\"form-producto-efectivo\"\n                    variant=\"outlined\"\n                    value={efectivo}\n                    onChange={(e) => handlerChangeValue(e, \"EFECTIVO\")}\n                  />\n                </Box>\n              </Box>\n              <Box width=\"25%\" textAlign=\"center\">\n                <Box>\n                  <img\n                    src=\"https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/ventas/tarjeta-de-credito.svg\"\n                    alt=\"icono ventas\"\n                    className={classes.iconSizeDialogsPequeno}\n                    style={{ cursor: \"pointer\" }}\n                  />\n                </Box>\n                <Typography variant=\"caption\">Tarjeta</Typography>\n                <Box display=\"flex\">\n                  <TextField\n                    fullWidth\n                    size=\"small\"\n                    name=\"codigo_barras\"\n                    id=\"form-producto-codigo-barras\"\n                    variant=\"outlined\"\n                    value={tarjeta}\n                    onChange={(e) => handlerChangeValue(e, \"TARJETA\")}\n                  />\n                </Box>\n              </Box>\n              <Box width=\"25%\" textAlign=\"center\">\n                <Box>\n                  <FcShop style={{ fontSize: 50, cursor: \"pointer\" }} />\n                </Box>\n                <Typography variant=\"caption\">Puntos</Typography>\n                <Box display=\"flex\">\n                  <TextField\n                    fullWidth\n                    size=\"small\"\n                    name=\"codigo_barras\"\n                    id=\"form-producto-codigo-barras\"\n                    variant=\"outlined\"\n                    value={puntos}\n                    onChange={(e) => handlerChangeValue(e, \"PUNTOS\")}\n                  />\n                </Box>\n              </Box>\n              <Box width=\"25%\" textAlign=\"center\">\n                <Box p={0}>\n                  <img\n                    src=\"https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/transferencia-bancaria.svg\"\n                    alt=\"icono ventas\"\n                    className={classes.iconSizeDialogsPequeno}\n                    style={{ cursor: \"pointer\" }}\n                  />\n                </Box>\n                <Typography variant=\"caption\">Transferencia</Typography>\n                <Box display=\"flex\">\n                  <TextField\n                    fullWidth\n                    size=\"small\"\n                    name=\"codigo_barras\"\n                    id=\"form-producto-codigo-barras\"\n                    variant=\"outlined\"\n                    value={transferencia}\n                    onChange={(e) => handlerChangeValue(e, \"TRANSFERENCIA\")}\n                  />\n                </Box>\n              </Box>\n              <Box width=\"25%\" textAlign=\"center\">\n                <Box p={0}>\n                  <img\n                    src=\"https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/cheque.png\"\n                    alt=\"icono ventas\"\n                    className={classes.iconSizeDialogsPequeno}\n                    style={{ cursor: \"pointer\" }}\n                  />\n                </Box>\n                <Typography variant=\"caption\">Cheque</Typography>\n                <Box display=\"flex\">\n                  <TextField\n                    fullWidth\n                    size=\"small\"\n                    name=\"codigo_barras\"\n                    id=\"form-producto-codigo-barras\"\n                    variant=\"outlined\"\n                    value={cheque}\n                    onChange={(e) => handlerChangeValue(e, \"CHEQUE\")}\n                  />\n                </Box>\n              </Box>\n            </div>\n            <div className={classes.formInputFlex}>\n              <Box width=\"70%\" textAlign=\"left\">\n                <Box display=\"flex\">\n                  <Box display=\"flex\" alignItems={\"center\"} mr={2}>\n                    <Box mt={0.5} mr={0.5}>\n                      <FcBusinessman style={{ fontSize: 19 }} />\n                    </Box>\n                    <Typography variant=\"subtitle1\">\n                      <b>Cliente:</b>\n                    </Typography>\n                  </Box>\n                  <Typography variant=\"subtitle1\">\n                    {datosCliente ? datosCliente.nombre_cliente : \"Sin cliente\"}\n                  </Typography>\n                </Box>\n\n                <Box display=\"flex\">\n                  <Box display=\"flex\" alignItems={\"center\"} mr={2}>\n                    <Box mt={0.5} mr={0.5}>\n                      <FcSalesPerformance style={{ fontSize: 19 }} />\n                    </Box>\n                    <Typography variant=\"subtitle1\">\n                      <b>Puntos Generados:</b>\n                    </Typography>\n                  </Box>\n                  <Typography variant=\"subtitle1\">{monedero}</Typography>\n                </Box>\n\n                <Box display=\"flex\">\n                  <Box display=\"flex\" alignItems={\"center\"} mr={2}>\n                    <Box mt={0.5} mr={0.5}>\n                      <FcSalesPerformance style={{ fontSize: 19 }} />\n                    </Box>\n                    <Typography variant=\"subtitle1\">\n                      <b>Puntos Disponibles:</b>\n                    </Typography>\n                  </Box>\n                  <Typography variant=\"subtitle1\">\n                    {!datosCliente.monedero_electronico\n                      ? 0\n                      : datosCliente.monedero_electronico}\n                  </Typography>\n                </Box>\n\n                <Box display=\"flex\">\n                  <Box display=\"flex\" alignItems={\"center\"} mr={2}>\n                    <Box mt={0.5} mr={0.5}>\n                      <FcSalesPerformance style={{ fontSize: 19 }} />\n                    </Box>\n                    <Typography variant=\"subtitle1\">\n                      <b>Total puntos:</b>\n                    </Typography>\n                  </Box>\n                  <Typography variant=\"subtitle1\">{monederoTotal}</Typography>\n                </Box>\n              </Box>\n\n              <Box width=\"45%\" textAlign=\"right\">\n                <Box\n                  display={\"flex\"}\n                  justifyContent={\"space-between\"}\n                  alignItems=\"center\"\n                >\n                  <Typography style={{ fontSize: \"17px\" }}>\n                    <b>Monto pagado:</b>\n                  </Typography>\n                  <Typography variant=\"h6\">\n                    $ {montoPagado.toFixed(2)}\n                  </Typography>\n                </Box>\n\n                <Box\n                  display={\"flex\"}\n                  justifyContent={\"space-between\"}\n                  alignItems=\"center\"\n                >\n                  <Typography style={{ fontSize: \"17px\" }}>\n                    <b>Total:</b>\n                  </Typography>\n                  <Typography variant=\"h6\">$ {totalVenta}</Typography>\n                </Box>\n\n                <Box\n                  display={\"flex\"}\n                  justifyContent={\"space-between\"}\n                  alignItems=\"center\"\n                >\n                  <Typography style={{ fontSize: \"17px\" }}>\n                    <b>Descuento:</b>\n                  </Typography>\n                  <Typography variant=\"h6\">\n                    $ {descuentoVenta.toFixed(2)}\n                  </Typography>\n                </Box>\n\n                <Box\n                  display={\"flex\"}\n                  justifyContent={\"space-between\"}\n                  alignItems=\"center\"\n                >\n                  <Typography style={{ fontSize: \"17px\" }}>\n                    <b>Cambio:</b>\n                  </Typography>\n                  <Typography variant=\"h6\">\n                    $ {cambioVenta.toFixed(2)}\n                  </Typography>\n                </Box>\n              </Box>\n            </div>\n\n            <div style={{ display: visible ? \"block\" : \"none\" }}>\n              <div className={classes.formInputFlex}>\n                <Box width=\"20%\">\n                  <Typography variant=\"caption\">\n                    <b>Dias de Crédito:</b>\n                  </Typography>\n                  <Box display=\"flex\" alignItems=\"center\">\n                    <TextField\n                      fullWidth\n                      size=\"small\"\n                      name=\"codigo_barras\"\n                      id=\"form-producto-codigo-barras\"\n                      variant=\"outlined\"\n                      value={\n                        datosCliente.dias_credito === null\n                          ? 0\n                          : datosCliente.dias_credito\n                      }\n                      onChange={(e) =>\n                        setDatosCliente({\n                          ...datosCliente,\n                          dias_credito: e.target.value,\n                        })\n                      }\n                      disabled={editableClient}\n                    />\n                  </Box>\n                </Box>\n                <Box width=\"20%\">\n                  <Typography variant=\"caption\">\n                    <b>Límite de Crédito:</b>\n                  </Typography>\n                  <Box display=\"flex\" alignItems=\"center\">\n                    <TextField\n                      fullWidth\n                      size=\"small\"\n                      name=\"codigo_barras\"\n                      id=\"form-producto-codigo-barras\"\n                      variant=\"outlined\"\n                      value={\n                        datosCliente.limite_credito === null\n                          ? 0\n                          : datosCliente.limite_credito\n                      }\n                      disabled={editableClient}\n                    />\n                  </Box>\n                </Box>\n                <Box width=\"20%\">\n                  <Typography variant=\"caption\">\n                    <b>Crédito Disponible:</b>\n                  </Typography>\n                  <Box display=\"flex\" alignItems=\"center\">\n                    <TextField\n                      fullWidth\n                      size=\"small\"\n                      name=\"codigo_barras\"\n                      id=\"form-producto-codigo-barras\"\n                      variant=\"outlined\"\n                      value={\n                        datosCliente.credito_disponible === null\n                          ? 0\n                          : datosCliente.credito_disponible\n                      }\n                      disabled={true}\n                    />\n                  </Box>\n                </Box>\n\n                <Box>\n                  <Box width=\"100%\" mt={2.5}>\n                    <Button\n                      color=\"primary\"\n                      variant=\"outlined\"\n                      size=\"large\"\n                      startIcon={<Edit />}\n                      onClick={() => setEditableClient(!editableClient)}\n                    >\n                      Editar\n                    </Button>\n                  </Box>\n                </Box>\n              </div>\n              <div className={classes.formInputFlex}>\n                <Box width=\"20%\">\n                  <Typography variant=\"caption\">\n                    <b>Total a Crédito:</b>\n                  </Typography>\n                  <Box display=\"flex\" alignItems=\"center\">\n                    <TextField\n                      fullWidth\n                      size=\"small\"\n                      name=\"codigo_barras\"\n                      id=\"form-producto-codigo-barras\"\n                      variant=\"outlined\"\n                      disabled={editableClient}\n                      value={totalVenta}\n                    />\n                  </Box>\n                </Box>\n\n                <Box width=\"20%\">\n                  <Typography variant=\"caption\">\n                    <b>Fecha de Vencimiento:</b>\n                  </Typography>\n                  <Box display=\"flex\" alignItems=\"center\">\n                    <TextField\n                      fullWidth\n                      size=\"small\"\n                      name=\"codigo_barras\"\n                      id=\"form-producto-codigo-barras\"\n                      variant=\"outlined\"\n                      type=\"date\"\n                      value={fechaVencimientoDate}\n                      onChange={(e) => {\n                        const modelDate = moment(e.target.value).add(1, \"days\");\n                        const hoy = moment();\n                        const diasDiff = modelDate.diff(hoy, \"days\");\n                        setfechaVencimientoDate(e.target.value);\n                        setDatosCliente({\n                          ...datosCliente,\n                          dias_credito: diasDiff,\n                        });\n                      }}\n                      disabled={editableClient}\n                    />\n                  </Box>\n                </Box>\n              </div>\n            </div>\n          </Grid>\n        </DialogContent>\n\n        <DialogActions style={{ justifyContent: \"space-between\" }}>\n          <Box display={\"flex\"} justifyContent=\"flex-start\">\n            <Box pr={1}>\n              {visible ? (\n                <Button\n                  size=\"large\"\n                  variant=\"contained\"\n                  color=\"secondary\"\n                  onClick={() => {\n                    setVisible(!visible);\n                    setEditableClient(!editableClient);\n                  }}\n                  startIcon={<ClearIcon style={{ fontSize: \"28px\" }} />}\n                >\n                  Cancelar\n                </Button>\n              ) : (\n                <Button\n                  size=\"large\"\n                  variant=\"contained\"\n                  color=\"primary\"\n                  onClick={() => setVisible(!visible)}\n                  startIcon={<CreditCardIcon style={{ fontSize: \"28px\" }} />}\n                >\n                  Credito\n                </Button>\n              )}\n            </Box>\n\n            <Box>\n              <Button\n                size=\"large\"\n                variant=\"contained\"\n                color=\"primary\"\n                startIcon={<LocalOfferIcon style={{ fontSize: \"28px\" }} />}\n                onClick={() => setOpenModalDescuento(!openModalDescuento)}\n              >\n                Descuento\n              </Button>\n            </Box>\n          </Box>\n          <Button\n            onClick={() => {\n              handleClickFinishVenta();\n            }}\n            size=\"large\"\n            variant=\"contained\"\n            color=\"primary\"\n            autoFocus\n          >\n            Terminar\n          </Button>\n        </DialogActions>\n      </Dialog>\n\n      <Dialog\n        open={openModalDescuento}\n        onClose={abrirCajon}\n        TransitionComponent={Transition}\n      >\n        <DialogContent>\n          <Box textAlign=\"center\">\n            <Box textAlign=\"center\">\n              <Typography variant=\"h5\">Descuento</Typography>\n            </Box>\n          </Box>\n          <Grid item lg={12}>\n            <div className={classes.formInputFlex}>\n              <Box width=\"50%\">\n                <Typography variant=\"caption\">\n                  <b>Dinero a descontar:</b>\n                </Typography>\n                <Box display=\"flex\" alignItems=\"center\">\n                  <TextField\n                    fullWidth\n                    size=\"small\"\n                    name=\"dinero-descuento\"\n                    id=\"form-venta-dinero-descuento\"\n                    value={descuentoAplicarVenta}\n                    onChange={(e) => handlerChangeDiscountVenta(e)}\n                    variant=\"outlined\"\n                    disabled={descuentoAplicado}\n                    InputProps={{\n                      startAdornment: (\n                        <InputAdornment position=\"start\">$</InputAdornment>\n                      ),\n                    }}\n                  />\n                </Box>\n              </Box>\n\n              <Box width=\"50%\">\n                <Typography variant=\"caption\">\n                  <b>Porsentaje:</b>\n                </Typography>\n                <Box display=\"flex\" alignItems=\"center\">\n                  <TextField\n                    fullWidth\n                    size=\"small\"\n                    name=\"codigo_barras\"\n                    id=\"form-venta-porsentaje-descuento\"\n                    variant=\"outlined\"\n                    value={descuentoPorsentajeVenta}\n                    onChange={(e) => handleChangePorsentDiscount(e)}\n                    type=\"number\"\n                    disabled={descuentoAplicado}\n                    InputProps={{\n                      startAdornment: (\n                        <InputAdornment position=\"start\">%</InputAdornment>\n                      ),\n                    }}\n                  />\n                </Box>\n              </Box>\n            </div>\n          </Grid>\n        </DialogContent>\n\n        <DialogActions>\n          <Button\n            onClick={() => setOpenModalDescuento(!openModalDescuento)}\n            variant=\"contained\"\n            size=\"large\"\n            color=\"secondary\"\n            autoFocus\n          >\n            Cancelar\n          </Button>\n          <Button\n            onClick={() => handleCalculateNewDiscountVenta()}\n            variant=\"contained\"\n            size=\"large\"\n            color=\"primary\"\n            autoFocus\n          >\n            Aceptar\n          </Button>\n        </DialogActions>\n      </Dialog>\n\n      <Dialog\n        open={cambio}\n        onClose={() => abrirCajon()}\n        TransitionComponent={Transition}\n      >\n        <DialogContent>\n          <Box textAlign=\"center\">\n            <Box>\n              <FcDonate style={{ fontSize: 80 }} />\n            </Box>\n            <Box textAlign=\"center\">\n              <Typography variant=\"h5\">Su cambio</Typography>\n            </Box>\n          </Box>\n          <Grid item lg={12}>\n            <Paper elevation={3}>\n              <Box p={3} width=\"100%\" textAlign=\"center\">\n                <Typography variant=\"h3\" style={{ color: \"red\" }}>\n                  ${cambioVenta.toFixed(2)}\n                </Typography>\n              </Box>\n            </Paper>\n          </Grid>\n        </DialogContent>\n\n        <DialogActions>\n          <Button\n            onClick={() => hancleClickCerrarVentaCambio()}\n            variant=\"contained\"\n            size=\"large\"\n            color=\"primary\"\n            autoFocus\n          >\n            Aceptar\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </>\n  );\n}\n","import React, { useState } from 'react';\nimport { Box, Button,  CircularProgress,  Dialog,  \n        DialogActions, DialogContent, Divider, Grid,  \n        IconButton,  InputBase,  Paper,  Slide,  \n        Typography \n    } from '@material-ui/core';\nimport ItemsCarousel from 'react-items-carousel';\nimport PhotoLibraryIcon from '@material-ui/icons/PhotoLibrary';\nimport CloseIcon from '@material-ui/icons/Close';\nimport useStyles from '../styles';\nimport ArrowBackIosIcon from '@material-ui/icons/ArrowBackIos';\nimport ArrowForwardIosIcon from '@material-ui/icons/ArrowForwardIos';\nimport { Search } from '@material-ui/icons';\nimport { useLazyQuery } from '@apollo/client';\nimport { CONSULTA_PRODUCTO_UNITARIO } from '../../../gql/Ventas/ventas_generales';\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function ConsultarPrecio() {\n    const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n    const [activeItemIndex, setActiveItemIndex] = useState(0);\n\n    const [obtenerProductos, { data, loading }] = useLazyQuery(\n        CONSULTA_PRODUCTO_UNITARIO,\n        {\n          variables: { sucursal: sesion.sucursal._id, empresa: sesion.empresa._id },\n          fetchPolicy: \"network-only\",\n        }\n    );\n\n    let productoBase = null;\n    if (data) productoBase = data.obtenerUnProductoVentas;\n\n    const [open, setOpen] = useState(false);\n    \n    const classes = useStyles();\n\n    const handleClickOpen = () => { \n\t\tsetOpen(!open);\n        productoBase = [];\n\t};\n\n    const keyUpEvent = async (event) => {\n        if (event.code === \"Enter\" || event.code === \"NumpadEnter\") {\n            const input_value = event.target.value;\n            obtenerProductos({\n                variables: {\n                    datosProductos: input_value,\n                    sucursal: sesion.sucursal._id,\n                    empresa: sesion.empresa._id\n                },\n                fetchPolicy: \"network-only\"\n            });\n        }\n    };\n\n    window.addEventListener('keydown', Mi_función); \n    function Mi_función(e){\n        if(e.keyCode === 120){ \n            handleClickOpen();\n        } \n    };\n    const chevronWidth = 40;\n\n    return (\n        <>\n            <Button \n                className={classes.borderBotonChico}\n                onClick={handleClickOpen}\n            >\n                <Box>\n                    <Box>\n                        <img \n                            src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/ventas/precios.svg' \n                            alt=\"icono ventas\" \n                            style={{width: 36}}\n                        />\n                    </Box>\n                    <Box>\n                        <Typography variant=\"body2\" >\n                            <b>Consultar Precio</b>\n                        </Typography>\n                    </Box>\n                    <Box>\n                        <Typography variant=\"caption\" style={{color: '#808080'}} >\n                            <b>F9</b>\n                        </Typography>\n                    </Box>\n                </Box>\n            </Button>\n            <Dialog\n                maxWidth='md'\n                fullWidth\n                open={open} \n\t\t\t\tonClose={handleClickOpen} \n\t\t\t\tTransitionComponent={Transition}\n            >\n                <DialogContent\n                    open={open} \n                    onClose={handleClickOpen} \n                    TransitionComponent={Transition}\n                >\n                    <Grid container item lg={12}>\n                        <Box\n                            display=\"flex\" \n                            textAlign=\"center\"\n                            flexGrow={1}\n                        >\n                            <Box>\n                                <img src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/productos.svg' alt=\"icono productos\" className={classes.iconSizeDialogs} />\n                            </Box>\n                            <Box m={2} >\n                                <Divider orientation=\"vertical\" />\n                            </Box>\n                            <Box mt={3}>\n                                <Typography variant=\"h6\">\n                                    Precio Producto\n                                </Typography>\n                            </Box>\n                        </Box>\n                        <Box displa=\"flex\" justifyContent=\"center\">\n                            <Button variant=\"contained\" color=\"secondary\" onClick={handleClickOpen} size=\"large\">\n                                <CloseIcon />\n                            </Button>\n                        </Box>\n                    </Grid>\n                    <div className={classes.formInputFlex}>\n                        <Box width=\"50%\">\n                            <Paper className={classes.rootBusquedaProductos}>\n                                <InputBase\n                                    fullWidth\n                                    onKeyUp={keyUpEvent}\n                                    placeholder=\"Buscar producto...\"\n                                />\n                                <IconButton>\n                                    <Search />\n                                </IconButton>\n                            </Paper>\n                        </Box>\n                    </div>\n                    {loading ? (\n                        <Box\n                            display=\"flex\"\n                            flexDirection=\"column\"\n                            justifyContent=\"center\"\n                            alignItems=\"center\"\n                            height=\"40vh\"\n                        >\n                            <CircularProgress />\n                        </Box>\n                    ) : (<>\n                        <Grid container>\n                            <Grid item lg={6} md={6}>\n                                    {productoBase?.id_producto?.imagenes.length > 0 ? (\n                                        <Box p={7}>\n                                        <ItemsCarousel\n                                            requestToChangeActive={setActiveItemIndex}\n                                            activeItemIndex={activeItemIndex}\n                                            numberOfCards={1}\n                                            leftChevron={\n                                                <IconButton aria-label=\"delete\" disabled color=\"primary\">\n                                                    <ArrowBackIosIcon />\n                                                </IconButton>\n                                            }\n                                            rightChevron={\n                                                <IconButton aria-label=\"delete\" disabled color=\"primary\">\n                                                    <ArrowForwardIosIcon />\n                                                </IconButton>\n                                            }\n                                            infiniteLoop={true}\n                                            outsideChevron\n                                            chevronWidth={chevronWidth}\n                                        >\n                                            {productoBase?.id_producto?.imagenes.map((image)=>{\n                                                return(\n                                                    <Box \n                                                        className={classes.containerImagenesProducto}\n                                                        display=\"flex\"\n                                                        justifyContent=\"center\"\n                                                        alignItems=\"center\"\n                                                    >\n                                                        <img \n                                                            alt=\"Imagen producto\" \n                                                            src={image.url_imagen} \n                                                            className={classes.imagenProducto}\n                                                        />\n                                                    </Box>\n                                                )\n                                            })}\n                                        </ItemsCarousel>\n                                        </Box>\n                                    ) : (\n                                        <Box p={1} mt={15} display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n                                            <PhotoLibraryIcon style={{fontSize: 40}} />\n                                        </Box>\n                                    )}\n                            </Grid>\n\n                            <Grid item lg={6} md={6}>\n                                <Paper elevation={3} className={classes.rootPrecioProductos}>\n                                    <div className={classes.formInputFlex}>\n                                        <Box width=\"100%\" textAlign=\"center\">\n                                            <Typography >\n                                                <b>{productoBase?.codigo_barras}</b>\n                                            </Typography>\n                                        </Box>\n                                    </div>\n                                    <div className={classes.formInputFlex}>\n                                        <Box width=\"100%\" textAlign=\"center\">\n                                            <Typography variant=\"h6\">\n                                                <b>{productoBase?.id_producto?.datos_generales.nombre_comercial}</b>\n                                            </Typography>\n                                        </Box>\n                                    </div>\n                                    <div className={classes.formInputFlex}>\n                                        <Box width=\"100%\" textAlign=\"center\">\n                                            <Typography>\n                                                {productoBase?.descuento_activo === true ? (<b>Precio Promoción</b>) : null}\n                                            </Typography>\n                                            <Typography variant=\"h3\">\n                                                {productoBase?.descuento_activo === true ? \n                                                    (<b style={{color: \"red\"}}>${productoBase?.descuento?.precio_con_descuento.toFixed(2)}</b>) :\n                                                    (<b style={{color: \"green\"}}>${productoBase?.precio}</b>)}\n                                            </Typography>\n                                        </Box>\n                                    </div>\n                                    {productoBase?.descuento_activo === true ? (\n                                        <div className={classes.formInputFlex}>\n                                            <Box width=\"100%\" textAlign=\"center\">\n                                                <Typography>\n                                                    <b>Precio S/D</b>\n                                                </Typography>\n                                                <Typography variant=\"h5\" style={{color: \"green\"}}>\n                                                    <b> ${productoBase?.precio} </b>\n                                                </Typography>\n                                            </Box>\n                                        </div>\n                                    ) : null}\n                                    <div className={classes.formInputFlex}>\n                                        <Box width=\"100%\" textAlign=\"center\">\n                                            <Typography >\n                                                Unidad\n                                            </Typography>\n                                            <Typography >\n                                                <b>{productoBase?.unidad}</b>\n                                            </Typography>\n                                        </Box>\n                                        <Box width=\"100%\" textAlign=\"center\">\n                                            <Typography >\n                                                Existencia\n                                            </Typography>\n                                            <Typography >\n                                                <b> {productoBase?.inventario_general ? \n                                                        productoBase?.inventario_general[0]?.cantidad_existente :\n                                                        0\n                                                    } \n                                                </b>\n                                            </Typography>\n                                        </Box>\n                                    </div>\n                                </Paper>\n                            </Grid>     \n                        </Grid>\n                    </>) } \n                </DialogContent>\n                <DialogActions>\n                    <Button \n                        onClick={handleClickOpen} \n                        variant=\"contained\" \n                        color=\"primary\" \n                        size=\"large\"\n                    >\n                        Aceptar\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        \n        </>\n    )\n}\n","import React, { useState, useContext, Fragment, useEffect } from \"react\";\nimport {\n  Box,\n  Button,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  Divider,\n  Grid,\n  Paper,\n  Slide,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n  Typography,\n  Checkbox,\n} from \"@material-ui/core\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport useStyles from \"../styles\";\nimport { VentasContext } from \"../../../context/Ventas/ventasContext\";\nimport SnackBarMessages from \"../../../components/SnackBarMessages\";\nimport { calculatePrices, findProductArray, calculatePrices2 } from \"../../../config/reuserFunctions\";\nimport { AccesosContext } from \"../../../context/Accesos/accesosCtx\";\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  \n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function PreciosProductos() {\n  const classes = useStyles();\n  const [open, setOpen] = useState(false);\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n  // const [selected, setSelected] = useState([]);\n\n  const [preciosProductos, setPreciosProductos] = useState({})\n\n  const {\n    productoCambioPrecio,\n    precioSelectProductoVenta,\n    setPrecioSelectProductoVenta,\n    setUpdateTablaVentas,\n    updateTablaVentas\n  } = useContext(VentasContext);\n\n  const { \n\t\treloadVerPrecios, \n    setReloadVerPrecios,\n\t\tsetAbrirPanelAcceso,\n    abrirPanelAcceso,\n\t\tsetDepartamentos\n\t} = useContext(AccesosContext);\n\n  const [selectPrisingProduct, setSelectPrisingProduct] = useState(\n    precioSelectProductoVenta.length > 0 ? precioSelectProductoVenta[0] : {}\n  );\n\n  const [alert, setAlert] = useState({ message: \"\", status: \"\", open: false });\n\n  const handleClickOpen = () => {\n    if(sesion.accesos.ventas.precios_productos.ver === true){\n      setOpen(!open);\n    }else{\n      setAbrirPanelAcceso(!abrirPanelAcceso);\n      setDepartamentos({departamento: 'ventas', subDepartamento: 'precios_productos', tipo_acceso: 'ver'})\n    }\n  };\n\n  useEffect(() => {\n    setPreciosProductos(productoCambioPrecio);\n  }, [productoCambioPrecio ]);\n\n  useEffect(() => {\n\t\tif (reloadVerPrecios === true) {\t\n      setOpen(!open);\n      setReloadVerPrecios(false);\n\t\t}\n\t}, [reloadVerPrecios]);\n\n  const handleAceptChangePrising = async () => {\n\n    let venta = JSON.parse(localStorage.getItem(\"DatosVentas\"));\n    let productosVentas = venta === null ? [] : venta.productos;\n    let venta_actual = venta === null ? [] : venta;\n    let venta_existente =\n      venta === null\n        ? { subTotal: 0, total: 0, impuestos: 0, iva: 0, ieps: 0, descuento: 0, monedero: 0 }\n        : venta;\n    let productosVentasTemp = productosVentas;\n\n    if (\n      selectPrisingProduct.precio_neto > 0 ||\n      precioSelectProductoVenta.length > 0\n    ) {\n\n      const newProductoPrecioNuevo = { ...productoCambioPrecio };\n      const newProductoPrecioActual = { ...productoCambioPrecio };\n\n      const producto_encontrado = await findProductArray(\n        productoCambioPrecio\n      );\n\n      if (producto_encontrado.found) {\n        const new_resta = await calculatePrices2({\n            newP: newProductoPrecioNuevo, \n            cantidad: newProductoPrecioNuevo.cantidad_venta, \n            precio_boolean: true, \n            precio: newProductoPrecioNuevo.precio_actual_object, \n            granel: newProductoPrecioNuevo.granel_producto, \n            origen: \"\" \n          });\n\n          console.log(precioSelectProductoVenta[0])\n        const new_suma = await calculatePrices2({\n          newP: newProductoPrecioActual, \n          cantidad: newProductoPrecioActual.cantidad_venta, \n          precio_boolean: true, \n          precio: precioSelectProductoVenta[0], \n          granel: newProductoPrecioActual.granel_producto, \n          origen: \"Tabla\" \n        });\n\n        newProductoPrecioActual.precio_a_vender = precioSelectProductoVenta[0].precio_neto;\n        newProductoPrecioActual.precio_seleccionado = true;\n        newProductoPrecioActual.precio_actual_producto = parseFloat((precioSelectProductoVenta[0].precio_neto).toFixed(2));\n        newProductoPrecioActual.precio_actual_object = precioSelectProductoVenta[0];\n\n        newProductoPrecioActual.iva_total_producto = parseFloat(new_suma.ivaCalculo);\n        newProductoPrecioActual.ieps_total_producto = parseFloat(new_suma.iepsCalculo);\n        newProductoPrecioActual.impuestos_total_producto = parseFloat(new_suma.impuestoCalculo);\n        newProductoPrecioActual.subtotal_total_producto = parseFloat(new_suma.subtotalCalculo);\n        newProductoPrecioActual.total_total_producto = parseFloat(new_suma.totalCalculo);\n\n        newProductoPrecioActual.precio_actual_object = {\n          cantidad_unidad: precioSelectProductoVenta[0].cantidad_unidad ? precioSelectProductoVenta[0].cantidad_unidad : null,\n          numero_precio: precioSelectProductoVenta[0].numero_precio ? precioSelectProductoVenta[0].numero_precio : null,\n          unidad_maxima: precioSelectProductoVenta[0].unidad_maxima ? precioSelectProductoVenta[0].unidad_maxima : null,\n          precio_general: precioSelectProductoVenta[0].precio_general ? precioSelectProductoVenta[0].precio_general : null,\n          precio_neto: precioSelectProductoVenta[0].precio_neto ? precioSelectProductoVenta[0].precio_neto : null,\n          precio_venta: precioSelectProductoVenta[0].precio_venta ? precioSelectProductoVenta[0].precio_venta : null,\n          iva_precio: precioSelectProductoVenta[0].iva_precio ? precioSelectProductoVenta[0].iva_precio : null,\n          ieps_precio: precioSelectProductoVenta[0].ieps_precio ? precioSelectProductoVenta[0].ieps_precio : null,\n          utilidad: precioSelectProductoVenta[0].utilidad ? precioSelectProductoVenta[0].utilidad : null,\n          porciento: precioSelectProductoVenta[0].porciento ? precioSelectProductoVenta[0].porciento : null,\n          dinero_descontado: precioSelectProductoVenta[0].dinero_descontado ? precioSelectProductoVenta[0].dinero_descontado : null,\n        };\n        \n        productosVentasTemp.splice(\n          producto_encontrado.producto_found.index,\n          1,\n          newProductoPrecioActual\n        );\n\n        console.log(\"venta >>\", venta_existente.subTotal);\n\n        console.log(\"resta >>\", new_resta.subtotalCalculo);\n\n        console.log(\"suma >>\", new_suma.subtotalCalculo)\n\n      const CalculosData = {\n        subTotal:\n          parseFloat(venta_existente.subTotal) -\n          parseFloat(new_resta.subtotalCalculo) +\n          new_suma.subtotalCalculo,\n        total:\n          parseFloat(venta_existente.total) -\n          parseFloat(new_resta.totalCalculo) +\n          new_suma.totalCalculo,\n        impuestos:\n          parseFloat(venta_existente.impuestos) -\n          parseFloat(new_resta.impuestoCalculo) +\n          new_suma.impuestoCalculo,\n        iva:\n          parseFloat(venta_existente.iva) -\n          parseFloat(new_resta.ivaCalculo) +\n          new_suma.ivaCalculo,\n        ieps:\n          parseFloat(venta_existente.ieps) -\n          parseFloat(new_resta.iepsCalculo) +\n          new_suma.iepsCalculo,\n        descuento:\n          parseFloat(venta_existente.descuento) -\n          parseFloat(new_resta.descuentoCalculo) +\n          new_suma.descuentoCalculo,\n        monedero: parseFloat(venta_existente.monedero) - parseFloat(new_resta.monederoCalculo) +\n          new_suma.monederoCalculo,\n      };\n\n      //Guardarlo en el localStorage\n      localStorage.setItem(\n        \"DatosVentas\",\n        JSON.stringify({\n          ...CalculosData,\n          cliente:\n            venta_actual.venta_cliente === true ? venta_actual.cliente : {},\n          venta_cliente:\n            venta_actual.venta_cliente === true\n              ? venta_actual.venta_cliente\n              : false,\n          productos: productosVentasTemp,\n        })\n      );\n      // newProductoPrecio = {...newProductoPrecio};\n      setUpdateTablaVentas(!updateTablaVentas);\n      setPrecioSelectProductoVenta([]);\n      setPreciosProductos({});\n      //Cerrar modal\n      handleClickOpen();\n      }else{\n        console.log(\"Producto no encontrado\")\n      }\n    } else {\n      setAlert({\n        message: \"Este precio no es valido.\",\n        status: \"error\",\n        open: true,\n      });\n    }\n  };\n\n  const handleClick = (precio) => {\n    let newSelected = [];\n    newSelected = newSelected.concat([], precio);\n    setSelectPrisingProduct(precio);\n    setPrecioSelectProductoVenta(newSelected);\n  };\n\n  const isSelected = (name) => precioSelectProductoVenta.indexOf(name) !== -1;\n\n  window.addEventListener(\"keydown\", Mi_función);\n\n  function Mi_función(e) {\n    if (e.keyCode === 114) {\n      handleClickOpen();\n    }\n  }; \n\n  return (\n    <>\n      <SnackBarMessages alert={alert} setAlert={setAlert} />\n      <Button className={classes.borderBotonChico} onClick={handleClickOpen}>\n        <Box>\n          <Box>\n            <img\n              src=\"https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/ventas/money.svg\"\n              alt=\"icono money\"\n              style={{ fontSize: 25 }}\n            />\n          </Box>\n          <Box>\n            <Typography variant=\"body2\">\n              <b>Precios</b>\n            </Typography>\n          </Box>\n          <Box>\n            <Typography variant=\"caption\" style={{ color: \"#808080\" }}>\n              <b>F3</b>\n            </Typography>\n          </Box>\n        </Box>\n      </Button>\n\n      <Dialog\n        maxWidth=\"lg\"\n        open={open}\n        onClose={() => setOpen(!open)}\n        TransitionComponent={Transition}\n      >\n        <DialogContent>\n          <Box display='flex' p={2}> \n            <Box flexGrow={1}>\n              <Typography variant=\"h6\">Precios de Producto</Typography>\n            </Box>\n            <Box>\n              <Button\n                variant=\"contained\"\n                color=\"secondary\"\n                onClick={() => setOpen(!open)}\n                size=\"large\"\n              >\n                <CloseIcon />\n              </Button>\n            </Box>\n          </Box>\n          <Grid>\n            <div className={classes.formInputFlex}>\n              <Box width=\"100%\">\n                <Typography>\n                  Nombre:{\" \"}\n                  {productoCambioPrecio\n                    ? productoCambioPrecio?.id_producto?.datos_generales\n                        ?.nombre_comercial\n                    : \"\"}\n                </Typography>\n              </Box>\n            </div>\n            <Paper className={classes.root}>\n              <TableContainer className={classes.container}>\n                <Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n                  <TableHead>\n                    <TableRow>\n                      <TableCell style={{ width: 25 }}></TableCell>\n                      <TableCell style={{ width: 20 }}>Precio</TableCell>\n                      <TableCell style={{ width: 20 }}>Precio neto</TableCell>\n                      <TableCell style={{ width: 200 }}>\n                        Unidad mayoreo\n                      </TableCell>\n                      <TableCell style={{ width: 100 }}>Utilidad</TableCell>\n                    </TableRow>\n                  </TableHead>\n                  <TableBody>\n                    {preciosProductos?.id_producto?.precios?.precios_producto?.map(\n                      (precio, index) => {\n                        const isItemSelected = isSelected(precio);\n                        const labelId = `enhanced-table-checkbox-${index}`;\n                        return (\n                          <RenderTableRows\n                            key={index}\n                            precio={precio}\n                            isItemSelected={isItemSelected}\n                            labelId={labelId}\n                            handleClick={handleClick}\n                          />\n                        );\n                      }\n                    )}\n                  </TableBody>\n                </Table>\n              </TableContainer>\n            </Paper>\n          </Grid>\n        </DialogContent>\n        <DialogActions>\n          <Button\n            onClick={() => handleAceptChangePrising()}\n            variant=\"contained\"\n            color=\"primary\"\n            size=\"large\"\n          >\n            Guardar\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </>\n  );\n}\n\nconst RenderTableRows = ({ precio, isItemSelected, labelId, handleClick }) => {\n  const doubleClick = (e) => {\n    try {\n      if (e.detail === 2) {\n        handleClick(precio);\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  return (\n    <Fragment>\n      <TableRow\n        role=\"checkbox\"\n        aria-checked={isItemSelected}\n        tabIndex={-1}\n        key={precio.numero_precio}\n        selected={isItemSelected}\n        hover\n        onClick={(e) => doubleClick(e)}\n      >\n        <TableCell padding=\"checkbox\">\n          <Checkbox\n            onClick={(event) => {\n              handleClick(precio);\n            }}\n            checked={isItemSelected}\n            inputProps={{ \"aria-labelledby\": labelId }}\n          />\n        </TableCell>\n        <TableCell align={\"center\"}>{precio.numero_precio}</TableCell>\n        <TableCell align={\"center\"}>{precio.precio_neto > 0 ? precio.precio_neto.toFixed(2) : 0}</TableCell>\n        <TableCell align={\"center\"}>{precio.unidad_mayoreo}</TableCell>\n        <TableCell align={\"center\"}>{precio.utilidad} %</TableCell>\n      </TableRow>\n    </Fragment>\n  );\n};\n","import React, { useContext, useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport { Box, Button, Dialog, DialogContent, IconButton, Typography } from '@material-ui/core';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport CloseIcon from '@material-ui/icons/Close';\nimport AutorenewIcon from '@material-ui/icons/Autorenew';\nimport { VentasContext } from '../../../context/Ventas/ventasContext';\nimport { AccesosContext } from '../../../context/Accesos/accesosCtx';\nimport { useEffect } from 'react';\n\nconst columns = [\n\t{ id: 'folio', label: 'Folio', minWidth: 20, align: 'center' },\n\t{ id: 'fecha', label: 'Fecha', minWidth: 20, align: 'center' },\n\t{ id: 'cliente', label: 'Cliente', minWidth: 330, align: 'center' },\n\t{ id: 'productos', label: 'Productos', minWidth: 20, align: 'center' },\n\t{ id: 'total', label: 'Total', minWidth: 200, align: 'center'},\n];\n\nconst useStyles = makeStyles({\n\troot: {\n\t\twidth: \"100%\"\n\t},\n\tcontainer: {\n\t\theight: \"45vh\",\n    \t'& ::-webkit-scrollbar': {\n      \t\tdisplay: 'none'\n    \t}\n\t}\n});\n\nexport default function ListaVentas() {\n\n\tconst classes = useStyles();\n\n\tlet listaEnEspera = JSON.parse(localStorage.getItem(\"ListaEnEspera\"));\n\n\treturn (\n\t\t<Paper className={classes.root}>\n\t\t\t<TableContainer className={classes.container}>\n\t\t\t\t<Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t{columns.map((column) => (\n\t\t\t\t\t\t\t\t<TableCell key={column.id} align={column.align} style={{ width: column.minWidth }}>\n\t\t\t\t\t\t\t\t\t{column.label}\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t<TableCell align='center' style={{ width: 35 }}>\n\t\t\t\t\t\t\t\tRegresar\n\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<TableCell align='center' style={{ width: 35 }}>\n\t\t\t\t\t\t\t\tEliminar\n\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t</TableHead>\n\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t{listaEnEspera?.map((row, index) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<RowsVentas venta={row} index={index} /> \n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t\t</TableBody>\n\t\t\t\t</Table>\n\t\t\t</TableContainer>\n\t\t</Paper>\n\t);\n};\n\n\nconst RowsVentas = ({ venta, index }) => {\n\n\tconst { \n\t\treloadEliminarVentaEspera, \n        setReloadEliminarVentaEspera,\n\t\tsetAbrirPanelAcceso,\n        abrirPanelAcceso,\n\t\tsetDepartamentos\n\t} = useContext(AccesosContext);\n\t\n    const { updateTablaVentas, setUpdateTablaVentas } = useContext(VentasContext);\n\tconst [ open, setOpen] = useState(false);\n\tconst [ keyIndex, setKeyIndex ] = useState('');\n    const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n\n\tlet listaEnEspera = JSON.parse(localStorage.getItem(\"ListaEnEspera\"));\n\tlet VentaEnEspera = JSON.parse(localStorage.getItem(\"DatosVentas\"));\n\n\tfunction borrarVenta(key) {\n\t\tif(sesion.accesos.ventas.eliminar_ventas.ver === true){\n\t\t\tlistaEnEspera.forEach(function(elemento, indice, array) {\n\t\t\t\tif(key === indice){\n\t\t\t\t\tlistaEnEspera.splice(key, 1);\n\t\t\t\t}\n\t\t\t});\n\t\t\tsetUpdateTablaVentas(!updateTablaVentas);\n\t\t\tlocalStorage.setItem(\"ListaEnEspera\", JSON.stringify(listaEnEspera));\n\t\t}else{\n\t\t\treturn null\n\t\t}\n    };\n\n\tconst AgregarVentaDeNuevo = (key) => {\n\t\tif(VentaEnEspera === null){\n\t\t\tlistaEnEspera.forEach((element, index) => {\n\t\t\t\tif (index === key) {\n\t\t\t\t\tlocalStorage.setItem(\"DatosVentas\", JSON.stringify(element.VentaEnEspera));\n\t\t\t\t\tlistaEnEspera.splice(key, 1);\n\t\t\t\t}\n\t\t\tlocalStorage.setItem(\"ListaEnEspera\", JSON.stringify(listaEnEspera));\n\t\t\t});\n\t\t\tsetUpdateTablaVentas(!updateTablaVentas);\n\t\t}else{\n\t\t\tsetOpen(!open);\n\t\t}\n\t};\n\n\tconst handleClickOpen = () => {\n\t\tsetOpen(!open);\n\t};\n\n\tconst verificarPermisos = (key) => {\n\t\tsetKeyIndex(key)\n\t\tif(sesion.accesos.ventas.eliminar_ventas.ver === true){\n\t\t\tsetKeyIndex(''); \n            borrarVenta(key);\n        }else{\n\t\t\tsetAbrirPanelAcceso(!abrirPanelAcceso);\n\t\t\tsetDepartamentos({departamento: 'ventas', subDepartamento: 'eliminar_ventas', tipo_acceso: 'ver'})\n\t\t}\n\t};\t\n\n\tuseEffect(() => {\n\t\tif (reloadEliminarVentaEspera === true) {\t\n\t\t\tborrarVenta(keyIndex);\n\t\t\tsetReloadEliminarVentaEspera(false);\n\t\t}\n\t}, [reloadEliminarVentaEspera]);\n\t\n\n\treturn(\n\t\t<>\n\t\t\t<TableRow \n\t\t\t\thover \n\t\t\t\ttabIndex={-1} \n\t\t\t\tkey={index} \n\t\t\t>\n\t\t\t\t<TableCell align='center'>\n\t\t\t\t\t{index + 1}\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell align='center'>\n\t\t\t\t\t{venta.fecha ? venta.fecha : \"\"}\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell align='center'>\n\t\t\t\t\t{venta.VentaEnEspera.cliente ? venta.VentaEnEspera.cliente.nombre_cliente : \"Pub. General\"}\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell align='center'>\n\t\t\t\t\t{venta.VentaEnEspera.productos.length}\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell align='center'>\n\t\t\t\t\t$ {(venta.VentaEnEspera.total).toFixed(4)}\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell align='center' >\n\t\t\t\t\t<IconButton \n\t\t\t\t\t\taria-label=\"regresar\" \n\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\tsize='small'\n\t\t\t\t\t\tonClick={() => AgregarVentaDeNuevo(index)}\n\t\t\t\t\t>\n\t\t\t\t\t\t<AutorenewIcon fontSize=\"medium\" />\n\t\t\t\t\t</IconButton>\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell align='center' >\n\t\t\t\t\t<IconButton \n\t\t\t\t\t\taria-label=\"delete\" \n\t\t\t\t\t\tsize='small'\n\t\t\t\t\t\tonClick={() => verificarPermisos(index)}\n\t\t\t\t\t>\n\t\t\t\t\t\t<DeleteIcon fontSize=\"medium\" />\n\t\t\t\t\t</IconButton>\n\t\t\t\t</TableCell>\n\t\t\t</TableRow>\n\n\t\t\t<Dialog\n\t\t\t\topen={open} \n\t\t\t\tonClose={handleClickOpen} \n\t\t\t\tfullWidth\n\t\t\t\tmaxWidth='xs'\n\t\t\t>\n\t\t\t\t\n\t\t\t\t<DialogContent>\n\t\t\t\t\t<Box p={1} display='flex'>\n\t\t\t\t\t\t<Typography variant=\"h6\">\n\t\t\t\t\t\t\tNo puedes agregar una venta, cuando ya esta una en curso.\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Box display='flex' justifyContent={'flex-end'} p={2}>\n\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"secondary\" onClick={handleClickOpen} size=\"large\">\n\t\t\t\t\t\t\t\t<CloseIcon />\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Box>\n\t\t\t\t</DialogContent>\n\t\t\t</Dialog>\n\t\t</>\n\n\t);\n}","import React, { useState } from 'react'\nimport useStyles from '../styles';\n\nimport { Box, Button, Dialog, DialogContent, Divider,Grid, Typography, Slide, Badge } from '@material-ui/core'\nimport ListaVentas from './ListaVentas';\nimport CloseIcon from '@material-ui/icons/Close';\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\nexport default function VentasEspera() {\n\tlet listaEnEspera = JSON.parse(localStorage.getItem(\"ListaEnEspera\"));\n\n    const classes = useStyles();\n    const [open, setOpen] = useState(false);\n    \n    const handleClickOpen = () => { \n\t\tsetOpen(!open);\n\t};\n\n    window.addEventListener('keydown', Mi_función); \n    function Mi_función(e){\n        if(e.altKey && e.keyCode === 76){ \n            handleClickOpen();\n        } \n    };\n\n    return (\n        <>\n            <Button \n                className={classes.borderBotonChico}\n                onClick={handleClickOpen}\n            >\n                <Box>\n                    <Box>\n                        <Badge \n                            badgeContent={listaEnEspera ? listaEnEspera.length : 0 } \n                            color=\"primary\" \n                            style={{fontSize: 45}}\n                        >\n                            <img \n                                src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/ventas/lista-de-espera.svg' \n                                alt=\"icono caja2\" \n                                style={{width: 38}} \n                            />\n                        </Badge>\n                    </Box>\n                    <Box>\n                        <Typography variant=\"body2\" >\n                            <b>Ventas en Espera</b>\n                        </Typography>\n                    </Box>\n                    <Box>\n                        <Typography variant=\"caption\" style={{color: '#808080'}} >\n                            <b>Alt + L</b>\n                        </Typography>\n                    </Box>\n                </Box>\n            </Button>\n            <Dialog\n\t\t\t\tmaxWidth='lg'\n\t\t\t\topen={open} \n\t\t\t\tonClose={handleClickOpen} \n\t\t\t\tTransitionComponent={Transition}\n\t\t\t>\n                <DialogContent>\n                    <Grid container item lg={12}>\n                        <Box\n                            display=\"flex\"\n                            flexGrow={1}\n                        >\n                            <Box>\n                                <img src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/ventas/lista-de-espera.svg' alt=\"icono caja\" className={classes.iconSizeDialogs} />\n                            </Box>\n                            <Box m={2} >\n                                <Divider orientation=\"vertical\" />\n                            </Box>\n                            <Box mt={3} >\n                                <Typography variant=\"h6\">\n                                    Ventas en espera\n                                </Typography>\n                            </Box>\n                        </Box>\n                        <Box>\n                            <Button variant=\"contained\" color=\"secondary\" onClick={handleClickOpen} size=\"large\">\n                                <CloseIcon />\n                            </Button>\n                        </Box>\n                        </Grid>\n                        <Grid>\n                            <ListaVentas />\n                        </Grid>\n                </DialogContent>\n            </Dialog>\n        </>\n    )\n}","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport { IconButton, TablePagination } from '@material-ui/core';\nimport DeleteIcon from '@material-ui/icons/Delete';\n\nconst columns = [\n\t{ id: 'folio', label: 'Folio', minWidth: 20, align: 'center' },\n\t{ id: 'cliente', label: 'Cliente', minWidth: 330 },\n\t{ id: 'fecha', label: 'Fecha.', minWidth: 100, align: 'center'},\n\t{ id: 'total', label: 'Total', minWidth: 100, align: 'center'},\n];\n\nfunction createData(folio, cliente, fecha, total) {\n\treturn { folio, cliente, fecha, total};\n}\n\nconst rows = [\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n];\n\nconst useStyles = makeStyles({\n\troot: {\n\t\twidth: '100%'\n\t},\n\tcontainer: {\n\t\tmaxHeight: '50vh'\n\t}\n});\n\nexport default function ListaVentasRealizadas() {\n\tconst classes = useStyles();\n\tconst [ page, setPage ] = React.useState(0);\n\tconst [ rowsPerPage, setRowsPerPage ] = React.useState(8);\n\n\tconst handleChangePage = (event, newPage) => {\n\t\tsetPage(newPage);\n\t};\n\n\tconst handleChangeRowsPerPage = (event) => {\n\t\tsetRowsPerPage(+event.target.value);\n\t\tsetPage(0);\n\t};\n\n\treturn (\n\t\t<Paper className={classes.root}>\n\t\t\t<TableContainer className={classes.container}>\n\t\t\t\t<Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t{columns.map((column) => (\n\t\t\t\t\t\t\t\t<TableCell key={column.id} align={column.align} style={{ width: column.minWidth }}>\n\t\t\t\t\t\t\t\t\t{column.label}\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t<TableCell align='center' style={{ width: 35 }}>\n\t\t\t\t\t\t\t\tEliminar\n\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t</TableHead>\n\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t{rows.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage).map((row) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<TableRow hover role=\"checkbox\" tabIndex={-1} key={row.code}>\n\t\t\t\t\t\t\t\t\t{columns.map((column) => {\n\t\t\t\t\t\t\t\t\t\tconst value = row[column.id];\n\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t<TableCell key={column.id} align={column.align}>\n\t\t\t\t\t\t\t\t\t\t\t\t{column.format && typeof value === 'number' ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolumn.format(value)\n\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t<TableCell align='center' >\n\t\t\t\t\t\t\t\t\t\t<IconButton aria-label=\"delete\" size='small'>\n\t\t\t\t\t\t\t\t\t\t\t<DeleteIcon fontSize=\"small\" />\n\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t\t</TableBody>\n\t\t\t\t</Table>\n\t\t\t</TableContainer>\n\t\t\t<TablePagination\n\t\t\t\trowsPerPageOptions={[ 10, 25, 100 ]}\n\t\t\t\tcomponent=\"div\"\n\t\t\t\tcount={rows.length}\n\t\t\t\trowsPerPage={rowsPerPage}\n\t\t\t\tpage={page}\n\t\t\t\tonChangePage={handleChangePage}\n\t\t\t\tonChangeRowsPerPage={handleChangeRowsPerPage}\n\t\t\t/>\n\t\t</Paper>\n\t);\n}","import React, { useState } from 'react'\nimport useStyles from '../styles';\n\nimport { Box, Button, Dialog, DialogActions, DialogContent, Divider,Grid, IconButton, InputBase,  Paper, Slide, Typography } from '@material-ui/core'\nimport { Search } from '@material-ui/icons';\nimport ListaVentasRealizadas from './ListaVentasRealizadas';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { FcPaid, FcSearch } from 'react-icons/fc';\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function VentasRealizadas() {\n\n    const classes = useStyles();\n\n    const [open, setOpen] = useState(false);\n    \n    const handleClickOpen = () => { \n\t\tsetOpen(!open);\n\t};\n\n    window.addEventListener('keydown', Mi_función); \n    function Mi_función(e){\n        if(e.altKey && e.keyCode === 86){ \n            handleClickOpen();\n        } \n    };\n\n    return (\n        <>\n           <Button \n                className={classes.borderBotonChico}\n                onClick={handleClickOpen}\n            >\n                <Box>\n                    <Box>\n                        <FcSearch style={{fontSize: 45}} />\n                    </Box>\n                    <Box>\n                        <Typography variant=\"body2\" >\n                            <b>Buscar Folio</b>\n                        </Typography>\n                    </Box>\n                    <Box>\n                        <Typography variant=\"caption\" style={{color: '#808080'}} >\n                            <b>Alt + V</b>\n                        </Typography>\n                    </Box>\n                </Box>\n            </Button>\n            <Dialog\n\t\t\t\tmaxWidth='lg'\n\t\t\t\topen={open} \n\t\t\t\tonClose={handleClickOpen} \n\t\t\t\tTransitionComponent={Transition}\n\t\t\t>\n\n                <DialogContent>\n                    <Grid container item lg={12}>\n                        <Box\n                            display=\"flex\"\n                            flexGrow={1}\n                        >\n                            <Box>\n                                <img src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/ventas/lista-de-espera.svg' alt=\"icono caja\" className={classes.iconSizeDialogs} />\n                            </Box>\n                            <Box m={2} >\n                                <Divider orientation=\"vertical\" />\n                            </Box>\n                            <Box mt={3}>\n                                <Typography variant=\"h6\">\n                                    Ventas Realizadas\n                                </Typography>\n                            </Box>\n                        </Box>\n                        <Box>\n                            <Button variant=\"contained\" color=\"secondary\" onClick={handleClickOpen} size=\"large\">\n                                <CloseIcon />\n                            </Button>\n                        </Box>\n                        </Grid>\n                        <Grid>\n                            <div className={classes.formInputFlex}>\n                                <Box width=\"100%\">\n                                    <Paper className={classes.rootBusqueda}>\n                                        <InputBase\n                                            fullWidth\n                                            placeholder=\"Buscar venta...\"\n                                        />\n                                        <IconButton >\n                                            <Search />\n                                        </IconButton>\n                                    </Paper>\n                                </Box>\n                            </div>\n                            <ListaVentasRealizadas />\n                        </Grid>\n                </DialogContent>\n            </Dialog>\n        </>\n    )\n}","import { Grid } from '@material-ui/core'\nimport React, { Fragment } from 'react'\nimport Abonos from '../../pages/ventas/Abonos/Abonos'\nimport BuscarProducto from '../../pages/ventas/BuscarProductos/BuscarProducto'\nimport ClientesVentas from '../../pages/ventas/ClientesVentas/ClientesVentas'\nimport Cotizacion from '../../pages/ventas/Cotizacion/Cotizacion'\nimport AbrirCajon from '../../pages/ventas/Operaciones/AbrirCajon'\nimport CancelarVenta from '../../pages/ventas/Operaciones/CancelarVenta'\nimport CerrarVenta from '../../pages/ventas/Operaciones/CerrarVenta'\nimport ConsultarPrecio from '../../pages/ventas/Operaciones/ConsultarPrecio'\nimport PreciosProductos from '../../pages/ventas/Operaciones/PreciosProducto'\nimport VentasEspera from '../../pages/ventas/VentasEspera/VentasEspera'\nimport VentasRealizadas from '../../pages/ventas/VentasRealizadas/VentasRealizadas'\nimport useStyles from './styles';\n\nexport default function NavegacionVentasLateral() {\n\n    const classes = useStyles();\n\n    return (\n        <Fragment>\n            <Grid \n                container \n                className={classes.drawerColor}\n            >\n                <Grid item lg={6} md={6} xs={6}>\n                    <CerrarVenta />\n                </Grid>\n                <Grid item lg={6} md={6} xs={6}>\n                    <BuscarProducto />\n                </Grid>\n                <Grid item lg={6} md={6} xs={6}>\n                    <CancelarVenta />\n                </Grid>\n                <Grid item lg={6} md={6} xs={6}>\n                    <Cotizacion type='GENERAR' />\n                </Grid>\n                <Grid item lg={6} md={6} xs={6}>\n                    <PreciosProductos />\n                </Grid>\n                <Grid item lg={6} md={6} xs={6}>\n                    <VentasEspera />\n                </Grid>\n                <Grid item lg={6} md={6} xs={6}>\n                    <ClientesVentas />\n                </Grid>\n                <Grid item lg={6} md={6} xs={6}>\n                    <VentasRealizadas />\n                </Grid>\n                <Grid item lg={6} md={6} xs={6}>\n                    <ConsultarPrecio />\n                </Grid>\n                <Grid item lg={6} md={6} xs={6}>\n                    <Abonos />\n                </Grid>\n            </Grid>\n        </Fragment>\n    )\n}\n","import React, { forwardRef, Fragment, useContext, useState } from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Slide from \"@material-ui/core/Slide\";\nimport { CircularProgress, IconButton } from \"@material-ui/core\";\nimport { Delete } from \"@material-ui/icons\";\nimport { VentasContext } from \"../../context/Ventas/ventasContext\";\n\nimport {\n  findProductArray,\n  calculatePrices2,\n} from \"../../config/reuserFunctions\";\n\nconst Transition = forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function EliminarProducto({\n  producto,\n  setNewProductoVentas,\n  newProductoVentas,\n  setDatosVentasActual,\n}) {\n  const [open, setOpen] = useState(false);\n  const [loading, setLoading] = useState(false);\n  /* const [ alert, setAlert ] = useState({ message: '', status: '', open: false }); */\n\n  const { updateTablaVentas, setUpdateTablaVentas } = useContext(VentasContext);\n\n  const handleToggleModal = () => setOpen(!open);\n\n  const eliminarProductoBD = async () => {\n    // console.log(producto);\n    let venta = JSON.parse(localStorage.getItem(\"DatosVentas\"));\n    let productosVentas = venta === null ? [] : venta.productos;\n    const venta_actual = venta === null ? [] : venta;\n    let productosVentasTemp = productosVentas;\n    let venta_existente =\n      venta === null\n        ? {\n            subTotal: 0,\n            total: 0,\n            impuestos: 0,\n            iva: 0,\n            ieps: 0,\n            descuento: 0,\n            monedero: 0,\n          }\n        : venta;\n\n    const producto_encontrado = await findProductArray(\n      producto\n    );\n    console.log(\"llego\");\n    if (producto_encontrado.found) {\n      const { cantidad_venta, ...newP } = producto;\n      console.log(\"llego\");\n\n      // newP.precio_actual_producto = newP.descuento_activo ? newP.descuento.precio_con_descuento :  newP.precio;\n      //Sacar los impuestos que se van a restar\n      // let calculoResta = await calculatePrices(newP, cantidad_venta, newP.granel_producto, newP.precio_actual_producto);\n\n      const new_resta = await calculatePrices2({\n        newP: newP,\n        cantidad: cantidad_venta,\n        precio_boolean: true,\n        precio: newP.precio_actual_object,\n        granel: newP.granel_producto,\n        origen: \"\",\n      });\n\n      productosVentasTemp.splice(producto_encontrado.producto_found.index, 1);\n      const CalculosData = {\n        subTotal:\n          parseFloat(venta_existente.subTotal) -\n          parseFloat(new_resta.subtotalCalculo),\n        total:\n          parseFloat(venta_existente.total) -\n          parseFloat(new_resta.totalCalculo),\n        impuestos:\n          parseFloat(venta_existente.impuestos) -\n          parseFloat(new_resta.impuestoCalculo),\n        iva: parseFloat(venta_existente.iva) - parseFloat(new_resta.ivaCalculo),\n        ieps:\n          parseFloat(venta_existente.ieps) - parseFloat(new_resta.iepsCalculo),\n        descuento:\n          parseFloat(venta_existente.descuento) -\n          parseFloat(new_resta.descuentoCalculo),\n        monedero:\n          parseFloat(venta_existente.monedero) -\n          parseFloat(new_resta.monederoCalculo),\n      };\n      localStorage.setItem(\n        \"DatosVentas\",\n        JSON.stringify({\n          ...CalculosData,\n          cliente:\n            venta_actual.venta_cliente === true ? venta_actual.cliente : {},\n          venta_cliente:\n            venta_actual.venta_cliente === true\n              ? venta_actual.venta_cliente\n              : false,\n          productos: productosVentasTemp,\n        })\n      );\n      setDatosVentasActual(CalculosData);\n      setUpdateTablaVentas(!updateTablaVentas);\n    }\n  };\n\n  return (\n    <Fragment>\n      {/* <SnackBarMessages alert={alert} setAlert={setAlert} /> */}\n      <IconButton size=\"small\" onClick={() => handleToggleModal()}>\n        <Delete size=\"small\" color=\"error\" />\n      </IconButton>\n      <Dialog\n        open={open}\n        TransitionComponent={Transition}\n        keepMounted\n        onClose={() => handleToggleModal()}\n        aria-labelledby=\"alert-dialog-delete-producto\"\n      >\n        <DialogTitle id=\"alert-dialog-delete-producto\">\n          {\"¿Estás seguro de eliminar este producto?\"}\n        </DialogTitle>\n        <DialogActions style={{ display: \"flex\", justifyContent: \"center\" }}>\n          <Button onClick={() => handleToggleModal()} color=\"inherit\">\n            Cancelar\n          </Button>\n          <Button\n            onClick={() => eliminarProductoBD()}\n            color=\"secondary\"\n            startIcon={\n              loading ? <CircularProgress color=\"inherit\" size={20} /> : null\n            }\n          >\n            Eliminar\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </Fragment>\n  );\n}\n","import React, { useState, useEffect, Fragment, useRef, useContext } from \"react\";\nimport PropTypes from \"prop-types\";\nimport clsx from \"clsx\";\nimport { lighten, makeStyles } from \"@material-ui/core/styles\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport TableSortLabel from \"@material-ui/core/TableSortLabel\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Checkbox from \"@material-ui/core/Checkbox\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport FilterListIcon from \"@material-ui/icons/FilterList\";\nimport Input from \"@material-ui/core/Input\";\nimport EliminarProductoVenta from \"./EliminarProductoVenta\";\n\nimport { useDebounce } from \"use-debounce\";\nimport {\n  findProductArray,\n  verifiPrising,\n  calculatePrices2\n} from \"../../config/reuserFunctions\";\nimport { VentasContext } from '../../context/Ventas/ventasContext';\nimport { Avatar } from \"@material-ui/core\";\n\n\nconst headCells = [\n  {\n    id: \"Cantidad\",\n    numeric: false,\n    disablePadding: true,\n    label: \"Cantidad\",\n    width: 20,\n  },\n  {\n    id: \"Descripcion\",\n    numeric: true,\n    disablePadding: false,\n    label: \"Descripcion\",\n    width: 340,\n  },\n  {\n    id: \"Existencias\",\n    numeric: true,\n    disablePadding: false,\n    label: \"Existencias\",\n    width: 40,\n  },\n  {\n    id: \"% Desc\",\n    numeric: true,\n    disablePadding: false,\n    label: \"% Desc\",\n    width: 50,\n  },\n  {\n    id: \"U. Venta\",\n    numeric: true,\n    disablePadding: false,\n    label: \"U. Venta\",\n    width: 50,\n  },\n  {\n    id: \"Precio U\",\n    numeric: true,\n    disablePadding: false,\n    label: \"Precio U\",\n    width: 100,\n  },\n  {\n    id: \"Eliminar\",\n    numeric: true,\n    disablePadding: false,\n    label: \"Eliminar\",\n    width: 10,\n  },\n];\n\nfunction EnhancedTableHead(props) {\n  const {\n    classes,\n    onSelectAllClick,\n    order,\n    orderBy,\n    numSelected,\n    rowCount,\n    onRequestSort,\n  } = props;\n  const createSortHandler = (property) => (event) => {\n    onRequestSort(event, property);\n  };\n\n  return (\n    <TableHead>\n      <TableRow>\n        <TableCell padding=\"checkbox\">\n          <Checkbox\n            indeterminate={numSelected > 0 && numSelected < rowCount}\n            checked={rowCount > 0 && numSelected === rowCount}\n            onChange={onSelectAllClick}\n            inputProps={{ \"aria-label\": \"select all desserts\" }}\n          />\n        </TableCell>\n        {headCells.map((headCell) => (\n          <TableCell\n            key={headCell.id}\n            align={headCell.numeric ? \"right\" : \"left\"}\n            padding={headCell.disablePadding ? \"none\" : \"normal\"}\n            sortDirection={orderBy === headCell.id ? order : false}\n            style={{ width: headCell.width }}\n          >\n            <TableSortLabel\n              active={orderBy === headCell.id}\n              direction={orderBy === headCell.id ? order : \"asc\"}\n              onClick={createSortHandler(headCell.id)}\n            >\n              {headCell.label}\n              {orderBy === headCell.id ? (\n                <span className={classes.visuallyHidden}>\n                  {order === \"desc\" ? \"sorted descending\" : \"sorted ascending\"}\n                </span>\n              ) : null}\n            </TableSortLabel>\n          </TableCell>\n        ))}\n      </TableRow>\n    </TableHead>\n  );\n}\n\nEnhancedTableHead.propTypes = {\n  classes: PropTypes.object.isRequired,\n  numSelected: PropTypes.number.isRequired,\n  onRequestSort: PropTypes.func.isRequired,\n  onSelectAllClick: PropTypes.func.isRequired,\n  order: PropTypes.oneOf([\"asc\", \"desc\"]).isRequired,\n  orderBy: PropTypes.string.isRequired,\n  rowCount: PropTypes.number.isRequired,\n};\n\nconst useToolbarStyles = makeStyles((theme) => ({\n  root: {\n    paddingLeft: theme.spacing(2),\n    paddingRight: theme.spacing(1),\n  },\n  highlight:\n    theme.palette.type === \"light\"\n      ? {\n          color: theme.palette.secondary.main,\n          backgroundColor: lighten(theme.palette.secondary.light, 0.85),\n        }\n      : {\n          color: theme.palette.text.primary,\n          backgroundColor: theme.palette.secondary.dark,\n        },\n  title: {\n    flex: \"1 1 100%\",\n  },\n}));\n\nconst EnhancedTableToolbar = (props) => {\n  const classes = useToolbarStyles();\n  const { numSelected } = props;\n\n  return (\n    <Toolbar\n      className={clsx(classes.root, {\n        [classes.highlight]: numSelected > 0,\n      })}\n    >\n      {numSelected > 0 ? (\n        <Typography\n          className={classes.title}\n          color=\"inherit\"\n          variant=\"subtitle1\"\n          component=\"div\"\n        >\n          {numSelected} selected\n        </Typography>\n      ) : (\n        <Typography\n          className={classes.title}\n          variant=\"h6\"\n          id=\"tableTitle\"\n          component=\"div\"\n        >\n          Nutrition\n        </Typography>\n      )}\n\n      {numSelected > 0 ? (\n        <Tooltip title=\"Delete\">\n          <IconButton aria-label=\"delete\">\n            <DeleteIcon />\n          </IconButton>\n        </Tooltip>\n      ) : (\n        <Tooltip title=\"Filter list\">\n          <IconButton aria-label=\"filter list\">\n            <FilterListIcon />\n          </IconButton>\n        </Tooltip>\n      )}\n    </Toolbar>\n  );\n};\n\nEnhancedTableToolbar.propTypes = {\n  numSelected: PropTypes.number.isRequired,\n};\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: \"100%\",\n    marginTop: 7\n  },\n  paper: {\n    width: \"100%\",\n    marginBottom: theme.spacing(2),\n  },\n  container: {\n    height: \"100%\",\n    '& ::-webkit-scrollbar': {\n      display: 'none'\n    }\n  },\n  table: {\n    minWidth: 750,\n    height: \"55vh\",\n  },\n  visuallyHidden: {\n    border: 0,\n    clip: \"rect(0 0 0 0)\",\n    height: 1,\n    margin: -1,\n    overflow: \"hidden\",\n    padding: 0,\n    position: \"absolute\",\n    top: 20,\n    width: 1,\n  },\n\n}));\n\nexport default function EnhancedTable({\n  setDatosVentasActual,\n}) {\n  const classes = useStyles();\n  const [ selected, setSelected ] = useState([]);\n\tconst sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n\n  const { setProductoCambioPrecio, setPrecioSelectProductoVenta, updateTablaVentas, setUpdateTablaVentas } = useContext(VentasContext);\n\n  const [datosTabla, setDatosTabla] = useState([]);\n\n  useEffect(() => {\n    const venta = JSON.parse(localStorage.getItem(\"DatosVentas\"));\n    setDatosTabla(venta === null ? [] : venta.productos);\n  }, [updateTablaVentas]);\n\n  const handleClick = (name) => {\n    let newSelected = [];\n    const exist = selected.indexOf(name) !== -1;\n    if(exist){\n      newSelected = [];\n    }else{\n      newSelected = newSelected.concat([], name);\n    } \n    const producto = name.id_producto.precios.precios_producto.filter((p) => p.precio_neto === name.precio_actual_producto);\n    if(producto.length > 0) setPrecioSelectProductoVenta(producto);\n    setProductoCambioPrecio(name);\n    setSelected(newSelected);\n  };\n\n  const TwoClickInRowTableBuy = (e, producto) => {\n    try {\n      let timer;\n      clearTimeout(timer);\n      if (e.detail === 2) {\n        handleClick(producto);\n        setProductoCambioPrecio(producto);\n      }\n      \n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const isSelected = (name) => {\n    return selected.indexOf(name) !== -1;\n  };\n\n  return (\n    <div className={classes.root}>\n      <Paper>\n        <TableContainer className={classes.container}>\n          <Table\n            stickyHeader\n            size=\"small\"\n            aria-labelledby=\"tableTitle\"\n            aria-label=\"a dense table\"\n          >\n            <TableHead>\n              <TableRow>\n                <TableCell style={{ width: 25, textAlign:\"center\" }}></TableCell>\n                <TableCell style={{ width: 20, textAlign:\"center\" }}>Cantidad</TableCell>\n                <TableCell style={{ width: 340 }}>Descripcion</TableCell>\n                <TableCell style={{ width: 40, textAlign:\"center\" }}>Exis.</TableCell>\n                <TableCell style={{ width: 50, textAlign:\"center\" }}><b>% Desct.</b></TableCell>\n                <TableCell style={{ width: 40, textAlign:\"center\" }}>Rx.</TableCell>\n                <TableCell style={{ width: 50, textAlign:\"center\" }}>U. Venta</TableCell>\n                <TableCell style={{ width: 100, textAlign:\"center\" }}>Precio U</TableCell>\n                <TableCell align=\"center\" style={{ width: 10 }} />\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {datosTabla?.map((producto, index) => {\n                const isItemSelected = isSelected(producto);\n                const labelId = `enhanced-table-checkbox-${index}`;\n                return (\n                  <RenderTableRows\n                    key={index}\n                    producto={producto}\n                    setUpdateTablaVentas={setUpdateTablaVentas}\n                    updateTablaVentas={updateTablaVentas}\n                    setDatosVentasActual={setDatosVentasActual}\n                    isItemSelected={isItemSelected}\n                    labelId={labelId}\n                    handleClick={handleClick}\n                    selected={selected}\n                    TwoClickInRowTableBuy={TwoClickInRowTableBuy}\n                    setSelected={setSelected}\n                  />\n                );\n              })}\n            </TableBody>\n          </Table>\n        </TableContainer>\n      </Paper>\n    </div>\n  );\n}\n\nconst RenderTableRows = ({\n  producto,\n  setUpdateTablaVentas,\n  updateTablaVentas,\n  setDatosVentasActual,\n  TwoClickInRowTableBuy,\n  handleClick,\n  isItemSelected,\n  labelId,\n  setSelected,\n  selected\n}) => {\n  // const [actuallyProduct, setActuallyProduct] = useState(producto);\n  const [newCantidadProduct, setNewCantidadProduct] = useState(\n    producto.cantidad_venta\n  );\n  \n  const [ tempAmount, setTempAmount ] = useState(producto.cantidad_venta);\n\n  const textfield = useRef(null);\n  const [value] = useDebounce(newCantidadProduct, 500);\n\n\n  useEffect(() => {\n    setTempAmount(producto.cantidad_venta);\n  }, [producto.cantidad_venta]);\n\n  useEffect(() => {\n    console.log(value);\n    CalculeDataPricing(value);\n  }, [value]);\n  \n\n  const calculateNewPricingAmount = (cantidad) => {\n    try {\n      setTempAmount(cantidad);\n      setNewCantidadProduct(cantidad);\n    } catch (error) {\n      return false;\n    }\n  }\n\n  const CalculeDataPricing = async (new_cant) => {\n    if(new_cant === \"\" || new_cant == 0){\n      setTempAmount(producto.cantidad_venta);\n    }else{\n      let venta = JSON.parse(localStorage.getItem(\"DatosVentas\"));\n      let productosVentas = venta === null ? [] : venta.productos;\n      const venta_actual = venta === null ? [] : venta;\n      let productosVentasTemp = productosVentas;\n      let venta_existente =\n        venta === null\n          ? {\n              subTotal: 0,\n              total: 0,\n              impuestos: 0,\n              iva: 0,\n              ieps: 0,\n              descuento: 0,\n              monedero: 0\n            }\n          : venta;\n\n      let CalculosData = {};\n      \n      //Buscar y obtener ese producto en el array de ventas\n      const producto_encontrado = await findProductArray(\n        producto\n      );\n      \n      if (producto_encontrado.found) {\n        const { cantidad_venta, ...newP } =\n          producto_encontrado.producto_found.producto;\n        newP.cantidad_venta = parseInt(new_cant);\n        const verify_prising = await verifiPrising(newP);\n        const newPrising = verify_prising.found ? verify_prising.object_prising : newP.precio_actual_object;\n        \n        const new_resta = await calculatePrices2({newP, cantidad: cantidad_venta, precio_boolean: true, precio: newP.precio_actual_object, granel: newP.granel_producto, origen: \"Tabla\" });\n        const new_suma = await calculatePrices2({newP, cantidad: parseInt(new_cant), precio_boolean: true, precio: newPrising, granel: newP.granel_producto, origen: \"Tabla\" });\n\n        console.log(new_resta);\n        console.log(new_suma);\n\n        newP.iva_total_producto = parseFloat(new_suma.ivaCalculo);\n        newP.ieps_total_producto = parseFloat(new_suma.iepsCalculo);\n        newP.impuestos_total_producto = parseFloat(new_suma.impuestoCalculo);\n        newP.subtotal_total_producto = parseFloat(new_suma.subtotalCalculo);\n        newP.total_total_producto = parseFloat(new_suma.totalCalculo);\n\n        if (verify_prising.found) {\n          newP.precio_a_vender = new_suma.totalCalculo;\n          newP.precio_anterior = newP.precio_actual_porducto;\n          newP.precio_actual_producto = verify_prising.pricing;\n          newP.precio_actual_object = verify_prising.object_prising;\n\n          newP.precio_actual_object = {\n            cantidad_unidad: verify_prising.object_prising.cantidad_unidad ? verify_prising.object_prising.cantidad_unidad : null,\n            numero_precio: verify_prising.object_prising.numero_precio ? verify_prising.object_prising.numero_precio : null,\n            unidad_maxima: verify_prising.object_prising.unidad_maxima ? verify_prising.object_prising.unidad_maxima : null,\n            precio_general: verify_prising.object_prising.precio_general ? verify_prising.object_prising.precio_general : null,\n            precio_neto: verify_prising.object_prising.precio_neto ? verify_prising.object_prising.precio_neto : null,\n            precio_venta: verify_prising.object_prising.precio_venta ? verify_prising.object_prising.precio_venta : null,\n            iva_precio: verify_prising.object_prising.iva_precio ? verify_prising.object_prising.iva_precio : null,\n            ieps_precio: verify_prising.object_prising.ieps_precio ? verify_prising.object_prising.ieps_precio : null,\n            utilidad: verify_prising.object_prising.utilidad ? verify_prising.object_prising.utilidad : null,\n            porciento: verify_prising.object_prising.porciento ? verify_prising.object_prising.porciento : null,\n            dinero_descontado: verify_prising.object_prising.dinero_descontado ? verify_prising.object_prising.dinero_descontado : null,\n          };\n\n        }else{\n          newP.cantidad_venta = parseInt(new_cant);\n          newP.precio_anterior = newP.precio_actual_producto;\n          newP.precio_a_vender = new_suma.totalCalculo;\n        }\n\n        productosVentasTemp.splice(\n          producto_encontrado.producto_found.index,\n          1,\n          newP\n        );\n\n        CalculosData = {\n          subTotal:\n            parseFloat(venta_existente.subTotal) -\n            parseFloat(new_resta.subtotalCalculo) +\n            new_suma.subtotalCalculo,\n          total:\n            parseFloat(venta_existente.total) -\n            parseFloat(new_resta.totalCalculo) +\n            new_suma.totalCalculo,\n          impuestos:\n            parseFloat(venta_existente.impuestos) -\n            parseFloat(new_resta.impuestoCalculo) +\n            new_suma.impuestoCalculo,\n          iva:\n            parseFloat(venta_existente.iva) -\n            parseFloat(new_resta.ivaCalculo) +\n            new_suma.ivaCalculo,\n          ieps:\n            parseFloat(venta_existente.ieps) -\n            parseFloat(new_resta.iepsCalculo) +\n            new_suma.iepsCalculo,\n          descuento:\n            parseFloat(venta_existente.descuento) -\n            parseFloat(new_resta.descuentoCalculo) +\n            new_suma.descuentoCalculo,\n          monedero:\n            parseFloat(venta_existente.monedero) -\n            parseFloat(new_resta.monederoCalculo) +\n            new_suma.monederoCalculo,\n        };\n      } else {\n        console.log(\"El producto no existe\");\n      }\n\n      localStorage.setItem(\n        \"DatosVentas\",\n        JSON.stringify({\n          ...CalculosData,\n          cliente:\n            venta_actual.venta_cliente === true ? venta_actual.cliente : {},\n          venta_cliente:\n            venta_actual.venta_cliente === true\n              ? venta_actual.venta_cliente\n              : false,\n          productos: productosVentasTemp,\n        })\n      );\n      setDatosVentasActual(CalculosData);\n      //Recargar la tabla de los productos\n      setUpdateTablaVentas(!updateTablaVentas);\n    }\n  };\n\n  return (\n    <Fragment>\n      <TableRow\n        role=\"checkbox\"\n        style={{height: '15px'}}\n        aria-checked={isItemSelected}\n        tabIndex={-1}\n        key={producto._id}\n        selected={isItemSelected}\n        hover\n        onClick={(e) => TwoClickInRowTableBuy(e,producto)}\n      >\n        <TableCell padding=\"checkbox\">\n          <Checkbox\n            onClick={(event) => {\n              if(selected.length > 0) setSelected([]);\n              handleClick(producto);\n            }}\n            checked={isItemSelected}\n            inputProps={{ \"aria-labelledby\": labelId }}\n          />\n        </TableCell>\n        <TableCell>\n          <Input\n            inputRef={textfield}\n            onChange={(e) => calculateNewPricingAmount(e.target.value)}\n            value={tempAmount}\n            type=\"number\"\n            name=\"cantidad_venta\"\n          />\n        </TableCell>\n        <TableCell>\n          {producto.id_producto.datos_generales.nombre_comercial}\n        </TableCell>\n        <TableCell  style={{ textAlign:\"center\"}} >\n          {producto.concepto === \"medida\"\n            ? producto.cantidad\n            : producto.inventario_general.map(\n                (existencia) => `${existencia.cantidad_existente}`\n              )}\n        </TableCell>\n        <TableCell  style={{ textAlign:\"center\"}} >\n          %{\" \"}\n          {producto.precio_actual_object.porciento !== null\n            ? producto.precio_actual_object.porciento\n            : 0}\n        </TableCell>\n        <TableCell style={{ textAlign:\"center\"}} >\n          {producto.id_producto.datos_generales.receta_farmacia === true\n            ? \"Si\"\n            : \"No\"}\n        </TableCell>\n        <TableCell style={{ textAlign:\"center\"}} >\n          {producto.inventario_general.map(\n            (existencia) => `${existencia.unidad_inventario}`\n          )}\n        </TableCell>\n        <TableCell style={{ textAlign:\"center\"}} >\n          $ { producto.precio_actual_object.precio_neto}\n        </TableCell>\n        <TableCell style={{ textAlign:\"center\"}} >\n          <EliminarProductoVenta\n            producto={producto}\n            setDatosVentasActual={setDatosVentasActual}\n          />\n        </TableCell>\n      </TableRow>\n    </Fragment>\n  );\n};\n","import React, { useState, useEffect, useContext } from \"react\";\nimport { OBTENER_CLIENTES_VENTAS } from \"../../gql/Ventas/ventas_generales\";\nimport { useQuery } from \"@apollo/client\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport { TextField } from \"@material-ui/core\";\n// import { BlurLinear } from \"@material-ui/icons\";\n// import { VentasContext } from \"../../context/Ventas/ventasContext\";\nimport { ClienteCtx } from '../../context/Catalogos/crearClienteCtx';\nimport { VentasContext } from \"../../context/Ventas/ventasContext\";\n\nexport default function ClientesVentas() {\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n\n  const { setUpdateClientVenta, updateClientVenta } = useContext(ClienteCtx);\n  const { setClientesVentas } = useContext(VentasContext);\n\n  const [selectClient, setSelectClient] = useState({});\n\n  // console.log(sesion.empresa._id);\n  // console.log(sesion.sucursal._id);\n\n  const { loading, data, error, refetch } = useQuery(OBTENER_CLIENTES_VENTAS, {\n    variables: {\n      empresa: sesion.empresa._id,\n      sucursal: sesion.sucursal._id,\n    },\n    fetchPolicy: \"network-only\"\n  });\n\n  // console.log(error);\n  // console.log(\"data\",data);\n  let obtenerClientes = [];\n  if (data) obtenerClientes = data.obtenerClientesVentas;\n  // console.log(obtenerClientes);\n\n  useEffect(() => {\n    const data = () => {\n      // console.log(\"llego al final\");\n      const venta = JSON.parse(localStorage.getItem(\"DatosVentas\"));\n      if (venta !== null) {\n        setSelectClient(venta.cliente);\n        setClientesVentas(venta.cliente);\n        refetch();\n      }\n    }\n    data();\n  }, [refetch, updateClientVenta]);\n\n  const ChangeClientAutocomplate = (value) => {\n    try {\n      // console.log(value);\n      const venta = JSON.parse(localStorage.getItem(\"DatosVentas\"));\n      let venta_actual = venta === null ? {} : venta;\n      setSelectClient(value);\n      \n      // console.log(venta_actual);\n      let dataCliente = {\n          subTotal:\n            venta_actual.subTotal === undefined ? 0 : venta_actual.subTotal,\n          total: venta_actual.total === undefined ? 0 : venta_actual.total,\n          impuestos:\n            venta_actual.impuestos === undefined ? 0 : venta_actual.impuestos,\n          iva: venta_actual.iva === undefined ? 0 : venta_actual.iva,\n          ieps: venta_actual.ieps === undefined ? 0 : venta_actual.ieps,\n          descuento:\n            venta_actual.descuento === undefined ? 0 : venta_actual.descuento,\n          monedero: venta_actual.monedero === undefined ? 0 : venta_actual.monedero,\n          tipo_cambio: venta_actual.tipo_cambio ? venta_actual.tipo_cambio : {},\n          venta_cliente: value === null ? false : true,\n          productos:\n            venta_actual.productos?.length > 0 ? venta_actual. productos : [],\n      }\n      if(value !== null) dataCliente = {...dataCliente, cliente: value, }\n      localStorage.setItem(\"DatosVentas\",JSON.stringify(dataCliente));\n      setUpdateClientVenta(!updateClientVenta);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  if (loading) return null;\n\n  return (\n    <div>\n      <Autocomplete\n        id=\"combo-box-producto-codigo\"\n        size=\"small\"\n        fullWidth\n        options={obtenerClientes}\n        getOptionLabel={(option) =>\n          option.nombre_cliente ? option.nombre_cliente : \"N/A\"\n        }\n        renderInput={(params) => <TextField {...params} variant=\"outlined\" />}\n        onChange={(_, value) => ChangeClientAutocomplate(value)}\n        getOptionSelected={(option) => option.nombre_cliente}\n        value={selectClient ? selectClient : null}\n      />\n    </div>\n  );\n}\n","import React, { useState, useEffect, useContext } from \"react\";\nimport {\n  Box,\n  FormControl,\n  Grid,\n  IconButton,\n  InputBase,\n  MenuItem,\n  Paper,\n  Select,\n  Typography,\n} from \"@material-ui/core\";\nimport useStyles from \"./styles\";\n\nimport { /* FcRating, */ FcBusinessman, FcCalendar, FcSalesPerformance } from 'react-icons/fc';\nimport { FaBarcode, FaMoneyCheckAlt } from \"react-icons/fa\";\nimport { AiOutlineFieldNumber } from \"react-icons/ai\";\nimport { Search } from \"@material-ui/icons\";\nimport MonetizationOnIcon from '@material-ui/icons/MonetizationOn';\n\nimport TablaVentasCheckbox from \"./Tabla_ventas_checkbox\";\nimport { CONSULTA_PRODUCTO_UNITARIO } from \"../../gql/Ventas/ventas_generales\";\nimport { useLazyQuery } from \"@apollo/client\";\nimport ClientesVentas from \"./ClientesVentas\";\nimport { VentasContext } from \"../../context/Ventas/ventasContext\";\nimport SnackBarMessages from '../../components/SnackBarMessages';\n\nimport { Fragment } from \"react\";\n// import MonedaCambio from \"./Operaciones/MonedaCambio\";\nimport Cotizacion from './Cotizacion/Cotizacion'\n\nimport {\n  findProductArray,\n  verifiPrising,\n  calculatePrices2\n} from \"../../config/reuserFunctions\";\n\n// import { ClienteProvider } from '../../context/Catalogos/crearClienteCtx';\n\nexport default function VentasGenerales() {\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n  // const productosVentas = JSON.parse(localStorage.getItem('productosVentas'));\n  const classes = useStyles();\n  // const [newProductoVentas, setNewProductoVentas] = useState(false);\n  const [granelBase, setGranelBase] = useState({\n    granel: false,\n    valor: 0,\n  });\n\n  const { updateTablaVentas, setUpdateTablaVentas, setOpen, clientesVentas  } = useContext(VentasContext);\n\n  const [DatosVentasActual, setDatosVentasActual] = useState({\n    subTotal: 0,\n    total: 0,\n    impuestos: 0,\n    iva: 0,\n    ieps: 0,\n    descuento: 0,\n    monedero: 0,\n    tipo_cambio: {},\n  });\n\n  const [alert, setAlert] = useState({ message: '', status: '', open: false });\n\n  const [obtenerProductos, { data, loading, error }] = useLazyQuery(\n    CONSULTA_PRODUCTO_UNITARIO,\n    {\n      fetchPolicy: \"network-only\"\n    }\n  );\n\n  const [consultaBase, setConsultaBase] = useState(false);\n\n  let productosBase = null;\n  if(error){\n    console.log(data,loading, error.networkError);\n    console.log(data,loading, error.graphQLErrors);\n  }\n  // console.log(data,loading, error);\n  if (data) productosBase = data.obtenerUnProductoVentas;\n  // console.log(productosBase);\n\n  useEffect(() => {\n    if(error){\n      if(error.networkError){\n          setAlert({ message: `Error de servidor`, status: 'error', open: true });\n        }else if(error.graphQLErrors){\n          setAlert({ message: `${error.graphQLErrors[0]?.message}`, status: 'error', open: true });\n        }\n    }else{\n      if(productosBase !== null){\n        if (productosBase.cantidad !== null) {\n          agregarProductos(productosBase);\n        }else{\n          setOpen(true);\n          setAlert({ message: `Este producto no existe`, status: 'error', open: true });\n        }\n      }\n    }\n  }, [loading]);\n\n  useEffect(() => {\n    setGranelBase({\n      granel: false,\n      valor: 0,\n    });\n    const venta = JSON.parse(localStorage.getItem(\"DatosVentas\"));\n    if (venta !== null) {\n      setDatosVentasActual({\n        subTotal: parseFloat(venta.subTotal),\n        total: parseFloat(venta.total),\n        impuestos: parseFloat(venta.impuestos),\n        iva: parseFloat(venta.iva),\n        ieps: parseFloat(venta.ieps),\n        descuento: parseFloat(venta.descuento),\n        monedero: parseFloat(venta.monedero),\n      });\n    }\n  }, [updateTablaVentas]);\n\n  const keyUpEvent = async (event) => {\n    if (event.code === \"Enter\" || event.code === \"NumpadEnter\") {\n      const input_value = event.target.value.trim();\n      const data = input_value.split(\"*\");\n      if (data.length > 1) {\n        let data_operation = isNaN(data[0]) ? data[1] : data[0];\n        let data_key = isNaN(data[0]) ? data[0] : data[1];\n        setGranelBase({\n          granel: true,\n          valor: parseFloat(data_operation),\n        });\n        obtenerProductos({\n          variables: {\n            datosProductos: data_key,\n            sucursal: sesion.sucursal._id, \n            empresa: sesion.empresa._id\n          },\n          fetchPolicy: \"network-only\"\n        });\n        setConsultaBase(!consultaBase);\n      } else {\n        setGranelBase({\n          granel: false,\n          valor: 0,\n        });\n        obtenerProductos({\n          variables: {            datosProductos: input_value,\n            sucursal: sesion.sucursal._id,\n            empresa: sesion.empresa._id\n          },\n          fetchPolicy: \"network-only\"\n        });\n        setConsultaBase(!consultaBase);\n      }\n    }\n  };\n\n  const agregarProductos = async (producto) => {\n    let venta = JSON.parse(localStorage.getItem(\"DatosVentas\"));\n    let productosVentas = venta === null ? [] : venta.productos;\n    let venta_actual = venta === null ? [] : venta;\n    let venta_existente =\n      venta === null\n        ? {\n            subTotal: 0,\n            total: 0,\n            impuestos: 0,\n            iva: 0,\n            ieps: 0,\n            descuento: 0,\n            monedero: 0,\n          }\n        : venta;\n    \n    let productosVentasTemp = productosVentas;\n\n    let CalculosData = {\n      subTotal: 0,\n      total: 0,\n      impuestos: 0,\n      iva: 0,\n      ieps: 0,\n      descuento: 0,\n      monedero: 0\n    };\n\n    const producto_encontrado = await findProductArray(\n      producto\n    );\n\n    if (!producto_encontrado.found && producto._id) {\n      const newP = { ...producto };\n      //Tomar el precio con descuento o normal\n      const productoPrecioFinal = newP.descuento_activo\n        ? newP.descuento.precio_neto\n        : newP.precio_unidad.precio_neto;\n\n      const new_prices = await calculatePrices2({newP,cantidad: 0, granel: granelBase, origen: \"Ventas1\", precio_boolean: false });\n\n      new_prices.newP.precio_anterior = productoPrecioFinal;\n\n      new_prices.newP.iva_total_producto = parseFloat(new_prices.ivaCalculo);\n      new_prices.newP.ieps_total_producto = parseFloat(new_prices.iepsCalculo);\n      new_prices.newP.impuestos_total_producto = parseFloat(new_prices.impuestoCalculo);\n      new_prices.newP.subtotal_total_producto = parseFloat(new_prices.subtotalCalculo);\n      new_prices.newP.total_total_producto = parseFloat(new_prices.totalCalculo);\n\n      console.log(new_prices.newP);\n      \n      productosVentasTemp.push(new_prices.newP);\n\n      CalculosData = {\n        subTotal: parseFloat(venta_existente.subTotal) + parseFloat(new_prices.subtotalCalculo),\n        total: parseFloat(venta_existente.total) + parseFloat(new_prices.totalCalculo),\n        impuestos: parseFloat(venta_existente.impuestos) + parseFloat(new_prices.impuestoCalculo),\n        iva: parseFloat(venta_existente.iva) + parseFloat(new_prices.ivaCalculo),\n        ieps: parseFloat(venta_existente.ieps) + parseFloat(new_prices.iepsCalculo),\n        descuento: parseFloat(venta_existente.descuento) + parseFloat(new_prices.descuentoCalculo),\n        monedero: parseFloat(venta_existente.monedero) + parseFloat(new_prices.monederoCalculo)\n      };\n\n\n    } else if (producto_encontrado.found && producto._id) {\n      \n      const { cantidad_venta, ...newP } = producto_encontrado.producto_found.producto;\n      \n      newP.cantidad_venta = parseInt(cantidad_venta) + 1;\n\n      const verify_prising = await verifiPrising(newP);\n\n      console.log(verify_prising);\n\n      //Verificar si el precio fue encontrado\n      if (verify_prising.found) {\n        const calculo_resta = await calculatePrices2({newP,cantidad_venta, granel: newP.granel_producto, origen: '', precio_boolean: true, precio: newP.precio_actual_object });\n        \n        const calculo_sumar = await calculatePrices2({newP,cantidad_venta: newP.cantidad_venta, granel: newP.granel_producto, origen: '', precio_boolean: true, precio: verify_prising.object_prising });\n\n        newP.precio_a_vender = calculo_sumar.totalCalculo;\n        newP.precio_anterior = newP.precio_actual_producto;\n        newP.precio_actual_producto = verify_prising.pricing;\n\n        console.log(calculo_sumar);\n        \n        newP.iva_total_producto = parseFloat(calculo_sumar.ivaCalculo);\n        newP.ieps_total_producto = parseFloat(calculo_sumar.iepsCalculo);\n        newP.impuestos_total_producto = parseFloat(calculo_sumar.impuestoCalculo);\n        newP.subtotal_total_producto = parseFloat(calculo_sumar.subtotalCalculo);\n        newP.total_total_producto = parseFloat(calculo_sumar.totalCalculo);\n\n        console.log(newP);\n\n\n        newP.precio_actual_object = {\n          cantidad_unidad: verify_prising.object_prising.cantidad_unidad ? verify_prising.object_prising.cantidad_unidad : null,\n          numero_precio: verify_prising.object_prising.numero_precio ? verify_prising.object_prising.numero_precio : null,\n          unidad_maxima: verify_prising.object_prising.unidad_maxima ? verify_prising.object_prising.unidad_maxima : null,\n          precio_general: verify_prising.object_prising.precio_general ? verify_prising.object_prising.precio_general : null,\n          precio_neto: verify_prising.object_prising.precio_neto ? verify_prising.object_prising.precio_neto : null,\n          precio_venta: verify_prising.object_prising.precio_venta ? verify_prising.object_prising.precio_venta : null,\n          iva_precio: verify_prising.object_prising.iva_precio ? verify_prising.object_prising.iva_precio : null,\n          ieps_precio: verify_prising.object_prising.ieps_precio ? verify_prising.object_prising.ieps_precio : null,\n          utilidad: verify_prising.object_prising.utilidad ? verify_prising.object_prising.utilidad : null,\n          porciento: verify_prising.object_prising.porciento ? verify_prising.object_prising.porciento : null,\n          dinero_descontado: verify_prising.object_prising.dinero_descontado ? verify_prising.object_prising.dinero_descontado : null,\n        };\n\n        productosVentasTemp.splice(\n          producto_encontrado.producto_found.index,\n          1,\n          newP\n        );\n\n        CalculosData = {\n          subTotal:\n            parseFloat(venta_existente.subTotal) -\n            parseFloat(calculo_resta.subtotalCalculo) +\n            calculo_sumar.subtotalCalculo,\n          total:\n            parseFloat(venta_existente.total) -\n            parseFloat(calculo_resta.totalCalculo) +\n            calculo_sumar.totalCalculo,\n          impuestos:\n            parseFloat(venta_existente.impuestos) -\n            parseFloat(calculo_resta.impuestoCalculo) +\n            calculo_sumar.impuestoCalculo,\n          iva:\n            parseFloat(venta_existente.iva) -\n            parseFloat(calculo_resta.ivaCalculo) +\n            calculo_sumar.ivaCalculo,\n          ieps:\n            parseFloat(venta_existente.ieps) -\n            parseFloat(calculo_resta.iepsCalculo) +\n            calculo_sumar.iepsCalculo,\n          descuento:\n            parseFloat(venta_existente.descuento) -\n            parseFloat(calculo_resta.descuentoCalculo) +\n            calculo_sumar.descuentoCalculo,\n          monedero:\n            parseFloat(venta_existente.monedero) -\n            parseFloat(calculo_resta.monederoCalculo) +\n            calculo_sumar.monederoCalculo,\n        }; \n      } else { \n        console.log(\"Entro\");\n        const productoPrecioFinal = newP.descuento_activo\n        ? newP.descuento.precio_neto\n        : newP.precio_unidad.precio_neto;\n\n        const new_prices = await calculatePrices2({newP, cantidad: 0, granel: granelBase, origen: \"Ventas2\"});\n\n        new_prices.newP.precio_actual_producto = productoPrecioFinal;\n\n        console.log(new_prices);\n\n        new_prices.newP.iva_total_producto = parseFloat(new_prices.ivaCalculo) * parseFloat(newP.cantidad_venta);\n        new_prices.newP.ieps_total_producto = parseFloat(new_prices.iepsCalculo) * parseFloat(newP.cantidad_venta);\n        new_prices.newP.impuestos_total_producto = parseFloat(new_prices.impuestoCalculo) * parseFloat(newP.cantidad_venta);\n        new_prices.newP.subtotal_total_producto = parseFloat(new_prices.subtotalCalculo) * parseFloat(newP.cantidad_venta);\n        new_prices.newP.total_total_producto = parseFloat(new_prices.totalCalculo) * parseFloat(newP.cantidad_venta);\n        \n        productosVentasTemp.splice(\n          producto_encontrado.producto_found.index,\n          1,\n          new_prices.newP\n        );\n\n        CalculosData = {\n          subTotal: parseFloat(venta_existente.subTotal) + parseFloat(new_prices.subtotalCalculo),\n          total: parseFloat(venta_existente.total) + new_prices.totalCalculo,\n          impuestos: parseFloat(venta_existente.impuestos) + new_prices.impuestoCalculo,\n          iva: parseFloat(venta_existente.iva) + new_prices.ivaCalculo,\n          ieps: parseFloat(venta_existente.ieps) + new_prices.iepsCalculo,\n          descuento: parseFloat(venta_existente.descuento) + new_prices.descuentoCalculo,\n          monedero: parseFloat(venta_existente.monedero) + new_prices.monederoCalculo,\n        };\n      }\n\n    }\n\n    localStorage.setItem(\n      \"DatosVentas\",\n      JSON.stringify({\n        ...CalculosData,\n        cliente:\n          venta_actual.venta_cliente === true ? venta_actual.cliente : {},\n        venta_cliente:\n          venta_actual.venta_cliente === true\n            ? venta_actual.venta_cliente\n            : false,\n        productos: productosVentasTemp,\n      })\n    );\n    setDatosVentasActual({\n      ...CalculosData,\n    });\n    setUpdateTablaVentas(!updateTablaVentas);\n\n  };\n\n  return (\n    <Fragment>\n      <SnackBarMessages alert={alert} setAlert={setAlert} />\n        <Box height='9%'>\n          <div className={classes.formInputFlex}>\n            <Box\n              width=\"100%\"\n              display=\"flex\"\n              justifyItems=\"center\"\n              alignSelf=\"center\"\n              justifySelf=\"center\"\n              alignItems=\"center\"\n            >\n              <Box mt={1} mr={1}>\n                <img\n                  src=\"https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/ventas/busqueda-de-codigos-de-barras.svg\"\n                  alt=\"iconoBander\"\n                  className={classes.iconSize}\n                />\n              </Box>\n              <Box width=\"100%\">\n                <Paper className={classes.rootBusqueda}>\n                  <InputBase\n                    width=\"100%\"\n                    fullWidth\n                    placeholder=\"Buscar producto...\"\n                    onKeyUp={keyUpEvent}\n                  />\n                  <IconButton>\n                    <Search />\n                  </IconButton>\n                </Paper>\n              </Box>\n            </Box>\n            <Box\n              width=\"100%\"\n              display=\"flex\"\n              justifyItems=\"center\"\n              alignSelf=\"center\"\n              justifySelf=\"center\"\n              alignItems=\"center\"\n            >\n              <Box mt={1} mr={1}>\n                <img\n                  src=\"https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/usuarios.svg\"\n                  alt=\"iconoBander\"\n                  className={classes.iconSize}\n                />\n              </Box>\n              <Box width=\"100%\" alignItems=\"center\">\n                <ClientesVentas sesion={sesion} />\n                {/* <Paper className={classes.rootBusqueda}>\n                  <InputBase fullWidth placeholder=\"Buscar cliente...\" />\n                  <IconButton>\n                    <Search />\n                  </IconButton>\n                </Paper> */}\n              </Box>\n            </Box>\n            {/* <Box width=\"100%\">\n              <MonedaCambio />\n            </Box> */}\n            <Box width=\"100%\" display=\"flex\">\n              <Box mr={1}>\n                <img\n                  src=\"https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/ventas/publicalo.svg\"\n                  alt=\"iconoBander\"\n                  className={classes.iconSize}\n                />\n              </Box>\n              <Box width=\"100%\" >\n                <FormControl variant=\"outlined\" fullWidth size=\"small\">\n                  <Select id=\"tipo_documento\" value=\"TICKET\" name=\"tipo_documento\">\n                    <MenuItem value=\"\">\n                      <em>Selecciona uno</em>\n                    </MenuItem>\n                    <MenuItem value=\"TICKET\">TICKET</MenuItem>\n                    <MenuItem value=\"FACTURA\">FACTURA</MenuItem>\n                    <MenuItem value=\"NOTA REMISION\">NOTA REMISION</MenuItem>\n                  </Select>\n                </FormControl>\n              </Box> \n            </Box>\n          </div>\n        </Box>\n\n        <Box height='65%'>\n          <TablaVentasCheckbox setDatosVentasActual={setDatosVentasActual} />\n        </Box>\n        \n        <Box display='flex' justifyContent='flex-end' flexDirection='column' height='25%'>\n          <Paper elevantion={3} style={{padding: 2, marginTop: 2}}> \n            <Grid container>\n              <Grid item lg={7}>\n                  <Grid \n                    container\n                    direction=\"row\"\n                    justifyContent=\"flex-end\"\n                    alignItems=\"center\"  \n                  >\n                    <Grid item lg={7}>\n                      <Box\n                        flexDirection=\"row-reverse\"\n                        display=\"flex\"\n                        alignItems=\"center\"\n                      >\n                        <Box>\n                          <Typography variant=\"subtitle1\">\n                            Cliente: <b style={{fontSize: 16}}>{clientesVentas ? clientesVentas.nombre_cliente : \"\"}</b>\n                          </Typography>\n                        </Box>\n                        <Box mt={.5} mr={1}>\n                          <FcBusinessman style={{fontSize: 19}} />\n                        </Box>\n                      </Box>\n                      <Box\n                        flexDirection=\"row-reverse\"\n                        display=\"flex\"\n                        alignItems=\"center\"\n                      >\n                        <Box>\n                        <Typography variant=\"subtitle1\">\n                            Cliente.: <b style={{fontSize: 16}}>{clientesVentas ? clientesVentas.numero_cliente : \"\"}</b>\n                          </Typography>\n                        </Box>\n                        <Box mt={.5} mr={1} >\n                          <AiOutlineFieldNumber style={{fontSize: 22}} />\n                        </Box>\n                      </Box>\n                      <Box\n                        flexDirection=\"row-reverse\"\n                        display=\"flex\"\n                        alignItems=\"center\"\n                      >\n                        <Box>\n                          <Typography variant=\"subtitle1\">\n                            Clave Clte.: <b style={{fontSize: 16}}>{clientesVentas ? clientesVentas.clave_cliente : \"\"}</b>\n                          </Typography>\n                        </Box>\n                        <Box mt={.5} mr={1}>\n                          <FaBarcode style={{fontSize: 19}} />\n                        </Box>\n                      </Box>\n                    </Grid>\n                    <Grid item lg={5}>\n                      <Box\n                        flexDirection=\"row-reverse\"\n                        display=\"flex\"\n                        alignItems=\"center\"\n                      >\n                        <Box>\n                          <Typography variant=\"subtitle1\">\n                            Limite Credito: <b style={{fontSize: 16}}>${clientesVentas ? clientesVentas.limite_credito : 0}</b>\n                          </Typography>\n                        </Box>\n                        <Box mt={.5} mr={1}>\n                          <FaMoneyCheckAlt style={{fontSize: 19}} />\n                        </Box>\n                      </Box>\n                      {/* <Box\n                        flexDirection=\"row-reverse\"\n                        display=\"flex\"\n                        alignItems=\"center\"\n                      >\n                        <Box>\n                          <Typography variant=\"subtitle1\">\n                          Descs.: <b style={{fontSize: 16}}>{clientesVentas ? clientesVentas.numero_descuento : 0}%</b>\n                          </Typography>\n                        </Box>\n                        <Box mt={.5} mr={1}>\n                          <AiOutlineFieldNumber style={{fontSize: 22}} />\n                        </Box>\n                      </Box> */}P\n                      <Box\n                        flexDirection=\"row-reverse\"\n                        display=\"flex\"\n                        alignItems=\"center\"\n                      >\n                        <Box>\n                          <Typography variant=\"subtitle1\">\n                            Dias Credito: <b style={{fontSize: 16}}>{clientesVentas ? clientesVentas.dias_credito : 0} Dias</b>\n                          </Typography>\n                        </Box>\n                        <Box mt={.5} mr={1}>\n                          <FcCalendar style={{fontSize: 19}} />\n                        </Box>\n                      </Box>\n                    </Grid>\n                  </Grid>\n              </Grid>\n              <Grid item lg={5}>\n                <Grid container>\n                  <Grid item lg={7}>\n                    <Box display=\"flex\" alignItems=\"center\" flexDirection=\"row-reverse\" >\n                      <Box>\n                        <Typography variant=\"subtitle1\">\n                          Monedero : <b style={{fontSize: 17}}>$ {DatosVentasActual ? DatosVentasActual?.monedero?.toFixed(2) : 0}</b>\n                        </Typography>\n                      </Box>\n                      <Box mt={.5} mr={1}>\n                        <FcSalesPerformance style={{fontSize: 19}} />\n                      </Box>\n                    </Box>\n                    <Box\n                      flexDirection=\"row-reverse\"\n                      alignItems=\"center\"\n                      display=\"flex\"\n                    >\n                      <Box>\n                        <Typography variant=\"subtitle1\">\n                          Descuento: <b style={{fontSize: 17}}>${DatosVentasActual ? DatosVentasActual?.descuento?.toFixed(2) : 0}</b>\n                        </Typography>\n                      </Box>\n                      <Box mt={.5} mr={1}>\n                        <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n                            <img \n                              src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/price-tag.png' \n                              alt=\"icono admin\" \n                              style={{width: 20}}                                   \n                            />\n                        </Box>\n                      </Box>\n                    </Box>\n                  </Grid>\n                  <Grid item lg={5}>\n                      <Box\n                        flexDirection=\"row-reverse\"\n                        display=\"flex\"\n                        mr={1}\n                      >\n                        <Typography variant=\"subtitle1\">\n                          Subtotal: <b style={{fontSize: 17}}>$ {DatosVentasActual?.subTotal ? DatosVentasActual?.subTotal?.toFixed(2) : 0}</b>\n                        </Typography>\n                      </Box>\n                      <Box display=\"flex\" flexDirection=\"row-reverse\" mr={1}>\n                        <Typography variant=\"subtitle1\">\n                          Impuestos: <b style={{fontSize: 17}}>$ {DatosVentasActual?.impuestos ? DatosVentasActual?.impuestos?.toFixed(2) : 0}</b>\n                        </Typography>\n                      </Box>\n                      {/* <Box\n                        flexDirection=\"row-reverse\"\n                        display=\"flex\"\n                        mr={1}\n                      >\n                        <Typography variant=\"subtitle1\" >\n                          Iva: <b style={{fontSize: 17}}>$ {DatosVentasActual?.iva ? DatosVentasActual.iva.toFixed(2) : 0}</b>\n                        </Typography>\n                      </Box> */}\n                  </Grid>\n                </Grid>\n              </Grid>\n            </Grid>\n            <Box display=\"flex\" flexDirection=\"row-reverse\" p={1}>\n              <Typography variant=\"h4\">\n                Total: <b style={{color: \"green\"}}>${DatosVentasActual?.total ? DatosVentasActual?.total.toFixed(2) : 0}</b>\n              </Typography>\n              <Box mt={.5} mr={1}>\n                <MonetizationOnIcon style={{fontSize: 37, color: \"green\"}} />\n              </Box>\n            </Box>\n          </Paper>\n        </Box>\n    </Fragment>\n  );\n}\n","import React, { useContext, useEffect, useState } from 'react'\nimport VentasGenerales from './VentasGenerales';\nimport { ClienteProvider } from '../../context/Catalogos/crearClienteCtx';\nimport AbrirTurno from '../ventas/AbrirCerrarTurno/AbrirTurno';\nimport { Box, CircularProgress, Grid, Paper, Typography } from '@material-ui/core';\nimport { VentasContext } from '../../context/Ventas/ventasContext';\n\nexport default function VentaIndex() {\n\n    const { turnoActivo, setTurnoActivo } = useContext(VentasContext);\n    const [ varActive, setVarActive ] = useState(false);\n    const turnoEnCurso = JSON.parse(localStorage.getItem('turnoEnCurso'));\n\n    useEffect(() => {\n        const sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n        setVarActive(sesion.turno_en_caja_activo);\n        setTurnoActivo(false);\n    }, [ turnoActivo ]);\n\n    return (\n        <ClienteProvider>\n            {varActive === true && turnoEnCurso ? (\n                <VentasGenerales />\n            ) : (\n                <AbrirTurnoEnVentas />\n            )}\n        </ClienteProvider>\n    )\n};\n\nfunction AbrirTurnoEnVentas() {\n\n    const [loading, setLoading] = useState(false);\n\n\tif (loading) \n\treturn (\n\t\t<Box\n\t\tdisplay=\"flex\"\n\t\tflexDirection=\"column\"\n\t\tjustifyContent=\"center\"\n\t\talignItems=\"center\"\n\t\theight=\"80vh\"\n\t\t>\n\t\t\t<CircularProgress />\n\t\t</Box>\n\t);\n\n    return(\n        <Grid\n            container\n            direction=\"row\"\n            justifyContent=\"center\"\n            alignItems=\"center\"\n        >\n            <Box mt={5} >\n                <Paper elevation={5}>\n                    <Box p={2} textAlign=\"center\">\n                        <Typography variant=\"h6\">\n                            Si deseas realizar ventas inicia tu turno primeramente.\n                        </Typography>\n                    </Box>\n                    <AbrirTurno type=\"FRENTE\" setLoading={setLoading} />\n                </Paper>\n            </Box>\n        </Grid>\n    )\n}\n","export default __webpack_public_path__ + \"static/media/logochafa.744b44f9.PNG\";","export default __webpack_public_path__ + \"static/media/admin.cecfcd64.svg\";","export default __webpack_public_path__ + \"static/media/cart-add.d563c74d.svg\";","import { Box, Button, Container, makeStyles } from '@material-ui/core';\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport logo from '../../img/logochafa.PNG';\nimport adminIcon from '../../icons/ventas/admin.svg';\nimport cartIcon from '../../icons/ventas/cart-add.svg';\nimport PowerSettingsNewRoundedIcon from '@material-ui/icons/PowerSettingsNewRounded';\n\nconst useStyles = makeStyles((theme) => ({\n\ticon: {\n\t\twidth: 150,\n        fontSize: 150\n\t},\n\n}));\n\nexport default function LayoutHome(props) {\n\tconst classes = useStyles();\n\tconst sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\n\tif (!sesion) props.history.push('/');\n\n    const signOut = () => {\n\t\tlocalStorage.removeItem('sesionCafi');\n\t\tlocalStorage.removeItem('tokenCafi');\n\t\tprops.history.push('/');\n\t};\n\n\treturn (\n\t\t<Container maxWidth=\"md\">\n\t\t\t<Box height=\"90vh\">\n\t\t\t\t<Box display=\"flex\" justifyContent=\"center\">\n\t\t\t\t\t<img alt=\"logo ab\" src={logo} />\n\t\t\t\t</Box>\n\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" my={6}>\n\t\t\t\t\t<Button component={Link} to=\"/admin/inicio\">\n\t\t\t\t\t\t<Box display=\"flex\" flexDirection=\"column\" textAlign=\"center\">\n\t\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\">\n\t\t\t\t\t\t\t\t<img src={adminIcon} alt=\"icono numero calzado\" className={classes.icon} />\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\tAdmin\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button component={Link} to=\"/ventas/venta-general\">\n\t\t\t\t\t\t<Box display=\"flex\" flexDirection=\"column\" textAlign=\"center\">\n\t\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\">\n\t\t\t\t\t\t\t\t<img src={cartIcon} alt=\"icono numero calzado\" className={classes.icon} />\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\tVentas\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Button>\n                    <Button color=\"secondary\" onClick={signOut}>\n\t\t\t\t\t\t<Box display=\"flex\" flexDirection=\"column\" textAlign=\"center\">\n\t\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\">\n\t\t\t\t\t\t\t\t<PowerSettingsNewRoundedIcon className={classes.icon} />\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\tCerrar sesion\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Button>\n\t\t\t\t</Box>\n\t\t\t</Box>\n\t\t</Container>\n\t);\n}\n","//layouts\nimport LayoutLogin from '../components/Layouts/LayoutLogin';\nimport LayoutAdmin from '../components/Layouts/LayoutAdmin';\nimport LayoutVentas from '../components/Layouts/LayoutVentas';\nimport LayoutHome from '../components/Layouts/LayoutHome';\n\n//sucursales pages\nimport AdminInicio from '../pages/sucursales/AdminInicio'\n\n//ventas pages\nimport Venta_index from '../pages/ventas/venta_index'\n\nconst routes = [\n\t{\n\t\tpath: '/',\n\t\tcomponent: LayoutLogin,\n\t\texact: true\n\t},\n\t{\n\t\tpath: '/home',\n\t\tcomponent: LayoutHome,\n\t\texact: true\n\t},\n\t{\n\t\tpath: '/admin',\n\t\tcomponent: LayoutAdmin,\n\t\texact: false,\n\t\troutes: [\n\t\t\t{\n\t\t\t\tpath: '/admin/inicio',\n\t\t\t\tcomponent: AdminInicio,\n\t\t\t\texact: true,\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tpath: '/ventas/venta-general',\n\t\tcomponent: LayoutVentas,\n\t\texact: false\n\t}\n\t\n];\n\nexport default routes;\n","export default \"data:image/jpeg;base64,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\"","import React from 'react';\nimport { RegProductoProvider } from '../../context/Catalogos/CtxRegProducto';\nimport AdminInicio from '../../pages/sucursales/AdminInicio';\nimport NavegacionAdmin from '../Navegaciones/NavegacionAdmin';\n\n\nexport default function LayoutAdmin(props) {\n    const sesion = localStorage.getItem(\"sesionCafi\");\n\n    if(!sesion) props.history.push('/');\n\n\treturn (\n\t\t<div>\n\t\t\t<RegProductoProvider>\n\t\t\t\t<NavegacionAdmin />\n\t\t\t\t<AdminInicio />\n\t\t\t</RegProductoProvider>\n\t\t</div>\n\t);\n}\n","import React from 'react';\nimport NavegacionVentas from '../Navegaciones/NavegacionVentas';\nimport NavegacionVentasLateral from '../Navegaciones/NavegacionVentasLateral';\nimport { Grid, Box } from '@material-ui/core';\nimport { VentasProvider } from '../../context/Ventas/ventasContext';\nimport VentaIndex from '../../pages/ventas/venta_index';\n\nexport default function LayoutVentas(props) {\n    const sesion = localStorage.getItem(\"sesionCafi\");\n\n    if(!sesion) props.history.push('/');\n\n\treturn (\n\t\t<Box height='100vh'>\n\t\t\t<VentasProvider>\n\t\t\t\t<Grid lg={12} style={{height: '10vh'}}>\n\t\t\t\t\t<NavegacionVentas />\n\t\t\t\t</Grid>\n\t\t\t\t<Grid container style={{height: '90vh'}}>\n\t\t\t\t\t<Grid lg={9}>\n\t\t\t\t\t\t<VentaIndex />\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid lg={3}>\n\t\t\t\t\t\t<NavegacionVentasLateral />\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</VentasProvider>\n\t\t</Box>\n\t);\n}","import { blue, grey } from '@material-ui/core/colors';\nimport { createMuiTheme } from '@material-ui/core/styles';\n\nconst theme = createMuiTheme({\n\tpalette: {\n\t\tnavbar: grey[50],\n\t\tprimary: {\n\t\t\tmain: blue[500]\n\t\t},\n\t\tsecondary: {\n\t\t\tmain: '#f50057'\n\t\t},\n\t}\n});\n\nexport default theme;\n","import {\n  ApolloClient,\n  /* createHttpLink, */ InMemoryCache,\n} from \"@apollo/client\";\nimport { createUploadLink } from \"apollo-upload-client\";\n\nconst httpLink = createUploadLink({\n\turi: 'https://cafi-punto-venta.herokuapp.com/',\n  // uri: 'http://localhost:4000/',\n});\n\nconst client = new ApolloClient({\n  connectToDevTools: true,\n  cache: new InMemoryCache({\n    addTypename: false,\n  }),\n  link: httpLink,\n});\n\nexport default client;\n","import React from 'react';\nimport { Box, CssBaseline, ThemeProvider } from '@material-ui/core';\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\nimport routes from './config/routes';\nimport theme from './config/colors';\n\nimport client from './config/apollo';\nimport { ApolloProvider } from '@apollo/client';\nimport { AccesosProvider } from './context/Accesos/accesosCtx';\n\nfunction App() {\n\treturn (\n\t\t<Box height='100vh' >\n\t\t\t<ApolloProvider client={client}>\n\t\t\t\t<AccesosProvider>\n\t\t\t\t\t<div className=\"App\" >\n\t\t\t\t\t\t<ThemeProvider theme={theme}>\n\t\t\t\t\t\t\t<CssBaseline />\n\t\t\t\t\t\t\t<Router>\n\t\t\t\t\t\t\t\t<Switch>{routes.map((route, index) => <RoutesWithSubRoutes key={index} {...route} />)}</Switch>\n\t\t\t\t\t\t\t</Router>\n\t\t\t\t\t\t</ThemeProvider>\n\t\t\t\t\t</div>\n\t\t\t\t</AccesosProvider>\n\t\t\t</ApolloProvider>\n\t\t</Box>\n\t);\n}\n\nfunction RoutesWithSubRoutes(route) {\n\treturn (\n\t\t<Route\n\t\t\tpath={route.path}\n\t\t\texact={route.exact}\n\t\t\trender={(props) => <route.component routes={route.routes} {...props} />}\n\t\t/>\n\t);\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport \"./index.scss\"\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}