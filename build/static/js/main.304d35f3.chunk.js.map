{"version":3,"sources":["gql/Catalogos/usuarios.js","components/SnackBarMessages.js","components/Layouts/LayoutLogin.js","context/Catalogos/initialStatesProducto.js","context/Catalogos/CtxRegProducto.js","context/Catalogos/empresaContext.js","components/Layouts/BackDrop.js","components/ErrorPage.js","gql/Empresa/empresa.js","config/reuserFunctions.js","pages/sucursales/Facturacion/catalogos.js","gql/Facturacion/Facturacion.js","pages/sucursales/Facturacion/CFDISellos/RegistrarSellos.js","pages/sucursales/Facturacion/CFDISellos/EliminarCSD.js","pages/sucursales/Empresa/InformacionFiscal/InformacionFiscal.js","pages/sucursales/Empresa/Datos/MisDatos.js","pages/sucursales/Empresa/MiEmpresa.js","pages/sucursales/Empresa/Empresa.js","pages/sucursales/Catalogos/Producto/unidades.js","pages/sucursales/Catalogos/Producto/PreciosVenta/UnidadesVenta.js","pages/sucursales/Catalogos/Producto/PreciosVenta/Precios.js","pages/sucursales/Catalogos/Producto/calculos_precios.js","pages/sucursales/Catalogos/Producto/PreciosVenta/registrarInfoAdicional.js","context/Compras/comprasContext.js","pages/sucursales/Catalogos/Producto/TallasColores/TablaPresentaciones.js","pages/sucursales/Compras/AbrirCompra/productos/PreciosProductos.js","gql/Catalogos/productos.js","context/Almacenes/crearAlmacen.js","gql/Almacenes/Almacen.js","pages/sucursales/Almacenes/RegistroAlmacen/ContainerRegistroAlmacen.js","gql/Catalogos/colores.js","pages/sucursales/Catalogos/Producto/TallasColores/crearColor.js","gql/Catalogos/tallas.js","pages/sucursales/Catalogos/Producto/TallasColores/crearTalla.js","pages/sucursales/Catalogos/Producto/TallasColores/TallasColores.js","pages/sucursales/Compras/AbrirCompra/productos/TallasProducto.js","billing/Facturama/facturama.api.js","gql/CatalogosSat/catalogoProductosSat.js","pages/sucursales/Catalogos/Producto/DatosGenerales/CatalogoProductosSAT.js","gql/Catalogos/categorias.js","gql/Catalogos/departamentos.js","gql/Catalogos/marcas.js","pages/sucursales/Catalogos/Producto/DatosGenerales/registrarInfoGeneral.js","pages/sucursales/Catalogos/Producto/Imagenes/cargarImagenesProducto.js","pages/sucursales/Catalogos/Producto/Inventario&Almacen/AlmacenInicial.js","pages/sucursales/Catalogos/Producto/validaciones.js","gql/Catalogos/centroCostos.js","pages/sucursales/Catalogos/Producto/CentroCostos/CentroCostos.js","pages/sucursales/Catalogos/Producto/PrecioPlazos/tabla_precios.js","pages/sucursales/Catalogos/Producto/PrecioPlazos/PrecioPlazos.js","pages/sucursales/Catalogos/Producto/validateDatos.js","pages/sucursales/Catalogos/Producto/crearProducto.js","pages/sucursales/Compras/AbrirCompra/productos/PreciosVenta.js","pages/sucursales/Compras/AbrirCompra/productos/Descuentos.js","context/Catalogos/crearClienteCtx.js","pages/sucursales/Catalogos/Cliente/RegistrarInfoBasica.js","pages/sucursales/Catalogos/Cliente/RegistroInfoCredito.js","gql/Catalogos/clientes.js","pages/sucursales/Catalogos/Cliente/CrearCliente.js","gql/Compras/compras.js","pages/sucursales/Compras/AbrirCompra/initial_states.js","pages/sucursales/Compras/AbrirCompra/productos/DatosProveedorAlmacen.js","pages/sucursales/Compras/AbrirCompra/productos/mostrar_precios.js","pages/sucursales/Compras/AbrirCompra/productos/DatosProducto.js","pages/sucursales/Compras/AbrirCompra/productos/setOrResetData.js","pages/sucursales/Compras/AbrirCompra/TablaCompras.js","pages/sucursales/Compras/AbrirCompra/ConfirmarCompra.js","pages/sucursales/Compras/AbrirCompra/CompraCredito.js","pages/sucursales/Compras/AbrirCompra/AbrirCompra.js","pages/sucursales/Compras/ComprasRealizadas/ExportarProductosCompra.js","pages/sucursales/Compras/ComprasRealizadas/DatosDeCompra.js","pages/sucursales/Compras/ComprasRealizadas/ListaCompras.js","pages/sucursales/Compras/ComprasRealizadas/ExportarComprasExcel.js","pages/sucursales/Compras/ComprasRealizadas/ComprasRealizadas.js","pages/sucursales/Compras/ComprasEnEspera/VerificarProductos.js","pages/sucursales/Compras/ComprasEnEspera/DatosDeCompraEspera.js","pages/sucursales/Compras/ComprasEnEspera/ListaEnEspera.js","pages/sucursales/Compras/ComprasEnEspera/ComprasEnEspera.js","pages/sucursales/Compras/Compras.js","pages/sucursales/Catalogos/Cliente/ListaClientes.js","pages/sucursales/Catalogos/Cliente/Cliente.js","gql/Catalogos/descuentos.js","pages/sucursales/Catalogos/Producto/Descuentos/ListaPrecios.js","pages/sucursales/Catalogos/Producto/Descuentos/Descuento.js","pages/sucursales/Catalogos/Producto/infoProductoDrawer.js","pages/sucursales/Catalogos/Producto/EliminarProducto.js","pages/sucursales/Catalogos/Producto/ListaProductos.js","pages/sucursales/Catalogos/Producto/ProductosEliminados.js","pages/sucursales/Catalogos/Producto/Productos.js","pages/sucursales/Catalogos/Producto/index.js","pages/sucursales/Catalogos/Tallas/ListaTallas.js","pages/sucursales/Catalogos/Tallas/RegistroTallas.js","pages/sucursales/Catalogos/Tallas/Tallas.js","gql/Catalogos/contabilidad.js","pages/sucursales/Catalogos/Contabilidad/ListaServicios.js","pages/sucursales/Catalogos/Contabilidad/RegistroServicio.js","pages/sucursales/Catalogos/Contabilidad/Contabilidad.js","pages/sucursales/Catalogos/Proveedores/ListaProveedores.js","pages/sucursales/Catalogos/Proveedores/Proovedores.js","pages/sucursales/Catalogos/Cajas/ListaCajas.js","gql/Cajas/cajas.js","pages/sucursales/Catalogos/Cajas/RegistrarCajas.js","pages/sucursales/Catalogos/Cajas/Cajas.js","pages/sucursales/Catalogos/Usuarios/AsingarAccesos/arregloVacioAcceso.js","context/Catalogos/usuarioContext.js","pages/sucursales/Catalogos/Usuarios/FormularioUsuario.js","pages/sucursales/Catalogos/Usuarios/AsingarAccesos/Parametros.js","pages/sucursales/Catalogos/Usuarios/AsingarAccesos/Departamentos/Catalogos.js","pages/sucursales/Catalogos/Usuarios/AsingarAccesos/Departamentos/MiEmpresa.js","pages/sucursales/Catalogos/Usuarios/AsingarAccesos/Departamentos/Compras.js","pages/sucursales/Catalogos/Usuarios/AsingarAccesos/Departamentos/Almacenes.js","pages/sucursales/Catalogos/Usuarios/AsingarAccesos/Departamentos/Tesoreria.js","pages/sucursales/Catalogos/Usuarios/AsingarAccesos/Departamentos/Reportes.js","pages/sucursales/Catalogos/Usuarios/AsingarAccesos/Departamentos/Ventas.js","pages/sucursales/Catalogos/Usuarios/AsingarAccesos/AsignarPermisos.js","pages/sucursales/Catalogos/Usuarios/CrearUsuario.js","pages/sucursales/Catalogos/Usuarios/ListaUsuario.js","pages/sucursales/Catalogos/Usuarios/Usuarios.js","context/Catalogos/Departamentos.js","pages/sucursales/Catalogos/Departamentos/ListaDepartamentos.js","pages/sucursales/Catalogos/Departamentos/RegistroDepartamento.js","pages/sucursales/Catalogos/Departamentos/Departamentos.js","pages/sucursales/Catalogos/Categorias/RegistroCategorias.js","pages/sucursales/Catalogos/Categorias/Categorias.js","pages/sucursales/Catalogos/Colores/ListaColores.js","pages/sucursales/Catalogos/Colores/RegistroColores.js","pages/sucursales/Catalogos/Colores/Colores.js","pages/sucursales/Catalogos/Marcas/ListaMarcas.js","context/Catalogos/Marcas.js","pages/sucursales/Catalogos/Marcas/VistaMarcas.js","pages/sucursales/Catalogos/Marcas/Marcas.js","pages/sucursales/Catalogos/CentroCostos/RegistroCentroCostos.js","pages/sucursales/Catalogos/CentroCostos/CentroCostos.js","gql/Catalogos/conceptosAlmacen.js","pages/sucursales/Catalogos/ConceptosAlmacen/ListaConceptos.js","pages/sucursales/Catalogos/ConceptosAlmacen/RegistroConcepto.js","pages/sucursales/Catalogos/ConceptosAlmacen/ConceptosAlmacen.js","pages/sucursales/Catalogos/Catalogos.js","context/Tesoreria/tesoreriaCtx.js","gql/Empresa/sucursales.js","pages/sucursales/Tesoreria/CuentasEmpresaSucursales/RetiroDeposito.js","pages/sucursales/Tesoreria/CuentasEmpresaSucursales/HistorialCuentas.js","pages/sucursales/Tesoreria/CuentasEmpresaSucursales/ListaCuentas.js","pages/sucursales/Tesoreria/CuentasEmpresaSucursales/CuentasEmpresaSucursales.js","gql/Tesoreria/egresos.js","pages/sucursales/Tesoreria/Egresos/TablaProductosEgresos.js","pages/sucursales/Tesoreria/Egresos/FormRegistroEgresos.js","pages/sucursales/Tesoreria/Egresos/VistaRegistroEgreso.js","pages/sucursales/Tesoreria/Egresos/Egresos.js","pages/sucursales/Tesoreria/Abonos/Provedores/Components/DetalleCuenta/TablaCompras.js","gql/Tesoreria/abonos.js","pages/sucursales/Tesoreria/Abonos/Provedores/Components/DetalleCuenta/TablaDeAbonos.js","pages/sucursales/Tesoreria/Abonos/Provedores/Components/AbonoPercibir.js","pages/sucursales/Tesoreria/Abonos/Provedores/Components/DetalleCuenta/DetallesCuenta.js","pages/sucursales/Tesoreria/Abonos/Provedores/Components/LiquidarCuenta.js","pages/sucursales/Tesoreria/Abonos/Provedores/Components/TablaAbonos.js","pages/sucursales/Tesoreria/Abonos/Provedores/AbonosProovedores.js","pages/sucursales/Tesoreria/Abonos/Clientes/Components/DetalleCuenta/TablaCompras.js","pages/sucursales/Tesoreria/Abonos/Clientes/Components/DetalleCuenta/TablaDeAbonos.js","pages/sucursales/Tesoreria/Abonos/Clientes/Components/DetalleCuenta/DetallesCuenta.js","pages/sucursales/Tesoreria/Abonos/Clientes/Components/LiquidarCuenta.js","pages/sucursales/Tesoreria/Abonos/Clientes/Components/TablaAbonos.js","pages/sucursales/Tesoreria/Abonos/Clientes/Components/AbonoPercibir.js","pages/sucursales/Tesoreria/Abonos/Clientes/AbonosClientes.js","pages/sucursales/Tesoreria/Tesoreria.js","pages/sucursales/Tesoreria/IndexTesoreria.js","context/Facturacion/facturacionCtx.js","pages/sucursales/Facturacion/NuevaFactura/ListaVentas/DetallesVenta.js","pages/sucursales/Facturacion/NuevaFactura/TablaVenta/array_test.js","pages/sucursales/Facturacion/NuevaFactura/ListaVentas/ListaVentasFactura.js","pages/sucursales/Facturacion/NuevaFactura/Catalogos/CodigoPostal.js","pages/sucursales/Facturacion/NuevaFactura/ClientesSelect.js","pages/sucursales/Facturacion/NuevaFactura/RegistroFactura.js","pages/sucursales/Facturacion/NuevaFactura/TablaVenta/EditarProductoFactura.js","pages/sucursales/Facturacion/NuevaFactura/TablaVenta/EliminarProductoFactura.js","pages/sucursales/Facturacion/NuevaFactura/TablaVenta/TablaDetallesFactura.js","pages/sucursales/Facturacion/NuevaFactura/validacion_factura.js","pages/sucursales/Facturacion/NuevaFactura/initial_factura_states.js","pages/sucursales/Facturacion/NuevaFactura/RealizarFactura.js","pages/sucursales/Facturacion/NuevaFactura/NuevaFactura.js","pages/sucursales/Facturacion/CFDISeries/RegistroSeries.js","pages/sucursales/Facturacion/CFDISeries/ListaSeries.js","pages/sucursales/Facturacion/CFDISeries/SeriesCdfi.js","pages/sucursales/Facturacion/FacturasRealizadas/ExportarProductosFactura.js","pages/sucursales/Facturacion/FacturasRealizadas/DatosFactura.js","pages/sucursales/Facturacion/FacturasRealizadas/ListaFacturas.js","pages/sucursales/Facturacion/FacturasRealizadas/ExportarListaFacturasExcel.js","pages/sucursales/Facturacion/FacturasRealizadas/FacturasRealizadas.js","pages/sucursales/Facturacion/Facturacion.js","pages/sucursales/Almacenes/RegistroAlmacen/ListaAlmacen.js","pages/sucursales/Almacenes/RegistroAlmacen/RegistroAlmacen.js","icons/almacen.svg","context/Almacenes/traspasosAlmacen.js","components/Traspasos/TablePresentacionesNotOrigen.js","components/Traspasos/TallasColoresTraspasos.js","components/Traspasos/TableSelectMedidas.js","components/Traspasos/TableSelectProducts.js","pages/sucursales/Almacenes/Traspasos/Traspasos.js","components/ExportExcel.js","pages/sucursales/Almacenes/InventarioPorAlmacen/ListaProductos.js","pages/sucursales/Almacenes/InventarioPorAlmacen/InventariosPorAlmacen.js","pages/sucursales/Almacenes/Almacenes.js","pages/sucursales/Reportes/Cajas/TablaHistorialFiltrado.js","pages/sucursales/Reportes/Cajas/HistorialCaja.js","pages/sucursales/Reportes/Cajas/CardCaja.js","pages/sucursales/Reportes/Cajas/Cajas.js","pages/sucursales/Reportes/TurnosUsuarios/TablaTurnosFiltrados.js","gql/Ventas/abrir_cerrar_turno.js","pages/sucursales/Reportes/TurnosUsuarios/ReportesTurnosUsuarios.js","pages/sucursales/Reportes/Compras/TablaComprasFiltradas.js","gql/Compras/reporte_compras.js","pages/sucursales/Reportes/Compras/ExportarCompras.js","pages/sucursales/Reportes/Compras/FiltrosCompra.js","pages/sucursales/Reportes/Compras/ReportesCompras.js","pages/sucursales/Reportes/Ventas/TablaVentasFiltradas.js","pages/sucursales/Reportes/Ventas/ReportesVentas.js","pages/sucursales/Reportes/Almacenes/ExportarTraspasos.js","pages/sucursales/Reportes/Almacenes/TablaAlmacenFiltradas.js","pages/sucursales/Reportes/Almacenes/ReportesAlmacen.js","pages/sucursales/Reportes/Cortes/TablaCortesFiltradas.js","pages/sucursales/Reportes/Cortes/ExportExcel.js","pages/sucursales/Reportes/Cortes/ReportesCortes.js","pages/sucursales/Reportes/Tesoreria/ListaEgresos.js","pages/sucursales/Reportes/Tesoreria/ListaTransferencias.js","pages/sucursales/Reportes/Tesoreria/Reporte_Tesoreria.js","pages/sucursales/Reportes/Reportes.js","pages/sucursales/AdminInicio.js","components/Navegaciones/NavegacionAdmin.js","components/Navegaciones/styles.js","pages/ventas/styles.js","context/Ventas/ventasContext.js","pages/ventas/Operaciones/DepositoRetiroCaja.js","pages/ventas/AbrirCerrarTurno/AbrirTurno.js","pages/ventas/AbrirCerrarTurno/CerrarTurno.js","pages/ventas/AbrirCerrarTurno/Turnos.js","context/Accesos/accesosCtx.js","pages/ventas/Operaciones/PreCorteCaja.js","gql/Ventas/cotizaciones.js","pages/ventas/Cotizacion/NuevaCotizacion.js","pages/ventas/Cotizacion/CotizacionesPendientes.js","pages/ventas/Cotizacion/Cotizacion.js","pages/ventas/Operaciones/VentaEnEspera.js","pages/ventas/ArticuloRapido/RegistroInformacionRapido.js","pages/ventas/ArticuloRapido/TallasColoresRapidos/TablaPresentaciones.js","pages/ventas/ArticuloRapido/TallasColoresRapidos/TallasColoresRapidos.js","components/AccesosPassword/Acceso.js","pages/ventas/ArticuloRapido/ArticuloRapido.js","pages/ventas/ArticuloRapido/indexArticuloRapido.js","components/Navegaciones/NavegacionVentas.js","pages/ventas/Abonos/Abonos.js","pages/ventas/BuscarProductos/ListaProductos.js","gql/Ventas/ventas_generales.js","pages/ventas/BuscarProductos/InformacionProducto.js","pages/ventas/BuscarProductos/BuscarProducto.js","pages/ventas/ClientesVentas/ClientesVentas.js","pages/ventas/Operaciones/CancelarVenta.js","pages/ventas/Operaciones/CerrarVenta.js","pages/ventas/Operaciones/ConsultarPrecio.js","pages/ventas/Operaciones/PreciosProducto.js","pages/ventas/VentasEspera/ListaVentas.js","pages/ventas/VentasEspera/VentasEspera.js","pages/ventas/VentasRealizadas/ListaVentasRealizadas.js","pages/ventas/VentasRealizadas/VentasRealizadas.js","components/Navegaciones/NavegacionVentasLateral.js","pages/ventas/EliminarProductoVenta.js","pages/ventas/Tabla_ventas_checkbox.js","pages/ventas/ClientesVentas.js","pages/ventas/VentasGenerales.js","pages/ventas/venta_index.js","img/logochafa.PNG","icons/ventas/admin.svg","icons/ventas/cart-add.svg","components/Layouts/LayoutHome.js","config/routes.js","img/abLogo.jpeg","components/Layouts/LayoutAdmin.js","components/Layouts/LayoutVentas.js","config/colors.js","config/apollo.js","App.js","reportWebVitals.js","index.js"],"names":["CREAR_USUARIO","gql","OBTENER_USUARIOS","ACTUALIZAR_USUARIO","LOGEAR_USUARIO","LOGEAR_USUARIO_ACCESOS","useStyles","makeStyles","theme","snack","zIndex","SnackBarMessages","alert","setAlert","classes","Portal","Snackbar","className","anchorOrigin","vertical","horizontal","open","onClose","status","message","autoHideDuration","Box","display","style","color","mr","Typography","margin","marginTop","spacing","marginBottom","containerImagen","maxWidth","maxHeight","imagen","width","height","initial_state_datos_generales","receta_farmacia","clave_producto_sat","Name","Value","initial_state_precios","monedero","monedero_electronico","iva_activo","ieps_activo","ieps","iva","granel","inventario","inventario_minimo","inventario_maximo","unidad_de_inventario","codigo_unidad","precio_de_compra","precio_con_impuesto","precio_sin_impuesto","unidad_de_compra","unidad","cantidad","precio_unitario_sin_impuesto","precio_unitario_con_impuesto","initial_state_unidadVentaXDefecto","codigo_barras","precio","precio_unidad","numero_precio","precio_neto","precio_venta","unidad_mayoreo","iva_precio","ieps_precio","utilidad","precio_general","cantidad_unidad","unidad_maxima","unidad_principal","default","initial_state_preciosP","initial_state_unidadesVenta","initial_state_almacen_inicial","id_almacen","almacen","fecha_de_expiracion","initial_state_centro_de_costos","initial_state_preciosPlazos","precio_piezas","precio_cajas","precio_costales","initial_state_subcategorias","initial_state_imagenes","initial_state_imagenes_eliminadas","initial_state_onPreview","index","image","initial_state_validacion","error","initial_state_subcostos","initial_state_presentaciones","RegProductoContext","createContext","RegProductoProvider","children","useState","datos_generales","setDatosGenerales","precios","setPrecios","unidadVentaXDefecto","setUnidadVentaXDefecto","preciosP","setPreciosP","unidadesVenta","setUnidadesVenta","almacen_inicial","setAlmacenInicial","centro_de_costos","setCentroDeCostos","preciosPlazos","setPreciosPlazos","subcategorias","setSubcategorias","imagenes","setImagenes","imagenes_eliminadas","setImagenesEliminadas","onPreview","setOnPreview","validacion","setValidacion","subcostos","setSubcostos","selectedDate","setSelectedDate","update","setUpdate","presentaciones","setPresentaciones","presentaciones_eliminadas","setPresentacionesEliminadas","React","actualizarLista","setActualizarLista","datosPreciosProducto","setDatosPreciosProducto","preciosDescuentos","setPreciosDescuentos","preciosProductos","setPreciosProductos","datosEnDescuentos","setDatosEnDescuentos","almacen_existente","setAlmacenExistente","Provider","value","EmpresaContext","EmpresaProvider","nombre_empresa","nombre_dueno","telefono_dueno","celular","correo_empresa","nombre_fiscal","rfc","regimen_fiscal","curp","info_adicio","direccion","calle","no_ext","no_int","codigo_postal","colonia","municipio","localidad","estado","pais","direccionFiscal","datosBancarios","cuenta","sucursal","clave_banco","empresa","setEmpresa","toUpdate","setToUpdate","setError","backdrop","drawer","backgroundColor","BackdropComponent","loading","setLoading","Backdrop","CircularProgress","ErrorPage","altura","flexDirection","justifyContent","alignItems","fontSize","align","OBTENER_DATOS_EMPRESA","ACTUALIZAR_EMPRESA","numerosRandom","min","max","Math","floor","random","formatoFecha","fecha","Date","toLocaleDateString","weekday","year","month","day","formatoFechaCorta","formatoMexico","number","parseFloat","toFixed","toString","replace","cleanTypenames","Array","isArray","map","newObject","property","findProductArray","producto","a","venta","JSON","parse","localStorage","getItem","productosVentas","productos","found","producto_found","i","length","id_producto","clave_alterna","console","log","calculatePrices2","newP","origen","precio_boolean","cantidadNueva","valor_granel","valor","precio_actual","descuento_activo","descuento","cantidadCaja","cantidad_unidads","ivaCalculo","iepsCalculo","impuestoCalculo","subtotalCalculo","totalCalculo","monederoCalculo","descuentoCalculo","ob","cantidad_venta","granel_producto","precio_a_vender","precio_actual_producto","precio_actual_object","porciento","dinero_descontado","precio_anterior","verifiPrising","amount","pricings","precios_producto","filter","p","finalPrising","pricing","number_pricing","object_prising","datoFinal","precio_seleccionado","usosCfdi","tiposCfdi","NameId","tipoCambio","formaPago","metodoPago","regimenFiscal","Natural","Moral","CREAR_FACTURA","CREAR_SERIE","ACTUALIZAR_DEFAULT_SERIE","ELIMINAR_SERIE","OBTENER_SERIES","CREAR_SELLO_CFDI","ELIMINAR_SELLO_CFDI","RegistroSellos","datosEmpresa","firma_disabled","refetch","sesion","setOpen","certificate","private_key","private_key_password","_id","datos","setDatos","show","setShow","handleClose","useMutation","crearCSDS","obtenerFiles","e","target","name","files","getBase64","file","Promise","resolve","baseURL","reader","FileReader","readAsDataURL","onload","result","guardarBD","data","cer","key","then","base","split","nombre_cer","catch","err","nombre_key","variables","input","networkError","graphQLErrors","Button","onClick","startIcon","Add","disabled","Dialog","fullWidth","DialogTitle","DialogContent","mb","TextField","size","variant","InputProps","endAdornment","InputAdornment","position","htmlFor","CloudUpload","component","disableElevation","readOnly","accept","id","multiple","type","onChange","mt","my","IconButton","onMouseDown","event","preventDefault","edge","DialogActions","Done","EliminarSellos","eliminarCSD","eliminarSelloCSD","DeleteOutline","DialogContentText","appBar","title","marginLeft","flex","icon","subtitle","require","Transition","forwardRef","props","ref","Slide","direction","InformacionFiscal","loadingPage","setLoadingPage","errorPage","setErrorPage","errorForm","setErrorForm","accesos","mi_empresa","informacion_fiscal","editar","bloqueo","useContext","actualizarEmpresa","setFirmaDisabled","empresaFiscal","setEmpresaFiscal","useQuery","useEffect","errorCatch","undefined","obtenerEmpresa","new_sesion","setItem","stringify","sello_sat","limite_timbres","timbres_usados","actEmp","response","obtenerCampos","obtenerCamposDireccion","obtenerCamposBancarios","fullScreen","TransitionComponent","AppBar","Toolbar","m","Container","Grid","container","item","md","xs","helperText","FormControl","Select","MenuItem","res","multiline","Divider","Alert","severity","action","AlertTitle","sm","autoFocus","avatarContainer","border","borderRadius","avatar","MisDatos","datos_empresa","preview","setPreview","empresaDatos","setEmpresaDatos","onDrop","useCallback","acceptedFiles","useDropzone","noKeyboard","getRootProps","getInputProps","Avatar","src","MiEmpresa","justify","ver","lg","idEmpresa","Empresa","unitCodes","unitCodes_granel","formInputFlex","PreciosDeCompra","unidades","setUnidades","obtenerUnidadesVentas","child","inputProps","round","obtenerPrecioUVentas","OutlinedInput","GenCodigoBarras","suma_impuestos","PVCI","PVSI","PCSI","new_unidad","agregarNuevaUnidad","TableContainer","Table","TableHead","TableRow","TableCell","TableBody","LocalOffer","Checkbox","checked","nuevo_array","element","new_element","push","checkUnidadDefault","RenderUnidadesRows","aplicarDescuento","checkUnidadPrincipal","ModalDelete","toggleModal","splice","precioTitle","marginInput","PreciosDeVenta","newPreciosP","RenderPreciosP","preciosVenta","calculos","PUCSI","utilidad_base","unidadXDefecto","new_precio_venta_desc","precio_con_descuento","verificarCampoVacio","minWidth","valor_base","obtenerUtilidad","onBlur","pl","suma","obtenerPrecioNeto","parseInt","obtenerMayoreo","calcular_iva","calcular_ieps","formInput","RegistroInfoAdidional","obtenerIva","setPrecioConImpuesto","setPrecioSinImpuesto","obtenerIeps","precioConImpuesto","precioSinImpuesto","useDebounce","PCI","PSI","obtenerUnidadCompra","total_impuesto","isNaN","obtenerPrecioConImpuesto","obtenerPrecioSinImpuesto","FormControlLabel","control","label","mx","ml","FormHelperText","ComprasContext","ComprasProvider","costo","cantidad_regalo","unidad_regalo","cantidad_total","descuento_porcentaje","descuento_precio","iva_total","ieps_total","subtotal","impuestos","total","mantener_precio","subtotal_descuento","total_descuento","datosProducto","setDatosProducto","proveedor","en_espera","fecha_registro","moment","locale","format","compra_credito","fecha_vencimiento_credito","credito_pagado","saldo_credito_pendiente","forma_pago","descuento_aplicado","porcentaje","cantidad_descontada","datosCompra","setDatosCompra","setPreciosVenta","productoOriginal","setProductoOriginal","productosCompra","setProductosCompra","isEditing","setIsEditing","editFinish","setEditFinish","setCosto","setCantidad","issue","setIssue","loadingProductos","setLoadingProductos","descuentoCompra","setDescuentoCompra","compareFunction","b","medida","talla","localeCompare","root","paper","table","tableRow","alpha","palette","primary","main","visuallyHidden","clip","overflow","padding","top","colorContainer","TablaPresentaciones","from","setOnUpdate","onUpdate","withoutPrice","onlyPrice","mostrar_presentaciones","sort","Paper","stickyHeader","RenderPresentacionesRows","disabledInput","setDisabledInput","textfield","useRef","copy_presentaciones","copy_element_presentacion","copy_element_presentacion_descuento","copy_producto","obtenerDatos","existencia","cantidad_nueva","actionButton","hover","selected","Input","inputRef","nuevo","Cached","nombre_comercial","Chip","Tooltip","nombre","placement","arrow","Zoom","hex","LocalOfferOutlined","checkedIcon","Edit","TabPanel","other","role","hidden","a11yProps","AlertDialogSlide","agregarCompra","cargando","toggleDrawer","resetProducto","new_precios","unidadxdefecto","unidades_de_venta","setValue","actualizarContextProducto","keepMounted","tipo_producto","Tabs","newValue","scrollButtons","indicatorColor","textColor","Tab","LocalAtm","SquareFoot","OBTENER_CONSULTAS","CREAR_PRODUCTO","OBTENER_PRODUCTOS","ACTUALIZAR_PRODUCTO","ELIMINAR_PRODUCTO","PRODUCTOS_ELIMINADOS","ACTIVAR_PRODUCTOS","CREAR_PRODUCTO_RAPIDO","CrearAlmacenContext","AlmacenProvider","nombre_almacen","id_usuario_encargado","datosAlmacen","setDatosAlmacen","openRegistro","setOpenRegistro","REGISTRO_ALMACEN","OBTENER_ALMACENES","ACTUALIZAR_ALMACEN","OBTENER_PRODUCTOS_ALMACEN","OBTENER_CATEGORIAS","REALIZAR_TRASPASO","OBTENER_PRODUCTOS_EMPRESA","OBTENER_TRASPASOS","ContainerRegistroAlmacen","accion","CrearAlmacen","ActualizarAlmacen","obtenerUsuarios","limpiarCampos","onCloseModal","saveData","almacen_creado","crearAlmacen","id_sucursal","labelId","user","fontWeight","nombre_sucursal","CREAR_COLOR","OBTENER_COLORES","ACTUALIZAR_COLOR","ELIMINAR_COLOR","CrearColorProducto","setColor","values","setValues","crearColor","GuardarDatosBD","colores","scroll","disableEscapeKeyDown","reason","onChangeComplete","toUpperCase","bgcolor","onSubmit","focused","form","CREAR_TALLAS","OBTENER_TALLAS","ACTUALIZAR_TALLA","ELIMINAR_TALLA","CrearTallasProducto","setMedidasSeleccionadas","crearTalla","nueva_talla","tipo","cursor","ColoresTallas","obtenerConsultasProducto","almacenes","tallas","calzados","medidasSeleccionadas","coloresSeleccionados","setColoresSeleccionados","medidas","obtenerColoresSeleccinados","colors","forEach","hashColor","hashMedida","colores_existentes","existColor","medidas_existentes","existMedida","medidas_registradas","FormLabel","pointerEvents","opacity","RenderTallas","useTheme","setSelected","seleccionarMedidas","medidas_seleccionadas_temp","presentacion_temp","array_medidad_finales","producto_medida","k","producto_color","presentacion_existente","producto_array_final","x","objeto_presentaciones_final","handleAddTallas","getContrastText","Colores","seleccionarColores","obtenerColores","verificate","setVerificate","disableHoverListener","valuesFacturama","$","ajaxSetup","beforeSend","xhr","withCredentials","setRequestHeader","facturama","settings","url","retrieve","path","callback","jQuery","get","list","postSyncWithData","callbackError","ajax","dataType","contentType","success","putSyncWithData","deleteSyncWithParam","param","async","facturamaObject","Clients","Get","List","Create","Remove","Update","Products","BranchOffice","Series","idBranch","Cfdi","listWithParam","Send","postSyncWithParam","Cancel","params","Download","Acuse","TaxEntity","UploadCsd","UploadImage","Catalogs","States","country","Municipalities","state","Localities","Neighborhoods","postalCode","ProductsOrServices","keyword","PostalCodes","Units","Currencies","Countries","PaymentForms","PaymentMethods","FederalTaxes","FiscalRegimens","CfdiTypes","RelationTypes","CfdiUses","CREAR_CODIGO_PRODUCTO","ELIMINAR_CODIGO_PRODUCTO","background","CatalogosProductosSAT","codigos","busqueda","setBusqueda","setProductos","loading_save","setLoadingSave","loading_delete","setLoadingDelete","selectedIndex","setSelectedIndex","crearCodigoProducto","eliminarCodigoProducto","limpiarDataModal","handleOk","eliminarCodigoBD","handleCancel","buscarCatalogo","Facturama","responseJSON","Message","Autocomplete","options","getOptionLabel","option","renderInput","renderOption","flexGrow","_","getOptionSelected","Search","dense","SelectedListItem","contiene","includes","ListItem","button","ListItemText","CREAR_CATEGORIA","CREAR_SUBCATEGORIA","ACTUALIZAR_CATEGORIA","ACTUALIZAR_SUBCATEGORIA","ELIMINAR_CATEGORIA","ELIMINAR_SUBCATEGORIA","OBTENER_DEPARTAMENTOS","REGISTRAR_DEPARTAMENTO","ACTUALIZAR_DEPARTAMENTO","ELIMINAR_DEPARTAMENTO","OBTENER_MARCAS","REGISTRAR_MARCAS","ACTUALIZAR_MARCAS","ELIMINAR_MARCAS","obligatorio","RegistroInfoGenerales","categorias","departamentos","marcas","centro_costos","obtenerChecks","obtenerIDs","categoria","id_categoria","costos","id_cuenta","subcuentas","Autorenew","nombre_generico","descripcion","subcategoria","departamento","nombre_departamentos","marca","nombre_marca","RegistrarNuevoSelect","crearCategoria","crearSubcategoria","CrearDepartamentos","CrearMarca","handleToggle","guardarDatos","idCategoria","categoria_creada","subcategoria_creada","id_subcategoria","departamento_creado","id_departamento","crearDepartamentos","marca_creada","id_marca","crearMarcas","endIcon","CargarImagenesProducto","render_imagenes","URL","createObjectURL","AddPhotoAlternate","minHeight","orientation","alt","RenderImagenes","key_imagen","url_imagen","handleModal","noWrap","eliminarImagen","array","Delete","RegistroAlmacenInicial","obtenerInventario","utils","DateFnsUtils","local","placeholder","date","KeyboardButtonProps","validaciones","generales","vista3","vista1","vista2","CREAR_CUENTA","CREAR_SUBCUENTA","ACTUALIZAR_CUENTA","ACTUALIZAR_SUBCUENTA","OBTENER_CUENTAS","ELIMINAR_CUENTA","ELIMINAR_SUBCUENTA","CentroCostos","obtenerAlmacenes","subcuenta","crearCuenta","crearSubcuenta","idCuenta","cuenta_creada","subcuenta_creada","id_subcuenta","TablaPreciosPlazos","RenderTablePlazos","plazo","ModalDeletePlazos","eliminarUnidad","PrecioPlazos","setPlazo","obtenerPlazos","guardarPlazo","validateJsonEdit","object_date","end_array","object","iconSvg","dialogContent","CrearProducto","productosRefetch","fromCompra","crearProducto","actualizarProducto","setInitialStates","resetInitialStates","validate","vista7","copy_unidadesVenta","imagenes_without_aws","precio_plazos","usuario","unidades_venta","medidas_producto","inventario_general","window","onkeydown","keyCode","document","getElementById","click","saveButton","ButtonActions","NavigateNext","elevation","Badge","badgeContent","invisible","NavigateBefore","ContenidoModal","PreciosDeVentaCompras","numero","RenderPrecios","setPrecioNeto","copy_preciosVenta","calculosCompra","DescuentosInputs","inputMode","obtenerPrecio","startAdornment","obtenerPorcentaje","ClienteCtx","ClienteProvider","estado_cliente","cliente","setCliente","updateClientVenta","setUpdateClientVenta","RegistrarInfoBasica","numero_cliente","nombre_cliente","representante","clave_cliente","fecha_nacimiento","email","telefono","RegistrarInfoCredito","razon_social","numero_descuento","limite_credito","dias_credito","banco","numero_cuenta","CREAR_CLIENTE","OBTENER_CLIENTES","ACTUALIZAR_CLIENTE","ELIMINAR_CLIENTE","CrearCliente","ventas","handleClickOpen","crearCliente","actualizarCliente","copy_cliente","tipo_cliente","clienteBase","venta_actual","subTotal","tipo_cambio","venta_cliente","CREAR_COMPRA","CREAR_COMPRA_ESPERA","OBTENER_COMPRAS_REALIZADAS","OBTENER_COMPRAS_ESPERA","OBTENER_CONSULTA_GENERAL_PRODUCTO","ELIMINAR_COMPRA_ESPERA","initial_state_datosProducto","initial_state_datosCompra","initial_state_precios_venta","initial_state_productoOriginal","initial_state_productosCompra","DatosProveedorAlmacen","refetchProductos","getProductos","obtenerProveedorAlmacen","id_proveedor","errorRender","loadingRender","obtenerConsultaGeneralCompras","proveedores","MostrarPrecios","cantida_suma","presentacion","DatosProducto","count","setCargando","useLazyQuery","fetchPolicy","COSTO","CANTIDAD","obtenerCosto","obtenerCantidad","obtenerProductos","obtenerSelectsProducto","obtenerUnidadRegalo","nuevo_iva","nuevo_impuesto","actualizar_Precios","copy_datosProducto","copy_datosGenerales","copy_precios","copy_preciosP","copy_almacenInicial","copy_centroCostos","copy_presentacionesEliminadas","copy_precioPlazos","nueva","factor","cantidad_total_media","cantidad_regalo_media","productosCompra_ordenados","existente","prod_exist","Boolean","array_ordenado","ModalAgregarCompra","InfoOutlined","SetOrResetData","setStates","ListaCompras","productos_ordernados","RenderProductosCompra","isSelected","setIsSelected","productoCTX","seStates","unidad_producto","tabIndex","finish","ModalDeleteProducto","copy_compras","objeto_eliminado","ConfirmarCompra","realizarCompraBD","loading_modal","setLoadingModal","InputLabel","CompraCredito","CreditCard","AbrirCompra","compra","handleOpenDetalles","refetchEspera","ModalCompra","openDelete","setOpenDelete","crearCompra","crearCompraEnEspera","compra_en_espera","credito","conflicto","handleToggleDelete","Timer","CancelarCompra","ExcelFile","ReactExport","ExcelSheet","ExcelColumn","ExportarProductosComprasExcel","compra_realizada","productos_detalles","Cantidad_regalo","CloudDownloadOutlined","filename","DatosDeCompra","productosFiltrados","setProductosFiltrados","toLowerCase","marginRight","ListaProductos","obtenerComprasRealizadas","RenderRowsCompras","DetallesCompra","handleOpen","AssignmentOutlined","ExportarComprasExcel","filtro","filtroFecha","compras","nombre_documento","since","ComprasRealizadas","ContentDialogCompras","setFiltro","setFiltroFecha","searchfilter","filterDate","obtenerBusqueda","subtract","obtenerFecha","onDelete","current","VerificarProductosCompras","nuevoArray","setNuevoArray","setVerificado","setSuccess","VerifiedUser","ModalVerificacion","loadingVerificacion","setLoadingVerificacion","getQuery","productos_nuevos","copy_producto_compra","productos_filtrados","precios_base","unidades_base","presentaciones_base","u_default","u_default_base","present","y","present_base","nuevo_producto_compra","total_con_descuento","setTimeout","verificarProductos","compra_temp","setCompraTemp","permisosUsuario","verificado","compras_espera","eliminar","paddingTop","paddingBottom","ModalEliminarCompra","eliminarCompraEnEspera","eliminarCompra","DeleteOutlined","ListaEnEspera","obtenerComprasEnEspera","elimina","RenderRowsComprasEspera","ModalContinuarCompra","ComprasEnEspera","Compras","abrir_compra","compras_realizadas","ListaClientes","selectDataClient","showModal","setShowModal","dataSelectRowClient","setDataSelectRowClient","handleClickOpenModal","obtenerClientes","row","handleClickSelectClient","RowsRender","cambiarEstado","Switch","catalogos","clientes","EliminarCliente","eliminarCliente","eliminarClienteBD","paddingLeft","Cliente","InputBase","onKeyPress","defaultValue","agregar","REGISTRAR_DESCUENTOS","DESACTIVAR_DESCUENTOS","ELIMINAR_DESCUENTOS","headCells","EnhancedTableHead","onSelectAllClick","numSelected","rowCount","datosPrecios","variable","indeterminate","headCell","numeric","disablePadding","TablaPreciosDescuentos","setCleanList","cleanList","verificarDatos","setPrecioPrueba","page","rowsPerPage","handleClick","indexOf","newSelected","concat","slice","emptyRows","newSelecteds","n","isItemSelected","colSpan","openModal","setOpenModal","DesactivarDescuentoUnidad","ELiminarDescuentoUnidad","handleChangeActivo","editarDatos","handleDelete","resultado","eliminarDescuentoUnidad","defaultChecked","Modal","avatarGroup","rootSlice","rootTable","DescuentoProductos","CrearDescuentoUnidad","openDescuento","setOpenDescuento","precioPrueba","handleCloseDescuentos","cerrarModal","arrayDescuento","descuentos","eliminado","textAlign","dislay","gutterBottom","justifyItems","Slider","getAriaValueText","valueLabelDisplay","PVCDSI","dineroDescontado","valorText","obtenerPrecioText","drawWidth","breakpoints","down","InfoProductoDrawer","ListAlt","Drawer","anchor","CropOriginal","bottom","EliminarProducto","eliminarProducto","handleToggleModal","eliminarProductoBD","RenderTableRows","cantidad_existente","unidad_inventario","ProdcutosEliminados","productosActivosRefetch","handleModalToggle","RestoreFromTrash","TablaProductosEliminados","obtenerProductosInactivos","RenderProductosTabla","activarProducto","handleDeleteToggle","reactivarProducto","Publish","Productos","RegistroComponent","existencias","setExistencias","ArrowBack","ProductoIndex","TablaTallas","setPage","setRowsPerPage","tallas_numeros","TablePagination","rowsPerPageOptions","onChangePage","newPage","onChangeRowsPerPage","eliminarTalla","resp","msgAlert","dato","RegistroTallas","actualizarTalla","obtenerTallas","talla_actualizada","iconSvgSecondary","Tallas","centered","OBTENER_CONTABILIDAD","REGISTRAR_CONTABILIDAD","ACTUALIZAR_CONTABILIDAD","ELIMINAR_CONTABILIDAD","TablaServicios","setData","setIdService","idService","setAccion","updateData","obtenerContabilidad","EliminarContabilidad","contabilidad","nombre_servicio","RegistroServicios","setUpdateData","CrearContabilidad","ActualizarContabilidad","handleSubmit","inputActualizado","Contabilidad","columns","TablaProveedores","column","provedores","Proveedores","TablaCajas","permisos","cajas","obtenerCajasSucursal","numero_caja","deleteCaja","CREAR_CAJA","OBTENER_CAJAS","CREAR_HISTORIAL_CAJA","OBTENER_HISTORIAL_CAJA","ELIMINAR_CAJA","OBTENER_PRE_CORTE_CAJA","OBTENER_CORTES_CAJA","OBTENER_CORTE_CAJA","RegistroCajas","crearCaja","eliminarCaja","nuevaCaja","usuario_creador","numero_usuario_creador","numero_usuario","nombre_usuario_creador","Cajas","arregloVacio","tesoreria","cuentas_empresa","egresos","abonos_proveedores","abonos_clientes","reportes","reporte_historial_cajas","reporte_turnos","reporte_compras","reporte_ventas","rerporte_almacen","reporte_corte_caja","reporte_tesoreria","cancelar_venta","precios_productos","pre_corte","cotizaciones","administrador","eliminar_ventas","producto_rapido","traspasos","inventario_almacen","usuarios","conceptos_almacen","UsuarioContext","UsuarioProvider","estado_usuario","setUsuario","FormularioUsuario","showPassword","setShowPassword","autoComplete","password","repeatPassword","ActualizarPasswordModal","actualizarUsuario","confirmarPassowrd","Parametros","arregloAccesos","obtenerAccesos","subDepartamento","Catalogos","Almacenes","Tesoreria","Reportes","Ventas","AsignarPermisos","rootPrincipal","CrearUsuario","turno_en_caja_activo","crearUsuario","subDepartamentos","ListaUsuarios","openDetalles","setOpenDetalles","handleDetalles","ModalDetalles","Dehaze","Usuarios","CreateDepartamentosContext","DepartamentosProvider","idDepartamento","setIdDepartamento","TablaDepartamentos","obtenerDepartamentos","eliminarDepartamento","RegistroDepartamentos","ActualzarDepartamentos","Departamentos","fade","secondary","RegistroCategorias","setCategoria","toUpdateID","setToUpdateID","loadingBackDrop","setLoadingBackDrop","actualizarCategoria","guardarCategoria","categoriaActualizada","render_categorias","obtenerCategorias","RenderCategorias","setSubcategoria","actualizarSubcategoria","eliminarCategoria","render_subcategorias","guardarSubcategoria","subCategoriaActualizada","idSubcategoria","stopPropagation","Accordion","AccordionSummary","expandIcon","ExpandMore","onFocus","scrollTo","AccordionDetails","RenderSubcategorias","eliminarSubcategoria","px","Categorias","TablaColores","cache","eliminarColor","readQuery","query","writeQuery","RegistroColores","actualizarColor","colorActualizado","msg","ListaMarcas","obtenerMarcas","eliminarMarca","CreateMarcasContext","MarcasProvider","datosMarcas","setDatosMarcas","VistaMarcas","actualizarMarca","Marcas","setCuenta","actualizarCuenta","render_cuentas","obtenerCuentas","guardarCuenta","cuentaActualizada","RenderCuentas","setSubcuenta","eliminarCuenta","actualizarSubcuenta","render_subcuentas","guardarSubcuenta","subCuentaActualizada","idSubcuenta","deleteCuenta","RenderSubcuentas","eliminarSubcuenta","deleteSubCuenta","idSubCuenta","OBTENER_CONCEPTOS_ALMACEN","REGISTRAR_CONCEPTO_ALMACEN","ACTUALIZAR_CONCEPTO_ALMACEN","ELIMINAR_CONCEPTO_ALMACEN","TablaConceptos","setIdConcepto","idConcepto","obtenerConcepto","EliminarConceptoAlmacen","obtenerConceptosAlmacen","nombre_concepto","destino","editable","formControl","MenuProps","PaperProps","ITEM_HEIGHT","tipos","getStyles","tipoName","typography","fontWeightRegular","fontWeightMedium","crearConceptoAlmacen","actualizarConceptoAlmacen","ConceptosAlmacen","alignSelf","TesoreriaCtx","TesoreriaProvider","cuentas","setCuentas","reload","setReload","OBTENER_SUCURSALES","CREAR_MOVIMIENTO_CUENTA","OBTENER_HISTORIAL_CUENTAS","formComboBox","RetiroDeposito","turnoEnCurso","CrearMovimientoCuenta","datosMovimiento","setDatosMovimiento","onChangeDatos","tipo_movimiento","id_usuario","rol_movimiento","id_Caja","id_caja","horario_turno","concepto","hora_moviento","hora","minutos","segundos","completa","fecha_movimiento","mes","dia","no_semana_year","week","no_dia_year","dayOfYear","montos_en_caja","monto_efectivo","monto","metodo_pago","monto_tarjeta_debito","monto_tarjeta_credito","monto_creditos","monto_monedero","monto_transferencia","monto_cheques","monto_vales_despensa","comentarios","enviarDatos","movimiento","crearMovimientoCuenta","rows","rootBusqueda","HistorialCuentas","datosFiltro","setDatosFiltro","fecha_inicio","fecha_fin","historialCuenta","obtenerHistorialCuenta","RowsHistorial","ListaCuentas","cuentaEmpresa","cuentasSucursalesEmpresa","cuentaPrincipal","obtenerSucursalesEmpresa","cuenta_empresa","dinero_actual","RowsCuentas","cuenta_sucursal","buttons","CuentasEmpresaSucursales","OBTENER_HISTORIAL_EGRESOS","CREAR_EGRESO","TablaProductosEgresos","borrarProducto","RowsProductos","onPageChange","onRowsPerPageChange","cantidad_productos","precio_unitario","FormRegistroEgresos","CrearEgreso","upload","setUpload","datosEgreso","setDatosEgreso","totalCompra","setTotalCompra","subCuentas","setSubCuentas","setProducto","obtenerDatoProductos","totalCompraVenta","folio_egreso","folio_factura","empresa_distribuidora","provedor","subCategoria","fecha_compra","fecha_vencimiento","fecha_vencimiento0","observaciones","id_user","saldo_total","egreso","crearEgreso","GenFolio","InputLabelProps","shrink","obtenerSubCuentas","subCuenta","producto_guardado","elemento","indice","iconSize","info","VistaRegistroEgreso","iconSizeSecond","Egresos","TablaCompras","OBTENER_HISTORIAL_ABONOS","CREAR_ABONO","TablaAbonos","id_cliente","id_egreso","id_compra","abonos","obtenerHistorialAbonos","monto_total_abonado","AbonoaRecibir","CrearAbono","abono","setAbono","setMetodoPago","metodo_de_pago","clave","metodo","telefono_cliente","email_cliente","alignContent","DetallesCuenta","LiquidarCuenta","cuentaTotalDescuento","setCuentaTotalDescuento","setDineroDescontado","porciento_descuento","valueLabelFormat","cuenta_con_descuento","cuentaSelect","clearTimeout","timer","detail","TwoClickInRowTableBuy","rootSearch","AbonosProveedores","toLocaleString","createData","code","population","density","ToggleButtonGroup","exclusive","calories","fat","carbs","protein","scope","AbonosClientes","IndexTesoreria","FacturacionCtx","FacturacionProvider","serie","currency","expedition_place","folio","cfdi_type","payment_form","payment_method","logo_url","issuer","FiscalRegime","Rfc","receiver","CfdiUse","items","datosFactura","setDatosFactura","venta_factura","setVentaFactura","cp_valido","setCPValido","setCodigoPostal","error_validation","DetallesDeVenta","compra_test","monto_tarjeta","descuento_general_activo","decuento_general","cantidad_descontado","dias_de_credito_venta","fecha_de_vencimiento_credito","fecha_vencimiento_cotizacion","iva_total_producto","ieps_total_producto","impuestos_total_producto","subtotal_total_producto","total_total_producto","cantidad_existente_maxima","ListaVentasFactura","RenderLista","CodigoPostal","CP","obtenerCodigoPostal","Fragment","ListaClientesFacturas","minwidth","RegistroFactura","serie_default","ModificarProductoFactura","EliminarProductoFactura","copy_venta","copy_productos","precio_resta","DetallesFactura","RowTableProductos","verificarDatosFactura","factura_initial_state","RealizarFactura","productosFactura","setProductosFactura","crearFactura","nuevo_obj","ProductCode","IdentificationNumber","Description","UnitCode","UnitPrice","Quantity","Subtotal","Discount","Taxes","Total","Base","Rate","IsRetention","InputsFacturaModal","NuevaFactura","FacturaModalContent","seriesCfdi","obtenerSeriesCdfi","cancelarCFDI","RegistroSeries","crearSerieCFDI","obtenerDatosSeries","guardarDatosBD","ListaSeriesCDFI","modificarDefaultSerie","setPredeterminado","ModalDeleteSerie","eliminarSerie","eliminarSerieBD","SeriesCDFI","ContentSeriesCFDI","ExportarProductosFacturaExcel","ListaFacturas","Facturacion","ListaAlmacen","RegistroAlmacen","TraspasosAlmacenContext","TraspasosProvider","productosTo","setProductosTo","productosEmpTo","setProductosEmpTo","productosTras","setProductosTras","setNew_medidas","nuevaCantidad","new_medidas","presentaciones_existentes","paddingRight","cell","idProducto","cantidadAnt","copy_medida","product_selected","new_medidasCopia","med","Object","hasOwnProperty","call","cant","order","orderBy","onRequestSort","headCellsNames","add","sortDirection","TableSortLabel","active","useToolbarStyles","inputCantidad","inputCantidadTable","highlight","lighten","light","text","dark","flexWrap","DialogTallas","close","setOpenTallas","setproduct_selected","prod","openTallas","almacenOrigen","newMedidasCopy","prodSelect","existe","copyProductosTras","medidasTo","newMed","obj","EnhancedTableToolbar","cantidadTo","setCantidadTo","openEnd","setOpenEnd","tipoPieza","setValueToTrans","mensaje","find","totalCantExistMasNuevaCantidad","piezas","unidadMaxima","TipoPiezaComponent","TIPO_PIEZA","unidad_minima","clsx","intValue","onlyNumbers","deletesItems","EnhancedTable","setOrder","setOrderBy","setCant","setTipoPieza","haveCant","handleSelectAllClick","prod_sel","editItem","prodSet","deleteItem","boxUpData","selected2","inputBox","boxControl","centerControl","almacenName","transportes","steps","Traspasos","haveConcepto","setHaveConcepto","conceptoTraspaso","setConceptoTraspaso","isAlmacenOrigen","setIsAlmacenOrigen","isAlmacenDestino","setIsAlmacenDestino","setAlmacenOrigen","almacenDestino","setAlmacenDestino","almacenesDestino","setAlmacenesDestino","transporte","setTransporte","placas","setPlacas","nombreQuien","setNombreQuien","activeStep","setActiveStep","Set","skipped","setSkipped","CrearTraspaso","conceptos","queryObtenerAlmacenes","dataConceptos","categoriasQuery","productosQuery","productosEmpresaQuery","obtenerProductosAlmacen","obtenerProductosEmpresa","obtenerProductosPorEmpresa","isStepSkipped","step","has","handleBack","prevActiveStep","traspasar","concepto_traspaso","almacen_origen","almacen_destino","datos_transporte","nombre_encargado","sucursalOrigen","sucursalDestino","traspaso","crearTraspaso","sx","almacenIcon","Stepper","stepProps","completed","Step","StepLabel","trans","pt","newSkipped","delete","handleNext","withRouter","fileName","columnName","ListaAlmacenes","dataExcel","widthPx","Rowrow","arrayCantidades","font","sz","alignment","wrapText","rgb","almacenColumna","existencia_almacenes","InventariosPorAlmacen","InventarioPorAlmacen","filtroTo","setFiltroTo","categoriaTo","setCategoriaTo","subcategoriaTo","setSubCategoriaTo","productosAlmacenQuery","obtenerProductosAlmacenes","setValToFilter","cat","fil","subcat","Moviminetos","TablaHistorialFiltrado","historial","iconSave","right","HistorialCaja","datosBuscar","setDatosBuscar","datosExcel","obtenerHistorialCaja","cajaSelected","fecha_incio","arrayExcel","datosHistorial","hora_movimiento","caja","agruparDatos","handleDatos","StyledBadge","withStyles","badge","boxShadow","left","animation","content","transform","media","expand","transition","transitions","create","duration","shortest","expandOpen","red","textActive","CardCaja","styleProps","activa","Card","CardHeader","overlap","openHistorial","setOpenHistorial","setCajaSelected","handleClickOpenHistorial","cantidad_efectivo_actual","fetchCajas","TablaTurnosFiltrados","turnos","turno","hora_entrada","hora_salida","usuario_en_turno","horario_en_turno","REGISTRAR_TURNOS","OBTENER_HISTORIAL_TURNOS","ReportesTurnosUsuarios","FiltroTablaTurnos","filtros","setFiltros","historialTurnos","fechaInicio","fechaFin","fecha_entrada","fecha_salida","obtenerFiltroTurnos","TablaComprasFiltradas","OBTENER_REPORTE_COMPRAS","ExportarCompras","forma","FiltrosCompras","obtenerProductoMovimientos","CapturaDeDatos","obtenerCamposFiltro","realizarBusquedaBD","ClearOutlined","ReportesCompras","TablaVentasFiltradas","ReportesVentas","ExportarTraspasos","id_traspaso","TablaAlmacenFiltradas","ReportesAlmacen","fecha_final","inputFilter","setFilter","encargado","setEncargado","queryObtenerUsuarios","traspasosAlmacenes","setDatosInput","obtenerTraspasos","enc","almDes","almOri","encId","setEncargadoInput","alm","setQueryAlmacenOrigen","setQueryAlmacenDestino","filt","limpiarFiltros","TablaCortesFiltradas","cortes","corte","token_turno_user","number_user","obtenerCorte","montos_sistema","obtenerCorteCaja","montos_en_sistema","InformacionCorteCaja","ExportExcel","historialCortes","ReportesCortes","cajasBase","fecha_consulta","obtenerCortesDeCaja","ListaEgresos","historialEgresos","obtenerHistorialEgresos","RowsEgresos","DialogCaracteristicas","ListaTransferencias","ReportesTesoreria","ventana","setVentana","anchorEl","setAnchorEl","currentTarget","Menu","ListItemIcon","iconSvgVenta","history","axis","onChangeIndex","appbar","navbar","grey","menuButton","token","removeItem","flexShrink","drawerColor","drawerPaper","navigationTop","iconSizeSuperior","iconSizeSecondSuperior","iconSizeInferior","iconSizeSecondInferior","iconSizeSecondInferiorGrande","iconSizeInferiorGrande","borderBoton","borderBotonChico","rootPrecioProductos","containerImage","rootBusquedaProductos","rootFecha","iconSizeDialogs","iconSizeDialogsPequeno","containerImagenesProducto","imagenProducto","VentasContext","VentasProvider","datosProductoVentas","setDatosProductoVentas","setProductosVentas","datosVentas","setDatosVentas","productoCambioPrecio","setProductoCambioPrecio","precioSelectProductoVenta","setPrecioSelectProductoVenta","clientesVentas","setClientesVentas","turnoActivo","setTurnoActivo","ubicacionTurno","setUbicacionTurno","abrirTurnosDialog","setAbrirTurnosDialog","updateTablaVentas","setUpdateTablaVentas","DepositoRetiroCaja","CrearHistorialCaja","setMovimiento","preCorteDeCaja","dineroEnCaja","obtenerPreCorteCaja","monto_efectivo_precorte","addEventListener","altKey","id_User","textTransform","newAlignment","ToggleButton","AbrirTurno","CrearRegistroDeTurno","abrirTurno","setAbrirTurno","numeroCaja","setNumeroCaja","obtenerTurno","arraySesion","exp","iat","turno_en_curso","caja_elegida","monto_abrir","variableTurnoAbierto","crearRegistroDeTurno","montoTurno","setMontoTurno","cerrarTurno","setCerrarTurno","obtenerCamposMontos","monto_puntos","actualizarTurnoSesion","Turnos","ContenidoTurnos","AccesosContext","AccesosProvider","abrirPanelAcceso","setAbrirPanelAcceso","tipo_acceso","setDepartamentos","reloadAdministrador","setReloadAdministrador","reloadProductoRapido","setReloadProductoRapido","reloadCancelarVenta","setReloadCancelarVenta","reloadVerPrecios","setReloadVerPrecios","reloadVerPreCorte","setReloadVerPreCorte","reloadEliminarVentaEspera","setReloadEliminarVentaEspera","reloadCrearCotizacion","setReloadCrearCotizacion","PreCorteCaja","CREAR_COTIZACION","NuevaCotizacion","CrearCotizacion","newCotizacion","setNewCotizacion","descuento_general","totalDescount","setTotalDescount","crearCotizacion","tipo_venta","registroCotizacion","errors","CotizacionesPendientes","CotizacionesRows","Cotizacion","IIRFilterNode","VentanasCotizaciones","VentaEnEspera","agregarVentaEnEspera","justifySelf","RegistroInformacionRapido","setAbrirTallaColor","varIVA","varIEPS","TallasColoresRapidos","Acceso","client","useApolloClient","datosUser","setDatosUser","handleClickClose","obtenerQuery","obtenerAccesoPermiso","permiso_concedido","SwitchPermisos","ArticuloRapido","crearProductoRapido","abrirTallaColor","ProductoRapidoIndex","BottomNavigation","showLabels","srsc","Abonos","productosBusqueda","setProductoSeleccionado","CONSULTA_PRODUCTO_UNITARIO","CONSULTA_PRODUCTOS_VENTAS","OBTENER_CLIENTES_VENTAS","CREAR_VENTA","InformacionProducto","productoSeleccionado","BuscarProducto","searchProducto","setSearchProducto","obtenerProductosVentas","keyUpEvent","onKeyUp","ClientesVentas","CancelarVenta","CerrarVenta","cambio","setCambio","abrirCajon","openModalDescuento","totalVenta","setTotalVenta","montoPagado","setMontoPagado","cambioVenta","setCambioVenta","datosCliente","setDatosCliente","setMonedero","descuentoVenta","fechaVencimientoDate","setfechaVencimientoDate","valorPuntoProducto","setValorPuntoProducto","monederoTotal","setMonederoTotal","ventaActual","setVentaActual","editableClient","setEditableClient","visible","setVisible","efectivo","setEfectivo","tarjeta","setTarjeta","puntos","setPuntos","transferencia","setTransferencia","cheque","setCheque","createVenta","monederoVenta","handleClickFinishVenta","ventaFinal","venta_realizada","handlerChangeValue","location","valor2","credito_disponible","modelDate","hoy","diasDiff","diff","pr","ConsultarPrecio","activeItemIndex","setActiveItemIndex","productoBase","obtenerUnProductoVentas","input_value","datosProductos","displa","requestToChangeActive","numberOfCards","leftChevron","rightChevron","infiniteLoop","outsideChevron","chevronWidth","PreciosProductos","selectPrisingProduct","setSelectPrisingProduct","handleAceptChangePrising","venta_existente","productosVentasTemp","newProductoPrecioNuevo","newProductoPrecioActual","producto_encontrado","new_resta","new_suma","CalculosData","doubleClick","ListaVentas","listaEnEspera","RowsVentas","keyIndex","setKeyIndex","borrarVenta","VentasEspera","ListaVentasRealizadas","VentasRealizadas","NavegacionVentasLateral","setDatosVentasActual","setNewProductoVentas","newProductoVentas","datosTabla","setDatosTabla","newCantidadProduct","setNewCantidadProduct","tempAmount","setTempAmount","CalculeDataPricing","new_cant","verify_prising","newPrising","precio_actual_porducto","calculateNewPricingAmount","selectClient","setSelectClient","obtenerClientesVentas","dataCliente","ChangeClientAutocomplate","VentasGenerales","granelBase","setGranelBase","DatosVentasActual","consultaBase","setConsultaBase","productosBase","agregarProductos","trim","data_operation","data_key","productoPrecioFinal","new_prices","calculo_resta","calculo_sumar","elevantion","VentaIndex","varActive","setVarActive","AbrirTurnoEnVentas","routes","logearUsuario","signin","decoded","jwt_decode","labelWidth","exact","logo","Link","to","adminIcon","cartIcon","AdminInicio","createMuiTheme","blue","httpLink","createUploadLink","uri","ApolloClient","connectToDevTools","InMemoryCache","addTypename","link","RoutesWithSubRoutes","route","render","App","ApolloProvider","ThemeProvider","CssBaseline","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM"],"mappings":"8mBAEaA,EAAgBC,YAAH,0+KAiSbC,EAAmBD,YAAH,45KA2RhBE,EAAqBF,YAAH,kLAQlBG,EAAiBH,YAAH,iJAQdI,EAAyBJ,YAAH,mO,GAUKA,YAAH,4L,4DCllB/BK,EAAYC,aAAW,SAACC,GAAD,MAAY,CACxCC,MAAO,CACNC,OAAO,GAAD,OAAK,MAAL,mBAIO,SAASC,EAAT,GAAgD,IAApBC,EAAmB,EAAnBA,MAAOC,EAAY,EAAZA,SAC3CC,EAAUR,IAMhB,OACC,cAACS,EAAA,EAAD,UACC,cAACC,EAAA,EAAD,CACCC,UAAWH,EAAQL,MACnBS,aAAc,CAAEC,SAAU,MAAOC,WAAY,UAC7CC,KAAMT,EAAMS,KACZC,QAViB,WACnBT,EAAS,CAAEQ,MAAM,EAAOE,OAAQX,EAAMW,OAAQC,QAAS,MAUrDC,iBAAkB,IAClBD,QACC,eAACE,EAAA,EAAD,CAAKC,QAAQ,OAAb,UACmB,YAAjBf,EAAMW,OACN,cAAC,IAAD,CAAiBK,MAAO,CAAEC,MAAO,aAEjC,cAAC,IAAD,CAAWD,MAAO,CAAEC,MAAO,SAE5B,cAACH,EAAA,EAAD,CAAKI,GAAI,IACT,cAACC,EAAA,EAAD,UAAanB,EAAMY,iB,kGCnBnBlB,GAAYC,aAAW,SAACC,GAAD,MAAY,CACxCwB,OAAQ,CACPC,UAAWzB,EAAM0B,QAAQ,GACzBC,aAAc3B,EAAM0B,QAAQ,IAE7BE,gBAAgB,CACfC,SAAU,IACVC,UAAW,KAEZC,OAAO,CACNC,MAAO,OACPC,OAAQ,YC3BH,IAAMC,GAAgC,CAC3CC,iBAAiB,EACjBC,mBAAoB,CAClBC,KAAM,GACNC,MAAO,KAGEC,GAAwB,CACnCC,UAAU,EACVC,qBAAsB,EACtBC,YAAY,EACZC,aAAa,EACbC,KAAM,EACNC,IAAK,GACLC,QAAQ,EACRC,WAAY,CACVC,kBAAmB,EACnBC,kBAAmB,EACnBC,qBAAsB,KACtBC,cAAe,OAEjBC,iBAAkB,CAChBC,oBAAqB,EACrBC,oBAAqB,EACrBT,IAAK,EACLD,KAAM,GAERW,iBAAkB,CAChBC,OAAQ,KACRL,cAAe,MACfM,SAAU,EACVC,6BAA8B,EAC9BC,6BAA8B,IAIrBC,GAAoC,CAC/CC,cAAe,GACfL,OAAQ,KACRL,cAAe,MACfM,SAAU,EACVK,OAAQ,EACRC,cAAe,CACbC,cAAe,EACfC,YAAa,EACbC,aAAc,EACdC,eAAgB,EAChBC,WAAY,EACZC,YAAa,EACbC,SAAU,EACVC,eAAgB,EAChBC,gBAAiB,EACjBC,eAAe,GAEjBC,kBAAkB,EAClBC,SAAS,GAGEC,GAAyB,CACpC,CACEZ,cAAe,EACfM,SAAU,EACVL,YAAa,EACbE,eAAgB,EAChBD,aAAc,EACdE,WAAY,EACZC,YAAa,GAEf,CACEL,cAAe,EACfM,SAAU,EACVL,YAAa,EACbE,eAAgB,EAChBD,aAAc,EACdE,WAAY,EACZC,YAAa,GAEf,CACEL,cAAe,EACfM,SAAU,EACVL,YAAa,EACbE,eAAgB,EAChBD,aAAc,EACdE,WAAY,EACZC,YAAa,GAEf,CACEL,cAAe,EACfM,SAAU,EACVL,YAAa,EACbE,eAAgB,EAChBD,aAAc,EACdE,WAAY,EACZC,YAAa,GAEf,CACEL,cAAe,EACfM,SAAU,EACVL,YAAa,EACbE,eAAgB,EAChBD,aAAc,EACdE,WAAY,EACZC,YAAa,GAEf,CACEL,cAAe,EACfM,SAAU,EACVL,YAAa,EACbE,eAAgB,EAChBD,aAAc,EACdE,WAAY,EACZC,YAAa,IAIJQ,GAA8B,GAE9BC,GAAgC,CAC3CC,WAAY,GACZC,QAAS,GACTvB,SAAU,EACVwB,oBAAqB,IAEVC,GAAiC,GAEjCC,GAA8B,CACzCC,cAAe,GACfC,aAAc,GACdC,gBAAiB,IAGNC,GAA8B,GAC9BC,GAAyB,GACzBC,GAAoC,GACpCC,GAA0B,CAAEC,MAAO,GAAIC,MAAO,IAC9CC,GAA2B,CAAEC,OAAO,EAAO9E,QAAS,IACpD+E,GAA0B,GAE1BC,GAA+B,GCtH/BC,GAAqBC,0BAErBC,GAAsB,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SACpC,EAA6CC,mBAC3CnE,IADF,mBAAOoE,EAAP,KAAwBC,EAAxB,KAGA,EAA8BF,mBAAS9D,IAAvC,mBAAOiE,EAAP,KAAgBC,EAAhB,KACA,EAAsDJ,mBACpDzC,IADF,mBAAO8C,EAAP,KAA4BC,EAA5B,KAGA,EAAgCN,mBAASzB,IAAzC,mBAAOgC,EAAP,KAAiBC,EAAjB,KACA,EAA0CR,mBACxCxB,IADF,mBAAOiC,EAAP,KAAsBC,EAAtB,KAGA,EAA6CV,mBAC3CvB,IADF,mBAAOkC,EAAP,KAAwBC,EAAxB,KAGA,EAA8CZ,mBAC5CnB,IADF,mBAAOgC,EAAP,KAAyBC,EAAzB,KAGA,EAA0Cd,mBACxClB,IADF,mBAAOiC,EAAP,KAAsBC,EAAtB,KAGA,EAA0ChB,mBACxCd,IADF,mBAAO+B,EAAP,KAAsBC,EAAtB,KAGA,EAAgClB,mBAASb,IAAzC,mBAAOgC,EAAP,KAAiBC,EAAjB,KACA,EAAqDpB,mBACnDZ,IADF,mBAAOiC,EAAP,KAA4BC,EAA5B,KAGA,EAAkCtB,mBAASX,IAA3C,mBAAOkC,EAAP,KAAkBC,EAAlB,KACA,GAAoCxB,mBAASR,IAA7C,qBAAOiC,GAAP,MAAmBC,GAAnB,MACA,GAAkC1B,mBAASN,IAA3C,qBAAOiC,GAAP,MAAkBC,GAAlB,MACA,GAAwC5B,mBDoFA,MCpFxC,qBAAO6B,GAAP,MAAqBC,GAArB,MACA,GAA4B9B,oBAAS,GAArC,qBAAO+B,GAAP,MAAeC,GAAf,MACA,GAA4ChC,mBAC1CL,IADF,qBAAOsC,GAAP,MAAuBC,GAAvB,MAGA,GAAiElC,mBAAS,IAA1E,qBAAOmC,GAAP,MAAkCC,GAAlC,MACA,GAA8CC,IAAMrC,UAAS,GAA7D,qBAAOsC,GAAP,MAAwBC,GAAxB,MACA,GAA0BvC,mBAAS,CAAErF,QAAS,GAAID,OAAQ,GAAIF,MAAM,IAApE,qBAAOT,GAAP,MAAcC,GAAd,MAGA,GAA0DgG,mBAAS,IAAnE,qBAAQwC,GAAR,MAA8BC,GAA9B,MACA,GAAmDzC,mBAAS,IAA5D,qBAAQ0C,GAAR,MAA2BC,GAA3B,MACA,GAAkD3C,mBAAS,IAA3D,qBAAQ4C,GAAR,MAA0BC,GAA1B,MACA,GAAoD7C,mBAAS,IAA7D,qBAAQ8C,GAAR,MAA2BC,GAA3B,MACA,GAAkD/C,oBAAS,GAA3D,qBAAQgD,GAAR,MAA2BC,GAA3B,MAEA,OACE,cAACrD,GAAmBsD,SAApB,CACEC,MAAO,CACLlD,kBACAC,oBACAC,UACAC,aACAO,kBACAC,oBACAO,WACAC,cACAC,sBACAC,wBACAC,YACAC,eACAC,cACAC,iBACAnB,WACAC,cACAO,gBACAC,mBACAP,gBACAC,mBACAG,mBACAC,oBACAT,sBACAC,yBACAW,gBACAC,mBACAS,aACAC,gBACAC,gBACAC,mBACAC,UACAC,aACAC,kBACAC,qBACAC,6BACAC,+BACAE,mBACAC,sBACAxI,SACAC,YAEAwI,wBACAC,2BACAC,qBACAC,wBACAC,oBACAC,uBACAC,qBACAC,wBACAC,qBACAC,wBApDJ,SAuDGlD,K,uFC3HMqD,GAAiBvD,0BAEjBwD,GAAkB,SAAC,GAAkB,IAAhBtD,EAAe,EAAfA,SAEjC,EAAgCC,mBAAS,CACxCsD,eAAe,GACTC,aAAa,GACnBC,eAAe,GACfC,QAAQ,GACRC,eAAe,GACTC,cAAc,GACdC,IAAI,GACJC,eAAe,GACfC,KAAK,GACLC,YAAY,GAClBC,UAAW,CACVC,MAAO,GACPC,OAAQ,GACRC,OAAQ,GACRC,cAAe,GACfC,QAAS,GACTC,UAAW,GACXC,UAAW,GACXC,OAAQ,GACRC,KAAM,IAEDC,gBAAiB,CACbT,MAAO,GAChBC,OAAQ,GACRC,OAAQ,GACRC,cAAe,GACfC,QAAS,GACTC,UAAW,GACXC,UAAW,GACXC,OAAQ,GACRC,KAAM,IAEDE,eAAe,CACXC,OAAQ,GACRC,SAAU,GACVC,YAAa,IAEvBpJ,OAAQ,OAtCT,mBAAQqJ,EAAR,KAAiBC,EAAjB,KAwCA,EAAkChF,oBAAS,GAA3C,mBAAQiF,EAAR,KAAkBC,EAAlB,KACA,EAA4BlF,mBAAS,CAACP,OAAO,EAAO9E,QAAS,KAA7D,mBAAQ8E,EAAR,KAAe0F,EAAf,KACA,EAA8BnF,oBAAS,GAAvC,mBAAQ+B,EAAR,KAAgBC,EAAhB,KAEA,OACC,cAACoB,GAAeF,SAAhB,CACCC,MAAO,CACN4B,UACAC,aACAC,WACAC,cACAzF,QACA0F,WACApD,SACAC,aATF,SAYEjC,K,8GC1DEtG,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCyL,SAAU,CACRvL,OAAQF,EAAME,OAAOwL,OAAS,EAC9BrK,MAAO,OACPsK,gBAAiB,0BAIN,SAASC,GAAT,GAAmD,IAAvBC,EAAsB,EAAtBA,QACnCvL,GADyD,EAAbwL,WAClChM,MAMhB,OACE,8BACE,cAACiM,GAAA,EAAD,CAAUtL,UAAWH,EAAQmL,SAAU5K,KAAMgL,EAA7C,SACE,cAACG,EAAA,EAAD,CAAkB3K,MAAM,gB,yBCnBjB,SAAS4K,GAAT,GAAqC,EAAhBnG,MAAiB,IAChD7D,EAD+C,EAATiK,OAG1C,OADIjK,IAAQA,EAAS,KAEpB,eAACf,EAAA,EAAD,CAAKC,QAAQ,OAAOgL,cAAc,SAASC,eAAe,SAASC,WAAW,SAASpK,OAAQA,EAA/F,UACC,cAAC,KAAD,CAAkBb,MAAO,CAAEkL,SAAU,IAAKjL,MAAO,0BACjD,cAACE,EAAA,EAAD,CAAYgL,MAAM,SAASnL,MAAO,CAAEkL,SAAU,GAAIjL,MAAO,mBAAzD,iC,oBCTUmL,GAAwB/M,YAAH,o6BAsDrBgN,GAAqBhN,YAAH,45BCvDlBiN,GAAgB,SAACC,EAAKC,GACjC,OAAOC,KAAKC,MAAMD,KAAKE,UAAYH,EAAMD,EAAM,GAAKA,IAuBzCK,GAAe,SAACC,GAC3B,OAAKA,EAGW,IAAIC,KAAKD,GACRE,mBAAmB,QAAS,CACzCC,QAAS,OACTC,KAAM,UACNC,MAAO,OACPC,IAAK,YAPA,MAYEC,GAAoB,SAACP,GAChC,OAAKA,EAGW,IAAIC,KAAKD,GACRE,mBAAmB,QAAS,CACzCC,QAAS,QACTC,KAAM,UACNC,MAAO,QACPC,IAAK,YAPA,MAYEE,GAAgB,SAACC,GAC5B,GAAKA,EAEE,CASL,OAPIA,EAAS,IAAM,EACTA,EAEAC,WAAWD,GAAQE,QAAQ,IAIxBC,WAAWC,QAFZ,0BACA,OATZ,OAAO,MAcEC,GAAiB,SAAjBA,EAAkBvE,GAC7B,GAAIwE,MAAMC,QAAQzE,GAChB,OAAOA,EAAM0E,IAAIH,GACZ,GAAc,OAAVvE,GAAmC,kBAAVA,EAAoB,CACtD,IAAM2E,EAAY,GAClB,IAAK,IAAMC,KAAY5E,EACJ,eAAb4E,IACFD,EAAUC,GAAYL,EAAevE,EAAM4E,KAC/C,OAAOD,EAEP,OAAO3E,GAIE6E,GAAgB,uCAAG,WAAOC,GAAP,uBAAAC,EAAA,+DAExBC,EAAQC,KAAKC,MAAMC,aAAaC,QAAQ,gBACxCC,EAA4B,OAAVL,EAAiB,GAAKA,EAAMM,UAC9CC,GAAQ,EACRC,EAAiB,CACnBV,SAAU,GACV3I,MAAO,GAGAsJ,EAAI,EAVe,YAUZA,EAAIJ,EAAgBK,QAVR,oBAWsB,qBAArCL,EAAgBI,GAAGpL,cAXJ,oBAYpBgL,EAAgBI,GAAGpL,gBAAkByK,EAASzK,cAZ1B,wBAatBmL,EAAiB,CACfV,SAAUO,EAAgBI,GAC1BtJ,MAAOsJ,GAETF,GAAQ,EAjBc,kBAkBf,CACLC,iBACAD,UApBoB,mCAyBtBF,EAAgBI,GAAGE,YAAY7I,gBAAgB8I,gBAC/Cd,EAASa,YAAY7I,gBAAgB8I,cA1Bf,wBA4BtBJ,EAAiB,CACfV,SAAUO,EAAgBI,GAC1BtJ,MAAOsJ,GAETF,GAAQ,EAhCc,kBAiCf,CACLC,iBACAD,UAnCoB,QAUgBE,IAVhB,gDAyCrB,CACLD,iBACAD,UA3C0B,yCA8C5BM,QAAQC,IAAR,MA9C4B,mBA+CrB,GA/CqB,0DAAH,sDAoJhBC,GAAgB,uCAAG,iEAAAhB,EAAA,6DAASiB,EAAT,EAASA,KAAM/L,EAAf,EAAeA,SAAUX,EAAzB,EAAyBA,OAAQ2M,EAAjC,EAAiCA,OAAjC,IAAyCC,sBAAzC,SAAiE5L,EAAjE,EAAiEA,OAAjE,SAEN,EACL,EACG,EACL,EACC,EACK,EACD,EAEd6L,EAAgBlM,EAAW,EAAIA,EAAW,EAC1CmM,EAAe9M,EAAOA,OAASA,EAAO+M,MAAQ,EAC9CC,EAAgBJ,EAAiB5L,EAAS0L,EAAKO,iBAAmBP,EAAKQ,UAAYR,EAAKzL,cACxFkM,GAC0B,IAAhCH,EAAcrL,cACVqL,EAAcI,iBACd,EACJC,EAAaL,EAAc1L,WAAa6L,EACxCG,EAAcN,EAAczL,YAAc4L,EAC1CI,EAAkBF,EAAaC,EAC/BE,EAAkBR,EAAc5L,aAAe+L,EAC/CM,EAAeT,EAAc7L,YAAcgM,EAC3CO,EAAkBhB,EAAKL,YAAY3I,QAAQhE,SACvCgN,EAAKL,YAAY3I,QAAQ/D,qBAAuBwN,EAChD,EACJQ,EAAmBF,EAAef,EAAKzL,cAAcE,YAC/CyM,EAAK,CACTP,WAAYxC,YAAYwC,EAAaP,EAAeD,GAAe/B,QAAQ,IAC3EwC,YAAazC,YAAYyC,EAAcR,EAAeD,GAAe/B,QAAQ,IAC7EyC,gBAAiB1C,YAAY0C,EAAkBT,EAAeD,GAAe/B,QAAQ,IACrF0C,gBAAiB3C,YAAY2C,EAAkBV,EAAeD,GAAe/B,QAAQ,IACrF2C,aAAc5C,YAAY4C,EAAeX,EAAeD,GAAe/B,QAAQ,IAC/E4C,gBAAiB7C,YAAY6C,EAAkBZ,EAAeD,GAAe/B,QAAQ,IACrF6C,iBAAkB9C,YAAY8C,EAAmBb,EAAeD,GAAe/B,QAAQ,IACvF4B,QAEY,YAAXC,GACDD,EAAKmB,eAAiB,EACtBnB,EAAKoB,gBAAmB9N,EACxB0M,EAAKqB,gBAAkBH,EAAGH,aAC1Bf,EAAKsB,uBAAyBnD,WAAYmC,EAAc7L,YAAa2J,QAAQ,IAC7E4B,EAAKuB,qBAAuB,CAC1BvM,gBAAiBsL,EAActL,gBAAkBsL,EAActL,gBAAkB,KACjFR,cAAe8L,EAAc9L,cAAgB8L,EAAc9L,cAAgB,KAC3ES,cAAeqL,EAAcrL,cAAgBqL,EAAcrL,cAAgB,KAC3EF,eAAgBuL,EAAcvL,eAAiBuL,EAAcvL,eAAiB,KAC9EN,YAAa6L,EAAc7L,YAAc6L,EAAc7L,YAAc,KACrEC,aAAc4L,EAAc5L,aAAe4L,EAAc5L,aAAe,KACxEE,WAAY0L,EAAc1L,WAAa0L,EAAc1L,WAAa,KAClEC,YAAayL,EAAczL,YAAcyL,EAAczL,YAAc,KACrEC,SAAUwL,EAAcxL,SAAWwL,EAAcxL,SAAW,KAC5D0M,UAAWlB,EAAckB,UAAYlB,EAAckB,UAAY,KAC/DC,kBAAmBnB,EAAcmB,kBAAoBnB,EAAcmB,kBAAoB,OAEvE,YAAXxB,IACPD,EAAKoB,gBAAkB9N,EACvB0M,EAAKqB,gBAAkBH,EAAGH,aAC1Bf,EAAK0B,gBAAkB1B,EAAKsB,wBAzDF,kBA4DrBJ,GA5DqB,4DA+DrB,GA/DqB,0DAAH,sDAmEhBS,GAAa,uCAAG,WAAO3B,GAAP,uBAAAjB,EAAA,kEAEpBiB,EAFoB,0CAEP,GAFO,UAGnB4B,EAAS5B,EAAKmB,eACdU,EAAW7B,EAAKL,YAAY3I,QAAQ8K,iBAAiBC,QACzD,SAACC,GAAD,OAAOA,EAAErN,eAAiB,GAAKqN,EAAEvN,YAAc,KAG7CwN,EAAe,CACjB1C,OAAO,EACP2C,QAAS,EACTC,eAAgB,EAChBC,eAAgB,IAEZC,EAAYR,EAASnC,QACvBM,EAAKsC,oBAfgB,yCAeYL,GAfZ,YAiBrBL,EAAS5B,EAAKL,YAAY3I,QAAQ8K,iBAAiB,GAAGnN,gBAjBjC,0CAkBfsN,EAAe,CACrB1C,OAAO,EACP2C,QAASlC,EAAKO,iBACVP,EAAKQ,UAAU/L,YACfuL,EAAKL,YAAY3I,QAAQ8K,iBAAiB,GAAGrN,YACjD0N,eACEnC,EAAKL,YAAY3I,QAAQ8K,iBAAiB,GAAGtN,cAC/C4N,eAAgBpC,EAAKO,iBAAmBP,EAAKQ,UAAYR,EAAKL,YAAY3I,QAAQ8K,iBAAiB,KAzB9E,QA4BhBrC,EAAI,EA5BY,aA4BTA,EAAIoC,EAASnC,QA5BJ,sBA6BnBD,EAAI,IAAM4C,GAAaT,GAAUC,EAASpC,GAAG9K,gBA7B1B,0CA8BbsN,EAAe,CACrB1C,OAAO,EACP2C,QAASL,EAASpC,GAAGhL,YACrB0N,eAAgBN,EAASpC,GAAGjL,cAC5B4N,eAAgBP,EAASpC,KAlCN,QAsCrBA,EAAI,EAAI4C,GACRT,GAAUC,EAASpC,GAAG9K,gBACtBiN,EAASC,EAASpC,EAAI,GAAG9K,iBAEzBsN,EAAe,CACb1C,OAAO,EACP2C,QAASL,EAASpC,GAAGhL,YACrB0N,eAAgBN,EAASpC,GAAGjL,cAC5B4N,eAAgBP,EAASpC,KA9CN,QA4BYA,IA5BZ,iDAkDlBwC,GAlDkB,yCAoDzBpC,QAAQC,IAAR,MApDyB,mBAqDlB,GArDkB,0DAAH,sDAmEnB,I,qDC1WMyC,GAAW,CACtB,CACEzP,MAAO,MACPD,KAAM,mCAER,CACEC,MAAO,MACPD,KAAM,6CAER,CACEC,MAAO,MACPD,KAAM,qBAER,CACEC,MAAO,MACPD,KAAM,kBAER,CACEC,MAAO,MACPD,KAAM,kDAER,CACEC,MAAO,MACPD,KAAM,wBAER,CACEC,MAAO,MACPD,KAAM,qCAER,CACEC,MAAO,MACPD,KAAM,oDAER,CACEC,MAAO,MACPD,KAAM,iCAER,CACEC,MAAO,MACPD,KAAM,8BAER,CACEC,MAAO,MACPD,KAAM,4BAER,CACEC,MAAO,MACPD,KAAM,0DAER,CACEC,MAAO,MACPD,KAAM,oDAER,CACEC,MAAO,MACPD,KAAM,qBAER,CACEC,MAAO,MACPD,KAAM,aAER,CACEC,MAAO,MACPD,KACE,6FAEJ,CACEC,MAAO,MACPD,KAAM,oCAER,CACEC,MAAO,MACPD,KAAM,4CAER,CACEC,MAAO,MACPD,KAAM,oDAER,CACEC,MAAO,MACPD,KACE,4FAEJ,CACEC,MAAO,MACPD,KAAM,iDAER,CACEC,MAAO,MACPD,KAAM,gBAGG2P,GAAY,CACvB,CACEC,OAAQ,EACR5P,KAAM,UACNC,MAAO,KAET,CACE2P,OAAQ,EACR5P,KAAM,qBACNC,MAAO,KAET,CACE2P,OAAQ,GACR5P,KAAM,sBACNC,MAAO,MAGE4P,GAAa,CACxB,CACE5P,MAAO,MACPD,KAAM,iBAER,CACEC,MAAO,MACPD,KAAM,QAER,CACEC,MAAO,MACPD,KAAM,oBAGG8P,GAAY,CACvB,CACE9P,KAAM,WACNC,MAAO,MAET,CACED,KAAM,oBACNC,MAAO,MAET,CACED,KAAM,yCACNC,MAAO,MAET,CACED,KAAM,wBACNC,MAAO,MAET,CACED,KAAM,0BACNC,MAAO,MAET,CACED,KAAM,wBACNC,MAAO,MAET,CACED,KAAM,oBACNC,MAAO,MA0CT,CACED,KAAM,uBACNC,MAAO,MAMT,CACED,KAAM,6BACNC,MAAO,MAMT,CACED,KAAM,cACNC,MAAO,OAGE8P,GAAa,CACxB,CACE9P,MAAO,MACPD,KAAM,uCAER,CACEC,MAAO,MACPD,KAAM,mCAGGgQ,GAAgB,CAC3B,CACEC,SAAS,EACTC,OAAO,EACPlQ,KAAM,kC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","file":"static/js/main.304d35f3.chunk.js","sourcesContent":["import { gql } from '@apollo/client';\n\nexport const CREAR_USUARIO = gql`\n\tmutation crearUsuario($input: CrearUsuarioInput) {\n\t\tcrearUsuario(input: $input) {\n\t\t\t_id\n\t\t\tnumero_usuario\n\t\t\tnombre\n\t\t\ttelefono\n\t\t\tcelular\n\t\t\temail\n\t\t\tturno_en_caja_activo\n\t\t\tdireccion {\n\t\t\t\tcalle\n\t\t\t\tno_ext\n\t\t\t\tno_int\n\t\t\t\tcodigo_postal\n\t\t\t\tcolonia\n\t\t\t\tmunicipio\n\t\t\t\tlocalidad\n\t\t\t\testado\n\t\t\t\tpais\n\t\t\t}\n\t\t\timagen\n\t\t\testado_usuario\n\t\t\tempresa {\n\t\t\t\t_id\n\t\t\t\tnombre_empresa\n\t\t\t\tcorreo_empresa\n\t\t\t\tnombre_dueno\n\t\t\t\ttelefono_dueno\n\t\t\t}\n\t\t\tsucursal {\n\t\t\t\t_id\n\t\t\t\tnombre_sucursal\n\t\t\t\tdescripcion\n\t\t\t}\n\t\t\taccesos {\n\t\t\t\tmi_empresa {\n\t\t\t\t\tdatos_empresa {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tinformacion_fiscal {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tcompras {\n\t\t\t\t\tabrir_compra {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tcompras_realizadas {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tcompras_espera {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\ttesoreria {\n\t\t\t\t\tcuentas_empresa {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tegresos {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tabonos_proveedores {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tabonos_clientes {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treportes {\n\t\t\t\t\treporte_historial_cajas {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\treporte_turnos {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\treporte_compras {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\treporte_ventas {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\trerporte_almacen {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\treporte_corte_caja {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\treporte_tesoreria {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tventas {\n\t\t\t\t\tcancelar_venta {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tprecios_productos {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tpre_corte {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tcotizaciones {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tadministrador {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\teliminar_ventas {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tproducto_rapido {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\talmacenes {\n\t\t\t\t\talmacen {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\ttraspasos {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tinventario_almacen {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tcatalogos {\n\t\t\t\t\tclientes {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tusuarios {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tmarcas {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tcontabilidad {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tprovedores {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tcajas {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tdepartamentos {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tcentro_costos {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tconceptos_almacen {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tcategorias {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tcolores {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tcolores {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\ttallas_numeros {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n`;\n\nexport const OBTENER_USUARIOS = gql`\n\tquery obtenerUsuarios($sucursal: String!, $filtro: String) {\n\t\tobtenerUsuarios(sucursal: $sucursal, filtro: $filtro) {\n\t\t\t_id\n\t\t\tnumero_usuario\n\t\t\tnombre\n\t\t\ttelefono\n\t\t\tcelular\n\t\t\tturno_en_caja_activo\n\t\t\temail\n\t\t\tdireccion {\n\t\t\t\tcalle\n\t\t\t\tno_ext\n\t\t\t\tno_int\n\t\t\t\tcodigo_postal\n\t\t\t\tcolonia\n\t\t\t\tmunicipio\n\t\t\t\tlocalidad\n\t\t\t\testado\n\t\t\t\tpais\n\t\t\t}\n\t\t\timagen\n\t\t\testado_usuario\n\t\t\tempresa {\n\t\t\t\t_id\n\t\t\t\tnombre_empresa\n\t\t\t\tcorreo_empresa\n\t\t\t\tnombre_dueno\n\t\t\t\ttelefono_dueno\n\t\t\t}\n\t\t\tsucursal {\n\t\t\t\t_id\n\t\t\t\tnombre_sucursal\n\t\t\t\tdescripcion\n\t\t\t}\n\t\t\taccesos {\n\t\t\t\tmi_empresa {\n\t\t\t\t\tdatos_empresa {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tinformacion_fiscal {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tcompras {\n\t\t\t\t\tabrir_compra {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tcompras_realizadas {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tcompras_espera {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\ttesoreria {\n\t\t\t\t\tcuentas_empresa {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tegresos {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tabonos_proveedores {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tabonos_clientes {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treportes {\n\t\t\t\t\treporte_historial_cajas {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\treporte_turnos {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\treporte_compras {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\treporte_ventas {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\trerporte_almacen {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\treporte_corte_caja {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\treporte_tesoreria {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tventas {\n\t\t\t\t\tcancelar_venta {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tprecios_productos {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tpre_corte {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tcotizaciones {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tadministrador {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\teliminar_ventas {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tproducto_rapido {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\talmacenes {\n\t\t\t\t\talmacen {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\ttraspasos {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tinventario_almacen {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tcatalogos {\n\t\t\t\t\tclientes {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tusuarios {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tmarcas {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tcontabilidad {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tprovedores {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tcajas {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tdepartamentos {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tcentro_costos {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tconceptos_almacen {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tcategorias {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tcolores {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\ttallas_numeros {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n`;\n\nexport const ACTUALIZAR_USUARIO = gql`\n\tmutation actualizarUsuario($input: ActualizarUsuarioInput, $id: ID!) {\n\t\tactualizarUsuario(id: $id, input: $input) {\n\t\t\tmessage\n\t\t}\n\t}\n`;\n\nexport const LOGEAR_USUARIO = gql`\n\tmutation logearUsuario($input: LogearUsuarioInput) {\n\t\tlogearUsuario(input: $input) {\n\t\t\ttoken\n\t\t}\n\t}\n`;\n\nexport const LOGEAR_USUARIO_ACCESOS = gql`\n\tquery ObtenerAccesoPermiso($input: ObtenerAccesoPermisosInput) {\n\t\tobtenerAccesoPermiso(input: $input) {\n\t\t\tpermiso_concedido\n\t\t\tdepartamento\n        \tsubDepartamento\n\t\t}\n\t}\t\t\n`;\n\nexport const AGIGNAR_PERMISOS_USUARIO = gql`\n\tmutation asignarAccesosUsuario($input: CrearArregloDeAccesosInput, $id: ID!) {\n\t\tasignarAccesosUsuario(id: $id, input: $input) {\n\t\t\tmessage\n\t\t}\n}\n`;\n","import { Box, makeStyles, Snackbar, Typography, Portal } from '@material-ui/core';\n/* import { Alert } from '@material-ui/lab'; */\nimport React from 'react';\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\nimport ErrorIcon from '@material-ui/icons/Error';\n\nconst useStyles = makeStyles((theme) => ({\n\tsnack: {\n\t\tzIndex: `${99999}!important`\n\t}\n}));\n\nexport default function SnackBarMessages({ alert, setAlert }) {\n\tconst classes = useStyles();\n\n\tconst handleClose = () => {\n\t\tsetAlert({ open: false, status: alert.status, message: '' });\n\t};\n\n\treturn (\n\t\t<Portal>\n\t\t\t<Snackbar\n\t\t\t\tclassName={classes.snack}\n\t\t\t\tanchorOrigin={{ vertical: 'top', horizontal: 'center' }}\n\t\t\t\topen={alert.open}\n\t\t\t\tonClose={handleClose}\n\t\t\t\tautoHideDuration={3000}\n\t\t\t\tmessage={\n\t\t\t\t\t<Box display=\"flex\">\n\t\t\t\t\t\t{alert.status === 'success' ? (\n\t\t\t\t\t\t\t<CheckCircleIcon style={{ color: '#22bb33' }} />\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<ErrorIcon style={{ color: 'red' }} />\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<Box mr={1} />\n\t\t\t\t\t\t<Typography>{alert.message}</Typography>\n\t\t\t\t\t</Box>\n\t\t\t\t}\n\t\t\t/>\n\t\t</Portal>\n\t);\n\t/* return (\n\t\t<Snackbar\n\t\t\tclassName={classes.snack}\n\t\t\tanchorOrigin={{ vertical: 'top', horizontal: 'center' }}\n\t\t\topen={alert.open}\n\t\t\tonClose={handleClose}\n\t\t\tautoHideDuration={2000}\n\t\t>\n\t\t\t<Alert onClose={handleClose} severity={alert.status}>\n\t\t\t\t{alert.message}\n\t\t\t</Alert>\n\t\t</Snackbar>\n\t); */\n}\n","import React, { useState } from 'react';\nimport { Box, Button, Container, TextField, Typography, CircularProgress } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useMutation } from '@apollo/client';\nimport { LOGEAR_USUARIO } from '../../gql/Catalogos/usuarios';\nimport SnackBarMessages from '../SnackBarMessages';\nimport jwt_decode from 'jwt-decode';\nimport { FormControl } from '@material-ui/core';\nimport { InputLabel } from '@material-ui/core';\nimport { OutlinedInput } from '@material-ui/core';\nimport { InputAdornment } from '@material-ui/core';\nimport { IconButton } from '@material-ui/core';\nimport Visibility from '@material-ui/icons/Visibility';\nimport VisibilityOff from '@material-ui/icons/VisibilityOff';\nimport ab from '../../img/abLogo.jpeg'\n\nconst useStyles = makeStyles((theme) => ({\n\tmargin: {\n\t\tmarginTop: theme.spacing(2),\n\t\tmarginBottom: theme.spacing(2)\n\t},\n\tcontainerImagen:{\n\t\tmaxWidth: 170,\n\t\tmaxHeight: 170\n\t},\n\timagen:{\n\t\twidth: '100%',\n\t\theight: '100%'\n\t}\n}));\n\nexport default function LayoutLogin(props) {\n\tconst classes = useStyles();\n\tconst sesion = localStorage.getItem('sesionCafi');\n\tconst [ datos, setDatos ] = useState([]);\n\tconst [ loading, setLoading ] = useState(false);\n\tconst [ alert, setAlert ] = useState({ message: '', status: '', open: false });\n\tconst [ showPassword, setShowPassword ] = useState(false);\n\n\tif (sesion) props.history.push('/ventas/venta-general');\n\n\tconst [ logearUsuario ] = useMutation(LOGEAR_USUARIO);\n\n\tconst signin = async (e) => {\n\t\te.preventDefault();\n\t\tif (!datos.numero_usuario || !datos.password) {\n\t\t\tsetAlert({ message: 'Los campos estan vacos', status: 'error', open: true });\n\t\t\treturn;\n\t\t}\n\t\tsetLoading(true);\n\n\t\ttry {\n\t\t\tconst result = await logearUsuario({\n\t\t\t\tvariables: {\n\t\t\t\t\tinput: datos\n\t\t\t\t}\n\t\t\t});\n\t\t\tconst { token } = result.data.logearUsuario;\n\t\t\tconst decoded = jwt_decode(token);\n\t\t\tsetLoading(false);\n\t\t\tlocalStorage.setItem('sesionCafi', JSON.stringify(decoded));\n\t\t\tlocalStorage.setItem('tokenCafi', JSON.stringify(token));\n\t\t\tprops.history.push('/ventas/venta-general');\n\t\t} catch (error) {\n\t\t\tsetAlert({ message: error.message, status: 'error', open: true });\n\t\t\tsetLoading(false);\n\t\t}\n\t};\n\n\tconst obtenerCampos = (e) => {\n\t\tif (e.target.name === 'numero_usuario') {\n\t\t\tsetDatos({\n\t\t\t\t...datos,\n\t\t\t\t[e.target.name]: parseInt(e.target.value)\n\t\t\t});\n\t\t} else {\n\t\t\tsetDatos({\n\t\t\t\t...datos,\n\t\t\t\t[e.target.name]: e.target.value\n\t\t\t});\n\t\t}\n\t};\n\n\tconst handleClickShowPassword = () => {\n\t\tsetShowPassword(!showPassword);\n\t};\n\n\tconst handleMouseDownPassword = (event) => {\n\t\tevent.preventDefault();\n\t};\n\n\treturn (\n\t\t<Container maxWidth=\"sm\">\n\t\t\t<SnackBarMessages alert={alert} setAlert={setAlert} />\n\t\t\t<Box height=\"100vh\" display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t<Box boxShadow=\"3\" p={3} width=\"80%\">\n\t\t\t\t\t<Box display='flex' justifyContent='center' alignItems='center' justifyItems='center' >\n\t\t\t\t\t\t<Box className={classes.containerImagen} textAlign='center'>\n\t\t\t\t\t\t\t<img className={classes.imagen} src={ab} alt=\"imagen no disponible\" />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box display='flex' textAlign='center' justifyContent='center'>\n\t\t\t\t\t\t<Typography variant=\"h4\" component=\"p\" className={classes.margin}>\n\t\t\t\t\t\t\t<b>Inicia sesin</b>\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<form autoComplete=\"off\" onSubmit={signin} >\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tlabel=\"Numero de usuario\"\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\tname=\"numero_usuario\"\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tclassName={classes.margin}\n\t\t\t\t\t\t\tonChange={obtenerCampos}\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t<FormControl variant=\"outlined\" name=\"password\" className={classes.margin} fullWidth>\n\t\t\t\t\t\t\t<InputLabel htmlFor=\"usuario-password\">Contrasea</InputLabel>\n\t\t\t\t\t\t\t<OutlinedInput\n\t\t\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\t\t\tid=\"usuario-password\"\n\t\t\t\t\t\t\t\ttype={showPassword ? 'text' : 'password'}\n\t\t\t\t\t\t\t\tonChange={obtenerCampos}\n\t\t\t\t\t\t\t\tendAdornment={\n\t\t\t\t\t\t\t\t\t<InputAdornment position=\"end\">\n\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\tonClick={handleClickShowPassword}\n\t\t\t\t\t\t\t\t\t\t\tonMouseDown={handleMouseDownPassword}\n\t\t\t\t\t\t\t\t\t\t\tedge=\"end\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{showPassword ? <Visibility /> : <VisibilityOff />}\n\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t</InputAdornment>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tlabelWidth={70}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tsize=\"large\"\n\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\tdisableElevation\n\t\t\t\t\t\t\tclassName={classes.margin}\n\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\tendIcon={loading ? <CircularProgress size={25} color=\"inherit\" /> : null}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tEntrar\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</form>\n\t\t\t\t</Box>\n\t\t\t</Box>\n\t\t</Container>\n\t);\n}\n","export const initial_state_datos_generales = {\n  receta_farmacia: false,\n  clave_producto_sat: {\n    Name: \"\",\n    Value: \"\",\n  },\n};\nexport const initial_state_precios = {\n  monedero: false,\n  monedero_electronico: 0,\n  iva_activo: true,\n  ieps_activo: false,\n  ieps: 0,\n  iva: 16,\n  granel: false,\n  inventario: {\n    inventario_minimo: 0,\n    inventario_maximo: 0,\n    unidad_de_inventario: \"Pz\",\n    codigo_unidad: \"H87\",\n  },\n  precio_de_compra: {\n    precio_con_impuesto: 0,\n    precio_sin_impuesto: 0,\n    iva: 0,\n    ieps: 0,\n  },\n  unidad_de_compra: {\n    unidad: \"Pz\",\n    codigo_unidad: \"H87\",\n    cantidad: 1,\n    precio_unitario_sin_impuesto: 0,\n    precio_unitario_con_impuesto: 0,\n  },\n};\n\nexport const initial_state_unidadVentaXDefecto = {\n  codigo_barras: \"\",\n  unidad: \"Pz\",\n  codigo_unidad: \"H87\",\n  cantidad: 1,\n  precio: 0,\n  precio_unidad: {\n    numero_precio: 0,\n    precio_neto: 0,\n    precio_venta: 0,\n    unidad_mayoreo: 0,\n    iva_precio: 0,\n    ieps_precio: 0,\n    utilidad: 0,\n    precio_general: 0,\n    cantidad_unidad: 0,\n    unidad_maxima: false\n  },\n  unidad_principal: true,\n  default: true,\n};\n\nexport const initial_state_preciosP = [\n  {\n    numero_precio: 1,\n    utilidad: 0,\n    precio_neto: 0,\n    unidad_mayoreo: 0,\n    precio_venta: 0,\n    iva_precio: 0,\n    ieps_precio: 0,\n  },\n  {\n    numero_precio: 2,\n    utilidad: 0,\n    precio_neto: 0,\n    unidad_mayoreo: 0,\n    precio_venta: 0,\n    iva_precio: 0,\n    ieps_precio: 0,\n  },\n  {\n    numero_precio: 3,\n    utilidad: 0,\n    precio_neto: 0,\n    unidad_mayoreo: 0,\n    precio_venta: 0,\n    iva_precio: 0,\n    ieps_precio: 0,\n  },\n  {\n    numero_precio: 4,\n    utilidad: 0,\n    precio_neto: 0,\n    unidad_mayoreo: 0,\n    precio_venta: 0,\n    iva_precio: 0,\n    ieps_precio: 0,\n  },\n  {\n    numero_precio: 5,\n    utilidad: 0,\n    precio_neto: 0,\n    unidad_mayoreo: 0,\n    precio_venta: 0,\n    iva_precio: 0,\n    ieps_precio: 0,\n  },\n  {\n    numero_precio: 6,\n    utilidad: 0,\n    precio_neto: 0,\n    unidad_mayoreo: 0,\n    precio_venta: 0,\n    iva_precio: 0,\n    ieps_precio: 0,\n  },\n];\n\nexport const initial_state_unidadesVenta = [];\n\nexport const initial_state_almacen_inicial = {\n  id_almacen: \"\",\n  almacen: \"\",\n  cantidad: 0,\n  fecha_de_expiracion: \"\",\n};\nexport const initial_state_centro_de_costos = {};\n\nexport const initial_state_preciosPlazos = {\n  precio_piezas: [],\n  precio_cajas: [],\n  precio_costales: [],\n};\n\nexport const initial_state_subcategorias = [];\nexport const initial_state_imagenes = [];\nexport const initial_state_imagenes_eliminadas = [];\nexport const initial_state_onPreview = { index: \"\", image: \"\" };\nexport const initial_state_validacion = { error: false, message: \"\" };\nexport const initial_state_subcostos = [];\nexport const initial_state_selectedDate = null;\nexport const initial_state_presentaciones = [];\n","import React, { createContext, useState } from \"react\";\nimport {\n  initial_state_datos_generales,\n  initial_state_precios,\n  initial_state_unidadVentaXDefecto,\n  initial_state_preciosP,\n  initial_state_unidadesVenta,\n  initial_state_almacen_inicial,\n  initial_state_centro_de_costos,\n  initial_state_preciosPlazos,\n  initial_state_subcategorias,\n  initial_state_imagenes,\n  initial_state_imagenes_eliminadas,\n  initial_state_onPreview,\n  initial_state_validacion,\n  initial_state_subcostos,\n  initial_state_selectedDate,\n  initial_state_presentaciones,\n} from \"./initialStatesProducto\";\n\nexport const RegProductoContext = createContext();\n\nexport const RegProductoProvider = ({ children }) => {\n  const [datos_generales, setDatosGenerales] = useState(\n    initial_state_datos_generales\n  );\n  const [precios, setPrecios] = useState(initial_state_precios);\n  const [unidadVentaXDefecto, setUnidadVentaXDefecto] = useState(\n    initial_state_unidadVentaXDefecto\n  );\n  const [preciosP, setPreciosP] = useState(initial_state_preciosP);\n  const [unidadesVenta, setUnidadesVenta] = useState(\n    initial_state_unidadesVenta\n  );\n  const [almacen_inicial, setAlmacenInicial] = useState(\n    initial_state_almacen_inicial\n  );\n  const [centro_de_costos, setCentroDeCostos] = useState(\n    initial_state_centro_de_costos\n  );\n  const [preciosPlazos, setPreciosPlazos] = useState(\n    initial_state_preciosPlazos\n  );\n  const [subcategorias, setSubcategorias] = useState(\n    initial_state_subcategorias\n  );\n  const [imagenes, setImagenes] = useState(initial_state_imagenes);\n  const [imagenes_eliminadas, setImagenesEliminadas] = useState(\n    initial_state_imagenes_eliminadas\n  );\n  const [onPreview, setOnPreview] = useState(initial_state_onPreview);\n  const [validacion, setValidacion] = useState(initial_state_validacion);\n  const [subcostos, setSubcostos] = useState(initial_state_subcostos);\n  const [selectedDate, setSelectedDate] = useState(initial_state_selectedDate);\n  const [update, setUpdate] = useState(false);\n  const [presentaciones, setPresentaciones] = useState(\n    initial_state_presentaciones\n  );\n  const [presentaciones_eliminadas, setPresentacionesEliminadas] = useState([]);\n  const [actualizarLista, setActualizarLista] = React.useState(false);\n  const [alert, setAlert] = useState({ message: \"\", status: \"\", open: false });\n\n  // USESTATES DE DESCUENTOS DE PRODUCTOS\n  const [ datosPreciosProducto, setDatosPreciosProducto ] = useState([]);\n  const [ preciosDescuentos, setPreciosDescuentos] = useState([]);\n  const [ preciosProductos, setPreciosProductos ] = useState([]);\n  const [ datosEnDescuentos, setDatosEnDescuentos ] = useState([]);\n  const [ almacen_existente, setAlmacenExistente] = useState(false);\n\n  return (\n    <RegProductoContext.Provider\n      value={{\n        datos_generales,\n        setDatosGenerales,\n        precios,\n        setPrecios,\n        almacen_inicial,\n        setAlmacenInicial,\n        imagenes,\n        setImagenes,\n        imagenes_eliminadas,\n        setImagenesEliminadas,\n        onPreview,\n        setOnPreview,\n        validacion,\n        setValidacion,\n        preciosP,\n        setPreciosP,\n        preciosPlazos,\n        setPreciosPlazos,\n        unidadesVenta,\n        setUnidadesVenta,\n        centro_de_costos,\n        setCentroDeCostos,\n        unidadVentaXDefecto,\n        setUnidadVentaXDefecto,\n        subcategorias,\n        setSubcategorias,\n        subcostos,\n        setSubcostos,\n        selectedDate,\n        setSelectedDate,\n        update,\n        setUpdate,\n        presentaciones,\n        setPresentaciones,\n        presentaciones_eliminadas,\n        setPresentacionesEliminadas,\n        actualizarLista,\n        setActualizarLista,\n        alert,\n        setAlert,\n\n        datosPreciosProducto, \n        setDatosPreciosProducto,\n        preciosDescuentos, \n        setPreciosDescuentos,\n        preciosProductos, \n        setPreciosProductos,\n        datosEnDescuentos, \n        setDatosEnDescuentos,\n        almacen_existente, \n        setAlmacenExistente\n      }}\n    >\n      {children}\n    </RegProductoContext.Provider>\n  );\n};\n","import React, { createContext, useState } from 'react';\n\nexport const EmpresaContext = createContext();\n\nexport const EmpresaProvider = ({ children }) => {\n   \n\tconst [ empresa, setEmpresa ] = useState({\n\t\tnombre_empresa:'',\n        nombre_dueno:'',\n\t\ttelefono_dueno:'',\n\t\tcelular:'',\n\t\tcorreo_empresa:'',\n        nombre_fiscal:'',\n        rfc:'',\n        regimen_fiscal:'',\n        curp:'',\n        info_adicio:'',\n\t\tdireccion: {\n\t\t\tcalle: '',\n\t\t\tno_ext: '',\n\t\t\tno_int: '',\n\t\t\tcodigo_postal: '',\n\t\t\tcolonia: '',\n\t\t\tmunicipio: '',\n\t\t\tlocalidad: '',\n\t\t\testado: '',\n\t\t\tpais: ''\n\t\t},\n        direccionFiscal: {\n            calle: '',\n\t\t\tno_ext: '',\n\t\t\tno_int: '',\n\t\t\tcodigo_postal: '',\n\t\t\tcolonia: '',\n\t\t\tmunicipio: '',\n\t\t\tlocalidad: '',\n\t\t\testado: '',\n\t\t\tpais: ''\n        },\n        datosBancarios:{\n            cuenta: '',\n            sucursal: '',\n            clave_banco: ''\n        },\n\t\timagen: null\n\t});\n\tconst [ toUpdate, setToUpdate ] = useState(false);\n\tconst [ error, setError ] = useState({error: false, message: ''});\n\tconst [ update, setUpdate ] = useState(false);\n\n\treturn (\n\t\t<EmpresaContext.Provider\n\t\t\tvalue={{\n\t\t\t\tempresa,\n\t\t\t\tsetEmpresa,\n\t\t\t\ttoUpdate,\n\t\t\t\tsetToUpdate,\n\t\t\t\terror,\n\t\t\t\tsetError,\n\t\t\t\tupdate,\n\t\t\t\tsetUpdate\n\t\t\t}}\n\t\t>\n\t\t\t{children}\n\t\t</EmpresaContext.Provider>\n\t);\n};","import React from 'react';\nimport Backdrop from '@material-ui/core/Backdrop';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles((theme) => ({\n  backdrop: {\n    zIndex: theme.zIndex.drawer + 1,\n    color: '#fff',\n    backgroundColor: \"rgba(0, 0, 0, 0.3)\"\n  },\n}));\n\nexport default function BackdropComponent({loading, setLoading}) {\n  const classes = useStyles();\n\n  /* const handleClose = () => {\n    setLoading(false);\n  }; */\n\n  return (\n    <div>\n      <Backdrop className={classes.backdrop} open={loading} /* onClick={handleClose} */>\n        <CircularProgress color=\"inherit\" />\n      </Backdrop>\n    </div>\n  );\n}\n","import React from 'react';\nimport ErrorOutlineIcon from '@material-ui/icons/ErrorOutline';\nimport { Box, Typography } from '@material-ui/core';\n\nexport default function ErrorPage({ error, altura}) {\n\tlet height = altura\n\tif(!height) height = 400;\n\treturn (\n\t\t<Box display=\"flex\" flexDirection=\"column\" justifyContent=\"center\" alignItems=\"center\" height={height}>\n\t\t\t<ErrorOutlineIcon style={{ fontSize: 100, color: 'rgba(17,85,204, 0.7)' }} />\n\t\t\t<Typography align=\"center\" style={{ fontSize: 18, color: 'rgba(17,85,204)' }}>\n\t\t\t\tHubo un problema\n\t\t\t</Typography>\n\t\t</Box>\n\t);\n}\n","import { gql } from \"@apollo/client\";\nexport const OBTENER_DATOS_EMPRESA = gql`\n  query obtenerEmpresa($id: ID!) {\n    obtenerEmpresa(id: $id) {\n      _id\n      nombre_empresa\n      nombre_dueno\n      telefono_dueno\n      celular\n      correo_empresa\n      limite_timbres\n      timbres_usados\n      sello_sat\n      nombre_cer\n      nombre_key\n      imagen\n      nombre_fiscal\n      rfc\n      regimen_fiscal\n      curp\n      info_adicio\n      direccion {\n        calle\n        no_ext\n        no_int\n        codigo_postal\n        colonia\n        municipio\n        localidad\n        estado\n        pais\n      }\n      direccionFiscal {\n        calle\n        no_ext\n        no_int\n        codigo_postal\n        colonia\n        municipio\n        localidad\n        estado\n        pais\n      }\n      cuenta_empresa{\n        dinero_actual\n      }\n      datosBancarios {\n        cuenta\n        sucursal\n        clave_banco\n      }\n    }\n  }\n`;\n\nexport const ACTUALIZAR_EMPRESA = gql`\n  mutation actualizarEmpresa($id: ID!, $input: EditarEmpresa) {\n    actualizarEmpresa(id: $id, input: $input) {\n      _id\n      nombre_empresa\n      nombre_dueno\n      telefono_dueno\n      celular\n      correo_empresa\n      limite_timbres\n      timbres_usados\n      sello_sat\n      nombre_cer\n      nombre_key\n      imagen\n      nombre_fiscal\n      rfc\n      regimen_fiscal\n      curp\n      info_adicio\n      direccion {\n        calle\n        no_ext\n        no_int\n        codigo_postal\n        colonia\n        municipio\n        localidad\n        estado\n        pais\n      }\n      direccionFiscal {\n        calle\n        no_ext\n        no_int\n        codigo_postal\n        colonia\n        municipio\n        localidad\n        estado\n        pais\n      }\n      datosBancarios {\n        cuenta\n        sucursal\n        clave_banco\n      }\n    }\n  }\n`;\n","export const numerosRandom = (min, max) => {\n  return Math.floor(Math.random() * (max - min + 1) + min);\n};\n\nexport const generateCode = (length) => {\n  var result = \"\";\n  var characters =\n    \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\n  var charactersLength = characters.length;\n  for (var i = 0; i < length; i++) {\n    result += characters.charAt(Math.floor(Math.random() * charactersLength));\n  }\n  return result;\n};\n\nexport const formatoHora = (hora) => {\n  if (!hora) {\n    return null;\n  } else {\n    var newtime = new Date(hora);\n    return newtime.toLocaleTimeString(\"en-US\", { hour12: \"false\" });\n  }\n};\n\nexport const formatoFecha = (fecha) => {\n  if (!fecha) {\n    return null;\n  } else {\n    var newdate = new Date(fecha);\n    return newdate.toLocaleDateString(\"es-MX\", {\n      weekday: \"long\",\n      year: \"numeric\",\n      month: \"long\",\n      day: \"numeric\",\n    });\n  }\n};\n\nexport const formatoFechaCorta = (fecha) => {\n  if (!fecha) {\n    return null;\n  } else {\n    var newdate = new Date(fecha);\n    return newdate.toLocaleDateString(\"es-MX\", {\n      weekday: \"short\",\n      year: \"numeric\",\n      month: \"short\",\n      day: \"numeric\",\n    });\n  }\n};\n\nexport const formatoMexico = (number) => {\n  if (!number) {\n    return null;\n  } else {\n    let nueva;\n    if (number % 1 === 0) {\n      nueva = number;\n    } else {\n      nueva = parseFloat(number).toFixed(2);\n    }\n    const exp = /(\\d)(?=(\\d{3})+(?!\\d))/g;\n    const rep = \"$1,\";\n    return nueva.toString().replace(exp, rep);\n  }\n};\n\nexport const cleanTypenames = (value) => {\n  if (Array.isArray(value)) {\n    return value.map(cleanTypenames);\n  } else if (value !== null && typeof value === \"object\") {\n    const newObject = {};\n    for (const property in value)\n      if (property !== \"__typename\")\n        newObject[property] = cleanTypenames(value[property]);\n    return newObject;\n  } else {\n    return value;\n  }\n};\n\nexport const findProductArray = async (producto) => {\n  try {\n    let venta = JSON.parse(localStorage.getItem(\"DatosVentas\"));\n    let productosVentas = venta === null ? [] : venta.productos;\n    let found = false;\n    let producto_found = {\n      producto: {},\n      index: 0,\n    };\n\n    for (let i = 0; i < productosVentas.length; i++) {\n      if (typeof productosVentas[i].codigo_barras !== \"undefined\") {\n        if (productosVentas[i].codigo_barras === producto.codigo_barras) {\n          producto_found = {\n            producto: productosVentas[i],\n            index: i,\n          };\n          found = true;\n          return {\n            producto_found,\n            found,\n          };\n        }\n      } else {\n        if (\n          productosVentas[i].id_producto.datos_generales.clave_alterna ===\n          producto.id_producto.datos_generales.clave_alterna\n        ) {\n          producto_found = {\n            producto: productosVentas[i],\n            index: i,\n          };\n          found = true;\n          return {\n            producto_found,\n            found,\n          };\n        }\n      }\n    }\n\n    return {\n      producto_found,\n      found,\n    };\n  } catch (error) {\n    console.log(error);\n    return false;\n  }\n};\n\nexport const calculatePrices = async (\n  newP,\n  cantidad,\n  granel,\n  newPrising = 0\n) => {\n  let subtotalCalculo = 0,\n    totalCalculo = 0,\n    impuestoCalculo = 0,\n    ivaCalculo = 0,\n    iepsCalculo = 0,\n    descuentoCalculo = 0,\n    monederoCalculo = 0;\n  // console.log(\"newPrising\",newPrising);\n  const cantidadNueva = cantidad > 0 ? cantidad : 1;\n  console.log(newP.id_producto.precios.precios_producto[0].precio_venta);\n  // console.log(newP);\n  const iva_producto =\n    parseFloat(newP.id_producto.precios.precios_producto[0].precio_venta) *\n    parseFloat(\n      `0.${\n        newP.id_producto.precios.iva < 9\n          ? `0${newP.id_producto.precios.iva}`\n          : newP.id_producto.precios.iva\n      }`\n    );\n\n  const ieps_producto =\n    parseFloat(newP.id_producto.precios.precios_producto[0].precio_venta) *\n    parseFloat(\n      `0.${\n        newP.id_producto.precios.ieps < 9\n          ? `0${newP.id_producto.precios.ieps}`\n          : newP.id_producto.precios.ieps\n      }`\n    );\n\n  const precioProducto = newPrising;\n  // const precioDescuentoProducto = newP.descuento_activo ? parseFloat(newP.descuento.precio_con_descuento) : 0;\n\n  totalCalculo =\n    granel.granel === true\n      ? precioProducto * cantidadNueva * parseFloat(granel.valor)\n      : precioProducto * cantidadNueva;\n\n  subtotalCalculo =\n    granel.granel === true\n      ? (precioProducto - (iva_producto + ieps_producto)) *\n        cantidadNueva *\n        parseFloat(granel.valor)\n      : (precioProducto - (iva_producto + ieps_producto)) * cantidadNueva;\n\n  impuestoCalculo =\n    granel.granel === true\n      ? (iva_producto + ieps_producto) *\n        cantidadNueva *\n        parseFloat(granel.valor)\n      : (iva_producto + ieps_producto) * cantidadNueva;\n\n  console.log(cantidadNueva);\n\n  ivaCalculo =\n    granel.granel === true\n      ? iva_producto * cantidadNueva * parseFloat(granel.valor)\n      : iva_producto * cantidadNueva;\n\n  iepsCalculo =\n    granel.granel === true\n      ? ieps_producto * cantidadNueva * parseFloat(granel.valor)\n      : ieps_producto * cantidadNueva;\n\n  descuentoCalculo =\n    granel.granel === true\n      ? newP.descuento_activo === true\n        ? parseFloat(newP.descuento.dinero_descontado) *\n          cantidadNueva *\n          parseFloat(granel.valor)\n        : 0\n      : newP.descuento_activo === true\n      ? parseFloat(newP.descuento.dinero_descontado) * cantidadNueva\n      : 0;\n\n  monederoCalculo = newP.id_producto.precios.monedero\n    ? newP.id_producto.precios.monedero_electronico * cantidadNueva\n    : 0;\n\n  return {\n    totalCalculo,\n    subtotalCalculo,\n    impuestoCalculo,\n    ivaCalculo,\n    iepsCalculo,\n    descuentoCalculo,\n    monederoCalculo,\n  };\n};\n\nexport const calculatePrices2 = async ({ newP, cantidad, granel, origen, precio_boolean = false, precio}) => {\n  try {\n    let subtotalCalculo = 0,\n      totalCalculo = 0,\n      impuestoCalculo = 0,\n      ivaCalculo = 0,\n      iepsCalculo = 0,\n      descuentoCalculo = 0,\n      monederoCalculo = 0;\n    // const descuento = newP.descuento_activo === null ? false : true;\n    const cantidadNueva = cantidad > 0 ? cantidad : 1;\n    const valor_granel = granel.granel ? granel.valor : 1;\n    const precio_actual = precio_boolean ? precio : newP.descuento_activo ? newP.descuento : newP.precio_unidad;\n    const cantidadCaja =\n    precio_actual.unidad_maxima === true\n      ? precio_actual.cantidad_unidads\n      : 1;\n    ivaCalculo = precio_actual.iva_precio * cantidadCaja;\n    iepsCalculo = precio_actual.ieps_precio * cantidadCaja;\n    impuestoCalculo = ivaCalculo + iepsCalculo;\n    subtotalCalculo = precio_actual.precio_venta * cantidadCaja;\n    totalCalculo = precio_actual.precio_neto * cantidadCaja;\n    monederoCalculo = newP.id_producto.precios.monedero\n      ? newP.id_producto.precios.monedero_electronico * cantidadCaja\n      : 0;\n    descuentoCalculo = totalCalculo - newP.precio_unidad.precio_neto;\n    const ob = {\n      ivaCalculo: parseFloat((ivaCalculo * valor_granel * cantidadNueva).toFixed(2)),\n      iepsCalculo: parseFloat((iepsCalculo * valor_granel * cantidadNueva).toFixed(2)) ,\n      impuestoCalculo: parseFloat((impuestoCalculo * valor_granel * cantidadNueva).toFixed(2)) ,\n      subtotalCalculo: parseFloat((subtotalCalculo * valor_granel * cantidadNueva).toFixed(2)) ,\n      totalCalculo: parseFloat((totalCalculo * valor_granel * cantidadNueva).toFixed(2)) ,\n      monederoCalculo: parseFloat((monederoCalculo * valor_granel * cantidadNueva).toFixed(2)) ,\n      descuentoCalculo: parseFloat((descuentoCalculo * valor_granel * cantidadNueva).toFixed(2)) ,\n      newP\n    };\n    if(origen === \"Ventas1\"){\n      newP.cantidad_venta = 1;\n      newP.granel_producto  = granel;\n      newP.precio_a_vender = ob.totalCalculo;\n      newP.precio_actual_producto = parseFloat((precio_actual.precio_neto).toFixed(2));\n      newP.precio_actual_object = {\n        cantidad_unidad: precio_actual.cantidad_unidad ? precio_actual.cantidad_unidad : null,\n        numero_precio: precio_actual.numero_precio ? precio_actual.numero_precio : null,\n        unidad_maxima: precio_actual.unidad_maxima ? precio_actual.unidad_maxima : null,\n        precio_general: precio_actual.precio_general ? precio_actual.precio_general : null,\n        precio_neto: precio_actual.precio_neto ? precio_actual.precio_neto : null,\n        precio_venta: precio_actual.precio_venta ? precio_actual.precio_venta : null,\n        iva_precio: precio_actual.iva_precio ? precio_actual.iva_precio : null,\n        ieps_precio: precio_actual.ieps_precio ? precio_actual.ieps_precio : null,\n        utilidad: precio_actual.utilidad ? precio_actual.utilidad : null,\n        porciento: precio_actual.porciento ? precio_actual.porciento : null,\n        dinero_descontado: precio_actual.dinero_descontado ? precio_actual.dinero_descontado : null,\n      };\n    }else if(origen === \"Ventas2\") {\n      newP.granel_producto = granel;\n      newP.precio_a_vender = ob.totalCalculo;\n      newP.precio_anterior = newP.precio_actual_producto;\n    }\n\n    return ob;\n\n  } catch (error) {\n    return false;\n  }\n};\n\nexport const verifiPrising = async (newP) => {\n  try {\n    if (!newP) return false;\n    const amount = newP.cantidad_venta;\n    const pricings = newP.id_producto.precios.precios_producto.filter(\n      (p) => p.unidad_mayoreo > 0 && p.precio_neto > 0\n    );\n\n    let finalPrising = {\n      found: false,\n      pricing: 0,\n      number_pricing: 0,\n      object_prising: {}\n    };\n    const datoFinal = pricings.length;\n    if (newP.precio_seleccionado) return finalPrising;\n    //CONIDICONAR SI EL PRECIO ES MENOR Y MENOR PERO QUE NO SEA MAYOR AL SEGUNDO\n    if (amount < newP.id_producto.precios.precios_producto[1].unidad_mayoreo)\n      return (finalPrising = {\n        found: true,\n        pricing: newP.descuento_activo\n          ? newP.descuento.precio_neto\n          : newP.id_producto.precios.precios_producto[0].precio_neto,\n        number_pricing:\n          newP.id_producto.precios.precios_producto[0].numero_precio,\n        object_prising: newP.descuento_activo ? newP.descuento : newP.id_producto.precios.precios_producto[0]\n      });\n\n    for (let i = 0; i < pricings.length; i++) {\n      if (i + 1 === datoFinal && amount >= pricings[i].unidad_mayoreo)\n        return (finalPrising = {\n          found: true,\n          pricing: pricings[i].precio_neto,\n          number_pricing: pricings[i].numero_precio,\n          object_prising: pricings[i]\n        });\n\n      if (\n        i + 1 < datoFinal &&\n        amount >= pricings[i].unidad_mayoreo &&\n        amount < pricings[i + 1].unidad_mayoreo\n      ) {\n        finalPrising = {\n          found: true,\n          pricing: pricings[i].precio_neto,\n          number_pricing: pricings[i].numero_precio,\n          object_prising: pricings[i]\n        };\n      }\n    }\n    return finalPrising;\n  } catch (error) {\n    console.log(error);\n    return false;\n  }\n};\n\nexport function formatCurrency(number) {\n  var formatted = new Intl.NumberFormat(\"en-US\", {\n    style: \"currency\",\n    currency: \"USD\",\n    minimumFractionDigits: 2,\n  }).format(number);\n  console.log(formatted);\n  return formatted;\n}\n\nexport const findProductArrayRefactor = async (producto) => {\n  try {\n    let venta = JSON.parse(localStorage.getItem(\"DatosVentas\"));\n    let productosVentas = venta === null ? [] : venta.productos;\n    //Declarar variables\n    let found = false;\n    let producto_found = {\n      producto: {},\n      index: 0,\n    };\n    //Se recorren los productos\n    for (let i = 0; i < productosVentas.length; i++) {\n      //Se verifica si tiene codigo de barras ya que no es obligatorio\n      if (typeof productosVentas[i].codigo_barras !== \"undefined\") {\n        if (productosVentas[i].codigo_barras === producto.codigo_barras) {\n          return {\n            producto_found: {\n              producto: productosVentas[i],\n              index: i,\n            },\n            found: true,\n          };\n        }\n      } else {\n        if (\n          productosVentas[i].id_producto.datos_generales.clave_alterna ===\n          producto.id_producto.datos_generales.clave_alterna\n        ) {\n          return {\n            producto_found: {\n              producto: productosVentas[i],\n              index: i,\n            },\n            found: true,\n          };\n        }\n      }\n    }\n\n    return {\n      producto_found,\n      found,\n    };\n  } catch (error) {\n    console.log(error);\n    return false;\n  }\n};\n","import moment from \"moment\";\n\nexport const usosCfdi = [\n  {\n    Value: \"G01\",\n    Name: \"Adquisicin de mercancas\",\n  },\n  {\n    Value: \"G02\",\n    Name: \"Devoluciones, descuentos o bonificaciones\",\n  },\n  {\n    Value: \"G03\",\n    Name: \"Gastos en general\",\n  },\n  {\n    Value: \"I01\",\n    Name: \"Construcciones\",\n  },\n  {\n    Value: \"I02\",\n    Name: \"Mobiliario y equipo de oficina por inversiones\",\n  },\n  {\n    Value: \"I03\",\n    Name: \"Equipo de transporte\",\n  },\n  {\n    Value: \"I04\",\n    Name: \"Equipo de cmputo y accesorios\",\n  },\n  {\n    Value: \"I05\",\n    Name: \"Dados, troqueles, moldes, matrices y herramental\",\n  },\n  {\n    Value: \"I06\",\n    Name: \"Comunicaciones telefnicas\",\n  },\n  {\n    Value: \"I07\",\n    Name: \"Comunicaciones satelitales\",\n  },\n  {\n    Value: \"I08\",\n    Name: \"Otra maquinaria y equipo\",\n  },\n  {\n    Value: \"D01\",\n    Name: \"Honorarios mdicos, dentales y gastos hospitalarios\",\n  },\n  {\n    Value: \"D02\",\n    Name: \"Gastos mdicos por incapacidad o discapacidad\",\n  },\n  {\n    Value: \"D03\",\n    Name: \"Gastos funerales.\",\n  },\n  {\n    Value: \"D04\",\n    Name: \"Donativos\",\n  },\n  {\n    Value: \"D05\",\n    Name:\n      \"Intereses reales efectivamente pagados por crditos hipotecarios (casa habitacin).\",\n  },\n  {\n    Value: \"D06\",\n    Name: \"Aportaciones voluntarias al SAR.\",\n  },\n  {\n    Value: \"D07\",\n    Name: \"Primas por seguros de gastos mdicos.\",\n  },\n  {\n    Value: \"D08\",\n    Name: \"Gastos de transportacin escolar obligatoria.\",\n  },\n  {\n    Value: \"D09\",\n    Name:\n      \"Depsitos en cuentas para el ahorro, primas que tengan como base planes de pensiones.\",\n  },\n  {\n    Value: \"D10\",\n    Name: \"Pagos por servicios educativos (colegiaturas)\",\n  },\n  {\n    Value: \"P01\",\n    Name: \"Por definir\",\n  },\n];\nexport const tiposCfdi = [\n  {\n    NameId: 1,\n    Name: \"Factura\",\n    Value: \"I\",\n  },\n  {\n    NameId: 2,\n    Name: \"Nota de Crdito\",\n    Value: \"E\",\n  },\n  {\n    NameId: 14,\n    Name: \"Complemento de pago\",\n    Value: \"P\",\n  },\n];\nexport const tipoCambio = [\n  {\n    Value: \"MXN\",\n    Name: \"Peso Mexicano\",\n  },\n  {\n    Value: \"EUR\",\n    Name: \"Euro\",\n  },\n  {\n    Value: \"USD\",\n    Name: \"Dolar Americano\",\n  },\n];\nexport const formaPago = [\n  {\n    Name: \"Efectivo\",\n    Value: \"01\",\n  },\n  {\n    Name: \"Cheque nominativo\",\n    Value: \"02\",\n  },\n  {\n    Name: \"Transferencia electrnica de fondos\",\n    Value: \"03\",\n  },\n  {\n    Name: \"Tarjeta de crdito\",\n    Value: \"04\",\n  },\n  {\n    Name: \"Monedero electrnico\",\n    Value: \"05\",\n  },\n  {\n    Name: \"Dinero electrnico\",\n    Value: \"06\",\n  },\n  {\n    Name: \"Vales de despensa\",\n    Value: \"08\",\n  },\n  /* {\n        Name: \"Dacin en pago\",\n        Value: \"12\"\n    },\n    {\n        Name: \"Pago por subrogacin\",\n        Value: \"13\"\n    },\n    {\n        Name: \"Pago por consignacin\",\n        Value: \"14\"\n    },\n    {\n        Name: \"Condonacin\",\n        Value: \"15\"\n    },\n    {\n        Name: \"Compensacin\",\n        Value: \"17\"\n    },\n    {\n        Name: \"Novacin\",\n        Value: \"23\"\n    },\n    {\n        Name: \"Confusin\",\n        Value: \"24\"\n    },\n    {\n        Name: \"Remisin de deuda\",\n        Value: \"25\"\n    },\n    {\n        Name: \"Prescripcin o caducidad\",\n        Value: \"26\"\n    },\n    {\n        Name: \"A satisfaccin del acreedor\",\n        Value: \"27\"\n    }, */\n  {\n    Name: \"Tarjeta de dbito\",\n    Value: \"28\",\n  },\n  /* {\n        Name: \"Tarjeta de servicios\",\n        Value: \"29\"\n    }, */\n  {\n    Name: \"Aplicacin de anticipos\",\n    Value: \"30\",\n  },\n  /* {\n        Name: \"Intermediarios\",\n        Value: \"31\"\n    }, */\n  {\n    Name: \"Por definir\",\n    Value: \"99\",\n  },\n];\nexport const metodoPago = [\n  {\n    Value: \"PPD\",\n    Name: \"Pago en parcialidades  diferido\",\n  },\n  {\n    Value: \"PUE\",\n    Name: \"Pago en una sola exhibicin\",\n  },\n];\nexport const regimenFiscal = [\n  {\n    Natural: false,\n    Moral: true,\n    Name: \"General de Ley Personas Morales\",\n    Value: \"601\",\n  },\n  {\n    Natural: false,\n    Moral: true,\n    Name: \"Personas Morales con Fines no Lucrativos\",\n    Value: \"603\",\n  },\n  {\n    Natural: true,\n    Moral: false,\n    Name: \"Sueldos y Salarios e Ingresos Asimilados a Salarios\",\n    Value: \"605\",\n  },\n  {\n    Natural: true,\n    Moral: false,\n    Name: \"Arrendamiento\",\n    Value: \"606\",\n  },\n  {\n    Natural: false,\n    Moral: true,\n    Name: \"Rgimen de Enajenacin o Adquisicin de Bienes\",\n    Value: \"607\",\n  },\n  {\n    Natural: true,\n    Moral: false,\n    Name: \"Dems ingresos\",\n    Value: \"608\",\n  },\n  {\n    Natural: true,\n    Moral: true,\n    Name:\n      \"Residentes en el Extranjero sin Establecimiento Permanente en Mxico\",\n    Value: \"610\",\n  },\n  {\n    Natural: true,\n    Moral: false,\n    Name: \"Ingresos por Dividendos (socios y accionistas)\",\n    Value: \"611\",\n  },\n  {\n    Natural: true,\n    Moral: false,\n    Name: \"Personas Fsicas con Actividades Empresariales y Profesionales\",\n    Value: \"612\",\n  },\n  {\n    Natural: true,\n    Moral: false,\n    Name: \"Ingresos por intereses\",\n    Value: \"614\",\n  },\n  {\n    Natural: true,\n    Moral: false,\n    Name: \"Rgimen de los ingresos por obtencin de premios\",\n    Value: \"615\",\n  },\n  {\n    Natural: true,\n    Moral: false,\n    Name: \"Sin obligaciones fiscales\",\n    Value: \"616\",\n  },\n  {\n    Natural: false,\n    Moral: true,\n    Name:\n      \"Sociedades Cooperativas de Produccin que optan por diferir sus ingresos\",\n    Value: \"620\",\n  },\n  {\n    Natural: true,\n    Moral: false,\n    Name: \"Incorporacin Fiscal\",\n    Value: \"621\",\n  },\n  {\n    Natural: true,\n    Moral: true,\n    Name: \"Actividades Agrcolas, Ganaderas, Silvcolas y Pesqueras\",\n    Value: \"622\",\n  },\n  {\n    Natural: false,\n    Moral: true,\n    Name: \"Opcional para Grupos de Sociedades\",\n    Value: \"623\",\n  },\n  {\n    Natural: false,\n    Moral: true,\n    Name: \"Coordinados\",\n    Value: \"624\",\n  },\n  {\n    Natural: true,\n    Moral: false,\n    Name:\n      \"Rgimen de las Actividades Empresariales con ingresos a travs de Plataformas Tecnolgicas\",\n    Value: \"625\",\n  },\n  {\n    Natural: false,\n    Moral: true,\n    Name: \"Hidrocarburos\",\n    Value: \"628\",\n  },\n  {\n    Natural: true,\n    Moral: false,\n    Name:\n      \"De los Regmenes Fiscales Preferentes y de las Empresas Multinacionales\",\n    Value: \"629\",\n  },\n  {\n    Natural: true,\n    Moral: false,\n    Name: \"Enajenacin de acciones en bolsa de valores\",\n    Value: \"630\",\n  },\n];\n\n","import { gql } from \"@apollo/client\";\n\nexport const CREAR_FACTURA = gql`\n  mutation crearFactura($input: CrearFacturaInput) {\n    crearFactura(input: $input) {\n      message\n      success\n      pdf\n      xml\n    }\n  }\n`;\n\nexport const CREAR_SERIE = gql`\n  mutation crearSerieCFDI($input: CrearSerieCfdiInput!) {\n    crearSerieCFDI(input: $input) {\n      message\n      success\n    }\n  }\n`;\n\nexport const ACTUALIZAR_DEFAULT_SERIE = gql`\n  mutation modificarDefaultSerie($id: ID!, $empresa: ID!, $sucursal: ID!) {\n    modificarDefaultSerie(id: $id, empresa: $empresa, sucursal: $sucursal) {\n      message\n    }\n  }\n`;\n\nexport const ELIMINAR_SERIE = gql`\n  mutation eliminarSerie($id: ID!) {\n    eliminarSerie(id: $id) {\n      message\n    }\n  }\n`;\n\nexport const OBTENER_SERIES = gql`\n  query obtenerSeriesCdfi($empresa: ID!, $sucursal: ID!) {\n    obtenerSeriesCdfi(empresa: $empresa, sucursal: $sucursal) {\n      message\n      success\n      seriesCfdi {\n        _id\n        serie\n        folio\n        default\n      }\n    }\n  }\n`;\n\nexport const CREAR_SELLO_CFDI = gql`\n  mutation crearCSDS($input: CrearCSDSInput!) {\n    crearCSDS(input: $input) {\n      message\n      success\n    }\n  }\n`;\n\nexport const ELIMINAR_SELLO_CFDI = gql`\n  mutation eliminarCSD($rfc: String, $empresa: ID!) {\n    eliminarCSD(rfc: $rfc, empresa: $empresa) {\n      message\n    }\n  }\n`;\n\nexport const CONSULTA_CATALOGOS_SAT_API = gql`\n  query obtenerCatalogosSAT($input: CrearFacturaInput!) {\n    obtenerCatalogosSAT(input: $input) {\n      message\n      currencies {\n        Decimals\n        PrecisionRate\n        Name\n        Value\n      }\n      paymentForms {\n        Name\n        Value\n      }\n      paymentMethods {\n        Name\n        Value\n      }\n      fiscalRegimens {\n        Natural\n        Moral\n        Name\n        Value\n      }\n      cfdiTypes {\n        NameId\n        Name\n        Value\n      }\n    }\n  }\n`;\n\nexport const CONSULTA_PRODUCTOS_SERVICIOS_SAT_API = gql`\n  query obtenerProductosOServicios($input: CrearFacturaInput!) {\n    obtenerProductosOServicios(input: $input) {\n      message\n      productosOServicios {\n        DangerousMaterial\n        Complement\n        Name\n        Value\n      }\n    }\n  }\n`;\n\nexport const CONSULTA_POSTAL_CODES_SAT_API = gql`\n  query obtenerCodigoPostal($input: CrearFacturaInput!) {\n    obtenerCodigoPostal(input: $input) {\n      message\n      codigoPostal {\n        StateCode\n        MunicipalityCode\n        LocationCode\n        Name\n        Value\n      }\n    }\n  }\n`;\n\nexport const CONSULTA_CFDIU_USES_SAT_API = gql`\n  query obtenerCfdiUses($input: CrearFacturaInput!) {\n    obtenerCfdiUses(input: $input) {\n      message\n      cfdiUses {\n        message\n        Natural\n        Moral\n        Name\n        Value\n      }\n    }\n  }\n`;\n","import React, { useState } from \"react\";\nimport {\n  Box,\n  Button,\n  CircularProgress,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  IconButton,\n  InputAdornment,\n  TextField,\n  Typography,\n} from \"@material-ui/core\";\nimport {\n  Add,\n  Close,\n  CloudUpload,\n  Done,\n  Visibility,\n  VisibilityOff,\n} from \"@material-ui/icons\";\nimport SnackBarMessages from \"../../../../components/SnackBarMessages\";\nimport { CREAR_SELLO_CFDI } from \"../../../../gql/Facturacion/Facturacion\";\nimport { useMutation } from \"@apollo/client\";\n\nexport default function RegistroSellos({\n  datosEmpresa,\n  firma_disabled,\n  refetch,\n}) {\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n  const [open, setOpen] = useState(false);\n  const [datos, setDatos] = useState({\n    certificate: \"\",\n    private_key: \"\",\n    private_key_password: \"\",\n    rfc: sesion && datosEmpresa.rfc ? datosEmpresa.rfc : \"\",\n    empresa: sesion && sesion.empresa._id ? sesion.empresa._id : \"\",\n    sucursal: sesion && sesion.sucursal._id ? sesion.sucursal._id : \"\",\n  });\n  const [show, setShow] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [alert, setAlert] = useState({ message: \"\", status: \"\", open: false });\n\n  const handleClickOpen = () => setOpen(true);\n  const handleClose = () => {\n    setOpen(false);\n    setDatos({\n      certificate: \"\",\n      private_key: \"\",\n      private_key_password: \"\",\n      rfc: sesion && datosEmpresa.rfc ? datosEmpresa.rfc : \"\",\n      empresa: sesion && sesion.empresa._id ? sesion.empresa._id : \"\",\n      sucursal: sesion && sesion.sucursal._id ? sesion.sucursal._id : \"\",\n    });\n  };\n\n  const [crearCSDS] = useMutation(CREAR_SELLO_CFDI);\n\n  const handleClickShowPassword = () => setShow(!show);\n  const handleMouseDownPassword = (event) => event.preventDefault();\n\n  const obtenerFiles = (e) => {\n    const { name, files } = e.target;\n    setDatos({\n      ...datos,\n      [name]: files[0],\n    });\n  };\n\n  const obtenerDatos = (e) => {\n    setDatos({\n      ...datos,\n      private_key_password: e.target.value,\n    });\n  };\n\n  const getBase64 = (file) => {\n    return new Promise((resolve) => {\n      let baseURL = \"\";\n      let reader = new FileReader();\n      reader.readAsDataURL(file);\n      reader.onload = () => {\n        baseURL = reader.result;\n        resolve(baseURL);\n      };\n    });\n  };\n\n  const guardarBD = async () => {\n    if (\n      !datos.certificate ||\n      !datos.private_key ||\n      !datos.private_key_password ||\n      !datos.rfc\n    )\n      return;\n\n    try {\n      let data = { ...datos };\n      let cer = data.certificate;\n      let key = data.private_key;\n      await getBase64(cer)\n        .then((result) => {\n          const base = result.split(\",\");\n          data.certificate = base[1];\n          data.nombre_cer = cer.name;\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n      await getBase64(key)\n        .then((result) => {\n          const base = result.split(\",\");\n          data.private_key = base[1];\n          data.nombre_key = key.name;\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n\n      setLoading(true);\n      const result = await crearCSDS({\n        variables: {\n          input: {\n            certificate: data.certificate,\n            private_key: data.private_key,\n            private_key_password: data.private_key_password,\n            rfc: data.rfc,\n            empresa: data.empresa,\n            sucursal: data.sucursal,\n            nombre_cer: data.nombre_cer,\n            nombre_key: data.nombre_key,\n          },\n        },\n      });\n      setAlert({\n        message: `Listo! ${result.data.crearCSDS.message}`,\n        status: \"success\",\n        open: true,\n      });\n      setLoading(false);\n      handleClose();\n      refetch();\n    } catch (error) {\n      setLoading(false);\n      setAlert({\n        message: `Error: ${error.message}`,\n        status: \"error\",\n        open: true,\n      });\n      console.log(error);\n      if (error.networkError) {\n        console.log(error.networkError.result);\n      } else if (error.graphQLErrors) {\n        console.log(error.graphQLErrors);\n      }\n    }\n  };\n\n  return (\n    <div>\n      <SnackBarMessages alert={alert} setAlert={setAlert} />\n      <Box display=\"flex\" justifyContent=\"flex-end\">\n        <Button\n          onClick={() => handleClickOpen()}\n          color=\"inherit\"\n          startIcon={<Add />}\n          disabled={firma_disabled}\n        >\n          Agregar CSD\n        </Button>\n      </Box>\n      <Dialog maxWidth=\"xs\" fullWidth open={open} onClose={() => handleClose()}>\n        <DialogTitle>Registrar firma digital</DialogTitle>\n        <DialogContent>\n          <Box mb={2}>\n            {datosEmpresa.rfc ? (\n              <Typography>{`RFC: ${datosEmpresa.rfc}`}</Typography>\n            ) : (\n              <Typography color=\"error\">\n                *No tienes registrado un RFC\n              </Typography>\n            )}\n          </Box>\n          <Box width=\"100%\">\n            <Typography>\n              Archivo *.cer <b>Certificado de la firma Digital</b>\n            </Typography>\n            <Box display=\"flex\" alignItems=\"center\">\n              <TextField\n                fullWidth\n                value={datos.certificate ? datos.certificate.name : \"\"}\n                size=\"small\"\n                variant=\"outlined\"\n                InputProps={{\n                  endAdornment: (\n                    <InputAdornment position=\"end\">\n                      <label htmlFor=\"archivo-cer-sello-digital\">\n                        <Button\n                          startIcon={<CloudUpload />}\n                          color=\"primary\"\n                          component=\"span\"\n                          disableElevation\n                        >\n                          Upload\n                        </Button>\n                      </label>\n                    </InputAdornment>\n                  ),\n                  readOnly: true,\n                }}\n              />\n              <input\n                accept=\".cer\"\n                style={{ display: \"none\" }}\n                id=\"archivo-cer-sello-digital\"\n                multiple\n                type=\"file\"\n                name=\"certificate\"\n                onChange={obtenerFiles}\n              />\n            </Box>\n          </Box>\n          <Box width=\"100%\" mt={2}>\n            <Typography>\n              Archivo *.key <b>Llave Privada de la Firma Digital</b>\n            </Typography>\n            <Box display=\"flex\" alignItems=\"center\">\n              <TextField\n                fullWidth\n                value={datos.private_key ? datos.private_key.name : \"\"}\n                size=\"small\"\n                variant=\"outlined\"\n                InputProps={{\n                  endAdornment: (\n                    <InputAdornment position=\"end\">\n                      <label htmlFor=\"archivo-key-llave_privada\">\n                        <Button\n                          startIcon={<CloudUpload />}\n                          color=\"primary\"\n                          component=\"span\"\n                          disableElevation\n                        >\n                          Upload\n                        </Button>\n                      </label>\n                    </InputAdornment>\n                  ),\n                  readOnly: true,\n                }}\n              />\n              <input\n                accept=\".key\"\n                style={{ display: \"none\" }}\n                id=\"archivo-key-llave_privada\"\n                multiple\n                type=\"file\"\n                name=\"private_key\"\n                onChange={obtenerFiles}\n              />\n            </Box>\n          </Box>\n          <Box width=\"100%\" my={2}>\n            <Typography>\n              Contrasea de la llave <b>Privada de la Firma Digital</b>\n            </Typography>\n            <Box display=\"flex\" alignItems=\"center\">\n              <TextField\n                fullWidth\n                type={show ? \"text\" : \"password\"}\n                size=\"small\"\n                variant=\"outlined\"\n                name=\"private_key_password\"\n                onChange={obtenerDatos}\n                InputProps={{\n                  endAdornment: (\n                    <InputAdornment position=\"end\">\n                      <IconButton\n                        onClick={handleClickShowPassword}\n                        onMouseDown={handleMouseDownPassword}\n                        edge=\"end\"\n                      >\n                        {show ? <Visibility /> : <VisibilityOff />}\n                      </IconButton>\n                    </InputAdornment>\n                  ),\n                }}\n              />\n            </Box>\n          </Box>\n        </DialogContent>\n        <DialogActions style={{ justifyContent: \"center\" }}>\n          <Button\n            startIcon={<Close />}\n            size=\"large\"\n            onClick={() => handleClose()}\n          >\n            Cancelar\n          </Button>\n          <Button\n            startIcon={loading ? <CircularProgress size={20} /> : <Done />}\n            color=\"primary\"\n            size=\"large\"\n            onClick={() => guardarBD()}\n            disabled={loading || !datos.rfc}\n          >\n            Guardar\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n}\n","import React, { useState } from \"react\";\nimport {\n  Box,\n  Button,\n  CircularProgress,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogContentText,\n  DialogTitle,\n} from \"@material-ui/core\";\nimport { Close, DeleteOutline } from \"@material-ui/icons\";\nimport SnackBarMessages from \"../../../../components/SnackBarMessages\";\nimport { ELIMINAR_SELLO_CFDI } from \"../../../../gql/Facturacion/Facturacion\";\nimport { useMutation } from \"@apollo/client\";\n\nexport default function EliminarSellos({ datosEmpresa, refetch }) {\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n  const [open, setOpen] = useState(false);\n  const [datos, setDatos] = useState({\n    rfc: datosEmpresa && datosEmpresa.rfc ? datosEmpresa.rfc : \"\",\n    empresa: sesion && sesion.empresa._id ? sesion.empresa._id : \"\",\n  });\n  const [loading, setLoading] = useState(false);\n  const [alert, setAlert] = useState({ message: \"\", status: \"\", open: false });\n\n  const handleClickOpen = () => setOpen(true);\n  const handleClose = () => {\n    setOpen(false);\n    setDatos({\n      rfc: sesion && datosEmpresa.rfc ? datosEmpresa.rfc : \"\",\n      empresa: sesion && sesion.empresa._id ? sesion.empresa._id : \"\",\n    });\n  };\n\n  const [eliminarCSD] = useMutation(ELIMINAR_SELLO_CFDI);\n\n  const eliminarSelloCSD = async () => {\n    if (!datos.rfc) return;\n\n    try {\n      setLoading(true);\n      const result = await eliminarCSD({\n        variables: {\n          rfc: datos.rfc,\n          empresa: datos.empresa,\n        },\n      });\n\n      setAlert({\n        message: `Listo! ${result.data.eliminarCSD.message}`,\n        status: \"success\",\n        open: true,\n      });\n      setLoading(false);\n      handleClose();\n      refetch();\n    } catch (error) {\n      setLoading(false);\n      setAlert({\n        message: `Error: ${error.message}`,\n        status: \"error\",\n        open: true,\n      });\n      console.log(error);\n      if (error.networkError) {\n        console.log(error.networkError.result);\n      } else if (error.graphQLErrors) {\n        console.log(error.graphQLErrors);\n      }\n    }\n  };\n\n  return (\n    <div>\n      <SnackBarMessages alert={alert} setAlert={setAlert} />\n      <Box display=\"flex\" justifyContent=\"flex-end\">\n        <Button\n          onClick={() => handleClickOpen()}\n          color=\"inherit\"\n          startIcon={<DeleteOutline />}\n        >\n          Remover CSD\n        </Button>\n      </Box>\n      <Dialog maxWidth=\"xs\" fullWidth open={open} onClose={() => handleClose()}>\n        <DialogTitle>Eliminar Firma Digital</DialogTitle>\n        <DialogContent>\n          <DialogContentText>\n            {`Se eliminara el CSD registrado con el RFC ${datosEmpresa.rfc}`}\n          </DialogContentText>\n        </DialogContent>\n        <DialogActions style={{ justifyContent: \"center\" }}>\n          <Button\n            startIcon={<Close />}\n            size=\"large\"\n            onClick={() => handleClose()}\n          >\n            Cancelar\n          </Button>\n          <Button\n            startIcon={\n              loading ? <CircularProgress size={20} /> : <DeleteOutline />\n            }\n            color=\"secondary\"\n            size=\"large\"\n            onClick={() => eliminarSelloCSD()}\n            disabled={loading || !datos.rfc}\n          >\n            Eliminar\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n}\n","import React, { useContext, useState, useEffect } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nimport {\n  Box,\n  Grid,\n  TextField,\n  Button,\n  Dialog,\n  Container,\n  FormControl,\n  Select,\n  MenuItem,\n  DialogContent,\n} from \"@material-ui/core\";\nimport {\n  Slide,\n  Typography,\n  Toolbar,\n  AppBar,\n  Divider,\n  DialogActions,\n} from \"@material-ui/core\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport SnackBarMessages from \"../../../../components/SnackBarMessages\";\nimport BackdropComponent from \"../../../../components/Layouts/BackDrop\";\nimport ErrorPage from \"../../../../components/ErrorPage\";\nimport { FcDocument } from \"react-icons/fc\";\nimport { useMutation, useQuery } from \"@apollo/client\";\n\nimport { EmpresaContext } from \"../../../../context/Catalogos/empresaContext\";\nimport {\n  ACTUALIZAR_EMPRESA,\n  OBTENER_DATOS_EMPRESA,\n} from \"../../../../gql/Empresa/empresa\";\nimport { cleanTypenames } from \"../../../../config/reuserFunctions\";\nimport { regimenFiscal } from \"../../Facturacion/catalogos\";\nimport { Alert, AlertTitle } from \"@material-ui/lab\";\nimport RegistroSellos from \"../../Facturacion/CFDISellos/RegistrarSellos\";\nimport EliminarSellos from \"../../Facturacion/CFDISellos/EliminarCSD\";\n\nconst useStyles = makeStyles((theme) => ({\n  appBar: {\n    position: \"relative\",\n  },\n  title: {\n    marginLeft: theme.spacing(2),\n    flex: 1,\n  },\n  icon: {\n    fontSize: 100,\n  },\n  subtitle: {\n    marginLeft: \"10px\",\n    width: \"100%\",\n  },\n  require: {\n    \"& span\": {\n      color: \"red\",\n    },\n  },\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function InformacionFiscal() {\n  const classes = useStyles();\n  const [loadingPage, setLoadingPage] = React.useState(false);\n  const [open, setOpen] = React.useState(false);\n  const [errorPage, setErrorPage] = React.useState(false);\n  const [errorForm, setErrorForm] = React.useState(\n    useState({ error: false, message: \"\" })\n  );\n  const [alert, setAlert] = useState({ message: \"\", status: \"\", open: false });\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n  const [bloqueo] = useState(\n    sesion.accesos.mi_empresa.informacion_fiscal.editar === false ? true : false\n  );\n  const { empresa, setEmpresa } = useContext(EmpresaContext);\n  const [actualizarEmpresa] = useMutation(ACTUALIZAR_EMPRESA);\n  const [firma_disabled, setFirmaDisabled] = useState(false);\n  const [empresaFiscal, setEmpresaFiscal] = useState({\n    nombre_fiscal: \"\",\n    rfc: \"\",\n    curp: \"\",\n    info_adicio: \"\",\n    regimen_fiscal: \"\",\n    direccionFiscal: {\n      calle: \"\",\n      no_ext: \"\",\n      no_int: \"\",\n      codigo_postal: \"\",\n      colonia: \"\",\n      municipio: \"\",\n      localidad: \"\",\n      estado: \"\",\n      pais: \"\",\n    },\n    datosBancarios: {\n      cuenta: \"\",\n      sucursal: \"\",\n      clave_banco: \"\",\n    },\n  });\n  /* Queries */\n  const { loading, data, refetch, error } = useQuery(OBTENER_DATOS_EMPRESA, {\n    variables: { id: sesion.empresa._id },\n  });\n\n  useEffect(() => {\n    try {\n      setErrorPage(error);\n    } catch (errorCatch) {\n      // console.log(\"SESSIONREFECT\",errorCatch)\n    }\n  }, [error]);\n\n  useEffect(() => {\n    try {\n      if (data !== undefined) {\n        setEmpresa(data.obtenerEmpresa);\n        let new_sesion = sesion;\n        new_sesion.empresa = data.obtenerEmpresa;\n        localStorage.setItem(\"sesionCafi\", JSON.stringify(new_sesion));\n        if (!data.obtenerEmpresa.rfc) {\n          setFirmaDisabled(true);\n        } else {\n          setFirmaDisabled(false);\n        }\n      }\n    } catch (errorCatch) {\n      // console.log(\"SESSIONREFECT\",errorCatch)\n    }\n  }, [data, setEmpresa]);\n\n  useEffect(() => {\n    try {\n      setErrorPage(error);\n    } catch (errorCatch) {\n      // console.log(\"SESSIONREFECT\",errorCatch)\n    }\n  }, [error]);\n\n  useEffect(() => {\n    try {\n      setLoadingPage(loading);\n    } catch (errorCatch) {\n      // console.log(\"SESSIONREFECTUPDATE\",errorCatch)\n    }\n  }, [loading]);\n\n  useEffect(() => {\n    try {\n      setEmpresaFiscal({\n        nombre_fiscal: empresa.nombre_fiscal,\n        rfc: empresa.rfc,\n        curp: empresa.curp,\n\n        info_adicio: empresa.info_adicio,\n        regimen_fiscal: empresa.regimen_fiscal,\n        sello_sat: empresa.sello_sat,\n        nombre_cer: empresa.nombre_cer,\n        nombre_key: empresa.nombre_key,\n        limite_timbres: empresa.limite_timbres,\n        timbres_usados: empresa.timbres_usados,\n        direccionFiscal: {\n          calle: empresa.direccionFiscal.calle,\n          no_ext: empresa.direccionFiscal.no_ext,\n          no_int: empresa.direccionFiscal.no_int,\n          codigo_postal: empresa.direccionFiscal.codigo_postal,\n          colonia: empresa.direccionFiscal.colonia,\n          municipio: empresa.direccionFiscal.municipio,\n          localidad: empresa.direccionFiscal.localidad,\n          estado: empresa.direccionFiscal.estado,\n          pais: empresa.direccionFiscal.pais,\n        },\n        datosBancarios: {\n          cuenta: empresa.datosBancarios.cuenta,\n          sucursal: empresa.datosBancarios.sucursal,\n          clave_banco: empresa.datosBancarios.clave_banco,\n        },\n      });\n    } catch (errorCatch) {}\n  }, [empresa]);\n\n  const actEmp = async () => {\n    try {\n      setLoadingPage(true);\n      /* const input = cleanTypenames(empresaFiscal); */\n      await actualizarEmpresa({\n        variables: {\n          id: sesion.empresa._id,\n          input: empresaFiscal,\n        },\n      });\n      setLoadingPage(false);\n      setAlert({\n        message: \"Se han actualizado correctamente los datos.\",\n        status: \"success\",\n        open: true,\n      });\n      setErrorForm(false);\n      refetch();\n    } catch (error) {\n      setLoadingPage(false);\n      setAlert({ message: \"Hubo un error\", status: \"error\", open: true });\n      console.log(error);\n      if (error.response) {\n        console.log(error.response);\n      } else if (error.networkError) {\n        console.log(error.networkError.result);\n      } else if (error.graphQLErrors) {\n        console.log(error.graphQLErrors);\n      }\n    }\n  };\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n  const obtenerCampos = (e) => {\n    setEmpresaFiscal({\n      ...empresaFiscal,\n      [e.target.name]: e.target.value,\n    });\n  };\n  const obtenerCamposDireccion = (e) => {\n    setEmpresaFiscal({\n      ...empresaFiscal,\n      direccionFiscal: {\n        ...empresaFiscal.direccionFiscal,\n        [e.target.name]: e.target.value,\n      },\n    });\n  };\n  const obtenerCamposBancarios = (e) => {\n    setEmpresaFiscal({\n      ...empresaFiscal,\n      datosBancarios: {\n        ...empresaFiscal.datosBancarios,\n        [e.target.name]: e.target.value,\n      },\n    });\n  };\n\n  return (\n    <div>\n      <Button fullWidth onClick={handleClickOpen}>\n        <Box display=\"flex\" flexDirection=\"column\">\n          <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n            <FcDocument className={classes.icon} />\n          </Box>\n          Informacin fiscal\n        </Box>\n      </Button>\n      <Dialog\n        fullScreen\n        open={open}\n        onClose={handleClose}\n        TransitionComponent={Transition}\n      >\n        <SnackBarMessages alert={alert} setAlert={setAlert} />\n        <BackdropComponent loading={loadingPage} setLoading={setLoadingPage} />\n        <AppBar className={classes.appBar}>\n          <Toolbar>\n            <Typography variant=\"h6\" className={classes.title}>\n              Informacin fiscal\n            </Typography>\n            <Box m={1}>\n              <Button\n                variant=\"contained\"\n                color=\"secondary\"\n                onClick={handleClose}\n                size=\"large\"\n              >\n                <CloseIcon style={{ fontSize: 30 }} />\n              </Button>\n            </Box>\n          </Toolbar>\n        </AppBar>\n        <DialogContent>\n          {errorPage ? (\n            <ErrorPage error={errorPage} />\n          ) : (\n            <Container>\n              <Grid container spacing={3} style={{ marginTop: 8 }}>\n                <Grid item md={6} xs={12} className={classes.require}>\n                  <Box my={1}>\n                    <Typography>\n                      <span>* </span>Nombre fiscal\n                    </Typography>\n                    <TextField\n                      fullWidth\n                      disabled={bloqueo}\n                      type=\"text\"\n                      size=\"small\"\n                      error={errorForm.error && !empresaFiscal.nombre_fiscal}\n                      name=\"nombre_fiscal\"\n                      variant=\"outlined\"\n                      value={\n                        empresaFiscal.nombre_fiscal\n                          ? empresaFiscal.nombre_fiscal\n                          : \"\"\n                      }\n                      helperText={\n                        errorForm.error &&\n                        errorForm.message !== \"El campo nombre es obligatorio\"\n                          ? errorForm.message\n                          : \"\"\n                      }\n                      onChange={obtenerCampos}\n                    />\n                  </Box>\n                  <Box my={1}>\n                    <Typography>RFC</Typography>\n                    <TextField\n                      fullWidth\n                      disabled={bloqueo}\n                      size=\"small\"\n                      name=\"rfc\"\n                      variant=\"outlined\"\n                      value={empresaFiscal.rfc ? empresaFiscal.rfc : \"\"}\n                      onChange={obtenerCampos}\n                    />\n                  </Box>\n                  <Box my={1}>\n                    <Typography>Rgimen fiscal</Typography>\n                    <FormControl\n                      variant=\"outlined\"\n                      fullWidth\n                      size=\"small\"\n                      name=\"regimen_fiscal\"\n                    >\n                      <Select\n                        value={\n                          empresaFiscal.regimen_fiscal\n                            ? empresaFiscal.regimen_fiscal\n                            : \"\"\n                        }\n                        name=\"regimen_fiscal\"\n                        onChange={obtenerCampos}\n                      >\n                        <MenuItem value=\"\">\n                          <em>Selecciona uno</em>\n                        </MenuItem>\n                        {regimenFiscal.map((res, index) => (\n                          <MenuItem\n                            key={index}\n                            value={res.Value}\n                          >{`${res.Value} - ${res.Name}`}</MenuItem>\n                        ))}\n                      </Select>\n                    </FormControl>\n                  </Box>\n                  <Box my={1}>\n                    <Typography>CURP</Typography>\n                    <TextField\n                      disabled={bloqueo}\n                      fullWidth\n                      size=\"small\"\n                      name=\"curp\"\n                      variant=\"outlined\"\n                      value={empresaFiscal.curp ? empresaFiscal.curp : \"\"}\n                      onChange={obtenerCampos}\n                    />\n                  </Box>\n                  <Box my={1}>\n                    <Typography>Info. Adicional</Typography>\n                    <TextField\n                      disabled={bloqueo}\n                      fullWidth\n                      size=\"small\"\n                      name=\"info_adicio\"\n                      variant=\"outlined\"\n                      value={\n                        empresaFiscal.info_adicio\n                          ? empresaFiscal.info_adicio\n                          : \"\"\n                      }\n                      onChange={obtenerCampos}\n                      multiline\n                    />\n                  </Box>\n                </Grid>\n                <Grid item md={6} xs={12}>\n                  <Typography className={classes.subtitle}>\n                    <b>Firma digital</b>\n                  </Typography>\n                  <Divider />\n                  <Box m={1}>\n                    {empresaFiscal.sello_sat === true ? (\n                      <Alert\n                        severity=\"success\"\n                        action={\n                          <EliminarSellos\n                            firma_disabled={firma_disabled}\n                            datosEmpresa={empresaFiscal}\n                            refetch={refetch}\n                          />\n                        }\n                      >\n                        <AlertTitle>Firma Digital Activa</AlertTitle>\n                      </Alert>\n                    ) : (\n                      <Alert\n                        severity=\"info\"\n                        action={\n                          <RegistroSellos\n                            firma_disabled={firma_disabled}\n                            datosEmpresa={empresaFiscal}\n                            refetch={refetch}\n                          />\n                        }\n                      >\n                        <AlertTitle>Sin Firma Digital</AlertTitle>\n                        Sin esta firma no prodrs realizar facturas\n                        {firma_disabled ? (\n                          <li>Necesitas tener un RFC registrado</li>\n                        ) : null}\n                      </Alert>\n                    )}\n                  </Box>\n                  <Box my={1}>\n                    <Typography>Archivo *.cer</Typography>\n                    <TextField\n                      disabled\n                      fullWidth\n                      size=\"small\"\n                      variant=\"outlined\"\n                    />\n                  </Box>\n                  <Box my={1}>\n                    <Typography>Archivo *.key</Typography>\n                    <TextField\n                      disabled\n                      fullWidth\n                      size=\"small\"\n                      variant=\"outlined\"\n                    />\n                  </Box>\n                  <Box my={1}>\n                    <Typography>Fecha de registro</Typography>\n                    <TextField\n                      disabled\n                      fullWidth\n                      size=\"small\"\n                      variant=\"outlined\"\n                    />\n                  </Box>\n                </Grid>\n              </Grid>\n              <Box mt={2}>\n                <Typography className={classes.subtitle}>\n                  <b>Domicilio</b>\n                </Typography>\n                <Divider />\n              </Box>\n              <Grid container spacing={3}>\n                <Grid item xs={12} sm={4}>\n                  <Box>\n                    <Typography>Calle</Typography>\n                    <TextField\n                      fullWidth\n                      size=\"small\"\n                      name=\"calle\"\n                      variant=\"outlined\"\n                      disabled={bloqueo}\n                      value={\n                        empresaFiscal.direccionFiscal.calle\n                          ? empresaFiscal.direccionFiscal.calle\n                          : \"\"\n                      }\n                      onChange={obtenerCamposDireccion}\n                    />\n                  </Box>\n                  <Box>\n                    <Typography>Num. Ext</Typography>\n                    <TextField\n                      fullWidth\n                      size=\"small\"\n                      name=\"no_ext\"\n                      variant=\"outlined\"\n                      disabled={bloqueo}\n                      value={\n                        empresaFiscal.direccionFiscal.no_ext\n                          ? empresaFiscal.direccionFiscal.no_ext\n                          : \"\"\n                      }\n                      onChange={obtenerCamposDireccion}\n                    />\n                  </Box>\n                  <Box>\n                    <Typography>Num. Int</Typography>\n                    <TextField\n                      fullWidth\n                      size=\"small\"\n                      name=\"no_int\"\n                      variant=\"outlined\"\n                      disabled={bloqueo}\n                      value={\n                        empresaFiscal.direccionFiscal.no_int\n                          ? empresaFiscal.direccionFiscal.no_int\n                          : \"\"\n                      }\n                      onChange={obtenerCamposDireccion}\n                    />\n                  </Box>\n                </Grid>\n                <Grid item xs={12} sm={4}>\n                  <Box>\n                    <Typography>C.P.</Typography>\n                    <TextField\n                      fullWidth\n                      size=\"small\"\n                      name=\"codigo_postal\"\n                      variant=\"outlined\"\n                      disabled={bloqueo}\n                      value={\n                        empresaFiscal.direccionFiscal.codigo_postal\n                          ? empresaFiscal.direccionFiscal.codigo_postal\n                          : \"\"\n                      }\n                      onChange={obtenerCamposDireccion}\n                    />\n                  </Box>\n                  <Box>\n                    <Typography>Colonia</Typography>\n                    <TextField\n                      fullWidth\n                      size=\"small\"\n                      name=\"colonia\"\n                      variant=\"outlined\"\n                      disabled={bloqueo}\n                      value={\n                        empresaFiscal.direccionFiscal.colonia\n                          ? empresaFiscal.direccionFiscal.colonia\n                          : \"\"\n                      }\n                      onChange={obtenerCamposDireccion}\n                    />\n                  </Box>\n                  <Box>\n                    <Typography>Municipio</Typography>\n                    <TextField\n                      fullWidth\n                      size=\"small\"\n                      name=\"municipio\"\n                      variant=\"outlined\"\n                      disabled={bloqueo}\n                      value={\n                        empresaFiscal.direccionFiscal.municipio\n                          ? empresaFiscal.direccionFiscal.municipio\n                          : \"\"\n                      }\n                      onChange={obtenerCamposDireccion}\n                    />\n                  </Box>\n                </Grid>\n                <Grid item xs={12} sm={4}>\n                  <Box>\n                    <Typography>Localidad</Typography>\n                    <TextField\n                      fullWidth\n                      size=\"small\"\n                      name=\"localidad\"\n                      variant=\"outlined\"\n                      disabled={bloqueo}\n                      value={\n                        empresaFiscal.direccionFiscal.localidad\n                          ? empresaFiscal.direccionFiscal.localidad\n                          : \"\"\n                      }\n                      onChange={obtenerCamposDireccion}\n                    />\n                  </Box>\n                  <Box>\n                    <Typography>Estado</Typography>\n                    <TextField\n                      fullWidth\n                      size=\"small\"\n                      name=\"estado\"\n                      variant=\"outlined\"\n                      disabled={bloqueo}\n                      value={\n                        empresaFiscal.direccionFiscal.estado\n                          ? empresaFiscal.direccionFiscal.estado\n                          : \"\"\n                      }\n                      onChange={obtenerCamposDireccion}\n                    />\n                  </Box>\n                  <Box>\n                    <Typography>Pais</Typography>\n                    <TextField\n                      fullWidth\n                      size=\"small\"\n                      name=\"pais\"\n                      variant=\"outlined\"\n                      disabled={bloqueo}\n                      value={\n                        empresaFiscal.direccionFiscal.pais\n                          ? empresaFiscal.direccionFiscal.pais\n                          : \"\"\n                      }\n                      onChange={obtenerCamposDireccion}\n                    />\n                  </Box>\n                </Grid>\n              </Grid>\n              <Box mt={2}>\n                <Typography className={classes.subtitle}>\n                  <b>Datos bancarios</b>\n                </Typography>\n                <Divider />\n              </Box>\n              <Grid container spacing={3}>\n                <Grid item xs={12} md={4}>\n                  <Box>\n                    <Typography>Cuenta</Typography>\n                    <TextField\n                      fullWidth\n                      size=\"small\"\n                      name=\"cuenta\"\n                      variant=\"outlined\"\n                      disabled={bloqueo}\n                      value={\n                        empresaFiscal.datosBancarios.cuenta\n                          ? empresaFiscal.datosBancarios.cuenta\n                          : \"\"\n                      }\n                      onChange={obtenerCamposBancarios}\n                    />\n                  </Box>\n                </Grid>\n                <Grid item xs={12} md={4}>\n                  <Box>\n                    <Typography>Sucursal</Typography>\n                    <TextField\n                      fullWidth\n                      size=\"small\"\n                      name=\"sucursal\"\n                      variant=\"outlined\"\n                      disabled={bloqueo}\n                      value={\n                        empresaFiscal.datosBancarios.sucursal\n                          ? empresaFiscal.datosBancarios.sucursal\n                          : \"\"\n                      }\n                      onChange={obtenerCamposBancarios}\n                    />\n                  </Box>\n                </Grid>\n                <Grid item xs={12} md={4}>\n                  <Box>\n                    <Typography>Clave de banco</Typography>\n                    <TextField\n                      fullWidth\n                      size=\"small\"\n                      name=\"clave_banco\"\n                      variant=\"outlined\"\n                      disabled={bloqueo}\n                      value={\n                        empresaFiscal.datosBancarios.clave_banco\n                          ? empresaFiscal.datosBancarios.clave_banco\n                          : \"\"\n                      }\n                      onChange={obtenerCamposBancarios}\n                    />\n                  </Box>\n                </Grid>\n              </Grid>\n            </Container>\n          )}\n        </DialogContent>\n        {sesion.accesos.mi_empresa.informacion_fiscal.editar ===\n        false ? null : (\n          <DialogActions style={{ justifyContent: \"center\" }}>\n            <Button onClick={handleClose} color=\"primary\">\n              Cancelar\n            </Button>\n            <Button\n              onClick={() => actEmp()}\n              color=\"primary\"\n              variant=\"contained\"\n              autoFocus\n            >\n              Guardar\n            </Button>\n          </DialogActions>\n        )}\n      </Dialog>\n    </div>\n  );\n}\n","import React, { useContext, useState, useCallback, useEffect } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport {\n  Box,\n  Grid,\n  TextField,\n  Button,\n  Dialog,\n  Avatar,\n  DialogContent,\n  Container,\n} from \"@material-ui/core\";\nimport {\n  Slide,\n  Typography,\n  Toolbar,\n  AppBar,\n  Divider,\n  DialogActions,\n} from \"@material-ui/core\";\nimport { useDropzone } from \"react-dropzone\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport { FcNook } from \"react-icons/fc\";\nimport { useMutation, useQuery } from \"@apollo/client\";\nimport { EmpresaContext } from \"../../../../context/Catalogos/empresaContext\";\nimport SnackBarMessages from \"../../../../components/SnackBarMessages\";\nimport BackdropComponent from \"../../../../components/Layouts/BackDrop\";\nimport ErrorPage from \"../../../../components/ErrorPage\";\nimport {\n  ACTUALIZAR_EMPRESA,\n  OBTENER_DATOS_EMPRESA,\n} from \"../../../../gql/Empresa/empresa\";\nimport { cleanTypenames } from \"../../../../config/reuserFunctions\";\n\nconst useStyles = makeStyles((theme) => ({\n  appBar: {\n    position: \"relative\",\n  },\n  title: {\n    marginLeft: theme.spacing(2),\n    flex: 1,\n  },\n  icon: {\n    fontSize: 100,\n  },\n  subtitle: {\n    marginLeft: \"10px\",\n    width: \"100%\",\n  },\n  require: {\n    \"& span\": {\n      color: \"red\",\n    },\n  },\n  avatarContainer: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    width: \"100%\",\n    height: \"100%\",\n    border: \"dashed 2px black\",\n    borderRadius: \"100%\",\n  },\n  avatar: {\n    width: \"90%\",\n    height: \"90%\",\n    \"& > .icon\": {\n      fontSize: 100,\n    },\n  },\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function MisDatos() {\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n  const classes = useStyles();\n  const [loadingPage, setLoadingPage] = React.useState(false);\n  const [bloqueo] = useState(\n    sesion.accesos.mi_empresa.datos_empresa.editar === false ? true : false\n  );\n  const [preview, setPreview] = useState(\"\");\n  const [open, setOpen] = React.useState(false);\n  const [errorPage, setErrorPage] = React.useState(false);\n  const [errorForm, setErrorForm] = React.useState(\n    useState({ error: false, message: \"\" })\n  );\n\n  const [alert, setAlert] = useState({ message: \"\", status: \"\", open: false });\n  const { empresa, update, setEmpresa, setUpdate } = useContext(EmpresaContext);\n\n  const [actualizarEmpresa] = useMutation(ACTUALIZAR_EMPRESA);\n\n  /* Queries */\n  const { loading, data, refetch, error } = useQuery(OBTENER_DATOS_EMPRESA, {\n    variables: { id: sesion.empresa._id },\n  });\n\n  const [empresaDatos, setEmpresaDatos] = useState({\n    nombre_empresa: \"\",\n    nombre_dueno: \"\",\n    telefono_dueno: \"\",\n    celular: \"\",\n    correo_empresa: \"\",\n    nombre_fiscal: \"\",\n    rfc: \"\",\n    regimen_fiscal: \"\",\n    curp: \"\",\n    info_adicio: \"\",\n    direccion: {\n      calle: \"\",\n      no_ext: \"\",\n      no_int: \"\",\n      codigo_postal: \"\",\n      colonia: \"\",\n      municipio: \"\",\n      localidad: \"\",\n      estado: \"\",\n      pais: \"\",\n    },\n    direccionFiscal: {\n      calle: \"\",\n      no_ext: \"\",\n      no_int: \"\",\n      codigo_postal: \"\",\n      colonia: \"\",\n      municipio: \"\",\n      localidad: \"\",\n      estado: \"\",\n      pais: \"\",\n    },\n    datosBancarios: {\n      cuenta: \"\",\n      sucursal: \"\",\n      clave_banco: \"\",\n    },\n    imagen: null,\n  });\n  useEffect(() => {\n    try {\n      refetch();\n    } catch (errorCatch) {\n      // console.log(\"SESSIONREFECTUPDATE\",errorCatch)\n    }\n  }, [update, refetch]);\n  useEffect(() => {\n    try {\n      setLoadingPage(loading);\n    } catch (errorCatch) {\n      // console.log(\"SESSIONREFECTUPDATE\",errorCatch)\n    }\n  }, [loading]);\n  useEffect(() => {\n    try {\n      if (data !== undefined) {\n        setEmpresa(data.obtenerEmpresa);\n      }\n    } catch (errorCatch) {\n      // console.log(\"SESSIONREFECT\",errorCatch)\n    }\n  }, [data, setEmpresa]);\n  useEffect(() => {\n    try {\n      setErrorPage(error);\n    } catch (errorCatch) {\n      // console.log(\"SESSIONREFECT\",errorCatch)\n    }\n  }, [error]);\n  useEffect(() => {\n    try {\n      setEmpresaDatos({\n        nombre_empresa: empresa.nombre_empresa,\n        nombre_dueno: empresa.nombre_dueno,\n        telefono_dueno: empresa.telefono_dueno,\n        celular: empresa.celular,\n        correo_empresa: empresa.correo_empresa,\n        direccion: empresa.direccion,\n        imagen: empresa.imagen,\n      });\n    } catch (errorCatch) {\n      // console.log(errorCatch)\n    }\n  }, [empresa]);\n\n  const actEmp = async () => {\n    try {\n      setLoadingPage(true);\n      /* const input = cleanTypenames(empresaDatos); */\n      await actualizarEmpresa({\n        variables: {\n          id: sesion.empresa._id,\n          input: empresaDatos,\n        },\n      });\n      setUpdate(true);\n      setLoadingPage(false);\n      setAlert({\n        message: \"Se han actualizado correctamente los datos.\",\n        status: \"success\",\n        open: true,\n      });\n      setErrorForm(false);\n    } catch (errorCatch) {\n      console.log(errorCatch);\n      if (errorCatch.networkError) {\n        console.log(errorCatch.networkError.result);\n      } else if (errorCatch.graphQLErrors) {\n        console.log(errorCatch.graphQLErrors);\n      }\n      setAlert({ message: \"Hubo un error\", status: \"error\", open: true });\n      setLoadingPage(false);\n    }\n  };\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n  const obtenerCampos = (e) => {\n    setEmpresaDatos({\n      ...empresaDatos,\n      [e.target.name]: e.target.value,\n    });\n  };\n  const obtenerCamposDireccion = (e) => {\n    setEmpresaDatos({\n      ...empresaDatos,\n      direccion: { ...empresaDatos.direccion, [e.target.name]: e.target.value },\n    });\n  };\n\n  //dropzone\n  const onDrop = useCallback(\n    (acceptedFiles) => {\n      let reader = new FileReader();\n      reader.readAsDataURL(acceptedFiles[0]);\n      reader.onload = function () {\n        let image = reader.result;\n        setPreview(image);\n      };\n      setEmpresaDatos({\n        ...empresaDatos,\n        imagen: acceptedFiles[0],\n      });\n    },\n    [empresaDatos, setEmpresaDatos]\n  );\n  const { getRootProps, getInputProps } = useDropzone({\n    accept: \"image/jpeg, image/png\",\n    noKeyboard: true,\n    onDrop,\n  });\n\n  return (\n    <div>\n      <Button fullWidth onClick={handleClickOpen}>\n        <Box display=\"flex\" flexDirection=\"column\">\n          <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n            <FcNook className={classes.icon} />\n          </Box>\n          Datos de empresa\n        </Box>\n      </Button>\n      <Dialog\n        fullScreen\n        open={open}\n        onClose={handleClose}\n        TransitionComponent={Transition}\n      >\n        <SnackBarMessages alert={alert} setAlert={setAlert} />\n        <BackdropComponent loading={loadingPage} setLoading={setLoadingPage} />\n\n        <AppBar className={classes.appBar}>\n          <Toolbar>\n            <Typography variant=\"h6\" className={classes.title}>\n              Datos\n            </Typography>\n            <Box m={1}>\n              <Button\n                variant=\"contained\"\n                color=\"secondary\"\n                onClick={handleClose}\n                size=\"large\"\n              >\n                <CloseIcon style={{ fontSize: 30 }} />\n              </Button>\n            </Box>\n          </Toolbar>\n        </AppBar>\n        <DialogContent>\n          {errorPage ? (\n            <ErrorPage error={errorPage} />\n          ) : (\n            <Container style={{ marginTop: 8 }}>\n              <Grid container spacing={3} className={classes.require}>\n                <Grid item md={2}>\n                  <Box className={classes.avatarContainer} {...getRootProps()}>\n                    <input {...getInputProps()} />\n                    {preview ? (\n                      <Avatar className={classes.avatar} src={`${preview}`} />\n                    ) : (\n                      <Avatar\n                        className={classes.avatar}\n                        src={`${empresa.imagen}`}\n                      />\n                    )}\n                  </Box>\n                </Grid>\n                <Grid item md={4}>\n                  <Box>\n                    <Typography>\n                      <span>* </span>Nombre de empresa\n                    </Typography>\n                    <TextField\n                      fullWidth\n                      disabled={bloqueo}\n                      type=\"text\"\n                      size=\"small\"\n                      error={errorForm.error && !empresaDatos.nombre_empresa}\n                      name=\"nombre_empresa\"\n                      variant=\"outlined\"\n                      value={\n                        empresaDatos.nombre_empresa\n                          ? empresaDatos.nombre_empresa\n                          : \"\"\n                      }\n                      helperText={\n                        errorForm.error &&\n                        errorForm.message !== \"El campo nombre es obligatorio\"\n                          ? errorForm.message\n                          : \"\"\n                      }\n                      onChange={obtenerCampos}\n                    />\n                  </Box>\n                  <Box>\n                    <Typography>\n                      <span>* </span>Nombre dueo\n                    </Typography>\n                    <TextField\n                      fullWidth\n                      disabled={bloqueo}\n                      type=\"text\"\n                      size=\"small\"\n                      error={errorForm.error && !empresaDatos.nombre_dueno}\n                      name=\"nombre_dueno\"\n                      variant=\"outlined\"\n                      value={\n                        empresaDatos.nombre_dueno\n                          ? empresaDatos.nombre_dueno\n                          : \"\"\n                      }\n                      helperText={\n                        errorForm.error &&\n                        errorForm.message !== \"El campo nombre es obligatorio\"\n                          ? errorForm.message\n                          : \"\"\n                      }\n                      onChange={obtenerCampos}\n                    />\n                  </Box>\n                  <Box>\n                    <Typography>Telfono</Typography>\n                    <TextField\n                      fullWidth\n                      disabled={bloqueo}\n                      size=\"small\"\n                      name=\"telefono_dueno\"\n                      variant=\"outlined\"\n                      value={\n                        empresaDatos.telefono_dueno\n                          ? empresaDatos.telefono_dueno\n                          : \"\"\n                      }\n                      onChange={obtenerCampos}\n                    />\n                  </Box>\n                </Grid>\n                <Grid item md={4}>\n                  <Box>\n                    <Typography>Celular</Typography>\n                    <TextField\n                      fullWidth\n                      disabled={bloqueo}\n                      size=\"small\"\n                      name=\"celular\"\n                      variant=\"outlined\"\n                      value={empresaDatos.celular ? empresaDatos.celular : \"\"}\n                      onChange={obtenerCampos}\n                    />\n                  </Box>\n                  <Box>\n                    <Typography>E-mail</Typography>\n                    <TextField\n                      fullWidth\n                      disabled={bloqueo}\n                      size=\"small\"\n                      name=\"correo_empresa\"\n                      variant=\"outlined\"\n                      value={\n                        empresaDatos.correo_empresa\n                          ? empresaDatos.correo_empresa\n                          : \"\"\n                      }\n                      onChange={obtenerCampos}\n                    />\n                  </Box>\n                </Grid>\n              </Grid>\n\n              <Box mt={5}>\n                <Typography className={classes.subtitle}>\n                  <b>Domicilio empresa</b>\n                </Typography>\n                <Divider />\n              </Box>\n              <Grid container spacing={3} className={classes.require}>\n                <Grid item md={4}>\n                  <Box>\n                    <Typography>Calle</Typography>\n                    <TextField\n                      fullWidth\n                      size=\"small\"\n                      name=\"calle\"\n                      variant=\"outlined\"\n                      disabled={bloqueo}\n                      value={\n                        empresaDatos.direccion.calle\n                          ? empresaDatos.direccion.calle\n                          : \"\"\n                      }\n                      onChange={obtenerCamposDireccion}\n                    />\n                  </Box>\n                  <Box>\n                    <Typography>Num. Ext</Typography>\n                    <TextField\n                      fullWidth\n                      size=\"small\"\n                      name=\"no_ext\"\n                      variant=\"outlined\"\n                      disabled={bloqueo}\n                      value={\n                        empresaDatos.direccion.no_ext\n                          ? empresaDatos.direccion.no_ext\n                          : \"\"\n                      }\n                      onChange={obtenerCamposDireccion}\n                    />\n                  </Box>\n                  <Box>\n                    <Typography>Num. Int</Typography>\n                    <TextField\n                      fullWidth\n                      size=\"small\"\n                      name=\"no_int\"\n                      variant=\"outlined\"\n                      disabled={bloqueo}\n                      value={\n                        empresaDatos.direccion.no_int\n                          ? empresaDatos.direccion.no_int\n                          : \"\"\n                      }\n                      onChange={obtenerCamposDireccion}\n                    />\n                  </Box>\n                </Grid>\n                <Grid item md={4}>\n                  <Box>\n                    <Typography>C.P. </Typography>\n                    <TextField\n                      fullWidth\n                      size=\"small\"\n                      name=\"codigo_postal\"\n                      variant=\"outlined\"\n                      disabled={bloqueo}\n                      value={\n                        empresaDatos.direccion.codigo_postal\n                          ? empresaDatos.direccion.codigo_postal\n                          : \"\"\n                      }\n                      onChange={obtenerCamposDireccion}\n                    />\n                  </Box>\n                  <Box>\n                    <Typography>Colonia</Typography>\n                    <TextField\n                      fullWidth\n                      size=\"small\"\n                      name=\"colonia\"\n                      variant=\"outlined\"\n                      disabled={bloqueo}\n                      value={\n                        empresaDatos.direccion.colonia\n                          ? empresaDatos.direccion.colonia\n                          : \"\"\n                      }\n                      onChange={obtenerCamposDireccion}\n                    />\n                  </Box>\n                  <Box>\n                    <Typography>Municipio</Typography>\n                    <TextField\n                      fullWidth\n                      size=\"small\"\n                      name=\"municipio\"\n                      variant=\"outlined\"\n                      disabled={bloqueo}\n                      value={\n                        empresaDatos.direccion.municipio\n                          ? empresaDatos.direccion.municipio\n                          : \"\"\n                      }\n                      onChange={obtenerCamposDireccion}\n                    />\n                  </Box>\n                </Grid>\n                <Grid item md={4}>\n                  <Box>\n                    <Typography>Localidad</Typography>\n                    <TextField\n                      fullWidth\n                      size=\"small\"\n                      name=\"localidad\"\n                      variant=\"outlined\"\n                      disabled={bloqueo}\n                      value={\n                        empresaDatos.direccion.localidad\n                          ? empresaDatos.direccion.localidad\n                          : \"\"\n                      }\n                      onChange={obtenerCamposDireccion}\n                    />\n                  </Box>\n                  <Box>\n                    <Typography>Estado</Typography>\n                    <TextField\n                      fullWidth\n                      size=\"small\"\n                      name=\"estado\"\n                      variant=\"outlined\"\n                      disabled={bloqueo}\n                      value={\n                        empresaDatos.direccion.estado\n                          ? empresaDatos.direccion.estado\n                          : \"\"\n                      }\n                      onChange={obtenerCamposDireccion}\n                    />\n                  </Box>\n                  <Box>\n                    <Typography>Pais</Typography>\n                    <TextField\n                      fullWidth\n                      size=\"small\"\n                      name=\"pais\"\n                      variant=\"outlined\"\n                      disabled={bloqueo}\n                      value={\n                        empresaDatos.direccion.pais\n                          ? empresaDatos.direccion.pais\n                          : \"\"\n                      }\n                      onChange={obtenerCamposDireccion}\n                    />\n                  </Box>\n                </Grid>\n              </Grid>\n            </Container>\n          )}\n        </DialogContent>\n        {sesion.accesos.mi_empresa.datos_empresa.editar === false ? null : (\n          <DialogActions style={{ justifyContent: \"center\" }}>\n            <Button onClick={handleClose} color=\"primary\">\n              Cancelar\n            </Button>\n            <Button\n              onClick={() => actEmp()}\n              color=\"primary\"\n              variant=\"contained\"\n              autoFocus\n            >\n              Guardar\n            </Button>\n          </DialogActions>\n        )}\n      </Dialog>\n    </div>\n  );\n}\n","import React from 'react';\nimport { Box, Container, Grid } from '@material-ui/core';\nimport InformacionFiscal from './InformacionFiscal/InformacionFiscal';\nimport Datos from './Datos/MisDatos';\n\nexport default function MiEmpresa() {\n\t\n\t\n\tconst sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\n\t\n\treturn (\n\t\t<div>\n\t\t\t<Container>\n\t\t\t<Grid container spacing={5} justify=\"center\">\n\t\t\t\t{sesion.accesos.mi_empresa.datos_empresa.ver === false ? (null):(\n\t\t\t\t\t<Grid item lg={2}>\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t<Datos idEmpresa={sesion.empresa._id} />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t)}\n\t\t\t\t{sesion.accesos.mi_empresa.informacion_fiscal.ver === false ? (null):(\n\t\t\t\t\t<Grid item lg={2}>\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t<InformacionFiscal />\n\t\t\t\t\t\t</Box> \n\t\t\t\t\t</Grid>\n\t\t\t\t)}\n\t\t\t</Grid>\n\t\t</Container>\n\t\t</div>\n\t);\n}\n","import { EmpresaProvider } from '../../../context/Catalogos/empresaContext';\nimport MiEmpresa from './MiEmpresa';\n\nexport default function Empresa() {\n    return(\n        <div>\n            <EmpresaProvider>\n                <MiEmpresa/>\n            </EmpresaProvider>\n        </div>\n    )\n}","export const unitCodes = [\n    {unidad: \"Pz\", codigo_unidad: \"H87\"},\n    {unidad: \"Caja\", codigo_unidad: \"XBX\"}\n]\n\nexport const unitCodes_granel = [\n  {unidad: \"Kg\", codigo_unidad: \"KGM\"},\n  {unidad: \"Lt\", codigo_unidad: \"LTR\"},\n  {unidad: \"Costal\", codigo_unidad: \"KGM\"},\n]","import React, { Fragment, useContext, useState } from \"react\";\nimport {\n  IconButton,\n  InputAdornment,\n  OutlinedInput,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n} from \"@material-ui/core\";\nimport {\n  Box,\n  TextField,\n  Typography,\n  Table,\n  Checkbox,\n  Select,\n  MenuItem,\n  Button,\n} from \"@material-ui/core\";\nimport { Dialog, DialogActions, DialogTitle } from \"@material-ui/core\";\nimport { Add, DeleteOutline, LocalOffer } from \"@material-ui/icons\";\nimport { makeStyles } from \"@material-ui/core\";\nimport { FormControl } from \"@material-ui/core\";\nimport { RegProductoContext } from \"../../../../../context/Catalogos/CtxRegProducto\";\nimport { formatoMexico } from \"../../../../../config/reuserFunctions\";\nimport { unitCodes, unitCodes_granel } from \"../unidades\";\n\nconst useStyles = makeStyles((theme) => ({\n  formInputFlex: {\n    display: \"flex\",\n    \"& > *\": {\n      margin: `5px 5px`,\n    },\n  },\n}));\n\nexport default function PreciosDeCompra() {\n  const classes = useStyles();\n  const {\n    datos_generales,\n    precios,\n    unidadesVenta,\n    setUnidadesVenta,\n    unidadVentaXDefecto,\n    setUnidadVentaXDefecto,\n    update,\n  } = useContext(RegProductoContext);\n  const [unidades, setUnidades] = useState({\n    unidad: precios.unidad_de_compra.unidad,\n    codigo_unidad: precios.unidad_de_compra.codigo_unidad,\n    unidad_principal: false,\n    cantidad: 1,\n  });\n\n  const obtenerUnidadesVentas = (e, child) => {\n    if (e.target.name === \"cantidad\") {\n      let cantidad = parseFloat(e.target.value);\n      setUnidades({\n        ...unidades,\n        cantidad: cantidad,\n        precio: cantidad * unidadVentaXDefecto.precio,\n      });\n    } else if (e.target.name === \"unidad\") {\n      const { codigo_unidad, unidad } = child.props.unidad;\n      setUnidades({\n        ...unidades,\n        [e.target.name]: unidad,\n        codigo_unidad,\n        precio: unidades.cantidad * unidadVentaXDefecto.precio,\n      });\n    } else {\n      setUnidades({\n        ...unidades,\n        [e.target.name]: e.target.value,\n      });\n    }\n  };\n\n  const obtenerPrecioUVentas = (value) => {\n    console.log(\"obtenreprecio\");\n    if (unidades.descuento_activo && unidades.descuento_activo === true) {\n      console.log(\"entra\");\n      //calcular nuevo precio entre %\n      let precio_neto = Math.round(\n        value -\n          value *\n            parseFloat(\n              `0.${\n                unidades.descuento.porciento < 10\n                  ? `0${unidades.descuento.porciento}`\n                  : unidades.descuento.porciento\n              }`\n            )\n      );\n      setUnidades({\n        ...unidades,\n        precio: parseFloat(value),\n        descuento: { ...unidades.descuento, precio_neto },\n      });\n    } else {\n      setUnidades({\n        ...unidades,\n        precio: parseFloat(value),\n      });\n    }\n  };\n\n  const agregarNuevaUnidad = () => {\n    if (!unidades.unidad || !unidades.precio || !unidades.cantidad) return;\n    unidades.descuento_activo = null;\n    const { precio, cantidad } = unidades;\n    const { iva, ieps } = precios;\n\n    let suma_impuestos =\n      parseFloat(`0.${iva < 10 ? `0${iva}` : iva}`) +\n      parseFloat(`0.${ieps < 10 ? `0${ieps}` : ieps}`);\n    let PVCI = parseFloat((precio / cantidad).toFixed(2));\n    let PVSI = parseFloat((PVCI / (suma_impuestos + 1)).toFixed(2));\n\n    let PCSI = precios.unidad_de_compra.precio_unitario_sin_impuesto;\n    let iva_precio = parseFloat(\n      PVSI * parseFloat(`0.${iva < 10 ? `0${iva}` : iva}`).toFixed(2)\n    );\n    let ieps_precio = parseFloat(\n      PVSI * parseFloat(`0.${ieps < 10 ? `0${ieps}` : ieps}`).toFixed(2)\n    );\n    let utilidad = parseFloat((((PVSI - PCSI) / PCSI) * 100).toFixed(2));\n\n    let new_unidad = {\n      ...unidades,\n      precio_unidad: {\n        numero_precio: 1,\n        precio_venta: PVSI,\n        precio_neto: PVCI,\n        unidad_mayoreo: 0,\n        iva_precio,\n        ieps_precio,\n        utilidad,\n        unidad_maxima: false,\n      },\n    };\n\n    if (unidades.codigo_unidad === \"XBX\" || unidades.codigo_unidad === \"KGM\") {\n      new_unidad.precio_unidad.precio_general = precio;\n      new_unidad.precio_unidad.cantidad_unidad = cantidad;\n      new_unidad.precio_unidad.unidad_maxima = true;\n    }\n    setUnidadesVenta([...unidadesVenta, new_unidad]);\n    setUnidades({\n      unidad: \"Pz\",\n      codigo_unidad: \"H87\",\n      unidad_principal: false,\n    });\n  };\n\n  const descuentoUnidadXdefecto = (descuento_activo) => {\n    setUnidadVentaXDefecto({\n      ...unidadVentaXDefecto,\n      descuento_activo,\n    })\n  } \n\n  const checkUnidadDefault = (checked) => {\n    setUnidadVentaXDefecto({\n      ...unidadVentaXDefecto,\n      unidad_principal: checked,\n    });\n    if (checked) {\n      let nuevo_array = [];\n      for (let i = 0; i < unidadesVenta.length; i++) {\n        const element = unidadesVenta[i];\n        let new_element = {\n          _id: element._id,\n          codigo_barras: element.codigo_barras,\n          unidad: element.unidad,\n          codigo_unidad: element.codigo_unidad,\n          precio: parseFloat(element.precio),\n          cantidad: parseFloat(element.cantidad),\n          unidad_principal: false,\n          default: element.default,\n          descuento: element.descuento,\n          descuento_activo: element.descuento_activo,\n          precio_unidad: element.precio_unidad,\n        };\n        nuevo_array.push(new_element);\n      }\n      setUnidadesVenta([...nuevo_array]);\n    }\n  };\n\n  const GenCodigoBarras = () => {\n    const max = 999999999999;\n    const min = 100000000000;\n    const codigo_barras = Math.floor(\n      Math.random() * (max - min + 1) + min\n    ).toString();\n    setUnidades({\n      ...unidades,\n      codigo_barras,\n    });\n  };\n\n  return (\n    <Fragment>\n      <Box className={classes.formInputFlex} justifyContent=\"center\">\n        <Box width={100}>\n          <Typography>Unidad</Typography>\n          <Box display=\"flex\">\n            <FormControl\n              variant=\"outlined\"\n              fullWidth\n              size=\"small\"\n              name=\"unidad\"\n            >\n              {precios.granel ? (\n                <Select\n                  name=\"unidad\"\n                  value={unidades.unidad}\n                  onChange={obtenerUnidadesVentas}\n                >\n                  {unitCodes_granel.map((res, index) => (\n                    <MenuItem key={index} unidad={res} value={res.unidad}>\n                      {res.unidad}\n                    </MenuItem>\n                  ))}\n                </Select>\n              ) : (\n                <Select\n                  name=\"unidad\"\n                  value={unidades.unidad}\n                  onChange={obtenerUnidadesVentas}\n                >\n                  {unitCodes.map((res, index) => (\n                    <MenuItem key={index} unidad={res} value={res.unidad}>\n                      {res.unidad}\n                    </MenuItem>\n                  ))}\n                </Select>\n              )}\n            </FormControl>\n          </Box>\n        </Box>\n        <Box width={180}>\n          <Typography>\n            Cantidad{\" \"}\n            <b>\n              {unidades.unidad === \"Caja\"\n                ? \"(pz por caja)\"\n                : unidades.unidad === \"Costal\"\n                ? \"(kg por costal)\"\n                : \"\"}\n            </b>\n          </Typography>\n          <TextField\n            disabled={unidades.codigo_unidad === \"H87\"}\n            type=\"number\"\n            InputProps={{ inputProps: { min: 0 } }}\n            size=\"small\"\n            name=\"cantidad\"\n            variant=\"outlined\"\n            onChange={obtenerUnidadesVentas}\n            value={unidades.cantidad ? unidades.cantidad : \"\"}\n            fullWidth\n          />\n        </Box>\n        <Box width={130}>\n          <Typography>\n            Precio por <b>{unidades.unidad}</b>\n          </Typography>\n          <TextField\n            type=\"number\"\n            InputProps={{ inputProps: { min: 0 } }}\n            size=\"small\"\n            name=\"precio\"\n            variant=\"outlined\"\n            onChange={(e) => obtenerPrecioUVentas(e.target.value)}\n            value={unidades.precio ? unidades.precio : \"\"}\n            fullWidth\n          />\n        </Box>\n        {unidades.descuento_activo === true ? (\n          <Box width={130}>\n            <Typography>\n              <b>$ </b>Descuento\n            </Typography>\n            <TextField\n              inputProps={{ readOnly: true }}\n              size=\"small\"\n              variant=\"outlined\"\n              value={unidades.descuento.precio_neto}\n              fullWidth\n            />\n          </Box>\n        ) : null}\n        <Box width={240}>\n          <FormControl\n            variant=\"outlined\"\n            size=\"small\"\n            name=\"codigo_barras\"\n            fullWidth\n          >\n            <Typography>Cdigo de barras</Typography>\n            <OutlinedInput\n              fullWidth\n              disabled={update}\n              id=\"input-codigo-barras\"\n              name=\"codigo_barras\"\n              value={unidades.codigo_barras ? unidades.codigo_barras : \"\"}\n              onChange={obtenerUnidadesVentas}\n              endAdornment={\n                <InputAdornment position=\"end\">\n                  <Button\n                    onClick={() => GenCodigoBarras()}\n                    edge=\"end\"\n                    color=\"primary\"\n                    disabled={update}\n                  >\n                    Generar\n                  </Button>\n                </InputAdornment>\n              }\n            />\n          </FormControl>\n        </Box>\n        <Box display=\"flex\" alignItems=\"flex-end\">\n          <Button\n            color=\"primary\"\n            onClick={() => agregarNuevaUnidad()}\n            startIcon={<Add fontSize=\"large\" />}\n            /* startIcon={\n              actualizarUnidad ? (\n                <Done fontSize=\"large\" />\n              ) : (\n                <Add fontSize=\"large\" />\n              )\n            } */\n            variant=\"outlined\"\n            size=\"large\"\n          >\n            Guardar\n          </Button>\n        </Box>\n      </Box>\n      <Box>\n        <TableContainer>\n          <Table size=\"small\" aria-label=\"a dense table\">\n            <TableHead>\n              <TableRow>\n                <TableCell>Cdigo de barras</TableCell>\n                <TableCell>Unidad</TableCell>\n                <TableCell>Precio</TableCell>\n                <TableCell>Cantidad</TableCell>\n                <TableCell>Aplicar Descuento</TableCell>\n                <TableCell>Unidad Principal</TableCell>\n                <TableCell>Acciones</TableCell>\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              <TableRow /* selected={actualizarUnidad ? true : false} */>\n                <TableCell>{datos_generales.codigo_barras}</TableCell>\n                <TableCell>{unidadVentaXDefecto.unidad}</TableCell>\n                <TableCell>\n                  <Box display=\"flex\" alignItems=\"center\">\n                    {unidadVentaXDefecto.descuento_activo !== null ? (\n                      <LocalOffer\n                        color={\n                          unidadVentaXDefecto.descuento_activo === true\n                            ? \"primary\"\n                            : \"action\"\n                        }\n                      />\n                    ) : null}\n                    <Box mr={1} />\n                    <Typography>\n                      <b>\n                        $\n                        {formatoMexico(\n                          unidadVentaXDefecto.descuento_activo === true\n                            ? unidadVentaXDefecto.descuento.precio_neto\n                            : unidadVentaXDefecto.precio\n                        )}\n                      </b>\n                    </Typography>\n                  </Box>\n                </TableCell>\n                <TableCell>{unidadVentaXDefecto.cantidad}</TableCell>\n                <TableCell>\n                  {unidadVentaXDefecto.descuento_activo !== undefined &&\n                  unidadVentaXDefecto.descuento_activo !== null ? (\n                    <Box display=\"flex\" alignItems=\"center\">\n                      <Checkbox\n                        checked={\n                          unidadVentaXDefecto.descuento_activo === true\n                            ? unidadVentaXDefecto.descuento_activo\n                            : false\n                        }\n                        onChange={(e) =>\n                          descuentoUnidadXdefecto(e.target.checked)\n                        }\n                        inputProps={{ \"aria-label\": \"check descuento\" }}\n                        color=\"primary\"\n                        disabled={unidadVentaXDefecto.descuento_activo === null}\n                      />\n                      <Typography color=\"primary\">\n                        %\n                        {parseFloat(\n                          unidadVentaXDefecto.descuento_activo !== null\n                            ? unidadVentaXDefecto.descuento.porciento\n                            : 0\n                        )}\n                      </Typography>\n                    </Box>\n                  ) : null}\n                </TableCell>\n                <TableCell>\n                  <Checkbox\n                    checked={unidadVentaXDefecto.unidad_principal}\n                    onChange={(e) => checkUnidadDefault(e.target.checked)}\n                    inputProps={{ \"aria-label\": \"primary checkbox\" }}\n                    disabled={unidadesVenta.length === 0}\n                  />\n                </TableCell>\n                <TableCell>\n                  {/* {actualizarUnidad ? (\n                    <IconButton\n                      color=\"primary\"\n                      onClick={() => cancelarUpdate()}\n                    >\n                      <Close color=\"primary\" />\n                    </IconButton>\n                  ) : (\n                    <IconButton\n                      color=\"primary\"\n                      onClick={() => updateUnidadPrincipal()}\n                    >\n                      <EditOutlined color=\"primary\" />\n                    </IconButton>\n                  )} */}\n                </TableCell>\n              </TableRow>\n              {unidadesVenta.map((unidades, index) => {\n                if (unidades.default !== true)\n                  return (\n                    <RenderUnidadesRows\n                      key={index}\n                      unidades={unidades}\n                      index={index}\n                    />\n                  );\n                return null;\n              })}\n            </TableBody>\n          </Table>\n        </TableContainer>\n      </Box>\n    </Fragment>\n  );\n}\n\nconst RenderUnidadesRows = ({ unidades, index }) => {\n  const {\n    unidadesVenta,\n    setUnidadesVenta,\n    unidadVentaXDefecto,\n    setUnidadVentaXDefecto,\n  } = useContext(RegProductoContext);\n\n  const checkUnidadPrincipal = () => {\n    let nuevo_array = [];\n    for (let i = 0; i < unidadesVenta.length; i++) {\n      const element = unidadesVenta[i];\n      let new_element = {\n        _id: element._id,\n        codigo_barras: element.codigo_barras,\n        unidad: element.unidad,\n        codigo_unidad: element.codigo_unidad,\n        precio: parseFloat(element.precio),\n        cantidad: parseFloat(element.cantidad),\n        unidad_principal: i === index ? true : false,\n        default: element.default,\n        descuento: element.descuento,\n        descuento_activo: element.descuento_activo,\n        precio_unidad: element.precio_unidad,\n      };\n      nuevo_array.push(new_element);\n    }\n    setUnidadesVenta([...nuevo_array]);\n    setUnidadVentaXDefecto({\n      ...unidadVentaXDefecto,\n      unidad_principal: false,\n    });\n  };\n\n  const aplicarDescuento = (value) => {\n    let nuevo_array = [];\n    for (let i = 0; i < unidadesVenta.length; i++) {\n      const element = unidadesVenta[i];\n\n      let new_element = {\n        _id: element._id,\n        codigo_barras: element.codigo_barras,\n        unidad: element.unidad,\n        codigo_unidad: element.codigo_unidad,\n        precio: parseFloat(element.precio),\n        cantidad: parseFloat(element.cantidad),\n        unidad_principal: element.unidad_principal,\n        default: element.default,\n        descuento: element.descuento,\n        descuento_activo: i === index ? value : element.descuento_activo,\n        precio_unidad: element.precio_unidad,\n      };\n      nuevo_array.push(new_element);\n    }\n    setUnidadesVenta([...nuevo_array]);\n  };\n\n  return (\n    <TableRow>\n      <TableCell>{unidades.codigo_barras}</TableCell>\n      <TableCell>{unidades.unidad}</TableCell>\n      <TableCell>\n        <Box display=\"flex\" alignItems=\"center\">\n          {unidades.descuento_activo !== null ? (\n            <LocalOffer\n              color={unidades.descuento_activo ? \"primary\" : \"action\"}\n            />\n          ) : null}\n          <Box mr={1} />\n          <Typography>\n            <b>\n              $\n              {formatoMexico(\n                unidades.descuento_activo === true\n                  ? unidades.descuento.precio_neto\n                  : unidades.precio\n              )}\n            </b>\n          </Typography>\n        </Box>\n      </TableCell>\n      <TableCell>{unidades.cantidad}</TableCell>\n      <TableCell>\n        {unidades.descuento_activo !== null ? (\n          <Box display=\"flex\" alignItems=\"center\">\n            <Checkbox\n              checked={\n                unidades.descuento_activo ? unidades.descuento_activo : false\n              }\n              onChange={(e) => aplicarDescuento(e.target.checked)}\n              inputProps={{ \"aria-label\": \"check descuento\" }}\n              color=\"primary\"\n              disabled={unidades.descuento_activo === null}\n            />\n            <Typography color=\"primary\">\n              %\n              {parseFloat(\n                unidades.descuento && unidades.descuento !== null\n                  ? unidades.descuento.porciento\n                  : 0\n              )}\n            </Typography>\n          </Box>\n        ) : null}\n      </TableCell>\n      <TableCell>\n        <Checkbox\n          checked={unidades.unidad_principal}\n          onChange={(e) => checkUnidadPrincipal(e.target.checked)}\n          inputProps={{ \"aria-label\": \"primary checkbox\" }}\n        />\n      </TableCell>\n      <TableCell>\n        <ModalDelete unidades={unidades} index={index} />\n      </TableCell>\n    </TableRow>\n  );\n};\n\nconst ModalDelete = ({ unidades, index }) => {\n  const [open, setOpen] = useState(false);\n  const {\n    unidadesVenta,\n    setUnidadesVenta,\n    unidadVentaXDefecto,\n    setUnidadVentaXDefecto,\n  } = useContext(RegProductoContext);\n\n  const toggleModal = () => {\n    setOpen(!open);\n  };\n\n  const eliminarUnidad = () => {\n    unidadesVenta.splice(index, 1);\n    if (unidadesVenta.length === 0 || unidades.unidad_principal) {\n      setUnidadVentaXDefecto({\n        ...unidadVentaXDefecto,\n        unidad_principal: true,\n      });\n    }\n    setUnidadesVenta([...unidadesVenta]);\n    toggleModal();\n  };\n\n  return (\n    <div>\n      <IconButton color=\"primary\" onClick={() => toggleModal()}>\n        <DeleteOutline color=\"primary\" />\n      </IconButton>\n      <Dialog open={open} onClose={toggleModal}>\n        <DialogTitle>{\"se eliminar esta unidad de venta\"}</DialogTitle>\n        <DialogActions>\n          <Button onClick={() => toggleModal()} color=\"primary\">\n            Cancelar\n          </Button>\n          <Button onClick={() => eliminarUnidad()} color=\"secondary\" autoFocus>\n            Eliminar\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n};\n","import React, { Fragment, useContext, useEffect } from \"react\";\nimport {\n  Box,\n  InputAdornment,\n  makeStyles,\n  TextField,\n  Typography,\n} from \"@material-ui/core\";\nimport { RegProductoContext } from \"../../../../../context/Catalogos/CtxRegProducto\";\n\nconst useStyles = makeStyles((theme) => ({\n  precioTitle: {\n    width: theme.spacing(20),\n  },\n  marginInput: {\n    marginTop: 19,\n  },\n  input: {\n    \"& input[type=number]\": {\n      \"-moz-appearance\": \"textfield\",\n    },\n    \"& input[type=number]::-webkit-outer-spin-button\": {\n      \"-webkit-appearance\": \"none\",\n      margin: 0,\n    },\n    \"& input[type=number]::-webkit-inner-spin-button\": {\n      \"-webkit-appearance\": \"none\",\n      margin: 0,\n    },\n  },\n}));\n\nexport default function PreciosDeVenta() {\n  const { preciosP } = useContext(RegProductoContext);\n  let newPreciosP = [...preciosP];\n\n  return (\n    <Fragment>\n      {preciosP.map((res, index) => (\n        <RenderPreciosP\n          key={index}\n          data={res}\n          index={index}\n          newPreciosP={newPreciosP}\n        />\n      ))}\n    </Fragment>\n  );\n}\n\nconst RenderPreciosP = ({ data, index, newPreciosP }) => {\n  const classes = useStyles();\n  const {\n    preciosP,\n    precios,\n    unidadVentaXDefecto,\n    setUnidadVentaXDefecto,\n    setPreciosP,\n  } = useContext(RegProductoContext);\n  let preciosVenta = { ...preciosP[index] };\n\n  const obtenerUtilidad = (valor_base) => {\n    if (!valor_base) {\n      preciosVenta.utilidad = \"\";\n      newPreciosP.splice(index, 1, preciosVenta);\n      setPreciosP(newPreciosP);\n      return;\n    }\n\n    /* let utilidad = 1; */\n    let PUCSI = precios.unidad_de_compra.precio_unitario_sin_impuesto;\n    let { unidad, cantidad, descuento, descuento_activo } = unidadVentaXDefecto;\n    let { iva, ieps } = precios;\n    let utilidad = valor_base / 100;\n\n    const precio_venta = PUCSI * utilidad + PUCSI;\n    let iva_precio =\n      precio_venta * parseFloat(`0.${iva < 10 ? `0${iva}` : iva}`);\n    let ieps_precio =\n      precio_venta * parseFloat(`0.${ieps < 10 ? `0${ieps}` : ieps}`);\n    let impuestos = iva_precio + ieps_precio;\n    const precio_neto = precio_venta + impuestos;\n\n    preciosVenta.utilidad = parseFloat(valor_base);\n    preciosVenta.precio_venta = parseFloat(precio_venta.toFixed(2));\n    preciosVenta.precio_neto = parseFloat(precio_neto.toFixed(2));\n\n    //meter los precios a unidadXdefecto\n    let unidadXDefecto = {\n      ...unidadVentaXDefecto,\n      precio_unidad: {\n        numero_precio: preciosVenta.numero_precio,\n        precio_neto: precio_neto,\n        precio_venta: precio_venta,\n        unidad_mayoreo: preciosVenta.unidad_mayoreo,\n        iva_precio,\n        ieps_precio,\n        utilidad: preciosVenta.utilidad,\n        unidad_maxima: false,\n      },\n    };\n\n    if (preciosVenta.numero_precio === 1) {\n      if (unidad === \"Caja\" || unidad === \"Costal\") {\n        unidadXDefecto = {\n          ...unidadXDefecto,\n          precio: parseFloat((cantidad * precio_neto).toFixed(2)),\n        };\n      } else {\n        unidadXDefecto = {\n          ...unidadXDefecto,\n          precio: precio_neto,\n        };\n      }\n      if (descuento_activo === true) {\n        //calcular nuevo precio entre %\n        /* let precio_con_descuento = Math.round(\n          precio_neto - precio_neto * parseFloat(\".\" + descuento.porciento)\n        ); */\n\n        let new_precio_venta_desc = (precio_venta * descuento.porciento) / 100;\n        let new_iva_precio =\n          new_precio_venta_desc * parseFloat(`0.${iva < 10 ? `0${iva}` : iva}`);\n        let new_ieps_precio =\n          new_precio_venta_desc * parseFloat(`0.${ieps < 10 ? `0${ieps}` : ieps}`);\n        let new_impuestos = new_iva_precio + new_ieps_precio;\n        let precio_con_descuento = new_precio_venta_desc + new_impuestos;\n\n        unidadXDefecto = {\n          ...unidadXDefecto,\n          precio: parseFloat(precio_neto.toFixed(2)),\n          descuento: {\n            ...unidadVentaXDefecto.descuento,\n            precio_neto: precio_con_descuento,\n          },\n        };\n      }\n    }\n    setUnidadVentaXDefecto(unidadXDefecto);\n\n    newPreciosP.splice(index, 1, preciosVenta);\n    setPreciosP(newPreciosP);\n  };\n\n  const obtenerPrecioNeto = (value) => {\n    if (!value) {\n      preciosVenta.precio_neto = \"\";\n      newPreciosP.splice(index, 1, preciosVenta);\n      setPreciosP(newPreciosP);\n      return;\n    }\n\n    let precio_neto = parseFloat(value);\n    let { unidad, cantidad, descuento, descuento_activo } = unidadVentaXDefecto;\n    let { iva, ieps } = precios;\n    let PUCSI = precios.unidad_de_compra.precio_unitario_sin_impuesto;\n\n    let suma =\n      parseFloat(`0.${iva < 10 ? `0${iva}` : iva}`) +\n      parseFloat(`0.${ieps < 10 ? `0${ieps}` : ieps}`);\n    let precio_venta = parseFloat((precio_neto / (suma + 1)).toFixed(2));\n    let iva_precio =\n      precio_venta * parseFloat(`0.${iva < 10 ? `0${iva}` : iva}`);\n    let ieps_precio =\n      precio_venta * parseFloat(`0.${ieps < 10 ? `0${ieps}` : ieps}`);\n    let impuestos = iva_precio + ieps_precio;\n    let utilidad_base = ((precio_neto - impuestos - PUCSI) / PUCSI) * 100;\n\n    preciosVenta.precio_neto = precio_neto;\n    preciosVenta.precio_venta = precio_venta;\n    preciosVenta.utilidad = parseFloat(utilidad_base.toFixed(2));\n\n    //meter los precios a unidadXdefecto\n    let unidadXDefecto = {\n      ...unidadVentaXDefecto,\n      precio_unidad: {\n        numero_precio: preciosVenta.numero_precio,\n        precio_neto: precio_neto,\n        precio_venta: precio_venta,\n        unidad_mayoreo: preciosVenta.unidad_mayoreo,\n        iva_precio,\n        ieps_precio,\n        utilidad: preciosVenta.utilidad,\n        unidad_maxima: false,\n      },\n    };\n\n    if (preciosVenta.numero_precio === 1) {\n      if (unidad === \"Caja\" || unidad === \"Costal\") {\n        unidadXDefecto = {\n          ...unidadXDefecto,\n          precio: parseFloat((cantidad * precio_neto).toFixed(2)),\n        };\n      } else {\n        unidadXDefecto = {\n          ...unidadXDefecto,\n          precio: precio_neto,\n        };\n      }\n      if (descuento_activo === true) {\n        //calcular nuevo precio entre %\n        /* let precio_con_descuento = Math.round(\n          precio_neto - precio_neto * parseFloat(\".\" + descuento.porciento)\n        ); */\n\n        let new_precio_venta_desc = (precio_venta * descuento.porciento) / 100;\n        let new_iva_precio =\n          new_precio_venta_desc * parseFloat(`0.${iva < 10 ? `0${iva}` : iva}`);\n        let new_ieps_precio =\n          new_precio_venta_desc * parseFloat(`0.${ieps < 10 ? `0${ieps}` : ieps}`);\n        let new_impuestos = new_iva_precio + new_ieps_precio;\n        let precio_con_descuento = new_precio_venta_desc + new_impuestos;\n\n        unidadXDefecto = {\n          ...unidadXDefecto,\n          precio: parseFloat(precio_neto.toFixed(2)),\n          descuento: {\n            ...unidadVentaXDefecto.descuento,\n            precio_neto: precio_con_descuento,\n          },\n        };\n      }\n    }\n    setUnidadVentaXDefecto(unidadXDefecto);\n\n    newPreciosP.splice(index, 1, preciosVenta);\n    setPreciosP(newPreciosP);\n  };\n\n  const obtenerMayoreo = (value) => {\n    if (!value) {\n      preciosVenta.unidad_mayoreo = \"\";\n      newPreciosP.splice(index, 1, preciosVenta);\n      setPreciosP(newPreciosP);\n      return;\n    }\n    preciosVenta.unidad_mayoreo = parseInt(value);\n    newPreciosP.splice(index, 1, preciosVenta);\n    setPreciosP(newPreciosP);\n  };\n\n  const calculos = () => {\n    let { iva, ieps } = precios;\n    let { unidad, cantidad, descuento, descuento_activo } = unidadVentaXDefecto;\n    let PUCSI = precios.unidad_de_compra.precio_unitario_sin_impuesto;\n    let utilidad_base = preciosVenta.utilidad ? preciosVenta.utilidad : 0;\n    let utilidad = utilidad_base / 100;\n\n    //precio venta y neto con utilidad\n    const precio_venta = parseFloat((PUCSI * utilidad + PUCSI).toFixed(2));\n    let iva_precio =\n      precio_venta * parseFloat(`0.${iva < 10 ? `0${iva}` : iva}`);\n    let ieps_precio =\n      precio_venta * parseFloat(`0.${ieps < 10 ? `0${ieps}` : ieps}`);\n    let impuestos = iva_precio + ieps_precio;\n\n    const precio_neto = parseFloat((precio_venta + impuestos).toFixed(2));\n\n    //meter los valores a preciosVenta\n    preciosVenta.precio_venta = precio_venta;\n    preciosVenta.precio_neto = precio_neto;\n    preciosVenta.iva_precio = iva;\n    preciosVenta.ieps_precio = ieps;\n\n    //meter los precios a unidadXdefecto\n    let unidadXDefecto = {\n      ...unidadVentaXDefecto,\n      precio_unidad: {\n        numero_precio: preciosVenta.numero_precio,\n        precio_neto: precio_neto,\n        precio_venta: precio_venta,\n        unidad_mayoreo: preciosVenta.unidad_mayoreo,\n        iva_precio,\n        ieps_precio,\n        utilidad: preciosVenta.utilidad,\n        unidad_maxima: false,\n      },\n    };\n\n    if (preciosVenta.numero_precio === 1) {\n      if (unidad === \"Caja\" || unidad === \"Costal\") {\n        unidadXDefecto = {\n          ...unidadXDefecto,\n          precio: parseFloat((cantidad * precio_neto).toFixed(2)),\n        };\n      } else {\n        unidadXDefecto = {\n          ...unidadXDefecto,\n          precio: precio_neto,\n        };\n      }\n      if (descuento_activo === true) {\n        //calcular nuevo precio entre %\n        /* let precio_con_descuento = Math.round(\n          precio_neto - precio_neto * parseFloat(\".\" + descuento.porciento)\n        ); */\n\n        let new_precio_venta_desc = (precio_venta * descuento.porciento) / 100;\n        let new_iva_precio =\n          new_precio_venta_desc * parseFloat(`0.${iva < 10 ? `0${iva}` : iva}`);\n        let new_ieps_precio =\n          new_precio_venta_desc * parseFloat(`0.${ieps < 10 ? `0${ieps}` : ieps}`);\n        let new_impuestos = new_iva_precio + new_ieps_precio;\n        let precio_con_descuento = new_precio_venta_desc + new_impuestos;\n\n        unidadXDefecto = {\n          ...unidadXDefecto,\n          precio: parseFloat(precio_neto.toFixed(2)),\n          descuento: {\n            ...unidadVentaXDefecto.descuento,\n            precio_neto: precio_con_descuento,\n          },\n        };\n      }\n    }\n    setUnidadVentaXDefecto(unidadXDefecto);\n\n    newPreciosP.splice(index, 1, preciosVenta);\n    setPreciosP(newPreciosP);\n  };\n\n  useEffect(() => {\n    if (preciosVenta.numero_precio === 1) {\n      calculos();\n    } else if (preciosVenta.numero_precio > 1 && preciosVenta.precio_neto) {\n      calculos();\n    }\n\n    /* preciosP.splice(index, 1, preciosVenta); */\n  }, [precios.unidad_de_compra.precio_unitario_con_impuesto]);\n\n  const verificarCampoVacio = (name, value) => {\n    switch (name) {\n      case \"utilidad\":\n        if (!value) {\n          preciosVenta.utilidad = 0;\n          preciosVenta.precio_neto =\n            precios.unidad_de_compra.precio_unitario_con_impuesto;\n          newPreciosP.splice(index, 1, preciosVenta);\n          setPreciosP(newPreciosP);\n        }\n        break;\n      case \"precio_neto\":\n        if (!value) {\n          preciosVenta.precio_neto =\n            preciosVenta.numero_precio > 1\n              ? 0\n              : precios.unidad_de_compra.precio_unitario_con_impuesto;\n          preciosVenta.utilidad = 0;\n          newPreciosP.splice(index, 1, preciosVenta);\n          setPreciosP(newPreciosP);\n        }\n        break;\n      case \"unidad_mayoreo\":\n        if (!value) {\n          preciosVenta.unidad_mayoreo = 0;\n          newPreciosP.splice(index, 1, preciosVenta);\n          setPreciosP(newPreciosP);\n        }\n        break;\n      default:\n        break;\n    }\n  };\n\n  return (\n    <Box className={classes.input}>\n      <Box display=\"flex\" my={1} mr={1}>\n        <Box\n          alignItems=\"flex-end\"\n          display={data.numero_precio > 1 ? \"none\" : \"flex\"}\n        >\n          <Typography className={classes.precioTitle}>\n            <b>Utilidad</b>\n          </Typography>\n        </Box>\n        <Box minWidth={100}>\n          <Typography>Precio {data.numero_precio}</Typography>\n          <Box mb={2} />\n          <TextField\n            disabled={\n              !parseFloat(precios.unidad_de_compra.precio_unitario_sin_impuesto)\n            }\n            fullWidth\n            type=\"number\"\n            InputProps={{\n              inputProps: { min: 0 },\n              endAdornment: <InputAdornment position=\"start\">%</InputAdornment>,\n            }}\n            size=\"small\"\n            value={preciosVenta.utilidad}\n            name=\"utilidad\"\n            variant=\"outlined\"\n            onChange={(e) => obtenerUtilidad(e.target.value)}\n            onBlur={() =>\n              verificarCampoVacio(\"utilidad\", preciosVenta.utilidad)\n            }\n            error={preciosVenta.utilidad === \"\"}\n          />\n        </Box>\n      </Box>\n      <Box display=\"flex\" my={2} mr={1}>\n        <Box\n          alignItems=\"flex-end\"\n          display={data.numero_precio > 1 ? \"none\" : \"flex\"}\n        >\n          <Box\n            alignItems=\"flex-end\"\n            flexDirection=\"column\"\n            display={data.numero_precio > 1 ? \"none\" : \"flex\"}\n          >\n            <Typography className={classes.precioTitle}>\n              <b>Precio de venta</b>\n            </Typography>\n            <Typography\n              className={classes.precioTitle}\n              variant=\"caption\"\n              color=\"textSecondary\"\n            >\n              (precio sin impuestos)\n            </Typography>\n          </Box>\n        </Box>\n        <Box pl={1}>\n          <Typography>\n            <b>{parseFloat(preciosVenta.precio_venta).toFixed(2)}</b>\n          </Typography>\n        </Box>\n      </Box>\n      <Box display=\"flex\" my={1} mr={1}>\n        <Box\n          alignItems=\"flex-end\"\n          flexDirection=\"column\"\n          display={data.numero_precio > 1 ? \"none\" : \"flex\"}\n        >\n          <Typography className={classes.precioTitle}>\n            <b>Precio venta neto</b>\n          </Typography>\n          <Typography\n            className={classes.precioTitle}\n            variant=\"caption\"\n            color=\"textSecondary\"\n          >\n            (precio con impuestos)\n          </Typography>\n        </Box>\n        <Box className={data.numero_precio > 1 ? classes.marginInput : \"\"}>\n          <TextField\n            disabled={\n              !parseFloat(precios.unidad_de_compra.precio_unitario_sin_impuesto)\n            }\n            fullWidth\n            type=\"number\"\n            InputProps={{ inputProps: { min: 0 } }}\n            size=\"small\"\n            name=\"precio_neto\"\n            variant=\"outlined\"\n            value={preciosVenta.precio_neto}\n            onChange={(e) => obtenerPrecioNeto(e.target.value)}\n            onBlur={() =>\n              verificarCampoVacio(\"precio_neto\", preciosVenta.precio_neto)\n            }\n            error={preciosVenta.precio_neto === \"\"}\n          />\n        </Box>\n      </Box>\n\n      <Box display=\"flex\" my={2} mr={1}>\n        <Box\n          alignItems=\"flex-end\"\n          display={data.numero_precio > 1 ? \"none\" : \"flex\"}\n        >\n          <Typography className={classes.precioTitle}>\n            <b>Unidad por mayoreo</b>\n          </Typography>\n        </Box>\n        {data.numero_precio > 1 ? (\n          <Box>\n            <TextField\n              disabled={\n                !parseFloat(\n                  precios.unidad_de_compra.precio_unitario_sin_impuesto\n                )\n              }\n              fullWidth\n              type=\"number\"\n              InputProps={{ inputProps: { min: 0 } }}\n              size=\"small\"\n              name=\"unidad_mayoreo\"\n              variant=\"outlined\"\n              value={preciosVenta.unidad_mayoreo}\n              onChange={(e) => obtenerMayoreo(e.target.value)}\n              onBlur={() =>\n                verificarCampoVacio(\n                  \"unidad_mayoreo\",\n                  preciosVenta.unidad_mayoreo\n                )\n              }\n              error={preciosVenta.unidad_mayoreo === \"\"}\n            />\n          </Box>\n        ) : null}\n      </Box>\n    </Box>\n  );\n};\n","export const calcular_iva = (input, name, value, precios) => {\n  let precio_con_impuesto = 0;\n  let precio_sin_impuesto = 0;\n  let iva = 0;\n  let ieps = 0;\n  let precio_unitario_sin_impuesto = 0;\n  let precio_unitario_con_impuesto = 0;\n  if (name === \"iva_activo\") {\n    if (value) {\n      precio_sin_impuesto = parseFloat(\n        precios.precio_de_compra.precio_sin_impuesto\n      );\n      iva = parseFloat(precio_sin_impuesto) * 0.16;\n      ieps =\n        parseFloat(precio_sin_impuesto) *\n        parseFloat(\n          precios.ieps < 10 ? \".0\" + precios.ieps : \".\" + precios.ieps\n        );\n      precio_con_impuesto = precio_sin_impuesto + iva + ieps;\n      precio_unitario_sin_impuesto =\n        precio_sin_impuesto / precios.unidad_de_compra.cantidad;\n      precio_unitario_con_impuesto =\n        precio_con_impuesto / precios.unidad_de_compra.cantidad;\n    } else {\n      precio_sin_impuesto = parseFloat(\n        precios.precio_de_compra.precio_sin_impuesto\n      );\n      iva = 0;\n      ieps =\n        parseFloat(precio_sin_impuesto) *\n        parseFloat(\n          precios.ieps < 10 ? \".0\" + precios.ieps : \".\" + precios.ieps\n        );\n      precio_con_impuesto = precio_sin_impuesto + iva + ieps;\n      precio_unitario_sin_impuesto =\n        precio_sin_impuesto / precios.unidad_de_compra.cantidad;\n      precio_unitario_con_impuesto =\n        precio_con_impuesto / precios.unidad_de_compra.cantidad;\n      if (!precios.ieps_activo) {\n        precio_con_impuesto = 0;\n        precio_unitario_con_impuesto =\n          precio_sin_impuesto / precios.unidad_de_compra.cantidad;\n      }\n    }\n  } else {\n    precio_sin_impuesto = parseFloat(\n      precios.precio_de_compra.precio_sin_impuesto\n    );\n    iva =\n      parseFloat(precio_sin_impuesto) *\n      parseFloat(value < 10 ? \".0\" + value : \".\" + value);\n    ieps =\n      parseFloat(precio_sin_impuesto) *\n      parseFloat(precios.ieps < 10 ? \".0\" + precios.ieps : \".\" + precios.ieps);\n    precio_con_impuesto = precio_sin_impuesto + iva + ieps;\n    precio_unitario_con_impuesto =\n      precio_con_impuesto / precios.unidad_de_compra.cantidad;\n    precio_unitario_sin_impuesto =\n      precio_sin_impuesto / precios.unidad_de_compra.cantidad;\n  }\n\n  return {\n    ...precios,\n    iva_activo: name === \"iva_activo\" ? value : precios.iva_activo,\n    iva: name === \"iva\" ? parseFloat(value) : value ? 16 : 0,\n    precio_de_compra: {\n      ...precios.precio_de_compra,\n      precio_sin_impuesto: parseFloat(precio_sin_impuesto.toFixed(2)),\n      iva: parseFloat(iva.toFixed(2)),\n      ieps: parseFloat(ieps.toFixed(2)),\n      precio_con_impuesto: parseFloat(precio_con_impuesto.toFixed(2)),\n    },\n    unidad_de_compra: {\n      ...precios.unidad_de_compra,\n      precio_unitario_sin_impuesto: parseFloat(\n        precio_unitario_sin_impuesto.toFixed(2)\n      ),\n      precio_unitario_con_impuesto: parseFloat(\n        precio_unitario_con_impuesto.toFixed(2)\n      ),\n    },\n  };\n};\n\nexport const calcular_ieps = (input, name, value, precios) => {\n  let precio_con_impuesto = 0;\n  let precio_sin_impuesto = 0;\n  let iva = 0;\n  let ieps = 0;\n  let precio_unitario_sin_impuesto = 0;\n  let precio_unitario_con_impuesto = 0;\n  if (name === \"ieps_activo\") {\n    if (value) {\n      precio_sin_impuesto = parseFloat(\n        precios.precio_de_compra.precio_sin_impuesto\n      );\n      iva =\n        parseFloat(precio_sin_impuesto) *\n        parseFloat(precios.iva < 10 ? \".0\" + precios.iva : \".\" + precios.iva);\n      ieps = parseFloat(precio_sin_impuesto) * precios.ieps;\n      precio_con_impuesto = precio_sin_impuesto + iva + ieps;\n      precio_unitario_sin_impuesto =\n        precio_sin_impuesto / precios.unidad_de_compra.cantidad;\n      precio_unitario_con_impuesto =\n        precio_con_impuesto / precios.unidad_de_compra.cantidad;\n    } else {\n      precio_sin_impuesto = parseFloat(\n        precios.precio_de_compra.precio_sin_impuesto\n      );\n      ieps = 0;\n      iva =\n        parseFloat(precio_sin_impuesto) *\n        parseFloat(precios.iva < 10 ? \".0\" + precios.iva : \".\" + precios.iva);\n      precio_con_impuesto = precio_sin_impuesto + iva + ieps;\n      precio_unitario_sin_impuesto =\n        precio_sin_impuesto / precios.unidad_de_compra.cantidad;\n      precio_unitario_con_impuesto =\n        precio_con_impuesto / precios.unidad_de_compra.cantidad;\n      if (!precios.iva_activo) {\n        precio_con_impuesto = 0;\n        precio_unitario_con_impuesto =\n          precio_sin_impuesto / precios.unidad_de_compra.cantidad;\n      }\n    }\n  } else {\n    precio_sin_impuesto = parseFloat(\n      precios.precio_de_compra.precio_sin_impuesto\n    );\n    iva =\n      parseFloat(precio_sin_impuesto) *\n      parseFloat(precios.iva < 10 ? \".0\" + precios.iva : \".\" + precios.iva);\n    ieps =\n      parseFloat(precio_sin_impuesto) *\n      parseFloat(value < 10 ? \".0\" + value : \".\" + value);\n    precio_con_impuesto = precio_sin_impuesto + iva + ieps;\n    precio_unitario_con_impuesto =\n      precio_con_impuesto / precios.unidad_de_compra.cantidad;\n    precio_unitario_sin_impuesto =\n      precio_sin_impuesto / precios.unidad_de_compra.cantidad;\n  }\n  return {\n    ...precios,\n    ieps_activo: name === \"ieps_activo\" ? value : precios.ieps_activo,\n    ieps: name === \"ieps\" ? parseFloat(value) : value ? precios.ieps : 0,\n    precio_de_compra: {\n      ...precios.precio_de_compra,\n      precio_sin_impuesto: parseFloat(precio_sin_impuesto.toFixed(2)),\n      iva: parseFloat(iva.toFixed(2)),\n      ieps: parseFloat(ieps.toFixed(2)),\n      precio_con_impuesto: parseFloat(precio_con_impuesto.toFixed(2)),\n    },\n    unidad_de_compra: {\n      ...precios.unidad_de_compra,\n      precio_unitario_sin_impuesto: parseFloat(\n        precio_unitario_sin_impuesto.toFixed(2)\n      ),\n      precio_unitario_con_impuesto: parseFloat(\n        precio_unitario_con_impuesto.toFixed(2)\n      ),\n    },\n  };\n};\n\n/* export const calcular_precios = (\n  input,\n  name,\n  value,\n  precios,\n  preciosP,\n  unidadVentaXDefecto\n) => {\n  \n    return \"hola piter\"\n\n  //retornar todo array de precios, preciosP y unidades de venta\n}; */\n","import React, { useContext, useEffect, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport {\n  Box,\n  Checkbox,\n  FormControlLabel,\n  TextField,\n  MenuItem,\n  FormHelperText,\n  InputAdornment,\n} from \"@material-ui/core\";\nimport { Typography, Divider, FormControl, Select } from \"@material-ui/core\";\nimport PreciosDeCompra from \"./UnidadesVenta\";\nimport { RegProductoContext } from \"../../../../../context/Catalogos/CtxRegProducto\";\nimport { Alert } from \"@material-ui/lab\";\nimport { useDebounce } from \"use-debounce/lib\";\nimport PreciosDeVenta from \"./Precios\";\nimport { unitCodes, unitCodes_granel } from \"../unidades\";\nimport { calcular_ieps, calcular_iva } from \"../calculos_precios\";\n\nconst useStyles = makeStyles((theme) => ({\n  formInputFlex: {\n    display: \"flex\",\n    \"& > *\": {\n      margin: `${theme.spacing(1)}px ${theme.spacing(1)}px`,\n    },\n    \"& .obligatorio\": {\n      color: \"red\",\n    },\n  },\n  formInput: {\n    margin: `${theme.spacing(0)}px ${theme.spacing(1)}px`,\n  },\n  precioTitle: {\n    width: theme.spacing(20),\n    display: \"flex\",\n    alignItems: \"center\",\n  },\n  input: {\n    \"& input[type=number]\": {\n      \"-moz-appearance\": \"textfield\",\n    },\n    \"& input[type=number]::-webkit-outer-spin-button\": {\n      \"-webkit-appearance\": \"none\",\n      margin: 0,\n    },\n    \"& input[type=number]::-webkit-inner-spin-button\": {\n      \"-webkit-appearance\": \"none\",\n      margin: 0,\n    },\n  },\n}));\n\nexport default function RegistroInfoAdidional() {\n  const classes = useStyles();\n  const {\n    precios,\n    setPrecios,\n    validacion,\n    preciosP,\n    update,\n    unidadVentaXDefecto,\n    setUnidadVentaXDefecto,\n  } = useContext(RegProductoContext);\n\n  /* CHECKBOX IVA */\n  const obtenerIva = async (e) => {\n    if (e.target.name === \"iva\" && !e.target.value) {\n      setPrecios({\n        ...precios,\n        iva: \"\",\n      });\n      return;\n    }\n    const name = e.target.name;\n    const value = name === \"iva_activo\" ? e.target.checked : e.target.value;\n    const result = await calcular_iva(\"iva\", name, value, precios, preciosP, unidadVentaXDefecto);\n    setPrecioConImpuesto(result.precio_de_compra.precio_con_impuesto)\n    setPrecioSinImpuesto(result.precio_de_compra.precio_sin_impuesto)\n    setPrecios(result);\n  };\n\n  /* CHECKBOX IEPS */\n  const obtenerIeps = async (e) => {\n    if (e.target.name === \"ieps\" && !e.target.value) {\n      setPrecios({\n        ...precios,\n        ieps: \"\",\n      });\n      return;\n    }\n    const name = e.target.name;\n    const value = name === \"ieps_activo\" ? e.target.checked : e.target.value;\n    const result = await calcular_ieps(\"ieps\", name, value, precios, preciosP, unidadVentaXDefecto);\n    setPrecioConImpuesto(result.precio_de_compra.precio_con_impuesto)\n    setPrecioSinImpuesto(result.precio_de_compra.precio_sin_impuesto)\n    setPrecios(result);\n  };\n\n  const [precioConImpuesto, setPrecioConImpuesto] = useState(\n    precios.precio_de_compra.precio_con_impuesto\n  );\n  const [precioSinImpuesto, setPrecioSinImpuesto] = useState(\n    precios.precio_de_compra.precio_sin_impuesto\n  );\n\n  const [PCI] = useDebounce(precioConImpuesto, 800);\n  const [PSI] = useDebounce(precioSinImpuesto, 800);\n\n  /* ARMAR OBJETO DE PRECIOS DE COMPRA */\n  const obtenerPrecioConImpuesto = (value) => {\n    let precio_con_impuesto = 0;\n    let total_impuesto = 0;\n    let precio_sin_impuesto = 0;\n    let iva = 0;\n    let ieps = 0;\n    let precio_unitario_sin_impuesto = 0;\n    let precio_unitario_con_impuesto = 0;\n\n    /* Precio con impuesto */\n    precio_con_impuesto = parseFloat(value);\n    total_impuesto =\n      parseFloat(precios.iva < 10 ? \".0\" + precios.iva : \".\" + precios.iva) +\n      parseFloat(precios.ieps < 10 ? \".0\" + precios.ieps : \".\" + precios.ieps);\n    precio_sin_impuesto = parseFloat(value) / parseFloat(total_impuesto + 1);\n    iva =\n      precio_sin_impuesto *\n      parseFloat(precios.iva < 10 ? \".0\" + precios.iva : \".\" + precios.iva);\n    ieps =\n      precio_sin_impuesto *\n      parseFloat(precios.ieps < 10 ? \".0\" + precios.ieps : \".\" + precios.ieps);\n    precio_unitario_con_impuesto =\n      precio_con_impuesto / precios.unidad_de_compra.cantidad;\n    precio_unitario_sin_impuesto =\n      precio_sin_impuesto / precios.unidad_de_compra.cantidad;\n\n    if (isNaN(precio_unitario_sin_impuesto)) precio_unitario_sin_impuesto = 0;\n    if (isNaN(precio_unitario_con_impuesto)) precio_unitario_con_impuesto = 0;\n    if (isNaN(iva)) iva = 0;\n    if (isNaN(ieps)) ieps = 0;\n    /* if (isNaN(precio_con_impuesto)) precio_con_impuesto = 0;\n\t\tif (isNaN(precio_sin_impuesto)) precio_sin_impuesto = 0; */\n\n    setPrecioSinImpuesto(parseFloat(precio_sin_impuesto.toFixed(2)));\n    setPrecios({\n      ...precios,\n      precio_de_compra: {\n        ...precios.precio_de_compra,\n        precio_sin_impuesto: parseFloat(precio_sin_impuesto.toFixed(2)),\n        iva: parseFloat(iva.toFixed(2)),\n        ieps: parseFloat(ieps.toFixed(2)),\n        precio_con_impuesto: parseFloat(precio_con_impuesto.toFixed(2)),\n      },\n      unidad_de_compra: {\n        ...precios.unidad_de_compra,\n        precio_unitario_sin_impuesto: parseFloat(\n          precio_unitario_sin_impuesto.toFixed(2)\n        ),\n        precio_unitario_con_impuesto: parseFloat(\n          precio_unitario_con_impuesto.toFixed(2)\n        ),\n      },\n    });\n  };\n\n  /* ARMAR OBJETO DE PRECIOS DE COMPRA */\n  const obtenerPrecioSinImpuesto = (value) => {\n    let precio_con_impuesto = 0;\n    let precio_sin_impuesto = 0;\n    let iva = 0;\n    let ieps = 0;\n    let precio_unitario_sin_impuesto = 0;\n    let precio_unitario_con_impuesto = 0;\n\n    /* Precio sin impuesto */\n    precio_sin_impuesto = parseFloat(value);\n    iva =\n      parseFloat(value) *\n      parseFloat(precios.iva < 10 ? \".0\" + precios.iva : \".\" + precios.iva);\n    ieps =\n      parseFloat(value) *\n      parseFloat(precios.ieps < 10 ? \".0\" + precios.ieps : \".\" + precios.ieps);\n    precio_con_impuesto = precio_sin_impuesto + iva + ieps;\n    precio_unitario_sin_impuesto =\n      precio_sin_impuesto / precios.unidad_de_compra.cantidad;\n    precio_unitario_con_impuesto =\n      precio_con_impuesto / precios.unidad_de_compra.cantidad;\n    if (!precios.iva_activo && !precios.ieps_activo) {\n      precio_con_impuesto = precio_sin_impuesto /*  / precios.unidad_de_compra.cantidad */;\n      precio_unitario_con_impuesto =\n        precio_sin_impuesto / precios.unidad_de_compra.cantidad;\n    }\n\n    if (isNaN(precio_unitario_sin_impuesto)) precio_unitario_sin_impuesto = 0;\n    if (isNaN(precio_unitario_con_impuesto)) precio_unitario_con_impuesto = 0;\n    if (isNaN(iva)) iva = 0;\n    if (isNaN(ieps)) ieps = 0;\n    /* if (isNaN(precio_con_impuesto)) precio_con_impuesto = 0;\n\t\tif (isNaN(precio_sin_impuesto)) precio_sin_impuesto = 0; */\n\n    setPrecioConImpuesto(parseFloat(precio_con_impuesto.toFixed(2)));\n    setPrecios({\n      ...precios,\n      precio_de_compra: {\n        ...precios.precio_de_compra,\n        precio_sin_impuesto: parseFloat(precio_sin_impuesto.toFixed(2)),\n        iva: parseFloat(iva.toFixed(2)),\n        ieps: parseFloat(ieps.toFixed(2)),\n        precio_con_impuesto: parseFloat(precio_con_impuesto.toFixed(2)),\n      },\n      unidad_de_compra: {\n        ...precios.unidad_de_compra,\n        precio_unitario_sin_impuesto: parseFloat(\n          precio_unitario_sin_impuesto.toFixed(2)\n        ),\n        precio_unitario_con_impuesto: parseFloat(\n          precio_unitario_con_impuesto.toFixed(2)\n        ),\n      },\n    });\n  };\n\n  /* ARMAR OBJETO DE UNIDAD DE COMPRA */\n  const obtenerUnidadCompra = (e, child) => {\n    if (e.target.name === \"unidad\") {\n      const { codigo_unidad, unidad } = child.props.unidad;\n      if (unidad === \"Caja\" || unidad === \"Costal\") {\n        let precio = unidadVentaXDefecto.cantidad * unidadVentaXDefecto.precio;\n        setUnidadVentaXDefecto({\n          ...unidadVentaXDefecto,\n          precio: parseFloat(precio.toFixed(2)),\n          codigo_unidad,\n          unidad,\n        });\n        setPrecios({\n          ...precios,\n          unidad_de_compra: {\n            ...precios.unidad_de_compra,\n            unidad,\n            codigo_unidad,\n          },\n          inventario: {\n            ...precios.inventario,\n            unidad_de_inventario: unidad,\n            codigo_unidad,\n          },\n        });\n      } else {\n        setUnidadVentaXDefecto({\n          ...unidadVentaXDefecto,\n          unidad: e.target.value,\n          cantidad: 1,\n          precio: preciosP[0].precio_neto\n            ? preciosP[0].precio_neto\n            : precios.unidad_de_compra.precio_unitario_con_impuesto,\n        });\n        setPrecios({\n          ...precios,\n          unidad_de_compra: {\n            ...precios.unidad_de_compra,\n            [e.target.name]: e.target.value,\n            cantidad: 1,\n          },\n          inventario: {\n            ...precios.inventario,\n            unidad_de_inventario: e.target.value,\n          },\n        });\n      }\n    } else {\n      if (!precios.iva_activo && !precios.ieps_activo) {\n        setPrecios({\n          ...precios,\n          unidad_de_compra: {\n            ...precios.unidad_de_compra,\n            [e.target.name]: parseFloat(e.target.value),\n            precio_unitario_sin_impuesto: parseFloat(\n              (\n                precios.precio_de_compra.precio_sin_impuesto / e.target.value\n              ).toFixed(2)\n            ),\n            precio_unitario_con_impuesto: parseFloat(\n              (\n                precios.precio_de_compra.precio_sin_impuesto / e.target.value\n              ).toFixed(2)\n            ),\n          },\n        });\n      } else {\n        setPrecios({\n          ...precios,\n          unidad_de_compra: {\n            ...precios.unidad_de_compra,\n            [e.target.name]: parseFloat(e.target.value),\n            precio_unitario_sin_impuesto: parseFloat(\n              (\n                precios.precio_de_compra.precio_sin_impuesto / e.target.value\n              ).toFixed(2)\n            ),\n            precio_unitario_con_impuesto: parseFloat(\n              (\n                precios.precio_de_compra.precio_con_impuesto / e.target.value\n              ).toFixed(2)\n            ),\n          },\n        });\n      }\n      setUnidadVentaXDefecto({\n        ...unidadVentaXDefecto,\n        cantidad:\n          precios.unidad_de_compra.unidad !== \"Caja\" ||\n          precios.unidad_de_compra.unidad !== \"Costal\"\n            ? 1\n            : parseFloat(e.target.value),\n      });\n    }\n  };\n\n  const verificarCampoVacio = (name, value) => {\n    if (!value) {\n      setPrecios({\n        ...precios,\n        [name]: 0,\n      });\n    }\n  };\n\n  useEffect(() => {\n    obtenerPrecioConImpuesto(PCI);\n  }, [PCI]);\n\n  useEffect(() => {\n    obtenerPrecioSinImpuesto(PSI);\n  }, [PSI]);\n\n  return (\n    <Box>\n      <div className={classes.input}>\n        <Box>\n          <Typography>\n            <b>Impuestos</b>\n          </Typography>\n        </Box>\n        <Divider />\n        <Box display=\"flex\" alignItems=\"center\" justifyContent=\"center\" my={1}>\n          <FormControlLabel\n            control={\n              <Checkbox\n                checked={precios.iva_activo}\n                onChange={obtenerIva}\n                name=\"iva_activo\"\n              />\n            }\n            label=\"IVA\"\n          />\n          <Box>\n            <TextField\n              disabled={!precios.iva_activo}\n              label=\"porcentaje IVA\"\n              type=\"number\"\n              InputProps={{\n                inputProps: { min: 0 },\n                endAdornment: (\n                  <InputAdornment position=\"start\">%</InputAdornment>\n                ),\n              }}\n              size=\"small\"\n              name=\"iva\"\n              id=\"form-producto-iva\"\n              variant=\"outlined\"\n              value={precios.iva}\n              onChange={obtenerIva}\n              onBlur={() => verificarCampoVacio(\"iva\", precios.iva)}\n              error={precios.iva === \"\"}\n            />\n          </Box>\n          <Box mx={5} />\n          <FormControlLabel\n            control={\n              <Checkbox\n                checked={precios.ieps_activo}\n                onChange={obtenerIeps}\n                name=\"ieps_activo\"\n              />\n            }\n            label=\"IEPS\"\n          />\n          <Box>\n            <TextField\n              disabled={!precios.ieps_activo}\n              label=\"porcentaje IEPS\"\n              type=\"number\"\n              InputProps={{\n                inputProps: { min: 0 },\n                endAdornment: (\n                  <InputAdornment position=\"start\">%</InputAdornment>\n                ),\n              }}\n              size=\"small\"\n              name=\"ieps\"\n              id=\"form-producto-ieps\"\n              variant=\"outlined\"\n              value={precios.ieps}\n              onChange={obtenerIeps}\n              onBlur={() => verificarCampoVacio(\"ieps\", precios.ieps)}\n              error={precios.ieps === \"\"}\n            />\n          </Box>\n          <Box display=\"flex\" alignItems=\"center\" ml={1}>\n            <Alert severity=\"info\">Selecciona los impuestos aplicables</Alert>\n          </Box>\n        </Box>\n        <Box mt={3}>\n          <Typography>\n            <b>Precios y unidad de compra</b>\n          </Typography>\n        </Box>\n        <Divider />\n        <Box className={classes.formInputFlex} justifyContent=\"center\">\n          <Box>\n            <Typography>Unidad de compra</Typography>\n            <Box display=\"flex\">\n              <FormControl\n                variant=\"outlined\"\n                fullWidth\n                size=\"small\"\n                error={validacion.error && !precios.unidad_de_compra.unidad}\n              >\n                {precios.granel ? (\n                  <Select\n                    disabled={update}\n                    id=\"form-producto-categoria\"\n                    name=\"unidad\"\n                    value={precios.unidad_de_compra.unidad}\n                    onChange={obtenerUnidadCompra}\n                  >\n                    {unitCodes_granel.map((res, index) => (\n                      <MenuItem key={index} unidad={res} value={res.unidad}>\n                        {res.unidad}\n                      </MenuItem>\n                    ))}\n                  </Select>\n                ) : (\n                  <Select\n                    disabled={update}\n                    id=\"form-producto-categoria\"\n                    name=\"unidad\"\n                    value={precios.unidad_de_compra.unidad}\n                    onChange={obtenerUnidadCompra}\n                  >\n                    {unitCodes.map((res, index) => (\n                      <MenuItem key={index} unidad={res} value={res.unidad}>\n                        {res.unidad}\n                      </MenuItem>\n                    ))}\n                  </Select>\n                )}\n                <FormHelperText>{validacion.message}</FormHelperText>\n              </FormControl>\n            </Box>\n          </Box>\n          <Box>\n            <Typography align=\"center\">Unidad de conversion</Typography>\n            <Typography align=\"center\" variant=\"h6\">\n              <b>\n                {precios.unidad_de_compra.unidad === \"Caja\"\n                  ? \"Pz\"\n                  : precios.unidad_de_compra.unidad === \"Costal\"\n                  ? \"Kg\"\n                  : precios.unidad_de_compra.unidad}\n              </b>\n            </Typography>\n          </Box>\n          <Box>\n            <Typography>\n              <span className=\"obligatorio\">* </span>Factor por Unidad\n            </Typography>\n            <TextField\n              disabled={\n                precios.unidad_de_compra.unidad === \"Caja\" ||\n                precios.unidad_de_compra.unidad === \"Costal\"\n                  ? false\n                  : true\n              }\n              type=\"number\"\n              InputProps={{ inputProps: { min: 1 } }}\n              size=\"small\"\n              error={validacion.error && !precios.unidad_de_compra.cantidad}\n              name=\"cantidad\"\n              id=\"form-producto-cantidad\"\n              variant=\"outlined\"\n              value={precios.unidad_de_compra.cantidad}\n              helperText={validacion.message}\n              onChange={obtenerUnidadCompra}\n            />\n          </Box>\n          <Box>\n            <Typography>\n              <span className=\"obligatorio\">* </span>Precio sin impuestos\n            </Typography>\n            <TextField\n              type=\"number\"\n              InputProps={{ inputProps: { min: 0 } }}\n              size=\"small\"\n              error={validacion.error && !precioSinImpuesto}\n              name=\"precio_sin_impuesto\"\n              id=\"form-producto-precio_sin_impuesto\"\n              variant=\"outlined\"\n              value={precioSinImpuesto}\n              helperText={validacion.message}\n              onChange={(e) => setPrecioSinImpuesto(e.target.value)}\n            />\n          </Box>\n          <Box>\n            <Typography>\n              <span className=\"obligatorio\">* </span>Precio con impuestos\n            </Typography>\n            <TextField\n              disabled={!precios.iva_activo && !precios.ieps_activo}\n              type=\"number\"\n              InputProps={{ inputProps: { min: 0 } }}\n              size=\"small\"\n              error={validacion.error && !precioConImpuesto}\n              name=\"precio_con_impuesto\"\n              id=\"form-producto-precio_con_impuesto\"\n              variant=\"outlined\"\n              value={precioConImpuesto}\n              helperText={validacion.message}\n              onChange={(e) => setPrecioConImpuesto(e.target.value)}\n            />\n          </Box>\n        </Box>\n        <Box className={classes.formInputFlex} justifyContent=\"center\">\n          <Box width=\"120px\">\n            <Typography align=\"center\">IVA</Typography>\n            <Typography align=\"center\" variant=\"h6\">\n              <b>$ {parseFloat(precios.precio_de_compra.iva).toFixed(2)}</b>\n            </Typography>\n          </Box>\n          <Box width=\"120px\">\n            <Typography align=\"center\">IEPS</Typography>\n            <Typography align=\"center\" variant=\"h6\">\n              <b>$ {parseFloat(precios.precio_de_compra.ieps).toFixed(2)}</b>\n            </Typography>\n          </Box>\n          <Box>\n            <Typography align=\"center\">\n              Precio unitario sin impuestos\n            </Typography>\n            <Typography align=\"center\" variant=\"h6\">\n              <b>\n                ${\" \"}\n                {parseFloat(\n                  precios.unidad_de_compra.precio_unitario_sin_impuesto\n                ).toFixed(2)}\n              </b>\n            </Typography>\n          </Box>\n          <Box>\n            <Typography align=\"center\">\n              Precio unitario con impuestos\n            </Typography>\n            <Typography align=\"center\" variant=\"h6\">\n              <b>\n                ${\" \"}\n                {parseFloat(\n                  precios.unidad_de_compra.precio_unitario_con_impuesto\n                ).toFixed(2)}\n              </b>\n            </Typography>\n          </Box>\n        </Box>\n        <Box mt={1}>\n          <Typography>\n            <b>Precios de venta</b>\n          </Typography>\n        </Box>\n        <Divider />\n        <Box display=\"flex\">\n          <PreciosDeVenta /* key={index} data={res} index={index} */ />\n          {/* {preciosP.map((res, index) => (\n            \n          ))} */}\n        </Box>\n        <Box mt={2}>\n          <Typography>\n            <b>Unidades de venta</b>\n          </Typography>\n        </Box>\n        <Divider />\n        <Box>\n          <PreciosDeCompra />\n        </Box>\n      </div>\n    </Box>\n  );\n}\n","import React, { createContext, useState } from \"react\";\nimport { initial_state_precios } from \"../Catalogos/initialStatesProducto\";\nimport moment from \"moment\";\n\nexport const ComprasContext = createContext();\n\nexport const ComprasProvider = ({ children }) => {\n  const [datosProducto, setDatosProducto] = useState({\n    producto: {},\n    costo: 0,\n    cantidad: 1,\n    cantidad_regalo: 0,\n    unidad_regalo: \"\",\n    cantidad_total: 0,\n    descuento_porcentaje: 0,\n    descuento_precio: 0,\n    iva_total: 0,\n    ieps_total: 0,\n    subtotal: 0,\n    impuestos: 0,\n    total: 0,\n    mantener_precio: true,\n    subtotal_descuento: 0,\n    total_descuento: 0,\n  });\n\n  const [datosCompra, setDatosCompra] = useState({\n    productos: [],\n    proveedor: {},\n    en_espera: false,\n    fecha_registro: moment().locale(\"es-mx\").format(\"YYYY-MM-DD\"),\n    almacen: {},\n    compra_credito: false,\n    fecha_vencimiento_credito: moment().locale(\"es-mx\").format(\"YYYY-MM-DD\"),\n    credito_pagado: false,\n    saldo_credito_pendiente: 0,\n    forma_pago: \"\",\n    descuento_aplicado: false,\n    descuento: {\n      porcentaje: 0,\n      cantidad_descontada: 0,\n      precio_con_descuento: 0,\n    },\n    subtotal: 0,\n    impuestos: 0,\n    total: 0,\n  });\n\n  const [preciosVenta, setPreciosVenta] = useState([\n    {\n      numero_precio: 1,\n      utilidad: 0,\n      precio_neto: 0,\n      unidad_mayoreo: 0,\n      precio_venta: 0,\n      iva_precio: 0,\n      ieps_precio: 0,\n    },\n    {\n      numero_precio: 2,\n      utilidad: 0,\n      precio_neto: 0,\n      unidad_mayoreo: 0,\n      precio_venta: 0,\n      iva_precio: 0,\n      ieps_precio: 0,\n    },\n    {\n      numero_precio: 3,\n      utilidad: 0,\n      precio_neto: 0,\n      unidad_mayoreo: 0,\n      precio_venta: 0,\n      iva_precio: 0,\n      ieps_precio: 0,\n    },\n    {\n      numero_precio: 4,\n      utilidad: 0,\n      precio_neto: 0,\n      unidad_mayoreo: 0,\n      precio_venta: 0,\n      iva_precio: 0,\n      ieps_precio: 0,\n    },\n    {\n      numero_precio: 5,\n      utilidad: 0,\n      precio_neto: 0,\n      unidad_mayoreo: 0,\n      precio_venta: 0,\n      iva_precio: 0,\n      ieps_precio: 0,\n    },\n    {\n      numero_precio: 6,\n      utilidad: 0,\n      precio_neto: 0,\n      unidad_mayoreo: 0,\n      precio_venta: 0,\n      iva_precio: 0,\n      ieps_precio: 0,\n    },\n  ]);\n\n  const [productoOriginal, setProductoOriginal] = useState({\n    precios: initial_state_precios,\n  });\n  const [productosCompra, setProductosCompra] = useState([]);\n  const [isEditing, setIsEditing] = useState({});\n  const [editFinish, setEditFinish] = useState(false);\n  const [costo, setCosto] = useState(0);\n  const [cantidad, setCantidad] = useState(1);\n  const [issue, setIssue] = useState(false);\n  const [loadingProductos, setLoadingProductos] = useState(false);\n\n  const [descuentoCompra, setDescuentoCompra] = useState({\n    subtotal: 0,\n    total: 0,\n    descuento_aplicado: false,\n    porcentaje: 0,\n    cantidad_descontada: 0,\n    precio_con_descuento: 0,\n  });\n\n  return (\n    <ComprasContext.Provider\n      value={{\n        datosProducto,\n        setDatosProducto,\n        productosCompra,\n        setProductosCompra,\n        datosCompra,\n        setDatosCompra,\n        productoOriginal,\n        setProductoOriginal,\n        preciosVenta,\n        setPreciosVenta,\n        isEditing,\n        setIsEditing,\n        editFinish,\n        setEditFinish,\n        costo,\n        setCosto,\n        cantidad,\n        setCantidad,\n        issue,\n        setIssue,\n        loadingProductos,\n        setLoadingProductos,\n        descuentoCompra,\n        setDescuentoCompra,\n      }}\n    >\n      {children}\n    </ComprasContext.Provider>\n  );\n};\n","import React, {\n  Fragment,\n  useContext,\n  useEffect,\n  useRef,\n  useState,\n} from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Input from \"@material-ui/core/Input\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Checkbox from \"@material-ui/core/Checkbox\";\nimport { RegProductoContext } from \"../../../../../context/Catalogos/CtxRegProducto\";\nimport {\n  Box,\n  Chip,\n  IconButton,\n  Tooltip,\n  Typography,\n  Zoom,\n} from \"@material-ui/core\";\nimport {\n  Cached,\n  Close,\n  Edit,\n  LocalOffer,\n  LocalOfferOutlined,\n} from \"@material-ui/icons\";\nimport { alpha } from \"@material-ui/core/styles/colorManipulator\";\n\nconst compareFunction = (a, b) => {\n  if (a.medida.talla && b.medida.talla) {\n    return a.medida.talla.localeCompare(b.medida.talla);\n  }\n};\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: \"100%\",\n  },\n  paper: {\n    width: \"100%\",\n    marginBottom: theme.spacing(2),\n  },\n  table: {\n    minWidth: 750,\n  },\n  container: {\n    maxHeight: \"65vh\",\n  },\n  tableRow: {\n    \"&.Mui-selected, &.Mui-selected:hover\": {\n      backgroundColor: alpha(theme.palette.primary.main, 0.1),\n    },\n  },\n  visuallyHidden: {\n    border: 0,\n    clip: \"rect(0 0 0 0)\",\n    height: 1,\n    margin: -1,\n    overflow: \"hidden\",\n    padding: 0,\n    position: \"absolute\",\n    top: 20,\n    width: 1,\n  },\n  colorContainer: {\n    border: \"1px solid rgba(0,0,0, .3)\",\n    height: 30,\n    width: 30,\n    borderRadius: \"15%\",\n  },\n  input: {\n    \"& input[type=number]\": {\n      \"-moz-appearance\": \"textfield\",\n    },\n    \"& input[type=number]::-webkit-outer-spin-button\": {\n      \"-webkit-appearance\": \"none\",\n      margin: 0,\n    },\n    \"& input[type=number]::-webkit-inner-spin-button\": {\n      \"-webkit-appearance\": \"none\",\n      margin: 0,\n    },\n  },\n}));\n\nexport default function TablaPresentaciones({\n  from,\n  setOnUpdate,\n  onUpdate,\n  withoutPrice,\n  onlyPrice,\n}) {\n  const classes = useStyles();\n  const { presentaciones, setPresentaciones } = useContext(RegProductoContext);\n\n  let mostrar_presentaciones = [...presentaciones].sort((a, b) =>\n    compareFunction(a, b)\n  );\n\n  /* useEffect(() => {\n    let nuevo_array = [];\n    mostrar_presentaciones.forEach((element) => {\n      let obj = {\n        codigo_barras: element.codigo_barras,\n        cantidad: parseFloat(element.cantidad),\n        descuento: element.descuento,\n        descuento_activo: element.descuento_activo,\n        color: element.color,\n        existencia: element.existencia,\n        medida: element.medida,\n        nombre_comercial: element.nombre_comercial,\n      };\n\n      if (element.descuento_activo === true) {\n        obj.aplicar_descuento = true;\n        obj.precio = parseFloat(element.descuento.precio_neto);\n      } else {\n        obj.aplicar_descuento = false;\n        obj.precio = parseFloat(element.precio);\n      }\n      nuevo_array.push(obj);\n    });\n    setPresentaciones(nuevo_array);\n  }, []); */\n\n  return (\n    <div className={classes.root}>\n      <Paper className={classes.paper}>\n        <TableContainer className={classes.container}>\n          <Table\n            className={classes.table}\n            aria-labelledby=\"tableTitle\"\n            size=\"small\"\n            aria-label=\"enhanced table\"\n            stickyHeader\n          >\n            <TableHead>\n              <TableRow>\n                <TableCell>Existencia</TableCell>\n                <TableCell>Cdigo de barras</TableCell>\n                <TableCell width={200}>Nombre</TableCell>\n                <TableCell padding=\"checkbox\">Medida</TableCell>\n                <TableCell padding=\"checkbox\">Color</TableCell>\n                {!withoutPrice ? (\n                  <Fragment>\n                    <TableCell>Precio</TableCell>\n                    <TableCell padding=\"checkbox\">Aplicar descuento</TableCell>\n                  </Fragment>\n                ) : null}\n                {!onlyPrice ? (\n                  <Fragment>\n                    {from && from === \"compra\" ? (\n                      <TableCell padding=\"checkbox\">Existente</TableCell>\n                    ) : null}\n                    <TableCell padding=\"checkbox\">Cantidad</TableCell>\n                  </Fragment>\n                ) : null}\n                <TableCell padding=\"checkbox\">Editar</TableCell>\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {mostrar_presentaciones.map((producto, index) => {\n                return (\n                  <RenderPresentacionesRows\n                    key={index}\n                    producto={producto}\n                    index={index}\n                    from={from}\n                    setOnUpdate={setOnUpdate}\n                    onUpdate={onUpdate}\n                    withoutPrice={withoutPrice}\n                    onlyPrice={onlyPrice}\n                  />\n                );\n              })}\n            </TableBody>\n          </Table>\n        </TableContainer>\n      </Paper>\n    </div>\n  );\n}\n\nconst RenderPresentacionesRows = ({\n  producto,\n  index,\n  from,\n  setOnUpdate,\n  onUpdate,\n  withoutPrice,\n  onlyPrice,\n}) => {\n  const { presentaciones, setPresentaciones, preciosP, precios, unidadVentaXDefecto, setUnidadVentaXDefecto } = useContext(\n    RegProductoContext\n  );\n  const [disabledInput, setDisabledInput] = useState(true);\n  const classes = useStyles();\n  const textfield = useRef(null);\n\n  const copy_presentaciones = [...presentaciones].sort((a, b) =>\n    compareFunction(a, b)\n  );\n  const copy_element_presentacion = { ...copy_presentaciones[index] };\n  const copy_element_presentacion_descuento = {\n    ...copy_presentaciones[index].descuento,\n  };\n  const copy_producto = { ...producto };\n\n  /* if(from && from === 'compra'){\n\t\tcopy_producto.cantidad_nueva = 0\n\t} */\n\n  const handleEditCancel = () => {\n    if (!copy_producto.cantidad) {\n      copy_element_presentacion.cantidad = 0;\n    }\n    if (!copy_producto.cantidad_nueva) {\n      copy_element_presentacion.cantidad_nueva = 0;\n    }\n    if (!copy_producto.precio) {\n      copy_element_presentacion.precio = preciosP[0].precio_neto;\n    }\n    copy_presentaciones.splice(index, 1, copy_element_presentacion);\n    setPresentaciones(copy_presentaciones);\n    setDisabledInput(true);\n  };\n\n  const obtenerDatos = (e) => {\n    const { name, value } = e.target;\n    if (name === \"cantidad\") {\n      if (!value) {\n        copy_element_presentacion.cantidad = \"\";\n        copy_element_presentacion.existencia = false;\n        copy_presentaciones.splice(index, 1, copy_element_presentacion);\n        setPresentaciones(copy_presentaciones);\n        return;\n      }\n      if (value === \"0\") {\n        copy_element_presentacion.existencia = false;\n      } else {\n        copy_element_presentacion.existencia = true;\n      }\n      copy_element_presentacion.cantidad = parseFloat(value);\n    } else if (name === \"cantidad_nueva\") {\n      if (!value) {\n        copy_element_presentacion.cantidad_nueva = \"\";\n        copy_element_presentacion.existencia = copy_producto.existencia;\n        copy_presentaciones.splice(index, 1, copy_element_presentacion);\n        setPresentaciones(copy_presentaciones);\n        return;\n      }\n      copy_element_presentacion.cantidad_nueva = parseFloat(value);\n      copy_element_presentacion.existencia = true;\n    } else if (name === \"precio\") {\n      if (!value) {\n        copy_element_presentacion.precio = \"\";\n        copy_presentaciones.splice(index, 1, copy_element_presentacion);\n        setPresentaciones(copy_presentaciones);\n        return;\n      }\n      let precio_neto = parseFloat(value);\n      let { iva, ieps } = precios;\n      let suma_impuestos = parseFloat(`0.${iva < 10 ? `0${iva}` : iva}`) + parseFloat(`0.${ieps < 10 ? `0${ieps}` : ieps}`);\n      let precio_venta = parseFloat((precio_neto / (suma_impuestos+1)).toFixed(2));\n      let iva_precio = parseFloat((precio_venta * parseFloat(`0.${iva < 10 ? `0${iva}` : iva}`)).toFixed(2));\n      let ieps_precio = parseFloat((precio_venta * parseFloat(`0.${ieps < 10 ? `0${ieps}` : ieps}`)).toFixed(2));\n      let PUCSI = precios.unidad_de_compra.precio_unitario_sin_impuesto;\n      let utilidad = parseFloat((((precio_venta - PUCSI) / PUCSI) * 100).toFixed(2));\n      \n\n      let {descuento_activo, descuento} = copy_element_presentacion;\n      if (descuento_activo && descuento_activo === true) {\n        let new_precio_venta_desc = (precio_venta * descuento.porciento) / 100;\n        let new_iva_precio =\n          new_precio_venta_desc * parseFloat(`0.${iva < 10 ? `0${iva}` : iva}`);\n        let new_ieps_precio =\n          new_precio_venta_desc * parseFloat(`0.${ieps < 10 ? `0${ieps}` : ieps}`);\n        let new_impuestos = new_iva_precio + new_ieps_precio;\n        let precio_con_descuento = new_precio_venta_desc + new_impuestos;\n\n        copy_element_presentacion_descuento.precio_neto = parseFloat(\n          (precio_con_descuento).toFixed(2)\n        );\n        copy_element_presentacion.precio = parseFloat(value);\n        copy_element_presentacion.descuento = copy_element_presentacion_descuento;\n      } else {\n        copy_element_presentacion.precio = parseFloat(value);\n      }\n      copy_element_presentacion.precio_unidad.precio_venta = precio_venta;\n      copy_element_presentacion.precio_unidad.precio_neto = precio_neto;\n      copy_element_presentacion.precio_unidad.utilidad = utilidad;\n      copy_element_presentacion.precio_unidad.iva_precio = iva_precio;\n      copy_element_presentacion.precio_unidad.ieps_precio = ieps_precio;\n    } else {\n      if (!value) {\n        copy_element_presentacion.codigo_barras = \"\";\n        copy_presentaciones.splice(index, 1, copy_element_presentacion);\n        setPresentaciones(copy_presentaciones);\n        return;\n      }\n      copy_element_presentacion.codigo_barras = value;\n    }\n    copy_presentaciones.splice(index, 1, copy_element_presentacion);\n    setPresentaciones(copy_presentaciones);\n  };\n\n  const GenCodigoBarras = () => {\n    const max = 999999999999;\n    const min = 100000000000;\n    const codigo_barras = Math.floor(\n      Math.random() * (max - min + 1) + min\n    ).toString();\n    copy_element_presentacion.codigo_barras = codigo_barras;\n    copy_presentaciones.splice(index, 1, copy_element_presentacion);\n    setPresentaciones(copy_presentaciones);\n  };\n\n  const actionButton = () => {\n    if (!disabledInput) {\n      handleEditCancel();\n      /* quitar del array\t */\n      onUpdate.splice(onUpdate.length - 1, 1);\n      setOnUpdate([...onUpdate]);\n    } else {\n      setDisabledInput(!disabledInput);\n      /*  agregar al array */\n      setOnUpdate([...onUpdate, index]);\n    }\n  };\n\n  const aplicarDescuento = (value) => {\n    copy_element_presentacion.descuento_activo = value;\n\n    let precio_con_descuento = 0;\n    let { iva, ieps } = precios;\n    let {descuento, precio} = copy_element_presentacion;\n    let suma =\n      parseFloat(`0.${iva < 10 ? `0${iva}` : iva}`) +\n      parseFloat(`0.${ieps < 10 ? `0${ieps}` : ieps}`);\n    let precio_venta = parseFloat((precio / (suma + 1)).toFixed(2));\n\n    if(value){\n      let new_precio_venta_desc = (precio_venta * descuento.porciento) / 100;\n        let new_iva_precio =\n          new_precio_venta_desc * parseFloat(`0.${iva < 10 ? `0${iva}` : iva}`);\n        let new_ieps_precio =\n          new_precio_venta_desc * parseFloat(`0.${ieps < 10 ? `0${ieps}` : ieps}`);\n        let new_impuestos = new_iva_precio + new_ieps_precio;\n        precio_con_descuento = new_precio_venta_desc + new_impuestos;\n    }else{\n      precio_con_descuento = precio\n    }\n    \n    copy_element_presentacion_descuento.precio_neto = parseFloat(\n      (precio_con_descuento).toFixed(2)\n    );\n    /* copy_element_presentacion.precio = parseFloat(value); */\n    copy_element_presentacion.descuento = copy_element_presentacion_descuento;\n  \n    copy_presentaciones.splice(index, 1, copy_element_presentacion);\n    setPresentaciones(copy_presentaciones);\n  };\n\n  return (\n    <TableRow hover selected={!disabledInput} className={classes.tableRow}>\n      <TableCell align=\"center\" padding=\"checkbox\">\n        <Checkbox checked={copy_producto.existencia} color=\"primary\" />\n      </TableCell>\n      <TableCell width={220}>\n        <Box display=\"flex\">\n          <Input\n            inputRef={textfield}\n            onChange={(e) => obtenerDatos(e)}\n            /* disabled={disabledInput} */\n            value={copy_producto.codigo_barras}\n            type=\"number\"\n            name=\"codigo_barras\"\n            disabled={\n              presentaciones.length > 0 && !copy_producto.nuevo\n                ? true\n                : disabledInput\n            }\n          />\n          {presentaciones.length === 0 && copy_producto.nuevo ? (\n            <IconButton\n              color=\"primary\"\n              size=\"small\"\n              onClick={() => GenCodigoBarras()}\n            >\n              <Cached />\n            </IconButton>\n          ) : presentaciones.length > 0 && copy_producto.nuevo ? (\n            <IconButton\n              color=\"primary\"\n              size=\"small\"\n              onClick={() => GenCodigoBarras()}\n            >\n              <Cached />\n            </IconButton>\n          ) : null}\n        </Box>\n      </TableCell>\n      <TableCell width={200}>{copy_producto.nombre_comercial}</TableCell>\n      <TableCell padding=\"checkbox\">\n        {copy_producto.medida._id ? (\n          <Chip label={copy_producto.medida.talla} color=\"primary\" />\n        ) : (\n          \"\"\n        )}\n      </TableCell>\n      <TableCell padding=\"checkbox\">\n        {copy_producto.color._id ? (\n          <Tooltip\n            title={copy_producto.color.nombre}\n            placement=\"top\"\n            arrow\n            TransitionComponent={Zoom}\n          >\n            <div\n              className={classes.colorContainer}\n              style={{\n                backgroundColor: copy_producto.color.hex,\n              }}\n            />\n          </Tooltip>\n        ) : null}\n      </TableCell>\n      {!withoutPrice ? (\n        <Fragment>\n          <TableCell width={110} className={classes.input}>\n            <Input\n              inputRef={textfield}\n              onChange={(e) => obtenerDatos(e)}\n              disabled={disabledInput}\n              value={copy_producto.precio}\n              type=\"number\"\n              name=\"precio\"\n            />\n          </TableCell>\n          <TableCell width={200}>\n            <Box display=\"flex\" alignItems=\"center\">\n              {copy_producto.descuento_activo !== undefined &&\n              copy_producto.descuento_activo !== null ? (\n                <Fragment>\n                  <Checkbox\n                    checked={\n                      copy_producto.descuento_activo === true\n                        ? copy_producto.descuento_activo\n                        : false\n                    }\n                    onChange={(e) => aplicarDescuento(e.target.checked)}\n                    icon={<LocalOfferOutlined />}\n                    checkedIcon={<LocalOffer />}\n                    inputProps={{ \"aria-label\": \"check descuento\" }}\n                    color=\"primary\"\n                    disabled={copy_producto.descuento_activo === null}\n                  />\n                  <Typography\n                    color={\n                      copy_producto.descuento_activo === true\n                        ? \"primary\"\n                        : \"textSecondary\"\n                    }\n                  >\n                    %\n                    {parseFloat(\n                      copy_producto.descuento !== null\n                        ? copy_producto.descuento.porciento\n                        : 0\n                    )}{\" \"}\n                    $\n                    {parseFloat(\n                      copy_producto.descuento !== null\n                        ? copy_producto.descuento.precio_neto\n                        : 0\n                    )}\n                  </Typography>\n                </Fragment>\n              ) : null}\n            </Box>\n          </TableCell>\n        </Fragment>\n      ) : null}\n      {!onlyPrice ? (\n        <Fragment>\n          {from && from === \"compra\" ? (\n            <Fragment>\n              <TableCell padding=\"checkbox\">{producto.cantidad}</TableCell>\n              <TableCell padding=\"checkbox\">\n                <Input\n                  inputRef={textfield}\n                  onChange={(e) => obtenerDatos(e)}\n                  disabled={disabledInput}\n                  value={copy_producto.cantidad_nueva}\n                  type=\"tel\"\n                  name=\"cantidad_nueva\"\n                />\n              </TableCell>\n            </Fragment>\n          ) : (\n            <TableCell padding=\"checkbox\">\n              <Input\n                inputRef={textfield}\n                onChange={(e) => obtenerDatos(e)}\n                disabled={disabledInput}\n                value={copy_producto.cantidad}\n                type=\"tel\"\n                name=\"cantidad\"\n              />\n            </TableCell>\n          )}\n        </Fragment>\n      ) : null}\n      <TableCell padding=\"checkbox\">\n        <IconButton size=\"small\" onClick={() => actionButton()}>\n          {!disabledInput ? <Close /> : <Edit />}\n        </IconButton>\n      </TableCell>\n    </TableRow>\n  );\n};\n","import React, { Fragment, useContext, useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Tabs from \"@material-ui/core/Tabs\";\nimport Tab from \"@material-ui/core/Tab\";\nimport Box from \"@material-ui/core/Box\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport Slide from \"@material-ui/core/Slide\";\nimport FormularioPrecios from \"../../../Catalogos/Producto/PreciosVenta/registrarInfoAdicional\";\nimport { Close, LocalAtm, SquareFoot } from \"@material-ui/icons\";\nimport { ComprasContext } from \"../../../../../context/Compras/comprasContext\";\nimport Done from \"@material-ui/icons/Done\";\nimport { RegProductoContext } from \"../../../../../context/Catalogos/CtxRegProducto\";\nimport { CircularProgress, DialogTitle } from \"@material-ui/core\";\nimport TablaPresentaciones from \"../../../Catalogos/Producto/TallasColores/TablaPresentaciones\";\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nfunction TabPanel(props) {\n  const { children, value, index, ...other } = props;\n\n  return (\n    <div\n      style={{ height: \"80vh\" }}\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`scrollable-force-tabpanel-${index}`}\n      aria-labelledby={`scrollable-force-tab-${index}`}\n      {...other}\n    >\n      {value === index && <Box p={3}>{children}</Box>}\n    </div>\n  );\n}\n\nTabPanel.propTypes = {\n  children: PropTypes.node,\n  index: PropTypes.any.isRequired,\n  value: PropTypes.any.isRequired,\n};\n\nfunction a11yProps(index) {\n  return {\n    id: `scrollable-force-tab-${index}`,\n    \"aria-controls\": `scrollable-force-tabpanel-${index}`,\n  };\n}\n\nexport default function AlertDialogSlide({ agregarCompra, handleClose, cargando }) {\n  const [open, setOpen] = useState(false);\n  const [onUpdate, setOnUpdate] = useState([]);\n  const { datosProducto, productoOriginal /* setDatosProducto */ } = useContext(\n    ComprasContext\n  );\n  const {\n    precios,\n    setPrecios,\n    setUnidadesVenta,\n    setPreciosP,\n    setUnidadVentaXDefecto,\n  } = useContext(RegProductoContext);\n\n  const toggleDrawer = () => setOpen(!open);\n\n  const resetProducto = () => {\n    /* SET STATES WHEN UPDATING */\n    const { precios_producto, ...new_precios } = productoOriginal.precios;\n    const unidadxdefecto = productoOriginal.unidades_de_venta.filter(\n      (res) => res.default\n    );\n    /* setDatosProducto({...datosProducto, mantener_precio: true}) */\n    setPrecios(new_precios);\n    setUnidadesVenta(productoOriginal.unidades_de_venta);\n    setPreciosP(productoOriginal.precios.precios_producto);\n    setUnidadVentaXDefecto(unidadxdefecto[0]);\n    toggleDrawer();\n  };\n\n  const actualizarContextProducto = () => {\n    toggleDrawer();\n    let precio_unitario_con_impuesto =\n      datosProducto.costo / precios.unidad_de_compra.cantidad;\n    let precio_unitario_sin_impuesto =\n      precios.precio_de_compra.precio_sin_impuesto /\n      precios.unidad_de_compra.cantidad;\n\n    if (isNaN(precio_unitario_sin_impuesto)) precio_unitario_sin_impuesto = 0;\n    if (isNaN(precio_unitario_con_impuesto)) precio_unitario_con_impuesto = 0;\n\n    setPrecios({\n      ...precios,\n      precio_de_compra: {\n        ...precios.precio_de_compra,\n        precio_con_impuesto: datosProducto.costo,\n      },\n      unidad_de_compra: {\n        ...precios.unidad_de_compra,\n        precio_unitario_con_impuesto: parseFloat(\n          precio_unitario_con_impuesto.toFixed(6)\n        ),\n        precio_unitario_sin_impuesto: parseFloat(\n          precio_unitario_sin_impuesto.toFixed(6)\n        ),\n      },\n    });\n  };\n\n  const [value, setValue] = useState(0);\n\n  const handleChange = (event, newValue) => {\n    setValue(newValue);\n  };\n\n  return (\n    <Fragment>\n      <Button\n        color=\"primary\"\n        size=\"medium\"\n        onClick={() => actualizarContextProducto()}\n      >\n        Actualizar precios\n      </Button>\n      <Dialog\n        open={open}\n        TransitionComponent={Transition}\n        keepMounted\n        onClose={() => resetProducto()}\n        aria-labelledby=\"alert-precios-compra-title\"\n        aria-describedby=\"alert-precios-compra-description\"\n        fullWidth\n        maxWidth=\"lg\"\n      >\n        {datosProducto.producto.datos_generales &&\n        datosProducto.producto.datos_generales.tipo_producto !== \"OTROS\" ? (\n          <DialogTitle style={{ padding: 0 }}>\n            <AppBar position=\"static\" color=\"default\">\n              <Tabs\n                value={value}\n                onChange={handleChange}\n                variant=\"scrollable\"\n                scrollButtons=\"on\"\n                indicatorColor=\"primary\"\n                textColor=\"primary\"\n                aria-label=\"scrollable force tabs example\"\n              >\n                <Tab label=\"Precios\" icon={<LocalAtm />} {...a11yProps(0)} />\n                <Tab\n                  label=\"Precios Medidas\"\n                  icon={<SquareFoot />}\n                  {...a11yProps(1)}\n                />\n              </Tabs>\n            </AppBar>\n          </DialogTitle>\n        ) : null}\n        <DialogContent>\n          {datosProducto.producto.datos_generales &&\n          datosProducto.producto.datos_generales.tipo_producto !== \"OTROS\" ? (\n            <div>\n              <TabPanel value={value} index={0}>\n                <FormularioPrecios />\n              </TabPanel>\n              <TabPanel value={value} index={1}>\n                <TablaPresentaciones\n                  from=\"compras\"\n                  datos={datosProducto.producto}\n                  setOnUpdate={setOnUpdate}\n                  onUpdate={onUpdate}\n                  onlyPrice={true}\n                />\n              </TabPanel>\n            </div>\n          ) : (\n            <FormularioPrecios />\n          )}\n        </DialogContent>\n        <DialogActions>\n          <Button\n            color=\"inherit\"\n            size=\"large\"\n            startIcon={<Close />}\n            onClick={() => resetProducto()}\n          >\n            Cancelar\n          </Button>\n          <Button\n            size=\"large\"\n            onClick={() => {\n              /* setDatosProducto({...datosProducto, mantener_precio: false}) */\n              agregarCompra(\"actualizar_precios\");\n              handleClose();\n              toggleDrawer();\n            }}\n            startIcon={cargando ? <CircularProgress color=\"inherit\" size={20} /> : <Done />}\n            color=\"primary\"\n            variant=\"contained\"\n            disabled={!precios.precio_de_compra.precio_con_impuesto}\n          >\n            Aceptar y agregar compra\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </Fragment>\n  );\n}\n","import { gql } from \"@apollo/client\";\n\nexport const OBTENER_CONSULTAS = gql`\n  query obtenerConsultasProducto($empresa: ID!, $sucursal: ID!) {\n    obtenerConsultasProducto(empresa: $empresa, sucursal: $sucursal) {\n      categorias {\n        _id\n        categoria\n        subcategorias {\n          _id\n          subcategoria\n        }\n      }\n      departamentos {\n        _id\n        nombre_departamentos\n      }\n      marcas {\n        _id\n        nombre_marca\n      }\n      colores {\n        _id\n        nombre\n        hex\n      }\n      tallas {\n        _id\n        talla\n        tipo\n      }\n      calzados {\n        _id\n        talla\n        tipo\n      }\n      almacenes {\n        _id\n        nombre_almacen\n      }\n      centro_costos {\n        _id\n        cuenta\n        subcuentas {\n          _id\n          subcuenta\n        }\n      }\n      codigos {\n        _id\n        Name\n        Value\n      }\n    }\n  }\n`;\n\nexport const CREAR_PRODUCTO = gql`\n  mutation crearProducto($input: CrearProductoInput) {\n    crearProducto(input: $input) {\n      message\n    }\n  }\n`;\n\nexport const OBTENER_PRODUCTOS = gql`\n  query obtenerProductos(\n    $empresa: ID!\n    $sucursal: ID!\n    $filtro: String\n    $almacen: ID\n    $existencias: Boolean\n  ) {\n    obtenerProductos(\n      empresa: $empresa\n      sucursal: $sucursal\n      filtro: $filtro\n      almacen: $almacen\n      existencias: $existencias\n    ) {\n      _id\n      centro_de_costos {\n        id_cuenta\n        cuenta\n        id_subcuenta\n        subcuenta\n      }\n      unidades_de_venta {\n        _id\n        precio\n        cantidad\n        unidad\n        codigo_unidad\n        unidad_principal\n        codigo_barras\n        id_producto\n        descuento_activo\n        descuento {\n          cantidad_unidad\n          numero_precio\n          unidad_maxima\n          precio_general\n          precio_neto\n          precio_venta\n          iva_precio\n          ieps_precio\n          utilidad\n          porciento\n          dinero_descontado\n        }\n        default\n        precio_unidad {\n          numero_precio\n          precio_neto\n          precio_venta\n          iva_precio\n          ieps_precio\n          unidad_mayoreo\n          utilidad\n          precio_general\n          cantidad_unidad\n          unidad_maxima\n        }\n      }\n      datos_generales {\n        codigo_barras\n        clave_alterna\n        tipo_producto\n        nombre_comercial\n        nombre_generico\n        descripcion\n        id_categoria\n        categoria\n        subcategoria\n        id_subcategoria\n        id_departamento\n        departamento\n        id_marca\n        marca\n        clave_producto_sat {\n          Name\n          Value\n        }\n        receta_farmacia\n      }\n      empresa\n      imagenes {\n        location_imagen\n        extencion_imagen\n        url_imagen\n        key_imagen\n      }\n      precio_plazos {\n        precio_cajas {\n          plazo\n          unidad\n          precio\n          codigo_unidad\n        }\n        precio_piezas {\n          plazo\n          unidad\n          precio\n          codigo_unidad\n        }\n        precio_costales {\n          plazo\n          unidad\n          codigo_unidad\n          precio\n        }\n      }\n      precios {\n        ieps\n        ieps_activo\n        iva\n        iva_activo\n        monedero\n        monedero_electronico\n        precio_de_compra {\n          ieps\n          iva\n          precio_con_impuesto\n          precio_sin_impuesto\n        }\n        precios_producto {\n          numero_precio\n          precio_neto\n          precio_venta\n          iva_precio\n          ieps_precio\n          unidad_mayoreo\n          utilidad\n          precio_general\n          cantidad_unidad\n          unidad_maxima\n        }\n        unidad_de_compra {\n          cantidad\n          precio_unitario_con_impuesto\n          precio_unitario_sin_impuesto\n          unidad\n          codigo_unidad\n        }\n        inventario {\n          inventario_minimo\n          inventario_maximo\n          unidad_de_inventario\n          codigo_unidad\n        }\n        granel\n      }\n      medidas_producto {\n        _id\n        cantidad\n        almacen\n        descuento_activo\n        descuento {\n          cantidad_unidad\n          numero_precio\n          unidad_maxima\n          precio_general\n          precio_neto\n          precio_venta\n          iva_precio\n          ieps_precio\n          utilidad\n          porciento\n          dinero_descontado\n        }\n        codigo_barras\n        color {\n          _id\n          nombre\n          hex\n        }\n        existencia\n        medida {\n          _id\n          talla\n          tipo\n        }\n        nombre_comercial\n        precio\n        precio_unidad {\n          numero_precio\n          precio_neto\n          precio_venta\n          iva_precio\n          ieps_precio\n          unidad_mayoreo\n          utilidad\n          precio_general\n          cantidad_unidad\n          unidad_maxima\n        }\n      }\n      inventario_general {\n        _id\n        cantidad_existente\n        unidad_inventario\n        codigo_unidad\n        cantidad_existente_maxima\n        unidad_maxima\n        id_almacen_general\n        eliminado\n      }\n      medidas_registradas\n      sucursal\n      usuario\n    }\n  }\n`;\n\nexport const ACTUALIZAR_PRODUCTO = gql`\n  mutation actualizarProducto($id: ID!, $input: ActualizarProductoInput) {\n    actualizarProducto(id: $id, input: $input) {\n      message\n    }\n  }\n`;\n\nexport const ELIMINAR_PRODUCTO = gql`\n  mutation eliminarProducto($id: ID!) {\n    eliminarProducto(id: $id) {\n      message\n    }\n  }\n`;\n\nexport const PRODUCTOS_ELIMINADOS = gql`\n  query obtenerProductosInactivos($empresa: ID!, $sucursal: ID!) {\n    obtenerProductosInactivos(empresa: $empresa, sucursal: $sucursal) {\n      _id\n      producto {\n        _id\n        datos_generales {\n          codigo_barras\n          clave_alterna\n          tipo_producto\n          nombre_comercial\n          nombre_generico\n          descripcion\n          id_categoria\n          categoria\n          subcategoria\n          id_subcategoria\n          id_departamento\n          departamento\n          id_marca\n          marca\n          clave_producto_sat {\n            Name\n            Value\n          }\n          receta_farmacia\n        }\n        precios {\n          ieps\n          ieps_activo\n          iva\n          iva_activo\n          monedero\n          monedero_electronico\n          precio_de_compra {\n            ieps\n            iva\n            precio_con_impuesto\n            precio_sin_impuesto\n          }\n          precios_producto {\n            numero_precio\n            precio_neto\n            precio_venta\n            unidad_mayoreo\n            utilidad\n          }\n          unidad_de_compra {\n            cantidad\n            precio_unitario_con_impuesto\n            precio_unitario_sin_impuesto\n            unidad\n          }\n          inventario {\n            inventario_minimo\n            inventario_maximo\n            unidad_de_inventario\n          }\n          granel\n        }\n      }\n      cantidad_existente\n      unidad_de_inventario\n      id_almacen\n      eliminado\n      empresa\n      sucursal\n    }\n  }\n`;\n\nexport const ACTIVAR_PRODUCTOS = gql`\n  mutation activarProducto($id: ID!) {\n    activarProducto(id: $id) {\n      message\n    }\n  }\n`;\n\nexport const CREAR_PRODUCTO_RAPIDO = gql`\n  mutation crearProductoRapido($input: CrearProductoRapidoInput) {\n    crearProductoRapido(input: $input) {\n      message\n    }\n  }\n`;\n","import React, { createContext, useState } from 'react';\n\nexport const CrearAlmacenContext = createContext();\n\nexport const AlmacenProvider = ({ children }) => {\n\tconst [ datosAlmacen, setDatosAlmacen ] = useState({\n        nombre_almacen: '',\n        id_usuario_encargado: '',\n        direccion: {\n            calle: '',\n            no_ext: '',\n            no_int: '',\n            codigo_postal: '',\n            colonia: '',\n            municipio: '',\n            localidad: '',\n            estado: '',\n            pais: ''\n        }\n    });\n\n    const [ update, setUpdate ] = useState(false);\n    const [ error, setError ] = useState(false);\n    const [ openRegistro, setOpenRegistro ] = useState(false);\n\n\treturn (\n\t\t<CrearAlmacenContext.Provider value={\n            { \n                datosAlmacen, \n                setDatosAlmacen,\n                update,\n                setUpdate,\n                error,\n                setError,\n                openRegistro,\n                setOpenRegistro\n            }\n        }>\n\t\t\t{children}\n\t\t</CrearAlmacenContext.Provider>\n\t);\n};\n","import { gql } from \"@apollo/client\";\n\nexport const REGISTRO_ALMACEN = gql`\n  mutation CrearAlmacen($input: CrearAlmacen, $id: ID!, $empresa: ID!) {\n    crearAlmacen(input: $input, id: $id, empresa: $empresa) {\n      _id\n    }\n  }\n`;\n\nexport const OBTENER_ALMACENES = gql`\n  query obtenerAlmacenes($id: ID!) {\n    obtenerAlmacenes(id: $id) {\n      _id\n      nombre_almacen\n      id_usuario_encargado {\n        _id\n        nombre\n      }\n      id_sucursal {\n        _id\n        nombre_sucursal\n        descripcion\n        direccion {\n          calle\n          no_ext\n          no_int\n          codigo_postal\n          colonia\n          municipio\n          localidad\n          estado\n          pais\n        }\n      }\n      direccion {\n        calle\n        no_ext\n        no_int\n        codigo_postal\n        colonia\n        municipio\n        localidad\n        estado\n        pais\n      }\n    }\n  }\n`;\n\nexport const ACTUALIZAR_ALMACEN = gql`\n  mutation ActualizarAlmacen($input: EditarAlmacen, $id: ID!) {\n    actualizarAlmacen(input: $input, id: $id) {\n      message\n    }\n  }\n`;\n\nexport const OBTENER_PRODUCTOS_ALMACEN = gql`\n  query obtenerProductosAlmacenes(\n    $empresa: ID!\n    $sucursal: ID!\n    $filtro: FilterProductoInput\n  ) {\n    obtenerProductosAlmacenes(\n      empresa: $empresa\n      sucursal: $sucursal\n      filtro: $filtro\n    ) {\n      _id\n      datos_generales {\n        codigo_barras\n        clave_alterna\n        tipo_producto\n        nombre_comercial\n        nombre_generico\n        descripcion\n        id_categoria\n        categoria\n        subcategoria\n        id_subcategoria\n        id_departamento\n        departamento\n        id_marca\n        marca\n        clave_producto_sat {\n          Name\n          Value\n        }\n        receta_farmacia\n      }\n      precios{\n        inventario{\n          inventario_maximo\n          inventario_minimo\n          unidad_de_inventario\n          codigo_unidad\n        }\n      }\n  \n      existencia_almacenes {\n        _id {\n          producto\n          almacen {\n            _id\n            nombre_almacen\n          }\n        }\n        unidad_inventario\n        cantidad_existente\n      }\n      empresa\n      sucursal\n    }\n  }\n`;\n\nexport const OBTENER_CATEGORIAS = gql`\n  query obtenerCategorias($empresa: ID!, $sucursal: ID!) {\n    obtenerCategorias(empresa: $empresa, sucursal: $sucursal) {\n      _id\n      categoria\n      subcategorias {\n        _id\n        subcategoria\n      }\n    }\n  }\n`;\n\nexport const REALIZAR_TRASPASO = gql`\n  mutation CrearTraspaso(\n    $input: CrearTraspasoInput\n    $usuario: ID!\n    $empresa: ID!\n  ) {\n    crearTraspaso(input: $input, usuario: $usuario, empresa: $empresa) {\n      message\n      resp\n    }\n  }\n`;\n\nexport const OBTENER_PRODUCTOS_EMPRESA = gql`\n  query obtenerProductosPorEmpresa($empresa: ID!, $filtro: String) {\n    obtenerProductosPorEmpresa(empresa: $empresa, filtro : $filtro) {\n      _id\n      datos_generales {\n        codigo_barras\n        clave_alterna\n        tipo_producto\n        nombre_comercial\n        nombre_generico\n        descripcion\n        id_categoria\n        categoria\n        subcategoria\n        id_subcategoria\n        id_departamento\n        departamento\n        id_marca\n        marca\n        clave_producto_sat {\n          Name\n          Value\n        }\n        receta_farmacia\n      }\n      precio_plazos {\n        precio_cajas {\n          plazo\n          unidad\n          precio\n        }\n        precio_piezas {\n          plazo\n          unidad\n          precio\n        }\n        precio_costales {\n          plazo\n          unidad\n          precio\n        }\n      }\n      precios {\n        ieps\n        ieps_activo\n        iva\n        iva_activo\n        monedero\n        monedero_electronico\n        precio_de_compra {\n          ieps\n          iva\n          precio_con_impuesto\n          precio_sin_impuesto\n        }\n        precios_producto {\n          numero_precio\n          precio_neto\n          precio_venta\n          unidad_mayoreo\n          utilidad\n          ieps_precio\n          iva_precio\n        }\n        unidad_de_compra {\n          cantidad\n          precio_unitario_con_impuesto\n          precio_unitario_sin_impuesto\n          unidad\n        }\n        inventario {\n          inventario_minimo\n          inventario_maximo\n          unidad_de_inventario\n        }\n        granel\n      }\n      sucursal\n      usuario\n      empresa\n    }\n  }\n`;\n\nexport const OBTENER_TRASPASOS = gql`\n  query obtenerTraspasos( $input: ConsultaTraspasosInput) {\n    obtenerTraspasos(input: $input) {\n      _id  \n      cantidad\n      \n      id_traspaso{\n        concepto_traspaso{\n          nombre_concepto\n        }\n        fecha_registro\n      }\n      producto{\n        datos_generales{\n          nombre_comercial\n        }\n      }\n      almacen_origen{\n        _id\n        nombre_almacen\n      }\n      almacen_destino{\n        _id\n        nombre_almacen\n      }\n    }\n  }\n`;\n","import React, { useState, Fragment, useContext, useCallback } from 'react';\nimport {\n    Button,\n    Dialog,\n    TextField,\n    Container,\n    Typography,\n    Box,\n    IconButton,\n    DialogTitle,\n    Divider,\n    FormControl,\n    Select,\n    MenuItem\n} from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { CrearAlmacenContext } from '../../../../context/Almacenes/crearAlmacen';\nimport { useMutation, useQuery } from '@apollo/client';\nimport { REGISTRO_ALMACEN, ACTUALIZAR_ALMACEN } from '../../../../gql/Almacenes/Almacen';\nimport SnackBarMessages from '../../../../components/SnackBarMessages';\nimport BackdropComponent from '../../../../components/Layouts/BackDrop';\nimport { OBTENER_USUARIOS } from '../../../../gql/Catalogos/usuarios';\nimport { Edit } from '@material-ui/icons';\nimport { RegProductoContext } from '../../../../context/Catalogos/CtxRegProducto';\nimport Add from '@material-ui/icons/Add';\n\nconst useStyles = makeStyles((theme) => ({\n    formInputFlex: {\n        display: 'flex',\n        '& > *': {\n            margin: `${theme.spacing(1)}px ${theme.spacing(1)}px`\n        },\n        '& span': {\n            color: 'red'\n        }\n    },\n    formInput: {\n        margin: `${theme.spacing(1)}px ${theme.spacing(2)}px`\n    }\n}));\n\nexport default function ContainerRegistroAlmacen({ accion, datos, refetch }) {\n\n    /* const sucursal = {\n        _id: \"60c8e180340d5d223432a916\",\n        nombre_sucursal: \"Sucursal 1 editada\"\n    }; */\n    const sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n    const [CrearAlmacen] = useMutation(REGISTRO_ALMACEN);\n    const [ActualizarAlmacen] = useMutation(ACTUALIZAR_ALMACEN);\n    const { data } = useQuery(OBTENER_USUARIOS, {\n        variables: {\n            sucursal: `${sesion.sucursal._id}`\n        }\n    });\n    let obtenerUsuarios = [];\n\n    const classes = useStyles();\n    const [alert, setAlert] = useState({ message: '', status: '', open: false });\n    // const empresa = '609eb3b4b995884dc49bbffa';\n    const [open, setOpen] = useState(false);\n    const { datosAlmacen, setDatosAlmacen, error, setError, update, setUpdate } = useContext(CrearAlmacenContext);\n    const { almacen_inicial, setAlmacenInicial } = useContext(RegProductoContext);\n    const [loading, setLoading] = useState(false);\n\n\n    // const sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\n    const limpiarCampos = useCallback(\n        () => {\n            setDatosAlmacen({\n                nombre_almacen: '',\n                id_usuario_encargado: '',\n                direccion: {\n                    calle: '',\n                    no_ext: '',\n                    no_int: '',\n                    codigo_postal: '',\n                    colonia: '',\n                    municipio: '',\n                    localidad: '',\n                    estado: '',\n                    pais: ''\n                }\n            });\n        },\n        [setDatosAlmacen]\n    );\n    const toggleModal = () => {\n        setOpen(true);\n        if (datos) {\n            let input = {};\n            if (datos.id_usuario_encargado) {\n                const { id_usuario_encargado, ...datosNew } = datos;\n                input = datosNew;\n                input.id_usuario_encargado = id_usuario_encargado._id;\n            } else {\n                input = datos;\n            }\n            setDatosAlmacen(input);\n        }\n    };\n    const onCloseModal = () => {\n        setOpen(false);\n        limpiarCampos();\n    };\n\n    const obtenerCampos = (e) => {\n        setDatosAlmacen({\n            ...datosAlmacen,\n            [e.target.name]: e.target.value\n        });\n    };\n\n    const obtenerCamposDireccion = (e) => {\n        setDatosAlmacen({\n            ...datosAlmacen,\n            direccion: { ...datosAlmacen.direccion, [e.target.name]: e.target.value }\n        });\n    };\n\n    const saveData = async () => {\n        try {\n            if (!datosAlmacen.nombre_almacen) {\n                setError(true);\n                return;\n            } else {\n                if (accion === \"registrar\") {\n                    let input = {};\n                    let almacen_creado;\n                    if (datosAlmacen.id_usuario_encargado === \"\") {\n                        const { id_usuario_encargado, ...input } = datosAlmacen;\n                        almacen_creado = await CrearAlmacen({\n                            variables: {\n                                input,\n                                id: sesion.sucursal._id,\n                                empresa: sesion.empresa._id\n                            }\n                        });\n                    } else {\n                        input = datosAlmacen;\n                        almacen_creado = await CrearAlmacen({\n                            variables: {\n                                input,\n                                id: sesion.sucursal._id,\n                                empresa: sesion.empresa._id\n                            }\n                        });\n                    }\n\n                    const id_almacen = almacen_creado.data.crearAlmacen._id;\n                    if (refetch) {\n                        setAlmacenInicial({\n                            ...almacen_inicial,\n                            id_almacen,\n                            almacen: datosAlmacen.nombre_almacen,\n                        })\n                        refetch();\n                    }\n                } else {\n                    const { id_sucursal, _id, ...input } = datosAlmacen;\n                    await ActualizarAlmacen({\n                        variables: {\n                            input,\n                            id: datosAlmacen._id\n                        }\n                    })\n                }\n                setUpdate(!update);\n                setAlert({ message: 'Listo!', status: 'success', open: true });\n                setError(false);\n                setLoading(false);\n                onCloseModal();\n            }\n        } catch (error) {\n            setAlert({ message: 'Hubo un error', status: 'error', open: true });\n            setLoading(false);\n        }\n    }\n\n    if (data) {\n        obtenerUsuarios = data.obtenerUsuarios;\n    }\n\n    return (\n        <Fragment>\n            <SnackBarMessages alert={alert} setAlert={setAlert} />\n            {accion === 'registrar' ? refetch ? (\n                <IconButton color=\"primary\" onClick={toggleModal}>\n                    <Add />\n                </IconButton>\n            ) : (\n                <Button color=\"primary\" variant=\"contained\" size=\"large\" onClick={toggleModal}>\n                    AGREGAR\n                </Button>\n            ) : (\n                <IconButton onClick={toggleModal}>\n                    <Edit />\n                </IconButton>\n            )}\n            <Dialog open={open} onClose={onCloseModal} fullWidth maxWidth=\"md\">\n                <BackdropComponent loading={loading} setLoading={setLoading} />\n                <DialogTitle id=\"form-dialog-title\">Registro almacen</DialogTitle>\n                <Container maxWidth=\"md\">\n                    <div className={classes.formInputFlex}>\n                        <Box width=\"100%\">\n                            <Typography><span>* </span>Nombre Almacen</Typography>\n                            <TextField\n                                fullWidth\n                                size=\"small\"\n                                error={error}\n                                name=\"nombre_almacen\"\n                                id=\"form-producto-codigo-barras\"\n                                variant=\"outlined\"\n                                value={datosAlmacen.nombre_almacen}\n                                /* helperText=\"Incorrect entry.\" */\n                                onChange={obtenerCampos}\n                            />\n                        </Box>\n                        <Box width=\"100%\">\n                            <Typography>Encargado de almacen</Typography>\n                            <FormControl fullWidth size=\"small\" variant=\"outlined\">\n                                <Select\n                                    labelId=\"demo-simple-select-label\"\n                                    id=\"demo-simple-select\"\n                                    name=\"id_usuario_encargado\"\n                                    value={datosAlmacen.id_usuario_encargado ? datosAlmacen.id_usuario_encargado : \"\"}\n                                    onChange={obtenerCampos}\n                                >\n                                    {\n                                        obtenerUsuarios?.map((user, index) => (\n                                            <MenuItem key={index} value={user._id}>{user.nombre}</MenuItem>\n                                        ))\n                                    }\n                                </Select>\n                            </FormControl>\n                        </Box>\n                        <Box width=\"100%\">\n                            <Typography>Sucursal</Typography>\n                            <Typography style={{ marginTop: \"7px\", fontWeight: \"bold\" }}>{sesion.sucursal.nombre_sucursal}</Typography>\n                        </Box>\n                    </div>\n                    <Box mt={2}>\n                        <Typography>\n                            <b>Domicilio</b>\n                        </Typography>\n                        <Divider />\n                    </Box>\n                    <div className={classes.formInputFlex}>\n                        <Box width=\"100%\">\n                            <Typography>Calle</Typography>\n                            <TextField\n                                fullWidth\n                                size=\"small\"\n                                // error={error && !datosAlmacen.direccion.calle}\n                                name=\"calle\"\n                                variant=\"outlined\"\n                                value={datosAlmacen.direccion.calle}\n                                onChange={obtenerCamposDireccion}\n                            />\n                        </Box>\n                        <Box width=\"100%\">\n                            <Typography>No. exterior</Typography>\n                            <TextField\n                                fullWidth\n                                size=\"small\"\n                                // error={error && !datosAlmacen.direccion.no_ext}\n                                name=\"no_ext\"\n                                variant=\"outlined\"\n                                value={datosAlmacen.direccion.no_ext}\n                                onChange={obtenerCamposDireccion}\n                            />\n                        </Box>\n                        <Box width=\"100%\">\n                            <Typography>No. interior</Typography>\n                            <TextField\n                                fullWidth\n                                size=\"small\"\n                                // error={error && !datosAlmacen.direccion.no_int}\n                                name=\"no_int\"\n                                variant=\"outlined\"\n                                value={datosAlmacen.direccion.no_int}\n                                onChange={obtenerCamposDireccion}\n                            />\n                        </Box>\n                    </div>\n                    <div className={classes.formInputFlex}>\n                        <Box width=\"100%\">\n                            <Typography>Codigo Postal</Typography>\n                            <TextField\n                                fullWidth\n                                size=\"small\"\n                                type=\"number\"\n                                // error={error && !datosAlmacen.direccion.codigo_postal}\n                                name=\"codigo_postal\"\n                                variant=\"outlined\"\n                                value={datosAlmacen.direccion.codigo_postal}\n                                onChange={obtenerCamposDireccion}\n                            />\n                        </Box>\n                        <Box width=\"100%\">\n                            <Typography>Colonia</Typography>\n                            <TextField\n                                fullWidth\n                                size=\"small\"\n                                // error={error && !datosAlmacen.direccion.colonia}\n                                name=\"colonia\"\n                                variant=\"outlined\"\n                                value={datosAlmacen.direccion.colonia}\n                                onChange={obtenerCamposDireccion}\n                            />\n                        </Box>\n                        <Box width=\"100%\">\n                            <Typography>Municipio</Typography>\n                            <TextField\n                                fullWidth\n                                size=\"small\"\n                                // error={error && !datosAlmacen.direccion.municipio}\n                                name=\"municipio\"\n                                variant=\"outlined\"\n                                value={datosAlmacen.direccion.municipio}\n                                onChange={obtenerCamposDireccion}\n                            />\n                        </Box>\n                    </div>\n                    <div className={classes.formInputFlex}>\n                        <Box width=\"100%\">\n                            <Typography>Localidad</Typography>\n                            <TextField\n                                fullWidth\n                                size=\"small\"\n                                // error={error && !datosAlmacen.direccion.localidad}\n                                name=\"localidad\"\n                                variant=\"outlined\"\n                                value={datosAlmacen.direccion.localidad}\n                                onChange={obtenerCamposDireccion}\n                            />\n                        </Box>\n                        <Box width=\"100%\">\n                            <Typography>Estado</Typography>\n                            <TextField\n                                fullWidth\n                                size=\"small\"\n                                // error={error && !datosAlmacen.direccion.estado}\n                                name=\"estado\"\n                                variant=\"outlined\"\n                                value={datosAlmacen.direccion.estado}\n                                onChange={obtenerCamposDireccion}\n                            />\n                        </Box>\n                        <Box width=\"100%\">\n                            <Typography>Pais</Typography>\n                            <TextField\n                                fullWidth\n                                size=\"small\"\n                                //  error={error && !datosAlmacen.direccion.pais}\n                                name=\"pais\"\n                                variant=\"outlined\"\n                                value={datosAlmacen.direccion.pais}\n                                onChange={obtenerCamposDireccion}\n                            />\n                        </Box>\n                    </div>\n                    <Box m={1} display=\"flex\" justifyContent=\"flex-end\">\n                        <Button color=\"primary\" variant=\"contained\" size=\"large\" onClick={saveData} >\n                            Guardar\n                        </Button>\n                    </Box>\n                </Container>\n            </Dialog>\n        </Fragment>\n    )\n}\n","import { gql } from '@apollo/client';\n\nexport const CREAR_COLOR = gql`\n\tmutation crearColor($input: CrearColorInput) {\n\t\tcrearColor(input: $input) {\n\t\t\t_id\n\t\t\tnombre\n\t\t\thex\n\t\t\tempresa {\n\t\t\t\tnombre_empresa\n\t\t\t\tcorreo_empresa\n\t\t\t\tnombre_dueno\n\t\t\t\ttelefono_dueno\n\t\t\t\tsucursales_activas\n\t\t\t\tlimite_sucursales\n\t\t\t\t_id\n\t\t\t}\n\t\t}\n\t}\n`;\n\nexport const OBTENER_COLORES = gql`\n\tquery obtenerColores($sucursal: String!) {\n\t\tobtenerColores(sucursal: $sucursal) {\n\t\t\t_id\n\t\t\tnombre\n\t\t\thex\n\t\t\tempresa {\n\t\t\t\tnombre_empresa\n\t\t\t\tcorreo_empresa\n\t\t\t\tnombre_dueno\n\t\t\t\ttelefono_dueno\n\t\t\t\tsucursales_activas\n\t\t\t\tlimite_sucursales\n\t\t\t\t_id\n\t\t\t}\n\t\t\tsucursal {\n\t\t\t\t_id\n\t\t\t\tnombre_sucursal\n\t\t\t\tdescripcion\n\t\t\t}\n\t\t}\n\t}\n`;\n\nexport const ACTUALIZAR_COLOR = gql`\n\tmutation actualizarColor($input: ActualizarColorInput, $id: ID!) {\n\t\tactualizarColor(id: $id, input: $input) {\n\t\t\tmessage\n\t\t}\n\t}\n`;\nexport const ELIMINAR_COLOR = gql`\n\tmutation eliminarColor($id: ID!) {\n\t\teliminarColor(id: $id) {\n\t\t\tmessage\n\t\t}\n\t}\n`;\n","import React, { useState, Fragment } from \"react\";\nimport {\n  Box,\n  Button,\n  TextField,\n  Typography,\n  Dialog,\n  DialogContent,\n  DialogActions,\n} from \"@material-ui/core\";\nimport { Add, Done } from \"@material-ui/icons\";\nimport { SketchPicker } from \"react-color\";\nimport SnackBarMessages from \"../../../../../components/SnackBarMessages\";\n\nimport { useMutation } from \"@apollo/client\";\nimport { CREAR_COLOR } from \"../../../../../gql/Catalogos/colores\";\n\nexport default function CrearColorProducto({ refetch }) {\n  const [color, setColor] = useState({});\n  const [values, setValues] = useState({ nombre: \"\", hex: \"\" });\n  const [alert, setAlert] = useState({ message: \"\", status: \"\", open: false });\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n  const [open, setOpen] = useState(false);\n\n  const toggleModal = () => setOpen(!open);\n\n  /* Mutations */\n  const [crearColor] = useMutation(CREAR_COLOR);\n\n  const handleChangeComplete = (color) => {\n    setColor(color);\n    setValues({\n      ...values,\n      hex: color.hex.toUpperCase(),\n    });\n  };\n\n  const GuardarDatosBD = async (e) => {\n    e.preventDefault();\n    if (!values.nombre || !values.hex) {\n      return;\n    }\n    try {\n      const colores = values;\n      await crearColor({\n        variables: {\n          input: {\n            nombre: colores.nombre,\n            hex: colores.hex,\n            empresa: sesion.empresa._id,\n            sucursal: sesion.sucursal._id,\n          },\n        },\n      });\n      refetch();\n      setValues({ nombre: \"\", hex: \"\" });\n      setAlert({ message: \"Listo!\", status: \"success\", open: true });\n      toggleModal();\n    } catch (error) {\n      setAlert({ message: \"Hubo un error\", status: \"error\", open: true });\n    }\n  };\n\n  return (\n    <Fragment>\n      <Box display=\"flex\" justifyContent=\"flex-end\">\n        <Button color=\"primary\" onClick={() => toggleModal()}>\n          <Add />\n          nuevo color\n        </Button>\n      </Box>\n      <Dialog\n        open={open}\n        /* onClose={() => toggleModal()} */\n        scroll=\"paper\"\n        disableEscapeKeyDown\n        onClose={(event, reason) => {\n          if (reason !== \"backdropClick\") {\n            toggleModal();\n          }\n        }}\n      >\n        <DialogContent>\n          <Box>\n            <SnackBarMessages alert={alert} setAlert={setAlert} />\n            <SketchPicker\n              color={color}\n              onChangeComplete={handleChangeComplete}\n            />\n            <Box mt={2}>\n              <Typography>Color seleccionado:</Typography>\n              {!values.hex ? (\n                <Box display=\"flex\" justifyContent=\"center\" width={220}>\n                  <Typography color=\"secondary\">NINGUNO</Typography>\n                </Box>\n              ) : (\n                <Box bgcolor={values.hex} height={30} width={220} />\n              )}\n            </Box>\n            <Box my={2}>\n              <form\n                id=\"form-registro-color\"\n                onSubmit={(e) => GuardarDatosBD(e)}\n              >\n                <TextField\n                  label=\"Nombre del color\"\n                  variant=\"outlined\"\n                  size=\"small\"\n                  value={values.nombre}\n                  onChange={(e) =>\n                    setValues({\n                      ...values,\n                      nombre: e.target.value.toUpperCase(),\n                    })\n                  }\n                  fullWidth\n                  focused\n                />\n              </form>\n            </Box>\n          </Box>\n        </DialogContent>\n        <DialogActions>\n          <Button\n            variant=\"outlined\"\n            color=\"primary\"\n            onClick={() => toggleModal()}\n            size=\"large\"\n          >\n            Cancelar\n          </Button>\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            type=\"submit\"\n            form=\"form-registro-color\"\n            size=\"large\"\n            startIcon={<Done />}\n          >\n            Guardar\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </Fragment>\n  );\n}\n","import { gql } from '@apollo/client';\n\nexport const CREAR_TALLAS = gql`\n\tmutation crearTalla($input: CrearTallaInput) {\n\t\tcrearTalla(input: $input) {\n\t\t\tmessage\n\t\t}\n\t}\n`;\n\nexport const OBTENER_TALLAS = gql`\n\tquery obtenerTallas($sucursal: String!, $tipo: String! ) {\n\t\tobtenerTallas(sucursal: $sucursal, tipo: $tipo) {\n\t\t\t_id\n\t\t\ttalla\n\t\t\ttipo\n\t\t\tempresa {\n\t\t\t\tnombre_empresa\n\t\t\t\tcorreo_empresa\n\t\t\t\tnombre_dueno\n\t\t\t\ttelefono_dueno\n\t\t\t\tsucursales_activas\n\t\t\t\tlimite_sucursales\n\t\t\t\t_id\n\t\t\t}\n\t\t}\n\t}\n`;\n\nexport const ACTUALIZAR_TALLA = gql`\n\tmutation actualizarTalla($input: ActualizarTallaInput, $id: ID!) {\n\t\tactualizarTalla(id: $id, input: $input) {\n\t\t\tmessage\n\t\t}\n\t}\n`;\nexport const ELIMINAR_TALLA = gql`\n\tmutation eliminarTalla($input: ActualizarTallaInput,$id: ID!) {\n\t\teliminarTalla(id: $id, input: $input) {\n\t\t\tmessage\n\t\t}\n\t}\n`;\n","import React, { useState, Fragment, useContext } from \"react\";\nimport {\n  Box,\n  Button,\n  TextField,\n  Dialog,\n  DialogContent,\n  DialogActions,\n} from \"@material-ui/core\";\nimport { Add, Done } from \"@material-ui/icons\";\nimport SnackBarMessages from \"../../../../../components/SnackBarMessages\";\n\nimport { useMutation } from \"@apollo/client\";\nimport { CREAR_TALLAS } from \"../../../../../gql/Catalogos/tallas\";\nimport { RegProductoContext } from \"../../../../../context/Catalogos/CtxRegProducto\";\n\nexport default function CrearTallasProducto({\n  setMedidasSeleccionadas,\n  refetch,\n}) {\n  const [value, setValue] = useState(\"\");\n  const [open, setOpen] = useState(false);\n  const [alert, setAlert] = useState({ message: \"\", status: \"\", open: false });\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n  const { datos_generales } = useContext(RegProductoContext);\n\n  const [crearTalla] = useMutation(CREAR_TALLAS);\n\n  const toggleModal = () => setOpen(!open);\n\n  const GuardarDatosBD = async (e) => {\n    e.preventDefault();\n    if (!value) {\n      return;\n    }\n    try {\n      const nueva_talla = value;\n      await crearTalla({\n        variables: {\n          input: {\n            talla: nueva_talla,\n            tipo: datos_generales.tipo_producto,\n            empresa: sesion.empresa._id,\n            sucursal: sesion.sucursal._id,\n          },\n        },\n      });\n      refetch();\n      setMedidasSeleccionadas([nueva_talla]);\n      setValue(\"\");\n      setAlert({ message: \"Listo!\", status: \"success\", open: true });\n      toggleModal();\n    } catch (error) {\n      setAlert({ message: \"Hubo un error\", status: \"error\", open: true });\n    }\n  };\n\n  return (\n    <Fragment>\n      <Box display=\"flex\" justifyContent=\"flex-end\">\n        <Button color=\"primary\" onClick={() => toggleModal()}>\n          <Add /> Nueva talla\n        </Button>\n      </Box>\n      <Dialog\n        open={open}\n        scroll=\"paper\"\n        disableEscapeKeyDown\n        onClose={(event, reason) => {\n          if (reason !== \"backdropClick\") {\n            toggleModal();\n          }\n        }}\n      >\n        <DialogContent>\n          <Box>\n            <SnackBarMessages alert={alert} setAlert={setAlert} />\n            <Box\n              display=\"flex\"\n              justifyContent=\"center\"\n              alignItems=\"center\"\n              my={2}\n            >\n              <form\n                id=\"form-registro-color\"\n                onSubmit={(e) => GuardarDatosBD(e)}\n              >\n                <TextField\n                  id=\"outlined-error-helper-text\"\n                  label={\n                    datos_generales.tipo_producto === \"ROPA\"\n                      ? \"Talla\"\n                      : \"Nmero\"\n                  }\n                  variant=\"outlined\"\n                  size=\"small\"\n                  focused\n                  fullWidth\n                  value={value}\n                  onChange={(e) => setValue(e.target.value.toUpperCase())}\n                />\n              </form>\n            </Box>\n          </Box>\n        </DialogContent>\n        <DialogActions>\n          <Button\n            variant=\"outlined\"\n            color=\"primary\"\n            onClick={() => toggleModal()}\n            size=\"large\"\n          >\n            Cancelar\n          </Button>\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            type=\"submit\"\n            form=\"form-registro-color\"\n            size=\"large\"\n            startIcon={<Done />}\n          >\n            Guardar\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </Fragment>\n  );\n}\n","import React, { useContext, useState, Fragment, useEffect, useCallback } from 'react';\nimport { Typography, MenuItem, Divider, Tooltip, FormLabel } from '@material-ui/core';\nimport { Box, FormControl, Grid, Select } from '@material-ui/core';\nimport { makeStyles, useTheme } from '@material-ui/core';\nimport Zoom from '@material-ui/core/Zoom';\n\nimport { Done } from '@material-ui/icons';\nimport TablaPresentaciones from './TablaPresentaciones';\nimport { RegProductoContext } from '../../../../../context/Catalogos/CtxRegProducto';\nimport { AlmacenProvider } from '../../../../../context/Almacenes/crearAlmacen';\nimport ContainerRegistroAlmacen from '../../../Almacenes/RegistroAlmacen/ContainerRegistroAlmacen';\nimport CrearColorProducto from './crearColor';\nimport CrearTallasProducto from './crearTalla';\n\nconst useStyles = makeStyles((theme) => ({\n\tcolorContainer: {\n\t\tborder: '1px solid rgba(0,0,0, .3)',\n\t\tdisplay: 'flex',\n\t\tjustifyContent: 'center',\n\t\talignItems: 'center',\n\t\theight: 50,\n\t\twidth: 50,\n\t\tmargin: 1,\n\t\tborderRadius: '15%',\n\t\tcursor: 'pointer'\n\t}\n}));\n\nconst GenCodigoBarras = () => {\n\treturn Math.floor(Math.random() * (999999999999 - 100000000000 + 1) + 100000000000).toString();\n};\n\nexport default function ColoresTallas({ obtenerConsultasProducto, refetch, datos }) {\n\tconst {\n\t\talmacen_inicial,\n\t\tsetAlmacenInicial,\n\t\tpresentaciones,\n\t\tdatos_generales,\n\t} = useContext(RegProductoContext);\n\tconst { almacenes, colores, tallas, calzados } = obtenerConsultasProducto;\n\tconst [ medidasSeleccionadas, setMedidasSeleccionadas ] = useState([]);\n\tconst [ coloresSeleccionados, setColoresSeleccionados ] = useState([]);\n\tconst medidas = datos_generales.tipo_producto === 'ROPA' ? [ ...tallas ] : [ ...calzados ];\n\tconst [ onUpdate, setOnUpdate ] = useState([]);\n\n\tconst obtenerColoresSeleccinados = useCallback(\n\t\t() => {\n\t\t\tlet colors = [];\n\t\t\tlet medidas = [];\n\t\t\tconst copy_presentaciones = [ ...presentaciones ];\n\n\t\t\tcopy_presentaciones.forEach((element) => {\n\t\t\t\tif (element.color._id) colors.push(element.color);\n\t\t\t\tif (element.medida._id) medidas.push(element.medida);\n\t\t\t});\n\n\t\t\tvar hashColor = {};\n\t\t\tvar hashMedida = {};\n\t\t\tconst colores_existentes = colors.filter((color) => {\n\t\t\t\tvar existColor = !hashColor[color._id];\n\t\t\t\thashColor[color._id] = true;\n\t\t\t\treturn existColor;\n\t\t\t});\n\t\t\tconst medidas_existentes = medidas.filter((medida) => {\n\t\t\t\tvar existMedida = !hashMedida[medida._id];\n\t\t\t\thashMedida[medida._id] = true;\n\t\t\t\treturn existMedida;\n\t\t\t});\n\n\t\t\tsetColoresSeleccionados([ ...colores_existentes ]);\n\t\t\tsetMedidasSeleccionadas([ ...medidas_existentes ]);\n\t\t},\n\t\t[ presentaciones ]\n\t);\n\n\tconst obtenerAlmacenes = (event, child) => {\n\t\tsetAlmacenInicial({\n\t\t\t...almacen_inicial,\n\t\t\t[event.target.name]: event.target.value,\n\t\t\t[child.props.name]: child.props.id\n\t\t});\n\t};\n\n\tuseEffect(\n\t\t() => {\n\t\t\tobtenerColoresSeleccinados();\n\t\t},\n\t\t[ obtenerColoresSeleccinados ]\n\t);\n\n\treturn (\n\t\t<div>\n\t\t\t<Grid container spacing={2}>\n\t\t\t\t<Grid item md={9}>\n\t\t\t\t\t<TablaPresentaciones datos={datos} setOnUpdate={setOnUpdate} onUpdate={onUpdate} />\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item md={3}>\n\t\t\t\t\t{!datos.medidas_registradas ? (\n\t\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t\t<Box width=\"100%\" mb={2}>\n\t\t\t\t\t\t\t\t<Typography>Almacen</Typography>\n\t\t\t\t\t\t\t\t<Box display=\"flex\">\n\t\t\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\t\t\tdisabled={presentaciones.length === 0}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\tname=\"almacen\"\n\t\t\t\t\t\t\t\t\t\terror={presentaciones.length > 0 && !almacen_inicial.almacen}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\t\t\t\t\tname=\"almacen\"\n\t\t\t\t\t\t\t\t\t\t\tvalue={almacen_inicial.almacen}\n\t\t\t\t\t\t\t\t\t\t\tonChange={obtenerAlmacenes}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<MenuItem value=\"\">\n\t\t\t\t\t\t\t\t\t\t\t\t<em>Seleccione uno</em>\n\t\t\t\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t{almacenes ? (\n\t\t\t\t\t\t\t\t\t\t\t\talmacenes.map((res) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"id_almacen\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={res._id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={res.nombre_almacen}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid={res._id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{res.nombre_almacen}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value=\"\" />\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t</Select>\n\t\t\t\t\t\t\t\t\t\t{presentaciones.length > 0 && !almacen_inicial.almacen ? (\n\t\t\t\t\t\t\t\t\t\t\t<FormLabel>* Campo obligatorio</FormLabel>\n\t\t\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t\t\t\t<AlmacenProvider>\n\t\t\t\t\t\t\t\t\t\t<ContainerRegistroAlmacen accion=\"registrar\" refetch={refetch} />\n\t\t\t\t\t\t\t\t\t</AlmacenProvider>\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Divider />\n\t\t\t\t\t\t</Fragment>\n\t\t\t\t\t) : null}\n\t\t\t\t\t<Box\n\t\t\t\t\t\twidth=\"100%\"\n\t\t\t\t\t\tmy={2}\n\t\t\t\t\t\tstyle={\n\t\t\t\t\t\t\tonUpdate.length > 0 ? (\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tpointerEvents: 'none',\n\t\t\t\t\t\t\t\t\topacity: 0.4\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t) : null\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Typography>{datos_generales.tipo_producto === 'ROPA' ? 'Talla' : 'Nmero'}</Typography>\n\t\t\t\t\t\t<CrearTallasProducto setMedidasSeleccionadas={setMedidasSeleccionadas} refetch={refetch} />\n\t\t\t\t\t\t<Grid container>\n\t\t\t\t\t\t\t{medidas.map((talla, index) => (\n\t\t\t\t\t\t\t\t<RenderTallas\n\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\ttalla={talla}\n\t\t\t\t\t\t\t\t\tcoloresSeleccionados={coloresSeleccionados}\n\t\t\t\t\t\t\t\t\tmedidasSeleccionadas={medidasSeleccionadas}\n\t\t\t\t\t\t\t\t\tsetMedidasSeleccionadas={setMedidasSeleccionadas}\n\t\t\t\t\t\t\t\t\tdatos={datos}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Divider />\n\t\t\t\t\t<Box\n\t\t\t\t\t\twidth=\"100%\"\n\t\t\t\t\t\tmt={1}\n\t\t\t\t\t\tstyle={\n\t\t\t\t\t\t\tonUpdate.length > 0 ? (\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tpointerEvents: 'none',\n\t\t\t\t\t\t\t\t\topacity: 0.4\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t) : null\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Typography>Color</Typography>\n\t\t\t\t\t\t<CrearColorProducto refetch={refetch} />\n\t\t\t\t\t\t<Grid container>\n\t\t\t\t\t\t\t{colores.map((color, index) => (\n\t\t\t\t\t\t\t\t<Colores\n\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\tcolor={color}\n\t\t\t\t\t\t\t\t\tcoloresSeleccionados={coloresSeleccionados}\n\t\t\t\t\t\t\t\t\tsetColoresSeleccionados={setColoresSeleccionados}\n\t\t\t\t\t\t\t\t\tmedidasSeleccionadas={medidasSeleccionadas}\n\t\t\t\t\t\t\t\t\tdatos={datos}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Box>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t</div>\n\t);\n}\n\nconst RenderTallas = ({\n\ttalla,\n\tcoloresSeleccionados,\n\tmedidasSeleccionadas,\n\tsetMedidasSeleccionadas,\n\tdatos\n}) => {\n\tconst classes = useStyles();\n\tconst theme = useTheme();\n\tconst { setPresentaciones, presentaciones, datos_generales, preciosP } = useContext(RegProductoContext);\n\tconst [ selected, setSelected ] = useState(false);\n\n\tconst seleccionarMedidas = useCallback(\n\t\t() => {\n\t\t\tmedidasSeleccionadas.forEach((res) => {\n\t\t\t\tif (res._id === talla._id) setSelected(true);\n\t\t\t});\n\t\t},\n\t\t[ talla._id, medidasSeleccionadas ]\n\t);\n\n\tuseEffect(\n\t\t() => {\n\t\t\tif (datos.medidas_registradas) {\n\t\t\t\treturn seleccionarMedidas();\n\t\t\t}\n\t\t},\n\t\t[ seleccionarMedidas ]\n\t);\n\n\tconst handleAddTallas = (value) => {\n\t\tconst medidas_seleccionadas_temp = [ ...medidasSeleccionadas ];\n\n\t\tif (!selected) {\n\t\t\tmedidas_seleccionadas_temp.push(talla);\n\t\t\tsetSelected(value);\n\t\t} else {\n\t\t\tmedidas_seleccionadas_temp.forEach((res, index) => {\n\t\t\t\tif (res._id === talla._id) {\n\t\t\t\t\tmedidas_seleccionadas_temp.splice(index, 1);\n\t\t\t\t\tsetSelected(value);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tlet presentacion_temp = [];\n\t\tconst array_medidad_finales = [ ...presentaciones ];\n\n\t\tif (!coloresSeleccionados.length && !array_medidad_finales.length) {\n\t\t\t/* SI NO HAY COLORES NI VALORES EN EL ARRAY FINAL SE AGREGA EL PRIMER ELEMENTO */\n\t\t\tfor (let i = 0; i < medidas_seleccionadas_temp.length; i++) {\n\t\t\t\tconst producto_medida = medidas_seleccionadas_temp[i];\n\t\t\t\tpresentacion_temp.push({\n\t\t\t\t\texistencia: false,\n\t\t\t\t\tcodigo_barras: GenCodigoBarras(),\n\t\t\t\t\tnombre_comercial: datos_generales.nombre_comercial,\n\t\t\t\t\tmedida: producto_medida,\n\t\t\t\t\tcolor: { nombre: '', hex: '' },\n\t\t\t\t\tprecio: preciosP[0].precio_neto,\n\t\t\t\t\tcantidad: 0,\n\t\t\t\t\tnuevo: true\n\t\t\t\t});\n\t\t\t}\n\t\t} else if (!coloresSeleccionados.length && array_medidad_finales.length > 0) {\n\t\t\t/* SI NO HAY COLORES REGISTRADOS PERO YA HAY TALLAS SE AGREGAN MAS */\n\t\t\tfor (let i = 0; i < medidas_seleccionadas_temp.length; i++) {\n\t\t\t\tconst producto_medida = medidas_seleccionadas_temp[i];\n\t\t\t\tconst result = array_medidad_finales.filter((res) => res.medida._id === producto_medida._id);\n\t\t\t\tif (result.length) {\n\t\t\t\t\tpresentacion_temp.push(result[0]);\n\t\t\t\t} else {\n\t\t\t\t\tpresentacion_temp.push({\n\t\t\t\t\t\texistencia: false,\n\t\t\t\t\t\tcodigo_barras: GenCodigoBarras(),\n\t\t\t\t\t\tnombre_comercial: datos_generales.nombre_comercial,\n\t\t\t\t\t\tmedida: producto_medida,\n\t\t\t\t\t\tcolor: { nombre: '', hex: '' },\n\t\t\t\t\t\tprecio: preciosP[0].precio_neto,\n\t\t\t\t\t\tcantidad: 0,\n\t\t\t\t\t\tnuevo: true\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (coloresSeleccionados.length > 0 && medidas_seleccionadas_temp.length === 1 && value) {\n\t\t\t/* SI HAY COLORES SE LE AGREGA TALLA POR PRIMERA VEZ */\n\t\t\tfor (let i = 0; i < array_medidad_finales.length; i++) {\n\t\t\t\tfor (let k = 0; k < medidas_seleccionadas_temp.length; k++) {\n\t\t\t\t\tpresentacion_temp.push({\n\t\t\t\t\t\texistencia: array_medidad_finales[i].existencia,\n\t\t\t\t\t\tcodigo_barras: array_medidad_finales[i].codigo_barras,\n\t\t\t\t\t\tnombre_comercial: array_medidad_finales[i].nombre_comercial,\n\t\t\t\t\t\tmedida: medidas_seleccionadas_temp[k],\n\t\t\t\t\t\tcolor: array_medidad_finales[i].color,\n\t\t\t\t\t\tprecio: array_medidad_finales[i].precio,\n\t\t\t\t\t\tcantidad: array_medidad_finales[i].cantidad,\n\t\t\t\t\t\tnuevo: true\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (coloresSeleccionados.length > 0 && medidas_seleccionadas_temp.length > 0) {\n\t\t\t/* YA HAY COLORES Y MEDIDAS EN LAS PRESENTACIONES, SE AGREGAN NORMAL */\n\t\t\tfor (let i = 0; i < medidas_seleccionadas_temp.length; i++) {\n\t\t\t\tconst producto_medida = medidas_seleccionadas_temp[i];\n\t\t\t\tfor (let k = 0; k < coloresSeleccionados.length; k++) {\n\t\t\t\t\tconst producto_color = coloresSeleccionados[k];\n\t\t\t\t\tconst presentacion_existente = array_medidad_finales.filter(\n\t\t\t\t\t\t(producto_array_final) =>\n\t\t\t\t\t\t\tproducto_array_final.medida._id === producto_medida._id &&\n\t\t\t\t\t\t\tproducto_color._id === producto_array_final.color._id\n\t\t\t\t\t);\n\t\t\t\t\tif (!presentacion_existente.length) {\n\t\t\t\t\t\tpresentacion_temp.push({\n\t\t\t\t\t\t\texistencia: false,\n\t\t\t\t\t\t\tcodigo_barras: GenCodigoBarras(),\n\t\t\t\t\t\t\tnombre_comercial: datos_generales.nombre_comercial,\n\t\t\t\t\t\t\tmedida: producto_medida,\n\t\t\t\t\t\t\tcolor: producto_color,\n\t\t\t\t\t\t\tprecio: preciosP[0].precio_neto,\n\t\t\t\t\t\t\tcantidad: 0,\n\t\t\t\t\t\t\tnuevo: true\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tpresentacion_temp.push(presentacion_existente[0]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (coloresSeleccionados.length > 0 && !medidas_seleccionadas_temp.length) {\n\t\t\t/* SI NO HAY TALLAS SE VUELVE A LISTAR LOS COLORES QUE YA ESTABAN EN PRESENTACIONES */\n\t\t\tconst presentaciones_existentes = array_medidad_finales.filter((producto) => producto.medida._id);\n\t\t\tif (presentaciones_existentes.length) {\n\t\t\t\tfor (let x = 0; x < array_medidad_finales.length; x++) {\n\t\t\t\t\tconst objeto_presentaciones_final = array_medidad_finales[x];\n\t\t\t\t\tpresentacion_temp.push({\n\t\t\t\t\t\texistencia: objeto_presentaciones_final.existencia,\n\t\t\t\t\t\tcodigo_barras: objeto_presentaciones_final.codigo_barras,\n\t\t\t\t\t\tnombre_comercial: objeto_presentaciones_final.nombre_comercial,\n\t\t\t\t\t\tmedida: {},\n\t\t\t\t\t\tcolor: objeto_presentaciones_final.color,\n\t\t\t\t\t\tprecio: objeto_presentaciones_final.precio,\n\t\t\t\t\t\tcantidad: objeto_presentaciones_final.cantidad,\n\t\t\t\t\t\tnuevo: true\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tsetMedidasSeleccionadas([ ...medidas_seleccionadas_temp ]);\n\t\tsetPresentaciones(presentacion_temp);\n\t};\n\n\treturn (\n\t\t<Grid item>\n\t\t\t<div\n\t\t\t\tclassName={classes.colorContainer}\n\t\t\t\tonClick={() => handleAddTallas(!selected)}\n\t\t\t\tstyle={\n\t\t\t\t\tselected ? (\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tbackgroundColor: theme.palette.primary.main\n\t\t\t\t\t\t}\n\t\t\t\t\t) : null\n\t\t\t\t}\n\t\t\t>\n\t\t\t\t<Typography\n\t\t\t\t\tvariant=\"button\"\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tcolor: theme.palette.getContrastText(selected ? theme.palette.primary.main : '#FFFFFF'),\n\t\t\t\t\t\tfontSize: 16\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{talla.talla}\n\t\t\t\t</Typography>\n\t\t\t</div>\n\t\t</Grid>\n\t);\n};\n\nconst Colores = ({ color, coloresSeleccionados, setColoresSeleccionados, medidasSeleccionadas, datos }) => {\n\tconst classes = useStyles();\n\tconst theme = useTheme();\n\tconst { presentaciones, setPresentaciones, datos_generales, preciosP } = useContext(RegProductoContext);\n\n\tconst [ selected, setSelected ] = useState(false);\n\n\tconst seleccionarColores = useCallback(\n\t\t() => {\n\t\t\tcoloresSeleccionados.forEach((res) => {\n\t\t\t\tif (res._id === color._id) setSelected(true);\n\t\t\t});\n\t\t},\n\t\t[ color._id, coloresSeleccionados ]\n\t);\n\n\tuseEffect(\n\t\t() => {\n\t\t\tif (datos.medidas_registradas) {\n\t\t\t\treturn seleccionarColores();\n\t\t\t}\n\t\t},\n\t\t[ seleccionarColores ]\n\t);\n\n\tconst obtenerColores = (value) => {\n\t\tif (!selected) {\n\t\t\tcoloresSeleccionados.push(color);\n\t\t\tsetSelected(value);\n\t\t} else {\n\t\t\tcoloresSeleccionados.forEach((res, index) => {\n\t\t\t\tif (res._id === color._id) {\n\t\t\t\t\tcoloresSeleccionados.splice(index, 1);\n\t\t\t\t\tsetSelected(value);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\tlet presentacion_temp = [];\n\t\tconst array_medidad_finales = [ ...presentaciones ];\n\n\t\tif (!medidasSeleccionadas.length && !array_medidad_finales.length) {\n\t\t\t/* SI NO HAY COLORES NI VALORES EN EL ARRAY FINAL SE AGREGA EL PRIMER ELEMENTO */\n\t\t\tfor (let i = 0; i < coloresSeleccionados.length; i++) {\n\t\t\t\tconst producto_color = coloresSeleccionados[i];\n\t\t\t\tpresentacion_temp.push({\n\t\t\t\t\texistencia: false,\n\t\t\t\t\tcodigo_barras: GenCodigoBarras(),\n\t\t\t\t\tnombre_comercial: datos_generales.nombre_comercial,\n\t\t\t\t\tmedida: {},\n\t\t\t\t\tcolor: producto_color,\n\t\t\t\t\tprecio: preciosP[0].precio_neto,\n\t\t\t\t\tcantidad: 0,\n\t\t\t\t\tnuevo: true\n\t\t\t\t});\n\t\t\t}\n\t\t} else if (!medidasSeleccionadas.length && array_medidad_finales.length > 0) {\n\t\t\t/* SI YA HAY COLORES REGISTRADOS SE AGREGAN MAS */\n\t\t\tfor (let i = 0; i < coloresSeleccionados.length; i++) {\n\t\t\t\tconst producto_color = coloresSeleccionados[i];\n\t\t\t\tconst result = array_medidad_finales.filter((res) => res.color._id === producto_color._id);\n\t\t\t\tif (result.length) {\n\t\t\t\t\tpresentacion_temp.push(result[0]);\n\t\t\t\t} else {\n\t\t\t\t\tpresentacion_temp.push({\n\t\t\t\t\t\texistencia: false,\n\t\t\t\t\t\tcodigo_barras: GenCodigoBarras(),\n\t\t\t\t\t\tnombre_comercial: datos_generales.nombre_comercial,\n\t\t\t\t\t\tmedida: {},\n\t\t\t\t\t\tcolor: producto_color,\n\t\t\t\t\t\tprecio: preciosP[0].precio_neto,\n\t\t\t\t\t\tcantidad: 0,\n\t\t\t\t\t\tnuevo: true\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (medidasSeleccionadas.length > 0 && coloresSeleccionados.length === 1 && value) {\n\t\t\t/* SI YA HAY TALLAS SE LE AGREGA EL COLOR POR PRIMERA VEZ */\n\t\t\tfor (let i = 0; i < array_medidad_finales.length; i++) {\n\t\t\t\tfor (let k = 0; k < coloresSeleccionados.length; k++) {\n\t\t\t\t\tpresentacion_temp.push({\n\t\t\t\t\t\texistencia: array_medidad_finales[i].existencia,\n\t\t\t\t\t\tcodigo_barras: array_medidad_finales[i].codigo_barras,\n\t\t\t\t\t\tnombre_comercial: array_medidad_finales[i].nombre_comercial,\n\t\t\t\t\t\tmedida: array_medidad_finales[i].medida,\n\t\t\t\t\t\tcolor: coloresSeleccionados[k],\n\t\t\t\t\t\tprecio: array_medidad_finales[i].precio,\n\t\t\t\t\t\tcantidad: array_medidad_finales[i].cantidad,\n\t\t\t\t\t\tnuevo: true\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (medidasSeleccionadas.length > 0 && coloresSeleccionados.length > 0) {\n\t\t\t/* YA HAY TALLAS Y MEIDAS EN LAS PRESENTACIONES, SE REGISTRAN NORMAL */\n\t\t\tfor (let i = 0; i < coloresSeleccionados.length; i++) {\n\t\t\t\tconst producto_color = coloresSeleccionados[i];\n\t\t\t\tfor (let k = 0; k < medidasSeleccionadas.length; k++) {\n\t\t\t\t\tconst producto_medida = medidasSeleccionadas[k];\n\t\t\t\t\tconst presentacion_existente = array_medidad_finales.filter(\n\t\t\t\t\t\t(producto_array_final) =>\n\t\t\t\t\t\t\tproducto_array_final.medida._id === producto_medida._id &&\n\t\t\t\t\t\t\tproducto_color._id === producto_array_final.color._id\n\t\t\t\t\t);\n\t\t\t\t\tif (!presentacion_existente.length) {\n\t\t\t\t\t\tpresentacion_temp.push({\n\t\t\t\t\t\t\texistencia: false,\n\t\t\t\t\t\t\tcodigo_barras: GenCodigoBarras(),\n\t\t\t\t\t\t\tnombre_comercial: datos_generales.nombre_comercial,\n\t\t\t\t\t\t\tmedida: producto_medida,\n\t\t\t\t\t\t\tcolor: producto_color,\n\t\t\t\t\t\t\tprecio: preciosP[0].precio_neto,\n\t\t\t\t\t\t\tcantidad: 0,\n\t\t\t\t\t\t\tnuevo: true\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tpresentacion_temp.push(presentacion_existente[0]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (medidasSeleccionadas.length > 0 && !coloresSeleccionados.length) {\n\t\t\t/* SI NO HAY COLORES SE VUELVE A LISTAR LAS TALLAS QUE YA ESTABAN EN PRESENTACIONES */\n\t\t\tconst presentaciones_existentes = array_medidad_finales.filter((producto) => producto.color._id);\n\t\t\tif (presentaciones_existentes.length) {\n\t\t\t\tfor (let x = 0; x < array_medidad_finales.length; x++) {\n\t\t\t\t\tconst objeto_presentaciones_final = array_medidad_finales[x];\n\t\t\t\t\tpresentacion_temp.push({\n\t\t\t\t\t\texistencia: objeto_presentaciones_final.existencia,\n\t\t\t\t\t\tcodigo_barras: objeto_presentaciones_final.codigo_barras,\n\t\t\t\t\t\tnombre_comercial: objeto_presentaciones_final.nombre_comercial,\n\t\t\t\t\t\tmedida: objeto_presentaciones_final.medida,\n\t\t\t\t\t\tcolor: { nombre: '', hex: '' },\n\t\t\t\t\t\tprecio: objeto_presentaciones_final.precio,\n\t\t\t\t\t\tcantidad: objeto_presentaciones_final.cantidad,\n\t\t\t\t\t\tnuevo: true\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tsetColoresSeleccionados([ ...coloresSeleccionados ]);\n\t\tsetPresentaciones(presentacion_temp);\n\t};\n\n\treturn (\n\t\t<Grid item>\n\t\t\t<Tooltip title={color.nombre} placement=\"top\" arrow TransitionComponent={Zoom}>\n\t\t\t\t<div\n\t\t\t\t\tclassName={classes.colorContainer}\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tbackgroundColor: color.hex,\n\t\t\t\t\t\tcolor: theme.palette.getContrastText(color.hex)\n\t\t\t\t\t}}\n\t\t\t\t\tonClick={() => obtenerColores(!selected)}\n\t\t\t\t>\n\t\t\t\t\t{selected ? <Done /> : null}\n\t\t\t\t</div>\n\t\t\t</Tooltip>\n\t\t</Grid>\n\t);\n};\n","import React, { Fragment, useContext, useEffect, useState } from \"react\";\nimport { Button, CircularProgress, Tooltip } from \"@material-ui/core\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport Slide from \"@material-ui/core/Slide\";\nimport { Done, SquareFoot } from \"@material-ui/icons\";\nimport { useQuery } from \"@apollo/client\";\nimport { OBTENER_CONSULTAS } from \"../../../../../gql/Catalogos/productos\";\nimport ErrorPage from \"../../../../../components/ErrorPage\";\nimport { ComprasContext } from \"../../../../../context/Compras/comprasContext\";\nimport TallasProducto from \"../../../Catalogos/Producto/TallasColores/TallasColores\";\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function AlertDialogSlide({verificate, setVerificate}) {\n  const [open, setOpen] = useState(false);\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n  const { datosProducto, datosCompra, setLoadingProductos } = useContext(ComprasContext);\n\n  /* Queries */\n  const { loading, data, error, refetch } = useQuery(OBTENER_CONSULTAS, {\n    variables: { empresa: sesion.empresa._id, sucursal: sesion.sucursal._id },\n  });\n\n  useEffect(() => {\n    if(loading){\n      setLoadingProductos(true);\n    }else{\n      setLoadingProductos(false);\n    }\n  }, [loading]);\n\n  if (loading)\n    return (\n      <Button\n        color=\"primary\"\n        size=\"medium\"\n        disabled={true}\n        startIcon={<CircularProgress size={16} color=\"inherit\" />}\n      >\n        Medidas\n      </Button>\n    );\n\n  if (error) return <ErrorPage error={error} />;\n\n  const { obtenerConsultasProducto } = data;\n\n  const toggleDrawer = () => {\n    setOpen(!open);\n    setVerificate(false);\n  }\n\n  return (\n    <Fragment>\n      <Tooltip title=\"Selecciona medidas y colores\" disableHoverListener={true} open={verificate} placement=\"top\">\n        <Button\n          color={verificate ? \"secondary\" :\"inherit\"}\n          variant=\"outlined\"\n          size=\"medium\"\n          onClick={() => toggleDrawer()}\n          startIcon={<SquareFoot />}\n          disabled={!datosProducto.producto.datos_generales}\n        >\n          Medidas\n        </Button>\n      </Tooltip>\n      <Dialog\n        open={open}\n        TransitionComponent={Transition}\n        keepMounted\n        onClose={toggleDrawer}\n        aria-labelledby=\"alert-tallas-compra\"\n        aria-describedby=\"alert-tallas-compra-description\"\n        fullWidth\n        maxWidth=\"lg\"\n      >\n        <DialogContent>\n          <TallasProducto\n            datos={datosProducto.producto}\n            obtenerConsultasProducto={obtenerConsultasProducto}\n            refetch={refetch}\n            from=\"compra\"\n            almacen={datosCompra.almacen}\n            withoutPrice={true}\n          />\n        </DialogContent>\n        <DialogActions>\n          <Button\n            size=\"large\"\n            onClick={() => toggleDrawer()}\n            startIcon={<Done />}\n            color=\"primary\"\n            variant=\"contained\"\n          >\n            Aceptar\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </Fragment>\n  );\n}\n","import $ from \"jquery\"\nimport jQuery from \"jquery\"\n\nvar valuesFacturama = {\n    token: \"QUJTT0xVQ0lPTkVTOkxlb24yMDE4Iw==\",\n    url: \"https://apisandbox.facturama.mx/\"\n};\n\n$.ajaxSetup({\n    beforeSend: function (xhr) {\n        xhr.withCredentials = true;\n        xhr.setRequestHeader(\"Authorization\", \"Basic \" + valuesFacturama.token);\n    }\n});\n\nfunction facturama() {\n\n    var settings = {\n        url: valuesFacturama.url\n    };\n\n    function retrieve(path, id, callback) {\n        return jQuery.get(settings.url + path + '/' + id, undefined, callback, \"json\");\n    }\n\n    function list(path, callback) {\n        return jQuery.get(settings.url + path, undefined, callback, \"json\");\n    }\n\n    function listWithParam(path, param, callback) {\n        return jQuery.get(settings.url + path + param, undefined, callback, \"json\");\n    }\n\n    function postSyncWithParam(path, param, callback) {\n        $.ajax({\n            url: settings.url + path + param,\n            type: 'POST',\n            async: false,\n            success: callback\n        });\n    }\n\n    function postSyncWithData(path, data, callback, callbackError) {\n        $.ajax({\n            url: settings.url + path,\n            type: 'POST',\n            dataType: 'json',\n            data: JSON.stringify(data),\n            contentType: \"application/json\",\n            success: callback,\n            error: callbackError\n        });\n    }\n\n    function putSyncWithData(path, data, callback, callbackError) {\n        $.ajax({\n            url: settings.url + path,\n            type: 'PUT',\n            data: JSON.stringify(data),\n            contentType: \"application/json\",\n            success: callback,\n            error: callbackError\n        });\n    }\n\n    function deleteSyncWithParam(path, param, callback, callbackError) {\n        $.ajax({\n            url: settings.url + path + '/' + param,\n            type: 'DELETE',\n            async: false,\n            success: callback,\n            error: callbackError\n        });\n    }\n\n    var facturamaObject = {\n        Clients: {\n            Get: function (id, callback) {\n                return retrieve('client', id, callback);\n            },\n            List: function (callback) {\n                return list('client', callback);\n            },\n            Create: function (data, callback, callbackError) {\n                postSyncWithData('client', data, callback, callbackError);\n            },\n            Remove: function (id, callback, callbackError) {\n                deleteSyncWithParam('client/', id, callback, callbackError);\n            },\n            Update: function (id, data, callback, callbackError) {\n                putSyncWithData('client/' + id, data, callback, callbackError);\n            }\n        },\n        Products: {\n            Get: function (id, callback) {\n                return retrieve('product', id, callback);\n            },\n            List: function (callback) {\n                return list('product', callback);\n            },\n            Create: function (data, callback, callbackError) {\n                postSyncWithData('product', data, callback, callbackError);\n            },\n            Remove: function (id, callback, callbackError) {\n                deleteSyncWithParam('product/', id, callback, callbackError);\n            },\n            Update: function (id, data, callback, callbackError) {\n                putSyncWithData('product/' + id, data, callback, callbackError);\n            }\n        },\n        BranchOffice: {\n            Get: function (id, callback) {\n                return retrieve('branchOffice', id, callback);\n            },\n            List: function (callback) {\n                return list('branchOffice', callback);\n            },\n            Create: function (data, callback, callbackError) {\n                postSyncWithData('branchOffice', data, callback, callbackError);\n            },\n            Remove: function (id, callback, callbackError) {\n                deleteSyncWithParam('branchOffice', id, callback, callbackError);\n            },\n            Update: function (id, data, callback, callbackError) {\n                putSyncWithData('branchOffice/' + id, data, callback, callbackError);\n            }\n        },\n        Series: {\n            List: function (id, callback) {\n                return retrieve('serie', id, callback);\n            },\n            Create: function (idBranch, data, callback, callbackError) {\n                postSyncWithData('serie/' + idBranch, data, callback, callbackError);\n            },\n            Remove: function (idBranch, name, callback, callbackError) {\n                deleteSyncWithParam('serie/' + idBranch, name, callback, callbackError);\n            },\n            Update: function (idBranch, name, data, callback, callbackError) {\n                putSyncWithData('serie/' + idBranch + '/' + name, data, callback, callbackError);\n            }\n        },\n        Cfdi: {\n            Get: function (id, callback) {\n                return retrieve('cfdi', id, callback);\n            },\n            List: function (param, callback) {\n                return listWithParam('cfdi', param, callback);\n            },\n            Create: function (data, callback, callbackError) {\n                postSyncWithData('2/cfdis', data, callback, callbackError);\n            },\n            Send: function (param, callback) {\n                postSyncWithParam('cfdi', param, callback);\n            },\n            Cancel: function (params, callback, callbackError) {\n                deleteSyncWithParam('cfdi', params, callback, callbackError);\n            },\n            Download: function (format, type, id, callback) {\n                retrieve('cfdi/' + format + '/' + type, id, callback);\n            },\n            Acuse: function (format, type, id, callback) {\n                retrieve('acuse/' + format + '/' + type, id, callback);\n            }\n        },\n        TaxEntity: {\n            Get: function (callback) {\n                return list('taxEntity', callback);\n            },\n            Update: function (data, callback, callbackError) {\n                putSyncWithData('taxEntity', data, callback, callbackError);\n            },\n            UploadCsd: function (data, callback, callbackError) {\n                putSyncWithData('taxEntity/UploadCsd', data, callback, callbackError);\n            },\n            UploadImage: function (data, callback, callbackError) {\n                putSyncWithData('taxEntity/UploadLogo', data, callback, callbackError);\n            }\n        },\n        Catalogs: {\n            States: function (country, callback) {\n                return list('catalogs/municipalities?countryCode' + country, callback);\n            },\n            Municipalities: function (state, callback) {\n                return list('catalogs/municipalities?stateCode' + state, callback);\n            },\n            Localities: function (state, callback) {\n                return list('catalogs/localities?stateCode' + state, callback);\n            },\n            Neighborhoods: function (postalCode, callback) {\n                return list('catalogs/neighborhoods?postalCode' + postalCode, callback);\n            },\n            ProductsOrServices: function (keyword, callback) {\n                return list('catalogs/ProductsOrServices?keyword=' + keyword, callback);\n            },\n            PostalCodes: function (keyword, callback) {\n                return list('catalogs/PostalCodes?keyword=' + keyword, callback);\n            },\n            Units: function (callback) {\n                return list('catalogs/Units', callback);\n            },\n            Currencies: function (callback) {\n                return list('catalogs/Currencies', callback);\n            },\n            Countries: function (callback) {\n                return list('catalogs/Countries', callback);\n            },\n            PaymentForms: function (callback) {\n                return list('catalogs/PaymentForms', callback);\n            },\n            PaymentMethods: function (callback) {\n                return list('catalogs/PaymentMethods', callback);\n            },\n            FederalTaxes: function (callback) {\n                return list('catalogs/FederalTaxes', callback);\n            },\n            FiscalRegimens: function (callback) {\n                return list('catalogs/FiscalRegimens', callback);\n            },\n            CfdiTypes: function (callback) {\n                return list('catalogs/CfdiTypes', callback);\n            },\n            RelationTypes: function (callback) {\n                return list('catalogs/RelationTypes', callback);\n            },\n            CfdiUses: function (keyword, callback) {\n                return list('catalogs/CfdiUses?keyword=' + keyword, callback);\n            }\n        }\n    };\n\n    facturamaObject.getToken = function () {\n        return \"Basic \" + valuesFacturama.token;\n    };\n\n    facturamaObject.getBaseUri = function () {\n        return settings.url;\n    };\n\n    return facturamaObject;\n}\n\n export default facturama()\n","import { gql } from \"@apollo/client\";\n\nexport const CREAR_CODIGO_PRODUCTO = gql`\n  mutation crearCodigoProducto($input: CodigoCatalogoProductoInput) {\n    crearCodigoProducto(input: $input) {\n      message\n    }\n  }\n`;\n\nexport const OBTENER_CODIGOS_PRODUCTO = gql`\n  query obtenerCodigosProducto($empresa: ID!, $sucursal: ID) {\n    obtenerCodigosProducto(empresa: $empresa, sucursal: $sucursal) {\n      _id\n      Name\n      Value\n      empresa {\n        _id\n        nombre_empresa\n      }\n      sucursal {\n        _id\n        nombre_sucursal\n      }\n    }\n  }\n`;\n\nexport const ELIMINAR_CODIGO_PRODUCTO = gql`\n  mutation eliminarCodigoProducto($id: ID!) {\n    eliminarCodigoProducto(id: $id) {\n      message\n    }\n  }\n`;\n","import React, { Fragment, useContext, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Slide from \"@material-ui/core/Slide\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Box from \"@material-ui/core/Box\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport Divider from \"@material-ui/core/Divider\";\n\nimport { RegProductoContext } from \"../../../../../context/Catalogos/CtxRegProducto\";\nimport { Close, Done, Search } from \"@material-ui/icons\";\nimport {\n  CircularProgress,\n  IconButton,\n  InputAdornment,\n} from \"@material-ui/core\";\nimport Facturama from \"../../../../../billing/Facturama/facturama.api\";\nimport {\n  CREAR_CODIGO_PRODUCTO,\n  ELIMINAR_CODIGO_PRODUCTO,\n} from \"../../../../../gql/CatalogosSat/catalogoProductosSat\";\nimport { useMutation } from \"@apollo/client\";\nimport SnackBarMessages from \"../../../../../components/SnackBarMessages\";\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: \"100%\",\n    backgroundColor: theme.palette.background.paper,\n  },\n})); \n\nexport default function CatalogosProductosSAT({ codigos, refetch }) {\n  const classes = useStyles();\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n  const [open, setOpen] = React.useState(false);\n  const { datos_generales, setDatosGenerales } = useContext(RegProductoContext);\n  const [busqueda, setBusqueda] = useState(\"\");\n  const [productos, setProductos] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [loading_save, setLoadingSave] = useState(false);\n  const [loading_delete, setLoadingDelete] = useState(false);\n  const [selectedIndex, setSelectedIndex] = useState({});\n  const [error, setError] = useState(\"\");\n  const [alert, setAlert] = useState({ message: \"\", status: \"\", open: false });\n\n  const [crearCodigoProducto] = useMutation(CREAR_CODIGO_PRODUCTO);\n  const [eliminarCodigoProducto] = useMutation(ELIMINAR_CODIGO_PRODUCTO);\n\n  const handleClickOpen = () => setOpen(true);\n  const handleClose = () => setOpen(false);\n\n  const limpiarDataModal = () => {\n    setSelectedIndex({});\n    setProductos([]);\n    setBusqueda(\"\");\n    handleClose();\n  };\n\n  const handleOk = async () => {\n    const { Name, Value } = selectedIndex;\n    setDatosGenerales({\n      ...datos_generales,\n      clave_producto_sat: {\n        Name,\n        Value,\n      },\n    });\n    //Crear Codigo product a la BD\n    try {\n      setLoadingSave(true);\n      const result = await crearCodigoProducto({\n        variables: {\n          input: {\n            Name,\n            Value,\n            empresa: sesion.empresa._id,\n            sucursal: sesion.sucursal._id,\n          },\n        },\n      });\n\n      if (result) {\n        const { message } = result.data.crearCodigoProducto;\n        setAlert({\n          message: message,\n          status: \"success\",\n          open: true,\n        });\n        setLoadingSave(false);\n        refetch();\n        limpiarDataModal();\n      }\n    } catch (error) {\n      setLoadingSave(false);\n      setAlert({\n        message: `Error: ${error.message}`,\n        status: \"error\",\n        open: true,\n      });\n    }\n  };\n\n  const eliminarCodigoBD = async (data) => {\n    try {\n      setLoadingDelete(true);\n      const result = await eliminarCodigoProducto({\n        variables: {\n          id: data._id,\n        },\n      });\n\n      if (result) {\n        const { message } = result.data.eliminarCodigoProducto;\n        setAlert({\n          message: message,\n          status: \"success\",\n          open: true,\n        });\n        setDatosGenerales({\n          ...datos_generales,\n          clave_producto_sat: {\n            Name: \"\",\n            Value: \"\",\n          },\n        });\n        setLoadingDelete(false);\n        refetch();\n      }\n    } catch (error) {\n      setLoadingDelete(false);\n      setAlert({\n        message: `Error: ${error.message}`,\n        status: \"error\",\n        open: true,\n      });\n    }\n  };\n\n  const handleCancel = () => {\n    limpiarDataModal();\n  };\n\n  const obtenerCampos = (data) => {\n    if (!data) {\n      setDatosGenerales({\n        ...datos_generales,\n        clave_producto_sat: {\n          Name: \"\",\n          Value: \"\",\n        },\n      });\n      return null;\n    }\n    setDatosGenerales({\n      ...datos_generales,\n      clave_producto_sat: {\n        Name: data.Name,\n        Value: data.Value,\n      },\n    });\n  };\n\n  const buscarCatalogo = async (e) => {\n    e.preventDefault();\n    if (!busqueda) {\n      setProductos([]);\n      return;\n    }\n    setLoading(true);\n    try {\n      await Facturama.Catalogs.ProductsOrServices(\n        busqueda,\n        function (result) {\n          setProductos(result);\n          setLoading(false);\n        },\n        function (error) {\n          if (error && error.responseJSON) {\n            setError(error.responseJSON);\n          }\n          setLoading(false);\n        }\n      );\n    } catch (error) {\n      if (error && error.responseJSON) {\n        setError(error.responseJSON.Message);\n      }\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div>\n      <SnackBarMessages alert={alert} setAlert={setAlert} />\n      <Typography>Clave de producto SAT</Typography>\n      <Box display=\"flex\">\n        <Autocomplete\n          id=\"catalogos-bd-productos\"\n          size=\"small\"\n          options={codigos}\n          disabled={loading_delete}\n          getOptionLabel={(option) =>\n            option.Name ? `${option.Value} - ${option.Name}` : \"\"\n          }\n          fullWidth\n          renderInput={(params) => (\n            <TextField\n              {...params}\n              variant=\"outlined\"\n              InputProps={{\n                ...params.InputProps,\n                endAdornment: (\n                  <Fragment>\n                    {loading_delete ? <CircularProgress size={20} /> : null}\n                    {params.InputProps.endAdornment}\n                  </Fragment>\n                ),\n              }}\n            />\n          )}\n          renderOption={(option) => (\n            <Fragment>\n              {`${option.Value} - ${option.Name}`}\n              <div style={{ flexGrow: 1 }} />\n              <IconButton size=\"small\" onClick={() => eliminarCodigoBD(option)}>\n                <Close />\n              </IconButton>\n            </Fragment>\n          )}\n          onChange={(_, data) => obtenerCampos(data)}\n          getOptionSelected={(option, value) =>\n            option.Value === value.Value\n          }\n          value={datos_generales.clave_producto_sat}\n        />\n        <Button color=\"primary\" onClick={handleClickOpen}>\n          <Search />\n        </Button>\n      </Box>\n      <Dialog\n        open={open}\n        TransitionComponent={Transition}\n        keepMounted\n        onClose={handleCancel}\n        aria-labelledby=\"alert-dialog-clave-producto\"\n        fullWidth\n        maxWidth=\"sm\"\n      >\n        <DialogTitle id=\"alert-dialog-clave-producto\">\n          {\"Catalogo de productos y servicios SAT\"}\n        </DialogTitle>\n        <DialogContent style={{ height: \"50vh\" }}>\n          <Box>\n            <form onSubmit={buscarCatalogo}>\n              <TextField\n                variant=\"outlined\"\n                label=\"producto, servicio o giro de la empresa\"\n                fullWidth\n                size=\"small\"\n                onChange={(e) => {\n                  setBusqueda(e.target.value);\n                  setError(\"\");\n                }}\n                value={busqueda}\n                InputProps={{\n                  endAdornment: (\n                    <InputAdornment position=\"end\">\n                      <IconButton size=\"small\" onClick={buscarCatalogo}>\n                        <Search />\n                      </IconButton>\n                    </InputAdornment>\n                  ),\n                }}\n                error={error ? true : false}\n                helperText={error ? error : \"\"}\n              />\n            </form>\n          </Box>\n          <Box my={3} className={classes.root}>\n            {loading ? (\n              <Box\n                display=\"flex\"\n                justifyContent=\"center\"\n                alignItems=\"center\"\n                height=\"25vh\"\n              >\n                <CircularProgress />\n              </Box>\n            ) : (\n              <List dense component=\"nav\" aria-label=\"main mailbox folders\">\n                {productos.map((res, index) => (\n                  <SelectedListItem\n                    key={index}\n                    producto={res}\n                    busqueda={busqueda}\n                    selectedIndex={selectedIndex}\n                    setSelectedIndex={setSelectedIndex}\n                  />\n                ))}\n              </List>\n            )}\n          </Box>\n        </DialogContent>\n        <DialogActions style={{ justifyContent: \"center\" }}>\n          <Button onClick={() => handleCancel()}>Cancelar</Button>\n          <Button\n            onClick={() => handleOk()}\n            color=\"primary\"\n            disabled={loading_save}\n            startIcon={loading_save ? <CircularProgress size={18} /> : <Done />}\n          >\n            Seleccionar\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n}\n\nconst SelectedListItem = ({\n  producto,\n  busqueda,\n  selectedIndex,\n  setSelectedIndex,\n}) => {\n  const handleListItemClick = (data) => {\n    setSelectedIndex(data);\n  };\n\n  const contiene = busqueda.includes(\"potacio\");\n  if (producto.Value === \"0\" && !contiene) {\n    return null;\n  }\n\n  return (\n    <Fragment>\n      <ListItem\n        button\n        selected={selectedIndex.Value === producto.Value}\n        onClick={() => handleListItemClick(producto)}\n      >\n        <ListItemText primary={`${producto.Value} - ${producto.Name}`} />\n      </ListItem>\n      <Divider />\n    </Fragment>\n  );\n};\n","import { gql } from '@apollo/client';\n \nexport const CREAR_CATEGORIA = gql`\n\tmutation crearCategoria($input: CrearCategoriasInput) {\n\t\tcrearCategoria(input: $input) {\n\t\t\t_id\n\t\t\tcategoria\n\t\t\tempresa {\n\t\t\t\t_id\n\t\t\t\tnombre_empresa\n\t\t\t\tcorreo_empresa\n\t\t\t\tnombre_dueno\n\t\t\t\ttelefono_dueno\n\t\t\t}\n\t\t\tsucursal {\n\t\t\t\t_id\n\t\t\t\tnombre_sucursal\n\t\t\t\tdescripcion\n\t\t\t}\n\t\t}\n\t}\n`;\nexport const CREAR_SUBCATEGORIA = gql`\n\tmutation crearSubcategoria($idCategoria: ID!, $input: CrearSubcategoriasInput) {\n\t\tcrearSubcategoria(idCategoria: $idCategoria, input: $input) {\n\t\t\tmessage\n\t\t}\n\t}\n`;\n\nexport const ACTUALIZAR_CATEGORIA = gql`\n\tmutation actualizarCategoria($idCategoria: ID!, $input: ActualizarCategoriasInput) {\n\t\tactualizarCategoria(idCategoria: $idCategoria, input: $input) {\n\t\t\tmessage\n\t\t}\n\t}\n`;\nexport const ACTUALIZAR_SUBCATEGORIA = gql`\n\tmutation actualizarSubcategoria($idCategoria: ID!, $idSubcategoria: ID!, $input: ActualizarSubcategoriasInput) {\n\t\tactualizarSubcategoria(idCategoria: $idCategoria, idSubcategoria: $idSubcategoria, input: $input) {\n\t\t\tmessage\n\t\t}\n\t}\n`;\n\nexport const OBTENER_CATEGORIAS = gql`\n\tquery obtenerCategorias($empresa: ID!, $sucursal: ID!) {\n\t\tobtenerCategorias(empresa: $empresa, sucursal: $sucursal) {\n\t\t\t_id\n\t\t\tcategoria\n\t\t\tsubcategorias {\n\t\t\t\t_id\n\t\t\t\tsubcategoria\n\t\t\t}\n\t\t\tempresa {\n\t\t\t\t_id\n\t\t\t\tnombre_empresa\n\t\t\t\tcorreo_empresa\n\t\t\t\tnombre_dueno\n\t\t\t\ttelefono_dueno\n\t\t\t}\n\t\t\tsucursal {\n\t\t\t\t_id\n\t\t\t\tnombre_sucursal\n\t\t\t\tdescripcion\n\t\t\t}\n\t\t}\n\t}\n`;\nexport const ELIMINAR_CATEGORIA = gql`\n\tmutation eliminarCategoria($idCategoria: ID!) {\n\t\teliminarCategoria(idCategoria: $idCategoria) {\n\t\t\tmessage\n\t\t}\n\t}\n`; \n\nexport const ELIMINAR_SUBCATEGORIA = gql`\n\tmutation eliminarSubcategoria($idCategoria: ID!, $idSubcategoria: ID!) {\n\t\teliminarSubcategoria(idCategoria: $idCategoria, idSubcategoria: $idSubcategoria) {\n\t\t\tmessage\n\t\t}\n\t}\n`;\n","import { gql } from '@apollo/client';\n\nexport const OBTENER_DEPARTAMENTOS = gql`\n\tquery ObtenerDepartamentos($empresa: ID!, $sucursal: ID!){\n        obtenerDepartamentos(empresa: $empresa, sucursal: $sucursal){\n            _id\n            nombre_departamentos\n            empresa{\n                _id\n                nombre_empresa\n            }\n            sucursal{\n                _id\n                nombre_sucursal\n            }\n        }\n    }\n`;\n\nexport const REGISTRAR_DEPARTAMENTO = gql`\n\tmutation CrearDepartamentos($input: DepartamentosInput, $empresa: ID!, $sucursal: ID!){\n        crearDepartamentos(input: $input, empresa: $empresa, sucursal: $sucursal){\n            message\n        }\n    }\n`;\n\nexport const ACTUALIZAR_DEPARTAMENTO = gql`\n\tmutation ActualzarDepartamentos($input: DepartamentosInput, $id: ID!){\n        actualzarDepartamentos(input: $input, id: $id){\n            message\n        }\n    }\n`;\n\nexport const ELIMINAR_DEPARTAMENTO = gql`\n    mutation EliminarDepartamento($id: ID!){\n        eliminarDepartamento(id: $id){\n            message\n        }\n    }\n\t\n`;","import { gql } from '@apollo/client';\n\nexport const OBTENER_MARCAS = gql`\n    query ObtenerMarcas($empresa: ID!, $sucursal: ID!){\n        obtenerMarcas(empresa: $empresa, sucursal: $sucursal){\n            _id\n            nombre_marca\n        }\n    }\n`;\n\nexport const REGISTRAR_MARCAS = gql`\n    mutation CrearMarca($input: MarcasInput!, $empresa: ID!, $sucursal: ID!){\n        crearMarcas(input: $input, empresa: $empresa, sucursal: $sucursal ){\n            message\n        }\n    }\n`;\n\nexport const ACTUALIZAR_MARCAS = gql`\n    mutation actualzarMarcas($input: MarcasInput, $id: ID! ) {\n\t\tactualzarMarcas(id: $id, input: $input) {\n\t\t\tmessage\n\t\t}\n\t}\n`;\n\nexport const ELIMINAR_MARCAS = gql`\n\tmutation eliminarMarca($id: ID!, $empresa: ID!, $sucursal: ID!) {\n\t\teliminarMarca(id: $id, empresa: $empresa, sucursal: $sucursal) {\n\t\t\tmessage\n\t\t}\n\t}\n`;","import React, { Fragment, useContext, useEffect, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport {\n  Box,\n  FormControl,\n  Divider,\n  MenuItem,\n  Select,\n  Container,\n  FormHelperText,\n  OutlinedInput,\n  InputAdornment,\n  Grid,\n  IconButton,\n} from \"@material-ui/core\";\nimport {\n  TextField,\n  Typography,\n  Button,\n  Checkbox,\n  FormControlLabel,\n} from \"@material-ui/core\";\nimport {\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  CircularProgress,\n} from \"@material-ui/core\";\nimport { Add, Autorenew } from \"@material-ui/icons\";\nimport { RegProductoContext } from \"../../../../../context/Catalogos/CtxRegProducto\";\nimport CatalogosProductosSAT from \"./CatalogoProductosSAT\";\n\nimport { useMutation } from \"@apollo/client\";\nimport {\n  CREAR_CATEGORIA,\n  CREAR_SUBCATEGORIA,\n} from \"../../../../../gql/Catalogos/categorias\";\nimport { REGISTRAR_DEPARTAMENTO } from \"../../../../../gql/Catalogos/departamentos\";\nimport { REGISTRAR_MARCAS } from \"../../../../../gql/Catalogos/marcas\";\nimport SnackBarMessages from \"../../../../../components/SnackBarMessages\";\n\nconst useStyles = makeStyles((theme) => ({\n  formInputFlex: {\n    display: \"flex\",\n    \"& > *\": {\n      margin: `${theme.spacing(1)}px ${theme.spacing(1)}px`,\n    },\n  },\n  formInput: {\n    margin: `${theme.spacing(1)}px ${theme.spacing(2)}px`,\n  },\n  obligatorio: {\n    color: \"red\",\n  },\n}));\n\nexport default function RegistroInfoGenerales({\n  obtenerConsultasProducto,\n  refetch,\n}) {\n  const classes = useStyles();\n  const {\n    datos_generales,\n    setDatosGenerales,\n    validacion,\n    precios,\n    setPrecios,\n    centro_de_costos,\n    setSubcostos,\n  } = useContext(RegProductoContext);\n  const {\n    subcategorias,\n    setSubcategorias,\n    unidadVentaXDefecto,\n    setUnidadVentaXDefecto,\n    update,\n  } = useContext(RegProductoContext);\n  const {\n    categorias,\n    departamentos,\n    marcas,\n    centro_costos,\n    codigos,\n  } = obtenerConsultasProducto;\n\n  const obtenerCampos = (e) => {\n    if (e.target.name === \"monedero_electronico\") {\n      if (!e.target.value) {\n        setPrecios({\n          ...precios,\n          [e.target.name]: \"\",\n        });\n        return;\n      }\n      setPrecios({\n        ...precios,\n        [e.target.name]: parseFloat(e.target.value),\n      });\n      return;\n    }\n    if (e.target.name === \"codigo_barras\") {\n      setUnidadVentaXDefecto({\n        ...unidadVentaXDefecto,\n        codigo_barras: e.target.value,\n      });\n    }\n    setDatosGenerales({\n      ...datos_generales,\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  const checkFarmacia = (e) => {\n    setDatosGenerales({\n      ...datos_generales,\n      receta_farmacia: e.target.checked,\n    });\n  };\n\n  const obtenerChecks = (e) => {\n    if (e.target.name === \"monedero\" && e.target.checked) {\n      setPrecios({\n        ...precios,\n        monedero_electronico: 1,\n        monedero: e.target.checked,\n      });\n      return;\n    }\n    /* setPrecios({\n\t\t\t...precios,\n\t\t\t[e.target.name]: e.target.checked\n\t\t}); */\n    if (e.target.name === \"granel\" && e.target.checked) {\n      setPrecios({\n        ...precios,\n        [e.target.name]: e.target.checked,\n        inventario: { ...precios.inventario, unidad_de_inventario: \"Kg\", codigo_unidad: \"KGM\" },\n        unidad_de_compra: { ...precios.unidad_de_compra, unidad: \"Kg\", codigo_unidad: \"KGM\" },\n      });\n      setUnidadVentaXDefecto({\n        ...unidadVentaXDefecto,\n        unidad: \"Kg\",\n        codigo_unidad: \"KGM\"\n      });\n    } else {\n      setPrecios({\n        ...precios,\n        [e.target.name]: e.target.checked,\n        inventario: { ...precios.inventario, unidad_de_inventario: \"Pz\", codigo_unidad: \"H87\" },\n        unidad_de_compra: { ...precios.unidad_de_compra, unidad: \"Pz\", codigo_unidad: \"H87\" },\n      });\n      setUnidadVentaXDefecto({\n        ...unidadVentaXDefecto,\n        unidad: \"Pz\",\n        codigo_unidad: \"H87\"\n      });\n    }\n  };\n\n  const obtenerIDs = (event, child) => {\n    setDatosGenerales({\n      ...datos_generales,\n      [event.target.name]: event.target.value,\n      [child.props.name]: child.props.id,\n    });\n    if (child.props.categoria) {\n      const { subcategorias } = child.props.categoria;\n      setSubcategorias(subcategorias);\n    }\n  };\n\n  const GenCodigoBarras = () => {\n    const max = 999999999999;\n    const min = 100000000000;\n    const codigo_barras = Math.floor(\n      Math.random() * (max - min + 1) + min\n    ).toString();\n    setDatosGenerales({\n      ...datos_generales,\n      codigo_barras,\n    });\n    setUnidadVentaXDefecto({\n      ...unidadVentaXDefecto,\n      codigo_barras,\n    });\n  };\n\n  const verificarCampoVacio = (campo) => {\n    if (!precios.monedero_electronico) {\n      setPrecios({\n        ...precios,\n        monedero_electronico: 1,\n      });\n    }\n  };\n\n  useEffect(() => {\n    if (update) {\n      const categoria = categorias.filter(\n        (res) => res._id === datos_generales.id_categoria\n      );\n      const costos = centro_costos.filter(\n        (res) => res._id === centro_de_costos.id_cuenta\n      );\n      if (categoria.length > 0) {\n        setSubcategorias(categoria[0].subcategorias);\n      }\n      if (costos.length > 0) {\n        setSubcostos(costos[0].subcuentas);\n      }\n    }\n  }, [update]);\n\n  return (\n    <Fragment>\n      <Container maxWidth=\"lg\">\n        <Grid container spacing={2}>\n          <Grid item md={3} xs={12}>\n            <FormControl\n              variant=\"outlined\"\n              size=\"small\"\n              name=\"codigo_barras\"\n              fullWidth\n            >\n              <Typography>Cdigo de barras</Typography>\n              <OutlinedInput\n                disabled={update && datos_generales.codigo_barras}\n                style={{ padding: 0 }}\n                id=\"form-producto-codigo-barras\"\n                name=\"codigo_barras\"\n                value={\n                  datos_generales.codigo_barras\n                    ? datos_generales.codigo_barras\n                    : \"\"\n                }\n                onChange={obtenerCampos}\n                endAdornment={\n                  <InputAdornment position=\"start\">\n                    <IconButton\n                      disabled={update && datos_generales.codigo_barras}\n                      onClick={() => GenCodigoBarras()}\n                      /* edge=\"end\" */\n                      color=\"primary\"\n                      size=\"small\"\n                    >\n                      <Autorenew />\n                    </IconButton>\n                  </InputAdornment>\n                }\n              />\n            </FormControl>\n          </Grid>\n          <Grid item md={2} xs={12}>\n            <Typography>\n              <span className={classes.obligatorio}>* </span>Clave alterna\n            </Typography>\n            <TextField\n              fullWidth\n              size=\"small\"\n              error={validacion.error && !datos_generales.clave_alterna}\n              name=\"clave_alterna\"\n              id=\"form-producto-clave-alterna\"\n              variant=\"outlined\"\n              value={\n                datos_generales.clave_alterna\n                  ? datos_generales.clave_alterna\n                  : \"\"\n              }\n              helperText={validacion.message}\n              onChange={obtenerCampos}\n            />\n          </Grid>\n          <Grid item md={2} xs={12}>\n            <Typography>\n              <span className={classes.obligatorio}>* </span>Tipo de producto\n            </Typography>\n            <FormControl\n              variant=\"outlined\"\n              fullWidth\n              size=\"small\"\n              error={validacion.error && !datos_generales.tipo_producto}\n            >\n              <Select\n                id=\"form-producto-tipo\"\n                name=\"tipo_producto\"\n                value={\n                  datos_generales.tipo_producto\n                    ? datos_generales.tipo_producto\n                    : \"\"\n                }\n                onChange={obtenerCampos}\n              >\n                <MenuItem value=\"\">\n                  <em>Selecciona uno</em>\n                </MenuItem>\n                <MenuItem value=\"ROPA\">Ropa</MenuItem>\n                <MenuItem value=\"CALZADO\">Calzado</MenuItem>\n                <MenuItem value=\"OTROS\">Otros</MenuItem>\n              </Select>\n              <FormHelperText>{validacion.message}</FormHelperText>\n            </FormControl>\n          </Grid>\n          <Grid item md={5} xs={12}>\n            <CatalogosProductosSAT codigos={codigos} refetch={refetch} />\n          </Grid>\n\n          <Grid item md={4} xs={12}>\n            <Typography>\n              <span className={classes.obligatorio}>* </span>Nombre comercial\n            </Typography>\n            <TextField\n              fullWidth\n              size=\"small\"\n              error={validacion.error && !datos_generales.nombre_comercial}\n              name=\"nombre_comercial\"\n              id=\"form-producto-nombre-comercial\"\n              variant=\"outlined\"\n              value={\n                datos_generales.nombre_comercial\n                  ? datos_generales.nombre_comercial\n                  : \"\"\n              }\n              helperText={validacion.message}\n              onChange={obtenerCampos}\n            />\n          </Grid>\n          <Grid item md={4} xs={12}>\n            <Typography>\n              <span className={classes.obligatorio}>* </span>Nombre genrico\n            </Typography>\n            <TextField\n              fullWidth\n              size=\"small\"\n              error={validacion.error && !datos_generales.nombre_generico}\n              name=\"nombre_generico\"\n              id=\"form-producto-nombre-generico\"\n              variant=\"outlined\"\n              value={\n                datos_generales.nombre_generico\n                  ? datos_generales.nombre_generico\n                  : \"\"\n              }\n              helperText={validacion.message}\n              onChange={obtenerCampos}\n            />\n          </Grid>\n          <Grid item md={4} xs={12}>\n            <Typography>Descripcin</Typography>\n            <TextField\n              fullWidth\n              size=\"small\"\n              name=\"descripcion\"\n              id=\"form-producto-descripcion\"\n              variant=\"outlined\"\n              value={\n                datos_generales.descripcion ? datos_generales.descripcion : \"\"\n              }\n              onChange={obtenerCampos}\n            />\n          </Grid>\n\n          <Grid item md={6} xs={12}>\n            <Typography>Categoria</Typography>\n            <Box display=\"flex\">\n              <FormControl variant=\"outlined\" fullWidth size=\"small\">\n                <Select\n                  id=\"form-producto-categoria\"\n                  value={\n                    datos_generales.categoria ? datos_generales.categoria : \"\"\n                  }\n                  onChange={(event, child) => obtenerIDs(event, child)}\n                  name=\"categoria\"\n                >\n                  <MenuItem value=\"\">\n                    <em>Seleccione uno</em>\n                  </MenuItem>\n                  {categorias ? (\n                    categorias.map((res) => {\n                      return (\n                        <MenuItem\n                          name=\"id_categoria\"\n                          key={res._id}\n                          value={res.categoria}\n                          id={res._id}\n                          categoria={res}\n                        >\n                          {res.categoria}\n                        </MenuItem>\n                      );\n                    })\n                  ) : (\n                    <MenuItem value=\"\" />\n                  )}\n                </Select>\n              </FormControl>\n              <RegistrarNuevoSelect\n                tipo=\"categoria\"\n                name=\"categoria\"\n                refetch={refetch}\n              />\n            </Box>\n          </Grid>\n          <Grid item md={6} xs={12}>\n            <Typography>Subcategoria</Typography>\n            <Box display=\"flex\">\n              <FormControl variant=\"outlined\" fullWidth size=\"small\">\n                <Select\n                  id=\"form-producto-subcategoria\"\n                  name=\"subcategoria\"\n                  value={\n                    datos_generales.subcategoria\n                      ? datos_generales.subcategoria\n                      : \"\"\n                  }\n                  onChange={(event, child) => obtenerIDs(event, child)}\n                >\n                  <MenuItem value=\"\">\n                    <em>Seleccione uno</em>\n                  </MenuItem>\n                  {subcategorias ? (\n                    subcategorias.map((res) => {\n                      return (\n                        <MenuItem\n                          name=\"id_subcategoria\"\n                          key={res._id}\n                          value={res.subcategoria}\n                          id={res._id}\n                        >\n                          {res.subcategoria}\n                        </MenuItem>\n                      );\n                    })\n                  ) : (\n                    <MenuItem value=\"\" />\n                  )}\n                </Select>\n              </FormControl>\n              <RegistrarNuevoSelect\n                tipo=\"subcategoria\"\n                name=\"subcategoria\"\n                refetch={refetch}\n                subcategorias={subcategorias}\n                setSubcategorias={setSubcategorias}\n              />\n            </Box>\n          </Grid>\n          <Grid item md={6} xs={12}>\n            <Typography>Departamento</Typography>\n            <Box display=\"flex\">\n              <FormControl variant=\"outlined\" fullWidth size=\"small\">\n                <Select\n                  id=\"form-producto-departamento\"\n                  name=\"departamento\"\n                  value={\n                    datos_generales.departamento\n                      ? datos_generales.departamento\n                      : \"\"\n                  }\n                  onChange={(event, child) => obtenerIDs(event, child)}\n                >\n                  <MenuItem value=\"\">\n                    <em>Seleccione uno</em>\n                  </MenuItem>\n                  {departamentos ? (\n                    departamentos.map((res) => {\n                      return (\n                        <MenuItem\n                          name=\"id_departamento\"\n                          key={res._id}\n                          value={res.nombre_departamentos}\n                          id={res._id}\n                        >\n                          {res.nombre_departamentos}\n                        </MenuItem>\n                      );\n                    })\n                  ) : (\n                    <MenuItem value=\"\" />\n                  )}\n                </Select>\n              </FormControl>\n              <RegistrarNuevoSelect\n                tipo=\"departamento\"\n                name=\"nombre_departamentos\"\n                refetch={refetch}\n              />\n            </Box>\n          </Grid>\n          <Grid item md={6} xs={12}>\n            <Typography>Marca</Typography>\n            <Box display=\"flex\">\n              <FormControl variant=\"outlined\" fullWidth size=\"small\">\n                <Select\n                  id=\"form-producto-marca\"\n                  name=\"marca\"\n                  value={datos_generales.marca ? datos_generales.marca : \"\"}\n                  onChange={(event, child) => obtenerIDs(event, child)}\n                >\n                  <MenuItem value=\"\">\n                    <em>Seleccione uno</em>\n                  </MenuItem>\n                  {marcas ? (\n                    marcas.map((res) => {\n                      return (\n                        <MenuItem\n                          name=\"id_marca\"\n                          key={res._id}\n                          value={res.nombre_marca}\n                          id={res._id}\n                        >\n                          {res.nombre_marca}\n                        </MenuItem>\n                      );\n                    })\n                  ) : (\n                    <MenuItem value=\"\" />\n                  )}\n                </Select>\n              </FormControl>\n              <RegistrarNuevoSelect\n                tipo=\"marca\"\n                name=\"nombre_marca\"\n                refetch={refetch}\n              />\n            </Box>\n          </Grid>\n        </Grid>\n        <Box display=\"flex\" mt={4}>\n          <Grid container>\n            <Grid item md={3} xs={12}>\n              {!update ? (\n                <Box>\n                  <Box>\n                    <Typography>\n                      <b>Granel</b>\n                    </Typography>\n                    <Divider />\n                  </Box>\n                  <div className={classes.formInput}>\n                    <FormControlLabel\n                      control={\n                        <Checkbox\n                          checked={precios.granel ? precios.granel : false}\n                          onChange={obtenerChecks}\n                          name=\"granel\"\n                        />\n                      }\n                      label=\"Vender a granel\"\n                    />\n                  </div>\n                </Box>\n              ) : null}\n            </Grid>\n            <Grid item md={3} xs={12}>\n              <Box>\n                <Typography>\n                  <b>Farmacia</b>\n                </Typography>\n                <Divider />\n              </Box>\n              <div className={classes.formInput}>\n                <FormControlLabel\n                  control={\n                    <Checkbox\n                      checked={\n                        datos_generales.receta_farmacia\n                          ? datos_generales.receta_farmacia\n                          : false\n                      }\n                      onChange={checkFarmacia}\n                      name=\"receta_farmacia\"\n                    />\n                  }\n                  label=\"Necesita receta\"\n                  name=\"receta_farmacia\"\n                />\n              </div>\n            </Grid>\n            <Grid item md={6} xs={12}>\n              <Box>\n                <Typography>\n                  <b>Monedero elctronico</b>\n                </Typography>\n                <Divider />\n              </Box>\n              <Box>\n                <Box className={classes.formInput}>\n                  <FormControlLabel\n                    control={\n                      <Checkbox\n                        checked={precios.monedero}\n                        onChange={obtenerChecks}\n                        name=\"monedero\"\n                      />\n                    }\n                    label=\"Monedero electrnico\"\n                  />\n                  <TextField\n                    type=\"number\"\n                    InputProps={{ inputProps: { min: 0 } }}\n                    size=\"small\"\n                    label=\"Valor por punto\"\n                    name=\"monedero_electronico\"\n                    id=\"form-producto-monedero_electronico\"\n                    variant=\"outlined\"\n                    value={precios.monedero_electronico}\n                    onChange={obtenerCampos}\n                    disabled={precios.monedero ? false : true}\n                    onBlur={() => verificarCampoVacio(\"monedero_electronico\")}\n                    error={precios.monedero_electronico === \"\"}\n                  />\n                </Box>\n              </Box>\n            </Grid>\n          </Grid>\n        </Box>\n      </Container>\n    </Fragment>\n  );\n}\n\nconst RegistrarNuevoSelect = ({\n  tipo,\n  name,\n  refetch,\n  subcategorias,\n  setSubcategorias,\n}) => {\n  const [open, setOpen] = useState(false);\n  const [validacion, setValidacion] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [value, setValue] = useState(\"\");\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n  const { datos_generales, setDatosGenerales } = useContext(RegProductoContext);\n  const [alert, setAlert] = useState({ message: \"\", status: \"\", open: false });\n\n  /*  Categorias Mutation */\n  const [crearCategoria] = useMutation(CREAR_CATEGORIA);\n  /*  Subcategorias Mutation */\n  const [crearSubcategoria] = useMutation(CREAR_SUBCATEGORIA);\n  /*  Departamentos Mutation */\n  const [CrearDepartamentos] = useMutation(REGISTRAR_DEPARTAMENTO);\n  /*  Marcas Mutation */\n  const [CrearMarca] = useMutation(REGISTRAR_MARCAS);\n\n  const handleToggle = () => {\n    setOpen(!open);\n  };\n\n  const obtenerDatos = (e) => {\n    setValue(e.target.value);\n  };\n\n  const guardarDatos = async (e) => {\n    e.preventDefault();\n    if (!value) {\n      setValidacion(true);\n      return;\n    }\n    let variables = {\n      input: {\n        [name]: value,\n      },\n      empresa: sesion.empresa._id,\n      sucursal: sesion.sucursal._id,\n    };\n    if (tipo === \"categoria\") {\n      variables = {\n        input: {\n          [name]: value,\n          empresa: sesion.empresa._id,\n          sucursal: sesion.sucursal._id,\n        },\n      };\n    }\n    if (tipo === \"subcategoria\") {\n      variables = {\n        input: {\n          [name]: value,\n        },\n        idCategoria: datos_generales.id_categoria,\n      };\n    }\n    setLoading(true);\n    try {\n      switch (tipo) {\n        case \"categoria\":\n          const categoria_creada = await crearCategoria({ variables });\n          refetch();\n          const id_categoria = categoria_creada.data.crearCategoria._id;\n          setDatosGenerales({\n            ...datos_generales,\n            categoria: value,\n            id_categoria,\n          });\n          break;\n        case \"subcategoria\":\n          const subcategoria_creada = await crearSubcategoria({ variables });\n          refetch();\n          const id_subcategoria =\n            subcategoria_creada.data.crearSubcategoria.message;\n          setSubcategorias([\n            ...subcategorias,\n            { _id: id_subcategoria, subcategoria: value },\n          ]);\n          setDatosGenerales({\n            ...datos_generales,\n            subcategoria: value,\n            id_subcategoria,\n          });\n          break;\n        case \"departamento\":\n          const departamento_creado = await CrearDepartamentos({ variables });\n          refetch();\n          const id_departamento =\n            departamento_creado.data.crearDepartamentos.message;\n          setDatosGenerales({\n            ...datos_generales,\n            departamento: value,\n            id_departamento,\n          });\n          break;\n        case \"marca\":\n          const marca_creada = await CrearMarca({ variables });\n          refetch();\n          const id_marca = marca_creada.data.crearMarcas.message;\n          setDatosGenerales({\n            ...datos_generales,\n            marca: value,\n            id_marca,\n          });\n          break;\n        default:\n          break;\n      }\n      setAlert({ message: \"Listo!\", status: \"success\", open: true });\n      setLoading(false);\n      handleToggle();\n    } catch (error) {\n      setAlert({ message: \"Hubo un error\", status: \"error\", open: true });\n      setLoading(false);\n    }\n  };\n\n  return (\n    <Fragment>\n      <Button\n        color=\"primary\"\n        onClick={() => handleToggle()}\n        disabled={tipo === \"subcategoria\" && !datos_generales.id_categoria}\n      >\n        <Add />\n      </Button>\n      <Dialog\n        open={open}\n        onClose={handleToggle}\n        aria-labelledby={`modal-title-${tipo}`}\n      >\n        <SnackBarMessages alert={alert} setAlert={setAlert} />\n        <DialogTitle id={`modal-title-${tipo}`}>Registrar {tipo}</DialogTitle>\n        <DialogContent>\n          <form id={`registro-${name}`} onSubmit={(e) => guardarDatos(e)}>\n            <TextField\n              error={validacion}\n              name={name}\n              autoFocus\n              label={tipo}\n              fullWidth\n              variant=\"outlined\"\n              onChange={obtenerDatos}\n              helperText={validacion ? \"Campo obligatorio\" : \"\"}\n            />\n          </form>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={() => handleToggle()} color=\"primary\">\n            Cancelar\n          </Button>\n          <Button\n            /* onClick={() => guardarDatos()} */\n            form={`registro-${name}`}\n            type=\"submit\"\n            variant=\"contained\"\n            color=\"primary\"\n            endIcon={\n              loading ? <CircularProgress color=\"inherit\" size={18} /> : null\n            }\n          >\n            Guardar\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </Fragment>\n  );\n};\n","import React, { Fragment, useContext, useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Dialog, DialogActions, DialogTitle } from '@material-ui/core';\nimport { Box, Typography, Button, Divider, Grid } from '@material-ui/core';\nimport { AddPhotoAlternate, Visibility, Delete } from '@material-ui/icons';\nimport { RegProductoContext } from '../../../../../context/Catalogos/CtxRegProducto';\n\nimport PhotoSizeSelectActualOutlinedIcon from '@material-ui/icons/PhotoSizeSelectActualOutlined';\nconst useStyles = makeStyles((theme) => ({\n\tformInputFlex: {\n\t\tdisplay: 'flex',\n\t\twidth: '100%',\n\t\t'& > *': {\n\t\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(1)}px`\n\t\t}\n\t},\n\tformInput: {\n\t\tmargin: `${theme.spacing(0)}px ${theme.spacing(1)}px`\n\t},\n\tinput: {\n\t\tdisplay: 'none'\n\t},\n\timagen: {\n\t\tmaxHeight: \"100%\",\n\t\tmaxWidth: \"100%\"\n\t}\n}));\n\nexport default function CargarImagenesProducto() {\n\tconst classes = useStyles();\n\tconst { imagenes, setImagenes, setOnPreview, onPreview } = useContext(RegProductoContext);\n\n\tconst cargarImagen = (e) => {\n\t\tconst { files } = e.target;\n\t\tif (e.target.files.length < 1) return\n\t\tsetImagenes([\n\t\t\t...imagenes,\n\t\t\tfiles[0]\n\t\t]);\n\t\tsetOnPreview({image: URL.createObjectURL(files[0])})\n\t};\n\n\tconst render_imagenes = imagenes.map((res, index) => <RenderImagenes key={index} index={index} imagen={res} />);\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<Grid container>\n\t\t\t\t<Grid item md={6}>\n\t\t\t\t\t<Box>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\taccept=\"image/*\"\n\t\t\t\t\t\t\tclassName={classes.input}\n\t\t\t\t\t\t\tid=\"contained-button-file\"\n\t\t\t\t\t\t\t/* multiple */\n\t\t\t\t\t\t\ttype=\"file\"\n\t\t\t\t\t\t\tonChange={cargarImagen}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<label htmlFor=\"contained-button-file\">\n\t\t\t\t\t\t\t<Button variant=\"text\" color=\"primary\" component=\"span\" startIcon={<AddPhotoAlternate />}>\n\t\t\t\t\t\t\t\tCargar imagen\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t</Box>\n\t\t\t\t\t{render_imagenes}\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item md={6}>\n\t\t\t\t\t<Box display=\"flex\" minHeight={300}>\n\t\t\t\t\t\t<Box mx={1}>\n\t\t\t\t\t\t\t<Divider orientation=\"vertical\" />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box width=\"100%\" height=\"50vh\" display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t{!onPreview.image ? (\n\t\t\t\t\t\t\t\t<PhotoSizeSelectActualOutlinedIcon style={{ fontSize: 150 }} />\n\t\t\t\t\t\t\t) : (<img alt=\"img-onPreview\" src={onPreview.image} className={classes.imagen} />)}\n\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Box>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t</Fragment>\n\t);\n}\n\nconst RenderImagenes = ({ imagen, index }) => {\n\tconst classes = useStyles();\n\tconst preview = imagen.key_imagen ? imagen.url_imagen : URL.createObjectURL(imagen)\n\tconst { imagenes, setImagenes, setOnPreview, onPreview, imagenes_eliminadas, setImagenesEliminadas } = useContext(RegProductoContext);\n\tconst [open, setOpen] = useState(false);\n\tconst handleModal = () => setOpen(!open);\n\n\tconst eliminarImagen = () => {\n\t\t/* agregar al arrya de imagenes eliminadas */\n\t\tif(imagen.key_imagen){\n\t\t\tsetImagenesEliminadas([\n\t\t\t\t...imagenes_eliminadas, imagen\n\t\t\t])\n\t\t}\n\t\t/* quitar imagenes del array */\n\t\tif (onPreview.index === index) {\n\t\t\tsetOnPreview({ index: '', image: '' })\n\t\t}\n\t\tconst array = [...imagenes];\n\t\tarray.splice(index, 1);\n\t\tsetImagenes([\n\t\t\t...array,\n\t\t]);\n\t\thandleModal();\n\t}\n\n\treturn (\n\t\t<Box my={2} mr={5}>\n\t\t\t<Box className={classes.formInputFlex}>\n\t\t\t\t<Box height={70} width={70}>\n\t\t\t\t\t<img alt=\"producto-img-prev\" src={preview} width=\"100%\" />\n\t\t\t\t</Box>\n\t\t\t\t<Box width=\"90%\">\n\t\t\t\t\t<Typography noWrap>\n\t\t\t\t\t\t{imagen.key_imagen ? imagen.key_imagen : imagen.name}\n\t\t\t\t\t</Typography>\n\t\t\t\t\t{imagen.key_imagen ? null : (<Typography variant=\"caption\">{imagen.size} bits</Typography>)}\n\t\t\t\t\t\n\t\t\t\t\t<Box display=\"flex\" justifyContent=\"flex-end\">\n\t\t\t\t\t\t<Button size=\"small\" startIcon={<Visibility />} onClick={() => setOnPreview({ index, image: preview })}>\n\t\t\t\t\t\t\tprevisualizar\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Box mx={1} />\n\t\t\t\t\t\t<ModalDelete handleModal={handleModal} open={open} eliminarImagen={eliminarImagen} />\n\t\t\t\t\t</Box>\n\t\t\t\t</Box>\n\t\t\t</Box>\n\t\t\t<Divider />\n\t\t</Box>\n\t);\n};\n\nconst ModalDelete = ({ handleModal, open, eliminarImagen }) => {\n\treturn (\n\t\t<div>\n\t\t\t<Button size=\"small\" color=\"secondary\" startIcon={<Delete />} onClick={() => handleModal()}>\n\t\t\t\teliminar\n\t\t\t</Button>\n\t\t\t<Dialog open={open} onClose={handleModal}>\n\t\t\t\t<DialogTitle>{'Seguro que quieres eliminar esto?'}</DialogTitle>\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Button onClick={() => handleModal()} color=\"primary\">\n\t\t\t\t\t\tCancelar\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button color=\"secondary\" autoFocus variant=\"contained\" onClick={() => eliminarImagen()}>\n\t\t\t\t\t\tEliminar\n\t\t\t\t\t</Button>\n\t\t\t\t</DialogActions>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n};\n","import React, { Fragment, useContext } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { Divider } from \"@material-ui/core\";\nimport {\n  Box,\n  FormControl,\n  MenuItem,\n  Select,\n  TextField,\n  Typography,\n  Grid,\n} from \"@material-ui/core\";\nimport \"date-fns\";\nimport local from \"date-fns/locale/es\";\nimport DateFnsUtils from \"@date-io/date-fns\";\nimport {\n  MuiPickersUtilsProvider,\n  KeyboardDatePicker,\n} from \"@material-ui/pickers\";\nimport { RegProductoContext } from \"../../../../../context/Catalogos/CtxRegProducto\";\nimport ContainerRegistroAlmacen from \"../../../Almacenes/RegistroAlmacen/ContainerRegistroAlmacen\";\nimport { AlmacenProvider } from \"../../../../../context/Almacenes/crearAlmacen\";\nimport { unitCodes, unitCodes_granel } from \"../unidades\";\n\nconst useStyles = makeStyles((theme) => ({\n  formInputFlex: {\n    display: \"flex\",\n    \"& > *\": {\n      margin: `${theme.spacing(1)}px ${theme.spacing(1)}px`,\n    },\n  },\n  formInput: {\n    margin: `${theme.spacing(1)}px ${theme.spacing(2)}px`,\n  },\n}));\n\nexport default function RegistroAlmacenInicial({\n  obtenerConsultasProducto,\n  refetch,\n}) {\n  const classes = useStyles();\n  const {\n    datos_generales,\n    precios,\n    setPrecios,\n    almacen_inicial,\n    setAlmacenInicial,\n    selectedDate,\n    setSelectedDate,\n    update,\n  } = useContext(RegProductoContext);\n  const { almacenes } = obtenerConsultasProducto;\n\n  /*ARMAR OBJETO DE INVENTARIO  */\n  const obtenerInventario = (e, child) => {\n    if (!e.target.value) {\n      setPrecios({\n        ...precios,\n        inventario: { ...precios.inventario, [e.target.name]: \"\" },\n      });\n      return;\n    }\n    if (e.target.name === \"unidad_de_inventario\") {\n      const { codigo_unidad, unidad } = child.props.unidad;\n      setPrecios({\n        ...precios,\n        inventario: {\n          ...precios.inventario,\n          [e.target.name]: unidad,\n          codigo_unidad,\n        },\n      });\n      return;\n    }\n    setPrecios({\n      ...precios,\n      inventario: {\n        ...precios.inventario,\n        [e.target.name]: parseFloat(e.target.value),\n      },\n    });\n  };\n\n  const obtenerAlmacenInicial = (e) => {\n    if (!e.target.value) {\n      setAlmacenInicial({\n        ...almacen_inicial,\n        [e.target.name]: \"\",\n      });\n      return;\n    }\n    if (e.target.name === \"almacen\") {\n      setAlmacenInicial({\n        ...almacen_inicial,\n        [e.target.name]: e.target.value,\n      });\n      return;\n    }\n    setAlmacenInicial({\n      ...almacen_inicial,\n      [e.target.name]: parseFloat(e.target.value),\n    });\n  };\n\n  const obtenerAlmacenes = (event, child) => {\n    setAlmacenInicial({\n      ...almacen_inicial,\n      [event.target.name]: event.target.value,\n      [child.props.name]: child.props.id,\n    });\n  };\n\n  const handleDateChange = (date) => {\n    setSelectedDate(date);\n    setAlmacenInicial({\n      ...almacen_inicial,\n      fecha_de_expiracion: date,\n    });\n  };\n\n  const verificarCampoVacio = (tipo, name, value) => {\n    if (tipo === \"inventario\") {\n      if (!value) {\n        setPrecios({\n          ...precios,\n          inventario: { ...precios.inventario, [name]: 0 },\n        });\n      }\n    } else {\n      if (!value) {\n        setAlmacenInicial({\n          ...almacen_inicial,\n          [name]: 0,\n        });\n      }\n    }\n  };\n\n  return (\n    <Fragment>\n      <Box mt={3}>\n        <Typography>\n          <b>Inventario</b>\n        </Typography>\n        <Divider />\n      </Box>\n      <Box className={classes.formInputFlex}>\n        <Box width=\"150px\">\n          <Typography>Inventario mnimo</Typography>\n          <TextField\n            type=\"number\"\n            InputProps={{ inputProps: { min: 0 } }}\n            size=\"small\"\n            name=\"inventario_minimo\"\n            id=\"form-producto-inventario_minimo\"\n            variant=\"outlined\"\n            value={precios.inventario.inventario_minimo}\n            onChange={obtenerInventario}\n            onBlur={() =>\n              verificarCampoVacio(\n                \"inventario\",\n                \"inventario_minimo\",\n                precios.inventario.inventario_minimo\n              )\n            }\n            error={precios.inventario.inventario_minimo === \"\"}\n          />\n        </Box>\n        <Box width=\"150px\">\n          <Typography>Inventario mximo</Typography>\n          <TextField\n            type=\"number\"\n            InputProps={{ inputProps: { min: 0 } }}\n            size=\"small\"\n            name=\"inventario_maximo\"\n            id=\"form-producto-inventario_maximo\"\n            variant=\"outlined\"\n            value={precios.inventario.inventario_maximo}\n            onChange={obtenerInventario}\n            onBlur={() =>\n              verificarCampoVacio(\n                \"inventario\",\n                \"inventario_maximo\",\n                precios.inventario.inventario_maximo\n              )\n            }\n            error={precios.inventario.inventario_maximo === \"\"}\n          />\n        </Box>\n        <Box width=\"150px\">\n          <Typography>Unidad de inventario</Typography>\n          <Box display=\"flex\">\n            <FormControl\n              variant=\"outlined\"\n              fullWidth\n              size=\"small\"\n              name=\"unidad_de_inventario\"\n            >\n              {precios.granel ? (\n                <Select\n                  name=\"unidad_de_inventario\"\n                  value={precios.inventario.unidad_de_inventario}\n                  onChange={obtenerInventario}\n                >\n                  {unitCodes_granel.map((res, index) => (\n                    <MenuItem key={index} unidad={res} value={res.unidad}>\n                      {res.unidad}\n                    </MenuItem>\n                  ))}\n                </Select>\n              ) : (\n                <Select\n                  name=\"unidad_de_inventario\"\n                  value={precios.inventario.unidad_de_inventario}\n                  onChange={obtenerInventario}\n                >\n                  {unitCodes.map((res, index) => (\n                    <MenuItem key={index} unidad={res} value={res.unidad}>\n                      {res.unidad}\n                    </MenuItem>\n                  ))}\n                </Select>\n              )}\n            </FormControl>\n          </Box>\n        </Box>\n      </Box>\n      {update ? null : datos_generales.tipo_producto === \"OTROS\" ? (\n        <Fragment>\n          <Box mt={3}>\n            <Typography>\n              <b>Almacen incial</b>\n            </Typography>\n            <Divider />\n          </Box>\n          <div\n            className={classes.formInputFlex}\n            style={{ alignItems: \"center\" }}\n          >\n            <Box width=\"100%\">\n              <Typography>\n                Cantidad inicial en <b>{precios.unidad_de_compra.unidad}</b>\n              </Typography>\n              <Box display=\"flex\" alignItems=\"center\">\n                <TextField\n                  fullWidth\n                  type=\"number\"\n                  InputProps={{ inputProps: { min: 0 } }}\n                  size=\"small\"\n                  name=\"cantidad\"\n                  variant=\"outlined\"\n                  value={almacen_inicial.cantidad}\n                  onChange={obtenerAlmacenInicial}\n                  onBlur={() =>\n                    verificarCampoVacio(\n                      \"almacen\",\n                      \"cantidad\",\n                      almacen_inicial.cantidad\n                    )\n                  }\n                  error={almacen_inicial.cantidad === \"\"}\n                />\n              </Box>\n            </Box>\n            <Box width=\"100%\">\n              <Typography>Almacen</Typography>\n              <Box display=\"flex\" alignItems=\"center\">\n                <FormControl\n                  variant=\"outlined\"\n                  fullWidth\n                  size=\"small\"\n                  name=\"almacen\"\n                  error={\n                    almacen_inicial.cantidad > 0 && !almacen_inicial.almacen\n                  }\n                >\n                  <Select\n                    name=\"almacen\"\n                    value={almacen_inicial.almacen}\n                    onChange={obtenerAlmacenes}\n                  >\n                    <MenuItem value=\"\">\n                      <em>Seleccione uno</em>\n                    </MenuItem>\n                    {almacenes ? (\n                      almacenes.map((res) => {\n                        return (\n                          <MenuItem\n                            name=\"id_almacen\"\n                            key={res._id}\n                            value={res.nombre_almacen}\n                            id={res._id}\n                          >\n                            {res.nombre_almacen}\n                          </MenuItem>\n                        );\n                      })\n                    ) : (\n                      <MenuItem value=\"\" />\n                    )}\n                  </Select>\n                </FormControl>\n                <AlmacenProvider>\n                  <ContainerRegistroAlmacen\n                    accion=\"registrar\"\n                    refetch={refetch}\n                  />\n                </AlmacenProvider>\n              </Box>\n            </Box>\n            <Box width=\"100%\">\n              <Typography>Fecha de expiracin</Typography>\n              <MuiPickersUtilsProvider utils={DateFnsUtils} locale={local}>\n                <Grid container justify=\"space-around\">\n                  <KeyboardDatePicker\n                    margin=\"dense\"\n                    id=\"date-picker-dialog\"\n                    placeholder=\"ex: DD/MM/AAAA\"\n                    format=\"dd/MM/yyyy\"\n                    value={selectedDate}\n                    onChange={handleDateChange}\n                    KeyboardButtonProps={{\n                      \"aria-label\": \"change date\",\n                    }}\n                  />\n                </Grid>\n              </MuiPickersUtilsProvider>\n            </Box>\n          </div>\n        </Fragment>\n      ) : null}\n    </Fragment>\n  );\n}\n","export function validaciones(generales, precios, almacen, presentaciones) {\n    /* si no hay generales y datos 2 */\n    /* console.log(almacen); */\n    if (\n        !generales.clave_alterna ||\n        !generales.tipo_producto ||\n        !generales.nombre_generico ||\n        !generales.nombre_comercial\n    ) {\n        if (!precios.precio_de_compra.precio_con_impuesto ||\n            !precios.precio_de_compra.precio_sin_impuesto ||\n            !precios.unidad_de_compra.cantidad) {\n            return { error: true, message: 'Campo obligatorio', vista1: true, vista2: true };\n        }\n        return { error: true, message: 'Campo obligatorio', vista1: true };\n    } else if (\n        /* si solo hay generales */\n        !precios.precio_de_compra.precio_con_impuesto || !precios.precio_de_compra.precio_sin_impuesto || !precios.unidad_de_compra.cantidad\n    ) {\n        return { error: true, message: 'Campo obligatorio', vista2: true };\n    } else if (\n        /* si solo hay precios */\n        !generales.clave_alterna || !generales.tipo_producto || !generales.nombre_generico || !generales.nombre_comercial\n    ) {\n        return { error: true, message: 'Campo obligatorio', vista1: true };\n    } else if(\n        /* si hay cantidad almacen pero no hay almacen seleccionado */\n        almacen.cantidad > 0 && !almacen.almacen && generales.tipo_producto === \"OTROS\"\n    ) {\n        console.log(\"si hay cantidad almacen pero no hay almacen seleccionado\");\n        return { error: true, message: 'Campo obligatorio', vista3: true };\n    }/*  else if(\n        //si no hay almacen seleccionado\n        presentaciones.length > 0 && !almacen.almacen && !almacen_existente\n    ){\n        console.log(\"no hay present\");\n        return { error: true, message: 'Campo obligatorio', vista7: true };\n    } */ else {\n        /* si hay todos los datos */\n        return { error: false, message: '' };\n    }\n}","import { gql } from '@apollo/client';\n\nexport const CREAR_CUENTA = gql`\n\tmutation crearCuenta($input: CrearCuentasInput) {\n\t\tcrearCuenta(input: $input) {\n\t\t\t_id\n\t\t\tcuenta\n\t\t\tempresa {\n\t\t\t\t_id\n\t\t\t\tnombre_empresa\n\t\t\t\tcorreo_empresa\n\t\t\t\tnombre_dueno\n\t\t\t\ttelefono_dueno\n\t\t\t}\n\t\t\tsucursal {\n\t\t\t\t_id\n\t\t\t\tnombre_sucursal\n\t\t\t\tdescripcion\n\t\t\t}\n\t\t}\n\t}\n`;\nexport const CREAR_SUBCUENTA= gql`\n\tmutation crearSubcuenta($idCuenta: ID!, $input: CrearSubcuentasInput) {\n\t\tcrearSubcuenta(idCuenta: $idCuenta, input: $input) {\n\t\t\tmessage\n\t\t}\n\t}\n`;\n\nexport const ACTUALIZAR_CUENTA= gql`\n\tmutation actualizarCuenta($idCuenta: ID!, $input: ActualizarCuentasInput) {\n\t\tactualizarCuenta(idCuenta: $idCuenta, input: $input) {\n\t\t\tmessage\n\t\t}\n\t}\n`;\nexport const ACTUALIZAR_SUBCUENTA = gql`\n\tmutation actualizarSubcuenta($idCuenta: ID!, $idSubcuenta: ID!, $input: ActualizarSubcuentasInput) {\n\t\tactualizarSubcuenta(idCuenta: $idCuenta, idSubcuenta: $idSubcuenta, input: $input) {\n\t\t\tmessage\n\t\t}\n\t}\n`;\n\nexport const OBTENER_CUENTAS = gql`\n\tquery obtenerCuentas($empresa: ID!, $sucursal: ID!) {\n\t\tobtenerCuentas(empresa: $empresa, sucursal: $sucursal) {\n\t\t\t_id\n\t\t\tcuenta\n\t\t\tsubcuentas {\n\t\t\t\t_id\n\t\t\t\tsubcuenta\n\t\t\t}\n\t\t\tempresa {\n\t\t\t\t_id\n\t\t\t\tnombre_empresa\n\t\t\t\tcorreo_empresa\n\t\t\t\tnombre_dueno\n\t\t\t\ttelefono_dueno\n\t\t\t}\n\t\t\tsucursal {\n\t\t\t\t_id\n\t\t\t\tnombre_sucursal\n\t\t\t\tdescripcion\n\t\t\t}\n\t\t}\n\t}\n`;\n\nexport const ELIMINAR_CUENTA = gql`\n\tmutation eliminarCuenta($id: ID!) {\n\t\teliminarCuenta(id: $id) {\n\t\t\tmessage\n\t\t}\n\t}\n`; \nexport const ELIMINAR_SUBCUENTA = gql`\n\tmutation eliminarSubcuenta($idCuenta: ID!, $idSubcuenta: ID!) {\n\t\teliminarSubcuenta(idCuenta: $idCuenta, idSubcuenta: $idSubcuenta) {\n\t\t\tmessage\n\t\t}\n\t}\n`; ","import React, { Fragment, useContext, useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Button, CircularProgress, Dialog, DialogActions, DialogContent, DialogTitle, Divider, TextField } from '@material-ui/core';\nimport { Box, FormControl, MenuItem, Select, Typography } from '@material-ui/core';\nimport { RegProductoContext } from '../../../../../context/Catalogos/CtxRegProducto';\nimport Add from '@material-ui/icons/Add';\nimport SnackBarMessages from '../../../../../components/SnackBarMessages';\nimport { CREAR_CUENTA, CREAR_SUBCUENTA } from '../../../../../gql/Catalogos/centroCostos';\nimport { useMutation } from '@apollo/client';\n\nconst useStyles = makeStyles((theme) => ({\n    formInputFlex: {\n        display: 'flex',\n        '& > *': {\n            margin: `${theme.spacing(1)}px ${theme.spacing(1)}px`\n        }\n    },\n    formInput: {\n        margin: `${theme.spacing(1)}px ${theme.spacing(2)}px`\n    }\n}));\n\nexport default function CentroCostos({ obtenerConsultasProducto, refetch }) {\n    const classes = useStyles();\n    const { centro_de_costos, setCentroDeCostos, subcostos, setSubcostos } = useContext(RegProductoContext);\n    const { centro_costos } = obtenerConsultasProducto;\n\n    const obtenerAlmacenes = (event, child) => {\n        setCentroDeCostos({\n            ...centro_de_costos,\n            [event.target.name]: event.target.value,\n            [child.props.name]: child.props.id,\n        });\n        if (child.props.costos) {\n            const { subcuentas } = child.props.costos;\n            setSubcostos(subcuentas);\n        }\n    };\n    \n    return (\n        <Fragment>\n            <Box mt={3}>\n                <Typography>\n                    <b>Centro de costos</b>\n                </Typography>\n                <Divider />\n            </Box>\n            <div className={classes.formInputFlex}>\n                <Box width=\"100%\">\n                    <Typography>Cuenta</Typography>\n                    <Box display=\"flex\">\n                        <FormControl variant=\"outlined\" fullWidth size=\"small\" name=\"cuenta\">\n                            <Select name=\"cuenta\" value={centro_de_costos.cuenta ? centro_de_costos.cuenta : ''} onChange={obtenerAlmacenes}>\n                                <MenuItem value=\"\">\n                                    <em>Seleccione uno</em>\n                                </MenuItem>\n                                {centro_costos ? centro_costos.map((res) => {\n                                    return (\n                                        <MenuItem\n                                            name=\"id_cuenta\"\n                                            key={res._id}\n                                            value={res.cuenta}\n                                            id={res._id}\n                                            costos={res}\n                                        >\n                                            {res.cuenta}\n                                        </MenuItem>\n                                    );\n                                }) : <MenuItem value=\"\" />}\n                            </Select >\n                        </FormControl>\n                        <RegistrarNuevoSelect tipo=\"cuenta\" name=\"cuenta\" refetch={refetch} />\n                    </Box>\n                </Box>\n                <Box width=\"100%\">\n                    <Typography>Subcuenta</Typography>\n                    <Box display=\"flex\">\n                        <FormControl variant=\"outlined\" fullWidth size=\"small\" name=\"subcuenta\">\n                            <Select name=\"subcuenta\" value={centro_de_costos.subcuenta ? centro_de_costos.subcuenta : ''} onChange={obtenerAlmacenes}>\n                                <MenuItem value=\"\">\n                                    <em>Seleccione uno</em>\n                                </MenuItem>\n                                {subcostos ? subcostos.map((res) => {\n                                    return (\n                                        <MenuItem\n                                            name=\"id_subcuenta\"\n                                            key={res._id}\n                                            value={res.subcuenta}\n                                            id={res._id}\n                                        >\n                                            {res.subcuenta}\n                                        </MenuItem>\n                                    );\n                                }) : <MenuItem value=\"\" />}\n                            </Select >\n                        </FormControl>\n                        <RegistrarNuevoSelect tipo=\"subcuenta\" name=\"subcuenta\" refetch={refetch} />\n                    </Box>\n                </Box>\n            </div>\n        </Fragment>\n    );\n}\n\nconst RegistrarNuevoSelect = ({ tipo, name, refetch }) => {\n\tconst [open, setOpen] = useState(false);\n\tconst [validacion, setValidacion] = useState(false);\n\tconst [loading, setLoading] = useState(false);\n\tconst [value, setValue] = useState('');\n\tconst sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\tconst { centro_de_costos, setCentroDeCostos, subcostos, setSubcostos } = useContext(RegProductoContext);\n\tconst [alert, setAlert] = useState({ message: '', status: '', open: false });\n\n\t/*  costos Mutation */\n\tconst [ crearCuenta ] = useMutation(CREAR_CUENTA);\n\t/*  subcostos Mutation */\n\tconst [ crearSubcuenta ] = useMutation(CREAR_SUBCUENTA);\n\n\tconst handleToggle = () => {\n\t\tsetOpen(!open);\n\t};\n\n\tconst obtenerDatos = (e) => {\n\t\tsetValue(e.target.value);\n\t};\n\n\tconst guardarDatos = async (e) => {\n\t\te.preventDefault();\n\t\tif (!value) {\n\t\t\tsetValidacion(true);\n\t\t\treturn;\n\t\t}\n\t\tlet variables = {\n\t\t\tinput: {\n                [name]: value,\n                empresa: sesion.empresa._id,\n                sucursal: sesion.sucursal._id\n            }\n\t\t};\n\t\tif (tipo === 'subcuenta') {\n\t\t\tvariables = {\n\t\t\t\tinput: {\n\t\t\t\t\t[name]: value\n\t\t\t\t},\n\t\t\t\tidCuenta: centro_de_costos.id_cuenta\n\t\t\t};\n\t\t}\n\n\t\tsetLoading(true);\n\t\ttry {\n\t\t\tswitch (tipo) {\n\t\t\t\tcase 'cuenta':\n\t\t\t\t\tconst cuenta_creada = await crearCuenta({ variables });\n\t\t\t\t\trefetch();\n\t\t\t\t\tconst id_cuenta = cuenta_creada.data.crearCuenta._id;\n\t\t\t\t\tsetCentroDeCostos({\n\t\t\t\t\t\t...centro_de_costos,\n\t\t\t\t\t\tcuenta: value,\n\t\t\t\t\t\tid_cuenta\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'subcuenta':\n\t\t\t\t\tconst subcuenta_creada = await crearSubcuenta({ variables });\n\t\t\t\t\trefetch();\n\t\t\t\t\tconst id_subcuenta = subcuenta_creada.data.crearSubcuenta._id;\n\t\t\t\t\tsetSubcostos([...subcostos, { _id: id_subcuenta, subcuenta: value }]);\n\t\t\t\t\tsetCentroDeCostos({\n\t\t\t\t\t\t...centro_de_costos,\n\t\t\t\t\t\tsubcuenta: value,\n\t\t\t\t\t\tid_subcuenta\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tsetAlert({ message: 'Listo!', status: 'success', open: true });\n\t\t\tsetLoading(false);\n\t\t\thandleToggle();\n\t\t} catch (error) {\n\t\t\tsetAlert({ message: 'Hubo un error', status: 'error', open: true });\n\t\t\tsetLoading(false);\n\t\t}\n\t};\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<Button\n\t\t\t\tcolor=\"primary\"\n\t\t\t\tonClick={() => handleToggle()}\n\t\t\t\tdisabled={tipo === 'subcuenta' && !centro_de_costos.id_cuenta}\n\t\t\t>\n\t\t\t\t<Add />\n\t\t\t</Button>\n\t\t\t<Dialog open={open} onClose={handleToggle} aria-labelledby={`modal-title-${tipo}`}>\n\t\t\t\t<SnackBarMessages alert={alert} setAlert={setAlert} />\n\t\t\t\t<DialogTitle id={`modal-title-${tipo}`}>Registrar {tipo}</DialogTitle>\n\t\t\t\t<DialogContent>\n\t\t\t\t\t<form id={`registro-${name}`} onSubmit={(e) => guardarDatos(e)}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\terror={validacion}\n\t\t\t\t\t\t\tname={name}\n\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\tlabel={tipo}\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\tonChange={obtenerDatos}\n\t\t\t\t\t\t\thelperText={validacion ? 'Campo obligatorio' : ''}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</form>\n\t\t\t\t</DialogContent>\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Button onClick={() => handleToggle()} color=\"primary\">\n\t\t\t\t\t\tCancelar\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button\n\t\t\t\t\t\t/* onClick={() => guardarDatos()} */\n\t\t\t\t\t\tform={`registro-${name}`}\n\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\tendIcon={loading ? <CircularProgress color=\"inherit\" size={18} /> : null}\n\t\t\t\t\t>\n\t\t\t\t\t\tGuardar\n\t\t\t\t\t</Button>\n\t\t\t\t</DialogActions>\n\t\t\t</Dialog>\n\t\t</Fragment>\n\t);\n};","import React, { useContext, useState } from 'react';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport IconButton from '@material-ui/core/IconButton'\nimport { Dialog, DialogTitle, DialogActions, Button } from '@material-ui/core'\nimport { RegProductoContext } from '../../../../../context/Catalogos/CtxRegProducto';\nimport { DeleteOutline } from '@material-ui/icons';\n\nexport default function TablaPreciosPlazos({ precios }) {\n\t/* const { preciosPlazos } = useContext(RegProductoContext); */\n\n\treturn (\n\n\t\t<TableContainer component={Paper}>\n\t\t\t<Table aria-label=\"simple table\" size=\"small\">\n\t\t\t\t<TableHead>\n\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t<TableCell>Plazo</TableCell>\n\t\t\t\t\t\t<TableCell>Precio</TableCell>\n\t\t\t\t\t\t<TableCell></TableCell>\n\t\t\t\t\t</TableRow>\n\t\t\t\t</TableHead>\n\t\t\t\t<TableBody>\n\t\t\t\t\t{precios.map((precio, index) => (\n\t\t\t\t\t\t<RenderTablePlazos key={index} precio={precio} index={index} />\n\t\t\t\t\t))}\n\t\t\t\t</TableBody>\n\t\t\t</Table>\n\t\t</TableContainer>\n\t);\n}\n\nconst RenderTablePlazos = ({ precio, index }) => {\n\n\treturn (\n\t\t<TableRow >\n\t\t\t<TableCell>{precio.plazo}</TableCell>\n\t\t\t<TableCell>{precio.precio}</TableCell>\n\t\t\t<TableCell>\n\t\t\t\t<ModalDeletePlazos index={index} unidad={precio.unidad} />\n\t\t\t</TableCell>\n\t\t</TableRow>\n\t)\n}\n\nconst ModalDeletePlazos = ({ index, unidad }) => {\n\tconst [open, setOpen] = useState(false);\n\tconst { preciosPlazos, setPreciosPlazos } = useContext(RegProductoContext);\n\n\tconst toggleModal = () => {\n\t\tsetOpen(!open);\n\t};\n\n\tconst eliminarUnidad = () => {\n\n\n\t\tswitch (unidad) {\n\t\t\tcase \"Pz\":\n\t\t\t\tpreciosPlazos.precio_piezas.splice(index, 1);\n\t\t\t\tsetPreciosPlazos({\n                    ...preciosPlazos,\n                    precio_piezas: [...preciosPlazos.precio_piezas]\n                })\n\t\t\t\tbreak;\n\t\t\tcase \"Caja\":\n\t\t\t\tpreciosPlazos.precio_cajas.splice(index, 1);\n\t\t\t\tsetPreciosPlazos({\n                    ...preciosPlazos,\n                    precio_cajas: [...preciosPlazos.precio_cajas]\n                })\n\t\t\t\tbreak;\n\t\t\tcase \"Costal\":\n\t\t\t\tpreciosPlazos.precio_costales.splice(index, 1);\n\t\t\t\tsetPreciosPlazos({\n                    ...preciosPlazos,\n                    precio_costales: [...preciosPlazos.precio_costales]\n                })\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t\ttoggleModal();\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<IconButton color=\"primary\" onClick={() => toggleModal()}>\n\t\t\t\t<DeleteOutline color=\"primary\" />\n\t\t\t</IconButton>\n\t\t\t<Dialog open={open} onClose={toggleModal}>\n\t\t\t\t<DialogTitle>{'Se eliminar este precio'}</DialogTitle>\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Button onClick={() => toggleModal()} color=\"primary\">\n\t\t\t\t\t\tCancelar\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button onClick={() => eliminarUnidad()} color=\"secondary\" autoFocus>\n\t\t\t\t\t\tEliminar\n\t\t\t\t\t</Button>\n\t\t\t\t</DialogActions>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n};\n","import React, { Fragment, useContext, useState } from \"react\";\nimport {\n  Box,\n  Divider,\n  FormControl,\n  Grid,\n  makeStyles,\n  MenuItem,\n  Select,\n  TextField,\n  Typography,\n  Button,\n} from \"@material-ui/core\";\nimport TablaPreciosPlazos from \"./tabla_precios\";\nimport { RegProductoContext } from \"../../../../../context/Catalogos/CtxRegProducto\";\nimport { unitCodes, unitCodes_granel } from \"../unidades\";\n\nconst useStyles = makeStyles((theme) => ({\n  formInputFlex: {\n    display: \"flex\",\n    \"& > *\": {\n      margin: `${theme.spacing(1)}px ${theme.spacing(1)}px`,\n    },\n    \"& > .precios-box\": {\n      margin: `${theme.spacing(1)}px ${theme.spacing(3)}px`,\n    },\n  },\n}));\n\nexport default function PrecioPlazos() {\n  const classes = useStyles();\n  const {\n    precios,\n    preciosPlazos,\n    setPreciosPlazos,\n    unidadesVenta,\n    unidadVentaXDefecto,\n  } = useContext(RegProductoContext);\n  const [plazo, setPlazo] = useState({\n    plazo: \"1\",\n    unidad: precios.granel ? \"Costal\" : \"Pz\",\n    codigo_unidad: precios.granel ? \"KGM\" : \"H87\",\n    precio: 0,\n  });\n\n  const obtenerPlazos = (e, child) => {\n    if (e.target.name === \"precio\") {\n      setPlazo({\n        ...plazo,\n        [e.target.name]: parseFloat(e.target.value),\n      });\n      return;\n    }\n    if (e.target.name === \"unidad\") {\n      const { codigo_unidad, unidad } = child.props.unidad;\n      setPlazo({\n        ...plazo,\n        unidad,\n        codigo_unidad,\n      });\n      return;\n    }\n    setPlazo({\n      ...plazo,\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  const guardarPlazo = () => {\n    if (!plazo.plazo || !plazo.precio || !plazo.unidad) return;\n    switch (plazo.unidad) {\n      case \"Pz\":\n        setPreciosPlazos({\n          ...preciosPlazos,\n          precio_piezas: [...preciosPlazos.precio_piezas, plazo],\n        });\n        break;\n      case \"Caja\":\n        setPreciosPlazos({\n          ...preciosPlazos,\n          precio_cajas: [...preciosPlazos.precio_cajas, plazo],\n        });\n        break;\n      case \"Costal\":\n        setPreciosPlazos({\n          ...preciosPlazos,\n          precio_costales: [...preciosPlazos.precio_costales, plazo],\n        });\n        break;\n      default:\n        break;\n    }\n    setPlazo({\n      ...plazo,\n      precio: 0,\n    });\n  };\n\n  return (\n    <Fragment>\n      <Box className={classes.formInputFlex}>\n        <Typography className=\"precios-box\">\n          Precio venta de <b>{unidadVentaXDefecto.unidad}</b> con\n          impuestos(NETO): <b>${unidadVentaXDefecto.precio}</b>\n        </Typography>\n        {unidadesVenta.map((unidades, index) => {\n          if (!unidades.default)\n            return (\n              <Typography key={index} className=\"precios-box\">\n                Precio venta de <b>{unidades.unidad}</b> con impuestos(NETO):{\" \"}\n                <b>${unidades.precio}</b>\n              </Typography>\n            );\n          return null;\n        })}\n      </Box>\n      <Divider />\n      <Box className={classes.formInputFlex} justifyContent=\"center\">\n        <Box>\n          <Typography>Plazo</Typography>\n          <Box display=\"flex\">\n            <FormControl variant=\"outlined\" fullWidth size=\"small\" name=\"plazo\">\n              <Select name=\"plazo\" value={plazo.plazo} onChange={obtenerPlazos}>\n                <MenuItem value=\"1\">1 Mes</MenuItem>\n                <MenuItem value=\"2\">2 Meses</MenuItem>\n                <MenuItem value=\"6\">6 Meses</MenuItem>\n                <MenuItem value=\"8\">8 Meses</MenuItem>\n                <MenuItem value=\"12\">12 Meses</MenuItem>\n                <MenuItem value=\"18\">18 Meses</MenuItem>\n              </Select>\n            </FormControl>\n          </Box>\n        </Box>\n        <Box>\n          <Typography>Unidad</Typography>\n          <Box display=\"flex\">\n            <FormControl\n              variant=\"outlined\"\n              fullWidth\n              size=\"small\"\n              name=\"unidad\"\n            >\n              {precios.granel ? (\n                <Select\n                  name=\"unidad\"\n                  value={plazo.unidad}\n                  onChange={obtenerPlazos}\n                >\n                  {unitCodes_granel.map((res, index) =>\n                    res.unidad === \"Costal\" ? (\n                      <MenuItem key={index} unidad={res} value={res.unidad}>\n                        {res.unidad}\n                      </MenuItem>\n                    ) : null\n                  )}\n                </Select>\n              ) : (\n                <Select\n                  name=\"unidad\"\n                  value={plazo.unidad}\n                  onChange={obtenerPlazos}\n                >\n                  {unitCodes.map((res, index) => (\n                    <MenuItem key={index} unidad={res} value={res.unidad}>\n                      {res.unidad}\n                    </MenuItem>\n                  ))}\n                </Select>\n              )}\n            </FormControl>\n          </Box>\n        </Box>\n        <Box>\n          <Typography>Precio</Typography>\n          <TextField\n            type=\"number\"\n            InputProps={{ inputProps: { min: 0 } }}\n            size=\"small\"\n            name=\"precio\"\n            value={plazo.precio}\n            variant=\"outlined\"\n            onChange={obtenerPlazos}\n          />\n        </Box>\n        <Box display=\"flex\" alignItems=\"flex-end\">\n          <Button\n            variant=\"contained\"\n            size=\"large\"\n            color=\"primary\"\n            onClick={() => guardarPlazo()}\n          >\n            Agregar\n          </Button>\n        </Box>\n      </Box>\n      <Box>\n        <Grid container spacing={2} justify=\"center\">\n          {precios.granel ? (\n            <Fragment>\n              <Grid item lg={3}>\n                <Typography variant=\"h6\" align=\"center\">\n                  Costal\n                </Typography>\n                <TablaPreciosPlazos precios={preciosPlazos.precio_costales} />\n              </Grid>\n            </Fragment>\n          ) : (\n            <Fragment>\n              <Grid item lg={3}>\n                <Typography variant=\"h6\" align=\"center\">\n                  Piezas\n                </Typography>\n                <TablaPreciosPlazos precios={preciosPlazos.precio_piezas} />\n              </Grid>\n              <Grid item lg={3}>\n                <Typography variant=\"h6\" align=\"center\">\n                  Cajas\n                </Typography>\n                <TablaPreciosPlazos precios={preciosPlazos.precio_cajas} />\n              </Grid>\n            </Fragment>\n          )}\n        </Grid>\n      </Box>\n    </Fragment>\n  );\n}\n","export const validateJsonEdit = async (data, tipo) => {\n    if (tipo === \"datos_generales\") {\n      let object_date = {\n        clave_alterna: data.clave_alterna,\n        tipo_producto: data.tipo_producto,\n        nombre_comercial: data.nombre_comercial,\n        nombre_generico: data.nombre_generico,\n        receta_farmacia: data.receta_farmacia,\n      };\n      if (data.codigo_barras !== null && data.codigo_barras !== \"\")\n        object_date = { ...object_date, codigo_barras: data.codigo_barras };\n      if (data.descripcion !== null && data.descripcion !== \"\")\n        object_date = { ...object_date, descripcion: data.descripcion };\n      if (data.id_categoria !== null && data.id_categoria !== \"\")\n        object_date = { ...object_date, id_categoria: data.id_categoria };\n      if (data.categoria !== null && data.categoria !== \"\")\n        object_date = { ...object_date, categoria: data.categoria };\n      if (data.subcategoria !== null && data.subcategoria !== \"\")\n        object_date = { ...object_date, subcategoria: data.subcategoria };\n      if (data.id_subcategoria !== null && data.id_subcategoria !== \"\")\n        object_date = { ...object_date, id_subcategoria: data.id_subcategoria };\n      if (data.id_departamento !== null && data.id_departamento !== \"\")\n        object_date = { ...object_date, id_departamento: data.id_departamento };\n      if (data.departamento !== null && data.departamento !== \"\")\n        object_date = { ...object_date, departamento: data.departamento };\n      if (data.id_marca !== null && data.id_marca !== \"\")\n        object_date = { ...object_date, id_marca: data.id_marca };\n      if (data.marca !== null && data.marca !== \"\")\n        object_date = { ...object_date, marca: data.marca };\n      if (data.clave_producto_sat.Name !== null && data.clave_producto_sat.Name !== \"\")\n        object_date = {\n          ...object_date,\n          clave_producto_sat: data.clave_producto_sat,\n        };\n      return object_date;\n    } else if (tipo === \"unidades_de_venta\") {\n      let end_array = [];\n      for (var i = 0; i < data.length; i++) {\n        let object = {\n          _id: data[i]._id,\n          cantidad: data[i].cantidad,\n          id_producto: data[i].id_producto,\n          precio: data[i].precio,\n          unidad_principal: data[i].unidad_principal,\n          unidad: data[i].unidad,\n          codigo_unidad: data[i].codigo_unidad,\n          precio_unidad: data[i].precio_unidad\n        };\n        if (data[i].codigo_barras !== null && data[i].codigo_barras !== \"\")\n          object = { ...object, codigo_barras: data[i].codigo_barras };\n        if (data[i].default !== null && data[i].default !== \"\")\n          object = { ...object, default: data[i].default };\n        if (data[i].descuento_activo !== null && data[i].descuento_activo !== \"\")\n          object = { ...object, descuento_activo: data[i].descuento_activo, descuento: data[i].descuento };\n          \n          end_array.push(object);\n      }\n      return end_array;\n    }\n  };","import React, { useState, Fragment, useContext, useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport DoneIcon from \"@material-ui/icons/Done\";\nimport {\n  Button,\n  AppBar,\n  Badge,\n  Typography,\n  CircularProgress,\n  Backdrop,\n  IconButton,\n} from \"@material-ui/core\";\nimport {\n  Dialog,\n  DialogActions,\n  DialogContent,\n  Tabs,\n  Tab,\n  Box,\n} from \"@material-ui/core\";\nimport RegistroInfoGenerales from \"./DatosGenerales/registrarInfoGeneral\";\nimport RegistroInfoAdidional from \"../Producto/PreciosVenta/registrarInfoAdicional\";\nimport CargarImagenesProducto from \"./Imagenes/cargarImagenesProducto\";\nimport { RegProductoContext } from \"../../../../context/Catalogos/CtxRegProducto\";\nimport RegistroAlmacenInicial from \"./Inventario&Almacen/AlmacenInicial\";\nimport ColoresTallas from \"./TallasColores/TallasColores\";\nimport ErrorPage from \"../../../../components/ErrorPage\";\n\nimport { useMutation, useQuery } from \"@apollo/client\";\nimport {\n  CREAR_PRODUCTO,\n  OBTENER_CONSULTAS,\n  ACTUALIZAR_PRODUCTO,\n} from \"../../../../gql/Catalogos/productos\";\nimport { validaciones } from \"./validaciones\";\nimport CentroCostos from \"./CentroCostos/CentroCostos\";\nimport PrecioPlazos from \"./PrecioPlazos/PrecioPlazos\";\n\nimport {\n  initial_state_datos_generales,\n  initial_state_precios,\n  initial_state_unidadVentaXDefecto,\n  initial_state_almacen_inicial,\n  initial_state_centro_de_costos,\n  initial_state_preciosPlazos,\n} from \"../../../../context/Catalogos/initialStatesProducto\";\nimport {\n  Add,\n  Close,\n  Edit,\n  NavigateBefore,\n  NavigateNext,\n} from \"@material-ui/icons\";\nimport { validateJsonEdit } from \"./validateDatos\";\n/* import { cleanTypenames } from \"../../../../config/reuserFunctions\"; */\n/* import SnackBarMessages from '../../../../components/SnackBarMessages'; */\n\nexport const initial_state_preciosP = [\n  {\n    numero_precio: 1,\n    utilidad: 0,\n    precio_neto: 0,\n    unidad_mayoreo: 0,\n    precio_venta: 0,\n    iva_precio: 0,\n    ieps_precio: 0,\n  },\n  {\n    numero_precio: 2,\n    utilidad: 0,\n    precio_neto: 0,\n    unidad_mayoreo: 0,\n    precio_venta: 0,\n    iva_precio: 0,\n    ieps_precio: 0,\n  },\n  {\n    numero_precio: 3,\n    utilidad: 0,\n    precio_neto: 0,\n    unidad_mayoreo: 0,\n    precio_venta: 0,\n    iva_precio: 0,\n    ieps_precio: 0,\n  },\n  {\n    numero_precio: 4,\n    utilidad: 0,\n    precio_neto: 0,\n    unidad_mayoreo: 0,\n    precio_venta: 0,\n    iva_precio: 0,\n    ieps_precio: 0,\n  },\n  {\n    numero_precio: 5,\n    utilidad: 0,\n    precio_neto: 0,\n    unidad_mayoreo: 0,\n    precio_venta: 0,\n    iva_precio: 0,\n    ieps_precio: 0,\n  },\n  {\n    numero_precio: 6,\n    utilidad: 0,\n    precio_neto: 0,\n    unidad_mayoreo: 0,\n    precio_venta: 0,\n    iva_precio: 0,\n    ieps_precio: 0,\n  },\n];\n\nfunction TabPanel(props) {\n  const { children, value, index, ...other } = props;\n\n  return (\n    <div\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`tabpanel-reg-product-${index}`}\n      aria-labelledby={`reg-product-tab-${index}`}\n      {...other}\n    >\n      {value === index && (\n        <Box p={3} height=\"70vh\">\n          {children}\n        </Box>\n      )}\n    </div>\n  );\n}\n\nTabPanel.propTypes = {\n  children: PropTypes.node,\n  index: PropTypes.any.isRequired,\n  value: PropTypes.any.isRequired,\n};\n\nfunction a11yProps(index) {\n  return {\n    id: `reg-product-tab-${index}`,\n    \"aria-controls\": `tabpanel-reg-product-${index}`,\n  };\n}\n\nconst useStyles = makeStyles((theme) => ({\n  formInputFlex: {\n    display: \"flex\",\n    \"& > *\": {\n      margin: `${theme.spacing(1)}px ${theme.spacing(2)}px`,\n    },\n  },\n  formInput: {\n    margin: `${theme.spacing(1)}px ${theme.spacing(2)}px`,\n  },\n  root: {\n    flexGrow: 1,\n    width: \"100%\",\n    backgroundColor: theme.palette.background.paper,\n  },\n  iconSvg: {\n    width: 50,\n  },\n  dialogContent: {\n    padding: 0,\n  },\n  backdrop: {\n    zIndex: theme.zIndex.drawer + 1,\n    color: \"#fff\",\n  },\n}));\n\nexport default function CrearProducto({\n  accion,\n  datos,\n  productosRefetch,\n  fromCompra,\n}) {\n  const classes = useStyles();\n  const [open, setOpen] = useState(false);\n  const [value, setValue] = useState(0);\n  const {\n    datos_generales,\n    setDatosGenerales,\n    precios,\n    setPrecios,\n    validacion,\n    setValidacion,\n    preciosP,\n    setPreciosP,\n    imagenes,\n    setImagenes,\n    unidadesVenta,\n    setUnidadesVenta,\n    almacen_inicial,\n    setAlmacenInicial,\n    unidadVentaXDefecto,\n    setUnidadVentaXDefecto,\n    centro_de_costos,\n    setCentroDeCostos,\n    setUpdate,\n    preciosPlazos,\n    setPreciosPlazos,\n    setSubcategorias,\n    setOnPreview,\n    setSubcostos,\n    imagenes_eliminadas,\n    setImagenesEliminadas,\n    presentaciones,\n    setPresentaciones,\n    presentaciones_eliminadas,\n    setPresentacionesEliminadas,\n    setAlmacenExistente,\n    almacen_existente,\n  } = useContext(RegProductoContext);\n\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n\n  /* const [ alert, setAlert ] = useState({ message: '', status: '', open: false }); */\n  const { setAlert } = useContext(RegProductoContext);\n  const [loading, setLoading] = useState(false);\n  const tipo = datos_generales.tipo_producto;\n\n  /* Mutations */\n  const [crearProducto] = useMutation(CREAR_PRODUCTO);\n  const [actualizarProducto] = useMutation(ACTUALIZAR_PRODUCTO);\n\n  const toggleModal = (producto) => {\n    setOpen(!open);\n    setUpdate(accion);\n    if (producto && accion) {\n      setInitialStates(producto);\n    } else {\n      resetInitialStates();\n    }\n  };\n\n  const handleChange = (event, newValue) => {\n    setValue(newValue);\n  };\n  /* ###### GUARDAR LA INFO EN LA BD ###### */\n\n  const saveData = async () => {\n    const validate = validaciones(\n      datos_generales,\n      precios,\n      almacen_inicial,\n      presentaciones,\n      almacen_existente\n    );\n\n    if (validate.error) {\n      setValidacion(validate);\n      return;\n    }\n    setValidacion(validate);\n    if (presentaciones.length > 0) {\n      const pres = presentaciones.filter(\n        (res) => res.color._id && res.medida._id\n      );\n\n      if (pres.length !== presentaciones.length) {\n        setValidacion({\n          error: true,\n          message: \"Faltan medidas o colores a tus presentaciones\",\n          vista7: true,\n        });\n        setAlert({\n          message: `Faltan medidas o colores en tus presentaciones`,\n          status: \"error\",\n          open: true,\n        });\n        return;\n      }\n    }\n\n    let copy_unidadesVenta = [...unidadesVenta];\n\n    if (copy_unidadesVenta.length === 0) {\n      copy_unidadesVenta.push(unidadVentaXDefecto);\n    } else {\n      const unidadxdefecto = copy_unidadesVenta.filter(\n        (unidades) => unidades.default === true\n      );\n      if (unidadxdefecto.length === 0) {\n        copy_unidadesVenta.splice(0, 0, unidadVentaXDefecto);\n      }\n    }\n\n    precios.precios_producto = preciosP;\n\n    let imagenes_without_aws = imagenes;\n    if (accion) {\n      imagenes_without_aws = [...imagenes].filter((res) => !res.key_imagen);\n    }\n\n    let input = {\n      datos_generales: await validateJsonEdit(\n        datos_generales,\n        \"datos_generales\"\n      ),\n      precios,\n      imagenes: imagenes_without_aws,\n      imagenes_eliminadas,\n      almacen_inicial,\n      centro_de_costos,\n      unidades_de_venta: await validateJsonEdit(\n        copy_unidadesVenta,\n        \"unidades_de_venta\"\n      ),\n      presentaciones,\n      presentaciones_eliminadas,\n      precio_plazos: preciosPlazos,\n      empresa: sesion.empresa._id,\n      sucursal: sesion.sucursal._id,\n      usuario: sesion._id,\n    };\n\n    /* const clean_data = cleanTypenames(input); */\n    /* console.log(input); */\n\n    setLoading(true);\n    try {\n      if (accion) {\n        const result = await actualizarProducto({\n          variables: {\n            input,\n            id: datos._id,\n          },\n        });\n        setAlert({\n          message: `Listo! ${result.data.actualizarProducto.message}`,\n          status: \"success\",\n          open: true,\n        });\n      } else {\n        const result = await crearProducto({\n          variables: {\n            input,\n          },\n        });\n        setAlert({\n          message: `Listo! ${result.data.crearProducto.message}`,\n          status: \"success\",\n          open: true,\n        });\n      }\n      setLoading(false);\n      toggleModal();\n      productosRefetch();\n    } catch (error) {\n      setLoading(false);\n      setAlert({\n        message: `Error: ${error.message}`,\n        status: \"error\",\n        open: true,\n      });\n      console.log(error);\n      if (error.networkError) {\n        console.log(error.networkError.result);\n      } else if (error.graphQLErrors) {\n        console.log(error.graphQLErrors);\n      }\n    }\n  };\n\n  /* ###### RESET STATES ###### */\n  const resetInitialStates = () => {\n    setDatosGenerales(initial_state_datos_generales);\n    setPrecios(initial_state_precios);\n    setUnidadVentaXDefecto(initial_state_unidadVentaXDefecto);\n    setPreciosP(initial_state_preciosP);\n    setUnidadesVenta([]);\n    setAlmacenInicial(initial_state_almacen_inicial);\n    setCentroDeCostos({});\n    setPreciosPlazos(initial_state_preciosPlazos);\n    setSubcategorias([]);\n    setImagenes([]);\n    setOnPreview({ index: \"\", image: \"\" });\n    setValidacion({ error: false, message: \"\" });\n    setSubcostos([]);\n    setImagenesEliminadas([]);\n    setPresentaciones([]);\n    setPresentacionesEliminadas([]);\n    setValue(0);\n  };\n\n  /* SET STATES WHEN UPDATING */\n  const setInitialStates = (producto) => {\n    /* const producto = cleanTypenames(product); */\n    /* console.log(producto); */\n    const { precios_producto, ...new_precios } = producto.precios;\n    let unidades_venta = producto.unidades_de_venta.filter(\n      (res) => !res.default\n    );\n    let unidadxdefecto = producto.unidades_de_venta.filter(\n      (res) => res.default\n    );\n    setDatosGenerales(producto.datos_generales);\n    setPrecios(new_precios);\n    setCentroDeCostos(\n      producto.centro_de_costos\n        ? producto.centro_de_costos\n        : initial_state_centro_de_costos\n    );\n    setImagenes(producto.imagenes);\n    setPreciosPlazos(producto.precio_plazos);\n    setUnidadesVenta(unidades_venta);\n    setPreciosP(producto.precios.precios_producto);\n    setUnidadVentaXDefecto(unidadxdefecto[0]);\n    setPresentaciones(\n      producto.medidas_producto ? producto.medidas_producto : []\n    );\n    if (producto.inventario_general.length > 0) {\n      setAlmacenExistente(true);\n    } else {\n      setAlmacenExistente(false);\n    }\n  };\n\n  function funcion_tecla(event) {\n    const { keyCode } = event;\n    if (keyCode === 114) {\n      document.getElementById(\"modal-registro-product\").click();\n    }\n  } /* CODIGO PARA PODER EJECUTAR LAS VENTANAS A BASE DE LAS TECLAS */\n\n  window.onkeydown = funcion_tecla;\n\n  const saveButton = (\n    <Button\n      variant=\"contained\"\n      color=\"primary\"\n      onClick={() => saveData()}\n      size=\"large\"\n      startIcon={<DoneIcon />}\n      /* disabled={\n        !datos_generales.clave_alterna ||\n        !datos_generales.tipo_producto ||\n        !datos_generales.nombre_generico ||\n        !datos_generales.nombre_comercial ||\n        !precios.precio_de_compra.precio_con_impuesto ||\n        !precios.precio_de_compra.precio_sin_impuesto ||\n        !precios.unidad_de_compra.cantidad\n          ? true\n          : false\n      } */\n    >\n      Guardar\n    </Button>\n  );\n\n  const ButtonActions = () => {\n    if (!accion && value === 5) {\n      return saveButton;\n    } else if (accion && tipo === \"OTROS\" && value === 5) {\n      return saveButton;\n    } else if (accion && tipo !== \"OTROS\" && value === 6) {\n      return saveButton;\n    } else {\n      return (\n        <Button\n          variant=\"contained\"\n          color=\"primary\"\n          onClick={() => setValue(value + 1)}\n          size=\"large\"\n          endIcon={<NavigateNext />}\n          disableElevation\n        >\n          Siguiente\n        </Button>\n      );\n    }\n  };\n\n  return (\n    <Fragment>\n      {/* <SnackBarMessages alert={alert} setAlert={setAlert} /> */}\n\n      {!accion ? (\n        fromCompra ? (\n          <IconButton color=\"primary\" onClick={() => toggleModal()}>\n            <Add />\n          </IconButton>\n        ) : (\n          <Button\n            id=\"modal-registro-product\"\n            color=\"primary\"\n            variant=\"contained\"\n            size=\"large\"\n            onClick={() => toggleModal()}\n            startIcon={<Add />}\n          >\n            Nuevo\n          </Button>\n        )\n      ) : (\n        <IconButton color=\"default\" onClick={() => toggleModal(datos)}>\n          <Edit />\n        </IconButton>\n      )}\n      <Dialog\n        open={open}\n        fullWidth\n        maxWidth=\"lg\"\n        scroll=\"paper\"\n        disableEscapeKeyDown\n        onClose={(_, reason) => {\n          if (reason !== \"backdropClick\") {\n            toggleModal();\n          }\n        }}\n      >\n        <AppBar position=\"static\" color=\"default\" elevation={0}>\n          <Box display=\"flex\" justifyContent=\"space-between\">\n            <Tabs\n              value={value}\n              onChange={handleChange}\n              variant=\"scrollable\"\n              scrollButtons=\"on\"\n              indicatorColor=\"primary\"\n              textColor=\"primary\"\n              aria-label=\"scrollable force tabs example\"\n            >\n              <Tab\n                label=\"Datos generales\"\n                icon={\n                  <Badge\n                    color=\"secondary\"\n                    badgeContent={<Typography variant=\"h6\">!</Typography>}\n                    anchorOrigin={{\n                      vertical: \"bottom\",\n                      horizontal: \"right\",\n                    }}\n                    invisible={\n                      validacion.error && validacion.vista1 ? false : true\n                    }\n                  >\n                    <img\n                      src=\"https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/portapapeles.svg\"\n                      alt=\"icono registro\"\n                      className={classes.iconSvg}\n                    />\n                  </Badge>\n                }\n                {...a11yProps(0)}\n              />\n              <Tab\n                label=\"Precios de venta\"\n                icon={\n                  <Badge\n                    color=\"secondary\"\n                    badgeContent={<Typography variant=\"h6\">!</Typography>}\n                    anchorOrigin={{\n                      vertical: \"bottom\",\n                      horizontal: \"right\",\n                    }}\n                    invisible={\n                      validacion.error && validacion.vista2 ? false : true\n                    }\n                  >\n                    <img\n                      src=\"https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/etiqueta-de-precio.svg\"\n                      alt=\"icono venta\"\n                      className={classes.iconSvg}\n                    />\n                  </Badge>\n                }\n                {...a11yProps(1)}\n              />\n              <Tab\n                label=\"Inventario y almacen\"\n                icon={\n                  <Badge\n                    color=\"secondary\"\n                    badgeContent={<Typography variant=\"h6\">!</Typography>}\n                    anchorOrigin={{\n                      vertical: \"bottom\",\n                      horizontal: \"right\",\n                    }}\n                    invisible={\n                      validacion.error && validacion.vista3 ? false : true\n                    }\n                  >\n                    <img\n                      src=\"https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/tarea-completada.svg\"\n                      alt=\"icono almacen\"\n                      className={classes.iconSvg}\n                    />\n                  </Badge>\n                }\n                {...a11yProps(2)}\n              />\n              <Tab\n                label=\"Centro de costos\"\n                icon={\n                  <img\n                    src=\"https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/costos.svg\"\n                    alt=\"icono almacen\"\n                    className={classes.iconSvg}\n                  />\n                }\n                {...a11yProps(3)}\n              />\n              <Tab\n                label=\"Precios a plazos\"\n                icon={\n                  <img\n                    src=\"https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/calendar.svg\"\n                    alt=\"icono almacen\"\n                    className={classes.iconSvg}\n                  />\n                }\n                {...a11yProps(4)}\n              />\n              <Tab\n                label=\"Imagenes\"\n                icon={\n                  <img\n                    src=\"https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/imagenes.svg\"\n                    alt=\"icono imagenes\"\n                    className={classes.iconSvg}\n                  />\n                }\n                {...a11yProps(5)}\n              />\n              {accion ? (\n                datos_generales.tipo_producto !== \"OTROS\" ? (\n                  <Tab\n                    label=\"Tallas y colores\"\n                    icon={\n                      <Badge\n                        color=\"secondary\"\n                        badgeContent={<Typography variant=\"h6\">!</Typography>}\n                        anchorOrigin={{\n                          vertical: \"bottom\",\n                          horizontal: \"right\",\n                        }}\n                        invisible={\n                          validacion.error && validacion.vista7 ? false : true\n                        }\n                      >\n                        <img\n                          src=\"https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/tallas-colores.svg\"\n                          alt=\"icono colores\"\n                          className={classes.iconSvg}\n                        />\n                      </Badge>\n                    }\n                    {...a11yProps(6)}\n                  />\n                ) : null\n              ) : null}\n            </Tabs>\n            {/* <Box m={1}>\n\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"secondary\" onClick={() => toggleModal()} size=\"large\">\n\t\t\t\t\t\t\t\t<CloseIcon />\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Box> */}\n          </Box>\n        </AppBar>\n        <DialogContent className={classes.dialogContent}>\n          <Backdrop className={classes.backdrop} open={loading}>\n            <CircularProgress color=\"inherit\" />\n          </Backdrop>\n          <ContenidoModal value={value} />\n        </DialogContent>\n        <DialogActions style={{ display: \"flex\", justifyContent: \"center\" }}>\n          <Button\n            variant=\"outlined\"\n            color=\"primary\"\n            onClick={() => setValue(value - 1)}\n            size=\"large\"\n            startIcon={<NavigateBefore />}\n            disabled={value === 0}\n          >\n            Anterior\n          </Button>\n          <Button\n            variant=\"outlined\"\n            color=\"inherit\"\n            onClick={() => toggleModal()}\n            size=\"large\"\n            startIcon={<Close />}\n            disableElevation\n          >\n            Cancelar\n          </Button>\n          <ButtonActions />\n        </DialogActions>\n      </Dialog>\n    </Fragment>\n  );\n}\n\nconst ContenidoModal = ({ value }) => {\n  const classes = useStyles();\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n\n  /* Queries */\n  const { loading, data, error, refetch } = useQuery(OBTENER_CONSULTAS, {\n    variables: { empresa: sesion.empresa._id, sucursal: sesion.sucursal._id },\n  });\n\n  useEffect(() => {\n    return () => {\n      refetch();\n    };\n  }, [refetch]);\n\n  if (loading)\n    return (\n      <Box\n        display=\"flex\"\n        flexDirection=\"column\"\n        justifyContent=\"center\"\n        alignItems=\"center\"\n        height=\"80vh\"\n      >\n        <CircularProgress />\n        <Typography variant=\"h6\">Cargando...</Typography>\n      </Box>\n    );\n\n  if (error) return <ErrorPage error={error} />;\n\n  const { obtenerConsultasProducto } = data;\n\n  return (\n    <div className={classes.root}>\n      <TabPanel value={value} index={0}>\n        <RegistroInfoGenerales\n          obtenerConsultasProducto={obtenerConsultasProducto}\n          refetch={refetch}\n        />\n      </TabPanel>\n      <TabPanel value={value} index={1}>\n        <RegistroInfoAdidional />\n      </TabPanel>\n      <TabPanel value={value} index={2}>\n        <RegistroAlmacenInicial\n          obtenerConsultasProducto={obtenerConsultasProducto}\n          refetch={refetch}\n        />\n      </TabPanel>\n      <TabPanel value={value} index={3}>\n        <CentroCostos\n          obtenerConsultasProducto={obtenerConsultasProducto}\n          refetch={refetch}\n        />\n      </TabPanel>\n      <TabPanel value={value} index={4}>\n        <PrecioPlazos />\n      </TabPanel>\n      <TabPanel value={value} index={5}>\n        <CargarImagenesProducto />\n      </TabPanel>\n      <TabPanel value={value} index={6}>\n        <ColoresTallas\n          obtenerConsultasProducto={obtenerConsultasProducto}\n          refetch={refetch}\n        />\n      </TabPanel>\n    </div>\n  );\n};\n","import React, { useCallback, useContext, useEffect, useState } from \"react\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport { ComprasContext } from \"../../../../../context/Compras/comprasContext\";\n\nexport default function PreciosDeVentaCompras() {\n  const { preciosVenta } = useContext(ComprasContext);\n\n  return (\n    <div>\n      <TableContainer>\n        <Table aria-label=\"simple table\" size=\"small\">\n          <TableHead>\n            <TableRow>\n              <TableCell style={{ minWidth: 150 }}>Precios de venta</TableCell>\n              {[1, 2, 3, 4, 5, 6].map((numero, index) => (\n                <TableCell style={{ minWidth: 100 }} key={index}>\n                  {numero}\n                </TableCell>\n              ))}\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {[\"Utilidad\", \"Precio de venta\"].map((tipo, index) => (\n              <TableRow key={index}>\n                <TableCell style={{ border: 0 }}>\n                  <b>{tipo}</b>\n                </TableCell>\n                {preciosVenta.map((data, index) => (\n                  <RenderPrecios\n                    key={index}\n                    data={data}\n                    index={index}\n                    tipo={tipo}\n                  />\n                ))}\n              </TableRow>\n            ))}\n          </TableBody>\n        </Table>\n      </TableContainer>\n    </div>\n  );\n}\n\nconst RenderPrecios = ({ data, tipo, index }) => {\n  const { preciosVenta, datosProducto, productoOriginal } = useContext(ComprasContext);\n  const { precios } = productoOriginal;\n\n  const [precio_neto, setPrecioNeto] = useState(data.precio_neto);\n\n  //creamos variables para trabajar con ellas, no causar errores y afectar las originales\n  let copy_preciosVenta = { ...preciosVenta[index] };\n\n  let precio_unitario_con_impuesto =\n    /* datosProducto.costo / datosProducto.cantidad; */\n    datosProducto.costo / precios.unidad_de_compra.cantidad;\n  let precio_unitario_sin_impuesto =\n    /* precios.precio_de_compra.precio_sin_impuesto / datosProducto.cantidad; */\n    precios.precio_de_compra.precio_sin_impuesto / precios.unidad_de_compra.cantidad;\n\n  if (isNaN(precio_unitario_sin_impuesto)) precio_unitario_sin_impuesto = 0;\n  if (isNaN(precio_unitario_con_impuesto)) precio_unitario_con_impuesto = 0;\n\n  const calculosCompra = useCallback(() => {\n    if (copy_preciosVenta.numero_precio === data.numero_precio) {\n      copy_preciosVenta.precio_neto = precio_unitario_con_impuesto;\n      setPrecioNeto(precio_unitario_con_impuesto);\n\n      let utilidad_base = data.utilidad ? data.utilidad : 0;\n      let utilidad = utilidad_base / 100;\n\n      const precio_venta = parseFloat((precio_unitario_sin_impuesto * utilidad + precio_unitario_sin_impuesto).toFixed(2));\n      copy_preciosVenta.precio_venta = parseFloat(\n        precio_venta.toFixed(2)\n      );\n      if (precios.iva_activo || precios.ieps_activo) {\n        const precio_neto =\n          precio_unitario_con_impuesto +\n          precio_unitario_con_impuesto * utilidad;\n\n        copy_preciosVenta.precio_neto = parseFloat(\n          precio_neto.toFixed(2)\n        );\n        setPrecioNeto(parseFloat(precio_neto.toFixed(2)));\n      } else {\n        copy_preciosVenta.precio_neto = parseFloat(\n          precio_venta.toFixed(2)\n        );\n        setPrecioNeto(parseFloat(precio_venta.toFixed(2)));\n      }\n      preciosVenta.splice(index, 1, copy_preciosVenta);\n    }\n  }, [datosProducto.costo, datosProducto.cantidad]);\n\n  useEffect(() => {\n    if(data.numero_precio === 1){\n      calculosCompra();\n    }else if(data.numero_precio > 1 && precio_neto){\n      calculosCompra();\n    }\n  }, [calculosCompra]);\n\n  switch (tipo) {\n    case \"Utilidad\":\n      return <TableCell style={{ border: 0 }}>{data.utilidad}%</TableCell>;\n    case \"Precio de venta\":\n      return <TableCell style={{ border: 0 }}>${parseFloat(precio_neto).toFixed(2)}</TableCell>;\n    default:\n      return null;\n  }\n};\n","import React, { Fragment, useContext } from \"react\";\nimport { Box, InputAdornment, TextField } from \"@material-ui/core\";\nimport { ComprasContext } from \"../../../../../context/Compras/comprasContext\";\n\nexport default function DescuentosInputs() {\n  const { datosProducto, setDatosProducto, productoOriginal } = useContext(\n    ComprasContext\n  );\n  const {\n    precio_sin_impuesto,\n    precio_con_impuesto,\n    iva,\n    ieps,\n  } = productoOriginal.precios.precio_de_compra;\n  const impuestos = iva + ieps;\n\n  const obtenerPorcentaje = (value) => {\n    if (!value || parseFloat(value) === 0) {\n      setDatosProducto({\n        ...datosProducto,\n        descuento_porcentaje: \"\",\n        descuento_precio: \"\",\n        subtotal_descuento: precio_sin_impuesto,\n        total_descuento: precio_con_impuesto,\n      });\n      return;\n    }\n    let porcentaje = parseFloat(value);\n    let cantidad_descontada = Math.round(\n      (datosProducto.subtotal * porcentaje) / 100\n    );\n    let subtotal = datosProducto.subtotal - cantidad_descontada;\n    let total = subtotal + impuestos;\n\n    setDatosProducto({\n      ...datosProducto,\n      descuento_porcentaje: parseFloat(porcentaje),\n      descuento_precio: parseFloat(cantidad_descontada.toFixed(2)),\n      subtotal_descuento: parseFloat(subtotal.toFixed(2)),\n      total_descuento: parseFloat(total.toFixed(2)),\n    });\n  };\n\n  const obtenerPrecio = (value) => {\n    if (!value || parseFloat(value) === 0) {\n      setDatosProducto({\n        ...datosProducto,\n        descuento_porcentaje: \"\",\n        descuento_precio: \"\",\n        subtotal_descuento: precio_sin_impuesto,\n        total_descuento: precio_con_impuesto,\n      });\n      return;\n    }\n    let cantidad_descontada = parseFloat(value);\n\n    let porcentaje = Math.round(\n      (cantidad_descontada / datosProducto.subtotal) * 100\n    );\n    /* let descuento_porcentaje = 100 - porcentaje; */\n    /* let total = datosProducto.total - cantidad_descontada; */\n    let subtotal = datosProducto.subtotal - cantidad_descontada;\n    let total = subtotal + impuestos;\n\n    setDatosProducto({\n      ...datosProducto,\n      descuento_porcentaje: parseFloat(porcentaje),\n      descuento_precio: parseFloat(cantidad_descontada.toFixed(2)),\n      subtotal_descuento: parseFloat(subtotal.toFixed(2)),\n      total_descuento: parseFloat(total.toFixed(2)),\n    });\n  };\n\n  return (\n    <Fragment>\n      <Box display=\"flex\" width={160}>\n        <TextField\n          variant=\"outlined\"\n          size=\"small\"\n          fullWidth\n          inputMode=\"numeric\"\n          onChange={(e) => obtenerPrecio(e.target.value)}\n          disabled={!datosProducto.producto.datos_generales}\n          value={datosProducto.descuento_precio}\n          InputProps={{\n            startAdornment: <InputAdornment position=\"start\">$</InputAdornment>,\n          }}\n        />\n        <Box mr={1} />\n        <TextField\n          variant=\"outlined\"\n          size=\"small\"\n          fullWidth\n          inputMode=\"numeric\"\n          onChange={(e) => obtenerPorcentaje(e.target.value)}\n          disabled={!datosProducto.producto.datos_generales}\n          value={datosProducto.descuento_porcentaje}\n          InputProps={{\n            startAdornment: <InputAdornment position=\"start\">%</InputAdornment>,\n          }}\n        />\n      </Box>\n    </Fragment>\n  );\n}\n","import React, { createContext, useState } from 'react';\n\nexport const ClienteCtx = createContext();\n\nexport const ClienteProvider = ({ children }) => {\n\tconst [ cliente, setCliente ] = useState({\n\t\tdireccion: {\n\t\t\tcalle: '',\n\t\t\tno_ext: '',\n\t\t\tno_int: '',\n\t\t\tcodigo_postal: '',\n\t\t\tcolonia: '',\n\t\t\tmunicipio: '',\n\t\t\tlocalidad: '',\n\t\t\testado: '',\n\t\t\tpais: ''\n\t\t},\n\t\testado_cliente: true\n\t});\n\tconst [ toUpdate, setToUpdate ] = useState(false);\n\tconst [ error, setError ] = useState(false);\n\tconst [ update, setUpdate ] = useState(false);\n\n\tconst [updateClientVenta, setUpdateClientVenta] = useState(false);\n\n\n\treturn (\n\t\t<ClienteCtx.Provider\n\t\t\tvalue={{\n\t\t\t\tcliente,\n\t\t\t\tsetCliente,\n\t\t\t\ttoUpdate,\n\t\t\t\tsetToUpdate,\n\t\t\t\terror,\n\t\t\t\tsetError,\n\t\t\t\tupdate,\n\t\t\t\tsetUpdate,\n\t\t\t\tsetUpdateClientVenta,\n\t\t\t\tupdateClientVenta\n\t\t\t}}\n\t\t>\n\t\t\t{children}\n\t\t</ClienteCtx.Provider>\n\t);\n};\n","import React, { Fragment, useContext, useCallback, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport {\n  Box,\n  Divider,\n  Avatar,\n  InputAdornment,\n  IconButton,\n} from \"@material-ui/core\";\nimport { TextField, Typography, Grid } from \"@material-ui/core\";\nimport { useDropzone } from \"react-dropzone\";\nimport { ClienteCtx } from \"../../../../context/Catalogos/crearClienteCtx\";\nimport { Cached } from \"@material-ui/icons\";\n\nconst useStyles = makeStyles((theme) => ({\n  avatarContainer: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    width: 150,\n    height: 150,\n    border: \"dashed 2px #000000\",\n  },\n  avatar: {\n    width: 135,\n    height: 135,\n    \"& > .icon\": {\n      fontSize: 100,\n    },\n  },\n  input: {\n    \"& input[type=number]\": {\n      \"-moz-appearance\": \"textfield\",\n    },\n    \"& input[type=number]::-webkit-outer-spin-button\": {\n      \"-webkit-appearance\": \"none\",\n      margin: 0,\n    },\n    \"& input[type=number]::-webkit-inner-spin-button\": {\n      \"-webkit-appearance\": \"none\",\n      margin: 0,\n    },\n  },\n  title: {\n    fontWeight: \"500\",\n    \"& span\": {\n      color: \"red\",\n    },\n  },\n}));\n\nexport default function RegistrarInfoBasica({ tipo, accion }) {\n  const classes = useStyles();\n  const { cliente, setCliente, error } = useContext(ClienteCtx);\n  const [preview, setPreview] = useState(\"\");\n\n  //dropzone\n  const onDrop = useCallback(\n    (acceptedFiles) => {\n      let reader = new FileReader();\n      reader.readAsDataURL(acceptedFiles[0]);\n      reader.onload = function () {\n        let image = reader.result;\n        setPreview(image);\n      };\n      setCliente({\n        ...cliente,\n        imagen: acceptedFiles[0],\n      });\n    },\n    [cliente, setCliente]\n  );\n\n  const { getRootProps, getInputProps } = useDropzone({\n    accept: \"image/jpeg, image/png\",\n    noKeyboard: true,\n    onDrop,\n  });\n\n  const obtenerCampos = (e) => {\n    const { name, value } = e.target;\n    setCliente({\n      ...cliente,\n      [name]: value,\n    });\n  };\n  const obtenerCamposDireccion = (e) => {\n    const { name, value } = e.target;\n    setCliente({\n      ...cliente,\n      direccion: { ...cliente.direccion, [name]: value },\n    });\n  };\n\n  const GenCodigoBarras = () => {\n    const max = 999999999999;\n    const min = 100000000000;\n    const clave_cliente = Math.floor(\n      Math.random() * (max - min + 1) + min\n    ).toString();\n    setCliente({\n      ...cliente,\n      clave_cliente,\n    });\n  };\n\n  return (\n    <Fragment>\n      <Grid container className={classes.input}>\n        <Grid\n          item\n          md={3}\n          xs={12}\n          style={{\n            display: \"flex\",\n            justifyContent: \"center\",\n            marginTop: \"8px\",\n          }}\n        >\n          <Box className={classes.avatarContainer} {...getRootProps()}>\n            <input {...getInputProps()} />\n            {preview ? (\n              <Avatar\n                variant=\"square\"\n                className={classes.avatar}\n                src={`${preview}`}\n              />\n            ) : (\n              <Avatar\n                variant=\"square\"\n                className={classes.avatar}\n                src={`${cliente.imagen}`}\n              />\n            )}\n          </Box>\n        </Grid>\n        <Grid item md={9} xs={12}>\n          <Grid container spacing={2}>\n            {accion === \"registrar\" ? null : (\n              <Grid item md={3} xs={12}>\n                <Typography className={classes.title}>N. Cliente</Typography>\n                <TextField\n                  fullWidth\n                  size=\"small\"\n                  name=\"numero_cliente\"\n                  variant=\"outlined\"\n                  value={cliente.numero_cliente ? cliente.numero_cliente : \"\"}\n                  onChange={obtenerCampos}\n                  disabled\n                  type=\"number\"\n                />\n              </Grid>\n            )}\n            <Grid item md={accion === \"registrar\" ? 12 : 9} xs={12}>\n              <Typography className={classes.title}>\n                <span>* </span>Nombre Cliente\n              </Typography>\n              <TextField\n                fullWidth\n                size=\"small\"\n                error={error && !cliente.nombre_cliente}\n                name=\"nombre_cliente\"\n                variant=\"outlined\"\n                value={\n                  cliente.nombre_cliente\n                    ? cliente.nombre_cliente\n                    : \"\"\n                }\n                helperText={error ? \"Campo Requerido\" : \"\"}\n                onChange={obtenerCampos}\n              />\n            </Grid>\n            {tipo === \"CLIENTE\" ? null : (\n              <Grid item md={4} xs={12}>\n                <Typography className={classes.title}>\n                  <span>* </span>Representante\n                </Typography>\n                <TextField\n                  fullWidth\n                  size=\"small\"\n                  error={error && !cliente.representante}\n                  name=\"representante\"\n                  variant=\"outlined\"\n                  value={\n                    cliente.representante\n                      ? cliente.representante\n                      : \"\"\n                  }\n                  helperText={error ? \"Campo Requerido\" : \"\"}\n                  onChange={obtenerCampos}\n                />\n              </Grid>\n            )}\n            <Grid item md={tipo === \"CLIENTE\" ? 6 : 4} xs={12}>\n              <Typography className={classes.title}>\n                <span>* </span>Clave(Tarjeta de puntos)\n              </Typography>\n              <TextField\n                fullWidth\n                size=\"small\"\n                error={error && !cliente.clave_cliente}\n                name=\"clave_cliente\"\n                variant=\"outlined\"\n                value={cliente.clave_cliente ? cliente.clave_cliente : \"\"}\n                helperText={error ? \"Campo Requerido\" : \"\"}\n                onChange={obtenerCampos}\n                InputProps={{\n                  endAdornment: (\n                    <InputAdornment position=\"end\">\n                      <IconButton\n                        color=\"primary\"\n                        size=\"small\"\n                        onClick={() => GenCodigoBarras()}\n                      >\n                        <Cached />\n                      </IconButton>\n                    </InputAdornment>\n                  ),\n                  disabled: true,\n                }}\n                type=\"number\"\n              />\n            </Grid>\n            <Grid item md={tipo === \"CLIENTE\" ? 6 : 4} xs={12}>\n              <Typography className={classes.title}>\n                Fecha nacimiento\n              </Typography>\n              <TextField\n                fullWidth\n                size=\"small\"\n                name=\"fecha_nacimiento\"\n                variant=\"outlined\"\n                type=\"date\"\n                onChange={obtenerCampos}\n                value={cliente.fecha_nacimiento ? cliente.fecha_nacimiento : \"\"}\n              />\n            </Grid>\n          </Grid>\n        </Grid>\n        <Grid item md={12}>\n          <Grid container spacing={2}>\n            <Grid item md={3} xs={12}>\n              <Typography className={classes.title}>CURP</Typography>\n              <TextField\n                fullWidth\n                size=\"small\"\n                name=\"curp\"\n                variant=\"outlined\"\n                value={cliente.curp ? cliente.curp : \"\"}\n                onChange={obtenerCampos}\n              />\n            </Grid>\n            <Grid item md={3} xs={12}>\n              <Typography className={classes.title}>\n                <span>* </span>Email\n              </Typography>\n              <TextField\n                fullWidth\n                size=\"small\"\n                error={error && !cliente.email}\n                name=\"email\"\n                variant=\"outlined\"\n                value={cliente.email ? cliente.email : \"\"}\n                helperText={error ? \"Campo Requerido\" : \"\"}\n                onChange={obtenerCampos}\n              />\n            </Grid>\n\n            <Grid item md={3} xs={12}>\n              <Typography className={classes.title}>\n                <span>* </span>Num. Telefono\n              </Typography>\n              <TextField\n                fullWidth\n                size=\"small\"\n                error={error && !cliente.telefono}\n                name=\"telefono\"\n                variant=\"outlined\"\n                value={cliente.telefono ? cliente.telefono : \"\"}\n                helperText={error ? \"Campo Requerido\" : \"\"}\n                onChange={obtenerCampos}\n                type=\"number\"\n              />\n            </Grid>\n            <Grid item md={3} xs={12}>\n              <Typography className={classes.title}>Num. Celular</Typography>\n              <TextField\n                fullWidth\n                size=\"small\"\n                name=\"celular\"\n                variant=\"outlined\"\n                value={cliente.celular ? cliente.celular : \"\"}\n                onChange={obtenerCampos}\n                type=\"number\"\n              />\n            </Grid>\n          </Grid>\n        </Grid>\n        <Grid item md={12}>\n          <Box my={2}>\n            <Typography className={classes.title}>\n              <b>Domicilio</b>\n            </Typography>\n            <Divider />\n          </Box>\n          <Grid container spacing={2}>\n            <Grid item md={3} xs={12}>\n              <Typography className={classes.title}>\n                <span>* </span>Calle\n              </Typography>\n              <TextField\n                size=\"small\"\n                fullWidth\n                error={error && !cliente.direccion.calle}\n                name=\"calle\"\n                variant=\"outlined\"\n                value={\n                  cliente.direccion.calle\n                    ? cliente.direccion.calle\n                    : \"\"\n                }\n                helperText={error ? \"Campo Requerido\" : \"\"}\n                onChange={obtenerCamposDireccion}\n              />\n            </Grid>\n            <Grid item md={2} xs={12}>\n              <Typography className={classes.title}>\n                <span>* </span>Num. Ext\n              </Typography>\n              <TextField\n                fullWidth\n                size=\"small\"\n                error={error && !cliente.direccion.no_ext}\n                name=\"no_ext\"\n                variant=\"outlined\"\n                value={cliente.direccion.no_ext ? cliente.direccion.no_ext : \"\"}\n                helperText={error ? \"Campo Requerido\" : \"\"}\n                onChange={obtenerCamposDireccion}\n              />\n            </Grid>\n            <Grid item md={2} xs={12}>\n              <Typography className={classes.title}>Num. Int</Typography>\n              <TextField\n                fullWidth\n                size=\"small\"\n                name=\"no_int\"\n                variant=\"outlined\"\n                value={cliente.direccion.no_int ? cliente.direccion.no_int : \"\"}\n                onChange={obtenerCamposDireccion}\n              />\n            </Grid>\n            <Grid item md={2} xs={12}>\n              <Typography className={classes.title}>\n                <span>* </span>Cdigo postal\n              </Typography>\n              <TextField\n                size=\"small\"\n                fullWidth\n                error={error && !cliente.direccion.codigo_postal}\n                name=\"codigo_postal\"\n                variant=\"outlined\"\n                value={\n                  cliente.direccion.codigo_postal\n                    ? cliente.direccion.codigo_postal\n                    : \"\"\n                }\n                helperText={error ? \"Campo Requerido\" : \"\"}\n                onChange={obtenerCamposDireccion}\n              />\n            </Grid>\n            <Grid item md={3} xs={12}>\n              <Typography className={classes.title}>\n                <span>* </span>Colonia\n              </Typography>\n              <TextField\n                fullWidth\n                size=\"small\"\n                error={error && !cliente.direccion.colonia}\n                name=\"colonia\"\n                variant=\"outlined\"\n                value={\n                  cliente.direccion.colonia\n                    ? cliente.direccion.colonia\n                    : \"\"\n                }\n                helperText={error ? \"Campo Requerido\" : \"\"}\n                onChange={obtenerCamposDireccion}\n              />\n            </Grid>\n            <Grid item md={3} xs={12}>\n              <Typography className={classes.title}>\n                <span>* </span>Municipio\n              </Typography>\n              <TextField\n                fullWidth\n                size=\"small\"\n                error={error && !cliente.direccion.municipio}\n                name=\"municipio\"\n                variant=\"outlined\"\n                value={\n                  cliente.direccion.municipio\n                    ? cliente.direccion.municipio\n                    : \"\"\n                }\n                helperText={error ? \"Campo Requerido\" : \"\"}\n                onChange={obtenerCamposDireccion}\n              />\n            </Grid>\n            <Grid item md={3} xs={12}>\n              <Typography className={classes.title}>Localidad</Typography>\n              <TextField\n                size=\"small\"\n                name=\"localidad\"\n                variant=\"outlined\"\n                value={\n                  cliente.direccion.localidad\n                    ? cliente.direccion.localidad\n                    : \"\"\n                }\n                onChange={obtenerCamposDireccion}\n              />\n            </Grid>\n            <Grid item md={3} xs={12}>\n              <Typography className={classes.title}>\n                <span>* </span>Estado\n              </Typography>\n              <TextField\n                fullWidth\n                size=\"small\"\n                error={error && !cliente.direccion.estado}\n                name=\"estado\"\n                variant=\"outlined\"\n                value={\n                  cliente.direccion.estado\n                    ? cliente.direccion.estado\n                    : \"\"\n                }\n                helperText={error ? \"Campo Requerido\" : \"\"}\n                onChange={obtenerCamposDireccion}\n              />\n            </Grid>\n            <Grid item md={3} xs={12}>\n              <Typography className={classes.title}>\n                <span>* </span>Pais\n              </Typography>\n              <TextField\n                fullWidth\n                size=\"small\"\n                error={error && !cliente.direccion.pais}\n                name=\"pais\"\n                variant=\"outlined\"\n                value={\n                  cliente.direccion.pais\n                    ? cliente.direccion.pais\n                    : \"\"\n                }\n                helperText={error ? \"Campo Requerido\" : \"\"}\n                onChange={obtenerCamposDireccion}\n              />\n            </Grid>\n          </Grid>\n        </Grid>\n      </Grid>\n    </Fragment>\n  );\n}\n","import React, { Fragment, useContext } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { Box, Divider, Grid } from \"@material-ui/core\";\nimport { TextField, Typography } from \"@material-ui/core\";\nimport { ClienteCtx } from \"../../../../context/Catalogos/crearClienteCtx\";\nimport { Alert } from \"@material-ui/lab\";\n\nconst useStyles = makeStyles((theme) => ({\n  title: {\n    fontWeight: \"500\",\n  },\n}));\n\nexport default function RegistrarInfoCredito({ tipo }) {\n  const classes = useStyles();\n  const { cliente, setCliente } = useContext(ClienteCtx);\n\n  const obtenerCampos = (e) => {\n    const name = e.target.name;\n    if (name === \"numero_descuento\" || name === \"limite_credito\") {\n      setCliente({\n        ...cliente,\n        [e.target.name]: parseInt(e.target.value),\n      });\n      return;\n    }\n    setCliente({\n      ...cliente,\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  return (\n    <Fragment>\n      <Box my={3}>\n        <Alert severity=\"info\">\n          Si deseas hacer facturas a este cliente el <b>RFC</b> y la{\" \"}\n          <b>Razon social</b> son obligatorios.\n        </Alert>\n      </Box>\n      <Grid container spacing={2}>\n        <Grid item md={6} xs={12}>\n          <Typography className={classes.title}>RFC</Typography>\n          <TextField\n            fullWidth\n            size=\"small\"\n            name=\"rfc\"\n            variant=\"outlined\"\n            value={cliente.rfc ? cliente.rfc : \"\"}\n            onChange={obtenerCampos}\n          />\n        </Grid>\n        <Grid item md={6} xs={12}>\n          <Typography className={classes.title}>Razon social</Typography>\n          <TextField\n            fullWidth\n            size=\"small\"\n            name=\"razon_social\"\n            variant=\"outlined\"\n            value={\n              cliente.razon_social ? cliente.razon_social : \"\"\n            }\n            onChange={obtenerCampos}\n          />\n        </Grid>\n        <Grid item md={4} xs={12}>\n          <Typography className={classes.title}>Descuento</Typography>\n          <TextField\n            fullWidth\n            size=\"small\"\n            name=\"numero_descuento\"\n            variant=\"outlined\"\n            value={cliente.numero_descuento ? cliente.numero_descuento : \"\"}\n            onChange={obtenerCampos}\n          />\n        </Grid>\n        <Grid item md={4} xs={12}>\n          <Typography className={classes.title}>Limite de crdito</Typography>\n          <TextField\n            fullWidth\n            size=\"small\"\n            name=\"limite_credito\"\n            variant=\"outlined\"\n            value={cliente.limite_credito ? cliente.limite_credito : \"\"}\n            onChange={obtenerCampos}\n          />\n        </Grid>\n        <Grid item md={4} xs={12}>\n          <Typography className={classes.title}>Das de crdito</Typography>\n          <TextField\n            fullWidth\n            size=\"small\"\n            name=\"dias_credito\"\n            variant=\"outlined\"\n            value={\n              cliente.dias_credito ? cliente.dias_credito : \"\"\n            }\n            onChange={obtenerCampos}\n          />\n        </Grid>\n      </Grid>\n      {tipo !== \"CLIENTE\" ? (\n        <Fragment>\n          <Box my={3}>\n            <Typography className={classes.title}>\n              Datos bancarios\n            </Typography>\n            <Divider />\n          </Box>\n          <Grid container spacing={2}>\n            <Grid item md={6} xs={12}>\n              <Typography className={classes.title}>Banco</Typography>\n              <TextField\n                fullWidth\n                size=\"small\"\n                name=\"banco\"\n                variant=\"outlined\"\n                value={cliente.banco ? cliente.banco : \"\"}\n                onChange={obtenerCampos}\n              />\n            </Grid>\n            <Grid item md={6} xs={12}>\n              <Typography className={classes.title}>\n                No. de Cuenta Bancaria\n              </Typography>\n              <TextField\n                fullWidth\n                size=\"small\"\n                name=\"numero_cuenta\"\n                variant=\"outlined\"\n                value={cliente.numero_cuenta ? cliente.numero_cuenta : \"\"}\n                onChange={obtenerCampos}\n              />\n            </Grid>\n          </Grid>\n        </Fragment>\n      ) : null}\n    </Fragment>\n  );\n}\n","import { gql } from '@apollo/client';\n\nexport const CREAR_CLIENTE = gql`\n\tmutation crearCliente($input: CrearClienteInput) {\n\t\tcrearCliente(input: $input) {\n\t\t\t_id\n\t\t\tnumero_cliente\n\t\t\tclave_cliente\n\t\t\trepresentante\n\t\t\tnombre_cliente\n\t\t\trfc\n\t\t\tcurp\n\t\t\ttelefono\n\t\t\tcelular\n\t\t\temail\n\t\t\tnumero_descuento\n\t\t\tlimite_credito\n\t\t\tdias_credito\n\t\t\trazon_social\n\t\t\tdireccion {\n\t\t\t\tcalle\n\t\t\t\tno_ext\n\t\t\t\tno_int\n\t\t\t\tcodigo_postal\n\t\t\t\tcolonia\n\t\t\t\tmunicipio\n\t\t\t\tlocalidad\n\t\t\t\testado\n\t\t\t\tpais\n\t\t\t}\n\t\t\timagen\n\t\t\testado_cliente\n\t\t\ttipo_cliente\n\t\t}\n\t}\n`;\n\nexport const OBTENER_CLIENTES = gql`\n\tquery obtenerClientes($tipo: String!, $filtro: String) {\n\t\tobtenerClientes(tipo: $tipo, filtro: $filtro) {\n\t\t\t_id\n\t\t\tnumero_cliente\n\t\t\tclave_cliente\n\t\t\trepresentante\n\t\t\tnombre_cliente\n\t\t\trfc\n\t\t\tcurp\n\t\t\ttelefono\n\t\t\tcelular\n\t\t\temail\n\t\t\tnumero_descuento\n\t\t\tlimite_credito\n\t\t\tdias_credito\n\t\t\trazon_social\n\t\t\tdireccion {\n\t\t\t\tcalle\n\t\t\t\tno_ext\n\t\t\t\tno_int\n\t\t\t\tcodigo_postal\n\t\t\t\tcolonia\n\t\t\t\tmunicipio\n\t\t\t\tlocalidad\n\t\t\t\testado\n\t\t\t\tpais\n\t\t\t}\n\t\t\timagen\n\t\t\testado_cliente\n\t\t\ttipo_cliente\n\t\t\tbanco\n\t\t\tnumero_cuenta\n\t\t\tempresa {\n\t\t\t\t_id\n\t\t\t\tnombre_empresa\n\t\t\t\tcorreo_empresa\n\t\t\t\tnombre_dueno\n\t\t\t\ttelefono_dueno\n\t\t\t\tsucursales_activas\n\t\t\t\tlimite_sucursales\n\t\t\t}\n\t\t\tsucursal {\n\t\t\t\t_id\n\t\t\t\tnombre_sucursal\n\t\t\t\tdescripcion\n\t\t\t}\n\t\t\tmonedero_electronico\n\t\t\tfecha_nacimiento\n    \t\tfecha_registro\n\t\t\teliminado\n\t\t}\n\t}\n`;\n\nexport const ACTUALIZAR_CLIENTE = gql`\n\tmutation actualizarCliente($input: ActualizarClienteInput, $id: ID!) {\n\t\tactualizarCliente(id: $id, input: $input) {\n\t\t\tmessage\n\t\t}\n\t}\n`;\nexport const ELIMINAR_CLIENTE = gql`\n\tmutation eliminarCliente($id: ID!) {\n\t\teliminarCliente(id: $id) {\n\t\t\tmessage\n\t\t}\n\t}\n`;\n","import React, { useState, Fragment, useContext, useCallback } from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport Box from \"@material-ui/core/Box\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Divider from \"@material-ui/core/Divider\";\nimport Container from \"@material-ui/core/Container\";\nimport RegistrarInfoBasica from \"./RegistrarInfoBasica\";\nimport RegistrarInfoCredito from \"./RegistroInfoCredito\";\nimport { Add, Close, Done, Edit } from \"@material-ui/icons\";\nimport { ClienteCtx } from \"../../../../context/Catalogos/crearClienteCtx\";\n// import { VentasContext } from \"../../../../context/Ventas/ventasContext\";\nimport BackdropComponent from \"../../../../components/Layouts/BackDrop\";\nimport SnackBarMessages from \"../../../../components/SnackBarMessages\";\n\nimport { useMutation } from \"@apollo/client\";\nimport {\n  CREAR_CLIENTE,\n  ACTUALIZAR_CLIENTE,\n} from \"../../../../gql/Catalogos/clientes\";\nimport { Toolbar } from \"@material-ui/core\";\n\nexport default function CrearCliente({\n  tipo,\n  accion,\n  datos,\n  refetch,\n  ventas,\n  handleClickOpen,\n}) {\n  const {\n    cliente,\n    setCliente,\n    setError,\n    update,\n    setUpdate,\n    updateClientVenta,\n    setUpdateClientVenta,\n  } = useContext(ClienteCtx);\n  const [open, setOpen] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [alert, setAlert] = useState({ message: \"\", status: \"\", open: false });\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n\n  const limpiarCampos = useCallback(() => {\n    setCliente({\n      direccion: {\n        calle: \"\",\n        no_ext: \"\",\n        no_int: \"\",\n        codigo_postal: \"\",\n        colonia: \"\",\n        municipio: \"\",\n        localidad: \"\",\n        estado: \"\",\n        pais: \"\",\n      },\n      estado_cliente: true,\n    });\n  }, [setCliente]);\n\n  const toggleModal = () => {\n    setOpen(true);\n    if (datos) {\n      setCliente(datos);\n    }\n  };\n\n  const onCloseModal = () => {\n    setOpen(false);\n    limpiarCampos();\n  };\n\n  /* Mutations */\n  const [crearCliente] = useMutation(CREAR_CLIENTE);\n  const [actualizarCliente] = useMutation(ACTUALIZAR_CLIENTE);\n\n  const saveData = async () => {\n    let copy_cliente = { ...cliente };\n    if (\n      !copy_cliente.clave_cliente ||\n      !copy_cliente.nombre_cliente ||\n      !copy_cliente.telefono ||\n      !copy_cliente.email ||\n      !copy_cliente.direccion.calle ||\n      !copy_cliente.direccion.municipio ||\n      !copy_cliente.direccion.estado ||\n      !copy_cliente.direccion.pais\n    ) {\n      if (tipo !== \"CLIENTE\" && !copy_cliente.representante) {\n        setError(true);\n        return;\n      }\n      setError(true);\n      return;\n    }\n    setLoading(true);\n    try {\n      if (accion === \"registrar\") {\n        copy_cliente.tipo_cliente = tipo;\n        copy_cliente.empresa = sesion.empresa._id;\n        copy_cliente.sucursal = sesion.sucursal._id;\n        if (tipo === \"CLIENTE\") {\n          copy_cliente.representante = \"\";\n        }\n        const input = copy_cliente;\n        const clienteBase = await crearCliente({\n          variables: {\n            input,\n          },\n        });\n\n        if (ventas === true) {\n          const venta = JSON.parse(localStorage.getItem(\"DatosVentas\"));\n          let venta_actual = venta === null ? {} : venta;\n          // console.log(venta_actual);\n          localStorage.setItem(\n            \"DatosVentas\",\n            JSON.stringify({\n              subTotal:\n                venta_actual.subTotal === undefined ? 0 : venta_actual.subTotal,\n              total: venta_actual.total === undefined ? 0 : venta_actual.total,\n              impuestos:\n                venta_actual.impuestos === undefined\n                  ? 0\n                  : venta_actual.impuestos,\n              iva: venta_actual.iva === undefined ? 0 : venta_actual.iva,\n              ieps: venta_actual.ieps === undefined ? 0 : venta_actual.ieps,\n              descuento:\n                venta_actual.descuento === undefined\n                  ? 0\n                  : venta_actual.descuento,\n              monedero:\n                venta_actual.monedero === undefined ? 0 : venta_actual.monedero,\n              tipo_cambio: venta_actual.tipo_cambio\n                ? venta_actual.tipo_cambio\n                : {},\n              cliente: clienteBase.data.crearCliente,\n              venta_cliente: true,\n              productos:\n                venta_actual.productos?.length > 0\n                  ? venta_actual.productos\n                  : [],\n            })\n          );\n          setUpdateClientVenta(!updateClientVenta);\n          onCloseModal();\n          handleClickOpen();\n        }\n      } else {\n        const {\n          numero_cliente,\n          _id,\n          clave_cliente,\n          sucursal,\n          empresa,\n          ...input\n        } = copy_cliente;\n        await actualizarCliente({\n          variables: {\n            input: input,\n            id: copy_cliente._id,\n          },\n        });\n      }\n      if (refetch) {\n        refetch();\n      }\n      setUpdate(!update);\n      setAlert({ message: \"Listo!\", status: \"success\", open: true });\n      setError(false);\n      setLoading(false);\n      onCloseModal();\n    } catch (error) {\n      setAlert({ message: error.message, status: \"error\", open: true });\n      setLoading(false);\n      console.log(error);\n      if (error.networkError) {\n        console.log(error.networkError.result);\n      } else if (error.graphQLErrors) {\n        console.log(error.graphQLErrors);\n      }\n    }\n  };\n\n  return (\n    <Fragment>\n      <SnackBarMessages alert={alert} setAlert={setAlert} />\n      {accion === \"registrar\" ? (\n        refetch ? (\n          <IconButton color=\"primary\" onClick={toggleModal}>\n            <Add />\n          </IconButton>\n        ) : (\n          <Button\n            color=\"primary\"\n            variant=\"contained\"\n            size=\"large\"\n            onClick={toggleModal}\n            startIcon={<Add />}\n          >\n            Agregar\n          </Button>\n        )\n      ) : (\n        <IconButton onClick={toggleModal}>\n          <Edit />\n        </IconButton>\n      )}\n      <Dialog open={open} onClose={onCloseModal} fullWidth maxWidth=\"md\">\n        <DialogTitle style={{ padding: 0 }}>\n          <BackdropComponent loading={loading} setLoading={setLoading} />\n          <AppBar position=\"static\" color=\"default\" elevation={0}>\n            <Toolbar>\n              <Typography variant=\"h6\">{accion === \"registrar\" ? \"Registrar\" : \"Actualizar\"}</Typography>\n              <Box flexGrow={1} />\n              <Button\n                variant=\"contained\"\n                color=\"secondary\"\n                size=\"large\"\n                onClick={() => onCloseModal()}\n              >\n                <Close />\n              </Button>\n            </Toolbar>\n          </AppBar>\n        </DialogTitle>\n        <DialogContent>\n          <Container>\n            <Typography>\n              <b>Informacin bsica</b>\n            </Typography>\n            <Divider />\n            <RegistrarInfoBasica tipo={tipo} accion={accion} />\n            <Box my={2} />\n            <Typography>\n              <b>Informacin de credito</b>\n            </Typography>\n            <Divider />\n            <RegistrarInfoCredito tipo={tipo} accion={accion} />\n          </Container>\n        </DialogContent>\n        <DialogActions>\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={saveData}\n            size=\"large\"\n            startIcon={<Done />}\n          >\n            Guardar\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </Fragment>\n  );\n}\n","import { gql } from \"@apollo/client\";\n\nexport const CREAR_COMPRA = gql`\n  mutation crearCompra(\n    $input: CrearCompraInput\n    $empresa: ID!\n    $sucursal: ID!\n    $usuario: ID!\n  ) {\n    crearCompra(\n      input: $input\n      empresa: $empresa\n      sucursal: $sucursal\n      usuario: $usuario\n    ) {\n      message\n    }\n  }\n`;\n\nexport const CREAR_COMPRA_ESPERA = gql`\n  mutation crearCompraEnEspera(\n    $input: CrearCompraInput\n    $empresa: ID!\n    $sucursal: ID!\n    $usuario: ID!\n  ) {\n    crearCompraEnEspera(\n      input: $input\n      empresa: $empresa\n      sucursal: $sucursal\n      usuario: $usuario\n    ) {\n      message\n    }\n  }\n`;\n\nexport const OBTENER_COMPRAS_REALIZADAS = gql`\n  query obtenerComprasRealizadas(\n    $empresa: ID!\n    $sucursal: ID!\n    $filtro: String\n    $fecha: String\n  ) {\n    obtenerComprasRealizadas(\n      empresa: $empresa\n      sucursal: $sucursal\n      filtro: $filtro\n      fecha: $fecha\n    ) {\n      _id\n      usuario {\n        _id\n        numero_usuario\n        nombre\n        estado_usuario\n      }\n      empresa {\n        _id\n        nombre_empresa\n      }\n      sucursal {\n        _id\n        nombre_sucursal\n      }\n      proveedor {\n        id_proveedor {\n          _id\n          numero_cliente\n          clave_cliente\n          nombre_cliente\n          telefono\n          email\n        }\n        numero_cliente\n        clave_cliente\n        nombre_cliente\n      }\n      productos {\n        _id\n        id_compra\n        id_traspaso\n        id_producto\n        producto {\n          almacen_inicial {\n            almacen\n            cantidad\n            fecha_de_expiracion\n            id_almacen\n          }\n          datos_generales {\n            codigo_barras\n            clave_alterna\n            tipo_producto\n            nombre_comercial\n            nombre_generico\n            descripcion\n            id_categoria\n            categoria\n            subcategoria\n            id_subcategoria\n            id_departamento\n            departamento\n            id_marca\n            marca\n            clave_producto_sat {\n              Name\n              Value\n            }\n            receta_farmacia\n          }\n          precios {\n            ieps\n            ieps_activo\n            iva\n            iva_activo\n            monedero\n            monedero_electronico\n            granel\n            inventario {\n              inventario_minimo\n              inventario_maximo\n              unidad_de_inventario\n            }\n            precio_de_compra {\n              precio_con_impuesto\n              precio_sin_impuesto\n              iva\n              ieps\n            }\n            precios_producto {\n              numero_precio\n              precio_neto\n              precio_venta\n              unidad_mayoreo\n              utilidad\n            }\n            unidad_de_compra {\n              cantidad\n              precio_unitario_con_impuesto\n              precio_unitario_sin_impuesto\n              unidad\n            }\n          }\n          unidades_de_venta {\n            _id\n            cantidad\n            codigo_barras\n            id_producto\n            precio\n            unidad\n            unidad_principal\n          }\n        }\n        concepto\n        cantidad\n        cantidad_regalo\n        cantidad_total\n        costo\n        descuento_porcentaje\n        descuento_precio\n        impuestos\n        mantener_precio\n        subtotal\n        total\n        medida {\n          id_medida\n          medida\n          tipo\n        }\n        color {\n          id_color\n          color\n          hex\n        }\n        unidad\n        id_unidad_venta\n        empresa\n        sucursal\n        usuario\n        year_registro\n        numero_semana_year\n        numero_mes_year\n        fecha_registro\n      }\n      almacen {\n        id_almacen {\n          _id\n          nombre_almacen\n          id_usuario_encargado {\n            _id\n            numero_usuario\n            nombre\n          }\n        }\n        nombre_almacen\n      }\n      compra_credito\n      credito_pagado\n      saldo_credito_pendiente\n      fecha_vencimiento_credito\n      subtotal\n      impuestos\n      total\n      year_registro\n      numero_semana_year\n      numero_mes_year\n      fecha_registro\n    }\n  }\n`;\n\nexport const OBTENER_COMPRAS_ESPERA = gql`\n  query obtenerComprasEnEspera($empresa: ID!, $sucursal: ID!, $filtro: String) {\n    obtenerComprasEnEspera(\n      empresa: $empresa\n      sucursal: $sucursal\n      filtro: $filtro\n    ) {\n      _id\n      en_espera\n      proveedor {\n        id_proveedor\n        clave_cliente\n        numero_cliente\n        nombre_cliente\n      }\n      almacen {\n        id_almacen\n        nombre_almacen\n      }\n      productos {\n        producto {\n          almacen_inicial {\n            almacen\n            cantidad\n            fecha_de_expiracion\n            id_almacen\n          }\n          datos_generales {\n            codigo_barras\n            clave_alterna\n            tipo_producto\n            nombre_comercial\n            nombre_generico\n            descripcion\n            id_categoria\n            categoria\n            subcategoria\n            id_subcategoria\n            id_departamento\n            departamento\n            id_marca\n            marca\n            clave_producto_sat {\n              Name\n              Value\n            }\n            receta_farmacia\n          }\n          precios {\n            ieps\n            ieps_activo\n            iva\n            iva_activo\n            monedero\n            monedero_electronico\n            precio_de_compra {\n              ieps\n              iva\n              precio_con_impuesto\n              precio_sin_impuesto\n            }\n            precios_producto {\n              numero_precio\n              precio_neto\n              precio_venta\n              iva_precio\n              ieps_precio\n              utilidad\n              precio_general\n              cantidad_unidad\n              unidad_maxima\n            }\n            unidad_de_compra {\n              cantidad\n              precio_unitario_con_impuesto\n              precio_unitario_sin_impuesto\n              unidad\n            }\n            inventario {\n              inventario_minimo\n              inventario_maximo\n              unidad_de_inventario\n            }\n            granel\n          }\n          imagenes {\n            url_imagen\n            location_imagen\n            key_imagen\n            extencion_imagen\n          }\n          centro_de_costos {\n            cuenta\n            id_cuenta\n            id_subcuenta\n            subcuenta\n          }\n          precio_plazos {\n            precio_cajas {\n              plazo\n              unidad\n              precio\n            }\n            precio_costales {\n              plazo\n              unidad\n              precio\n            }\n            precio_piezas {\n              plazo\n              unidad\n              precio\n            }\n          }\n          empresa\n          sucursal\n          usuario\n          unidades_de_venta {\n            _id\n            precio\n            cantidad\n            unidad\n            unidad_principal\n            codigo_barras\n            id_producto\n            descuento {\n              cantidad_unidad\n              numero_precio\n              unidad_maxima\n              precio_general\n              precio_neto\n              precio_venta\n              iva_precio\n              ieps_precio\n              utilidad\n              porciento\n              dinero_descontado\n            }\n            descuento_activo\n            default\n            precio_unidad {\n              numero_precio\n              precio_neto\n              precio_venta\n              iva_precio\n              unidad_mayoreo\n              utilidad\n              precio_general\n              cantidad_unidad\n              unidad_maxima\n            }\n          }\n          presentaciones {\n            _id\n            almacen\n            cantidad\n            cantidad_nueva\n            codigo_barras\n            color {\n              hex\n              nombre\n              _id\n            }\n            descuento {\n              cantidad_unidad\n              numero_precio\n              unidad_maxima\n              precio_general\n              precio_neto\n              precio_venta\n              iva_precio\n              ieps_precio\n              utilidad\n              porciento\n              dinero_descontado\n            }\n            descuento_activo\n            existencia\n            medida {\n              talla\n              tipo\n              _id\n            }\n            nombre_comercial\n            precio\n            precio_unidad {\n              numero_precio\n              precio_neto\n              precio_venta\n              iva_precio\n              unidad_mayoreo\n              utilidad\n              precio_general\n              cantidad_unidad\n              unidad_maxima\n            }\n          }\n        }\n        id_producto\n        cantidad\n        cantidad_regalo\n        unidad_regalo\n        cantidad_total\n        iva_total\n        ieps_total\n        costo\n        descuento_porcentaje\n        descuento_precio\n        impuestos\n        mantener_precio\n        subtotal\n        total\n        subtotal_descuento\n        total_descuento\n      }\n      impuestos\n      subtotal\n      total\n      fecha_registro\n    }\n  }\n`;\n\nexport const OBTENER_CONSULTA_GENERAL_PRODUCTO = gql`\n  query obtenerConsultaGeneralCompras($empresa: ID!, $sucursal: ID!) {\n    obtenerConsultaGeneralCompras(empresa: $empresa, sucursal: $sucursal) {\n      productos {\n        _id\n        datos_generales {\n          codigo_barras\n          clave_alterna\n          tipo_producto\n          nombre_comercial\n          nombre_generico\n          descripcion\n          descripcion\n          id_categoria\n          categoria\n          subcategoria\n          id_subcategoria\n          id_departamento\n          departamento\n          id_marca\n          marca\n          clave_producto_sat {\n            Name\n            Value\n          }\n          receta_farmacia\n        }\n        precios {\n          ieps\n          ieps_activo\n          inventario {\n            inventario_minimo\n            inventario_maximo\n            unidad_de_inventario\n          }\n          iva\n          iva_activo\n          monedero\n          monedero_electronico\n          precio_de_compra {\n            precio_con_impuesto\n            precio_sin_impuesto\n            iva\n            ieps\n          }\n          precios_producto {\n            numero_precio\n            precio_neto\n            precio_venta\n            unidad_mayoreo\n            utilidad\n          }\n          unidad_de_compra {\n            cantidad\n            precio_unitario_con_impuesto\n            precio_unitario_sin_impuesto\n            unidad\n          }\n          granel\n        }\n        imagenes {\n          url_imagen\n          location_imagen\n          key_imagen\n          extencion_imagen\n        }\n        centro_de_costos {\n          cuenta\n          id_cuenta\n          id_subcuenta\n          subcuenta\n        }\n        precio_plazos {\n          precio_cajas {\n            plazo\n            unidad\n            precio\n          }\n          precio_costales {\n            plazo\n            unidad\n            precio\n          }\n          precio_piezas {\n            plazo\n            unidad\n            precio\n          }\n        }\n        unidades_de_venta {\n          _id\n          precio\n          cantidad\n          concepto\n          unidad\n          unidad_principal\n          codigo_barras\n          id_producto\n          empresa\n          sucursal\n          descuento {\n            cantidad_unidad\n            numero_precio\n            unidad_maxima\n            precio_general\n            precio_neto\n            precio_venta\n            iva_precio\n            ieps_precio\n            utilidad\n            porciento\n            dinero_descontado\n          }\n          descuento_activo\n          default\n        }\n        inventario_general {\n          _id\n          cantidad_existente\n          unidad_inventario\n          cantidad_existente_maxima\n          unidad_maxima\n        }\n        medidas_producto {\n          _id\n          cantidad\n          codigo_barras\n          color {\n            hex\n            nombre\n            _id\n          }\n          existencia\n          medida {\n            talla\n            tipo\n            _id\n          }\n          nombre_comercial\n          precio\n        }\n        medidas_registradas\n        empresa\n        sucursal\n        usuario\n      }\n      proveedores {\n        _id\n        numero_cliente\n        clave_cliente\n        representante\n        nombre_cliente\n        rfc\n        curp\n        telefono\n        celular\n        email\n        numero_descuento\n        limite_credito\n        dias_credito\n        razon_social\n        direccion {\n          calle\n          no_ext\n          no_int\n          codigo_postal\n          colonia\n          municipio\n          localidad\n          estado\n          pais\n        }\n        imagen\n        estado_cliente\n        tipo_cliente\n        banco\n        numero_cuenta\n        empresa {\n          _id\n        }\n        sucursal {\n          _id\n        }\n      }\n      almacenes {\n        _id\n        nombre_almacen\n        id_usuario_encargado {\n          _id\n          numero_usuario\n          nombre\n          email\n          imagen\n          estado_usuario\n        }\n        id_sucursal {\n          _id\n          nombre_sucursal\n          usuario_sucursal\n        }\n        direccion {\n          calle\n          no_ext\n          no_int\n          codigo_postal\n          colonia\n          municipio\n          localidad\n          estado\n          pais\n        }\n      }\n    }\n  }\n`;\n\nexport const ELIMINAR_COMPRA_ESPERA = gql`\n  mutation eliminarCompraEnEspera($id: ID!) {\n    eliminarCompraEnEspera(id: $id) {\n      message\n    }\n  }\n`;\n","import { initial_state_precios } from \"../../../../context/Catalogos/initialStatesProducto\";\nimport moment from 'moment';\n\nexport const initial_state_datosProducto = {\n  producto: {},\n  costo: 0,\n  cantidad: 0,\n  cantidad_regalo: 0,\n  unidad_regalo: '',\n  cantidad_total: 0,\n  descuento_porcentaje: 0,\n  descuento_precio: 0,\n  iva_total: 0,\n  ieps_total: 0,\n  subtotal: 0,\n  impuestos: 0,\n  total: 0,\n  mantener_precio: true,\n  subtotal_descuento: 0,\n  total_descuento: 0,\n};\n\nexport const initial_state_datosCompra = {\n  productos: [],\n    proveedor: {},\n    en_espera: false,\n    fecha_registro: moment().locale(\"es-mx\").format(),\n    almacen: {},\n    compra_credito: false,\n    fecha_vencimiento_credito: moment().locale(\"es-mx\").format(),\n    credito_pagado: false,\n    saldo_credito_pendiente: 0,\n    forma_pago: \"\",\n    descuento_aplicado: false,\n    descuento: {\n      porcentaje: 0,\n      cantidad_descontada: 0,\n      precio_con_descuento: 0\n    },\n    subtotal: 0,\n    impuestos: 0,\n    total: 0,\n};\n\nexport const initial_state_precios_venta = [\n  {\n    numero_precio: 1,\n    utilidad: 0,\n    precio_neto: 0,\n    unidad_mayoreo: 0,\n    precio_venta: 0,\n    iva_precio: 0,\n    ieps_precio: 0,\n  },\n  {\n    numero_precio: 2,\n    utilidad: 0,\n    precio_neto: 0,\n    unidad_mayoreo: 0,\n    precio_venta: 0,\n    iva_precio: 0,\n    ieps_precio: 0,\n  },\n  {\n    numero_precio: 3,\n    utilidad: 0,\n    precio_neto: 0,\n    unidad_mayoreo: 0,\n    precio_venta: 0,\n    iva_precio: 0,\n    ieps_precio: 0,\n  },\n  {\n    numero_precio: 4,\n    utilidad: 0,\n    precio_neto: 0,\n    unidad_mayoreo: 0,\n    precio_venta: 0,\n    iva_precio: 0,\n    ieps_precio: 0,\n  },\n  {\n    numero_precio: 5,\n    utilidad: 0,\n    precio_neto: 0,\n    unidad_mayoreo: 0,\n    precio_venta: 0,\n    iva_precio: 0,\n    ieps_precio: 0,\n  },\n  {\n    numero_precio: 6,\n    utilidad: 0,\n    precio_neto: 0,\n    unidad_mayoreo: 0,\n    precio_venta: 0,\n    iva_precio: 0,\n    ieps_precio: 0,\n  },\n];\n\nexport const initial_state_productoOriginal = {\n  precios: initial_state_precios,\n};\nexport const initial_state_productosCompra = [];\n","import React, { Fragment, useContext } from \"react\";\nimport {\n  Box,\n  CircularProgress,\n  Grid,\n  IconButton,\n  TextField,\n} from \"@material-ui/core\";\nimport { Autocomplete } from \"@material-ui/lab\";\nimport { ClienteProvider } from \"../../../../../context/Catalogos/crearClienteCtx\";\nimport { AlmacenProvider } from \"../../../../../context/Almacenes/crearAlmacen\";\nimport { ComprasContext } from \"../../../../../context/Compras/comprasContext\";\nimport RegistroProvedor from \"../../../Catalogos/Cliente/CrearCliente\";\nimport RegistroAlmacen from \"../../../Almacenes/RegistroAlmacen/ContainerRegistroAlmacen\";\nimport { RegProductoContext } from \"../../../../../context/Catalogos/CtxRegProducto\";\n\nimport { useQuery } from \"@apollo/client\";\nimport { OBTENER_CONSULTA_GENERAL_PRODUCTO } from \"../../../../../gql/Compras/compras\";\nimport { ErrorOutline } from \"@material-ui/icons\";\nimport { initial_state_datosProducto } from \"../initial_states\";\nimport {\n  initial_state_almacen_inicial,\n  initial_state_datos_generales,\n  initial_state_precios,\n  initial_state_preciosP,\n  initial_state_preciosPlazos,\n  initial_state_unidadVentaXDefecto,\n} from \"../../../../../context/Catalogos/initialStatesProducto\";\n\nexport default function DatosProveedorAlmacen({\n  refetchProductos,\n  getProductos,\n  status,\n}) {\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n  const {\n    datosCompra,\n    setDatosCompra,\n    setDatosProducto,\n    productosCompra,\n  } = useContext(ComprasContext);\n\n  const {\n    setDatosGenerales,\n    setPrecios,\n    setValidacion,\n    setPreciosP,\n    setImagenes,\n    setUnidadesVenta,\n    almacen_inicial,\n    setAlmacenInicial,\n    setUnidadVentaXDefecto,\n    setCentroDeCostos,\n    setPreciosPlazos,\n    setSubcategorias,\n    setOnPreview,\n    setSubcostos,\n    setImagenesEliminadas,\n    setPresentaciones,\n    setPresentacionesEliminadas,\n  } = useContext(RegProductoContext);\n\n  /* Queries */\n  const { loading, data, error, refetch } = useQuery(\n    OBTENER_CONSULTA_GENERAL_PRODUCTO,\n    {\n      variables: { sucursal: sesion.sucursal._id, empresa: sesion.empresa._id },\n    }\n  );\n\n  const obtenerProveedorAlmacen = (tipo, value) => {\n    if (!value) {\n      setDatosCompra({ ...datosCompra, [tipo]: {} });\n      return;\n    }\n    if (tipo === \"proveedor\") {\n      setDatosCompra({\n        ...datosCompra,\n        proveedor: {\n          id_proveedor: value._id,\n          nombre_cliente: value.nombre_cliente,\n          numero_cliente: value.numero_cliente,\n          clave_cliente: value.clave_cliente,\n        },\n      });\n    } else {\n      setDatosProducto(initial_state_datosProducto);\n      resetInitialStates();\n      setDatosCompra({\n        ...datosCompra,\n        almacen: {\n          id_almacen: value._id,\n          nombre_almacen: value.nombre_almacen,\n        },\n      });\n      setAlmacenInicial({\n        ...almacen_inicial,\n        id_almacen: value._id,\n        almacen: value.nombre_almacen,\n      });\n      getProductos({\n        variables: {\n          almacen: value._id,\n          empresa: sesion.empresa._id,\n          sucursal: sesion.sucursal._id,\n        },\n      });\n    }\n  };\n\n  const resetInitialStates = () => {\n    setDatosGenerales(initial_state_datos_generales);\n    setPrecios(initial_state_precios);\n    setUnidadVentaXDefecto(initial_state_unidadVentaXDefecto);\n    setPreciosP(initial_state_preciosP);\n    setUnidadesVenta([]);\n    setAlmacenInicial(initial_state_almacen_inicial);\n    setCentroDeCostos({});\n    setPreciosPlazos(initial_state_preciosPlazos);\n    setSubcategorias([]);\n    setImagenes([]);\n    setOnPreview({ index: \"\", image: \"\" });\n    setValidacion({ error: false, message: \"\" });\n    setSubcostos([]);\n    setImagenesEliminadas([]);\n    setPresentaciones([]);\n    setPresentacionesEliminadas([]);\n  };\n\n  const errorRender = (\n    <Grid item xs={12} md={4}>\n      <Box display=\"flex\" alignItems=\"center\">\n        <TextField\n          size=\"small\"\n          fullWidth\n          value=\"Error\"\n          error\n          disabled\n          variant=\"outlined\"\n        />\n        <IconButton disabled>\n          <ErrorOutline fontSize=\"default\" />\n        </IconButton>\n      </Box>\n    </Grid>\n  );\n\n  const loadingRender = (\n    <Grid item xs={12} md={4}>\n      <Box display=\"flex\" alignItems=\"center\">\n        <TextField\n          size=\"small\"\n          fullWidth\n          disabled\n          value=\"Cargando...\"\n          variant=\"outlined\"\n        />\n        <IconButton disabled>\n          <CircularProgress size={24} />\n        </IconButton>\n      </Box>\n    </Grid>\n  );\n\n  if (loading)\n    return (\n      <Grid container spacing={2} alignItems=\"center\">\n        {loadingRender}\n        {loadingRender}\n        {loadingRender}\n      </Grid>\n    );\n  if (error) {\n    return (\n      <Fragment>\n        <Grid container spacing={2} alignItems=\"center\">\n          {errorRender}\n          {errorRender}\n          {errorRender}\n        </Grid>\n      </Fragment>\n    );\n  }\n\n  const { almacenes, proveedores } = data.obtenerConsultaGeneralCompras;\n\n  return (\n    <Fragment>\n      <Grid container spacing={2} alignItems=\"center\">\n        <Grid item xs={12} md={4}>\n          <Box display=\"flex\" alignItems=\"center\">\n            <Autocomplete\n              disabled={productosCompra.length > 0}\n              id=\"combo-box-proveedor\"\n              size=\"small\"\n              fullWidth\n              options={proveedores}\n              getOptionLabel={(option) => option.nombre_cliente}\n              renderInput={(params) => (\n                <TextField {...params} label=\"Proveedor\" variant=\"outlined\" />\n              )}\n              onChange={(_, value) =>\n                obtenerProveedorAlmacen(\"proveedor\", value)\n              }\n              getOptionSelected={(option) => option.nombre_cliente}\n              value={\n                datosCompra.proveedor.nombre_cliente\n                  ? datosCompra.proveedor\n                  : null\n              }\n            />\n            <ClienteProvider>\n              <RegistroProvedor\n                accion=\"registrar\"\n                tipo=\"PROVEEDOR\"\n                refetch={refetch}\n              />\n            </ClienteProvider>\n          </Box>\n        </Grid>\n        <Grid item xs={12} md={4}>\n          <Box display=\"flex\" alignItems=\"center\">\n            <Autocomplete\n              disabled={productosCompra.length > 0}\n              id=\"combo-box-almacen\"\n              size=\"small\"\n              fullWidth\n              options={almacenes}\n              getOptionLabel={(option) => option.nombre_almacen}\n              renderInput={(params) => (\n                <TextField {...params} label=\"Almacen\" variant=\"outlined\" />\n              )}\n              onChange={(_, value) => obtenerProveedorAlmacen(\"almacen\", value)}\n              getOptionSelected={(option) => option.nombre_almacen}\n              value={\n                datosCompra.almacen.nombre_almacen ? datosCompra.almacen : null\n              }\n            />\n            <AlmacenProvider>\n              <RegistroAlmacen accion=\"registrar\" refetch={refetch} />\n            </AlmacenProvider>\n          </Box>\n        </Grid>\n        <Grid item xs={12} md={4}>\n          <Box display=\"flex\" alignItems=\"center\">\n            <TextField\n              fullWidth\n              size=\"small\"\n              variant=\"outlined\"\n              type=\"date\"\n              onChange={(e) => {\n                console.log(e.target.value);\n                setDatosCompra({\n                  ...datosCompra,\n                  fecha_registro: e.target.value,\n                });\n              }}\n              value={datosCompra.fecha_registro}\n            />\n          </Box>\n        </Grid>\n      </Grid>\n    </Fragment>\n  );\n}\n","import { Grid, Typography } from \"@material-ui/core\";\nimport React, { useContext } from \"react\";\nimport { formatoMexico } from \"../../../../../config/reuserFunctions\";\nimport { RegProductoContext } from \"../../../../../context/Catalogos/CtxRegProducto\";\nimport { ComprasContext } from \"../../../../../context/Compras/comprasContext\";\n\nexport default function MostrarPrecios() {\n  const { datosProducto } = useContext(ComprasContext);\n  const { presentaciones } = useContext(RegProductoContext);\n\n  if (presentaciones.length > 0) {\n    let cantida_suma = 0;\n    let cantidad_total = 0;\n    presentaciones.forEach((presentacion) => {\n      const { cantidad, cantidad_nueva } = presentacion;\n      let nueva = cantidad_nueva ? cantidad_nueva : 0;\n\n      cantida_suma += cantidad + nueva;\n    });\n    if (isNaN(cantida_suma)) cantidad_total = 0;\n    cantidad_total = cantida_suma; \n\n    return (\n      <Grid container spacing={2}>\n        <Grid item>\n          <Typography style={{ fontSize: 16 }}>Subtotal:</Typography>\n          <Typography style={{ fontSize: 18 }}>\n            <b>${formatoMexico(datosProducto.subtotal_descuento * cantidad_total)}</b>\n          </Typography>\n        </Grid>\n        <Grid item>\n          <Typography style={{ fontSize: 16 }}>Impuestos:</Typography>\n          <Typography style={{ fontSize: 18 }}>\n            <b>${formatoMexico(datosProducto.impuestos * cantidad_total)}</b>\n          </Typography>\n        </Grid>\n        <Grid item>\n          <Typography style={{ fontSize: 16 }}>Descuento:</Typography>\n          <Typography style={{ fontSize: 18 }}>\n            <b>{datosProducto.descuento_porcentaje}%</b>\n          </Typography>\n        </Grid>\n        <Grid item>\n          <Typography style={{ fontSize: 16 }}>Total:</Typography>\n          <Typography style={{ fontSize: 18 }}>\n            <b>\n              $\n              {formatoMexico(\n                datosProducto.total_descuento * cantidad_total\n              )}\n            </b>\n          </Typography>\n        </Grid>\n      </Grid>\n    );\n  } else {\n    return (\n      <Grid container spacing={2}>\n        <Grid item>\n          <Typography style={{ fontSize: 16 }}>Subtotal:</Typography>\n          <Typography style={{ fontSize: 18 }}>\n            <b>${formatoMexico(datosProducto.subtotal_descuento * datosProducto.cantidad)}</b>\n          </Typography>\n        </Grid>\n        <Grid item>\n          <Typography style={{ fontSize: 16 }}>Impuestos:</Typography>\n          <Typography style={{ fontSize: 18 }}>\n            <b>${formatoMexico(datosProducto.impuestos * datosProducto.cantidad)}</b>\n          </Typography>\n        </Grid>\n        <Grid item>\n          <Typography style={{ fontSize: 16 }}>Descuento:</Typography>\n          <Typography style={{ fontSize: 18 }}>\n            <b>{datosProducto.descuento_porcentaje}%</b>\n          </Typography>\n        </Grid>\n        <Grid item>\n          <Typography style={{ fontSize: 16 }}>Total:</Typography>\n          <Typography style={{ fontSize: 18 }}>\n            <b>\n              $\n              {formatoMexico(\n                datosProducto.total_descuento * datosProducto.cantidad\n              )}\n            </b>\n          </Typography>\n        </Grid>\n      </Grid>\n    );\n  }\n}\n","import React, {\n  Fragment,\n  useContext,\n  useState,\n  forwardRef,\n  useEffect,\n} from \"react\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Box from \"@material-ui/core/Box\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Typography from \"@material-ui/core/Typography\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\n\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Select from \"@material-ui/core/Select\";\nimport Slide from \"@material-ui/core/Slide\";\n\nimport PreciosProductos from \"./PreciosProductos\";\nimport TallasProductos from \"./TallasProducto\";\nimport Add from \"@material-ui/icons/Add\";\n\nimport {\n  initial_state_almacen_inicial,\n  initial_state_centro_de_costos,\n  initial_state_datos_generales,\n  initial_state_precios,\n  initial_state_preciosPlazos,\n  initial_state_unidadVentaXDefecto,\n} from \"../../../../../context/Catalogos/initialStatesProducto\";\n\nimport CrearProducto, {\n  initial_state_preciosP,\n} from \"../../../Catalogos/Producto/crearProducto\";\nimport ErrorPage from \"../../../../../components/ErrorPage\";\nimport { ComprasContext } from \"../../../../../context/Compras/comprasContext\";\nimport { RegProductoContext } from \"../../../../../context/Catalogos/CtxRegProducto\";\nimport { useLazyQuery } from \"@apollo/client\";\nimport { OBTENER_PRODUCTOS } from \"../../../../../gql/Catalogos/productos\";\nimport PreciosDeVentaCompras from \"./PreciosVenta\";\nimport { validateJsonEdit } from \"../../../Catalogos/Producto/validateDatos\";\nimport { Alert, AlertTitle } from \"@material-ui/lab\";\nimport { InfoOutlined } from \"@material-ui/icons\";\nimport DescuentosInputs from \"./Descuentos\";\nimport DatosProveedorAlmacen from \"./DatosProveedorAlmacen\";\nimport { initial_state_datosProducto } from \"../initial_states\";\nimport MostrarPrecios from \"./mostrar_precios\";\nimport { useDebounce } from \"use-debounce/lib\";\n\nexport default function DatosProducto({ status }) {\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n  const {\n    datosProducto,\n    setDatosProducto,\n    productosCompra,\n    setProductosCompra,\n    datosCompra,\n    productoOriginal,\n    setProductoOriginal,\n    setPreciosVenta,\n    setDatosCompra,\n    isEditing,\n    setIsEditing,\n    editFinish,\n    setEditFinish,\n    costo,\n    setCosto,\n    cantidad,\n    setCantidad,\n    loadingProductos,\n    setLoadingProductos,\n  } = useContext(ComprasContext);\n  const {\n    datos_generales,\n    setDatosGenerales,\n    precios,\n    setPrecios,\n    setValidacion,\n    preciosP,\n    setPreciosP,\n    imagenes,\n    setImagenes,\n    unidadesVenta,\n    setUnidadesVenta,\n    almacen_inicial,\n    setAlmacenInicial,\n    unidadVentaXDefecto,\n    setUnidadVentaXDefecto,\n    centro_de_costos,\n    setCentroDeCostos,\n    preciosPlazos,\n    setPreciosPlazos,\n    setSubcategorias,\n    setOnPreview,\n    setSubcostos,\n    imagenes_eliminadas,\n    setImagenesEliminadas,\n    presentaciones,\n    setPresentaciones,\n    presentaciones_eliminadas,\n    setPresentacionesEliminadas,\n    setAlmacenExistente,\n  } = useContext(RegProductoContext);\n  const [verificate, setVerificate] = useState(false);\n\n  let count = 0;\n  if (status === \"enEspera\" && datosCompra) count = 1;\n\n  const [cargando, setCargando] = useState(false);\n\n  /* Queries */\n  const [getProductos, { loading, data, error, refetch }] = useLazyQuery(\n    OBTENER_PRODUCTOS,\n    {\n      variables: { empresa: sesion.empresa._id, sucursal: sesion.sucursal._id },\n      fetchPolicy: \"network-only\",\n    }\n  );\n\n  /* console.log(error.networkError.result);\n   */\n  const [COSTO] = useDebounce(costo, 500);\n  const [CANTIDAD] = useDebounce(cantidad, 500);\n\n  useEffect(() => {\n    if (loading) {\n      setLoadingProductos(true);\n    } else {\n      setLoadingProductos(false);\n    }\n  }, [loading]);\n\n  useEffect(() => {\n    if (data) obtenerCosto(COSTO);\n  }, [COSTO]);\n\n  useEffect(() => {\n    if (data) obtenerCantidad(CANTIDAD);\n  }, [CANTIDAD]);\n\n  useEffect(() => {\n    if (count === 1) {\n      getProductos({\n        variables: {\n          almacen: datosCompra.almacen._id,\n          empresa: sesion.empresa._id,\n          sucursal: sesion.sucursal._id,\n        },\n      });\n    }\n  }, [count]);\n\n  if (loading) {\n    return (\n      <Box\n        display=\"flex\"\n        flexDirection=\"column\"\n        justifyContent=\"center\"\n        alignItems=\"center\"\n        height=\"20vh\"\n      >\n        <CircularProgress />\n        <Typography variant=\"h5\">Cargando</Typography>\n      </Box>\n    );\n  }\n  if (error) {\n    return <ErrorPage error={error} altura={200} />;\n  }\n\n  let obtenerProductos = [];\n  if (data) obtenerProductos = data.obtenerProductos;\n\n  const obtenerSelectsProducto = (producto) => {\n    /* console.log(producto); */\n    if (!producto) {\n      setDatosProducto(initial_state_datosProducto);\n      setCosto(0);\n      setCantidad(0);\n      resetInitialStates();\n      return;\n    }\n\n    const {\n      ieps,\n      iva,\n      precio_con_impuesto,\n      precio_sin_impuesto,\n    } = producto.precios.precio_de_compra;\n\n    const impuestos = iva + ieps;\n\n    setDatosProducto({\n      ...datosProducto,\n      producto,\n      id_producto: producto._id,\n      costo: precio_con_impuesto,\n      cantidad: 1,\n      unidad_regalo: producto.precios.unidad_de_compra.unidad,\n      descuento_porcentaje: 0,\n      descuento_precio: 0,\n      subtotal: precio_sin_impuesto,\n      impuestos: parseFloat(impuestos.toFixed(6)),\n      total: precio_con_impuesto,\n      subtotal_descuento: precio_sin_impuesto,\n      total_descuento: precio_con_impuesto,\n    });\n    setInitialStates(producto);\n    setCosto(precio_con_impuesto);\n    setCantidad(1);\n    setProductoOriginal(producto);\n    setPreciosVenta(producto.precios.precios_producto);\n  };\n\n  const obtenerCantidad = (value) => {\n    if (!value) {\n      setDatosProducto({\n        ...datosProducto,\n        cantidad: \"\",\n      });\n      return;\n    }\n    setDatosProducto({\n      ...datosProducto,\n      cantidad: parseFloat(value),\n    });\n  };\n\n  const obtenerCantidadRegalo = (value) => {\n    if (!value) {\n      setDatosProducto({\n        ...datosProducto,\n        cantidad_regalo: \"\",\n      });\n      return;\n    }\n    setDatosProducto({\n      ...datosProducto,\n      cantidad_regalo: parseFloat(value),\n    });\n  };\n\n  const obtenerUnidadRegalo = (e) => {\n    const { value, name } = e.target;\n    setDatosProducto({\n      ...datosProducto,\n      [name]: value,\n    });\n  };\n\n  const obtenerCosto = (value) => {\n    /* const { name, value } = e.target; */\n    if (!value) {\n      setDatosProducto({\n        ...datosProducto,\n        costo: \"\",\n      });\n      return;\n    }\n\n    const { iva, ieps, precio_de_compra } = datosProducto.producto.precios;\n    const iva_precio = precio_de_compra.iva;\n    const ieps_precio = precio_de_compra.ieps;\n\n    let precio_neto = parseFloat(value);\n    let subtotal = 0;\n    let total = 0;\n    let cantidad_descontada = 0;\n    let impuesto_actual = iva_precio + ieps_precio;\n\n    let precio_sin_impuesto = precio_neto - impuesto_actual;\n    let nuevo_iva =\n      parseFloat(precio_sin_impuesto) *\n      parseFloat(iva < 10 ? \".0\" + iva : \".\" + iva);\n    let nuevo_ieps =\n      parseFloat(precio_sin_impuesto) *\n      parseFloat(ieps < 10 ? \".0\" + ieps : \".\" + ieps);\n    let nuevo_impuesto = nuevo_ieps + nuevo_iva\n\n    if (datosProducto.descuento_porcentaje > 0) {\n      cantidad_descontada = Math.round(\n        (precio_sin_impuesto * datosProducto.descuento_porcentaje) / 100\n      );\n      subtotal = precio_sin_impuesto - cantidad_descontada;\n      total = subtotal + nuevo_impuesto;\n\n      setDatosProducto({\n        ...datosProducto,\n        costo: parseFloat(precio_neto),\n        descuento_precio: parseFloat(cantidad_descontada),\n        subtotal_descuento: parseFloat(subtotal),\n        total_descuento: parseFloat(total),\n      });\n      return;\n    }\n    setDatosProducto({\n      ...datosProducto,\n      costo: parseFloat(precio_neto),\n      subtotal_descuento: parseFloat(precio_sin_impuesto),\n      total_descuento: parseFloat(precio_sin_impuesto + nuevo_impuesto),\n    });\n  };\n\n  const agregarCompra = async (actualizar_Precios) => {\n    let copy_datosProducto = { ...datosProducto };\n    let copy_datosGenerales = { ...datos_generales };\n    let copy_presentaciones = [...presentaciones];\n    let copy_precios = { ...precios };\n    let copy_preciosP = [...preciosP];\n    let copy_almacenInicial = { ...almacen_inicial };\n    let copy_centroCostos = { ...centro_de_costos };\n    let copy_presentacionesEliminadas = [...presentaciones_eliminadas];\n    let copy_precioPlazos = { ...preciosPlazos };\n\n    /* Validaciones */\n    setCargando(true);\n    if (\n      !copy_datosProducto.producto.datos_generales ||\n      !datosCompra.proveedor.nombre_cliente ||\n      !datosCompra.almacen.nombre_almacen\n    ) {\n      setCargando(false);\n      return;\n    }\n\n    if (copy_datosGenerales.tipo_producto !== \"OTROS\") {\n      if (copy_presentaciones.length > 0) {\n        const pres = copy_presentaciones.filter(\n          (res) => res.color._id && res.medida._id && res.existencia\n        );\n        if (pres.length !== copy_presentaciones.length) {\n          setVerificate(true);\n          setCargando(false);\n          return;\n        }\n      } else {\n        setVerificate(true);\n        setCargando(false);\n        return;\n      }\n    }\n\n    let copy_unidadesVenta = [...unidadesVenta];\n\n    if (copy_unidadesVenta.length === 0) {\n      copy_unidadesVenta.push(unidadVentaXDefecto);\n    } else {\n      const unidadxdefecto = copy_unidadesVenta.filter(\n        (unidades) => unidades.default === true\n      );\n      if (unidadxdefecto.length === 0) {\n        copy_unidadesVenta.splice(0, 0, unidadVentaXDefecto);\n      }\n    }\n\n    if (actualizar_Precios) {\n      copy_datosProducto.mantener_precio = false;\n    } else {\n      copy_datosProducto.mantener_precio = true;\n    }\n    copy_precios.precios_producto = copy_preciosP;\n\n    let producto = {\n      datos_generales: await validateJsonEdit(\n        copy_datosGenerales,\n        \"datos_generales\"\n      ),\n      precios: copy_precios,\n      imagenes,\n      imagenes_eliminadas,\n      almacen_inicial: copy_almacenInicial,\n      centro_de_costos: copy_centroCostos,\n      unidades_de_venta: await validateJsonEdit(\n        copy_unidadesVenta,\n        \"unidades_de_venta\"\n      ),\n      presentaciones: copy_presentaciones,\n      presentaciones_eliminadas: copy_presentacionesEliminadas,\n      precio_plazos: copy_precioPlazos,\n      empresa: sesion.empresa._id,\n      sucursal: sesion.sucursal._id,\n      usuario: sesion._id,\n    };\n\n    copy_datosProducto.producto = producto;\n\n    if (copy_datosProducto.producto.datos_generales.tipo_producto !== \"OTROS\") {\n      //si son medidas sumas las cantidades de las presetnaciones\n      if (copy_datosProducto.producto.presentaciones.length > 0) {\n        copy_datosProducto.cantidad = 0;\n        copy_datosProducto.producto.presentaciones.forEach((presentacion) => {\n          const { cantidad, cantidad_nueva } = presentacion;\n          let nueva = cantidad_nueva ? cantidad_nueva : 0;\n          copy_datosProducto.cantidad += cantidad + nueva;\n        });\n        if (isNaN(copy_datosProducto.cantidad)) copy_datosProducto.cantidad = 0;\n        copy_datosProducto.cantidad_total = copy_datosProducto.cantidad;\n      } else {\n        copy_datosProducto.cantidad = 0;\n        copy_datosProducto.cantidad_total = copy_datosProducto.cantidad;\n      }\n    } else {\n      //Si hay cantidad regalo y es diferente unidad hacer las converciones\n      const { cantidad_regalo, cantidad, unidad_regalo } = copy_datosProducto;\n      //convertir todo a la unidad media y sumar (Pz, Kg, Lt)\n      const factor =\n        copy_datosProducto.producto.precios.unidad_de_compra.cantidad;\n      const cantiad_media = cantidad * factor;\n      let cantidad_regalo_media =\n        unidad_regalo === \"Pz\" ||\n        unidad_regalo === \"Kg\" ||\n        unidad_regalo === \"Lt\"\n          ? cantidad_regalo\n          : cantidad_regalo * factor;\n      let cantidad_total_media = cantiad_media + cantidad_regalo_media;\n\n      //si factor es > 1 es caja o costal y dividir unidad media entre factor y si no mandar la cantidad total media;\n      if (factor > 1) {\n        copy_datosProducto.cantidad_regalo = cantidad_regalo_media / factor;\n        copy_datosProducto.cantidad_total = cantidad_total_media / factor;\n      } else {\n        copy_datosProducto.cantidad_regalo = cantidad_regalo_media;\n        copy_datosProducto.cantidad_total = cantidad_total_media;\n      }\n    }\n    copy_datosProducto.subtotal = copy_datosProducto.subtotal_descuento;\n    copy_datosProducto.total = copy_datosProducto.total_descuento;\n\n    if (isEditing.producto) {\n      //se tiene que actualizar el producto en la fila y sumar el subtotal\n      let productosCompra_ordenados = [...productosCompra];\n      //calculos de totales, subtotales e impuestos de compra general\n      const {\n        iva,\n        ieps,\n      } = copy_datosProducto.producto.precios.precio_de_compra;\n\n      copy_datosProducto.iva_total = iva * copy_datosProducto.cantidad_total;\n      copy_datosProducto.ieps_total = ieps * copy_datosProducto.cantidad_total;\n      copy_datosProducto.subtotal =\n        copy_datosProducto.subtotal * copy_datosProducto.cantidad_total;\n      copy_datosProducto.impuestos =\n        copy_datosProducto.impuestos * copy_datosProducto.cantidad_total;\n      copy_datosProducto.total =\n        copy_datosProducto.total * copy_datosProducto.cantidad_total;\n\n      let subtotal =\n        datosCompra.subtotal +\n        copy_datosProducto.subtotal * copy_datosProducto.cantidad_total -\n        isEditing.producto.subtotal;\n      let impuestos =\n        datosCompra.impuestos +\n        copy_datosProducto.impuestos * copy_datosProducto.cantidad_total -\n        isEditing.producto.impuestos;\n      let total =\n        datosCompra.total +\n        copy_datosProducto.total * copy_datosProducto.cantidad_total -\n        isEditing.producto.total;\n\n      productosCompra_ordenados.splice(isEditing.index, 1, copy_datosProducto);\n\n      setProductosCompra(productosCompra_ordenados);\n      setDatosCompra({\n        ...datosCompra,\n        subtotal,\n        impuestos,\n        total,\n      });\n      setIsEditing({});\n      setEditFinish(!editFinish);\n      setProductoOriginal({ precios: initial_state_precios });\n      setDatosProducto(initial_state_datosProducto);\n      setCosto(0);\n      setCantidad(0);\n      setCargando(false);\n    } else {\n      // se agregar el producto normal y verificar si ya esta el producto en la lista\n\n      const existente = productosCompra\n        .map((prod_exist, index) => {\n          if (prod_exist.id_producto === copy_datosProducto.id_producto) {\n            return { prod_exist, index };\n          } else {\n            return \"\";\n          }\n        })\n        .filter(Boolean);\n\n      if (existente.length > 0) {\n        let productosCompra_ordenados = [...productosCompra];\n        const { index, prod_exist } = existente[0];\n        const {\n          iva,\n          ieps,\n        } = copy_datosProducto.producto.precios.precio_de_compra;\n\n        copy_datosProducto.iva_total = iva * copy_datosProducto.cantidad_total;\n        copy_datosProducto.ieps_total =\n          ieps * copy_datosProducto.cantidad_total;\n        copy_datosProducto.subtotal =\n          copy_datosProducto.subtotal * copy_datosProducto.cantidad_total;\n        copy_datosProducto.impuestos =\n          copy_datosProducto.impuestos * copy_datosProducto.cantidad_total;\n        copy_datosProducto.total =\n          copy_datosProducto.total * copy_datosProducto.cantidad_total;\n\n        productosCompra_ordenados.splice(index, 1, copy_datosProducto);\n        setProductosCompra(productosCompra_ordenados);\n        setDatosCompra({\n          ...datosCompra,\n          subtotal:\n            datosCompra.subtotal -\n            prod_exist.subtotal +\n            copy_datosProducto.subtotal,\n          impuestos:\n            datosCompra.impuestos -\n            prod_exist.impuestos +\n            copy_datosProducto.impuestos,\n          total:\n            datosCompra.total - prod_exist.total + copy_datosProducto.total,\n        });\n      } else {\n        let array_ordenado = [...productosCompra];\n        const {\n          iva,\n          ieps,\n        } = copy_datosProducto.producto.precios.precio_de_compra;\n\n        copy_datosProducto.iva_total = iva * copy_datosProducto.cantidad_total;\n        copy_datosProducto.ieps_total =\n          ieps * copy_datosProducto.cantidad_total;\n        copy_datosProducto.subtotal =\n          copy_datosProducto.subtotal * copy_datosProducto.cantidad_total;\n        copy_datosProducto.impuestos =\n          copy_datosProducto.impuestos * copy_datosProducto.cantidad_total;\n        copy_datosProducto.total =\n          copy_datosProducto.total * copy_datosProducto.cantidad_total;\n\n        array_ordenado.splice(0, 0, copy_datosProducto);\n        setProductosCompra(array_ordenado);\n        setDatosCompra({\n          ...datosCompra,\n          subtotal: datosCompra.subtotal + copy_datosProducto.subtotal,\n          impuestos: datosCompra.impuestos + copy_datosProducto.impuestos,\n          total: datosCompra.total + copy_datosProducto.total,\n        });\n      }\n      setProductoOriginal({ precios: initial_state_precios });\n      setDatosProducto(initial_state_datosProducto);\n      setCosto(0);\n      setCantidad(0);\n      setCargando(false);\n    }\n  };\n\n  /* SET STATES WHEN UPDATING */\n  const setInitialStates = (producto) => {\n    const { precios_producto, ...new_precios } = producto.precios;\n    let unidades_venta = producto.unidades_de_venta.filter(\n      (res) => !res.default\n    );\n    const unidadxdefecto = producto.unidades_de_venta.filter(\n      (res) => res.default === true\n    );\n    setDatosGenerales(producto.datos_generales);\n    setPrecios(new_precios);\n    setCentroDeCostos(\n      producto.centro_de_costos\n        ? producto.centro_de_costos\n        : initial_state_centro_de_costos\n    );\n    setImagenes(producto.imagenes);\n    setPreciosPlazos(producto.precio_plazos);\n    setUnidadesVenta(unidades_venta);\n    setPreciosP(producto.precios.precios_producto);\n    setUnidadVentaXDefecto(unidadxdefecto[0]);\n    setPresentaciones(\n      producto.medidas_producto ? producto.medidas_producto : []\n    );\n    if (\n      datosCompra.almacen.id_almacen &&\n      producto.medidas_producto.length === 0\n    ) {\n      setAlmacenInicial({\n        ...almacen_inicial,\n        id_almacen: datosCompra.almacen.id_almacen,\n        almacen: datosCompra.almacen.nombre_almacen,\n      });\n    }\n\n    if (producto.inventario_general.length > 0) {\n      setAlmacenExistente(true);\n    } else {\n      setAlmacenExistente(false);\n    }\n  };\n\n  /* ###### RESET STATES ###### */\n  const resetInitialStates = () => {\n    setDatosGenerales(initial_state_datos_generales);\n    setPrecios(initial_state_precios);\n    setUnidadVentaXDefecto(initial_state_unidadVentaXDefecto);\n    setPreciosP(initial_state_preciosP);\n    setUnidadesVenta([]);\n    setAlmacenInicial(initial_state_almacen_inicial);\n    setCentroDeCostos({});\n    setPreciosPlazos(initial_state_preciosPlazos);\n    setSubcategorias([]);\n    setImagenes([]);\n    setOnPreview({ index: \"\", image: \"\" });\n    setValidacion({ error: false, message: \"\" });\n    setSubcostos([]);\n    setImagenesEliminadas([]);\n    setPresentaciones([]);\n    setPresentacionesEliminadas([]);\n  };\n\n  return (\n    <Fragment>\n      <DatosProveedorAlmacen\n        status={status}\n        refetchProductos={refetch}\n        getProductos={getProductos}\n      />\n      <Box my={1} />\n      <Grid container spacing={1} alignItems=\"center\">\n        <Grid item>\n          <Typography>Cdigo de barras</Typography>\n          <Box width={200}>\n            <Autocomplete\n              id=\"combo-box-producto-codigo\"\n              size=\"small\"\n              fullWidth\n              options={obtenerProductos}\n              getOptionLabel={(option) =>\n                option.datos_generales.codigo_barras\n                  ? option.datos_generales.codigo_barras\n                  : \"N/A\"\n              }\n              renderInput={(params) => (\n                <TextField {...params} variant=\"outlined\" />\n              )}\n              onChange={(_, value) => obtenerSelectsProducto(value)}\n              getOptionSelected={(option, value) => option._id === value._id}\n              value={\n                datosProducto.producto.datos_generales\n                  ? datosProducto.producto\n                  : null\n              }\n              disabled={\n                !datosCompra.almacen.id_almacen ||\n                !datosCompra.proveedor.id_proveedor\n              }\n            />\n          </Box>\n        </Grid>\n        <Grid item>\n          <Typography>Producto</Typography>\n          <Box display=\"flex\" width={250} alignItems=\"center\">\n            <Autocomplete\n              id=\"combo-box-producto-nombre\"\n              size=\"small\"\n              fullWidth\n              options={obtenerProductos}\n              getOptionLabel={(option) =>\n                option.datos_generales.nombre_comercial\n              }\n              renderInput={(params) => (\n                <TextField {...params} variant=\"outlined\" />\n              )}\n              onChange={(_, value) => obtenerSelectsProducto(value)}\n              getOptionSelected={(option, value) => option._id === value._id}\n              value={\n                datosProducto.producto.datos_generales\n                  ? datosProducto.producto\n                  : null\n              }\n              disabled={\n                !datosCompra.almacen.id_almacen ||\n                !datosCompra.proveedor.id_proveedor\n              }\n            />\n            {!datosCompra.almacen.id_almacen ||\n            !datosCompra.proveedor.id_proveedor ? (\n              <IconButton disabled>\n                <Add />\n              </IconButton>\n            ) : (\n              <CrearProducto\n                accion={false}\n                productosRefetch={refetch}\n                fromCompra={true}\n              />\n            )}\n          </Box>\n        </Grid>\n        <Grid item>\n          <Typography>Clave</Typography>\n          <Box width={140}>\n            <Autocomplete\n              id=\"combo-box-producto-clave\"\n              size=\"small\"\n              fullWidth\n              options={obtenerProductos}\n              getOptionLabel={(option) => option.datos_generales.clave_alterna}\n              renderInput={(params) => (\n                <TextField {...params} variant=\"outlined\" />\n              )}\n              onChange={(_, value) => obtenerSelectsProducto(value)}\n              getOptionSelected={(option, value) => option._id === value._id}\n              value={\n                datosProducto.producto.datos_generales\n                  ? datosProducto.producto\n                  : null\n              }\n              disabled={\n                !datosCompra.almacen.id_almacen ||\n                !datosCompra.proveedor.id_proveedor\n              }\n            />\n          </Box>\n        </Grid>\n        <Grid item>\n          <Typography>Costo</Typography>\n          <Box width={100}>\n            <TextField\n              inputMode=\"decimal\"\n              name=\"costo\"\n              variant=\"outlined\"\n              size=\"small\"\n              fullWidth\n              disabled={!datosProducto.producto.datos_generales}\n              value={costo}\n              onChange={(e) => setCosto(e.target.value)}\n              InputProps={{\n                startAdornment: (\n                  <InputAdornment position=\"start\">$</InputAdornment>\n                ),\n              }}\n            />\n          </Box>\n        </Grid>\n        {datosProducto.producto.datos_generales &&\n        datosProducto.producto.datos_generales.tipo_producto === \"OTROS\" ? (\n          <Fragment>\n            <Grid item>\n              <Typography>Unidad</Typography>\n              <Box width={100}>\n                <TextField\n                  variant=\"outlined\"\n                  size=\"small\"\n                  fullWidth\n                  aria-readonly=\"true\"\n                  value={datosProducto.producto.precios.unidad_de_compra.unidad}\n                />\n              </Box>\n            </Grid>\n            <Grid item>\n              <Typography>Cantidad</Typography>\n              <Box width={100}>\n                <TextField\n                  name=\"cantidad\"\n                  variant=\"outlined\"\n                  size=\"small\"\n                  fullWidth\n                  inputMode=\"numeric\"\n                  disabled={!datosProducto.producto.datos_generales}\n                  value={cantidad}\n                  onChange={(e) => setCantidad(e.target.value)}\n                />\n              </Box>\n            </Grid>\n            <Grid item>\n              <Typography>Cant. regalo</Typography>\n              <Box width={100}>\n                <TextField\n                  name=\"cantidad_regalo\"\n                  variant=\"outlined\"\n                  size=\"small\"\n                  fullWidth\n                  inputMode=\"numeric\"\n                  disabled={!datosProducto.producto.datos_generales}\n                  value={datosProducto.cantidad_regalo}\n                  onChange={(e) => obtenerCantidadRegalo(e.target.value)}\n                />\n              </Box>\n            </Grid>\n            <Grid item>\n              <Typography>Unidad. regalo</Typography>\n              <Box width={100}>\n                <FormControl\n                  variant=\"outlined\"\n                  size=\"small\"\n                  name=\"unidad_regalo\"\n                  fullWidth\n                >\n                  {datosProducto.producto.precios.granel ? (\n                    <Select\n                      id=\"select-unidad-regalo\"\n                      disabled={!datosProducto.producto.datos_generales}\n                      name=\"unidad_regalo\"\n                      value={datosProducto.unidad_regalo}\n                      onChange={obtenerUnidadRegalo}\n                    >\n                      <MenuItem value=\"Kg\">Kg</MenuItem>\n                      <MenuItem value=\"Costal\">Costal</MenuItem>\n                      <MenuItem value=\"Lt\">Lt</MenuItem>\n                    </Select>\n                  ) : (\n                    <Select\n                      id=\"select-unidad-regalo\"\n                      disabled={!datosProducto.producto.datos_generales}\n                      name=\"unidad_regalo\"\n                      value={datosProducto.unidad_regalo}\n                      onChange={obtenerUnidadRegalo}\n                    >\n                      <MenuItem value=\"Caja\">Caja</MenuItem>\n                      <MenuItem value=\"Pz\">Pz</MenuItem>\n                    </Select>\n                  )}\n                </FormControl>\n              </Box>\n            </Grid>\n          </Fragment>\n        ) : null}\n\n        <Grid item>\n          <Typography>Descuento</Typography>\n          <DescuentosInputs />\n        </Grid>\n      </Grid>\n      <Box mt={1}>\n        <Grid container>\n          <Grid item xs={12} md={7} padding=\"checkbox\">\n            <PreciosDeVentaCompras />\n          </Grid>\n          <Grid\n            item\n            xs={12}\n            md={5}\n            style={{\n              display: \"flex\",\n              alignItems: \"center\",\n              justifyContent: \"center\",\n              flexDirection: \"column\",\n            }}\n          >\n            <Box m={1}>\n              <MostrarPrecios />\n            </Box>\n            <Box display=\"flex\">\n              {datosProducto.producto.datos_generales &&\n              datosProducto.producto.datos_generales.tipo_producto !==\n                \"OTROS\" ? (\n                <TallasProductos\n                  verificate={verificate}\n                  setVerificate={setVerificate}\n                />\n              ) : null}\n\n              <Box mx={1} />\n              {datosProducto.costo !==\n              productoOriginal.precios.precio_de_compra.precio_con_impuesto ? (\n                <ModalAgregarCompra\n                  agregarCompra={agregarCompra}\n                  cargando={cargando}\n                />\n              ) : (\n                <Button\n                  style={\n                    loadingProductos\n                      ? {\n                          pointerEvents: \"none\",\n                          opacity: 0.4,\n                        }\n                      : null\n                  }\n                  variant=\"contained\"\n                  color=\"primary\"\n                  startIcon={\n                    cargando ? (\n                      <CircularProgress color=\"inherit\" size={20} />\n                    ) : (\n                      <Add />\n                    )\n                  }\n                  disableElevation\n                  disabled={\n                    datosProducto.producto.datos_generales\n                      ? datosProducto.producto.datos_generales.tipo_producto ===\n                        \"OTROS\"\n                        ? !datosCompra.proveedor.nombre_cliente ||\n                          !datosCompra.almacen.nombre_almacen ||\n                          !datosProducto.costo ||\n                          !datosProducto.cantidad\n                          ? true\n                          : false\n                        : !datosCompra.proveedor.nombre_cliente ||\n                          !datosCompra.almacen.nombre_almacen ||\n                          !datosProducto.costo\n                        ? true\n                        : false\n                      : true\n                  }\n                  onClick={() => agregarCompra()}\n                >\n                  {isEditing.producto ? \"Actualizar \" : \"Agregar a compra\"}\n                </Button>\n              )}\n            </Box>\n          </Grid>\n        </Grid>\n      </Box>\n    </Fragment>\n  );\n}\n\nconst Transition = forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nconst ModalAgregarCompra = ({ agregarCompra, cargando }) => {\n  const [open, setOpen] = useState(false);\n  const {\n    datosProducto,\n    datosCompra,\n    isEditing,\n    loadingProductos,\n  } = useContext(ComprasContext);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  return (\n    <div>\n      <Button\n        style={\n          loadingProductos\n            ? {\n                pointerEvents: \"none\",\n                opacity: 0.4,\n              }\n            : null\n        }\n        variant=\"contained\"\n        color=\"primary\"\n        startIcon={<Add />}\n        disableElevation\n        disabled={\n          datosProducto.producto.datos_generales\n            ? datosProducto.producto.datos_generales.tipo_producto === \"OTROS\"\n              ? !datosCompra.proveedor.nombre_cliente ||\n                !datosCompra.almacen.nombre_almacen ||\n                !datosProducto.costo ||\n                !datosProducto.cantidad\n                ? true\n                : false\n              : !datosCompra.proveedor.nombre_cliente ||\n                !datosCompra.almacen.nombre_almacen ||\n                !datosProducto.costo\n              ? true\n              : false\n            : true\n        }\n        onClick={() => handleClickOpen()}\n      >\n        {isEditing.producto ? \"Actualizar \" : \"Agregar a compra\"}\n      </Button>\n      <Dialog\n        open={open}\n        TransitionComponent={Transition}\n        keepMounted\n        onClose={() => handleClose()}\n        aria-labelledby=\"modal-agregar-compra\"\n      >\n        <DialogTitle id=\"modal-agregar-compra\" style={{ padding: 0 }}>\n          <Alert\n            severity=\"info\"\n            icon={<InfoOutlined style={{ fontSize: 30 }} />}\n            style={{ padding: 16 }}\n          >\n            <AlertTitle style={{ fontSize: 20 }}>\n              El costo es diferente al precio de compra actual\n            </AlertTitle>\n            <Typography style={{ fontSize: 18 }}>\n              Desea actualizar los precios o mantenerlos?\n            </Typography>\n          </Alert>\n        </DialogTitle>\n        <DialogActions style={{ display: \"flex\", justifyContent: \"center\" }}>\n          <Button onClick={() => handleClose()} color=\"default\">\n            Cancelar\n          </Button>\n          <Button\n            onClick={() => {\n              agregarCompra();\n              handleClose();\n            }}\n            color=\"primary\"\n          >\n            Mantener\n          </Button>\n          <PreciosProductos\n            cargando={cargando}\n            handleClose={handleClose}\n            agregarCompra={agregarCompra}\n          />\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n};\n","import {\n  initial_state_almacen_inicial,\n  initial_state_centro_de_costos,\n  initial_state_datos_generales,\n  initial_state_precios,\n  initial_state_preciosPlazos,\n  initial_state_unidadVentaXDefecto,\n} from \"../../../../../context/Catalogos/initialStatesProducto\";\n\nimport { initial_state_preciosP } from \"../../../Catalogos/Producto/crearProducto\";\n\nexport const SetOrResetData = (accion,setStates, producto) => {\n  const {\n    setDatosGenerales,\n    setPrecios,\n    setValidacion,\n    setPreciosP,\n    setImagenes,\n    setUnidadesVenta,\n    almacen_inicial,\n    setAlmacenInicial,\n    setUnidadVentaXDefecto,\n    setCentroDeCostos,\n    setPreciosPlazos,\n    setSubcategorias,\n    setOnPreview,\n    setSubcostos,\n    setImagenesEliminadas,\n    setPresentaciones,\n    setPresentacionesEliminadas,\n    datosCompra\n  } = setStates\n\n  if (accion === \"SET\") {\n    const { precios_producto, ...new_precios } = producto.precios;\n    const unidadxdefecto = producto.unidades_de_venta.filter(\n      (res) => res.default\n    );\n\n    setDatosGenerales(producto.datos_generales);\n    setPrecios(new_precios);\n    setCentroDeCostos(\n      producto.centro_de_costos\n        ? producto.centro_de_costos\n        : initial_state_centro_de_costos\n    );\n    setImagenes(producto.imagenes);\n    setPreciosPlazos(producto.precio_plazos);\n    setUnidadesVenta(producto.unidades_de_venta);\n    setPreciosP(producto.precios.precios_producto);\n    setUnidadVentaXDefecto(unidadxdefecto[0]);\n    setPresentaciones(\n      producto.presentaciones ? producto.presentaciones : []\n    );\n    /* if (datosCompra.almacen.id_almacen && !producto.medidas_registradas) */\n    if (datosCompra.almacen.id_almacen && producto.presentaciones.length === 0) {\n      setAlmacenInicial({\n        ...almacen_inicial,\n        id_almacen: datosCompra.almacen.id_almacen,\n        almacen: datosCompra.almacen.nombre_almacen,\n      });\n    }\n  } else {\n    setDatosGenerales(initial_state_datos_generales);\n    setPrecios(initial_state_precios);\n    setUnidadVentaXDefecto(initial_state_unidadVentaXDefecto);\n    setPreciosP(initial_state_preciosP);\n    setUnidadesVenta([]);\n    setAlmacenInicial(initial_state_almacen_inicial);\n    setCentroDeCostos({});\n    setPreciosPlazos(initial_state_preciosPlazos);\n    setSubcategorias([]);\n    setImagenes([]);\n    setOnPreview({ index: \"\", image: \"\" });\n    setValidacion({ error: false, message: \"\" });\n    setSubcostos([]);\n    setImagenesEliminadas([]);\n    setPresentaciones([]);\n    setPresentacionesEliminadas([]);\n  }\n};\n","import React, {\n  useContext,\n  useState,\n  forwardRef,\n  useEffect,\n  Fragment,\n} from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport RemoveCircleOutlineIcon from \"@material-ui/icons/RemoveCircleOutline\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Slide from \"@material-ui/core/Slide\";\nimport { ComprasContext } from \"../../../../context/Compras/comprasContext\";\nimport { Close, Edit, Error } from \"@material-ui/icons\";\nimport { initial_state_datosProducto } from \"./initial_states\";\nimport { SetOrResetData } from \"./productos/setOrResetData\";\nimport { RegProductoContext } from \"../../../../context/Catalogos/CtxRegProducto\";\nimport { formatoMexico } from \"../../../../config/reuserFunctions\";\nimport { Grid, Typography } from \"@material-ui/core\";\n\nconst useStyles = makeStyles({\n  root: {\n    width: \"100%\",\n  },\n  container: {\n    height: \"40vh\",\n  },\n});\n\nexport default function ListaCompras() {\n  const classes = useStyles();\n  const { productosCompra, loadingProductos, datosCompra } = useContext(\n    ComprasContext\n  );\n\n  const productos_ordernados = [...productosCompra];\n\n  return (\n    <Paper className={classes.root} variant=\"outlined\">\n      <TableContainer\n        className={classes.container}\n        style={\n          loadingProductos\n            ? {\n                pointerEvents: \"none\",\n                opacity: 0.4,\n              }\n            : null\n        }\n      >\n        <Table stickyHeader size=\"small\">\n          <TableHead>\n            <TableRow>\n              <TableCell>Cdigo de barras</TableCell>\n              <TableCell>Producto</TableCell>\n              <TableCell>Precio de compra</TableCell>\n              <TableCell padding=\"checkbox\">Cantidad</TableCell>\n              <TableCell padding=\"checkbox\">Cantidad regalo</TableCell>\n              <TableCell padding=\"checkbox\">Cantidad total</TableCell>\n              <TableCell padding=\"checkbox\">Presentaciones</TableCell>\n              <TableCell>IVA</TableCell>\n              <TableCell>IEPS</TableCell>\n              <TableCell>Total IVA</TableCell>\n              <TableCell>Total IEPS</TableCell>\n              <TableCell>Editar</TableCell>\n              <TableCell>Remover</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {productos_ordernados.map((producto, index) => {\n              return (\n                <RenderProductosCompra\n                  key={index}\n                  producto={producto}\n                  index={index}\n                />\n              );\n            })}\n          </TableBody>\n        </Table>\n      </TableContainer>\n        <Grid container spacing={2}>\n          <Grid item>\n            <Typography style={{ fontSize: 18 }}>\n              Subtotal: <b>${ datosCompra.subtotal ? formatoMexico(datosCompra.subtotal) : 0}</b>\n            </Typography>\n          </Grid>\n          <Grid item>\n            <Typography style={{ fontSize: 18 }}>\n              Impuestos: <b>${datosCompra.impuestos ? formatoMexico(datosCompra.impuestos) : 0}</b>\n            </Typography>\n          </Grid>\n          <Grid item>\n            <Typography style={{ fontSize: 18 }}>\n              <b>Total: ${datosCompra.total ? formatoMexico(datosCompra.total) : 0}</b>\n            </Typography>\n          </Grid>\n        </Grid>\n    </Paper>\n  );\n}\n\nconst RenderProductosCompra = ({ producto, index }) => {\n  const {\n    datosCompra,\n    setDatosProducto,\n    setProductoOriginal,\n    setPreciosVenta,\n    isEditing,\n    setIsEditing,\n    editFinish,\n    setCosto,\n    setCantidad,\n    setIssue,\n  } = useContext(ComprasContext);\n  const [isSelected, setIsSelected] = useState(false);\n  const productoCTX = useContext(RegProductoContext);\n\n  const seStates = {\n    setDatosGenerales: productoCTX.setDatosGenerales,\n    setPrecios: productoCTX.setPrecios,\n    setValidacion: productoCTX.setValidacion,\n    setPreciosP: productoCTX.setPreciosP,\n    setImagenes: productoCTX.setImagenes,\n    setUnidadesVenta: productoCTX.setUnidadesVenta,\n    almacen_inicial: productoCTX.almacen_inicial,\n    setAlmacenInicial: productoCTX.setAlmacenInicial,\n    setUnidadVentaXDefecto: productoCTX.setUnidadVentaXDefecto,\n    setCentroDeCostos: productoCTX.setCentroDeCostos,\n    setPreciosPlazos: productoCTX.setPreciosPlazos,\n    setSubcategorias: productoCTX.setSubcategorias,\n    setOnPreview: productoCTX.setOnPreview,\n    setSubcostos: productoCTX.setSubcostos,\n    setImagenesEliminadas: productoCTX.setImagenesEliminadas,\n    setPresentaciones: productoCTX.setPresentaciones,\n    setPresentacionesEliminadas: productoCTX.setPresentacionesEliminadas,\n    datosCompra,\n  };\n\n  const handleEdit = () => {\n    setIsSelected(true);\n    setIsEditing({ producto, index, finish: false });\n    setDatosProducto(producto);\n    SetOrResetData(\"SET\", seStates, producto.producto);\n    setProductoOriginal(producto.producto);\n    setPreciosVenta(producto.producto.precios.precios_producto);\n    setCosto(producto.costo);\n    setCantidad(producto.cantidad);\n  };\n\n  const handleCancelEdit = () => {\n    setIsSelected(false);\n    setIsEditing({});\n    setDatosProducto(initial_state_datosProducto);\n    SetOrResetData(\"RESET\", seStates);\n    setCosto(0);\n    setCantidad(1);\n  };\n\n  useEffect(() => {\n    setIsSelected(false);\n  }, [editFinish]);\n\n  useEffect(() => {\n    if (!producto.cantidad) {\n    } else {\n      setIssue(false);\n    }\n  }, [producto.cantidad]);\n\n  const unidad_producto = producto.producto.precios.unidad_de_compra.unidad;\n  const { cantidad, cantidad_regalo, cantidad_total } = producto;\n\n  return (\n    <TableRow\n      hover\n      role=\"checkbox\"\n      tabIndex={-1}\n      selected={isSelected || !cantidad}\n      style={\n        isEditing.producto && !isSelected\n          ? {\n              pointerEvents: \"none\",\n              opacity: 0.4,\n            }\n          : null\n      }\n    >\n      <TableCell>\n        {producto.producto.datos_generales\n          ? producto.producto.datos_generales.codigo_barras\n            ? producto.producto.datos_generales.codigo_barras\n            : \"-\"\n          : \"-\"}\n      </TableCell>\n      <TableCell>\n        {producto.producto.datos_generales.nombre_comercial}\n      </TableCell>\n      <TableCell width={180}>\n        {!cantidad ? (\n          <Error color=\"error\" />\n        ) : (\n          <b>$ {formatoMexico(producto.total)}</b>\n        )}\n      </TableCell>\n      <TableCell>\n        {cantidad}\n        <b>({unidad_producto})</b>\n      </TableCell>\n      <TableCell>\n        {cantidad_regalo}\n        <b>({unidad_producto})</b>\n      </TableCell>\n      <TableCell>\n        {cantidad_total}\n        <b>({unidad_producto})</b>\n      </TableCell>\n      <TableCell>\n        {producto.producto.presentaciones.length > 0\n          ? producto.producto.presentaciones.length\n          : \"N/A\"}\n      </TableCell>\n      <TableCell>{producto.producto.precios.iva}%</TableCell>\n      <TableCell>{producto.producto.precios.ieps}%</TableCell>\n      <TableCell>${producto.iva_total}</TableCell>\n      <TableCell>${producto.ieps_total}</TableCell>\n      <TableCell>\n        {isSelected ? (\n          <IconButton\n            color=\"inherit\"\n            size=\"small\"\n            onClick={() => handleCancelEdit()}\n          >\n            <Close />\n          </IconButton>\n        ) : (\n          <IconButton color=\"primary\" size=\"small\" onClick={() => handleEdit()}>\n            <Edit />\n          </IconButton>\n        )}\n      </TableCell>\n      <TableCell>\n        <ModalDeleteProducto index={index} isSelected={isSelected} />\n      </TableCell>\n    </TableRow>\n  );\n};\n\nconst Transition = forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nconst ModalDeleteProducto = ({ index, isSelected }) => {\n  const {\n    productosCompra,\n    setProductosCompra,\n    datosCompra,\n    setDatosCompra,\n  } = useContext(ComprasContext);\n  const [open, setOpen] = useState(false);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const eliminarCompra = () => {\n    let copy_compras = [...productosCompra];\n    let objeto_eliminado = copy_compras.splice(index, 1);\n\n    setDatosCompra({\n      ...datosCompra,\n      subtotal: datosCompra.subtotal - objeto_eliminado[0].subtotal,\n      impuestos: datosCompra.impuestos - objeto_eliminado[0].impuestos,\n      total: datosCompra.total - objeto_eliminado[0].total,\n    });\n    setProductosCompra([...copy_compras]);\n    handleClose();\n  };\n\n  return (\n    <Fragment>\n      <IconButton\n        color=\"secondary\"\n        size=\"small\"\n        onClick={handleClickOpen}\n        disabled={isSelected}\n      >\n        <RemoveCircleOutlineIcon />\n      </IconButton>\n      <Dialog\n        open={open}\n        TransitionComponent={Transition}\n        keepMounted\n        onClose={handleClose}\n        aria-labelledby=\"modal-eliminar-compra\"\n      >\n        <DialogTitle id=\"modal-eliminar-compra\">\n          Seguro que quiere eliminar esto de la lista?\n        </DialogTitle>\n\n        <DialogActions>\n          <Button onClick={handleClose} color=\"primary\">\n            Cancelar\n          </Button>\n          <Button onClick={eliminarCompra} color=\"secondary\">\n            Aceptar\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </Fragment>\n  );\n};\n","import React, { useContext, useState } from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport Typography from \"@material-ui/core/Typography\";\nimport {\n  Box,\n  Checkbox,\n  CircularProgress,\n  FormControl,\n  FormControlLabel,\n  Grid,\n  InputAdornment,\n  InputLabel,\n  MenuItem,\n  Select,\n  Slide,\n  TextField,\n} from \"@material-ui/core\";\nimport { ComprasContext } from \"../../../../context/Compras/comprasContext\";\nimport { formatoMexico } from \"../../../../config/reuserFunctions\";\nimport { formaPago } from \"../../Facturacion/catalogos\";\nimport { Done } from \"@material-ui/icons\";\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function ConfirmarCompra({ realizarCompraBD }) {\n  const [open, setOpen] = useState(false);\n  const [loading_modal, setLoadingModal] = useState(false);\n  const {\n    productosCompra,\n    datosCompra,\n    setDatosCompra,\n    issue,\n    descuentoCompra,\n    setDescuentoCompra,\n  } = useContext(ComprasContext);\n  const handleClickOpen = () => setOpen(true);\n  const handleClose = () => setOpen(false);\n\n  const obtenerFormaPago = (forma_pago) => {\n    setDatosCompra({\n      ...datosCompra,\n      forma_pago,\n    });\n  };\n\n  const aplicarDescuento = (descuento_aplicado) => {\n    if (!descuento_aplicado) {\n      setDescuentoCompra({\n        ...descuentoCompra,\n        subtotal: datosCompra.subtotal,\n        total: datosCompra.total,\n        descuento_aplicado,\n        porcentaje: 0,\n        cantidad_descontada: 0,\n        precio_con_descuento: 0,\n      });\n      return;\n    }\n    setDescuentoCompra({\n      ...descuentoCompra,\n      descuento_aplicado,\n    });\n  };\n\n  const obtenerPorcentaje = (value) => {\n    if (!value || parseFloat(value) === 0) {\n      setDescuentoCompra({\n        ...descuentoCompra,\n        subtotal: datosCompra.subtotal,\n        total: datosCompra.total,\n        porcentaje: 0,\n        cantidad_descontada: 0,\n        precio_con_descuento: 0,\n      });\n      return;\n    }\n    let porcentaje = parseFloat(value);\n    let cantidad_descontada = Math.round(\n      (datosCompra.subtotal * porcentaje) / 100\n    );\n    let precio_con_descuento = datosCompra.subtotal - cantidad_descontada;\n\n    setDescuentoCompra({\n      ...descuentoCompra,\n      subtotal: parseFloat((precio_con_descuento).toFixed(2)),\n      total: parseFloat((precio_con_descuento + datosCompra.impuestos).toFixed(2)),\n      porcentaje,\n      cantidad_descontada,\n      precio_con_descuento: parseFloat((precio_con_descuento).toFixed(2)),\n    });\n  };\n\n  const obtenerPrecio = (value) => {\n    if (!value || parseFloat(value) === 0) {\n      setDescuentoCompra({\n        ...descuentoCompra,\n        subtotal: datosCompra.subtotal,\n        total: datosCompra.total,\n        porcentaje: 0,\n        cantidad_descontada: 0,\n        precio_con_descuento: 0,\n      });\n      return;\n    }\n\n    let cantidad_descontada = parseFloat(value);\n    let porcentaje = Math.round(\n      (cantidad_descontada / datosCompra.subtotal) * 100\n    );\n    /* let descuento_porcentaje = 100 - porcentaje; */\n    let precio_con_descuento = datosCompra.subtotal - cantidad_descontada;\n\n    setDescuentoCompra({\n      ...descuentoCompra,\n      subtotal: parseFloat((precio_con_descuento).toFixed(2)),\n      total: parseFloat((precio_con_descuento + datosCompra.impuestos).toFixed(2)),\n      porcentaje,\n      cantidad_descontada,\n      precio_con_descuento: parseFloat((precio_con_descuento).toFixed(2)),\n    });\n  };\n\n  return (\n    <div>\n      <Button\n        autoFocus\n        color=\"primary\"\n        variant=\"contained\"\n        size=\"large\"\n        onClick={() => handleClickOpen()}\n        disabled={!productosCompra.length || issue}\n        startIcon={<Done />}\n      >\n        Realizar compra\n      </Button>\n      <Dialog\n        open={open}\n        TransitionComponent={Transition}\n        keepMounted\n        onClose={handleClose}\n        aria-labelledby=\"dialog-confirmacion-compra\"\n        aria-describedby=\"dialog-confirmacion-compra-description\"\n        fullWidth\n        maxWidth=\"xs\"\n      >\n        <DialogContent>\n          <Box>\n            <Typography>\n              <b>Total de productos:</b>\n              {\" \" + productosCompra.length}\n            </Typography>\n            <Typography>\n              <b>Subtotal:</b>\n              {\" $\" +\n                formatoMexico(\n                  !descuentoCompra.subtotal\n                    ? datosCompra.subtotal\n                    : descuentoCompra.subtotal\n                )}\n            </Typography>\n            <Typography>\n              <b>Impuestos:</b>\n              {\" $\" + formatoMexico(datosCompra.impuestos)}\n            </Typography>\n            <Typography>\n              <b>Total:</b>\n              {\" $\" +\n                formatoMexico(\n                  !descuentoCompra.total\n                    ? datosCompra.total\n                    : descuentoCompra.total\n                )}\n            </Typography>\n          </Box>\n\n          <Box my={2}>\n            <FormControl\n              variant=\"outlined\"\n              fullWidth\n              size=\"small\"\n              name=\"forma_pago\"\n            >\n              <InputLabel id=\"forma_pago\">Forma de pago</InputLabel>\n              <Select\n                labelId=\"forma_pago\"\n                value={datosCompra.forma_pago}\n                name=\"forma_pago\"\n                onChange={(e) => obtenerFormaPago(e.target.value)}\n                label=\"Forma de pago\"\n              >\n                {formaPago.map((res, index) => (\n                  <MenuItem\n                    key={index}\n                    value={res.Value}\n                  >{`${res.Value} - ${res.Name}`}</MenuItem>\n                ))}\n              </Select>\n            </FormControl>\n            <FormControlLabel\n              control={\n                <Checkbox\n                  checked={descuentoCompra.descuento_aplicado}\n                  onChange={(e) => aplicarDescuento(e.target.checked)}\n                  name=\"descuento_aplicado\"\n                />\n              }\n              label=\"Aplicar descuento\"\n            />\n            <Grid container spacing={2}>\n              <Grid item md={6}>\n                <TextField\n                  variant=\"outlined\"\n                  size=\"small\"\n                  fullWidth\n                  onChange={(e) => obtenerPrecio(e.target.value)}\n                  disabled={!descuentoCompra.descuento_aplicado}\n                  value={descuentoCompra.cantidad_descontada}\n                  InputProps={{\n                    startAdornment: (\n                      <InputAdornment position=\"start\">$</InputAdornment>\n                    ),\n                  }}\n                />\n              </Grid>\n              <Grid item md={6}>\n                <TextField\n                  variant=\"outlined\"\n                  type=\"number\"\n                  size=\"small\"\n                  fullWidth\n                  onChange={(e) => obtenerPorcentaje(e.target.value)}\n                  disabled={!descuentoCompra.descuento_aplicado}\n                  value={descuentoCompra.porcentaje}\n                  InputProps={{\n                    startAdornment: (\n                      <InputAdornment position=\"start\">%</InputAdornment>\n                    ),\n                  }}\n                />\n              </Grid>\n            </Grid>\n          </Box>\n        </DialogContent>\n        <DialogActions>\n          <Button\n            onClick={handleClose}\n            color=\"inherit\"\n            disabled={loading_modal}\n          >\n            Cancelar\n          </Button>\n          <Button\n            onClick={() =>\n              realizarCompraBD(false, undefined, handleClose, setLoadingModal)\n            }\n            color=\"primary\"\n            startIcon={\n              loading_modal ? (\n                <CircularProgress color=\"inherit\" size={20} />\n              ) : (\n                <Done />\n              )\n            }\n            disabled={loading_modal || !datosCompra.forma_pago}\n          >\n            Realizar Compra\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n}\n","import React, { useContext, useState } from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Slide from \"@material-ui/core/Slide\";\nimport {\n  Box,\n  Checkbox,\n  CircularProgress,\n  FormControl,\n  FormControlLabel,\n  Grid,\n  InputAdornment,\n  InputLabel,\n  MenuItem,\n  Select,\n  TextField,\n  Typography,\n} from \"@material-ui/core\";\nimport { ComprasContext } from \"../../../../context/Compras/comprasContext\";\nimport { CreditCard, Done } from \"@material-ui/icons\";\nimport { formatoMexico } from \"../../../../config/reuserFunctions\";\nimport { formaPago } from \"../../Facturacion/catalogos\";\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function CompraCredito({ realizarCompraBD }) {\n  const [open, setOpen] = useState(false);\n  const [loading_modal, setLoadingModal] = useState(false);\n  const {\n    productosCompra,\n    datosCompra,\n    setDatosCompra,\n    issue,\n    descuentoCompra,\n    setDescuentoCompra,\n  } = useContext(ComprasContext);\n\n  const handleClickOpen = () => setOpen(true);\n  const handleClose = () => setOpen(false);\n\n  const obtenerFormaPago = (forma_pago) => {\n    setDatosCompra({\n      ...datosCompra,\n      forma_pago,\n    });\n  };\n\n  const aplicarDescuento = (descuento_aplicado) => {\n    if (!descuento_aplicado) {\n      setDescuentoCompra({\n        ...descuentoCompra,\n        subtotal: datosCompra.subtotal,\n        total: datosCompra.total,\n        descuento_aplicado,\n        porcentaje: 0,\n        cantidad_descontada: 0,\n        precio_con_descuento: 0,\n      });\n      return;\n    }\n    setDescuentoCompra({\n      ...descuentoCompra,\n      descuento_aplicado,\n    });\n  };\n\n  const obtenerPorcentaje = (value) => {\n    if (!value || parseFloat(value) === 0) {\n      setDescuentoCompra({\n        ...descuentoCompra,\n        subtotal: datosCompra.subtotal,\n        total: datosCompra.total,\n        porcentaje: 0,\n        cantidad_descontada: 0,\n        precio_con_descuento: 0,\n      });\n      return;\n    }\n    let porcentaje = parseFloat(value);\n    let cantidad_descontada = Math.round(\n      (datosCompra.subtotal * porcentaje) / 100\n    );\n    let precio_con_descuento = datosCompra.subtotal - cantidad_descontada;\n\n    setDescuentoCompra({\n      ...descuentoCompra,\n      subtotal: parseFloat(precio_con_descuento.toFixed(2)),\n      total: parseFloat(\n        (precio_con_descuento + datosCompra.impuestos).toFixed(2)\n      ),\n      porcentaje,\n      cantidad_descontada,\n      precio_con_descuento: parseFloat(precio_con_descuento.toFixed(2)),\n    });\n  };\n\n  const obtenerPrecio = (value) => {\n    if (!value || parseFloat(value) === 0) {\n      setDescuentoCompra({\n        ...descuentoCompra,\n        subtotal: datosCompra.subtotal,\n        total: datosCompra.total,\n        porcentaje: 0,\n        cantidad_descontada: 0,\n        precio_con_descuento: 0,\n      });\n      return;\n    }\n\n    let cantidad_descontada = parseFloat(value);\n    let porcentaje = Math.round(\n      (cantidad_descontada / datosCompra.subtotal) * 100\n    );\n    /* let descuento_porcentaje = 100 - porcentaje; */\n    let precio_con_descuento = datosCompra.subtotal - cantidad_descontada;\n\n    setDescuentoCompra({\n      ...descuentoCompra,\n      subtotal: parseFloat(precio_con_descuento.toFixed(2)),\n      total: parseFloat(\n        (precio_con_descuento + datosCompra.impuestos).toFixed(2)\n      ),\n      porcentaje,\n      cantidad_descontada,\n      precio_con_descuento: parseFloat(precio_con_descuento.toFixed(2)),\n    });\n  };\n\n  return (\n    <div>\n      <Button\n        autoFocus\n        color=\"primary\"\n        size=\"large\"\n        onClick={() => handleClickOpen()}\n        disabled={!productosCompra.length || issue}\n        startIcon={<CreditCard />}\n      >\n        Compra a Credito\n      </Button>\n      <Dialog\n        open={open}\n        TransitionComponent={Transition}\n        keepMounted\n        onClose={handleClose}\n        aria-labelledby=\"dialog-compra-credito\"\n        aria-describedby=\"dialog-compra-credito-description\"\n        fullWidth\n        maxWidth=\"xs\"\n      >\n        <DialogTitle id=\"dialog-compra-credito\">\n          {\"Comprar a credito\"}\n        </DialogTitle>\n        <DialogContent>\n          <Box>\n            <Typography>\n              <b>Total de productos:</b>\n              {\" \" + productosCompra.length}\n            </Typography>\n            <Typography>\n              <b>Subtotal:</b>\n              {\" $\" +\n                formatoMexico(\n                  !descuentoCompra.subtotal\n                    ? datosCompra.subtotal\n                    : descuentoCompra.subtotal\n                )}\n            </Typography>\n            <Typography>\n              <b>Impuestos:</b>\n              {\" $\" + formatoMexico(datosCompra.impuestos)}\n            </Typography>\n            <Typography>\n              <b>Total:</b>\n              {\" $\" +\n                formatoMexico(\n                  !descuentoCompra.total\n                    ? datosCompra.total\n                    : descuentoCompra.total\n                )}\n            </Typography>\n          </Box>\n          <Box my={2}>\n            <FormControl\n              variant=\"outlined\"\n              fullWidth\n              size=\"small\"\n              name=\"forma_pago\"\n            >\n              <InputLabel id=\"forma_pago\">Forma de pago</InputLabel>\n              <Select\n                labelId=\"forma_pago\"\n                value={datosCompra.forma_pago}\n                name=\"forma_pago\"\n                onChange={(e) => obtenerFormaPago(e.target.value)}\n                label=\"Forma de pago\"\n              >\n                {formaPago.map((res, index) => (\n                  <MenuItem\n                    key={index}\n                    value={res.Value}\n                  >{`${res.Value} - ${res.Name}`}</MenuItem>\n                ))}\n              </Select>\n            </FormControl>\n            <FormControlLabel\n              control={\n                <Checkbox\n                  checked={descuentoCompra.descuento_aplicado}\n                  onChange={(e) => aplicarDescuento(e.target.checked)}\n                  name=\"descuento_aplicado\"\n                />\n              }\n              label=\"Aplicar descuento\"\n            />\n            <Grid container spacing={2}>\n              <Grid item md={6}>\n                <TextField\n                  variant=\"outlined\"\n                  size=\"small\"\n                  fullWidth\n                  onChange={(e) => obtenerPrecio(e.target.value)}\n                  disabled={!descuentoCompra.descuento_aplicado}\n                  value={descuentoCompra.cantidad_descontada}\n                  InputProps={{\n                    startAdornment: (\n                      <InputAdornment position=\"start\">$</InputAdornment>\n                    ),\n                  }}\n                />\n              </Grid>\n              <Grid item md={6}>\n                <TextField\n                  variant=\"outlined\"\n                  type=\"number\"\n                  size=\"small\"\n                  fullWidth\n                  onChange={(e) => obtenerPorcentaje(e.target.value)}\n                  disabled={!descuentoCompra.descuento_aplicado}\n                  value={descuentoCompra.porcentaje}\n                  InputProps={{\n                    startAdornment: (\n                      <InputAdornment position=\"start\">%</InputAdornment>\n                    ),\n                  }}\n                />\n              </Grid>\n            </Grid>\n          </Box>\n          <Box>\n            <Typography>Fecha de vencimiento del crdito</Typography>\n            <TextField\n              fullWidth\n              size=\"small\"\n              variant=\"outlined\"\n              type=\"date\"\n              onChange={(e) => {\n                setDatosCompra({\n                  ...datosCompra,\n                  fecha_vencimiento_credito: e.target.value,\n                });\n              }}\n              value={datosCompra.fecha_vencimiento_credito}\n            />\n          </Box>\n        </DialogContent>\n        <DialogActions>\n          <Button\n            onClick={handleClose}\n            color=\"inherit\"\n            disabled={loading_modal}\n          >\n            Cancelar\n          </Button>\n          <Button\n            onClick={() =>\n              realizarCompraBD(false, \"credito\", handleClose, setLoadingModal)\n            }\n            color=\"primary\"\n            startIcon={\n              loading_modal ? (\n                <CircularProgress color=\"inherit\" size={20} />\n              ) : (\n                <Done />\n              )\n            }\n            disabled={loading_modal}\n          >\n            Realizar Compra\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n}\n","import React, { useContext, useEffect, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Slide from \"@material-ui/core/Slide\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Typography from \"@material-ui/core/Typography\";\nimport CloseIcon from \"@material-ui/icons/Close\";\n\nimport DatosProducto from \"./productos/DatosProducto\";\nimport { FcPlus } from \"react-icons/fc\";\nimport { Box } from \"@material-ui/core\";\nimport ListaCompras from \"./TablaCompras\";\nimport {\n  ComprasContext,\n  ComprasProvider,\n} from \"../../../../context/Compras/comprasContext\";\nimport \"date-fns\";\nimport { Done, Timer } from \"@material-ui/icons\";\nimport {\n  initial_state_datosCompra,\n  initial_state_datosProducto,\n  initial_state_precios_venta,\n  initial_state_productoOriginal,\n  initial_state_productosCompra,\n} from \"./initial_states\";\nimport { useMutation } from \"@apollo/client\";\nimport {\n  CREAR_COMPRA,\n  CREAR_COMPRA_ESPERA,\n} from \"../../../../gql/Compras/compras\";\nimport Close from \"@material-ui/icons/Close\";\nimport SnackBarMessages from \"../../../../components/SnackBarMessages\";\nimport BackdropComponent from \"../../../../components/Layouts/BackDrop\";\nimport ConfirmarCompra from \"./ConfirmarCompra\";\nimport CompraCredito from \"./CompraCredito\";\nimport moment from \"moment\";\n\nconst useStyles = makeStyles((theme) => ({\n  appBar: {\n    position: \"relative\",\n  },\n  title: {\n    marginLeft: theme.spacing(2),\n    flex: 1,\n  },\n  icon: {\n    fontSize: 100,\n  },\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function AbrirCompra({\n  compra,\n  status,\n  handleOpenDetalles,\n  refetchEspera,\n}) {\n  const classes = useStyles();\n  const [open, setOpen] = React.useState(false);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n    if (status === \"enEspera\") {\n      handleOpenDetalles();\n      refetchEspera();\n    }\n  };\n\n  return (\n    <div>\n      {status === \"enEspera\" ? (\n        <Button\n          fullWidth\n          onClick={handleClickOpen}\n          color=\"primary\"\n          variant=\"contained\"\n          size=\"large\"\n          startIcon={<Done />}\n        >\n          continuar compra\n        </Button>\n      ) : (\n        <Button fullWidth onClick={handleClickOpen}>\n          <Box display=\"flex\" flexDirection=\"column\">\n            <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n              <FcPlus className={classes.icon} />\n            </Box>\n            Abrir una compra\n          </Box>\n        </Button>\n      )}\n      <ComprasProvider>\n        <ModalCompra\n          open={open}\n          handleClose={handleClose}\n          status={status}\n          compra={compra}\n        />\n      </ComprasProvider>\n    </div>\n  );\n}\n\nconst ModalCompra = ({ open, handleClose, compra, status }) => {\n  const classes = useStyles();\n  const {\n    productosCompra,\n    datosCompra,\n    setDatosProducto,\n    setProductosCompra,\n    setDatosCompra,\n    setProductoOriginal,\n    setPreciosVenta,\n    issue,\n    descuentoCompra,\n    setDescuentoCompra,\n  } = useContext(ComprasContext);\n  const [openDelete, setOpenDelete] = useState(false);\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n  const [alert, setAlert] = useState({ message: \"\", status: \"\", open: false });\n  const [loading, setLoading] = useState(false);\n\n  const [crearCompra] = useMutation(CREAR_COMPRA);\n  const [crearCompraEnEspera] = useMutation(CREAR_COMPRA_ESPERA);\n\n  const limpiarCampos = () => {\n    setDatosProducto(initial_state_datosProducto);\n    setProductosCompra(initial_state_productosCompra);\n    setDatosCompra(initial_state_datosCompra);\n    setProductoOriginal(initial_state_productoOriginal);\n    setPreciosVenta(initial_state_precios_venta);\n    setDescuentoCompra({\n      subtotal: 0,\n      total: 0,\n      descuento_aplicado: false,\n      porcentaje: 0,\n      cantidad_descontada: 0,\n      precio_con_descuento: 0,\n    });\n  };\n\n  useEffect(() => {\n    if (status === \"enEspera\" && compra && open === true) {\n      setDatosCompra(compra);\n      setProductosCompra(compra.productos);\n    }\n  }, [open]);\n\n  const realizarCompraBD = async (\n    compra_en_espera,\n    credito,\n    handleClose,\n    setLoadingModal\n  ) => {\n    let datos = { ...datosCompra };\n    let productos = productosCompra;\n    if (status === \"enEspera\") {\n      productos = productosCompra.map((res) => {\n        delete res.conflicto;\n        return res;\n      });\n      delete datos.empresa;\n      delete datos.sucursal;\n      delete datos.usuario;\n    }\n\n    setLoading(true);\n    if (credito) setLoadingModal(true);\n    try {\n      datos.productos = productos;\n\n      if (compra_en_espera) {\n        datos.en_espera = true;\n        const result = await crearCompraEnEspera({\n          variables: {\n            input: datos,\n            empresa: sesion.empresa._id,\n            sucursal: sesion.sucursal._id,\n            usuario: sesion._id,\n          },\n        });\n        setAlert({\n          message: `Listo! ${result.data.crearCompraEnEspera.message}`,\n          status: \"success\",\n          open: true,\n        });\n      } else {\n        if (credito) {\n          datos.compra_credito = true;\n          datos.saldo_credito_pendiente = datos.total;\n        }\n        if (descuentoCompra.descuento_aplicado) {\n          const {\n            descuento_aplicado,\n            subtotal,\n            total,\n            ...descuento\n          } = descuentoCompra;\n          datos.descuento_aplicado = descuentoCompra.descuento_aplicado;\n          datos.subtotal = descuentoCompra.subtotal;\n          datos.total = descuentoCompra.total;\n          datos.descuento = descuento;\n        }\n        /* console.log(datos); */\n        const result = await crearCompra({\n          variables: {\n            input: datos,\n            empresa: sesion.empresa._id,\n            sucursal: sesion.sucursal._id,\n            usuario: sesion._id,\n          },\n        });\n        setAlert({\n          message: `Listo! ${result.data.crearCompra.message}`,\n          status: \"success\",\n          open: true,\n        });\n      }\n      setLoading(false);\n      limpiarCampos();\n      if (handleClose) {\n        handleClose();\n        setLoadingModal(false);\n      }\n    } catch (error) {\n      setLoading(false);\n      setAlert({\n        message: `Error de servidor`,\n        status: \"error\",\n        open: true,\n      });\n      if (handleClose) {\n        handleClose();\n        setLoadingModal(false);\n      }\n      console.log(error);\n      if (error.networkError) {\n        console.log(error.networkError.result);\n      } else if (error.graphQLErrors) {\n        console.log(error.graphQLErrors);\n      }\n    }\n  };\n\n  const handleToggleDelete = () => {\n    if (productosCompra.length > 0) {\n      setOpenDelete(!openDelete);\n    } else {\n      limpiarCampos();\n      handleClose();\n    }\n  };\n\n  return (\n    <Dialog\n      fullScreen\n      open={open}\n      onClose={handleClose}\n      TransitionComponent={Transition}\n    >\n      <DialogTitle style={{ padding: 0 }}>\n        <AppBar className={classes.appBar}>\n          <Toolbar>\n            <Typography variant=\"h6\" className={classes.title}>\n              Nueva compra\n            </Typography>\n            <Box m={1}>\n              <Button\n                variant=\"contained\"\n                color=\"secondary\"\n                onClick={handleToggleDelete}\n                size=\"large\"\n              >\n                <CloseIcon style={{ fontSize: 30 }} />\n              </Button>\n              <CancelarCompra\n                handleClose={handleClose}\n                handleToggleDelete={handleToggleDelete}\n                openDelete={openDelete}\n              />\n            </Box>\n          </Toolbar>\n        </AppBar>\n      </DialogTitle>\n      <DialogContent>\n        <SnackBarMessages alert={alert} setAlert={setAlert} />\n        <BackdropComponent loading={loading} setLoading={setLoading} />\n        <DatosProducto status={status} />\n        <Box my={2} />\n        <ListaCompras />\n      </DialogContent>\n\n      <DialogActions style={{ justifyContent: \"center\" }}>\n        <Button\n          color=\"inherit\"\n          size=\"large\"\n          onClick={() => handleToggleDelete()}\n          startIcon={<Close />}\n        >\n          Cancelar\n        </Button>\n        {status === \"enEspera\" ? null : (\n          <Button\n            autoFocus\n            color=\"primary\"\n            variant=\"text\"\n            size=\"large\"\n            onClick={() => realizarCompraBD(true)} //realiza la compra en espera en la funcion\n            disabled={!productosCompra.length}\n            startIcon={<Timer />}\n          >\n            Compra en espera\n          </Button>\n        )}\n        <CompraCredito realizarCompraBD={realizarCompraBD} />\n        <ConfirmarCompra realizarCompraBD={realizarCompraBD} />\n      </DialogActions>\n    </Dialog>\n  );\n};\n\nconst CancelarCompra = ({ handleClose, handleToggleDelete, openDelete }) => {\n  const {\n    setProductosCompra,\n    setDatosCompra,\n    setPreciosVenta,\n    setProductoOriginal,\n    setDatosProducto,\n  } = useContext(ComprasContext);\n\n  const cancelarCompra = () => {\n    /* reset states */\n    setDatosProducto(initial_state_datosProducto);\n    setDatosCompra(initial_state_datosCompra);\n    setPreciosVenta(initial_state_precios_venta);\n    setProductoOriginal(initial_state_productoOriginal);\n    setProductosCompra(initial_state_productosCompra);\n    /* cerrar modales */\n    handleToggleDelete();\n    handleClose();\n  };\n\n  return (\n    <div>\n      <Dialog\n        open={openDelete}\n        TransitionComponent={Transition}\n        keepMounted\n        onClose={handleToggleDelete}\n        aria-labelledby=\"modal-eliminar-compra\"\n      >\n        <DialogTitle id=\"modal-eliminar-compra\">\n          Quieres cancelar esta compra?\n        </DialogTitle>\n\n        <DialogActions>\n          <Button onClick={handleToggleDelete} color=\"primary\">\n            Cancelar\n          </Button>\n          <Button onClick={cancelarCompra} color=\"secondary\">\n            Aceptar\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n};\n","import React, { Fragment } from \"react\";\nimport { CloudDownloadOutlined } from \"@material-ui/icons\";\nimport { Grid, Button, Box } from \"@material-ui/core\";\nimport ReactExport from \"react-export-excel\";\nimport {\n  formatoFecha,\n  formatoMexico,\n} from \"../../../../config/reuserFunctions\";\n\nconst ExcelFile = ReactExport.ExcelFile;\nconst ExcelSheet = ReactExport.ExcelFile.ExcelSheet;\nconst ExcelColumn = ReactExport.ExcelFile.ExcelColumn;\n\nexport default function ExportarProductosComprasExcel({ compra }) {\n  const {\n    almacen,\n    proveedor,\n    fecha_registro,\n    subtotal,\n    impuestos,\n    total,\n    productos,\n  } = compra;\n\n  const compra_realizada = [\n    {\n      almacen: almacen.nombre_almacen,\n      proveedor: proveedor.nombre_cliente,\n      fecha_registro: formatoFecha(fecha_registro),\n      subtotal: formatoMexico(subtotal),\n      impuestos: formatoMexico(impuestos),\n      total: formatoMexico(total),\n    },\n  ];\n\n  const productos_detalles = productos.map((productos) => {\n    const {\n      producto,\n      medida,\n      color,\n      unidad,\n      cantidad,\n      Cantidad_regalo,\n      cantidad_total,\n      descuento_precio,\n      descuento_porcentaje,\n      subtotal,\n      impuestos,\n      total,\n    } = productos;\n    const detalle_producto = {\n      producto: producto.datos_generales.nombre_comercial,\n      medida: medida ? medida.medida : \"N/A\",\n      color: color ? color.color : \"N/A\",\n      unidad,\n      cantidad,\n      Cantidad_regalo,\n      cantidad_total,\n      descuento_precio,\n      descuento_porcentaje,\n      subtotal: formatoMexico(subtotal),\n      impuestos: formatoMexico(impuestos),\n      total: formatoMexico(total),\n    };\n\n    return detalle_producto;\n  });\n\n  return (\n    <Fragment>\n      <Grid>\n        <Grid item>\n          <ExcelFile\n            element={\n              <Box display=\"flex\" justifyContent=\"flex-end\">\n                <Button\n                  variant=\"contained\"\n                  color=\"primary\"\n                  startIcon={<CloudDownloadOutlined />}\n                >\n                  Exportar a Excel\n                </Button>\n              </Box>\n            }\n            filename={\"Detalle de compra\"}\n          >\n            <ExcelSheet data={compra_realizada} name=\"Detalle compra\">\n              <ExcelColumn label=\"Almacen\" value=\"almacen\" />\n              <ExcelColumn label=\"Proveedor\" value=\"proveedor\" />\n              <ExcelColumn label=\"Fecha de compra\" value=\"fecha_registro\" />\n              <ExcelColumn label=\"Subtotal\" value=\"subtotal\" />\n              <ExcelColumn label=\"Impuestos\" value=\"impuestos\" />\n              <ExcelColumn label=\"Total\" value=\"total\" />\n            </ExcelSheet>\n            <ExcelSheet data={productos_detalles} name=\"Productos de la compra\">\n              <ExcelColumn label=\"Producto\" value=\"producto\" />\n              <ExcelColumn label=\"Medida\" value=\"medida\" />\n              <ExcelColumn label=\"Color\" value=\"color\" />\n              <ExcelColumn label=\"Unidad\" value=\"unidad\" />\n              <ExcelColumn label=\"Cantidad\" value=\"cantidad\" />\n              <ExcelColumn label=\"Cantidad de regalo\" value=\"cantidad_regalo\" />\n              <ExcelColumn label=\"Cantidad total\" value=\"cantidad_total\" />\n              <ExcelColumn\n                label=\"Precio de descuento\"\n                value=\"descuento_precio\"\n              />\n              <ExcelColumn\n                label=\"Porcentaje de descuento\"\n                value=\"descuento_porcentaje\"\n              />\n              <ExcelColumn label=\"Subtotal\" value=\"subtotal\" />\n              <ExcelColumn label=\"Impuestos\" value=\"impuestos\" />\n              <ExcelColumn label=\"Total\" value=\"total\" />\n            </ExcelSheet>\n          </ExcelFile>\n        </Grid>\n      </Grid>\n    </Fragment>\n  );\n}\n","import React, { Fragment, useEffect, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\n\nimport Box from \"@material-ui/core/Box\";\nimport Chip from \"@material-ui/core/Chip\";\nimport Grid from \"@material-ui/core/Grid\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { useTheme } from \"@material-ui/core\";\nimport SearchOutlinedIcon from \"@material-ui/icons/SearchOutlined\";\nimport { formatoMexico } from \"../../../../config/reuserFunctions\";\nimport ExportarProductosComprasExcel from \"./ExportarProductosCompra\";\n\nconst useStyles = makeStyles({\n  root: {\n    width: \"100%\",\n  },\n  container: {\n    height: \"50vh\",\n  },\n});\n\nexport default function DatosDeCompra({ compra }) {\n  const classes = useStyles();\n  const theme = useTheme();\n  const { productos } = compra;\n  const [busqueda, setBusqueda] = useState(\"\");\n  const [productosFiltrados, setProductosFiltrados] = useState([]);\n\n  const obtenerBusqueda = (value) => setBusqueda(value);\n\n  useEffect(() => {\n    setProductosFiltrados(\n      productos.filter((datos) => {\n        return datos.producto.datos_generales.nombre_comercial\n          .toLowerCase()\n          .includes(busqueda.toLowerCase());\n      })\n    );\n  }, [busqueda, productos]);\n\n  return (\n    <Fragment>\n      <Box mb={1} display=\"flex\">\n        <Typography style={{ marginRight: 16 }}>\n          <b>Proveedor: </b>\n          {compra.proveedor.nombre_cliente}\n        </Typography>\n        <Typography style={{ marginRight: 16 }}>\n          <b>Almacen: </b>\n          {compra.almacen.nombre_almacen}\n        </Typography>\n        <Typography style={{ marginRight: 16 }}>\n          <b>Subtotal: ${compra.subtotal}</b>\n        </Typography>\n        <Typography style={{ marginRight: 16 }}>\n          <b>Impuestos: ${compra.impuestos}</b>\n        </Typography>\n        <Typography style={{ marginRight: 16 }}>\n          <b>Total: ${compra.total}</b>\n        </Typography>\n        {compra.compra_credito === true ? (\n          <Chip\n          label={\n            compra.credito_pagado === true ? 'Credito pagado' : `Saldo pendiente: $${formatoMexico(compra.saldo_credito_pendiente)}`\n          }\n          color={compra.credito_pagado === true ? \"primary\" : \"secondary\"}\n          variant=\"outlined\"\n        />\n        ) : null}\n      </Box>\n      <Box mb={2} display=\"flex\">\n        <Grid container>\n          <Grid item sm={6} xs={12}>\n            <TextField\n              fullWidth\n              size=\"small\"\n              variant=\"outlined\"\n              placeholder=\"Buscar una compra...\"\n              onChange={(e) => obtenerBusqueda(e.target.value)}\n              InputProps={{\n                startAdornment: (\n                  <InputAdornment position=\"start\">\n                    <SearchOutlinedIcon color=\"action\" />\n                  </InputAdornment>\n                ),\n              }}\n            />\n          </Grid>\n          <Grid item sm={6} xs={12}>\n            <ExportarProductosComprasExcel compra={compra} />\n          </Grid>\n        </Grid>\n      </Box>\n      <Paper className={classes.root}>\n        <TableContainer className={classes.container}>\n          <Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n            <TableHead>\n              <TableRow>\n                <TableCell>Producto</TableCell>\n                <TableCell>Medida</TableCell>\n                <TableCell>Color</TableCell>\n                <TableCell>Unidad</TableCell>\n                <TableCell>Cantidad</TableCell>\n                <TableCell>C. regalo</TableCell>\n                <TableCell>C. total</TableCell>\n                <TableCell>Descuento</TableCell>\n                <TableCell>Subtotal</TableCell>\n                <TableCell>Impuestos</TableCell>\n                <TableCell>Total</TableCell>\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {productosFiltrados.map((datos, index) => {\n                return (\n                  <TableRow hover tabIndex={-1} key={index}>\n                    <TableCell>\n                      {datos.producto.datos_generales.nombre_comercial}\n                    </TableCell>\n                    <TableCell padding=\"checkbox\">\n                      {datos.medida && datos.medida.medida ? datos.medida.medida : \"N/A\"}\n                    </TableCell>\n                    <TableCell padding=\"checkbox\">\n                      {datos.color && datos.color.hex ? (\n                        <Chip\n                          label={datos.color.color}\n                          size=\"small\"\n                          style={{\n                            backgroundColor: datos.color.hex,\n                            color: theme.palette.getContrastText(\n                              datos.color.hex\n                            ),\n                          }}\n                        />\n                      ) : (\n                        \"N/A\"\n                      )}\n                    </TableCell>\n                    <TableCell>{datos.unidad}</TableCell>\n                    <TableCell>{datos.cantidad}</TableCell>\n                    <TableCell>{datos.cantidad_regalo}</TableCell>\n                    <TableCell>{datos.cantidad_total}</TableCell>\n                    <TableCell>{`$${datos.descuento_precio} - %${datos.descuento_porcentaje}`}</TableCell>\n                    <TableCell>\n                      <b>${formatoMexico(datos.subtotal)}</b>\n                    </TableCell>\n                    <TableCell>\n                      <b>${formatoMexico(datos.impuestos)}</b>\n                    </TableCell>\n                    <TableCell>\n                      <b>${formatoMexico(datos.total)}</b>\n                    </TableCell>\n                  </TableRow>\n                );\n              })}\n            </TableBody>\n          </Table>\n        </TableContainer>\n      </Paper>\n    </Fragment>\n  );\n}\n","import React, { Fragment, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport {\n  Dialog,\n  Typography,\n  Box,\n  Button,\n  IconButton,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n  Slide,\n  Chip,\n} from \"@material-ui/core\";\nimport DatosDeCompra from \"./DatosDeCompra\";\nimport {\n  formatoFecha,\n  formatoMexico,\n} from \"../../../../config/reuserFunctions\";\nimport { AssignmentOutlined, Done } from \"@material-ui/icons\";\n\nconst useStyles = makeStyles({\n  root: {\n    width: \"100%\",\n  },\n  container: {\n    height: \"72vh\",\n  },\n});\n\nexport default function ListaProductos({ obtenerComprasRealizadas }) {\n  const classes = useStyles();\n\n  return (\n    <Paper className={classes.root} variant=\"outlined\">\n      <TableContainer className={classes.container}>\n        <Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n          <TableHead>\n            <TableRow>\n              <TableCell>Almacen</TableCell>\n              <TableCell>Proveedor</TableCell>\n              <TableCell>Fecha de compra</TableCell>\n              <TableCell>Compra a credito</TableCell>\n              <TableCell>Subtotal</TableCell>\n              <TableCell>Impuestos</TableCell>\n              <TableCell>Total</TableCell>\n              <TableCell>Productos</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {obtenerComprasRealizadas.map((compra, index) => (\n              <RenderRowsCompras key={index} compra={compra} />\n            ))}\n          </TableBody>\n        </Table>\n      </TableContainer>\n    </Paper>\n  );\n}\n\nconst RenderRowsCompras = ({ compra }) => {\n  const {\n    almacen,\n    proveedor,\n    fecha_registro,\n    compra_credito,\n    credito_pagado,\n    subtotal,\n    impuestos,\n    total,\n  } = compra;\n\n  return (\n    <TableRow hover tabIndex={-1}>\n      <TableCell>{almacen.nombre_almacen}</TableCell>\n      <TableCell>{proveedor.nombre_cliente}</TableCell>\n      <TableCell>{formatoFecha(fecha_registro)}</TableCell>\n      <TableCell>\n        {compra_credito === true ? (\n          <Chip\n          label={\n            credito_pagado === true ? 'Credito: Pagado' : \"Credito: Pendiente\"\n          }\n          color={credito_pagado === true ? \"primary\" : \"secondary\"}\n          variant=\"outlined\"\n        />\n        ) : null}\n      </TableCell>\n      <TableCell>\n        <b>${formatoMexico(subtotal)}</b>\n      </TableCell>\n      <TableCell>\n        <b>${formatoMexico(impuestos)}</b>\n      </TableCell>\n      <TableCell>\n        <b>${formatoMexico(total)}</b>\n      </TableCell>\n      <TableCell>\n        <DetallesCompra compra={compra} />\n      </TableCell>\n    </TableRow>\n  );\n};\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nconst DetallesCompra = ({ compra }) => {\n  const [open, setOpen] = useState(false);\n\n  const handleOpen = () => {\n    setOpen(!open);\n  };\n  return (\n    <Fragment>\n      <IconButton onClick={() => handleOpen()}>\n        <AssignmentOutlined />\n      </IconButton>\n      <Dialog\n        open={open}\n        onClose={handleOpen}\n        fullWidth\n        maxWidth=\"lg\"\n        TransitionComponent={Transition}\n      >\n        <DialogTitle>\n          <Box display=\"flex\">\n            <Typography variant=\"h6\" style={{ flexGrow: 1 }}>\n              Datos de compra\n            </Typography>\n            <Button\n              variant=\"text\"\n              color=\"primary\"\n              onClick={handleOpen}\n              size=\"large\"\n            >\n              <CloseIcon style={{ fontSize: 30 }} />\n            </Button>\n          </Box>\n        </DialogTitle>\n        <DialogContent>\n          <DatosDeCompra compra={compra} />\n        </DialogContent>\n        <DialogActions>\n          <Button\n            variant=\"text\"\n            color=\"primary\"\n            size=\"large\"\n            startIcon={<Done />}\n            onClick={() => handleOpen()}\n          >\n            Acpetar\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </Fragment>\n  );\n};\n","import React, { Fragment } from \"react\";\nimport { CloudDownloadOutlined } from \"@material-ui/icons\";\nimport { Grid, Button, Box } from \"@material-ui/core\";\nimport ReactExport from \"react-export-excel\";\nimport {\n  formatoFecha,\n  formatoMexico,\n} from \"../../../../config/reuserFunctions\";\n\nconst ExcelFile = ReactExport.ExcelFile;\nconst ExcelSheet = ReactExport.ExcelFile.ExcelSheet;\nconst ExcelColumn = ReactExport.ExcelFile.ExcelColumn;\n\nexport default function ExportarComprasExcel({\n  obtenerComprasRealizadas,\n  filtro,\n  filtroFecha,\n}) {\n  const compras = obtenerComprasRealizadas.map((compra) => {\n    const {\n      almacen,\n      proveedor,\n      fecha_registro,\n      subtotal,\n      impuestos,\n      total,\n    } = compra;\n    const compra_realizada = {\n      almacen: almacen.nombre_almacen,\n      proveedor: proveedor.nombre_cliente,\n      fecha_registro: formatoFecha(fecha_registro),\n      subtotal: formatoMexico(subtotal),\n      impuestos: formatoMexico(impuestos),\n      total: formatoMexico(total),\n    };\n\n    return compra_realizada;\n  });\n\n  let nombre_documento = \"\";\n  if (filtro && filtroFecha.fecha) {\n    nombre_documento = `Lista de compras realizadas desde hace ${filtroFecha.since} y filtradas por ${filtro}`;\n  } else if (filtro && !filtroFecha.fecha) {\n    nombre_documento = `Lista de compras realizadas filtradas por ${filtro}`;\n  } else if (!filtro && filtroFecha.fecha) {\n    nombre_documento = `Lista de compras realizadas desde hace ${filtroFecha.since}`;\n  } else if (!filtro && !filtroFecha.fecha) {\n    nombre_documento = `Lista de compras realizadas`;\n  }\n\n  return (\n    <Fragment>\n      <Grid>\n        <Grid item>\n          <ExcelFile\n            element={\n              <Box display=\"flex\" justifyContent=\"flex-end\">\n                <Button\n                  variant=\"contained\"\n                  color=\"primary\"\n                  startIcon={<CloudDownloadOutlined />}\n                >\n                  Exportar a Excel\n                </Button>\n              </Box>\n            }\n            filename={nombre_documento}\n          >\n            <ExcelSheet data={compras} name={nombre_documento}>\n              <ExcelColumn label=\"Almacen\" value=\"almacen\" />\n              <ExcelColumn label=\"Proveedor\" value=\"proveedor\" />\n              <ExcelColumn label=\"Fecha de compra\" value=\"fecha_registro\" />\n              <ExcelColumn label=\"Subtotal\" value=\"subtotal\" />\n              <ExcelColumn label=\"Impuestos\" value=\"impuestos\" />\n              <ExcelColumn label=\"Total\" value=\"total\" />\n            </ExcelSheet>\n          </ExcelFile>\n        </Grid>\n      </Grid>\n    </Fragment>\n  );\n}\n","import React, { Fragment, useRef, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Box from \"@material-ui/core/Box\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport Container from \"@material-ui/core/Container\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Typography from \"@material-ui/core/Typography\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport Slide from \"@material-ui/core/Slide\";\nimport Chip from \"@material-ui/core/Chip\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Select from \"@material-ui/core/Select\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Grid from \"@material-ui/core/Grid\";\nimport { FcInspection } from \"react-icons/fc\";\nimport ListaCompras from \"./ListaCompras\";\nimport { useQuery } from \"@apollo/client\";\nimport { OBTENER_COMPRAS_REALIZADAS } from \"../../../../gql/Compras/compras\";\nimport ErrorPage from \"../../../../components/ErrorPage\";\nimport { SearchOutlined } from \"@material-ui/icons\";\nimport moment from \"moment\";\nimport ExportarComprasExcel from \"./ExportarComprasExcel\";\n\nconst useStyles = makeStyles((theme) => ({\n  appBar: {\n    position: \"relative\",\n  },\n  title: {\n    marginLeft: theme.spacing(2),\n    flex: 1,\n  },\n  icon: {\n    fontSize: 100,\n  },\n  formInputFlex: {\n    display: \"flex\",\n    \"& > *\": {\n      margin: `${theme.spacing(1)}px ${theme.spacing(1)}px`,\n    },\n  },\n  formInput: {\n    margin: `${theme.spacing(1)}px ${theme.spacing(2)}px`,\n  },\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function ComprasRealizadas() {\n  const classes = useStyles();\n  const [open, setOpen] = React.useState(false);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  return (\n    <div>\n      <Button fullWidth onClick={handleClickOpen}>\n        <Box display=\"flex\" flexDirection=\"column\">\n          <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n            <FcInspection className={classes.icon} />\n          </Box>\n          Compras realizadas\n        </Box>\n      </Button>\n      <Dialog\n        fullScreen\n        open={open}\n        onClose={handleClose}\n        TransitionComponent={Transition}\n      >\n        <AppBar className={classes.appBar}>\n          <Toolbar>\n            <Typography variant=\"h6\" className={classes.title}>\n              Compras realizadas\n            </Typography>\n            <Box m={1}>\n              <Button\n                variant=\"contained\"\n                color=\"secondary\"\n                onClick={handleClose}\n                size=\"large\"\n              >\n                <CloseIcon style={{ fontSize: 30 }} />\n              </Button>\n            </Box>\n          </Toolbar>\n        </AppBar>\n        <Container maxWidth=\"xl\">\n          <ContentDialogCompras />\n        </Container>\n      </Dialog>\n    </div>\n  );\n}\n\nconst ContentDialogCompras = () => {\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n  const [filtro, setFiltro] = useState(\"\");\n  const [filtroFecha, setFiltroFecha] = useState({ fecha: \"\", since: \"todos\" });\n  const searchfilter = useRef(null);\n  const filterDate = useRef(null);\n\n  /* Queries */\n  const { loading, data, error, refetch } = useQuery(\n    OBTENER_COMPRAS_REALIZADAS,\n    {\n      variables: {\n        empresa: sesion.empresa._id,\n        sucursal: sesion.sucursal._id,\n        fecha: filtroFecha.fecha,\n      },\n      fetchPolicy: \"network-only\",\n    }\n  );\n\n  if (loading)\n    return (\n      <Box\n        display=\"flex\"\n        flexDirection=\"column\"\n        justifyContent=\"center\"\n        alignItems=\"center\"\n        height=\"40vh\"\n      >\n        <CircularProgress />\n        <Typography variant=\"h5\">Cargando</Typography>\n      </Box>\n    );\n  if (error) {\n    return <ErrorPage error={error} altura={300} />;\n  }\n\n  let obtenerComprasRealizadas = [];\n  if (data) obtenerComprasRealizadas = data.obtenerComprasRealizadas;\n\n  const obtenerBusqueda = (e, value) => {\n    e.preventDefault();\n    refetch({ filtro: value, fecha: filtroFecha.fecha });\n    setFiltro(value);\n  };\n\n  const handleDeleteFiltro = () => {\n    refetch({ filtro: \"\", fecha: filtroFecha.fecha });\n    setFiltro(\"\");\n    searchfilter.current.value = \"\";\n  };\n  const handleDeleteFecha = () => {\n    refetch({ filtro, fecha: \"\" });\n    setFiltroFecha({ since: \"todos\", fecha: \"\" });\n    filterDate.current.value = \"todos\";\n  };\n\n  const obtenerFecha = (value) => {\n    switch (value) {\n      case \"7 dias\":\n        setFiltroFecha({\n          since: value,\n          fecha: moment().subtract(7, \"d\").format(),\n        });\n        refetch({ filtro, fecha: moment().subtract(7, \"d\").format() });\n        break;\n      case \"2 semanas\":\n        setFiltroFecha({\n          since: value,\n          fecha: moment().subtract(2, \"w\").format(),\n        });\n        refetch({ filtro, fecha: moment().subtract(2, \"w\").format() });\n        break;\n      case \"1 mes\":\n        setFiltroFecha({\n          since: value,\n          fecha: moment().subtract(1, \"M\").format(),\n        });\n        refetch({ filtro, fecha: moment().subtract(1, \"M\").format() });\n        break;\n      case \"3 meses\":\n        setFiltroFecha({\n          since: value,\n          fecha: moment().subtract(3, \"M\").format(),\n        });\n        refetch({ filtro, fecha: moment().subtract(3, \"M\").format() });\n        break;\n      case \"6 meses\":\n        setFiltroFecha({\n          since: value,\n          fecha: moment().subtract(6, \"M\").format(),\n        });\n        refetch({ filtro, fecha: moment().subtract(6, \"M\").format() });\n        break;\n      case \"8 meses\":\n        setFiltroFecha({\n          since: value,\n          fecha: moment().subtract(8, \"M\").format(),\n        });\n        refetch({ filtro, fecha: moment().subtract(8, \"M\").format() });\n        break;\n      case \"1 ao\":\n        setFiltroFecha({\n          since: value,\n          fecha: moment().subtract(1, \"y\").format(),\n        });\n        refetch({ filtro, fecha: moment().subtract(1, \"y\").format() });\n        break;\n      default:\n        setFiltroFecha({ since: \"todos\", fecha: \"\" });\n        refetch({ filtro, fecha: \"\" });\n        break;\n    }\n  };\n\n  return (\n    <Fragment>\n      <Box my={3}>\n        <Grid container spacing={2}>\n          <Grid item md={4} xs={12}>\n            <form onSubmit={(e) => obtenerBusqueda(e, e.target[0].value)}>\n              <TextField\n                inputRef={searchfilter}\n                fullWidth\n                size=\"small\"\n                variant=\"outlined\"\n                placeholder=\"Buscar una compra...\"\n                InputProps={{\n                  endAdornment: (\n                    <InputAdornment position=\"end\">\n                      <IconButton type=\"submit\" color=\"primary\" size=\"medium\">\n                        <SearchOutlined />\n                      </IconButton>\n                    </InputAdornment>\n                  ),\n                }}\n              />\n            </form>\n          </Grid>\n          <Grid item md={4} xs={12}>\n            <FormControl variant=\"outlined\" fullWidth size=\"small\">\n              <InputLabel id=\"label-select-fecha-filter\">\n                Filtrar desde...\n              </InputLabel>\n              <Select\n                inputRef={filterDate}\n                labelId=\"label-select-fecha-filter\"\n                value={filtroFecha.since}\n                onChange={(e) => obtenerFecha(e.target.value)}\n                label=\"Filtrar desde...\"\n              >\n                <MenuItem value=\"todos\">\n                  <em>Todos los registros</em>\n                </MenuItem>\n                <MenuItem value=\"7 dias\">hace 7 das</MenuItem>\n                <MenuItem value=\"2 semanas\">hace 2 semanas</MenuItem>\n                <MenuItem value=\"1 mes\">hace 1 mes</MenuItem>\n                <MenuItem value=\"3 meses\">hace 3 meses</MenuItem>\n                <MenuItem value=\"6 meses\">hace 6 meses</MenuItem>\n                <MenuItem value=\"8 meses\">hace 8 meses</MenuItem>\n                <MenuItem value=\"1 ao\">hace 1 ao</MenuItem>\n              </Select>\n            </FormControl>\n          </Grid>\n          <Grid item md={4} xs={12}>\n            <ExportarComprasExcel\n              obtenerComprasRealizadas={obtenerComprasRealizadas}\n              filtro={filtro}\n              filtroFecha={filtroFecha}\n            />\n          </Grid>\n        </Grid>\n      </Box>\n      {filtro || filtroFecha.fecha ? (\n        <Box display=\"flex\" mb={1}>\n          <Typography variant=\"h6\">Resultados de:</Typography>\n          <Box mr={1} />\n          {filtro ? (\n            <Chip\n              variant=\"outlined\"\n              size=\"medium\"\n              label={filtro}\n              onDelete={handleDeleteFiltro}\n            />\n          ) : null}\n          <Box mx={1} />\n          {filtroFecha.fecha ? (\n            <Chip\n              variant=\"outlined\"\n              size=\"medium\"\n              label={`Desde hace ${filtroFecha.since}`}\n              onDelete={handleDeleteFecha}\n            />\n          ) : null}\n        </Box>\n      ) : null}\n\n      <ListaCompras obtenerComprasRealizadas={obtenerComprasRealizadas} />\n    </Fragment>\n  );\n};\n","import React, { Fragment, useCallback, useEffect, useState } from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport Slide from \"@material-ui/core/Slide\";\nimport { CheckCircle, Done, VerifiedUser } from \"@material-ui/icons\";\nimport { Box, CircularProgress } from \"@material-ui/core\";\n\nimport { useLazyQuery } from \"@apollo/client\";\nimport { OBTENER_PRODUCTOS } from \"../../../../gql/Catalogos/productos\";\nimport ErrorPage from \"../../../../components/ErrorPage\";\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function VerificarProductosCompras({\n  compra,\n  nuevoArray,\n  setNuevoArray,\n  setVerificado,\n}) {\n  const [open, setOpen] = useState(false);\n  const [success, setSuccess] = useState(false);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    if (success) {\n      setVerificado(true);\n    }\n    setOpen(false);\n  };\n\n  return (\n    <div>\n      <Button\n        variant=\"contained\"\n        color=\"primary\"\n        onClick={() => handleClickOpen()}\n        startIcon={<VerifiedUser />}\n      >\n        Continuar compra\n      </Button>\n      <Dialog\n        open={open}\n        TransitionComponent={Transition}\n        keepMounted\n        /* onClose={() => handleClose()} */\n        onClose={(event, reason) => {\n          if (reason !== \"backdropClick\") {\n            handleClose();\n          }\n        }}\n        aria-labelledby=\"dialog-verificarcompra-title\"\n        aria-describedby=\"dialog-verificarcompra-description\"\n        fullWidth\n        maxWidth=\"sm\"\n      >\n        <ModalVerificacion\n          handleClose={handleClose}\n          compra={compra}\n          handleClickOpen={handleClickOpen}\n          open={open}\n          nuevoArray={nuevoArray}\n          setNuevoArray={setNuevoArray}\n          setSuccess={setSuccess}\n        />\n      </Dialog>\n    </div>\n  );\n}\n\nconst ModalVerificacion = ({\n  handleClose,\n  compra,\n  handleClickOpen,\n  open,\n  nuevoArray,\n  setNuevoArray,\n  setSuccess,\n}) => {\n  const [loadingVerificacion, setLoadingVerificacion] = useState(false);\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n  let count = 0;\n\n  /* Queries */\n  const [getQuery, { loading, data, error }] = useLazyQuery(OBTENER_PRODUCTOS, {\n    variables: {\n      empresa: sesion.empresa._id,\n      sucursal: sesion.sucursal._id,\n      almacen: compra.almacen.id_almacen,\n    },\n    fetchPolicy: \"network-only\",\n  });\n\n  if (data) count = 1;\n\n  useEffect(() => {\n    if (open && count === 0) {\n      getQuery();\n      count = 1;\n    }\n  }, [handleClickOpen]);\n\n  useEffect(() => {\n    if (data) {\n      verificarProductos();\n    }\n  }, [data]);\n\n  if (loading) {\n    return (\n      <Fragment>\n        <DialogContent\n          style={{\n            height: 150,\n            display: \"flex\",\n            alignItems: \"center\",\n            justifyContent: \"center\",\n            flexDirection: \"column\",\n          }}\n        >\n          <DialogContentText id=\"dialog-verificarcompra-description\">\n            Si ya no hay existencias en tu producto se marcaran en la tabla y se\n            quitaran al retomar la compra para no causar conflictos, podras\n            editar tu compra mas adelante\n          </DialogContentText>\n          <Box display=\"flex\" alignItems=\"center\">\n            <CircularProgress\n              size={18}\n              color=\"primary\"\n              style={{ marginRight: 8 }}\n            />\n            Obteniendo productos de la Base de datos...\n          </Box>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={handleClose} color=\"inherit\">\n            Cancelar\n          </Button>\n        </DialogActions>\n      </Fragment>\n    );\n  }\n\n  if (error) {\n    return (\n      <Fragment>\n        <DialogContent>\n          <ErrorPage error={error} altura={130} />\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={handleClose} color=\"inherit\">\n            Cerrar\n          </Button>\n        </DialogActions>\n      </Fragment>\n    );\n  }\n\n  let obtenerProductos = [];\n  if (data) obtenerProductos = data.obtenerProductos;\n\n  /* console.log(compra); */\n\n  function verificarProductos() {\n    setLoadingVerificacion(true);\n    const { productos } = compra;\n    let productos_nuevos = [...productos];\n    let conflicto = false;\n\n    for (let i = 0; i < productos.length; i++) {\n      const productosCompra = productos[i];\n      let copy_producto_compra = { ...productosCompra };\n      let copy_producto = { ...productosCompra.producto };\n\n      //Filtrar los productos\n      const productos_filtrados = obtenerProductos.filter(\n        (res) => res._id === copy_producto_compra.id_producto\n      );\n\n      const { precios, unidades_de_venta, presentaciones } = copy_producto;\n\n      const precios_base = productos_filtrados[0].precios;\n      const unidades_base = productos_filtrados[0].unidades_de_venta;\n      const presentaciones_base = productos_filtrados[0].medidas_producto;\n\n      //verificacion de Precios\n      if (\n        precios.unidad_de_compra.cantidad !==\n          precios_base.unidad_de_compra.cantidad ||\n        precios.unidad_de_compra.precio_unitario_con_impuesto !==\n          precios_base.unidad_de_compra.precio_unitario_con_impuesto ||\n        precios.unidad_de_compra.unidad !== precios_base.unidad_de_compra.unidad\n      ) {\n        /* console.log(\"conflicto precios\"); */\n        //si son diferentes se agrega los precios_base al compra_nueva\n        copy_producto.precios = precios_base;\n        copy_producto_compra.producto = copy_producto;\n        copy_producto_compra.conflicto = true;\n        productos_nuevos[i] = copy_producto_compra;\n        conflicto = true;\n      }\n      //verificacion de Unidades de venta\n      const u_default = unidades_de_venta.filter((res) => res.default === true);\n      const u_default_base = unidades_base.filter(\n        (res) => res.default === true\n      );\n      if (\n        u_default[0].cantidad !== u_default_base[0].cantidad ||\n        u_default[0].precio !== u_default_base[0].precio ||\n        u_default[0].unidad !== u_default_base[0].unidad\n      ) {\n        //si son diferentes se agrega los precios_base al compra_nueva\n        copy_producto.unidades_de_venta = unidades_base;\n        copy_producto_compra.producto = copy_producto;\n        copy_producto_compra.conflicto = true;\n        productos_nuevos[i] = copy_producto_compra;\n        conflicto = true;\n        /* console.log(\"conflicto unidades\"); */\n      }\n\n      //verificacion de Presentaciones si hay presentaciones\n\n      if (presentaciones.length > 0) {\n        /* console.log(presentaciones, presentaciones_base); */\n        if (presentaciones_base.length > 0) {\n          if (presentaciones.length === presentaciones_base.length) {\n            for (let x = 0; x < presentaciones.length; x++) {\n              const present = presentaciones[x];\n              for (let y = 0; y < presentaciones_base.length; y++) {\n                const present_base = presentaciones_base[y];\n\n                if (\n                  present.medida._id === present_base.medida._id &&\n                  present.color._id === present_base.color._id &&\n                  present.almacen === present_base.almacen\n                ) {\n                  if (\n                    present.cantidad !== present_base.cantidad ||\n                    present.precio !== present_base.precio\n                  ) {\n                    //si son diferentes se agrega las presentaciones_base al compra_nueva\n                    copy_producto.presentaciones = presentaciones_base;\n                    copy_producto_compra.producto = copy_producto;\n                    copy_producto_compra.conflicto = true;\n                    productos_nuevos[i] = copy_producto_compra;\n                    conflicto = true;\n                    /* console.log(\"conflicto presentaciones\"); */\n                  }\n                }\n              }\n            }\n          } else {\n            //si son diferentes se agrega las presentaciones al compra_nueva\n            copy_producto.presentaciones = presentaciones_base;\n            copy_producto_compra.producto = copy_producto;\n            copy_producto_compra.conflicto = true;\n            productos_nuevos[i] = copy_producto_compra;\n            conflicto = true;\n            /* console.log(\"conflicto diferentes presentaciones \"); */\n          }\n        } else {\n          //si no hay se agrega las presentaciones al compra_nueva\n          copy_producto_compra.conflicto = true;\n          productos_nuevos[i] = copy_producto_compra;\n          conflicto = true;\n          /* console.log(\"conflicto sin presentaciones \"); */\n        }\n      }\n    }\n\n    const nuevo_producto_compra = [];\n    let subtotal = 0;\n    let impuestos = 0;\n    let total = 0;\n    if (conflicto) {\n      for (let k = 0; k < productos_nuevos.length; k++) {\n        const datosProducto = { ...productos_nuevos[k] };\n\n        if (datosProducto.producto.datos_generales.tipo_producto !== \"OTROS\") {\n          //si es calzado o ropa\n          //CANTIDADES\n          if (datosProducto.producto.presentaciones.length > 0) {\n            datosProducto.cantidad = 0;\n            datosProducto.producto.presentaciones.forEach((presentacion) => {\n              const { cantidad, cantidad_nueva } = presentacion;\n              let nueva = cantidad_nueva ? cantidad_nueva : 0;\n              datosProducto.cantidad += cantidad + nueva;\n            });\n            if (isNaN(datosProducto.cantidad)) datosProducto.cantidad = 0;\n            datosProducto.cantidad_total = datosProducto.cantidad;\n          } else {\n            datosProducto.cantidad = 0;\n            datosProducto.cantidad_total = datosProducto.cantidad;\n          }\n        } else {\n          //Si es una unidad normal\n\n          //CANTIDADES\n          const { cantidad_regalo, cantidad, unidad_regalo } = datosProducto;\n          //convertir todo a la unidad media y sumar (Pz, Kg, Lt)\n          const factor =\n            datosProducto.producto.precios.unidad_de_compra.cantidad;\n          const cantiad_media = cantidad * factor;\n          let cantidad_regalo_media =\n            unidad_regalo === \"Pz\" ||\n            unidad_regalo === \"Kg\" ||\n            unidad_regalo === \"Lt\"\n              ? cantidad_regalo\n              : cantidad_regalo * factor;\n          let cantidad_total_media = cantiad_media + cantidad_regalo_media;\n\n          //si factor es > 1 es caja o costal y dividir unidad media entre factor y si no mandar la cantidad total media;\n          if (factor > 1) {\n            datosProducto.cantidad_regalo = cantidad_regalo_media / factor;\n            datosProducto.cantidad_total = cantidad_total_media / factor;\n          } else {\n            datosProducto.cantidad_regalo = cantidad_regalo_media;\n            datosProducto.cantidad_total = cantidad_total_media;\n          }\n        }\n\n        //PRECIOS\n        const {\n          iva,\n          ieps,\n          precio_con_impuesto,\n          precio_sin_impuesto,\n        } = datosProducto.producto.precios.precio_de_compra;\n\n        datosProducto.total_con_descuento = precio_con_impuesto;\n        datosProducto.costo = precio_con_impuesto;\n        datosProducto.iva_total = iva * datosProducto.cantidad_total;\n        datosProducto.ieps_total = ieps * datosProducto.cantidad_total;\n        datosProducto.impuestos = (iva + ieps) * datosProducto.cantidad_total;\n        datosProducto.subtotal =\n          precio_sin_impuesto * datosProducto.cantidad_total;\n        datosProducto.total =\n          precio_con_impuesto * datosProducto.cantidad_total;\n\n        if (datosProducto.descuento_porcentaje > 0) {\n          datosProducto.descuento_precio = Math.round(\n            (precio_con_impuesto * datosProducto.descuento_porcentaje) / 100\n          );\n          datosProducto.total_con_descuento =\n            precio_con_impuesto - datosProducto.descuento_precio;\n        }\n\n        subtotal += datosProducto.subtotal;\n        impuestos += datosProducto.impuestos;\n        total +=\n          datosProducto.total_con_descuento * datosProducto.cantidad_total;\n\n        nuevo_producto_compra.push(datosProducto);\n      }\n      setNuevoArray({\n        _id: compra._id,\n        almacen: compra.almacen,\n        proveedor: compra.proveedor,\n        productos: nuevo_producto_compra,\n        en_espera: compra.en_espera,\n        fecha_registro: compra.fecha_registro,\n        impuestos,\n        subtotal,\n        total,\n      });\n    } else {\n      setNuevoArray(compra);\n    }\n\n    setTimeout(() => {\n      setLoadingVerificacion(false);\n      setSuccess(true);\n    }, 1500);\n  }\n\n  return (\n    <Fragment>\n      <DialogContent\n        style={{\n          height: 150,\n          display: \"flex\",\n          alignItems: \"center\",\n          justifyContent: \"center\",\n          flexDirection: \"column\",\n        }}\n      >\n        <DialogContentText id=\"dialog-verificarcompra-description\">\n          Si ya no hay existencias en tu producto se marcaran en la tabla y se\n          quitaran al retomar la compra para no causar conflictos, podras editar\n          tu compra mas adelante\n        </DialogContentText>\n        {loadingVerificacion ? (\n          <Box display=\"flex\" alignItems=\"center\">\n            <CircularProgress\n              size={18}\n              color=\"primary\"\n              style={{ marginRight: 8 }}\n            />\n            Verificando existencias en tus productos...\n          </Box>\n        ) : null}\n        {!loadingVerificacion ? (\n          <Box display=\"flex\" alignItems=\"center\">\n            <CheckCircle color=\"primary\" style={{ marginRight: 8 }} />\n            Listo, producto verificados\n          </Box>\n        ) : null}\n      </DialogContent>\n      <DialogActions>\n        {loadingVerificacion ? (\n          <Button onClick={handleClose} color=\"inherit\">\n            Cancelar\n          </Button>\n        ) : (\n          <Button onClick={handleClose} color=\"primary\" startIcon={<Done />}>\n            Aceptar\n          </Button>\n        )}\n      </DialogActions>\n    </Fragment>\n  );\n};\n","import React, { Fragment, useEffect, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\n\nimport Box from \"@material-ui/core/Box\";\nimport Chip from \"@material-ui/core/Chip\";\nimport Grid from \"@material-ui/core/Grid\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { Button, useTheme } from \"@material-ui/core\";\nimport SearchOutlinedIcon from \"@material-ui/icons/SearchOutlined\";\nimport { formatoMexico } from \"../../../../config/reuserFunctions\";\nimport AbrirCompra from \"../AbrirCompra/AbrirCompra\";\nimport VerificarProductosCompras from \"./VerificarProductos\";\n\nimport {\n  Dialog,\n  CircularProgress,\n  DialogTitle,\n  DialogActions,\n  Slide,\n} from \"@material-ui/core\";\nimport { CheckCircle, DeleteOutlined, Done, Error } from \"@material-ui/icons\";\nimport Close from \"@material-ui/icons/Close\";\nimport { useMutation } from \"@apollo/client\";\nimport { ELIMINAR_COMPRA_ESPERA } from \"../../../../gql/Compras/compras\";\n\nconst useStyles = makeStyles({\n  root: {\n    width: \"100%\",\n  },\n  container: {\n    height: \"50vh\",\n  },\n});\n\nexport default function DatosDeCompra({\n  compra,\n  setAlert,\n  refetch,\n  handleOpenDetalles,\n}) {\n  const classes = useStyles();\n  const theme = useTheme();\n  /* let compra_temp = {...compra} */\n  const [compra_temp, setCompraTemp] = useState({ ...compra });\n  const { productos } = compra_temp;\n\tconst permisosUsuario = JSON.parse(localStorage.getItem('sesionCafi'));\n\n  const [busqueda, setBusqueda] = useState(\"\");\n  const [productosFiltrados, setProductosFiltrados] = useState([]);\n\n  const [nuevoArray, setNuevoArray] = useState();\n  const [verificado, setVerificado] = useState(false);\n\n  const obtenerBusqueda = (value) => setBusqueda(value);\n\n  useEffect(() => {\n    setProductosFiltrados(\n      productos.filter((datos) => {\n        return datos.producto.datos_generales.nombre_comercial\n          .toLowerCase()\n          .includes(busqueda.toLowerCase());\n      })\n    );\n  }, [busqueda, productos]);\n\n  useEffect(() => {\n    if (verificado && nuevoArray) {\n      setCompraTemp(nuevoArray);\n    }\n  }, [verificado]);\n\n  return (\n    <Fragment>\n      <Box mb={1} display=\"flex\">\n        <Typography style={{ marginRight: 16 }}>\n          <b>Proveedor: </b>\n          {compra_temp.proveedor.nombre_cliente}\n        </Typography>\n        <Typography style={{ marginRight: 16 }}>\n          <b>Almacen: </b>\n          {compra_temp.almacen.nombre_almacen}\n        </Typography>\n        <Typography style={{ marginRight: 16 }}>\n          <b>Subtotal: ${parseFloat(compra_temp.subtotal).toFixed(2)}</b>\n        </Typography>\n        <Typography style={{ marginRight: 16 }}>\n          <b>Impuestos: ${parseFloat(compra_temp.impuestos).toFixed(2)}</b>\n        </Typography>\n        <Typography style={{ marginRight: 16 }}>\n          <b>Total: ${formatoMexico(parseFloat(compra_temp.total).toFixed(2))}</b>\n        </Typography>\n      </Box>\n      <Box mb={2} display=\"flex\">\n        <Grid container>\n          <Grid item sm={6} xs={12}>\n            <TextField\n              fullWidth\n              size=\"small\"\n              variant=\"outlined\"\n              placeholder=\"Buscar una compra...\"\n              onChange={(e) => obtenerBusqueda(e.target.value)}\n              InputProps={{\n                startAdornment: (\n                  <InputAdornment position=\"start\">\n                    <SearchOutlinedIcon color=\"action\" />\n                  </InputAdornment>\n                ),\n              }}\n            />\n          </Grid>\n          <Grid item sm={6} xs={12}>\n            <Box display=\"flex\" justifyContent=\"flex-end\">\n              {permisosUsuario.accesos.compras.compras_espera.eliminar === false ? (null) : (\n                <ModalEliminarCompra\n                  compra={compra_temp}\n                  setAlert={setAlert}\n                  refetch={refetch}\n                  handleOpenDetalles={handleOpenDetalles}\n                />\n              )}\n              <Box mx={1} />\n\n              {permisosUsuario.accesos.compras.compras_espera.editar === false ? (null) : (\n                verificado ? (\n                  <AbrirCompra\n                    compra={compra_temp}\n                    status=\"enEspera\"\n                    handleOpenDetalles={handleOpenDetalles}\n                    refetchEspera={refetch}\n                  />\n                ) : (\n                  <VerificarProductosCompras\n                    compra={compra_temp}\n                    nuevoArray={nuevoArray}\n                    setNuevoArray={setNuevoArray}\n                    setVerificado={setVerificado}\n                  />\n                )\n              )}\n            </Box>\n          </Grid>\n        </Grid>\n      </Box>\n      <Paper className={classes.root} variant=\"outlined\">\n        <TableContainer className={classes.container}>\n          <Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n            <TableHead>\n              <TableRow>\n                {verificado ? <TableCell /> : null}\n                <TableCell>Producto</TableCell>\n                <TableCell>Medida</TableCell>\n                <TableCell>Color</TableCell>\n                <TableCell>Unidad</TableCell>\n                <TableCell>Cantidad</TableCell>\n                <TableCell>C. regalo</TableCell>\n                <TableCell>C. total</TableCell>\n                <TableCell>Descuento</TableCell>\n                <TableCell>Subtotal</TableCell>\n                <TableCell>Impuestos</TableCell>\n                <TableCell>Total</TableCell>\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {productosFiltrados.map((datos, index) => {\n                /* console.log(datos); */\n                return (\n                  <TableRow\n                    tabIndex={-1}\n                    key={index}\n                    selected={datos.conflicto}\n                  >\n                    {verificado ? (\n                      <TableCell\n                        style={{\n                          paddingTop: 0,\n                          paddingBottom: 0,\n                        }}\n                      >\n                        {datos.conflicto ? (\n                          <Error color=\"primary\" />\n                        ) : (\n                          <CheckCircle\n                            style={{\n                              color: theme.palette.success.main,\n                            }}\n                          />\n                        )}\n                      </TableCell>\n                    ) : null}\n                    <TableCell>\n                      {datos.producto.datos_generales.nombre_comercial}\n                    </TableCell>\n                    <TableCell padding=\"checkbox\">\n                      {datos.medida && datos.medida.medida\n                        ? datos.medida.medida\n                        : \"N/A\"}\n                    </TableCell>\n                    <TableCell padding=\"checkbox\">\n                      {datos.color && datos.color.hex ? (\n                        <Chip\n                          label={datos.color.color}\n                          size=\"small\"\n                          style={{\n                            backgroundColor: datos.color.hex,\n                            color: theme.palette.getContrastText(\n                              datos.color.hex\n                            ),\n                          }}\n                        />\n                      ) : (\n                        \"N/A\"\n                      )}\n                    </TableCell>\n                    <TableCell>{datos.unidad}</TableCell>\n                    <TableCell>{datos.cantidad}</TableCell>\n                    <TableCell>{datos.cantidad_regalo}</TableCell>\n                    <TableCell>{datos.cantidad_total}</TableCell>\n                    <TableCell>{`$${datos.descuento_precio} - %${datos.descuento_porcentaje}`}</TableCell>\n                    <TableCell>\n                      <b>${formatoMexico(datos.subtotal)}</b>\n                    </TableCell>\n                    <TableCell>\n                      <b>${formatoMexico(datos.impuestos)}</b>\n                    </TableCell>\n                    <TableCell>\n                      <b>${formatoMexico(datos.total)}</b>\n                    </TableCell>\n                  </TableRow>\n                );\n              })}\n            </TableBody>\n          </Table>\n        </TableContainer>\n      </Paper>\n    </Fragment>\n  );\n}\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nconst ModalEliminarCompra = ({\n  compra,\n  setAlert,\n  refetch,\n  handleOpenDetalles,\n}) => {\n  const [open, setOpen] = useState(false);\n  const [loading, setLoading] = useState(false);\n\n  const [eliminarCompraEnEspera] = useMutation(ELIMINAR_COMPRA_ESPERA);\n\n  const handleOpen = () => {\n    setOpen(!open);\n  };\n\n  const eliminarCompra = async () => {\n    setLoading(true);\n    try {\n      const result = await eliminarCompraEnEspera({\n        variables: {\n          id: compra._id,\n        },\n      });\n      setAlert({\n        message: `Listo! ${result.data.eliminarCompraEnEspera.message}`,\n        status: \"success\",\n        open: true,\n      });\n      refetch();\n      setLoading(false);\n      handleOpen();\n      handleOpenDetalles();\n    } catch (error) {\n      console.log(error);\n      setLoading(false);\n      setAlert({\n        message: `Error: ${error.message}`,\n        status: \"error\",\n        open: true,\n      });\n    }\n  };\n  return (\n    <Fragment>\n      <Button\n        color=\"secondary\"\n        startIcon={<DeleteOutlined />}\n        onClick={() => handleOpen()}\n      >\n        Eliminar compra\n      </Button>\n      <Dialog open={open} onClose={handleOpen} TransitionComponent={Transition}>\n        <DialogTitle>Desea eliminar esta compra?</DialogTitle>\n        <DialogActions>\n          <Button\n            variant=\"text\"\n            color=\"inherit\"\n            size=\"large\"\n            startIcon={<Close />}\n            onClick={() => handleOpen()}\n          >\n            Cancelar\n          </Button>\n          <Button\n            variant=\"text\"\n            color=\"secondary\"\n            size=\"large\"\n            disabled={loading}\n            startIcon={\n              loading ? (\n                <CircularProgress size={18} color=\"inherit\" />\n              ) : (\n                <Done />\n              )\n            }\n            onClick={() => eliminarCompra()}\n          >\n            Eliminar\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </Fragment>\n  );\n};\n","import React, { useState, Fragment } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport {\n  Dialog,\n  Typography,\n  Box,\n  Button,\n  IconButton,\n  CircularProgress,\n} from \"@material-ui/core\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport DatosDeCompraEspera from \"./DatosDeCompraEspera\";\nimport {\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n  Slide,\n} from \"@material-ui/core\";\n\nimport {\n  formatoFecha,\n  formatoMexico,\n} from \"../../../../config/reuserFunctions\";\nimport { AssignmentOutlined, DeleteOutlined, Done } from \"@material-ui/icons\";\nimport Close from \"@material-ui/icons/Close\";\nimport { useMutation } from \"@apollo/client\";\nimport SnackBarMessages from \"../../../../components/SnackBarMessages\";\nimport { ELIMINAR_COMPRA_ESPERA } from \"../../../../gql/Compras/compras\";\n\nconst useStyles = makeStyles({\n  root: {\n    width: \"100%\",\n  },\n  container: {\n    height: \"75vh\",\n  },\n});\n\nexport default function ListaEnEspera({ obtenerComprasEnEspera, refetch }) {\n  const classes = useStyles();\n  const [alert, setAlert] = useState({ message: \"\", status: \"\", open: false });\n\tconst permisosUsuario = JSON.parse(localStorage.getItem('sesionCafi'));\n\n  return (\n    <Paper className={classes.root} variant=\"outlined\">\n      <SnackBarMessages alert={alert} setAlert={setAlert} />\n      <TableContainer className={classes.container}>\n        <Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n          <TableHead>\n            <TableRow>\n              <TableCell>Almacen</TableCell>\n              <TableCell>Proveedor</TableCell>\n              <TableCell>Fecha de compra</TableCell>\n              <TableCell>Subtotal</TableCell>\n              <TableCell>Impuestos</TableCell>\n              <TableCell>Total</TableCell>\n              <TableCell>Detalles</TableCell>\n              {permisosUsuario.accesos.compras.compras_espera.elimina === false ? (null) : (\n                <TableCell>Eliminar</TableCell>\n              )}\n              </TableRow>\n          </TableHead>\n          <TableBody>\n            {obtenerComprasEnEspera.map((compra, index) => (\n              <RenderRowsComprasEspera\n                key={index}\n                compra={compra}\n                refetch={refetch}\n                setAlert={setAlert}\n              />\n            ))}\n          </TableBody>\n        </Table>\n      </TableContainer>\n    </Paper>\n  );\n}\n\nconst RenderRowsComprasEspera = ({ compra, refetch, setAlert }) => {\n  const {\n    almacen,\n    proveedor,\n    fecha_registro,\n    subtotal,\n    impuestos,\n    total,\n  } = compra;\n\tconst permisosUsuario = JSON.parse(localStorage.getItem('sesionCafi'));\n  return (\n    <TableRow hover tabIndex={-1}>\n      <TableCell>{almacen.nombre_almacen}</TableCell>\n      <TableCell>{proveedor.nombre_cliente}</TableCell>\n      <TableCell>{formatoFecha(fecha_registro)}</TableCell>\n      <TableCell>\n        <b>${formatoMexico(subtotal)}</b>\n      </TableCell>\n      <TableCell>\n        <b>${formatoMexico(impuestos)}</b>\n      </TableCell>\n      <TableCell>\n        <b>${formatoMexico(total)}</b>\n      </TableCell>\n      <TableCell>\n        <ModalContinuarCompra\n          compra={compra}\n          refetch={refetch}\n          setAlert={setAlert}\n        />\n      </TableCell>\n      {permisosUsuario.accesos.compras.compras_espera.eliminar === false ? (null) : (\n        <TableCell>\n          <ModalEliminarCompra\n            compra={compra}\n            refetch={refetch}\n            setAlert={setAlert}\n          />\n        </TableCell>\n      )}\n    </TableRow>\n  );\n};\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nconst ModalContinuarCompra = ({ compra, setAlert, refetch }) => {\n  const [open, setOpen] = useState(false);\n\n  const handleOpen = () => {\n    setOpen(!open);\n  };\n  return (\n    <Fragment>\n      <IconButton onClick={() => handleOpen()}>\n        <AssignmentOutlined />\n      </IconButton>\n      <Dialog\n        open={open}\n        onClose={handleOpen}\n        fullWidth\n        maxWidth=\"lg\"\n        TransitionComponent={Transition}\n      >\n        <DialogTitle>\n          <Box display=\"flex\">\n            <Typography variant=\"h6\" style={{ flexGrow: 1 }}>\n              Datos de compra en espera\n            </Typography>\n            <Button\n              variant=\"text\"\n              color=\"primary\"\n              onClick={handleOpen}\n              size=\"large\"\n            >\n              <CloseIcon style={{ fontSize: 30 }} />\n            </Button>\n          </Box>\n        </DialogTitle>\n        <DialogContent>\n          <DatosDeCompraEspera\n            compra={compra}\n            refetch={refetch}\n            setAlert={setAlert}\n            handleOpenDetalles={handleOpen}\n          />\n        </DialogContent>\n      </Dialog>\n    </Fragment>\n  );\n};\n\nconst ModalEliminarCompra = ({ compra, setAlert, refetch }) => {\n  const [open, setOpen] = useState(false);\n  const [loading, setLoading] = useState(false);\n\n  const [eliminarCompraEnEspera] = useMutation(ELIMINAR_COMPRA_ESPERA);\n\n  const handleOpen = () => {\n    setOpen(!open);\n  };\n\n  const eliminarCompra = async () => {\n    setLoading(true);\n    try {\n      const result = await eliminarCompraEnEspera({\n        variables: {\n          id: compra._id,\n        },\n      });\n      setAlert({\n        message: `Listo! ${result.data.eliminarCompraEnEspera.message}`,\n        status: \"success\",\n        open: true,\n      });\n      refetch();\n      setLoading(false);\n      handleOpen();\n    } catch (error) {\n      console.log(error);\n      setLoading(false);\n      setAlert({\n        message: `Error: ${error.message}`,\n        status: \"error\",\n        open: true,\n      });\n    }\n  };\n  return (\n    <Fragment>\n      <IconButton onClick={() => handleOpen()}>\n        <DeleteOutlined color=\"error\" />\n      </IconButton>\n      <Dialog open={open} onClose={handleOpen} TransitionComponent={Transition}>\n        <DialogTitle>Desea eliminar esta compra?</DialogTitle>\n        <DialogActions>\n          <Button\n            variant=\"text\"\n            color=\"inherit\"\n            size=\"large\"\n            startIcon={<Close />}\n            onClick={() => handleOpen()}\n          >\n            Cancelar\n          </Button>\n          <Button\n            variant=\"text\"\n            color=\"secondary\"\n            size=\"large\"\n            disabled={loading}\n            startIcon={\n              loading ? (\n                <CircularProgress size={18} color=\"inherit\" />\n              ) : (\n                <Done />\n              )\n            }\n            onClick={() => eliminarCompra()}\n          >\n            Eliminar\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </Fragment>\n  );\n};\n","import React, { useState, useRef, Fragment } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Typography from \"@material-ui/core/Typography\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport Slide from \"@material-ui/core/Slide\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport Container from \"@material-ui/core/Container\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport Box from \"@material-ui/core/Box\";\nimport TextField from \"@material-ui/core/TextField\";\nimport { FcOvertime } from \"react-icons/fc\";\nimport { SearchOutlined } from \"@material-ui/icons\";\n\nimport { useQuery } from \"@apollo/client\";\n\nimport ListaEnEspera from \"./ListaEnEspera\";\nimport ErrorPage from \"../../../../components/ErrorPage\";\nimport { OBTENER_COMPRAS_ESPERA } from \"../../../../gql/Compras/compras\";\n\nconst useStyles = makeStyles((theme) => ({\n  appBar: {\n    position: \"relative\",\n  },\n  title: {\n    marginLeft: theme.spacing(2),\n    flex: 1,\n  },\n  icon: {\n    fontSize: 100,\n  },\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function ComprasEnEspera() {\n  const classes = useStyles();\n  const [open, setOpen] = React.useState(false);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  return (\n    <div>\n      <Button fullWidth onClick={handleClickOpen}>\n        <Box display=\"flex\" flexDirection=\"column\">\n          <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n            <FcOvertime className={classes.icon} />\n          </Box>\n          Compras en espera\n        </Box>\n      </Button>\n      <Dialog\n        fullScreen\n        open={open}\n        onClose={handleClose}\n        TransitionComponent={Transition}\n      >\n        <AppBar className={classes.appBar}>\n          <Toolbar>\n            <Typography variant=\"h6\" className={classes.title}>\n              Compras en espera\n            </Typography>\n            <Box m={1}>\n              <Button\n                variant=\"contained\"\n                color=\"secondary\"\n                onClick={handleClose}\n                size=\"large\"\n              >\n                <CloseIcon style={{ fontSize: 30 }} />\n              </Button>\n            </Box>\n          </Toolbar>\n        </AppBar>\n        <Container maxWidth=\"xl\">\n          <ContentDialogCompras />\n        </Container>\n      </Dialog>\n    </div>\n  );\n}\n\nconst ContentDialogCompras = () => {\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n  const [filtro, setFiltro] = useState(\"\");\n  const searchfilter = useRef(null);\n\n  /* Queries */\n  const { loading, data, error, refetch } = useQuery(OBTENER_COMPRAS_ESPERA, {\n    variables: {\n      empresa: sesion.empresa._id,\n      sucursal: sesion.sucursal._id,\n      filtro,\n    },\n    fetchPolicy: \"network-only\",\n  });\n\n  if (loading)\n    return (\n      <Box\n        display=\"flex\"\n        flexDirection=\"column\"\n        justifyContent=\"center\"\n        alignItems=\"center\"\n        height=\"40vh\"\n      >\n        <CircularProgress />\n        <Typography variant=\"h5\">Cargando</Typography>\n      </Box>\n    );\n  if (error) {\n    return <ErrorPage error={error} altura={300} />;\n  }\n\n  let obtenerComprasEnEspera = [];\n  if (data) obtenerComprasEnEspera = data.obtenerComprasEnEspera;\n\n  const obtenerBusqueda = (e, value) => {\n    e.preventDefault();\n    refetch({ filtro: value });\n    setFiltro(value);\n  };\n\n  return (\n    <Fragment>\n      <Box my={3} maxWidth={500}>\n        <form onSubmit={(e) => obtenerBusqueda(e, e.target[0].value)}>\n          <TextField\n            inputRef={searchfilter}\n            fullWidth\n            size=\"small\"\n            variant=\"outlined\"\n            placeholder=\"Buscar una compra...\"\n            InputProps={{\n              endAdornment: (\n                <InputAdornment position=\"end\">\n                  <IconButton type=\"submit\" color=\"primary\" size=\"medium\">\n                    <SearchOutlined />\n                  </IconButton>\n                </InputAdornment>\n              ),\n            }}\n          />\n        </form>\n      </Box>\n      <ListaEnEspera obtenerComprasEnEspera={obtenerComprasEnEspera} refetch={refetch} />\n    </Fragment>\n  );\n};\n","import React from 'react';\nimport { Box, Container, Grid } from '@material-ui/core';\nimport AbrirCompra from './AbrirCompra/AbrirCompra';\nimport ComprasRealizadas from './ComprasRealizadas/ComprasRealizadas';\n/* import CargaMasiva from './CargaMasiva/CargaMasiva'; */\nimport ComprasEnEspera from './ComprasEnEspera/ComprasEnEspera';\n\n\nexport default function Compras() {\n\n\tconst permisosUsuario = JSON.parse(localStorage.getItem('sesionCafi'));\n\n\treturn (\n\t\t<Container maxWidth=\"md\">\n\t\t\t<Grid container spacing={3} justify=\"center\">\n\t\t\t{permisosUsuario.accesos.compras.abrir_compra.ver === false ? (null):(\n\t\t\t\t<Grid item md={4}>\n\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t<AbrirCompra />\n\t\t\t\t\t</Box>\n\t\t\t\t</Grid>\n\t\t\t)}\n\t\t\t{permisosUsuario.accesos.compras.compras_realizadas.ver === false ? (null):(\n\t\t\t\t<Grid item md={4}>\n\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t<ComprasRealizadas />\n\t\t\t\t\t</Box>\n\t\t\t\t</Grid>\n\t\t\t)}\n\t\t\t{permisosUsuario.accesos.compras.compras_espera.ver === false ? (null):(\n                <Grid item md={4}>\n\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t<ComprasEnEspera />\n\t\t\t\t\t</Box>\n\t\t\t\t</Grid>\n\t\t\t)}\n\t\t\t\t{/* <Grid item md={2}>\n\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t<CargaMasiva />\n\t\t\t\t\t</Box>\n\t\t\t\t</Grid> */}\n\t\t\t</Grid>\n\t\t</Container>\n\t);\n}\n","import React, { useContext, useState, Fragment } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport Box from \"@material-ui/core/Box\";\nimport Button from \"@material-ui/core/Button\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Switch from \"@material-ui/core/Switch\";\nimport Slide from \"@material-ui/core/Slide\";\nimport CrearCliente from \"./CrearCliente\";\nimport ErrorPage from \"../../../../components/ErrorPage\";\nimport { Delete } from \"@material-ui/icons\";\nimport { ClienteCtx } from \"../../../../context/Catalogos/crearClienteCtx\";\nimport { useDebounce } from \"use-debounce\";\nimport { useQuery, useMutation } from \"@apollo/client\";\nimport {\n  OBTENER_CLIENTES,\n  ACTUALIZAR_CLIENTE,\n  ELIMINAR_CLIENTE,\n} from \"../../../../gql/Catalogos/clientes\";\nimport { formatoFechaCorta } from \"../../../../config/reuserFunctions\";\nimport SnackBarMessages from \"../../../../components/SnackBarMessages\";\n// import { VentasContext } from \"../../../../context/Ventas/ventasContext\";\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nconst useStyles = makeStyles({\n  root: {\n    width: \"100%\",\n  },\n  container: {\n    maxHeight: \"75vh\",\n  },\n});\n\nexport default function ListaClientes({\n  user,\n  tipo,\n  filtro,\n  ventas,\n  handleClickOpen,\n}) {\n  const classes = useStyles();\n  const { setUpdateClientVenta, updateClientVenta } = useContext(\n    ClienteCtx\n  );\n  const [value] = useDebounce(filtro, 1000);\n  const [selectDataClient, setSelectDataClient] = useState(false);\n  /* Queries */\n  const { loading, data, error, refetch } = useQuery(OBTENER_CLIENTES, {\n    variables: { tipo, filtro: value },\n    fetchPolicy: \"network-only\",\n  });\n\n  /* useEffect(() => {\n    refetch();\n  }, [update, refetch]); */\n\n  //show modal accept client\n  const [showModal, setShowModal] = useState(false);\n\n  const [dataSelectRowClient, setDataSelectRowClient] = useState({});\n  const [alert, setAlert] = useState({ message: \"\", status: \"\", open: false });\n\n  const handleClickOpenModal = (data, e) => {\n    if (ventas && !selectDataClient) {\n      setShowModal(true);\n      setDataSelectRowClient(data);\n    }\n  };\n\n  const handleClickSelectClient = () => {\n    try {\n      const venta = JSON.parse(localStorage.getItem(\"DatosVentas\"));\n      let venta_actual = venta === null ? {} : venta;\n      localStorage.setItem(\n        \"DatosVentas\",\n        JSON.stringify({\n          subTotal:\n            venta_actual.subTotal === undefined ? 0 : venta_actual.subTotal,\n          total: venta_actual.total === undefined ? 0 : venta_actual.total,\n          impuestos:\n            venta_actual.impuestos === undefined ? 0 : venta_actual.impuestos,\n          iva: venta_actual.iva === undefined ? 0 : venta_actual.iva,\n          ieps: venta_actual.ieps === undefined ? 0 : venta_actual.ieps,\n          descuento:\n            venta_actual.descuento === undefined ? 0 : venta_actual.descuento,\n          monedero:\n            venta_actual.monedero === undefined ? 0 : venta_actual.monedero,\n          tipo_cambio: venta_actual.tipo_cambio ? venta_actual.tipo_cambio : {},\n          cliente: dataSelectRowClient,\n          venta_cliente: true,\n          productos:\n            venta_actual.productos?.length > 0 ? venta_actual.productos : [],\n        })\n      );\n      setUpdateClientVenta(!updateClientVenta);\n      setShowModal(!showModal);\n      handleClickOpen();\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  if (loading)\n    return (\n      <Box\n        display=\"flex\"\n        justifyContent=\"center\"\n        alignItems=\"center\"\n        height=\"50vh\"\n        width=\"120vh\"\n      >\n        <CircularProgress />\n      </Box>\n    );\n  if (error) {\n    return <ErrorPage error={error} />;\n  }\n\n  const { obtenerClientes } = data;\n\n  return (\n    <Fragment>\n      <SnackBarMessages alert={alert} setAlert={setAlert} />\n      <Paper className={classes.root}>\n        <TableContainer className={classes.container}>\n          <Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n            <TableHead>\n              <TableRow>\n                <TableCell width=\"110\">No. Cliente</TableCell>\n                <TableCell width=\"100\">Clave</TableCell>\n                <TableCell width=\"200\">Nombre</TableCell>\n                <TableCell width=\"150\">Correo</TableCell>\n                <TableCell width=\"200\">Fecha Registro</TableCell>\n                {user === \"EMPLEADO\" ? null : (\n                  <TableCell width=\"100\">Estado</TableCell>\n                )}\n                <TableCell width=\"50\">Editar</TableCell>\n                {user === \"EMPLEADO\" ? null : (\n                  <TableCell width=\"50\">Eliminar</TableCell>\n                )}\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {obtenerClientes.map((row, index) => {\n                return (\n                  <RowsRender\n                    user={user}\n                    key={index}\n                    datos={row}\n                    handleClickOpenModal={handleClickOpenModal}\n                    setAlert={setAlert}\n                    refetch={refetch}\n                  />\n                );\n              })}\n            </TableBody>\n          </Table>\n        </TableContainer>\n        <Dialog\n          open={showModal}\n          onClose={() => setShowModal(false)}\n          aria-labelledby=\"select-dialog-cliente-venta\"\n          aria-describedby=\"select-cliente-venta-description\"\n        >\n          <DialogTitle id=\"select-dialog-cliente-venta\">\n            {\" Estas seguro que desea seleccionar este cliente ?\"}\n          </DialogTitle>\n          <DialogContent>\n            <DialogContentText id=\"select-cliente-venta-description\">\n              Al seleccionar el cliente se colocara en la venta.\n            </DialogContentText>\n          </DialogContent>\n          <DialogActions>\n            <Button\n              onClick={() => setShowModal(false)}\n              color=\"primary\"\n              autoFocus\n            >\n              cancelar\n            </Button>\n            <Button onClick={() => handleClickSelectClient()} color=\"primary\">\n              Aceptar\n            </Button>\n          </DialogActions>\n        </Dialog>\n      </Paper>\n    </Fragment>\n  );\n}\n\nconst RowsRender = ({\n  datos,\n  user,\n  handleClickOpenModal,\n  setAlert,\n  refetch,\n}) => {\n  const permisosUsuario = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n\n  const { update, setUpdate } = useContext(ClienteCtx);\n  const [loading, setLoading] = useState(false);\n\n  /* console.log(datos); */\n\n  const [actualizarCliente] = useMutation(ACTUALIZAR_CLIENTE);\n\n  const cambiarEstado = async (e) => {\n    setLoading(true);\n\n    try {\n      await actualizarCliente({\n        variables: {\n          input: {\n            estado_cliente: e.target.checked,\n          },\n          id: datos._id,\n        },\n      });\n      setUpdate(!update);\n      setLoading(false);\n    } catch (error) {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <Fragment>\n      <TableRow\n        hover\n        role=\"checkbox\"\n        tabIndex={-1}\n        onClick={(e) => handleClickOpenModal(datos, e)}\n      >\n        <TableCell>\n          <Typography>{datos.numero_cliente}</Typography>\n        </TableCell>\n        <TableCell>\n          <Typography>{datos.clave_cliente}</Typography>\n        </TableCell>\n        <TableCell>\n          <Typography>{datos.nombre_cliente}</Typography>\n        </TableCell>\n        <TableCell>\n          <Typography>{datos.email}</Typography>\n        </TableCell>\n        <TableCell>\n          <Typography>{formatoFechaCorta(datos.fecha_registro)}</Typography>\n        </TableCell>\n        {user === \"EMPLEADO\" ? null : (\n          <TableCell>\n            {loading ? (\n              <CircularProgress size={30} />\n            ) : (\n              <Switch\n                checked={datos.estado_cliente}\n                onChange={cambiarEstado}\n                color=\"primary\"\n              />\n            )}\n          </TableCell>\n        )}\n        <TableCell width={50}>\n          {permisosUsuario.accesos.catalogos.clientes.editar ===\n          false ? null : (\n            <CrearCliente\n              tipo=\"CLIENTE\"\n              accion=\"actualizar\"\n              datos={datos}\n              refetch={refetch}\n            />\n          )}\n        </TableCell>\n        <TableCell width={50}>\n          {permisosUsuario.accesos.catalogos.clientes.editar ===\n          false ? null : (\n            <EliminarCliente\n              datos={datos}\n              setAlert={setAlert}\n              refetch={refetch}\n            />\n          )}\n        </TableCell>\n      </TableRow>\n    </Fragment>\n  );\n};\n\nconst EliminarCliente = ({ datos, setAlert, refetch }) => {\n  const [open, setOpen] = useState(false);\n  const [eliminarCliente] = useMutation(ELIMINAR_CLIENTE);\n  const [loading, setLoading] = useState(false);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const eliminarClienteBD = async () => {\n    setLoading(true);\n    try {\n      const result = await eliminarCliente({\n        variables: {\n          id: datos._id,\n        },\n      });\n      if (result) {\n        const { message } = result.data.eliminarCliente;\n        setAlert({ message, status: \"success\", open: true });\n        refetch();\n      }\n      setLoading(false);\n      handleClose();\n    } catch (error) {\n      console.log(error);\n      setLoading(false);\n      if (error.message) {\n        setAlert({ message: error.message, status: \"error\", open: true });\n        return;\n      }\n      setAlert({ message: \"Hubo un error\", status: \"error\", open: true });\n    }\n  };\n\n  return (\n    <div>\n      <IconButton color=\"secondary\" onClick={() => handleClickOpen()}>\n        <Delete />\n      </IconButton>\n      <Dialog\n        open={open}\n        TransitionComponent={Transition}\n        keepMounted\n        onClose={() => handleClose()}\n        aria-labelledby=\"alert-eliminar-cliente\"\n      >\n        <DialogTitle id=\"alert-eliminar-cliente\">\n          {\"Est seguro de eliminar esto?\"}\n        </DialogTitle>\n        <DialogActions>\n          <Button\n            onClick={() => handleClose()}\n            color=\"inherit\"\n            disabled={loading}\n          >\n            Cancelar\n          </Button>\n          <Button\n            onClick={() => eliminarClienteBD()}\n            color=\"secondary\"\n            disabled={loading}\n            startIcon={\n              loading ? <CircularProgress size={20} color=\"inherit\" /> : null\n            }\n          >\n            Eliminar\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n};\n","import React, { useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Typography from \"@material-ui/core/Typography\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport Slide from \"@material-ui/core/Slide\";\nimport { FcManager } from \"react-icons/fc\";\nimport { Box, Grid, IconButton, InputBase, Paper } from \"@material-ui/core\";\nimport { Search } from \"@material-ui/icons\";\nimport ListaClientes from \"./ListaClientes\";\nimport CrearCliente from \"./CrearCliente\";\nimport { ClienteProvider } from \"../../../../context/Catalogos/crearClienteCtx\";\n\nconst useStyles = makeStyles((theme) => ({\n  appBar: {\n    position: \"relative\",\n  },\n  title: {\n    marginLeft: theme.spacing(2),\n    flex: 1,\n  },\n  icon: {\n    fontSize: 100,\n  },\n  root: {\n    display: \"flex\",\n    paddingLeft: theme.spacing(2),\n  },\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function Cliente() {\n  const classes = useStyles();\n\n  const permisosUsuario = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n\n  const [open, setOpen] = useState(false);\n  const [values, setValues] = useState(\"\");\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const pressEnter = (e) => {\n    if (e.key === \"Enter\") setValues(e.target.defaultValue);\n  };\n\n  return (\n    <div>\n      <ClienteProvider>\n        <Button onClick={handleClickOpen}>\n          <Box display=\"flex\" flexDirection=\"column\">\n            <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n              <FcManager className={classes.icon} />\n            </Box>\n            Cliente\n          </Box>\n        </Button>\n        <Dialog\n          fullScreen\n          open={open}\n          onClose={handleClose}\n          TransitionComponent={Transition}\n        >\n          <AppBar className={classes.appBar}>\n            <Toolbar>\n              <Typography variant=\"h6\" className={classes.title}>\n                Cliente\n              </Typography>\n              <Box m={1}>\n                <Button\n                  variant=\"contained\"\n                  color=\"secondary\"\n                  onClick={handleClose}\n                  size=\"large\"\n                >\n                  <CloseIcon style={{ fontSize: 30 }} />\n                </Button>\n              </Box>\n            </Toolbar>\n          </AppBar>\n          <Box m={3}>\n            <Grid container spacing={2}>\n              <Grid item md={6} xs={8}>\n                <Paper className={classes.root}>\n                  <InputBase\n                    fullWidth\n                    placeholder=\"Buscar cliente...\"\n                    onChange={(e) => setValues(e.target.value)}\n                    onKeyPress={pressEnter}\n                    value={values}\n                  />\n                  <IconButton onClick={() => setValues(values)}>\n                    <Search />\n                  </IconButton>\n                </Paper>\n              </Grid>\n              <Grid\n                item\n                md={6}\n                xs={4}\n                style={{ display: \"flex\", justifyContent: \"flex-end\" }}\n              >\n                {permisosUsuario.accesos.catalogos.clientes.agregar ===\n                false ? null : (\n                  <CrearCliente tipo=\"CLIENTE\" accion=\"registrar\" />\n                )}\n              </Grid>\n            </Grid>\n          </Box>\n          <Box mx={4}>\n            <ListaClientes tipo=\"CLIENTE\" filtro={values} />\n          </Box>\n        </Dialog>\n      </ClienteProvider>\n    </div>\n  );\n}\n","import { gql } from '@apollo/client';\n\nexport const REGISTRAR_DESCUENTOS = gql`\n\tmutation CrearDescuentoUnidad($input: ObjetoDescuentoUnidadesInput!){\n        crearDescuentoUnidad(input: $input){\n            message\n        }\n  }\n`;\n\nexport const ACTUALIZAR_DESCUENTOS = gql`\n\tmutation ActualizarDescuentoUnidad($input: ObjetoDescuentoUnidadesInput!){\n        actualizarDescuentoUnidad(input: $input){\n            message\n        }\n    }\n`;\n\nexport const DESACTIVAR_DESCUENTOS = gql`\n\tmutation DesactivarDescuentoUnidad($input: ActivarDescuentoUnidades , $id: ID!){\n        desactivarDescuentoUnidad(input: $input, id: $id){\n            message\n        }\n    }\n`;\n\nexport const ELIMINAR_DESCUENTOS = gql`\n\tmutation ELiminarDescuentoUnidad( $id: ID!){\n        eliminarDescuentoUnidad( id: $id){\n            message\n        }\n    }\n`;","import React, { useContext, useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { Delete } from '@material-ui/icons';\nimport { makeStyles, useTheme } from \"@material-ui/core\";\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport { Button, Dialog, DialogActions, DialogTitle, IconButton, Switch, Tooltip } from '@material-ui/core';\nimport Zoom from \"@material-ui/core/Zoom\";\n\nimport {  DESACTIVAR_DESCUENTOS, ELIMINAR_DESCUENTOS } from '../../../../../gql/Catalogos/descuentos';\nimport { useMutation } from '@apollo/client';\nimport SnackBarMessages from '../../../../../components/SnackBarMessages';\nimport { RegProductoContext } from '../../../../../context/Catalogos/CtxRegProducto';\nimport BackdropComponent from '../../../../../components/Layouts/BackDrop';\n\nconst headCells = [\n\t{ id: 'cantidad',  label: 'Cantidad' },\n\t{ id: 'tipo',  label: 'Tipo' },\n\t{ id: 'precio',  label: 'Precio U.' },\n\t{ id: 'precioDes',  label: 'Precio Desc.' },\n\t{ id: 'descuento',  label: '% Desc.' },\n\t{ id: 'eliminar',  label: 'Eliminar'},\n\t{ id: 'activo',  label: 'Activo'}\n];\n\nfunction EnhancedTableHead(props) {\n\tconst { onSelectAllClick, numSelected, rowCount, datosPrecios } = props;\n\tlet variable = false;\n\tdatosPrecios?.forEach(element => {\n\t\tif (element.medida) {\n\t\t\treturn variable = true;\n\t\t}\n\t});\n\treturn (\n\t\t<TableHead>\n\t\t\t<TableRow>\n\t\t\t\t<TableCell padding=\"checkbox\">\n\t\t\t\t\t<Checkbox\n\t\t\t\t\t\tindeterminate={numSelected > 0 && numSelected < rowCount}\n\t\t\t\t\t\tchecked={rowCount > 0 && numSelected === rowCount}\n\t\t\t\t\t\tonChange={onSelectAllClick}\n\t\t\t\t\t\tinputProps={{ 'aria-label': 'select all desserts' }}\n\t\t\t\t\t/>\n\t\t\t\t</TableCell>\n\t\t\t\t{headCells.map((headCell) => (\n\t\t\t\t\t<TableCell\n\t\t\t\t\t\tkey={headCell.id}\n\t\t\t\t\t\talign={headCell.numeric ? 'right' : 'left'}\n\t\t\t\t\t\tpadding={headCell.disablePadding ? 'none' : 'default'}\n\t\t\t\t\t>\n\t\t\t\t\t\t{headCell.label}\n\t\t\t\t\t</TableCell>\n\t\t\t\t))}\n\t\t\t\t{ variable === true ? (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<TableCell>Talla</TableCell>\n\t\t\t\t\t\t<TableCell>Color</TableCell>\n\t\t\t\t\t</>\n\t\t\t\t): null}\n\t\t\t\t\n\t\t\t</TableRow>\n\t\t</TableHead>\n\t);\n}\n\nEnhancedTableHead.propTypes = {\n\tclasses: PropTypes.object.isRequired,\n\tnumSelected: PropTypes.number.isRequired,\n\tonSelectAllClick: PropTypes.func.isRequired,\n\trowCount: PropTypes.number.isRequired\n};\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n\t\twidth: '100%'\n\t},\n\tpaper: {\n\t\twidth: '100%',\n\t\tmarginBottom: theme.spacing(2)\n\t},\n\ttable: {\n\t\theight: 300\n\t},\n\tvisuallyHidden: {\n\t\tborder: 0,\n\t\tclip: 'rect(0 0 0 0)',\n\t\theight: 1,\n\t\tmargin: -1,\n\t\toverflow: 'hidden',\n\t\tpadding: 0,\n\t\tposition: 'absolute',\n\t\ttop: 20,\n\t\twidth: 1\n\t},\n\tcolorContainer: {\n\t\tborder: \"1px solid rgba(0,0,0, .3)\",\n\t\tdisplay: \"flex\",\n\t\tjustifyContent: \"center\",\n\t\talignItems: \"center\",\n\t\theight: 30,\n\t\twidth: 30,\n\t\tmargin: 1,\n\t\tborderRadius: \"15%\",\n\t\tcursor: \"pointer\",\n\t  },\n}));\n\nexport default function TablaPreciosDescuentos(\n\t{ \n\t\tvalue,\n\t\tdatos,\n\t\tsetCleanList, \n\t\tcleanList, \n\t\tverificarDatos, \n\t\tsetPrecioPrueba,\n\t\tproductosRefetch,\n\t\tsetLoading,\n\t\tloading\n\t}\n\t) {\n\tconst classes = useStyles();\n\tconst { \n\t\t//es este \n\t\tdatosPreciosProducto, \n        setPreciosProductos,\n\t\tsetDatosPreciosProducto\n    } = useContext(RegProductoContext);\n\n\tconst [ alert, setAlert ] = useState({ message: '', status: '', open: false });\n\tvar porcentaje  =  parseFloat((100 - value).toFixed(6));\n\tconst [ selected, setSelected ] = useState([]);\n\tconst [ page, setPage ] = useState(0);\n\tconst [ rowsPerPage, setRowsPerPage ] = useState(5);\n\n\tif(datos){\n\t\tif (datos.medidas_producto.length > 0) {\n\t\t\tsetDatosPreciosProducto(datos.medidas_producto);\n\t\t}else{\n\t\t\tsetDatosPreciosProducto(datos.unidades_de_venta);\n\t\t}\n\t};\n\n\tconst handleSelectAllClick = (event) => {\n\t\tif (event.target.checked) {\n\t\t\tconst newSelecteds = datosPreciosProducto.map((n) => n);\n\t\t\tsetSelected(newSelecteds); \n\t\t\tverificarDatos(newSelecteds);\n\t\t\tsetPreciosProductos(newSelecteds);\n\t\t\treturn;\n\t\t};\n\t\tsetPreciosProductos([]); \n\t\tsetSelected([]);\n\t};\n\n\tconst handleClick = (event, _id) => {\n\t\tconst selectedIndex = selected.indexOf(_id);\n\t\tlet newSelected = [];\n\t\tif (selectedIndex === -1) {\n\t\t\tnewSelected = newSelected.concat(selected, _id);\n\t\t} else if (selectedIndex === 0) {\n\t\t\tnewSelected = newSelected.concat(selected.slice(1));\n\t\t} else if (selectedIndex === selected.length - 1) {\n\t\t\tnewSelected = newSelected.concat(selected.slice(0, -1));\n\t\t} else if (selectedIndex > 0) {\n\t\t\tnewSelected = newSelected.concat(selected.slice(0, selectedIndex), selected.slice(selectedIndex + 1));\n\t\t}\n\t\tsetPrecioPrueba(newSelected.length === 0 ? 0 : newSelected);\n\t\tsetPreciosProductos(newSelected);\n\t\tverificarDatos(newSelected);\n\t\tsetSelected(newSelected);\n\t};\n\t\n\tuseEffect(() => {\n\t\tsetSelected([]);\n\t\tsetCleanList(false);\n\t}, [cleanList]);\n\n\tconst isSelected = (_id) => selected.indexOf(_id) !== -1;\n\n\tconst emptyRows = rowsPerPage - Math.min(rowsPerPage, datosPreciosProducto.length - page * rowsPerPage);\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<SnackBarMessages alert={alert} setAlert={setAlert} />\n\t\t\t<Paper className={classes.paper}>\n\t\t\t\t<BackdropComponent loading={loading} setLoading={setLoading} />\n\t\t\t\t<TableContainer className={classes.table}>\n\t\t\t\t\t<Table\n\t\t\t\t\t\tclassName={classes.table}\n\t\t\t\t\t\taria-labelledby=\"tableTitle\"\n\t\t\t\t\t\tsize=\"small\" \n\t\t\t\t\t\taria-label=\"a dense table\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<EnhancedTableHead\n\t\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\t\tnumSelected={selected.length}\n\t\t\t\t\t\t\tonSelectAllClick={handleSelectAllClick}\n\t\t\t\t\t\t\trowCount={datosPreciosProducto.length}\n\t\t\t\t\t\t\tdatosPrecios={datosPreciosProducto}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t{datosPreciosProducto.map((row, index) => {\n\t\t\t\t\t\t\t\tconst isItemSelected = isSelected(row);\n\t\t\t\t\t\t\t\tconst labelId = `enhanced-table-checkbox-${index}`;\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<RowsRender\n\t\t\t\t\t\t\t\t\t\tkey={row._id}\n\t\t\t\t\t\t\t\t\t    setLoading={setLoading}\n\t\t\t\t\t\t\t\t\t\tproductosRefetch={productosRefetch}\n\t\t\t\t\t\t\t\t\t\thandleClick={handleClick} \n\t\t\t\t\t\t\t\t\t\tselected={selected} \n\t\t\t\t\t\t\t\t\t\trow={row}\n\t\t\t\t\t\t\t\t\t\tsetAlert={setAlert}\n\t\t\t\t\t\t\t\t\t\tporcentaje={porcentaje}\n\t\t\t\t\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\t\t\t\t\tdatos={datos}\n\t\t\t\t\t\t\t\t\t\tisItemSelected={isItemSelected} \n\t\t\t\t\t\t\t\t\t\tlabelId={labelId} \n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t{emptyRows > 0 && (\n\t\t\t\t\t\t\t\t<TableRow style={{ height: 53 * emptyRows }}>\n\t\t\t\t\t\t\t\t\t<TableCell colSpan={6} />\n\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t</Table>\n\t\t\t\t</TableContainer>\n\t\t\t\t\n\t\t\t</Paper>\n\t\t</div>\n\t);\n}\n\nfunction RowsRender({row, value, isItemSelected, setLoading, datos, labelId, setAlert, porcentaje, productosRefetch, handleClick, selected}) {\n\n\tconst classes = useStyles();\n\tconst theme = useTheme();\n\tconst [openModal, setOpenModal] = useState(false);\n\tconst { \n        setDatosPreciosProducto,\n    } = useContext(RegProductoContext);\n\tconst [ DesactivarDescuentoUnidad ] = useMutation(DESACTIVAR_DESCUENTOS);\n\tconst [ ELiminarDescuentoUnidad ] = useMutation(ELIMINAR_DESCUENTOS);\n\n\tconst handleChangeActivo = async () => {\n\t\tsetLoading(true);\n\t\ttry {\n\t\t\tawait DesactivarDescuentoUnidad({\n\t\t\t\tvariables: {\n\t\t\t\t\tinput: {\n\t\t\t\t\t\tdescuento_activo: !row.descuento_activo,\n\t\t\t\t\t},\n\t\t\t\t\tid: row._id\n\t\t\t\t}\n\t\t\t});\n\t\t\tsetLoading(false);\n\t\t\tproductosRefetch();\n\t\t\tsetAlert({ message: 'Estado de descuento actualizado', status: 'success', open: true });\n\t\t} catch (error) {\n\t\t\tsetAlert({ message: 'Ocurrio un problema en el servidor' , status: 'error', open: true });\n\t\t}\n\t};\n\n\tconst handleModal = () => {\n\t\tsetOpenModal(!openModal);\n\t\teditarDatos();\n\t};\n\t\n\tconst editarDatos = () => {\n\t\tif (datos.medidas_producto.length > 0) {\n            setDatosPreciosProducto(datos.medidas_producto);\n\t\t\tsetLoading(false);\n        }else{\n\t\t\tsetDatosPreciosProducto(datos.unidades_de_venta);\n\t\t\tsetLoading(false);\n        }\n\t};\n\n\tconst handleDelete = async () => {\n\t\tsetLoading(true);\n\t\ttry {\n\t\t\tproductosRefetch();\n\t\t\tconst resultado = await ELiminarDescuentoUnidad({\n\t\t\t\tvariables: {\n\t\t\t\t\tid: row._id,\n\t\t\t\t}\n\t\t\t});\n\t\t\thandleModal();\n\t\t\teditarDatos();\n\t\t\tsetAlert({ message: resultado.data.eliminarDescuentoUnidad.message, status: 'success', open: true });\n\t\t} catch (error) {\n\t\t\tsetAlert({ message: error.message, status: 'error', open: true });\n\t\t}\n\t};\n\n\treturn(\n\t\t<TableRow\n\t\t\thover\n\t\t\trole=\"checkbox\"\n\t\t\taria-checked={isItemSelected}\n\t\t\ttabIndex={-1}\n\t\t\tkey={row._id}\n\t\t\tselected={isItemSelected}\n\t\t>\n\t\t\t<TableCell padding=\"checkbox\">\n\t\t\t\t<Checkbox\n\t\t\t\t\tonClick={(event) => {\n\t\t\t\t\t\thandleClick(event, row)\n\t\t\t\t\t}}\n\t\t\t\t\tchecked={isItemSelected}\n\t\t\t\t\tinputProps={{ 'aria-labelledby': labelId }}\n\t\t\t\t/>\n\t\t\t</TableCell>\n\t\t\t<TableCell align=\"center\">{row.cantidad}</TableCell>\n\t\t\t<TableCell align=\"center\">{row?.unidad}</TableCell>\n\t\t\t<TableCell align=\"center\">{row.precio}</TableCell>\n\t\t\t<TableCell align=\"center\">\n\t\t\t\t{\n\t\t\t\t\tisItemSelected === true && selected.length > 1 ? <b style={{color: 'green'}}> ${parseFloat((row.precio * porcentaje / 100).toFixed(2))} </b>\n\t\t\t\t\t: (row.descuento === null ? 0 : <b style={{color: 'green'}}> ${row.descuento.precio_neto} </b> )\n\t\t\t\t}\n\t\t\t</TableCell>\n\t\t\t<TableCell align=\"center\">\n\t\t\t\t{isItemSelected === true && selected.length > 1 ? <b style={{color: 'red'}}> {value}% </b> : (!row.descuento || row.descuento === null ? 0 : <b style={{color: 'red'}}> {row.descuento.porciento}% </b>)}\n\t\t\t</TableCell>\n\t\t\t<TableCell align=\"center\">\n\t\t\t\t<Modal row={row} handleModal={handleModal} openModal={openModal} handleDelete={handleDelete} />\n\t\t\t</TableCell>\n\t\t\t<TableCell key={row._id} align=\"center\">\n\t\t\t\t<Switch\n\t\t\t\t\tkey={row._id}\n\t\t\t\t\tonChange={handleChangeActivo}\n\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\tdisabled={ !row.descuento ? true \n\t\t\t\t\t\t : ( row.descuento.porciento === 0 ? true : false ) }\n\t\t\t\t\tdefaultChecked={row.descuento_activo ? row.descuento_activo : false}\n\t\t\t\t\tname=\"descuento_activo\"\n\t\t\t\t\tinputProps={{ 'aria-label': 'secondary checkbox' }}\n\t\t\t\t/>\n\t\t\t</TableCell>\n\t\t\t{\n\t\t\t\trow.medida ? (\n\t\t\t\t\t<TableCell align=\"center\">{row?.medida?.talla}</TableCell>\n\t\t\t\t) :(\n\t\t\t\t\tnull\n\t\t\t\t)\n\t\t\t}\n\n\t\t\t{\n\t\t\t\trow.color ? (\n\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t<Tooltip\n\t\t\t\t\t\t\ttitle={row?.color?.nombre}\n\t\t\t\t\t\t\tplacement=\"top\"\n\t\t\t\t\t\t\tarrow\n\t\t\t\t\t\t\tTransitionComponent={Zoom}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclassName={classes.colorContainer}\n\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\tbackgroundColor:row?.color?.hex,\n\t\t\t\t\t\t\t\t\tcolor: theme.palette.getContrastText(row?.color?.hex),\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t</TableCell>\n\t\t\t\t) :(\n\t\t\t\t\tnull\n\t\t\t\t)\n\t\t\t}\n\t\t</TableRow>\n\t)\n};\n\n// MODAL PARA ELIMINAR EL DESCUENTO DE LOS PRODUCTOS\nconst Modal = ({row, handleModal, openModal, handleDelete }) => {\n\n\treturn (\n\t\t<div>\n\t\t\t<IconButton \n\t\t\t\tcolor=\"secondary\" \n\t\t\t\tonClick={handleModal}\n\t\t\t\tdisabled={ !row.descuento ? true \n\t\t\t\t\t: ( row.descuento.porciento === 0 ? true : false ) }\n\t\t\t>\n\t\t\t\t<Delete />\n\t\t\t</IconButton>\n\t\t\t<Dialog open={openModal} onClose={handleModal}>\n\t\t\t\t<DialogTitle>{'Seguro que quieres eliminar esto?'}</DialogTitle>\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Button onClick={handleModal} color=\"primary\">\n\t\t\t\t\t\tCancelar\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button color=\"secondary\" autoFocus variant=\"contained\" onClick={handleDelete}>\n\t\t\t\t\t\tEliminar\n\t\t\t\t\t</Button>\n\t\t\t\t</DialogActions>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n};\n","import React, { useCallback, useContext, useState } from 'react';\n\nimport LocalOfferIcon from '@material-ui/icons/LocalOffer';\nimport { Button, Dialog, makeStyles, DialogTitle, DialogContent, Grid, Box, Typography, TextField, Slider, IconButton } from '@material-ui/core';\nimport CloseIcon from '@material-ui/icons/Close';\n\nimport TablaPreciosDescuentos from './ListaPrecios';\n\nimport {  REGISTRAR_DESCUENTOS } from '../../../../../gql/Catalogos/descuentos';\nimport { useMutation } from '@apollo/client';\nimport SnackBarMessages from '../../../../../components/SnackBarMessages';\nimport BackdropComponent from '../../../../../components/Layouts/BackDrop';\nimport { RegProductoContext } from '../../../../../context/Catalogos/CtxRegProducto';\n\nconst useStyles = makeStyles((theme) => ({\n\tavatarGroup: {\n\t\t'& > .MuiAvatarGroup-avatar': {\n\t\t\twidth: theme.spacing(8),\n\t\t\theight: theme.spacing(8)\n\t\t}\n\t},\n\troot: {\n\t\twidth: 400\n\t},\n    rootSlice:{\n        width: 350\n    },\n\tmargin: {\n\t\theight: theme.spacing(3)\n\t},\n    rootTable:{\n        height: 300\n    }\n}));\n\nexport default function DescuentoProductos({datos, productosRefetch}) {\n    const [ CrearDescuentoUnidad ] = useMutation(REGISTRAR_DESCUENTOS);\n    const { \n        setDatosPreciosProducto,\n        preciosDescuentos, \n        setPreciosDescuentos,\n        preciosProductos, \n        setPreciosProductos,\n    } = useContext(RegProductoContext);\n\n    let iva = datos.precios.iva;\n    let ieps = datos.precios.ieps;\n    // Precio compra sin impuestos y sin utilidad\n    let PCSI = datos.precios.unidad_de_compra.precio_unitario_sin_impuesto;\n\n    const [ alert, setAlert ] = useState({ message: '', status: '', open: false });\n    const [ openDescuento, setOpenDescuento ] = useState(false);\n    const [ cleanList, setCleanList ] = useState(false);\n    const [ validate ] = useState(false);\n    const [ loading, setLoading ] = useState(false);\n\n    const [ precioPrueba, setPrecioPrueba ] = useState(0);\n    const [ value, setValue] =  useState(0);\n\n    const classes = useStyles();\n\n    const handleCloseDescuentos = () => {\n        if (datos.medidas_producto.length > 0) {\n            setDatosPreciosProducto(datos.medidas_producto);\n            setLoading(false);\n        }else{\n            setDatosPreciosProducto(datos.unidades_de_venta);\n            setLoading(false);\n        }\n        setPrecioPrueba(0);\n        setValue(0);\n        preciosDescuentos.splice(0, preciosDescuentos.length);\n    };\n\n    const cerrarModal =()=>{\n        setOpenDescuento(!openDescuento);\n        handleCloseDescuentos();\n    }\n\n    const verificarDatos = useCallback(\n        (datos) => {\n            for (let i = 0; i < datos.length; i++) {\n                if (datos[i].descuento) {\n                    if ( datos[i].descuento.porciento !== 0) {\n                        setValue(datos[i].descuento.porciento);\n                        if (datos.length === 1) {\n                            setPrecioPrueba(datos[i].descuento.precio_neto);\n                        }\n                    }\n                }\n            };\n    },\n        [datos]\n    );\n    \n    let arrayDescuento = [];\n\n    const obtenerPorcientoSlide = (event, newValue) => {\n        setValue(newValue);\n        preciosDescuentos.splice(0, preciosDescuentos.length);\n\n        for (let i = 0; i < preciosProductos.length; i++) {\n            let porcentaje  =  parseFloat((100 - newValue).toFixed(2));//Porcentaje para calculos de descuento\n            let PVCDSI = 0; // Precio venta con descuento sin impuestos\n            let dineroDescontado = 0; \n            let cantidad_unidad = preciosProductos[i].precio_unidad.cantidad_unidad;\n\n            PVCDSI = parseFloat((preciosProductos[i].precio_unidad.precio_venta * porcentaje / 100).toFixed(2));\n            dineroDescontado = parseFloat((preciosProductos[i].precio_unidad.precio_venta - PVCDSI).toFixed(2));\n\n            let iva_precio = parseFloat((PVCDSI * parseFloat(`0.${iva < 10 ? `0${iva}` : iva}`).toFixed(2)));\n\n            let ieps_precio = parseFloat((PVCDSI * parseFloat(`0.${ieps < 10 ? `0${ieps}` : ieps}`).toFixed(2)));\n            let utilidad = parseFloat((((PVCDSI - PCSI) / PCSI) * 100).toFixed(2));\n            let precio_neto = parseFloat((PVCDSI + iva_precio + ieps_precio).toFixed(2));\n            let precio_general = parseFloat((precio_neto * cantidad_unidad).toFixed(2));\n\n            arrayDescuento = {\n                _id: preciosProductos[i]._id,\n                descuento_activo: true,\n                descuento:{\n                    cantidad_unidad: cantidad_unidad,\n                    numero_precio: preciosProductos[i].precio_unidad.numero_precio,\n                    unidad_maxima: preciosProductos[i].precio_unidad.unidad_maxima,\n                    precio_general: precio_general,\n                    precio_neto: precio_neto,\n                    precio_venta: PVCDSI,\n                    iva_precio: iva_precio,\n                    ieps_precio: ieps_precio,\n                    utilidad: utilidad,\n                    porciento: newValue,\n                    dinero_descontado: dineroDescontado,\n                }\n            };\n\n            setPrecioPrueba(precio_neto);\n            if (preciosProductos.length !== 1) {\n                preciosDescuentos.push(arrayDescuento);\n            }else{\n                setPreciosDescuentos([arrayDescuento]);\n            }\n\n        }\n    };\n\n    const obtenerPrecioText = (e) => {\n        let valorText = parseFloat(e.target.value);\n        if (preciosProductos.length === 1) {\n            setPrecioPrueba(valorText);\n            \n            let suma_impuestos = parseFloat(`0.${iva < 10 ? `0${iva}` : iva}`) + parseFloat(`0.${ieps < 10 ? `0${ieps}` : ieps}`);\n            let PVSI = parseFloat((valorText / (suma_impuestos+1)).toFixed(2));\n\n            let cantidad_unidad = preciosProductos[0].precio_unidad.cantidad_unidad;\n            let dineroDescontado = 0;\n            let PVCDSI = 0; // Precio venta con descuento sin impuestos\n            let porcentaje  = parseFloat(((PVSI / preciosProductos[0].precio_unidad.precio_venta) * 100).toFixed(2));\n            let descuento = parseFloat((100 - porcentaje).toFixed(2));\n\n            PVCDSI = parseFloat((preciosProductos[0].precio_unidad.precio_venta * porcentaje / 100).toFixed(2));\n            dineroDescontado = parseFloat((preciosProductos[0].precio_unidad.precio_venta - PVCDSI).toFixed(2));\n\n            let iva_precio = parseFloat((PVCDSI * parseFloat(`0.${iva < 10 ? `0${iva}` : iva}`).toFixed(2)));\n            let ieps_precio = parseFloat((PVCDSI * parseFloat(`0.${ieps < 10 ? `0${ieps}` : ieps}`).toFixed(2)));\n            let utilidad = parseFloat((((PVCDSI - PCSI) / PCSI) * 100).toFixed(2));\n            let precio_neto = parseFloat((PVCDSI + iva_precio + ieps_precio).toFixed(2));\n            let precio_general = parseFloat((precio_neto * cantidad_unidad).toFixed(2));\n\n            arrayDescuento = {\n                \"_id\": preciosProductos[0]._id,\n                \"descuento_activo\": true,\n                \"descuento\":{\n                    cantidad_unidad: cantidad_unidad,\n                    numero_precio: preciosProductos[0].precio_unidad.numero_precio,\n                    unidad_maxima: preciosProductos[0].precio_unidad.unidad_maxima,\n                    precio_general: precio_general,\n                    precio_neto: precio_neto,\n                    precio_venta: PVCDSI,\n                    iva_precio: iva_precio,\n                    ieps_precio: ieps_precio,\n                    utilidad: utilidad,\n                    porciento: descuento,\n                    dinero_descontado: dineroDescontado,\n                }\n            };\n            \n            setValue(descuento);\n            setPreciosDescuentos([arrayDescuento]);\n        }\n    };\n\n    function valuetext(e) {\n        return `${e}`;\n    };\n\n    const saveData = async () => {\n        setLoading(true);\n\t\ttry {\n            await CrearDescuentoUnidad({\n                variables: {\n                    input: {\n                        descuentos: preciosDescuentos\n                    }\n                }\n            });\n            handleCloseDescuentos()\n            productosRefetch();\n            setValue(0);\n            setPreciosProductos([]);\n            setPreciosDescuentos([]);\n            setCleanList(!cleanList);\n            setAlert({ message: 'Listo descuentos realizados!', status: 'success', open: true });\n\t\t} catch (error) {\n            setAlert({ message: 'Oh no, ocurrio un problema con el servidor!', status: 'error', open: true });\n\t\t}\n\t};\n\n    const validacion = () => {\n        if (datos.medidas_producto.length > 0 ) {\n            for (let i = 0; i < datos.medidas_producto.length; i++) {\n                if (datos.medidas_producto[i]?.descuento_activo === true) {\n                    return \"primary\";\n                }else{\n                    return \"default\";\n                }\n            }\n        }else{\n            for (let i = 0; i < datos.unidades_de_venta.length; i++) {\n                if (datos.unidades_de_venta[i]?.descuento_activo === true) {\n                    return \"primary\";\n                }else{\n                    return \"default\";\n                }\n            }\n        }\n    }\n\n    return (\n        <div>\n            <SnackBarMessages alert={alert} setAlert={setAlert} />\n            <IconButton\n                color={validacion()}\n                onClick={cerrarModal}\n                disabled={datos.inventario_general && datos.inventario_general.length > 0 && datos.inventario_general[0].eliminado === true}\n            >\n               <LocalOfferIcon />\n            </IconButton>\n            <Dialog open={openDescuento} onClose={handleCloseDescuentos} fullWidth maxWidth=\"lg\">\n            <BackdropComponent loading={loading} setLoading={setLoading} />\n\t\t\t\t<DialogTitle>\n                    <Grid container>\n                        <Box flexGrow={1} display=\"flex\" alignItems=\"center\">\n                            {'Descuento de Producto'}\n                        </Box>\n                        <Box m={1}>\n                            <Button variant=\"contained\" color=\"secondary\" onClick={cerrarModal} size=\"large\">\n                                <CloseIcon />\n                            </Button>\n                        </Box>\n                    </Grid>\n                </DialogTitle>\n\t\t\t\t<DialogContent>\n                    <Box textAlign=\"center\">\n                        <Typography>\n                            <b>Nombre comercial: </b>\n                            {datos.datos_generales.nombre_comercial ? datos.datos_generales.nombre_comercial : '-'}\n                        </Typography>\n                    </Box>\n                    <Box textAlign=\"center\">\n                        <Typography>\n                            <b>Nombre genrico: </b>\n                            {datos.datos_generales.nombre_generico ? datos.datos_generales.nombre_generico : '-'}\n                        </Typography>\n                    </Box>\n                    <Grid container>\n                        <Grid item lg={8} md={6} xs={12}> \n                            <Box p={1}>\n                                <TablaPreciosDescuentos\n                                    verificarDatos={verificarDatos}\n                                    productosRefetch={productosRefetch}\n                                    datos={datos}\n                                    value={value}\n                                    cleanList={cleanList}\n                                    setCleanList={setCleanList}\n                                    setPrecioPrueba={setPrecioPrueba}\n                                    setLoading={setLoading}\n                                    loading={loading}\n                                />\n                            </Box>\n                        </Grid>\n                        <Grid item lg={4} md={6} xs={12}> \n                            <Box mt={5} dislay=\"flex\" justifyContent=\"center\">\n                                <div className={classes.root}>\n                                    <Box textAlign=\"center\">\n                                        <Typography id=\"discrete-slider-always\" gutterBottom>\n                                            <b>Porcentaje de descuento</b>\n                                        </Typography>\n                                    </Box>\n                                    <Box my={5} />\n                                    <Box display='flex' justifyContent=\"center\" justifyItems=\"center\" className={classes.rootSlice}>\n                                        <Slider\n                                            disabled={preciosProductos.length === 0 ? true : false}\n                                            getAriaValueText={valuetext}\n                                            value={value.toFixed(2)}\n                                            aria-labelledby=\"discrete-slider-small-steps\"\n                                            valueLabelDisplay=\"auto\"\n                                            onChange={obtenerPorcientoSlide} \n                                        />\n                                    </Box>\n                                </div>\n                            </Box>\n                            <Box mt={5} display=\"flex\" justifyContent=\"center\">\n                                {preciosProductos.length === 1 ? ( \n                                    <div>\n                                        <Typography>Precio con Descuento</Typography>\n                                        <TextField\n                                            type=\"number\"\n                                            InputProps={{ inputProps: { min: 0} }}\n                                            size=\"small\"\n                                            variant=\"outlined\"\n                                            value={ precioPrueba }\n                                            onChange={(e) => obtenerPrecioText(e)}\n                                        />\n                                    </div>\n                                ) : (\n                                    null\n                                )}\n\n                            </Box>\n                            <Box mt={2} display=\"flex\" justifyContent=\"center\">\n                                <Button \n                                    disabled={preciosProductos.length === 0 || validate === true ? true : false}\n                                    variant=\"contained\" \n                                    color=\"primary\" \n                                    size=\"large\"\n                                    onClick={saveData}\n                                >\n                                    Guardar \n                                </Button>\n                            </Box>\n                        </Grid>\n                    </Grid>\n\t\t\t\t</DialogContent>\n\t\t\t</Dialog>\n        </div>\n    )\n}\n","import React, { useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport {\n  Drawer,\n  Typography,\n  Box,\n  Grid,\n  Button,\n  IconButton,\n} from \"@material-ui/core\";\nimport { Close, CropOriginal, ListAlt } from \"@material-ui/icons\";\n\nconst useStyles = makeStyles((theme) => ({\n  drawWidth: {\n    width: \"50vw\",\n    [theme.breakpoints.down(\"sm\")]: {\n      width: \"100vw\",\n    },\n  },\n}));\n\nexport default function InfoProductoDrawer({ producto }) {\n  const { datos_generales, imagenes } = producto;\n  const classes = useStyles();\n  const [open, setOpen] = useState(false);\n\n  const toggleDrawer = () => setOpen(!open);\n\n  return (\n    <div>\n      <IconButton\n        color=\"default\"\n        variant=\"contained\"\n        onClick={() => toggleDrawer()}\n      >\n        <ListAlt />\n      </IconButton>\n      <Drawer anchor=\"right\" open={open} onClose={() => toggleDrawer()}>\n        <div className={classes.drawWidth}>\n          <Grid container>\n            <Grid\n              item\n              md={imagenes.length > 1 ? 6 : 12}\n              style={{ display: \"flex\", justifyContent: \"center\" }}\n            >\n              <Box\n                m={1}\n                width=\"300px\"\n                height=\"300px\"\n                display=\"flex\"\n                justifyContent=\"center\"\n                alignItems=\"center\"\n              >\n                {imagenes.length > 0 ? (\n                  <img\n                    width=\"100%\"\n                    alt=\"img producto\"\n                    src={imagenes[0].url_imagen}\n                    /* src=\"https://www.dportenis.mx/wcsstore/ExtendedSitesCatalogAssetStore/images/catalog/zoom/1020139-0001V1.jpg\" */\n                  />\n                ) : (\n                  <CropOriginal style={{ fontSize: 90 }} />\n                )}\n              </Box>\n            </Grid>\n            {imagenes.length > 1 ? (\n              <Grid item md={6}>\n                <Grid container>\n                  {imagenes.map((res, index) => {\n                    return index > 0 ? (\n                      <Grid item key={index}>\n                        <Box\n                          m={1}\n                          key={index}\n                          height={120}\n                          width={120}\n                          display=\"flex\"\n                          justifyContent=\"center\"\n                          alignItems=\"center\"\n                        >\n                          <img\n                            width=\"100%\"\n                            alt=\"img producto\"\n                            src={res.url_imagen}\n                          />\n                        </Box>\n                      </Grid>\n                    ) : null;\n                  })}\n                </Grid>\n              </Grid>\n            ) : null}\n          </Grid>\n          <Box m={5}>\n            <Grid container spacing={3} justify=\"center\">\n              <Grid item>\n                <Typography>\n                  <b>Cdigo de barras: </b>\n                  {datos_generales.codigo_barras\n                    ? datos_generales.codigo_barras\n                    : \"-\"}\n                </Typography>\n                <Typography>\n                  <b>Clave alterna: </b>\n                  {datos_generales.clave_alterna\n                    ? datos_generales.clave_alterna\n                    : \"-\"}\n                </Typography>\n                <Typography>\n                  <b>Clave producto del SAT: </b>\n                  {datos_generales.clave_producto_sat &&\n                  datos_generales.clave_producto_sat.Value\n                    ? datos_generales.clave_producto_sat.Value: \"-\"}\n                </Typography>\n                <Typography>\n                  <b>Nombre comercial: </b>\n                  {datos_generales.nombre_comercial\n                    ? datos_generales.nombre_comercial\n                    : \"-\"}\n                </Typography>\n                <Typography>\n                  <b>Nombre genrico: </b>\n                  {datos_generales.nombre_generico\n                    ? datos_generales.nombre_generico\n                    : \"-\"}\n                </Typography>\n                <Typography>\n                  <b>Descripcin: </b>\n                  {datos_generales.descripcion\n                    ? datos_generales.descripcion\n                    : \"-\"}\n                </Typography>\n              </Grid>\n              <Grid item>\n                <Typography>\n                  <b>Tipo de producto: </b>\n                  {datos_generales.tipo_producto\n                    ? datos_generales.tipo_producto\n                    : \"-\"}\n                </Typography>\n                <Typography>\n                  <b>Categoria: </b>\n                  {datos_generales.categoria ? datos_generales.categoria : \"-\"}\n                </Typography>\n                <Typography>\n                  <b>Subcategoria: </b>\n                  {datos_generales.subcategoria\n                    ? datos_generales.subcategoria\n                    : \"-\"}\n                </Typography>\n                <Typography>\n                  <b>Departamento: </b>\n                  {datos_generales.departamento\n                    ? datos_generales.departamento\n                    : \"-\"}\n                </Typography>\n                <Typography>\n                  <b>Marca: </b>\n                  {datos_generales.marca ? datos_generales.marca : \"-\"}\n                </Typography>\n              </Grid>\n            </Grid>\n          </Box>\n        </div>\n        <Box\n          position=\"absolute\"\n          bottom={16}\n          width=\"100%\"\n          display=\"flex\"\n          justifyContent=\"center\"\n        >\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            size=\"large\"\n            onClick={() => toggleDrawer()}\n            startIcon={<Close />}\n          >\n            Cerrar\n          </Button>\n        </Box>\n      </Drawer>\n    </div>\n  );\n}\n","import React, { forwardRef, Fragment, useContext, useState } from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Slide from \"@material-ui/core/Slide\";\nimport { CircularProgress, IconButton } from \"@material-ui/core\";\nimport { Delete } from \"@material-ui/icons\";\n/* import SnackBarMessages from '../../../../components/SnackBarMessages'; */\nimport { useMutation } from \"@apollo/client\";\nimport { ELIMINAR_PRODUCTO } from \"../../../../gql/Catalogos/productos\";\nimport { RegProductoContext } from \"../../../../context/Catalogos/CtxRegProducto\";\n\nconst Transition = forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function EliminarProducto({ datos, productosRefetch }) {\n  const [open, setOpen] = useState(false);\n  const [loading, setLoading] = useState(false);\n  /* const [ alert, setAlert ] = useState({ message: '', status: '', open: false }); */\n  const { actualizarLista, setActualizarLista, setAlert } = useContext(\n    RegProductoContext\n  );\n\n  const [eliminarProducto] = useMutation(ELIMINAR_PRODUCTO);\n\n  const handleToggleModal = () => setOpen(!open);\n\n  const eliminarProductoBD = async () => {\n    setLoading(true);\n    try {\n      const result = await eliminarProducto({\n        variables: {\n          id: datos._id,\n        },\n      });\n      setActualizarLista(!actualizarLista);\n      productosRefetch();\n      setAlert({\n        message: `Listo! ${result.data.eliminarProducto.message}`,\n        status: \"success\",\n        open: true,\n      });\n      setLoading(false);\n      handleToggleModal();\n    } catch (error) {\n      setAlert({\n        message: `Error: ${error.message}`,\n        status: \"error\",\n        open: true,\n      });\n      setLoading(false);\n      handleToggleModal();\n    }\n  };\n\n  return (\n    <Fragment>\n      {/* <SnackBarMessages alert={alert} setAlert={setAlert} /> */}\n      <IconButton\n        onClick={() => handleToggleModal()}\n        disabled={\n            datos.inventario_general && datos.inventario_general.length === 0\n              ? true\n              : datos.inventario_general[0].eliminado === true\n              ? true\n              : false\n          }\n      >\n        <Delete\n          color={\n            datos.inventario_general && datos.inventario_general.length === 0\n              ? \"disabled\"\n              : datos.inventario_general[0].eliminado === true\n              ? \"disabled\"\n              : \"error\"\n          }\n        />\n      </IconButton>\n      <Dialog\n        open={open}\n        TransitionComponent={Transition}\n        keepMounted\n        onClose={() => handleToggleModal()}\n        aria-labelledby=\"alert-dialog-delete-producto\"\n      >\n        <DialogTitle id=\"alert-dialog-delete-producto\">\n          {\"Ests seguro de eliminar este producto?\"}\n        </DialogTitle>\n        <DialogActions style={{ display: \"flex\", justifyContent: \"center\" }}>\n          <Button onClick={() => handleToggleModal()} color=\"inherit\">\n            Cancelar\n          </Button>\n          <Button\n            onClick={() => eliminarProductoBD()}\n            color=\"secondary\"\n            startIcon={\n              loading ? <CircularProgress color=\"inherit\" size={20} /> : null\n            }\n          >\n            Eliminar\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </Fragment>\n  );\n}\n","import React, { Fragment } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport CrearProducto from \"./crearProducto\";\nimport DescuentoProductos from \"./Descuentos/Descuento\";\nimport InfoProductoDrawer from \"./infoProductoDrawer\";\nimport EliminarProducto from \"./EliminarProducto\";\n\nconst useStyles = makeStyles({\n  root: {\n    width: \"100%\",\n  },\n  container: {\n    maxHeight: \"70vh\",\n\t'& ::-webkit-scrollbar': {\n\t\tdisplay: 'none'\n\t}\n  },\n  avatar: {\n    width: 130,\n    height: 130,\n  },\n});\n\nexport default function ListaProductos({ obtenerProductos, productosRefetch }) {\n  const classes = useStyles();\n\n  return (\n    <div className={classes.root}>\n      <TableContainer className={classes.container}>\n        <Table stickyHeader aria-label=\"sticky table\">\n          <TableHead>\n            <TableRow>\n              <TableCell>Codigo barras</TableCell>\n              <TableCell>Clave alterna</TableCell>\n              <TableCell>Nombre comercial</TableCell>\n              <TableCell>Existencia</TableCell>\n              <TableCell>Tipo</TableCell>\n              <TableCell>Informacin</TableCell>\n              <TableCell>Editar</TableCell>\n              <TableCell>Descuento</TableCell>\n              <TableCell>Eliminar</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody className=\"hide-scroll\">\n            {obtenerProductos.map((producto, index) => {\n              return (\n                <RenderTableRows\n                  key={index}\n                  producto={producto}\n                  productosRefetch={productosRefetch}\n                />\n              );\n            })}\n          </TableBody>\n        </Table>\n      </TableContainer>\n    </div>\n  );\n}\n\nconst RenderTableRows = ({ producto, productosRefetch }) => {\n  return (\n    <Fragment>\n      <TableRow hover>\n        <TableCell>{producto.datos_generales.codigo_barras}</TableCell>\n        <TableCell>{producto.datos_generales.clave_alterna}</TableCell>\n        <TableCell>{producto.datos_generales.nombre_comercial}</TableCell>\n        <TableCell align=\"center\" padding=\"checkbox\">\n          {producto.inventario_general.map(\n            (existencia) =>\n              `${existencia.cantidad_existente} ${existencia.unidad_inventario}`\n          )}\n        </TableCell>\n        <TableCell>{producto.datos_generales.tipo_producto}</TableCell>\n        <TableCell align=\"center\" padding=\"checkbox\">\n          <InfoProductoDrawer producto={producto} />\n        </TableCell>\n        <TableCell align=\"center\" padding=\"checkbox\">\n          <CrearProducto\n            accion={true}\n            datos={producto}\n            productosRefetch={productosRefetch}\n          />\n        </TableCell>\n        <TableCell align=\"center\" padding=\"checkbox\">\n          <DescuentoProductos\n            datos={producto}\n            productosRefetch={productosRefetch}\n          />\n        </TableCell>\n        <TableCell align=\"center\" padding=\"checkbox\">\n          <EliminarProducto\n            datos={producto}\n            productosRefetch={productosRefetch}\n          />\n        </TableCell>\n      </TableRow>\n    </Fragment>\n  );\n};\n","import React, { useState, forwardRef, useEffect, useContext } from 'react';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Slide from '@material-ui/core/Slide';\nimport { RestoreFromTrash, Publish } from '@material-ui/icons';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport { Box, IconButton, CircularProgress, Typography } from '@material-ui/core';\nimport { Fragment } from 'react';\nimport ErrorPage from '../../../../components/ErrorPage';\nimport { ACTIVAR_PRODUCTOS, PRODUCTOS_ELIMINADOS } from '../../../../gql/Catalogos/productos';\nimport { useMutation, useQuery } from '@apollo/client';\n/* import SnackBarMessages from '../../../../components/SnackBarMessages'; */\nimport { RegProductoContext } from '../../../../context/Catalogos/CtxRegProducto';\n\nconst Transition = forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function ProdcutosEliminados({productosActivosRefetch}) {\n\tconst [ open, setOpen ] = useState(false);\n\n\tconst handleModalToggle = () => setOpen(!open);\n\n\treturn (\n\t\t<div>\n\t\t\t<Button disableElevation color=\"primary\" onClick={handleModalToggle} size=\"large\" startIcon={<RestoreFromTrash />}>\n\t\t\t\tProductos inactivos\n\t\t\t</Button>\n\t\t\t<Dialog\n\t\t\t\topen={open}\n\t\t\t\tTransitionComponent={Transition}\n\t\t\t\tkeepMounted\n\t\t\t\tonClose={handleModalToggle}\n\t\t\t\taria-labelledby=\"dialog-productos-eliminados\"\n\t\t\t\tmaxWidth=\"md\"\n\t\t\t\tfullWidth\n\t\t\t>\n\t\t\t\t<DialogTitle id=\"dialog-productos-eliminados\">{'Productos inactivos'}</DialogTitle>\n\t\t\t\t<DialogContent>\n\t\t\t\t\t<TablaProductosEliminados productosActivosRefetch={productosActivosRefetch} />\n\t\t\t\t</DialogContent>\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Button variant=\"contained\" onClick={handleModalToggle} color=\"primary\" size=\"large\">\n\t\t\t\t\t\tCerrar\n\t\t\t\t\t</Button>\n\t\t\t\t</DialogActions>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n}\n\nconst TablaProductosEliminados = ({productosActivosRefetch}) => {\n\tconst sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\tconst { actualizarLista } = useContext(RegProductoContext);\n\n\t/* Queries */\n\tconst { loading, data, error, refetch } = useQuery(PRODUCTOS_ELIMINADOS, {\n\t\tvariables: { sucursal: sesion.sucursal._id, empresa: sesion.empresa._id }\n\t});\n\n\tuseEffect(() => {\n\t\trefetch();\n\t}, [ refetch, actualizarLista ]);\n\n\tif (loading)\n\t\treturn (\n\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" height=\"30vh\">\n\t\t\t\t<CircularProgress />\n\t\t\t</Box>\n\t\t);\n\tif (error) {\n\t\treturn <ErrorPage error={error} />;\n\t}\n\n\tif (!loading && !error && !data) {\n\t\treturn (\n\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" height=\"30vh\">\n\t\t\t\t<Typography variant=\"h6\">No hay productos inactivos</Typography>\n\t\t\t</Box>\n\t\t);\n\t}\n\n\tconst { obtenerProductosInactivos } = data;\n\n\treturn (\n\t\t<Box height=\"60vh\">\n\t\t\t<TableContainer>\n\t\t\t\t<Table aria-label=\"simple table\" size=\"small\">\n\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t<TableCell align=\"left\">Cdigo de barras</TableCell>\n\t\t\t\t\t\t\t<TableCell align=\"left\">Clave alterna</TableCell>\n\t\t\t\t\t\t\t<TableCell>Nombre comercial</TableCell>\n\t\t\t\t\t\t\t<TableCell align=\"right\">Reactivar</TableCell>\n\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t</TableHead>\n\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t{obtenerProductosInactivos.map((producto, index) => (\n\t\t\t\t\t\t\t<RenderProductosTabla key={index} datos={producto} refetch={refetch} productosActivosRefetch={productosActivosRefetch} />\n\t\t\t\t\t\t))}\n\t\t\t\t\t</TableBody>\n\t\t\t\t</Table>\n\t\t\t</TableContainer>\n\t\t</Box>\n\t);\n};\n\nconst RenderProductosTabla = ({ datos, refetch, productosActivosRefetch }) => {\n\tconst [ open, setOpen ] = useState(false);\n\tconst [ loading, setLoading ] = useState(false);\n\tconst { datos_generales } = datos.producto;\n    /* const [ alert, setAlert ] = useState({ message: '', status: '', open: false }); */\n\tconst { setAlert } = useContext(RegProductoContext);\n\n    const [ activarProducto ] = useMutation(ACTIVAR_PRODUCTOS);\n\n\tconst handleDeleteToggle = () => setOpen(!open);\n\n\tconst reactivarProducto = async () => {\n\t\tsetLoading(true);\n\t\ttry {\n\t\t\tconst result = await activarProducto({\n\t\t\t\tvariables: {\n\t\t\t\t\tid: datos._id\n\t\t\t\t}\n\t\t\t});\n            refetch();\n\t\t\tproductosActivosRefetch();\n\t\t\tsetAlert({ message: `Listo! ${result.data.activarProducto.message}`, status: 'success', open: true });\n\t\t\tsetLoading(false);\n\t\t\thandleDeleteToggle();\n\t\t} catch (error) {\n\t\t\tsetAlert({ message: `Error: ${error.message}`, status: 'error', open: true });\n\t\t\tsetLoading(false);\n\t\t}\n\t};\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<TableRow>\n\t\t\t\t<TableCell align=\"left\">{datos_generales.codigo_barras}</TableCell>\n\t\t\t\t<TableCell align=\"left\">{datos_generales.clave_alterna}</TableCell>\n\t\t\t\t<TableCell>{datos_generales.nombre_comercial}</TableCell>\n\t\t\t\t<TableCell align=\"right\">\n\t\t\t\t\t{loading ? (\n\t\t\t\t\t\t<IconButton color=\"primary\" disabled onClick={handleDeleteToggle}>\n\t\t\t\t\t\t\t<CircularProgress size={26} />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<IconButton color=\"primary\" onClick={handleDeleteToggle}>\n\t\t\t\t\t\t\t<Publish />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t)}\n\t\t\t\t</TableCell>\n\t\t\t</TableRow>\n\t\t\t<Dialog open={open} onClose={handleDeleteToggle} aria-labelledby=\"reactivar-producto-dialog\">\n\t\t\t\t<DialogTitle id=\"reactivar-producto-dialog\">{'Se reactivar este producto'}</DialogTitle>\n\t\t\t\t{/* <SnackBarMessages alert={alert} setAlert={setAlert} />        */}  \n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Button onClick={handleDeleteToggle} color=\"inherit\">\n\t\t\t\t\t\tCancelar\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button onClick={() => reactivarProducto()} color=\"primary\" autoFocus>\n\t\t\t\t\t\tAceptar\n\t\t\t\t\t</Button>\n\t\t\t\t</DialogActions>\n\t\t\t</Dialog>\n\t\t</Fragment>\n\t);\n};\n","import React, { useContext, useState } from \"react\";\nimport Slide from \"@material-ui/core/Slide\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport Button from \"@material-ui/core/Button\";\nimport Tabs from \"@material-ui/core/Tabs\";\nimport Tab from \"@material-ui/core/Tab\";\nimport Box from \"@material-ui/core/Box\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport OutlinedInput from \"@material-ui/core/OutlinedInput\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport CrearProducto from \"./crearProducto\";\nimport ListaProductos from \"./ListaProductos\";\nimport { RegProductoContext } from \"../../../../context/Catalogos/CtxRegProducto\";\nimport { useQuery } from \"@apollo/client\";\nimport { OBTENER_PRODUCTOS } from \"../../../../gql/Catalogos/productos\";\nimport ErrorPage from \"../../../../components/ErrorPage\";\nimport { Search, Close, ArrowBack } from \"@material-ui/icons\";\nimport ProductosEliminados from \"./ProductosEliminados\";\nimport SnackBarMessages from \"../../../../components/SnackBarMessages\";\nimport { makeStyles } from \"@material-ui/core\";\n\nconst useStyles = makeStyles((theme) => ({\n  appBar: {\n    position: \"relative\",\n  },\n  title: {\n    marginLeft: theme.spacing(2),\n    flex: 1,\n  },\n  icon: {\n    fontSize: 100,\n  },\n  iconSvg: {\n    width: 100,\n  },\n  root: {\n    flexGrow: 1,\n    backgroundColor: theme.palette.background.paper,\n  },\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function Productos() {\n  const classes = useStyles();\n  const [open, setOpen] = React.useState(false);\n  const { alert, setAlert } = useContext(RegProductoContext);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  return (\n    <div>\n      <Button fullWidth onClick={() => handleClickOpen()}>\n        <Box display=\"flex\" flexDirection=\"column\">\n          <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n            <img\n              src=\"https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/productos.svg\"\n              alt=\"icono ropa\"\n              className={classes.iconSvg}\n            />\n          </Box>\n          Productos\n        </Box>\n      </Button>\n      <SnackBarMessages alert={alert} setAlert={setAlert} />\n      <Dialog\n        fullScreen\n        open={open}\n        onClose={handleClose}\n        TransitionComponent={Transition}\n      >\n        <AppBar className={classes.appBar}>\n          <Toolbar>\n            <Typography variant=\"h6\" className={classes.title}>\n              Productos\n            </Typography>\n            <Button\n              autoFocus\n              color=\"inherit\"\n              size=\"large\"\n              onClick={() => handleClose()}\n              startIcon={<Close />}\n            >\n              Cerrar\n            </Button>\n          </Toolbar>\n        </AppBar>\n        <RegistroComponent />\n      </Dialog>\n    </div>\n  );\n}\n\nconst RegistroComponent = () => {\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n  const [filtro, setFiltro] = useState(\"\");\n  const [busqueda, setBusqueda] = useState(\"\");\n  const [existencias, setExistencias] = useState(true);\n  const [value, setValue] = useState(0);\n  const classes = useStyles();\n\n  const handleChange = (event, value) => {\n    setValue(value);\n\tif(value === 0){\n\t\tsetExistencias(true)\n\t}else{\n\t\tsetExistencias(false)\n\t}\n  };\n\n  /* Queries */\n  const { loading, data, error, refetch } = useQuery(OBTENER_PRODUCTOS, {\n    variables: {\n      sucursal: sesion.sucursal._id,\n      empresa: sesion.empresa._id,\n      filtro,\n\t  existencias,\n    },\n\tfetchPolicy: \"network-only\",\n  });\n\n  if (loading)\n    return (\n      <Box\n        display=\"flex\"\n        justifyContent=\"center\"\n        alignItems=\"center\"\n        height=\"30vh\"\n      >\n        <CircularProgress />\n      </Box>\n    );\n  if (error) {\n    return <ErrorPage error={error} />;\n  }\n\n  const { obtenerProductos } = data;\n\n  const filtrarProductos = (event) => {\n    event.preventDefault();\n    if (busqueda === \"\") {\n      setFiltro(\"\");\n      refetch({ filtro: \"\" });\n      return;\n    }\n    setFiltro(busqueda);\n  };\n\n  const reload = () => {\n    setBusqueda(\"\");\n    setFiltro(\"\");\n    refetch({ filtro: \"\" });\n  };\n\n  return (\n    <div>\n      <Box mx={4} my={3} display=\"flex\">\n        <Box style={{ width: \"500px\" }}>\n          <form\n            onSubmit={filtrarProductos}\n            style={{ display: \"flex\", alignItems: \"center\" }}\n          >\n            <FormControl variant=\"outlined\" fullWidth size=\"small\">\n              <OutlinedInput\n                id=\"search-producto\"\n                type=\"text\"\n                value={busqueda}\n                onChange={(e) => setBusqueda(e.target.value)}\n                endAdornment={\n                  <InputAdornment position=\"start\">\n                    <IconButton\n                      type=\"submit\"\n                      aria-label=\"search producto\"\n                      edge=\"end\"\n                    >\n                      <Search />\n                    </IconButton>\n                  </InputAdornment>\n                }\n              />\n            </FormControl>\n            {filtro !== \"\" ? (\n              <IconButton color=\"primary\" onClick={() => reload()}>\n                <ArrowBack />\n              </IconButton>\n            ) : null}\n          </form>\n        </Box>\n\n        <Box flexGrow={1} />\n        <Box display=\"flex\">\n          <ProductosEliminados productosActivosRefetch={refetch} />\n          <Box mx={1} />\n          <CrearProducto accion={false} productosRefetch={refetch} />\n        </Box>\n      </Box>\n      <Box mx={4}>\n        <div className={classes.root}>\n          <Tabs\n\t\t  \tindicatorColor=\"primary\"\n            value={value}\n            onChange={handleChange}\n            aria-label=\"simple tabs example\"\n\t\t\t\n          >\n            <Tab label=\"Productos de Sucursal\" />\n            <Tab label=\"Todos los productos\" />\n          </Tabs>\n        </div>\n        <ListaProductos\n          obtenerProductos={obtenerProductos}\n          productosRefetch={refetch}\n        />\n      </Box>\n    </div>\n  );\n};\n","import React from 'react'\nimport { RegProductoProvider } from '../../../../context/Catalogos/CtxRegProducto'\nimport Productos from './Productos'\n \nexport default function ProductoIndex(){\n\n    return (\n        <RegProductoProvider>\n            <Productos />\n        </RegProductoProvider>\n    )\n}","import React, { useEffect, useState, Fragment } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TablePagination from '@material-ui/core/TablePagination';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport { Box, Button, Dialog, DialogActions, DialogTitle, IconButton, TextField, Typography } from '@material-ui/core';\nimport { Close, Delete, Edit } from '@material-ui/icons';\n\nimport { useMutation } from '@apollo/client';\nimport { ELIMINAR_TALLA } from '../../../../gql/Catalogos/tallas';\nimport SnackBarMessages from '../../../../components/SnackBarMessages';\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n\t\twidth: '100%'\n\t},\n\tpaper: {\n\t\twidth: '100%',\n\t\tmarginBottom: theme.spacing(2)\n\t}\n}));\n\nexport default function TablaTallas({ tipo, datos, toUpdate, setToUpdate, setValue, refetch }) {\n\tconst sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\n\tconst classes = useStyles();\n\tconst [ page, setPage ] = useState(0);\n\tconst [ rowsPerPage, setRowsPerPage ] = useState(7);\n\tconst [ busqueda, setBusqueda ] = useState('');\n\tconst [ productosFiltrados, setProductosFiltrados ] = useState([]);\n\tconst [ alert, setAlert ] = useState({\n\t\tstatus: '',\n\t\tmessage: '',\n\t\topen: false\n\t});\n\n\tconst handleChangePage = (event, newPage) => {\n\t\tsetPage(newPage);\n\t};\n\n\tconst handleChangeRowsPerPage = (event) => {\n\t\tsetRowsPerPage(parseInt(event.target.value, 10));\n\t\tsetPage(0);\n\t};\n\n\tuseEffect(\n\t\t() => {\n\t\t\tsetProductosFiltrados(\n\t\t\t\tdatos.filter((datos) => {\n\t\t\t\t\treturn datos.talla.toLowerCase().includes(busqueda.toLowerCase());\n\t\t\t\t})\n\t\t\t);\n\t\t},\n\t\t[ busqueda, datos ]\n\t);\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<SnackBarMessages alert={alert} setAlert={setAlert} />\n\t\t\t<Paper className={classes.paper}>\n\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tplaceholder=\"Buscar...\"\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tonChange={(e) => setBusqueda(e.target.value)}\n\t\t\t\t\t/>\n\t\t\t\t</Box>\n\t\t\t\t<TableContainer>\n\t\t\t\t\t<Table\n\t\t\t\t\t\tclassName={classes.table}\n\t\t\t\t\t\taria-labelledby=\"tableTitle\"\n\t\t\t\t\t\tsize=\"medium\"\n\t\t\t\t\t\taria-label=\"enhanced table\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t<TableCell>{tipo === 'ROPA' ? 'Talla' : 'Nmero'}</TableCell>\n\t\t\t\t\t\t\t\t{sesion.accesos.catalogos.tallas_numeros.editar === false ? (null) : (\n\t\t\t\t\t\t\t\t\t<TableCell padding=\"default\">Editar</TableCell>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t{sesion.accesos.catalogos.tallas_numeros.eliminar === false ? (null) : (\n\t\t\t\t\t\t\t\t\t<TableCell padding=\"default\">Eliminar</TableCell>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t</TableHead>\n\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t{productosFiltrados\n\t\t\t\t\t\t\t\t.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\n\t\t\t\t\t\t\t\t.map((row, index) => (\n\t\t\t\t\t\t\t\t\t<RowsRender key={index} row={row} setAlert={setAlert} tipo={tipo} toUpdate={toUpdate} setToUpdate={setToUpdate} setValue={setValue} refetch={refetch} />\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t</Table>\n\t\t\t\t</TableContainer>\n\t\t\t\t<TablePagination\n\t\t\t\t\trowsPerPageOptions={[]}\n\t\t\t\t\tcomponent=\"div\"\n\t\t\t\t\tcount={datos.length}\n\t\t\t\t\trowsPerPage={rowsPerPage}\n\t\t\t\t\tpage={page}\n\t\t\t\t\tonChangePage={handleChangePage}\n\t\t\t\t\tonChangeRowsPerPage={handleChangeRowsPerPage}\n\t\t\t\t/>\n\t\t\t</Paper>\n\t\t</div>\n\t);\n}\n\nconst RowsRender = ({ row, setAlert, tipo, toUpdate, setToUpdate, setValue, refetch }) => {\n\tconst sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\n\tconst [ openModal, setOpenModal ] = useState(false);\n\tconst handleModal = () => setOpenModal(!openModal);\n\tconst [ eliminarTalla ] = useMutation(ELIMINAR_TALLA);\n\n \n\tconst handleDelete = async () => {\n\t\n\t\ttry {\n\t\t\tconst resp = await eliminarTalla({\n\t\t\t\tvariables: {\n\t\t\t\t\tid: row._id,\n\t\t\t\t\tinput:{\n\t\t\t\t\t\ttipo:tipo,\n\t\t\t\t\t\ttalla:''\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\n\t\t\tlet msgAlert = { message: resp.data.eliminarTalla.message, status: 'success', open: true }\n\t\t\tsetAlert(msgAlert);\n\t\t\trefetch();\n\t\t\thandleModal();\n\t\t} catch (error) {\n\t\t\t\thandleModal();\n\t\t\tsetAlert({ message: error.message, status: 'error', open: true });\n\t\t}\n\t};\n\n\tconst onUpdate = (dato) => {\n\t\tif(!dato){\n\t\t\tsetToUpdate('');\n\t\t\tsetValue('');\n\t\t\treturn\n\t\t}\n\t\tsetToUpdate(dato._id);\n\t\tsetValue(dato.talla);\n\t};\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<TableRow hover role=\"checkbox\" tabIndex={-1} selected={toUpdate === row._id ? true : false}>\n\t\t\t\t<TableCell>\n\t\t\t\t\t<Typography>\n\t\t\t\t\t\t<b>{row.talla}</b>\n\t\t\t\t\t</Typography>\n\t\t\t\t</TableCell>\n\t\t\t\t{sesion.accesos.catalogos.tallas_numeros.editar === false ? (null) : (\n\t\t\t\t\t<TableCell padding=\"checkbox\">\n\t\t\t\t\t\t{toUpdate === row._id ? (\n\t\t\t\t\t\t\t<IconButton onClick={() => onUpdate()}>\n\t\t\t\t\t\t\t\t<Close />\n\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<IconButton onClick={() => onUpdate(row)}>\n\t\t\t\t\t\t\t\t<Edit />\n\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</TableCell>\n\t\t\t\t)}\n\t\t\t\t{sesion.accesos.catalogos.tallas_numeros.eliminar === false ? (null) : (\n\t\t\t\t\t<TableCell padding=\"checkbox\">\n\t\t\t\t\t\t<Modal handleModal={handleModal} openModal={openModal} handleDelete={handleDelete} />\n\t\t\t\t\t</TableCell>\n\t\t\t\t)}\n\t\t\t</TableRow>\n\t\t</Fragment>\n\t);\n};\n\nconst Modal = ({ handleModal, openModal, handleDelete }) => {\n\treturn (\n\t\t<div>\n\t\t\t<IconButton color=\"secondary\" onClick={handleModal}>\n\t\t\t\t<Delete />\n\t\t\t</IconButton>\n\t\t\t<Dialog open={openModal} onClose={handleModal}>\n\t\t\t\t<DialogTitle>{'Seguro que quieres eliminar esto?'}</DialogTitle>\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Button onClick={handleModal} color=\"primary\">\n\t\t\t\t\t\tCancelar\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button color=\"secondary\" autoFocus variant=\"contained\" onClick={handleDelete}>\n\t\t\t\t\t\tEliminar\n\t\t\t\t\t</Button>\n\t\t\t\t</DialogActions>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n};\n","import React, { useState } from 'react';\nimport { Box, Button, TextField, CircularProgress } from '@material-ui/core';\nimport { Add } from '@material-ui/icons';\nimport TablaTallas from './ListaTallas';\nimport SnackBarMessages from '../../../../components/SnackBarMessages';\nimport ErrorPage from '../../../../components/ErrorPage';\n\nimport { useQuery, useMutation } from '@apollo/client';\nimport { OBTENER_TALLAS, CREAR_TALLAS, ACTUALIZAR_TALLA } from '../../../../gql/Catalogos/tallas';\nimport { cleanTypenames } from '../../../../config/reuserFunctions';\n\nexport default function RegistroTallas({ tipo }) {\n\tconst [ value, setValue ] = useState('');\n\tconst [ toUpdate, setToUpdate ] = useState('');\n\tconst [ alert, setAlert ] = useState({ message: '', status: '', open: false });\n\tconst sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\n\t/* Queries */\n\tconst { loading, data, error, refetch } = useQuery(OBTENER_TALLAS, {\n\t\tvariables: { sucursal: sesion.sucursal._id, tipo }\n\t});\n\t/* Mutations */\n\tconst [ crearTalla ] = useMutation(CREAR_TALLAS);\n\tconst [ actualizarTalla ] = useMutation(ACTUALIZAR_TALLA);\n\n\tif (loading)\n\t\treturn (\n\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" height=\"30vh\">\n\t\t\t\t<CircularProgress />\n\t\t\t</Box>\n\t\t);\n\tif (error) {\n\t\treturn <ErrorPage error={error} />;\n\t}\n\n\tconst { obtenerTallas } = data;\n\n\tconst GuardarDatosBD = async () => {\n\t\tlet resp;\n\t\tif (!value) {\n\t\t\treturn;\n\t\t}\n\t\ttry {\n\t\t\tconst nueva_talla = value;\n\t\t\tif(toUpdate){\n\t\t\t\tif (sesion.accesos.catalogos.tallas_numeros.editar === false ) {\n\t\t\t\t\treturn setAlert({ message: 'Lo sentimos no tienes autorizacin para esta accin', status: 'error', open: true });\n\t\t\t\t}else{\n\t\t\t\t\tconst talla_actualizada = cleanTypenames(nueva_talla);\n\t\t\t\t\tresp = await actualizarTalla({\n\t\t\t\t\t\tvariables: {\n\t\t\t\t\t\t\tinput: {\n\t\t\t\t\t\t\t\ttalla: talla_actualizada,\n\t\t\t\t\t\t\t\ttipo\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tid: toUpdate\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tif (sesion.accesos.catalogos.tallas_numeros.agregar === false ) {\n\t\t\t\t\treturn setAlert({ message: 'Lo sentimos no tienes autorizacin para esta accin', status: 'error', open: true });\n\t\t\t\t}else{\n\t\t\t\t\tresp = await crearTalla({\n\t\t\t\t\t\tvariables: {\n\t\t\t\t\t\t\tinput: {\n\t\t\t\t\t\t\t\ttalla: nueva_talla,\n\t\t\t\t\t\t\t\ttipo,\n\t\t\t\t\t\t\t\tempresa: sesion.empresa._id,\n\t\t\t\t\t\t\t\tsucursal: sesion.sucursal._id\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t\trefetch();\n\t\t\tsetValue('');\n\t\t\tsetToUpdate('');\n\t\t\tlet msgAlert = (toUpdate) ? { message: resp.data.actualizarTalla.message, status: 'success', open: true }:{ message: resp.data.crearTalla.message, status: 'success', open: true }\n\t\t\tsetAlert(msgAlert);\n\t\t\t\n\t\t} catch (error) {\n\t\t\tsetAlert({ message: 'Hubo un error', status: 'error', open: true });\n\t\t}\n\t};\n\n\treturn (\n\t\t<Box>\n\t\t\t<SnackBarMessages alert={alert} setAlert={setAlert} />\n\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" my={2}>\n\t\t\t\t<TextField\n\t\t\t\t\tid=\"outlined-error-helper-text\"\n\t\t\t\t\tlabel={tipo === 'ROPA' ? 'Talla' : 'Nmero'}\n\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\tsize=\"small\"\n\t\t\t\t\tvalue={value}\n\t\t\t\t\tonChange={(e) => setValue(e.target.value.toUpperCase())}\n\t\t\t\t/>\n\t\t\t\t<Box ml={1} />\n\t\t\t\t<Button color=\"primary\" variant=\"contained\" size=\"large\" disableElevation onClick={GuardarDatosBD}>\n\t\t\t\t\t<Add />Guardar\n\t\t\t\t</Button>\n\t\t\t</Box>\n\t\t\t<TablaTallas datos={obtenerTallas} tipo={tipo} toUpdate={toUpdate} setToUpdate={setToUpdate} setValue={setValue} refetch={refetch} />\n\t\t</Box>\n\t);\n}\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport CloseIcon from '@material-ui/icons/Close';\nimport Slide from '@material-ui/core/Slide';\nimport { Box, Container, Tab, Tabs } from '@material-ui/core';\nimport RegistroTallas from './RegistroTallas';\n\nfunction TabPanel(props) {\n\tconst { children, value, index, ...other } = props;\n\n\treturn (\n\t\t<div\n\t\t\trole=\"tabpanel\"\n\t\t\thidden={value !== index}\n\t\t\tid={`scrollable-force-tabpanel-${index}`}\n\t\t\taria-labelledby={`scrollable-force-tab-${index}`}\n\t\t\t{...other}\n\t\t>\n\t\t\t{value === index && (\n\t\t\t\t<Box p={2} my={1} minHeight=\"50vh\">\n\t\t\t\t\t{children}\n\t\t\t\t</Box>\n\t\t\t)}\n\t\t</div>\n\t);\n}\n\nTabPanel.propTypes = {\n\tchildren: PropTypes.node,\n\tindex: PropTypes.any.isRequired,\n\tvalue: PropTypes.any.isRequired\n};\n\nfunction a11yProps(index) {\n\treturn {\n\t\tid: `scrollable-force-tab-${index}`,\n\t\t'aria-controls': `scrollable-force-tabpanel-${index}`\n\t};\n}\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n\t\tflexGrow: 1,\n\t\twidth: '100%',\n\t\theight: '100vh',\n\t\tbackgroundColor: theme.palette.background.paper\n\t},\n\tappBar: {\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n\ticonSvg: {\n\t\twidth: 100\n\t},\n\ticon: {\n\t\tfontSize: 100\n\t},\n\ticonSvgSecondary: {\n\t\twidth: 50\n\t}\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function Tallas() {\n\tconst classes = useStyles();\n\tconst [ open, setOpen ] = useState(false);\n\tconst [ value, setValue ] = useState(0);\n\n\tconst handleChange = (event, newValue) => setValue(newValue);\n\n\tconst handleClickOpen = () => setOpen(!open);\n\n\treturn (\n\t\t<div>\n\t\t\t<Button fullWidth onClick={handleClickOpen}>\n\t\t\t\t<Box display=\"flex\" flexDirection=\"column\">\n\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t<img src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/tallas.svg' alt=\"icono ropa\" className={classes.iconSvg} />\n\t\t\t\t\t</Box>\n\t\t\t\t\tTallas y numeros\n\t\t\t\t</Box>\n\t\t\t</Button>\n\t\t\t<Dialog fullScreen open={open} onClose={handleClickOpen} TransitionComponent={Transition}>\n\t\t\t\t<AppBar className={classes.appBar}>\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t<Typography variant=\"h6\" className={classes.title}>\n\t\t\t\t\t\t\tRopa\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Box m={1}>\n\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"secondary\" onClick={handleClickOpen} size=\"large\">\n\t\t\t\t\t\t\t\t<CloseIcon style={{fontSize: 30}} />\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</AppBar>\n\t\t\t\t<div className={classes.root}>\n\t\t\t\t\t<Box>\n\t\t\t\t\t\t<AppBar position=\"static\" color=\"default\" elevation={0}>\n\t\t\t\t\t\t\t<Tabs\n\t\t\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\tindicatorColor=\"primary\"\n\t\t\t\t\t\t\t\ttextColor=\"primary\"\n\t\t\t\t\t\t\t\tcentered\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Tab\n\t\t\t\t\t\t\t\t\tlabel=\"Tallas\"\n\t\t\t\t\t\t\t\t\ticon={\n\t\t\t\t\t\t\t\t\t\t<img src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/shirt.svg' alt=\"icono tallas\" className={classes.iconSvgSecondary} />\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t{...a11yProps(0)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<Tab\n\t\t\t\t\t\t\t\t\tlabel=\"Numeros\"\n\t\t\t\t\t\t\t\t\ticon={\n\t\t\t\t\t\t\t\t\t\t<img src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/shoes.svg' alt=\"icono numeros\" className={classes.iconSvgSecondary} />\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t{...a11yProps(1)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Tabs>\n\t\t\t\t\t\t</AppBar>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<TabPanel value={value} index={0}>\n\t\t\t\t\t\t\t\t<Container maxWidth=\"xs\">\n\t\t\t\t\t\t\t\t\t<RegistroTallas tipo=\"ROPA\" />\n\t\t\t\t\t\t\t\t</Container>\n\t\t\t\t\t\t\t</TabPanel>\n\t\t\t\t\t\t\t<TabPanel value={value} index={1}>\n\t\t\t\t\t\t\t\t<Container maxWidth=\"xs\">\n\t\t\t\t\t\t\t\t\t<RegistroTallas tipo=\"CALZADO\" />\n\t\t\t\t\t\t\t\t</Container>\n\t\t\t\t\t\t\t</TabPanel>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Box>\n\t\t\t\t</div>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n}\n","import { gql } from '@apollo/client';\n\nexport const OBTENER_CONTABILIDAD = gql`\n    query obtenerContabilidad($empresa: ID!, $sucursal: ID!){\n        obtenerContabilidad(empresa: $empresa, sucursal: $sucursal){\n                _id\n            nombre_servicio\n            empresa{\n                _id\n                nombre_empresa\n            }\n                sucursal{\n                _id\n                nombre_sucursal\n            }\n        }\n    }\n`;\n\nexport const REGISTRAR_CONTABILIDAD = gql`\n    mutation CrearContabilidad($input: ContabilidadInput, $empresa: ID!, $sucursal: ID!, $usuario: ID!){\n        crearContabilidad(input:$input,empresa:$empresa,sucursal:$sucursal, usuario:$usuario){\n            message\n        }\n    }\n`;\n\nexport const ACTUALIZAR_CONTABILIDAD = gql`\n    mutation ActualizarContabilidad($input: ContabilidadInput, $id: ID!){\n        actualzarContabilidad(input: $input, id: $id){\n            message\n        }\n    }\n`;\n\nexport const ELIMINAR_CONTABILIDAD = gql`\n    mutation EliminarContabilidad($id: ID!){\n        eliminarContabilidad(id: $id){\n            message\n        }\n    }\n`;","import React, { useState, useEffect } from 'react';\nimport { \n\tBox,\n\tCircularProgress,\n\tTable,\n\tTableBody,\n\tTableCell,\n\tTableContainer,\n\tTableHead,\n\tTablePagination,\n\tTableRow,\n\tPaper,\n\tmakeStyles,\n\tDialog,\n\tDialogTitle,\n\tDialogActions,\n\tButton\n} from '@material-ui/core';\n\nimport { IconButton } from '@material-ui/core';\nimport { Delete, Edit } from '@material-ui/icons';\n\nimport { useQuery, useMutation } from '@apollo/client';\nimport { OBTENER_CONTABILIDAD, ELIMINAR_CONTABILIDAD } from '../../../../gql/Catalogos/contabilidad';\nimport ErrorPage from '../../../../components/ErrorPage';\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n\t\twidth: '100%'\n\t},\n\tpaper: {\n\t\twidth: '100%',\n\t\tmarginBottom: theme.spacing(2)\n\t}\n}));\n\nexport default function TablaServicios({setData, setIdService, idService, setAccion, updateData, setAlert}) {\n\tconst classes = useStyles();\n\tconst [ page, setPage ] = useState(0);\n\tconst [ rowsPerPage, setRowsPerPage ] = useState(10);\n\tconst sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\tconst [ openModal, setOpenModal ] = useState(false);\n\tconst handleModal = () => setOpenModal(!openModal);\n\n\tconst handleChangePage = (event, newPage) => {\n\t\tsetPage(newPage);\n\t};\n\tlet obtenerContabilidad= [];\n\n\tconst { loading, data, error, refetch } = useQuery(OBTENER_CONTABILIDAD,{\n\t\tvariables: {\n\t\t\tempresa: sesion.empresa._id,\n\t\t\tsucursal: sesion.sucursal._id\n\t\t}\n\t});\n\tconst [ EliminarContabilidad ] = useMutation(ELIMINAR_CONTABILIDAD);\n\n\tuseEffect(\n\t\t() => {\n\t\t\trefetch();\n\t\t},\n\t\t[ updateData, refetch ]\n\t);\n\n\tif(data){\n\t\tobtenerContabilidad = data.obtenerContabilidad;\n\t}\n\n\tconst handleChangeRowsPerPage = (event) => {\n\t\tsetRowsPerPage(parseInt(event.target.value, 10));\n\t\tsetPage(0);\n\t};\n\n\tconst handleDelete = async () => {\n\t\ttry {\n\t\t\tawait EliminarContabilidad({\n\t\t\t\tvariables: {\n\t\t\t\t\tid: idService\n\t\t\t\t}\n\t\t\t});\n\t\t\trefetch();\n\t\t\tsetAlert({ message: 'Listo!', status: 'success', open: true });\n\t\t\thandleModal();\n\t\t\tsetIdService(\"\");\n\t\t} catch (error) {\n\t\t\tsetAlert({ message: error.message, status: 'error', open: true });\n\t\t}\n\t};\n\n\tif (error) {\n\t\treturn <ErrorPage error={error} />;\n\t}\n\n\tif (loading){\n\t\treturn (\n\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" height=\"30vh\">\n\t\t\t\t<CircularProgress />\n\t\t\t</Box>\n\t\t);\n\t}\n\t\t\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Paper className={classes.paper}>\n\t\t\t\t<TableContainer>\n\t\t\t\t\t<Table\n\t\t\t\t\t\tclassName={classes.table}\n\t\t\t\t\t\taria-labelledby=\"tableTitle\"\n\t\t\t\t\t\tsize=\"medium\"\n\t\t\t\t\t\taria-label=\"enhanced table\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t<TableCell>Servicios</TableCell>\n\t\t\t\t\t\t\t\t{sesion.accesos.catalogos.contabilidad.editar === false ? (null):(\n\t\t\t\t\t\t\t\t\t<TableCell padding=\"default\">Editar</TableCell>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t{sesion.accesos.catalogos.contabilidad.eliminar === false ? (null):(\n\t\t\t\t\t\t\t\t\t<TableCell padding=\"default\">Eliminar</TableCell>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t</TableHead>\n\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t{obtenerContabilidad?.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)?.map((row, index) => {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<TableRow hover role=\"checkbox\" tabIndex={-1} key={row._id}>\n\t\t\t\t\t\t\t\t\t\t<TableCell>{row.nombre_servicio}</TableCell>\n\t\t\t\t\t\t\t\t\t\t{sesion.accesos.catalogos.contabilidad.editar === false ? (null):(\n\t\t\t\t\t\t\t\t\t\t\t<TableCell padding=\"checkbox\">\n\t\t\t\t\t\t\t\t\t\t\t\t<IconButton onClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetAccion(false)\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetIdService(row._id)\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetData({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tnombre_servicio: row.nombre_servicio\n\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Edit />\n\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t{sesion.accesos.catalogos.contabilidad.eliminar === false ? (null):(\n\t\t\t\t\t\t\t\t\t\t\t<TableCell padding=\"checkbox\">\n\t\t\t\t\t\t\t\t\t\t\t\t<IconButton onClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetIdService(row._id);\n\t\t\t\t\t\t\t\t\t\t\t\t\thandleModal();\n\t\t\t\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Delete />\n\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t</Table>\n\t\t\t\t</TableContainer>\n\t\t\t\t<TablePagination\n\t\t\t\t\trowsPerPageOptions={[]}\n\t\t\t\t\tcomponent=\"div\"\n\t\t\t\t\tcount={obtenerContabilidad.length}\n\t\t\t\t\trowsPerPage={rowsPerPage}\n\t\t\t\t\tpage={page}\n\t\t\t\t\tonChangePage={handleChangePage}\n\t\t\t\t\tonChangeRowsPerPage={handleChangeRowsPerPage}\n\t\t\t\t/>\n\t\t\t</Paper>\n\t\t\t<Modal handleModal={handleModal} openModal={openModal} handleDelete={handleDelete} />\n\t\t</div>\n\t);\n}\n\nconst Modal = ({ handleModal, openModal, handleDelete }) => {\n\treturn (\n\t\t<div>\n\t\t\t<Dialog open={openModal} onClose={handleModal}>\n\t\t\t\t<DialogTitle>{'Seguro que quieres eliminar esto?'}</DialogTitle>\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Button onClick={handleModal} color=\"primary\">\n\t\t\t\t\t\tCancelar\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button color=\"secondary\" autoFocus variant=\"contained\" onClick={handleDelete}>\n\t\t\t\t\t\tEliminar\n\t\t\t\t\t</Button>\n\t\t\t\t</DialogActions>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n};\n","import React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport { Box, Button, TextField } from '@material-ui/core';\nimport { Add } from '@material-ui/icons';\nimport ListaServicios from './ListaServicios';\nimport { REGISTRAR_CONTABILIDAD, ACTUALIZAR_CONTABILIDAD } from '../../../../gql/Catalogos/contabilidad';\nimport { useMutation } from '@apollo/client';\nimport SnackBarMessages from '../../../../components/SnackBarMessages';\nimport { cleanTypenames } from '../../../../config/reuserFunctions';\n\nconst useStyles = makeStyles({\n\troot: {\n\t\twidth: '100%'\n\t},\n\tflexGrow: {\n\t\tflexGrow: 1\n\t}\n});\n\nexport default function RegistroServicios() {\n\tconst classes = useStyles();\n\tconst [updateData, setUpdateData] = useState(false);\n\tconst [data, setData] = useState({\n\t\tnombre_servicio: \"\"\n\t});\n\tconst [ alert, setAlert ] = useState({ message: '', status: '', open: false });\n\tconst [error, setError] = useState(false);\n\tconst sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\tconst [accion, setAccion] = useState(true);\n\tconst [idService, setIdService] = useState('')\n\n\tconst [ CrearContabilidad ] = useMutation(REGISTRAR_CONTABILIDAD);\n\tconst [ ActualizarContabilidad ] = useMutation(ACTUALIZAR_CONTABILIDAD);\n\n\tconst handleChangeInput = (e) => {\n\t\tsetData({\n\t\t\t...data,\n\t\t\t[e.target.name]: e.target.value\n\t\t})\n\t}\n\n\tconst handleSubmit = async () => {\n\t\ttry {\n\t\t\tif(!data.nombre_servicio){\n\t\t\t\tsetError(true);\n\t\t\t    return;\n\t\t\t}else{\n\t\t\t\tconst input = data;\n\t\t\t\tif(accion){\n\t\t\t\t\tif (sesion.accesos.catalogos.contabilidad.agregar === false) {\n\t\t\t\t\t\treturn setAlert({ message: 'Lo sentimos no tienes autorizacin para esta accin!', status: 'error', open: true });\n\t\t\t\t\t}else{\n\t\t\t\t\t\tawait CrearContabilidad({\n\t\t\t\t\t\t\tvariables: {\n\t\t\t\t\t\t\t\tinput,\n\t\t\t\t\t\t\t\tempresa: sesion.empresa._id,\n\t\t\t\t\t\t\t\tsucursal: sesion.sucursal._id,\n\t\t\t\t\t\t\t\tusuario: sesion._id\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tif (sesion.accesos.catalogos.contabilidad.editar === false) {\n\t\t\t\t\t\treturn setAlert({ message: 'Lo sentimos no tienes autorizacin para esta accin!', status: 'error', open: true });\n\t\t\t\t\t}else{\n\t\t\t\t\t\tconst inputActualizado = cleanTypenames(input);\n\t\t\t\t\t\tawait ActualizarContabilidad({\n\t\t\t\t\t\t\tvariables: {\n\t\t\t\t\t\t\t\tinput: inputActualizado,\n\t\t\t\t\t\t\t\tid: idService\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t\tsetAccion(true);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tsetAlert({ message: 'Listo!', status: 'success', open: true });\n\t\t\t\tsetData({nombre_servicio: \"\"});\n\t\t\t\tsetUpdateData(!updateData);\n\t\t\t\tsetIdService(\"\");\n\t\t\t}\n\t\t} catch (error) {\n\t\t\t\n\t\t}\n\t}\n\n\tconst pressEnter = (e) => {\n\t\tif (e.key === 'Enter') handleSubmit();\n\t};\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<SnackBarMessages alert={alert} setAlert={setAlert} />\n\t\t\t<Typography variant=\"h6\">Tipo de Servicio</Typography>\n\t\t\t<Box display=\"flex\" alignItems=\"center\" mb={2}>\n\t\t\t\t<TextField\n\t\t\t\t\terror={error}\n\t\t\t\t\tid=\"outlined-error-helper-text\"\n\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\tsize=\"small\"\n\t\t\t\t\tname=\"nombre_servicio\"\n\t\t\t\t\tvalue={data.nombre_servicio}\n\t\t\t\t\tonChange={handleChangeInput}\n\t\t\t\t\tonKeyPress={pressEnter}\n\t\t\t\t/>\n\t\t\t\t<Box ml={1} />\n\t\t\t\t<Button color=\"primary\" variant=\"contained\" size=\"large\" onClick={handleSubmit} disableElevation>\n\t\t\t\t\t<Add />Guardar\n\t\t\t\t</Button>\n\t\t\t</Box>\n\t\t\t<ListaServicios \n\t\t\t\tsetData={setData} \n\t\t\t\tidService={idService} \n\t\t\t\tsetIdService={setIdService} \n\t\t\t\tsetAccion={setAccion} \n\t\t\t\tupdateData={updateData}\n\t\t\t\tsetAlert={setAlert} \n\t\t\t/>\n\t\t</div>\n\t);\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport CloseIcon from '@material-ui/icons/Close';\nimport Slide from '@material-ui/core/Slide';\nimport { Box, Container } from '@material-ui/core';\nimport RegistroServicios from './RegistroServicio';\n\nconst useStyles = makeStyles((theme) => ({\n\tappBar: {\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n\ticon: {\n\t\twidth: 100\n\t}\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function Contabilidad() {\n\tconst classes = useStyles();\n\tconst [ open, setOpen ] = React.useState(false);\n\n\tconst handleClickOpen = () => {\n\t\tsetOpen(true);\n\t};\n\n\tconst handleClose = () => {\n\t\tsetOpen(false);\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<Button fullWidth onClick={handleClickOpen}>\n\t\t\t\t<Box display=\"flex\" flexDirection=\"column\">\n\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t<img src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/contabilidad.svg' alt=\"icono numero calzado\" className={classes.icon} />\n\t\t\t\t\t</Box>\n\t\t\t\t\tContabilidad\n\t\t\t\t</Box>\n\t\t\t</Button>\n\t\t\t<Dialog fullScreen open={open} onClose={handleClose} TransitionComponent={Transition}>\n\t\t\t\t<AppBar className={classes.appBar}>\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t<Typography variant=\"h6\" className={classes.title}>\n\t\t\t\t\t\t\tContabilidad\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Box m={1}>\n\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"secondary\" onClick={handleClose} size=\"large\">\n\t\t\t\t\t\t\t\t<CloseIcon style={{fontSize: 30}} />\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</AppBar>\n\t\t\t\t<Box mt={4}>\n\t\t\t\t\t<Container maxWidth=\"md\">\n\t\t\t\t\t\t<RegistroServicios />\n\t\t\t\t\t</Container>\n\t\t\t\t</Box>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n}\n","import React, { useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport CrearCliente from \"../Cliente/CrearCliente\";\n\nimport { useMutation, useQuery } from \"@apollo/client\";\nimport {\n  ELIMINAR_CLIENTE,\n  OBTENER_CLIENTES,\n} from \"../../../../gql/Catalogos/clientes\";\nimport {\n  Box,\n  Button,\n  CircularProgress,\n  Dialog,\n  DialogActions,\n  Slide,\n} from \"@material-ui/core\";\nimport { DialogTitle, IconButton, Typography } from \"@material-ui/core\";\nimport { Delete } from \"@material-ui/icons\";\nimport ErrorPage from \"../../../../components/ErrorPage\";\nimport { formatoFechaCorta } from \"../../../../config/reuserFunctions\";\nimport SnackBarMessages from \"../../../../components/SnackBarMessages\";\n\nconst columns = [\n  { id: 1, label: \"No. Cliente\", minWidth: 100 },\n  { id: 2, label: \"Clave\", minWidth: 100 },\n  { id: 3, label: \"Nombre\", minWidth: 150 },\n  { id: 4, label: \"Razon Social\", minWidth: 150 },\n  { id: 5, label: \"Correo\", minWidth: 150 },\n  { id: 6, label: \"Fecha registro\", minWidth: 100 },\n  { id: 7, label: \"Estado\", minWidth: 100 },\n];\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nconst useStyles = makeStyles({\n  root: {\n    width: \"100%\",\n  },\n  container: {\n    height: \"75vh\",\n  },\n  avatar: {\n    width: 130,\n    height: 130,\n  },\n});\n\nexport default function TablaProveedores({ tipo, filtro }) {\n  const permisosUsuario = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n  const [alert, setAlert] = useState({ message: \"\", status: \"\", open: false });\n  const classes = useStyles();\n\n  const { loading, data, error, refetch } = useQuery(OBTENER_CLIENTES, {\n    variables: { tipo, filtro },\n    fetchPolicy: \"network-only\",\n  });\n\n  if (loading)\n    return (\n      <Box\n        display=\"flex\"\n        justifyContent=\"center\"\n        alignItems=\"center\"\n        height=\"30vh\"\n      >\n        <CircularProgress />\n      </Box>\n    );\n  if (error) {\n    return <ErrorPage error={error} />;\n  }\n\n  const { obtenerClientes } = data;\n\n  return (\n    <Paper className={classes.root}>\n      <SnackBarMessages alert={alert} setAlert={setAlert} />\n      <TableContainer className={classes.container}>\n        <Table stickyHeader aria-label=\"sticky table\" size=\"small\">\n          <TableHead>\n            <TableRow>\n              {columns.map((column) => (\n                <TableCell key={column.id} align={column.align}>\n                  {column.label}\n                </TableCell>\n              ))}\n              {permisosUsuario.accesos.catalogos.provedores.editar ===\n              false ? null : (\n                <TableCell key={9} align={\"right\"}>\n                  Editar\n                </TableCell>\n              )}\n              {permisosUsuario.accesos.catalogos.provedores.eliminar ===\n              false ? null : (\n                <TableCell key={10} align={\"right\"}>\n                  Eliminar\n                </TableCell>\n              )}\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {obtenerClientes.map((row, index) => {\n              return (\n                <RowsRender\n                  key={index}\n                  datos={row}\n                  setAlert={setAlert}\n                  refetch={refetch}\n                />\n              );\n            })}\n          </TableBody>\n        </Table>\n      </TableContainer>\n    </Paper>\n  );\n}\n\nconst RowsRender = ({ datos, setAlert, refetch }) => {\n  const permisosUsuario = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n\n  return (\n    <TableRow hover role=\"checkbox\" tabIndex={-1}>\n      <TableCell>\n        <Typography>{datos.numero_cliente}</Typography>\n      </TableCell>\n      <TableCell>\n        <Typography>{datos.clave_cliente}</Typography>\n      </TableCell>\n      <TableCell>\n        <Typography>{datos.nombre_cliente}</Typography>\n      </TableCell>\n      <TableCell>\n        <Typography>{datos.razon_social}</Typography>\n      </TableCell>\n      <TableCell>\n        <Typography>{datos.email}</Typography>\n      </TableCell>\n      <TableCell>\n        <Typography>{formatoFechaCorta(datos.fecha_registro)}</Typography>\n      </TableCell>\n      <TableCell>\n        <Typography>{datos.estado_cliente ? \"Activo\" : \"Inactivo\"}</Typography>\n      </TableCell>\n      {permisosUsuario.accesos.catalogos.provedores.editar === false ? null : (\n        <TableCell width={50}>\n          <CrearCliente tipo=\"PRROVEEDOR\" accion=\"actualizar\" datos={datos} />\n        </TableCell>\n      )}\n      {permisosUsuario.accesos.catalogos.provedores.eliminar ===\n      false ? null : (\n        <TableCell width={50}>\n          <EliminarCliente\n            datos={datos}\n            setAlert={setAlert}\n            refetch={refetch}\n          />\n        </TableCell>\n      )}\n    </TableRow>\n  );\n};\n\nconst EliminarCliente = ({ datos, setAlert, refetch }) => {\n  const [open, setOpen] = useState(false);\n  const [eliminarCliente] = useMutation(ELIMINAR_CLIENTE);\n  const [loading, setLoading] = useState(false);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const eliminarClienteBD = async () => {\n    setLoading(true);\n    try {\n      const result = await eliminarCliente({\n        variables: {\n          id: datos._id,\n        },\n      });\n      if (result) {\n        const { message } = result.data.eliminarCliente;\n        setAlert({ message, status: \"success\", open: true });\n        refetch();\n      }\n      setLoading(false);\n      handleClose();\n    } catch (error) {\n      console.log(error);\n      setLoading(false);\n      if (error.message) {\n        setAlert({ message: error.message, status: \"error\", open: true });\n        return;\n      }\n      setAlert({ message: \"Hubo un error\", status: \"error\", open: true });\n    }\n  };\n\n  return (\n    <div>\n      <IconButton color=\"secondary\" onClick={() => handleClickOpen()}>\n        <Delete />\n      </IconButton>\n      <Dialog\n        open={open}\n        TransitionComponent={Transition}\n        keepMounted\n        onClose={() => handleClose()}\n        aria-labelledby=\"alert-eliminar-cliente\"\n      >\n        <DialogTitle id=\"alert-eliminar-cliente\">\n          {\"Est seguro de eliminar esto?\"}\n        </DialogTitle>\n        <DialogActions>\n          <Button\n            onClick={() => handleClose()}\n            color=\"inherit\"\n            disabled={loading}\n          >\n            Cancelar\n          </Button>\n          <Button\n            onClick={() => eliminarClienteBD()}\n            color=\"secondary\"\n            disabled={loading}\n            startIcon={\n              loading ? <CircularProgress size={20} color=\"inherit\" /> : null\n            }\n          >\n            Eliminar\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n};\n","import React, { useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Typography from \"@material-ui/core/Typography\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport Slide from \"@material-ui/core/Slide\";\nimport { Box, Grid, IconButton, InputBase, Paper } from \"@material-ui/core\";\nimport { Search } from \"@material-ui/icons\";\nimport TablaProovedores from \"./ListaProveedores\";\nimport CrearCliente from \"../Cliente/CrearCliente\";\nimport { ClienteProvider } from \"../../../../context/Catalogos/crearClienteCtx\";\n\nconst useStyles = makeStyles((theme) => ({\n  appBar: {\n    position: \"relative\",\n  },\n  title: {\n    marginLeft: theme.spacing(2),\n    flex: 1,\n  },\n  icon: {\n    width: 100,\n  },\n  root: {\n    display: \"flex\",\n    paddingLeft: theme.spacing(2),\n  },\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function Proveedores() {\n  const permisosUsuario = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n\n  const classes = useStyles();\n  const [open, setOpen] = useState(false);\n  const [filtro, setFiltro] = useState(\"\");\n  const [values, setValues] = useState(\"\");\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const pressEnter = (e) => {\n    if (e.key === \"Enter\") setFiltro(e.target.defaultValue);\n  };\n\n  return (\n    <div>\n      <ClienteProvider>\n        <Button fullWidth onClick={handleClickOpen}>\n          <Box display=\"flex\" flexDirection=\"column\">\n            <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n              <img\n                src=\"https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/distribution.svg\"\n                alt=\"icono numero calzado\"\n                className={classes.icon}\n              />\n            </Box>\n            Proveedores\n          </Box>\n        </Button>\n        <Dialog\n          fullScreen\n          open={open}\n          onClose={handleClose}\n          TransitionComponent={Transition}\n        >\n          <AppBar className={classes.appBar}>\n            <Toolbar>\n              <Typography variant=\"h6\" className={classes.title}>\n                Proveedores\n              </Typography>\n              <Box m={1}>\n                <Button\n                  variant=\"contained\"\n                  color=\"secondary\"\n                  onClick={handleClose}\n                  size=\"large\"\n                >\n                  <CloseIcon style={{ fontSize: 30 }} />\n                </Button>\n              </Box>\n            </Toolbar>\n          </AppBar>\n\n          <Box m={3}>\n            <Grid container spacing={2}>\n              <Grid item md={6} xs={8}>\n                <Paper className={classes.root}>\n                  <InputBase\n                    fullWidth\n                    placeholder=\"Buscar proveedor...\"\n                    onChange={(e) => setValues(e.target.value)}\n                    onKeyPress={pressEnter}\n                    value={values}\n                  />\n                  <IconButton onClick={() => setFiltro(values)}>\n                    <Search />\n                  </IconButton>\n                </Paper>\n              </Grid>\n              <Grid\n                item\n                md={6}\n                xs={4}\n                style={{ display: \"flex\", justifyContent: \"flex-end\" }}\n              >\n                {permisosUsuario.accesos.catalogos.provedores.ver ===\n                false ? null : (\n                  <CrearCliente tipo=\"PROVEEDOR\" accion=\"registrar\" />\n                )}\n              </Grid>\n            </Grid>\n          </Box>\n          <Box mx={4}>\n            <TablaProovedores tipo=\"PROVEEDOR\" filtro={filtro} />\n          </Box>\n        </Dialog>\n      </ClienteProvider>\n    </div>\n  );\n}\n","import React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TablePagination from '@material-ui/core/TablePagination';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport { IconButton } from '@material-ui/core';\nimport { Delete } from '@material-ui/icons';\n\n\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n\t\twidth: '100%'\n\t},\n\tpaper: {\n\t\twidth: '100%',\n\t\tmarginBottom: theme.spacing(2)\n\t}\n}));\n\nexport default function TablaCajas(props) {\n\tconst permisos = JSON.parse(localStorage.getItem('sesionCafi'));\n\n\tconst classes = useStyles();\n\n\tconst [ page, setPage ] = useState(0);\n\tconst [ rowsPerPage, setRowsPerPage ] = useState(8);\n\n\tconst handleChangePage = (event, newPage) => {\n\t\tsetPage(newPage);\n\t};\n\n\tconst handleChangeRowsPerPage = (event) => {\n\t\tsetRowsPerPage(parseInt(event.target.value, 10));\n\t\tsetPage(0);\n\t};\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Paper className={classes.paper}>\n\t\t\t\t<TableContainer>\n\t\t\t\t\t<Table\n\t\t\t\t\t\tclassName={classes.table}\n\t\t\t\t\t\taria-labelledby=\"tableTitle\"\n\t\t\t\t\t\tsize=\"medium\"\n\t\t\t\t\t\taria-label=\"enhanced table\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t<TableCell>Cajas</TableCell>\n\t\t\t\t\t\t\t\t{permisos.accesos.catalogos.cajas.eliminar === false ? (null):(\n\t\t\t\t\t\t\t\t\t<TableCell padding=\"default\">Eliminar</TableCell>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t</TableHead>\n\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t{props.obtenerCajasSucursal.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage).map((row, index) => {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<TableRow hover role=\"checkbox\" tabIndex={-1} key={row.numero_caja}>\n\t\t\t\t\t\t\t\t\t\t<TableCell> Caja {row.numero_caja}</TableCell>\n\t\t\t\t\t\t\t\t\t\t{permisos.accesos.catalogos.cajas.eliminar === false ? (null):(\n\t\t\t\t\t\t\t\t\t\t\t<TableCell padding=\"checkbox\">\n\t\t\t\t\t\t\t\t\t\t\t\t<IconButton onClick={() => props.deleteCaja(row._id)} >\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Delete />\n\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t</Table>\n\t\t\t\t</TableContainer>\n\t\t\t\t<TablePagination\n\t\t\t\t\trowsPerPageOptions={[]}\n\t\t\t\t\tcomponent=\"div\"\n\t\t\t\t\tcount={props.obtenerCajasSucursal.length}\n\t\t\t\t\trowsPerPage={rowsPerPage}\n\t\t\t\t\tpage={page}\n\t\t\t\t\tonChangePage={handleChangePage}\n\t\t\t\t\tonChangeRowsPerPage={handleChangeRowsPerPage}\n\t\t\t\t/>\n\t\t\t</Paper>\n\t\t</div>\n\t);\n}\n","import { gql } from '@apollo/client';\n\nexport const CREAR_CAJA = gql`\n    mutation CrearCaja($input: CrearCajasInput!, $empresa: ID!, $sucursal: ID!){\n        crearCaja(input: $input, empresa: $empresa, sucursal: $sucursal){\n            message\n        }\n    }\n`;\n\nexport const OBTENER_CAJAS = gql`\n    query ObtenerCajasSucursales($empresa: ID!, $sucursal: ID!){\n        obtenerCajasSucursal(empresa: $empresa, sucursal: $sucursal){\n            _id\n            numero_caja\n            activa\n            usuario_creador {\n            numero_usuario\n            nombre\n            email\n            }\n            cantidad_efectivo_actual\n            usuario_en_caja {\n            _id\n            numero_usuario\n            nombre\n            email\n            }\n             \n        }\n    }\n`;\nexport const CREAR_HISTORIAL_CAJA = gql`\n    mutation CrearHistorialCaja($input: CrearHistorialCajasInput!, $empresa: ID!, $sucursal: ID!){\n        crearHistorialCaja(input: $input, empresa: $empresa, sucursal: $sucursal){\n            message\n        }\n    }\n`;\n\nexport const OBTENER_HISTORIAL_CAJA = gql`\n    query ObtenerHistorialCaja($input: HistorialCajasInput, $id_Caja: ID!,$empresa: ID!, $sucursal: ID!){\n        obtenerHistorialCaja(input: $input, id_Caja: $id_Caja,empresa: $empresa, sucursal: $sucursal){\n            tipo_movimiento\n            concepto\n            horario_turno\n            numero_caja\n            numero_usuario_creador\n            nombre_usuario_creador\n            hora_moviento{\n                hora\n                minutos\n                segundos\n                completa\n            }\n            fecha_movimiento{\n                year\n                mes\n                dia\n                no_dia_year\n                no_semana_year\n                completa\n            }\n            montos_en_caja{\n                monto_efectivo{\n                    monto \n                }\n                monto_tarjeta_credito{\n                    monto \n                }\n                monto_tarjeta_debito{\n                    monto \n                }\n                monto_creditos{\n                    monto \n                }\n                monto_monedero{\n                    monto \n                }\n                monto_transferencia{\n                    monto \n                }\n                monto_cheques{\n                    monto \n                }\n                monto_vales_despensa{\n                    monto \n                }\n            }\n        }\n    }\n`;\n\nexport const ELIMINAR_CAJA = gql`\n\tmutation eliminarCaja($id: ID!) {\n\t\teliminarCaja(id: $id) {\n\t\t\tmessage\n\t\t}\n\t}\n`; \n\nexport const ACTUALIZAR_CAJA = gql`\n\tmutation ActualizarCaja($input: EditarCaja, $id: ID!) {\n\t\tactualizarCaja(id: $id, input: $input) {\n            _id\n            numero_caja\n            activa\n        }\n    }\n`; \n\nexport const OBTENER_PRE_CORTE_CAJA = gql`\n    query ObtenerPreCorteCaja($empresa: ID!, $sucursal: ID!, $input: PreCortesDeCajaInput){\n        obtenerPreCorteCaja(empresa: $empresa, sucursal: $sucursal, input: $input){\n            monto_efectivo_precorte         \n        }\n    }\n`;\n\nexport const OBTENER_CORTES_CAJA = gql`\n    query ObtenerCortesDeCaja($empresa: ID!, $sucursal: ID!, $input: FiltroCorteDeCajaInput){\n        obtenerCortesDeCaja(empresa: $empresa, sucursal: $sucursal, input: $input){\n            concepto\n            token_turno_user\n            numero_caja\n            horario_en_turno\n            id_caja\n            hora_salida{\n                completa\n            }\n            fecha_salida{\n                completa\n            }\n            fecha_movimiento\n            usuario_en_turno{\n                nombre\n                telefono\n                email\n                numero_usuario\n            }\n            montos_en_caja{\n                monto_efectivo{\n                    monto \n                }\n                monto_tarjeta_credito{\n                    monto \n                }\n                monto_tarjeta_debito{\n                    monto \n                }\n                monto_creditos{\n                    monto \n                }\n                monto_monedero{\n                    monto \n                }\n                monto_transferencia{\n                    monto \n                }\n                monto_cheques{\n                    monto \n                }\n                monto_vales_despensa{\n                    monto \n                }\n            }\n            sucursal{\n                nombre_sucursal\n            }\n        }\n    }\n`;\n\nexport const OBTENER_CORTE_CAJA = gql`\n    query ObtenerCorteCaja($empresa: ID!, $sucursal: ID!, $input: CorteDeCajaInput){\n        obtenerCorteCaja(empresa: $empresa, sucursal: $sucursal, input: $input){\n            montos_en_sistema{\n                monto_efectivo\n                monto_tarjeta_debito\n                monto_tarjeta_credito\n                monto_creditos\n                monto_monedero\n                monto_transferencia\n                monto_cheques\n                monto_vales_despensa\n            }\n        }\n    }\n`;\n","import React, {useState, useEffect} from 'react';\nimport { Box, Button } from '@material-ui/core';\nimport { Add } from '@material-ui/icons';\nimport { useMutation, useQuery } from '@apollo/client';\nimport TablaCajas from './ListaCajas';\nimport SnackBarMessages from '../../../../components/SnackBarMessages';\nimport BackdropComponent from '../../../../components/Layouts/BackDrop';\nimport { CREAR_CAJA, OBTENER_CAJAS, ELIMINAR_CAJA } from '../../../../gql/Cajas/cajas';\n\nexport default function RegistroCajas() {\n\tconst [ loading, setLoading ] = React.useState(false);\n    // const [ open, setOpen ] = React.useState(false);\n\tconst [ alert, setAlert ] = useState({ message: '', status: '', open: false });\n\t\n\tconst sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\n\tlet obtenerCajasSucursal = [];\n\t  /* Mutation */\n\tconst [ crearCaja ] = useMutation(CREAR_CAJA);\n\tconst [ eliminarCaja ] = useMutation(ELIMINAR_CAJA);\n\n\n\t  /* Queries */\n\tconst {  data, refetch } = useQuery(OBTENER_CAJAS,{\n\t\tvariables: {\n            empresa: sesion.empresa._id,\n\t\t\tsucursal: sesion.sucursal._id\n\t\t}\n\t});\t\n\tconst nuevaCaja = async () => {\n\t\ttry {\n            setLoading(true);\n\t\t\t\tawait crearCaja({\n\t\t\t\t\tvariables: {\n\t\t\t\t\t\tinput:{usuario_creador:  sesion._id, numero_usuario_creador: sesion.numero_usuario, nombre_usuario_creador: sesion.nombre},\n\t\t\t\t\t\tempresa: sesion.empresa._id,\n\t\t\t\t\t\tsucursal: sesion.sucursal._id\n\t\t\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\trefetch();\n\t\t\tsetAlert({ message: 'Listo!', status: 'success', open: true });\n\t\t\tsetLoading(false);\n\t\t\n\t\t\t\n\t\t} catch (error) {\n\t\t\tsetAlert({ message: 'Hubo un error', status: 'error', open: true });\n\t\t\tsetLoading(false);\n\t\t}\n\t};\n\t\n\tconst deleteCaja = async (id) => {\n\t\ttry {\n            setLoading(true);\n\t\t\t\tawait eliminarCaja({\n\t\t\t\t\tvariables: {\n\t\t\t\t\t\tid: id\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\trefetch();\n\t\t\tsetAlert({ message: 'Listo!', status: 'success', open: true });\n\t\t\tsetLoading(false);\n\t\t} catch (error) {\n\t\t\tsetAlert({ message: 'Hubo un error', status: 'error', open: true });\n\t\t\tsetLoading(false);\n\t\t}\n\t};\n\t\n\tif(data){\n\t\tobtenerCajasSucursal = data.obtenerCajasSucursal;\n\t}\n\n\tuseEffect(\n\t\t() => {\n\t\t\tsetLoading(true);\n\t\t\trefetch();\n\t\t\tsetLoading(false);\n\t\t},\n\t\t[ refetch ]\n\t); \n\n\treturn (\n\t\t<Box>\n\t\t\t<SnackBarMessages alert={alert} setAlert={setAlert} />\t\n\t\t\t<BackdropComponent loading={loading} setLoading={setLoading} />\n\t\t\t<Box display=\"flex\" justifyContent=\"left\" alignItems=\"left\" my={2}>\n\t\t\t\n\t\t\t\t<Box ml={1} />\n\t\t\t\t{sesion.accesos.catalogos.cajas.agregar === false ? (null):(\n\t\t\t\t\t<Button color=\"primary\" variant=\"contained\" size=\"large\" disableElevation onClick={() => nuevaCaja()}>\n\t\t\t\t\t\t<Add />Agregar\n\t\t\t\t\t</Button>\n\t\t\t\t)}\n\t\t\t</Box>\n\t\t\t<TablaCajas obtenerCajasSucursal={obtenerCajasSucursal} deleteCaja={deleteCaja} />\n\t\t</Box>\n\t);\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport CloseIcon from '@material-ui/icons/Close';\nimport Slide from '@material-ui/core/Slide';\nimport { Box, Container } from '@material-ui/core';\nimport RegistroCajas from './RegistrarCajas';\n\nconst useStyles = makeStyles((theme) => ({\n\tappBar: {\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n\ticon: {\n\t\twidth: 100\n\t}\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function Cajas() {\n\tconst classes = useStyles();\n\n\tconst [ open, setOpen ] = React.useState(false);\n\n\n\t\n\tconst handleClickOpen = () => {\n\t\tsetOpen(true);\n\t};\n\n\tconst handleClose = () => {\n\t\tsetOpen(false);\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<Button fullWidth onClick={handleClickOpen}>\n\t\t\t\t<Box display=\"flex\" flexDirection=\"column\">\n\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t<img src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/cajas.svg' alt=\"icono numero calzado\" className={classes.icon} />\n\t\t\t\t\t</Box>\n\t\t\t\t\tCajas\n\t\t\t\t</Box>\n\t\t\t</Button>\n\t\t\t<Dialog fullScreen open={open} onClose={handleClose} TransitionComponent={Transition}>\n\t\t\t\t<AppBar className={classes.appBar}>\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t<Typography variant=\"h6\" className={classes.title}>\n\t\t\t\t\t\t\tCajas\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Box m={1}>\n\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"secondary\" onClick={handleClose} size=\"large\">\n\t\t\t\t\t\t\t\t<CloseIcon style={{fontSize: 30}} />\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</AppBar>\n\t\t\t\t<Box mt={3}>\n\t\t\t\t\t<Container maxWidth=\"sm\">\n\t\t\t\t\t\t<RegistroCajas />\n\t\t\t\t\t</Container>\n\t\t\t\t</Box>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n}\n","\nlet arregloVacio = {\n    mi_empresa:{\n        datos_empresa: {\n            ver: false,\n            agregar: false,\n            editar: false,\n            eliminar: false\n        },\n        informacion_fiscal: {\n            ver: false,\n            agregar: false,\n            editar: false,\n            eliminar: false\n        }\n    },\n    compras:{\n        abrir_compra:{\n            ver: false,\n            agregar: false,\n            editar: false,\n            eliminar: false\n        },\n        compras_realizadas:{\n            ver: false,\n            agregar: false,\n            editar: false,\n            eliminar: false\n        },\n        compras_espera:{\n            ver: false,\n            agregar: false,\n            editar: false,\n            eliminar: false\n        }\n    },\n    tesoreria:{\n        cuentas_empresa:{\n            ver: false,\n            agregar: false,\n            editar: false,\n            eliminar: false\n        },\n        egresos:{\n            ver: false,\n            agregar: false,\n            editar: false,\n            eliminar: false\n        },\n        abonos_proveedores:{\n            ver: false,\n            agregar: false,\n            editar: false,\n            eliminar: false\n        },\n        abonos_clientes:{\n            ver: false,\n            agregar: false,\n            editar: false,\n            eliminar: false\n        }\n    },\n    reportes:{\n        reporte_historial_cajas:{\n            ver: false,\n            agregar: false,\n            editar: false,\n            eliminar: false\n        },\n        reporte_turnos:{\n            ver: false,\n            agregar: false,\n            editar: false,\n            eliminar: false\n        },\n        reporte_compras:{\n            ver: false,\n            agregar: false,\n            editar: false,\n            eliminar: false\n        },\n        reporte_ventas:{\n            ver: false,\n            agregar: false,\n            editar: false,\n            eliminar: false\n        },\n        rerporte_almacen:{\n            ver: false,\n            agregar: false,\n            editar: false,\n            eliminar: false\n        },\n        reporte_corte_caja:{\n            ver: false,\n            agregar: false,\n            editar: false,\n            eliminar: false\n        },\n        reporte_tesoreria:{\n            ver: false,\n            agregar: false,\n            editar: false,\n            eliminar: false\n        }\n    },\n    ventas:{\n        cancelar_venta:{\n            ver: false,\n            agregar: false,\n            editar: false,\n            eliminar: false\n        },\n        precios_productos: {\n            ver: false,\n            agregar: false,\n            editar: false,\n            eliminar: false\n        },\n        pre_corte:{\n            ver: false,\n            agregar: false,\n            editar: false,\n            eliminar: false\n        },\n        cotizaciones:{\n            ver: false,\n            agregar: false,\n            editar: false,\n            eliminar: false\n        },\n        administrador:{\n            ver: false,\n            agregar: false,\n            editar: false,\n            eliminar: false\n        },\n        eliminar_ventas:{\n            ver: false,\n            agregar: false,\n            editar: false,\n            eliminar: false\n        },\n        producto_rapido: {\n            ver: false,\n            agregar: false,\n            editar: false,\n            eliminar: false\n        }\n    },\n    almacenes:{\n        almacen:{\n            ver: false,\n            agregar: false,\n            editar: false,\n            eliminar: false\n        },\n        traspasos:{\n            ver: false,\n            agregar: false,\n            editar: false,\n            eliminar: false\n        },\n        inventario_almacen:{\n            ver: false,\n            agregar: false,\n            editar: false,\n            eliminar: false\n        }\n    },\n    catalogos: {\n        clientes:{\n            ver: false,\n            agregar: false,\n            eliminar: false,\n            editar:false\n        },\n        usuarios:{\n            ver: false,\n            agregar: false,\n            eliminar: false,\n            editar:false\n        },\n        marcas:{\n            ver: false,\n            agregar: false,\n            eliminar: false,\n            editar:false\n        },\n        contabilidad:{\n            ver: false,\n            agregar: false,\n            eliminar: false,\n            editar:false\n        },\n        provedores:{\n            ver: false,\n            agregar: false,\n            eliminar: false,\n            editar:false\n        },\n        cajas:{\n            ver: false,\n            agregar: false,\n            eliminar: false,\n            editar:false\n        },\n        departamentos:{\n            ver: false,\n            agregar: false,\n            eliminar: false,\n            editar:false\n        },\n        centro_costos:{\n            ver: false,\n            agregar: false,\n            eliminar: false,\n            editar:false\n        },\n        conceptos_almacen:{\n            ver: false,\n            agregar: false,\n            eliminar: false,\n            editar:false\n        },\n        categorias:{\n            ver: false,\n            agregar: false,\n            eliminar: false,\n            editar:false\n        },\n        colores:{\n            ver: false,\n            agregar: false,\n            eliminar: false,\n            editar:false\n        },\n        tallas_numeros:{\n            ver: false,\n            agregar: false,\n            eliminar: false,\n            editar:false\n        },\n    }\n} \n\nexport default arregloVacio;\n","import React, { createContext, useState } from 'react';\nimport arregloVacio from '../../pages/sucursales/Catalogos/Usuarios/AsingarAccesos/arregloVacioAcceso'\n\nexport const UsuarioContext = createContext();\n\nexport const UsuarioProvider = ({ children }) => {\n\tconst [ usuario, setUsuario ] = useState({\n\t\tdireccion: {\n\t\t\tcalle: '',\n\t\t\tno_ext: '',\n\t\t\tno_int: '',\n\t\t\tcodigo_postal: '',\n\t\t\tcolonia: '',\n\t\t\tmunicipio: '',\n\t\t\tlocalidad: '',\n\t\t\testado: '',\n\t\t\tpais: ''\n\t\t},\n\t\testado_usuario: true,\n\t\taccesos: arregloVacio\n\t});\n\tconst [ toUpdate, setToUpdate ] = useState(false);\n\tconst [ error, setError ] = useState({error: false, message: ''});\n\tconst [ update, setUpdate ] = useState(false);\n\n\treturn (\n\t\t<UsuarioContext.Provider\n\t\t\tvalue={{\n\t\t\t\tusuario,\n\t\t\t\tsetUsuario,\n\t\t\t\ttoUpdate,\n\t\t\t\tsetToUpdate,\n\t\t\t\terror,\n\t\t\t\tsetError,\n\t\t\t\tupdate,\n\t\t\t\tsetUpdate\n\t\t\t}}\n\t\t>\n\t\t\t{children}\n\t\t</UsuarioContext.Provider>\n\t);\n};\n","import React, { Fragment, useContext, useCallback, useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Box, Divider, Avatar, IconButton, OutlinedInput, FormHelperText, Button } from '@material-ui/core';\nimport { TextField, Typography, Grid, FormControl, InputAdornment } from '@material-ui/core';\nimport { Dialog, DialogTitle, DialogContent, DialogActions, CircularProgress } from '@material-ui/core';\nimport Visibility from '@material-ui/icons/Visibility';\nimport VisibilityOff from '@material-ui/icons/VisibilityOff';\nimport { useDropzone } from 'react-dropzone';\nimport { UsuarioContext } from '../../../../context/Catalogos/usuarioContext';\nimport SnackBarMessages from '../../../../components/SnackBarMessages';\n\nimport { useMutation } from '@apollo/client';\nimport { ACTUALIZAR_USUARIO } from '../../../../gql/Catalogos/usuarios';\n\nconst useStyles = makeStyles((theme) => ({\n\tformInputFlex: {\n\t\tdisplay: 'flex',\n\t\t'& > *': {\n\t\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(1)}px`\n\t\t},\n\t\t'& span': {\n\t\t\tcolor: 'red'\n\t\t}\n\t},\n\tformInput: {\n\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(2)}px`\n\t},\n\tavatarContainer: {\n\t\tdisplay: 'flex',\n\t\tjustifyContent: 'center',\n\t\talignItems: 'center',\n\t\twidth: 150,\n\t\theight: 150,\n\t\tborder: 'dashed 2px black',\n\t\tborderRadius: '100%'\n\t},\n\tavatar: {\n\t\twidth: 130,\n\t\theight: 130,\n\t\t'& > .icon': {\n\t\t\tfontSize: 100\n\t\t}\n\t}\n}));\n\nexport default function FormularioUsuario({ accion }) {\n\tconst classes = useStyles();\n\tconst { usuario, setUsuario, error } = useContext(UsuarioContext);\n\tconst [ preview, setPreview ] = useState('');\n\tconst [ showPassword, setShowPassword ] = useState(false);\n\n\t//dropzone\n\tconst onDrop = useCallback(\n\t\t(acceptedFiles) => {\n\t\t\tlet reader = new FileReader();\n\t\t\treader.readAsDataURL(acceptedFiles[0]);\n\t\t\treader.onload = function() {\n\t\t\t\tlet image = reader.result;\n\t\t\t\tsetPreview(image);\n\t\t\t};\n\t\t\tsetUsuario({\n\t\t\t\t...usuario,\n\t\t\t\timagen: acceptedFiles[0]\n\t\t\t});\n\t\t},\n\t\t[ usuario, setUsuario ]\n\t);\n\n\tconst { getRootProps, getInputProps } = useDropzone({\n\t\taccept: 'image/jpeg, image/png',\n\t\tnoKeyboard: true,\n\t\tonDrop\n\t});\n\n\tconst obtenerCampos = (e) => {\n\t\tconst name = e.target.name;\n\t\tif (name === 'numero_usuario') {\n\t\t\tsetUsuario({\n\t\t\t\t...usuario,\n\t\t\t\t[e.target.name]: parseInt(e.target.value)\n\t\t\t});\n\t\t\treturn;\n\t\t}\n\t\tsetUsuario({\n\t\t\t...usuario,\n\t\t\t[e.target.name]: e.target.value\n\t\t});\n\t};\n\tconst obtenerCamposDireccion = (e) => {\n\t\tsetUsuario({\n\t\t\t...usuario,\n\t\t\tdireccion: { ...usuario.direccion, [e.target.name]: e.target.value }\n\t\t});\n\t};\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<Grid container>\n\t\t\t\t<Grid item md={3}>\n\t\t\t\t\t<Box className={classes.avatarContainer} {...getRootProps()}>\n\t\t\t\t\t\t<input {...getInputProps()} />\n\t\t\t\t\t\t{preview ? (\n\t\t\t\t\t\t\t<Avatar className={classes.avatar} src={`${preview}`} />\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<Avatar className={classes.avatar} src={`${usuario.imagen}`} />\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Box>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item md={9}>\n\t\t\t\t\t<Box>\n\t\t\t\t\t\t<form autoComplete=\"off\" className={classes.formInputFlex}>\n\t\t\t\t\t\t\t<Box width=\"100%\">\n\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\t<span>* </span>Nombre usuario\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\terror={error.error && !usuario.nombre}\n\t\t\t\t\t\t\t\t\tname=\"nombre\"\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\tvalue={usuario.nombre ? usuario.nombre : ''}\n\t\t\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\t\t\terror.error && error.message !== 'Las contraseas no coinciden' ? (\n\t\t\t\t\t\t\t\t\t\t\terror.message\n\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t''\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tonChange={obtenerCampos}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</form>\n\t\t\t\t\t</Box>\n\t\t\t\t\t{accion === 'registrar' ? (\n\t\t\t\t\t\t<form autoComplete=\"off\" className={classes.formInputFlex}>\n\t\t\t\t\t\t\t<Box width=\"100%\">\n\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\t<span>* </span>Contrasea\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\terror={\n\t\t\t\t\t\t\t\t\t\terror.error && !usuario.password ? (\n\t\t\t\t\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t\t\t\t\t) : error.error && error.message === 'Las contraseas no coinciden' ? (\n\t\t\t\t\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\tfalse\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<OutlinedInput\n\t\t\t\t\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\t\t\t\t\ttype={showPassword ? 'text' : 'password'}\n\t\t\t\t\t\t\t\t\t\tvalue={usuario.password ? usuario.password : ''}\n\t\t\t\t\t\t\t\t\t\tonChange={obtenerCampos}\n\t\t\t\t\t\t\t\t\t\tendAdornment={\n\t\t\t\t\t\t\t\t\t\t\t<InputAdornment position=\"end\">\n\t\t\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\t\t\t\taria-label=\"toggle password visibility\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => setShowPassword(!showPassword)}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonMouseDown={() => setShowPassword(!showPassword)}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{showPassword ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Visibility color=\"primary\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<VisibilityOff color=\"primary\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t\t</InputAdornment>\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<FormHelperText>{error.message}</FormHelperText>\n\t\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box width=\"100%\">\n\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\t<span>* </span>Repetir contrasea\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\terror={\n\t\t\t\t\t\t\t\t\t\terror.error && !usuario.password ? (\n\t\t\t\t\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t\t\t\t\t) : error.error && error.message === 'Las contraseas no coinciden' ? (\n\t\t\t\t\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\tfalse\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tname=\"repeatPassword\"\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<OutlinedInput\n\t\t\t\t\t\t\t\t\t\tname=\"repeatPassword\"\n\t\t\t\t\t\t\t\t\t\ttype={showPassword ? 'text' : 'password'}\n\t\t\t\t\t\t\t\t\t\tvalue={usuario.repeatPassword ? usuario.repeatPassword : ''}\n\t\t\t\t\t\t\t\t\t\tonChange={obtenerCampos}\n\t\t\t\t\t\t\t\t\t\tendAdornment={\n\t\t\t\t\t\t\t\t\t\t\t<InputAdornment position=\"end\">\n\t\t\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\t\t\t\taria-label=\"toggle password visibility\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => setShowPassword(!showPassword)}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonMouseDown={() => setShowPassword(!showPassword)}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{showPassword ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Visibility color=\"primary\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<VisibilityOff color=\"primary\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t\t</InputAdornment>\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<FormHelperText>{error.message}</FormHelperText>\n\t\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</form>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<ActualizarPasswordModal />\n\t\t\t\t\t)}\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item md={12}>\n\t\t\t\t\t<form autoComplete=\"off\" className={classes.formInputFlex}>\n\t\t\t\t\t\t<Box width=\"100%\">\n\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t<span>* </span>Email\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\terror={error.error && !usuario.email}\n\t\t\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tvalue={usuario.email ? usuario.email : ''}\n\t\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\t\terror.error && error.message !== 'Las contraseas no coinciden' ? error.message : ''\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tonChange={obtenerCampos}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box width=\"100%\">\n\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t<span>* </span>Num. Telefono\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\terror={error.error && !usuario.telefono}\n\t\t\t\t\t\t\t\tname=\"telefono\"\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tvalue={usuario.telefono ? usuario.telefono : ''}\n\t\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\t\terror.error && error.message !== 'Las contraseas no coinciden' ? error.message : ''\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tonChange={obtenerCampos}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box width=\"100%\">\n\t\t\t\t\t\t\t<Typography>Num. Celular</Typography>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\tname=\"celular\"\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tvalue={usuario.celular ? usuario.celular : ''}\n\t\t\t\t\t\t\t\tonChange={obtenerCampos}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</form>\n\t\t\t\t\t<Box mt={2}>\n\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t<b>usuario domicilio</b>\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Divider />\n\t\t\t\t\t</Box>\n\t\t\t\t\t<form autoComplete=\"off\" className={classes.formInputFlex}>\n\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t<Typography>Calle</Typography>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\tname=\"calle\"\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tvalue={usuario.direccion.calle ? usuario.direccion.calle : ''}\n\t\t\t\t\t\t\t\tonChange={obtenerCamposDireccion}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t<Typography>Colonia</Typography>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\tname=\"colonia\"\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tvalue={usuario.direccion.colonia ? usuario.direccion.colonia : ''}\n\t\t\t\t\t\t\t\tonChange={obtenerCamposDireccion}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box width=\"100px\">\n\t\t\t\t\t\t\t<Typography>Num. Ext</Typography>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\tname=\"no_ext\"\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tvalue={usuario.direccion.no_ext ? usuario.direccion.no_ext : ''}\n\t\t\t\t\t\t\t\tonChange={obtenerCamposDireccion}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box width=\"100px\">\n\t\t\t\t\t\t\t<Typography>Num. Int</Typography>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\tname=\"no_int\"\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tvalue={usuario.direccion.no_int ? usuario.direccion.no_int : ''}\n\t\t\t\t\t\t\t\tonChange={obtenerCamposDireccion}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box width=\"100px\">\n\t\t\t\t\t\t\t<Typography>CP</Typography>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\tname=\"codigo_postal\"\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tvalue={usuario.direccion.codigo_postal ? usuario.direccion.codigo_postal : ''}\n\t\t\t\t\t\t\t\tonChange={obtenerCamposDireccion}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</form>\n\t\t\t\t\t<form autoComplete=\"off\" className={classes.formInputFlex}>\n\t\t\t\t\t\t<Box width=\"100%\">\n\t\t\t\t\t\t\t<Typography>Municipio</Typography>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\tname=\"municipio\"\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tvalue={usuario.direccion.municipio ? usuario.direccion.municipio : ''}\n\t\t\t\t\t\t\t\tonChange={obtenerCamposDireccion}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box width=\"100%\">\n\t\t\t\t\t\t\t<Typography>Localidad</Typography>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\tname=\"localidad\"\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tvalue={usuario.direccion.localidad ? usuario.direccion.localidad : ''}\n\t\t\t\t\t\t\t\tonChange={obtenerCamposDireccion}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box width=\"100%\">\n\t\t\t\t\t\t\t<Typography>Estado</Typography>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\tname=\"estado\"\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tvalue={usuario.direccion.estado ? usuario.direccion.estado : ''}\n\t\t\t\t\t\t\t\tonChange={obtenerCamposDireccion}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box width=\"100%\">\n\t\t\t\t\t\t\t<Typography>Pais</Typography>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\tname=\"pais\"\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tvalue={usuario.direccion.pais ? usuario.direccion.pais : ''}\n\t\t\t\t\t\t\t\tonChange={obtenerCamposDireccion}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</form>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t</Fragment>\n\t);\n}\n\nconst ActualizarPasswordModal = () => {\n\tconst [ open, setOpen ] = useState(false);\n\tconst { usuario, setUsuario, error, setError, update, setUpdate } = useContext(UsuarioContext);\n\tconst [ showPassword, setShowPassword ] = useState(false);\n\tconst [ loading, setLoading ] = useState(false);\n\tconst [ alert, setAlert ] = useState({ message: '', status: '', open: false });\n\n\tconst [ actualizarUsuario ] = useMutation(ACTUALIZAR_USUARIO);\n\n\tconst handleClickOpen = () => {\n\t\tsetOpen(true);\n\t};\n\n\tconst handleClose = () => {\n\t\tsetOpen(false);\n\t\tsetError({ error: false, message: '' });\n\t};\n\n\tconst obtenerCampos = (e) => {\n\t\tsetUsuario({\n\t\t\t...usuario,\n\t\t\t[e.target.name]: e.target.value\n\t\t});\n\t};\n\n\tconst confirmarPassowrd = async () => {\n\t\tif (!usuario.password || !usuario.repeatPassword) {\n\t\t\tsetError({ error: true, message: 'Este campo es requerido' });\n\t\t\treturn;\n\t\t}\n\t\tif (usuario.password !== usuario.repeatPassword) {\n\t\t\tsetError({ error: true, message: 'Las contraseas no coinciden' });\n\t\t\treturn;\n\t\t}\n\t\tsetLoading(true);\n\n\t\ttry {\n\t\t\tawait actualizarUsuario({\n\t\t\t\tvariables: {\n\t\t\t\t\tinput: {\n\t\t\t\t\t\tpassword: usuario.password,\n\t\t\t\t\t\trepeatPassword: usuario.repeatPassword\n\t\t\t\t\t},\n\t\t\t\t\tid: usuario._id\n\t\t\t\t}\n\t\t\t});\n\t\t\tsetUpdate(!update);\n\t\t\tsetAlert({ message: 'Listo!', status: 'success', open: true });\n\t\t\tsetLoading(false);\n\t\t\thandleClose();\n\t\t} catch (error) {\n\t\t\tsetAlert({ message: 'Hubo un error', status: 'error', open: true });\n\t\t\tsetLoading(false);\n\t\t}\n\t};\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<Button color=\"primary\" variant=\"text\" onClick={handleClickOpen}>\n\t\t\t\tCambiar contrasea\n\t\t\t</Button>\n\t\t\t<Dialog\n\t\t\t\topen={open}\n\t\t\t\tonClose={handleClose}\n\t\t\t\taria-labelledby=\"alert-dialog-title\"\n\t\t\t\taria-describedby=\"alert-dialog-description\"\n\t\t\t>\n\t\t\t\t<SnackBarMessages alert={alert} setAlert={setAlert} />\n\t\t\t\t<DialogTitle id=\"alert-dialog-title\">{'Cambiar contrasea'}</DialogTitle>\n\t\t\t\t<DialogContent>\n\t\t\t\t\t<form autoComplete=\"off\">\n\t\t\t\t\t\t<Box width=\"100%\">\n\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t<span>* </span>Contrasea\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\terror={\n\t\t\t\t\t\t\t\t\terror.error && !usuario.password ? (\n\t\t\t\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t\t\t\t) : error.error && error.message === 'Las contraseas no coinciden' ? (\n\t\t\t\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\tfalse\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<OutlinedInput\n\t\t\t\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\t\t\t\ttype={showPassword ? 'text' : 'password'}\n\t\t\t\t\t\t\t\t\tvalue={usuario.password ? usuario.password : ''}\n\t\t\t\t\t\t\t\t\tonChange={obtenerCampos}\n\t\t\t\t\t\t\t\t\tendAdornment={\n\t\t\t\t\t\t\t\t\t\t<InputAdornment position=\"end\">\n\t\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\t\t\taria-label=\"toggle password visibility\"\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => setShowPassword(!showPassword)}\n\t\t\t\t\t\t\t\t\t\t\t\tonMouseDown={() => setShowPassword(!showPassword)}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{showPassword ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Visibility color=\"primary\" />\n\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<VisibilityOff color=\"primary\" />\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t</InputAdornment>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<FormHelperText>{error.message}</FormHelperText>\n\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box width=\"100%\">\n\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t<span>* </span>Repetir contrasea\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\terror={\n\t\t\t\t\t\t\t\t\terror.error && !usuario.password ? (\n\t\t\t\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t\t\t\t) : error.error && error.message === 'Las contraseas no coinciden' ? (\n\t\t\t\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\tfalse\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tname=\"repeatPassword\"\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<OutlinedInput\n\t\t\t\t\t\t\t\t\tname=\"repeatPassword\"\n\t\t\t\t\t\t\t\t\ttype={showPassword ? 'text' : 'password'}\n\t\t\t\t\t\t\t\t\tvalue={usuario.repeatPassword ? usuario.repeatPassword : ''}\n\t\t\t\t\t\t\t\t\tonChange={obtenerCampos}\n\t\t\t\t\t\t\t\t\tendAdornment={\n\t\t\t\t\t\t\t\t\t\t<InputAdornment position=\"end\">\n\t\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\t\t\taria-label=\"toggle password visibility\"\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => setShowPassword(!showPassword)}\n\t\t\t\t\t\t\t\t\t\t\t\tonMouseDown={() => setShowPassword(!showPassword)}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{showPassword ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Visibility color=\"primary\" />\n\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<VisibilityOff color=\"primary\" />\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t</InputAdornment>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<FormHelperText>{error.message}</FormHelperText>\n\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</form>\n\t\t\t\t</DialogContent>\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Button onClick={handleClose} color=\"primary\">\n\t\t\t\t\t\tCancelar\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tonClick={confirmarPassowrd}\n\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\tendIcon={loading ? <CircularProgress color=\"inherit\" size={25} /> : null}\n\t\t\t\t\t>\n\t\t\t\t\t\tConfirmar\n\t\t\t\t\t</Button>\n\t\t\t\t</DialogActions>\n\t\t\t</Dialog>\n\t\t</Fragment>\n\t);\n};\n","import { Box, Checkbox, FormControlLabel } from '@material-ui/core'\nimport React from 'react';\n\nexport default function Parametros({ \n    arregloAccesos, \n    obtenerAccesos, \n    departamento, \n    subDepartamento\n}) {\n\n    console.log(arregloAccesos);\n    \n    return(\n        <Box display='flex' justifyContent='center' alignItems='center'>\n            <FormControlLabel\n                control={\n                    <Checkbox\n                        checked={arregloAccesos ? arregloAccesos[departamento][subDepartamento].ver : false}\n                        name=\"ver\"\n                        color=\"primary\"\n                        onChange={(e) => obtenerAccesos(e, departamento, subDepartamento)}\n                    />\n                }\n                label={\n                    <Box mr={2} display='flex'>\n                        {departamento === 'ventas' ? \"Autorizar\" : \"Ver\" } \n                    </Box>\n                }\n            />\n            {   subDepartamento === 'informacion_fiscal' ||\n                subDepartamento === 'datos_empresa' || \n                subDepartamento === 'abrir_compra' || \n                subDepartamento === 'compras_realizadas' || \n                subDepartamento === 'compras_espera' || \n                subDepartamento === 'traspasos' || \n                subDepartamento === 'inventario_almacen' || \n                subDepartamento === 'cuentas_empresa' || \n                departamento === 'reportes' || \n                departamento === 'ventas'|| \n                subDepartamento === 'egresos' ? (null):(\n                    <FormControlLabel\n                        control={\n                            <Checkbox\n                                checked={arregloAccesos ? arregloAccesos[departamento][subDepartamento].agregar : false}\n                                name=\"agregar\"\n                                disabled={arregloAccesos ? arregloAccesos[departamento][subDepartamento].ver === false : true}\n                                color=\"primary\"\n                                onChange={(e) => obtenerAccesos(e, departamento, subDepartamento)}\n                            />\n                        }\n                        label={\n                            <Box mr={2}  display='flex'>\n                                Agregar\n                            </Box>\n                        }\n                    />\n            )}\n            {   subDepartamento === 'cajas' || \n                subDepartamento === 'abrir_compra' || \n                subDepartamento === 'compras_realizadas' || \n                subDepartamento === 'traspasos' || \n                subDepartamento === 'inventario_almacen' || \n                subDepartamento === 'abonos_proveedores'|| \n                subDepartamento === 'abonos_clientes'|| \n                subDepartamento === 'egresos' || \n                departamento === 'reportes' || \n                departamento === 'ventas' ? (null) : ( \n                <FormControlLabel\n                    control={\n                        <Checkbox\n                            checked={arregloAccesos ? arregloAccesos[departamento][subDepartamento].editar : false}\n                            name=\"editar\"\n                            disabled={arregloAccesos ? arregloAccesos[departamento][subDepartamento].ver === false : true}\n                            color=\"primary\"\n                            onChange={(e) => obtenerAccesos(e, departamento, subDepartamento)}\n                        />\n                    }\n                    label={\n                        <Box mr={2}  display='flex'>\n                            Editar\n                        </Box>\n                    }\n                />\n            )}\n            {   subDepartamento === 'informacion_fiscal' ||\n                subDepartamento === 'datos_empresa' || \n                subDepartamento === 'abrir_compra' || \n                subDepartamento === 'compras_realizadas' || \n                subDepartamento === 'traspasos' || \n                subDepartamento === 'inventario_almacen' || \n                subDepartamento === 'cuentas_empresa' || \n                subDepartamento === 'abonos_proveedores' || \n                subDepartamento === 'abonos_clientes'|| \n                subDepartamento === 'egresos' || \n                departamento === 'reportes' || \n                departamento === 'ventas'? (null):( \n                <FormControlLabel\n                    control={\n                        <Checkbox\n                            checked={arregloAccesos ? arregloAccesos[departamento][subDepartamento].eliminar : false}\n                            name=\"eliminar\"\n                            color=\"primary\"\n                            disabled={arregloAccesos ? arregloAccesos[departamento][subDepartamento].ver === false : true}\n                            onChange={(e) => obtenerAccesos(e, departamento, subDepartamento)}\n                        />\n                    }\n                    label={\n                        <Box display='flex'>\n                            Eliminar\n                        </Box>\n                    }\n                />\n            )}\n        </Box>\n    )\n}\n","import {\n  Box,\n  Paper,\n  Typography,\n} from \"@material-ui/core\";\nimport React, { Fragment } from \"react\";\nimport Parametros from \"../Parametros\";\n\nexport default function Catalogos({ obtenerAccesos, arregloAccesos }) {\n    \n    return (\n        <Fragment>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Typography variant=\"h6\">\n                        Marca los permisos que deseas asignar a este usuario\n                    </Typography>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Clientes</b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'catalogos'}\n                                subDepartamento={'clientes'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Usuarios</b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'catalogos'}\n                                subDepartamento={'usuarios'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Marcas</b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'catalogos'}\n                                subDepartamento={'marcas'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Provedores</b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'catalogos'}\n                                subDepartamento={'provedores'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Contabilidad</b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'catalogos'}\n                                subDepartamento={'contabilidad'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Cajas</b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'catalogos'}\n                                subDepartamento={'cajas'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Departamento</b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'catalogos'}\n                                subDepartamento={'departamentos'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Centro de costos</b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'catalogos'}\n                                subDepartamento={'centro_costos'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Conceptos almacen</b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'catalogos'}\n                                subDepartamento={'conceptos_almacen'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Categorias</b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'catalogos'}\n                                subDepartamento={'categorias'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Colores</b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'catalogos'}\n                                subDepartamento={'colores'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Tallas y Numeros</b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'catalogos'}\n                                subDepartamento={'tallas_numeros'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n        </Fragment>\n    );\n};\n\n","import {\n    Box,\n    Paper,\n    Typography,\n} from \"@material-ui/core\";\nimport React, { Fragment } from \"react\";\nimport Parametros from \"../Parametros\";\n  \nexport default function MiEmpresa({ obtenerAccesos, arregloAccesos }) {\n      return (\n            <Fragment>\n                <Box p={1}  display='flex' justifyContent= 'center'>\n                    <Box width='80%'>\n                        <Typography variant=\"h6\">\n                            Marca los permisos que deseas asignar a este usuario\n                        </Typography>\n                    </Box>\n                </Box>\n                <Box p={1}  display='flex' justifyContent= 'center'>\n                    <Box width='80%'>\n                        <Paper elevation={3}>\n                            <Box display='flex'>\n                                <Box ml={1} p={1} flexGrow={1} >\n                                    <Typography variant=\"h6\">\n                                        <b>Datos de Empresa</b>\n                                    </Typography>\n                                </Box>\n                                <Parametros \n                                    arregloAccesos={arregloAccesos} \n                                    obtenerAccesos={obtenerAccesos}\n                                    departamento={'mi_empresa'}\n                                    subDepartamento={'datos_empresa'}\n                                />\n                            </Box>\n                        </Paper>\n                    </Box>\n                </Box>\n                <Box p={1}  display='flex' justifyContent= 'center'>\n                    <Box width='80%'>\n                        <Paper elevation={3}>\n                            <Box display='flex'>\n                                <Box ml={1} p={1} flexGrow={1} >\n                                    <Typography variant=\"h6\">\n                                        <b>Informacin Fiscal</b>\n                                    </Typography>\n                                </Box>\n                                <Parametros \n                                    arregloAccesos={arregloAccesos} \n                                    obtenerAccesos={obtenerAccesos}\n                                    departamento={'mi_empresa'}\n                                    subDepartamento={'informacion_fiscal'}\n                                />\n                            </Box>\n                        </Paper>\n                    </Box>\n                </Box>\n            </Fragment>\n      )\n}","import {\n    Box,\n    Paper,\n    Typography,\n} from \"@material-ui/core\";\nimport React, { Fragment } from \"react\";\nimport Parametros from \"../Parametros\";\n  \nexport default function Compras({ obtenerAccesos, arregloAccesos }) {\n    return (\n        <Fragment>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Typography variant=\"h6\">\n                        Marca los permisos que deseas asignar a este usuario\n                    </Typography>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Abrir una compra</b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'compras'}\n                                subDepartamento={'abrir_compra'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Compras realizadas</b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'compras'}\n                                subDepartamento={'compras_realizadas'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Compras en espera</b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'compras'}\n                                subDepartamento={'compras_espera'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n        </Fragment>\n    )\n}","import {\n    Box,\n    Paper,\n    Typography,\n} from \"@material-ui/core\";\nimport React, { Fragment } from \"react\";\nimport Parametros from \"../Parametros\";\n  \nexport default function Almacenes({ obtenerAccesos, arregloAccesos }) {\n    return (\n        <Fragment>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Typography variant=\"h6\">\n                        Marca los permisos que deseas asignar a este usuario\n                    </Typography>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Almacenes</b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'almacenes'}\n                                subDepartamento={'almacen'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Traspasos</b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'almacenes'}\n                                subDepartamento={'traspasos'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Inventario por almacen</b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'almacenes'}\n                                subDepartamento={'inventario_almacen'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n        </Fragment>\n    )\n}","import {\n    Box,\n    Paper,\n    Typography,\n} from \"@material-ui/core\";\nimport React, { Fragment } from \"react\";\nimport Parametros from \"../Parametros\";\n  \nexport default function Tesoreria({ obtenerAccesos, arregloAccesos }) {\n    return (\n        <Fragment>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Typography variant=\"h6\">\n                        Marca los permisos que deseas asignar a este usuario\n                    </Typography>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Cuentas</b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'tesoreria'}\n                                subDepartamento={'cuentas_empresa'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Abonos Proveedores</b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'tesoreria'}\n                                subDepartamento={'abonos_proveedores'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Abonos Clientes</b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'tesoreria'}\n                                subDepartamento={'abonos_clientes'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Egresos</b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'tesoreria'}\n                                subDepartamento={'egresos'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n        </Fragment>\n    )\n}","import {\n    Box,\n    Paper,\n    Typography,\n} from \"@material-ui/core\";\nimport React, { Fragment } from \"react\";\nimport Parametros from \"../Parametros\";\n  \nexport default function Reportes({ obtenerAccesos, arregloAccesos }) {\n    return (\n        <Fragment>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Typography variant=\"h6\">\n                        Marca los permisos que deseas asignar a este usuario\n                    </Typography>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Reportes Historiales Cajas</b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'reportes'}\n                                subDepartamento={'reporte_historial_cajas'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Reportes turnos usuarios </b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'reportes'}\n                                subDepartamento={'reporte_turnos'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Reportes de compras </b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'reportes'}\n                                subDepartamento={'reporte_compras'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Reportes de ventas </b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'reportes'}\n                                subDepartamento={'reporte_ventas'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Reportes de almacenes </b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'reportes'}\n                                subDepartamento={'rerporte_almacen'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Reportes de cortes </b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'reportes'}\n                                subDepartamento={'reporte_corte_caja'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Reportes tesoreria </b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'reportes'}\n                                subDepartamento={'reporte_tesoreria'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n        </Fragment>\n    );\n}","import {\n    Box,\n    Paper,\n    Typography,\n} from \"@material-ui/core\";\nimport React, { Fragment } from \"react\";\nimport Parametros from \"../Parametros\";\n  \nexport default function Ventas({ obtenerAccesos, arregloAccesos }) {\n    return (\n        <Fragment>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Typography variant=\"h6\">\n                        Marca los permisos que deseas asignar a este usuario\n                    </Typography>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Cancelar ventas</b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'ventas'}\n                                subDepartamento={'cancelar_venta'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Precios de productos</b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'ventas'}\n                                subDepartamento={'precios_productos'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Pre cortes de caja</b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'ventas'}\n                                subDepartamento={'pre_corte'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Cotizaciones</b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'ventas'}\n                                subDepartamento={'cotizaciones'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Producto Rapido</b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'ventas'}\n                                subDepartamento={'producto_rapido'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Panel de administrador</b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'ventas'}\n                                subDepartamento={'administrador'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Eliminar ventas pendientes</b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'ventas'}\n                                subDepartamento={'eliminar_ventas'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n        </Fragment>\n    )\n}","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport { AppBar, Box, Tabs } from '@material-ui/core';\nimport { Tab } from '@material-ui/core';\nimport {  FcPaid, FcShop, FcSurvey, FcNews } from 'react-icons/fc';\n\nimport Catalogos from './Departamentos/Catalogos';\nimport MiEmpresa from './Departamentos/MiEmpresa';\n\nimport SnackBarMessages from '../../../../../components/SnackBarMessages';\nimport Compras from './Departamentos/Compras';\nimport Almacenes from './Departamentos/Almacenes';\nimport Tesoreria from './Departamentos/Tesoreria';\nimport Reportes from './Departamentos/Reportes';\nimport Ventas from './Departamentos/Ventas';\n\nfunction TabPanel(props) {\n\tconst { children, value, index, ...other } = props;\n\n\treturn (\n\t\t<div\n\t\t\trole=\"tabpanel\"\n\t\t\thidden={value !== index}\n\t\t\tid={`tabpanel-reg-product-${index}`}\n\t\t\taria-labelledby={`reg-product-tab-${index}`}\n\t\t\t{...other}\n\t\t>\n\t\t\t{value === index && (\n\t\t\t\t<Box p={1} minHeight=\"20vh\">\n\t\t\t\t\t{children}\n\t\t\t\t</Box>\n\t\t\t)}\n\t\t</div>\n\t);\n}\n\nTabPanel.propTypes = {\n\tchildren: PropTypes.node,\n\tindex: PropTypes.any.isRequired,\n\tvalue: PropTypes.any.isRequired\n};\n\nfunction a11yProps(index) {\n\treturn {\n\t\tid: `reg-product-tab-${index}`,\n\t\t'aria-controls': `tabpanel-reg-product-${index}`\n\t};\n};\n\nconst useStyles = makeStyles((theme) => ({\n\tformInputFlex: {\n\t\tdisplay: 'flex',\n\t\t'& > *': {\n\t\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(2)}px`\n\t\t}\n\t},\n\tformInput: {\n\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(2)}px`\n\t},\n\troot: {\n\t\tflexGrow: 1,\n\t\twidth: '100%',\n\t\tbackgroundColor: theme.palette.background.paper\n\t},\n\ticonSvg: {\n\t\twidth: 30\n\t},\n\ticon:{\n\t\tfontSize: 30\n\t}\n}));\n\nexport default function AsignarPermisos({obtenerAccesos, arregloAccesos}) {\n\n\tconst classes = useStyles();\n\tconst [ alert, setAlert ] = useState({ message: '', status: '', open: false });\n\n\tconst [ value, setValue ] = useState(0);\n\n    const handleChange = (event, newValue) => {\n\t\tsetValue(newValue);\n\t};\n\n    return (\n        <>\n\t\t<SnackBarMessages alert={alert} setAlert={setAlert} />\n            <AppBar position=\"static\" color=\"default\" elevation={0}>\n                <Tabs\n                    value={value}\n                    onChange={handleChange}\n                    variant=\"scrollable\"\n                    scrollButtons=\"on\"\n                    indicatorColor=\"primary\"\n                    textColor=\"primary\"\n                    aria-label=\"scrollable force tabs example\"\n                >\n                   \t<Tab \n\t\t\t\t\t\tlabel=\"Mi empresa\"\n\t\t\t\t\t\ticon={<FcShop className={classes.icon}/>} {...a11yProps(0)} \n\t\t\t\t\t/>\n\t\t\t\t\t<Tab\n\t\t\t\t\t\tlabel=\"Almacenes\"\n\t\t\t\t\t\ticon={<img src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/almacen.svg' alt=\"icono almacen\" className={classes.iconSvg} />}\n\t\t\t\t\t\t{...a11yProps(1)}\n\t\t\t\t\t/>\n\t\t\t\t\t<Tab \n\t\t\t\t\t\tlabel=\"Compras\" \n\t\t\t\t\t\ticon={<FcPaid className={classes.icon} />} {...a11yProps(2)} \n\t\t\t\t\t/>\n\t\t\t\t\t<Tab \n\t\t\t\t\t\tlabel=\"Catalogos\" \n\t\t\t\t\t\ticon={<FcNews className={classes.icon} />} {...a11yProps(3)} \n\t\t\t\t\t/>\n\t\t\t\t\t<Tab\n\t\t\t\t\t\tlabel=\"Tesoreria\"\n\t\t\t\t\t\ticon={<img src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/money.svg' alt=\"icono money\" className={classes.iconSvg} />}\n\t\t\t\t\t\t{...a11yProps(4)}\n\t\t\t\t\t/>\n\t\t\t\t\t<Tab\n\t\t\t\t\t\tlabel=\"Reportes\"\n\t\t\t\t\t\ticon={<FcSurvey className={classes.icon} />}\n\t\t\t\t\t\t{...a11yProps(5)}\n\t\t\t\t\t\n\t\t\t\t\t/>\n\t\t\t\t\t<Tab\n\t\t\t\t\t\tlabel=\"Facturacin\"\n\t\t\t\t\t\ticon={<img src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/factura.svg' alt=\"icono factura\" className={classes.iconSvg} />}\n\t\t\t\t\t\t{...a11yProps(6)}\n\t\t\t\t\t/>\n\t\t\t\t\t<Tab\n\t\t\t\t\t\tlabel=\"Ventas\"\n\t\t\t\t\t\ticon={<img src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/ventas/cart-add.svg' alt=\"icono ventas\" className={classes.iconSvg} />}\n\t\t\t\t\t\t{...a11yProps(7)}\n\t\t\t\t\t/>\n                </Tabs>\n            </AppBar>\n\t\t\t<TabPanel value={value} index={0}>\n\t\t\t\t<Box p={2}>\n\t\t\t\t\t<MiEmpresa obtenerAccesos={obtenerAccesos} arregloAccesos={arregloAccesos} />\n\t\t\t\t</Box>\n\t\t\t</TabPanel>\n\t\t\t<TabPanel value={value} index={1}>\n\t\t\t\t<Box p={2}>\n\t\t\t\t\t<Almacenes obtenerAccesos={obtenerAccesos} arregloAccesos={arregloAccesos} />\n\t\t\t\t</Box>\n\t\t\t</TabPanel>\n\t\t\t<TabPanel value={value} index={2}>\n\t\t\t\t<Box p={2}>\n\t\t\t\t\t<Compras obtenerAccesos={obtenerAccesos} arregloAccesos={arregloAccesos} />\n\t\t\t\t</Box>\n\t\t\t</TabPanel>\n\t\t\t<TabPanel value={value} index={3}>\n\t\t\t\t<Box p={0}>\n\t\t\t\t\t<Catalogos obtenerAccesos={obtenerAccesos} arregloAccesos={arregloAccesos} />\n\t\t\t\t</Box>\n\t\t\t</TabPanel>\n\t\t\t<TabPanel value={value} index={4}>\n\t\t\t\t<Box p={2}>\n\t\t\t\t\t<Tesoreria obtenerAccesos={obtenerAccesos} arregloAccesos={arregloAccesos} />\n\t\t\t\t</Box>\n\t\t\t</TabPanel>\n\t\t\t<TabPanel value={value} index={5}>\n\t\t\t\t<Box p={2}>\n\t\t\t\t\t<Reportes obtenerAccesos={obtenerAccesos} arregloAccesos={arregloAccesos} />\n\t\t\t\t</Box>\n\t\t\t</TabPanel>\n\t\t\t<TabPanel value={value} index={6}>\n\t\t\t\t<Box p={2}>\n\t\t\t\t\t{/* <CamposAsignados type='facturacion' /> */}\n\t\t\t\t</Box>\n\t\t\t</TabPanel>\n\t\t\t<TabPanel value={value} index={7}>\n\t\t\t\t<Box p={2}>\n\t\t\t\t\t<Ventas obtenerAccesos={obtenerAccesos} arregloAccesos={arregloAccesos} />\n\t\t\t\t</Box>\n\t\t\t</TabPanel>\n        </>\n    )\n}\n","import React, { useState, Fragment, useContext, useCallback } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport PropTypes from 'prop-types';\nimport CloseIcon from '@material-ui/icons/Close';\nimport DoneIcon from '@material-ui/icons/Done';\nimport { Button, IconButton, Tabs } from '@material-ui/core';\nimport { Dialog, DialogActions, Box } from '@material-ui/core';\nimport FormularioUsuario from './FormularioUsuario';\nimport AsignarPermisos from './AsingarAccesos/AsignarPermisos';\nimport { Add, Edit } from '@material-ui/icons';\nimport { UsuarioContext } from '../../../../context/Catalogos/usuarioContext';\nimport BackdropComponent from '../../../../components/Layouts/BackDrop';\nimport SnackBarMessages from '../../../../components/SnackBarMessages';\n\nimport arregloVacio from './AsingarAccesos/arregloVacioAcceso'\nimport { useMutation } from '@apollo/client';\nimport { CREAR_USUARIO, ACTUALIZAR_USUARIO } from '../../../../gql/Catalogos/usuarios';\nimport { cleanTypenames, numerosRandom } from '../../../../config/reuserFunctions';\nimport { AppBar } from '@material-ui/core';\nimport { Tab } from '@material-ui/core';\n\nfunction TabPanel(props) {\n\tconst { children, value, index, ...other } = props;\n\treturn (\n\t\t<div\n\t\t\trole=\"tabpanel\"\n\t\t\thidden={value !== index}\n\t\t\tid={`tabpanel-reg-product-${index}`}\n\t\t\taria-labelledby={`reg-product-tab-${index}`}\n\t\t\t{...other}\n\t\t>\n\t\t\t{value === index && (\n\t\t\t\t<Box minHeight=\"70vh\">\n\t\t\t\t\t{children}\n\t\t\t\t</Box>\n\t\t\t)}\n\t\t</div>\n\t);\n}\n\nTabPanel.propTypes = {\n\tchildren: PropTypes.node,\n\tindex: PropTypes.any.isRequired,\n\tvalue: PropTypes.any.isRequired\n};\n\nfunction a11yProps(index) {\n\treturn {\n\t\tid: `reg-product-tab-${index}`,\n\t\t'aria-controls': `tabpanel-reg-product-${index}`\n\t};\n}\n\nconst useStyles = makeStyles((theme) => ({\n\tformInputFlex: {\n\t\tdisplay: 'flex',\n\t\t'& > *': {\n\t\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(2)}px`\n\t\t}\n\t},\n\tformInput: {\n\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(2)}px`\n\t},\n\trootPrincipal:{\n\t\tpadding: 0,\n\t\tmargin: 0\n\t},\n\troot: {\n\t\tflexGrow: 1,\n\t\twidth: '100%',\n\t\tbackgroundColor: theme.palette.background.paper\n\t},\n\ticonSvg: {\n\t\twidth: 50\n\t}\n}));\n\nexport default function CrearUsuario({ accion, datos }) {\n\tconst classes = useStyles();\n\tconst { usuario, setUsuario, setError, update, setUpdate } = useContext(UsuarioContext);\n\tconst [ open, setOpen ] = useState(false);\n\tconst [ value, setValue ] = useState(0);\n\tconst [ loading, setLoading ] = useState(false);\n\tconst [ alert, setAlert ] = useState({ message: '', status: '', open: false });\n\tconst sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\n\tconst limpiarCampos = useCallback(\n\t\t() => {\n\t\t\tsetUsuario({\n\t\t\t\tdireccion: {\n\t\t\t\t\tcalle: '',\n\t\t\t\t\tno_ext: '',\n\t\t\t\t\tno_int: '',\n\t\t\t\t\tcodigo_postal: '',\n\t\t\t\t\tcolonia: '',\n\t\t\t\t\tmunicipio: '',\n\t\t\t\t\tlocalidad: '',\n\t\t\t\t\testado: '',\n\t\t\t\t\tpais: ''\n\t\t\t\t},\n\t\t\t\tturno_en_caja_activo: false,\n\t\t\t\testado_usuario: true,\n\t\t\t\taccesos: arregloVacio\n\t\t\t});\n\t\t},\n\t\t[ setUsuario ]\n\t);\n\n\tconst handleChange = (event, newValue) => {\n\t\tsetValue(newValue);\n\t};\n\n\tconst toggleModal = () => {\n\t\tsetOpen(true);\n\t\tif (accion !== 'registrar') {\n\t\t\tsetUsuario(datos);\n\t\t}\n\t};\n\t\n\tconst onCloseModal = () => {\n\t\tsetOpen(false);\n\t\tlimpiarCampos();\n\t};\n\n\tconst obtenerAccesos = (event, departamento, subDepartamentos) => {\n        const { name, checked } = event.target;\n        setUsuario({\n\t\t\t...usuario, accesos:{ ...usuario.accesos, \n\t\t\t\t[departamento]: {...usuario.accesos[departamento], \n\t\t\t\t\t[subDepartamentos]: {...usuario.accesos[departamento][subDepartamentos], [name]: checked }}\n\t\t\t}\n\t\t});\n\t};\n\n\t/* Mutations */\n\tconst [ crearUsuario ] = useMutation(CREAR_USUARIO);\n\tconst [ actualizarUsuario ] = useMutation(ACTUALIZAR_USUARIO);\n\tconst saveData = async () => {\n\t\tif (accion === 'registrar') {\n\t\t\tif (\n\t\t\t\t!usuario.nombre ||\n\t\t\t\t!usuario.password ||\n\t\t\t\t!usuario.repeatPassword ||\n\t\t\t\t!usuario.telefono ||\n\t\t\t\t!usuario.email\n\t\t\t) {\n\t\t\t\tsetError({ error: true, message: 'Este campo es requerido' });\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (usuario.password !== usuario.repeatPassword) {\n\t\t\t\tsetError({ error: true, message: 'Las contraseas no coinciden' });\n\t\t\t\treturn;\n\t\t\t}\n\t\t} else {\n\t\t\tif (!usuario.nombre || !usuario.telefono || !usuario.email) {\n\t\t\t\tsetError({ error: true, message: 'Este campo es requerido' });\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\tsetLoading(true);\n\t\ttry {\n\t\t\tif (accion === 'registrar') {\n\t\t\t\tusuario.numero_usuario = numerosRandom(100000000, 999999999);\n\t\t\t\tusuario.empresa = sesion.empresa._id;\n\t\t\t\tusuario.sucursal = sesion.sucursal._id;\n\t\t\t\tusuario.turno_en_caja_activo = false;\n\t\t\t\tconst input = usuario;\n\t\t\t\tawait crearUsuario({\n\t\t\t\t\tvariables: {\n\t\t\t\t\t\tinput\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tconst { numero_usuario, _id, sucursal, empresa, turno_en_caja_activo, estado_usuario, ...input } = usuario;\n\t\t\t\tawait actualizarUsuario({\n\t\t\t\t\tvariables: {\n\t\t\t\t\t\tinput: input,\n\t\t\t\t\t\tid: usuario._id\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\tsetUpdate(!update);\n\t\t\tsetAlert({ message: 'Listo!', status: 'success', open: true });\n\t\t\tsetError({ error: false, message: '' });\n\t\t\tsetLoading(false);\n\t\t\tonCloseModal();\n\t\t} catch (error) {\n\t\t\tsetAlert({ message: 'Hubo un error en el servidor', status: 'error', open: true });\n\t\t\tsetLoading(false);\n\t\t}\n\t};\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<SnackBarMessages alert={alert} setAlert={setAlert} />\n\t\t\t{accion === 'registrar' ? (\n\t\t\t\t<Button color=\"primary\" variant=\"contained\" size=\"large\" onClick={toggleModal}>\n\t\t\t\t\t<Add /> Nuevo Usuario\n\t\t\t\t</Button>\n\t\t\t) : (\n\t\t\t\t<IconButton onClick={toggleModal}>\n\t\t\t\t\t<Edit />\n\t\t\t\t</IconButton>\n\t\t\t)}\n\t\t\t<Dialog open={open} onClose={onCloseModal} fullWidth maxWidth=\"md\">\n\t\t\t\t<Box className={classes.root}>\n\t\t\t\t\t<BackdropComponent loading={loading} setLoading={setLoading} />\n\t\t\t\t\t<AppBar position=\"static\" color=\"default\" elevation={0}>\n\t\t\t\t\t\t<Tabs\n\t\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\tvariant=\"scrollable\"\n\t\t\t\t\t\t\tscrollButtons=\"on\"\n\t\t\t\t\t\t\tindicatorColor=\"primary\"\n\t\t\t\t\t\t\ttextColor=\"primary\"\n\t\t\t\t\t\t\taria-label=\"scrollable force tabs example\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Tab\n\t\t\t\t\t\t\t\tlabel=\"Informacin bsica\"\n\t\t\t\t\t\t\t\ticon={<img src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/perfil.svg' alt=\"icono perfil\" className={classes.iconSvg} />}\n\t\t\t\t\t\t\t\t{...a11yProps(0)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Tab\n\t\t\t\t\t\t\t\tlabel=\"Permisos\"\n\t\t\t\t\t\t\t\ticon={<img src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/permisos.svg' alt=\"icono factura\" className={classes.iconSvg} />}\n\t\t\t\t\t\t\t\t{...a11yProps(1)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Box ml={58} mt={3} >\n\t\t\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"secondary\" onClick={onCloseModal} size=\"large\">\n\t\t\t\t\t\t\t\t\t\t<CloseIcon />\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Tabs>\n\t\t\t\t\t</AppBar>\n\t\t\t\t\t<TabPanel value={value} index={0}>\n\t\t\t\t\t\t<Box p={2}>\n\t\t\t\t\t\t\t<FormularioUsuario accion={accion} />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</TabPanel>\n\t\t\t\t\t<TabPanel value={value} index={1}>\n\t\t\t\t\t\t<AsignarPermisos \n\t\t\t\t\t\t\tarregloAccesos={usuario.accesos}\n\t\t\t\t\t\t\tobtenerAccesos={obtenerAccesos}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</TabPanel>\n\t\t\t\t</Box>\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\tonClick={saveData}\n\t\t\t\t\t\tsize=\"large\"\n\t\t\t\t\t\tstartIcon={<DoneIcon />}\n\t\t\t\t\t>\n\t\t\t\t\t\tGuardar\n\t\t\t\t\t</Button>\n\t\t\t\t</DialogActions>\n\t\t\t</Dialog>\n\t\t</Fragment>\n\t);\n}\n","import React, { useContext, useEffect, useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport { Table, TableBody, TableCell, TableContainer, TableHead, TablePagination, TableRow } from '@material-ui/core';\nimport { Box, Button, CircularProgress, Dialog, DialogActions, Divider, Grid } from '@material-ui/core';\nimport { DialogContent, DialogTitle, IconButton, Typography, Avatar, Switch } from '@material-ui/core';\nimport CrearUsario from './CrearUsuario';\nimport ErrorPage from '../../../../components/ErrorPage';\nimport { Dehaze, Delete } from '@material-ui/icons';\nimport { UsuarioContext } from '../../../../context/Catalogos/usuarioContext';\n\nimport { useQuery, useMutation } from '@apollo/client';\nimport { OBTENER_USUARIOS, ACTUALIZAR_USUARIO } from '../../../../gql/Catalogos/usuarios';\n\nconst columns = [\n\t{ id: 1, label: 'No. Usuario', minWidth: 100 },\n\t{ id: 3, label: 'Nombre', minWidth: 150 },\n\t{ id: 5, label: 'Correo', minWidth: 150 },\n\t{ id: 7, label: 'Estado', minWidth: 100 },\n\t{ id: 8, label: 'Detalles', minWidth: 50, align: 'right' },\n\t// { id: 9, label: 'Editar', minWidth: 50, align: 'right'},\n\t// { id: 10, label: 'Eliminar', minWidth: 50, align: 'right' }\n];\n\nconst useStyles = makeStyles({\n\troot: {\n\t\twidth: '100%'\n\t},\n\tcontainer: {\n\t\tmaxHeight: '70vh'\n\t},\n\tavatar: {\n\t\twidth: 130,\n\t\theight: 130\n\t}\n});\n\nexport default function ListaUsuarios({ sucursal, filtro }) {\n\tconst classes = useStyles();\n\tconst permisosUsuario = JSON.parse(localStorage.getItem('sesionCafi'));\n\tconst { update } = useContext(UsuarioContext);\n\tconst [ page, setPage ] = useState(0);\n\tconst [ rowsPerPage, setRowsPerPage ] = useState(10);\n\n\t/* Queries */\n\tconst { loading, data, error, refetch } = useQuery(OBTENER_USUARIOS, {\n\t\tvariables: { sucursal, filtro }\n\t});\n\n\tuseEffect(\n\t\t() => {\n\t\t\trefetch();\n\t\t},\n\t\t[ update, refetch ]\n\t);\n\n\tconst handleChangePage = (event, newPage) => {\n\t\tsetPage(newPage);\n\t};\n\n\tconst handleChangeRowsPerPage = (event) => {\n\t\tsetRowsPerPage(+event.target.value);\n\t\tsetPage(0);\n\t};\n\n\tif (loading)\n\t\treturn (\n\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" height=\"30vh\">\n\t\t\t\t<CircularProgress />\n\t\t\t</Box>\n\t\t);\n\tif (error) {\n\t\treturn <ErrorPage error={error} />;\n\t}\n\n\tconst { obtenerUsuarios } = data;\n\n\treturn (\n\t\t<Paper className={classes.root}>\n\t\t\t<TableContainer className={classes.container}>\n\t\t\t\t<Table stickyHeader aria-label=\"sticky table\">\n\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t{columns.map((column) => (\n\t\t\t\t\t\t\t\t<TableCell key={column.id} align={column.align}>\n\t\t\t\t\t\t\t\t\t{column.label}\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t{permisosUsuario.accesos.catalogos.usuarios.editar === false ? (null):(\n\t\t\t\t\t\t\t\t<TableCell key={9} align={'right'}>\n\t\t\t\t\t\t\t\t\tEditar\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{permisosUsuario.accesos.catalogos.usuarios.eliminar === false ? (null):(\n\t\t\t\t\t\t\t\t<TableCell key={10} align={'right'}>\n\t\t\t\t\t\t\t\t\tEliminar\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t</TableHead>\n\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t{obtenerUsuarios\n\t\t\t\t\t\t\t.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\n\t\t\t\t\t\t\t.map((row, index) => {\n\t\t\t\t\t\t\t\treturn <RowsRender key={index} datos={row} />;\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t</TableBody>\n\t\t\t\t</Table>\n\t\t\t</TableContainer>\n\t\t\t<TablePagination\n\t\t\t\trowsPerPageOptions={[]}\n\t\t\t\tcomponent=\"div\"\n\t\t\t\tcount={obtenerUsuarios.length}\n\t\t\t\trowsPerPage={rowsPerPage}\n\t\t\t\tpage={page}\n\t\t\t\tonChangePage={handleChangePage}\n\t\t\t\tonChangeRowsPerPage={handleChangeRowsPerPage}\n\t\t\t/>\n\t\t</Paper>\n\t);\n}\n\nconst RowsRender = ({ datos }) => {\n\tconst permisosUsuario = JSON.parse(localStorage.getItem('sesionCafi'));\n\n\tconst [ openDetalles, setOpenDetalles ] = useState(false);\n\tconst { update, setUpdate } = useContext(UsuarioContext);\n\tconst [ loading, setLoading ] = useState(false);\n\n\tconst handleDetalles = () => setOpenDetalles(!openDetalles);\n\n\tconst [ actualizarUsuario ] = useMutation(ACTUALIZAR_USUARIO);\n\n\tconst cambiarEstado = async (e) => {\n\t\tsetLoading(true);\n\n\t\ttry {\n\t\t\tawait actualizarUsuario({\n\t\t\t\tvariables: {\n\t\t\t\t\tinput: {\n\t\t\t\t\t\testado_usuario: e.target.checked\n\t\t\t\t\t},\n\t\t\t\t\tid: datos._id\n\t\t\t\t}\n\t\t\t});\n\t\t\tsetUpdate(!update);\n\t\t\tsetLoading(false);\n\t\t} catch (error) {\n\t\t\tsetLoading(false);\n\t\t}\n\t};\n\n\treturn (\n\t\t<TableRow hover role=\"checkbox\" tabIndex={-1}>\n\t\t\t<TableCell>\n\t\t\t\t<Typography>{datos.numero_usuario}</Typography>\n\t\t\t</TableCell>\n\t\t\t<TableCell>\n\t\t\t\t<Typography>{datos.nombre}</Typography>\n\t\t\t</TableCell>\n\t\t\t<TableCell>\n\t\t\t\t<Typography>{datos.email}</Typography>\n\t\t\t</TableCell>\n\t\t\t<TableCell>\n\t\t\t\t{loading ? (\n\t\t\t\t\t<CircularProgress size={30} />\n\t\t\t\t) : (\n\t\t\t\t\t<Switch\n\t\t\t\t\t\tchecked={datos.estado_usuario}\n\t\t\t\t\t\tonChange={cambiarEstado}\n\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t</TableCell>\n\t\t\t<TableCell width={50}>\n\t\t\t\t<ModalDetalles openDetalles={openDetalles} handleDetalles={handleDetalles} datos={datos} />\n\t\t\t</TableCell>\n\t\t\t{permisosUsuario.accesos.catalogos.usuarios.editar === false ? (null):(\n\t\t\t\t<TableCell width={50}>\n\t\t\t\t\t<CrearUsario accion=\"actualizar\" datos={datos} />\n\t\t\t\t</TableCell>\n\t\t\t)}\n\t\t\t{permisosUsuario.accesos.catalogos.usuarios.eliminar === false ? (null):(\n\t\t\t\t<TableCell width={50}>\n\t\t\t\t\t<IconButton color=\"secondary\">\n\t\t\t\t\t\t<Delete />\n\t\t\t\t\t</IconButton>\n\t\t\t\t</TableCell>\n\t\t\t)}\n\t\t\n\t\t</TableRow>\n\t);\n};\n\nconst ModalDetalles = ({ handleDetalles, openDetalles, datos }) => {\n\tconst classes = useStyles();\n\treturn (\n\t\t<div>\n\t\t\t<IconButton onClick={handleDetalles}>\n\t\t\t\t<Dehaze />\n\t\t\t</IconButton>\n\t\t\t<Dialog open={openDetalles} onClose={handleDetalles} fullWidth maxWidth=\"md\">\n\t\t\t\t<DialogTitle>{'Informacin completa del cliente'}</DialogTitle>\n\t\t\t\t<DialogContent>\n\t\t\t\t\t<Box mt={3}>\n\t\t\t\t\t\t<Typography variant=\"h6\">Informacin bsica</Typography>\n\t\t\t\t\t\t<Divider />\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box display=\"flex\">\n\t\t\t\t\t\t<Box mt={3} height={120} width={120} display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t<Avatar className={classes.avatar} src={datos.imagen} />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t<b>Nmero de usuario: </b>\n\t\t\t\t\t\t\t\t{datos.numero_usuario}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t<b>Nombre: </b>\n\t\t\t\t\t\t\t\t{datos.nombre}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t<b>Correo: </b>\n\t\t\t\t\t\t\t\t{datos.email ? datos.email : ' -'}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t<b>Telefono: </b>\n\t\t\t\t\t\t\t\t{datos.telefono ? datos.telefono : ' -'}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t<b>Celular: </b>\n\t\t\t\t\t\t\t\t{datos.celular ? datos.celular : ' -'}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t<b>Estado del usuario: </b>\n\t\t\t\t\t\t\t\t{datos.estado_usuario ? 'Activo' : 'Inactivo'}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t\t<Grid item md={6}>\n\t\t\t\t\t\t\t<Box mt={3}>\n\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\t<b>Direccin</b>\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t<Divider />\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box display=\"flex\">\n\t\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\t\t<b>Calle: </b>\n\t\t\t\t\t\t\t\t\t\t{datos.direccion.calle ? datos.direccion.calle : ' -'}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\t\t<b>No. Exterior: </b>\n\t\t\t\t\t\t\t\t\t\t{datos.direccion.no_ext ? datos.direccion.no_ext : ' -'}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\t\t<b>No. Interior: </b>\n\t\t\t\t\t\t\t\t\t\t{datos.direccion.no_int ? datos.direccion.no_int : ' -'}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\t\t<b>Cdigo postal: </b>\n\t\t\t\t\t\t\t\t\t\t{datos.direccion.codigo_postal ? datos.direccion.codigo_postal : ' -'}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\t\t<b>Colonia: </b>\n\t\t\t\t\t\t\t\t\t\t{datos.direccion.colonia ? datos.direccion.colonia : ' -'}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\t\t<b>Municipio: </b>\n\t\t\t\t\t\t\t\t\t\t{datos.direccion.municipio ? datos.direccion.municipio : ' -'}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\t\t<b>Localidad: </b>\n\t\t\t\t\t\t\t\t\t\t{datos.direccion.localidad ? datos.direccion.localidad : ' -'}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\t\t<b>Estado: </b>\n\t\t\t\t\t\t\t\t\t\t{datos.direccion.estado ? datos.direccion.estado : ' -'}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\t\t<b>Pais: </b>\n\t\t\t\t\t\t\t\t\t\t{datos.direccion.pais ? datos.direccion.pais : ' -'}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t</DialogContent>\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Button onClick={handleDetalles} color=\"primary\" variant=\"contained\" size=\"large\">\n\t\t\t\t\t\tCerrar\n\t\t\t\t\t</Button>\n\t\t\t\t</DialogActions>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n};\n","import React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { Search } from '@material-ui/icons';\nimport Slide from '@material-ui/core/Slide';\nimport { Box, Paper, InputBase, IconButton } from '@material-ui/core';\nimport ListaUsuarios from './ListaUsuario';\nimport CrearUsuario from './CrearUsuario';\nimport { UsuarioProvider } from '../../../../context/Catalogos/usuarioContext';\n\nconst useStyles = makeStyles((theme) => ({\n\tappBar: {\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n\ticon: {\n\t\twidth: 100\n\t},\n\troot: {\n\t\tdisplay: 'flex',\n\t\tpaddingLeft: theme.spacing(2)\n\t}\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function Usuarios() {\n\tconst classes = useStyles();\n\tconst permisosUsuario = JSON.parse(localStorage.getItem('sesionCafi'));\n\n\tconst [ open, setOpen ] = React.useState(false);\n\tconst [ filtro, setFiltro ] = useState('');\n\tconst [ values, setValues ] = useState('');\n\tconst sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\n\tconst handleClickOpen = () => {\n\t\tsetOpen(true);\n\t};\n\n\tconst handleClose = () => {\n\t\tsetOpen(false);\n\t};\n\n\tconst pressEnter = (e) => {\n\t\tif (e.key === 'Enter') setFiltro(e.target.defaultValue);\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<UsuarioProvider>\n\t\t\t\t<Button fullWidth onClick={handleClickOpen}>\n\t\t\t\t\t<Box display=\"flex\" flexDirection=\"column\">\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t<img src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/usuarios.svg' alt=\"icono numero calzado\" className={classes.icon} />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\tUsuarios\n\t\t\t\t\t</Box>\n\t\t\t\t</Button>\n\t\t\t\t<Dialog fullScreen open={open} onClose={handleClose} TransitionComponent={Transition}>\n\t\t\t\t\t<AppBar className={classes.appBar}>\n\t\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t\t<Typography variant=\"h6\" className={classes.title}>\n\t\t\t\t\t\t\t\tUsuarios\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Box m={1}>\n\t\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"secondary\" onClick={handleClose} size=\"large\">\n\t\t\t\t\t\t\t\t\t<CloseIcon style={{fontSize: 30}} />\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Toolbar>\n\t\t\t\t\t</AppBar>\n\n\t\t\t\t\t<Box m={3} display=\"flex\" justifyContent=\"space-between\">\n\t\t\t\t\t\t<Box mr={5} minWidth=\"70%\">\n\t\t\t\t\t\t\t<Paper className={classes.root}>\n\t\t\t\t\t\t\t\t<InputBase\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\tplaceholder=\"Buscar cliente...\"\n\t\t\t\t\t\t\t\t\tonChange={(e) => setValues(e.target.value)}\n\t\t\t\t\t\t\t\t\tonKeyPress={pressEnter}\n\t\t\t\t\t\t\t\t\tvalue={values}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<IconButton onClick={() => setFiltro(values)}>\n\t\t\t\t\t\t\t\t\t<Search />\n\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t</Paper>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t{permisosUsuario.accesos.catalogos.usuarios.agregar === false ? (null):(\n\t\t\t\t\t\t\t<CrearUsuario accion=\"registrar\" datos={undefined} />\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box mx={4}>\n\t\t\t\t\t\t<ListaUsuarios sucursal={sesion.sucursal._id} filtro={filtro} />\n\t\t\t\t\t</Box>\n\t\t\t\t</Dialog>\n\t\t\t</UsuarioProvider>\n\t\t</div>\n\t);\n}\n","import React, { createContext, useState } from 'react';\n\nexport const CreateDepartamentosContext = createContext();\n\nexport const DepartamentosProvider = ({ children }) => {\n    const [data, setData] = useState({\n\t\tnombre_departamentos:''\n\t});\n    const [ update, setUpdate ] = useState(false);\n    const [ error, setError ] = useState(false);\n    const [ accion, setAccion ] = useState(true);\n    const [ openRegistro, setOpenRegistro ] = useState(false);\n    const [ idDepartamento, setIdDepartamento ] = useState(\"\");\n    const [ alert, setAlert ] = useState({ message: '', status: '', open: false });\n    const [  loading, setLoading ] = useState(false);\n\n\n\treturn (\n\t\t<CreateDepartamentosContext.Provider value={\n            { \n                data, \n                setData,\n                update,\n                setUpdate,\n                error,\n                setError,\n                openRegistro,\n                setOpenRegistro,\n                accion,\n                setAccion,\n                idDepartamento, \n                setIdDepartamento,\n                alert,\n                setAlert,\n                loading,\n                setLoading\n            }\n        }>\n\t\t\t{children}\n\t\t</CreateDepartamentosContext.Provider>\n\t);\n};\n","import React, { useState, useEffect, useContext } from 'react';\nimport { \n    Paper, \n    makeStyles, \n    Table, \n    TableBody, \n    TableCell, \n    TableContainer, \n    TableHead, \n    TableRow,\n\tIconButton,\n\tTablePagination,\n\tDialog,\n\tDialogTitle,\n\tDialogActions,\n\tButton\n} from '@material-ui/core/';\n \nimport { Delete, Edit, Close } from '@material-ui/icons';\n\nimport { useQuery, useMutation } from '@apollo/client';\nimport { OBTENER_DEPARTAMENTOS, ELIMINAR_DEPARTAMENTO } from '../../../../gql/Catalogos/departamentos';\n// import ContainerRegistroAlmacen from './RegistroDepartamento';\n import { CreateDepartamentosContext } from '../../../../context/Catalogos/Departamentos';\n\nconst useStyles = makeStyles((theme) => ({\n\troot: { \n\t\twidth: '100%'\n\t},\n\tpaper: {\n\t\twidth: '100%',\n\t\tmarginBottom: theme.spacing(2)\n\t}\n}));\n\nexport default function TablaDepartamentos() {\n\tconst classes = useStyles();\n\tconst [ page, setPage ] = useState(0);\n\tconst [ rowsPerPage, setRowsPerPage ] = useState(8);\n\tconst [open, setOpen] = useState(false);\n\tconst sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\tlet obtenerDepartamentos = [];\n\n\tconst { update, setAccion, idDepartamento,setIdDepartamento, setData, setAlert, setLoading } = useContext(CreateDepartamentosContext);\n\tconst [ eliminarDepartamento ] = useMutation(ELIMINAR_DEPARTAMENTO);\n\t/* Queries */\n\tconst { data, refetch } = useQuery(OBTENER_DEPARTAMENTOS,{\n\t\tvariables: {\n\t\t\tempresa: sesion.empresa._id,\n\t\t\tsucursal: sesion.sucursal._id\n\t\t}\n\t});\t\n\n\tconst handleModal = () => setOpen(!open);\n\tuseEffect(\n\t\t() => {\n\t\t\trefetch();\n\t\t},\n\t\t[ update, refetch ]\n\t);\n\n\tconst handleDelete = async () => {\n   \n\t\tsetLoading(true);\n\t\ttry {\n            const resultado = await eliminarDepartamento({\n                variables: {\n                    id: idDepartamento\n                }\n            });\n\n\t\t\tif(resultado.data.eliminarDepartamento.message === 'false'){\n\t\t\t\tsetAlert({ message: 'Departamento eliminado con exito', status: 'success', open: true });\n\t\t\t}else{\n\t\t\t\tsetAlert({ message: resultado.data.eliminarDepartamento.message, status: 'error', open: true });\n\t\t\t};\n\n\t\t\trefetch();\n\t\t\tsetLoading(false);\n\t\t\tsetOpen(false)\n\t\t\tsetIdDepartamento('');\n\t\t\n\t\t} catch (error) {\n\t\t\tconsole.log(error);\n\t\t\tsetAlert({ message: 'Hubo un error', status: 'error', open: true });\n\t\t\tsetLoading(false);\n\t\t}\n\t};\n\n\tconst handleChangePage = (event, newPage) => {\n\t\tsetPage(newPage);\n\t};\n\n\tconst handleChangeRowsPerPage = (event) => {\n\t\tsetRowsPerPage(parseInt(event.target.value, 10));\n\t\tsetPage(0);\n\t};\n\n\tif(data){\n\t\tobtenerDepartamentos = data.obtenerDepartamentos\n\t}\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Paper className={classes.paper}>\n\t\t\t\t<TableContainer>\n\t\t\t\t\t<Table\n\t\t\t\t\t\tclassName={classes.table}\n\t\t\t\t\t\taria-labelledby=\"tableTitle\"\n\t\t\t\t\t\tsize=\"medium\"\n\t\t\t\t\t\taria-label=\"enhanced table\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t<TableCell>Departamentos</TableCell>\n\t\t\t\t\t\t\t\t{sesion.accesos.catalogos.departamentos.editar === false ? (null):(\n\t\t\t\t\t\t\t\t\t<TableCell padding=\"default\">Editar</TableCell>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t{sesion.accesos.catalogos.departamentos.eliminar === false ? (null):(\n\t\t\t\t\t\t\t\t\t<TableCell padding=\"default\">Eliminar</TableCell>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t</TableHead>\n\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t{obtenerDepartamentos?.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)?.map((row, index) => {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<TableRow hover role=\"checkbox\" tabIndex={-1} key={row._id}selected={idDepartamento === row._id ? true : false}>\n\t\t\t\t\t\t\t\t\t\t\t<TableCell>{row.nombre_departamentos}</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t{sesion.accesos.catalogos.departamentos.editar === false ?(null):(\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell padding=\"checkbox\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{idDepartamento === row._id ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<IconButton onClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetIdDepartamento(\"\");\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetData({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tnombre_departamentos: \"\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}); \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Close />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<IconButton onClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetAccion(false)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetData({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tnombre_departamentos: row.nombre_departamentos\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetIdDepartamento(row._id);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Edit />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t{sesion.accesos.catalogos.departamentos.eliminar === false ?(null):(\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell padding=\"checkbox\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<IconButton onClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetIdDepartamento(row._id);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleModal();\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Delete />\n\t\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t</Table>\n\t\t\t\t</TableContainer>\n\t\t\t\t<TablePagination\n\t\t\t\t\trowsPerPageOptions={[]}\n\t\t\t\t\tcomponent=\"div\"\n\t\t\t\t\tcount={obtenerDepartamentos.length}\n\t\t\t\t\trowsPerPage={rowsPerPage}\n\t\t\t\t\tpage={page}\n\t\t\t\t\tonChangePage={handleChangePage}\n\t\t\t\t\tonChangeRowsPerPage={handleChangeRowsPerPage}\n\t\t\t\t/>\n\t\t\t</Paper>\n\t\t\t<Modal handleModal={handleModal} openModal={open} handleDelete={handleDelete} />\n\t\t</div>\n\t);\n}\n\n\nconst Modal = ({ handleModal, openModal, handleDelete }) => {\n\treturn (\n\t\t<div>\n\t\t\t<Dialog open={openModal} onClose={handleModal}>\n\t\t\t\t<DialogTitle>{'Seguro que quieres eliminar esto?'}</DialogTitle>\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Button onClick={handleModal} color=\"primary\">\n\t\t\t\t\t\tCancelar\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button color=\"secondary\" autoFocus variant=\"contained\" onClick={handleDelete}>\n\t\t\t\t\t\tOK\n\t\t\t\t\t</Button>\n\t\t\t\t</DialogActions>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n};\n","import React, { useState, useContext } from 'react';\nimport { Box, Button, TextField } from '@material-ui/core';\nimport { Add } from '@material-ui/icons';\nimport TablaDepartamentos from './ListaDepartamentos';\nimport { REGISTRAR_DEPARTAMENTO,  ACTUALIZAR_DEPARTAMENTO  } from '../../../../gql/Catalogos/departamentos';\nimport { useMutation } from '@apollo/client';\nimport { CreateDepartamentosContext } from '../../../../context/Catalogos/Departamentos';\nimport SnackBarMessages from '../../../../components/SnackBarMessages';\nimport BackdropComponent from '../../../../components/Layouts/BackDrop';\nimport { cleanTypenames } from '../../../../config/reuserFunctions';\n\nexport default function RegistroDepartamentos() {\n\tconst { data, setData, update, setUpdate, error, setError, accion, setAccion, idDepartamento, setIdDepartamento , setLoading, setAlert, loading, alert} = useContext(CreateDepartamentosContext);\n\tconst sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\n\tconst obtenerDatos = (e) => {\n\t\tsetData({\n\t\t\t...data,\n\t\t\t[e.target.name]: e.target.value\n\t\t})\n\t}\n\n\tconst [ CrearDepartamentos ] = useMutation(REGISTRAR_DEPARTAMENTO);\n\tconst [ ActualzarDepartamentos ] = useMutation(ACTUALIZAR_DEPARTAMENTO);\n\n\n\n\tconst saveData = async () => {\n\t\ttry {\n\t\t\tif(!data.nombre_departamentos){\n\t\t\t\tsetError(true);\n\t\t\t    return;\n\t\t\t}else{\n\t\t\t\tconst input = data\n\t\t\t\tif(accion){\n\t\t\t\t\tif (sesion.accesos.catalogos.departamentos.agregar === false) {\n\t\t\t\t\t\treturn setAlert({ message: 'Lo sentimos no tienes autorizacin para esta accin!', status: 'error', open: true });\n\t\t\t\t\t}else{\n\t\t\t\t\t\tawait CrearDepartamentos({\n\t\t\t\t\t\t\tvariables: {\n\t\t\t\t\t\t\t\tinput,\n\t\t\t\t\t\t\t\tempresa: sesion.empresa._id,\n\t\t\t\t\t\t\t\tsucursal: sesion.sucursal._id\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tif (sesion.accesos.catalogos.departamentos.editar === false) {\n\t\t\t\t\t\treturn setAlert({ message: 'Lo sentimos no tienes autorizacin para esta accin!', status: 'error', open: true });\n\t\t\t\t\t}else{\n\t\t\t\t\t\tconst inputActualizado = cleanTypenames(input);\n\t\t\t\t\t\tawait ActualzarDepartamentos({\n\t\t\t\t\t\t\tvariables: {\n\t\t\t\t\t\t\t\tinput: inputActualizado,\n\t\t\t\t\t\t\t\tid: idDepartamento\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}) \n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tsetUpdate(!update);\n\t\t\t\tsetAccion(true)\n\t\t\t\tsetIdDepartamento(\"\");\n\t\t\t\tsetData({\n\t\t\t\t\tnombre_departamentos: \"\"\n\t\t\t\t});\n                setAlert({ message: 'Listo!', status: 'success', open: true });\n                setError(false);\n                setLoading(false);\n\t\t\t}\n\t\t} catch (error) {\n\t\t}\n\t}\n\n\treturn (\n\t\t<Box>\n\t\t\t<SnackBarMessages alert={alert} setAlert={setAlert} />\n\t\t\t<BackdropComponent loading={loading} setLoading={setLoading} />\n\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" my={2}>\n\t\t\t\t<TextField\n\t\t\t\t\tid=\"outlined-error-helper-text\"\n\t\t\t\t\tlabel=\"Nombre departamento\"\n\t\t\t\t\tvalue={data.nombre_departamentos}\n\t\t\t\t\tname=\"nombre_departamentos\"\n\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\tsize=\"small\"\n                    fullWidth\n\t\t\t\t\tonChange={obtenerDatos}\n\t\t\t\t\terror={error}\n\t\t\t\t/>\n\t\t\t\t<Box ml={1} />\n\t\t\t\t<Button color=\"primary\" variant=\"contained\" size=\"large\" disableElevation onClick={saveData} >\n\t\t\t\t\t<Add />Guardar\n\t\t\t\t</Button>\n\t\t\t</Box>\n\t\t\t<TablaDepartamentos  />\n\t\t</Box>\n\t); \n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport CloseIcon from '@material-ui/icons/Close';\nimport Slide from '@material-ui/core/Slide';\nimport { Box, Container } from '@material-ui/core';\nimport RegistroDepartamentos from './RegistroDepartamento';\nimport { DepartamentosProvider } from '../../../../context/Catalogos/Departamentos';\n\nconst useStyles = makeStyles((theme) => ({\n\tappBar: {\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n\ticon: {\n\t\twidth: 100\n\t}\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function Departamentos() {\n\tconst classes = useStyles();\n\tconst [ open, setOpen ] = React.useState(false);\n\n\tconst handleClickOpen = () => {\n\t\tsetOpen(true);\n\t};\n\n\tconst handleClose = () => {\n\t\tsetOpen(false);\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<DepartamentosProvider>\n\t\t\t\t<Button fullWidth onClick={handleClickOpen}>\n\t\t\t\t\t<Box display=\"flex\" flexDirection=\"column\">\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t<img src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/departamentos.svg' alt=\"icono numero calzado\" className={classes.icon} />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\tDepartamentos\n\t\t\t\t\t</Box>\n\t\t\t\t</Button>\n\t\t\t\t<Dialog fullScreen open={open} onClose={handleClose} TransitionComponent={Transition}>\n\t\t\t\t\t<AppBar className={classes.appBar}>\n\t\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t\t<Typography variant=\"h6\" className={classes.title}>\n\t\t\t\t\t\t\t\tDepartamentos\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Box m={1}>\n\t\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"secondary\" onClick={handleClose} size=\"large\">\n\t\t\t\t\t\t\t\t\t<CloseIcon style={{fontSize: 30}} />\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Toolbar>\n\t\t\t\t\t</AppBar>\n\t\t\t\t\t<Box mt={3}>\n\t\t\t\t\t\t<Container maxWidth=\"sm\">\n\t\t\t\t\t\t\t<RegistroDepartamentos accion=\"registrar\" />\n\t\t\t\t\t\t</Container>\n\t\t\t\t\t</Box>\n\t\t\t\t</Dialog>\n\t\t\t</DepartamentosProvider>\n\t\t</div>\n\t);\n} \n","import React, { useState, Fragment } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Accordion, AccordionSummary, AccordionDetails, fade } from '@material-ui/core';\nimport { Box, Button, Divider, IconButton, TextField, CircularProgress, Typography } from '@material-ui/core';\nimport { Add, Delete, Edit, ExpandMore, Close } from '@material-ui/icons';\nimport ErrorPage from '../../../../components/ErrorPage';\nimport SnackBarMessages from '../../../../components/SnackBarMessages';\nimport BackdropComponent from '../../../../components/Layouts/BackDrop';\n \nimport { useQuery, useMutation } from '@apollo/client';\nimport {\n\tOBTENER_CATEGORIAS,\n\tCREAR_CATEGORIA,\n\tCREAR_SUBCATEGORIA,\n\tACTUALIZAR_SUBCATEGORIA,\n\tACTUALIZAR_CATEGORIA, \n\tELIMINAR_CATEGORIA,\n\tELIMINAR_SUBCATEGORIA\n} from '../../../../gql/Catalogos/categorias';\nimport { cleanTypenames } from '../../../../config/reuserFunctions';\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n\t\twidth: '100%'\n\t},\n\tflexGrow: {\n\t\tflexGrow: 1\n\t},\n\tselected: {\n\t\tbackground: fade(theme.palette.secondary.main, 0.1)\n\t}\n}));\n\nexport default function RegistroCategorias() {\n\tconst classes = useStyles();\n\tconst sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\tconst [ categoria, setCategoria ] = useState('');\n\tconst [ toUpdateID, setToUpdateID ] = useState('');\n\tconst [ loadingBackDrop, setLoadingBackDrop ] = useState(false);\n\tconst [ alert, setAlert ] = useState({ message: '', status: '', open: false });\n\n\t/* Queries */\n\tconst { loading, data, error, refetch } = useQuery(OBTENER_CATEGORIAS, {\n\t\tvariables: { empresa: sesion.empresa._id, sucursal: sesion.sucursal._id }\n\t});\n\t/*  Categorias Mutations */\n\tconst [ crearCategoria ] = useMutation(CREAR_CATEGORIA);\n\tconst [ actualizarCategoria ] = useMutation(ACTUALIZAR_CATEGORIA);\n\n\t\n\n\tconst obtenerDatos = (e) => {\n\t\tsetCategoria(e.target.value);\n\t};\n\n\tconst guardarCategoria = async () => {\n\t\tif (!categoria) return;\n\t\tsetLoadingBackDrop(true);\n\t\ttry {\n\t\t\tif (!toUpdateID) {\n\t\t\t\tif (sesion.accesos.catalogos.categorias.agregar === false) {\n\t\t\t\t\tsetLoadingBackDrop(false);\n\t\t\t\t\treturn setAlert({ message: 'Lo sentimos no tienes autorizacin para esta accin', status: 'error', open: true });\n\t\t\t\t}else{\n\t\t\t\t\tawait crearCategoria({\n\t\t\t\t\t\tvariables: {\n\t\t\t\t\t\t\tinput: {\n\t\t\t\t\t\t\t\tcategoria,\n\t\t\t\t\t\t\t\tempresa: sesion.empresa._id,\n\t\t\t\t\t\t\t\tsucursal: sesion.sucursal._id\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\t\n\t\t\t} else {\n\t\t\t\tif (sesion.accesos.catalogos.categorias.editar === false) {\n\t\t\t\t\tsetLoadingBackDrop(false);\n\t\t\t\t\treturn setAlert({ message: 'Lo sentimos no tienes autorizacin para esta accin', status: 'error', open: true });\n\t\t\t\t}else{\n\t\t\t\t\tconst categoriaActualizada = cleanTypenames(categoria);\n\t\t\t\t\tawait actualizarCategoria({\n\t\t\t\t\t\tvariables: {\n\t\t\t\t\t\t\tinput: {\n\t\t\t\t\t\t\t\tcategoria: categoriaActualizada\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tidCategoria: toUpdateID\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t\trefetch();\n\t\t\tsetAlert({ message: 'Listo!', status: 'success', open: true });\n\t\t\tsetLoadingBackDrop(false);\n\t\t\tsetCategoria('');\n\t\t\tsetToUpdateID('');\n\t\t} catch (error) {\n\t\t\tsetAlert({ message: 'Hubo un error', status: 'error', open: true });\n\t\t\tsetLoadingBackDrop(false);\n\t\t}\n\t};\n\tif (loading)\n\t\treturn (\n\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" height=\"30vh\">\n\t\t\t\t<CircularProgress />\n\t\t\t</Box>\n\t\t);\n\tif (error) {\n\t\treturn <ErrorPage error={error} />;\n\t}\n\n\tconst { obtenerCategorias } = data;\n\tconst render_categorias = obtenerCategorias.map((categoria, index) => (\n\t\t<RenderCategorias\n\t\t\tkey={index}\n\t\t\tcategoria={categoria}\n\t\t\tsetToUpdateID={setToUpdateID}\n\t\t\tsetCategoria={setCategoria}\n\t\t\trefetch={refetch}\n\t\t\ttoUpdateID={toUpdateID}\n\t\t/>\n\t));\n\treturn (\n\t\t<div className={classes.root} >\n\t\t\t<SnackBarMessages alert={alert} setAlert={setAlert} />\n\t\t\t<BackdropComponent loading={loadingBackDrop} setLoading={setLoadingBackDrop} />\n\t\t\t<Typography variant=\"h6\">Categorias</Typography>\n\t\t\t<Box display=\"flex\" alignItems=\"center\" mb={2}>\n\t\t\t\t<TextField value={categoria} variant=\"outlined\" size=\"small\" onChange={obtenerDatos} />\n\t\t\t\t<Box ml={1} />\n\t\t\t\t<Button color=\"primary\" variant=\"contained\" size=\"large\" disableElevation onClick={guardarCategoria}>\n\t\t\t\t\t<Add />Guardar\n\t\t\t\t</Button>\n\t\t\t</Box>\n\t\t\t{render_categorias}\n\t\t</div>\n\t);\n}\n\nconst RenderCategorias = ({ categoria, setToUpdateID, setCategoria, refetch, toUpdateID }) => {\n\tconst classes = useStyles();\n\tconst sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\tconst [ subcategoria, setSubcategoria ] = useState('');\n\tconst [ loadingBackDrop, setLoadingBackDrop ] = useState(false);\n\tconst [ alert, setAlert ] = useState({ message: '', status: '', open: false });\n\n\t/*  Subcategorias Mutations */\n\tconst [ crearSubcategoria ] = useMutation(CREAR_SUBCATEGORIA);\n\tconst [ actualizarSubcategoria ] = useMutation(ACTUALIZAR_SUBCATEGORIA);\n\tconst [ eliminarCategoria ] = useMutation(ELIMINAR_CATEGORIA);\n\n\n\tconst render_subcategorias = categoria.subcategorias.map((subcategoria) => (\n\t\t<RenderSubcategorias\n\t\t\tkey={subcategoria._id}\n\t\t\tidCategoria= {categoria._id}\n\t\t\tsubcategoria={subcategoria}\n\t\t\tsetToUpdateID={setToUpdateID}\n\t\t\ttoUpdateID={toUpdateID}\n\t\t\tsetSubcategoria={setSubcategoria}\n\t\t\tsetAlert={setAlert}\n\t\t\trefetch={refetch}\n\t\t/>\n\t));\n\n\tconst obtenerCamposParaActualizar = (event) => {\n\t\n\t\twindow.scrollTo(0,0);\n\t\tevent.stopPropagation();\n\t\tsetToUpdateID(categoria._id);\n\t\tsetCategoria(categoria.categoria);\n\t};\n\n\tconst cancelarUpdate = (event) => {\n\t\tevent.stopPropagation();\n\t\tsetToUpdateID('');\n\t\tsetCategoria('');\n\t};\n\n\tconst obtenerDatos = (e) => {\n\t\tsetSubcategoria(e.target.value);\n\t};\n\n\tconst guardarSubcategoria = async () => {\n\t\tif (!subcategoria) return;\n\t\tsetLoadingBackDrop(true);\n\t\tlet msgAlert = '';\n\t\tlet resp;\n\t\ttry {\n\t\t\tif (!toUpdateID) {\n\t\t\t\tif (sesion.accesos.catalogos.categorias.agregar === false) {\n\t\t\t\t\tsetLoadingBackDrop(false);\n\t\t\t\t\treturn setAlert({ message: 'Lo sentimos no tienes autorizacin para esta accin', status: 'error', open: true });\n\t\t\t\t}else{\n\t\t\t\t\tresp = await crearSubcategoria({\n\t\t\t\t\t\tvariables: {\n\t\t\t\t\t\t\tinput: {\n\t\t\t\t\t\t\t\tsubcategoria\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tidCategoria: categoria._id\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tmsgAlert = ( resp.data.crearSubcategoria.message === 'false' ) ? { message: 'Listo!', status: 'success', open: true }: { message: resp.data.crearSubcategoria.message, status: 'error', open: true }\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (sesion.accesos.catalogos.categorias.editar === false) {\n\t\t\t\t\tsetLoadingBackDrop(false);\n\t\t\t\t\treturn setAlert({ message: 'Lo sentimos no tienes autorizacin para esta accin', status: 'error', open: true });\n\t\t\t\t}else{\n\t\t\t\t\tconst subCategoriaActualizada = cleanTypenames(subcategoria);\n\t\t\t\t\tresp = await actualizarSubcategoria({\n\t\t\t\t\t\tvariables: {\n\t\t\t\t\t\t\tinput: {\n\t\t\t\t\t\t\t\tsubcategoria: subCategoriaActualizada\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tidCategoria: categoria._id,\n\t\t\t\t\t\t\tidSubcategoria: toUpdateID\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tmsgAlert =( resp.data.actualizarSubcategoria.message === 'false' ) ? { message: 'Listo!', status: 'success', open: true }: { message: resp.data.actualizarSubcategoria.message, status: 'error', open: true }\n\t\t\t\t}\n\t\t\t}\n\t\t\trefetch();\n\t\t\t\n\t\t\tsetAlert(msgAlert);\n\t\t\tsetLoadingBackDrop(false);\n\t\t\tsetSubcategoria('');\n\t\t\tsetToUpdateID('');\n\t\t} catch (error) {\n\t\t\tsetAlert({ message: 'Hubo un error', status: 'error', open: true });\n\t\t\tsetLoadingBackDrop(false);\n\t\t}\n\t};\n\n\tconst handleDelete = async (event) => {\n\t\tevent.stopPropagation()\n\t\ttry {\n\t\t\tconst resp = await eliminarCategoria({\n\t\t\t\tvariables: {\n\t\t\t\t\tidCategoria: categoria._id\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\tlet msgAlert = ( resp.data.eliminarCategoria.message === 'false' ) ? { message: 'Listo!', status: 'success', open: true }: { message: resp.data.eliminarCategoria.message, status: 'error', open: true }\n\t\t\tsetAlert(msgAlert);\n\t\t\trefetch();\n\t\t\n\t\t} catch (error) {\n\t\t\tsetAlert({ message: 'Hubo un error', status: 'error', open: true });\n\t\t}\n\t};\n\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<SnackBarMessages alert={alert} setAlert={setAlert} />\n\t\t\t<BackdropComponent loading={loadingBackDrop} setLoading={setLoadingBackDrop} />\n\t\t\t<Accordion>\n\t\t\t\t<AccordionSummary\n\t\t\t\t\tclassName={toUpdateID && toUpdateID === categoria._id ? classes.selected : ''}\n\t\t\t\t\texpandIcon={<ExpandMore />}\n\t\t\t\t\taria-label=\"Expand\"\n\t\t\t\t\taria-controls={`categoria-action-${categoria._id}`}\n\t\t\t\t\tid={`categoria-${categoria._id}`}\n\t\t\t\t>\n\t\t\t\t\t<Box display=\"flex\" alignItems=\"center\" width=\"100%\">\n\t\t\t\t\t\t<Typography variant=\"h6\">{categoria.categoria}</Typography>\n\t\t\t\t\t\t<div className={classes.flexGrow} />\n\t\t\t\t\t\t{sesion.accesos.catalogos.categorias.editar === false ?(null):(\n\t\t\t\t\t\t\ttoUpdateID && toUpdateID === categoria._id ? (\n\t\t\t\t\t\t\t\t<IconButton onClick={cancelarUpdate} onFocus={(event) => event.stopPropagation()}>\n\t\t\t\t\t\t\t\t\t<Close />\n\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\tonClick={obtenerCamposParaActualizar}\n\t\t\t\t\t\t\t\t\tonFocus={(event) => event.stopPropagation()}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Edit />\n\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{sesion.accesos.catalogos.categorias.eliminar === false ?(null):(\n\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\tonClick={(event) => handleDelete(event)}\n\t\t\t\t\t\t\t\tonFocus={(event) => handleDelete(event)}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Delete />\n\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Box>\n\t\t\t\t</AccordionSummary>\n\t\t\t\t<AccordionDetails>\n\t\t\t\t\t<Box width=\"100%\">\n\t\t\t\t\t\t<Divider />\n\t\t\t\t\t\t<Box mb={2} />\n\t\t\t\t\t\t<Box ml={5} width=\"100%\" display=\"flex\">\n\t\t\t\t\t\t\t<Typography variant=\"h6\">Subcategorias</Typography>\n\t\t\t\t\t\t\t<Box mr={2} />\n\t\t\t\t\t\t\t<Box display=\"flex\" alignItems=\"center\" mb={2}>\n\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\tvalue={subcategoria}\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\tonChange={obtenerDatos}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<Box ml={1} />\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\tsize=\"large\"\n\t\t\t\t\t\t\t\t\tdisableElevation\n\t\t\t\t\t\t\t\t\tonClick={guardarSubcategoria}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Add />Guardar\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box ml={5}>{render_subcategorias}</Box>\n\t\t\t\t\t</Box>\n\t\t\t\t</AccordionDetails>\n\t\t\t</Accordion>\n\t\t</Fragment>\n\t);\n};\n\nconst RenderSubcategorias = ({ subcategoria,idCategoria, toUpdateID, setToUpdateID, setSubcategoria,setAlert, refetch }) => {\n\tconst sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\tconst classes = useStyles();\n\tconst [ eliminarSubcategoria ] = useMutation(ELIMINAR_SUBCATEGORIA);\n\tconst obtenerCamposParaActualizar = (event) => {\n\t\tevent.stopPropagation();\n\t\tsetToUpdateID(subcategoria._id);\n\t\tsetSubcategoria(subcategoria.subcategoria);\n\t};\n\n\tconst cancelarUpdate = (event) => {\n\t\tevent.stopPropagation();\n\t\tsetToUpdateID('');\n\t\tsetSubcategoria('');\n\t};\n\tconst handleDelete = async (event) => {\n\t\ttry {\n\t\t\tevent.stopPropagation()\n\t\t\tconst resp = await eliminarSubcategoria({\n\t\t\t\tvariables: {\n\t\t\t\t\tidCategoria: idCategoria,\n\t\t\t\t\tidSubcategoria:subcategoria._id\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\tlet msgAlert = ( resp.data.eliminarSubcategoria.message === 'false' ) ? { message: 'Listo!', status: 'success', open: true }: { message: resp.data.eliminarSubcategoria.message, status: 'error', open: true }\n\t\t\n\t\t\tsetAlert(msgAlert);\n\t\t\t\n\t\t\trefetch();\n\t\t\n\t\t} catch (error) {\n\t\t\tsetAlert({ message: 'Ocurri un error', status: 'error', open: true });\n\t\t}\n\t};\n\treturn (\n\t\t<Fragment>\n\t\t\t<Box\n\t\t\t\tdisplay=\"flex\"\n\t\t\t\talignItems=\"center\"\n\t\t\t\tborderRadius={3}\n\t\t\t\tpx={1}\n\t\t\t\tclassName={toUpdateID && toUpdateID === subcategoria._id ? classes.selected : ''}\n\t\t\t>\n\t\t\t\t<Typography>{subcategoria.subcategoria}</Typography>\n\t\t\t\t<div className={classes.flexGrow} />\n\t\t\t\t{sesion.accesos.catalogos.categorias.editar === false ?(null):(\n\t\t\t\t\ttoUpdateID && toUpdateID === subcategoria._id ? (\n\t\t\t\t\t\t<IconButton onClick={cancelarUpdate} onFocus={(event) => event.stopPropagation()}>\n\t\t\t\t\t\t\t<Close />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<IconButton onClick={obtenerCamposParaActualizar} onFocus={(event) => event.stopPropagation()}>\n\t\t\t\t\t\t\t<Edit />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t)\n\t\t\t\t)}\n\t\t\t\t{sesion.accesos.catalogos.categorias.eliminar === false ?(null):(\n\t\t\t\t\t<IconButton onClick={(event) => handleDelete(event) }>\n\t\t\t\t\t\t<Delete />\n\t\t\t\t\t</IconButton>\n\t\t\t\t)}\n\t\t\t</Box>\n\t\t\t<Divider />\n\t\t</Fragment>\n\t);\n};\n","import React from 'react'; \nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport CloseIcon from '@material-ui/icons/Close';\nimport Slide from '@material-ui/core/Slide';\nimport { Box, Container } from '@material-ui/core';\nimport RegistroCategorias from './RegistroCategorias';\n\nconst useStyles = makeStyles((theme) => ({\n\tappBar: {\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n\ticon: {\n\t\twidth: 100\n\t}\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function Categorias() {\n\tconst classes = useStyles();\n\tconst [ open, setOpen ] = React.useState(false);\n\n\tconst handleClickOpen = () => {\n\t\tsetOpen(true);\n\t};\n\n\tconst handleClose = () => {\n\t\tsetOpen(false);\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<Button fullWidth onClick={handleClickOpen}>\n\t\t\t\t<Box display=\"flex\" flexDirection=\"column\">\n\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t<img src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/categorias.svg' alt=\"icono numero calzado\" className={classes.icon} />\n\t\t\t\t\t</Box>\n\t\t\t\t\tCategorias\n\t\t\t\t</Box>\n\t\t\t</Button>\n\t\t\t<Dialog fullScreen open={open} onClose={handleClose} TransitionComponent={Transition}>\n\t\t\t\t<AppBar className={classes.appBar}>\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t<Typography variant=\"h6\" className={classes.title}>\n\t\t\t\t\t\t\tCategorias\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Box m={1}>\n\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"secondary\" onClick={handleClose} size=\"large\">\n\t\t\t\t\t\t\t\t<CloseIcon style={{fontSize: 30}} />\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</AppBar>\n\t\t\t\t<Box mt={3}>\n\t\t\t\t\t<Container maxWidth=\"md\">\n\t\t\t\t\t\t<RegistroCategorias />\n\t\t\t\t\t</Container>\n\t\t\t\t</Box>\n\t\t\t</Dialog>\n\t\t</div> \n\t);\n}\n","import React, { useEffect, useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TablePagination from '@material-ui/core/TablePagination';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport { Box, Button, Dialog, DialogActions, DialogTitle, IconButton, TextField, Typography } from '@material-ui/core';\nimport { Close, Delete, Edit } from '@material-ui/icons';\nimport SnackBarMessages from '../../../../components/SnackBarMessages';\n\nimport { useMutation } from '@apollo/client';\nimport { ELIMINAR_COLOR, OBTENER_COLORES } from '../../../../gql/Catalogos/colores';\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n\t\twidth: '100%'\n\t},\n\tpaper: {\n\t\twidth: '100%',\n\t\tmarginBottom: theme.spacing(2)\n\t},\n\tcolor: {\n\t\tdisplay: 'flex',\n\t\talignItems: 'center'\n\t}\n}));\n\nexport default function TablaColores({ datos, toUpdate, setToUpdate, setValues, refetch }) {\n\tconst classes = useStyles();\n\tconst sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\tconst [ page, setPage ] = useState(0);\n\tconst [ rowsPerPage, setRowsPerPage ] = useState(8);\n\tconst [ busqueda, setBusqueda ] = useState('');\n\tconst [ productosFiltrados, setProductosFiltrados ] = useState([]);\n\tconst [ alert, setAlert ] = useState({\n\t\tstatus: '',\n\t\tmessage: '',\n\t\topen: false\n\t});\n\n\tconst handleChangePage = (event, newPage) => {\n\t\tsetPage(newPage);\n\t};\n\n\tconst handleChangeRowsPerPage = (event) => {\n\t\tsetRowsPerPage(parseInt(event.target.value, 10));\n\t\tsetPage(0);\n\t};\n\n\tuseEffect(\n\t\t() => {\n\t\t\tsetProductosFiltrados(\n\t\t\t\tdatos.filter((datos) => {\n\t\t\t\t\treturn datos.nombre.toLowerCase().includes(busqueda.toLowerCase());\n\t\t\t\t})\n\t\t\t);\n\t\t},\n\t\t[ busqueda, datos ]\n\t);\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<SnackBarMessages alert={alert} setAlert={setAlert} />\n\t\t\t<Paper className={classes.paper}>\n\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tplaceholder=\"Buscar...\"\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tonChange={(e) => setBusqueda(e.target.value)}\n\t\t\t\t\t/>\n\t\t\t\t</Box>\n\t\t\t\t<TableContainer>\n\t\t\t\t\t<Table\n\t\t\t\t\t\tclassName={classes.table}\n\t\t\t\t\t\taria-labelledby=\"tableTitle\"\n\t\t\t\t\t\tsize=\"medium\"\n\t\t\t\t\t\taria-label=\"enhanced table\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t<TableCell width={150}>Color</TableCell>\n\t\t\t\t\t\t\t\t<TableCell>Nombre</TableCell>\n\t\t\t\t\t\t\t\t{sesion.accesos.catalogos.colores.editar === false ? (null) : (\n\t\t\t\t\t\t\t\t\t<TableCell padding=\"default\">Editar</TableCell>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t{sesion.accesos.catalogos.colores.eliminar === false ? (null) : (\n\t\t\t\t\t\t\t\t\t<TableCell padding=\"default\">Eliminar</TableCell>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t</TableHead>\n\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t{productosFiltrados\n\t\t\t\t\t\t\t\t.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\n\t\t\t\t\t\t\t\t.map((row, index) => {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<RowsRender\n\t\t\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\t\t\trow={row}\n\t\t\t\t\t\t\t\t\t\t\tsetAlert={setAlert}\n\t\t\t\t\t\t\t\t\t\t\ttoUpdate={toUpdate}\n\t\t\t\t\t\t\t\t\t\t\tsetToUpdate={setToUpdate}\n\t\t\t\t\t\t\t\t\t\t\tsetValues={setValues}\n\t\t\t\t\t\t\t\t\t\t\trefetch={refetch}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t</Table>\n\t\t\t\t</TableContainer>\n\t\t\t\t<TablePagination\n\t\t\t\t\trowsPerPageOptions={[]}\n\t\t\t\t\tcomponent=\"div\"\n\t\t\t\t\tcount={datos.length}\n\t\t\t\t\trowsPerPage={rowsPerPage}\n\t\t\t\t\tpage={page}\n\t\t\t\t\tonChangePage={handleChangePage}\n\t\t\t\t\tonChangeRowsPerPage={handleChangeRowsPerPage}\n\t\t\t\t/>\n\t\t\t</Paper>\n\t\t</div>\n\t);\n}\n\nconst RowsRender = ({ row, setAlert, toUpdate, setToUpdate, setValues, refetch }) => {\n\tconst classes = useStyles();\n\tconst sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\tconst [ openModal, setOpenModal ] = useState(false);\n\n\tconst handleModal = () => setOpenModal(!openModal);\n\n\tconst [ eliminarColor ] = useMutation(ELIMINAR_COLOR, {\n\t\tupdate(cache, { data: { eliminarColor } }) {\n\t\t\ttry {\n\t\t\t\tconst { obtenerColores } = cache.readQuery({\n\t\t\t\t\tquery: OBTENER_COLORES,\n\t\t\t\t\tvariables: { empresa: row.empresa._id }\n\t\t\t\t});\n\n\t\t\t\tcache.writeQuery({\n\t\t\t\t\tquery: OBTENER_COLORES,\n\t\t\t\t\tvariables: { empresa: row.empresa._id },\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tobtenerColores: {\n\t\t\t\t\t\t\t...obtenerColores,\n\t\t\t\t\t\t\teliminarColor\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} catch (error) {\n\t\t\t}\n\t\t}\n\t});\n\n\tconst handleDelete = async () => {\n\t\ttry {\n\t\t\tconst resp = await eliminarColor({\n\t\t\t\tvariables: {\n\t\t\t\t\tid: row._id\n\t\t\t\t}\n\t\t\t});\n\t\t\trefetch(refetch);\n\t\t\tsetAlert({ message: resp.data.eliminarColor.message, status: 'success', open: true });\n\t\t\thandleModal();\n\t\t} catch (error) {\n\t\t\tsetAlert({ message: error.message, status: 'error', open: true });\n\t\t}\n\t};\n\n\tconst onUpdate = (row) => {\n\t\tif (!row) {\n\t\t\tsetToUpdate('');\n\t\t\tsetValues({ nombre: '', hex: '' });\n\t\t\treturn;\n\t\t}\n\t\tsetToUpdate(row._id);\n\t\tsetValues({ nombre: row.nombre, hex: row.hex });\n\t};\n\n\treturn (\n\t\t<TableRow hover role=\"checkbox\" tabIndex={-1} selected={toUpdate === row._id ? true : false}>\n\t\t\t<TableCell className={classes.color}>\n\t\t\t\t<Box mr={1} width={30} height={25} bgcolor={row.hex} borderRadius=\"10%\" />\n\t\t\t\t<Typography>\n\t\t\t\t\t<b>{row.hex}</b>\n\t\t\t\t</Typography>\n\t\t\t</TableCell>\n\t\t\t<TableCell>\n\t\t\t\t<Typography>\n\t\t\t\t\t<b>{row.nombre}</b>\n\t\t\t\t</Typography>\n\t\t\t</TableCell>\n\t\t\t{sesion.accesos.catalogos.colores.editar === false ? (null) : (\n\t\t\t\t<TableCell padding=\"checkbox\">\n\t\t\t\t\t{toUpdate === row._id ? (\n\t\t\t\t\t\t<IconButton onClick={() => onUpdate()}>\n\t\t\t\t\t\t\t<Close />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<IconButton onClick={() => onUpdate(row)}>\n\t\t\t\t\t\t\t<Edit />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t)}\n\t\t\t\t</TableCell>\n\t\t\t)}\n\t\t\t{sesion.accesos.catalogos.colores.eliminar === false ? (null) : (\n\t\t\t\t<TableCell padding=\"checkbox\">\n\t\t\t\t\t<Modal handleModal={handleModal} openModal={openModal} handleDelete={handleDelete} />\n\t\t\t\t</TableCell>\n\t\t\t)}\n\t\t</TableRow>\n\t);\n};\n\nconst Modal = ({ handleModal, openModal, handleDelete }) => {\n\treturn (\n\t\t<div>\n\t\t\t<IconButton color=\"secondary\" onClick={handleModal}>\n\t\t\t\t<Delete />\n\t\t\t</IconButton>\n\t\t\t<Dialog open={openModal} onClose={handleModal}>\n\t\t\t\t<DialogTitle>{'Seguro que quieres eliminar esto?'}</DialogTitle>\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Button onClick={handleModal} color=\"primary\">\n\t\t\t\t\t\tCancelar\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button color=\"secondary\" autoFocus variant=\"contained\" onClick={handleDelete}>\n\t\t\t\t\t\tEliminar\n\t\t\t\t\t</Button>\n\t\t\t\t</DialogActions>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n};\n","import React, { useState } from 'react';\nimport { Box, Button, Grid, CircularProgress, TextField, Typography } from '@material-ui/core';\nimport { Add } from '@material-ui/icons';\nimport TablaColores from './ListaColores';\nimport { SketchPicker } from 'react-color'; \nimport SnackBarMessages from '../../../../components/SnackBarMessages';\nimport ErrorPage from '../../../../components/ErrorPage';\nimport { cleanTypenames } from '../../../../config/reuserFunctions';\n\nimport { useQuery, useMutation } from '@apollo/client';\nimport { OBTENER_COLORES, CREAR_COLOR, ACTUALIZAR_COLOR } from '../../../../gql/Catalogos/colores';\n\nexport default function RegistroColores() {\n\tconst [ color, setColor ] = useState({});\n\tconst [ toUpdate, setToUpdate ] = useState('');\n\tconst [ values, setValues ] = useState({ nombre: '', hex: '' });\n\tconst [ alert, setAlert ] = useState({ message: '', status: '', open: false });\n\tconst sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\n\t/* Queries */\n\tconst { loading, data, error, refetch } = useQuery(OBTENER_COLORES, {\n\t\tvariables: { sucursal: sesion.sucursal._id }\n\t});\n\n\t/* Mutations */\n\tconst [ crearColor ] = useMutation(CREAR_COLOR);\n\tconst [ actualizarColor ] = useMutation(ACTUALIZAR_COLOR);\n\n\tconst handleChangeComplete = (color) => {\n\t\tsetColor(color);\n\t\tsetValues({\n\t\t\t...values,\n\t\t\thex: color.hex.toUpperCase()\n\t\t});\n\t};\n\n\tif (loading)\n\t\treturn (\n\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" height=\"30vh\">\n\t\t\t\t<CircularProgress />\n\t\t\t</Box>\n\t\t);\n\tif (error) {\n\t\treturn <ErrorPage error={error} />;\n\t}\n\n\tconst { obtenerColores } = data;\n\n\tconst GuardarDatosBD = async () => {\n\t\tif (!values.nombre || !values.hex) {\n\t\t\treturn;\n\t\t}\n\t\ttry {\n\t\t\tconst colores = values;\n\t\t\tlet msg;\n\t\t\tif (toUpdate) {\n\t\t\t\tif (sesion.accesos.catalogos.colores.editar === false) {\n\t\t\t\t\treturn setAlert({ message: 'Lo sentimos no tienes autorizacin para esta accin!', status: 'error', open: true });\n\t\t\t\t}else{\n\t\t\t\t\tconst colorActualizado = cleanTypenames(colores);\n\t\t\t\t\tconst resp = await actualizarColor({\n\t\t\t\t\t\t\tvariables: {\n\t\t\t\t\t\t\t\tinput: {\n\t\t\t\t\t\t\t\t\tnombre: colorActualizado.nombre,\n\t\t\t\t\t\t\t\t\thex: colorActualizado.hex\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tid: toUpdate\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\tmsg = resp.data.actualizarColor.message\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (sesion.accesos.catalogos.colores.agregar === false) {\n\t\t\t\t\treturn setAlert({ message: 'Lo sentimos no tienes autorizacin para esta accin!', status: 'error', open: true });\n\t\t\t\t}else{\n\t\t\t\t\t\tawait crearColor({\n\t\t\t\t\t\tvariables: {\n\t\t\t\t\t\t\tinput: {\n\t\t\t\t\t\t\t\tnombre: colores.nombre,\n\t\t\t\t\t\t\t\thex: colores.hex,\n\t\t\t\t\t\t\t\tempresa: sesion.empresa._id,\n\t\t\t\t\t\t\t\tsucursal: sesion.sucursal._id\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\tmsg = 'Listo!. Color creado.'\n\t\t\t\t}\n\t\t\t}\n\t\t\trefetch();\n\t\t\tsetValues({ nombre: '', hex: '' });\n\t\t\tsetToUpdate('');\n\t\t\n\t\t\tsetAlert({ message: msg, status: 'success', open: true });\n\t\t} catch (error) {\n\t\t\tsetAlert({ message: error.message, status: 'error', open: true });\n\t\t\t\n\t\t}\n\t};\n\t\n\n\treturn (\n\t\t<Box display=\"flex\" justifyContent=\"center\">\n\t\t\t<SnackBarMessages alert={alert} setAlert={setAlert} />\n\t\t\t<Grid container spacing={2}>\n\t\t\t\t<Grid item md={4}>\n\t\t\t\t\t<SketchPicker color={color} onChangeComplete={handleChangeComplete} />\n\t\t\t\t\t<Box mt={2}>\n\t\t\t\t\t\t<Typography>Color seleccionado:</Typography>\n\t\t\t\t\t\t{!values.hex ? (\n\t\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" width={220}>\n\t\t\t\t\t\t\t\t<Typography color=\"secondary\">NINGUNO</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<Box bgcolor={values.hex} height={30} width={220} />\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box my={2} width=\"75%\">\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tlabel=\"Nombre del color\"\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\tvalue={values.nombre}\n\t\t\t\t\t\t\tonChange={(e) => setValues({ ...values, nombre: e.target.value.toUpperCase() })}\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Box my={1} />\n\t\t\t\t\t\t<Button color=\"primary\" variant=\"contained\" size=\"large\" fullWidth onClick={GuardarDatosBD}>\n\t\t\t\t\t\t\t<Add />Guardar\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Box>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item md={7}>\n\t\t\t\t\t<TablaColores\n\t\t\t\t\t\tdatos={obtenerColores}\n\t\t\t\t\t\ttoUpdate={toUpdate}\n\t\t\t\t\t\tsetToUpdate={setToUpdate}\n\t\t\t\t\t\tsetValues={setValues}\n\t\t\t\t\t\trefetch={refetch}\n\t\t\t\t\t/>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t</Box>\n\t);\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport CloseIcon from '@material-ui/icons/Close';\nimport Slide from '@material-ui/core/Slide';\nimport { Box, Container } from '@material-ui/core';\nimport RegistroColores from './RegistroColores';\n\nconst useStyles = makeStyles((theme) => ({\n\tappBar: {\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n\ticon: {\n\t\twidth: 100\n\t}\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function Colores() {\n\tconst classes = useStyles();\n\tconst [ open, setOpen ] = React.useState(false);\n\n\tconst handleClickOpen = () => {\n\t\tsetOpen(true);\n\t};\n\n\tconst handleClose = () => {\n\t\tsetOpen(false);\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<Button fullWidth onClick={handleClickOpen}>\n\t\t\t\t<Box display=\"flex\" flexDirection=\"column\">\n\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t<img src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/colores.svg' alt=\"icono numero calzado\" className={classes.icon} />\n\t\t\t\t\t</Box>\n\t\t\t\t\tColores\n\t\t\t\t</Box>\n\t\t\t</Button>\n\t\t\t<Dialog fullScreen open={open} onClose={handleClose} TransitionComponent={Transition}>\n\t\t\t\t<AppBar className={classes.appBar}>\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t<Typography variant=\"h6\" className={classes.title}>\n\t\t\t\t\t\t\tColores\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Box m={1}>\n\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"secondary\" onClick={handleClose} size=\"large\">\n\t\t\t\t\t\t\t\t<CloseIcon style={{fontSize: 30}} />\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</AppBar>\n\t\t\t\t<Box mt={4}>\n\t\t\t\t\t<Container maxWidth=\"md\">\n\t\t\t\t\t\t<RegistroColores />\n\t\t\t\t\t</Container>\n\t\t\t\t</Box>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n}\n","import React, { useState, useEffect } from 'react';\nimport { \n    Paper, \n    makeStyles, \n    Table, \n    TableBody, \n    TableCell, \n    TableContainer, \n    TableHead, \n    TableRow,\n\tIconButton,\n\tTablePagination,\n\tDialog,\n\tDialogTitle,\n\tDialogActions,\n\tButton\n} from '@material-ui/core/';\nimport { Delete, Edit, Close } from '@material-ui/icons';\nimport { useQuery } from '@apollo/client';\nimport { useMutation } from '@apollo/client';\nimport { OBTENER_MARCAS, ELIMINAR_MARCAS } from '../../../../gql/Catalogos/marcas';\nimport SnackBarMessages from '../../../../components/SnackBarMessages';\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n\t\twidth: '100%'\n\t},\n\tpaper: {\n\t\twidth: '100%',\n\t\tmarginBottom: theme.spacing(2)\n\t}\n}));\n\nexport default function ListaMarcas({updateData, toUpdate, setToUpdate, setData}) {\n\n    const classes = useStyles();\n    const [ page, setPage ] = useState(0);\n\tconst [ rowsPerPage, setRowsPerPage ] = useState(8);\n\tconst [ alert, setAlert ] = useState({\n\t\tstatus: '',\n\t\tmessage: '',\n\t\topen: false\n\t});\n\tconst sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\tlet obtenerMarcas = [];\n\t\n\n    const { data, refetch } = useQuery(OBTENER_MARCAS,{\n\t\tvariables: {\n\t\t\tempresa: sesion.empresa._id,\n\t\t\tsucursal: sesion.sucursal._id\n\t\t}\n\t});\t\n\n\tuseEffect(() => {\n\t\trefetch();\n\t}, [refetch, updateData])\n\n    if(data){\n\t\tobtenerMarcas = data.obtenerMarcas\n\t}\n\n    const handleChangePage = (event, newPage) => {\n\t\tsetPage(newPage);\n\t};\n\n\tconst handleChangeRowsPerPage = (event) => {\n\t\tsetRowsPerPage(parseInt(event.target.value, 10));\n\t\tsetPage(0);\n\t};\n\n\n    return (\n        <div className={classes.root}>\n\t\t\t<SnackBarMessages alert={alert} setAlert={setAlert} />\n\t\t\t<Paper className={classes.paper}>\n\t\t\t\t<TableContainer>\n\t\t\t\t\t<Table\n\t\t\t\t\t\tclassName={classes.table}\n\t\t\t\t\t\taria-labelledby=\"tableTitle\"\n\t\t\t\t\t\tsize=\"medium\"\n\t\t\t\t\t\taria-label=\"enhanced table\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t<TableCell>Marca</TableCell>\n\t\t\t\t\t\t\t\t{sesion.accesos.catalogos.marcas.editar === false ? (null):(\n\t\t\t\t\t\t\t\t\t<TableCell padding=\"default\">Editar</TableCell>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t{sesion.accesos.catalogos.marcas.eliminar === false ? (null):(\n\t\t\t\t\t\t\t\t\t<TableCell padding=\"default\">Eliminar</TableCell>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t</TableHead>\n\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\tobtenerMarcas\n\t\t\t\t\t\t\t\t?.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\n\t\t\t\t\t\t\t\t?.map((row, index) => {\n\t\t\t\t\t\t\t\t\treturn <RowsRender key={index} setAlert={setAlert} refetch={refetch} datos={row} toUpdate={toUpdate} setToUpdate={setToUpdate} setData={setData} />;\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t</Table>\n\t\t\t\t</TableContainer>\n\t\t\t\t<TablePagination\n\t\t\t\t\trowsPerPageOptions={[]}\n\t\t\t\t\tcomponent=\"div\"\n\t\t\t\t\tcount={obtenerMarcas.length}\n\t\t\t\t\trowsPerPage={rowsPerPage}\n\t\t\t\t\tpage={page}\n\t\t\t\t\tonChangePage={handleChangePage}\n\t\t\t\t\tonChangeRowsPerPage={handleChangeRowsPerPage}\n\t\t\t\t/>\n\t\t\t</Paper>\n\t\t</div>\n    )\n}\n\nconst RowsRender = ({ datos, updateData, toUpdate, setAlert, setToUpdate, setData, refetch }) => {\n\tconst sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\tconst [ openModal, setOpenModal ] = useState(false);\n\tconst handleModal = () => setOpenModal(!openModal);\n\n\tconst [ eliminarMarca ] = useMutation(ELIMINAR_MARCAS);\n\n\tconst handleDelete = async () => {\n\t\ttry {\n\t\t\tconst resultado = await eliminarMarca({\n\t\t\t\tvariables: {\n\t\t\t\t\tid: datos._id,\n\t\t\t\t\tempresa: sesion.empresa._id,\n\t\t\t\t\tsucursal: sesion.sucursal._id\n\t\t\t\t}\n\t\t\t});\n\t\t\tif(resultado.data.eliminarMarca.message === 'false'){\n\t\t\t\tsetAlert({ message: 'Marca eliminada con exito', status: 'success', open: true });\n\t\t\t}else{\n\t\t\t\tsetAlert({ message: resultado.data.eliminarMarca.message, status: 'error', open: true });\n\t\t\t};\n\t\t\trefetch();\n\t\t\thandleModal();\n\t\t} catch (error) {\n\t\t\tsetAlert({ message: error.message, status: 'error', open: true });\n\t\t}\n\t};\n\n\tconst onUpdate = (dato) => {\n\t\tif(!dato){\n\t\t\tsetToUpdate('');\n\t\t\tsetData('');\n\t\t\trefetch();\n\t\t\treturn\n\t\t}\n\t\trefetch();\n\t\tsetToUpdate(dato._id);\n\t\tsetData(dato);\n\t};\n\n\treturn (\n\t\t<TableRow hover role=\"checkbox\" tabIndex={-1} selected={toUpdate === datos._id ? true : false}>\n\t\t\t<TableCell>{datos.nombre_marca}</TableCell>\n\t\t\t{sesion.accesos.catalogos.marcas.editar === false ? (null):(\n\t\t\t\t<TableCell padding=\"checkbox\">\n\t\t\t\t\t{toUpdate === datos._id ? (\n\t\t\t\t\t\t<IconButton onClick={() => onUpdate()}>\n\t\t\t\t\t\t\t<Close />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<IconButton onClick={() => onUpdate(datos)}>\n\t\t\t\t\t\t\t<Edit />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t)}\n\t\t\t\t</TableCell>\n\t\t\t)}\n\t\t\t{sesion.accesos.catalogos.marcas.eliminar === false ? (null):(\n\t\t\t\t<TableCell padding=\"checkbox\">\n\t\t\t\t\t<Modal handleModal={handleModal} openModal={openModal} handleDelete={handleDelete} />\n\t\t\t\t</TableCell>\n\t\t\t)}\n\t\t</TableRow>\n\t);\n};\n\n\n//ELIMINAR DATOS DE LA TABLA\nconst Modal = ({ handleModal, openModal, handleDelete }) => {\n\treturn (\n\t\t<div>\n\t\t\t<IconButton color=\"secondary\" onClick={handleModal}>\n\t\t\t\t<Delete />\n\t\t\t</IconButton>\n\t\t\t<Dialog open={openModal} onClose={handleModal}>\n\t\t\t\t<DialogTitle>{'Seguro que quieres eliminar esto?'}</DialogTitle>\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Button onClick={handleModal} color=\"primary\">\n\t\t\t\t\t\tCancelar\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button color=\"secondary\" autoFocus variant=\"contained\" onClick={handleDelete}>\n\t\t\t\t\t\tEliminar\n\t\t\t\t\t</Button>\n\t\t\t\t</DialogActions>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n};\n\n","import React, { createContext, useState } from 'react';\n\nexport const CreateMarcasContext = createContext();\n\nexport const MarcasProvider = ({ children }) => {\n\tconst [ datosMarcas, setDatosMarcas ] = useState({\n        nombre_marca: \"\"\n    });\n\n    const [ update, setUpdate ] = useState(false);\n    const [ error, setError ] = useState(false);\n    const [ openRegistro, setOpenRegistro ] = useState(false);\n\n\treturn (\n\t\t<CreateMarcasContext.Provider value={\n            { \n                datosMarcas, \n                setDatosMarcas,\n                update,\n                setUpdate,\n                error,\n                setError,\n                openRegistro,\n                setOpenRegistro\n            }\n        }>\n\t\t\t{children}\n\t\t</CreateMarcasContext.Provider>\n\t);\n};\n","import React, { useState, useContext } from 'react';\nimport {\n    Button,\n    Box,\n    TextField\n} from '@material-ui/core';\nimport ListaMarcas from './ListaMarcas';\nimport SnackBarMessages from '../../../../components/SnackBarMessages';\nimport { Add } from '@material-ui/icons';\nimport { /* OBTENER_MARCAS, */ REGISTRAR_MARCAS, ACTUALIZAR_MARCAS} from '../../../../gql/Catalogos/marcas';\nimport { useMutation } from '@apollo/client';\nimport { CreateMarcasContext } from '../../../../context/Catalogos/Marcas';\nimport { cleanTypenames } from '../../../../config/reuserFunctions';\n\n\nexport default function VistaMarcas() {\n\n    const [ alert, setAlert ] = useState({ message: '', status: '', open: false });\n    const [ data, setData ] = useState({\n        nombre_marca: \"\"\n    });\n    const [ toUpdate, setToUpdate ] = useState('');\n    const [updateData, setUpdateData] = useState(false);\n    const { /* datosMarcas, setDatosMarcas, */ error, setError } = useContext(CreateMarcasContext);\n\n    const sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\n    const [ CrearMarca ] = useMutation(REGISTRAR_MARCAS);\n\tconst [ actualizarMarca ] = useMutation(ACTUALIZAR_MARCAS);\n\n    const obtenerDatos = (e) => {\n        setData({\n            ...data,\n            [e.target.name]: e.target.value\n        })\n    }\n\n    const saveData = async () => {\n        try {\n            if(!data.nombre_marca){\n                setError(true);\n\t\t\t    return;\n            }else{\n                if(toUpdate){\n                    if (sesion.accesos.catalogos.marcas.editar === false) {\n                        return setAlert({ message: 'Lo sentimos no tienes autorizacin para esta accin !', status: 'error', open: true });\n                    }else{\n                        const input = cleanTypenames(data);\n                        await actualizarMarca({\n                            variables: {\n                                input: {\n                                    nombre_marca: input.nombre_marca,\n                                },\n                                id: toUpdate\n                            }\n                        });\n                        setData(\"\");\n                    }\n                }else{\n                    if (sesion.accesos.catalogos.marcas.agregar === false) {\n                        return setAlert({ message: 'Lo sentimos no tienes autorizacin para esta accin !', status: 'error', open: true });\n                    }else{\n                        const input = data;\n                        await CrearMarca({\n                            variables: {\n                                input,\n                                empresa: sesion.empresa._id,\n                                sucursal: sesion.sucursal._id\n                            }\n                        });\n                        setData(\"\");\n                    }\n                }\n                setToUpdate('');\n                setUpdateData(!updateData);\n                setAlert({ message: 'Listo!', status: 'success', open: true });\n                setError(false);\n            }\n        } catch (error) {\n        }\n    }\n\n    const pressEnter = (e) => {\n        if (e.key === 'Enter') saveData();\n\t};\n\n    return (\n        <div>\n            <SnackBarMessages alert={alert} setAlert={setAlert} />\n                <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" my={2}>\n                    <TextField\n                        id=\"outlined-error-helper-text\"\n                        label=\"Nombre departamento\"\n                        value={data.nombre_marca ? data.nombre_marca : \"\"}\n                        name=\"nombre_marca\"\n                        variant=\"outlined\"\n                        size=\"small\"\n                        fullWidth\n                        onChange={obtenerDatos}\n                        error={error}\n                        onKeyPress={pressEnter}\n                    />\n                    <Box ml={1} />\n                    <Button \n                        color=\"primary\" \n                        variant=\"contained\" \n                        size=\"large\" \n                        disableElevation \n                        onClick={saveData}\n                    >\n                        <Add />Guardar\n                    </Button>\n                </Box>\n            <ListaMarcas toUpdate={toUpdate} setToUpdate={setToUpdate} updateData={updateData} setData={setData} />\n        </div>\n    )\n}\n","import React from 'react';\nimport { \n    Button, \n    Box, \n    Dialog,\n    AppBar,\n    Toolbar,\n    Typography,\n    Container,\n    makeStyles,\n    Slide\n} from '@material-ui/core';\nimport { FcRating } from \"react-icons/fc\";\nimport CloseIcon from '@material-ui/icons/Close';\nimport VistaMarcas from './VistaMarcas';\nimport { MarcasProvider } from '../../../../context/Catalogos/Marcas';\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nconst useStyles = makeStyles((theme) => ({\n\tappBar: {\t\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n\ticon: {\n\t\tfontSize: 100\n\t}\n}));\n\nexport default function Marcas() {\n    const classes = useStyles();\n    const [ open, setOpen ] = React.useState(false);\n\n    const handleClickOpen = () => {\n\t\tsetOpen(true);\n\t};\n\n\tconst handleClose = () => {\n\t\tsetOpen(false);\n\t};\n\n    return (\n        <div>\n\t\t\t<MarcasProvider>\n\t\t\t\t<Button fullWidth onClick={handleClickOpen}>\n\t\t\t\t\t<Box display=\"flex\" flexDirection=\"column\">\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t<FcRating className={classes.icon} />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\tMarcas\n\t\t\t\t\t</Box>\n\t\t\t\t</Button>\n\t\t\t\t<Dialog fullScreen open={open} onClose={handleClose} TransitionComponent={Transition}>\n\t\t\t\t\t<AppBar className={classes.appBar}>\n\t\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t\t<Typography variant=\"h6\" className={classes.title}>\n\t\t\t\t\t\t\t\tMarcas\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Box m={1}>\n\t\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"secondary\" onClick={handleClose} size=\"large\">\n\t\t\t\t\t\t\t\t\t<CloseIcon style={{fontSize: 30}} />\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Toolbar>\n\t\t\t\t\t</AppBar>\n\t\t\t\t\t<Box mt={4}>\n\t\t\t\t\t\t<Container maxWidth=\"md\">\n\t\t\t\t\t\t\t<VistaMarcas />\n\t\t\t\t\t\t</Container>\n\t\t\t\t\t</Box>\n\t\t\t\t</Dialog>\n\t\t\t</MarcasProvider>\n\t\t</div>\n    )\n}\n","import React, { useState, Fragment } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Accordion, AccordionSummary, AccordionDetails, fade } from '@material-ui/core';\nimport { Box, Button, Divider, IconButton, TextField, CircularProgress, Typography } from '@material-ui/core';\nimport { Add, Delete, Edit, ExpandMore, Close } from '@material-ui/icons';\nimport ErrorPage from '../../../../components/ErrorPage';\nimport SnackBarMessages from '../../../../components/SnackBarMessages';\nimport BackdropComponent from '../../../../components/Layouts/BackDrop';\n\nimport { useQuery, useMutation } from '@apollo/client';\nimport {\n\tOBTENER_CUENTAS,\n\tCREAR_CUENTA,\n\tCREAR_SUBCUENTA,\n\tACTUALIZAR_SUBCUENTA,\n\tACTUALIZAR_CUENTA,\n    ELIMINAR_CUENTA,\n    ELIMINAR_SUBCUENTA\n} from '../../../../gql/Catalogos/centroCostos';\nimport { cleanTypenames } from '../../../../config/reuserFunctions';\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n\t\twidth: '100%'\n\t},\n\tflexGrow: {\n\t\tflexGrow: 1\n\t},\n\tselected: {\n\t\tbackground: fade(theme.palette.secondary.main, 0.1)\n\t}\n}));\n\nexport default function RegistroCategorias() {\n\tconst classes = useStyles();\n\tconst sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\tconst [ cuenta, setCuenta ] = useState('');\n\tconst [ toUpdateID, setToUpdateID ] = useState('');\n\tconst [ loadingBackDrop, setLoadingBackDrop ] = useState(false);\n\tconst [ alert, setAlert ] = useState({ message: '', status: '', open: false });\n\n\t/* Queries */\n\tconst { loading, data, error, refetch } = useQuery(OBTENER_CUENTAS, {\n\t\tvariables: { empresa: sesion.empresa._id, sucursal: sesion.sucursal._id }\n\t});\n\t/*  Categorias Mutations */\n\tconst [ crearCuenta ] = useMutation(CREAR_CUENTA);\n\tconst [ actualizarCuenta ] = useMutation(ACTUALIZAR_CUENTA);\n   \n  \n\n\tif (loading)\n\t\treturn (\n\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" height=\"30vh\">\n\t\t\t\t<CircularProgress />\n\t\t\t</Box>\n\t\t);\n\tif (error) {\n\t\treturn <ErrorPage error={error} />;\n\t}\n\n\tconst { obtenerCuentas } = data;\n\tconst render_cuentas = obtenerCuentas.map((cuenta, index) => (\n\t\t<RenderCuentas\n\t\t\tkey={index}\n\t\t\tcuenta={cuenta}\n\t\t\tsetToUpdateID={setToUpdateID}\n\t\t\tsetCuenta={setCuenta}\n\t\t\trefetch={refetch}\n\t\t\ttoUpdateID={toUpdateID}\n\t\t/>\n\t));\n\n\tconst obtenerDatos = (e) => {\n\t\tsetCuenta(e.target.value);\n\t};\n    \n\tconst guardarCuenta = async () => {\n\t\tif (!cuenta) return;\n\t\tsetLoadingBackDrop(true);\n\t\ttry {\n\t\t\tif (!toUpdateID) {\n\t\t\t\tif (sesion.accesos.catalogos.centro_costos.agregar === false) {\n\t\t\t\t\tsetLoadingBackDrop(false);\n\t\t\t\t\treturn setAlert({ message: 'Lo sentimos no tienes autorizacin para esta accin!', status: 'error', open: true });\n\t\t\t\t}else{\n\t\t\t\t\tawait crearCuenta({\n\t\t\t\t\t\tvariables: {\n\t\t\t\t\t\t\tinput: {\n\t\t\t\t\t\t\t\tcuenta,\n\t\t\t\t\t\t\t\tempresa: sesion.empresa._id,\n\t\t\t\t\t\t\t\tsucursal: sesion.sucursal._id\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (sesion.accesos.catalogos.centro_costos.editar === false) {\n\t\t\t\t\tsetLoadingBackDrop(false);\n\t\t\t\t\treturn setAlert({ message: 'Lo sentimos no tienes autorizacin para esta accin!', status: 'error', open: true });\n\t\t\t\t}else{\n\t\t\t\t\tconst cuentaActualizada = cleanTypenames(cuenta);\n\t\t\t\t\tawait actualizarCuenta({\n\t\t\t\t\t\tvariables: {\n\t\t\t\t\t\t\tinput: {\n\t\t\t\t\t\t\t\tcuenta: cuentaActualizada\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tidCuenta: toUpdateID\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t\trefetch();\n\t\t\tsetAlert({ message: 'Listo!', status: 'success', open: true });\n\t\t\tsetLoadingBackDrop(false);\n\t\t\tsetCuenta('');\n\t\t\tsetToUpdateID('');\n\t\t} catch (error) {\n\t\t\tsetAlert({ message: 'Hubo un error', status: 'error', open: true });\n\t\t\tsetLoadingBackDrop(false);\n\t\t}\n\t};\n\n    \n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<SnackBarMessages alert={alert} setAlert={setAlert} />\n\t\t\t<BackdropComponent loading={loadingBackDrop} setLoading={setLoadingBackDrop} />\n\t\t\t<Typography variant=\"h6\">Cuentas</Typography>\n\t\t\t<Box display=\"flex\" alignItems=\"center\" mb={2}>\n\t\t\t\t<TextField value={cuenta} variant=\"outlined\" size=\"small\" onChange={obtenerDatos} />\n\t\t\t\t<Box ml={1} />\n\t\t\t\t<Button color=\"primary\" variant=\"contained\" size=\"large\" disableElevation onClick={guardarCuenta}>\n\t\t\t\t\t<Add />Guardar\n\t\t\t\t</Button>\n\t\t\t</Box>\n\t\t\t{render_cuentas}\n\t\t</div>\n\t);\n}\n\nconst RenderCuentas = ({ cuenta, setToUpdateID, setCuenta, refetch, toUpdateID }) => {\n\tconst sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\n\tconst classes = useStyles();\n\tconst [ subcuenta, setSubcuenta ] = useState('');\n\tconst [ loadingBackDrop, setLoadingBackDrop ] = useState(false);\n\tconst [ alert, setAlert ] = useState({ message: '', status: '', open: false });\n     const [ eliminarCuenta ] = useMutation(ELIMINAR_CUENTA);\n\t/*  Subcategorias Mutations */\n\tconst [ crearSubcuenta ] = useMutation(CREAR_SUBCUENTA);\n\tconst [ actualizarSubcuenta ] = useMutation(ACTUALIZAR_SUBCUENTA);\n   \n\t\n    const render_subcuentas = (cuenta.subcuentas !== null) ? cuenta.subcuentas.map((subcuenta) => (\n\t\t<RenderSubcuentas\n\t\t\tkey={subcuenta._id}\n            idCuenta={cuenta._id}\n\t\t\tsubcuenta={subcuenta}\n\t\t\tsetToUpdateID={setToUpdateID}\n\t\t\ttoUpdateID={toUpdateID}\n\t\t\tsetSubcuenta={setSubcuenta}\n            refetch={refetch}\n\t\t/>\n\t))\n\t: \n\t(<div/>)\n\t; \n\n\tconst obtenerCamposParaActualizar = (event) => {\n\t\tevent.stopPropagation();\n\t\tsetToUpdateID(cuenta._id);\n\t\tsetCuenta(cuenta.cuenta);\n\t};\n\n\tconst cancelarUpdate = (event) => {\n\t\tevent.stopPropagation();\n\t\tsetToUpdateID('');\n\t\tsetCuenta('');\n\t};\n\n\tconst obtenerDatos = (e) => {\n\t\tsetSubcuenta(e.target.value);\n\t};\n\n\tconst guardarSubcuenta = async () => {\n\t\tif (!subcuenta) return;\n\t\tsetLoadingBackDrop(true);\n\t\ttry {\n\t\t\tif (!toUpdateID) {\n\t\t\t\tif (sesion.accesos.catalogos.centro_costos.agregar === false) {\n\t\t\t\t\tsetLoadingBackDrop(false);\n\t\t\t\t\treturn setAlert({ message: 'Lo sentimos no tienes autorizacin para esta accin!', status: 'error', open: true });\n\t\t\t\t}else{\n\t\t\t\t\tawait crearSubcuenta({\n\t\t\t\t\t\tvariables: {\n\t\t\t\t\t\t\tinput: {\n\t\t\t\t\t\t\t\tsubcuenta\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tidCuenta: cuenta._id\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (sesion.accesos.catalogos.centro_costos.editar === false) {\n\t\t\t\t\tsetLoadingBackDrop(false);\n\t\t\t\t\treturn setAlert({ message: 'Lo sentimos no tienes autorizacin para esta accin!', status: 'error', open: true });\n\t\t\t\t}else{\n\t\t\t\t\tconst subCuentaActualizada = cleanTypenames(subcuenta)\n\t\t\t\t\tawait actualizarSubcuenta({\n\t\t\t\t\t\tvariables: {\n\t\t\t\t\t\t\tinput: { \n\t\t\t\t\t\t\t\tsubcuenta: subCuentaActualizada\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tidCuenta: cuenta._id,\n\t\t\t\t\t\t\tidSubcuenta: toUpdateID\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t\trefetch();\n\t\t\tsetAlert({ message: 'Listo!', status: 'success', open: true });\n\t\t\tsetLoadingBackDrop(false);\n\t\t\tsetSubcuenta('');\n\t\t\tsetToUpdateID('');\n\t\t} catch (error) {\n\t\t\tsetAlert({ message: 'Hubo un error', status: 'error', open: true });\n\t\t\tsetLoadingBackDrop(false);\n\t\t}\n\t};\n\n    const deleteCuenta = async (idCuenta) => {\n\t\tsetLoadingBackDrop(true);\n\t\ttry {\n            await eliminarCuenta({\n                variables: {\n                    id: idCuenta\n                }\n            });\n\t\t\trefetch();\n\t\t\tsetAlert({ message: 'Listo!', status: 'success', open: true });\n\t\t\tsetLoadingBackDrop(false);\n\t\t\tsetCuenta('');\n\t\t\tsetToUpdateID('');\n\t\t} catch (error) {\n\t\t\tsetAlert({ message: 'Hubo un error', status: 'error', open: true });\n\t\t\tsetLoadingBackDrop(false);\n\t\t}\n\t};\n    \n\n\treturn (\n\t\t<Fragment>\n\t\t\t<SnackBarMessages alert={alert} setAlert={setAlert} />\n\t\t\t<BackdropComponent loading={loadingBackDrop} setLoading={setLoadingBackDrop} />\n\t\t\t<Accordion>\n\t\t\t\t<AccordionSummary\n\t\t\t\t\tclassName={toUpdateID && toUpdateID === cuenta._id ? classes.selected : ''}\n\t\t\t\t\texpandIcon={<ExpandMore />}\n\t\t\t\t\taria-label=\"Expand\"\n\t\t\t\t\taria-controls={`cuenta-action-${cuenta._id}`}\n\t\t\t\t\tid={`cuenta-${cuenta._id}`}\n\t\t\t\t>\n\t\t\t\t\t<Box display=\"flex\" alignItems=\"center\" width=\"100%\">\n\t\t\t\t\t\t<Typography variant=\"h6\">{cuenta.cuenta}</Typography>\n\t\t\t\t\t\t<div className={classes.flexGrow} />\n\t\t\t\t\t\t{toUpdateID && toUpdateID === cuenta._id ? (\n\t\t\t\t\t\t\t<IconButton onClick={cancelarUpdate} onFocus={(event) => event.stopPropagation()}>\n\t\t\t\t\t\t\t\t<Close />\n\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\tsesion.accesos.catalogos.centro_costos.editar === false ? (null):(\n\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\tonClick={obtenerCamposParaActualizar}\n\t\t\t\t\t\t\t\t\tonFocus={(event) => event.stopPropagation()}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Edit />\n\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{sesion.accesos.catalogos.centro_costos.eliminar === false ? (null):(\n\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\tonClick={() => deleteCuenta(cuenta._id )}\n\t\t\t\t\t\t\t\tonFocus={(event) => event.stopPropagation()}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Delete />\n\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Box>\n\t\t\t\t</AccordionSummary>\n\t\t\t\t<AccordionDetails>\n\t\t\t\t\t<Box width=\"100%\">\n\t\t\t\t\t\t<Divider />\n\t\t\t\t\t\t<Box mb={2} />\n\t\t\t\t\t\t<Box ml={5} width=\"100%\" display=\"flex\">\n\t\t\t\t\t\t\t<Typography variant=\"h6\">Subcuenta</Typography>\n\t\t\t\t\t\t\t<Box mr={2} />\n\t\t\t\t\t\t\t<Box display=\"flex\" alignItems=\"center\" mb={2}>\n\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\tvalue={subcuenta}\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\tonChange={obtenerDatos}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<Box ml={1} />\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\tsize=\"large\"\n\t\t\t\t\t\t\t\t\tdisableElevation\n\t\t\t\t\t\t\t\t\tonClick={guardarSubcuenta}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Add />Guardar\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t{(cuenta.subcuentas !== null ) ?\n\t\t\t\t\t\t\t<Box ml={5}>{render_subcuentas}</Box>\n\t\t\t\t\t\t:\n\t\t\t\t\t\t<div/>\n\t\t\t\t\t\t}\t\n\t\t\t\t\t\t{/* <Box ml={5}>{render_subcostos}</Box> */}\n\t\t\t\t\t</Box>\n\t\t\t\t</AccordionDetails>\n\t\t\t</Accordion>\n\t\t</Fragment>\n\t);\n};\n\nconst RenderSubcuentas = ({ idCuenta,subcuenta, toUpdateID, setToUpdateID, setSubcuenta, refetch }) => {\n\tconst sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\n\tconst classes = useStyles();\n    const [ loadingBackDrop, setLoadingBackDrop ] = useState(false);\n\tconst [ alert, setAlert ] = useState({ message: '', status: '', open: false });\n    const [ eliminarSubcuenta ] = useMutation(ELIMINAR_SUBCUENTA);\n\t\n    const obtenerCamposParaActualizar = (event) => {\n\t\tevent.stopPropagation();\n\t\tsetToUpdateID(subcuenta._id);\n\t\tsetSubcuenta(subcuenta.subcuenta);\n\t};\n\n\tconst cancelarUpdate = (event) => {\n\t\tevent.stopPropagation();\n\t\tsetToUpdateID('');\n\t\tsetSubcuenta('');\n\t};\n    const deleteSubCuenta = async ( idSubCuenta) => {\n        \n\t\tsetLoadingBackDrop(true);\n\t\ttry {\n            await eliminarSubcuenta({\n                variables: {\n                    idCuenta: idCuenta,\n                    idSubcuenta: idSubCuenta\n                }\n            });\n\t\t\trefetch();\n\t\t\tsetAlert({ message: 'Listo!', status: 'success', open: true });\n\t\t\tsetLoadingBackDrop(false);\n\t\t\tsetSubcuenta('');\n\t\t\tsetToUpdateID('');\n\t\t} catch (error) {\n\t\t\tsetAlert({ message: 'Hubo un error', status: 'error', open: true });\n\t\t\tsetLoadingBackDrop(false);\n\t\t}\n\t};\n    \n\treturn (\n\t\t<Fragment>\n\t\t\t<SnackBarMessages alert={alert} setAlert={setAlert} />\n\t\t\t<BackdropComponent loading={loadingBackDrop} setLoading={setLoadingBackDrop} />\n\t\t\t<Box\n\t\t\t\tdisplay=\"flex\"\n\t\t\t\talignItems=\"center\"\n\t\t\t\tborderRadius={3}\n\t\t\t\tpx={1}\n\t\t\t\tclassName={toUpdateID && toUpdateID === subcuenta._id ? classes.selected : ''}\n\t\t\t>\n\t\t\t\t<Typography>{subcuenta.subcuenta}</Typography>\n\t\t\t\t<div className={classes.flexGrow} />\n\t\t\t\t{\n\t\t\t\t\tsesion.accesos.catalogos.centro_costos.editar === false ? (null):(\n\t\t\t\t\t\ttoUpdateID && toUpdateID === subcuenta._id ? (\n\t\t\t\t\t\t\t<IconButton onClick={cancelarUpdate} onFocus={(event) => event.stopPropagation()}>\n\t\t\t\t\t\t\t\t<Close />\n\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t<IconButton onClick={obtenerCamposParaActualizar} onFocus={(event) => event.stopPropagation()}>\n\t\t\t\t\t\t\t\t\t<Edit />\n\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t\t{sesion.accesos.catalogos.centro_costos.eliminar === false ? (null):(\n\t\t\t\t\t<IconButton onClick={() => deleteSubCuenta(subcuenta._id)} onFocus={(event) => event.stopPropagation()}>\n\t\t\t\t\t\t<Delete />\n\t\t\t\t\t</IconButton>\n\t\t\t\t)}\n\t\t\t</Box>\n\t\t\t<Divider />\n\t\t</Fragment>\n\t);\n};\n","import React from 'react'; \nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport CloseIcon from '@material-ui/icons/Close';\nimport Slide from '@material-ui/core/Slide';\nimport { Box, Container } from '@material-ui/core';\nimport RegistroCentroCostos from './RegistroCentroCostos';\n\nconst useStyles = makeStyles((theme) => ({\n\tappBar: {\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n\ticon: {\n\t\twidth: 100\n\t}\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function CentroCostos() {\n\tconst classes = useStyles();\n\tconst [ open, setOpen ] = React.useState(false);\n\n\tconst handleClickOpen = () => {\n\t\tsetOpen(true);\n\t};\n\n\tconst handleClose = () => {\n\t\tsetOpen(false);\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<Button fullWidth onClick={handleClickOpen}>\n\t\t\t\t<Box display=\"flex\" flexDirection=\"column\">\n\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t<img src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/costos.svg' alt=\"icono numero calzado\" className={classes.icon} />\n\t\t\t\t\t</Box>\n\t\t\t\t\tCentro de costos\n\t\t\t\t</Box>\n\t\t\t</Button>\n\t\t\t<Dialog fullScreen open={open} onClose={handleClose} TransitionComponent={Transition}>\n\t\t\t\t<AppBar className={classes.appBar}>\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t<Typography variant=\"h6\" className={classes.title}>\n\t\t\t\t\t\t\tCentro de costos\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Box m={1}>\n\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"secondary\" onClick={handleClose} size=\"large\">\n\t\t\t\t\t\t\t\t<CloseIcon style={{fontSize: 30}} />\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</AppBar>\n\t\t\t\t<Box mt={3}>\n\t\t\t\t\t<Container maxWidth=\"md\">\n\t\t\t\t\t\t<RegistroCentroCostos />\n\t\t\t\t\t</Container>\n\t\t\t\t</Box>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n}\n","import { gql } from '@apollo/client';\n\nexport const OBTENER_CONCEPTOS_ALMACEN = gql`\n    query ObtenerConceptosAlmacen($empresa: ID!, $sucursal: ID!){\n        obtenerConceptosAlmacen(empresa: $empresa, sucursal: $sucursal){\n                _id\n            nombre_concepto\n            destino\n            origen\n            editable\n            empresa{\n                _id\n                nombre_empresa\n            }\n                sucursal{\n                _id\n                nombre_sucursal\n            }\n        }\n    }\n`;\n\nexport const REGISTRAR_CONCEPTO_ALMACEN = gql`\n    mutation CrearConceptoAlmacen($input: ConceptoAlmacenInput, $empresa: ID!, $sucursal: ID!, $usuario: ID!){\n        crearConceptoAlmacen(input:$input,empresa:$empresa,sucursal:$sucursal, usuario:$usuario){\n            message\n        }\n    }\n`;\n\nexport const ACTUALIZAR_CONCEPTO_ALMACEN = gql`\n    mutation ActualizarConceptoAlmacen($input: ConceptoAlmacenInput, $id: ID!){\n        actualizarConceptoAlmacen(input: $input, id: $id){\n            message\n        }\n    }\n`;\n\nexport const ELIMINAR_CONCEPTO_ALMACEN = gql`\n    mutation EliminarConceptoAlmacen($id: ID!){\n        eliminarConceptoAlmacen(id: $id){\n            message\n        }\n    }\n`;","import React, { useState, useEffect } from 'react';\nimport { \n\tBox,\n\tCircularProgress,\n\tTable,\n\tTableBody,\n\tTableCell,\n\tTableContainer,\n\tTableHead,\n\tTablePagination,\n\tTableRow,\n\tPaper,\n\tmakeStyles,\n\tDialog,\n\tDialogTitle,\n\tDialogActions,\n\tButton\n} from '@material-ui/core';\n\nimport { IconButton } from '@material-ui/core';\nimport { Delete, Edit } from '@material-ui/icons';\n\nimport { useQuery, useMutation } from '@apollo/client';\nimport { OBTENER_CONCEPTOS_ALMACEN, ELIMINAR_CONCEPTO_ALMACEN } from '../../../../gql/Catalogos/conceptosAlmacen';\nimport ErrorPage from '../../../../components/ErrorPage';\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n\t\twidth: '100%'\n\t},\n\tpaper: {\n\t\twidth: '100%',\n\t\tmarginBottom: theme.spacing(2)\n\t}\n}));\n\nexport default function TablaConceptos({setData, setIdConcepto, idConcepto, setAccion, updateData, setAlert}) {\n\tconst classes = useStyles();\n\tconst [ page, setPage ] = useState(0);\n\tconst [ rowsPerPage, setRowsPerPage ] = useState(10);\n\tconst sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\tconst [ openModal, setOpenModal ] = useState(false);\n\tconst handleModal = () => setOpenModal(!openModal);\n\n\tconst handleChangePage = (event, newPage) => {\n\t\tsetPage(newPage);\n\t};\n\tlet obtenerConcepto= [];\n\n\tconst { loading, data, error, refetch } = useQuery(OBTENER_CONCEPTOS_ALMACEN,{\n\t\tvariables: {\n\t\t\tempresa: sesion.empresa._id,\n\t\t\tsucursal: sesion.sucursal._id\n\t\t}\n\t});\n\tconst [ EliminarConceptoAlmacen ] = useMutation(ELIMINAR_CONCEPTO_ALMACEN);\n\n\tuseEffect(\n\t\t() => {\n\t\t\trefetch();\n\t\t},\n\t\t[ updateData, refetch ]\n\t); \n\n\tif(data){\n\t\tobtenerConcepto = data.obtenerConceptosAlmacen;\n\t}\n\n\tconst handleChangeRowsPerPage = (event) => {\n\t\tsetRowsPerPage(parseInt(event.target.value, 10));\n\t\tsetPage(0);\n\t};\n\n\tconst handleDelete = async () => {\n\t\ttry {\n\t\t\tawait EliminarConceptoAlmacen({\n\t\t\t\tvariables: {\n\t\t\t\t\tid: idConcepto\n\t\t\t\t}\n\t\t\t});\n\t\t\trefetch();\n\t\t\tsetAlert({ message: 'Listo!', status: 'success', open: true });\n\t\t\thandleModal();\n\t\t\tsetIdConcepto(\"\");\n\t\t} catch (error) {\n\t\t\tsetAlert({ message: error.message, status: 'error', open: true });\n\t\t}\n\t};\n\n\tif (error) {\n\t\treturn <ErrorPage error={error} />;\n\t}\n\n\tif (loading){\n\t\treturn (\n\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" height=\"30vh\">\n\t\t\t\t<CircularProgress />\n\t\t\t</Box>\n\t\t);\n\t}\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Paper className={classes.paper}>\n\t\t\t\t<TableContainer>\n\t\t\t\t\t<Table\n\t\t\t\t\t\tclassName={classes.table}\n\t\t\t\t\t\taria-labelledby=\"tableTitle\"\n\t\t\t\t\t\tsize=\"medium\"\n\t\t\t\t\t\taria-label=\"enhanced table\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t<TableCell>Concepto almacn</TableCell>\n                                <TableCell padding=\"default\">Origen</TableCell>\n\t\t\t\t\t\t\t\t<TableCell padding=\"default\">Destino</TableCell>\n\t\t\t\t\t\t\t\t{sesion.accesos.catalogos.conceptos_almacen.editar === false ? (null):(\n\t\t\t\t\t\t\t\t\t<TableCell padding=\"default\">Editar</TableCell>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t{sesion.accesos.catalogos.conceptos_almacen.eliminar === false ? (null):(\n\t\t\t\t\t\t\t\t\t<TableCell padding=\"default\">Eliminar</TableCell>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t</TableHead>\n\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t{obtenerConcepto?.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)?.map((row, index) => {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<TableRow hover role=\"checkbox\" tabIndex={-1} key={row._id}>\n\t\t\t\t\t\t\t\t\t\t<TableCell>{row.nombre_concepto}</TableCell>\n                                        <TableCell>{row.origen}</TableCell>\n\t\t\t\t\t\t\t\t\t\t<TableCell>{row.destino}</TableCell>\n\t\t\t\t\t\t\t\t\t\t{sesion.accesos.catalogos.conceptos_almacen.editar === false ? (null):(\n\t\t\t\t\t\t\t\t\t\t\t<TableCell padding=\"checkbox\">\n\t\t\t\t\t\t\t\t\t\t\t\t<IconButton onClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetAccion(false)\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetIdConcepto(row._id)\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetData({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tnombre_concepto: row.nombre_concepto,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\torigen: row.origen,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdestino: row.destino\n\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={!row.editable}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Edit />\n\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t{sesion.accesos.catalogos.conceptos_almacen.eliminar === false ? (null):(\n\t\t\t\t\t\t\t\t\t\t\t<TableCell padding=\"checkbox\">\n\t\t\t\t\t\t\t\t\t\t\t\t<IconButton onClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetIdConcepto(row._id);\n\t\t\t\t\t\t\t\t\t\t\t\t\thandleModal();\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\tdisabled={!row.editable}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Delete />\n\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t</Table>\n\t\t\t\t</TableContainer>\n\t\t\t\t<TablePagination\n\t\t\t\t\trowsPerPageOptions={[]}\n\t\t\t\t\tcomponent=\"div\"\n\t\t\t\t\tcount={obtenerConcepto.length}\n\t\t\t\t\trowsPerPage={rowsPerPage}\n\t\t\t\t\tpage={page}\n\t\t\t\t\tonChangePage={handleChangePage}\n\t\t\t\t\tonChangeRowsPerPage={handleChangeRowsPerPage}\n\t\t\t\t/>\n\t\t\t</Paper>\n\t\t\t<Modal handleModal={handleModal} openModal={openModal} handleDelete={handleDelete} />\n\t\t</div>\n\t);\n}\n\nconst Modal = ({ handleModal, openModal, handleDelete }) => {\n\treturn (\n\t\t<div>\n\t\t\t<Dialog open={openModal} onClose={handleModal}>\n\t\t\t\t<DialogTitle>{'Eliminar este concepto afectar clculos de estados de resultado ,Seguro que quieres eliminar esto?'}</DialogTitle>\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Button onClick={handleModal} color=\"primary\">\n\t\t\t\t\t\tCancelar\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button color=\"secondary\" autoFocus variant=\"contained\" onClick={handleDelete}>\n\t\t\t\t\t\tEliminar\n\t\t\t\t\t</Button>\n\t\t\t\t</DialogActions>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n};\n","import React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport { Box, Button, TextField, FormControl, Input, Grid, InputLabel, Select, MenuItem, useTheme, Dialog, DialogTitle, DialogActions } from '@material-ui/core';\nimport { Add } from '@material-ui/icons';\nimport ListaConceptos from './ListaConceptos';\nimport { REGISTRAR_CONCEPTO_ALMACEN, ACTUALIZAR_CONCEPTO_ALMACEN } from '../../../../gql/Catalogos/conceptosAlmacen';\nimport { useMutation } from '@apollo/client';\nimport SnackBarMessages from '../../../../components/SnackBarMessages';\n\nconst useStyles = makeStyles((theme) =>({\n\troot: {\n\t\twidth: '100%'\n\t},\n\tflexGrow: {\n\t\tflexGrow: 1\n\t},\n     formControl: {\n        marginLeft: theme.spacing(5),\n        marginBottom:theme.spacing(3),\n        minWidth: 200,\n        maxWidth: 200,\n    },\n}));\nconst ITEM_HEIGHT = 200;\nconst ITEM_PADDING_TOP = 8;\nconst MenuProps = {\n  PaperProps: {\n    style: {\n      maxHeight: ITEM_HEIGHT * 4.5 + ITEM_PADDING_TOP,\n      width: 400,\n    },\n  },\n};\nconst tipos = [\n    'SUMA',\n    'RESTA',\n\t'N/A'\n];\n\nfunction getStyles(tipo, tipoName, theme) {\n\tconsole.log(tipoName)\n  return {\n    fontWeight:\n      tipoName.indexOf(tipo) === -1\n        ? theme.typography.fontWeightRegular\n        : theme.typography.fontWeightMedium,\n  };\n}\nexport default function RegistroServicios() {\n\tconst classes = useStyles();\n     const theme = useTheme();\n\tconst [updateData, setUpdateData] = useState(false);\n\tconst [data, setData] = useState({\n\t\tnombre_concepto: \"\",\n        destino: \"\",\n\t\torigen:\"\"\n\t\t\n\t});\n\tconst [ alert, setAlert ] = useState({ message: '', status: '', open: false });\n\tconst [error, setError] = useState(false);\n\tconst sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\tconst [accion, setAccion] = useState(true);\n\tconst [idConcepto, setIdConcepto] = useState('')\n    \n\tconst [ crearConceptoAlmacen ] = useMutation(REGISTRAR_CONCEPTO_ALMACEN);\n\tconst [ actualizarConceptoAlmacen ] = useMutation(ACTUALIZAR_CONCEPTO_ALMACEN);\n    const [ openModal, setOpenModal ] = useState(false);\n\tconst handleModal = () => setOpenModal(!openModal);\n\tconst handleChangeInput = (e) => {\n\t\tsetData({\n\t\t\t...data,\n\t\t\t[e.target.name]: e.target.value\n\t\t})\n\t}\n     const handleChangeDestino = (event) => {\n        setData({...data, destino:event.target.value});\n    };\n\tconst handleChangeOrigen = (event) => {\n        setData({...data, origen:event.target.value});\n    };\n\tconst handleSubmit = async () => {\n\t\ttry {\n           setOpenModal(false);\n\t\t\tif(!data.nombre_concepto || !data.origen || !data.destino ){\n\t\t\t\tsetError(true);\n\t\t\t    return;\n\t\t\t}else{\n\t\t\t\tconst input = data;\n\t\t\t\tif(accion){\n\t\t\t\t\tif (sesion.accesos.catalogos.conceptos_almacen.agregar === false) {\n\t\t\t\t\t\treturn setAlert({ message: 'Lo sentimos no tienes los permisos autorizados', status: 'error', open: true });\n\t\t\t\t\t}else{\n\t\t\t\t\t\tawait crearConceptoAlmacen({\n\t\t\t\t\t\t\tvariables: {\n\t\t\t\t\t\t\t\tinput,\n\t\t\t\t\t\t\t\tempresa: sesion.empresa._id,\n\t\t\t\t\t\t\t\tsucursal: sesion.sucursal._id,\n\t\t\t\t\t\t\t\tusuario: sesion._id\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tif (sesion.accesos.catalogos.conceptos_almacen.editar === false) {\n\t\t\t\t\t\treturn setAlert({ message: 'Lo sentimos no tienes los permisos autorizados', status: 'error', open: true });\n\t\t\t\t\t}else{\n\t\t\t\t\t\tawait actualizarConceptoAlmacen({\n\t\t\t\t\t\t\tvariables: {\n\t\t\t\t\t\t\t\tinput,\n\t\t\t\t\t\t\t\tid: idConcepto\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t\tsetAccion(true);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tsetAlert({ message: 'Listo!', status: 'success', open: true });\n\t\t\t\tsetData({nombre_concepto: \"\", origen: \"\", destino:\"\"});\n                setError(false);\n\t\t\t\tsetUpdateData(!updateData);\n\t\t\t\tsetIdConcepto(\"\");\n\t\t\t\t\n\t\t\t}\n\t\t} catch (error) {\n\t\t\t\n\t\t}\n\t}\n\n\tconst pressEnter = (e) => {\n\t\tif (e.key === 'Enter') handleSubmit();\n\t};\n\n    const Modal = ({ handleModal, openModal, handleSubmit }) => {\n\treturn (\n\t\t<div>\n\t\t\t<Dialog open={openModal} onClose={handleModal}>\n\t\t\t\t<DialogTitle>{'Editar este concepto afectar clculos de estados de resultado ,Seguro que quieres editar esto?'}</DialogTitle>\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Button onClick={handleModal} color=\"primary\">\n\t\t\t\t\t\tCancelar\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button color=\"secondary\" autoFocus variant=\"contained\" onClick={handleSubmit}>\n\t\t\t\t\t\tEditar\n\t\t\t\t\t</Button>\n\t\t\t\t</DialogActions>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n};\n\n\treturn (\n\t\t<div className={classes.root}>\n            <Box  flexDirection=\"row\" >\n                <Grid container>\n                    <SnackBarMessages alert={alert} setAlert={setAlert} />\n                   \n                    <Box display=\"flex\" alignItems=\"center\" mb={2}>\n                         <Typography>Concepto </Typography>\n                        <TextField\n                            error={error}\n                            id=\"outlined-error-helper-text\"\n                            variant=\"outlined\"\n                            size=\"small\"\n                            name=\"nombre_concepto\"\n\t\t\t\t\t\t\tstyle={{marginLeft:2}}\n                            value={data.nombre_concepto}\n                            onChange={handleChangeInput}\n                            onKeyPress={pressEnter}\n                        />\n                        \n                    </Box>\n\t\t\t\t\t<FormControl className={classes.formControl}>\n                        <InputLabel id=\"origen-label\">Origen</InputLabel>\n                        <Select\n                        error={error}\n                        labelId=\"origen-label\"\n                        id=\"origen-name\"\n                        value={data.origen}\n                        onChange={handleChangeOrigen}\n                        input={<Input />}\n                        MenuProps={MenuProps}\n                        >\n                        {tipos.map((tipo) => (\n                            <MenuItem key={tipo} value={tipo} style={getStyles(tipo, data.origen, theme)}>\n                            {tipo}\n                            </MenuItem>\n                        ))}\n                        </Select>\n                    </FormControl>\n                    <FormControl className={classes.formControl}>\n                        <InputLabel id=\"destino-label\">Destino</InputLabel>\n                        <Select\n                        error={error}\n                        labelId=\"destino-label\"\n                        id=\"destino-name\"\n                        value={data.destino}\n                        onChange={handleChangeDestino}\n                        input={<Input />}\n                        MenuProps={MenuProps}\n                        >\n                        {tipos.map((tipo) => (\n                            <MenuItem key={tipo} value={tipo} style={getStyles(tipo, data.destino, theme)}>\n                            {tipo}\n                            </MenuItem>\n                        ))}\n                        </Select>\n                    </FormControl>\n                    <Box display=\"flex\" alignItems=\"center\" mb={2}>\n                        <Box ml={5} />\n                        <Button color=\"primary\" variant=\"contained\" size=\"large\" onClick={ () =>(accion) ? handleSubmit(): setOpenModal(true)} disableElevation>\n                            <Add />Guardar\n                        </Button>\n                    </Box>\n                </Grid>\n            </Box>\n\t\t\t<ListaConceptos \n\t\t\t\tsetData={setData} \n\t\t\t\tidConcepto={idConcepto} \n\t\t\t\tsetIdConcepto={setIdConcepto} \n\t\t\t\tsetAccion={setAccion} \n\t\t\t\tupdateData={updateData}\n\t\t\t\tsetAlert={setAlert} \n\t\t\t/>\n            <Modal handleModal={handleModal} openModal={openModal} handleSubmit={handleSubmit} />\n\t\t</div>\n\t);\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport CloseIcon from '@material-ui/icons/Close';\nimport Slide from '@material-ui/core/Slide';\nimport { Box, Container } from '@material-ui/core';\nimport RegistroConcepto from './RegistroConcepto';\n\nconst useStyles = makeStyles((theme) => ({\n\tappBar: {\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n\ticon: {\n\t\twidth: 100\n\t}\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function ConceptosAlmacen() {\n\tconst classes = useStyles();\n\tconst [ open, setOpen ] = React.useState(false);\n\n\tconst handleClickOpen = () => {\n\t\tsetOpen(true);\n\t};\n\n\tconst handleClose = () => {\n\t\tsetOpen(false);\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<Button fullWidth onClick={handleClickOpen}>\n\t\t\t\t<Box display=\"flex\" flexDirection=\"column\">\n\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t<img src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/conceptosAlmacen.svg' alt=\"icono numero calzado\" className={classes.icon} />\n\t\t\t\t\t</Box>\n\t\t\t\t\tConceptos Almacn\n\t\t\t\t</Box>\n\t\t\t</Button>\n\t\t\t<Dialog fullScreen open={open} onClose={handleClose} TransitionComponent={Transition}>\n\t\t\t\t<AppBar className={classes.appBar}>\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t<Typography variant=\"h6\" className={classes.title}>\n\t\t\t\t\t\t\tConceptos almacn\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Box m={1}>\n\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"secondary\" onClick={handleClose} size=\"large\">\n\t\t\t\t\t\t\t\t<CloseIcon style={{fontSize: 30}} />\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</AppBar>\n\t\t\t\t<Box mt={4} alignSelf='center' >\n\t\t\t\t\t<Container >\n\t\t\t\t\t\t<RegistroConcepto />\n\t\t\t\t\t</Container>\n\t\t\t\t</Box>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n}\n","import React from 'react';\nimport { Box, Container, Grid } from '@material-ui/core';\nimport Cliente from './Cliente/Cliente';\nimport Productos from './Producto/';\nimport Tallas from './Tallas/Tallas';\n/* import UnidadMedida from './UnidadMedida/UnidadMedida'; */\nimport Contabilidad from './Contabilidad/Contabilidad';\nimport Proveedores from './Proveedores/Proovedores';\nimport Cajas from './Cajas/Cajas'; \nimport Usuarios from './Usuarios/Usuarios';\nimport Departamentos from './Departamentos/Departamentos';\nimport Categorias from './Categorias/Categorias';\nimport Colores from './Colores/Colores';\nimport Marcas from './Marcas/Marcas';\nimport CentroCostos from './CentroCostos/CentroCostos';\nimport ConceptosAlmacen from './ConceptosAlmacen/ConceptosAlmacen';\n\nexport default function Catalogos() {\n\n\tconst permisosUsuario = JSON.parse(localStorage.getItem('sesionCafi'));\n\t\n\treturn (\n\t\t<Container>\n\t\t\t<Grid container spacing={5} justify=\"center\">\n\t\t\t\t{permisosUsuario.accesos.catalogos.clientes.ver === false ? (null):(\n\t\t\t\t\t<Grid item lg={2}>\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t<Cliente />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t)}\n\t\t\t\t<Grid item lg={2}>\n\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t<Productos />\n\t\t\t\t\t</Box>\n\t\t\t\t</Grid>\n\t\t\t\t{permisosUsuario.accesos.catalogos.tallas_numeros.ver === false ? (null):(\n\t\t\t\t\t<Grid item lg={2}>\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t<Tallas />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t)}\n\t\t\t\t{/* <Grid item lg={2}>\n\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t<UnidadMedida />\n\t\t\t\t\t</Box>\n\t\t\t\t</Grid> */}\n\t\t\t\t{permisosUsuario.accesos.catalogos.contabilidad.ver === false ? (null):(\n\t\t\t\t\t<Grid item lg={2}>\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t<Contabilidad />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t)}\n\t\t\t\t{permisosUsuario.accesos.catalogos.provedores.ver === false ? (null):(\n\t\t\t\t\t<Grid item lg={2}>\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t<Proveedores />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t)}\n\t\t\t\t{permisosUsuario.accesos.catalogos.cajas.ver === false ? (null):(\n\t\t\t\t\t<Grid item lg={2}>\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t<Cajas />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t)}\n\t\t\t\t{permisosUsuario.accesos.catalogos.usuarios.ver === false ? (null):(\n\t\t\t\t\t<Grid item lg={2}>\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t<Usuarios />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t)}\n\t\t\t\t{permisosUsuario.accesos.catalogos.departamentos.ver === false ? (null):(\n\t\t\t\t\t<Grid item lg={2}>\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t<Departamentos />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t)}\n\t\t\t\t{permisosUsuario.accesos.catalogos.categorias.ver === false ? (null):(\n\t\t\t\t\t<Grid item lg={2}>\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t<Categorias />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t)}\n\t\t\t\t{permisosUsuario.accesos.catalogos.colores.ver === false ? (null):(\n\t\t\t\t\t<Grid item lg={2}>\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t<Colores />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t)}\n\t\t\t\t{permisosUsuario.accesos.catalogos.marcas.ver === false ? (null):(\n\t\t\t\t\t<Grid item lg={2}>\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t<Marcas />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t)}\n\t\t\t\t{permisosUsuario.accesos.catalogos.centro_costos.ver === false ? (null):(\n\t\t\t\t\t<Grid item lg={2}>\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t<CentroCostos />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t)}\n\t\t\t\t{permisosUsuario.accesos.catalogos.conceptos_almacen.ver === false ? (null):(\n\t\t\t\t\t<Grid item lg={2}>\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t<ConceptosAlmacen />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t)}\n\t\t\t</Grid>\n\t\t</Container>\n\t);\n}\n","import React, { createContext, useState } from \"react\";\n\nexport const TesoreriaCtx = createContext();\n\nexport const TesoreriaProvider = ({ children }) => {\n\n    const [alert, setAlert] = useState({ message: \"\", status: \"\", open: false });\n    const [cuentas, setCuentas] = useState([]);\n    const [cuenta, setCuenta] = useState([]);\n    const [reload, setReload] = useState(false);\n    \n    return (\n        <TesoreriaCtx.Provider\n            value={{\n                alert, \n                setAlert,\n                cuentas, \n                setCuentas,\n                reload, \n                setReload,\n                cuenta, \n                setCuenta\n            }}\n        >\n            {children}\n        </TesoreriaCtx.Provider>\n    );\n};\n","import { gql } from '@apollo/client';\n\nexport const OBTENER_SUCURSALES = gql`\n    query ObtenerSucursalesEmpresa($id: ID!){\n        obtenerSucursalesEmpresa(id: $id){\n            _id\n            nombre_sucursal\n            descripcion\n            usuario_sucursal\n            direccion{\n                calle\n                no_ext\n                no_int\n                codigo_postal\n                colonia\n                municipio\n                localidad\n                estado\n                pais\n            }\n            cuenta_sucursal {\n                dinero_actual\n            }         \n        }\n    }\n`\n\nexport const CREAR_MOVIMIENTO_CUENTA = gql`\n    mutation CrearMovimientoCuenta($input: CrearMovimientoCuentaInput, $empresa: ID!, $sucursal: ID!, $tipo: Boolean){\n        crearMovimientoCuenta(input: $input, empresa: $empresa, sucursal: $sucursal, tipo: $tipo){\n            message\n        }\n    }\n`;\n\nexport const OBTENER_HISTORIAL_CUENTAS = gql`\n    query ObtenerHistorialCuenta($empresa: ID!, $sucursal: ID!, $input: ObtenerHistorialCuenta, $tipo: Boolean){\n        obtenerHistorialCuenta(empresa: $empresa, sucursal: $sucursal, input: $input, tipo: $tipo){\n            tipo_movimiento\n            id_usuario\n            numero_caja\n            id_Caja\n            numero_usuario_creador\n            nombre_usuario_creador\n            horario_turno\n            concepto\n            comentarios\n            montos_en_caja { \n                monto_efectivo{\n                    monto \n                }\n            }\n            fecha_movimiento{\n                completa\n            }\n            empresa\n            sucursal             \n        }\n    }\n`;","import { Box, Button, Dialog, DialogActions,\n        DialogContent, IconButton, makeStyles, \n        MenuItem, Select, Slide, TextField, Typography \n} from '@material-ui/core';\nimport React, { Fragment, useState } from 'react';\nimport moment from 'moment';\n\nimport CompareArrowsIcon from '@material-ui/icons/CompareArrows';\n\nimport SnackBarMessages from '../../../../components/SnackBarMessages';\nimport { CREAR_MOVIMIENTO_CUENTA } from '../../../../gql/Empresa/sucursales';\nimport { useMutation } from '@apollo/client';\n\nconst useStyles = makeStyles((theme) => ({\n\tformInputFlex: {\n\t\tdisplay: 'flex',\n\t\t'& > *': {\n\t\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(1)}px`\n\t\t}\n\t},\n\tformInput: {\n\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(1)}px`\n\t},\n    formComboBox:{\n        height: '50%'\n    },\n    input: {\n        \"& input[type=number]\": {\n          \"-moz-appearance\": \"textfield\",\n        },\n        \"& input[type=number]::-webkit-outer-spin-button\": {\n          \"-webkit-appearance\": \"none\",\n          margin: 0,\n        },\n        \"& input[type=number]::-webkit-inner-spin-button\": {\n          \"-webkit-appearance\": \"none\",\n          margin: 0,\n        },\n    }\n}));\n\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function RetiroDeposito({cuenta, refetch, tipo}) {\n\n    const sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n    const turnoEnCurso = JSON.parse(localStorage.getItem('turnoEnCurso'));\n    const [ CrearMovimientoCuenta ] = useMutation(CREAR_MOVIMIENTO_CUENTA);\n\n    const classes = useStyles();\n    const [alert, setAlert] = useState({ message: \"\", status: \"\", open: false });\n    const [datosMovimiento, setDatosMovimiento] = useState([]);\n    const [open, setOpen] = useState(false);\n\n    const handleClickOpen =()=>{\n        setOpen(!open);\n    };\n\n    const onChangeDatos = (e) => {\n        setDatosMovimiento({...datosMovimiento, [e.target.name]: e.target.value })\n    };\n\n    const input ={\n        tipo_movimiento: datosMovimiento.tipo_movimiento === 'RETIRO' ? 'CUENTA-RETIRO' : 'CUENTA-DEPOSITO',\n        id_usuario: sesion._id,\n        rol_movimiento: tipo === true ? \"CUENTA-EMPRESA\" : \"CUENTA\",\n        numero_caja: turnoEnCurso ? parseInt(turnoEnCurso.numero_caja) : 0,\n        id_Caja: turnoEnCurso ? turnoEnCurso.id_caja : null,\n        numero_usuario_creador: sesion.numero_usuario.toString(),\n        nombre_usuario_creador: sesion.nombre,\n        horario_turno: turnoEnCurso ? turnoEnCurso.horario_turno : null,\n        concepto: datosMovimiento.concepto,\n        hora_moviento: {\n            hora: moment().format('hh'),\n            minutos: moment().format('mm'),\n            segundos: moment().format('ss'),\n            completa: moment().format('HH:mm:ss')\n        },\n        fecha_movimiento: {\n            year: moment().format('YYYY'),\n            mes: moment().format('MM'),\n            dia: moment().format('DD'),\n            no_semana_year: moment().week().toString(),\n            no_dia_year: moment().dayOfYear().toString(),\n            completa: moment().locale('es-mx').format()\n        },\n        montos_en_caja: {\n            monto_efectivo: {\n                monto: parseFloat(datosMovimiento.cantidad),\n                metodo_pago: \"01\"\n            },\n            monto_tarjeta_debito: {\n                monto: 0,\n                metodo_pago: \"28\"\n            },\n            monto_tarjeta_credito: {\n                monto: 0,\n                metodo_pago: \"04\"\n            },\n            monto_creditos: {\n                monto: 0,\n                metodo_pago: \"99\"\n            },\n            monto_monedero: {\n                monto: 0,\n                metodo_pago: \"05\"\n            },\n            monto_transferencia: {\n                monto: 0,\n                metodo_pago: \"03\"\n            },\n            monto_cheques: {\n                monto: 0,\n                metodo_pago: \"02\"\n            },\n            monto_vales_despensa: {\n                monto: 0,\n                metodo_pago: \"08\"\n            },\n        },\n        comentarios: datosMovimiento.comentarios,\n    };\n\n    const enviarDatos = async () => { \n        try {\n            if (!datosMovimiento.concepto || !datosMovimiento.tipo_movimiento || !datosMovimiento.cantidad ) {\n                setAlert({\n                    message: 'Por favor complete los datos',\n                    status: \"error\",\n                    open: true,\n                });\n                return null;\n            }\n            const movimiento = await CrearMovimientoCuenta({\n                variables: {\n                    input,\n                    empresa: sesion.empresa._id,\n                    sucursal: cuenta._id,\n                    tipo: tipo\n                }\n            });\n            refetch();\n            setDatosMovimiento([]); \n            handleClickOpen();\n            setAlert({\n                message: movimiento.data.crearMovimientoCuenta.message,\n                status: \"success\",\n                open: true,\n            });\n        } catch (error) {\n            setAlert({\n                message: error.message,\n                status: \"error\",\n                open: true,\n              });\n        }\n    }\n\n    return (\n        <Fragment>\n            <Box>\n                <IconButton\n                    color='primary'\n                    onClick={handleClickOpen}\n                    size=\"small\"\n                >\n                    <CompareArrowsIcon style={{fontSize: 35}} />\n                </IconButton>\n            </Box>\n            <SnackBarMessages alert={alert} setAlert={setAlert} />\n            <Dialog\n                open={open} \n\t\t\t\tTransitionComponent={Transition} \n\t\t\t\tmaxWidth=\"sm\"\n\t\t\t\tfullWidth\n            >\n                <DialogContent>\n                    <Box textAlign={'center'} p={1}>\n                        <Typography variant='h5'>\n                            Movimiento en Cuenta\n                        </Typography>\n                    </Box>\n                    <div className={classes.formInputFlex}>\n                        <Box width=\"100%\">\n                            <Typography>Usuario</Typography>\n                            <TextField\n                                fullWidth\n                                size=\"small\"\n                                name=\"usuario\"\n                                variant=\"outlined\"\n                                disabled={true}\n                                value={sesion?.nombre}\n                            />\n                        </Box>\n                        <Box width=\"100%\" >\n                            <Typography>Fecha y hora</Typography>\n                            <TextField\n                                fullWidth\n                                disabled={true}\n                                size=\"small\"\n                                value={moment().format('D MMMM YYYY, h:mm:ss')}\n                                name=\"fecha_movimiento\"\n                                variant=\"outlined\"\n\n                            />\n                        </Box>\n                    </div>\n                    <div className={classes.formInputFlex}>\n                        <Box width=\"100%\">\n                            <Typography>Movimiento a Realizar</Typography>\n                            <Select\n                                className={classes.formComboBox}    \n                                size=\"small\"\n                                variant=\"outlined\"\n                                name=\"tipo_movimiento\"\n                                onChange={onChangeDatos}\n                                fullWidth\n                            >\n                                <MenuItem value=''>Ninguno</MenuItem>\n                                <MenuItem value='DEPOSITO'>Deposito</MenuItem>\n                                <MenuItem value='RETIRO'>Retiro</MenuItem>\n                            </Select>\n                        </Box>\n                    </div>\n                    <div className={classes.formInputFlex}>\n                        <Box width=\"100%\">\n                            <Typography>Cantidad</Typography>\n                            <TextField\n                                className={classes.input}\n                                fullWidth\n                                onChange={onChangeDatos}\n                                size=\"small\"\n                                type='number'\n                                name=\"cantidad\"\n                                variant=\"outlined\"\n                            />\n                        </Box>\n                        <Box width=\"100%\">\n                            <Typography>Concepto</Typography>\n                            <TextField\n                                fullWidth\n                                onChange={onChangeDatos}\n                                size=\"small\"\n                                name=\"concepto\"\n                                variant=\"outlined\"\n                            />\n                        </Box>\n                    </div>\n                    <div className={classes.formInputFlex}>\n                        <Box width=\"100%\">\n                            <Typography>Comentarios</Typography>\n                            <TextField\n                                className={classes.input}\n                                fullWidth\n                                onChange={onChangeDatos}\n                                size=\"small\"\n                                multiline\n                                rows={2}\n                                type='number'\n                                name=\"monto_movimiento\"\n                                variant=\"outlined\"\n                            />\n                        </Box>\n                    </div>\n                </DialogContent>\n                <DialogActions>\n                    <Button\n                        color=\"primary\"\n                        variant='outlined'\n                        onClick={enviarDatos}\n                        size=\"large\"\n                    >\n                        Realizar\n                    </Button>\n                    <Button\n                        color=\"secondary\"\n                        variant='outlined'\n                        onClick={handleClickOpen}\n                        size=\"large\"\n                    >\n                        Cancelar\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        </Fragment>\n    )\n}\n","import React, { Fragment, useState, useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { Box, Button, CircularProgress, Dialog, DialogActions, \n        DialogContent,  MenuItem,  Select,  Slide, \n        TextField, Typography\n} from '@material-ui/core';\nimport VisibilityIcon from '@material-ui/icons/Visibility';\nimport moment from 'moment';\n\nimport { useQuery } from '@apollo/client';\nimport { OBTENER_HISTORIAL_CUENTAS } from '../../../../gql/Empresa/sucursales';\nimport { useDebounce } from 'use-debounce/lib';\nimport { formatoMexico } from '../../../../config/reuserFunctions';\n\nconst columns = [\n\t{ id: 'movimiento', label: 'Origen Movimiento', minWidth: 100 },\t\n    { id: 'fecha', label: 'Fecha', minWidth: 100 },\n\t{ id: 'name', label: 'Usuario', minWidth: 150 },\n\t{ id: 'cantidad', label: 'Cantidad', minWidth: 150 },\n\t{ id: 'concepto', label: 'Concepto', minWidth: 150 },\n\t{ id: 'tipo', label: 'Tipo Movimiento', minWidth: 100 }\n];\n\nconst useStyles  = makeStyles((theme) => ({\n\troot: {\n\t\twidth: '100%',\n        height: '50vh'\n\t},\n\tcontainer: {\n\t\tmaxHeight: '100%'\n\t},\n    appBar: {\t\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n    formComboBox:{\n        height: '50%'\n    },\n\trootBusqueda: {\n\t\tdisplay: 'flex',\n\t\tpaddingLeft: theme.spacing(2)\n\t},\n    formInputFlex: {\n\t\tdisplay: 'flex',\n\t\t'& > *': {\n\t\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(1)}px`\n\t\t}\n\t},\n\tformInput: {\n\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(1)}px`\n\t},\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function HistorialCuentas({cuenta, tipo}) {\n    const sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n    moment.locale('es');\n    const classes = useStyles();\n    const [open, setOpen] = useState(false);\n    const [datosFiltro, setDatosFiltro] = useState([]);\n    const [ value ] = useDebounce(datosFiltro, 500);\n\n\n    const handleClickOpen = () => {\n        setOpen(!open);\n        setDatosFiltro([]);\n        refetch();\n    };\n\n    const {  data, error, loading, refetch } = useQuery(OBTENER_HISTORIAL_CUENTAS, {\n\t\tvariables: {\n            input:{\n                fecha_inicio: datosFiltro.fecha_inicio ? datosFiltro.fecha_inicio : \"\",\n                fecha_fin: datosFiltro.fecha_fin ? datosFiltro.fecha_fin : \"\",\n                usuario: value.usuario ? value.usuario : \"\",\n                tipo_movimiento: datosFiltro.tipo_movimiento ? datosFiltro.tipo_movimiento : \"\"\n            },\n            empresa: sesion.empresa._id,\n            sucursal: cuenta._id,\n            tipo: tipo\n\t\t}\n\t});\t\n    \n    let historialCuenta = [];\n    if(data){\n        historialCuenta = data.obtenerHistorialCuenta;\n    };\n\n    const obtenerDatos = (e) => {\n        setDatosFiltro({...datosFiltro, [e.target.name]: e.target.value})\n    };\n\n    useEffect(() => {\n        refetch()\n    }, [refetch])\n\n\treturn (\n        <Fragment>\n            <Box>\n                <Button\n                    color='primary'\n                    onClick={handleClickOpen}\n                    size=\"small\"\n                    endIcon={<VisibilityIcon style={{fontSize: 35}}  />}\n                >\n                    Ver\n                </Button>\n            </Box>\n            <Dialog\n                open={open} \n\t\t\t\tTransitionComponent={Transition} \n\t\t\t\tmaxWidth=\"lg\"\n\t\t\t\tfullWidth\n            >\n                <Box m={1} display=\"flex\" justifyContent=\"flex-end\">\n\t\t\t\t\t<Button variant=\"contained\" color=\"secondary\" onClick={handleClickOpen} size=\"large\">\n\t\t\t\t\t\t<CloseIcon />\n\t\t\t\t\t</Button>\n\t\t\t\t</Box>\n                <DialogContent>\n                    <Box textAlign={'center'} p={1}>\n                        <Typography variant='h6'>\n                            Historial de cuenta\n                        </Typography>\n                    </Box>\n                    <Box>\n                        <div className={classes.formInputFlex}>\n                            <Box width=\"100%\">\n                                <Typography>Fecha inicio:</Typography>\n                                <TextField \n                                    fullWidth\n                                    size=\"small\"\n                                    type='date'\n                                    name=\"fecha_inicio\"\n                                    onChange={obtenerDatos}\n                                    variant=\"outlined\"\n                                />\n                            </Box>\n                            <Box width=\"100%\">\n                                <Typography>Fecha fin:</Typography>\n                                <TextField \n                                    fullWidth\n                                    size=\"small\"\n                                    type='date'\n                                    onChange={obtenerDatos}\n                                    name=\"fecha_fin\"\n                                    variant=\"outlined\"\n                                />\n                            </Box>\n                            <Box width=\"100%\">\n                                <Typography>Usuario:</Typography>\n                                <TextField \n                                    fullWidth\n                                    size=\"small\"\n                                    onChange={obtenerDatos}\n                                    name=\"usuario\"\n                                    variant=\"outlined\"\n                                />\n                            </Box>\n                            <Box width=\"100%\">\n                                <Typography>Tipo Movimiento:</Typography>\n                                <Select\n                                    className={classes.formComboBox}    \n                                    size=\"small\"\n                                    variant=\"outlined\"\n                                    name=\"tipo_movimiento\"\n                                    onChange={obtenerDatos}\n                                    fullWidth\n                                >\n                                    <MenuItem value='TODOS'>Ninguno</MenuItem>\n                                    <MenuItem value='CUENTA-DEPOSITO'>Deposito</MenuItem>\n                                    <MenuItem value='CUENTA-RETIRO'>Retiro</MenuItem>\n                                </Select>\n                            </Box>\n                        </div>\n                    </Box>\n                    <Box p={2}>\n                        <Paper className={classes.root}>\n                            <TableContainer className={classes.container}>\n                                <Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n                                    <TableHead>\n                                        <TableRow>\n                                            {columns.map((column) => (\n                                                <TableCell key={column.id} align={column.align} style={{ minWidth: column.minWidth }}>\n                                                    {column.label}\n                                                </TableCell>\n                                            ))}\n                                        </TableRow>\n                                    </TableHead>\n                                    <TableBody> \n                                        {\n                                            historialCuenta?.map((row, index) => {\n                                                return(\n                                                    <RowsHistorial \n                                                        key={index}\n                                                        row={row}\n                                                        loading={loading}\n                                                    />\n                                                )\n                                            })\n                                        }\n                                       \n                                    </TableBody>\n                                </Table>\n                            </TableContainer>\n                        </Paper>\n                    </Box>\n                </DialogContent>\n                <DialogActions>\n                    <Button\n                        color=\"secondary\"\n                        variant='outlined'\n                        onClick={handleClickOpen}\n                        size=\"large\"\n                    >\n                        Cancelar\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        </Fragment>\n\t);\n};\n\nfunction RowsHistorial ({ row, loading }) {\n\n    if (loading) \n\treturn (\n\t\t<Box\n\t\tdisplay=\"flex\"\n\t\tflexDirection=\"column\"\n\t\tjustifyContent=\"center\"\n\t\talignItems=\"center\"\n\t\theight=\"80vh\"\n\t\t>\n\t\t\t<CircularProgress />\n\t\t</Box>\n\t);\n\n    return(\n        <TableRow\n            hover\n            role=\"checkbox\"handleClickOpen\n            tabIndex={-1}\n        >\n            <TableCell>Caja {row.numero_caja !== \"\" ? row.numero_caja : \"\"}</TableCell>\n            <TableCell>{moment(row?.fecha_movimiento.completa).format('D MMMM YYYY')}</TableCell>\n            <TableCell>{row?.nombre_usuario_creador}</TableCell>\n            <TableCell >\n                <b style={{fontSize: 17}}>${formatoMexico(row.montos_en_caja.monto_efectivo.monto)}</b>\n            </TableCell>\n            <TableCell>{row?.concepto}</TableCell>\n            <TableCell>{\n                row?.tipo_movimiento === \"CUENTA-DEPOSITO\" ? 'DEPOSITO' : 'RETIRO'    \n            }</TableCell>\n\n        </TableRow>\n    );\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport { Box, CircularProgress} from '@material-ui/core';\nimport { useQuery } from '@apollo/client';\n\nimport RetiroDeposito from './RetiroDeposito';\nimport HistorialCuentas from './HistorialCuentas';\nimport { OBTENER_SUCURSALES } from '../../../../gql/Empresa/sucursales';\nimport { OBTENER_DATOS_EMPRESA } from '../../../../gql/Empresa/empresa';\nimport { formatoMexico } from '../../../../config/reuserFunctions';\n\nconst columns = [\n\t{ id: 'name', label: 'Origen', minWidth: 150, align: 'left' },\n\t{ id: 'tipo', label: 'Tipo Cuenta', minWidth: 150, align: 'left' },\n\t{ id: 'dinero', label: 'Dinero Existencia', minWidth: 100, align: 'left' },\n\t{ id: 'movimiento', label: 'Realizar Movimiento', minWidth: 100, align: 'center' },\t\n\t{ id: 'historial', label: 'Historial', minWidth: 100, align: 'center' },\n];\n\nconst useStyles  = makeStyles((theme) => ({\n\troot: {\n\t\twidth: '100%',\n        height: '50vh'\n\t},\n\tcontainer: {\n\t\tmaxHeight: '100%'\n\t},\n    appBar: {\t\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n\trootBusqueda: {\n\t\tdisplay: 'flex',\n\t\tpaddingLeft: theme.spacing(2)\n\t},\n}));\n\nexport default function ListaCuentas() {\n    const sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\n    const {  data, error, loading, refetch } = useQuery(OBTENER_SUCURSALES, {\n\t\tvariables: {\n            id: sesion.empresa._id\n\t\t}\n\t});\t\n\n\n    const cuentaEmpresa = useQuery(OBTENER_DATOS_EMPRESA, {\n\t\tvariables: {\n            id: sesion.empresa._id\n\t\t}\n\t});\t\n\n\tconst classes = useStyles();\n    let cuentasSucursalesEmpresa = [];\n    let cuentaPrincipal = [];\n\n\n    if(cuentaEmpresa.data){\n        cuentaPrincipal = cuentaEmpresa.data.obtenerEmpresa;\n    };\n\n    if (data) {\n        cuentasSucursalesEmpresa = data.obtenerSucursalesEmpresa\n    };\n\n    if (loading && cuentaEmpresa.loading) \n        return (\n            <Box\n            display=\"flex\"\n            flexDirection=\"column\"\n            justifyContent=\"center\"\n            alignItems=\"center\"\n            height=\"50vh\"\n            >\n                <CircularProgress/>\n            </Box>\n        );\n    \n\treturn (\n        <Box p={2}>\n            <Paper className={classes.root}>\n                <TableContainer className={classes.container}>\n                    <Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n                        <TableHead>\n                            <TableRow>\n                                {columns.map((column) => (\n                                    <TableCell key={column.id} align={column.align} style={{ minWidth: column.minWidth }}>\n                                        {column.label}\n                                    </TableCell>\n                                ))}\n                            </TableRow>\n                        </TableHead>\n                        <TableBody> \n                        <TableRow\n                            hover\n                            role=\"checkbox\"handleClickOpen\n                            tabIndex={-1}\n                        >\n                            <TableCell >{cuentaPrincipal?.nombre_empresa}</TableCell>\n                            <TableCell >CUENTA PRINCIPAL</TableCell>\n                            <TableCell >\n                                <b style={{fontSize: 17}}>${formatoMexico(cuentaPrincipal?.cuenta_empresa?.dinero_actual)}</b>\n                            </TableCell>\n                            {sesion.accesos.tesoreria.cuentas_empresa.editar === false ? (\n                                <TableCell align='center'>  </TableCell>\n                            ):(\n                                <TableCell align='center'> <RetiroDeposito cuenta={cuentaPrincipal} refetch={cuentaEmpresa.refetch} tipo={true} /> </TableCell>\n                            )}\n                            <TableCell align='center'> <HistorialCuentas cuenta={cuentaPrincipal}  tipo={true} /> </TableCell>\n                        </TableRow>\n                            {cuentasSucursalesEmpresa?.map((cuenta, index) => {\n                                return(\n                                    <RowsCuentas \n                                        key={index}\n                                        refetch={refetch}\n                                        cuenta={cuenta}\n                                        loading={loading}\n                                        \n                                    /> \n                                )\n                            })}\n                        </TableBody>\n                    </Table>\n                </TableContainer>\n            </Paper>\n        </Box>\n\t);\n};\n\nfunction RowsCuentas ({cuenta, refetch}) {\n\tconst permisosUsuario = JSON.parse(localStorage.getItem('sesionCafi'));\n\n    return(\n        <TableRow\n            hover\n            role=\"checkbox\"handleClickOpen\n            tabIndex={-1}\n        >\n            <TableCell >{cuenta.nombre_sucursal}</TableCell>\n            <TableCell >SUCURSAL</TableCell>\n            <TableCell >\n                <b style={{fontSize: 17}}>${formatoMexico(cuenta?.cuenta_sucursal?.dinero_actual)}</b>\n            </TableCell>\n            {permisosUsuario.accesos.tesoreria.cuentas_empresa.editar === false ? (\n                <TableCell align='center'>  </TableCell>\n            ):(\n                <TableCell align='center'> <RetiroDeposito cuenta={cuenta} refetch={refetch} tipo={false} /> </TableCell>\n            )}\n            <TableCell align='center'> <HistorialCuentas cuenta={cuenta} tipo={false}/> </TableCell>\n        </TableRow>\n    );\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport Typography from '@material-ui/core/Typography';\nimport CloseIcon from '@material-ui/icons/Close';\nimport Slide from '@material-ui/core/Slide';\nimport { Box, DialogContent } from '@material-ui/core';\nimport ListaCuentas from './ListaCuentas';\n\nconst useStyles = makeStyles((theme) => ({\n\tappBar: {\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n    icon: {\n\t\twidth: 100\n\t},\n\tformInputFlex: {\n\t\tdisplay: 'flex',\n\t\t'& > *': {\n\t\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(2)}px`\n\t\t}\n\t},\n\tformInput: {\n\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(2)}px`\n\t},\n\tbuttons: {\n\t\t'& > *': {\n\t\t\tmargin: `0px ${theme.spacing(1)}px`\n\t\t}\n\t}\n\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function CuentasEmpresaSucursales() {\n\tconst classes = useStyles();\n\tconst [ open, setOpen ] = React.useState(false);\n\n\tconst handleClickOpen = () => setOpen(!open);\n\n\treturn (\n\t\t<div>\n\t\t\t<Button fullWidth onClick={handleClickOpen}>\n\t\t\t\t<Box display=\"flex\" flexDirection=\"column\">\n\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n                        <img src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/retiro-de-dinero.svg' alt=\"icono retiro\" className={classes.icon} />\n\t\t\t\t\t</Box>\n\t\t\t\t\tCuentas de Empresa\n\t\t\t\t</Box>\n\t\t\t</Button>\n\n\t\t\t<Dialog \n\t\t\t\topen={open} \n\t\t\t\tTransitionComponent={Transition} \n\t\t\t\tmaxWidth=\"lg\"\n\t\t\t\tfullWidth\n\t\t\t>\n\t\t\t\t<Box m={1} display=\"flex\" justifyContent=\"flex-end\">\n\t\t\t\t\t<Button variant=\"contained\" color=\"secondary\" onClick={handleClickOpen} size=\"large\">\n\t\t\t\t\t\t<CloseIcon />\n\t\t\t\t\t</Button>\n\t\t\t\t</Box>\n\t\t\t\t<DialogContent>\n\t\t\t\t\t<Box textAlign=\"center\">\n\t\t\t\t\t\t<Typography variant=\"h6\">\n\t\t\t\t\t\t\tCuentas de empresa\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box>\n\t\t\t\t\t\t<ListaCuentas />\n\t\t\t\t\t</Box>\n\t\t\t\t</DialogContent>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n}\n","import { gql } from '@apollo/client';\n\nexport const OBTENER_HISTORIAL_EGRESOS = gql`\n    query ObtenerHistorialEgresos($input: ObtenerHistorialEgresosInput, $empresa: ID!, $sucursal: ID!){\n        obtenerHistorialEgresos(input: $input, empresa: $empresa, sucursal: $sucursal){\n            folio_egreso\n            folio_factura\n            empresa_distribuidora\n            provedor\n            productos {\n                cantidad_productos\n                precio_unitario\n                producto\n                total\n            }\n            categoria\n            subCategoria\n            metodo_pago\n            fecha_compra\n            fecha_registro\n            fecha_vencimiento\n            observaciones\n            compra_credito\n            credito_pagado\n            saldo_credito_pendiente\n            saldo_total\n            numero_usuario_creador\n            nombre_usuario_creador\n            id_user\n            empresa\n            sucursal         \n        }\n    }\n`\n\nexport const CREAR_EGRESO = gql`\n    mutation CrearEgreso($input: CrearEgresosInput, $empresa: ID!, $sucursal: ID!){\n        crearEgreso(input: $input, empresa: $empresa, sucursal: $sucursal){\n            message\n        }\n    }\n`;","import React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TablePagination from '@material-ui/core/TablePagination';\nimport TableRow from '@material-ui/core/TableRow';\nimport { IconButton } from '@material-ui/core';\nimport { formatoMexico } from '../../../../config/reuserFunctions';\n\nconst columns = [\n\t{ id: 'cantidad', label: 'Cantidad', minWidth: 100 },\n\t{ id: 'nombre', label: 'Nombre', minWidth: 100 },\n\t{ id: 'precioU', label: 'Precio Unitario', minWidth: 100 },\n    { id: 'total', label: 'Total', minWidth: 100 }\n];\n\nconst useStyles  = makeStyles((theme) => ({\n\troot: {\n\t\twidth: '100%'\n\t},\n\tcontainer: {\n\t\tmaxHeight: '100%'\n\t},\n    appBar: {\t\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(1),\n\t\tflex: 1\n\t},\n    table: {\n        minWidth: 650,\n    },\n}));\n\nexport default function TablaProductosEgresos({productos, borrarProducto}) {\n\tconst classes = useStyles();\n\tconst [ page, setPage ] = useState(0);\n\tconst [ rowsPerPage, setRowsPerPage ] = useState(3);\n\n\tconst handleChangePage = (event, newPage) => {\n\t\tsetPage(newPage);\n\t};\n\n\tconst handleChangeRowsPerPage = (event) => {\n\t\tsetRowsPerPage(+event.target.value);\n\t\tsetPage(0);\n\t};\n\n\treturn (\n\t\t<Paper className={classes.root}>\n\t\t\t<TableContainer className={classes.container}>\n\t\t\t\t<Table stickyHeader className={classes.table} size=\"small\" aria-label=\"a dense table\">\n\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t{columns.map((column) => (\n\t\t\t\t\t\t\t\t<TableCell key={column.id} align={column.align} style={{ minWidth: column.minWidth }}>\n\t\t\t\t\t\t\t\t\t{column.label}\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t<TableCell align={'center'} style={{ minWidth: 100 }}>\n\t\t\t\t\t\t\t\tEliminar\n\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t</TableHead>\n\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t{productos.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage).map((producto, index) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<RowsProductos \n\t\t\t\t\t\t\t\t\tindex={index}\n\t\t\t\t\t\t\t\t\tproducto={producto}\n\t\t\t\t\t\t\t\t\tborrarProducto={borrarProducto}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t\t</TableBody>\n\t\t\t\t</Table>\n\t\t\t</TableContainer>\n\t\t\t<TablePagination\n\t\t\t\trowsPerPageOptions={[]}\n\t\t\t\tcomponent=\"div\"\n\t\t\t\tcount={productos.length}\n\t\t\t\trowsPerPage={rowsPerPage}\n\t\t\t\tpage={page}\n\t\t\t\tonPageChange={handleChangePage}\n\t\t\t\tonRowsPerPageChange={handleChangeRowsPerPage}\n\t\t\t/>\n\t\t</Paper>\n\t);\n};\n\n\nfunction RowsProductos ({index, producto, borrarProducto}) {\n\treturn(\n\t\t<TableRow hover role=\"checkbox\" tabIndex={-1}>\n\t\t\t<TableCell>\n\t\t\t\t{producto?.cantidad_productos}\n\t\t\t</TableCell>\n\t\t\t<TableCell>\n\t\t\t\t{producto?.producto}\n\t\t\t</TableCell>\n\t\t\t<TableCell>\n\t\t\t\t${formatoMexico(producto?.precio_unitario)}\n\t\t\t</TableCell>\n\t\t\t<TableCell>\n\t\t\t\t${formatoMexico(producto?.total)}\n\t\t\t</TableCell>\n\t\t\t<TableCell align='center' >\n\t\t\t\t<IconButton \n\t\t\t\t\taria-label=\"delete\" \n\t\t\t\t\tsize='small'\n\t\t\t\t\tonClick={() => borrarProducto(index)}\n\t\t\t\t>\n\t\t\t\t\t<DeleteIcon fontSize=\"medium\" />\n\t\t\t\t</IconButton>\n\t\t\t</TableCell>\n\t\t</TableRow>\n\t)\n}","import { useMutation, useQuery } from '@apollo/client';\nimport { Box, makeStyles, Select,MenuItem , TextField, Typography, FormControl, OutlinedInput, InputAdornment, IconButton, Button, Divider } from '@material-ui/core';\nimport { Autorenew } from '@material-ui/icons';\nimport AddIcon from '@material-ui/icons/Add';\nimport React, { Fragment, useContext, useEffect, useState } from 'react';\nimport { formatoMexico } from '../../../../config/reuserFunctions';\nimport { TesoreriaCtx } from '../../../../context/Tesoreria/tesoreriaCtx';\nimport { OBTENER_CUENTAS } from '../../../../gql/Catalogos/centroCostos';\nimport { CREAR_EGRESO } from '../../../../gql/Tesoreria/egresos';\nimport TablaProductosEgresos from './TablaProductosEgresos';\n\nconst useStyles = makeStyles((theme) => ({\n\tappBar: {\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n    icon: {\n\t\twidth: 100\n\t},\n\tformInputFlex: {\n\t\tdisplay: 'flex',\n\t\t'& > *': {\n\t\t\tmargin: `${theme.spacing(0)}px ${theme.spacing(1)}px`\n\t\t}\n\t},\n\tformInput: {\n\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(1)}px`\n\t},\n    formComboBox:{\n        height: '50%'\n    },\n    input: {\n        \"& input[type=number]\": {\n          \"-moz-appearance\": \"textfield\",\n        },\n        \"& input[type=number]::-webkit-outer-spin-button\": {\n          \"-webkit-appearance\": \"none\",\n          margin: 0,\n        },\n        \"& input[type=number]::-webkit-inner-spin-button\": {\n          \"-webkit-appearance\": \"none\",\n          margin: 0,\n        },\n    },\n}));\n\nexport default function FormRegistroEgresos({tipo, handleClickOpen}) {\n    const sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n    const { setAlert } = useContext(TesoreriaCtx);\n    const [ CrearEgreso ] = useMutation(CREAR_EGRESO);\n\n    const classes = useStyles();\n    const [upload, setUpload] = useState(false);\n    const [datosEgreso, setDatosEgreso] = useState([]);\n    const [totalCompra, setTotalCompra] = useState(0);\n    const [subCuentas, setSubCuentas] = useState([]);\n    const [producto, setProducto] = useState([]);\n    const [productos, setProductos] = useState([]);\n\n    const obtenerCuentas = useQuery(OBTENER_CUENTAS, {\n\t\tvariables: { empresa: sesion.empresa._id, sucursal: sesion.sucursal._id }\n\t});\n\n    let cuentas = [];\n\n    if (obtenerCuentas.data) {\n        cuentas = obtenerCuentas.data.obtenerCuentas;\n    };\n\n    const GenFolio = () => {\n        const max = 999999999999;\n        const min = 100000000000;\n        const folio_egreso = Math.floor(\n          Math.random() * (max - min + 1) + min\n        ).toString();\n        setDatosEgreso({\n          ...datosEgreso,\n          folio_egreso,\n        });\n    };\n\n    const obtenerDatos = (e) => {\n        setDatosEgreso({...datosEgreso, [e.target.name]: e.target.value });\n    };\n\n    const obtenerSubCuentas = (cuenta) => {\n        setSubCuentas(cuenta.subcuentas);\n    };\n\n    const obtenerDatoProductos = (e) => {\n        setProducto({...producto, [e.target.name]: e.target.value})\n    };\n\n    const agregarProducto = () => {\n        let producto_guardado = {\n            cantidad_productos: parseFloat(producto.cantidad_productos),\n            precio_unitario: parseFloat(producto.precio_unitario),\n            producto: producto.producto,\n            total: (parseFloat(producto.cantidad_productos) * parseFloat(producto.precio_unitario))\n        };\n\n        productos.push(producto_guardado);\n\n        setDatosEgreso({\n            ...datosEgreso,\n            productos,\n        });\n        totalCompraVenta();\n        setProducto([]);\n    };\n    \n    function borrarProducto(index) {\n        productos.forEach(function(elemento, indice, array) {\n            if(index === indice){\n                productos.splice(index, 1);\n            }\n        });\n        setUpload(true);\n    };\n\n    useEffect(() => { \n        totalCompraVenta();\n        setProductos(productos);\n        setUpload(false);\n\n    }, [upload, productos]);\n\n    const totalCompraVenta = () =>{\n        let total = 0;\n        for (let i = 0; i < productos.length; i++) {\n            total += productos[i].total;\n        };\n        setTotalCompra(total);\n    };\n\n    const input = {\n        folio_egreso:  datosEgreso.folio_egreso,\n        folio_factura: datosEgreso.folio_factura,\n        empresa_distribuidora: datosEgreso.empresa_distribuidora,\n        provedor: datosEgreso.provedor,\n        productos: datosEgreso.productos ? datosEgreso.productos : [],\n        categoria: datosEgreso.categoria,\n        subCategoria:  datosEgreso.subCategoria,\n        metodo_pago: datosEgreso.metodo_pago,\n        fecha_compra: datosEgreso.fecha_compra,\n        fecha_vencimiento: datosEgreso.fecha_vencimiento0 ? datosEgreso.fecha_vencimiento : \"\",\n        observaciones: datosEgreso.observaciones,\n        compra_credito: datosEgreso.compra_credito ? datosEgreso.compra_credito : false, \n        credito_pagado: datosEgreso.credito_pagado ? datosEgreso.credito_pagado : false,\n        saldo_credito_pendiente: datosEgreso.saldo_credito_pendiente ? datosEgreso.saldo_credito_pendiente : 0,\n        numero_usuario_creador: sesion.numero_usuario.toString(),\n        nombre_usuario_creador: sesion.nombre,\n        id_user: sesion._id,\n        saldo_total: totalCompra ? totalCompra : 0\n    }\n\n    const enviarDatos = async () => { \n        try {\n            if(!datosEgreso.folio_egreso){\n                setAlert({\n                    message: 'Por favor genere un folio.',\n                    status: \"error\",\n                    open: true,\n                });\n                return null;\n            };\n\n            const egreso = await CrearEgreso({\n                variables: {\n                    input,\n                    empresa: sesion.empresa._id,\n                    sucursal: sesion.sucursal._id\n                }\n            });\n            handleClickOpen();\n            setDatosEgreso([]); \n            setAlert({\n                message: egreso.data.crearEgreso.message,\n                status: \"success\",\n                open: true,\n            });\n\n        } catch (error) {\n            setAlert({\n                message: error.message,\n                status: \"error\",\n                open: true,\n            });\n        }\n    }\n\n    return (\n        <Fragment>\n        <Box p={1}>\n            <Box>\n                <Typography>\n                    <b>Datos Generales</b>\n                </Typography>\n            </Box>\n            <Divider />\n        </Box>\n        <div className={classes.formInputFlex}>\n            <Box width=\"100%\">\n                <FormControl\n                    variant=\"outlined\"\n                    size=\"small\"\n                    name=\"folio_egreso\"\n                    fullWidth\n                >\n                    <Typography>Folio</Typography>\n                    <OutlinedInput\n                        style={{ padding: 0 }}\n                        id=\"form-producto-codigo-barras\"\n                        name=\"folio_egreso\"\n                        value={\n                            datosEgreso.folio_egreso\n                            ? datosEgreso.folio_egreso\n                            : \"\"\n                        }\n                        onChange={obtenerDatos}\n                        endAdornment={\n                        <InputAdornment position=\"start\">\n                            <IconButton\n                                onClick={() => GenFolio()}\n                                color=\"primary\"\n                                size=\"small\"\n                            >\n                                <Autorenew />\n                            </IconButton>\n                        </InputAdornment>\n                        }\n                    />\n                </FormControl>\n            </Box>\n            <Box width=\"100%\">\n                <Typography>ID Factura:</Typography>\n                <TextField\n                    fullWidth\n                    size=\"small\"\n                    name=\"id_factura\"\n                    variant=\"outlined\"\n                    onChange={obtenerDatos}\n                />\n            </Box>\n            <Box width=\"100%\">\n                <Typography>Fecha de Compra:</Typography>\n                <TextField\n                    fullWidth\n                    size=\"small\"\n                    name=\"fecha_compra\"\n                    variant=\"outlined\"\n                    onChange={obtenerDatos}\n                    type=\"date\"\n                    InputLabelProps={{\n                        shrink: true,\n                    }}\n                />\n            </Box>\n            <Box width=\"100%\">\n                <Typography>Metodo de pago:</Typography>\n                    <Select\n                        className={classes.formComboBox}\n                        size=\"small\"\n                        variant=\"outlined\"\n                        onChange={obtenerDatos}\n                        name=\"metodo_pago\"\n                        fullWidth\n                    >\n                        <MenuItem value='TARJETA'>Tarjeta</MenuItem>\n                        <MenuItem value='EFECTIVO'>Efectivo</MenuItem>\n                        <MenuItem value='CHEQUE'>Cheque</MenuItem>\n                        <MenuItem value='TRANSFERENCIA'>Transferencia</MenuItem>\n                        <MenuItem value='MONEDERO ELECTRONICO'>Monedero electronico</MenuItem>\n                    </Select>\n            </Box>\n        </div>\n        <div className={classes.formInputFlex}>\n            <Box width=\"100%\">\n                <Typography>Categoria:</Typography>\n                <Select\n                    className={classes.formComboBox}\n                    size=\"small\"\n                    variant=\"outlined\"\n                    onChange={obtenerDatos}\n                    name=\"categoria\"\n                    fullWidth\n                >\n                    <MenuItem value='Ninguno' onClick={() => setSubCuentas([])}>Ninguno</MenuItem>\n                    {cuentas?.map((cuenta) =>{\n                        return(\n                            <MenuItem \n                                key={cuenta._id}\n                                onClick={() => obtenerSubCuentas(cuenta)}\n                                value={cuenta.cuenta}\n                            >\n                                {cuenta.cuenta}\n                            </MenuItem>\n                        )\n                    })}\n                </Select>\n            </Box>\n            <Box width=\"100%\">\n                <Typography>SubCatergoria:</Typography>\n                <Select\n                    className={classes.formComboBox}\n                    size=\"small\"\n                    variant=\"outlined\"\n                    onChange={obtenerDatos}\n                    name=\"subCategoria\"\n                    fullWidth\n                >\n                    <MenuItem value='Ninguno'>Ninguno</MenuItem>\n                    {subCuentas?.map((subCuenta) =>{\n                        return(\n                            <MenuItem value={subCuenta.subcuenta}>{subCuenta.subcuenta}</MenuItem>\n                        )\n                    })}\n                </Select>\n            </Box>\n            <Box width=\"100%\">\n                <Typography>Empresa:</Typography>\n                <TextField\n                    fullWidth\n                    size=\"small\"\n                    name=\"empresa_distribuidora\"\n                    onChange={obtenerDatos}\n                    variant=\"outlined\"\n                />\n            </Box>\n            <Box width=\"100%\">\n                <Typography>Provedor: </Typography>\n                <TextField\n                    fullWidth\n                    size=\"small\"\n                    name=\"provedor\"\n                    onChange={obtenerDatos}\n                    variant=\"outlined\"\n                />\n            </Box>\n        </div>\n        <Box p={1} mt={1}>\n            <Box>\n                <Typography>\n                    <b>Productos Adquiridos</b>\n                </Typography>\n            </Box>\n            <Divider />\n        </Box>\n        <div className={classes.formInputFlex}>\n            <Box width=\"100%\">\n                <Typography>Cantidad:</Typography>\n                <TextField\n                    fullWidth\n                    className={classes.input}\n                    size=\"small\"\n                    name=\"cantidad_productos\"\n                    value={producto.cantidad_productos ? producto.cantidad_productos : \"\"}\n                    onChange={obtenerDatoProductos}\n                    variant=\"outlined\"\n                    type=\"number\"\n                />\n            </Box>\n            <Box width=\"100%\">\n                <Typography>Producto:</Typography>\n                <TextField\n                    fullWidth\n                    size=\"small\"\n                    name=\"producto\"\n                    value={producto.producto ? producto.producto : \"\"}\n                    onChange={obtenerDatoProductos}\n                    variant=\"outlined\"\n                />\n            </Box>\n            <Box width=\"100%\">\n                <Typography>Precio Unitario:</Typography>\n                <TextField\n                    className={classes.input}\n                    fullWidth\n                    size=\"small\"\n                    name=\"precio_unitario\"\n                    value={producto.precio_unitario ? producto.precio_unitario : \"\"}\n                    onChange={obtenerDatoProductos}\n                    variant=\"outlined\"\n                    type=\"number\"\n                />\n            </Box> \n            <Box width=\"100%\" display='flex' justifyContent='center' alignItems='center'>\n                <Button\n                    variant='outlined'\n                    size='large'\n                    color='primary'\n                    onClick={agregarProducto}\n                    startIcon={<AddIcon />}\n                >\n                    Agregar\n                </Button>\n            </Box>\n        </div>\n        <Box p={1} >\n            <TablaProductosEgresos productos={productos} borrarProducto={borrarProducto} />\n        </Box>\n        <Box display='flex' justifyContent='flex-end' p={1}> \n            <Typography variant='h6'>\n                Total: ${formatoMexico(totalCompra)}\n            </Typography>\n        </Box>\n        <div className={classes.formInputFlex}>\n            <Box width=\"100%\">\n                <Typography>Observacines:</Typography>\n                <TextField\n                    multiline\n                    rows={2}\n                    fullWidth\n                    size=\"small\"\n                    name=\"observaciones\"\n                    onChange={obtenerDatos}\n                    variant=\"outlined\"\n                />\n            </Box>\n        </div>\n        <Box display=\"flex\" justifyContent=\"flex-end\">\n            <Box p={1}>\n                <Button\n                    size=\"large\"\n                    variant='contained'\n                    color='primary'\n                    onClick={enviarDatos}\n                >\n                    Guardar Egreso\n                </Button>\n            </Box>\n            <Box p={1}>\n                <Button\n                    size=\"large\"\n                    variant='contained'\n                    color='secondary'\n                >\n                    Cancelar\n                </Button>\n            </Box>\n        </Box>\n        </Fragment>\n    )\n}\n","import React, { Fragment, useContext, useState } from 'react'\nimport PropTypes from 'prop-types';\nimport { AppBar, Box, Button, Grid, makeStyles, Tab, Tabs, Typography } from '@material-ui/core';\nimport { FcDonate } from 'react-icons/fc';\n\nimport CloseIcon from '@material-ui/icons/Close';\nimport FormRegistroEgresos from './FormRegistroEgresos';\nimport moment from 'moment';\nimport { TesoreriaCtx } from '../../../../context/Tesoreria/tesoreriaCtx';\n\n\nfunction TabPanel(props) {\n\tconst { children, value, index, ...other } = props;\n\n\treturn (\n\t\t<div\n\t\t\trole=\"tabpanel\"\n\t\t\thidden={value !== index}\n\t\t\tid={`tabpanel-reg-product-${index}`}\n\t\t\taria-labelledby={`reg-product-tab-${index}`}\n\t\t\t{...other}\n\t\t>\n\t\t\t{value === index && (\n\t\t\t\t<Box p={3} minHeight=\"70vh\">\n\t\t\t\t\t{children}\n\t\t\t\t</Box>\n\t\t\t)}\n\t\t</div>\n\t);\n}\n\nTabPanel.propTypes = {\n\tchildren: PropTypes.node,\n\tindex: PropTypes.any.isRequired,\n\tvalue: PropTypes.any.isRequired\n};\n\nfunction a11yProps(index) {\n\treturn {\n\t\tid: `reg-product-tab-${index}`,\n\t\t'aria-controls': `tabpanel-reg-product-${index}`\n\t};\n}\n\nconst useStyles = makeStyles((theme) => ({\n\tformInputFlex: {\n\t\tdisplay: 'flex',\n\t\t'& > *': {\n\t\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(2)}px`\n\t\t}\n\t},\n\tformInput: {\n\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(2)}px`\n\t},\n\troot: {\n\t\tflexGrow: 1,\n\t\twidth: '100%',\n\t\tbackgroundColor: theme.palette.background.paper\n\t},\n\ticonSvg: {\n\t\twidth: 50\n\t},\n\ticonSize: {\n\t\tfontSize: 40,\n        color: theme.palette.info.main\n\t},\n\tbuttons: {\n\t\t'& > *': {\n\t\t\tmargin: `0px ${theme.spacing(1)}px`\n\t\t}\n\t}\n\n}));\n\nexport default function VistaRegistroEgreso({handleClickOpen}) {\n    const sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n    const classes = useStyles();\n\tconst { setAlert } = useContext(TesoreriaCtx);\n    const [ value, setValue ] = useState(0);\n\n    const handleChange = (event, newValue) => {\n\t\tsetValue(newValue);\n\t};\n\n    return (\n        <Fragment>\n\t\t\t<div className={classes.root}>\n\t\t\t\t<AppBar position=\"static\" color=\"default\" elevation={0}>\n\t\t\t\t\t<Tabs\n\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\tvariant=\"scrollable\"\n\t\t\t\t\t\tscrollButtons=\"on\"\n\t\t\t\t\t\ttextColor='primary'\n\t\t\t\t\t\tindicatorColor='primary'\n\t\t\t\t\t\taria-label=\"scrollable force tabs example\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<Tab\n\t\t\t\t\t\t\tlabel=\"Egreso a Contado\"\n\t\t\t\t\t\t\ticon={<FcDonate className={classes.iconSize} />}\n\t\t\t\t\t\t\t{...a11yProps(0)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Grid container justify=\"flex-end\">\n\t\t\t\t\t\t\t<Box mt={4}>\n\t\t\t\t\t\t\t\t<Typography>Usuario: <b>{sesion.nombre}</b></Typography> \n\t\t\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t\t\t<b>{moment().format('D MMMM YYYY')}</b>\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid>\n\t\t\t\t\t\t\t<Box mt={3} ml={5} display=\"flex\" justifyContent=\"flex-end\">\n\t\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"secondary\" onClick={handleClickOpen} size=\"large\">\n\t\t\t\t\t\t\t\t\t<CloseIcon />\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Tabs>\n\t\t\t\t</AppBar>\n\t\t\t\t<TabPanel value={value} index={0}>\n\t\t\t\t\t<FormRegistroEgresos handleClickOpen={handleClickOpen} tipo='CONTADO' />\n\t\t\t\t</TabPanel>\n\t\t\t</div>\n        </Fragment>\n\n    )\n}\n","import React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport DoneIcon from '@material-ui/icons/Done';\n\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport Slide from '@material-ui/core/Slide';\nimport { Box, DialogActions,Paper} from '@material-ui/core';\nimport VistaRegistroEgreso from './VistaRegistroEgreso';\n\nconst useStyles = makeStyles((theme) => ({\n\tappBar: {\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n    icon: {\n\t\twidth: 100\n\t},\n\troot: {\n\t\tflexGrow: 1,\n\t\twidth: '100%',\n\t\theight: '100vh',\n\t\tbackgroundColor: theme.palette.background.paper\n\t},\n\trootBusqueda: {\n\t\tdisplay: 'flex',\n\t\tpaddingLeft: theme.spacing(2)\n\t},\n\ticonSize: {\n\t\tfontSize: 40,\n        color: theme.palette.info.main\n\t},\n\ticonSizeSecond: {\n\t\twidth: 40,\n\t},\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function Egresos() {\n\tconst classes = useStyles();\n\tconst [ open, setOpen ] = useState(false);\n\n\tconst handleClickOpen = () => setOpen(!open);\n\n\treturn (\n\t\t<div>\n\t\t\t<Button fullWidth onClick={handleClickOpen}>\n\t\t\t\t<Box display=\"flex\" flexDirection=\"column\">\n\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n                        <img src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/income.svg' alt=\"icono egreso\" className={classes.icon} />\n\t\t\t\t\t</Box>\n\t\t\t\t\tEgresos\n\t\t\t\t</Box>\n\t\t\t</Button>\n\t\t\t<Dialog \n\t\t\t\topen={open} \n\t\t\t\tTransitionComponent={Transition} \n\t\t\t\tfullWidth \n\t\t\t\tmaxWidth=\"lg\"\n\t\t\t>\n\t\t\t\t<VistaRegistroEgreso handleClickOpen={handleClickOpen} />\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\n\nconst columns = [\n\t{ id: 'cantidad', label: 'Cantidad', minWidth: 80},\n\t{ id: 'cantidadR', label: 'Cant. Regalo', minWidth: 80},\n\t{ id: 'nombre', label: 'Producto', minWidth: 80},\n\t{ id: 'precio', label: 'Precio', minWidth: 80},\n\t{ id: 'total', label: 'Total', minWidth: 80},\n];\n\nconst useStyles  = makeStyles((theme) => ({\n\troot: {\n\t\twidth: '100%',\n\t\theight: '45vh'\n\t},\n\tcontainer: {\n\t\tmaxHeight: '100%'\n\t},\n    appBar: {\t\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t}\n}));\n\nexport default function TablaCompras({productos}) {\n\tconst classes = useStyles();\n\n\n\treturn (\n\t\t<Paper className={classes.root}>\n\t\t\t<TableContainer className={classes.container}>\n\t\t\t\t<Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t{columns.map((column) => (\n\t\t\t\t\t\t\t\t<TableCell key={column.id} align={column.align} style={{ minWidth: column.minWidth }}>\n\t\t\t\t\t\t\t\t\t{column.label}\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t</TableHead>\n\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t{productos?.map((producto, index) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<TableRow key={index} hover role=\"checkbox\" tabIndex={-1} >\n\t\t\t\t\t\t\t\t\t<TableCell>{producto.cantidad}</TableCell>\n\t\t\t\t\t\t\t\t\t<TableCell>{producto.cantidad_regalo}</TableCell>\n\t\t\t\t\t\t\t\t\t<TableCell>{producto.producto.datos_generales.nombre_comercial}</TableCell>\n\t\t\t\t\t\t\t\t\t<TableCell>{producto.costo}</TableCell>\n\t\t\t\t\t\t\t\t\t<TableCell>{producto.total}</TableCell>\n\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t\t</TableBody>\n\t\t\t\t</Table>\n\t\t\t</TableContainer>\n\t\t</Paper>\n\t);\n}","import { gql } from '@apollo/client';\n\nexport const OBTENER_HISTORIAL_ABONOS = gql`\n    query ObtenerHistorialAbonos($empresa: ID!, $sucursal: ID!, $input: ObtenerHistorialAbonosInput){\n        obtenerHistorialAbonos( empresa: $empresa, sucursal: $sucursal, input: $input ){\n            numero_caja\n            id_Caja\n            horario_turno\n            tipo_movimiento\n            rol_movimiento\n            fecha_movimiento{\n                completa\n            }\n            numero_usuario_creador\n            nombre_usuario_creador\n            monto_total_abonado\n            numero_cliente\n            nombre_cliente\n            telefono_cliente\n            email_cliente\n            montos_en_caja{\n                monto_efectivo{\n                    monto \n                }\n                monto_tarjeta_credito{\n                    monto \n                }\n                monto_tarjeta_debito{\n                    monto \n                }\n                monto_creditos{\n                    monto \n                }\n                monto_monedero{\n                    monto \n                }\n                monto_transferencia{\n                    monto \n                }\n                monto_cheques{\n                    monto \n                }\n                monto_vales_despensa{\n                    monto \n                }\n            }\n        }\n    }\n`\n\nexport const CREAR_ABONO = gql`\n    mutation CrearAbono($empresa: ID!, $sucursal: ID!, $input: CrearAbonoInput){\n        crearAbono(empresa: $empresa, sucursal: $sucursal, input: $input, ){\n            message\n        }\n    }\n`;","import React, { useContext, useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport { useQuery } from '@apollo/client';\nimport { OBTENER_HISTORIAL_ABONOS } from \"../../../../../../../gql/Tesoreria/abonos\";\nimport moment from 'moment';\nimport { TesoreriaCtx } from '../../../../../../../context/Tesoreria/tesoreriaCtx';\n\nconst columns = [\n\t{ id: 'fecha', label: 'Fecha de abono', minWidth: 170, align: 'center' },\n\t{ id: 'cliente', label: 'Nombre', minWidth: 170, align: 'center' },\n\t{ id: 'abono', label: 'Cantidad abonada', minWidth: 170, align: 'right' },\n];\n\nconst useStyles  = makeStyles((theme) => ({\n\troot: {\n\t\twidth: '100%',\n\t\theight: '45vh'\n\t},\n\tcontainer: {\n\t\tmaxHeight: '100%'\n\t},\n    appBar: {\t\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t}\n}));\n\nexport default function TablaAbonos({cuenta}) {\n\t\n\tconst sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n\n\tconst { reload } = useContext(TesoreriaCtx);\n\n\tconst classes = useStyles();\n\n\tconst { loading, data, error, refetch } = useQuery(\n\t\tOBTENER_HISTORIAL_ABONOS, {\n\t\t\tvariables: {\n\t\t\t\tempresa: sesion.empresa._id,\n\t\t\t\tsucursal: sesion.sucursal._id,\n\t\t\t\tinput: {\n\t\t\t\t\tfecha_inicio: \"\",\n\t\t\t\t\tfecha_fin: \"\",\n\t\t\t\t\tusuario: \"\",\n\t\t\t\t\tid_cliente: cuenta.proveedor.id_proveedor._id,\n\t\t\t\t\tid_egreso: \"\",\n\t\t\t\t\trol_movimiento: \"PROVEEDOR\",\n\t\t\t\t\tid_compra: cuenta._id\n\t\t\t\t}\n\t\t\t},\n\t\t  \tfetchPolicy: \"network-only\",\n\t\t}\n\t);\n\t\n\tlet abonos = []\n\tif(data){\n\t\tabonos = data.obtenerHistorialAbonos;\n\t}\n\n\tuseEffect(() => {\n\t\trefetch();\n\t}, [reload])\n\n\treturn (\n\t\t<Paper className={classes.root}>\n\t\t\t<TableContainer className={classes.container}>\n\t\t\t\t<Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t{columns.map((column) => (\n\t\t\t\t\t\t\t\t<TableCell key={column.id} align={column.align} style={{ minWidth: column.minWidth }}>\n\t\t\t\t\t\t\t\t\t{column.label}\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t</TableHead>\n\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t{abonos?.map((row, index) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<TableRow hover tabIndex={-1} key={index}>\n\t\t\t\t\t\t\t\t\t<TableCell align='center'>{moment(row.fecha_movimiento.completa).format('D MMMM YYYY')}</TableCell>\n\t\t\t\t\t\t\t\t\t<TableCell align='center'>{row.nombre_cliente}</TableCell>\n\t\t\t\t\t\t\t\t\t<TableCell align='right'><b>${row.monto_total_abonado}</b></TableCell>\n\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t\t</TableBody>\n\t\t\t\t</Table>\n\t\t\t</TableContainer>\n\t\t</Paper>\n\t);\n}","import React, { useContext, useState } from 'react';\nimport CloseIcon from '@material-ui/icons/Close';\nimport AddCircleOutlineIcon from '@material-ui/icons/AddCircleOutline';\nimport { Box, Button, Dialog, \n        DialogContent,  DialogTitle, FormControl, makeStyles, \n        MenuItem, \n        Select, \n        Slide, TextField, Typography \n} from '@material-ui/core'\nimport { formaPago } from '../../../../Facturacion/catalogos';\nimport { formatoMexico } from '../../../../../../config/reuserFunctions';\nimport { useMutation } from '@apollo/client';\nimport { CREAR_ABONO } from '../../../../../../gql/Tesoreria/abonos';\nimport moment from 'moment';\nimport BackdropComponent from '../../../../../../components/Layouts/BackDrop';\nimport { TesoreriaCtx } from '../../../../../../context/Tesoreria/tesoreriaCtx';\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n    return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nconst useStyles = makeStyles((theme) => ({\n\tinput: {\n        \"& input[type=number]\": {\n          \"-moz-appearance\": \"textfield\",\n        },\n        \"& input[type=number]::-webkit-outer-spin-button\": {\n          \"-webkit-appearance\": \"none\",\n          margin: 0,\n        },\n        \"& input[type=number]::-webkit-inner-spin-button\": {\n          \"-webkit-appearance\": \"none\",\n          margin: 0,\n        },\n    },\n    formInputFlex: {\n\t\tdisplay: 'flex',\n\t\t'& > *': {\n\t\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(.5)}px`\n\t\t},\n\t\t'& .obligatorio': {\n\t\t\tcolor: 'red'\n\t\t},\n        paddingTop: 0,\n        alignItems: \"center\",\n        justifyItems: \"center\"\n\t},\n}));\n\nexport default function AbonoaRecibir({cuenta}) {\n    const [ CrearAbono ] = useMutation(CREAR_ABONO);\n    \n\tconst { setReload, setAlert } = useContext(TesoreriaCtx);\n\n    const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n\n    const classes = useStyles();\n    \n    const [open, setOpen] = useState(false);\n    const [loading, setLoading] = useState(false);\n    const [abono, setAbono] = useState(''); \n    const [metodoPago, setMetodoPago] = useState('');\n\n    \n    const input = {\n        tipo_movimiento: \"ABONO\",\n        rol_movimiento: \"PROVEEDOR\",\n        fecha_movimiento: {\n            year: moment().format('YYYY'),\n            mes: moment().format('MM'),\n            dia: moment().format('DD'),\n            no_semana_year: moment().week().toString(),\n            no_dia_year: moment().dayOfYear().toString(),\n            completa: moment().locale('es-mx').format()\n        },\n        monto_total_abonado: parseFloat(abono),\n        montos_en_caja: {   \n            monto_efectivo: {\n                monto: metodoPago === '01' ? parseFloat(abono) : 0,\n                metodo_pago: \"01\"\n            },\n            monto_tarjeta_debito: {\n                monto: metodoPago === '28' ? parseFloat(abono) : 0,\n                metodo_pago: \"28\"\n            },\n            monto_tarjeta_credito: {\n                monto: metodoPago === '04' ? parseFloat(abono) : 0,\n                metodo_pago: \"04\"\n            },\n            monto_creditos: {\n                monto: metodoPago === '99' ? parseFloat(abono) : 0,\n                metodo_pago: \"99\"\n            },\n            monto_monedero: {\n                monto: metodoPago === '05' ? parseFloat(abono) : 0,\n                metodo_pago: \"05\"\n            },\n            monto_transferencia: {\n                monto: metodoPago === '03' ? parseFloat(abono) : 0,\n                metodo_pago: \"03\"\n            },\n            monto_cheques: {\n                monto: metodoPago === '02' ? parseFloat(abono) : 0,\n                metodo_pago: \"02\"\n            },\n            monto_vales_despensa: {\n                monto: metodoPago === '08' ? parseFloat(abono) : 0,\n                metodo_pago: \"08\"\n            },\n        },\n        metodo_de_pago:{\n            clave: \"\",\n            metodo:  \"\",\n        },\n        id_usuario: sesion._id,\n        numero_usuario_creador: sesion.numero_usuario,\n        nombre_usuario_creador: sesion.nombre,\n        id_cliente: cuenta.proveedor.id_proveedor._id,\n        numero_cliente: cuenta.proveedor.numero_cliente,\n        nombre_cliente: cuenta.proveedor.nombre_cliente, \n        telefono_cliente: cuenta.proveedor.id_proveedor.telefono, \n        email_cliente: cuenta.proveedor.id_proveedor.email,\n        id_compra: cuenta._id\n    };\n\n    \n    const enviarDatos = async () => { \n        setLoading(true);\n        try {\n            if(abono === '' || metodoPago === '' ){\n                setAlert({ \n                    message: 'Por favor complete los datos', \n                    status: 'error', \n                    open: true \n                });\n                setLoading(false);\n                return \n            }; \n            await CrearAbono({\n                variables: {\n                    empresa: sesion.empresa._id,\n                    sucursal: sesion.sucursal._id,\n                    input\n                },\n            });\n            setReload(true);\n            setAbono('');\n            setMetodoPago('');\n            setAlert({ \n                message: 'Abono registrado con exito', \n                status: 'success', \n                open: true \n            });\n            handleClick();\n            setLoading(false);\n        } catch (error) {\n            handleClick();\n            setLoading(false);\n            setAlert({ \n                message: 'Ocurrio un problema en el servidor', \n                status: 'error', \n                open: true \n            });\n\n        }\n    };\n\n    const handleClick = () => {\n        setReload(true);\n        setOpen(!open);\n    };\n\n    return (\n        <div>\n            <Button\n                size=\"large\"\n                variant=\"outlined\" \n                fullWidth\n                color=\"primary\"\n                startIcon={<AddCircleOutlineIcon style={{fontSize: 35}} />}\n                onClick={handleClick}\n            >\n                <Typography variant=\"h6\">\n                    Abonar    \n                </Typography>\n            </Button>\n            <Dialog\n                open={open}\n                TransitionComponent={Transition}\n                keepMounted\n                onClose={handleClick}\n                fullWidth\n                maxWidth='xs'\n            >\n                <BackdropComponent loading={loading} setLoading={setLoading} />\n                <DialogTitle id=\"alert-dialog-slide-title\">\n                    <Box display=\"flex\">\n                        <Box p={1} flexGrow={1}>\n                            Registrar nuevo abono\n                        </Box>\n                        <Box p={1}>\n                            <Button variant=\"contained\" color=\"secondary\" onClick={handleClick} size=\"large\">\n\t\t\t\t\t\t\t\t<CloseIcon />\n\t\t\t\t\t\t\t</Button>\n                        </Box>\n                    </Box>\n                </DialogTitle>\n                <DialogContent>\n                    <Box width=\"100%\"  mt={2} >\n                        <Typography><b>Cantidad a abonar:</b></Typography>\n                        <TextField\n                            fullWidth\n                            className={classes.input}\n                            onChange={(e) => setAbono(e.target.value)}\n                            value={abono}\n                            size=\"small\"\n                            name=\"abono_recibir\"\n                            variant=\"outlined\"\n                            type='number'\n                        />\n                    </Box>\n                    <div className={classes.formInputFlex}>\n                        <Box width=\"100%\" mt={2} >\n                            <Typography><b>Metodo de pago:</b></Typography>\n                            <FormControl \n                                variant=\"outlined\"\n                                fullWidth\n                                size=\"small\"\n                            >\n                                <Select\n                                    width=\"100%\"\n                                    name=\"metodo_pago\"\n                                    variant='outlined'\n                                    value={metodoPago ? metodoPago : ''}\n                                    onChange={(e) => setMetodoPago(e.target.value)}\n                                >\n                                    <MenuItem value=\"\">\n                                        <em>Selecciona uno</em>\n                                    </MenuItem>\n                                    {formaPago.map((metodo, index) => {\n                                        return(\n                                            <MenuItem key={index} value={metodo.Value}>{metodo.Name}</MenuItem>\n                                        )\n                                    })}\n                                </Select>\n                            </FormControl>\n                        </Box>\n                    </div>\n                    <Box width=\"100%\" mt={2} display='flex'>\n                        <Box flexGrow={1}>\n                            <Typography variant='h6'>\n                                <b>Total cuenta</b>\n                            </Typography>\n                        </Box>\n                        <Typography style={{color: '#9B9B9B'}} variant='h6'>\n                            <b>${formatoMexico(cuenta.total)}</b>\n                        </Typography>\n                    </Box>\n                    <Box width=\"100%\" display='flex'>\n                        <Box flexGrow={1}>\n                            <Typography  variant='h6'>\n                                <b>Total abonado</b>\n                            </Typography>\n                        </Box>\n                        <Typography style={{color: 'green'}} variant='h6'>\n                            <b>${formatoMexico(cuenta.total - cuenta.saldo_credito_pendiente)}</b>\n                        </Typography>\n                    </Box>\n                    <Box width=\"100%\" display='flex'>\n                        <Box flexGrow={1} >\n                            <Typography  variant='h6'>\n                                <b>Total restante</b>\n                            </Typography>\n                        </Box>\n                        <Typography  variant='h6'>\n                            <b>${formatoMexico(cuenta.saldo_credito_pendiente)}</b>\n                        </Typography>\n                    </Box>\n                    \n                </DialogContent>\n                <Box display=\"flex\" justifyContent=\"center\" alignContent=\"center\" p={2}>\n                    <Button\n                        size=\"large\"\n                        variant=\"contained\" \n                        color=\"primary\"\n                        style={{fontSize: 18}}\n                        onClick={enviarDatos}\n                    >\n                        Registrar Abono\n                    </Button>\n                </Box>\n            </Dialog>\n        </div>\n    )\n}\n","import React, { Fragment } from 'react'\nimport { Box, Grid, makeStyles, Typography, Button, AppBar, Toolbar } from '@material-ui/core';\nimport CloseIcon from '@material-ui/icons/Close';\nimport TablaCompras from './TablaCompras';\nimport TablaAbonos from './TablaDeAbonos';\nimport AbonoaRecibir from '../AbonoPercibir';\nimport moment from 'moment';\nimport { formatoMexico } from '../../../../../../../config/reuserFunctions';\n\nconst useStyles = makeStyles((theme) => ({\n    appBar: {\t\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n    icon: {\n\t\twidth: 100\n\t},\n\tformInputFlex: {\n\t\tdisplay: 'flex',\n\t\t'& > *': {\n\t\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(1)}px`\n\t\t}\n\t},\n\tformInput: {\n\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(1)}px`\n\t},\n}));\n\n\nexport default function DetallesCuenta({handleClick, cuenta}) {\n\tconst permisosUsuario = JSON.parse(localStorage.getItem('sesionCafi'));\n    const classes = useStyles();\n\n    return (\n        <Fragment>\n            <AppBar className={classes.appBar}>\n                <Toolbar>\n                    <Typography variant=\"h6\" className={classes.title}>\n                        Detalles de cuenta\n                    </Typography>\n                    <Box m={1}>\n                        <Button variant=\"contained\" color=\"secondary\" onClick={handleClick} size=\"large\">\n                            <CloseIcon style={{fontSize: 30}} />\n                        </Button>\n                    </Box>\n                </Toolbar>\n            </AppBar>\n            <div className={classes.formInputFlex}>\n                <Box width=\"100%\" p={1}>\n                    <Box width=\"100%\" display=\"flex\" p={.5}>\n                        <Typography><b>Nombre de proveedor: </b> </Typography>\n                        <Typography style={{paddingLeft: 5}}>{cuenta.proveedor.id_proveedor.nombre_cliente}</Typography>\n                    </Box>\n                    <Box width=\"100%\" display=\"flex\"  p={.5}>\n                        <Typography><b>Clave proveedor: </b> </Typography>\n                        <Typography style={{paddingLeft: 5}}>{cuenta.proveedor.id_proveedor.clave_cliente}</Typography>\n                    </Box>\n                </Box>\n                <Box width=\"100%\" p={1}>\n                    <Box width=\"100%\" display=\"flex\" p={.5}>\n                        <Typography><b>Nombre de usuario: </b> </Typography>\n                        <Typography style={{paddingLeft: 5}}>{cuenta.usuario.nombre}</Typography>\n                    </Box>\n                    <Box width=\"100%\" display=\"flex\"  p={.5}>\n                        <Typography><b>Numero usuario: </b> </Typography>\n                        <Typography style={{paddingLeft: 5}}>{cuenta.usuario.numero_usuario}</Typography>\n                    </Box>\n                </Box>\n                <Box width=\"100%\" p={1}>\n                    <Box width=\"100%\" display=\"flex\" p={.5}>\n                        <Typography><b>Fecha compra: </b> </Typography>\n                        <Typography style={{paddingLeft: 5}}>{moment(cuenta.fecha_registro).format('D MMMM YYYY')}</Typography>\n                    </Box>\n                    <Box width=\"100%\" display=\"flex\"  p={.5}>\n                        <Typography><b>Fecha vencimiento: </b> </Typography>\n                        <Typography style={{paddingLeft: 5}}>{moment(cuenta.fecha_vencimiento_credito).format('D MMMM YYYY')}</Typography>\n                    </Box>\n                </Box>\n                {permisosUsuario.accesos.tesoreria.abonos_proveedores.editar === false ? (null) : (\n                    <Box width=\"60%\" p={1} display='flex' alignItems={'center'} >\n                        <AbonoaRecibir cuenta={cuenta} />\n                    </Box>\n                )}\n            </div>\n            <Grid container>\n                <Grid item lg={6} xs={12}>\n                    <Box p={2}>\n                        <Typography variant=\"h6\">\n                            Lista de abonos\n                        </Typography>\n                    </Box>\n                    <Box p={2}>\n                        <TablaAbonos cuenta={cuenta} />\n                    </Box>\n                    <Box p={1} mr={3} display=\"flex\" justifyContent=\"flex-end\">\n                        <Typography variant='h6'>Total abonado: <b style={{color: \"#9B9B9B\"}}>${cuenta.total - cuenta.saldo_credito_pendiente}</b></Typography>\n                    </Box> \n                    <Box p={1} mr={3} display=\"flex\" justifyContent=\"flex-end\">\n                        <Typography variant='h6'>Restante: <b  style={{color: \"green\"}}>${formatoMexico(cuenta.saldo_credito_pendiente)}</b></Typography>\n                    </Box>\n                </Grid>\n                <Grid item lg={6} xs={12}>\n                    <Box p={2} >\n                        <Typography variant=\"h6\">\n                            Lista de compra\n                        </Typography>\n                    </Box>\n                    <Box p={2}>\n                        <TablaCompras productos={cuenta.productos}/>\n                    </Box>\n                    <Box p={1} mr={3} display=\"flex\" justifyContent=\"flex-end\">\n                        <Typography variant='h6'>Total a liquidar: <b  style={{color: \"red\"}}>${formatoMexico(cuenta.total)}</b></Typography>\n                    </Box>\n                </Grid>\n            </Grid>\n        </Fragment>\n\n    )\n}\n","import React, { useContext, useState } from 'react'\nimport {  Box, Button, Dialog, DialogActions, DialogContent, FormControl, makeStyles, MenuItem, Select, Slider, TextField, Typography } from '@material-ui/core';\nimport DoneIcon from '@material-ui/icons/Done';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { formatoMexico } from '../../../../../../config/reuserFunctions';\nimport BackdropComponent from '../../../../../../components/Layouts/BackDrop';\nimport { formaPago } from '../../../../Facturacion/catalogos';\nimport moment from 'moment';\nimport { CREAR_ABONO } from '../../../../../../gql/Tesoreria/abonos';\nimport { useMutation } from '@apollo/client';\nimport { TesoreriaCtx } from '../../../../../../context/Tesoreria/tesoreriaCtx';\n\nconst useStyles = makeStyles((theme) => ({\n\tformInputFlex: {\n\t\tdisplay: 'flex',\n\t\t'& > *': {\n\t\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(1)}px`\n\t\t}\n\t},\n\tformInput: {\n\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(1)}px`\n\t},\n    appBar: {\n\t\tposition: 'relative'\n\t},\n}));\n\nexport default function LiquidarCuenta({cuenta, refetch}) {\n    const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n    const { setAlert, setReload } = useContext(TesoreriaCtx);\n\n    const [ CrearAbono ] = useMutation(CREAR_ABONO);\n\n    const [open, setOpen] = useState(false);\n    const [value, setValue] = useState(0);\n    const [cuentaTotalDescuento, setCuentaTotalDescuento] = useState(0);\n    const [dineroDescontado, setDineroDescontado] = useState(0);\n\n    const [loading, setLoading] = useState(false);\n    const [metodoPago, setMetodoPago] = useState('');\n\n    const handleClick = () => { \n        setOpen(!open);\n        setCuentaTotalDescuento(0);\n        setDineroDescontado(0);\n        setValue(0)\n    };\n\n    const classes = useStyles();\n\n    const obtenerPorcientoSlide = (event, newValue) => {\n        setValue(newValue);\n        let porcentaje  =  parseFloat((100 - newValue).toFixed(2));//Porcentaje para calculos de descuento\n        let cuenta_con_descuento = parseFloat((cuenta.saldo_credito_pendiente * porcentaje / 100).toFixed(2));\n        let dineroDescontado = parseFloat((cuenta.saldo_credito_pendiente - cuenta_con_descuento).toFixed(2));\n        setCuentaTotalDescuento(cuenta_con_descuento);\n        setDineroDescontado(dineroDescontado);\n    };\n\n    const obtenerPrecioText = (e) => {\n        let valorText = parseFloat(e.target.value);\n\n        let porcentaje  = parseFloat((((valorText * 100) / cuenta.saldo_credito_pendiente ).toFixed(2)));\n        let dineroDescontado = parseFloat((cuenta.saldo_credito_pendiente - valorText).toFixed(2));\n\n        setCuentaTotalDescuento(valorText);\n        setDineroDescontado(dineroDescontado);\n        setValue(porcentaje);\n\n    };\n    \n    function valuetext(e) {\n        return `${e}`;\n    };\n\n    const input = {\n        tipo_movimiento: \"ABONO\",\n        rol_movimiento: \"PROVEEDOR\",\n        fecha_movimiento: {\n            year: moment().format('YYYY'),\n            mes: moment().format('MM'),\n            dia: moment().format('DD'),\n            no_semana_year: moment().week().toString(),\n            no_dia_year: moment().dayOfYear().toString(),\n            completa: moment().locale('es-mx').format()\n        },\n        monto_total_abonado: parseFloat(cuenta.saldo_credito_pendiente),\n        descuento: {\n            porciento_descuento: value,\n            dinero_descontado: dineroDescontado,\n            total_con_descuento: cuentaTotalDescuento\n        },\n        montos_en_caja: {   \n            monto_efectivo: {\n                monto: metodoPago === '01' ? parseFloat(cuentaTotalDescuento === 0 ? cuenta.saldo_credito_pendiente : cuentaTotalDescuento) : 0,\n                metodo_pago: \"01\"\n            },\n            monto_tarjeta_debito: {\n                monto: metodoPago === '28' ? parseFloat(cuentaTotalDescuento === 0 ? cuenta.saldo_credito_pendiente : cuentaTotalDescuento) : 0,\n                metodo_pago: \"28\"\n            },\n            monto_tarjeta_credito: {\n                monto: metodoPago === '04' ? parseFloat(cuentaTotalDescuento === 0 ? cuenta.saldo_credito_pendiente : cuentaTotalDescuento) : 0,\n                metodo_pago: \"04\"\n            },\n            monto_creditos: {\n                monto: metodoPago === '99' ? parseFloat(cuentaTotalDescuento === 0 ? cuenta.saldo_credito_pendiente : cuentaTotalDescuento) : 0,\n                metodo_pago: \"99\"\n            },\n            monto_monedero: {\n                monto: metodoPago === '05' ? parseFloat(cuentaTotalDescuento === 0 ? cuenta.saldo_credito_pendiente : cuentaTotalDescuento) : 0,\n                metodo_pago: \"05\"\n            },\n            monto_transferencia: {\n                monto: metodoPago === '03' ? parseFloat(cuentaTotalDescuento === 0 ? cuenta.saldo_credito_pendiente : cuentaTotalDescuento) : 0,\n                metodo_pago: \"03\"\n            },\n            monto_cheques: {\n                monto: metodoPago === '02' ? parseFloat(cuentaTotalDescuento === 0 ? cuenta.saldo_credito_pendiente : cuentaTotalDescuento) : 0,\n                metodo_pago: \"02\"\n            },\n            monto_vales_despensa: {\n                monto: metodoPago === '08' ? parseFloat(cuentaTotalDescuento === 0 ? cuenta.saldo_credito_pendiente : cuentaTotalDescuento) : 0,\n                metodo_pago: \"08\"\n            },\n        },\n        metodo_de_pago:{\n            clave: \"\",\n            metodo:  \"\",\n        },\n        numero_usuario_creador: sesion.numero_usuario,\n        nombre_usuario_creador: sesion.nombre,\n        id_cliente: cuenta.proveedor.id_proveedor._id,\n        numero_cliente: cuenta.proveedor.numero_cliente,\n        nombre_cliente: cuenta.proveedor.nombre_cliente, \n        telefono_cliente: cuenta.proveedor.id_proveedor.telefono, \n        email_cliente: cuenta.proveedor.id_proveedor.email,\n        id_compra: cuenta._id\n    };\n\n    \n    const enviarDatos = async () => { \n        setLoading(true);\n        try {\n            if( metodoPago === '' ){\n                setAlert({ \n                    message: 'Por favor complete el metodo de pago', \n                    status: 'error', \n                    open: true \n                });\n                setLoading(false);\n                return \n            }; \n            await CrearAbono({\n                variables: {\n                    empresa: sesion.empresa._id,\n                    sucursal: sesion.sucursal._id,\n                    input\n                },\n            });\n            setReload(true);\n            setMetodoPago('');\n            setAlert({ \n                message: 'Cuenta liquidada con exito', \n                status: 'success', \n                open: true \n            });\n            handleClick();\n            setLoading(false);\n\n        } catch (error) {\n            handleClick();\n            setLoading(false);\n            setAlert({ \n                message: 'Ocurrio un problema en el servidor', \n                status: 'error', \n                open: true \n            });\n        }\n    };\n\n    return (\n        <div>\n            <Button\n                size=\"medium\"\n                variant=\"outlined\"  \n                color=\"primary\"\n                startIcon={<DoneIcon />}\n                onClick={handleClick}\n            >\n                Liquidar\n            </Button>\n\n            <Dialog\n                open={open}\n                fullWidth\n                maxWidth='xs'\n                onClose={handleClick}\n                aria-labelledby=\"draggable-dialog-title\"\n            >\n                <BackdropComponent loading={loading} setLoading={setLoading} />\n                <Box display=\"flex\">\n                    <Box flexGrow={1} p={2}>\n                        <Typography variant=\"h6\" className={classes.title}>\n                            Liquidar Cuenta\n                        </Typography>\n                    </Box>\n                    <Box p={1}>\n                        <Button variant=\"contained\" color=\"secondary\" onClick={handleClick} size=\"large\">\n                            <CloseIcon  />\n                        </Button>\n                    </Box>\n\t\t\t\t</Box>\n                <DialogContent>\n                    <Typography>Aplica un descuento por pronto pago a tu cuenta</Typography>\n                    <Box mt={1} textAlign=\"center\">\n                        <Typography id=\"discrete-slider-always\" gutterBottom>\n                            <b>Porcentaje de descuento</b>\n                        </Typography>\n                    </Box>\n                    <Box ml={1} mr={1} mb={2} >\n                        <Slider\n                            getAriaValueText={valuetext}\n                            valueLabelFormat={value.toFixed(2)}\n                            aria-labelledby=\"discrete-slider-small-steps\"\n                            valueLabelDisplay=\"auto\"\n                            onChange={obtenerPorcientoSlide} \n                        />\n                    </Box>\n                    <Box width=\"100%\" textAlign=\"center\">\n                        <Typography id=\"discrete-slider-always\" gutterBottom>\n                            <b>Dinero a liquidar con descuento</b>\n                        </Typography>\n                        <TextField\n                            fullWidth\n                            size=\"small\"\n                            name=\"descuento\"\n                            variant=\"outlined\"\n                            value={cuentaTotalDescuento ? cuentaTotalDescuento : 0 }\n                            onChange={obtenerPrecioText}\n                        />\n                    </Box>\n                    <Box width=\"100%\" mt={2} textAlign={'center'} >\n                        <Typography><b>Metodo de pago:</b></Typography>\n                        <FormControl\n                            variant=\"outlined\"\n                            fullWidth\n                            size=\"small\"\n                        >\n                            <Select\n                                width=\"100%\"\n                                name=\"metodo_pago\"\n                                variant='outlined'\n                                onChange={(e) => setMetodoPago(e.target.value )}\n                            >\n                                <MenuItem value=\"\">\n                                    <em>Selecciona uno</em>\n                                </MenuItem>\n                                {formaPago.map((metodo, index) => {\n                                    return(\n                                        <MenuItem key={index} value={metodo.Value}>{metodo.Name}</MenuItem>\n                                    )\n                                })}\n                            </Select>\n                        </FormControl>\n                    </Box>\n                    <Box display=\"flex\" mt={2}>\n                        <Box flexGrow={1}>\n                            <Typography>Total cuenta: </Typography>\n                        </Box>\n                        <Box>\n                            <Typography><b>${formatoMexico(cuenta.total)}</b></Typography>\n                        </Box>\n                    </Box>\n                    <Box display=\"flex\">\n                        <Box flexGrow={1}>\n                            <Typography>Saldo pendiente: </Typography>\n                        </Box>\n                        <Box >\n                            <Typography><b>${formatoMexico(cuenta.saldo_credito_pendiente)}</b></Typography>\n                        </Box>\n                    </Box>\n                    <Box display=\"flex\">\n                        <Box flexGrow={1}>\n                            <Typography>Dinero Descontado: </Typography>\n                        </Box>\n                        <Box >\n                            <Typography><b>${formatoMexico(dineroDescontado)}</b></Typography>\n                        </Box>\n                    </Box>\n                    <Box display=\"flex\">\n                        <Box flexGrow={1}>\n                            <Typography>Porciento Descontado: </Typography>\n                        </Box>\n                        <Box >\n                            <Typography><b>{formatoMexico(value)}%</b></Typography>\n                        </Box>\n                    </Box>\n                    <Box display=\"flex\">\n                        <Box flexGrow={1}>\n                            <Typography variant=\"h6\" >Total a pagar:</Typography>\n                        </Box>\n                        <Box >\n                            <Typography variant=\"h6\" ><b style={{color: 'green'}}>${formatoMexico(cuentaTotalDescuento === 0 ? cuenta.saldo_credito_pendiente : cuentaTotalDescuento)}</b></Typography>\n                        </Box>\n                    </Box>\n                </DialogContent>\n                <DialogActions>\n                    <Button \n                        onClick={enviarDatos} \n                        color=\"primary\"\n                        variant=\"contained\"\n                        size=\"large\"\n                    >\n                        Liquidar\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        </div>\n    )\n}\n","import React, { Fragment, useContext, useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport {formatoMexico} from '../../../../../../config/reuserFunctions'\nimport DetallesCuenta from './DetalleCuenta/DetallesCuenta';\nimport LiquidarCuenta from './LiquidarCuenta';\nimport moment from 'moment';\n\nimport { Box, CircularProgress, Dialog, Slide, TableHead } from '@material-ui/core';\nimport 'moment/locale/es';\nimport { TesoreriaCtx } from '../../../../../../context/Tesoreria/tesoreriaCtx';\n\nconst columns = [\n\t{ id: 'fecha', label: 'Fecha Compra', minWidth: 100, align: 'center' },\n\t{ id: 'provedor', label: 'Provedor', minWidth: 100, align: 'center' },\n\t{ id: 'abonado', label: 'Abonado', minWidth: 100, align: 'center' },\n    { id: 'restante', label: 'Restante', minWidth: 100, align: 'center' },\n    { id: 'total', label: 'Total', minWidth: 100, align: 'center' }\n];\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n\t\twidth: '100%'\n\t},\n\tpaper: {\n\t\twidth: '100%',\n\t\tmarginBottom: theme.spacing(2)\n\t},\n\ttable: {\n\t\tminWidth: 750\n\t},\n\tvisuallyHidden: {\n\t\tborder: 0,\n\t\tclip: 'rect(0 0 0 0)',\n\t\theight: 1,\n\t\tmargin: -1,\n\t\toverflow: 'hidden',\n\t\tpadding: 0,\n\t\tposition: 'absolute',\n\t\ttop: 20,\n\t\twidth: 1\n\t}\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function TablaAbonos({loading}) {\n\n\tconst { cuentas} = useContext(TesoreriaCtx);\n\n\tconst classes = useStyles();\n\n\tif (loading) \n\t\treturn (\n\t\t\t<Box\n\t\t\tdisplay=\"flex\"\n\t\t\tflexDirection=\"column\"\n\t\t\tjustifyContent=\"center\"\n\t\t\talignItems=\"center\"\n\t\t\theight=\"50vh\"\n\t\t\t>\n\t\t\t\t<CircularProgress />\n\t\t\t</Box>\n\t\t);\n\n\treturn (\n\t\t<Fragment>\n\t\t<div className={classes.root}>\n\t\t\t<Paper className={classes.paper}>\n\t\t\t\t<TableContainer>\n\t\t\t\t\t<Table\n\t\t\t\t\t\tclassName={classes.table}\n\t\t\t\t\t\taria-labelledby=\"tableTitle\"\n\t\t\t\t\t\tstickyHeader\n\t\t\t\t\t\tsize=\"small\" \n\t\t\t\t\t\taria-label=\"a dense table\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t{columns.map((column) => (\n\t\t\t\t\t\t\t\t\t<TableCell key={column.id} align={column.align} style={{ minWidth: column.minWidth }}>\n\t\t\t\t\t\t\t\t\t\t{column.label}\n\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t<TableCell align={'center'} style={{ minWidth: 100 }}>\n\t\t\t\t\t\t\t\t\tLiquidar\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t</TableHead>\n\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t{cuentas?.map((row, index) => {\n\t\t\t\t\t\t\t\tif(row.credito_pagado === false){\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<RowsCuentas \n\t\t\t\t\t\t\t\t\t\t\tloading={loading}\n\t\t\t\t\t\t\t\t\t\t\tcuentaSelect={row}\n\t\t\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t})} \n\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t</Table>\n\t\t\t\t</TableContainer>\n\t\t\t</Paper>\n\t\t</div>\n\t\t</Fragment>\n\t);\n};\n\nfunction RowsCuentas ({cuentaSelect, loading}){\n\tconst permisosUsuario = JSON.parse(localStorage.getItem('sesionCafi'));\n\tconst [open, setOpen] = useState(false);\n    \n\tconst handleClick = () => {\n        setOpen(!open);\n    };\n\t\n\tconst TwoClickInRowTableBuy = (e) => {\n\t\ttry {\n\t\t\tlet timer;\n\t\t\tclearTimeout(timer);\n\t\t\tif (e.detail === 2) {\n\t\t\t\thandleClick();\n\t\t\t}\n\t\t} catch (error) {\n\t\t}\n\t};\n\n\treturn(\n\t\t<Fragment>\n\t\t\t<TableRow\n\t\t\t\thover\n\t\t\t\ttabIndex={-1}\n\t\t\t\tonClick={(e) => TwoClickInRowTableBuy(e)}\n\t\t\t>\n\t\t\t\t<TableCell align=\"center\">{moment(cuentaSelect.fecha_registro).format('D MMMM YYYY')}</TableCell>\n\t\t\t\t<TableCell align=\"center\">{cuentaSelect.proveedor.id_proveedor.nombre_cliente}</TableCell>\n\t\t\t\t<TableCell align=\"center\">${formatoMexico(cuentaSelect.total - cuentaSelect.saldo_credito_pendiente)}</TableCell>\n\t\t\t\t<TableCell align=\"center\">${formatoMexico(cuentaSelect.saldo_credito_pendiente)}</TableCell>\n\t\t\t\t<TableCell align=\"center\">${formatoMexico(cuentaSelect.total)}</TableCell>\n\t\t\t\t{permisosUsuario.accesos.tesoreria.abonos_proveedores.editar === false ? (\n\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t</TableCell>\n\t\t\t\t) : (\n\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t<LiquidarCuenta cuenta={cuentaSelect}/>\n\t\t\t\t\t</TableCell>\n\t\t\t\t)}\n\t\t\t</TableRow>\n\n\t\t\t<Dialog\n\t\t\t\tfullScreen\n\t\t\t\topen={open} \n\t\t\t\tonClose={handleClick} \n\t\t\t\tTransitionComponent={Transition}\n\t\t\t>\n\t\t\t\t<DetallesCuenta\n\t\t\t\t\tcuenta={cuentaSelect}\n\t\t\t\t\tloading={loading}\n\t\t\t\t\thandleClick={handleClick}\n\t\t\t\t/>\n\t\t\t</Dialog>\n\t\t</Fragment>\n\t);\n};\n","import React, { useContext, useEffect, useRef, useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport CloseIcon from '@material-ui/icons/Close';\nimport Slide from '@material-ui/core/Slide';\nimport { Box, IconButton, InputAdornment, TextField } from '@material-ui/core';\nimport { OBTENER_COMPRAS_REALIZADAS } from \"../../../../../gql/Compras/compras\";\n\n\nimport TablaAbonos from './Components/TablaAbonos';\nimport { useQuery } from '@apollo/client';\nimport { TesoreriaCtx } from '../../../../../context/Tesoreria/tesoreriaCtx';\nimport SearchOutlined from '@material-ui/icons/SearchOutlined';\n\nconst useStyles = makeStyles((theme) => ({\n\tappBar: {\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n    icon: {\n\t\twidth: 100\n\t},\n\trootSearch: {\n\t\tdisplay: 'flex',\n\t\tpaddingLeft: theme.spacing(2)\n\t}\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function AbonosProveedores() {\n\tconst sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n\tconst { reload, setReload, setCuentas } = useContext(TesoreriaCtx);\n\t\n\tconst classes = useStyles();\n\tconst [ open, setOpen ] = useState(false);\n\tconst [filtro, setFiltro] = useState(\"\");\n\tconst searchfilter = useRef(null);\n\n\tconst { loading, data, error, refetch } = useQuery(\n\t\tOBTENER_COMPRAS_REALIZADAS,\n\t\t{\n\t\t  variables: {\n\t\t\tempresa: sesion.empresa._id,\n\t\t\tsucursal: sesion.sucursal._id,\n\t\t\tfecha: \"\"\n\t\t  },\n\t\t  fetchPolicy: \"network-only\",\n\t\t}\n\t);\n\n\tif(data){\n\t\tsetCuentas(data.obtenerComprasRealizadas)\n\t};\n\t\n\tuseEffect(() => {\n\t\t\n\t\trefetch();\n\t\t\n\t\tsetReload(false);\n\n\t}, [reload, refetch]);\n\n\tconst handleClickOpen = () => setOpen(!open);\n\n\tconst obtenerBusqueda = (e, value) => {\n\t\te.preventDefault();\n\t\trefetch({ filtro: value, fecha: '' });\n\t\tsetFiltro(value);\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<Button fullWidth onClick={handleClickOpen}>\n\t\t\t\t<Box display=\"flex\" flexDirection=\"column\">\n\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n                        <img src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/salary.svg' alt=\"icono abono\" className={classes.icon} />\n\t\t\t\t\t</Box>\n\t\t\t\t\tAbonos de provedores\n\t\t\t\t</Box>\n\t\t\t</Button>\n\t\t\t<Dialog fullScreen open={open} onClose={handleClickOpen} TransitionComponent={Transition}>\n\t\t\t\t<AppBar className={classes.appBar}>\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t<Typography variant=\"h6\" className={classes.title}>\n                        \tAbonos a Provedores\n\t\t\t\t\t\t</Typography>\n                        <Box m={1}>\n\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"secondary\" onClick={handleClickOpen} size=\"large\">\n\t\t\t\t\t\t\t\t<CloseIcon style={{fontSize: 30}} />\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</AppBar>\n\t\t\t\t<Box display='flex' p={2}>\n\t\t\t\t\t<Box minWidth=\"70%\">\n\t\t\t\t\t<form onSubmit={(e) => obtenerBusqueda(e, e.target[0].value)}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tinputRef={searchfilter}\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\tplaceholder=\"Buscar una compra...\"\n\t\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\tendAdornment: (\n\t\t\t\t\t\t\t\t<InputAdornment position=\"end\">\n\t\t\t\t\t\t\t\t<IconButton type=\"submit\" color=\"primary\" size=\"medium\">\n\t\t\t\t\t\t\t\t\t<SearchOutlined />\n\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t</InputAdornment>\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t</form>\n\t\t\t\t\t</Box>\n\t\t\t\t</Box>\n\t\t\t\t<Box p={2}>\n\t\t\t\t\t<TablaAbonos \t\n\t\t\t\t\t\tloading={loading}\n\t\t\t\t\t\trefetch={refetch}\n\t\t\t\t\t/>\n\t\t\t\t</Box>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n}\n","import React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TablePagination from '@material-ui/core/TablePagination';\nimport TableRow from '@material-ui/core/TableRow';\n\nconst columns = [\n\t{ id: 'name', label: 'Name', minWidth: 170 },\n\t{ id: 'code', label: 'ISO\\u00a0Code', minWidth: 100 },\n\t{\n\t\tid: 'population',\n\t\tlabel: 'Population',\n\t\tminWidth: 170,\n\t\talign: 'right',\n\t\tformat: (value) => value.toLocaleString('en-US')\n\t},\n\t{\n\t\tid: 'size',\n\t\tlabel: 'Size\\u00a0(km\\u00b2)',\n\t\tminWidth: 170,\n\t\talign: 'right',\n\t\tformat: (value) => value.toLocaleString('en-US')\n\t},\n\t{\n\t\tid: 'density',\n\t\tlabel: 'Density',\n\t\tminWidth: 170,\n\t\talign: 'right',\n\t\tformat: (value) => value.toFixed(2)\n\t}\n];\n\nfunction createData(name, code, population, size) {\n\tconst density = population / size;\n\treturn { name, code, population, size, density };\n}\n\nconst rows = [\n\tcreateData('India', 'IN', 1324171354, 3287263),\n\tcreateData('China', 'CN', 1403500365, 9596961),\n\tcreateData('Italy', 'IT', 60483973, 301340),\n\tcreateData('United States', 'US', 327167434, 9833520),\n\tcreateData('Canada', 'CA', 37602103, 9984670),\n\tcreateData('Australia', 'AU', 25475400, 7692024),\n\tcreateData('Germany', 'DE', 83019200, 357578),\n\tcreateData('Ireland', 'IE', 4857000, 70273),\n\tcreateData('Mexico', 'MX', 126577691, 1972550),\n\tcreateData('Japan', 'JP', 126317000, 377973),\n\tcreateData('France', 'FR', 67022000, 640679),\n\tcreateData('United Kingdom', 'GB', 67545757, 242495),\n\tcreateData('Russia', 'RU', 146793744, 17098246),\n\tcreateData('Nigeria', 'NG', 200962417, 923768),\n\tcreateData('Brazil', 'BR', 210147125, 8515767)\n];\n\nconst useStyles  = makeStyles((theme) => ({\n\troot: {\n\t\twidth: '100%'\n\t},\n\tcontainer: {\n\t\tmaxHeight: '100%'\n\t},\n    appBar: {\t\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t}\n}));\n\nexport default function TablaCompras() {\n\tconst classes = useStyles();\n\tconst [ page, setPage ] = useState(0);\n\tconst [ rowsPerPage, setRowsPerPage ] = useState(5);\n\n\tconst handleChangePage = (event, newPage) => {\n\t\tsetPage(newPage);\n\t};\n\n\tconst handleChangeRowsPerPage = (event) => {\n\t\tsetRowsPerPage(+event.target.value);\n\t\tsetPage(0);\n\t};\n\n\treturn (\n\t\t<Paper className={classes.root}>\n\t\t\t<TableContainer className={classes.container}>\n\t\t\t\t<Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t{columns.map((column) => (\n\t\t\t\t\t\t\t\t<TableCell key={column.id} align={column.align} style={{ minWidth: column.minWidth }}>\n\t\t\t\t\t\t\t\t\t{column.label}\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t</TableHead>\n\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t{rows.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage).map((row) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<TableRow hover role=\"checkbox\" tabIndex={-1} key={row.code}>\n\t\t\t\t\t\t\t\t\t{columns.map((column) => {\n\t\t\t\t\t\t\t\t\t\tconst value = row[column.id];\n\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t<TableCell \n                                                key={column.id} \n                                                align={column.align}\n                                            >\n\t\t\t\t\t\t\t\t\t\t\t\t{column.format && typeof value === 'number' ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolumn.format(value)\n\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t\t</TableBody>\n\t\t\t\t</Table>\n\t\t\t</TableContainer>\n\t\t\t<TablePagination\n\t\t\t\trowsPerPageOptions={[ 10, 25, 100 ]}\n\t\t\t\tcomponent=\"div\"\n\t\t\t\tcount={rows.length}\n\t\t\t\trowsPerPage={rowsPerPage}\n\t\t\t\tpage={page}\n\t\t\t\tonChangePage={handleChangePage}\n\t\t\t\tonChangeRowsPerPage={handleChangeRowsPerPage}\n\t\t\t/>\n\n\t\t</Paper>\n\t);\n}","import React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TablePagination from '@material-ui/core/TablePagination';\nimport TableRow from '@material-ui/core/TableRow';\n\nconst columns = [\n\t{ id: 'name', label: 'Name', minWidth: 170 },\n\t{ id: 'code', label: 'ISO\\u00a0Code', minWidth: 100 },\n\t{\n\t\tid: 'population',\n\t\tlabel: 'Population',\n\t\tminWidth: 170,\n\t\talign: 'right',\n\t\tformat: (value) => value.toLocaleString('en-US')\n\t},\n\t{\n\t\tid: 'size',\n\t\tlabel: 'Size\\u00a0(km\\u00b2)',\n\t\tminWidth: 170,\n\t\talign: 'right',\n\t\tformat: (value) => value.toLocaleString('en-US')\n\t},\n\t{\n\t\tid: 'density',\n\t\tlabel: 'Density',\n\t\tminWidth: 170,\n\t\talign: 'right',\n\t\tformat: (value) => value.toFixed(2)\n\t}\n];\n\nfunction createData(name, code, population, size) {\n\tconst density = population / size;\n\treturn { name, code, population, size, density };\n}\n\nconst rows = [\n\tcreateData('India', 'IN', 1324171354, 3287263),\n\tcreateData('China', 'CN', 1403500365, 9596961),\n\tcreateData('Italy', 'IT', 60483973, 301340),\n\tcreateData('United States', 'US', 327167434, 9833520),\n\tcreateData('Canada', 'CA', 37602103, 9984670),\n\tcreateData('Australia', 'AU', 25475400, 7692024),\n\tcreateData('Germany', 'DE', 83019200, 357578),\n\tcreateData('Ireland', 'IE', 4857000, 70273),\n\tcreateData('Mexico', 'MX', 126577691, 1972550),\n\tcreateData('Japan', 'JP', 126317000, 377973),\n\tcreateData('France', 'FR', 67022000, 640679),\n\tcreateData('United Kingdom', 'GB', 67545757, 242495),\n\tcreateData('Russia', 'RU', 146793744, 17098246),\n\tcreateData('Nigeria', 'NG', 200962417, 923768),\n\tcreateData('Brazil', 'BR', 210147125, 8515767)\n];\n\nconst useStyles  = makeStyles((theme) => ({\n\troot: {\n\t\twidth: '100%'\n\t},\n\tcontainer: {\n\t\tmaxHeight: '100%'\n\t},\n    appBar: {\t\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t}\n}));\n\nexport default function TablaAbonos() {\n\tconst classes = useStyles();\n\tconst [ page, setPage ] = useState(0);\n\tconst [ rowsPerPage, setRowsPerPage ] = useState(5);\n\n\tconst handleChangePage = (event, newPage) => {\n\t\tsetPage(newPage);\n\t};\n\n\tconst handleChangeRowsPerPage = (event) => {\n\t\tsetRowsPerPage(+event.target.value);\n\t\tsetPage(0);\n\t};\n\n\treturn (\n\t\t<Paper className={classes.root}>\n\t\t\t<TableContainer className={classes.container}>\n\t\t\t\t<Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t{columns.map((column) => (\n\t\t\t\t\t\t\t\t<TableCell key={column.id} align={column.align} style={{ minWidth: column.minWidth }}>\n\t\t\t\t\t\t\t\t\t{column.label}\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t</TableHead>\n\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t{rows.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage).map((row) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<TableRow hover role=\"checkbox\" tabIndex={-1} key={row.code}>\n\t\t\t\t\t\t\t\t\t{columns.map((column) => {\n\t\t\t\t\t\t\t\t\t\tconst value = row[column.id];\n\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t<TableCell \n                                                key={column.id} \n                                                align={column.align}\n                                            >\n\t\t\t\t\t\t\t\t\t\t\t\t{column.format && typeof value === 'number' ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolumn.format(value)\n\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t\t</TableBody>\n\t\t\t\t</Table>\n\t\t\t</TableContainer>\n\t\t\t<TablePagination\n\t\t\t\trowsPerPageOptions={[ 10, 25, 100 ]}\n\t\t\t\tcomponent=\"div\"\n\t\t\t\tcount={rows.length}\n\t\t\t\trowsPerPage={rowsPerPage}\n\t\t\t\tpage={page}\n\t\t\t\tonChangePage={handleChangePage}\n\t\t\t\tonChangeRowsPerPage={handleChangeRowsPerPage}\n\t\t\t/>\n\n\t\t</Paper>\n\t);\n}","import React, { useState } from 'react'\n\nimport { Box, Grid, makeStyles, Typography, Button, Dialog, Slide, AppBar, Toolbar } from '@material-ui/core'\nimport CloseIcon from '@material-ui/icons/Close';\nimport TablaCompras from './TablaCompras';\nimport TablaAbonos from './TablaDeAbonos';\n\nconst useStyles = makeStyles((theme) => ({\n    appBar: {\t\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n    icon: {\n\t\twidth: 100\n\t},\n\tformInputFlex: {\n\t\tdisplay: 'flex',\n\t\t'& > *': {\n\t\t\tmargin: `${theme.spacing(4)}px ${theme.spacing(2)}px`\n\t\t}\n\t},\n\tformInput: {\n\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(2)}px`\n\t},\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function DetallesCuenta() {\n    \n    const [open, setOpen] = useState(false);\n    const classes = useStyles();\n\n    const handleClick =()=>{\n        setOpen(!open);\n    }\n\n    return (\n        <div>\n            <Button\n                size=\"medium\"\n                variant=\"contained\" \n                color=\"primary\"\n                onClick={handleClick}\n            >\n                Detalles\n            </Button>\n            <Dialog fullScreen open={open} onClose={handleClick} TransitionComponent={Transition}>\n\t\t\t\t<AppBar className={classes.appBar}>\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t<Typography variant=\"h6\" className={classes.title}>\n                        \tDetalle de cuenta\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\n                        <Box m={1}>\n\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"secondary\" onClick={handleClick} size=\"large\">\n\t\t\t\t\t\t\t\t<CloseIcon style={{fontSize: 30}} />\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</AppBar>\n                <div className={classes.formInputFlex}>\n                    <Box width=\"100%\">\n                        <Typography>Nombre de Cliente:</Typography>\n                        <Box mt={1}>\n                            <Typography>\n                                Hola mundo\n                            </Typography>\n                        </Box>\n                    </Box>\n                    <Box width=\"100%\">\n                        <Typography>Fecha:</Typography>\n                        <Box mt={1}>\n                            <Typography>\n                                Hola mundo\n                            </Typography>\n                        </Box>\n                    </Box>\n                    <Box width=\"100%\">\n                        <Typography>Factura:</Typography>\n                        <Box mt={1}>\n                            <Typography>\n                                Hola mundo\n                            </Typography>\n                        </Box>\n                    </Box>\n                    <Box width=\"100%\">\n                        <Typography>Empresa:</Typography>\n                        <Box mt={1}>\n                            <Typography>\n                                Hola mundo\n                            </Typography>\n                        </Box>\n                    </Box>\n                    <Box width=\"100%\">\n                        <Typography>Domicilio:</Typography>\n                        <Box mt={1}>\n                            <Typography>\n                                Hola mundo\n                            </Typography>\n                        </Box>\n                    </Box>\n                </div>\n                <Grid container>\n                    <Grid item lg={6} xs={12}>\n                        <Box p={1}>\n                            <Typography variant=\"h6\">\n                                Lista de abonos\n                            </Typography>\n                        </Box>\n                        <Box p={1}>\n                            <TablaAbonos />\n                        </Box>\n                        <Box p={1} mr={3} display=\"flex\" justifyContent=\"flex-end\">\n                            <Typography>Total a abonado: $ 150,000.00</Typography>\n                        </Box>\n                        <Box p={1} mr={3} display=\"flex\" justifyContent=\"flex-end\">\n                            <Typography>Restante: $ 150,000.00</Typography>\n                        </Box>\n                    </Grid>\n                    <Grid item lg={6} xs={12}>\n                        <Box p={1} >\n                            <Typography variant=\"h6\">\n                               Lista de compra\n                            </Typography>\n                        </Box>\n                        <Box p={1}>\n                            <TablaCompras />\n                        </Box>\n                        <Box p={1} mr={3} display=\"flex\" justifyContent=\"flex-end\">\n                            <Typography>Total a liquidar: $ 150,000.00</Typography>\n                        </Box>\n                    </Grid>\n                </Grid>\n\t\t\t</Dialog>\n          \n        </div>\n\n    )\n}\n","import React, { useState } from 'react'\n\nimport {  Box, Button, Dialog, DialogActions, DialogContent, makeStyles, TextField, Typography } from '@material-ui/core';\nimport { ToggleButtonGroup } from '@material-ui/lab';\nimport CloseIcon from '@material-ui/icons/Close';\n\nconst useStyles = makeStyles((theme) => ({\n\tformInputFlex: {\n\t\tdisplay: 'flex',\n\t\t'& > *': {\n\t\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(1)}px`\n\t\t}\n\t},\n\tformInput: {\n\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(1)}px`\n\t},\n    appBar: {\n\t\tposition: 'relative'\n\t},\n}));\n\nexport default function LiquidarCuenta() {\n\n    const [open, setOpen] = useState(false);\n\n    const handleClick = () => { \n        setOpen(!open);\n    } \n    const classes = useStyles();\n\n    return (\n        <div>\n            <Button\n                size=\"medium\"\n                variant=\"contained\" \n                color=\"primary\"\n                onClick={handleClick}\n            >\n                Liquidar\n            </Button>\n\n            <Dialog\n                open={open}\n                onClose={handleClick}\n                aria-labelledby=\"draggable-dialog-title\"\n            >\n                <Box display=\"flex\" alignItems=\"center\" m={1}>\n                    <Typography variant=\"h6\" className={classes.title}>\n                        Abonos a Proveedores\n                    </Typography>\n                    <Box m={1} ml={8} >\n                        <Button variant=\"contained\" color=\"secondary\" onClick={handleClick} size=\"large\">\n                            <CloseIcon  />\n                        </Button>\n                    </Box>\n\t\t\t\t</Box>\n                <DialogContent>\n                    <Box width=\"100%\" textAlign=\"center\">\n                        <Typography>Descuento por pronto pago</Typography>\n\n                        <Box p={1}>\n                            <ToggleButtonGroup\n                                // value={alignment}\n                                exclusive\n                                // onChange={handleAlignment}\n                                aria-label=\"text alignment\"\n                            >\n                                <Box p={1}>\n                                    <Button\n                                        variant=\"contained\"\n                                        color=\"primary\"\n                                    >\n                                        Por decuento\n                                    </Button>\n                                </Box>\n                                <Box p={1}>\n                                    <Button\n                                        variant=\"contained\"\n                                        color=\"primary\"\n                                    >\n                                        Por pesos\n                                    </Button>\n                                </Box>\n                            </ToggleButtonGroup>\n                        </Box>\n                       \n                        <TextField\n                            fullWidth\n                            size=\"small\"\n                            /* error */\n                            name=\"nombre_comercial\"\n                            id=\"form-producto-nombre-comercial\"\n                            variant=\"outlined\"\n                            value=\"10% o $100.00\" \n                            /* helperText=\"Incorrect entry.\" */\n                            /* onChange={obtenerCampos} */\n                        />\n                    </Box>\n                    <div className={classes.formInputFlex}>\n                        <Box width=\"100%\">\n                            <Typography>Sub Total: </Typography>\n                        </Box>\n                        <Box width=\"100%\">\n                            <Typography>$150000</Typography>\n                        </Box>\n                    </div>\n                    <div className={classes.formInputFlex}>\n                        <Box width=\"100%\">\n                            <Typography>Descuento: </Typography>\n                        </Box>\n                        <Box width=\"100%\">\n                            <Typography>$150000</Typography>\n                        </Box>\n                    </div>\n                    <div className={classes.formInputFlex}>\n                        <Box width=\"100%\">\n                            <Typography>Total a pagar:</Typography>\n                        </Box>\n                        <Box width=\"100%\">\n                            <Typography>$150000</Typography>\n                        </Box>\n                    </div>\n                </DialogContent>\n                <DialogActions>\n                    <Button \n                        onClick={handleClick} \n                        color=\"primary\"\n                        variant=\"contained\"\n                        size=\"large\"\n                    >\n                        Liquidar\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        </div>\n    )\n}\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TablePagination from '@material-ui/core/TablePagination';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport Checkbox from '@material-ui/core/Checkbox';\n\nimport DetallesCuenta from './DetalleCuenta/DetallesCuenta';\nimport LiquidarCuenta from './LiquidarCuenta';\n\nfunction createData(name, calories, fat, carbs, protein) {\n\treturn { name, calories, fat, carbs, protein };\n}\n\nconst rows = [\n\tcreateData('Cupcake', 305, 3.7, 67, 4.3),\n\tcreateData('Donut', 452, 25.0, 51, 4.9),\n\tcreateData('Eclair', 262, 16.0, 24, 6.0),\n\tcreateData('Frozen yoghurt', 159, 6.0, 24, 4.0),\n\tcreateData('Gingerbread', 356, 16.0, 49, 3.9),\n\tcreateData('Honeycomb', 408, 3.2, 87, 6.5),\n\tcreateData('Ice cream sandwich', 237, 9.0, 37, 4.3),\n\tcreateData('Jelly Bean', 375, 0.0, 94, 0.0),\n\tcreateData('KitKat', 518, 26.0, 65, 7.0),\n\tcreateData('Lollipop', 392, 0.2, 98, 0.0),\n\tcreateData('Marshmallow', 318, 0, 81, 2.0),\n\tcreateData('Nougat', 360, 19.0, 9, 37.0),\n\tcreateData('Oreo', 437, 18.0, 63, 4.0)\n];\n\nconst headCells = [\n\t{ id: 'name', numeric: false, disablePadding: true, label: 'Cliente' },\n\t{ id: 'calories', numeric: true, disablePadding: false, label: 'Abondado' },\n\t{ id: 'fat', numeric: true, disablePadding: false, label: 'Restante' },\n\t{ id: 'abono', numeric: true, disablePadding: false, label: 'Abono a percibir' },\n\t{ id: 'carbs', numeric: true, disablePadding: false, label: 'Detalles' },\n\t{ id: 'protein', numeric: true, disablePadding: false, label: 'Liquidar' }\n];\n\nfunction EnhancedTableHead(props) {\n\tconst { onSelectAllClick, numSelected, rowCount } = props;\n\n\treturn (\n\t\t<TableHead>\n\t\t\t<TableRow>\n\t\t\t\t<TableCell padding=\"checkbox\">\n\t\t\t\t\t<Checkbox\n\t\t\t\t\t\tindeterminate={numSelected > 0 && numSelected < rowCount}\n\t\t\t\t\t\tchecked={rowCount > 0 && numSelected === rowCount}\n\t\t\t\t\t\tonChange={onSelectAllClick}\n\t\t\t\t\t\tinputProps={{ 'aria-label': 'select all desserts' }}\n\t\t\t\t\t/>\n\t\t\t\t</TableCell>\n\t\t\t\t{headCells.map((headCell) => (\n\t\t\t\t\t<TableCell\n\t\t\t\t\t\tkey={headCell.id}\n\t\t\t\t\t\talign={headCell.numeric ? 'right' : 'left'}\n\t\t\t\t\t\tpadding={headCell.disablePadding ? 'none' : 'default'}\n\t\t\t\t\t>\n\t\t\t\t\t\t{headCell.label}\n\t\t\t\t\t</TableCell>\n\t\t\t\t))}\n\t\t\t</TableRow>\n\t\t</TableHead>\n\t);\n}\n\nEnhancedTableHead.propTypes = {\n\tclasses: PropTypes.object.isRequired,\n\tnumSelected: PropTypes.number.isRequired,\n\t// onRequestSort: PropTypes.func.isRequired,\n\tonSelectAllClick: PropTypes.func.isRequired,\n\t// order: PropTypes.oneOf([ 'asc', 'desc' ]).isRequired,\n\t// orderBy: PropTypes.string.isRequired,\n\trowCount: PropTypes.number.isRequired\n};\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n\t\twidth: '100%'\n\t},\n\tpaper: {\n\t\twidth: '100%',\n\t\tmarginBottom: theme.spacing(2)\n\t},\n\ttable: {\n\t\tminWidth: 750\n\t},\n\tvisuallyHidden: {\n\t\tborder: 0,\n\t\tclip: 'rect(0 0 0 0)',\n\t\theight: 1,\n\t\tmargin: -1,\n\t\toverflow: 'hidden',\n\t\tpadding: 0,\n\t\tposition: 'absolute',\n\t\ttop: 20,\n\t\twidth: 1\n\t}\n}));\n\nexport default function TablaAbonos() {\n\tconst classes = useStyles();\n\tconst [ selected, setSelected ] = useState([]);\n\tconst [ page, setPage ] = useState(0);\n\tconst [ rowsPerPage, setRowsPerPage ] = useState(10);\n\n\tconst handleSelectAllClick = (event) => {\n\t\tif (event.target.checked) {\n\t\t\tconst newSelecteds = rows.map((n) => n.name);\n\t\t\tsetSelected(newSelecteds);\n\t\t\treturn;\n\t\t}\n\t\tsetSelected([]);\n\t};\n\n\tconst handleClick = (event, name) => {\n\t\tconst selectedIndex = selected.indexOf(name);\n\t\tlet newSelected = [];\n\n\t\tif (selectedIndex === -1) {\n\t\t\tnewSelected = newSelected.concat(selected, name);\n\t\t} else if (selectedIndex === 0) {\n\t\t\tnewSelected = newSelected.concat(selected.slice(1));\n\t\t} else if (selectedIndex === selected.length - 1) {\n\t\t\tnewSelected = newSelected.concat(selected.slice(0, -1));\n\t\t} else if (selectedIndex > 0) {\n\t\t\tnewSelected = newSelected.concat(selected.slice(0, selectedIndex), selected.slice(selectedIndex + 1));\n\t\t}\n\n\t\tsetSelected(newSelected);\n\t};\n\n\tconst handleChangePage = (event, newPage) => {\n\t\tsetPage(newPage);\n\t};\n\n\tconst handleChangeRowsPerPage = (event) => {\n\t\tsetRowsPerPage(parseInt(event.target.value, 10));\n\t\tsetPage(0);\n\t};\n\n\tconst isSelected = (name) => selected.indexOf(name) !== -1;\n\n\tconst emptyRows = rowsPerPage - Math.min(rowsPerPage, rows.length - page * rowsPerPage);\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Paper className={classes.paper}>\n\t\t\t\t<TableContainer>\n\t\t\t\t\t<Table\n\t\t\t\t\t\tclassName={classes.table}\n\t\t\t\t\t\taria-labelledby=\"tableTitle\"\n\t\t\t\t\t\tstickyHeader\n\t\t\t\t\t\tsize=\"small\" \n\t\t\t\t\t\taria-label=\"a dense table\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<EnhancedTableHead\n\t\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\t\tnumSelected={selected.length}\n\t\t\t\t\t\t\tonSelectAllClick={handleSelectAllClick}\n\t\t\t\t\t\t\trowCount={rows.length}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t{rows.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage).map((row, index) => {\n\t\t\t\t\t\t\t\tconst isItemSelected = isSelected(row.name);\n\t\t\t\t\t\t\t\tconst labelId = `enhanced-table-checkbox-${index}`;\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<TableRow\n\t\t\t\t\t\t\t\t\t\thover\n\t\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\t\tonClick={(event) => handleClick(event, row.name)}\n\t\t\t\t\t\t\t\t\t\trole=\"checkbox\"\n\t\t\t\t\t\t\t\t\t\taria-checked={isItemSelected}\n\t\t\t\t\t\t\t\t\t\ttabIndex={-1}\n\t\t\t\t\t\t\t\t\t\tselected={isItemSelected}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<TableCell padding=\"checkbox\">\n\t\t\t\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\t\t\t\tchecked={isItemSelected}\n\t\t\t\t\t\t\t\t\t\t\t\tinputProps={{ 'aria-labelledby': labelId }}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t<TableCell component=\"th\" id={labelId} scope=\"row\" padding=\"none\">\n\t\t\t\t\t\t\t\t\t\t\t{row.name}\n\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t<TableCell align=\"right\">{row.calories}</TableCell>\n\t\t\t\t\t\t\t\t\t\t<TableCell align=\"right\">{row.fat}</TableCell>\n\t\t\t\t\t\t\t\t\t\t<TableCell align=\"right\">{row.carbs}</TableCell>\n\t\t\t\t\t\t\t\t\t\t<TableCell align=\"right\">\n\t\t\t\t\t\t\t\t\t\t\t<DetallesCuenta />\n\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t<TableCell align=\"right\">\n\t\t\t\t\t\t\t\t\t\t\t<LiquidarCuenta />\n\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t{emptyRows > 0 && (\n\t\t\t\t\t\t\t\t<TableRow style={{ height: 53 * emptyRows }}>\n\t\t\t\t\t\t\t\t\t<TableCell colSpan={6} />\n\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t</Table>\n\t\t\t\t</TableContainer>\n\t\t\t\t<TablePagination\n                    rowsPerPageOptions={[]}\n\t\t\t\t\tcomponent=\"div\"\n\t\t\t\t\tcount={rows.length}\n\t\t\t\t\trowsPerPage={rowsPerPage}\n\t\t\t\t\tpage={page}\n\t\t\t\t\tonChangePage={handleChangePage}\n\t\t\t\t\tonChangeRowsPerPage={handleChangeRowsPerPage}\n\t\t\t\t/>\n\t\t\t</Paper>\n\t\t</div>\n\t);\n}\n","import React, { useState } from 'react';\n\nimport CloseIcon from '@material-ui/icons/Close';\nimport { Alert } from '@material-ui/lab';\nimport { Box, Button, Dialog,  DialogContent,  DialogTitle, Slide, TextField, Typography } from '@material-ui/core'\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n    return <Slide direction=\"up\" ref={ref} {...props} />;\n  });\n\nexport default function AbonoaRecibir() {\n    //listo\n    const [open, setOpen] = useState(false);\n\n    const handleClick = () => { \n        setOpen(!open);\n    } \n\n    return (\n        <div>\n                <Button\n                    size=\"large\"\n                    variant=\"contained\" \n                    color=\"primary\"\n                    onClick={handleClick}\n                >\n                   Abonar\n                </Button>\n            <Dialog\n                open={open}\n                TransitionComponent={Transition}\n                keepMounted\n                onClose={handleClick}\n                aria-labelledby=\"alert-dialog-slide-title\"\n                aria-describedby=\"alert-dialog-slide-description\"\n            >\n                <DialogTitle id=\"alert-dialog-slide-title\">\n                    <Box display=\"flex\">\n                        <Box display=\"flex\" justifyContent=\"flex-start\">\n                            Abono a recibir por cuenta\n                        </Box>\n                        <Box ml={3} display=\"flex\" justifyContent=\"flex-end\">\n                            <Button variant=\"contained\" color=\"secondary\" onClick={handleClick} size=\"large\">\n\t\t\t\t\t\t\t\t<CloseIcon />\n\t\t\t\t\t\t\t</Button>\n                        </Box>\n                    </Box>\n                    \n                </DialogTitle>\n                <DialogContent>\n                    <Box width=\"100%\">\n                        <Typography>Cuenta No. 2501265</Typography>\n                        <TextField\n                            fullWidth\n                            size=\"small\"\n                            /* error */\n                            name=\"nombre_comercial\"\n                            id=\"form-producto-nombre-comercial\"\n                            variant=\"outlined\"\n                            value=\"$150,000.00 Mx\" \n                            /* helperText=\"Incorrect entry.\" */\n                            /* onChange={obtenerCampos} */\n                        />\n                    </Box>\n                    <Box width=\"100%\">\n                        <Typography>Cuenta No. 2501265</Typography>\n                        <TextField\n                            fullWidth\n                            size=\"small\"\n                            /* error */\n                            name=\"nombre_comercial\"\n                            id=\"form-producto-nombre-comercial\"\n                            variant=\"outlined\"\n                            value=\"$150,000.00 Mx\" \n                            /* helperText=\"Incorrect entry.\" */\n                            /* onChange={obtenerCampos} */\n                        />\n                    </Box>\n                    <Box width=\"100%\" p={1} mt={1}>\n                        <Typography>Nombre de Cliente: SUTANO</Typography>\n                    </Box>\n                    <Box width=\"100%\" p={1}>\n                        <Typography>Total a abonar:  $15,100</Typography>\n                    </Box>\n                    <Box p={1}>\n                        <Alert severity=\"info\">Si desea editar el abono del cliente, <br/>\n                        procure este sea mayor al establecido</Alert>\n                    </Box>\n                </DialogContent>\n                <Box display=\"flex\" justifyContent=\"center\" alignContent=\"center\" p={2}>\n                    <Button\n                        size=\"large\"\n                        variant=\"contained\" \n                        color=\"primary\"\n                        style={{fontSize: 16}}\n                        onClick={handleClick}\n                    >\n                        Registrar Abono\n                    </Button>\n                </Box>\n            </Dialog>\n        </div>\n    )\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport CloseIcon from '@material-ui/icons/Close';\nimport Slide from '@material-ui/core/Slide';\nimport { Box, TextField, Grid } from '@material-ui/core';\n\nimport TablaAbonos from './Components/TablaAbonos';\nimport AbonoaRecibir from './Components/AbonoPercibir';\n\nconst useStyles = makeStyles((theme) => ({\n\tappBar: {\t\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n    icon: {\n\t\twidth: 100\n\t},\n\tformInputFlex: {\n\t\tdisplay: 'flex',\n\t\t'& > *': {\n\t\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(2)}px`\n\t\t}\n\t},\n\tformInput: {\n\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(2)}px`\n\t},\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function AbonosClientes() {\n\tconst classes = useStyles();\n\tconst [ open, setOpen ] = React.useState(false);\n\n\tconst handleClickOpen = () => setOpen(!open);\n\n\treturn (\n\t\t<div>\n\t\t\t<Button fullWidth onClick={handleClickOpen}>\n\t\t\t\t<Box display=\"flex\" flexDirection=\"column\">\n\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n                        <img src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/salary.svg' alt=\"icono abono\" className={classes.icon} />\n\t\t\t\t\t</Box>\n\t\t\t\t\tAbonos de Clientes\n\t\t\t\t</Box>\n\t\t\t</Button>\n\t\t\t<Dialog fullScreen open={open} onClose={handleClickOpen} TransitionComponent={Transition}>\n\t\t\t\t<AppBar className={classes.appBar}>\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t<Typography variant=\"h6\" className={classes.title}>\n                        \tAbonos de Clientes\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\n                        <Box m={1}>\n\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"secondary\" onClick={handleClickOpen} size=\"large\">\n\t\t\t\t\t\t\t\t<CloseIcon style={{fontSize: 30}} />\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</AppBar>\n\t\t\t\t<Grid container>\n\t\t\t\t\t<Box width=\"50%\" p={2}>\n\t\t\t\t\t\t<Typography>Busqueda por cliente o por cuenta</Typography>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t/* error */\n\t\t\t\t\t\t\tname=\"nombre_comercial\"\n\t\t\t\t\t\t\tid=\"form-producto-nombre-comercial\"\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t/* value=\"\" */\n\t\t\t\t\t\t\t/* helperText=\"Incorrect entry.\" */\n\t\t\t\t\t\t\t/* onChange={obtenerCampos} */\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Box>\n\t\t\t\t\t\n\t\t\t\t\t<Box mt={5}>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tsize=\"large\"\n\t\t\t\t\t\t\tvariant=\"contained\" \n\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tBuscar\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Grid item lg={5}>\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" mt={4}>\n\t\t\t\t\t\t\t<AbonoaRecibir />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t\t<Box p={2}>\n\t\t\t\t\t<TablaAbonos />\n\t\t\t\t</Box>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n}\n","import React, { useContext } from 'react';\nimport { Box, Container, Grid } from '@material-ui/core';\nimport CuentasEmpresaSucursales from './CuentasEmpresaSucursales/CuentasEmpresaSucursales';\nimport Egresos from './Egresos/Egresos';\nimport AbonosProveedores from './Abonos/Provedores/AbonosProovedores';\nimport AbonosClientes from './Abonos/Clientes/AbonosClientes';\n// import Transferencias from './Transferencias/Transferencias';\n\nimport SnackBarMessages from '../../../components/SnackBarMessages';\nimport { TesoreriaCtx } from '../../../context/Tesoreria/tesoreriaCtx';\n\nexport default function Tesoreria() {\n\n\tconst { alert, setAlert } = useContext(TesoreriaCtx);\n\tconst permisosUsuario = JSON.parse(localStorage.getItem('sesionCafi'));\n\n\treturn (\n\t\t<Container>\n            <SnackBarMessages alert={alert} setAlert={setAlert} />\n\t\t\t<Grid container spacing={2} justify=\"center\">\n\t\t\t\t{permisosUsuario.accesos.tesoreria.cuentas_empresa.ver === false ? (null):(\n\t\t\t\t\t<Grid item lg={2}>\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t<CuentasEmpresaSucursales />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t)}\n\t\t\t\t{permisosUsuario.accesos.tesoreria.egresos.ver === false ? (null):(\n\t\t\t\t\t<Grid item lg={2}>\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t<Egresos />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t)}\n\t\t\t\t{permisosUsuario.accesos.tesoreria.abonos_proveedores.ver === false ? (null):(\n\t\t\t\t\t<Grid item lg={2}>\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t<AbonosProveedores />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t)}\n\t\t\t\t{permisosUsuario.accesos.tesoreria.abonos_clientes.ver === false ? (null):(\n\t\t\t\t\t<Grid item lg={2}>\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t<AbonosClientes />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t)}\n                {/* <Grid item lg={2}>\n\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t<Transferencias />\n\t\t\t\t\t</Box>\n\t\t\t\t</Grid> */}\n\t\t\t</Grid>\n\t\t</Container>\n\t);\n}\n","import React from 'react';\nimport { TesoreriaProvider } from '../../../context/Tesoreria/tesoreriaCtx';\nimport Tesoreria from './Tesoreria';\n\nexport default function IndexTesoreria() {\n    return (\n        <TesoreriaProvider>\n            <Tesoreria />\n        </TesoreriaProvider>\n    )\n}\n","import React, { createContext, useState } from \"react\";\n\nexport const FacturacionCtx = createContext();\n\nexport const FacturacionProvider = ({ children }) => {\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n\n  const [datosFactura, setDatosFactura] = useState({\n    serie: \"\",\n    currency: \"MXN\",\n    expedition_place: \"\",\n    folio: \"\",\n    cfdi_type: \"I\",\n    payment_form: \"\",\n    payment_method: \"\",\n    logo_url: sesion.imagen,\n    date: \"0\",\n    issuer: {\n      FiscalRegime: sesion.empresa.regimen_fiscal,\n      Rfc: sesion.empresa.rfc,\n      Name: sesion.empresa.nombre_fiscal,\n    },\n    receiver: {\n      Rfc: \"\",\n      Name: \"\",\n      CfdiUse: \"\",\n    },\n    items: [],\n    empresa: sesion.empresa._id,\n    sucursal: sesion.sucursal._id,\n  });\n\n  const [venta_factura, setVentaFactura] = useState(null);\n  const [productos, setProductos] = useState([]);\n\n  const [cp_valido, setCPValido] = useState(false);\n  const [codigo_postal, setCodigoPostal] = useState(\"\");\n  const [error_validation, setError] = useState({ status: false, message: \"\" });\n\n  return (\n    <FacturacionCtx.Provider\n      value={{\n        datosFactura,\n        setDatosFactura,\n        cp_valido,\n        setCPValido,\n        codigo_postal,\n        setCodigoPostal,\n        error_validation,\n        setError,\n        venta_factura,\n        setVentaFactura,\n        productos,\n        setProductos,\n      }}\n    >\n      {children}\n    </FacturacionCtx.Provider>\n  );\n};\n","import React from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Slide from \"@material-ui/core/Slide\";\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function DetallesDeVenta() {\n  const [open, setOpen] = React.useState(false);\n\n  const handleClickOpen = (event) => {\n    event.stopPropagation()\n    setOpen(true);\n  };\n\n  const handleClose = (event) => {\n    event.stopPropagation()\n    setOpen(false);\n  };\n\n  return (\n    <div>\n      <Button\n        variant=\"outlined\"\n        color=\"primary\"\n        onClick={handleClickOpen}\n      >\n        Slide in alert dialog\n      </Button>\n      <Dialog\n        open={open}\n        TransitionComponent={Transition}\n        keepMounted\n        onClose={handleClose}\n        aria-labelledby=\"alert-dialog-slide-title\"\n        aria-describedby=\"alert-dialog-slide-description\"\n      >\n        <DialogTitle id=\"alert-dialog-slide-title\">\n          {\"Use Google's location service?\"}\n        </DialogTitle>\n        <DialogContent>\n          <DialogContentText id=\"alert-dialog-slide-description\">\n            Let Google help apps determine location. This means sending\n            anonymous location data to Google, even when no apps are running.\n          </DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={handleClose} color=\"primary\">\n            Disagree\n          </Button>\n          <Button onClick={handleClose} color=\"primary\">\n            Agree\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n}\n","export const compra_test = {\n  folio: \"12345\",\n  descuento: 5.4,\n  ieps: 2.5862100000000003,\n  impuestos: 6.724146000000001,\n  iva: 4.137936000000001,\n  monedero: 0,\n  subTotal: 23.875854,\n  total: 30.6,\n  venta_cliente: true,\n  montos_en_caja: {\n    monto_efectivo: 50,\n    monto_tarjeta: 0,\n    monto_creditos: 0,\n    monto_monedero: 0,\n    monto_transferencia: 0,\n    monto_cheques: 0,\n    monto_vales_despensa: 0,\n  },\n  credito: false,\n  descuento_general_activo: false,\n  decuento_general: {\n    cantidad_descontado: 0,\n    porciento: 0,\n    precio_neto: 0,\n  },\n  dias_de_credito_venta: null,\n  fecha_de_vencimiento_credito: null,\n  fecha_vencimiento_cotizacion: null,\n  cliente: {\n    banco: null,\n    celular: null,\n    clave_cliente: \"23233\",\n    curp: null,\n    dias_credito: null,\n    direccion: {\n      calle: \"Antonio\",\n      no_ext: \"1\",\n      no_int: \"1\",\n      codigo_postal: \"1\",\n      colonia: \"Antonio\",\n      municipio: \"1\",\n      localidad: \"1\",\n      estado: \"1\",\n      pais: \"1\",\n    },\n    email: \"antonio.poday@gmail.com\",\n    imagen: null,\n    limite_credito: null,\n    nombre_cliente: \"Antonio\",\n    numero_cliente: \"2323\",\n    razon_social: null,\n    rfc: null,\n    telefono: \"1212\",\n    monedero_electronico: null,\n  },\n  productos: [\n    {\n      cantidad: 1,\n      cantidad_venta: 1,\n      codigo_barras: \"226216505720\",\n      concepto: \"unidades\",\n      default: true,\n      descuento: {\n        cantidad_unidad: null,\n        dinero_descontado: 21.59,\n        ieps_precio: 0,\n        iva_precio: 3.5856,\n        numero_precio: 1,\n        porciento: 49.07,\n        precio_general: 0,\n        precio_neto: 25.0453,\n        precio_venta: 22.41,\n        unidad_maxima: false,\n        utilidad: -43.97,\n      },\n      descuento_activo: true,\n      granel_producto: {\n        granel: false,\n        valor: 0,\n      },\n      precio_actual_object: {\n        cantidad_unidad: null,\n        dinero_descontado: 21.59,\n        ieps_precio: 0,\n        iva_precio: 3.5856,\n        numero_precio: 1,\n        porciento: 49.07,\n        precio_general: 0,\n        precio_neto: 25.0453,\n        precio_venta: 22.41,\n        unidad_maxima: false,\n        utilidad: -43.97,\n      },\n      precio_unidad: {\n        cantidad_unidad: null,\n        ieps_precio: 0,\n        iva_precio: 6.72,\n        numero_precio: 5,\n        precio_general: null,\n        precio_neto: 48.72,\n        precio_venta: 42,\n        unidad_maxima: false,\n        unidad_mayoreo: 0,\n      },\n      precio: 36,\n      precio_a_vender: 30.6,\n      precio_actual_producto: 30.6,\n      precio_anterior: 36,\n      iva_total_producto: 1.03,\n      ieps_total_producto: 0,\n      impuestos_total_producto: 1.03,\n      subtotal_total_producto: 7.22,\n      total_total_producto: 36,\n      unidad: \"Caja\",\n      codigo_unidad: \"XBX\",\n      unidad_principal: true,\n      inventario_general: [\n        {\n          cantidad_existente: 120,\n          cantidad_existente_maxima: 10,\n          unidad_inventario: \"Pz\",\n          codigo_unidad: null,\n          unidad_maxima: \"Caja\",\n        },\n      ],\n      id_producto: {\n        _id: \"61b7bf6e3454b727a0c2e357\",\n        datos_generales: {\n          clave_alterna: \"COCA\",\n          codigo_barras: \"226216505720\",\n          nombre_comercial: \"COCACOLA\",\n          tipo_producto: \"OTROS\",\n          nombre_generico: \"COCACOLA\",\n          descripcion: null,\n          id_categoria: null,\n          categoria: null,\n          subcategoria: null,\n          id_subcategoria: null,\n          id_departamento: null,\n          departamento: null,\n          id_marca: null,\n          marca: null,\n          receta_farmacia: false,\n          clave_producto_sat: {\n            Name: \"Refrescos\",\n            Value: \"50202306\",\n          },\n        },\n        precios: {\n          ieps: 10,\n          ieps_activo: false,\n          inventario: {\n            inventario_maximo: 15,\n            inventario_minimo: 5,\n            unidad_de_inventario: \"Caja\",\n            codigo_unidad: \"XBX\",\n          },\n          iva: 16,\n          iva_activo: true,\n          monedero: false,\n          monedero_electronico: 0,\n          precio_de_compra: {\n            precio_con_impuesto: 180,\n            precio_sin_impuesto: 155.1724,\n            iva: 24.8276,\n            ieps: 0,\n          },\n          precios_producto: [\n            {\n              numero_precio: 1,\n              precio_neto: 8.25,\n              unidad_mayoreo: 0,\n              utilidad: 10,\n            },\n            {\n              numero_precio: 2,\n              precio_neto: 0,\n              unidad_mayoreo: 0,\n              utilidad: 0,\n            },\n            {\n              numero_precio: 3,\n              precio_neto: 0,\n              unidad_mayoreo: 0,\n              utilidad: 0,\n            },\n            {\n              numero_precio: 4,\n              precio_neto: 0,\n              unidad_mayoreo: 0,\n              utilidad: 0,\n            },\n            {\n              numero_precio: 5,\n              precio_neto: 0,\n              unidad_mayoreo: 0,\n              utilidad: 0,\n            },\n            {\n              numero_precio: 6,\n              precio_neto: 0,\n              unidad_mayoreo: 0,\n              utilidad: 0,\n            },\n          ],\n          unidad_de_compra: {\n            cantidad: 24,\n            precio_unitario_con_impuesto: 7.5,\n            precio_unitario_sin_impuesto: 6.4655,\n            unidad: \"Caja\",\n            codigo_unidad: \"XBX\",\n          },\n        },\n      },\n      medida: null,\n      color: null,\n    },\n  ],\n};\n","import React, { Fragment, useContext, useState } from \"react\";\nimport Box from \"@material-ui/core/Box\";\nimport Button from \"@material-ui/core/Button\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Slide from \"@material-ui/core/Slide\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport { makeStyles } from \"@material-ui/core\";\n\nimport { Search } from \"@material-ui/icons\";\nimport ErrorPage from \"../../../../../components/ErrorPage\";\nimport Done from \"@material-ui/icons/Done\";\nimport { useQuery } from \"@apollo/client\";\nimport { OBTENER_CLIENTES } from \"../../../../../gql/Catalogos/clientes\";\nimport { FacturacionCtx } from \"../../../../../context/Facturacion/facturacionCtx\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\"\nimport DetallesDeVenta from \"./DetallesVenta\";\nimport { compra_test } from '../TablaVenta/array_test'\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nconst useStyles = makeStyles((theme) => ({\n  container: {\n    height: \"50vh\",\n  },\n}));\n\nexport default function ListaVentasFactura() {\n  const [open, setOpen] = useState(false);\n  const { datosFactura, setDatosFactura, setVentaFactura, setProductos } = useContext(FacturacionCtx);\n\n  const handleOpen = () => setOpen(true);\n  const handleClose = () => setOpen(false);\n\n  return (\n    <div>\n      <IconButton onClick={() => handleOpen()} size=\"small\">\n        <Search />\n      </IconButton>\n      <Dialog\n        maxWidth=\"md\"\n        fullWidth\n        open={open}\n        onClose={() => handleClose()}\n        TransitionComponent={Transition}\n      >\n        <DialogTitle>Seleccionar cliente</DialogTitle>\n        <DialogContent>\n          <RenderLista />\n        </DialogContent>\n        <DialogActions style={{ justifyContent: \"center\" }}>\n          <Button\n            onClick={() => {\n              handleClose();\n              /* setDatosFactura({ ...datosFactura, cliente: \"\" }); */\n            }}\n          >\n            Cancelar\n          </Button>\n          <Button\n            color=\"primary\"\n            startIcon={<Done />}\n            onClick={() => {\n              console.log(compra_test);\n              setVentaFactura(compra_test);\n              setProductos(compra_test.productos);\n              handleClose();\n            }}\n            /* disabled={!datosFactura.cliente} */\n          >\n            Seleccionar\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n}\n\nconst RenderLista = () => {\n  const classes = useStyles();\n  const [filtro, setFiltro] = useState(\"\");\n  const [values, setValues] = useState(\"\");\n  const { datosFactura, setDatosFactura } = useContext(FacturacionCtx);\n\n  /* Queries */\n  const { loading, data, error } = useQuery(OBTENER_CLIENTES, {\n    variables: { tipo: \"CLIENTE\", filtro },\n  });\n\n  const pressEnter = (e) => {\n    if (e.key === \"Enter\") setFiltro(e.target.value);\n  };\n\n  if (loading)\n    return (\n      <Box\n        display=\"flex\"\n        justifyContent=\"center\"\n        alignItems=\"center\"\n        height=\"55vh\"\n      >\n        <CircularProgress />\n      </Box>\n    );\n  if (error) {\n    return <ErrorPage />;\n  }\n\n  const { obtenerClientes } = data;\n\n  const obtenerCliente = (value) => {\n    console.log(value);\n  }\n\n  return (\n    <Fragment>\n      <Box mb={2}>\n        <Autocomplete\n          id=\"usuarios-factura\"\n          size=\"small\"\n          placeholder=\"Buscar por: Numero de cliente, clave o nombre\"\n          options={obtenerClientes}\n          getOptionLabel={(option) => option.nombre_cliente}\n          fullWidth\n          renderInput={(params) => (\n            <TextField\n              {...params}\n              variant=\"outlined\"\n            />\n          )}\n          onChange={(_, data) => obtenerCliente(data)}\n          getOptionSelected={(option, value) => option.nombre_cliente === value.nombre_cliente}\n        />\n\n        {/* <TextField\n          fullWidth\n          size=\"small\"\n          placeholder=\"Buscar por: Numero de cliente, clave o nombre\"\n          variant=\"outlined\"\n          onChange={(e) => setValues(e.target.value)}\n          onKeyPress={pressEnter}\n          value={values}\n          InputProps={{\n            endAdornment: (\n              <InputAdornment position=\"end\">\n                <IconButton onClick={() => setFiltro(values)}>\n                  <Search />\n                </IconButton>\n              </InputAdornment>\n            ),\n          }}\n        /> */}\n      </Box>\n      <Paper variant=\"outlined\">\n        <TableContainer className={classes.container}>\n          <Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n            <TableHead>\n              <TableRow>\n                <TableCell>Folio</TableCell>\n                <TableCell>Cliente</TableCell>\n                <TableCell>Subtotal</TableCell>\n                <TableCell>Descuento</TableCell>\n                <TableCell>Impuestos</TableCell>\n                <TableCell>Total</TableCell>\n                <TableCell>Detalles</TableCell>\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {obtenerClientes.map((row, index) => {\n                return (\n                  <TableRow\n                    key={index}\n                    hover\n                    role=\"checkbox\"\n                    tabIndex={-1}\n                    /* onClick={() =>\n                      setDatosFactura({\n                        ...datosFactura,\n                        cliente: row.nombre_cliente,\n                      })\n                    } */\n                    /* onClick={() => setVentaFactura(compra_test)} */\n                    selected={row.nombre_cliente === datosFactura.cliente}\n                  >\n                    <TableCell>\n                      <Typography>{row.numero_cliente}</Typography>\n                    </TableCell>\n                    <TableCell>\n                      <Typography>{row.clave_cliente}</Typography>\n                    </TableCell>\n                    <TableCell>\n                      <Typography>{row.nombre_cliente}</Typography>\n                    </TableCell>\n                    <TableCell>\n                      <Typography>{row.razon_social}</Typography>\n                    </TableCell>\n                    <TableCell>\n                      <Typography>{row.razon_social}</Typography>\n                    </TableCell>\n                    <TableCell>\n                      <Typography>{row.razon_social}</Typography>\n                    </TableCell>\n                    <TableCell>\n                      <DetallesDeVenta />\n                    </TableCell>\n                  </TableRow>\n                );\n              })}\n            </TableBody>\n          </Table>\n        </TableContainer>\n      </Paper>\n    </Fragment>\n  );\n};\n","import React from \"react\";\nimport Facturama from \"../../../../../billing/Facturama/facturama.api\";\nimport { CircularProgress, InputAdornment, TextField } from \"@material-ui/core\";\nimport { FacturacionCtx } from \"../../../../../context/Facturacion/facturacionCtx\";\nimport { useDebounce } from \"use-debounce/lib\";\nimport { CheckCircle, Error } from \"@material-ui/icons\";\n\nexport default function CodigoPostal() {\n  const [loading, setLoading] = React.useState(false);\n  const {\n    cp_valido,\n    setCPValido,\n    codigo_postal,\n    setCodigoPostal,\n    error_validation,\n  } = React.useContext(FacturacionCtx);\n  const [value, setValue] = React.useState(\"\");\n\n  const [CP] = useDebounce(value, 500);\n\n  const obtenerCodigoPostal = React.useCallback(async (codigo_postal) => {\n    if (!codigo_postal) return;\n    try {\n      setLoading(true);\n      const result = await Facturama.Catalogs.PostalCodes(\n        codigo_postal,\n        function (result) {\n          return result;\n        }\n      );\n\n      if (result) {\n        setCPValido(true);\n        setLoading(false);\n        setCodigoPostal(result[0].Value);\n      }\n    } catch (error) {\n      setLoading(false);\n      setCPValido(false);\n      setCodigoPostal(\"\");\n    }\n  }, []);\n\n  React.useEffect(() => {\n    obtenerCodigoPostal(CP);\n  }, [CP]);\n\n  return (\n    <React.Fragment>\n      {/* <Typography>Cdigo Postal:</Typography> */}\n      <form onSubmit={obtenerCodigoPostal}>\n        <TextField\n          fullWidth\n          name=\"expedition_place\"\n          size=\"small\"\n          variant=\"outlined\"\n          value={value}\n          label=\"Cdigo postal\"\n          onChange={(e) => setValue(e.target.value)}\n          InputProps={{\n            endAdornment: (\n              <InputAdornment position=\"end\">\n                {value ? (\n                  loading ? (\n                    <CircularProgress size={20} />\n                  ) : cp_valido ? (\n                    <CheckCircle color=\"primary\" />\n                  ) : (\n                    <Error color=\"error\" />\n                  )\n                ) : (\n                  <div />\n                )}\n              </InputAdornment>\n            ),\n          }}\n          /* error={value ? cp_valido ? false : true : false}\n          helperText={value ? cp_valido ? \"\" : \"Introduce un CP valido\" : \"\"} */\n\n          error={\n            error_validation.status && !value\n              ? true\n              : value\n              ? cp_valido\n                ? false\n                : true\n              : false\n          }\n          helperText={\n            error_validation.status && !value\n              ? error_validation.message\n              : value\n              ? cp_valido\n                ? \"\"\n                : \"Introduce un CP valido\"\n              : \"\"\n          }\n        />\n      </form>\n    </React.Fragment>\n  );\n}\n","import React, { Fragment, useContext, useState } from \"react\";\nimport Box from \"@material-ui/core/Box\";\nimport Button from \"@material-ui/core/Button\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Slide from \"@material-ui/core/Slide\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport { makeStyles } from \"@material-ui/core\";\n\nimport { Search } from \"@material-ui/icons\";\nimport ErrorPage from \"../../../../components/ErrorPage\";\nimport Done from \"@material-ui/icons/Done\";\nimport { useQuery } from \"@apollo/client\";\nimport { OBTENER_CLIENTES } from \"../../../../gql/Catalogos/clientes\";\nimport { FacturacionCtx } from \"../../../../context/Facturacion/facturacionCtx\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport CrearCliente from \"../../Catalogos/Cliente/CrearCliente\";\nimport { ClienteProvider } from \"../../../../context/Catalogos/crearClienteCtx\";\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nconst useStyles = makeStyles((theme) => ({\n  container: {\n    height: \"50vh\",\n  },\n}));\n\nexport default function ListaClientesFacturas() {\n  const [open, setOpen] = useState(false);\n  const { datosFactura, setDatosFactura } = useContext(FacturacionCtx);\n\n  const handleOpen = () => setOpen(true);\n  const handleClose = () => setOpen(false);\n\n  return (\n    <div>\n      <IconButton onClick={() => handleOpen()} size=\"small\">\n        <Search />\n      </IconButton>\n      <Dialog\n        maxWidth=\"md\"\n        fullWidth\n        open={open}\n        onClose={() => handleClose()}\n        TransitionComponent={Transition}\n      >\n        <DialogTitle>Seleccionar cliente</DialogTitle>\n        <DialogContent>\n          <RenderLista />\n        </DialogContent>\n        <DialogActions style={{ justifyContent: \"center\" }}>\n          <Button\n            onClick={() => {\n              handleClose();\n              setDatosFactura({\n                ...datosFactura,\n                receiver: {\n                  Rfc: \"\",\n                  Name: \"\",\n                  CfdiUse: \"\",\n                },\n              });\n            }}\n          >\n            Cancelar\n          </Button>\n          <Button\n            color=\"primary\"\n            startIcon={<Done />}\n            onClick={() => handleClose()}\n            disabled={!datosFactura.receiver.Name}\n          >\n            Seleccionar\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n}\n\nconst RenderLista = () => {\n  const classes = useStyles();\n  const [filtro, setFiltro] = useState(\"\");\n  const [values, setValues] = useState(\"\");\n  const { datosFactura, setDatosFactura } = useContext(FacturacionCtx);\n\n  /* Queries */\n  const { loading, data, error, refetch } = useQuery(OBTENER_CLIENTES, {\n    variables: { tipo: \"CLIENTE\", filtro },\n  });\n\n  const pressEnter = (e) => {\n    if (e.key === \"Enter\") setFiltro(e.target.value);\n  };\n\n  if (loading)\n    return (\n      <Box\n        display=\"flex\"\n        justifyContent=\"center\"\n        alignItems=\"center\"\n        height=\"55vh\"\n      >\n        <CircularProgress />\n      </Box>\n    );\n  if (error) {\n    return <ErrorPage />;\n  }\n\n  const { obtenerClientes } = data;\n\n  return (\n    <Fragment>\n      <Box mb={2} display=\"flex\" alignItems=\"center\">\n        <TextField\n          fullWidth\n          size=\"small\"\n          placeholder=\"Buscar por: Numero de cliente, clave o nombre\"\n          variant=\"outlined\"\n          onChange={(e) => setValues(e.target.value)}\n          onKeyPress={pressEnter}\n          value={values}\n          InputProps={{\n            endAdornment: (\n              <InputAdornment position=\"end\">\n                <IconButton onClick={() => setFiltro(values)}>\n                  <Search />\n                </IconButton>\n              </InputAdornment>\n            ),\n          }}\n        />\n        <ClienteProvider>\n          <CrearCliente tipo=\"CLIENTE\" accion=\"registrar\" refetch={refetch} />\n        </ClienteProvider>\n      </Box>\n      <Paper variant=\"outlined\">\n        <TableContainer className={classes.container}>\n          <Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n            <TableHead>\n              <TableRow>\n                <TableCell minwidth=\"100\">No. Cliente</TableCell>\n                <TableCell minwidth=\"100\">Clave</TableCell>\n                <TableCell minwidth=\"150\">Nombre</TableCell>\n                <TableCell minwidth=\"150\">Razon Social</TableCell>\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {obtenerClientes.map((row, index) => {\n                return (\n                  <TableRow\n                    key={index}\n                    hover\n                    role=\"checkbox\"\n                    tabIndex={-1}\n                    onClick={() =>\n                      setDatosFactura({\n                        ...datosFactura,\n                        receiver: {\n                          ...datosFactura.receiver,\n                          Name: row.nombre_cliente,\n                          Rfc: row.rfc,\n                        },\n                      })\n                    }\n                    selected={row.nombre_cliente === datosFactura.receiver.Name}\n                  >\n                    <TableCell>\n                      <Typography>{row.numero_cliente}</Typography>\n                    </TableCell>\n                    <TableCell>\n                      <Typography>{row.clave_cliente}</Typography>\n                    </TableCell>\n                    <TableCell>\n                      <Typography>{row.nombre_cliente}</Typography>\n                    </TableCell>\n                    <TableCell>\n                      <Typography>{row.razon_social}</Typography>\n                    </TableCell>\n                  </TableRow>\n                );\n              })}\n            </TableBody>\n          </Table>\n        </TableContainer>\n      </Paper>\n    </Fragment>\n  );\n};\n","import React, { useContext, useEffect } from \"react\";\nimport Box from \"@material-ui/core/Box\";\nimport Divider from \"@material-ui/core/Divider\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport FormHelperText from \"@material-ui/core/FormHelperText\";\nimport Grid from \"@material-ui/core/Grid\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Typography from \"@material-ui/core/Typography\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Select from \"@material-ui/core/Select\";\nimport ListaVentasFactura from \"./ListaVentas/ListaVentasFactura.js\";\nimport { FacturacionCtx } from \"../../../../context/Facturacion/facturacionCtx.js\";\nimport CodigosPostales from \"./Catalogos/CodigoPostal.js\";\nimport { tipoCambio, tiposCfdi } from \"../catalogos\";\nimport ListaClientesFacturas from \"./ClientesSelect.js\";\n\nexport default function RegistroFactura({ serie_default }) {\n  const { datosFactura, setDatosFactura, error_validation } = useContext(\n    FacturacionCtx\n  );\n\n  useEffect(() => {\n    const { folio, serie } = serie_default[0];\n    setDatosFactura({ ...datosFactura, folio: folio.toString(), serie });\n  }, []);\n\n  const obtenerDatos = (e) => {\n    const { name, value } = e.target;\n    console.log(name, value);\n    setDatosFactura({\n      ...datosFactura,\n      [name]: value,\n    });\n  };\n\n  return (\n    <div>\n      <Grid container spacing={5}>\n        <Grid item md={6} xs={12}>\n          <Box mb={1}>\n            <Typography>\n              <b>{`Emisor: ${datosFactura.issuer.Name}`}</b>\n            </Typography>\n            <Divider />\n          </Box>\n          <Grid container spacing={2}>\n            <Grid item md={4} xs={12}>\n              <Typography>RFC</Typography>\n              <TextField\n                size=\"small\"\n                variant=\"outlined\"\n                fullWidth\n                value={datosFactura.issuer.Rfc}\n                disabled\n                error={error_validation.status && !datosFactura.issuer.Rfc}\n                helperText={\n                  error_validation.status && !datosFactura.issuer.Rfc\n                    ? error_validation.message\n                    : \"\"\n                }\n              />\n            </Grid>\n            <Grid item md={4} xs={12}>\n              <Typography>Regimen fiscal</Typography>\n              <FormControl fullWidth size=\"small\" variant=\"outlined\">\n                <TextField\n                  size=\"small\"\n                  variant=\"outlined\"\n                  fullWidth\n                  value={datosFactura.issuer.FiscalRegime}\n                  disabled\n                  error={\n                    error_validation.status && !datosFactura.issuer.FiscalRegime\n                  }\n                  helperText={\n                    error_validation.status && !datosFactura.issuer.FiscalRegime\n                      ? error_validation.message\n                      : \"\"\n                  }\n                />\n              </FormControl>\n            </Grid>\n          </Grid>\n        </Grid>\n        <Grid item md={6} xs={12}>\n          <Box mb={1}>\n            <Typography>\n              <b>Receptor</b>\n            </Typography>\n            <Divider />\n          </Box>\n          <Grid container spacing={2}>\n            <Grid item md={4} xs={12}>\n              <Typography>Cliente</Typography>\n              <TextField\n                value={datosFactura.receiver.Name}\n                placeholder=\"Selecciona un cliente\"\n                fullWidth\n                size=\"small\"\n                variant=\"outlined\"\n                InputProps={{\n                  endAdornment: (\n                    <InputAdornment position=\"end\">\n                      <ListaClientesFacturas />\n                    </InputAdornment>\n                  ),\n                  readOnly: true,\n                  disabled: true,\n                }}\n                error={error_validation.status && !datosFactura.receiver.Name}\n                helperText={\n                  error_validation.status && !datosFactura.receiver.Name\n                    ? error_validation.message\n                    : \"\"\n                }\n              />\n            </Grid>\n            <Grid item md={4} xs={12}>\n              <Typography>RFC</Typography>\n              <TextField\n                size=\"small\"\n                variant=\"outlined\"\n                fullWidth\n                value={datosFactura.receiver.Rfc}\n                disabled\n                error={error_validation.status && !datosFactura.receiver.Rfc}\n                helperText={\n                  error_validation.status && !datosFactura.receiver.Rfc\n                    ? error_validation.message\n                    : \"\"\n                }\n              />\n            </Grid>\n          </Grid>\n        </Grid>\n      </Grid>\n\n      <Box mt={1} mb={2}>\n        <Typography>\n          <b>Datos factura</b>\n        </Typography>\n        <Divider />\n      </Box>\n      <Grid container spacing={2}>\n        <Grid item xs={12} sm={4} md={3}>\n          <TextField\n            value={datosFactura.cliente}\n            placeholder=\"Selecciona venta a facturar\"\n            fullWidth\n            size=\"small\"\n            label=\"Folio Venta\"\n            variant=\"outlined\"\n            InputProps={{\n              endAdornment: (\n                <InputAdornment position=\"end\">\n                  <ListaVentasFactura />\n                </InputAdornment>\n              ),\n              readOnly: true,\n              disabled: true,\n            }}\n          />\n        </Grid>\n        <Grid item xs={12} sm={4} md={1}>\n          <TextField\n            value={datosFactura.folio}\n            label=\"Folio\"\n            fullWidth\n            size=\"small\"\n            variant=\"outlined\"\n            disabled\n            error={error_validation.status && !datosFactura.folio}\n            helperText={\n              error_validation.status && !datosFactura.folio\n                ? error_validation.message\n                : \"\"\n            }\n          />\n        </Grid>\n        <Grid item xs={12} sm={4} md={1}>\n          <TextField\n            value={datosFactura.serie}\n            label=\"Serie\"\n            fullWidth\n            size=\"small\"\n            variant=\"outlined\"\n            disabled\n            error={error_validation.status && !datosFactura.serie}\n            helperText={\n              error_validation.status && !datosFactura.serie\n                ? error_validation.message\n                : \"\"\n            }\n          />\n        </Grid>\n        <Grid item xs={12} sm={4} md={2}>\n          <FormControl\n            variant=\"outlined\"\n            fullWidth\n            size=\"small\"\n            name=\"cfdi_type\"\n            error={error_validation.status && !datosFactura.cfdi_type}\n          >\n            <InputLabel id=\"cfdi_type\">Tipo de CFDI</InputLabel>\n            <Select\n              labelId=\"cfdi_type\"\n              value={datosFactura.cfdi_type}\n              name=\"cfdi_type\"\n              onChange={obtenerDatos}\n              label=\"tipo de CFDI\"\n            >\n              <MenuItem value=\"\">\n                <em>Selecciona uno</em>\n              </MenuItem>\n              {tiposCfdi.map((res, index) => (\n                <MenuItem\n                  key={index}\n                  value={res.Value}\n                >{`${res.Value} - ${res.Name}`}</MenuItem>\n              ))}\n            </Select>\n            <FormHelperText>\n              {error_validation.status && !datosFactura.cfdi_type\n                ? error_validation.message\n                : \"\"}\n            </FormHelperText>\n          </FormControl>\n        </Grid>\n        <Grid item xs={12} sm={4} md={2}>\n          <FormControl\n            variant=\"outlined\"\n            fullWidth\n            size=\"small\"\n            name=\"currency\"\n            error={error_validation.status && !datosFactura.currency}\n          >\n            <InputLabel id=\"moneda\">Moneda</InputLabel>\n            <Select\n              labelId=\"moneda\"\n              value={datosFactura.currency}\n              name=\"currency\"\n              onChange={obtenerDatos}\n              label=\"moneda\"\n            >\n              <MenuItem value=\"\">\n                <em>Selecciona uno</em>\n              </MenuItem>\n              {tipoCambio.map((res, index) => (\n                <MenuItem\n                  key={index}\n                  value={res.Value}\n                >{`${res.Value} - ${res.Name}`}</MenuItem>\n              ))}\n            </Select>\n            <FormHelperText>\n              {error_validation.status && !datosFactura.currency\n                ? error_validation.message\n                : \"\"}\n            </FormHelperText>\n          </FormControl>\n        </Grid>\n        <Grid item xs={12} sm={4} md={3}>\n          <CodigosPostales />\n        </Grid>\n      </Grid>\n    </div>\n  );\n}\n","import React, { useState } from \"react\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport Table from \"@material-ui/core/Table\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport Slide from \"@material-ui/core/Slide\";\nimport { Edit } from \"@material-ui/icons\";\nimport { formatoMexico } from \"../../../../../config/reuserFunctions\";\nimport { Box, Checkbox, Divider, FormControl, MenuItem, Select, Typography } from \"@material-ui/core\";\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function ModificarProductoFactura({ venta, producto, index }) {\n  const [open, setOpen] = useState(false);\n  const { datos_generales } = producto.id_producto;\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  return (\n    <div>\n      <IconButton size=\"small\" onClick={handleClickOpen}>\n        <Edit />\n      </IconButton>\n      <Dialog\n        open={open}\n        TransitionComponent={Transition}\n        keepMounted\n        onClose={handleClose}\n        fullWidth\n        maxWidth=\"md\"\n      >\n        <DialogTitle>{datos_generales.nombre_comercial}</DialogTitle>\n        <DialogContent>\n          <Box mb={2}>\n            <Box>\n              <Typography>\n                <b>Impuestos</b>\n              </Typography>\n            </Box>\n            <Divider />\n            <TableContainer>\n              <Table size=\"small\" aria-label=\"a dense table\">\n                <TableHead>\n                  <TableRow>\n                    <TableCell padding=\"checkbox\">Activo</TableCell>\n                    <TableCell style={{ width: 50 }}>Base</TableCell>\n                    <TableCell style={{ width: 50 }}>Impuesto</TableCell>\n                    <TableCell style={{ width: 100 }}>Tasa o Cuota</TableCell>\n                    <TableCell style={{ width: 100 }}>\n                      Valor Tasa o Cuota\n                    </TableCell>\n                    <TableCell style={{ width: 100 }}>Importe</TableCell>\n                  </TableRow>\n                </TableHead>\n                <TableBody>\n                  <TableRow tabIndex={-1}>\n                    <TableCell padding=\"checkbox\">\n                      <Checkbox\n                        size=\"small\"\n                        /* checked={precios.iva_activo} */\n                        /* onChange={obtenerIva} */\n                        name=\"iva_activo\"\n                      />\n                    </TableCell>\n                    <TableCell style={{ width: 50 }}>IVA</TableCell>\n                    <TableCell style={{ width: 50 }}>IEPS</TableCell>\n                    <TableCell style={{ width: 100 }}>\n                      <FormControl\n                      fullWidth\n                        size=\"small\"\n                      >\n                        <Select\n                          /* value={age} */\n                          /* onChange={handleChange} */\n                        >\n                          <MenuItem value=\"Tasa\">Tasa</MenuItem>\n                          <MenuItem value=\"Cuota\">Cuota</MenuItem>\n                        </Select>\n                      </FormControl>\n                    </TableCell>\n                    <TableCell style={{ width: 100 }}>\n                      Valor Tasa o Cuota\n                    </TableCell>\n                    <TableCell style={{ width: 100 }}>Importe</TableCell>\n                  </TableRow>\n                  <TableRow tabIndex={-1}>\n                    <TableCell padding=\"checkbox\">\n                      <Checkbox\n                        size=\"small\"\n                        /* checked={precios.iva_activo} */\n                        /* onChange={obtenerIva} */\n                        name=\"iva_activo\"\n                      />\n                    </TableCell>\n                    <TableCell style={{ width: 50 }}>Base</TableCell>\n                    <TableCell style={{ width: 50 }}>Impuesto</TableCell>\n                    <TableCell style={{ width: 100 }}>Tasa o Cuota</TableCell>\n                    <TableCell style={{ width: 100 }}>\n                      Valor Tasa o Cuota\n                    </TableCell>\n                    <TableCell style={{ width: 100 }}>Importe</TableCell>\n                  </TableRow>\n                </TableBody>\n              </Table>\n            </TableContainer>\n          </Box>\n          <Box>\n            <Typography>\n              <b>Venta</b>\n            </Typography>\n          </Box>\n          <Divider />\n          <TableContainer>\n            <Table size=\"small\" aria-label=\"a dense table\">\n              <TableHead>\n                <TableRow>\n                  <TableCell style={{ width: 50 }}>IVA</TableCell>\n                  <TableCell style={{ width: 50 }}>IEPS</TableCell>\n                  <TableCell style={{ width: 100 }}>Subtotal</TableCell>\n                  <TableCell style={{ width: 100 }}>Impuestos</TableCell>\n                  <TableCell style={{ width: 100 }}>Total</TableCell>\n                </TableRow>\n              </TableHead>\n              <TableBody>\n                <TableRow tabIndex={-1}>\n                  <TableCell>% IVA</TableCell>\n                  <TableCell>% IEPS</TableCell>\n                  <TableCell>\n                    ${formatoMexico(producto.subtotal_total_producto)}\n                  </TableCell>\n                  <TableCell>\n                    ${formatoMexico(producto.impuestos_total_producto)}\n                  </TableCell>\n                  <TableCell>\n                    ${formatoMexico(producto.total_total_producto)}\n                  </TableCell>\n                </TableRow>\n              </TableBody>\n            </Table>\n          </TableContainer>\n        </DialogContent>\n        <DialogActions style={{ justifyContent: \"center\" }}>\n          <Button onClick={handleClose} color=\"primary\">\n            Cancelar\n          </Button>\n          <Button onClick={handleClose} color=\"primary\">\n            Guardar\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n}\n","import React from \"react\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport Table from \"@material-ui/core/Table\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport Slide from \"@material-ui/core/Slide\";\nimport {\n  calculatePrices2,\n  formatoMexico,\n} from \"../../../../../config/reuserFunctions\";\nimport { useState } from \"react\";\nimport { Close } from \"@material-ui/icons\";\nimport { useContext } from \"react\";\nimport { FacturacionCtx } from \"../../../../../context/Facturacion/facturacionCtx\";\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function EliminarProductoFactura({ venta, producto, index }) {\n  const [open, setOpen] = useState(false);\n  const { setVentaFactura, setProductos, productos } = useContext(FacturacionCtx);\n  const { datos_generales } = producto.id_producto;\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const handleDelete = async () => {\n    const copy_venta = { ...venta };\n    const copy_productos = [ ...productos];\n    const { cantidad_venta, granel_producto, precio_actual_object } = producto;\n    const { iva, ieps, impuestos, subTotal, total, monedero } = copy_venta;\n    //devuelve cantidades a restar\n    const precio_resta = await calculatePrices2({\n      newP: producto,\n      cantidad: cantidad_venta,\n      granel: granel_producto,\n      precio_boolean: true,\n      precio: precio_actual_object,\n    });\n    //Restar precios a venta\n    console.log(precio_resta);\n    const {\n      ivaCalculo,\n      iepsCalculo,\n      impuestoCalculo,\n      subtotalCalculo,\n      totalCalculo,\n      monederoCalculo,\n    } = precio_resta;\n\n    copy_venta.iva = iva - ivaCalculo;\n    copy_venta.ieps = ieps - iepsCalculo;\n    copy_venta.impuestos = impuestos - impuestoCalculo;\n    copy_venta.subTotal = subTotal - subtotalCalculo;\n    copy_venta.total = total - totalCalculo;\n    copy_venta.monedero = monedero - monederoCalculo;\n\n    //remover de la lista\n    copy_productos.splice(index, 1);\n    setVentaFactura(copy_venta);\n    setProductos(copy_productos);\n    handleClose();\n  };\n\n  return (\n    <div>\n      <IconButton size=\"small\" onClick={handleClickOpen}>\n        <Close />\n      </IconButton>\n      <Dialog\n        open={open}\n        TransitionComponent={Transition}\n        keepMounted\n        onClose={(_, reason) => {\n          if (reason !== \"backdropClick\") {\n            handleClose();\n          }\n        }}\n      >\n        <DialogTitle>Est seguro de eliminar este producto?</DialogTitle>\n        <DialogContent>\n          <TableContainer>\n            <Table size=\"small\" aria-label=\"a dense table\">\n              <TableHead>\n                <TableRow>\n                  <TableCell style={{ width: 100 }}>Producto</TableCell>\n                  <TableCell style={{ width: 50 }}>Cantidad</TableCell>\n                  <TableCell style={{ width: 100 }}>Subtotal</TableCell>\n                  <TableCell style={{ width: 100 }}>Impuestos</TableCell>\n                  <TableCell style={{ width: 100 }}>Total</TableCell>\n                </TableRow>\n              </TableHead>\n              <TableBody>\n                <TableRow tabIndex={-1}>\n                  <TableCell>{datos_generales.nombre_comercial}</TableCell>\n                  <TableCell>{producto.cantidad_venta}</TableCell>\n                  <TableCell>\n                    ${formatoMexico(producto.subtotal_total_producto)}\n                  </TableCell>\n                  <TableCell>\n                    ${formatoMexico(producto.impuestos_total_producto)}\n                  </TableCell>\n                  <TableCell>\n                    ${formatoMexico(producto.total_total_producto)}\n                  </TableCell>\n                </TableRow>\n              </TableBody>\n            </Table>\n          </TableContainer>\n        </DialogContent>\n        <DialogActions style={{ justifyContent: \"center\" }}>\n          <Button onClick={() => handleClose()} color=\"inherit\">\n            Cancelar\n          </Button>\n          <Button onClick={() => handleDelete()} color=\"secondary\">\n            Eliminar\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n}\n","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport { Box, Typography } from \"@material-ui/core\";\nimport { formatoMexico } from \"../../../../../config/reuserFunctions\";\nimport ModificarProductoFactura from \"./EditarProductoFactura\";\nimport EliminarProductoFactura from \"./EliminarProductoFactura\";\nimport { useContext } from \"react\";\nimport { FacturacionCtx } from \"../../../../../context/Facturacion/facturacionCtx\";\n\nconst useStyles = makeStyles({\n  root: {\n    width: \"100%\",\n  },\n  container: {\n    height: \"36vh\",\n  },\n});\n\nexport default function DetallesFactura() {\n  const classes = useStyles();\n  const { venta_factura, productos } = useContext(FacturacionCtx);\n\n  if(!venta_factura){\n    return null\n  }\n\n  console.log(venta_factura);\n  \n\n  return (\n    <Paper className={classes.root} variant=\"elevation\">\n      <Box textAlign=\"center\">\n        <Typography variant=\"button\">Detalles de Venta</Typography>\n      </Box>\n      <TableContainer>\n        <Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n          <TableHead>\n          <TableRow>\n              <TableCell style={{ width: 250 }}>Folio</TableCell>\n              <TableCell style={{ width: 50 }}>Descuento</TableCell>\n              <TableCell style={{ width: 50 }}>IVA</TableCell>\n              <TableCell style={{ width: 50 }}>IEPS</TableCell>\n              <TableCell style={{ width: 100 }}>Subtotal</TableCell>\n              <TableCell style={{ width: 100 }}>Impuestos</TableCell>\n              <TableCell style={{ width: 100 }}>Total</TableCell>\n              <TableCell style={{ width: 50 }}>Usuario</TableCell>\n              <TableCell style={{ width: 50 }}>Caja</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <TableRow hover role=\"checkbox\" tabIndex={-1}>\n              <TableCell style={{ width: 200 }}>{venta_factura.folio}</TableCell>\n              <TableCell style={{ width: 200 }}>${formatoMexico(venta_factura.descuento)}</TableCell>\n              <TableCell style={{ width: 200 }}>${formatoMexico(venta_factura.iva)}</TableCell>\n              <TableCell style={{ width: 200 }}>${formatoMexico(venta_factura.ieps)}</TableCell>\n              <TableCell style={{ width: 200 }}>${formatoMexico(venta_factura.subTotal)}</TableCell>\n              <TableCell style={{ width: 200 }}>${formatoMexico(venta_factura.impuestos)}</TableCell>\n              <TableCell style={{ width: 200 }}>${formatoMexico(venta_factura.total)}</TableCell>\n              <TableCell style={{ width: 200 }}>aqui ira usuario</TableCell>\n              <TableCell style={{ width: 200 }}>aqui ira caja</TableCell>\n            </TableRow>\n          </TableBody>\n        </Table>\n      </TableContainer>\n      <Box textAlign=\"center\" mt={1}>\n        <Typography variant=\"button\">Productos de Venta</Typography>\n      </Box>\n      <TableContainer className={classes.container}>\n        <Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n          <TableHead>\n            <TableRow>\n              <TableCell style={{ width: 250 }}>Producto</TableCell>\n              <TableCell style={{ width: 50 }}>Cantidad</TableCell>\n              <TableCell style={{ width: 50 }}>IVA</TableCell>\n              <TableCell style={{ width: 50 }}>IEPS</TableCell>\n              <TableCell style={{ width: 100 }}>Subtotal</TableCell>\n              <TableCell style={{ width: 100 }}>Impuestos</TableCell>\n              <TableCell style={{ width: 100 }}>Total</TableCell>\n              <TableCell style={{ width: 50 }}>Modificar</TableCell>\n              <TableCell style={{ width: 50 }} >Eliminar</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {productos.map((producto, index) => {\n              return <RowTableProductos venta={venta_factura} producto={producto} key={index} index={index} />;\n            })}\n          </TableBody>\n        </Table>\n      </TableContainer>\n    </Paper>\n  );\n}\n\nconst RowTableProductos = ({ venta, producto, index }) => {\n  const {datos_generales}= producto.id_producto\n  return (\n    <TableRow tabIndex={-1}>\n      <TableCell>{datos_generales.nombre_comercial}</TableCell>\n      <TableCell>{producto.cantidad_venta}</TableCell>\n      <TableCell>${formatoMexico(producto.iva_total_producto)}</TableCell>\n      <TableCell>${formatoMexico(producto.ieps_total_producto)}</TableCell>\n      <TableCell>${formatoMexico(producto.subtotal_total_producto)}</TableCell>\n      <TableCell>${formatoMexico(producto.impuestos_total_producto)}</TableCell>\n      <TableCell>${formatoMexico(producto.total_total_producto)}</TableCell>\n      <TableCell>\n        <ModificarProductoFactura venta={venta} producto={producto} index={index} />\n      </TableCell>\n      <TableCell>\n        <EliminarProductoFactura venta={venta} producto={producto} index={index} />\n      </TableCell>\n    </TableRow>\n  );\n};\n\n","export const verificarDatosFactura = (datos) => {\n  const {\n    cfdi_type,\n    currency,\n    date,\n    empresa,\n    expedition_place,\n    folio,\n    issuer,\n    items,\n    logo_url,\n    payment_form,\n    payment_method,\n    receiver,\n    serie,\n    sucursal,\n  } = datos;\n\n  console.log(datos);\n\n  //verificar datos factura\n  if (\n    !cfdi_type ||\n    !currency ||\n    !date ||\n    !empresa ||\n    !expedition_place ||\n    !folio ||\n    !issuer ||\n    !items ||\n    !logo_url ||\n    !payment_form ||\n    !payment_method ||\n    !receiver ||\n    !serie ||\n    !sucursal\n  ){\n      return [{message: \"Campo requerido\"}]\n  }\n//verificar productos factura\n\n\n    return [];\n};\n","const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n\nexport const factura_initial_state = {\n    serie: \"\",\n    currency: \"MXN\",\n    expedition_place: \"\",\n    folio: \"\",\n    cfdi_type: \"I\",\n    payment_form: \"\",\n    payment_method: \"\",\n    logo_url: sesion ? sesion.imagen : '',\n    date: \"0\",\n    issuer: {\n      FiscalRegime: sesion ? sesion.empresa.regimen_fiscal : \"\",\n      Rfc: sesion ? sesion.empresa.rfc : \"\",\n      Name: sesion ? sesion.empresa.nombre_fiscal : \"\",\n    },\n    receiver: {\n      Rfc: \"\",\n      Name: \"\",\n      CfdiUse: \"\",\n    },\n    items: [],\n    empresa: sesion ? sesion.empresa._id : \"\",\n    sucursal: sesion ? sesion.sucursal._id : \"\",\n  }","import React, { useContext, useState } from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport Slide from \"@material-ui/core/Slide\";\nimport Box from \"@material-ui/core/Box\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport FormHelperText from \"@material-ui/core/FormHelperText\";\nimport Typography from \"@material-ui/core/Typography\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Select from \"@material-ui/core/Select\";\nimport DoneIcon from \"@material-ui/icons/Done\";\nimport moment from \"moment\";\nimport { verificarDatosFactura } from \"./validacion_factura\";\nimport { factura_initial_state } from \"./initial_factura_states\";\nimport { FacturacionCtx } from \"../../../../context/Facturacion/facturacionCtx\";\nimport { CREAR_FACTURA } from \"../../../../gql/Facturacion/Facturacion\";\nimport { useMutation } from \"@apollo/client\";\nimport { formaPago, metodoPago, tiposCfdi, usosCfdi } from \"../catalogos\";\nimport { Done } from \"@material-ui/icons\";\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function RealizarFactura({ setAlert }) {\n  const [open, setOpen] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const {\n    datosFactura,\n    setDatosFactura,\n    codigo_postal,\n    setCodigoPostal,\n    productosFactura,\n    setProductosFactura,\n    setError,\n  } = useContext(FacturacionCtx);\n\n  const [CrearFactura] = useMutation(CREAR_FACTURA);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const limpiarCampos = () => {\n    setDatosFactura(factura_initial_state);\n    setProductosFactura([]);\n    setCodigoPostal(\"\");\n  };\n\n  const crearFactura = async () => {\n    try {\n      setLoading(true);\n      let nuevo_obj = { ...datosFactura };\n      const productos = [\n        {\n          ProductCode: \"50202306\",\n          IdentificationNumber: \"61b7bf6e3454b727a0c2e357\",\n          Description: \"COCACOLA\",\n          /* Unit: \"Unidad de Servicio\", */\n          UnitCode: \"XBX\",\n          UnitPrice: \"36\",\n          Quantity: \"1\",\n          Subtotal: \"36\",\n          Discount: \"5.4\",\n          Taxes: [\n            {\n              Total: \"4.89\",\n              Name: \"IVA\",\n              Base: \"30.6\",\n              Rate: \"0.16\",\n              IsRetention: \"false\",\n            },\n          ],\n          Total: \"35.49\",\n        },\n      ];\n\n      //poner la fecha de facturacion\n      if (datosFactura.date === \"1\") {\n        nuevo_obj.date = moment()\n          .subtract(1, \"d\")\n          .format(\"YYYY-MM-DDTHH:mm:ss\");\n      } else if (datosFactura.date === \"2\") {\n        nuevo_obj.date = moment()\n          .subtract(2, \"d\")\n          .format(\"YYYY-MM-DDTHH:mm:ss\");\n      } else {\n        nuevo_obj.date = moment().format(\"YYYY-MM-DDTHH:mm:ss\");\n      }\n\n      nuevo_obj.items = productos;\n      nuevo_obj.expedition_place = codigo_postal;\n\n      /* validar todos los datos */\n      const validate = verificarDatosFactura(nuevo_obj);\n\n      console.log(nuevo_obj);\n      if (validate.length) {\n        setError({ status: true, message: validate[0].message });\n        setLoading(false);\n        return;\n      }\n      setError({ status: false, message: \"\" });\n\n      /* let result = await CrearFactura({\n        variables: {\n          input: nuevo_obj,\n        },\n      });\n      console.log(\"result\", result); */\n      setLoading(false);\n      /* setAlert({\n        message: `Listo! ${result.data.crearFactura.message}`,\n        status: \"success\",\n        open: true,\n      }); */\n      /* limpiarCampos(); */\n    } catch (error) {\n      console.log(error);\n      console.log(error.response);\n      setLoading(false);\n      if (error.response) {\n        setAlert({\n          message: error.response,\n          status: \"error\",\n          open: true,\n        });\n      } else if (error.networkError) {\n        console.log(error.networkError.result);\n      } else if (error.graphQLErrors) {\n        console.log(error.graphQLErrors);\n      }\n    }\n  };\n\n  return (\n    <div>\n      <Button\n        color=\"primary\"\n        startIcon={<DoneIcon />}\n        size=\"large\"\n        onClick={() => handleClickOpen()}\n      >\n        Generar CFDI\n      </Button>\n      <Dialog\n        open={open}\n        TransitionComponent={Transition}\n        keepMounted\n        onClose={() => handleClose()}\n        fullWidth\n        maxWidth=\"xs\"\n      >\n        <DialogContent>\n          <InputsFacturaModal />\n        </DialogContent>\n        <DialogActions style={{ justifyContent: \"center\" }}>\n          <Button onClick={() => handleClose()} color=\"primary\">\n            Cancelar\n          </Button>\n          <Button startIcon={<Done />} onClick={() => crearFactura()} color=\"primary\">\n            Realizar Factura\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n}\n\nconst InputsFacturaModal = () => {\n  const { datosFactura, setDatosFactura, error_validation } = useContext(\n    FacturacionCtx\n  );\n\n  const obtenerDatos = (e) => {\n    const { name, value } = e.target;\n    console.log(name, value);\n    setDatosFactura({\n      ...datosFactura,\n      [name]: value,\n    });\n  };\n\n  const obtenerUsoCfdi = (e) => {\n    const { name, value } = e.target;\n    setDatosFactura({\n      ...datosFactura,\n      receiver: {\n        ...datosFactura.receiver,\n        [name]: value,\n      },\n    });\n  };\n\n  return (\n    <Box>\n      <Box my={1}>\n        <Typography>Fecha de facturacin</Typography>\n        <FormControl\n          variant=\"outlined\"\n          fullWidth\n          size=\"small\"\n          name=\"date\"\n          error={error_validation.status && !datosFactura.date}\n        >\n          <Select value={datosFactura.date} name=\"date\" onChange={obtenerDatos}>\n            <MenuItem value=\"\">\n              <em>Selecciona una fecha</em>\n            </MenuItem>\n            <MenuItem value=\"0\">{moment().format(\"LL\")}</MenuItem>\n            <MenuItem value=\"1\">\n              {moment().subtract(1, \"d\").format(\"LL\")}\n            </MenuItem>\n            <MenuItem value=\"2\">\n              {moment().subtract(2, \"d\").format(\"LL\")}\n            </MenuItem>\n          </Select>\n          <FormHelperText>\n            {error_validation.status && !datosFactura.date\n              ? error_validation.message\n              : \"\"}\n          </FormHelperText>\n        </FormControl>\n      </Box>\n      <Box my={1}>\n        <Typography>Forma de pago</Typography>\n        <FormControl\n          variant=\"outlined\"\n          fullWidth\n          size=\"small\"\n          name=\"payment_form\"\n          error={error_validation.status && !datosFactura.payment_form}\n        >\n          <Select\n            value={datosFactura.payment_form}\n            name=\"payment_form\"\n            onChange={obtenerDatos}\n          >\n            <MenuItem value=\"\">\n              <em>Selecciona uno</em>\n            </MenuItem>\n            {formaPago.map((res, index) => (\n              <MenuItem\n                key={index}\n                value={res.Value}\n              >{`${res.Value} - ${res.Name}`}</MenuItem>\n            ))}\n          </Select>\n          <FormHelperText>\n            {error_validation.status && !datosFactura.payment_form\n              ? error_validation.message\n              : \"\"}\n          </FormHelperText>\n        </FormControl>\n      </Box>\n      <Box my={1}>\n        <Typography>Mtodo de pago</Typography>\n        <FormControl\n          variant=\"outlined\"\n          fullWidth\n          size=\"small\"\n          name=\"payment_method\"\n          error={error_validation.status && !datosFactura.payment_method}\n        >\n          <Select\n            value={datosFactura.payment_method}\n            name=\"payment_method\"\n            onChange={obtenerDatos}\n          >\n            <MenuItem value=\"\">\n              <em>Selecciona uno</em>\n            </MenuItem>\n            {metodoPago.map((res, index) => (\n              <MenuItem\n                key={index}\n                value={res.Value}\n              >{`${res.Value} - ${res.Name}`}</MenuItem>\n            ))}\n          </Select>\n          <FormHelperText>\n            {error_validation.status && !datosFactura.payment_method\n              ? error_validation.message\n              : \"\"}\n          </FormHelperText>\n        </FormControl>\n      </Box>\n      <Box>\n        <Typography>Uso de CFDi</Typography>\n        <FormControl\n          fullWidth\n          size=\"small\"\n          variant=\"outlined\"\n          fullWidth\n          error={error_validation.status && !datosFactura.receiver.CfdiUse}\n        >\n          <Select\n            value={datosFactura.receiver.CfdiUse}\n            name=\"CfdiUse\"\n            onChange={obtenerUsoCfdi}\n          >\n            <MenuItem value=\"\">\n              <em>Selecciona uno</em>\n            </MenuItem>\n            {usosCfdi.map((res, index) => (\n              <MenuItem\n                key={index}\n                value={res.Value}\n              >{`${res.Value} - ${res.Name}`}</MenuItem>\n            ))}\n          </Select>\n          <FormHelperText>\n            {error_validation.status && !datosFactura.receiver.CfdiUse\n              ? error_validation.message\n              : \"\"}\n          </FormHelperText>\n        </FormControl>\n      </Box>\n    </Box>\n  );\n};\n","import React, { forwardRef, Fragment, useContext, useState } from \"react\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Box from \"@material-ui/core/Box\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport Slide from \"@material-ui/core/Slide\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Typography from \"@material-ui/core/Typography\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport { makeStyles } from \"@material-ui/core\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport Alert from \"@material-ui/lab/Alert\";\n\nimport RegistroFactura from \"./RegistroFactura\";\nimport DetallesFactura from \"./TablaVenta/TablaDetallesFactura\";\nimport { ClienteProvider } from \"../../../../context/Catalogos/crearClienteCtx\";\nimport {\n  FacturacionCtx,\n  FacturacionProvider,\n} from \"../../../../context/Facturacion/facturacionCtx\";\n\nimport { useQuery } from \"@apollo/client\";\nimport { OBTENER_SERIES } from \"../../../../gql/Facturacion/Facturacion\";\nimport ErrorPage from \"../../../../components/ErrorPage\";\nimport SnackBarMessages from \"../../../../components/SnackBarMessages\";\nimport RealizarFactura from \"./RealizarFactura\";\nimport { factura_initial_state } from \"./initial_factura_states\";\n\nconst useStyles = makeStyles((theme) => ({\n  appBar: {\n    position: \"relative\",\n  },\n  title: {\n    marginLeft: theme.spacing(2),\n    flex: 1,\n  },\n}));\n\nconst Transition = forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function NuevaFactura() {\n  const classes = useStyles();\n  const [open, setOpen] = useState(false);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  return (\n    <div>\n      <ClienteProvider>\n        <Button fullWidth onClick={() => handleClickOpen()}>\n          <Box display=\"flex\" flexDirection=\"column\">\n            <Box\n              display=\"flex\"\n              justifyContent=\"center\"\n              alignItems=\"center\"\n              mb={2}\n            >\n              <img\n                src=\"https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/factura-2.png\"\n                alt=\"icono Factura\"\n                style={{ width: 100 }}\n              />\n            </Box>\n            Generar nuevo CFDI\n          </Box>\n        </Button>\n        <Dialog\n          fullScreen\n          open={open}\n          onClose={() => handleClose()}\n          TransitionComponent={Transition}\n        >\n          <AppBar className={classes.appBar}>\n            <Toolbar>\n              <Typography variant=\"h6\" className={classes.title}>\n                Generar nuevo CFDI\n              </Typography>\n              <Box m={1}>\n                <Button\n                  /* variant=\"contained\" */\n                  color=\"inherit\"\n                  onClick={() => handleClose()}\n                  size=\"large\"\n                >\n                  <CloseIcon style={{ fontSize: 30 }} />\n                </Button>\n              </Box>\n            </Toolbar>\n          </AppBar>\n          <FacturacionProvider>\n            <FacturaModalContent handleClose={handleClose} />\n          </FacturacionProvider>\n        </Dialog>\n      </ClienteProvider>\n    </div>\n  );\n}\n\nconst FacturaModalContent = ({ handleClose }) => {\n  const { setDatosFactura, setCodigoPostal, setProductosFactura } = useContext(\n    FacturacionCtx\n  );\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n  const [alert, setAlert] = useState({ message: \"\", status: \"\", open: false });\n\n  const { loading, data, error } = useQuery(OBTENER_SERIES, {\n    variables: {\n      sucursal: sesion.sucursal._id,\n      empresa: sesion.empresa._id,\n    },\n    fetchPolicy: \"network-only\",\n  });\n\n  if (loading) {\n    return (\n      <Box\n        display=\"flex\"\n        justifyContent=\"center\"\n        alignItems=\"center\"\n        height=\"30vh\"\n      >\n        <CircularProgress />\n      </Box>\n    );\n  }\n  if (error) {\n    return <ErrorPage error={error} />;\n  }\n\n  const { seriesCfdi } = data.obtenerSeriesCdfi;\n\n  let serie_default = [];\n  serie_default = seriesCfdi.filter((serie) => serie.default === true);\n  if (!serie_default.length) {\n    serie_default = [{ folio: \"\", serie: \"\" }];\n    console.log(serie_default);\n  }\n\n  const limpiarCampos = () => {\n    setDatosFactura(factura_initial_state);\n    setProductosFactura([]);\n    setCodigoPostal(\"\");\n  };\n\n  const cancelarCFDI = () => {\n    limpiarCampos();\n    handleClose();\n  };\n\n  return (\n    <Fragment>\n      <DialogContent>\n        <SnackBarMessages alert={alert} setAlert={setAlert} />\n        {!seriesCfdi.length ? (\n          <Alert severity=\"warning\">No tienes Series CFDI registradas</Alert>\n        ) : null}\n        <Box my={2}>\n          <RegistroFactura serie_default={serie_default} />\n        </Box>\n        {/* <Box>\n          <ListaDocumentos />\n        </Box> */}\n        <DetallesFactura />\n      </DialogContent>\n\n      <DialogActions style={{ justifyContent: \"center\" }}>\n        <Button onClick={() => cancelarCFDI()} size=\"large\">\n          Cancelar\n        </Button>\n        <RealizarFactura setAlert={setAlert} />\n      </DialogActions>\n    </Fragment>\n  );\n};\n","import React, { useState } from \"react\";\nimport {\n  Box,\n  Button,\n  Checkbox,\n  CircularProgress,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  FormControlLabel,\n  TextField,\n  Typography,\n} from \"@material-ui/core\";\nimport { Add, Close, Done } from \"@material-ui/icons\";\nimport Slide from \"@material-ui/core/Slide\";\nimport { CREAR_SERIE } from \"../../../../gql/Facturacion/Facturacion\";\nimport { useMutation } from \"@apollo/client\";\nimport SnackBarMessages from \"../../../../components/SnackBarMessages\";\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function RegistroSeries({ refetch }) {\n  const [open, setOpen] = useState(false);\n  const [datos, setDatos] = useState({ folio: \"\", serie: \"\", default: false });\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n  const [alert, setAlert] = useState({ message: \"\", status: \"\", open: false });\n  const [loading, setLoading] = useState(false);\n\n  const [crearSerieCFDI] = useMutation(CREAR_SERIE);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n    setDatos({ folio: \"\", serie: \"\", default: false });\n  };\n\n  const obtenerDatosSeries = (e) => {\n    const { name, value } = e.target;\n    setDatos({\n      ...datos,\n      [name]: value,\n    });\n  };\n\n  const obtenerPredeterminado = (e) => {\n    const { name, checked } = e.target;\n    setDatos({\n      ...datos,\n      [name]: checked,\n    });\n  };\n\n  const guardarDatosBD = async () => {\n    if (!datos.folio || !datos.serie) return;\n\n    try {\n      setLoading(true);\n      const result = await crearSerieCFDI({\n        variables: {\n          input: {\n            serie: datos.serie,\n            folio: parseInt(datos.folio),\n            default: datos.default,\n            empresa: sesion.empresa._id,\n            sucursal: sesion.sucursal._id,\n          },\n        },\n      });\n      setAlert({\n        message: `Listo! ${result.data.crearSerieCFDI.message}`,\n        status: \"success\",\n        open: true,\n      });\n      refetch();\n      setLoading(false);\n      handleClose();\n    } catch (error) {\n      setLoading(false);\n      setAlert({\n        message: `Error: ${error.message}`,\n        status: \"error\",\n        open: true,\n      });\n      console.log(error);\n      if (error.networkError) {\n        console.log(error.networkError.result);\n      } else if (error.graphQLErrors) {\n        console.log(error.graphQLErrors);\n      }\n    }\n  };\n\n  return (\n    <div>\n      <SnackBarMessages alert={alert} setAlert={setAlert} />\n      <Box display=\"flex\" justifyContent=\"flex-end\">\n        <Button\n          onClick={() => handleClickOpen()}\n          color=\"primary\"\n          variant=\"contained\"\n          size=\"large\"\n          startIcon={<Add />}\n        >\n          Nueva serie\n        </Button>\n      </Box>\n      <Dialog\n        maxWidth=\"xs\"\n        fullWidth\n        open={open}\n        onClose={() => handleClose()}\n        TransitionComponent={Transition}\n      >\n        <DialogTitle>Registrar nueva serie</DialogTitle>\n        <DialogContent>\n          <Box width=\"100%\">\n            <Typography>Serie para CDFI:</Typography>\n            <Box display=\"flex\" alignItems=\"center\">\n              <TextField\n                fullWidth\n                size=\"small\"\n                variant=\"outlined\"\n                name=\"serie\"\n                onChange={obtenerDatosSeries}\n              />\n            </Box>\n          </Box>\n          <Box width=\"100%\">\n            <Typography>Folio Inicial:</Typography>\n            <Box display=\"flex\" alignItems=\"center\">\n              <TextField\n                fullWidth\n                size=\"small\"\n                variant=\"outlined\"\n                name=\"folio\"\n                onChange={obtenerDatosSeries}\n              />\n            </Box>\n          </Box>\n          <FormControlLabel\n            style={{ marginTop: 8 }}\n            control={\n              <Checkbox\n                checked={datos.default}\n                onChange={obtenerPredeterminado}\n                name=\"default\"\n              />\n            }\n            label=\"Serie predeterminada\"\n          />\n        </DialogContent>\n        <DialogActions style={{ justifyContent: \"center\" }}>\n          <Button startIcon={<Close />} onClick={() => handleClose()}>\n            Cancelar\n          </Button>\n          <Button\n            color=\"primary\"\n            startIcon={loading ? <CircularProgress size={20} /> : <Done />}\n            disabled={!datos.serie || !datos.folio || loading}\n            onClick={() => guardarDatosBD()}\n          >\n            Guardar\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n}\n","import React, { Fragment, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport Slide from \"@material-ui/core/Slide\";\nimport { Close, Done } from \"@material-ui/icons\";\nimport { Backdrop, Checkbox, CircularProgress } from \"@material-ui/core\";\nimport SnackBarMessages from \"../../../../components/SnackBarMessages\";\nimport { useMutation } from \"@apollo/client\";\nimport {\n  ACTUALIZAR_DEFAULT_SERIE,\n  ELIMINAR_SERIE,\n} from \"../../../../gql/Facturacion/Facturacion\";\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nconst useStyles = makeStyles((theme) => ({\n  container: {\n    height: \"80vh\",\n  },\n  backdrop: {\n    zIndex: theme.zIndex.drawer + 1,\n    color: \"#fff\",\n  },\n}));\n\nexport default function ListaSeriesCDFI({ obtenerSeriesCdfi, refetch }) {\n  const classes = useStyles();\n  const [loading, setLoading] = useState(false);\n  const [alert, setAlert] = useState({ message: \"\", status: \"\", open: false });\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n\n  const { seriesCfdi } = obtenerSeriesCdfi;\n  const [modificarDefaultSerie] = useMutation(ACTUALIZAR_DEFAULT_SERIE);\n\n  const setPredeterminado = async (value, data) => {\n    setLoading(true);\n    try {\n      const result = await modificarDefaultSerie({\n        variables: {\n          id: data._id,\n          empresa: sesion.empresa._id,\n          sucursal: sesion.sucursal._id,\n        },\n      });\n      refetch();\n      setLoading(false);\n      setAlert({\n        message: `Listo! ${result.data.modificarDefaultSerie.message}`,\n        status: \"success\",\n        open: true,\n      });\n      setLoading(false);\n    } catch (error) {\n      setLoading(false);\n      setAlert({\n        message: `Error: ${error.message}`,\n        status: \"success\",\n        open: true,\n      });\n    }\n  };\n\n  return (\n    <Paper variant=\"outlined\">\n      <Backdrop className={classes.backdrop} open={loading}>\n        <CircularProgress color=\"inherit\" />\n      </Backdrop>\n      <SnackBarMessages alert={alert} setAlert={setAlert} />\n      <TableContainer className={classes.container}>\n        <Table stickyHeader>\n          <TableHead>\n            <TableRow>\n              <TableCell>Serie</TableCell>\n              <TableCell>Folio</TableCell>\n              <TableCell>Predeterminado</TableCell>\n              <TableCell padding=\"checkbox\">Eliminar</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {seriesCfdi.map((row, index) => {\n              return (\n                <TableRow hover role=\"checkbox\" tabIndex={-1} key={index}>\n                  <TableCell>{row.serie}</TableCell>\n                  <TableCell>{row.folio}</TableCell>\n                  <TableCell align=\"center\" padding=\"checkbox\">\n                    <Checkbox\n                      checked={row.default}\n                      onChange={(e) => setPredeterminado(e.target.checked, row)}\n                      name=\"checkedA\"\n                    />\n                  </TableCell>\n                  <TableCell align=\"center\" padding=\"checkbox\">\n                    <ModalDeleteSerie\n                      row={row}\n                      refetch={refetch}\n                      setAlert={setAlert}\n                    />\n                  </TableCell>\n                </TableRow>\n              );\n            })}\n          </TableBody>\n        </Table>\n      </TableContainer>\n    </Paper>\n  );\n}\n\nconst ModalDeleteSerie = ({ row, refetch, setAlert }) => {\n  const [open, setOpen] = useState(false);\n  const [loading, setLoading] = useState(false);\n\n  const [eliminarSerie] = useMutation(ELIMINAR_SERIE);\n\n  const handleOpen = () => setOpen(true);\n  const handleClose = () => setOpen(false);\n\n  const eliminarSerieBD = async () => {\n    setLoading(true);\n    try {\n      const result = await eliminarSerie({\n        variables: {\n          id: row._id,\n        },\n      });\n      refetch();\n      setLoading(false);\n      handleClose();\n      setAlert({\n        message: `Listo! ${result.data.eliminarSerie.message}`,\n        status: \"success\",\n        open: true,\n      });\n      setLoading(false);\n    } catch (error) {\n      setLoading(false);\n      setAlert({\n        message: `Error: ${error.message}`,\n        status: \"success\",\n        open: true,\n      });\n    }\n  };\n\n  return (\n    <Fragment>\n      <IconButton aria-label=\"delete\" size=\"small\" onClick={() => handleOpen()} disabled={row.default}>\n        <DeleteIcon />\n      </IconButton>\n      <Dialog\n        open={open}\n        onClose={() => handleClose()}\n        TransitionComponent={Transition}\n      >\n        <DialogTitle>Se eliminara esta serie</DialogTitle>\n        <DialogActions style={{ justifyContent: \"center\" }}>\n          <Button startIcon={<Close />} onClick={() => handleClose()}>\n            Cancelar\n          </Button>\n          <Button\n            color=\"secondary\"\n            disabled={loading}\n            startIcon={loading ? <CircularProgress size={20} /> : <Done />}\n            onClick={() => eliminarSerieBD()}\n          >\n            Eliminar\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </Fragment>\n  );\n};\n","import React, { forwardRef, useState } from \"react\";\nimport {\n  AppBar,\n  Box,\n  Button,\n  CircularProgress,\n  Container,\n  Dialog,\n  makeStyles,\n  Slide,\n  Toolbar,\n  Typography,\n} from \"@material-ui/core\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport RegistroSeries from \"./RegistroSeries\";\nimport ListaSeriesCDFI from \"./ListaSeries\";\nimport { useQuery } from \"@apollo/client\";\nimport { OBTENER_SERIES } from \"../../../../gql/Facturacion/Facturacion\";\nimport ErrorPage from \"../../../../components/ErrorPage\";\nconst useStyles = makeStyles((theme) => ({\n  appBar: {\n    position: \"relative\",\n  },\n  title: {\n    marginLeft: theme.spacing(2),\n    flex: 1,\n  },\n  icon: {\n    width: 100,\n  },\n}));\n\nconst Transition = forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function SeriesCDFI() {\n  const classes = useStyles();\n  const [open, setOpen] = useState(false);\n\n  const handleClickOpen = () => {\n    setOpen(!open);\n  };\n\n  return (\n    <div>\n      <Button fullWidth onClick={handleClickOpen}>\n        <Box display=\"flex\" flexDirection=\"column\">\n          <Box\n            display=\"flex\"\n            justifyContent=\"center\"\n            alignItems=\"center\"\n            mb={2}\n          >\n            <img\n              src=\"https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/factura-1.png\"\n              alt=\"icono Factura\"\n              style={{ width: 100 }}\n            />\n          </Box>\n          Registrar Series CFDI\n        </Box>\n      </Button>\n      <Dialog\n        fullScreen\n        open={open}\n        onClose={handleClickOpen}\n        TransitionComponent={Transition}\n      >\n        <AppBar className={classes.appBar}>\n          <Toolbar>\n            <Typography variant=\"h6\" className={classes.title}>\n              Seleccion de Series para CFDI\n            </Typography>\n            <Box m={1}>\n              <Button color=\"inherit\" onClick={handleClickOpen} size=\"large\">\n                <CloseIcon />\n              </Button>\n            </Box>\n          </Toolbar>\n        </AppBar>\n        <ContentSeriesCFDI />\n      </Dialog>\n    </div>\n  );\n}\n\nconst ContentSeriesCFDI = () => {\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n\n  const { loading, data, error, refetch } = useQuery(OBTENER_SERIES, {\n    variables: {\n      sucursal: sesion.sucursal._id,\n      empresa: sesion.empresa._id,\n    },\n    fetchPolicy: \"network-only\",\n  });\n\n  if (loading) {\n    return (\n      <Box\n        display=\"flex\"\n        justifyContent=\"center\"\n        alignItems=\"center\"\n        height=\"30vh\"\n      >\n        <CircularProgress />\n      </Box>\n    );\n  }\n  if (error) {\n    return <ErrorPage error={error} />;\n  }\n\n  const { obtenerSeriesCdfi } = data;\n\n  return (\n    <Container maxWidth=\"md\">\n      <Box my={2}>\n        <RegistroSeries refetch={refetch} />\n      </Box>\n      <ListaSeriesCDFI\n        obtenerSeriesCdfi={obtenerSeriesCdfi}\n        refetch={refetch}\n      />\n    </Container>\n  );\n};\n","import React, { Fragment } from \"react\";\nimport { CloudDownloadOutlined } from \"@material-ui/icons\";\nimport { Grid, Button, Box } from \"@material-ui/core\";\nimport ReactExport from \"react-export-excel\";\nimport {\n  formatoFecha,\n  formatoMexico,\n} from \"../../../../config/reuserFunctions\";\n\nconst ExcelFile = ReactExport.ExcelFile;\nconst ExcelSheet = ReactExport.ExcelFile.ExcelSheet;\nconst ExcelColumn = ReactExport.ExcelFile.ExcelColumn;\n\nexport default function ExportarProductosFacturaExcel({ compra }) {\n  const {\n    almacen,\n    proveedor,\n    fecha_registro,\n    subtotal,\n    impuestos,\n    total,\n    productos,\n  } = compra;\n\n  const compra_realizada = [\n    {\n      almacen: almacen.nombre_almacen,\n      proveedor: proveedor.nombre_cliente,\n      fecha_registro: formatoFecha(fecha_registro),\n      subtotal: formatoMexico(subtotal),\n      impuestos: formatoMexico(impuestos),\n      total: formatoMexico(total),\n    },\n  ];\n\n  const productos_detalles = productos.map((productos) => {\n    const {\n      producto,\n      medida,\n      color,\n      unidad,\n      cantidad,\n      Cantidad_regalo,\n      cantidad_total,\n      descuento_precio,\n      descuento_porcentaje,\n      subtotal,\n      impuestos,\n      total,\n    } = productos;\n    const detalle_producto = {\n      producto: producto.datos_generales.nombre_comercial,\n      medida: medida ? medida.medida : \"N/A\",\n      color: color ? color.color : \"N/A\",\n      unidad,\n      cantidad,\n      Cantidad_regalo,\n      cantidad_total,\n      descuento_precio,\n      descuento_porcentaje,\n      subtotal: formatoMexico(subtotal),\n      impuestos: formatoMexico(impuestos),\n      total: formatoMexico(total),\n    };\n\n    return detalle_producto;\n  });\n\n  return (\n    <Fragment>\n      <Grid>\n        <Grid item>\n          <ExcelFile\n            element={\n              <Box display=\"flex\" justifyContent=\"flex-end\">\n                <Button\n                  variant=\"contained\"\n                  color=\"primary\"\n                  startIcon={<CloudDownloadOutlined />}\n                >\n                  Exportar a Excel\n                </Button>\n              </Box>\n            }\n            filename={\"Detalle de compra\"}\n          >\n            <ExcelSheet data={compra_realizada} name=\"Detalle compra\">\n              <ExcelColumn label=\"Almacen\" value=\"almacen\" />\n              <ExcelColumn label=\"Proveedor\" value=\"proveedor\" />\n              <ExcelColumn label=\"Fecha de compra\" value=\"fecha_registro\" />\n              <ExcelColumn label=\"Subtotal\" value=\"subtotal\" />\n              <ExcelColumn label=\"Impuestos\" value=\"impuestos\" />\n              <ExcelColumn label=\"Total\" value=\"total\" />\n            </ExcelSheet>\n            <ExcelSheet data={productos_detalles} name=\"Productos de la compra\">\n              <ExcelColumn label=\"Producto\" value=\"producto\" />\n              <ExcelColumn label=\"Medida\" value=\"medida\" />\n              <ExcelColumn label=\"Color\" value=\"color\" />\n              <ExcelColumn label=\"Unidad\" value=\"unidad\" />\n              <ExcelColumn label=\"Cantidad\" value=\"cantidad\" />\n              <ExcelColumn label=\"Cantidad de regalo\" value=\"cantidad_regalo\" />\n              <ExcelColumn label=\"Cantidad total\" value=\"cantidad_total\" />\n              <ExcelColumn\n                label=\"Precio de descuento\"\n                value=\"descuento_precio\"\n              />\n              <ExcelColumn\n                label=\"Porcentaje de descuento\"\n                value=\"descuento_porcentaje\"\n              />\n              <ExcelColumn label=\"Subtotal\" value=\"subtotal\" />\n              <ExcelColumn label=\"Impuestos\" value=\"impuestos\" />\n              <ExcelColumn label=\"Total\" value=\"total\" />\n            </ExcelSheet>\n          </ExcelFile>\n        </Grid>\n      </Grid>\n    </Fragment>\n  );\n}\n","import React, { Fragment, useEffect, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\n\nimport Box from \"@material-ui/core/Box\";\nimport Chip from \"@material-ui/core/Chip\";\nimport Grid from \"@material-ui/core/Grid\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { useTheme } from \"@material-ui/core\";\nimport SearchOutlinedIcon from \"@material-ui/icons/SearchOutlined\";\nimport { formatoMexico } from \"../../../../config/reuserFunctions\";\nimport ExportarProductosFacturaExcel from \"./ExportarProductosFactura\";\n\nconst useStyles = makeStyles({\n  root: {\n    width: \"100%\",\n  },\n  container: {\n    height: \"50vh\",\n  },\n});\n\nexport default function DatosDeCompra({ compra }) {\n  const classes = useStyles();\n  const theme = useTheme();\n  const { productos } = compra;\n  const [busqueda, setBusqueda] = useState(\"\");\n  const [productosFiltrados, setProductosFiltrados] = useState([]);\n\n  const obtenerBusqueda = (value) => setBusqueda(value);\n\n  useEffect(() => {\n    setProductosFiltrados(\n      productos.filter((datos) => {\n        return datos.producto.datos_generales.nombre_comercial\n          .toLowerCase()\n          .includes(busqueda.toLowerCase());\n      })\n    );\n  }, [busqueda, productos]);\n\n  return (\n    <Fragment>\n      <Box mb={1} display=\"flex\">\n        <Typography style={{ marginRight: 16 }}>\n          <b>Proveedor: </b>\n          {compra.proveedor.nombre_cliente}\n        </Typography>\n        <Typography style={{ marginRight: 16 }}>\n          <b>Almacen: </b>\n          {compra.almacen.nombre_almacen}\n        </Typography>\n        <Typography style={{ marginRight: 16 }}>\n          <b>Subtotal: ${compra.subtotal}</b>\n        </Typography>\n        <Typography style={{ marginRight: 16 }}>\n          <b>Impuestos: ${compra.impuestos}</b>\n        </Typography>\n        <Typography style={{ marginRight: 16 }}>\n          <b>Total: ${compra.total}</b>\n        </Typography>\n      </Box>\n      <Box mb={2} display=\"flex\">\n        <Grid container>\n          <Grid item sm={6} xs={12}>\n            <TextField\n              fullWidth\n              size=\"small\"\n              variant=\"outlined\"\n              placeholder=\"Buscar una compra...\"\n              onChange={(e) => obtenerBusqueda(e.target.value)}\n              InputProps={{\n                startAdornment: (\n                  <InputAdornment position=\"start\">\n                    <SearchOutlinedIcon color=\"action\" />\n                  </InputAdornment>\n                ),\n              }}\n            />\n          </Grid>\n          <Grid item sm={6} xs={12}>\n            <ExportarProductosFacturaExcel compra={compra} />\n          </Grid>\n        </Grid>\n      </Box>\n      <Paper className={classes.root}>\n        <TableContainer className={classes.container}>\n          <Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n            <TableHead>\n              <TableRow>\n                <TableCell>Producto</TableCell>\n                <TableCell>Medida</TableCell>\n                <TableCell>Color</TableCell>\n                <TableCell>Unidad</TableCell>\n                <TableCell>Cantidad</TableCell>\n                <TableCell>C. regalo</TableCell>\n                <TableCell>C. total</TableCell>\n                <TableCell>Descuento</TableCell>\n                <TableCell>Subtotal</TableCell>\n                <TableCell>Impuestos</TableCell>\n                <TableCell>Total</TableCell>\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {productosFiltrados.map((datos, index) => {\n                return (\n                  <TableRow hover tabIndex={-1} key={index}>\n                    <TableCell>\n                      {datos.producto.datos_generales.nombre_comercial}\n                    </TableCell>\n                    <TableCell padding=\"checkbox\">\n                      {datos.medida && datos.medida.medida ? datos.medida.medida : \"N/A\"}\n                    </TableCell>\n                    <TableCell padding=\"checkbox\">\n                      {datos.color && datos.color.hex ? (\n                        <Chip\n                          label={datos.color.color}\n                          size=\"small\"\n                          style={{\n                            backgroundColor: datos.color.hex,\n                            color: theme.palette.getContrastText(\n                              datos.color.hex\n                            ),\n                          }}\n                        />\n                      ) : (\n                        \"N/A\"\n                      )}\n                    </TableCell>\n                    <TableCell>{datos.unidad}</TableCell>\n                    <TableCell>{datos.cantidad}</TableCell>\n                    <TableCell>{datos.cantidad_regalo}</TableCell>\n                    <TableCell>{datos.cantidad_total}</TableCell>\n                    <TableCell>{`$${datos.descuento_precio} - %${datos.descuento_porcentaje}`}</TableCell>\n                    <TableCell>\n                      <b>${formatoMexico(datos.subtotal)}</b>\n                    </TableCell>\n                    <TableCell>\n                      <b>${formatoMexico(datos.impuestos)}</b>\n                    </TableCell>\n                    <TableCell>\n                      <b>${formatoMexico(datos.total)}</b>\n                    </TableCell>\n                  </TableRow>\n                );\n              })}\n            </TableBody>\n          </Table>\n        </TableContainer>\n      </Paper>\n    </Fragment>\n  );\n}\n","import React, { Fragment, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport {\n  Dialog,\n  Typography,\n  Box,\n  Button,\n  IconButton,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n  Slide,\n} from \"@material-ui/core\";\nimport DatosDeCompra from \"./DatosFactura\";\nimport {\n  formatoFecha,\n  formatoMexico,\n} from \"../../../../config/reuserFunctions\";\nimport { AssignmentOutlined, Done } from \"@material-ui/icons\";\n\nconst useStyles = makeStyles({\n  root: {\n    width: \"100%\",\n  },\n  container: {\n    height: \"72vh\",\n  },\n});\n\nexport default function ListaFacturas({ obtenerComprasRealizadas }) {\n  const classes = useStyles();\n\n  return (\n    <Paper className={classes.root} variant=\"outlined\">\n      <TableContainer className={classes.container}>\n        <Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n          <TableHead>\n            <TableRow>\n              <TableCell>Almacen</TableCell>\n              <TableCell>Proveedor</TableCell>\n              <TableCell>Fecha de compra</TableCell>\n              <TableCell>Subtotal</TableCell>\n              <TableCell>Impuestos</TableCell>\n              <TableCell>Total</TableCell>\n              <TableCell>Productos</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {obtenerComprasRealizadas.map((compra, index) => (\n              <RenderRowsCompras key={index} compra={compra} />\n            ))}\n          </TableBody>\n        </Table>\n      </TableContainer>\n    </Paper>\n  );\n}\n\nconst RenderRowsCompras = ({ compra }) => {\n  const {\n    almacen,\n    proveedor,\n    fecha_registro,\n    subtotal,\n    impuestos,\n    total,\n  } = compra;\n\n  return (\n    <TableRow hover tabIndex={-1}>\n      <TableCell>{almacen.nombre_almacen}</TableCell>\n      <TableCell>{proveedor.nombre_cliente}</TableCell>\n      <TableCell>{formatoFecha(fecha_registro)}</TableCell>\n      <TableCell>\n        <b>${formatoMexico(subtotal)}</b>\n      </TableCell>\n      <TableCell>\n        <b>${formatoMexico(impuestos)}</b>\n      </TableCell>\n      <TableCell>\n        <b>${formatoMexico(total)}</b>\n      </TableCell>\n      <TableCell>\n        <DetallesCompra compra={compra} />\n      </TableCell>\n    </TableRow>\n  );\n};\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nconst DetallesCompra = ({ compra }) => {\n  const [open, setOpen] = useState(false);\n\n  const handleOpen = () => {\n    setOpen(!open);\n  };\n  return (\n    <Fragment>\n      <IconButton onClick={() => handleOpen()}>\n        <AssignmentOutlined />\n      </IconButton>\n      <Dialog\n        open={open}\n        onClose={handleOpen}\n        fullWidth\n        maxWidth=\"lg\"\n        TransitionComponent={Transition}\n      >\n        <DialogTitle>\n          <Box display=\"flex\">\n            <Typography variant=\"h6\" style={{ flexGrow: 1 }}>\n              Datos de compra\n            </Typography>\n            <Button\n              variant=\"text\"\n              color=\"primary\"\n              onClick={handleOpen}\n              size=\"large\"\n            >\n              <CloseIcon style={{ fontSize: 30 }} />\n            </Button>\n          </Box>\n        </DialogTitle>\n        <DialogContent>\n          <DatosDeCompra compra={compra} />\n        </DialogContent>\n        <DialogActions>\n          <Button\n            variant=\"text\"\n            color=\"primary\"\n            size=\"large\"\n            startIcon={<Done />}\n            onClick={() => handleOpen()}\n          >\n            Acpetar\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </Fragment>\n  );\n};\n","import React, { Fragment } from \"react\";\nimport { CloudDownloadOutlined } from \"@material-ui/icons\";\nimport { Grid, Button, Box } from \"@material-ui/core\";\nimport ReactExport from \"react-export-excel\";\nimport {\n  formatoFecha,\n  formatoMexico,\n} from \"../../../../config/reuserFunctions\";\n\nconst ExcelFile = ReactExport.ExcelFile;\nconst ExcelSheet = ReactExport.ExcelFile.ExcelSheet;\nconst ExcelColumn = ReactExport.ExcelFile.ExcelColumn;\n\nexport default function ExportarComprasExcel({\n  obtenerComprasRealizadas,\n  filtro,\n  filtroFecha,\n}) {\n  const compras = obtenerComprasRealizadas.map((compra) => {\n    const {\n      almacen,\n      proveedor,\n      fecha_registro,\n      subtotal,\n      impuestos,\n      total,\n    } = compra;\n    const compra_realizada = {\n      almacen: almacen.nombre_almacen,\n      proveedor: proveedor.nombre_cliente,\n      fecha_registro: formatoFecha(fecha_registro),\n      subtotal: formatoMexico(subtotal),\n      impuestos: formatoMexico(impuestos),\n      total: formatoMexico(total),\n    };\n\n    return compra_realizada;\n  });\n\n  let nombre_documento = \"\";\n  if (filtro && filtroFecha.fecha) {\n    nombre_documento = `Lista de compras realizadas desde hace ${filtroFecha.since} y filtradas por ${filtro}`;\n  } else if (filtro && !filtroFecha.fecha) {\n    nombre_documento = `Lista de compras realizadas filtradas por ${filtro}`;\n  } else if (!filtro && filtroFecha.fecha) {\n    nombre_documento = `Lista de compras realizadas desde hace ${filtroFecha.since}`;\n  } else if (!filtro && !filtroFecha.fecha) {\n    nombre_documento = `Lista de compras realizadas`;\n  }\n\n  return (\n    <Fragment>\n      <Grid>\n        <Grid item>\n          <ExcelFile\n            element={\n              <Box display=\"flex\" justifyContent=\"flex-end\">\n                <Button\n                  variant=\"contained\"\n                  color=\"primary\"\n                  startIcon={<CloudDownloadOutlined />}\n                >\n                  Exportar a Excel\n                </Button>\n              </Box>\n            }\n            filename={nombre_documento}\n          >\n            <ExcelSheet data={compras} name={nombre_documento}>\n              <ExcelColumn label=\"Almacen\" value=\"almacen\" />\n              <ExcelColumn label=\"Proveedor\" value=\"proveedor\" />\n              <ExcelColumn label=\"Fecha de compra\" value=\"fecha_registro\" />\n              <ExcelColumn label=\"Subtotal\" value=\"subtotal\" />\n              <ExcelColumn label=\"Impuestos\" value=\"impuestos\" />\n              <ExcelColumn label=\"Total\" value=\"total\" />\n            </ExcelSheet>\n          </ExcelFile>\n        </Grid>\n      </Grid>\n    </Fragment>\n  );\n}\n","import React, { Fragment, useRef, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Box from \"@material-ui/core/Box\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport Container from \"@material-ui/core/Container\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Typography from \"@material-ui/core/Typography\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport Slide from \"@material-ui/core/Slide\";\nimport Chip from \"@material-ui/core/Chip\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Select from \"@material-ui/core/Select\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Grid from \"@material-ui/core/Grid\";\nimport { FcInspection } from \"react-icons/fc\";\nimport ListaCompras from \"./ListaFacturas\";\nimport { useQuery } from \"@apollo/client\";\nimport { OBTENER_COMPRAS_REALIZADAS } from \"../../../../gql/Compras/compras\";\nimport ErrorPage from \"../../../../components/ErrorPage\";\nimport { SearchOutlined } from \"@material-ui/icons\";\nimport moment from \"moment\";\nimport ExportarComprasExcel from \"./ExportarListaFacturasExcel\";\n\nconst useStyles = makeStyles((theme) => ({\n  appBar: {\n    position: \"relative\",\n  },\n  title: {\n    marginLeft: theme.spacing(2),\n    flex: 1,\n  },\n  icon: {\n    fontSize: 100,\n  },\n  formInputFlex: {\n    display: \"flex\",\n    \"& > *\": {\n      margin: `${theme.spacing(1)}px ${theme.spacing(1)}px`,\n    },\n  },\n  formInput: {\n    margin: `${theme.spacing(1)}px ${theme.spacing(2)}px`,\n  },\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function ComprasRealizadas() {\n  const classes = useStyles();\n  const [open, setOpen] = React.useState(false);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  return (\n    <div>\n      <Button fullWidth onClick={handleClickOpen}>\n        <Box display=\"flex\" flexDirection=\"column\">\n          <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n            <Box\n              display=\"flex\"\n              justifyContent=\"center\"\n              alignItems=\"center\"\n              mb={2}\n            >\n              <img\n                src=\"https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/factura-3.png\"\n                alt=\"icono Factura\"\n                style={{ width: 100 }}\n              />\n            </Box>\n          </Box>\n          CFDis realizados\n        </Box>\n      </Button>\n      <Dialog\n        fullScreen\n        open={open}\n        onClose={handleClose}\n        TransitionComponent={Transition}\n      >\n        <AppBar className={classes.appBar}>\n          <Toolbar>\n            <Typography variant=\"h6\" className={classes.title}>\n              CFDis realizados\n            </Typography>\n            <Box m={1}>\n              <Button\n                variant=\"contained\"\n                color=\"secondary\"\n                onClick={handleClose}\n                size=\"large\"\n              >\n                <CloseIcon style={{ fontSize: 30 }} />\n              </Button>\n            </Box>\n          </Toolbar>\n        </AppBar>\n        <Container maxWidth=\"xl\">\n          <ContentDialogCompras />\n        </Container>\n      </Dialog>\n    </div>\n  );\n}\n\nconst ContentDialogCompras = () => {\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n  const [filtro, setFiltro] = useState(\"\");\n  const [filtroFecha, setFiltroFecha] = useState({ fecha: \"\", since: \"todos\" });\n  const searchfilter = useRef(null);\n  const filterDate = useRef(null);\n\n  /* Queries */\n  const { loading, data, error, refetch } = useQuery(\n    OBTENER_COMPRAS_REALIZADAS,\n    {\n      variables: {\n        empresa: sesion.empresa._id,\n        sucursal: sesion.sucursal._id,\n        fecha: filtroFecha.fecha,\n      },\n      fetchPolicy: \"network-only\",\n    }\n  );\n\n  if (loading)\n    return (\n      <Box\n        display=\"flex\"\n        flexDirection=\"column\"\n        justifyContent=\"center\"\n        alignItems=\"center\"\n        height=\"40vh\"\n      >\n        <CircularProgress />\n        <Typography variant=\"h5\">Cargando</Typography>\n      </Box>\n    );\n  if (error) {\n    return <ErrorPage error={error} altura={300} />;\n  }\n\n  let obtenerComprasRealizadas = [];\n  if (data) obtenerComprasRealizadas = data.obtenerComprasRealizadas;\n\n  const obtenerBusqueda = (e, value) => {\n    e.preventDefault();\n    refetch({ filtro: value, fecha: filtroFecha.fecha });\n    setFiltro(value);\n  };\n\n  const handleDeleteFiltro = () => {\n    refetch({ filtro: \"\", fecha: filtroFecha.fecha });\n    setFiltro(\"\");\n    searchfilter.current.value = \"\";\n  };\n  const handleDeleteFecha = () => {\n    refetch({ filtro, fecha: \"\" });\n    setFiltroFecha({ since: \"todos\", fecha: \"\" });\n    filterDate.current.value = \"todos\";\n  };\n\n  const obtenerFecha = (value) => {\n    switch (value) {\n      case \"7 dias\":\n        setFiltroFecha({\n          since: value,\n          fecha: moment().subtract(7, \"d\").format(),\n        });\n        refetch({ filtro, fecha: moment().subtract(7, \"d\").format() });\n        break;\n      case \"2 semanas\":\n        setFiltroFecha({\n          since: value,\n          fecha: moment().subtract(2, \"w\").format(),\n        });\n        refetch({ filtro, fecha: moment().subtract(2, \"w\").format() });\n        break;\n      case \"1 mes\":\n        setFiltroFecha({\n          since: value,\n          fecha: moment().subtract(1, \"M\").format(),\n        });\n        refetch({ filtro, fecha: moment().subtract(1, \"M\").format() });\n        break;\n      case \"3 meses\":\n        setFiltroFecha({\n          since: value,\n          fecha: moment().subtract(3, \"M\").format(),\n        });\n        refetch({ filtro, fecha: moment().subtract(3, \"M\").format() });\n        break;\n      case \"6 meses\":\n        setFiltroFecha({\n          since: value,\n          fecha: moment().subtract(6, \"M\").format(),\n        });\n        refetch({ filtro, fecha: moment().subtract(6, \"M\").format() });\n        break;\n      case \"8 meses\":\n        setFiltroFecha({\n          since: value,\n          fecha: moment().subtract(8, \"M\").format(),\n        });\n        refetch({ filtro, fecha: moment().subtract(8, \"M\").format() });\n        break;\n      case \"1 ao\":\n        setFiltroFecha({\n          since: value,\n          fecha: moment().subtract(1, \"y\").format(),\n        });\n        refetch({ filtro, fecha: moment().subtract(1, \"y\").format() });\n        break;\n      default:\n        setFiltroFecha({ since: \"todos\", fecha: \"\" });\n        refetch({ filtro, fecha: \"\" });\n        break;\n    }\n  };\n\n  return (\n    <Fragment>\n      <Box my={3}>\n        <Grid container spacing={2}>\n          <Grid item md={4} xs={12}>\n            <form onSubmit={(e) => obtenerBusqueda(e, e.target[0].value)}>\n              <TextField\n                inputRef={searchfilter}\n                fullWidth\n                size=\"small\"\n                variant=\"outlined\"\n                placeholder=\"Buscar una compra...\"\n                InputProps={{\n                  endAdornment: (\n                    <InputAdornment position=\"end\">\n                      <IconButton type=\"submit\" color=\"primary\" size=\"medium\">\n                        <SearchOutlined />\n                      </IconButton>\n                    </InputAdornment>\n                  ),\n                }}\n              />\n            </form>\n          </Grid>\n          <Grid item md={4} xs={12}>\n            <FormControl variant=\"outlined\" fullWidth size=\"small\">\n              <InputLabel id=\"label-select-fecha-filter\">\n                Filtrar desde...\n              </InputLabel>\n              <Select\n                inputRef={filterDate}\n                labelId=\"label-select-fecha-filter\"\n                value={filtroFecha.since}\n                onChange={(e) => obtenerFecha(e.target.value)}\n                label=\"Filtrar desde...\"\n              >\n                <MenuItem value=\"todos\">\n                  <em>Todos los registros</em>\n                </MenuItem>\n                <MenuItem value=\"7 dias\">hace 7 das</MenuItem>\n                <MenuItem value=\"2 semanas\">hace 2 semanas</MenuItem>\n                <MenuItem value=\"1 mes\">hace 1 mes</MenuItem>\n                <MenuItem value=\"3 meses\">hace 3 meses</MenuItem>\n                <MenuItem value=\"6 meses\">hace 6 meses</MenuItem>\n                <MenuItem value=\"8 meses\">hace 8 meses</MenuItem>\n                <MenuItem value=\"1 ao\">hace 1 ao</MenuItem>\n              </Select>\n            </FormControl>\n          </Grid>\n          <Grid item md={4} xs={12}>\n            <ExportarComprasExcel\n              obtenerComprasRealizadas={obtenerComprasRealizadas}\n              filtro={filtro}\n              filtroFecha={filtroFecha}\n            />\n          </Grid>\n        </Grid>\n      </Box>\n      {filtro || filtroFecha.fecha ? (\n        <Box display=\"flex\" mb={1}>\n          <Typography variant=\"h6\">Resultados de:</Typography>\n          <Box mr={1} />\n          {filtro ? (\n            <Chip\n              variant=\"outlined\"\n              size=\"medium\"\n              label={filtro}\n              onDelete={handleDeleteFiltro}\n            />\n          ) : null}\n          <Box mx={1} />\n          {filtroFecha.fecha ? (\n            <Chip\n              variant=\"outlined\"\n              size=\"medium\"\n              label={`Desde hace ${filtroFecha.since}`}\n              onDelete={handleDeleteFecha}\n            />\n          ) : null}\n        </Box>\n      ) : null}\n\n      <ListaCompras obtenerComprasRealizadas={obtenerComprasRealizadas} />\n    </Fragment>\n  );\n};\n","import React from 'react'\n\nimport { Box, Container, Grid } from '@material-ui/core'\n\nimport NuevaFactura from './NuevaFactura/NuevaFactura';\nimport SeriesCDFI from './CFDISeries/SeriesCdfi';\n/* import SellosCDFI from './CFDISellos/SellosCdfi'; */\nimport FacturasRealizadas from './FacturasRealizadas/FacturasRealizadas';\n\nexport default function Facturacion() {\n    return (\n        <div>\n            <Container>\n                <Grid container spacing={2} justify=\"center\">\n                    <Grid item lg={2}>\n                        <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n                            <NuevaFactura />\n                        </Box>\n                    </Grid>\n                    <Grid item lg={2}>\n                        <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n                            <FacturasRealizadas />\n                        </Box>\n                    </Grid>{/* \n                    <Grid item lg={2}>\n                        <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n                            <SellosCDFI />\n                        </Box>\n                    </Grid> */}\n                    <Grid item lg={2}>\n                        <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n                            <SeriesCDFI />\n                        </Box>\n                    </Grid>\n                </Grid>\n            </Container>\n        </div>\n    )\n}\n","import React, { useEffect, useContext } from 'react'\nimport { \n    Paper, \n    makeStyles, \n    Table, \n    TableBody, \n    TableCell, \n    TableContainer, \n    TableHead, \n    TableRow, \n    CircularProgress,\n    Box,\n    Typography,\n\tIconButton,\n\tTablePagination\n} from '@material-ui/core/';\nimport { Delete } from '@material-ui/icons';\nimport ErrorPage from '../../../../components/ErrorPage'\n\n\nimport { useQuery } from '@apollo/client';\nimport { OBTENER_ALMACENES } from '../../../../gql/Almacenes/Almacen';\nimport ContainerRegistroAlmacen from './ContainerRegistroAlmacen';\nimport { CrearAlmacenContext } from '../../../../context/Almacenes/crearAlmacen';\n\nconst useStyles = makeStyles({\n    table: {\n      minWidth: 650,\n    },\n\troot: {\n\t\twidth: '100%'\n\t}\n  });\n\n  const columns = [\n\t{ id: 1, label: 'Nombre', minWidth: 100 },\n\t{ id: 2, label: 'Encargado', minWidth: 100 },\n\t{ id: 3, label: 'Sucursal', minWidth: 150 },\n\t{ id: 4, label: 'Calle', minWidth: 150 },\n\t{ id: 5, label: 'No. exterior', minWidth: 150 },\n\t{ id: 6, label: 'No. interior', minWidth: 100 },\n\t{ id: 7, label: 'Codigo postal', minWidth: 100 },\n\t{ id: 8, label: 'Colonia', minWidth: 100 },\n\t{ id: 9, label: 'Municipio', minWidth: 50, align: 'right' },\n\t{ id: 10, label: 'Localidad', minWidth: 50, align: 'right' },\n\t{ id: 11, label: 'Estado', minWidth: 50, align: 'right' },\n\t{ id: 12, label: 'Pais', minWidth: 50, align: 'right' },\n\t{ id: 13, label: 'Editar', minWidth: 50, align: 'right' },\n\t{ id: 14, label: 'Eliminar', minWidth: 50, align: 'right' }\n];\n\nexport default function ListaAlmacen() {\n\n    const classes = useStyles();\n\tconst [ page, setPage ] = React.useState(0);\n\tconst [ rowsPerPage, setRowsPerPage ] = React.useState(10);\n\tconst { update } = useContext(CrearAlmacenContext);\n    const sesion = JSON.parse(localStorage.getItem('sesionCafi'));\t\n\t/* Queries */\n\tconst { loading, data, error, refetch } = useQuery(OBTENER_ALMACENES,{\n\t\tvariables: {\n\t\t\tid: sesion.sucursal._id\n\t\t}\n\t});\t\n\t\n\tuseEffect(\n\t\t() => {\n\t\t\trefetch();\n\t\t},\n\t\t[ update, refetch ]\n\t);\n\n\tconst handleChangePage = (event, newPage) => {\n\t\tsetPage(newPage);\n\t};\n\n\tconst handleChangeRowsPerPage = (event) => {\n\t\tsetRowsPerPage(+event.target.value);\n\t\tsetPage(0);\n\t};\n\n\tif (loading)\n\t\treturn (\n\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" height=\"30vh\">\n\t\t\t\t<CircularProgress />\n\t\t\t</Box>\n\t\t);\n\tif (error) {\n\t\treturn <ErrorPage error={error} />;\n\t}\n\n\tconst { obtenerAlmacenes } = data;\n\n    // const classes = useStyles();\n\n    return (\n\t\t<Paper className={classes.root}>\n\t\t\t<TableContainer component={Paper}>\n\t\t\t\t<Table className={classes.table} aria-label=\"simple table\">\n\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t{columns.map((column) => (\n\t\t\t\t\t\t\t\t<TableCell key={column.id} align={column.align}>\n\t\t\t\t\t\t\t\t\t{column.label}\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t</TableHead>\n\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t{obtenerAlmacenes\n\t\t\t\t\t\t\t?.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\n\t\t\t\t\t\t\t?.map((row, index) => {\n\t\t\t\t\t\t\t\treturn <RowsRender key={index} datos={row} />;\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t</TableBody>\n\t\t\t\t</Table>\n\t\t\t</TableContainer>\n\t\t\t<TablePagination\n\t\t\t\trowsPerPageOptions={[]}\n\t\t\t\tcomponent=\"div\"\n\t\t\t\tcount={obtenerAlmacenes.length}\n\t\t\t\trowsPerPage={rowsPerPage}\n\t\t\t\tpage={page}\n\t\t\t\tonChangePage={handleChangePage}\n\t\t\t\tonChangeRowsPerPage={handleChangeRowsPerPage}\n\t\t\t/>\n\t\t</Paper>\n    )\n}\n\nconst RowsRender = ({ datos }) => {\n\n\treturn (\n\t\t<TableRow hover role=\"checkbox\" tabIndex={-1}>\n\t\t\t<TableCell>\n\t\t\t\t<Typography>{datos.nombre_almacen}</Typography>\n\t\t\t</TableCell>\n\t\t\t<TableCell>\n\t\t\t\t<Typography>{!datos.id_usuario_encargado ? \"Sin encargado\" : datos.id_usuario_encargado.nombre}</Typography>\n\t\t\t</TableCell>\n\t\t\t<TableCell>\n\t\t\t\t<Typography>{datos.id_sucursal.nombre_sucursal}</Typography>\n\t\t\t</TableCell>\n\t\t\t<TableCell>\n\t\t\t\t<Typography>{datos.direccion.calle ? datos.direccion.calle : \"\"}</Typography>\n\t\t\t</TableCell>\n\t\t\t<TableCell>\n\t\t\t\t<Typography>{datos.direccion.no_ext ? datos.direccion.no_ext : \"\"}</Typography>\n\t\t\t</TableCell>\n\t\t\t<TableCell>\n\t\t\t\t<Typography>{datos.direccion.no_int ? datos.direccion.no_int : \"\"}</Typography>\n\t\t\t</TableCell>\n\t\t\t<TableCell>\n\t\t\t\t<Typography>{datos.direccion.codigo_postal ? datos.direccion.codigo_postal : \"\"}</Typography>\n\t\t\t</TableCell>\n\t\t\t<TableCell>\n\t\t\t\t<Typography>{datos.direccion.colonia ? datos.direccion.colonia : \"\"}</Typography>\n\t\t\t</TableCell>\n\t\t\t<TableCell>\n\t\t\t\t<Typography>{datos.direccion.municipio ? datos.direccion.municipio : \"\"}</Typography>\n\t\t\t</TableCell>\n\t\t\t<TableCell>\n\t\t\t\t<Typography>{datos.direccion.localidad ? datos.direccion.localidad : \"\"}</Typography>\n\t\t\t</TableCell>\n\t\t\t<TableCell>\n\t\t\t\t<Typography>{datos.direccion.estado ? datos.direccion.estado : \"\"}</Typography>\n\t\t\t</TableCell>\n\t\t\t<TableCell>\n\t\t\t\t<Typography>{datos.direccion.pais ? datos.direccion.pais : \"\"}</Typography>\n\t\t\t</TableCell>\n\t\t\t<TableCell width={50}>\n\t\t\t\t<ContainerRegistroAlmacen accion=\"actualizar\" datos={datos} />\n\t\t\t</TableCell>\n\t\t\t<TableCell width={50}>\n\t\t\t\t<IconButton color=\"secondary\">\n\t\t\t\t\t<Delete />\n\t\t\t\t</IconButton>\n\t\t\t</TableCell>\n\t\t\t{/* <TableCell width={50}>\n\t\t\t\t<ModalDetalles openDetalles={openDetalles} handleDetalles={handleDetalles} datos={datos} />\n\t\t\t</TableCell>\n\t\t\t<TableCell width={50}>\n\t\t\t\t<CrearCliente tipo=\"CLIENTE\" accion=\"actualizar\" datos={datos} />\n\t\t\t</TableCell>\n\t\t\t<TableCell width={50}>\n\t\t\t\t<IconButton color=\"secondary\">\n\t\t\t\t\t<Delete />\n\t\t\t\t</IconButton>\n\t\t\t</TableCell> */}\n\t\t</TableRow>\n\t);\n};\n","import React, { forwardRef } from 'react';\nimport { AppBar, Toolbar, Typography, Slide, Button, Box, Dialog } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { FcPlus } from 'react-icons/fc';\nimport ContainerRegistroAlmacen from './ContainerRegistroAlmacen';\nimport ListaAlmacen from './ListaAlmacen';\nimport { AlmacenProvider } from '../../../../context/Almacenes/crearAlmacen';\nimport CloseIcon from '@material-ui/icons/Close';\nconst useStyles = makeStyles((theme) => ({\n\tappBar: {\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n    icon: {\n\t\tfontSize: 100\n\t}\n}));\n\nconst Transition = forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function RegistroAlmacen() {\n    const classes = useStyles();\n\tconst [ open, setOpen ] = React.useState(false);\n\n\tconst handleClickOpen = () => {\n\t\tsetOpen(true);\n\t};\n\n\tconst handleClose = () => {\n\t\tsetOpen(false);\n\t};\n\n    return (\n        <div>\n\t\t\t<AlmacenProvider>\n\t\t\t\t<Button fullWidth onClick={handleClickOpen}>\n\t\t\t\t\t<Box display=\"flex\" flexDirection=\"column\">\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t<FcPlus className={classes.icon} />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\tAgregar almacen\n\t\t\t\t\t</Box>\n\t\t\t\t</Button>\n\t\t\t\t<Dialog fullScreen open={open} onClose={handleClose} TransitionComponent={Transition}>\n\t\t\t\t\t<AppBar className={classes.appBar}>\n\t\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t\t<Typography variant=\"h6\" className={classes.title}>\n\t\t\t\t\t\t\t\t\tAgregar almacen\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Box m={1}>\n\t\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"secondary\" onClick={handleClose} size=\"large\">\n\t\t\t\t\t\t\t\t\t<CloseIcon style={{fontSize: 30}} />\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Toolbar>\n\t\t\t\t\t</AppBar>\n\t\t\t\t\t<Box m={3} display=\"flex\" justifyContent=\"flex-end\">\n\t\t\t\t\t\t<ContainerRegistroAlmacen accion=\"registrar\" />\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box mx={4}>\n\t\t\t\t\t\t<ListaAlmacen />\n\t\t\t\t\t</Box>\n\t\t\t\t</Dialog>\n\t\t\t</AlmacenProvider>\n        </div>\n    )\n}\n","export default __webpack_public_path__ + \"static/media/almacen.31993015.svg\";","import React, { createContext, useState, useEffect } from 'react';\n\nexport const TraspasosAlmacenContext = createContext();\n\nexport const TraspasosProvider = ({ children }) => {\n\n\n    const [ update, setUpdate ] = useState(false);\n    const [ error, setError ] = useState(false);\n    const [ openRegistro, setOpenRegistro ] = useState(false);\n    const [ productos, setProductos ] = useState([]);\n    const [ productosTo, setProductosTo ] = useState([]);\n     const [ productosEmpTo, setProductosEmpTo ] = useState([]);\n    const [ productosTras, setProductosTras ] = useState([]);\n\n   \n  \n\treturn (\n\t\t<TraspasosAlmacenContext.Provider value={\n            { \n                \n                update,\n                setUpdate,\n                error,\n                setError,\n                openRegistro,\n                setOpenRegistro,\n                productos,\n                setProductos,\n                productosTras,\n                setProductosTras,\n                productosTo,\n                setProductosTo,\n                productosEmpTo, \n                setProductosEmpTo\n            }\n        }>\n\t\t\t{children}\n\t\t</TraspasosAlmacenContext.Provider>\n\t);\n};\n","import React, {\n  Fragment,\n  useRef,\n  useState,\n} from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Input from \"@material-ui/core/Input\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Checkbox from \"@material-ui/core/Checkbox\";\n//import { RegProductoContext } from \"../../../../../context/Catalogos/CtxRegProducto\";\nimport {\n  Box,\n  Chip,\n  IconButton,\n  Tooltip,\n  Zoom,\n} from \"@material-ui/core\";\nimport {\n  Cached,\n  Close,\n  Edit\n} from \"@material-ui/icons\";\nimport { fade } from \"@material-ui/core/styles/colorManipulator\";\n\nconst compareFunction = (a, b) => {\n  if (a.medida.talla && b.medida.talla) {\n    return a.medida.talla.localeCompare(b.medida.talla);\n  }\n};\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: \"100%\",\n  },\n  paper: {\n    width: \"100%\",\n    marginBottom: theme.spacing(2),\n  },\n  table: {\n    minWidth: 750,\n  },\n  container: {\n    \n  },\n  tableRow: {\n    \"&.Mui-selected, &.Mui-selected:hover\": {\n      backgroundColor: fade(theme.palette.primary.main, 0.1),\n    },\n  },\n  visuallyHidden: {\n    border: 0,\n    clip: \"rect(0 0 0 0)\",\n    height: 1,\n    margin: -1,\n    overflow: \"hidden\",\n    padding: 0,\n    position: \"absolute\",\n    top: 20,\n    width: 1,\n  },\n  colorContainer: {\n    border: \"1px solid rgba(0,0,0, .3)\",\n    height: 30,\n    width: 30,\n    borderRadius: \"15%\",\n  },\n}));\n\nexport default function TablaPresentaciones({\n  datos,\n  setOnUpdate,\n  onUpdate,\n  setNew_medidas\n}) {\n  \n  const classes = useStyles();\n  //const { presentaciones, setPresentaciones } = useContext([]);\n //let mostrar_presentaciones = [];\n   let mostrar_presentaciones = [...datos].sort((a, b) =>\n    compareFunction(a, b)\n  ); \n\n  return (\n    <div className={classes.root}>\n      <Paper className={classes.paper}>\n        <TableContainer className={classes.container}>\n          <Table\n            className={classes.table}\n            aria-labelledby=\"tableTitle\"\n            size=\"small\"\n            aria-label=\"enhanced table\"\n            stickyHeader\n          >\n            <TableHead>\n              <TableRow>\n                <TableCell>Existencia</TableCell>\n                <TableCell>Cdigo de barras</TableCell>\n                <TableCell width={200}>Nombre</TableCell>\n                <TableCell padding=\"checkbox\">Medida</TableCell>\n                <TableCell padding=\"checkbox\">Color</TableCell>\n                <TableCell padding=\"checkbox\">Precio</TableCell>\n                {/* <TableCell padding=\"checkbox\">Descuento</TableCell> */}\n                {/* {!onlyPrice ? (\n                  <Fragment>\n                    <TableCell padding=\"checkbox\">Cantidad</TableCell>\n                  </Fragment>\n                ) : null} */}\n                <Fragment>\n                  <TableCell padding=\"checkbox\">Cantidad</TableCell>\n                </Fragment>\n                <TableCell padding=\"checkbox\">Editar</TableCell>\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {mostrar_presentaciones.map((producto, index) => {\n                return (\n                  <RenderPresentacionesRows\n                    key={index}\n                    producto={producto}\n                    index={index}\n                    datos={datos}\n                    setNew_medidas={setNew_medidas} \n                    setOnUpdate={setOnUpdate}\n                    onUpdate={onUpdate}\n                  />\n                );\n              })}\n            </TableBody>\n          </Table>\n        </TableContainer>\n      </Paper>\n    </div>\n  );\n}\n\nconst RenderPresentacionesRows = ({\n  producto,\n  index,\n  datos,\n  setNew_medidas,\n  from,\n  setOnUpdate,\n  onUpdate,\n  withoutPrice,\n  onlyPrice,\n}) => {\n  /* const { presentaciones, setPresentaciones, preciosP } = useContext(\n    RegProductoContext\n  ); */\n  const [disabledInput, setDisabledInput] = useState(true);\n  const classes = useStyles();\n  const textfield = useRef(null);\n\n  const copy_presentaciones = [...datos].sort((a, b) =>\n    compareFunction(a, b)\n  ); \n  const copy_element_presentacion = { ...copy_presentaciones[index] };\n  //const copy_element_presentacion = {  };\n  //const copy_element_presentacion_descuento = { ...copy_presentaciones[index].descuento };\n  const copy_element_presentacion_descuento = { };\n  const copy_producto = { ...producto };\n\n  /* if(from && from === 'compra'){\n\t\tcopy_producto.cantidad_nueva = 0\n\t} */\n\n  const handleEditCancel = () => {\n    if (!copy_producto.medida.cantidad) {\n      copy_element_presentacion.medida.cantidad = 0;\n    }\n    if (!copy_producto.nuevaCantidad) {\n      copy_element_presentacion.nuevaCantidad = 0;\n    }\n    if (!copy_producto.precio) {\n      copy_element_presentacion.precio = copy_producto.precio;\n      //copy_element_presentacion.medida.precio = 0;\n    }\n     copy_presentaciones.splice(index, 1, copy_element_presentacion);\n    setNew_medidas(copy_presentaciones); \n    setDisabledInput(true);\n  };\n\n  const obtenerDatos = (e) => {\n    const { name, value } = e.target;\n    if (name === \"cantidad\") {\n      if (!value) {\n        copy_element_presentacion.medida.cantidad = \"\";\n        copy_element_presentacion.medida.existencia = false;\n        copy_presentaciones.splice(index, 1, copy_element_presentacion);\n        setNew_medidas(setNew_medidas); \n        return;\n      }\n      copy_element_presentacion.medida.cantidad = parseFloat(value);\n      copy_element_presentacion.medida.existencia = true;\n    } else if (name === \"nuevaCantidad\") {\n      if (!value) {\n        copy_element_presentacion.nuevaCantidad = \"\";\n        copy_element_presentacion.medida.existencia = copy_producto.medida.existencia;\n        copy_presentaciones.splice(index, 1, copy_element_presentacion);\n        setNew_medidas(copy_presentaciones); \n        return;\n      }\n      copy_element_presentacion.nuevaCantidad = parseFloat(value);\n      copy_element_presentacion.medida.existencia = true;\n    } else if (name === \"precio\") {\n      if (!value) {\n        copy_element_presentacion.medida.precio = 0;\n        copy_presentaciones.splice(index, 1, copy_element_presentacion);\n        setNew_medidas(copy_presentaciones);\n        return;\n      }\n      if(copy_element_presentacion.medida.descuento_activo && copy_element_presentacion.medida.descuento_activo === true){\n        let precio_con_descuento = Math.round(\n          (value * copy_element_presentacion.medida.descuento.porciento) / 100\n        );\n        copy_element_presentacion_descuento.medida.precio_con_descuento = parseFloat(precio_con_descuento);\n        copy_element_presentacion.medida.precio = parseFloat(value);\n        copy_element_presentacion.medida.descuento = copy_element_presentacion_descuento\n      }else{\n        copy_element_presentacion.medida.precio = parseFloat(value);\n      }\n    } \n      else if (name === \"descuento\") {\n      /* if (!value) {\n        copy_element_presentacion.medida.precio = 0;\n        copy_presentaciones.splice(index, 1, copy_element_presentacion);\n        setNew_medidas(copy_presentaciones);\n        return;\n      }\n      if(copy_element_presentacion.medida.descuento_activo && copy_element_presentacion.medida.descuento_activo === true){\n        let precio_con_descuento = Math.round(\n          (value * copy_element_presentacion.medida.descuento.porciento) / 100\n        );\n        copy_element_presentacion_descuento.medida.precio_con_descuento = parseFloat(precio_con_descuento);\n        copy_element_presentacion.medida.precio = parseFloat(value);\n        copy_element_presentacion.medida.descuento = copy_element_presentacion_descuento\n      }else{\n        copy_element_presentacion.medida.precio = parseFloat(value);\n      } */\n       copy_element_presentacion.medida.descuento = value;\n         \n    }\n    else {\n      if (!value) {\n        copy_element_presentacion.medida.codigo_barras = \"\";\n        copy_presentaciones.splice(index, 1, copy_element_presentacion);\n        setNew_medidas(copy_presentaciones); \n        return;\n      }\n      copy_element_presentacion.medida.codigo_barras = value;\n    }\n     copy_presentaciones.splice(index, 1, copy_element_presentacion);\n    setNew_medidas(copy_presentaciones); \n  };\n\n  const GenCodigoBarras = () => {\n    const max = 999999999999;\n    const min = 100000000000;\n    const codigo_barras = Math.floor(\n      Math.random() * (max - min + 1) + min\n    ).toString();\n    copy_element_presentacion.medida.codigo_barras = codigo_barras;\n/*     copy_presentaciones.splice(index, 1, copy_element_presentacion);\n    setPresentaciones(copy_presentaciones); */\n  };\n\n  const actionButton = () => {\n    if (!disabledInput) {\n      handleEditCancel();\n      /* quitar del array\t */\n      onUpdate.splice(onUpdate.length - 1, 1);\n      setOnUpdate([...onUpdate]);\n    } else {\n      setDisabledInput(!disabledInput);\n      /*  agregar al array */\n      setOnUpdate([...onUpdate, index]);\n    }\n  };\n\n /*  const aplicarDescuento = (value) => {\n    copy_element_presentacion.medida.descuento_activo = value;\n/*     copy_presentaciones.splice(index, 1, copy_element_presentacion);\n    setPresentaciones(copy_presentaciones); \n  }; */\n\n  return (\n    <TableRow hover selected={!disabledInput} className={classes.tableRow}>\n      <TableCell align=\"center\" padding=\"checkbox\">\n        <Checkbox checked={copy_producto.medida.existencia} color=\"primary\" />\n      </TableCell>\n      <TableCell width={220}>\n        <Box display=\"flex\">\n          <Input\n            inputRef={textfield}\n            onChange={(e) => obtenerDatos(e)}\n            /* disabled={disabledInput} */\n            value={copy_producto.medida.codigo_barras}\n            type=\"number\"\n            name=\"codigo_barras\"\n            disabled={\n              datos.medidas_registradas && !copy_producto.medida.nuevo\n                ? true\n                : disabledInput\n            }\n          />\n          {!datos.medidas_registradas && copy_producto.medida.nuevo ? (\n            <IconButton\n              color=\"primary\"\n              size=\"small\"\n              onClick={() => GenCodigoBarras()}\n            >\n              <Cached />\n            </IconButton>\n          ) : datos.medidas_registradas && copy_producto.medida.nuevo ? (\n            <IconButton\n              color=\"primary\"\n              size=\"small\"\n              onClick={() => GenCodigoBarras()}\n            >\n              <Cached />\n            </IconButton>\n          ) : null}\n        </Box>\n      </TableCell>\n      <TableCell width={200}>{copy_producto.medida.nombre_comercial}</TableCell>\n      <TableCell padding=\"checkbox\">\n        {copy_producto.medida.medida._id ? (\n          <Chip label={copy_producto.medida.medida.talla} color=\"primary\" />\n        ) : (\n          \"\"\n        )}\n      </TableCell>\n      <TableCell padding=\"checkbox\">\n        {copy_producto.medida.color._id ? (\n          <Tooltip\n            title={copy_producto.medida.color.nombre}\n            placement=\"top\"\n            arrow\n            TransitionComponent={Zoom}\n          >\n            <div\n              className={classes.colorContainer}\n              style={{\n                backgroundColor: copy_producto.medida.color.hex,\n              }}\n            />\n          </Tooltip>\n        ) : null}\n      </TableCell>\n     \n\n         <Fragment>\n            <TableCell width={110}>\n              <Input\n                inputRef={textfield}\n                onChange={(e) => obtenerDatos(e)}\n                disabled={disabledInput}\n                value={copy_producto.medida.precio}\n                type=\"tel\"\n                name=\"precio\"\n              />\n              \n            </TableCell>\n           {/*  <TableCell>\n              <Input\n                inputRef={textfield}\n                onChange={(e) => obtenerDatos(e)}\n                disabled={disabledInput}\n                value={copy_producto.medida.descuento}\n                type=\"tel\"\n                name=\"descuento\"\n              />\n            </TableCell> */}\n            <TableCell padding=\"checkbox\">\n              <Input\n                inputRef={textfield}\n                onChange={(e) => obtenerDatos(e)}\n                disabled={disabledInput}\n                value={copy_producto.nuevaCantidad}\n                type=\"tel\"\n                name=\"nuevaCantidad\"\n              />\n            </TableCell>\n          </Fragment>\n     \n      <TableCell padding=\"checkbox\">\n        <IconButton size=\"small\" onClick={() => actionButton()}>\n          {!disabledInput ? <Close /> : <Edit />}\n        </IconButton>\n      </TableCell>\n    </TableRow>\n  );\n};\n","import React, {\n  useState,\n  useEffect,\n  useCallback,\n} from \"react\";\nimport {\n  Typography,\n  Tooltip,\n  Slide\n} from \"@material-ui/core\";\n\n\nimport { Box, Grid } from \"@material-ui/core\";\nimport { makeStyles, useTheme } from \"@material-ui/core\";\nimport Zoom from \"@material-ui/core/Zoom\";\nimport { Done } from \"@material-ui/icons\";\nimport TablaPresentacionesNotOrigen from \"./TablePresentacionesNotOrigen\";\n\n\nimport CrearColorProducto from \"../../pages/sucursales/Catalogos/Producto/TallasColores/crearColor\";\nimport CrearTallasProducto from \"../../pages/sucursales/Catalogos/Producto/TallasColores/crearTalla\";\n\nconst useStyles = makeStyles((theme) => ({\n  colorContainer: {\n    border: \"1px solid rgba(0,0,0, .3)\",\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    height: 50,\n    width: 50,\n    margin: 1,\n    borderRadius: \"15%\",\n    cursor: \"pointer\",\n    \n  },\n}));\n\nconst GenCodigoBarras = () => {\n  return Math.floor(\n    Math.random() * (999999999999 - 100000000000 + 1) + 100000000000\n  ).toString();\n};\n\n\nexport default function ColoresTallas({\n  producto,\n  new_medidas,\n  setNew_medidas,\n  obtenerConsultasProducto,\n  refetch\n}) {\n\n    const [medidasSeleccionadas, setMedidasSeleccionadas] = useState([]);\n    const [coloresSeleccionados, setColoresSeleccionados] = useState([]);\n    /* const medidas =\n    producto.datos_generales.tipo_producto === \"ROPA\" ? [...obtenerConsultasProducto.tallas] : [...obtenerConsultasProducto.calzados]; */ \n    const [onUpdate, setOnUpdate] = useState([]);\n //console.log(data.obtenerConsultasProducto)\n  const obtenerColoresSeleccinados = useCallback(() => {\n    let colors = [];\n    let medidas = [];\n    \n    const copy_presentaciones =  [...new_medidas ];\n    \n \n//const copy_presentaciones = [];\n    /* Queries */\n \n    copy_presentaciones.forEach((element) => {\n   //console.log('obtenerColoresSeleccinados', element)\n      if (element.medida.color._id) colors.push(element.medida.color);\n      if (element.medida.medida._id) medidas.push(element.medida.medida);\n    });\n\n    var hashColor = {};\n    var hashMedida = {};\n    const colores_existentes = colors.filter((color) => {\n      var existColor = !hashColor[color._id];\n      hashColor[color._id] = true;\n      return existColor;\n    });\n    const medidas_existentes = medidas.filter((medida) => {\n      var existMedida = !hashMedida[medida._id];\n      hashMedida[medida._id] = true;\n      return existMedida;\n    });\n    //console.log('colores_existentes', colores_existentes, 'medidas_existentes', medidas_existentes)\n    setColoresSeleccionados([...colores_existentes]);\n    setMedidasSeleccionadas([...medidas_existentes]);\n   \n    \n  }, [new_medidas,setColoresSeleccionados, setMedidasSeleccionadas]);\n\n \n\n  useEffect(() => {\n    obtenerColoresSeleccinados();\n  }, [obtenerColoresSeleccinados]);\n\n  return (\n     <div>\n       <Box alignContent='center' m={5} >\n        <Grid container spacing={4}>\n         {/*  {!datos.medidas_registradas ? (\n            <Grid item md={4}>\n              <Box width=\"100%\">\n                <Typography>Almacen</Typography>\n                <Box display=\"flex\">\n                  <FormControl\n                    disabled={presentaciones.length === 0 || from === \"compra\"}\n                    variant=\"outlined\"\n                    fullWidth\n                    size=\"small\"\n                    name=\"almacen\"\n                    error={\n                      presentaciones.length > 0 && !almacen_inicial.almacen\n                    }\n                  >\n                    \n                    {presentaciones.length > 0  ? (\n                      <FormLabel>* Campo obligatorio</FormLabel>\n                    ) : null}\n                  </FormControl>\n            \n                </Box>\n              </Box>\n            </Grid>\n          ) : null} */}\n\n          <Grid item md={6}>\n            <Box\n              width=\"100%\"\n              style={\n                onUpdate.length > 0\n                  ? {\n                      pointerEvents: \"none\",\n                      opacity: 0.4,\n                    }\n                  : null\n              }\n            >\n              <Box display=\"flex\" alignItems=\"center\">\n                <Typography>\n                  {producto.datos_generales.tipo_producto === \"ROPA\"\n                    ? \"Talla\"\n                    : \"Nmero\"}\n                </Typography>\n                <Box mx={1} />\n                <CrearTallasProducto\n                  setMedidasSeleccionadas={setMedidasSeleccionadas}\n                  refetch={refetch}\n                />\n              </Box>\n              { (producto.datos_generales.tipo_producto === \"ROPA\") ? \n                  (obtenerConsultasProducto.tallas  !== undefined) ? \n                    <Grid container >\n                        {obtenerConsultasProducto.tallas.map((talla, index) => (\n                        <RenderTallas\n                            producto={producto}\n                            key={index}\n                            talla={talla}\n                            coloresSeleccionados={coloresSeleccionados}\n                            medidasSeleccionadas={medidasSeleccionadas}\n                            setMedidasSeleccionadas={setMedidasSeleccionadas}\n                            datos={new_medidas}\n                            setNew_medidas={setNew_medidas}\n                        />\n                        ))}\n                    </Grid>\n                  :\n                  <div/>\n                :\n                   (obtenerConsultasProducto.calzados  !== undefined) ? \n                      <Grid container >\n                        {obtenerConsultasProducto.calzados.map((talla, index) => (\n                        <RenderTallas\n                            producto={producto}\n                            key={index}\n                            talla={talla}\n                            coloresSeleccionados={coloresSeleccionados}\n                            medidasSeleccionadas={medidasSeleccionadas}\n                            setMedidasSeleccionadas={setMedidasSeleccionadas}\n                            datos={new_medidas}\n                            setNew_medidas={setNew_medidas}\n                        />\n                        ))}\n                    </Grid>\n                    :\n                    <div/>\n              }\n              \n            </Box>\n          </Grid>\n          <Grid item md={6}>\n            <Box\n              width=\"100%\"\n              style={\n                onUpdate.length > 0\n                  ? {\n                      pointerEvents: \"none\",\n                      opacity: 0.4,\n                    }\n                  : null\n              }\n            >\n              <Box display=\"flex\" alignItems=\"center\">\n                <Typography>Color</Typography>\n                <Box mx={1} />\n                <CrearColorProducto refetch={refetch} />\n              </Box>\n            {\n            (obtenerConsultasProducto.colores !== undefined) ? \n              <Grid container>\n                {obtenerConsultasProducto.colores.map((color, index) => (\n                  <Colores\n                    producto={producto}\n                    key={index}\n                    color={color}\n                    coloresSeleccionados={coloresSeleccionados}\n                    setColoresSeleccionados={setColoresSeleccionados}\n                    medidasSeleccionadas={medidasSeleccionadas}\n                    datos={new_medidas}\n                    setNew_medidas={setNew_medidas}\n                  />\n                ))}\n              </Grid>\n            :\n            <div/>\n            }  \n            </Box>\n          </Grid>\n        </Grid>\n        <Box mt={2} />\n        <TablaPresentacionesNotOrigen\n          datos={new_medidas}\n          setOnUpdate={setOnUpdate}\n          onUpdate={onUpdate}\n          setNew_medidas={setNew_medidas}\n        />\n      </Box>\n    </div>\n  );\n}\n\nconst RenderTallas = ({\n  producto,\n  talla,\n  coloresSeleccionados,\n  setMedidasSeleccionadas,\n  medidasSeleccionadas,\n  setNew_medidas,\n  datos,\n}) => {\n  const classes = useStyles();\n  const theme = useTheme();\n /*  const {\n    setPresentaciones,\n    presentaciones,\n    datos_generales,\n    preciosP,\n    presentaciones_eliminadas,\n    setPresentacionesEliminadas,\n  } = useContext(RegProductoContext); */\n  const [selected, setSelected] = useState(false);\n\n  const seleccionarMedidas = useCallback(() => {\n    medidasSeleccionadas.forEach((res) => {\n      if (res._id === talla._id) setSelected(true);\n    });\n  }, [talla._id, medidasSeleccionadas]);\n\n   useEffect(() => {\n    if (datos) {\n      return seleccionarMedidas();\n    }\n  }, [datos, seleccionarMedidas]); \n\n  const handleAddTallas = (value) => {\n    const medidas_seleccionadas_temp = [...medidasSeleccionadas];\n    //console.log('handleAddTallas', datos)\n    if (!selected) {\n      medidas_seleccionadas_temp.push(talla);\n      setSelected(value);\n    } else {\n      medidas_seleccionadas_temp.forEach((res, index) => {\n        if (res._id === talla._id) {\n          medidas_seleccionadas_temp.splice(index, 1);\n          setSelected(value);\n      /*     presentaciones.forEach((presentacion) => {\n            if (!presentacion.nuevo) {\n              if (presentacion.medida._id === res._id) {\n                setPresentacionesEliminadas([\n                  ...presentaciones_eliminadas,\n                  presentacion,\n                ]);\n              }\n            }\n          }); */\n        }\n      });\n    }\n\n    let presentacion_temp = [];\n    const array_medidad_finales = [...datos];\n    //const array_medidad_finales = [];\n    if (!coloresSeleccionados.length && !array_medidad_finales.length) {\n      /* SI NO HAY COLORES NI VALORES EN EL ARRAY FINAL SE AGREGA EL PRIMER ELEMENTO */\n      for (let i = 0; i < medidas_seleccionadas_temp.length; i++) {\n        const producto_medida = medidas_seleccionadas_temp[i];\n        presentacion_temp.push({\n          medida :{\n            _id: \"\",\n            existencia: false,\n            codigo_barras: GenCodigoBarras(),\n            nombre_comercial: producto.datos_generales.nombre_comercial,\n            medida: producto_medida,\n            color: { nombre: \"\", hex: \"\" },\n            precio: producto.precios.precios_producto[0].precio_neto,\n            cantidad: 0,\n            //nuevo: true\n          },\n          nuevaCantidad: 0\n          \n        });\n        \n      }\n    } else if (\n      !coloresSeleccionados.length &&\n      array_medidad_finales.length > 0\n    ) {\n      /* SI NO HAY COLORES REGISTRADOS PERO YA HAY TALLAS SE AGREGAN MAS */\n      for (let i = 0; i < medidas_seleccionadas_temp.length; i++) {\n        const producto_medida = medidas_seleccionadas_temp[i];\n        const result = array_medidad_finales.filter(\n          (res) => res.medida.medida._id === producto_medida._id\n        );\n        if (result.length) {\n          presentacion_temp.push(result[0]);\n        } else {\n          presentacion_temp.push({\n              medida :{\n              _id: \"\",\n              existencia: false,\n              codigo_barras: GenCodigoBarras(),\n              nombre_comercial: producto.datos_generales.nombre_comercial,\n              medida: producto_medida,\n              color: { nombre: \"\", hex: \"\" },\n              precio: producto.precios.precios_producto[0].precio_neto,\n              cantidad: 0,\n              //nuevo: true\n            },\n            nuevaCantidad: 0,\n    \n          });\n        }\n      }\n    } else if (\n      coloresSeleccionados.length > 0 &&\n      medidas_seleccionadas_temp.length === 1 &&\n      value\n    ) {\n      /* SI HAY COLORES SE LE AGREGA TALLA POR PRIMERA VEZ */\n      for (let i = 0; i < array_medidad_finales.length; i++) {\n        for (let k = 0; k < medidas_seleccionadas_temp.length; k++) {\n          presentacion_temp.push({\n             medida :{\n              _id: \"\",\n              existencia: array_medidad_finales[i].medida.existencia,\n              codigo_barras: array_medidad_finales[i].medida.codigo_barras,\n              nombre_comercial: array_medidad_finales[i].medida.nombre_comercial,\n              medida: medidas_seleccionadas_temp[k],\n              color: array_medidad_finales[i].medida.color,\n              precio: array_medidad_finales[i].medida.precio,\n              cantidad: array_medidad_finales[i].medida.cantidad,\n              //nuevo: true\n            },\n            nuevaCantidad: array_medidad_finales[i].nuevaCantidad,\n           \n          });\n        }\n      }\n    } else if (\n      coloresSeleccionados.length > 0 &&\n      medidas_seleccionadas_temp.length > 0\n    ) {\n      /* YA HAY COLORES Y MEDIDAS EN LAS PRESENTACIONES, SE AGREGAN NORMAL */\n      for (let i = 0; i < medidas_seleccionadas_temp.length; i++) {\n        const producto_medida = medidas_seleccionadas_temp[i];\n        for (let k = 0; k < coloresSeleccionados.length; k++) {\n          const producto_color = coloresSeleccionados[k];\n          const presentacion_existente = array_medidad_finales.filter(\n            (producto_array_final) =>\n              producto_array_final.medida.medida._id === producto_medida._id &&\n              producto_color._id === producto_array_final.medida.color._id\n          );\n          if (!presentacion_existente.length) {\n            //console.log('YA HAY COLORES Y MEDIDAS EN LAS PRESENTACIONES, SE AGREGAN NORMAL' , array_medidad_finales, producto_medida, producto_color)\n            presentacion_temp.push({\n              \n              medida :{\n                _id: \"\",\n                existencia: false,\n                codigo_barras: GenCodigoBarras(),\n                nombre_comercial: producto.datos_generales.nombre_comercial,\n                medida: producto_medida,\n                color: producto_color,\n                precio: 0,\n                cantidad: 0,\n                \n              },\n              nuevaCantidad: 0,\n            });\n          } else {\n            presentacion_temp.push(presentacion_existente[0]);\n          }\n        }\n      }\n    } else if (\n      coloresSeleccionados.length > 0 &&\n      !medidas_seleccionadas_temp.length\n    ) {\n      /* SI NO HAY TALLAS SE VUELVE A LISTAR LOS COLORES QUE YA ESTABAN EN PRESENTACIONES */\n      const presentaciones_existentes = array_medidad_finales.filter(\n        (producto) => producto.medida.medida._id\n      );\n      if (presentaciones_existentes.length) {\n        for (let x = 0; x < array_medidad_finales.length; x++) {\n          const objeto_presentaciones_final = array_medidad_finales[x];\n          presentacion_temp.push({\n              \n              medida :{\n                _id: \"\",\n                existencia: objeto_presentaciones_final.medida.existencia,\n                codigo_barras: objeto_presentaciones_final.medida.codigo_barras,\n                nombre_comercial: objeto_presentaciones_final.medida.nombre_comercial,\n                medida: objeto_presentaciones_final.medida.medida,\n                color: objeto_presentaciones_final.medida.color,\n                precio: objeto_presentaciones_final.medida.precio,\n                cantidad: objeto_presentaciones_final.medida.cantidad,\n                //nuevo: true\n              },\n              nuevaCantidad: objeto_presentaciones_final.nuevaCantidad, \n\n          \n          });\n        }\n      }\n    }\n     \n    setMedidasSeleccionadas([...medidas_seleccionadas_temp]);\n    setNew_medidas(presentacion_temp);\n  };\n\n  return (\n    <Grid item>\n      <div\n        className={classes.colorContainer}\n        onClick={() => handleAddTallas(!selected)}\n        style={\n          selected\n            ? {\n                backgroundColor: theme.palette.primary.main,\n              }\n            : null\n        }\n      >\n        <Typography\n          variant=\"button\"\n          style={{\n            color: theme.palette.getContrastText(\n              selected ? theme.palette.primary.main : \"#FFFFFF\"\n            ),\n            fontSize: 16,\n          }}\n        >\n          {talla.talla}\n        </Typography>\n      </div>\n    </Grid>\n  );\n};\n\nconst Colores = ({\n  producto,\n  color,\n  coloresSeleccionados,\n  setColoresSeleccionados,\n  medidasSeleccionadas,\n  datos,\n  setNew_medidas\n}) => {\n  const classes = useStyles();\n  const theme = useTheme();\n\n \n\n  const [selected, setSelected] = useState(false);\n\n  const seleccionarColores = useCallback(() => {\n    coloresSeleccionados.forEach((res) => {\n      if (res._id === color._id) setSelected(true);\n    });\n  }, [color._id, coloresSeleccionados]);\n \n  useEffect(() => {\n    if (producto) {\n      return seleccionarColores();\n    }\n  }, [producto, seleccionarColores]);\n\n  const obtenerColores = (value) => {\n    if (!selected) {\n      coloresSeleccionados.push(color);\n      setSelected(value);\n    } else {\n      coloresSeleccionados.forEach((res, index) => {\n        if (res._id === color._id) {\n          coloresSeleccionados.splice(index, 1);\n          setSelected(value);\n         /*  new_medidas.forEach((presentacion) => {\n            if (!presentacion.nuevo) {\n              if (presentacion.color._id === res._id) {\n                setPresentacionesEliminadas([\n                  ...presentaciones_eliminadas,\n                  presentacion,\n                ]);\n              }\n            }\n          }); */\n        }\n      });\n    }\n    let presentacion_temp = [];\n    const array_medidad_finales = [...datos];\n\n    if (!medidasSeleccionadas.length && !array_medidad_finales.length) {\n      /* SI NO HAY COLORES NI VALORES EN EL ARRAY FINAL SE AGREGA EL PRIMER ELEMENTO */\n      for (let i = 0; i < coloresSeleccionados.length; i++) {\n        const producto_color = coloresSeleccionados[i];\n        presentacion_temp.push({\n          medida :{\n              _id: \"\",\n              existencia: false,\n              codigo_barras: GenCodigoBarras(),\n              nombre_comercial: producto.datos_generales.nombre_comercial,\n              medida: {},\n              color: producto_color,\n              precio: producto.precios.precios_producto[0].precio_neto,\n              cantidad: 0,\n              //nuevo: true\n            },\n            nuevaCantidad: 0,\n        });\n      }\n    } else if (\n      !medidasSeleccionadas.length &&\n      array_medidad_finales.length > 0\n    ) {\n      /* SI YA HAY COLORES REGISTRADOS SE AGREGAN MAS */\n      for (let i = 0; i < coloresSeleccionados.length; i++) {\n        const producto_color = coloresSeleccionados[i];\n        const result = array_medidad_finales.filter(\n          (res) => res.medida.color._id === producto_color._id\n        );\n        if (result.length) {\n          presentacion_temp.push(result[0]);\n        } else {\n          presentacion_temp.push({\n             medida :{\n              _id: \"\",\n              existencia: false,\n              codigo_barras: GenCodigoBarras(),\n              nombre_comercial: producto.datos_generales.nombre_comercial,\n              medida: {},\n              color: producto_color,\n              precio: producto.precios.precios_producto[0].precio_neto,\n              cantidad: 0,\n              //nuevo: true\n            },\n            nuevaCantidad: 0,\n          });\n        }\n      }\n    } else if (\n      medidasSeleccionadas.length > 0 &&\n      coloresSeleccionados.length === 1 &&\n      value\n    ) {\n      /* SI YA HAY TALLAS SE LE AGREGA EL COLOR POR PRIMERA VEZ */\n      for (let i = 0; i < array_medidad_finales.length; i++) {\n        for (let k = 0; k < coloresSeleccionados.length; k++) {\n          presentacion_temp.push({\n            medida :{\n              _id: \"\",\n              existencia: array_medidad_finales[i].medida.existencia,\n              codigo_barras: array_medidad_finales[i].medida.codigo_barras,\n              nombre_comercial: array_medidad_finales[i].medida.nombre_comercial,\n              medida: array_medidad_finales[i].medida.medida,\n              color: coloresSeleccionados[k],\n              precio: array_medidad_finales[i].medida.precio,\n              cantidad: array_medidad_finales[i].medida.cantidad,\n              //nuevo: true\n            },\n            nuevaCantidad: array_medidad_finales[i].nuevaCantidad,\n           \n          });\n        }\n      }\n    } else if (\n      medidasSeleccionadas.length > 0 &&\n      coloresSeleccionados.length > 0\n    ) {\n      /* YA HAY TALLAS Y MEIDAS EN LAS PRESENTACIONES, SE REGISTRAN NORMAL */\n      for (let i = 0; i < coloresSeleccionados.length; i++) {\n        const producto_color = coloresSeleccionados[i];\n        for (let k = 0; k < medidasSeleccionadas.length; k++) {\n          const producto_medida = medidasSeleccionadas[k];\n          const presentacion_existente = array_medidad_finales.filter(\n            (producto_array_final) =>\n              producto_array_final.medida.medida._id === producto_medida._id &&\n              producto_color._id === producto_array_final.medida.color._id\n          );\n          if (!presentacion_existente.length) {\n            presentacion_temp.push({\n               medida :{\n                _id: \"\",\n                existencia: false,\n                codigo_barras: GenCodigoBarras(),\n                nombre_comercial: producto.datos_generales.nombre_comercial,\n                medida: producto_medida,\n                color: producto_color,\n                precio: 0,\n                cantidad: 0,\n                //nuevo: true\n              },\n              nuevaCantidad: 0,\n              \n            });\n          } else {\n            presentacion_temp.push(presentacion_existente[0]);\n          }\n        }\n      }\n    } else if (\n      medidasSeleccionadas.length > 0 &&\n      !coloresSeleccionados.length\n    ) {\n      /* SI NO HAY COLORES SE VUELVE A LISTAR LAS TALLAS QUE YA ESTABAN EN PRESENTACIONES */\n      const presentaciones_existentes = array_medidad_finales.filter(\n        (producto) => producto.medida.color._id\n      );\n      if (presentaciones_existentes.length) {\n        for (let x = 0; x < array_medidad_finales.length; x++) {\n          const objeto_presentaciones_final = array_medidad_finales[x];\n          presentacion_temp.push({\n            medida :{\n                _id: objeto_presentaciones_final.medida._id,\n                existencia: objeto_presentaciones_final.medida.existencia,\n                codigo_barras: objeto_presentaciones_final.medida.codigo_barras,\n                nombre_comercial: objeto_presentaciones_final.medida.nombre_comercial,\n                medida: objeto_presentaciones_final.medida.medida,\n                color: { nombre: \"\", hex: \"\" },\n                precio: objeto_presentaciones_final.medida.precio,\n                cantidad: objeto_presentaciones_final.medida.cantidad,\n                //nuevo: true\n              },\n            nuevaCantidad: objeto_presentaciones_final.nuevaCantidad,\n\n          });\n        }\n      }\n    }\n\n    setColoresSeleccionados([...coloresSeleccionados]);\n    setNew_medidas(presentacion_temp);\n  };\n\n  return (\n    <Grid item >\n      <Tooltip\n        title={color.nombre}\n        placement=\"top\"\n        arrow\n        TransitionComponent={Zoom}\n      >\n        <div\n          className={classes.colorContainer}\n          style={{\n            backgroundColor: color.hex,\n            color: theme.palette.getContrastText(color.hex),\n          }}\n          onClick={() => obtenerColores(!selected, color)}\n        >\n          {selected ? <Done /> : null}\n        </div>\n      </Tooltip>\n    </Grid>\n  );\n};\n","import React, { useContext,  useState, useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport {  Chip,  Tooltip, Zoom , TextField} from '@material-ui/core';\nimport { TraspasosAlmacenContext } from \"../../context/Almacenes/traspasosAlmacen\";\nimport { fade } from '@material-ui/core/styles/colorManipulator';\n\n/* const compareFunction = (a, b) => {\n\tif (a.medida.talla && b.medida.talla) {\n\t\treturn a.medida.talla.localeCompare(b.medida.talla);\n\t}\n}; */\n\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n\t\talignSelf:'center',\n\t\twidth:'90%',\n\t\tpaddingLeft: theme.spacing(2),\n    paddingRight: theme.spacing(1),\n\t\t\n\t},\n\tpaper: {\n\t\twidth: '100%',\n\t\tmarginBottom: theme.spacing(2)\n\t},\n\ttable: {\n\t\t\n\t\tminWidth: '100%',\n\t\tmaxWidth: '100%',\n\t\t\n\t},\n\t\n\ttableRow: {\n    \n\t\t'&.Mui-selected, &.Mui-selected:hover': {\n\t\t\tbackgroundColor: fade(theme.palette.primary.main, 0.1)\n\t\t}\n\t},\n    cell:{\n       align:'center'     \n    },\n\tvisuallyHidden: {\n\t\tborder: 0,\n\t\tclip: 'rect(0 0 0 0)',\n\t\theight: 1,\n\t\tmargin: -1,\n\t\toverflow: 'hidden',\n\t\tpadding: 0,\n\t\tposition: 'absolute',\n\t\ttop: 20,\n\t\twidth: 1\n\t},\n\tcolorContainer: {\n\t\tborder: '1px solid rgba(0,0,0, .3)',\n\t\theight: 30,\n\t\twidth: 30,\n\t\tborderRadius: '15%'\n\t}\n}));\n\n\n/* function stableSort(array, comparator) {\n  const stabilizedThis = array.map((el, index) => [el, index]);\n  stabilizedThis.sort((a, b) => {\n    const order = comparator(a[0], b[0]);\n    if (order !== 0) return order;\n    return a[1] - b[1];\n  });\n  return stabilizedThis.map((el) => el[0]);\n} */\n\nfunction descendingComparator(a, b, orderBy) {\n  if (b[orderBy] < a[orderBy]) {\n    return -1;\n  }\n  if (b[orderBy] > a[orderBy]) {\n    return 1;\n  }\n  return 0;\n}\n\nfunction getComparator(order, orderBy) {\n  return order === 'desc'\n    ? (a, b) => descendingComparator(a, b, orderBy)\n    : (a, b) => -descendingComparator(a, b, orderBy);\n}\n\nexport default function TablaPresentaciones({ producto, setOnUpdate, onUpdate, new_medidas, setNew_medidas }) {\n  const classes = useStyles();\n \n \n\n/*  \nconst handleChangePage = (event, newPage) => {\n    setPage(newPage);\n}; */\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Paper className={classes.paper}>\n\t\t\t\t<TableContainer style={{height:400}}>\n\t\t\t\t\t<Table\n\t\t\t\t\t\tclassName={classes.table}\n\t\t\t\t\t\taria-labelledby=\"tableTitle\"\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\taria-label=\"enhanced table\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t<TableCell >Medida</TableCell>\n\t\t\t\t\t\t\t\t<TableCell >Color</TableCell>\n\t\t\t\t\t\t\t\t<TableCell >Cantidad existente</TableCell>\n                                <TableCell >Cantidad a traspasar</TableCell>\n                            </TableRow>\n\t\t\t\t\t\t</TableHead>\n\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t{/* {stableSort(producto.medidas_producto, getComparator(order, orderBy))\n                \t\t\t.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\n\t\t\t\t\t\t\t.map((item, index) => { */}\n\t\t\t\t\t\t\t{producto.medidas_producto.map((item, index) => {\t\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<RenderPresentacionesRows\n\t\t\t\t\t\t\t\t\t\tidProducto={producto._id}\n\t\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\t\tmedida={item}\n\t\t\t\t\t\t\t\t\t\tindex={index}\n\t\t\t\t\t\t\t\t\t\tsetOnUpdate={setOnUpdate}\n\t\t\t\t\t\t\t\t\t\tonUpdate={onUpdate}\n\t\t\t\t\t\t\t\t\t\tnew_medidas={new_medidas}\n\t\t\t\t\t\t\t\t\t\tsetNew_medidas={setNew_medidas}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t</Table>\n\t\t\t\t</TableContainer>\n\t\t\t{/* \t<TablePagination\n\t\t\t\t\trowsPerPageOptions={[5, 10, 25]}\n\t\t\t\t\tcomponent=\"div\"\n\t\t\t\t\tcount={producto.medidas_producto.length}\n\t\t\t\t\trowsPerPage={rowsPerPage}\n\t\t\t\t\tpage={page}\n\t\t\t\t\tonChangePage={handleChangePage}\n\t\t\t\t\t// onRowsPerPageChange={handleChangeRowsPerPage}\n\t\t\t\t/> */}\n\t\t\t</Paper>\n\t\t</div>\n\t);\n}\n\n\nconst RenderPresentacionesRows = ({ medida, index, setOnUpdate, onUpdate,new_medidas, setNew_medidas, idProducto}) => {\n\n\tconst [ disabledInput, setDisabledInput ] = useState(true);\n\tconst classes = useStyles();\n\tconst [ cantidad, setCantidad ] = useState(0);\n\tconst [ cantidadAnt, setCantidadAnt ] = useState(0);\n\tconst copy_medida = { ...medida };\n\tconst {productosTras} = useContext(TraspasosAlmacenContext);\n\t//const [productInTras, setProductInTras] =  useState(null);\n\t//let productInTras = null;\n\t//let productInTras = productosTras.find(element => element.product_selecteded._id === idProducto);\n\t//const productosTrasContext = productosTras;\n \n\tuseEffect(() => {\n\t\tproductosTras.forEach(producto => {\n\t\t\t//console.log(\"SELECTMEDIDAS\",producto)\n\n\t\tif(producto.product_selected._id === idProducto){\n\t\t\tlet new_medidasCopia = [];\n\t\t\tlet element = null;\n\t\t\n\t\t\tfor (const med in producto.new_medidas) {\n\t\t\t\tif (Object.hasOwnProperty.call(producto.new_medidas, med)) {\n\t\t\t\t\telement = producto.new_medidas[med];\n\t\t\t\t\tnew_medidasCopia.push(element)\n\t\t\t\t\t\n\t\t\t\t\tif(medida._id === element.medida._id){\n\t\t\t\t\t\tsetCantidad( element.nuevaCantidad);\t\t\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tsetNew_medidas(producto.new_medidas);\n\t\t\treturn;\n\t\t}\n\t\t\n\t});\n\t\treturn () => {\n\t\t\t<div/>\n\t\t}\n\t}, [productosTras])\n\t\n\n\n\t\n\n\t/* if(from && from === 'compra'){\n\t\tcopy_producto.cantidad_nueva = 0\n\t} */\n\t\n\tconst obtenerDatos = (value) => {\n\t\tlet cant = (cantidadAnt > 0) ? parseInt(value - cantidadAnt)   : value;\n\t\t//console.log(\"CANT\",cantidad)\n\n\t\tif(cant <= medida.cantidad){\n\t\t\tsetCantidad(value);\n\t\t\n\t\t\tsetNew_medidas({...new_medidas, [index] : {medida:medida, nuevaCantidad: parseInt(cant)}})\n\t\t}\n\t\t/* \n\t\tconst unidades = {cantidad:} \n\t\tcopy_producto.push() */\n\t\t//Tengo que obtener los datos que se van a enviar se debe agregar un elemento al array \n\t\t\n\t\t//setPresentaciones(copy_presentaciones);\n\t};\n\n\n\treturn (\n\t\t<TableRow  selected={!disabledInput} className={classes.tableRow} >\n\t\t\t<TableCell >\n\t\t\t\t{copy_medida.medida._id ? <Chip label={copy_medida.medida.talla} color=\"primary\" /> : ''}\n\t\t\t</TableCell>\n\t\t\t<TableCell  style={{width:'20%'}}>\n\t\t\t\t{copy_medida.color._id ? (\n\t\t\t\t\t<Tooltip title={copy_medida.color.nombre} placement=\"top\" arrow TransitionComponent={Zoom}>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName={classes.colorContainer}\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\tbackgroundColor: copy_medida.color.hex\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Tooltip>\n\t\t\t\t) : null}\n\t\t\t</TableCell>\n\t\t\t\n\t\t\n\t\t\t<TableCell className={classes.cell}  style={{width:'25%'}}>\n\t\t\t\t{medida.cantidad}\n\t\t\t</TableCell>\n\t\t \n\t\t\t<TableCell  style={{width:'25%'}}>\n\t\t\t\t<TextField\n\t\t\t\t\tsize=\"small\"\n\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\tInputProps={{ inputProps: { min: 0 } }}\n\t\t\t\t\tinputMode=\"numeric\"\n\t\t\t\t\ttype=\"number\"\n\t\t\t\t\tvalue={cantidad}\n\t\t\t\t\tonChange={(value) => obtenerDatos(value.target.value)}\n\t\t\t\t\tname=\"nuevaCantidad\"\n\t\t\t\t/>\n            </TableCell>    \n\t\t</TableRow>\n\t);\n};","import React, {useContext, useEffect, useState} from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { Grid,Box, TextField } from '@material-ui/core';\nimport { lighten, makeStyles } from '@material-ui/core/styles';\nimport {Table, TableBody, TableCell, TableContainer, TableHead, TablePagination, TableRow, TableSortLabel} from '@material-ui/core';\nimport {Toolbar, Typography, Paper, IconButton, Tooltip, Dialog, Checkbox ,Slide, Button, DialogTitle, DialogActions} from '@material-ui/core';\nimport AddIcon from '@material-ui/icons/Add';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport EditIcon from '@material-ui/icons/Edit';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { TraspasosAlmacenContext } from \"../../context/Almacenes/traspasosAlmacen\";\nimport TallasColoresTraspasos from './TallasColoresTraspasos';\nimport TableSelectMedidas from './TableSelectMedidas';\nimport { useQuery } from '@apollo/client';\nimport {  OBTENER_CONSULTAS } from \"../../gql/Catalogos/productos\";\nimport { RegProductoContext } from '../../context/Catalogos/CtxRegProducto';\n// function createData(name, cantidad, precio) {\n//   return { name, cantidad, precio };\n// }\n\nfunction descendingComparator(a, b, orderBy) {\n  if (b[orderBy] < a[orderBy]) {\n    return -1;\n  }\n  if (b[orderBy] > a[orderBy]) {\n    return 1;\n  }\n  return 0;\n}\n\nfunction getComparator(order, orderBy) {\n  return order === 'desc'\n    ? (a, b) => descendingComparator(a, b, orderBy)\n    : (a, b) => -descendingComparator(a, b, orderBy);\n}\n\nfunction stableSort(array, comparator) {\n  const stabilizedThis = array.map((el, index) => [el, index]);\n  stabilizedThis.sort((a, b) => {\n    const order = comparator(a[0], b[0]);\n    if (order !== 0) return order;\n    return a[1] - b[1];\n  });\n  return stabilizedThis.map((el) => el[0]);\n}\n\nconst headCells = (add) => {\n\nlet hC = (add) ? \n\n  [\n    { id: 'codeBarras', numeric: false, disablePadding: false, label: 'Cdigo de barras' },\n    { id: 'name', numeric: false, disablePadding: true, label: 'Nombre' },\n    { id: 'tipo', numeric: true, disablePadding: false, label: 'Tipo' },\n    { id: 'cantidad', numeric: true, disablePadding: false, label: 'Cantidad' },\n\n  ]\n  :\n\n  [\n    { id: 'codeBarras', numeric: false, disablePadding: false, label: 'Cdigo de barras' },\n    { id: 'name', numeric: false, disablePadding: true, label: 'Nombre' },\n    { id: 'tipo', numeric: true, disablePadding: false, label: 'Tipo' },\n    { id: 'cantidad', numeric: true, disablePadding: false, label: 'Cantidad' },\n    { id: 'solo', numeric: true, disablePadding: false, label: ' ' },\n  ]\n\n  return hC;\n}\n;\nconst getUnidadMax  = (cantidad_existente_maxima,unidadMaxima) => {\n  //console.log('getCantidad',cantidad_nueva, cantidad_medida, accion)\n  const UNIDAD_MAXIMA = {\n    'Caja' :  'Cantidad existente en cajas: ' + cantidad_existente_maxima,\n    'Costal' : 'Cantidad existente en costales: ' + cantidad_existente_maxima,\n  }  \n  return UNIDAD_MAXIMA[unidadMaxima];\n}\n\nfunction EnhancedTableHead(props) {\n  const { classes,  order, orderBy, onRequestSort } = props;\n  const createSortHandler = (property) => (event) => {\n    onRequestSort(event, property);\n  };\n  const headCellsNames =  headCells(props.add);\n  return (\n    <TableHead>\n      <TableRow>\n     \n        {headCellsNames.map((headCell) => (\n          <TableCell\n            key={headCell.id}\n            align='left'\n            // padding={headCell.disablePadding ? 'none' : 'normal'}\n            sortDirection={orderBy === headCell.id ? order : false}\n          >\n            <TableSortLabel\n              active={orderBy === headCell.id}\n              direction={orderBy === headCell.id ? order : 'asc'}\n              onClick={createSortHandler(headCell.id)}\n            >\n              {headCell.label}\n              {orderBy === headCell.id ? (\n                <span className={classes.visuallyHidden}>\n                  {order === 'desc' ? 'sorted descending' : 'sorted ascending'}\n                </span>\n              ) : null}\n            </TableSortLabel>\n          </TableCell>\n        ))}\n      </TableRow>\n    </TableHead>\n  );\n}\n\nEnhancedTableHead.propTypes = {\n  classes: PropTypes.object.isRequired,\n  // product_selected: PropTypes.object.isRequired,\n  onRequestSort: PropTypes.func.isRequired,\n  order: PropTypes.oneOf(['asc', 'desc']).isRequired,\n  orderBy: PropTypes.string.isRequired,\n  rowCount: PropTypes.number.isRequired,\n};\n\nconst useToolbarStyles = makeStyles((theme) => ({\n  root: {\n    \n    paddingLeft: theme.spacing(2),\n    paddingRight: theme.spacing(1),\n    maxWidth:650\n  },\n  input:{\n    width:180\n  }\n  ,\n  inputCantidad:{\n    width:120,\n    height:10\n  },\n  inputCantidadTable:{\n    width:'20%',\n    height:10\n  },\n  highlight:\n    theme.palette.type === 'light'\n      ? {\n          \n          color: theme.palette.secondary.main,\n          backgroundColor: lighten(theme.palette.primary.light, 0.85),\n        }\n      : {\n          color: theme.palette.text.primary,\n          backgroundColor: theme.palette.secondary.dark,\n        },\n  title: {\n    fontSize:16,\n    flex: '1',\n     display: 'flex',\n    flexWrap: 'wrap',\n  },\n}));\n\nconst DialogTallas = (props) => {\n\n  const [new_medidas, setNew_medidas] = useState([]);\n  const {setProductosTras, productosTras} = useContext(TraspasosAlmacenContext);\n \n  const setProd = () =>{\n    let newMedidasCopy = new_medidas;\n    let cantidad_total = 0;\n    \n\n     try {\n     \n       let prodSelect = null;\n    prodSelect = (props.almacenOrigen !== null) ? {\n      _id: props.product_selected._id,\n      datos_generales:  props.product_selected.datos_generales,\n      medidas_producto: props.product_selected.medidas_producto,\n      inventario_general: props.product_selected.inventario_general,\n      unidades_de_venta: props.product_selected.unidades_de_venta,\n      precios: props.product_selected.precios,\n      empresa:props.product_selected.empresa,\n      sucursal:props.product_selected.sucursal,\n      usuario: props.product_selected.usuario\n    }\n    :\n\n    {\n       _id: props.product_selected._id,\n      datos_generales:  props.product_selected.datos_generales,\n      precios: props.product_selected.precios,\n       medidas_producto: [],\n      inventario_general: [{unidad_maxima:''}],\n      unidades_de_venta: [],\n      empresa:props.product_selected.empresa,\n      sucursal:props.product_selected.sucursal,\n      usuario: props.product_selected.usuario \n    }; \n    let existe = false;\n    let copyProductosTras = productosTras;\n    let medidasTo =[];\n    //Count all new_medidas from array\n\n    for (let newMed in newMedidasCopy){ \n        cantidad_total +=  newMedidasCopy[newMed].nuevaCantidad;\n        //cantidad_total += newMedidasCopy[newMed];\n      medidasTo.push(newMedidasCopy[newMed])\n    } \n\n    if(cantidad_total > 0){\n    \n      if(copyProductosTras.length){//Check have data context\n        copyProductosTras.forEach(element => {\n          if(element.product_selected._id === props.product_selected._id){\n            existe = true;\n            ///VA A SUMAR EN LAS MEDIDAS LAS CANTIDADES\n            element.new_medidas = medidasTo;\n            element.cantidad_total = cantidad_total;\n            return;\n          }\n        });\n    \n        if(!existe){\n          //console.log(\"NO est este producto\", element.product_selected._id , props.product_selected._id );\n          let obj= {product_selected:prodSelect, new_medidas:medidasTo, cantidad_total:parseInt(cantidad_total), unidad_maxima: false}\n          copyProductosTras.push(obj)\n      \n        } \n      }else{ \n          let obj= {product_selected:prodSelect, new_medidas:medidasTo, cantidad_total:parseInt(cantidad_total), unidad_maxima: false}\n          copyProductosTras.push(obj)\n      }\n         \n      setProductosTras([...copyProductosTras])  \n      setNew_medidas([]);\n      close();\n    }  \n     } catch (error) {\n       //console.log('MANDH',error)\n     }\n    \n  }\n\n  const close= () => {\n    try {\n      props.setOpenTallas();\n      props.setproduct_selected(undefined)\n    } catch (error) {\n      //console.log(error)\n    }\n  }\n \n  useEffect(() => {\n    let new_medidasCopia = [];\n\n    productosTras.forEach(prod => {\n\t\t\n\t\tif(prod.product_selected._id ===  props.product_selected._id){\n\t\t\tlet element = null;\n        for (const med in prod.new_medidas) {\n          if (Object.hasOwnProperty.call(prod.new_medidas, med)) {\n            element = prod.new_medidas[med];\n            new_medidasCopia.push(element)\n          }\n        }\n      }\n    })  \n    setNew_medidas(new_medidasCopia);\n  }, [productosTras, props.product_selected._id])\n     \n\n  return(\n    <Dialog open={props.openTallas} TransitionComponent={Transition} fullWidth maxWidth={\"md\"} >\n        <Box m={1} display=\"flex\" justifyContent=\"flex-end\">\n                <Button variant=\"contained\" color=\"secondary\" onClick={() => close()} size=\"large\">\n                  <CloseIcon />\n                </Button>\n          </Box>\n      {\n        (props.almacenOrigen === null) ? \n          <div>\n            <TallasColoresTraspasos \n              obtenerConsultasProducto={props.obtenerConsultasProducto}\n              refetch={props.obtenerConsultasProducto.refetch}\n              producto={props.product_selected}\n              new_medidas={new_medidas} \n              setNew_medidas={setNew_medidas}\n            />\n          </div>\n        :\n        <div>\n          <TableSelectMedidas producto = {props.product_selected} new_medidas={new_medidas} setNew_medidas={setNew_medidas} add={props.add} />\n        </div> \n      }    \n      <Box display=\"flex\" justifyContent=\"flex-end\" m={1} mr={5}>\n        <Button  variant=\"contained\" color=\"primary\"style={{width:\"20%\"}} onClick={setProd} >\n          AGREGAR \n        </Button>\n      </Box>   \n    </Dialog>\n  )\n}\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nconst EnhancedTableToolbar = (props) => {\n  const classes = useToolbarStyles();\n  const [cantidadTo, setCantidadTo] = useState('');\n  const [openEnd, setOpenEnd] = useState(false);\n \n  \n  const { product_selected, setproduct_selected, tipoPieza, update } = props;\n   const {\n        setProductosTras,\n        productosTras,\n        setProductosEmpTo,\n        setProductosTo, \n        productosTo,\n        productosEmpTo\n    } = useContext(TraspasosAlmacenContext);\n\n\n\nconst setValueToTrans =(cantidad_total) =>{\n  try {\n    props.setError({error:false, mensaje:''})\n   \n    if(cantidad_total === 0 || cantidad_total === '') return;\n   let element = productosTras.find(element => element.product_selected._id === product_selected._id);\n  /*   let elementTablaTo = (props.almacenOrigen !== null) ? \n        productosEmpTo.find(element => element.product_selected._id === product_selected._id)\n        :\n        productosTo.find(element => element.product_selected._id === product_selected._id) */\n    if(element) {\n //console.log(cantidad_total, element)\n      let totalCantExistMasNuevaCantidad = parseFloat(cantidad_total);\n      //SUMA CANTIDAD TOTAL\n      \n      if(props.add){\n        if(product_selected.inventario_general !== undefined){\n          if( !tipoPieza.piezas ){\n            if(totalCantExistMasNuevaCantidad <=  product_selected.inventario_general[0].cantidad_existente_maxima){\n              element.cantidad_total = totalCantExistMasNuevaCantidad;\n            }else{\n              props.setError({error:true, mensaje:'La cantidad ingresada sobrepasa la cantidad existente del producto seleccionado.'})\n            }  \n          }else{\n            if(totalCantExistMasNuevaCantidad <=  product_selected.inventario_general[0].cantidad_existente){\n              element.cantidad_total = totalCantExistMasNuevaCantidad;\n            \n            }else{\n              props.setError({error:true, mensaje:'La cantidad ingresada sobrepasa la cantidad existente del producto seleccionado.'})\n            }\n          }\n        }else{\n          element.cantidad_total = totalCantExistMasNuevaCantidad;\n        /*   if(props.add){\n            elementTablaTo.inventario_general[0].cantidad_existente -= cantidad_total;\n          }else{\n            elementTablaTo.cantidad_total -= cantidad_total\n          } */\n\n          \n        }\n      }else{\n\n        element.cantidad_total = parseFloat(cantidad_total);\n      }  \n      setProductosTras([...productosTras]);\n      /*  if(props.almacenOrigen !== null){\n           setProductosEmpTo([...productosTras]);\n        }else{\n           setProductosTo([...productosTras]);\n        } */\n\n      return;\n\n\n    }else{\n      //Cuando sea el caso que no hay almacen de origen cambiar los datos que van a ir vacos\n      //\n     \n      //console.log(props.product_selected.precios)\n      let prodSelect = {\n        _id: props.product_selected._id,\n        datos_generales:  props.product_selected.datos_generales,\n        inventario_general: props.product_selected.inventario_general,\n        unidades_de_venta: props.product_selected.unidades_de_venta,\n        medidas_producto: props.product_selected.medidas_producto,\n      \n        precios: props.product_selected.precios,\n        empresa:props.product_selected.empresa,\n        sucursal:props.product_selected.sucursal,\n        usuario: props.product_selected.usuario\n      } \n    //VERIFICA CANTIDAD MAXIMA\n    if(product_selected.inventario_general !== undefined){\n      if(cantidad_total <=  product_selected.inventario_general[0].cantidad_existente){\n      \n        let obj= {product_selected:prodSelect, new_medidas:[], cantidad_total, unidad_maxima: tipoPieza.cajas};\n        setProductosTras([...productosTras, obj]);\n      }\n      else{\n        props.setError({error:true, mensaje:'La cantidad ingresada sobrepasa la cantidad existente.'})\n      }\n    }else{\n       let obj= {product_selected:prodSelect, new_medidas:[], cantidad_total, unidad_maxima: tipoPieza.cajas};\n        setProductosTras([...productosTras, obj]);\n    }\n    }\n     return;\n  } catch (error) {\n     //console.log(error)\n  }\n}\n\nconst deletesItems =() =>{\n  try {\n  \n    setproduct_selected(undefined)\n    //console.log(prodSet.filter(item => item.product_selected._id !== product_selected._id))\n    setProductosTras([]);\n\n  } catch (error) {\n\n  }\n}\n\n\nuseEffect(() => {\n  try {\n    if(props.add){\n      props.setOpenTallas(true)\n    }\n    setCantidadTo(props.cant)\n    \n  } catch (error) {\n    \n  }\n  \n}, [product_selected])   \n  \n  const pressEnter = (e) => {\n    try {\n      if (e.key === \"Enter\") {\n        setValueToTrans(parseFloat(e.target.value))\n      }\n    } catch (error) {\n      \n    }\n    \n  };        \n  function onlyNumbers(value){\n   \n      //const onlyNums = value.toString().replace(/[^0-9]/g, '');\n      const intValue = parseFloat(value);\n      try {\n        if(props.almacenOrigen !== null){\n          if( !tipoPieza.piezas  ){\n            if(intValue <= product_selected.inventario_general[0].cantidad_existente_maxima){\n              setCantidadTo(intValue);\n              //console.log(intValue)\n              return;\n            } \n          }else{\n            \n              if(intValue <= product_selected.inventario_general[0].cantidad_existente){\n                setCantidadTo(intValue);\n                return;\n              }\n            }\n          }else{\n          \n            setCantidadTo(intValue);\n            return;\n          }\n      } catch (error) {\n        \n      }\n    \n  }\n\n\n\n  const TipoPiezaComponent = () => {\n     try {\n     \n      const TIPO_PIEZA = {\n        'Pz' :  {unidad_maxima: null, unidad_minima: 'Pz' },\n        'Caja' : {unidad_maxima: 'Caja', unidad_minima: 'Pz' },\n        'Kg' : {unidad_maxima: null, unidad_minima: 'Kg' },\n        'Costal' : {unidad_maxima: 'Costal', unidad_minima: 'Kg' },\n        'Lt' : {unidad_maxima: null, unidad_minima: 'Lt' }\n      }\n      \n\n    \n      return (\n        <Box flexDirection={'row'} display=\"flex\">\n          <Box flexDirection={'row'}  >\n          <Checkbox checked={tipoPieza.piezas}   color=\"primary\" onChange={() => {update(); setCantidadTo(0)}} disabled={TIPO_PIEZA[product_selected.precios.unidad_de_compra.unidad].unidad_maxima === null} />\n            <Typography color=\"primary\" style={{marginLeft:10}}>{TIPO_PIEZA[product_selected.precios.unidad_de_compra.unidad].unidad_minima}</Typography> \n          </Box>\n    \n          \n        { \n          (TIPO_PIEZA[product_selected.precios.unidad_de_compra.unidad].unidad_maxima !== null) ? \n            <Box flexDirection={'row'} >\n              <Checkbox checked={tipoPieza.cajas} color=\"primary\" onChange={() => {update(); setCantidadTo(0)}}/>\n              <Typography color=\"primary\" style={{marginLeft:10}}>{TIPO_PIEZA[product_selected.precios.unidad_de_compra.unidad].unidad_maxima} </Typography> \n            </Box>\n          :\n            <div/>\n          \n          }\n      \n        </Box>\n      );\n     } catch (error) {\n       \n     }\n    \n    \n  }\n\n  return (\n    <Toolbar\n      className={clsx(classes.root, {\n        [classes.highlight]: product_selected !== undefined && props.add,\n      })}\n    \n    >\n    <Grid container>\n      {product_selected !== undefined  && props.add ? (\n        <Box style={{width:'100%'}}>\n         \n          <Typography className={classes.title} color=\"inherit\" variant=\"subtitle2\"  >\n            {product_selected.datos_generales.nombre_comercial} \n          </Typography>\n        </Box>\n      ) : (\n        <Box style={{width:'100%'}} flexDirection={'row'} display=\"flex\">\n          <Typography className={classes.title} variant=\"h6\" id=\"tableTitle\" component=\"div\">\n            {props.title}\n          </Typography>\n          {\n            (productosTras.length > 0 && !props.add) ? \n            <Tooltip title=\"Eliminar todos\">\n              <IconButton aria-label=\"delete\" onClick={() => setOpenEnd(true)} >\n                  <DeleteIcon />\n              </IconButton>\n            </Tooltip>\n            :\n            <div/>\n          }\n          \n         </Box>  \n      )}\n\n      {(product_selected !== undefined )? (\n      <Box > \n        {\n          (props.error.error) ?\n          <Typography color=\"inherit\">{props.error.mensaje}</Typography>\n          :\n          <div/>\n        } \n            {\n            (props.add ) ?\n                (product_selected.datos_generales.tipo_producto === 'OTROS') ? \n                  <Grid container  justifyContent=\"space-evenly\" ml={1}>\n                \n                      {\n                        (props.almacenOrigen === null)?\n                        \n                        <TipoPiezaComponent />\n                        :\n                        <Box flexDirection={'row'} display=\"flex\">\n                          <Box flexDirection={'row'}  >\n                            <Checkbox checked={tipoPieza.piezas}   color=\"primary\" onChange={() => {update(); setCantidadTo(0)}} disabled={props.product_selected.inventario_general[0].cantidad_existente_maxima === null} />\n                            <Typography color=\"primary\" style={{marginLeft:10}}>{props.product_selected.inventario_general[0].unidad_inventario}</Typography> \n                          </Box>\n                          {\n                            (props.product_selected.inventario_general[0].unidad_maxima !== null ) ?\n                              <Box flexDirection={'row'} >\n                                <Checkbox checked={tipoPieza.cajas} color=\"primary\" onChange={() => {update(); setCantidadTo(0)}}/>\n                                <Typography color=\"primary\" style={{marginLeft:10}}>{\"\" + props.product_selected.inventario_general[0].unidad_maxima} </Typography> \n                              </Box>\n                            :\n                              <div/>\n                          }\n                        </Box>\n                      }\n                        \n                      <Box width=\"180px\" ml={2}>\n                    \n                        <Typography color=\"primary\">Cantidad</Typography>\n                        <TextField\n                            className={classes.inputCantidad}\n                            \n                            size=\"small\"\n                            name=\"cantidad\"\n                            variant=\"outlined\"\n                            type=\"number\"\n                            InputProps={{ inputProps: { min: 0 } }}\n                            value={cantidadTo}\n    \n                            onKeyPress={pressEnter}\n                            onChange={(value) => onlyNumbers(value.target.value)}\n                            \n                        />\n                      \n                        <Tooltip title=\"Agregar\">\n                            <IconButton aria-label=\"add\" onClick={() => setValueToTrans(cantidadTo)} >\n                                <AddIcon />\n                            </IconButton>\n                        </Tooltip>\n                      </Box>\n                      {\n                        (props.almacenOrigen) ? \n                          <Box  width=\"150px\" >\n                            {\n                              (props.product_selected.inventario_general[0].cantidad_existente_maxima !== null ) ? \n                                <Typography color=\"primary\" style={{flexWrap: \"wrap\"}}>\n                                  {getUnidadMax(props.product_selected.inventario_general[0].cantidad_existente_maxima,props.product_selected.inventario_general[0].unidad_maxima)}\n                                  </Typography>\n                              :\n                              <div/>\n                            }\n                          </Box>\n                        :\n                        <div/>\n                      }\n                    </Grid>\n                   \n                  :    \n                  <div>\n                    <DialogTallas openTallas={props.openTallas} setOpenTallas={props.setOpenTallas} setproduct_selected={setproduct_selected}  product_selected={product_selected} almacenOrigen={props.almacenOrigen} obtenerConsultasProducto={props.obtenerConsultasProducto}refetch={props.refetch}/> \n                  </div> \n                :\n                <div>\n                   <DialogTallas openTallas={props.openTallas} setOpenTallas={props.setOpenTallas} setproduct_selected={setproduct_selected}  product_selected={product_selected} almacenOrigen={props.almacenOrigen} obtenerConsultasProducto={props.obtenerConsultasProducto}refetch={props.refetch}/> \n                </div>\n                /* <Grid width={'100%'} container>\n                  { (product_selected.datos_generales.tipo_producto === 'OTROS') ? \n                    <div>\n                     \n                      <Typography color=\"primary\">Cantidad</Typography>\n                      <TextField\n                          className={classes.inputCantidad}\n                          size=\"small\"\n                          name=\"cantidad\"\n                          variant=\"outlined\"\n                          type=\"number\"\n                          InputProps={{ inputProps: { min: 0 } }}\n                          value={cantidadTo}\n                          onChange={(value) => onlyNumbers(value.target.value)}\n                          \n                      />\n                    \n                      <Tooltip title=\"Agregar\">\n                          <IconButton aria-label=\"add\" onClick={() => setValueToTrans(cantidadTo)} >\n                              <AddIcon />\n                          </IconButton>\n                      </Tooltip>\n                    </div>\n                    :\n                    \n                    <DialogTallas openTallas={openTallas} setOpenTallas={setOpenTallas} setproduct_selected={setproduct_selected}  product_selected={product_selected} almacenOrigen={props.almacenOrigen} obtenerConsultasProducto={props.obtenerConsultasProducto}refetch={props.refetch}/> \n                     \n                     \n                  }\n                  <Box mt={3} >\n                  { (product_selected.datos_generales.tipo_producto !== 'OTROS') ? \n                     <Tooltip title=\"Editar\">\n                        <IconButton aria-label=\"delete\" onClick={() => editItem()} >\n                            <EditIcon />\n                        </IconButton>\n                    </Tooltip> \n                    :\n                    <div/>\n                    }\n                    <Tooltip title=\"Eliminar\">\n                        <IconButton aria-label=\"delete\" onClick={() => deleteItem()} >\n                            <DeleteIcon />\n                        </IconButton>\n                    </Tooltip>\n                  </Box> \n                </Grid> */\n            }\n                \n         \n        </Box>\n      ) : (\n        <div/>\n      )}\n      </Grid>\n      <Dialog open={openEnd} onClose={() => setOpenEnd(false)}>\n            <DialogTitle>{'Est seguro de realizar esta accin?'}</DialogTitle>\n            <DialogActions>\n                <Button onClick={() => setOpenEnd(false)} color=\"primary\">\n                    Cancelar\n                </Button>\n                <Button color=\"secondary\" autoFocus variant=\"contained\" onClick={() => deletesItems()}>\n                    Eliminar\n                </Button>\n            </DialogActions>\n        </Dialog>\n    </Toolbar>\n  );\n};\n\n// EnhancedTableToolbar.propTypes = {\n//   numSelected: PropTypes.number.isRequired,\n// };\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n   \n    marginLeft:theme.spacing(1),\n    marginRight:theme.spacing(1),\n\n\n  },\n  paper: {\n    width: '100%',\n    marginBottom: theme.spacing(2),\n  },\n  table: {\n    minWidth: 600,\n    maxWidth:600\n   \n  },\n  visuallyHidden: {\n    border: 0,\n    clip: 'rect(0 0 0 0)',\n    height: 1,\n    margin: -1,\n    overflow: 'hidden',\n    padding: 0,\n    position: 'absolute',\n    top: 20,\n    width: 1,\n  },\n}));\n\nexport default function EnhancedTable(props) {\n  const classes = useStyles();\n  const [order, setOrder] = useState('asc');\n  const [orderBy, setOrderBy] = useState('calories');\n  const [selected, setSelected] = useState(undefined);\n  const [ openTallas, setOpenTallas] = useState(false);\n  const [cant, setCant] = useState(0);\n   const [error, setError] = useState({error:false, mensaje:''});\n  //const [data, setData] = useState([]);\n  const [page, setPage] = React.useState(0);\n  const [rowsPerPage, setRowsPerPage] = useState(5);\n  const [tipoPieza, setTipoPieza] = useState({piezas: true, cajas: false});\n  const sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\n\n\n  const update = () => {\n   setTipoPieza({...tipoPieza, piezas: !tipoPieza.piezas, cajas: !tipoPieza.cajas})\n }\n \n  const {\n        productosTras, productosTo,   productosEmpTo, setProductosTras\n    } = useContext(TraspasosAlmacenContext);\n\n  const obtenerConsultasProducto = useQuery(OBTENER_CONSULTAS, {\n    variables: { empresa: sesion.empresa._id, sucursal: sesion.sucursal._id },\n  });\n\n  \n  const handleRequestSort = (event, property) => {\n    const isAsc = orderBy === property && order === 'asc';\n    setOrder(isAsc ? 'desc' : 'asc');\n    setOrderBy(property);\n  };\n\n  const handleSelectAllClick = (event) => {\n    if (event.target.checked) {\n      const newSelecteds = data.map((n) => n.name);\n      setSelected(event.target.checked);\n      return;\n    }\n    setSelected([]);\n  };\n  const data = (!props.add) ?  productosTras  : (!props.almacenOrigen) ? productosEmpTo : productosTo  ; \n\n  const handleClick = (event, elemento, cant) => {\n \n    if(elemento.datos_generales.tipo_producto === 'OTROS'){\n      let haveCant= 0;\n      productosTras.forEach(producto => {\n        if(producto.product_selected._id === elemento._id){\n      \t  \n          haveCant = producto.cantidad_total;\t\t\n        }\n      });\n      \n        setCant(props.add ? haveCant : cant)\n    }\n\n    \n    if(selected!== undefined){\n      const selectedIndex = selected._id === elemento._id;\n     \n      // let newSelected = [];\n      if(selectedIndex){\n          setSelected(undefined);\n      }else{\n          setSelected(elemento);\n      } \n    }else{\n      //console.log(elemento)\n      setSelected(elemento);\n    }\n   \n    \n  };\n    \n  const handleChangePage = (event, newPage) => {\n    setPage(newPage);\n  };\n\n  const handleChangeRowsPerPage = (event) => {\n    setRowsPerPage(parseInt(event.target.value, 10));\n    setPage(0);\n  };\n  const deleteItem =(row) =>{\n    try {\n      \n      let prodSet =  [] ;\n      \n    \n      if(productosTras.length){\n        prodSet = productosTras;\n      }\n      \n    \n      //console.log(prodSet.filter(item => item.product_selected._id !== product_selected._id))\n      setProductosTras(prodSet.filter(item => item.product_selected._id !== row._id));\n\n    } catch (error) {\n\n    }\n  }\n  const setValueToTrans =(cantidad_total) =>{\n  try {\n    //setError({error:false, mensaje:''})\n   \n    if(cantidad_total === 0 || cantidad_total === '') return;\n   let element = productosTras.find(element => element.product_selected._id === selected._id);\n  /*   let elementTablaTo = (props.almacenOrigen !== null) ? \n        productosEmpTo.find(element => element.product_selected._id === product_selected._id)\n        :\n        productosTo.find(element => element.product_selected._id === product_selected._id) */\n  if(element) {\n //console.log(cantidad_total, element)\n      let totalCantExistMasNuevaCantidad = parseFloat(cantidad_total + element.cantidad_total);\n      //SUMA CANTIDAD TOTAL\n      \n      if(props.add){\n        if(selected.inventario_general !== undefined){\n          if( !tipoPieza.piezas ){\n            if(totalCantExistMasNuevaCantidad <=  selected.inventario_general[0].cantidad_existente_maxima){\n              element.cantidad_total = totalCantExistMasNuevaCantidad;\n            }else{\n              setError({error:true, mensaje:'La cantidad ingresada sobrepasa la cantidad existente del producto seleccionado.'})\n            }  \n          }else{\n            if(totalCantExistMasNuevaCantidad <=  selected.inventario_general[0].cantidad_existente){\n              element.cantidad_total = totalCantExistMasNuevaCantidad;\n            \n            }else{\n              setError({error:true, mensaje:'La cantidad ingresada sobrepasa la cantidad existente del producto seleccionado.'})\n            }\n          }\n        }else{\n          element.cantidad_total = totalCantExistMasNuevaCantidad;\n        /*   if(props.add){\n            elementTablaTo.inventario_general[0].cantidad_existente -= cantidad_total;\n          }else{\n            elementTablaTo.cantidad_total -= cantidad_total\n          } */\n\n          \n        }\n      }else{\n\n        element.cantidad_total = parseFloat(cantidad_total);\n      }  \n      setProductosTras([...productosTras]);\n      /*  if(props.almacenOrigen !== null){\n           setProductosEmpTo([...productosTras]);\n        }else{\n           setProductosTo([...productosTras]);\n        } */\n\n      return;\n\n\n    }\n     return;\n  } catch (error) {\n     //console.log(error)\n  }\n}\n\n  \n  function onlyNumbers(value){\n   \n      //const onlyNums = value.toString().replace(/[^0-9]/g, '');\n      const intValue = parseFloat(value);\n      try {\n        if(props.almacenOrigen !== null){\n          if( !tipoPieza.piezas  ){\n            if(intValue <= selected.inventario_general[0].cantidad_existente_maxima){\n               setValueToTrans(intValue)\n              //console.log(intValue)\n              return;\n            } \n          }else{\n            \n              if(intValue <= selected.inventario_general[0].cantidad_existente){\n                setValueToTrans(intValue)\n                return;\n              }\n            }\n          }else{\n           \n           \n            \n            return;\n          }\n      } catch (error) {\n        \n      }\n    \n  }\n  const isSelected = (id) => {\n    //return selected.indexOf(name) !== -1;\n    \n    if(selected!== undefined){\n      const selectedIndex = selected._id === id;\n   \n      // let newSelected = [];\n      if(!selectedIndex){\n        return false;\n      }else{\n        return true;\n      } \n    }else{\n      return false;\n    }\n    \n  } \n\n  const editItem =(prod_sel) =>{\n  try {\n  \n  \n    if(prod_sel.datos_generales.tipo_producto !== 'OTROS') {\n      setOpenTallas(true);\n      //console.log(props)\n    }\n   \n  } catch (error) {\n\n  }\n}\n  const emptyRows = rowsPerPage - Math.min(rowsPerPage, data.length - page * rowsPerPage);\n  \n  return (\n    <div className={classes.root}>\n      <Paper className={classes.paper}>\n       \n        <EnhancedTableToolbar \n          product_selected={selected} \n          setproduct_selected={setSelected} \n          openTallas={openTallas}\n          setOpenTallas={setOpenTallas}\n          error={error}\n          setError={setError}\n          title={props.title} add={props.add} almacenOrigen={props.almacenOrigen} productosTras ={productosTras} tipoPieza={tipoPieza} update={update} cant={cant} obtenerConsultasProducto={(obtenerConsultasProducto.data) ? obtenerConsultasProducto.data.obtenerConsultasProducto :[]}refetch={( obtenerConsultasProducto.refetch ) ? obtenerConsultasProducto.refetch : null} />\n        <TableContainer style={{height:'50vh'}}>\n          <Table\n            className={classes.table}\n            aria-labelledby=\"tableTitle\"\n            size={'small'}\n           \n            aria-label=\"a dense table\"\n          >\n            <EnhancedTableHead\n              classes={classes}\n              product_selected={selected}\n              add = {props.add}\n              order={order}\n              orderBy={orderBy}\n              handleSelectAllClick={handleSelectAllClick}\n              onRequestSort={handleRequestSort}\n              rowCount={data.length}\n            />\n            <TableBody>\n              {data\n                .map((row, index) => {\n                \n                  const isItemSelected = isSelected((props.add === true) ? row._id: row.product_selected._id);\n                  const labelId = `enhanced-table-checkbox-${index}`;\n                \n                  if(props.add){\n                    \n                    if(props.almacenOrigen) {\n                 \n                    return (\n                      <TableRow\n                        hover\n                        onClick={(event) => handleClick(event, row)}\n                        role=\"checkbox\"\n                        aria-checked={isItemSelected}\n                        tabIndex={-1}\n                        key={(props.add === true) ? row._id : row.product_selected._id}\n                        selected={isItemSelected}\n                        \n                      >\n                        <TableCell  id={labelId} scope=\"row\">\n                          {(row.datos_generales.codigo_barras == null)? 'SIN CDIGO' : row.datos_generales.codigo_barras}\n                        </TableCell>\n                        <TableCell component=\"th\" id={labelId} scope=\"row\">\n                          {row.datos_generales.nombre_comercial}\n                        </TableCell>\n                        \n                        <TableCell align=\"left\"> {row.datos_generales.tipo_producto}</TableCell>\n                        <TableCell align=\"left\"> {row.inventario_general[0].cantidad_existente }  {row.inventario_general[0].unidad_inventario} </TableCell>\n                        \n                        \n                      \n                      </TableRow>\n                    );\n                    }else{\n                      return(\n                        <TableRow\n                        hover\n                        onClick={(event) => handleClick(event, row)}\n                        role=\"checkbox\"\n                        aria-checked={isItemSelected}\n                        tabIndex={-1}\n                        key={row._id}\n                        selected={isItemSelected}\n                        \n                      >\n                        <TableCell  id={labelId} scope=\"row\">\n                          {(row.datos_generales.codigo_barras == null)? 'SIN CDIGO' : row.datos_generales.codigo_barras}\n                        </TableCell>\n                        <TableCell component=\"th\" id={labelId} scope=\"row\">\n                          {row.datos_generales.nombre_comercial}\n                        </TableCell>\n                        <TableCell align=\"left\"> {row.datos_generales.tipo_producto}</TableCell>\n                        <TableCell align=\"left\"> N/A</TableCell>\n                      </TableRow>\n                      );\n                    }\n                  }else{\n                    \n                    return(\n                    <TableRow\n                      hover\n                      onClick={(event) => handleClick(event, row.product_selected, row.cantidad_total)}\n                      role=\"checkbox\"\n                      aria-checked={isItemSelected}\n                      tabIndex={-1}\n                       key={(props.add === true) ? row._id : row.product_selected._id}\n                      selected={isItemSelected}\n                      \n                    >\n                      <TableCell  id={labelId} component=\"th\" width={100}>\n                        {(row.product_selected.datos_generales.codigo_barras == null)? 'SIN CDIGO' : row.product_selected.datos_generales.codigo_barras}\n                      </TableCell>\n                      <TableCell id={labelId}  width={200}>\n                        {row.product_selected.datos_generales.nombre_comercial}\n                      </TableCell>\n                      <TableCell align=\"left\" > {row.product_selected.datos_generales.tipo_producto}</TableCell>\n                      {\n                        (row.product_selected.datos_generales.tipo_producto  === \"OTROS\") ? \n                          <TableCell align=\"left\"  width={20} > \n                            <TextField\n                              size=\"small\"\n                              name=\"cantidad\"\n                              variant=\"outlined\"\n                              type=\"number\"\n                              InputProps={{ inputProps: { min: 0 } }}\n                              value={row.cantidad_total}\n                              onChange={(value) => onlyNumbers(value.target.value)}\n                            \n                            />\n                          </TableCell> \n                          :\n                          <TableCell align=\"left\"> {row.cantidad_total}</TableCell> \n\n                      }\n\n                      <TableCell align=\"left\" width={10}>\n                        <Box flexDirection={'row'} display=\"flex\" style={{width:75}}>\n                          { (row.product_selected.datos_generales.tipo_producto !== 'OTROS') ? \n                          <Tooltip title=\"Editar\">\n                              <IconButton aria-label=\"edit\" onClick={() => editItem(row.product_selected)} >\n                                  <EditIcon />\n                              </IconButton>\n                          </Tooltip> \n                          :\n                          <div/>\n                          } \n                          <Tooltip title=\"Eliminar\">\n                            <IconButton aria-label=\"delete\" onClick={() => deleteItem(row.product_selected)} >\n                                <DeleteIcon />\n                            </IconButton>\n                          </Tooltip>\n                        </Box>\n                      </TableCell> \n                    </TableRow>\n                    )\n                  }\n                })}\n              {emptyRows > 0 && (\n                <TableRow style={{ height: 53 * emptyRows }}>\n                  <TableCell colSpan={6} />\n                </TableRow>\n              )}\n            </TableBody>\n          </Table>\n        </TableContainer>\n      {/*   <TablePagination\n          rowsPerPageOptions={[5, 10, 25]}\n          component=\"div\"\n          count={data.length}\n          rowsPerPage={rowsPerPage}\n          page={page}\n          onPageChange={handleChangePage}\n          labelRowsPerPage={\"\"}\n          // onRowsPerPageChange={handleChangeRowsPerPage}\n        /> */}\n       \n      </Paper>\n      \n    </div>\n  );\n}","import React, { forwardRef, useEffect, useContext, useState,useCallback } from 'react';\nimport { AppBar, Toolbar, Typography, IconButton, Slide,\n         Button, Box, Dialog, Grid, DialogActions, TextField,Divider,\n         InputLabel, Select, Input, MenuItem, FormControl, useTheme, OutlinedInput, InputAdornment,\n         Stepper, Step, StepLabel, DialogTitle } from '@material-ui/core';\nimport { Search } from \"@material-ui/icons\";\nimport { makeStyles } from '@material-ui/core/styles';\nimport moment from 'moment';\nimport 'moment/locale/es';\nimport { useDebounce } from 'use-debounce';\nimport BackdropComponent from '../../../../components/Layouts/BackDrop';\nimport {Close} from '@material-ui/icons';\n//import ErrorPage from '../../../../components/ErrorPage';\nimport SnackBarMessages from '../../../../components/SnackBarMessages';\n\nimport { FcAdvance } from 'react-icons/fc';\nimport almacenIcon from '../../../../icons/almacen.svg';\nimport TableSelectProducts from '../../../../components/Traspasos/TableSelectProducts';\n\nimport { useQuery, useMutation } from '@apollo/client';\nimport { OBTENER_CONCEPTOS_ALMACEN} from '../../../../gql/Catalogos/conceptosAlmacen';\nimport { OBTENER_ALMACENES, REALIZAR_TRASPASO, OBTENER_CATEGORIAS, OBTENER_PRODUCTOS_EMPRESA} from '../../../../gql/Almacenes/Almacen';\n\nimport { OBTENER_PRODUCTOS } from \"../../../../gql/Catalogos/productos\";\n\n\nimport { TraspasosAlmacenContext } from \"../../../../context/Almacenes/traspasosAlmacen\";\n\nconst useStyles = makeStyles((theme) => ({\n\tappBar: {\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n    icon: {\n\t\tfontSize: 50\n\t},\n    imagen: {\n        width: 50\n    },\n    formInputFlex: {\n\t\tdisplay: 'flex',\n\t\t'& > *': {\n\t\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(1)}px`\n\t\t},\n\t\t'& span': {\n\t\t\tcolor: 'red'\n\t\t}\n\t},\n    subtitle: {\n\t\tmarginLeft: '10px',\n\t\twidth:'50%',\n     \n\t},\n    boxUpData:{\n        height: 80,\n\n    },\n    formControl: {\n        margin: theme.spacing(1),\n        minWidth: 300,\n        maxWidth: 300,\n    },\n    selected2:{\n\t\twidth: '50%',\n\t\theight: 50,\n\t\t\n    },\n    selected:{\n\t\twidth: '50%',\n\t\theight: 50,\n\t\t\n    },\n    input:{\n\t\twidth:'100%'\t\n\t},\n    inputBox:{\n\t\tmargin:20,\n        marginTop:5,\n        marginBottom:10,\n       \n\t},\n    button:{\n\t\tmargin: theme.spacing(3),\n        marginTop: theme.spacing(2),\n        marginBottom: theme.spacing(0)\n\t},\n    boxControl: {\n        margin: theme.spacing(2.5),\n\t\tmarginTop: 0,\n        minWidth: \"20%\",\n        maxWidth: \"20%\",\n        minHeight: 20,\n      \n    },\n    centerControl:{\n        marginTop:10,\n      \n    },\n  \n}));\n\n\nfunction getStyles(almacen, almacenName, theme) {\n  return {\n    fontWeight:\n      almacenName.indexOf(almacen) === -1\n        ? theme.typography.fontWeightRegular\n        : theme.typography.fontWeightMedium,\n  };\n}\n\nconst Transition = forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nconst ITEM_HEIGHT = 200;\nconst ITEM_PADDING_TOP = 8;\nconst MenuProps = {\n  PaperProps: {\n    style: {\n      maxHeight: ITEM_HEIGHT * 4.5 + ITEM_PADDING_TOP,\n      width: 400,\n    },\n  },\n};\n\n\nconst transportes = [\n    'Barco',\n    'Moto',\n    'Carro',\n    'Camioneta'\n];\n\n/* function createData(name, cantidad, precio, unidad) {\n    return { name, cantidad, precio, unidad };\n}  */\n\n\nconst steps = ['Datos traspaso', 'Seleccionar productos'];\n\nexport default function Traspasos() {\n    const classes = useStyles();\n    const theme = useTheme();\n    const sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n    const {\n        setProductos,\n        setProductosTras,\n        setProductosTo,\n        setProductosEmpTo,\n        productosTras\n    } = useContext(TraspasosAlmacenContext);\n    const [ alert, setAlert ] = useState({ message: '', status: '', open: false });\n\tconst [ open, setOpen ] = useState(false);\n    const [ loading, setLoading ] = useState(false);\n    const [ filtro, setFiltro ] = useState('');\n\tconst [value] = useDebounce(filtro, 1000);\n\n    const [ haveConcepto, setHaveConcepto ] = useState(false);\n    const [ conceptoTraspaso, setConceptoTraspaso ] = useState(null);\n    const [ isAlmacenOrigen, setIsAlmacenOrigen ] = useState(false);\n    const [ isAlmacenDestino, setIsAlmacenDestino ] = useState(false);\n\n    const [ almacenOrigen, setAlmacenOrigen ] = useState(null);\n    const [ almacenDestino, setAlmacenDestino ] = useState(null);\n    const [almacenesDestino, setAlmacenesDestino] =useState([])\n    const [ transporte, setTransporte ] = useState('');\n    const [ placas, setPlacas ] = useState('');\n    const [ nombreQuien, setNombreQuien ] = useState('');\n  \n    const [activeStep, setActiveStep] = useState(0);\n    const [skipped, setSkipped] = useState(new Set());\n    const [openEnd, setOpenEnd] = useState(false);\n \n    const [ CrearTraspaso ] = useMutation(REALIZAR_TRASPASO); \n\n    let conceptos= [];\n    let almacenes = [];\n    \n    const queryObtenerAlmacenes = useQuery(OBTENER_ALMACENES,{\n        variables: {\n            id: sesion.sucursal._id\n        },\n         fetchPolicy: \"network-only\"\n    });\t\n   /*  const productosAlmacenQuery = useQuery(OBTENER_PRODUCTOS_ALMACEN,{\n\t\tvariables: {\n            empresa: sesion.empresa._id,\n\t\t\tsucursal: sesion.sucursal._id,\n\t\t\tfiltro: value\n\t\t}\n\t});\t */\n\tconst dataConceptos = useQuery(OBTENER_CONCEPTOS_ALMACEN,{\n\t\tvariables: {\n\t\t\tempresa: sesion.empresa._id,\n\t\t\tsucursal: sesion.sucursal._id\n\t\t},\n         fetchPolicy: \"network-only\"\n\t});\n   \n    const categoriasQuery = useQuery(OBTENER_CATEGORIAS,{\n\t\tvariables: {\n            empresa: sesion.empresa._id,\n\t\t\tsucursal: sesion.sucursal._id,\t\n\t\t},\n        fetchPolicy: \"network-only\"\n\t});\n\n    const productosQuery = useQuery(\n    OBTENER_PRODUCTOS,\n    {\n      variables: { \n          empresa: sesion.empresa._id, \n          sucursal: sesion.sucursal._id,\n          filtro: value,\n          almacen: (almacenOrigen ) ? almacenOrigen._id : \"\",\n          existencias: true\n      },\n      fetchPolicy: \"network-only\"\n\n    }\n  );\n\n    const productosEmpresaQuery = useQuery(\n    OBTENER_PRODUCTOS_EMPRESA,\n    {\n        variables: { \n          empresa: sesion.empresa._id, \n          filtro: value,\n        },\n        fetchPolicy: \"network-only\"\n     }\n  );\n    \n    /* const obtenerAlmacenes= useCallback( () =>{\n        try {\n            console.log('obtenerAlmacenes')\n            \n        } catch (error) {\n           console.log(error)\n        }   \n    },[]); */\n\n    const obtenerProductosAlmacen = useCallback(async() =>{\n        try {\n           productosQuery.refetch();\n        } catch (error) {\n            \n        }   \n    },[productosQuery]);\n    \n   \n    \n    useEffect(() => {\n        if(almacenOrigen){\n          \n            setAlmacenesDestino(queryObtenerAlmacenes.data.obtenerAlmacenes.filter(element => element._id !== almacenOrigen._id));\n            obtenerProductosAlmacen();\n        }\n    }, [almacenOrigen ])\n\n\n    const obtenerProductosEmpresa = useCallback(async () =>{\n        try {\n             productosEmpresaQuery.refetch();\n        } catch (error) {\n            console.log('errorObtenerProductosEmpresa',error)\n        }   \n      },[productosEmpresaQuery]);\n\n   \n\n    useEffect(() => {\n        try {\n            if(conceptoTraspaso!== null){\n                if(conceptoTraspaso.origen === 'N/A'){\n                    obtenerProductosEmpresa();\n                } else{\n                    obtenerProductosAlmacen();\n                }      \n            }\n        } catch (error) {\n            console.log('conceptoTraspaso', error)\n        }\n       \n    }, [conceptoTraspaso])    \n\n /*    useEffect(() => {\n\t\t\tdataConceptos.refetch();\n\t},[ dataConceptos ]);  */\n\n     useEffect(() => {\n         console.log('useffect conceptoTraspaso')\n        if(conceptoTraspaso !== null){\n            if(conceptoTraspaso.destino === 'N/A'){\n                if(almacenOrigen !== null){\n                    setHaveConcepto(true)\n                }else{\n                     setHaveConcepto(false)\n                }\n            \n            }else{\n                if(conceptoTraspaso.origen === 'N/A'){\n                    if(almacenDestino !== null){\n                        setHaveConcepto(true);\n                    }else{\n                        setHaveConcepto(false);\n                    } \n                }else{\n                    if(almacenOrigen !== null && almacenDestino !== null){\n                        setHaveConcepto(true);\n                    }else{\n                        setHaveConcepto(false);\n                    } \n                }\n                \n            }    \n        }\n       \n\t},[conceptoTraspaso, almacenOrigen, almacenDestino ]); \n\n    \n\n     \n    useEffect(\n\t\t() => {\n\t\t\t if(productosEmpresaQuery.data){\n             \n                //setProductos(productosEmpresaQuery.data.obtenerProductosPorEmpresa);\n                //console.log(productosEmpresaQuery.data)\n                setProductosEmpTo(productosEmpresaQuery.data.obtenerProductosPorEmpresa);\n            }\n    },[ productosEmpresaQuery.data, setProductosEmpTo ]);  \n\n\n    useEffect(\n\t\t() => {\n            if(productosQuery.data ){\n                setProductos(productosQuery.data.obtenerProductos);\n                setProductosTo(productosQuery.data.obtenerProductos)\n                return;\n            }    \n\t\t},\n\t\t[ productosQuery, setProductos, setProductosTo ]\n\t); \n    \n    useEffect(\n\t\t() => {\n\t\t\tsetLoading(true);\n\t\t\tcategoriasQuery.refetch();\n\t\t\tsetLoading(false);\n\t\t},\n\t\t[ categoriasQuery ]\n\t); \n  \n\n\tconst handleClickOpen = () => {\n\t\tsetOpen(true);\n\t};\n\n\tconst handleClose = () => {\n\t\tsetOpen(false);\n\t};\n\n     const handleChange = (event) => {\n        setAlmacenOrigen(event.target.value);\n       /*   productosQuery.refetch({\n            variables: { \n            \n                almacen: event.target.value._id,\n                existencias: true\n            },\n        });  */\n        setProductosTras([]);\n        return;\n    };\n\n    const handleChangeDestino = (event) => {\n        //console.log(event)\n        setAlmacenDestino(event.target.value);\n        setProductosTras([]);\n        return;\n    };\n\n     const handleChangeConcepto = (event) => {\n        try {\n            \n            let concepto = event.target.value;  \n            setAlmacenesDestino([]);\n            almacenes = [];\n            setAlmacenOrigen(null); \n            setAlmacenDestino(null);\n            if(concepto.origen === 'N/A'){\n                setAlmacenesDestino( queryObtenerAlmacenes.data.obtenerAlmacenes)\n            }else{\n                setAlmacenesDestino([])\n            }\n          \n            setIsAlmacenOrigen((concepto.origen === 'N/A') ? false:true);\n            setIsAlmacenDestino((concepto.destino === 'N/A') ? false:true);\n           \n            setConceptoTraspaso(concepto);    \n        } catch (error) {\n            //console.log(error)\n        }\n      \n    };\n    \n      const handleChangeTransporte = (event) => {\n        setTransporte(event.target.value);\n    };\n\n    const isStepOptional = (step) => {\n        return step === 1;\n    };\n\n    const isStepSkipped = (step) => {\n        return skipped.has(step);\n    };\n\n    const handleNext = () => {\n        /* if(conceptoTraspaso === null ) {setAlert({message:'No es posible continuar sin seleccionar un concepto.', status: 'error', open: true });  return}\n        if( isAlmacenOrigen && almacenOrigen === null)  {setAlert({message:'No es posible continuar sin seleccionar un almacn origen.', status: 'error', open: true });  return }   \n        if(isAlmacenDestino && almacenDestino === null) { setAlert({message:'No es posible continuar sin seleccionar un almacn destino.', status: 'error', open: true }); return}    */\n        \n        let newSkipped = skipped;\n        if (isStepSkipped(activeStep)) {\n            newSkipped = new Set(newSkipped.values());\n            newSkipped.delete(activeStep);\n        }\n\n        setActiveStep((prevActiveStep) => prevActiveStep + 1);\n        setSkipped(newSkipped);\n        \n    };\n\n    const handleBack = () => {\n        \n        setActiveStep((prevActiveStep) => prevActiveStep - 1);\n    };\n\n    /* const handleSkip = () => {\n        if (!isStepOptional(activeStep)) {\n        // You probably want to guard against something like this,\n        // it should never occur unless someone's actively trying to break something.\n        throw new Error(\"You can't skip a step that isn't optional.\");\n        }\n\n        setActiveStep((prevActiveStep) => prevActiveStep + 1);\n        setSkipped((prevSkipped) => {\n        const newSkipped = new Set(prevSkipped.values());\n        newSkipped.add(activeStep);\n        return newSkipped;\n        });\n    };\n\n    const handleReset = () => {\n        setActiveStep(0);\n    }; */\n\n\n   /*  if(categoriasQuery.data){\n\t\tcategorias = categoriasQuery.data.obtenerCategorias;\n\t}  */\n   \n    if(dataConceptos.data){\n\t\tconceptos = dataConceptos.data.obtenerConceptosAlmacen;\n\t}\n\n    if(queryObtenerAlmacenes.data){\n        almacenes = queryObtenerAlmacenes.data.obtenerAlmacenes;\n       \n    }\n\n   \n   \n   /*  const filtrarProductos = (event) => {\n        event.preventDefault();\n        if(almacenOrigen !== ''){\n            productosQuery.refetch();\n        }else{\n            productosEmpresaQuery.refetch();\n        }\n    }; */\n\n    const handleModal = () => {\n        setOpenEnd(!openEnd)\n    }\n\n    const traspasar = async () => {\n        try {\n          \n            if(productosTras.length){\n               setOpenEnd(false)\n               setLoading(true)\n                //let productTrasTo = productosTras;\n             const input =  {\n                variables: {\n                    input: {\n                        concepto_traspaso: {\n                            _id: conceptoTraspaso._id, \n                            nombre_concepto: conceptoTraspaso.nombre_concepto,\n                            destino: conceptoTraspaso.destino,\n                            origen: conceptoTraspaso.origen,\n                            editable: conceptoTraspaso.editable,\n                        },\n                        almacen_origen: (almacenOrigen !== null) ? almacenOrigen._id : '',\n                        almacen_destino: (almacenDestino !== null) ? almacenDestino._id : '',\n                        productos: productosTras,\n                        datos_transporte :{\n                            transporte: transporte,\n                            placas: placas,\n                            nombre_encargado: nombreQuien\n                        },\n                        sucursalOrigen: sesion.sucursal._id,\n                        sucursalDestino: sesion.sucursal._id,\n                        fecha_registro: moment().locale(\"es-mx\").format()\n                    },\n                    usuario: sesion._id,\n                    empresa: sesion.empresa._id\n                }\n            }  \n          \n             const traspaso =    await CrearTraspaso(input) \n           \n                //console.log(traspaso)\n                setAlert({message: traspaso.data.crearTraspaso.message, status: traspaso.data.crearTraspaso.resp, open: true })\n                if(traspaso.data.crearTraspaso.resp !== 'error'){\n                    setProductosTras([]);\n                    setAlmacenOrigen(null);\n                    setAlmacenDestino(null);\n                    setConceptoTraspaso(null);\n                    handleBack();\n                }\n                \n            }else{\n                \n                setAlert({message:'No es posible realizar un traspaso sin agregar productos.', status: 'error', open: true })\n           \n            }\n            \n           \n           \n            setLoading(false);\n        } catch (error) {\n             setLoading(false);\n             setOpenEnd(false)\n           if(error.networkError !== undefined){\n\t\t\t  console.log('traspaso networkError', error.networkError)\n            }else if(error.graphQLErrors!== undefined){\n                console.log('traspaso graphQLErrors', error.graphQLErrors)\n            }else{\n             \n              \n            }\n             setAlert({message: 'Ocurri un error al realizar el traspaso...', status: 'error', open: true })\n        }\n    }\n\n   \n\n    return (\n        <>\n        <Box sx={{ width: '100%' }}>\n            <Button fullWidth onClick={handleClickOpen}>\n                <Box display=\"flex\" flexDirection=\"column\">\n                    <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n                        <FcAdvance className={classes.icon} />\n\t\t\t\t\t</Box>\n                    <Grid container spacing={10} justify=\"center\" >\n                        <Grid item lg={2} >\n                            <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n                                    <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n                                        <img src={almacenIcon} alt=\"icono almacen\" className={classes.imagen}/>\n                                    </Box>\n                            </Box>\n                        </Grid>\n                        <Grid item lg={2} >\n                            <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n                                <Box display=\"flex\" flexDirection=\"column\">\n                                    <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n                                        <img src={almacenIcon} alt=\"icono almacen\" className={classes.imagen} />\n                                    </Box>\n                                </Box>\n                            </Box>\n                        </Grid>\n                    </Grid>\n                    Traspasos\n                </Box>\n\t\t\t\t\t\n\t\t\t</Button>\n\t\t\t<Dialog fullScreen open={open} onClose={handleClose} TransitionComponent={Transition}>\n                <BackdropComponent loading={loading} setLoading={setLoading} />\n                <AppBar className={classes.appBar}>\n               \n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t<Typography variant=\"h6\" className={classes.title}>\n                                Traspasos\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Box mx={3}>\n                            <Box m={1}>\n                                <Button  variant=\"contained\" color=\"secondary\"onClick={handleClose}>\n                                    <Close style={{ fontSize: 30}}/>\n                                </Button>\n                            </Box>\n                        </Box>\n                        <IconButton edge=\"start\" color=\"inherit\" onClick={handleClose} aria-label=\"close\">\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</AppBar>\n                <Box style={{ width: '50%',alignSelf:'center' }}>\n                  \n                    <Stepper activeStep={activeStep}>\n                        {steps.map((label, index) => {\n                        const stepProps = {};\n                        const labelProps = {};\n                    \n                        if (isStepSkipped(index)) {\n                            stepProps.completed = false;\n                        }\n                        return (\n                            <Step key={label} {...stepProps}>\n                            <StepLabel {...labelProps}>{label}</StepLabel>\n                            </Step>\n                        );\n                        })}\n                    </Stepper>\n                </Box>\n                <Box >\n                {\n                (activeStep === 0) ? \n                    <Grid container  justify=\"center\" >\n                        <Grid item lg={6}>\n                            <Box>\n                                <Box >\n                                    <Typography className={classes.subtitle}  >\n                                        <b>Datos traspaso</b>\n                                    </Typography>\n                                    <Divider />\n                                \n                                    <Box mt={2} style={{display: 'flex', width:'100%', justifyContent: 'center'}}>\n                                        <Box m={3}>\n                                            <Typography><b>Usuario</b></Typography>\n                                            <Typography> {sesion.nombre} </Typography>\n                                        </Box>\n                                        <Box m={3}>\n                                            <Typography><b>Sucursal</b></Typography>\n                                            <Typography> {sesion.sucursal.nombre_sucursal} </Typography>\n                                        </Box>\n                                        <Box m={3}>\n                                            <Typography><b>Fecha</b></Typography>\n                                            <Typography> \t{moment().format('MM/DD/YYYY')} </Typography>\n                                        </Box>\n                                    \n                                    </Box>\n                                    <Box m={2}   style={{width:'100%', justifyContent: 'center'}}>\n                                        <Box style={{width:'100%'}}>\n                                            <FormControl className={classes.formControl}>\n                                                <InputLabel id=\"concepto-label\">Concepto traspaso</InputLabel>\n                                                <Select\n                                                labelId=\"concepto-label\"\n                                                id=\"concepto-name\"\n                                                value={(conceptoTraspaso) ? conceptoTraspaso : \"\"}\n                                                onChange={handleChangeConcepto}\n                                                input={<Input />}\n                                                MenuProps={MenuProps}\n                                                >\n                                                {conceptos.map((concepto) => {\n                                                \n                                                    return(\n                                                    <MenuItem key={concepto._id} value={concepto} >\n                                                        {concepto.nombre_concepto}\n                                                    </MenuItem>\n                                                    )})\n                                                }\n                                                </Select>\n                                            </FormControl>\n                                        </Box>\n                                    {\n                                        (conceptoTraspaso !== null) ? \n                                        <Box style={{display: 'flex'}}>\n                                            {   \n                                                \n                                                (isAlmacenOrigen) ?\n                                                <Box> \n                                                    <FormControl className={classes.formControl}>\n                                                        <InputLabel id=\"almacen-origen-label\">Almacn origen</InputLabel>\n                                                        <Select\n                                                        labelId=\"almacen-origen-label\"\n                                                        id=\"almacen-origen-name\"\n                                                        value={(almacenOrigen) ? almacenOrigen : \"\"}\n                                                        onChange={handleChange}\n                                                        input={<Input />}\n                                                        MenuProps={MenuProps}\n                                                        >\n                                                        {almacenes.map((almacen) => (\n                                                            <MenuItem key={almacen._id} value={almacen}>\n                                                                {almacen.nombre_almacen}\n                                                            </MenuItem>\n                                                        ))}\n                                                        </Select>\n                                                    </FormControl>\n                                                </Box>\n                                                :\n                                                <></>\n                                            }\n                                            \n                                            {\n                                                (isAlmacenDestino) ? \n                                                <FormControl className={classes.formControl}>\n                                                    <InputLabel id=\"almacen-destino-label\">Almacn destino</InputLabel>\n                                                    <Select\n                                                    labelId=\"almacen-destino-label\"\n                                                    id=\"almacen-destino-name\"\n                                                    value={(almacenDestino) ? almacenDestino : \"\"}\n\n                                                    onChange={handleChangeDestino}\n                                                    input={<Input />}\n                                                    MenuProps={MenuProps}\n                                                    >\n                                                    {almacenesDestino.map((almacen) => (\n                                                        <MenuItem key={almacen._id} value={almacen} >\n                                                        {almacen.nombre_almacen}\n                                                        </MenuItem>\n                                                    ))}\n                                                    </Select>\n                                                </FormControl>\n\n                                                :\n                                                <></>\n                                            }\n                                           \n                                        </Box> \n                                        :\n                                        <></>\n                                        \n                                    } \n                                    \n                                    </Box>   \n                                </Box>      \n                                <Box className={classes.centerControl}   style={{width:'100%'}} >\n                                    <Typography className={classes.subtitle}>\n                                        <b>Datos transporte traspaso</b>\n                                    </Typography>\n                                    <Divider />\n                                \n                                    <Grid  justify=\"center\" >\n                                        \n                                        <FormControl className={classes.formControl} style={{marginTop:15}}>\n                                            \n                                            <InputLabel id=\"transporte-label\">Transporte</InputLabel>\n                                            <Select\n                                            labelId=\"transporte-label\"\n                                            id=\"transporte-name\"\n                                            value={transporte}\n                                            onChange={handleChangeTransporte}\n                                            input={<Input />}\n                                            \n                                            MenuProps={MenuProps}\n                                            >\n                                            {transportes.map((trans) => (\n                                                <MenuItem key={trans} value={trans} style={getStyles(trans, transporte, theme)}>\n                                                {trans}\n                                                </MenuItem>\n                                            ))}\n                                            </Select>\n                                            \n                                        </FormControl>\n                                        <Box  justify=\"center\" >\n                                        <FormControl className={classes.formControl}>\n                                        \n                                            <Typography>\n                                                Placas\n                                            </Typography>\n                                            <TextField\n                                                fullWidth\n                                                className={classes.input}\n                                                type=\"text\"\n                                                size=\"small\"\n                                                name=\"placas\"\n                                                variant=\"outlined\"\n                                                value={placas.toUpperCase()}\n                                                \n                                                onChange={(e) => setPlacas(e.target.value)}\n                                            />\n                                        \n                                        </FormControl>\n                                        <FormControl className={classes.formControl}>\n                                        \n                                            <Typography>\n                                                Nombre de encargado de transporte\n                                            </Typography>\n                                            <TextField\n                                                fullWidth\n                                                className={classes.input}\n                                                type=\"text\"\n                                                size=\"small\"\n                                                name=\"nombreQuien\"\n                                                variant=\"outlined\"\n                                                value={nombreQuien}\n                                                \n                                                onChange={(e) => setNombreQuien(e.target.value)}\n                                            />\n                                        </FormControl>\n                                        </Box>\n                                    </Grid>\n                                </Box>\n                            </Box>\n                        </Grid>\n                    </Grid>\n                :\n                    <Box>\n                        <Box style={{width:'100%'}} ml={1} >\n                            <Typography className={classes.subtitle}>\n                                <b>Buscar producto</b>\n                            </Typography>\n                            <Box style={{ width: \"500px\" }}>\n                                \n                                    <FormControl variant=\"outlined\" fullWidth size=\"small\">\n                                    <OutlinedInput\n                                        id=\"search-producto\"\n                                        type=\"text\"\n                                        value={filtro}\n                                        onChange={(e) => setFiltro(e.target.value)}\n                                        endAdornment={\n                                        <InputAdornment position=\"start\">\n                                            <IconButton\n                                            type=\"submit\"\n                                            aria-label=\"search producto\"\n                                            edge=\"end\"\n                                            >\n                                            <Search />\n                                            </IconButton>\n                                        </InputAdornment>\n                                        }\n                                    />\n                                    </FormControl>\n                                    \n                                \n                            </Box>\n                    \n                            <Box  mt={2}>\n                                <Grid container spacing={2} style={{width:'100%'}}>\n                                    <Grid item md={6}>\n                                    {\n                                        (isAlmacenOrigen) ? \n                                    \n                                        <TableSelectProducts title='Productos' add={true} almacenOrigen={almacenOrigen} />\n                                        :\n                                        <TableSelectProducts title='Productos' add={true} almacenOrigen={null} />   \n                                    }\n                                    </Grid>\n                                    <Grid item md={6}>\n                                        <TableSelectProducts title='Productos a traspasar' add={false} almacenOrigen={almacenOrigen}  />\n                                    </Grid>\n                                </Grid>\n                            </Box>\n                        </Box>\n                    </Box>\n                }\n                \n                \n                <Box style={{ display: 'flex', flexDirection: 'row', pt: 2 }} >\n                            <Button\n                            color=\"inherit\"\n                            disabled={activeStep === 0}\n                            onClick={handleBack}\n                            sx={{ mr: 1 }}\n                            >\n                            Atrs\n                            </Button>\n                            <Box style={{ flex: '1 1 auto' }} />\n                            {/*     {isStepOptional(activeStep) && (\n                                <Button color=\"inherit\" onClick={handleSkip} sx={{ mr: 1 }}>\n                                    Skip\n                                </Button>\n                                )} */}\n                            \n                                <Button disabled={!haveConcepto} onClick={() => (activeStep < steps.length -1) ? handleNext() : handleModal()}>\n                                    {activeStep < steps.length -1   ? 'Siguiente' : 'Terminar'}\n                                </Button>\n                        \n                        </Box>\n                </Box>\n                <Dialog open={openEnd} onClose={handleModal}>\n                    <DialogTitle>{'Est seguro de realizar este traspaso?'}</DialogTitle>\n                    <DialogActions>\n                        <Button onClick={() => handleModal()} color=\"primary\">\n                            Cancelar\n                        </Button>\n                        <Button color=\"secondary\" autoFocus variant=\"contained\" onClick={() => traspasar()}>\n                            Traspasar\n                        </Button>\n                    </DialogActions>\n                </Dialog>\n               \n\t        <SnackBarMessages alert={alert} setAlert={setAlert} />  \n            \n\t\t\t</Dialog>\n            \n               \n        </Box>\n        </>\n    )\n}","import React, { Fragment } from 'react';\nimport DescriptionOutlinedIcon from '@material-ui/icons/DescriptionOutlined';\n\nimport ReactExport from 'react-export-excel'; //LIBRERIA EXCEL\nimport { withRouter } from 'react-router-dom';\nimport { Grid, Button } from '@material-ui/core';\nconst ExcelFile = ReactExport.ExcelFile; //ARCHIVO DE EXCEL\nconst ExcelSheet = ReactExport.ExcelSheet; //HOJA DE EXCEL\nconst ExcelColumn = ReactExport.ExcelColumn; //COLUMNA DE EXCEL\n\n//Este componente requiere el ArrayData, ArrayColumn, fileName\nfunction ExportarExcel(props) {\n\treturn (\n\t\t<Fragment>\n            <Grid>\n                <Grid item>\n                <ExcelFile\n\t\t\t\t\telement={\n\t\t\t\t\t\t<Button size=\"large\" color=\"primary\" variant=\"contained\" startIcon={<DescriptionOutlinedIcon />}>\n\t\t\t\t\t\t\tExportar Excel\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t}\n\t\t\t\t\tfilename={props.fileName}\n\t\t\t\t>\n\t\t\t\t\t<ExcelSheet data={props.data} name={props.fileName}>\n                        {props.columnName.map((element) => {\n                            return(\n                                <ExcelColumn label={element.label} value={element.id} />\n                            )\n                        }\n                        )}\n\t\t\t\t\t\n\t\t\t\t\t</ExcelSheet>\n\t\t\t\t</ExcelFile>\n                </Grid>\n            </Grid>\n\t\t</Fragment>\n\t);\n}\n\nexport default withRouter(ExportarExcel);","import React, {useEffect} from 'react';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Box, CircularProgress } from '@material-ui/core/';\nimport Paper from '@material-ui/core/Paper';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TablePagination from '@material-ui/core/TablePagination';\nimport TableRow from '@material-ui/core/TableRow';\nimport ErrorPage from '../../../../components/ErrorPage'\nimport ExportarExcel from '../../../../components/ExportExcel'\nimport { useQuery } from '@apollo/client';\nimport { OBTENER_ALMACENES } from '../../../../gql/Almacenes/Almacen';\n\nconst useStyles = makeStyles({\n\troot: {\n\t\twidth: '100%'\n\t},\n\tcontainer: {\n\t\t\n\t\tmaxHeight: '60vh'\n\t}\n});\n\nexport default function ListaAlmacenes(props) {\n\tconst classes = useStyles();\n\t\n\tconst [ page, setPage ] = React.useState(0);\n\tconst [ rowsPerPage, setRowsPerPage ] = React.useState(10);\n\tconst sesion = JSON.parse(localStorage.getItem('sesionCafi'));\t\n\t// const almacenesColumnas = [];\n\t// const productosRows = [];\n\t\t/* Queries */\n\tconst { loading, error, refetch } = useQuery(OBTENER_ALMACENES,{\n\t\tvariables: {\n\t\t\tid: sesion.sucursal._id\n\t\t}\n\t});\t\n    const dataExcel = [];\n\tconst columns = [\n\t\t{ id: 'codigo_barras', label: 'Cdigo de barras', minWidth: 60 , widthPx: 160, },\n\t\t//{ id: 'claveAlt', label: 'Clave alterna', minWidth: 100 },\n\t\t//{ id: 'tipoProd', label: 'Tipo producto', minWidth: 100 },\n\t\t{ id: 'nombre_comercial', label: 'Nombre comercial', minWidth: 170, widthPx: 160, },\n\t\t//{ id: 'nombregen', label: 'Nombre gnerico', minWidth: 170 },\n\t\t//{ id: 'categoria', label: 'Categora', minWidth: 100 },\n\t\t//{ id: 'subCategoria', label: 'Sub Categora', minWidth: 100 },\n\t\t//{ id: 'marca', label: 'Marca', minWidth: 100 },\n\t\t//{ id: 'recetaFarm', label: 'Receta farmacia ', minWidth: 100 }\n\t];\n\n\tuseEffect(\n\t\t() => {\n\t\t\trefetch();\n\t\t},\n\t\t[ refetch ]\n\t);\n\t\n\tif(props.obtenerAlmacenes){\n\t\t// let existencias= []; \n\t\tprops.obtenerAlmacenes.forEach(element => {\n\t\t\tcolumns.push({ id: element._id, label: element.nombre_almacen, minWidth: 60, widthPx: 160,})\n\t\t\t\n\t\t}); \n\t\tcolumns.push({ id: 'total', label: 'Total existencias', minWidth: 60, widthPx: 160,})\n\t}\n\t\n\tconst Rowrow = ({producto}) => {\n\t\t\n\t\tlet arrayCantidades=[];\n\t\tlet row={'codigo_barras' : producto.datos_generales.codigo_barras, \"nombre_comercial\":producto.datos_generales.nombre_comercial, style: {\n                     font: { sz: '12' },\n                     alignment: { wrapText: true, horizontal: 'center', vertical: 'top' },\n                     border: { bottom: { style: 'thin', color: { rgb: '000000' } } \n                    }}};\n\t\tlet total=0;\n\t    let unidad_minima = '';\n\t\tlet cantidad = 0;\n\t\tprops.obtenerAlmacenes.forEach((almacenColumna) => {\n\t\t\tconst existencias =\tproducto.existencia_almacenes.filter((existencia) => existencia._id.almacen._id === almacenColumna._id)\n\n\t\t\tif(existencias.length > 0){\n\t\t\t\tarrayCantidades.push(existencias[0].cantidad_existente )\n\t\t\t\tunidad_minima = (existencias[0].unidad_inventario !== null) ? existencias[0].unidad_inventario: 'pz';\n\t\t\t\trow = {...row, [almacenColumna._id]: existencias[0].cantidad_existente + \" \" + unidad_minima };\n\t\t\t\ttotal += existencias[0].cantidad_existente;\n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t\telse{\n\t\t\t\tarrayCantidades.push(0);\n\t\t\t\trow = {...row, [almacenColumna._id]:0   };\t\n\t\t\t}\n\t\t});\t \n\t\trow = {...row, total:total + \" \" + unidad_minima };\t\n\t\t\n\t\tdataExcel.push(row)\n\t\treturn(\n\t\t\t<TableRow hover role=\"checkbox\" tabIndex={-1} key={producto._id} >\n\t\t\t\t<TableCell style={{minWidth:60}} >{producto.datos_generales.codigo_barras}</TableCell>\n\t\t\t\t\t\t\n\t\t\t\n\t\t\t\t<TableCell style={{minWidth:170}} >{producto.datos_generales.nombre_comercial}</TableCell>\n\t\t\t\n\t\t\t\n\t\t\t\t{/* <TableCell style={{textAlign: 'center',}} >{(producto.datos_generales.receta_farmacia) ? \"SI\" : \"NO\"}</TableCell> */}\n\t\t\t\t{ \n\t\t\t\t\tarrayCantidades.map((cantidad, index) => {\n\t\t\t\t\t\treturn(<TableCell key={index} style={{backgroundColor:'rgba(255, 253, 150, 0.1)', color:'black',fontSize:17, textAlign:'center',minWidth:60 }}>{cantidad + \" \" + unidad_minima}</TableCell>)\t\n\t\t\t\t\t})\t\n\t\t\t\t}\n\t\t\t\t<TableCell  style={{backgroundColor:'rgba(255, 253, 150, 0.1)', color:'black', fontSize:18,fontWeight:'bold', textAlign:'center' ,minWidth:60}}>{total + \" \" + unidad_minima }</TableCell>\n\t\t\t\t\n\t\t\t</TableRow>\n\t\t)\n\t}\n\tconst handleChangePage = (event, newPage) => {\n\t\tsetPage(newPage);\n\t};\n\n\tconst handleChangeRowsPerPage = (event) => {\n\t\tsetRowsPerPage(+event.target.value);\n\t\tsetPage(0);\n\t};\n\n\tif (loading)\n\treturn (\n\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" height=\"30vh\">\n\t\t\t<CircularProgress />\n\t\t</Box>\n\t);\n\tif (error) {\n\t\tconsole.log(error)\n\t\treturn <ErrorPage error={error} />;\n\t}\n\n\t\n\treturn (\n\t\t<div>\n\t\t<Paper className={classes.root}>\n\t\t\t<TableContainer className={classes.container}>\n\t\t\t\t<Table stickyHeader size={'small'} aria-label=\"a dense table\">\n\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t{columns.map((column, index) => (\n\t\t\t\t\t\t\t\t<TableCell key={column.id} align={column.align} style={{textAlign:(index > 1)? 'center': 'left', minWidth: column.minWidth, width: column.minWidth}}>\n\t\t\t\t\t\t\t\t\t{column.label}\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t))}\t\n\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t</TableHead>\n\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t{props.productos.map((row, index) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<Rowrow producto={row} key={index} />\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t\t</TableBody>\n\t\t\t\t</Table>\n\t\t\t</TableContainer>\n\t\t\t{/* <TablePagination\n\t\t\t\trowsPerPageOptions={[ 10, 25, 100 ]}\n\t\t\t\tcomponent=\"div\"\n\t\t\t\tcount={props.productos.length}\n\t\t\t\trowsPerPage={rowsPerPage}\n\t\t\t\tpage={page}\n\t\t\t\tonChangePage={handleChangePage}\n\t\t\t\tonChangeRowsPerPage={handleChangeRowsPerPage}\n\t\t\t\tlabelRowsPerPage={\"Renglones por pgina\"}\n\t\t\t/> */}\n\t\t\t\n\t\t</Paper>\n\t\t{(props.productos.length > 0) ?\n\t\t\t<Box m={2} alignContent=\"flex-end\">\n\t\t\t\t<ExportarExcel fileName=\"Inventarios almacen\" data={dataExcel} columnName={columns} />\n\t\t\t</Box>\n\t\t\t:\n\t\t\t<div/>\n\t\t}\n\t\t</div>\n\t);\n}\n","import React, { forwardRef } from 'react';\nimport { AppBar, Toolbar, Typography, IconButton, Select,useTheme,FormControl,\nSlide, Button, Box, Dialog,Input, TextField, Grid, InputLabel, MenuItem,CircularProgress} from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useQuery } from '@apollo/client';\nimport {Close} from '@material-ui/icons';\nimport ListaProductos from './ListaProductos'\nimport ErrorPage from '../../../../components/ErrorPage'\nimport { useDebounce } from 'use-debounce';\nimport { OBTENER_PRODUCTOS_ALMACEN, OBTENER_CATEGORIAS,OBTENER_ALMACENES } from '../../../../gql/Almacenes/Almacen';\n\nconst useStyles = makeStyles((theme) => ({\n\tappBar: {\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n\tboxControl: {\n        margin: theme.spacing(2.5),\n\t\tmarginTop: 0,\n        minWidth: \"20%\",\n        maxWidth: \"20%\",\n    },\n    icon: {\n\t\tfontSize: 100\n\t},\n\timagen: {\n\t\twidth: 100\n\t},\n\tinputBox:{\n\t\tmargin:20\n\t},\n\tbutton:{\n\t\tmargin: theme.spacing(3),\n\t}\n}));\n\nconst Transition = forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nconst ITEM_HEIGHT = 200;\nconst ITEM_PADDING_TOP = 8;\nconst MenuProps = {\n  PaperProps: {\n    style: {\n      maxHeight: ITEM_HEIGHT * 4.5 + ITEM_PADDING_TOP,\n      width: 400,\n    },\n  },\n};\nfunction getStyles(tipo, tipoName, theme) {\n  return {\n    fontWeight:\n      tipoName.indexOf(tipo) === -1\n        ? theme.typography.fontWeightRegular\n        : theme.typography.fontWeightMedium,\n  };\n}\nexport default function InventariosPorAlmacen() {\n    const classes = useStyles();\n\tconst theme = useTheme();\n\tconst [ open, setOpen ] = React.useState(false);\n\n\n\n\tconst handleClickOpen = () => {\n\t\tsetOpen(true);\n\t};\n\n\tconst handleClose = () => {\n\t\tsetOpen(false);\n\t};\n\t\n\t\n\n    return (\n        <div>\n            <Button fullWidth onClick={handleClickOpen}>\n\t\t\t\t<Box display=\"flex\" flexDirection=\"column\">\n\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t<img src={'https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/conceptosAlmacen.svg'} alt=\"icono almacen\" className={classes.imagen}/>\n\t\t\t\t\t</Box>\n\t\t\t\t\tInventario por almacen\n\t\t\t\t</Box>\n\t\t\t</Button>\n\t\t\t<InventarioPorAlmacen open={open} handleClose={handleClose} />\n        </div>\n    )\n}\n\nconst InventarioPorAlmacen = (props) =>{\n\tconst classes = useStyles();\n\tconst theme = useTheme();\n\tconst [ loading, setLoading ] = React.useState(true);\n\t  \n\tconst [ filtro, setFiltro ] = React.useState({  codigo_barras: '',clave_alterna: '',tipo_producto: '',nombre_comercial: '',\n        nombre_generico: '',categoria: '',subcategoria: ''});\n\t\t\n\tconst [ filtroTo, setFiltroTo ] = React.useState({});\n\n\t// const [ almacen, setAlmacen ] = React.useState('');\n\tconst [ categoria ] = React.useState('');\n\tconst [ subcategoria ] = React.useState('');\n\tconst [ categoriaTo, setCategoriaTo ] = React.useState('');\n\tconst [ subcategoriaTo, setSubCategoriaTo ] = React.useState('');\n\tconst [ subcategorias, setSubcategorias ] = React.useState([]);\n\tconst [value] = useDebounce(filtro, 1000);\n\tconst sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\n\tlet productos = [];\n\t// let tipos = ['ROPA','CALZADO','OTROS'];\n\tlet categorias = [];\n\t\n\tlet obtenerAlmacenes = [];\n\t \t/* Queries */\n\t//const {  data, error, refetch } = useQuery(OBTENER_PRODUCTOS_ALMACEN,{\n    const productosAlmacenQuery = useQuery(OBTENER_PRODUCTOS_ALMACEN,{\n\t\tvariables: {\n            empresa: sesion.empresa._id,\n\t\t\tsucursal: sesion.sucursal._id,\n\t\t\tfiltro: value\n\t\t}\n\t});\t\n\n\tconst categoriasQuery = useQuery(OBTENER_CATEGORIAS,{\n\t\tvariables: {\n            empresa: sesion.empresa._id,\n\t\t\tsucursal: sesion.sucursal._id,\t\n\t\t}\n\t});\n\t\n\tconst queryObtenerAlmacenes = useQuery(OBTENER_ALMACENES,{\n\t\tvariables: {\n\t\t\tid: sesion.sucursal._id\n\t\t}\n\t});\t\n\tReact.useEffect(\n\t\t() => {\n\n\t\t\tsetFiltroTo(value)\n\t\t},\n\t\t[ value ]\n\t);\n\n\tReact.useEffect(\n\t\t() => {\n\t\t\n\t\t\tproductosAlmacenQuery.refetch();\n\t\t},\n\t\t[ filtroTo ]\n\t);\n\tReact.useEffect(\n\t\t() => {\n\t\t\tqueryObtenerAlmacenes.refetch();\n\t\t},\n\t\t[ queryObtenerAlmacenes.update, queryObtenerAlmacenes ]\n\t);\n\n\tReact.useEffect(\n\t\t() => {\n\t\t\n\t\t\tproductosAlmacenQuery.refetch();\n\t\t\tsetLoading(false);\n\t\t},\n\t\t[ ]\n\t);\n\tReact.useEffect(\n\t\t() => {\n\t\t\n\t\t},\n\t\t[ productosAlmacenQuery.error]\n\t);\n\tReact.useEffect(\n\t\t() => {\n\t\t\n\t\t\tcategoriasQuery.refetch();\n\t\t\t\n\t\t},\n\t\t[ categoriasQuery.refetch ]\n\t); \n\n\n\tif(productosAlmacenQuery.data){\n\t\t\n\t\tproductos = productosAlmacenQuery.data.obtenerProductosAlmacenes;\n\t}\n\tif(categoriasQuery.data){\n\t\tcategorias = categoriasQuery.data.obtenerCategorias;\n\t}\n\t\n\tif(queryObtenerAlmacenes.data){\n\t\tobtenerAlmacenes = queryObtenerAlmacenes.data.obtenerAlmacenes;\n\t}\n\t\n\t const setValToFilter = (label,value) => {\n\t\ttry {\n\t\t\tsetLoading(true);\n\t\t\n\t\t\tif(label === 'categoria' && value !== ''){\n\t\t\t\tconst cat = categorias.find(element => element.categoria === value);\n\t\t\t\tsetSubcategorias(cat.subcategorias)\n\t\t\t}\n\n\t\t\tif(label === 'categoria' ){\n\t\t\t\t\n\t\t\t\tlet fil = {...filtro, subcategoria : subcategoriaTo, categoria:value}\n\t\t\t\n\t\t\t\tproductosAlmacenQuery.refetch(\n\t\t\t\t\t{\n\t\t\t\t\t\tfiltro: fil\n\t\t\t\t\t}\n\t\t\t\t)\n\t\t\t\tsetCategoriaTo((value !== '') ? value : '')\n\t\t\t\tsetSubCategoriaTo('');\n\t\t\t} \n\t\t\tif(label === 'subcategoria'&& value !== '' ){\n\t\t\t\n\t\t\t\tproductosAlmacenQuery.refetch(\n\t\t\t\t\t{\n\t\t\t\t\t\tfiltro: {...filtro, subcategoria : value, categoria:categoriaTo}\n\t\t\t\t\t}\n\t\t\t\t)\n\t\t\t\tsetSubCategoriaTo((value !== '') ? value : '')\n\t\t\t}\n\t\t\tif(label !== 'categoria' && label !== 'subcategoria' ){\n\t\t\t\tsetFiltro({...filtro, [label] : value, subcategoria : subcategoriaTo, categoria:categoriaTo});\n\t\t\t}\n\t\t\t//setLoading(false)\t\n\t\t} catch (error) {\n\t\t\t\n\t\t}\n    };\n\treturn(\n\t\t<Dialog fullScreen open={props.open} onClose={props.handleClose} TransitionComponent={Transition}>\n\t\t\t\t<AppBar className={classes.appBar}>\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t<Typography variant=\"h6\" className={classes.title}>\n                                Almacenes\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Box mx={3}>\n\t\t\t\t\t\t\t<Box m={1}>\n\t\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"secondary\" onClick={props.handleClose} size=\"large\">\n\t\t\t\t\t\t\t\t\t<Close style={{ fontSize: 30}}/>\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</Box>\n                        </Box>\n                        <IconButton edge=\"start\" color=\"inherit\" onClick={props.handleClose} aria-label=\"close\">\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</AppBar>\n\t\t\t\t<Grid container direction=\"row\">\n                        <Box width=\"20%\" className={classes.inputBox} >\n                            <Typography>Cdigo de barras</Typography>\n                            <Box display=\"flex\">\n                                <TextField\n                                    fullWidth\n                                    size=\"small\"\n                                    /* error */\n                                    name=\"codigo_barras\"\n                                    id=\"form-producto-codigo-barras\"\n                                    variant=\"outlined\"\n                                    /* helperText=\"Incorrect entry.\" */\n                                    onChange={(e) =>  setValToFilter('codigo_barras', e.target.value)}\n                                />\n                            </Box>\n                        </Box>\n                        <Box width=\"20%\" className={classes.inputBox} >\n                            <Typography>Clave alterna</Typography>\n                            <Box display=\"flex\">\n                                <TextField\n                                    fullWidth\n                                    size=\"small\"\n                                    /* error */\n                                    name=\"clave_alterna\"\n                                    id=\"form-producto-clave-alterna\"\n                                    variant=\"outlined\"\n                                    /* helperText=\"Incorrect entry.\" */\n\t\t\t\t\t\t\t\t\tonChange={(e) =>  setValToFilter('clave_alterna', e.target.value)}\n                                />\n                            </Box>\n                        </Box>\n                        \n                        <Box width=\"20%\" className={classes.inputBox} >\n                            <Typography>Nombre comercial</Typography>\n                            <Box display=\"flex\">\n                                <TextField\n                                    fullWidth\n                                    size=\"small\"\n                                    /* error */\n                                    name=\"clave_alterna\"\n                                    id=\"form-producto-clave-alterna\"\n                                    variant=\"outlined\"\n                                    /* helperText=\"Incorrect entry.\" */\n\t\t\t\t\t\t\t\t\tonChange={(e) =>  setValToFilter('nombre_comercial', e.target.value)}\n                                />\n                            </Box>\n                        </Box>\n                        <Box width=\"20%\" className={classes.inputBox} >\n                            <Typography>Nombre gnerico</Typography>\n                            <Box display=\"flex\">\n                                <TextField\n                                    fullWidth\n                                    size=\"small\"\n                                    /* error */\n                                    name=\"nombre_generico\"\n                                    id=\"form-producto-nombre-generico\"\n                                    variant=\"outlined\"\n                                    /* helperText=\"Incorrect entry.\" */\n\t\t\t\t\t\t\t\t\tonChange={(e) =>  setValToFilter('nombre_generico', e.target.value)}\n                                />\n                            </Box>\n                        </Box>\n                        <FormControl className={classes.boxControl} >\n                        \n                            <InputLabel id=\"tipo-label\"  >Tipo</InputLabel>\n                            <Select\n                            labelId=\"tipo-label\"\n                            id=\"tipo_producto\"\n                            value={filtro.tipo_producto}\n                            onChange={(e) => setValToFilter('tipo_producto', e.target.value )}\n                            input={<Input />}\n                            MenuProps={MenuProps}\n                            >\n                                <MenuItem value=\"\">\n                                    <em>Selecciona uno</em>\n                                </MenuItem>\n                                <MenuItem value=\"ROPA\">Ropa</MenuItem>\n                                <MenuItem value=\"CALZADO\">Calzado</MenuItem>\n                                <MenuItem value=\"OTROS\">Otros</MenuItem>\n                            </Select>\n                            \n                        </FormControl>\n                        <FormControl className={classes.boxControl} >\n                        \n                            <InputLabel id=\"categoria-label\"  >Categora</InputLabel>\n                            <Select\n                            labelId=\"categoria-label\"\n                            id=\"categoria\"\n                            value={categoriaTo}\n                            onChange={(e) => setValToFilter('categoria', e.target.value )}\n                            input={<Input />}\n                            MenuProps={MenuProps}\n                            >\n\t\t\t\t\t\t\t <MenuItem value=\"\">\n                                <em>Selecciona una</em>\n                            </MenuItem>\n                            {categorias.map((cat) => (\n                                <MenuItem key={cat._id} value={cat.categoria}  style={getStyles(cat._id, categoria, theme)}>\n                                {cat.categoria}\n                                </MenuItem>\n                            ))}\n                            </Select>\n                            \n                        </FormControl>\n\t\t\t\t\t\t<FormControl className={classes.boxControl} >\n                        \n                            <InputLabel id=\"subcategoria-label\"  >Subcategora</InputLabel>\n                            <Select\n                            labelId=\"subcategoria-label\"\n                            id=\"subcategoria\"\n                            value={subcategoriaTo}\n                            onChange={(e) => setValToFilter('subcategoria', e.target.value )}\n                            input={<Input />}\n                            MenuProps={MenuProps}\n                            >\n\t\t\t\t\t\t\t <MenuItem value=\"\">\n                                    <em>Selecciona una</em>\n                                </MenuItem>\n                            {subcategorias.map((subcat) => (\n                                <MenuItem key={subcat._id} value={subcat.subcategoria} style={getStyles(subcat._id, subcategoria, theme)}>\n                                {subcat.subcategoria}\n                                </MenuItem>\n                            ))}\n                            </Select>\n                            \n                        </FormControl>\n                    \n                      {/*   <Button  variant=\"contained\" color=\"primary\" className={classes.button} style={{width:\"20%\"}} >\n                            Buscar producto\n                        </Button> */}\n                    </Grid> \n\n\t\t\t\t{\n\t\t\t\t\t(loading) ?\n\t\t\n\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" height=\"30vh\">\n\t\t\t\t\t\t<CircularProgress />\n\t\t\t\t\t</Box>\n\t\t\t\t\t: \n\t\t\t\t\t\t(productosAlmacenQuery.error || categoriasQuery.error) ?\n\t\t\t\t\t\t\t<ErrorPage error={productosAlmacenQuery.error} />\n\t\t\t\t\t\t:\n\t\t\t\t\t\t<Box mx={5}>\n\t\t\t\t\t\t\t<ListaProductos productos={productos} obtenerAlmacenes={obtenerAlmacenes} />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t</Dialog>\n\t)\n}\n","import React from 'react';\nimport { Container, Grid, Box } from '@material-ui/core';\nimport RegistroAlmacen from './RegistroAlmacen/RegistroAlmacen';\nimport Traspasos from './Traspasos/Traspasos';\nimport InventariosPorAlmacen from './InventarioPorAlmacen/InventariosPorAlmacen';\nimport { TraspasosProvider } from \"../../../context/Almacenes/traspasosAlmacen\";\nexport default function Moviminetos() {\n\n\treturn (\n\t\t<Container>\n\t\t\t<Grid container spacing={3} justify=\"center\" >\n\t\t\t\t<Grid item lg={2} >\n\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t<RegistroAlmacen />\n\t\t\t\t\t</Box>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item lg={2}>\n\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t<TraspasosProvider>\n\t\t\t\t\t\t\t<Traspasos />\n\t\t\t\t\t\t</TraspasosProvider>\n\t\t\t\t\t</Box>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item lg={2} >\n\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t<InventariosPorAlmacen />\n\t\t\t\t\t</Box>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t</Container>\n\t);\n}\n","import React, { useState } from 'react';\nimport 'moment'\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport { Box, Grid, Dialog, DialogContent, Typography, CircularProgress} from '@material-ui/core';\nimport moment from 'moment';\n\nconst columns = [\n\t{ id: 'fecha', label: 'Fecha', minWidth: 100 },\n\t{ id: 'hora', label: 'Hora', minWidth: 100 },\n\t{ id: 'movimiento', label: 'Movimieto', minWidth: 100 },\n\t{ id: 'usuario', label: 'Usuario', minWidth: 100 },\n\t{ id: 'hTurno', label: 'Horario Turno', minWidth: 100 },\t\n\t{ id: 'concepto', label: 'Concepto', minWidth: 100 },\n];\n\nconst useStyles  = makeStyles((theme) => ({\n\troot: {\n\t\twidth: '100%'\n\t},\n\tcontainer: {\n\t\theight: '70%',\n\t},\n    appBar: {\t\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n\trootBusqueda: {\n\t\tdisplay: 'flex',\n\t\tpaddingLeft: theme.spacing(2)\n\t},\n}));\n\n\nexport default function TablaHistorialFiltrado({loading, historial}) {\n\tconst classes = useStyles();\n\t\n\tif (loading)\n\t\treturn (\n\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" height=\"30vh\">\n\t\t\t\t<CircularProgress />\n\t\t\t</Box>\n\t\t);\n\t\t\n\treturn (\n\t\t<>\n\t\t\t<Box p={2}>\n\t\t\t\t<Paper className={classes.root}>\n\t\t\t\t\t<TableContainer className={classes.container}>\n\t\t\t\t\t\t<Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n\t\t\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t\t{columns.map((column) => (\n\t\t\t\t\t\t\t\t\t\t<TableCell key={column.id} align=\"center\" style={{ minWidth: column.minWidth }}>\n\t\t\t\t\t\t\t\t\t\t\t{column.label}\n\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t</TableHead>\n\t\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t\t{historial.map((row) => {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<RowsRender\n\t\t\t\t\t\t\t\t\t\t\tkey={row._id}\n\t\t\t\t\t\t\t\t\t\t\tdatos={row}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t\t</Table>\n\t\t\t\t\t</TableContainer>\n\t\t\t\t</Paper>\n\t\t\t</Box>\n\t\t</>\n\t);\n}\n\n\nfunction RowsRender({datos}) {\n\tconst [open, setOpen] = useState(false);\n\tconst handleClickOpen =()=> setOpen(!open);\n\n\tconst classes = useStyles();\n\tconsole.log(datos)\n\n\treturn(\n\t\t<>\n\t\t\t<TableRow\n\t\t\t\thover\n\t\t\t\trole=\"checkbox\"\n\t\t\t\tonClick={handleClickOpen}\n\t\t\t\ttabIndex={-1}\n\t\t\t>\n\t\t\t\t<TableCell align=\"center\">{moment(datos.fecha_movimiento.completa).format('YYYY-MM-DD')}</TableCell>\n\t\t\t\t<TableCell align=\"center\">{datos.hora_moviento.completa}</TableCell>\n\t\t\t\t<TableCell align=\"center\">{datos.tipo_movimiento}</TableCell>\n\t\t\t\t<TableCell align=\"center\">{datos.nombre_usuario_creador}</TableCell>\n\t\t\t\t<TableCell align=\"center\">{datos.horario_turno}</TableCell>\n\t\t\t\t<TableCell align=\"center\">{datos.concepto}</TableCell>\n\t\t\t</TableRow>\n\n\t\t\t<Dialog\n\t\t\t\tfullWidth={true}\n\t\t\t\tmaxWidth='xs'\n\t\t\t\topen={open} \n\t\t\t\tonClose={handleClickOpen} \n\t\t\t>\n\t\t\t\t<DialogContent>\n\t\t\t\t\t<Grid container>\n\t\t\t\t\t\t<Grid lg={12} xs={12}>\n\t\t\t\t\t\t\t<Box textAlign=\"center\" p={2}>\n\t\t\t\t\t\t\t\t<Typography variant=\"h6\">\n\t\t\t\t\t\t\t\t\tInformacin de movimiento\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid lg={12} xs={12}>\n\t\t\t\t\t\t\t<Box display=\"flex\" textAlign=\"left\" p={1}>\n\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\t<b>Fecha Movimiento: </b> {moment(datos.fecha_movimiento.completa).format('YYYY-MM-DD')}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box display=\"flex\" textAlign=\"left\" p={1}>\n\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\t<b>Hora Movimiento: </b> {datos.hora_moviento.completa}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box display=\"flex\" textAlign=\"left\" p={1}>\n\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\t<b>Usuario: </b> {datos.nombre_usuario_creador}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box display=\"flex\" textAlign=\"left\" p={1}>\n\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\t<b>Horario en Turno: </b>\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box display=\"flex\" textAlign=\"left\" p={1}>\n\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\t<b>Tipo Movimiento: </b> {datos.tipo_movimiento}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box display=\"flex\" textAlign=\"left\" p={1}>\n\t\t\t\t\t\t\t\t<Typography> \n\t\t\t\t\t\t\t\t\t<b>Concepto: </b> {datos.concepto}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box display=\"flex\" textAlign=\"left\" p={1}>\n\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\t<b>Caja: </b> {datos.numero_caja}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Paper className={classes.root}>\n\t\t\t\t\t\t\t\t<TableContainer className={classes.container}>\n\t\t\t\t\t\t\t\t\t<Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n\t\t\t\t\t\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\" style={{ minWidth: 100 }}>\n\t\t\t\t\t\t\t\t\t\t\t\t\tConcepto\n\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\" style={{ minWidth: 100 }}>\n\t\t\t\t\t\t\t\t\t\t\t\t\tMonto depositado\n\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t\t\t</TableHead>\n\t\t\t\t\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t\t\t\t\t<TableRow hover tabIndex={-1} >\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\"><b>Monto Total Efectivo:</b></TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\"><b>${datos.montos_en_caja.monto_efectivo.monto}</b></TableCell>\n\t\t\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t\t\t\t<TableRow hover tabIndex={-1} >\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">Creditos</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">${datos.montos_en_caja.monto_creditos.monto}</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t\t\t\t<TableRow hover tabIndex={-1} >\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">Tarjeta Debito</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">${datos.montos_en_caja.monto_tarjeta_debito.monto}</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t\t\t\t<TableRow hover tabIndex={-1} >\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">Tarjeta Credito</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">${datos.montos_en_caja.monto_tarjeta_credito.monto}</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t\t\t\t<TableRow hover tabIndex={-1} >\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">Monedero</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">${datos.montos_en_caja.monto_monedero.monto}</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t\t\t\t<TableRow hover tabIndex={-1} >\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">Cheques</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">${datos.montos_en_caja.monto_cheques.monto}</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t\t\t\t<TableRow hover tabIndex={-1} >\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">Transferencias</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">${datos.montos_en_caja.monto_transferencia.monto}</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t\t\t\t<TableRow hover tabIndex={-1} >\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">Vales de despensa</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">${datos.montos_en_caja.monto_vales_despensa.monto}</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t\t\t\t\t</Table>\n\t\t\t\t\t\t\t\t</TableContainer>\n\t\t\t\t\t\t\t</Paper>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t</DialogContent>\n\t\t\t</Dialog>\n\t\t</>\n\t)\n};","import React, {  useState, useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Dialog, Slide, Box, Button, Toolbar, Typography, FormControl, MenuItem, Select, Grid, TextField} from '@material-ui/core';\nimport CloseIcon from '@material-ui/icons/Close';\nimport AppBar from '@material-ui/core/AppBar';\nimport { useQuery } from '@apollo/client';\nimport { OBTENER_HISTORIAL_CAJA} from '../../../../gql/Cajas/cajas';\nimport { useDebounce } from 'use-debounce/lib';\nimport TablaHistorialFiltrado from './TablaHistorialFiltrado';\nimport SaveIcon from '@material-ui/icons/Save';\nimport ExcelFile from 'react-export-excel/dist/ExcelPlugin/components/ExcelFile';\nimport ExcelSheet from 'react-export-excel/dist/ExcelPlugin/elements/ExcelSheet';\nimport ExcelColumn from 'react-export-excel/dist/ExcelPlugin/elements/ExcelColumn';\n\nconst useStyles = makeStyles((theme) => ({\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1,\n\t},\n    appBar: {\n\t\tposition: 'relative'\n\t},\n\tformInputFlex: {\n\t\tdisplay: 'flex',\n\t\t'& > *': {\n\t\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(1)}px`\n\t\t}\n\t},\n\ticon: {\n\t\tfontSize: 40,\n\t\twidth: 40\n\t},\n    iconSave: {\n\t\tzIndex: 10,\n\t\tposition: 'fixed',\n\t\tbottom: theme.spacing(2),\n\t\tright: theme.spacing(10)\n\t}\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nconst tipos = [\n    'TODOS',\n    'VENTA',\n    'DEPOSITO',\n    'RETIRO',\n    'TRANSFERENCIA'\n];\n\nexport default function HistorialCaja(props) {\n    const classes = useStyles();\n    const sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n    const [ datosBuscar, setDatosBuscar ] = useState([]);\n    const [ datosExcel, setDatosExcel ] = useState([]);\n\tconst [ value ] = useDebounce(datosBuscar, 500);\n\n\tlet obtenerHistorialCaja = [];\n\n    /* Queries */\n\tconst {  data, refetch, loading } = useQuery(OBTENER_HISTORIAL_CAJA, {\n\t\tvariables: {\n            id_Caja: props.cajaSelected._id,\n            empresa: sesion.empresa._id,\n\t\t\tsucursal: sesion.sucursal._id,\n            input: {\n                tipo_movimiento: datosBuscar.tipo_movimiento ? datosBuscar.tipo_movimiento :  \"\",\n                fecha_incio: datosBuscar.fecha_incio ? datosBuscar.fecha_incio : \"\",\n                fecha_fin: datosBuscar.fecha_fin ? datosBuscar.fecha_fin : \"\",\n                usuario: value.usuario ? value.usuario : \"\"\n            },\n\t\t}\n\t});\n\n    useEffect(\n\t\t() => {\n\t\t\trefetch();\n\t\t},\n\t\t[ refetch ]\n\t);\n\n    let arrayExcel = [];\n\n    const agruparDatos = (datosHistorial) => {\n        datosExcel.splice(0, datosExcel.length);\n        for (let i = 0; i < datosHistorial.length; i++) {\n            arrayExcel = { \n                fecha: datosHistorial[i].fecha_movimiento.completa,\n                hora_movimiento: datosHistorial[i].hora_moviento.completa,\n                nombre: datosHistorial[i].nombre_usuario_creador,\n                horario_turno: datosHistorial[i].horario_turno,\n                tipo_movimiento: datosHistorial[i].tipo_movimiento,\n                concepto: datosHistorial[i].concepto,\n                caja: datosHistorial[i].numero_caja,\n                monto_efectivo: datosHistorial[i].montos_en_caja.monto_efectivo.monto , \n                monto_creditos: datosHistorial[i].montos_en_caja.monto_creditos.monto , \n                monto_tarjeta_debito: datosHistorial[i].montos_en_caja.monto_tarjeta_debito.monto , \n                monto_tarjeta_credito: datosHistorial[i].montos_en_caja.monto_tarjeta_credito.monto , \n                monto_monedero: datosHistorial[i].montos_en_caja.monto_monedero.monto , \n                monto_cheques: datosHistorial[i].montos_en_caja.monto_cheques.monto , \n                monto_transferencia: datosHistorial[i].montos_en_caja.monto_transferencia.monto ,\n                monto_vales_despensa: datosHistorial[i].montos_en_caja.monto_vales_despensa.monto , \n            }\n            datosExcel.push(arrayExcel);\n        };\n    };\n\n\tif(data){\n\t\tobtenerHistorialCaja = data.obtenerHistorialCaja;\n        agruparDatos(obtenerHistorialCaja);\n\t}\n\n    const handleDatos = (e) => {\n        setDatosBuscar({...datosBuscar, [e.target.name]: e.target.value})\n    };\n\n    const filtrarProductos = (event) => {\n\t\tevent.preventDefault();\n        refetch();\n\t};\n\n    const limpiarFiltros = () => {\n        setDatosBuscar([]);\n    }\n\n    return (\n        <Dialog fullScreen open={props.open} onClose={()=>{props.handleClose();}} TransitionComponent={Transition}>\n            <AppBar className={classes.appBar}>\n                <Toolbar>\n                    <Typography variant=\"h5\" className={classes.title}>\n                        Caja {props.cajaSelected.numero_caja}\n                    </Typography>\n                    <Box m={1}>\n                        <Button variant=\"contained\" color=\"secondary\" onClick={ () => {props.handleClose()} } size=\"large\">\n                            <CloseIcon style={{fontSize: 30}} />\n                        </Button>\n                    </Box>\n                </Toolbar>\n            </AppBar>\n            <Grid container>\n                <ExcelFile\n                    element={\n                        <Button\n                            variant=\"contained\"\n                            color=\"primary\"\n                            aria-label=\"Guardar\"\n                            className={classes.iconSave}\n                        >\n                            <SaveIcon className={classes.margin} />\n                            Exportar\n                        </Button>   \n                    }\n                    filename={`Reporte de Historial de Caja ${props.cajaSelected.numero_caja}`}\n                >\n                    <ExcelSheet data={datosExcel} name={`Reporte de Historial de Caja ${props.cajaSelected.numero_caja}`}>\n                        <ExcelColumn label='Usuario' value='nombre' />\n                        <ExcelColumn label='Fecha Movimiento' value='fecha' />\n                        <ExcelColumn label='Hora Movimiento' value='hora_movimiento' />\n                        <ExcelColumn label='Horario en Turno' value='horario_turno' />\n                        <ExcelColumn label='Concepto' value='concepto' />\n                        <ExcelColumn label='Tipo Movimiento' value='tipo_movimiento' />\n                        <ExcelColumn label='No. de Caja' value='caja' />\n                        <ExcelColumn label='M. en Efectivo' value='monto_efectivo' />\n                        <ExcelColumn label='M. en Creditos' value='monto_creditos' />\n                        <ExcelColumn label='M. en Tarjeta Debito' value='monto_tarjeta_debito' />\n                        <ExcelColumn label='M. en Tarjeta Credito' value='monto_tarjeta_credito' />\n                        <ExcelColumn label='M. en monedero' value='monto_monedero' />\n                        <ExcelColumn label='M. en Cheques' value='monto_cheques' />\n                        <ExcelColumn label='M. en Transferencia' value='monto_transferencia' />\n                        <ExcelColumn label='M. en Vale Despensa' value='monto_vales_despensa' />\n                    </ExcelSheet>\n                </ExcelFile>\n                <Grid item lg={12} md={12} xs={12}>\n                    <div className={classes.formInputFlex}>\n                        <Box width=\"100%\">\n                            <Typography>\n                                Movimiento\n                            </Typography>\n                            <FormControl\n                                variant=\"outlined\"\n                                fullWidth\n                                size=\"small\"\n                            >\n                                <Select\n                                    id=\"form-producto-tipo\"\n                                    name=\"tipo_movimiento\"\n                                    onChange={handleDatos}\n                                    value={datosBuscar.tipo_movimiento ? datosBuscar.tipo_movimiento : \"\"}\n                                >\n                                    <MenuItem value=\"\">\n                                        <em>Selecciona uno</em>\n                                    </MenuItem>\n                                    {tipos.map((tipo, index) => {\n                                        return(\n                                            <MenuItem key={index} value={tipo}>{tipo}</MenuItem>\n                                        )\n                                    })}\n                                </Select>\n                            </FormControl>\n                        </Box>\t\n                        <Box width=\"100%\">\n                            <Typography>\n                                Fecha inicio:\n                            </Typography>\n                            <TextField \n                                fullWidth\n                                size=\"small\"\n                                name=\"fecha_incio\"\n                                variant=\"outlined\"\n                                type=\"date\"\n                                value={datosBuscar.fecha_incio ? datosBuscar.fecha_incio : \"\"}\n                                onChange={handleDatos}\n                            />\n                        </Box>\n                        <Box width=\"100%\">\n                            <Typography>\n                                Fecha fin:\n                            </Typography>\n                            <TextField \n                                fullWidth\n                                size=\"small\"\n                                name=\"fecha_fin\"\n                                variant=\"outlined\"\n                                type=\"date\"\n                                value={datosBuscar.fecha_fin ? datosBuscar.fecha_fin : \"\"}\n                                onChange={handleDatos}\n                            />\n                        </Box>\n                        <form onSubmit={filtrarProductos} style={{ display: 'flex', alignItems: 'center', width: \"100%\" }} >\n                            <Box width=\"100%\">\n                                <Typography>\n                                    Usuario:\n                                </Typography>\n                                <TextField\n                                    fullWidth\n                                    size=\"small\"\n                                    name=\"usuario\"\n                                    variant=\"outlined\"\n                                    value={datosBuscar.usuario ? datosBuscar.usuario : \"\"}\n                                    onChange={handleDatos}\n                                />\n                            </Box>\n                        </form>\n                        <Box width=\"70%\" display=\"flex\" justifyContent=\"center\" justifyItems=\"center\" alignItems=\"center\">\n                            <Box mt={2}>\n                                <Button\n                                    color=\"primary\"\n                                    size=\"large\"\n                                    variant=\"contained\"\n                                    onClick={limpiarFiltros}\n                                >\n                                    Limpiar\n                                </Button>\n                            </Box>\n                        </Box>\n                    </div>\n                </Grid>\n                <Grid item lg={12} md={12} xs={12}>\n                    <TablaHistorialFiltrado loading={loading} historial={obtenerHistorialCaja} />\n                </Grid>  \n            </Grid>\n        </Dialog>\n    );\n}\n\n","import React from 'react';\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport CardActions from '@material-ui/core/CardActions';\nimport Avatar from '@material-ui/core/Avatar';\nimport Typography from '@material-ui/core/Typography';\nimport { red } from '@material-ui/core/colors';\nimport {Badge, Box} from '@material-ui/core';\n \nconst StyledBadge = withStyles((theme) => ({\n    badge: {\n      color :({props})=> props.color,\n      background: ({props})=> props.color,\n      boxShadow: `0 0 0 2px ${theme.palette.background.paper}`,\n      '&::after': {\n        position: 'absolute',\n        top: 0,\n        left: 0,\n        width: '100%',\n        height: '100%',\n        borderRadius: '50%',\n        animation: '$ripple 1.2s infinite ease-in-out',\n        border: '1px solid currentColor',\n        content: '\"\"',\n      },\n    },\n    '@keyframes ripple': {\n      '0%': {\n        transform: 'scale(.8)',\n        opacity: 1,\n      },\n      '100%': {\n        transform: 'scale(2.4)',\n        opacity: 0,\n      },\n    }\n  }))(Badge);\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    minWidth:230,\n    maxWidth: 230,\n    margin:5,\n    \n  },\n  media: {\n    height: 0,\n    paddingTop: '56.25%', // 16:9\n  },\n  expand: {\n    transform: 'rotate(0deg)',\n    marginLeft: 'auto',\n    transition: theme.transitions.create('transform', {\n      duration: theme.transitions.duration.shortest,\n    }),\n  },\n  expandOpen: {\n    transform: 'rotate(180deg)',\n  },\n  avatar: {\n    color: red[500],\n  },\n  textActive:{\n    position:'relative',\n    bottom:8\n  }\n}));\n\nexport default function CardCaja(props) {\n    const styleProps={\n      color: (props.activa)  ? '#44b700' : 'red'\n    }\n    const classes = useStyles();\n \n    return (\n        <div>\n            <Card className={classes.root}>\n                    <CardHeader\n                      color=\"secondary\"\n                        avatar={\n                            <StyledBadge\n                              overlap=\"circle\"\n                              props={styleProps}\n                              anchorOrigin={{\n                                vertical: 'bottom',\n                                horizontal: 'right',\n                              }}\n                              variant=\"dot\"\n                              badgeContent=\"\"\n                            >\n                            <Avatar alt=\"Cajero X\" src=\"/static/images/avatar/1.jpg\" />\n                            </StyledBadge>\n                        }\n                    />\n                    <Box m={1} mb={2}>\n                    <Typography variant=\"h4\" color=\"textSecondary\" component=\"p\" >\n                            Caja {props.name}\n                    </Typography>\n                    </Box>\n                    {/* <CardActions disableSpacing  >\n                        <Typography style={{fontWeight: 'bold'}} color=\"textSecondary\" component=\"p\">\n                           Total en caja: \n                        </Typography>\n                        <Typography style={{margin: '0px 10px', color: 'green'}} variant=\"h6\" color=\"textSecondary\" component=\"p\">\n                           $ {parseFloat(props.cantidad_efectivo_actual)}\n                        </Typography>\n                    </CardActions> */}\n                </Card>\n        </div>\n    )\n}\n","import React, {useEffect, useState} from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport CloseIcon from '@material-ui/icons/Close';\nimport Slide from '@material-ui/core/Slide';\nimport { Box, Grid  } from '@material-ui/core';\nimport HistorialCaja from './HistorialCaja';\nimport SnackBarMessages from '../../../../components/SnackBarMessages';\nimport BackdropComponent from '../../../../components/Layouts/BackDrop';\nimport CardCaja from './CardCaja';\n\nimport { OBTENER_CAJAS } from '../../../../gql/Cajas/cajas';\nimport { useQuery } from '@apollo/client';\n\nconst useStyles = makeStyles((theme) => ({\n\tappBar: {\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n\ticon: {\n\t\twidth: 100\n\t}\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function Cajas() {\n\tconst classes = useStyles();\n    const [ loading, setLoading ] = React.useState(false);\n\tconst [ open, setOpen ] = React.useState(false);\n    const [ openHistorial, setOpenHistorial ] = React.useState(false);\n    const [ alert, setAlert ] = useState({ message: '', status: '', open: false });\n    const [ cajaSelected, setCajaSelected ] = React.useState({name:''});\n    const sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n    let obtenerCajasSucursal = []; \n\n\t\n    /* Queries */\n    const {  data, refetch } = useQuery(OBTENER_CAJAS,{\n\t\tvariables: {\n            empresa: sesion.empresa._id,\n\t\t\tsucursal: sesion.sucursal._id\n\t\t}\n\t});\t\n\n    useEffect(\n\t\t() => {\n\t\t\tsetLoading(true);\n\t\t\trefetch();\n\t\t\tsetLoading(false);\n\t\t},\n\t\t[ refetch ]\n\t); \n\t\n\tif(data){\n\t\tobtenerCajasSucursal = data.obtenerCajasSucursal;\n\t}\n\tconst handleClickOpen = () => {\n\t\tsetOpen(true);\n\t};\n    const handleClickOpenHistorial = () => {\n\t\tsetOpenHistorial(true);\n\t};\n\tconst handleClose = () => {\n\t\tsetOpen(false);\n\t};\n    const handleCloseHistorial = () => {\n\t\tsetOpenHistorial(false);\n\t};\n\n\treturn (\n\t\t<div>\n            <SnackBarMessages alert={alert} setAlert={setAlert} />\t\n\t\t\t<BackdropComponent loading={loading} setLoading={setLoading} />\n\t\t\t<Button fullWidth onClick={handleClickOpen}>\n\t\t\t\t<Box display=\"flex\" flexDirection=\"column\">\n\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t<img src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/cajas.svg' alt=\"icono numero calzado\" className={classes.icon} />\n\t\t\t\t\t</Box>\n\t\t\t\t\tHistorial de Cajas\n\t\t\t\t</Box>\n\t\t\t</Button>\n\t\t\t<Dialog fullScreen open={open} onClose={handleClose} TransitionComponent={Transition}>\n\t\t\t\t<AppBar className={classes.appBar}>\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t<Typography variant=\"h6\" className={classes.title}>\n\t\t\t\t\t\t\tHistorial de Cajas\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Box m={1}>\n\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"secondary\" onClick={handleClose} size=\"large\">\n\t\t\t\t\t\t\t\t<CloseIcon style={{fontSize: 30}} />\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</AppBar>\n\t\t\t\t<Grid container spacing={1} justify=\"center\" >\n\t\t\t\t\t{obtenerCajasSucursal?.map((caja, index) => {\n\t\t\t\t\t\treturn(\n\t\t\t\t\t\t\t<Button key={index} onClick={()=>{handleClickOpenHistorial(); setCajaSelected(caja)}}>\n\t\t\t\t\t\t\t\t<CardCaja name={caja.numero_caja} activa={caja.activa} cantidad_efectivo_actual={caja.cantidad_efectivo_actual} />\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t)\t\n\t\t\t\t\t})} \n\t\t\t\t</Grid> \t\n\t\t\t</Dialog>\n            <HistorialCaja open={openHistorial} fetchCajas={refetch} handleClickOpen={handleClickOpenHistorial} cajaSelected={cajaSelected} handleClose={handleCloseHistorial} obtenerCajasSucursal={obtenerCajasSucursal} />\n\t\t</div>\n\t);\n}\n","import React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport { Box, Grid, Dialog, DialogContent, Typography, CircularProgress} from '@material-ui/core';\n\nconst columns = [\n\t{ id: 'fecha', label: 'Fecha', minWidth: 100 },\n\t{ id: 'hora', label: 'Hora', minWidth: 100 },\n\t{ id: 'usuario', label: 'Usuario', minWidth: 100 },\n\t{ id: 'hTurno', label: 'Horario Turno', minWidth: 100 },\t\n\t{ id: 'concepto', label: 'Concepto', minWidth: 100 },\n\t{ id: 'caja', label: 'Caja', minWidth: 100 },\n];\n\nconst useStyles  = makeStyles((theme) => ({\n\troot: {\n\t\twidth: '100%'\n\t},\n\tcontainer: {\n\t\tmaxHeight: 500,\n\t},\n    appBar: {\t\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n\trootBusqueda: {\n\t\tdisplay: 'flex',\n\t\tpaddingLeft: theme.spacing(2)\n\t}\n}));\n\n\nexport default function TablaTurnosFiltrados({loading, turnos}) {\n\tconst classes = useStyles();\n\t\n\tif (loading)\n\t\treturn (\n\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" height=\"30vh\">\n\t\t\t\t<CircularProgress />\n\t\t\t</Box>\n\t\t);\n\t\t\n\treturn (\n\t\t<>\n\t\t\t<Box p={2}>\n\t\t\t\t<Paper className={classes.root}>\n\t\t\t\t\t<TableContainer className={classes.container}>\n\t\t\t\t\t\t<Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n\t\t\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t\t{columns.map((column) => (\n\t\t\t\t\t\t\t\t\t\t<TableCell key={column.id} align=\"center\" style={{ minWidth: column.minWidth }}>\n\t\t\t\t\t\t\t\t\t\t\t{column.label}\n\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t</TableHead>\n\t\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t\t{turnos.map((row) => {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<RowsRender\n\t\t\t\t\t\t\t\t\t\t\tkey={row._id}\n\t\t\t\t\t\t\t\t\t\t\tturno={row}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t\t</Table>\n\t\t\t\t\t</TableContainer>\n\t\t\t\t</Paper>\n\t\t\t</Box>\n\t\t</>\n\t);\n}\n\n\nfunction RowsRender({turno}) {\n\tconst [open, setOpen] = useState(false);\n\tconst classes = useStyles();\n\tconst handleClickOpen =()=> setOpen(!open);\n\n\treturn(\n\t\t<>\n\t\t\t<TableRow\n\t\t\t\thover\n\t\t\t\trole=\"checkbox\"\n\t\t\t\tonClick={handleClickOpen}\n\t\t\t\ttabIndex={-1}\n\t\t\t\tkey={turno._id}\n\t\t\t>\n\t\t\t\t<TableCell align=\"center\">{turno.fecha_movimiento}</TableCell>\n\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t{turno.concepto === \"ABRIR TURNO\" ? (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t{turno.hora_entrada.completa}\n\t\t\t\t\t\t</>\n\t\t\t\t\t\t): (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t{turno.hora_salida.completa}\n\t\t\t\t\t\t</>\n\t\t\t\t\t)}\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell align=\"center\">{turno.usuario_en_turno.nombre}</TableCell>\n\t\t\t\t<TableCell align=\"center\">{turno.horario_en_turno}</TableCell>\n\t\t\t\t<TableCell align=\"center\">{turno.concepto}</TableCell>\n\t\t\t\t<TableCell align=\"center\">{turno.numero_caja}</TableCell>\n\t\t\t</TableRow>\n\n\t\t\t<Dialog\n\t\t\t\tfullWidth={true}\n\t\t\t\tmaxWidth='md'\n\t\t\t\topen={open} \n\t\t\t\tonClose={handleClickOpen} \n\t\t\t>\n\t\t\t\t<DialogContent>\n\t\t\t\t\t<Grid container>\n\t\t\t\t\t\t<Grid lg={12} xs={12}>\n\t\t\t\t\t\t\t<Box textAlign=\"center\" p={2}>\n\t\t\t\t\t\t\t\t<Typography variant=\"h6\">\n\t\t\t\t\t\t\t\t\tInformacin del turno\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid lg={6} xs={12}>\n\t\t\t\t\t\t\t<Box p={1}>\n\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\t<b>Usuario</b>: {turno.usuario_en_turno.nombre}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box p={1}>\n\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\t<b>Numero de caja</b>: {turno.numero_caja}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box p={1}>\n\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\t<b>Moviento de turno</b>: {turno.concepto}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box p={1}>\n\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\t<b>Horario de turno</b>: {turno.horario_en_turno}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box p={1}>\n\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\t{turno.concepto === \"ABRIR TURNO\" ? (\n\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t<b>Hora de Entrada de turno: </b>{turno.hora_entrada.completa}\n\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t): (\n\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t<b>Hora de Salida de turno: </b>{turno.hora_salida.completa}\n\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box p={1}>\n\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\t<b>Comentarios</b>: {turno.comentarios}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box p={1}>\n\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\t<b>Fecha de movimiento</b>: {turno.fecha_movimiento}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid lg={6} xs={12}>\n\t\t\t\t\t\t\t<Paper className={classes.root}>\n\t\t\t\t\t\t\t\t<TableContainer className={classes.container}>\n\t\t\t\t\t\t\t\t\t<Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n\t\t\t\t\t\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\" style={{ minWidth: 100 }}>\n\t\t\t\t\t\t\t\t\t\t\t\t\tConcepto\n\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\" style={{ minWidth: 100 }}>\n\t\t\t\t\t\t\t\t\t\t\t\t\tMonto depositado\n\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t\t\t</TableHead>\n\n\t\t\t\t\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t\t\t\t\t<TableRow hover tabIndex={-1} >\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\"><b>Monto Total Efectivo:</b></TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\"><b>${turno.montos_en_caja.monto_efectivo.monto}</b></TableCell>\n\t\t\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t\t\t\t<TableRow hover tabIndex={-1} >\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">Creditos</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">${turno.montos_en_caja.monto_creditos.monto}</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t\t\t\t<TableRow hover tabIndex={-1} >\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">Tarjeta Debito</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">${turno.montos_en_caja.monto_tarjeta_debito.monto}</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t\t\t\t<TableRow hover tabIndex={-1} >\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">Tarjeta Credito</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">${turno.montos_en_caja.monto_tarjeta_credito.monto}</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t\t\t\t<TableRow hover tabIndex={-1} >\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">Monedero</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">${turno.montos_en_caja.monto_monedero.monto}</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t\t\t\t<TableRow hover tabIndex={-1} >\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">Cheques</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">${turno.montos_en_caja.monto_cheques.monto}</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t\t\t\t<TableRow hover tabIndex={-1} >\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">Transferencias</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">${turno.montos_en_caja.monto_transferencia.monto}</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t\t\t\t<TableRow hover tabIndex={-1} >\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">Vales de despensa</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">${turno.montos_en_caja.monto_vales_despensa.monto}</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t\t\t\t\t</Table>\n\t\t\t\t\t\t\t\t</TableContainer>\n\t\t\t\t\t\t\t</Paper>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t</DialogContent>\n\t\t\t</Dialog>\n\t\t</>\n\t)\n};","import { gql } from \"@apollo/client\";\n\nexport const REGISTRAR_TURNOS = gql`\n\tmutation crearRegistroDeTurno( $input: AbrirCerrarTurnoInput, $activa: Boolean) {\n\t\tcrearRegistroDeTurno(input: $input, activa: $activa) {\n\t\t\thorario_en_turno\n\t\t\ttoken_turno_user\n\t\t\tconcepto\n\t\t\tnumero_caja\n\t\t\tid_caja\n\t\t\tcomentarios\n\t\t\thora_entrada {\n\t\t\t\thora\n\t\t\t\tminutos\n\t\t\t\tsegundos\n\t\t\t}\n\t\t\thora_salida{\n\t\t\t\thora\n\t\t\t\tminutos\n\t\t\t\tsegundos\n\t\t\t}\n\t\t\tfecha_entrada{\n\t\t\t\tyear\n\t\t\t\tmes\n\t\t\t\tdia\n\t\t\t\tno_semana_year\n\t\t\t\tno_dia_year\n\t\t\t}\n\t\t\tfecha_salida{\n\t\t\t\tyear\n\t\t\t\tmes\n\t\t\t\tdia\n\t\t\t\tno_semana_year\n\t\t\t\tno_dia_year\n\t\t\t}\n\t\t\tmontos_en_caja {\n\t\t\t\tmonto_efectivo{\n                    monto \n                }\n                monto_tarjeta_credito{\n                    monto \n                }\n                monto_tarjeta_debito{\n                    monto \n                }\n                monto_creditos{\n                    monto \n                }\n                monto_monedero{\n                    monto \n                }\n                monto_transferencia{\n                    monto \n                }\n                monto_cheques{\n                    monto \n                }\n                monto_vales_despensa{\n                    monto \n                }\n\t\t\t}\n\t\t\tusuario_en_turno {\n\t\t\t\tnumero_usuario\n\t\t\t\tnombre\n\t\t\t}\n\t\t\tempresa\n\t\t\tsucursal\n\t\t}\n\t}\n`;\n\nexport const OBTENER_HISTORIAL_TURNOS = gql`\n\tquery obtenerFiltroTurnos($input: HistorialTurnosInput, $empresa: ID!, $sucursal: ID!) {\n\t\tobtenerFiltroTurnos(input: $input, empresa: $empresa, sucursal: $sucursal) {\n\t\t\thorario_en_turno\n\t\t\tconcepto\n\t\t\tnumero_caja\n\t\t\tid_caja\n\t\t\tcomentarios\n\t\t\thora_entrada {\n\t\t\t\thora\n\t\t\t\tminutos\n\t\t\t\tsegundos\n\t\t\t\tcompleta\n\t\t\t}\n\t\t\thora_salida{\n\t\t\t\thora\n\t\t\t\tminutos\n\t\t\t\tsegundos\n\t\t\t\tcompleta\n\t\t\t}\n\t\t\tfecha_entrada{\n\t\t\t\tyear\n\t\t\t\tmes\n\t\t\t\tdia\n\t\t\t\tno_semana_year\n\t\t\t\tno_dia_year\n\t\t\t\tcompleta\n\t\t\t}\n\t\t\tfecha_salida{\n\t\t\t\tyear\n\t\t\t\tmes\n\t\t\t\tdia\n\t\t\t\tno_semana_year\n\t\t\t\tno_dia_year\n\t\t\t\tcompleta\n\t\t\t}\n\t\t\tfecha_movimiento\n\t\t\tmontos_en_caja {\n\t\t\t\tmonto_efectivo{\n                    monto \n                }\n                monto_tarjeta_credito{\n                    monto \n                }\n                monto_tarjeta_debito{\n                    monto \n                }\n                monto_creditos{\n                    monto \n                }\n                monto_monedero{\n                    monto \n                }\n                monto_transferencia{\n                    monto \n                }\n                monto_cheques{\n                    monto \n                }\n                monto_vales_despensa{\n                    monto \n                }\n\t\t\t}\n\t\t\tusuario_en_turno {\n\t\t\t\tnumero_usuario\n\t\t\t\tnombre\n\t\t\t}\n\t\t\tempresa\n\t\t\tsucursal\n\t\t}\n\t}\n`;","import React, { useEffect, useState } from 'react';\nimport { AppBar, Box, Button, Dialog, FormControl, Grid, MenuItem, Select, Slide, TextField, Toolbar, Typography } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/styles';\nimport ReactExport from 'react-export-excel'; //LIBRERIA EXCEL\nimport CloseIcon from '@material-ui/icons/Close';\nimport SaveIcon from '@material-ui/icons/Save';\nimport TablaTurnosFiltrados from './TablaTurnosFiltrados';\nimport { useQuery } from '@apollo/client';\nimport { OBTENER_CAJAS } from '../../../../gql/Cajas/cajas';\nimport { OBTENER_HISTORIAL_TURNOS } from '../../../../gql/Ventas/abrir_cerrar_turno';\nimport { useDebounce } from 'use-debounce';\nimport moment from 'moment';\nimport 'moment/locale/es';\nimport ErrorPage from '../../../../components/ErrorPage';\nmoment.locale('es');\nconst ExcelFile = ReactExport.ExcelFile; //ARCHIVO DE EXCEL\nconst ExcelSheet = ReactExport.ExcelSheet; //HOJA DE EXCEL\nconst ExcelColumn = ReactExport.ExcelColumn; //COLUMNA DE EXCEL\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nconst useStyles = makeStyles((theme) => ({\n\tappBar: {\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n\ticon: {\n\t\twidth: 100\n\t},\n    formInputFlex: {\n\t\tdisplay: 'flex',\n\t\t'& > *': {\n\t\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(1)}px`\n\t\t},\n\t\t'& .obligatorio': {\n\t\t\tcolor: 'red'\n\t\t}\n\t},\n\tformInput: {\n\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(2)}px`\n\t},\n    margin: {\n\t\tmargin: theme.spacing(1)\n\t},\n\ticonSave: {\n\t\tzIndex: 10,\n\t\tposition: 'fixed',\n\t\tbottom: theme.spacing(2),\n\t\tright: theme.spacing(10)\n\t},\n}));\n\nexport default function ReportesTurnosUsuarios() {\n    const [open, setOpen] = useState(false);\n    const handleClickOpen =()=>{setOpen(!open)};\n    const classes = useStyles();\n\n    return (\n        <>\n            <Button aria-controls=\"simple-menu\" aria-haspopup=\"true\" onClick={handleClickOpen}>\n\t\t\t\t<Box display=\"flex\" flexDirection=\"column\">\n                    <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n                        <img \n                            src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/ventas/shift.svg'\n                            alt=\"icono caja\" \n                            style={{width: 100}}\n                        />\n                    </Box>\n\t\t\t\t\tTurnos de Usuarios\n\t\t\t\t</Box>\n\t\t\t</Button>\n\t\t\t<Dialog fullScreen open={open} onClose={handleClickOpen} TransitionComponent={Transition}>\n\t\t\t\t<AppBar className={classes.appBar}>\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t<Typography variant=\"h6\" className={classes.title}>\n                            Reportes Turnos de Usuarios\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Box m={1} display=\"flex\">\n                            <Box p={1}>\n                                <Button variant=\"contained\" color=\"secondary\" onClick={handleClickOpen} size=\"large\">\n                                    <CloseIcon style={{fontSize: 30}} />\n                                </Button>\n                            </Box>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</AppBar>\n                <FiltroTablaTurnos />\n\t\t\t</Dialog> \n        </>\n    )   \n};\n\nconst FiltroTablaTurnos = () => {\n\n    const classes = useStyles();\n    const sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n    const [filtros, setFiltros] = useState([]);\n    const [ datosExcel, setDatosExcel] = useState([]);\n\tconst [value] = useDebounce(filtros, 500);\n    let historialTurnos = [];\n\n    const cajas = useQuery(OBTENER_CAJAS,{\n\t\tvariables: {\n            empresa: sesion.empresa._id,\n\t\t\tsucursal: sesion.sucursal._id,\n\t\t}\n\t});\n\n    const { loading, data, error, refetch  } = useQuery(OBTENER_HISTORIAL_TURNOS,{\n\t\tvariables: {\n            empresa: sesion.empresa._id,\n\t\t\tsucursal: sesion.sucursal._id,\n            input: {\n                horario_en_turno: filtros.horario_turno ? filtros.horario_turno : \"\",\n                usuario_en_turno: value.usuario_en_turno ? value.usuario_en_turno : \"\",\n                numero_caja: filtros.numero_caja ? filtros.numero_caja : \"\",\n                fechaInicio: filtros.fechaInicio ? filtros.fechaInicio : \"\",\n                fechaFin: filtros.fechaFin ? filtros.fechaFin : \"\"\n            }\n\t\t}\n\t});\n\n    useEffect(\n\t\t() => {\n\t\t\trefetch();\n\t\t},\n\t\t[ refetch ]\n\t);\n\n    const obtenerDatos = (e) => {  \n        setFiltros({...filtros, [e.target.name]: e.target.value.toString()});\n    };\n\n    let arrayExcel = [];\n\n    const agruparDatos = (turnos) => {\n        datosExcel.splice(0, datosExcel.length);\n        for (let i = 0; i < turnos.length; i++) {\n            arrayExcel = { \n                fecha: turnos[i].fecha_movimiento,\n                nombre: turnos[i].usuario_en_turno.nombre,\n                numero_usuario: turnos[i].usuario_en_turno.numero_usuario,\n                fecha_entrada: turnos[i].fecha_entrada.completa,\n                fecha_salida: turnos[i].fecha_salida.completa,\n                hora_entrada: turnos[i].hora_entrada.completa,\n                hora_salida: turnos[i].hora_salida.completa,\n                horario_en_turno: turnos[i].horario_en_turno,\n                concepto: turnos[i].concepto,\n                caja: turnos[i].numero_caja,\n            }\n            datosExcel.push(arrayExcel);\n        };\n    };\n\n    if(data && cajas.loading  === false){\n\t\thistorialTurnos = data.obtenerFiltroTurnos;\n        agruparDatos(historialTurnos);\n\t};\n\n\tif (error) {\n\t\treturn <ErrorPage error={error} />;\n\t}\n\n    const filtrarProductos = (event) => {\n\t\tevent.preventDefault();\n        refetch();\n\t};\n    \n    const limpiarFiltros = () => {\n        setFiltros([]);\n    };\n    \n    return(\n        <>\n        <Grid container>\n            <ExcelFile\n                element={\n                    <Button\n                        variant=\"contained\"\n                        color=\"primary\"\n                        aria-label=\"Guardar\"\n                        className={classes.iconSave}\n                    >\n                        <SaveIcon className={classes.margin} />\n                        Exportar\n                    </Button>   \n                }\n                filename=\"Reporte de Turnos Usuarios\"\n            >\n                <ExcelSheet data={datosExcel} name={'Reporte de Turnos Usuarios'}>\n                    <ExcelColumn label='No. Usuario' value='numero_usuario' />\n                    <ExcelColumn label='Usuario' value='nombre' />\n                    <ExcelColumn label='Fecha Movimiento' value='fecha' />\n                    <ExcelColumn label='Fecha Entrada' value='fecha_entrada' />\n                    <ExcelColumn label='Fecha Salida' value='fecha_salida' />\n                    <ExcelColumn label='Hora Entrada' value='hora_entrada' />\n                    <ExcelColumn label='Hora Salida' value='hora_salida' />\n                    <ExcelColumn label='Horario en Turno' value='horario_en_turno' />\n                    <ExcelColumn label='Concepto' value='concepto' />\n                    <ExcelColumn label='No. de Caja' value='caja' />\n                </ExcelSheet>\n            </ExcelFile>\n\n            <Grid item lg={12}>\n                <div className={classes.formInputFlex}>\n                    <Box width=\"100%\">\n                        <Typography>\n                            Fecha inicio:\n                        </Typography>\n                        <TextField \n                            fullWidth\n                            size=\"small\"\n                            name=\"fechaInicio\"\n                            variant=\"outlined\"\n                            type=\"date\"\n                            onChange={obtenerDatos}\n                            value={filtros.fechaInicio ? filtros.fechaInicio : \"\"}\n                        />\n                    </Box>\n                    <Box width=\"100%\">\n                        <Typography>\n                            Fecha fin:\n                        </Typography>\n                        <TextField \n                            fullWidth\n                            size=\"small\"\n                            name=\"fechaFin\"\n                            variant=\"outlined\"\n                            type=\"date\"\n                            onChange={obtenerDatos}\n                            value={filtros.fechaFin ? filtros.fechaFin : \"\"}\n                        />\n                    </Box>\n                    <form onSubmit={filtrarProductos} style={{ display: 'flex', alignItems: 'center', width: \"100%\" }}>\n                        <Box width=\"100%\">\n                            <Typography>\n                                Usuario:\n                            </Typography>\n                            <TextField\n                                fullWidth\n                                size=\"small\"\n                                name=\"usuario_en_turno\"\n                                value={filtros.usuario_en_turno ? filtros.usuario_en_turno : \"\"}\n                                variant=\"outlined\"\n                                onChange={obtenerDatos}\n                            />\n                        </Box>\n                    </form>\n                    <Box width=\"100%\">\n                        <Typography>\n                            Caja:\n                        </Typography>\n                        <FormControl\n                            variant=\"outlined\"\n                            fullWidth\n                            size=\"small\"\n                        >\n                            <Select\n                                id=\"form-producto-tipo\"\n                                name=\"numero_caja\"\n                                onChange={obtenerDatos}\n                                value={filtros.numero_caja ? filtros.numero_caja : \"\"}\n                            >\n                                <MenuItem value=\"\">\n                                    <em>Selecciona uno</em>\n                                </MenuItem>\n                                {\n                                    cajas.data?.obtenerCajasSucursal?.map((caja) =>{\n                                        return(\n                                            <MenuItem key={caja.numero_caja} value={caja.numero_caja}>\n                                                Caja {caja.numero_caja}\n                                            </MenuItem>\n                                        );\n                                    })\n                                }\n                            </Select>\n                        </FormControl>\n                    </Box>\n                    <Box width=\"100%\">\n                        <Typography>\n                            Horario de Turno:\n                        </Typography>\n                        <FormControl\n                            variant=\"outlined\"\n                            fullWidth\n                            size=\"small\"\n                        >\n                            <Select\n                                id=\"form-producto-tipo\"\n                                name=\"horario_turno\"\n                                value={filtros.horario_turno ? filtros.horario_turno : \"\"}\n                                onChange={obtenerDatos}\n                            >\n                                <MenuItem value=\"\">\n                                    <em>Selecciona uno</em>\n                                </MenuItem>\n                                <MenuItem value=\"VESPERTINO\">Vespertino</MenuItem>\n                                <MenuItem value=\"MATUTINO\">Matutino</MenuItem>\n                            </Select>\n                        </FormControl>\n                    </Box>\n                    <Box width=\"70%\" display=\"flex\" justifyContent=\"center\" justifyItems=\"center\" alignItems=\"center\">\n                        <Box mt={2}>\n                            <Button\n                                color=\"primary\"\n                                size=\"large\"\n                                variant=\"contained\"\n                                onClick={limpiarFiltros}\n                            >\n                                Limpiar\n                            </Button>\n                        </Box>\n                    </Box>\n                </div>\n            </Grid> \n           \n        </Grid>    \n        <Grid item lg={12}>\n            <TablaTurnosFiltrados loading={loading} turnos={historialTurnos} />\n        </Grid>  \n        </>\n    );\n}","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport { Box } from \"@material-ui/core\";\nimport {\n  formatoFechaCorta,\n  formatoMexico,\n} from \"../../../../config/reuserFunctions\";\nimport { formaPago } from \"../../Facturacion/catalogos\";\n\nconst columns = [\n  { label: \"Nombre producto\", minWidth: 160 },\n  { label: \"Fecha de Compra\", minWidth: 160 },\n  { label: \"Almacen\", minWidth: 100 },\n  { label: \"Proveedor\", minWidth: 100 },\n  { label: \"M. pago\", minWidth: 90 },\n  { label: \"F. pago\", minWidth: 100 },\n  { label: \"Cantidad\", minWidth: 90 },\n  { label: \"Descuento\", minWidth: 100 },\n  { label: \"Subtotal\", minWidth: 90 },\n  { label: \"Impuestos\", minWidth: 90 },\n  { label: \"Total\", minWidth: 100 },\n];\n\nconst useStyles = makeStyles((theme) => ({\n  container: {\n    maxHeight: \"70vh\",\n  },\n}));\n\nexport default function TablaComprasFiltradas({ data }) {\n  const classes = useStyles();\n\n  return (\n    <Box my={2}>\n      <Paper variant=\"outlined\">\n        <TableContainer className={classes.container}>\n          <Table size=\"small\" stickyHeader aria-label=\"a dense table\">\n            <TableHead>\n              <TableRow>\n                {columns.map((column, index) => (\n                  <TableCell\n                    key={index}\n                    /* align={column.align} */\n                    style={{ minWidth: column.minWidth }}\n                  >\n                    {column.label}\n                  </TableCell>\n                ))}\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {data.map((data, index) => {\n                const result = formaPago.filter(\n                  (res) => res.Value === data.forma_pago\n                );\n                let forma_pago = result[0];\n\n                return (\n                  <TableRow key={index} role=\"checkbox\" tabIndex={-1}>\n                    <TableCell>\n                      {data.producto.datos_generales.nombre_comercial}\n                    </TableCell>\n                    <TableCell>\n                      {formatoFechaCorta(data.fecha_registro)}\n                    </TableCell>\n                    <TableCell>{data.almacen.nombre_almacen}</TableCell>\n                    <TableCell>{data.proveedor.nombre_cliente}</TableCell>\n                    <TableCell>\n                      {data.compra_credito ? \"Crdito\" : \"Contado\"}\n                    </TableCell>\n                    <TableCell>\n                      {`${forma_pago.Value}-${forma_pago.Name}`}\n                    </TableCell>\n                    <TableCell>\n                      {`${data.cantidad_total} - ${data.unidad}`}\n                    </TableCell>\n                    <TableCell>\n                      {`%${data.descuento_porcentaje} - $${\n                        data.descuento_precio\n                          ? formatoMexico(data.descuento_precio)\n                          : 0\n                      }`}\n                    </TableCell>\n                    <TableCell>${formatoMexico(data.subtotal)}</TableCell>\n                    <TableCell>${formatoMexico(data.impuestos)}</TableCell>\n                    <TableCell>${formatoMexico(data.total)}</TableCell>\n                  </TableRow>\n                );\n              })}\n            </TableBody>\n          </Table>\n        </TableContainer>\n      </Paper>\n    </Box>\n  );\n}\n","import { gql } from \"@apollo/client\";\n\nexport const OBTENER_REPORTE_COMPRAS = gql`\n  query obtenerProductoMovimientos(\n    $empresa: ID!\n    $sucursal: ID\n    $input: ObteneReportesCompras\n  ) {\n    obtenerProductoMovimientos(\n      empresa: $empresa\n      sucursal: $sucursal\n      input: $input\n    ) {\n      _id\n      id_compra\n      id_traspaso\n      id_producto\n      id_proveedor\n      id_almacen\n      almacen {\n        id_almacen\n        nombre_almacen\n      }\n      proveedor {\n        _id\n        clave_cliente\n        numero_cliente\n        nombre_cliente\n      }\n      producto {\n        almacen_inicial {\n          almacen\n          cantidad\n          fecha_de_expiracion\n          id_almacen\n        }\n        datos_generales {\n          codigo_barras\n          clave_alterna\n          tipo_producto\n          nombre_comercial\n          nombre_generico\n          descripcion\n          id_categoria\n          categoria\n          subcategoria\n          id_subcategoria\n          id_departamento\n          departamento\n          id_marca\n          marca\n          clave_producto_sat {\n            Name\n            Value\n          }\n          receta_farmacia\n        }\n        precios {\n          ieps\n          ieps_activo\n          iva\n          iva_activo\n          monedero\n          monedero_electronico\n          granel\n          litros\n          inventario {\n            inventario_minimo\n            inventario_maximo\n            unidad_de_inventario\n            codigo_unidad\n          }\n          precio_de_compra {\n            precio_con_impuesto\n            precio_sin_impuesto\n            iva\n            ieps\n          }\n          precios_producto {\n            numero_precio\n            precio_neto\n            precio_venta\n            iva_precio\n            ieps_precio\n            unidad_mayoreo\n            utilidad\n            precio_general\n            cantidad_unidad\n            unidad_maxima\n          }\n          unidad_de_compra {\n            cantidad\n            precio_unitario_con_impuesto\n            unidad\n            codigo_unidad\n          }\n        }\n        unidades_de_venta {\n          cantidad\n          codigo_barras\n          id_producto\n          precio\n          unidad\n          unidad_principal\n          _id\n          precio_unidad {\n            numero_precio\n            precio_neto\n            precio_venta\n            iva_precio\n            ieps_precio\n            unidad_mayoreo\n            utilidad\n            precio_general\n            cantidad_unidad\n            unidad_maxima\n          }\n        }\n      }\n      concepto\n      cantidad\n      cantidad_regalo\n      unidad_regalo\n      cantidad_total\n      iva_total\n      ieps_total\n      costo\n      descuento_porcentaje\n      descuento_precio\n      compra_credito\n      forma_pago\n      impuestos\n      mantener_precio\n      subtotal\n      total\n      medida {\n        id_medida\n        medida\n        tipo\n      }\n      color {\n        id_color\n        color\n        hex\n      }\n      unidad\n      id_unidad_venta\n      empresa\n      sucursal\n      usuario\n      year_registro\n      numero_semana_year\n      numero_mes_year\n      fecha_registro\n    }\n  }\n`;\n","import React from \"react\";\nimport { Button } from \"@material-ui/core\";\nimport { RiFileExcel2Line } from \"react-icons/ri\";\nimport {\n  formatoFechaCorta,\n  formatoMexico,\n} from \"../../../../config/reuserFunctions\";\nimport { formaPago } from \"../../Facturacion/catalogos\";\n\nimport ReactExport from \"react-export-excel\";\n\nconst ExcelFile = ReactExport.ExcelFile;\nconst ExcelSheet = ReactExport.ExcelFile.ExcelSheet;\nconst ExcelColumn = ReactExport.ExcelFile.ExcelColumn;\n\nexport default function ExportarCompras({ data }) {\n  const compras = data.map((compra) => {\n    const {\n      producto,\n      fecha_registro,\n      almacen,\n      proveedor,\n      color,\n      medida,\n      cantidad,\n      unidad,\n      unidad_regalo,\n      cantidad_regalo,\n      cantidad_total,\n      compra_credito,\n      costo,\n      descuento_porcentaje,\n      descuento_precio,\n      iva_precio,\n      ieps_precio,\n      subtotal,\n      impuestos,\n      total,\n    } = compra;\n    const forma_pago_filtrada = formaPago.filter(\n      (forma) => forma.Value === compra.forma_pago\n    );\n    const forma_pago = forma_pago_filtrada[0];\n\n    const compra_realizada = {\n      producto: producto.datos_generales.nombre_comercial,\n      fecha_registro: formatoFechaCorta(fecha_registro),\n      almacen: almacen.nombre_almacen,\n      proveedor: proveedor.nombre_cliente,\n      color: color ? color.color : \"N/A\",\n      medida: medida ? `${medida.medida}/${medida.tipo}` : \"N/A\",\n      cantidad,\n      unidad,\n      unidad_regalo,\n      cantidad_regalo,\n      cantidad_total,\n      compra_credito: compra_credito === true ? \"Credito\" : \"Contado\",\n      forma_pago: `${forma_pago.Value} - ${forma_pago.Name}`,\n      costo: `$${costo ? formatoMexico(costo) : 0}`,\n      descuento_porcentaje: `%${descuento_porcentaje}`,\n      descuento_precio: `$${\n        descuento_precio ? formatoMexico(descuento_precio) : 0\n      }`,\n      iva_precio: `$${ieps_precio ? formatoMexico(ieps_precio) : 0}`,\n      subtotal: `$${subtotal ? formatoMexico(subtotal) : 0}`,\n      impuestos: `$${impuestos ? formatoMexico(impuestos) : 0}`,\n      total: `$${total ? formatoMexico(total) : 0}`,\n    };\n\n    return compra_realizada;\n  });\n  return (\n    <ExcelFile\n      element={\n        <Button color=\"primary\" startIcon={<RiFileExcel2Line />}>\n          Exportar a Excel\n        </Button>\n      }\n      filename=\"Reporte de compras\"\n    >\n      <ExcelSheet data={compras} name=\"Reporte de compras\">\n        <ExcelColumn label=\"Producto\" value=\"producto\" />\n        <ExcelColumn label=\"Fecha de compra\" value=\"fecha_registro\" />\n        <ExcelColumn label=\"Almacen\" value=\"almacen\" />\n        <ExcelColumn label=\"Proveedor\" value=\"proveedor\" />\n        <ExcelColumn label=\"Color\" value=\"color\" />\n        <ExcelColumn label=\"Medida\" value=\"medida\" />\n        <ExcelColumn label=\"Cantidad\" value=\"cantidad\" />\n        <ExcelColumn label=\"Unidad\" value=\"unidad\" />\n        <ExcelColumn label=\"Unidad de Regalo\" value=\"unidad_regalo\" />\n        <ExcelColumn label=\"Cantidad de Regalo\" value=\"cantidad_regalo\" />\n        <ExcelColumn label=\"Cantidad Total\" value=\"cantidad_total\" />\n        <ExcelColumn label=\"Metodo de Pago\" value=\"compra_credito\" />\n        <ExcelColumn label=\"Forma de pago\" value=\"forma_pago\" />\n        <ExcelColumn label=\"Costo\" value=\"costo\" />\n        <ExcelColumn\n          label=\"Descuento en Porcentaje\"\n          value=\"descuento_porcentaje\"\n        />\n        <ExcelColumn label=\"Descuento en Cantidad\" value=\"descuento_precio\" />\n        <ExcelColumn label=\"IVA\" value=\"iva_precio\" />\n        <ExcelColumn label=\"IEPS\" value=\"ieps_precio\" />\n        <ExcelColumn label=\"Subtotal\" value=\"subtotal\" />\n        <ExcelColumn label=\"Impuestos\" value=\"impuestos\" />\n        <ExcelColumn label=\"Total\" value=\"total\" />\n      </ExcelSheet>\n    </ExcelFile>\n  );\n}\n","import {\n  Box,\n  Button,\n  CircularProgress,\n  DialogContent,\n  FormControl,\n  Grid,\n  MenuItem,\n  Select,\n  TextField,\n  Typography,\n} from \"@material-ui/core\";\nimport React, { Fragment, useEffect, useState } from \"react\";\nimport TablaComprasFiltradas from \"./TablaComprasFiltradas\";\nimport { formaPago } from \"../../Facturacion/catalogos\";\nimport { useDebounce } from \"use-debounce/lib\";\nimport { OBTENER_REPORTE_COMPRAS } from \"../../../../gql/Compras/reporte_compras\";\nimport { useQuery } from \"@apollo/client\";\nimport ErrorPage from \"../../../../components/ErrorPage\";\nimport { ClearOutlined } from \"@material-ui/icons\";\nimport ExportarCompras from \"./ExportarCompras\";\n\nexport default function FiltrosCompras() {\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n\n  const { loading, data, error, refetch } = useQuery(OBTENER_REPORTE_COMPRAS, {\n    variables: {\n      empresa: sesion.empresa._id,\n      sucursal: sesion.sucursal._id,\n      input: {\n        fecha_inicio: \"\",\n        fecha_fin: \"\",\n        proveedor: \"\",\n        metodo_pago: \"\",\n        forma_pago: \"\",\n        producto: \"\",\n      },\n    },\n    fetchPolicy: \"network-only\",\n  });\n\n  if (loading) {\n    return (\n      <Box\n        display=\"flex\"\n        flexDirection=\"column\"\n        justifyContent=\"center\"\n        alignItems=\"center\"\n        height=\"80vh\"\n      >\n        <CircularProgress />\n        <Typography variant=\"h6\">Cargando...</Typography>\n      </Box>\n    );\n  }\n\n  if (error) return <ErrorPage error={error} />;\n\n  const { obtenerProductoMovimientos } = data;\n\n  return (\n    <Fragment>\n      <DialogContent>\n        <CapturaDeDatos refetch={refetch} data={obtenerProductoMovimientos} />\n        <TablaComprasFiltradas data={obtenerProductoMovimientos} />\n      </DialogContent>\n    </Fragment>\n  );\n}\n\nconst CapturaDeDatos = ({ refetch, data }) => {\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n  const [filtro, setFiltro] = useState({\n    fecha_inicio: \"\",\n    fecha_fin: \"\",\n    proveedor: \"\",\n    metodo_pago: \"\",\n    forma_pago: \"\",\n    producto: \"\",\n  });\n\n  const [values] = useDebounce(filtro, 800);\n\n  const limpiarFiltros = () => {\n    setFiltro({\n      fecha_inicio: \"\",\n      fecha_fin: \"\",\n      proveedor: \"\",\n      metodo_pago: \"\",\n      forma_pago: \"\",\n      producto: \"\",\n    });\n  };\n\n  const obtenerCamposFiltro = (e) => {\n    const { name, value } = e.target;\n    setFiltro({\n      ...filtro,\n      [name]: value,\n    });\n  };\n\n  useEffect(() => {\n    realizarBusquedaBD(values);\n  }, [values]);\n\n  const realizarBusquedaBD = (filter) => {\n    refetch({\n      empresa: sesion.empresa._id,\n      sucursal: sesion.sucursal._id,\n      input: filter,\n    });\n  };\n  return (\n    <Fragment>\n      <Grid container spacing={2}>\n        <Grid item md={2}>\n          <Typography>Fecha compra inicio:</Typography>\n          <TextField\n            fullWidth\n            size=\"small\"\n            name=\"fecha_inicio\"\n            variant=\"outlined\"\n            type=\"date\"\n            onChange={obtenerCamposFiltro}\n            value={filtro.fecha_inicio}\n          />\n        </Grid>\n        <Grid item md={2}>\n          <Typography>Fecha compra fin:</Typography>\n          <TextField\n            fullWidth\n            size=\"small\"\n            name=\"fecha_fin\"\n            variant=\"outlined\"\n            type=\"date\"\n            onChange={obtenerCamposFiltro}\n            value={filtro.fecha_fin}\n          />\n        </Grid>\n        <Grid item md={2}>\n          <Typography>Proveedor:</Typography>\n          <TextField\n            fullWidth\n            size=\"small\"\n            name=\"proveedor\"\n            variant=\"outlined\"\n            placeholder=\"Nombre, Clave o numero\"\n            onChange={obtenerCamposFiltro}\n            value={filtro.proveedor}\n          />\n        </Grid>\n        <Grid item md={2}>\n          <Typography>Mtodo de pago:</Typography>\n          <FormControl variant=\"outlined\" fullWidth size=\"small\">\n            <Select\n              name=\"metodo_pago\"\n              onChange={obtenerCamposFiltro}\n              value={filtro.metodo_pago}\n            >\n              <MenuItem value=\"\">\n                <em>Cualquier metodo</em>\n              </MenuItem>\n              <MenuItem value=\"CREDITO\">Crdito</MenuItem>\n              <MenuItem value=\"CONTADO\">Contado</MenuItem>\n            </Select>\n          </FormControl>\n        </Grid>\n        <Grid item md={2}>\n          <Typography>Forma de Pago:</Typography>\n          <FormControl variant=\"outlined\" fullWidth size=\"small\">\n            <Select\n              name=\"forma_pago\"\n              onChange={obtenerCamposFiltro}\n              value={filtro.forma_pago}\n            >\n              <MenuItem value=\"\">\n                <em>Cualquier forma</em>\n              </MenuItem>\n              {formaPago.map((res, index) => (\n                <MenuItem\n                  key={index}\n                  value={res.Value}\n                >{`${res.Value} - ${res.Name}`}</MenuItem>\n              ))}\n            </Select>\n          </FormControl>\n        </Grid>\n        <Grid item md={2}>\n          <Typography>Producto:</Typography>\n          <TextField\n            fullWidth\n            size=\"small\"\n            name=\"producto\"\n            variant=\"outlined\"\n            placeholder=\"Nombre, cdigo, clave...\"\n            onChange={obtenerCamposFiltro}\n            value={filtro.producto}\n          />\n        </Grid>\n      </Grid>\n      <Box mt={1} display=\"flex\">\n        <Button\n          color=\"primary\"\n          startIcon={<ClearOutlined />}\n          onClick={() => limpiarFiltros()}\n        >\n          Limpiar filtros\n        </Button>\n        <Box mx={1} />\n        <ExportarCompras data={data} />\n      </Box>\n    </Fragment>\n  );\n};\n","import {\n  AppBar,\n  Box,\n  Button,\n  Dialog,\n  Slide,\n  Toolbar,\n  Typography,\n} from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/styles\";\nimport React, { useState } from \"react\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport { FcPaid } from \"react-icons/fc\";\nimport FiltrosCompras from \"./FiltrosCompra\";\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nconst useStyles = makeStyles((theme) => ({\n  appBar: {\n    position: \"relative\",\n  },\n  title: {\n    marginLeft: theme.spacing(2),\n    flex: 1,\n  },\n}));\n\nexport default function ReportesCompras() {\n  const classes = useStyles();\n  const [open, setOpen] = useState(false);\n\n  const handleClickOpen = () => {\n    setOpen(!open);\n  };\n\n  return (\n    <Box>\n      <Button fullWidth onClick={handleClickOpen}>\n        <Box display=\"flex\" flexDirection=\"column\">\n          <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n            <FcPaid fontSize={100} />\n          </Box>\n          Reportes Compras\n        </Box>\n      </Button>\n      <Dialog\n        fullScreen\n        open={open}\n        onClose={handleClickOpen}\n        TransitionComponent={Transition}\n      >\n        <AppBar className={classes.appBar}>\n          <Toolbar>\n            <Typography variant=\"h6\" className={classes.title}>\n              Reportes Compras\n            </Typography>\n            <Box m={1}>\n              <Button\n                variant=\"contained\"\n                color=\"secondary\"\n                onClick={handleClickOpen}\n                size=\"large\"\n              >\n                <CloseIcon style={{ fontSize: 30 }} />\n              </Button>\n            </Box>\n          </Toolbar>\n        </AppBar>\n        <FiltrosCompras />\n      </Dialog>\n    </Box>\n  );\n}\n","import React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TablePagination from '@material-ui/core/TablePagination';\nimport TableRow from '@material-ui/core/TableRow';\nimport { Box} from '@material-ui/core';\n\nconst columns = [\n\t{ id: 'name', label: 'F. Venta', minWidth: 100 },\n\t{ id: 'code', label: 'Producto', minWidth: 100 },\n\t{ id: 'code', label: 'P. de Compra', minWidth: 100 },\t\n\t{ id: 'code', label: 'Cantidad', minWidth: 100 },\n\t{ id: 'code', label: 'Total', minWidth: 100 },\t\n\t{ id: 'code', label: 'Provedor', minWidth: 100 },\t\n\t{ id: 'code', label: 'Fomas', minWidth: 100 },\t\n\t{ id: 'code', label: 'M. de Pago', minWidth: 100 },\t\n\n];\n\nconst useStyles  = makeStyles((theme) => ({\n\troot: {\n\t\twidth: '100%'\n\t},\n\tcontainer: {\n\t\tmaxHeight: '100%'\n\t},\n    appBar: {\t\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n\trootBusqueda: {\n\t\tdisplay: 'flex',\n\t\tpaddingLeft: theme.spacing(2)\n\t},\n}));\n\nexport default function TablaVentasFiltradas() {\n\tconst classes = useStyles();\n\n\treturn (\n        <Box p={2}>\n            <Paper className={classes.root}>\n                <TableContainer className={classes.container}>\n                    <Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n                        <TableHead>\n                            <TableRow>\n                                {columns.map((column) => (\n                                    <TableCell key={column.id} align={column.align} style={{ minWidth: column.minWidth }}>\n                                        {column.label}\n                                    </TableCell>\n                                ))}\n                            </TableRow>\n                        </TableHead>\n                        <TableBody>\n                            \n                        </TableBody>\n                    </Table>\n                </TableContainer>\n            </Paper>\n        </Box>\n\t);\n}","import { AppBar, Box, Button, Dialog, FormControl, Grid, MenuItem, Select, Slide, TextField, Toolbar, Typography } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/styles';\nimport React, { useState } from 'react';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { FcPaid } from 'react-icons/fc';\nimport SaveIcon from '@material-ui/icons/Save';\nimport TablaVentasFiltradas from './TablaVentasFiltradas';\n\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nconst useStyles = makeStyles((theme) => ({\n\tappBar: {\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n\ticon: {\n\t\twidth: 100\n\t},\n    formInputFlex: {\n\t\tdisplay: 'flex',\n\t\t'& > *': {\n\t\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(1)}px`\n\t\t},\n\t\t'& .obligatorio': {\n\t\t\tcolor: 'red'\n\t\t}\n\t},\n\tformInput: {\n\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(2)}px`\n\t},\n    margin: {\n\t\tmargin: theme.spacing(1)\n\t},\n\ticonSave: {\n\t\tzIndex: 10,\n\t\tposition: 'fixed',\n\t\tbottom: theme.spacing(2),\n\t\tright: theme.spacing(10)\n\t},\n}));\n\nexport default function ReportesVentas() {\n\n    const classes = useStyles();\n\n    const [open, setOpen] = useState(false);\n\n    const handleClickOpen =()=>{setOpen(!open)};\n\n    return (\n        <>\n            <Button fullWidth onClick={handleClickOpen}>\n\t\t\t\t<Box display=\"flex\" flexDirection=\"column\">\n\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n                        <img src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/ventas/cart-add.svg' alt=\"icono ventas\" style={{width: 100}} />\n\t\t\t\t\t</Box>\n\t\t\t\t\tReportes Ventas\n\t\t\t\t</Box>\n\t\t\t</Button>\n\t\t\t<Dialog fullScreen open={open} onClose={handleClickOpen} TransitionComponent={Transition}>\n\t\t\t\t<AppBar className={classes.appBar}>\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t<Typography variant=\"h6\" className={classes.title}>\n\t\t\t\t\t\t\tReportes Ventas\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Box m={1}>\n\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"secondary\" onClick={handleClickOpen} size=\"large\">\n\t\t\t\t\t\t\t\t<CloseIcon style={{fontSize: 30}} />\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</AppBar>\n                <Grid container>\n                    <Button\n                        variant=\"contained\"\n                        color=\"primary\"\n                        aria-label=\"Guardar\"\n                        className={classes.iconSave}\n                    >\n                        <SaveIcon className={classes.margin} />\n                        Exportar\n                    </Button>\n                    <Grid item lg={12}>\n                        <div className={classes.formInputFlex}>\n                            <Box width=\"100%\">\n                                <Typography>\n                                    Fecha inicio:\n                                </Typography>\n                                <TextField \n                                    fullWidth\n                                    size=\"small\"\n                                    name=\"fechaInicio\"\n                                    variant=\"outlined\"\n                                    type=\"date\"\n                                />\n                            </Box>\n                            <Box width=\"100%\">\n                                <Typography>\n                                    Fecha fin:\n                                </Typography>\n                                <TextField \n                                    fullWidth\n                                    size=\"small\"\n                                    name=\"fechaFin\"\n                                    variant=\"outlined\"\n                                    type=\"date\"\n                                />\n                            </Box>\n                            <Box width=\"100%\">\n                                <Typography>\n                                    Clientes:\n                                </Typography>\n                                <TextField\n                                    fullWidth\n                                    size=\"small\"\n                                    name=\"provedor\"\n                                    variant=\"outlined\"\n                                />\n                            </Box>\n                            <Box width=\"100%\">\n                                <Typography>\n                                    Metodos de Pago:\n                                </Typography>\n                                <FormControl\n                                    variant=\"outlined\"\n                                    fullWidth\n                                    size=\"small\"\n                                >\n                                    <Select\n                                        id=\"form-producto-tipo\"\n                                        name=\"tipo_producto\"\n                                    >\n                                        <MenuItem value=\"\">\n                                            <em>Selecciona uno</em>\n                                        </MenuItem>\n                                        <MenuItem value=\"EFECTIVO\">Efectivo</MenuItem>\n                                        <MenuItem value=\"PUNTOS\">Puntos</MenuItem>\n                                        <MenuItem value=\"DEBITO\">T. Debito</MenuItem>\n                                        <MenuItem value=\"CREDITO\">T. Credito</MenuItem>\n                                        <MenuItem value=\"CHEQUES\">Cheques</MenuItem>\n                                    </Select>\n                                </FormControl>\n                            </Box>\n                            <Box width=\"100%\">\n                                <Typography>\n                                    Nombre Producto:\n                                </Typography>\n                                <TextField\n                                    fullWidth\n                                    size=\"small\"\n                                    name=\"provedor\"\n                                    variant=\"outlined\"\n                                />\n                            </Box>\n                        </div>\n                    </Grid> \n                    <Grid item lg={12}>\n                        <TablaVentasFiltradas />\n                    </Grid>\n                    \n                </Grid>            \n\t\t\t</Dialog> \n        </>\n    )   \n}\n","import React from \"react\";\nimport { Button } from \"@material-ui/core\";\nimport { RiFileExcel2Line } from \"react-icons/ri\";\nimport {\n  formatoFechaCorta,\n  formatoMexico,\n} from \"../../../../config/reuserFunctions\";\nimport { formaPago } from \"../../Facturacion/catalogos\";\n\nimport ReactExport from \"react-export-excel\";\n\nconst ExcelFile = ReactExport.ExcelFile;\nconst ExcelSheet = ReactExport.ExcelFile.ExcelSheet;\nconst ExcelColumn = ReactExport.ExcelFile.ExcelColumn;\n\nexport default function ExportarTraspasos({ data }) {\n  const traspasos = data.map((traspaso) => {\n    const trasp =  {\n      producto: traspaso.producto.datos_generales.nombre_comercial,\n      cantidad: traspaso.cantidad,\n      fecha:\tformatoFechaCorta(traspaso.id_traspaso.fecha_registro),\n      concepto: traspaso.id_traspaso.concepto_traspaso.nombre_concepto,\n      almacen_origen: (traspaso.almacen_origen !== null) ? traspaso.almacen_origen.nombre_almacen : '',\n      almacen_destino:(traspaso.almacen_destino !== null) ? traspaso.almacen_destino.nombre_almacen : ''\n    } ;\n  \n    return trasp;\n  });\n  return (\n    <ExcelFile\n      element={\n        <Button color=\"primary\" startIcon={<RiFileExcel2Line />}>\n          Exportar a Excel\n        </Button>\n      }\n      filename=\"Reporte de traspasos\"\n    >\t\n\n      <ExcelSheet data={traspasos} name=\"Reporte de traspasos\">\n        <ExcelColumn label=\"Producto\" value=\"producto\" />\n        <ExcelColumn label=\"Cantidad\" value=\"cantidad\" />\n        <ExcelColumn label=\"Fecha\" value=\"fecha\" />\n        <ExcelColumn label=\"Concepto\" value=\"concepto\" />\n        <ExcelColumn label=\"Almacn Origen\" value=\"almacen_origen\" />\n        <ExcelColumn label=\"Almacn Destino\" value=\"almacen_destino\" />\n        \n        \n      </ExcelSheet>\n    </ExcelFile>\n  );\n}\n","import React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport { Box} from '@material-ui/core';\nimport {\n  formatoFechaCorta,\n\n} from \"../../../../config/reuserFunctions\"; \n\nconst columns = [\n\t{ id: 'producto', label: 'Producto', minWidth: 200 },\n\t\n\t{ id: 'cantidad', label: 'Cantidad', minWidth: 50 },\n\t{ id: 'fecha', label: 'Fecha ', minWidth: 50 },\t\n\t{ id: 'concepto', label: 'Concepto ', minWidth: 100 },\n\t{ id: 'almacen_origen', label: 'Almacn Origen', minWidth: 100 },\t\n\t{ id: 'almacen_destino', label: 'Almacn Destino', minWidth: 100 },\t\n\n\n];\n\nconst useStyles  = makeStyles((theme) => ({\n\troot: {\n\t\twidth: '100%'\n\t},\n\tcontainer: {\n\t\tmaxHeight: '100%'\n\t},\n    appBar: {\t\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n\trootBusqueda: {\n\t\tdisplay: 'flex',\n\t\tpaddingLeft: theme.spacing(2)\n\t},\n}));\n\nexport default function TablaAlmacenFiltradas({data}) {\n\tconst classes = useStyles();\n\n\treturn (\n        <Box p={2}>\n            <Paper className={classes.root}>\n                <TableContainer className={classes.container}>\n                    <Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n                        <TableHead>\n                            <TableRow>\n                                {columns.map((column) => (\n                                    <TableCell key={column.id} align={column.align} style={{ minWidth: column.minWidth }}>\n                                        {column.label}\n                                    </TableCell>\n                                ))}\n                            </TableRow>\n                        </TableHead>\n                         <TableBody>\n\t\t\t\t\t\t\t{data.map((data, index) => {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<TableRow key={index} role=\"checkbox\" tabIndex={-1}>\n\t\t\t\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\t\t\t{data.producto.datos_generales.nombre_comercial}\n\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t<TableCell>{data.cantidad}</TableCell>\n\t\t\t\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\t\t\t{formatoFechaCorta(data.id_traspaso.fecha_registro)}\n\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\t\t\t{data.id_traspaso.concepto_traspaso.nombre_concepto}\n\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t<TableCell>{(data.almacen_origen !== null) ? data.almacen_origen.nombre_almacen : ''}</TableCell>\n\t\t\t\t\t\t\t\t\t<TableCell>{(data.almacen_destino !== null) ? data.almacen_destino.nombre_almacen : ''}</TableCell>\n\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</TableBody>\n                    </Table>\n                </TableContainer>\n            </Paper>\n        </Box>\n\t);\n}","import React, { useState,  Fragment } from 'react';\n\nimport { AppBar, Box, Button, Dialog, FormControl, \nGrid, MenuItem, Select, Slide, TextField, Toolbar, \nTypography } from '@material-ui/core';\nimport {CircularProgress} from \"@material-ui/core\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport { makeStyles } from '@material-ui/styles';\nimport { OBTENER_USUARIOS } from '../../../../gql/Catalogos/usuarios';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { ClearOutlined } from \"@material-ui/icons\";\nimport ExportarTraspasos from \"./ExportarTraspasos\";\nimport TablaAlmacenFiltradas from './TablaAlmacenFiltradas';\nimport { useQuery } from '@apollo/client';\n\n\nimport { OBTENER_ALMACENES, OBTENER_TRASPASOS  } from '../../../../gql/Almacenes/Almacen';\nimport { useDebounce } from 'use-debounce';\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nconst useStyles = makeStyles((theme) => ({\n\tappBar: {\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n\ticon: {\n\t\twidth: 100\n\t},\n    formInputFlex: {\n\t\tdisplay: 'flex',\n\t\t'& > *': {\n\t\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(1)}px`\n\t\t},\n\t\t'& .obligatorio': {\n\t\t\tcolor: 'red'\n\t\t}\n\t},\n\tformInput: {\n\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(2)}px`\n\t},\n    margin: {\n\t\tmargin: theme.spacing(1)\n\t},\n    CircularProgress:{\n         width: '100%',\n        height: 200,\n        marginTop:100,\n        display: 'flex',\n        justifyContent: 'center'\n    },\n\ticonSave: {\n\t\tzIndex: 10,\n\t\tposition: 'fixed',\n\t\tbottom: theme.spacing(2),\n\t\tright: theme.spacing(10)\n\t},\n}));\n\nexport default function ReportesAlmacen() {\n\n    const classes = useStyles();\n    const sesion = JSON.parse(localStorage.getItem('sesionCafi'));\t\n    const [open, setOpen] = useState(false);\n    const [almacenOrigen, setAlmacenOrigen] = useState(null);\n    const [almacenDestino, setAlmacenDestino] = useState(null);\n    const [loading, setLoading] = useState(false);\n    const [inputFilter, setFilter] = useState({\n        empresa: sesion.empresa._id,\n        sucursal: sesion.sucursal._id,\n        producto: '',\n        fecha_inicio: '',\n        fecha_final: '',\n        usuario: ''\n    });\n\n    const [encargado, setEncargado] = useState('');\n    const [value] = useDebounce(inputFilter, 1000);\n\n    let almacenes = [];\n    let traspasos = [];\n    let usuarios = [];\n\n\n    const queryObtenerAlmacenes = useQuery(OBTENER_ALMACENES,{\n        variables: {\n            id: sesion.sucursal._id\n        },\n         fetchPolicy: \"network-only\"\n    });\t\n    \n    const queryObtenerUsuarios =  useQuery(OBTENER_USUARIOS,{\n        variables: {\n            sucursal: `${sesion.sucursal._id}`\n        },\n        \n         fetchPolicy: \"network-only\"\n    })\n    const traspasosAlmacenes = useQuery(OBTENER_TRASPASOS,{\n        variables:{\n            input: value\n        },\n        fetchPolicy: \"network-only\"\n    });\t\n\t\n\n  /*   useEffect(() => {\n        try {\n            \n            traspasosAlmacenes.refetch({\n                  input: inputFilter\n            }) \n        } catch (error) {\n            console.log('traspasosAlmacenes',error)\n        }\n        \n    }, []); */\n    \n    const limpiarFiltros = () => {\n        try {\n            let filt = {\n                empresa: sesion.empresa._id,\n                sucursal: sesion.sucursal._id,\n                producto: '',\n                fecha_inicio: '',\n                fecha_final: '',\n                usuario: ''\n            };\n          \n        \n            setFilter(filt);\n            setLoading(true);\n            traspasosAlmacenes.refetch(\n                {\n                    input: filt\n                }\n            )\n            setEncargado('');\n            setAlmacenOrigen(null);\n            setAlmacenDestino(null);\n            setLoading(false);\n        } catch (error) {\n            \n        }\n  \n\n  };\n    const handleClickOpen =()=>{setOpen(!open)};\n    \n    if(queryObtenerAlmacenes.data){\n        almacenes = queryObtenerAlmacenes.data.obtenerAlmacenes;\n       \n    }\n     \n    const setDatosInput = (e) =>{\n      \n          let fil = {...inputFilter, [e.target.name]: e.target.value,almacen_destino:almacenDestino,almacen_origen : almacenOrigen}\n        setFilter(fil)\n    }\n    const setQueryAlmacenOrigen = (alm) =>{\n           \n        let almDes = (almacenDestino !== null ) ? almacenDestino._id : '';\n        \n        if(alm._id !== ''){\n             setLoading(true);\n            let fil = {...inputFilter, almacen_origen : alm._id, almacen_destino: almDes}\n        \n            traspasosAlmacenes.refetch(\n                {\n                    input: fil\n                }\n            )\n           \n        }\n         setAlmacenOrigen(alm)\n          setLoading(false);\n    }\n     const setQueryAlmacenDestino = (alm) =>{\n        let almOri = (almacenOrigen !== null ) ? almacenOrigen._id : '';  \n        if(alm._id !== ''){\n      \n            let fil = {...inputFilter, almacen_origen : almOri, almacen_destino : alm._id}\n            setLoading(true);\n            traspasosAlmacenes.refetch(\n                {\n                    input: fil\n                }\n            )\n            \n        }\n        \n        setAlmacenDestino(alm);\n         setLoading(false);\n    }\n    const setEncargadoInput = ( enc) =>{\n       try {\n            let almDes = (almacenDestino !== null ) ? almacenDestino._id : '';\n            let almOri = (almacenOrigen !== null ) ? almacenOrigen._id : '';\n            let encId = ( enc!== '' ) ? enc._id : ''; \n            let fil ={...inputFilter, usuario: encId, almacen_destino:almDes,almacen_origen : almOri};\n        \n        traspasosAlmacenes.refetch(\n                {\n                    input: fil\n                }\n            )\n         setEncargado(enc)  \n          setLoading(false);  \n       } catch (error) {\n           \n       }\n        \n    }\n\n    if(traspasosAlmacenes.data){\n       try {\n           \n            traspasos = traspasosAlmacenes.data.obtenerTraspasos;   \n       } catch (error) {\n           \n       }\n      \n       \n    }\n\n    if(queryObtenerUsuarios.data){\n        try {\n             usuarios = queryObtenerUsuarios.data.obtenerUsuarios;\n        } catch (error) {\n            \n        }\n       \n    }\n\n    return (\n        <>\n            <Button fullWidth onClick={handleClickOpen}>\n\t\t\t\t<Box display=\"flex\" flexDirection=\"column\">\n\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n                        <img \n                            src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/almacen.svg' \n                            alt=\"icono almacen\" \n                            style={{width: 100}}\n                        />\n\t\t\t\t\t</Box>\n\t\t\t\t\tReportes Almacen\n\t\t\t\t</Box>\n\t\t\t</Button>\n\t\t\t<Dialog fullScreen open={open} onClose={handleClickOpen} TransitionComponent={Transition}>\n\t\t\t\t<AppBar className={classes.appBar}>\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t<Typography variant=\"h6\" className={classes.title}>\n\t\t\t\t\t\t\tReportes Almacen\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Box m={1}>\n\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"secondary\" onClick={handleClickOpen} size=\"large\">\n\t\t\t\t\t\t\t\t<CloseIcon style={{fontSize: 30}} />\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</AppBar>\n                <Grid container>\n                    \n                    <Grid item lg={12}>\n                        <div className={classes.formInputFlex}>\n                            <Box width=\"100%\">\n                                <Typography>\n                                    Fecha inicio:\n                                </Typography>\n                                <TextField \n                                    fullWidth\n                                    size=\"small\"\n                                    name=\"fecha_inicio\"\n                                    variant=\"outlined\"\n                                    value={inputFilter.fecha_inicio}\n                                    type=\"date\"\n                                    onChange={(e) => setDatosInput(e)}\n                                />\n                            </Box>\n                            <Box width=\"100%\">\n                                <Typography>\n                                    Fecha fin:\n                                </Typography>\n                                <TextField \n                                    fullWidth\n                                    size=\"small\"\n                                    name=\"fecha_final\"\n                                    variant=\"outlined\"\n                                    type=\"date\"\n                                    onChange={(e) => setDatosInput(e)}\n                                    value={inputFilter.fecha_final}\n                                />\n                            </Box>\n                            <Box width=\"100%\">\n                                <Typography>Encargado</Typography>\n                                <Box display=\"flex\">\n                                    <Autocomplete\n                                        id=\"encargado\"\n                                        size=\"small\"\n                                        options={usuarios}\n                                       \n                                        getOptionLabel={(option) =>\n                                            option.nombre ? `${option.nombre}` : \"\"\n                                        }\n                                        fullWidth\n                                        renderInput={(params) => (\n                                            <TextField\n                                            {...params}\n                                            variant=\"outlined\"\n                                            InputProps={{\n                                                ...params.InputProps,\n                                                endAdornment: (\n                                                <Fragment>\n                                                  \n                                                    {params.InputProps.endAdornment}\n                                                </Fragment>\n                                                ),\n                                            }}\n                                            \n                                            />\n                                        )}\n                                        renderOption={(option) => (\n                                            <Fragment>\n                                            {`${option.nombre}`}\n                                            </Fragment>\n                                        )}\n                                        onChange={ (_, data) =>  setEncargadoInput(data)}\n                                        getOptionSelected={(option, value) =>\n                                            option.nombre === value.nombre\n                                        }\n             \n                                        value={(encargado.nombre) ? encargado: null }\n                                    />\n                                </Box>\n                            </Box>\n                             <Box width=\"100%\">\n                                <Typography>Producto:</Typography>\n                                <TextField\n                                    fullWidth\n                                    size=\"small\"\n                                    name=\"producto\"\n                                    variant=\"outlined\"\n                                    placeholder=\"Nombre, cdigo, clave...\"\n                                    onChange={(e) => setDatosInput(e)}\n                                    value={inputFilter.producto}\n                                />\n                            </Box>\n                           \n                            <Box width=\"100%\">\n                                <Typography>\n                                    Almacen origen:\n                                </Typography>\n                                <FormControl\n                                    variant=\"outlined\"\n                                    fullWidth\n                                    size=\"small\"\n                                >\n                                    <Select\n                                        id=\"form-almacen-origen\"\n                                        name=\"almacen_origen\"\n                                        onChange={(e) => setQueryAlmacenOrigen(e.target.value)}\n                                        value={(almacenOrigen !== null) ? almacenOrigen : ''} \n                                    >   \n                                       \n                                        {almacenes.map((almacen) => (\n                                            <MenuItem key={almacen._id} value={almacen} >\n                                                {almacen.nombre_almacen}\n                                            </MenuItem>\n                                        ))}\n                                      \n                                    </Select>\n                                </FormControl>\n                            </Box>\n                            <Box width=\"100%\">\n                                <Typography>\n                                    Almacen destino:\n                                </Typography>\n                                <FormControl\n                                    variant=\"outlined\"\n                                    fullWidth\n                                    size=\"small\"\n                                    \n                                >\n                                    <Select\n                                        id=\"form-almacen-destino\"\n                                        name=\"almacen_destino\"\n                                        onChange={(e) => setQueryAlmacenDestino(e.target.value)}\n                                        value={(almacenDestino !== null) ? almacenDestino: ''} \n                                    >\n                                     \n                                          {almacenes.map((almacen) => (\n                                            <MenuItem key={almacen._id} value={almacen} >\n                                            {almacen.nombre_almacen}\n                                            </MenuItem>\n                                        ))}\n                                       \n                                    </Select>\n                                </FormControl>\n                            </Box>\n                           \n                        </div>\n                        <div className={classes.formInputFlex}>\n                            <Box mt={1} display=\"flex\">\n                                <Button\n                                color=\"primary\"\n                                startIcon={<ClearOutlined />}\n                                onClick={() => limpiarFiltros()}\n                                >\n                                Limpiar filtros\n                                </Button>\n                                <Box mx={1} />\n                                <ExportarTraspasos data= {traspasos} />\n                            </Box>\n                        </div>    \n                    </Grid> \n                    {\n                        (traspasosAlmacenes.loading || loading) ?\n                        <div className={classes.CircularProgress}>\n                        <CircularProgress/>\n                        </div>\n                        :\n                        <Grid item lg={12}>\n                         <TablaAlmacenFiltradas data={traspasos} />\n                        </Grid>\n                    }\n                 \n                    \n                </Grid>            \n\t\t\t</Dialog> \n        </>\n    )   \n}\n","import React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport { Box, Button, CircularProgress, Dialog, DialogActions, Grid, Typography} from '@material-ui/core';\nimport { OBTENER_CORTE_CAJA } from '../../../../gql/Cajas/cajas';\nimport moment from 'moment';\nimport { useLazyQuery } from '@apollo/client';\n\nconst columns = [\n\t{label: 'Fecha Corte', minWidth: 100 },\n\t{label: 'Hora Corte', minWidth: 100 },\n\t{label: 'Usuario', minWidth: 100 },\n\t{label: 'Turno Horario', minWidth: 100 },\t\n\t{label: 'Caja', minWidth: 100 },\n\t{label: 'Sucursal', minWidth: 100 }\n];\n\nconst useStyles  = makeStyles((theme) => ({\n\troot: {\n\t\twidth: '100%'\n\t},\n\tcontainer: {\n\t\tmaxHeight: \"70vh\",\n    \t'& ::-webkit-scrollbar': {\n      \t\tdisplay: 'none'\n    \t}\n\t},\n    appBar: {\t\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n\trootBusqueda: {\n\t\tdisplay: 'flex',\n\t\tpaddingLeft: theme.spacing(2)\n\t},\n}));\n\nexport default function TablaCortesFiltradas({loading, cortes}) {\n\tconst classes = useStyles();\n\n\tif (loading)\n\treturn (\n\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" height=\"30vh\">\n\t\t\t<CircularProgress />\n\t\t</Box>\n\t);\n\n\treturn (\n        <Box p={2}>\n            <Paper className={classes.root}>\n                <TableContainer className={classes.container}>\n                    <Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n                        <TableHead>\n                            <TableRow>\n                                {columns.map((column) => (\n                                    <TableCell key={column.id} align=\"center\" style={{ minWidth: column.minWidth }}>\n                                        {column.label}\n                                    </TableCell>\n                                ))}\n                            </TableRow>\n                        </TableHead>\n\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t{cortes.map((row) => {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<RowsRender\n\t\t\t\t\t\t\t\t\t\tkey={row._id}\n\t\t\t\t\t\t\t\t\t\tcorte={row}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</TableBody>\n                    </Table>\n                </TableContainer>\n            </Paper>\n        </Box>\n\t);\n}\n\nfunction RowsRender({corte}) {\n\tconst [open, setOpen] = useState(false);\n    const sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\n\tconst [obtenerCorte, { data, error, loading }] = useLazyQuery(\n\t\tOBTENER_CORTE_CAJA,\n\t\t{\n\t\t\tvariables: { \n\t\t\t\tsucursal: sesion.sucursal._id, \n\t\t\t\tempresa: sesion.empresa._id,\n\t\t\t\tinput: { \n\t\t\t\t\tusuario: sesion._id,\n\t\t\t\t\tcaja: corte.id_caja,\n\t\t\t\t\ttoken_turno_user: corte.token_turno_user,\n\t\t\t\t\tnumber_user: sesion.numero_usuario\n\t\t\t\t} \n\t\t\t},\n\t\t  fetchPolicy: \"network-only\",\n\t\t}\n\t);\n\n\tlet montos_sistema = [];\n\n\tif(data){\n\t\tmontos_sistema = data.obtenerCorteCaja.montos_en_sistema;\n\t};\n\n\tconst handleClickOpen = () => {\n\t\tsetOpen(!open);\n\t\tobtenerCorte();\n\t};\n\n\treturn(\n\t\t<>\n\t\t\t<TableRow\n\t\t\t\thover\n\t\t\t\trole=\"checkbox\"handleClickOpen\n\t\t\t\tonClick={handleClickOpen}\n\t\t\t\ttabIndex={-1}\n\t\t\t\tkey={corte._id}\n\t\t\t>\n\t\t\t\t<TableCell align=\"center\">{corte.fecha_salida.completa}</TableCell>\n\t\t\t\t<TableCell align=\"center\">{corte.hora_salida.completa}</TableCell>\n\t\t\t\t<TableCell align=\"center\">{corte.usuario_en_turno.nombre}</TableCell>\n\t\t\t\t<TableCell align=\"center\">{corte.horario_en_turno}</TableCell>\n\t\t\t\t<TableCell align=\"center\">{corte.numero_caja}</TableCell>\n\t\t\t\t<TableCell align=\"center\">{corte.sucursal.nombre_sucursal}</TableCell>\n\t\t\t</TableRow>\n\n\t\t\t<Dialog\n\t\t\t\tfullWidth={true}\n\t\t\t\tmaxWidth='lg'\n\t\t\t\topen={open} \n\t\t\t\tonClose={handleClickOpen} \n\t\t\t>\n\t\t\t\t<InformacionCorteCaja corte={corte} montos_sistema={montos_sistema} loading={loading} />\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Box p={2} display=\"flex\" flexDirection='row-reverse'>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\tsize=\"large\"\n\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\tonClick={handleClickOpen}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tImprimir Ticket\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Box>\n\t\t\t\t</DialogActions>\n\t\t\t</Dialog>\n\t\t</>\n\t);\n};\n\nfunction InformacionCorteCaja({corte, montos_sistema, loading}) {\n\tconst classes = useStyles();\n\n\tif (loading)\n\treturn (\n\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" height=\"30vh\">\n\t\t\t<CircularProgress />\n\t\t</Box>\n\t);\n\n\treturn(\n\t\t<>\n\t\t\t<Grid item lg={12} md={12} xs={12}>\n\t\t\t\t<Box p={1} textAlign=\"center\">\n\t\t\t\t\t<Typography variant=\"h5\">\n\t\t\t\t\t\t<b>Reporte de Corte de Caja</b>\n\t\t\t\t\t</Typography>\n\t\t\t\t</Box>\n\t\t\t\t<Box p={1} textAlign=\"center\">\n\t\t\t\t\t<Typography variant=\"h6\">\n\t\t\t\t\t\t<b>Fecha y hora de Corte: </b>{moment(corte.fecha_movimiento).format('Do MMMM YYYY, h:mm:ss')}\n\t\t\t\t\t</Typography>\n\t\t\t\t</Box>\n\t\t\t</Grid>\n\t\t\t<Grid item lg={12} md={12} xs={12}>\n\t\t\t\t<Box p={2} display=\"flex\" justifyContent=\"center\">\n\t\t\t\t\t<Box p={1}>\n\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t<b>Usuario: </b> {corte.usuario_en_turno.nombre}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box p={1}>\n\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t<b>No. de usuario: </b>{corte.usuario_en_turno.numero_usuario}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</Box>\n\t\t\t\t\t\n\t\t\t\t\t<Box p={1}>\n\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t<b>Horario en turno: </b>{corte.horario_en_turno}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box p={1}>\n\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t<b>Numero de caja: </b>{corte.numero_caja}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box p={1}>\n\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t<b>Sucursal: </b>{corte.sucursal.nombre_sucursal}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</Box>\n\t\t\t\t</Box>\n\t\t\t</Grid>\n\n\t\t\t<Grid>\n\t\t\t\t<Paper className={classes.root}>\n\t\t\t\t\t<TableContainer className={classes.container}>\n\t\t\t\t\t\t<Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n\t\t\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">CONCEPTO</TableCell>\n\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">CAJERO</TableCell>\n\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">SISTEMA</TableCell>\n\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">DIFERENCIA</TableCell>\n\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t</TableHead>\n\t\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\"><b>MONTO EFECTIVO</b></TableCell>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\">${corte.montos_en_caja.monto_efectivo.monto}</TableCell>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\">${montos_sistema.monto_efectivo}</TableCell>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t\t${( corte.montos_en_caja.monto_efectivo.monto - montos_sistema.monto_efectivo)}\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\"><b>MONTO TARJETA DEBITO</b></TableCell>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\">${corte.montos_en_caja.monto_tarjeta_debito.monto}</TableCell>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\">${montos_sistema.monto_tarjeta_debito}</TableCell>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t\t${( corte.montos_en_caja.monto_tarjeta_debito.monto - montos_sistema.monto_tarjeta_debito)}\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\"><b>MONTO TARJETA DE CREDITO</b></TableCell>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\">${corte.montos_en_caja.monto_tarjeta_credito.monto}</TableCell>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\">${montos_sistema.monto_tarjeta_credito}</TableCell>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t\t${( corte.montos_en_caja.monto_tarjeta_credito.monto - montos_sistema.monto_tarjeta_credito)}\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\"><b>MONTO TRANSFERENCIAS</b></TableCell>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\">${corte.montos_en_caja.monto_transferencia.monto}</TableCell>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\">${montos_sistema.monto_transferencia}</TableCell>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t\t${( corte.montos_en_caja.monto_transferencia.monto - montos_sistema.monto_transferencia)}\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\"><b>MONTO EN MONEDERO</b></TableCell>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\">${corte.montos_en_caja.monto_monedero.monto}</TableCell>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\">${montos_sistema.monto_monedero}</TableCell>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t\t${( corte.montos_en_caja.monto_monedero.monto - montos_sistema.monto_monedero)}\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\"><b>MONTO EN CREDITOS</b></TableCell>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\">${corte.montos_en_caja.monto_creditos.monto}</TableCell>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\">${montos_sistema.monto_creditos}</TableCell>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t\t${( corte.montos_en_caja.monto_creditos.monto - montos_sistema.monto_creditos)}\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\"><b>MONTO EN CHEQUES</b></TableCell>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\">${corte.montos_en_caja.monto_cheques.monto}</TableCell>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\">${montos_sistema.monto_cheques}</TableCell>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t\t${( corte.montos_en_caja.monto_cheques.monto - montos_sistema.monto_cheques)}\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\"><b>MONTO EN VALE DE DESPENSA</b></TableCell>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\">${corte.montos_en_caja.monto_vales_despensa.monto}</TableCell>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\">${montos_sistema.monto_vales_despensa}</TableCell>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t\t${( corte.montos_en_caja.monto_vales_despensa.monto - montos_sistema.monto_vales_despensa)}\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t\t</Table>\n\t\t\t\t\t</TableContainer>\n\t\t\t\t</Paper>\n\t\t\t\t\n\t\t\t</Grid>\n\t\t</>\n\t)\n}","import { Button, makeStyles } from '@material-ui/core'\nimport React, { useState } from 'react'\nimport ExcelFile from 'react-export-excel/dist/ExcelPlugin/components/ExcelFile'\nimport SaveIcon from '@material-ui/icons/Save';\nimport ExcelSheet from 'react-export-excel/dist/ExcelPlugin/elements/ExcelSheet';\nimport ExcelColumn from 'react-export-excel/dist/ExcelPlugin/elements/ExcelColumn';\n\nconst useStyles = makeStyles((theme) => ({\n\ticon: {\n\t\tfontSize: 40,\n\t\twidth: 40\n\t},\n    iconSave: {\n\t\tzIndex: 10,\n\t\tposition: 'fixed',\n\t\tbottom: theme.spacing(2),\n\t\tright: theme.spacing(10)\n\t}\n}));\n\nexport default function ExportExcel({historialCortes}) {\n    const [ datosExcel, setDatosExcel ] = useState([]);\n\n    const classes = useStyles();\n    let arrayExcel = [];\n\n    const agruparDatos = (historialCortes) => {\n        datosExcel.splice(0, datosExcel.length);\n        for (let i = 0; i < historialCortes.length; i++) {\n            arrayExcel = { \n                fecha: historialCortes[i].fecha_salida.completa,\n                hora_movimiento: historialCortes[i].hora_salida.completa,\n                horario_turno: historialCortes[i].horario_en_turno,\n                sucursal: historialCortes[i].sucursal.nombre_sucursal,\n                nombre: historialCortes[i].usuario_en_turno.nombre,\n                numero_usuario: historialCortes[i].usuario_en_turno.numero_usuario,\n                concepto: \"Corte Caja\",\n                caja: historialCortes[i].numero_caja,\n                monto_efectivo: historialCortes[i].montos_en_caja.monto_efectivo.monto , \n                monto_creditos: historialCortes[i].montos_en_caja.monto_creditos.monto , \n                monto_tarjeta_debito: historialCortes[i].montos_en_caja.monto_tarjeta_debito.monto , \n                monto_tarjeta_credito: historialCortes[i].montos_en_caja.monto_tarjeta_credito.monto , \n                monto_monedero: historialCortes[i].montos_en_caja.monto_monedero.monto , \n                monto_cheques: historialCortes[i].montos_en_caja.monto_cheques.monto , \n                monto_transferencia: historialCortes[i].montos_en_caja.monto_transferencia.monto ,\n                monto_vales_despensa: historialCortes[i].montos_en_caja.monto_vales_despensa.monto ,\n            };\n            datosExcel.push(arrayExcel);\n        };\n    };\n\n\n    return (\n        <>\n            <ExcelFile\n                element={\n                    <Button\n                        variant=\"contained\"\n                        color=\"primary\"\n                        aria-label=\"Guardar\"\n                        className={classes.iconSave}\n                        onClick={() => agruparDatos(historialCortes)}\n                    >\n                        <SaveIcon className={classes.margin} />\n                        Exportar\n                    </Button>   \n                }\n                filename={`Reporte de Historial de Cortes`}\n            >\n                <ExcelSheet data={datosExcel} name={`Reporte de Historial de Cortes`}>\n                    <ExcelColumn label='Usuario' value='nombre' />\n                    <ExcelColumn label='No. Usuario' value='numero_usuario' />\n                    <ExcelColumn label='Sucursal' value='sucursal' />\n                    <ExcelColumn label='Fecha Corte' value='fecha' />\n                    <ExcelColumn label='Hora Corte' value='hora_movimiento' />\n                    <ExcelColumn label='Horario Turno' value='horario_turno' />\n                    <ExcelColumn label='Concepto' value='concepto' />\n                    <ExcelColumn label='No. de Caja' value='caja' />\n                    <ExcelColumn label='M. en Efectivo' value='monto_efectivo' />\n                    <ExcelColumn label='M. en Creditos' value='monto_creditos' />\n                    <ExcelColumn label='M. en Tarjeta Debito' value='monto_tarjeta_debito' />\n                    <ExcelColumn label='M. en Tarjeta Credito' value='monto_tarjeta_credito' />\n                    <ExcelColumn label='M. en Monedero' value='monto_monedero' />\n                    <ExcelColumn label='M. en Cheques' value='monto_cheques' />\n                    <ExcelColumn label='M. en Transferencia' value='monto_transferencia' />\n                    <ExcelColumn label='M. en Vale Despensa' value='monto_vales_despensa' />\n                </ExcelSheet>\n            </ExcelFile>\n        </>\n    )\n}\n","import { AppBar, Box, Button, Dialog, FormControl, Grid, MenuItem, Select, Slide, TextField, Toolbar, Typography } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/styles';\nimport React, { useState } from 'react';\nimport CloseIcon from '@material-ui/icons/Close';\nimport TablaComprasFiltradas from './TablaCortesFiltradas';\nimport ExportExcel from './ExportExcel';\n\nimport { useQuery } from '@apollo/client';\nimport { OBTENER_CAJAS, OBTENER_CORTES_CAJA } from '../../../../gql/Cajas/cajas';\nimport { useDebounce } from 'use-debounce/lib';\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nconst useStyles = makeStyles((theme) => ({\n\tappBar: {\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n\ticon: {\n\t\twidth: 100\n\t},\n    formInputFlex: {\n\t\tdisplay: 'flex',\n\t\t'& > *': {\n\t\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(1)}px`\n\t\t},\n\t\t'& .obligatorio': {\n\t\t\tcolor: 'red'\n\t\t}\n\t},\n\tformInput: {\n\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(2)}px`\n\t},\n    margin: {\n\t\tmargin: theme.spacing(1)\n\t},\n\ticonSave: {\n\t\tzIndex: 10,\n\t\tposition: 'fixed',\n\t\tbottom: theme.spacing(2),\n\t\tright: theme.spacing(10)\n\t},\n}));\n\nexport default function ReportesCortes() {\n    const sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n    const classes = useStyles();\n\n    const [ open, setOpen ] = useState(false);\n    const [ datosFiltro, setDatosFiltro ] = useState([]);\n    const [value] = useDebounce(datosFiltro, 500);\n\n    let cajas = [];\n    let historialCortes = [];\n\n    const cajasBase = useQuery(OBTENER_CAJAS,{\n\t\tvariables: {\n            empresa: sesion.empresa._id,\n\t\t\tsucursal: sesion.sucursal._id,\n\t\t}\n\t});\n\n    const { loading, data, error, refetch  }= useQuery( OBTENER_CORTES_CAJA,{\n\t\tvariables: {\n            empresa: sesion.empresa._id,\n\t\t\tsucursal: sesion.sucursal._id,\n            input: {\n                fecha_consulta: datosFiltro.fecha_consulta ? datosFiltro.fecha_consulta : \"\",\n                usuario: value.usuario ? value.usuario : \"\", \n                numero_caja: datosFiltro.numero_caja ? parseInt(datosFiltro.numero_caja) : null\n            }\n\t\t}\n\t});\n\n    if(cajasBase.loading === false && loading === false){\n        cajas = cajasBase.data.obtenerCajasSucursal;\n        historialCortes = data.obtenerCortesDeCaja;\n    }\n\n    const handleClickOpen = () => {setOpen(!open)};\n\n    const obtenerDatos = (e) => { \n        setDatosFiltro({...datosFiltro, [e.target.name]: e.target.value})\n    };\n\n    const filtrarProductos = (event) => {\n\t\tevent.preventDefault();\n        refetch();\n\t};\n    \n    const limpiarDatos = () => {\n        setDatosFiltro([]);\n    };\n    \n    return (\n        <>\n            <Button fullWidth onClick={handleClickOpen}>\n\t\t\t\t<Box display=\"flex\" flexDirection=\"column\">\n\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n                        <img \n                            src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/ventas/cash-register.svg' \n                            alt=\"icono caja\" \n                            style={{width: 100}}\n                        />\n\t\t\t\t\t</Box>\n\t\t\t\t\tReportes Cortes de caja\n\t\t\t\t</Box>\n\t\t\t</Button>\n\t\t\t<Dialog fullScreen open={open} onClose={handleClickOpen} TransitionComponent={Transition}>\n\t\t\t\t<AppBar className={classes.appBar}>\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t<Typography variant=\"h6\" className={classes.title}>\n\t\t\t\t\t\t\tReportes Cortes de caja\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Box m={1}>\n\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"secondary\" onClick={handleClickOpen} size=\"large\">\n\t\t\t\t\t\t\t\t<CloseIcon style={{fontSize: 30}} />\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</AppBar>\n                <Grid container>\n                    <ExportExcel historialCortes={historialCortes} /> \n                    \n                    <Grid item lg={12} md={12} xs={12}>\n                        <div className={classes.formInputFlex}>\n                            <Box width=\"100%\">\n                                <Typography>\n                                    Fecha de corte:\n                                </Typography>\n                                <TextField \n                                    fullWidth\n                                    size=\"small\"\n                                    name=\"fecha_consulta\"\n                                    variant=\"outlined\"\n                                    type=\"date\"\n                                    onChange={obtenerDatos}\n                                    value={datosFiltro.fecha_consulta ? datosFiltro.fecha_consulta : \"\"}\n                                />\n                            </Box>\n                            <form onSubmit={filtrarProductos} style={{ display: 'flex', alignItems: 'center', width: \"100%\" }}>\n                                <Box width=\"100%\">\n                                    <Typography>\n                                        Usuario:\n                                    </Typography>\n                                    <TextField\n                                        fullWidth\n                                        size=\"small\"\n                                        name=\"usuario\"\n                                        variant=\"outlined\"\n                                        onChange={obtenerDatos}\n                                        value={datosFiltro.usuario ? datosFiltro.usuario : \"\"}\n                                    />\n                                </Box>\n                            </form>\n                            <Box width=\"100%\">\n                                <Typography>\n                                    Caja:\n                                </Typography>\n                                <FormControl\n                                    variant=\"outlined\"\n                                    fullWidth\n                                    size=\"small\"\n                                >\n                                    <Select\n                                        id=\"form-producto-tipo\"\n                                        name=\"numero_caja\"\n                                        onChange={obtenerDatos}\n                                        value={datosFiltro.numero_caja ? datosFiltro.numero_caja : \"\"}\n                                    >\n                                        <MenuItem value=\"\">\n                                            <em>Selecciona uno</em>\n                                        </MenuItem>\n                                        {\n                                            cajas?.map((caja) =>{\n                                                return(\n                                                    <MenuItem key={caja.numero_caja} value={caja.numero_caja}>\n                                                        Caja {caja.numero_caja}\n                                                    </MenuItem>\n                                                );\n                                            })\n                                        }\n                                    </Select>\n                                </FormControl>\n                            </Box>\n                            <Box \n                                width=\"100%\" \n                                display=\"flex\" \n                                justifyContent=\"center\" \n                                alignItems=\"center\"\n                                mt={2}\n                            >\n                                <Button\n                                    color=\"primary\"\n                                    size=\"large\"\n                                    variant=\"contained\"\n                                    onClick={limpiarDatos}\n                                >\n                                    Limpiar Filtro\n                                </Button>\n                            </Box>\n                        </div>\n                    </Grid> \n                    <Grid item lg={12} md={12} xs={12}>\n                        <TablaComprasFiltradas cortes={historialCortes} loading={loading} />\n                    </Grid>\n                </Grid>            \n\t\t\t</Dialog> \n        </>\n    )   \n}\n","import React, { Fragment, useEffect, useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport { Box, Button, CircularProgress, Dialog, DialogActions, DialogContent, FormControl, Grid, MenuItem, Select, Slide, TextField, Typography } from '@material-ui/core';\nimport { useDebounce } from 'use-debounce/lib';\nimport { useQuery } from '@apollo/client';\nimport { OBTENER_HISTORIAL_EGRESOS } from '../../../../gql/Tesoreria/egresos';\nimport moment from 'moment';\nimport { formatoMexico } from '../../../../config/reuserFunctions';\n\nconst columns = [\n\t{ id: 'folio', label: 'Folio', minWidth: 170 },\n\t{ id: 'nombre', label: 'Usuario', minWidth: 170 },\n\t{ id: 'fecha', label: 'Fecha', minWidth: 170 },\n\t{ id: 'folioF', label: 'Folio Factura', minWidth: 170 },\n\t{ id: 'tipo', label: 'Tipo Compra', minWidth: 170 },\n];\n\nconst useStyles  = makeStyles((theme) => ({\n\t\troot: {\n\t\t\twidth: '100%',\n\t\t\theight: '70vh'\n\t\t},\n\tcontainer: {\n\t\tmaxHeight: '100%'\n\t},\n    appBar: {\t\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n\trootBusqueda: {\n\t\tdisplay: 'flex',\n\t\tpaddingLeft: theme.spacing(2)\n\t},\n\tformInputFlex: {\n\t\tdisplay: 'flex',\n\t\t'& > *': {\n\t\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(2)}px`\n\t\t}\n\t},\n\tformInput: {\n\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(2)}px`\n\t},\n}));\n\nexport default function ListaEgresos() {\n    const sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\n\tconst classes = useStyles();\n\tconst [datosFiltro, setDatosFiltro] = useState([]);\n\tconst [value] = useDebounce(datosFiltro, 500);\n\n\n\tconst { loading, data, error, refetch  } = useQuery( OBTENER_HISTORIAL_EGRESOS,{\n\t\tvariables: {\n\t\t\tinput: {\n                fecha_inicio: datosFiltro.fecha_inicio ? datosFiltro.fecha_inicio : \"\",\n                fecha_fin: datosFiltro.fecha_fin ? datosFiltro.fecha_fin : \"\",\n                usuario: value.usuario ? value.usuario : \"\", \n                tipo_movimiento: datosFiltro.tipo_movimiento ? (datosFiltro.tipo_movimiento === \"CREDITO\" ?  true : false) : null\n            },\n            empresa: sesion.empresa._id,\n\t\t\tsucursal: sesion.sucursal._id\n\t\t}\n\t});\n\n\n\tuseEffect(() => {\n\t\trefetch();\n\t}, [refetch]);\n\n\t\n\tlet historialEgresos = [];\n\n\tif(data){\n\t\thistorialEgresos = data.obtenerHistorialEgresos\n\t}\n\n\tconst obtenerDatos =(e)=>{\n\t\tsetDatosFiltro({...datosFiltro, [e.target.name]: e.target.value})\n    };\n\n\tconst limpiarDatos = () => {\n\t\tsetDatosFiltro([]);\n\t};\n\n\treturn (\n\t\t<Grid>\n\t\t\t<Grid item lg={12} md={12} xs={12}>\n\t\t\t\t<div className={classes.formInputFlex}>\n\t\t\t\t\t<Box width=\"100%\">\n\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\tFecha Inicio:\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\tname=\"fecha_inicio\"\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\ttype=\"date\"\n\t\t\t\t\t\t\tonChange={obtenerDatos}\n\t\t\t\t\t\t\tvalue={datosFiltro.fecha_inicio ? datosFiltro.fecha_inicio : \"\"}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box width=\"100%\">\n\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\tFecha Fin:\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\tname=\"fecha_fin\"\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\ttype=\"date\"\n\t\t\t\t\t\t\tonChange={obtenerDatos}\n\t\t\t\t\t\t\tvalue={datosFiltro.fecha_fin ? datosFiltro.fecha_fin : \"\"}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box width=\"100%\">\n\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\tUsuario:\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\tname=\"usuario\"\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\tonChange={obtenerDatos}\n\t\t\t\t\t\t\tvalue={datosFiltro.usuario ? datosFiltro.usuario : \"\"}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box width=\"100%\">\n\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\tTipo Egreso:\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\t\tid=\"form-producto-tipo\"\n\t\t\t\t\t\t\t\tname=\"tipo_movimiento\"\n\t\t\t\t\t\t\t\tonChange={obtenerDatos}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<MenuItem value=\"TODOS\">\n\t\t\t\t\t\t\t\t\t<em>Selecciona uno</em>\n\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t<MenuItem value='CONTADO'>\n\t\t\t\t\t\t\t\t\tEgreso Contado\n\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t<MenuItem value='CREDITO'>\n\t\t\t\t\t\t\t\t\tEgreso Credito\n\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t</Select>\n\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box \n\t\t\t\t\t\twidth=\"100%\" \n\t\t\t\t\t\tdisplay=\"flex\" \n\t\t\t\t\t\tjustifyContent=\"center\" \n\t\t\t\t\t\talignItems=\"center\"\n\t\t\t\t\t\tmt={2}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\tsize=\"large\"\n\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\tonClick={limpiarDatos}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tLimpiar Filtro\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Box>\n\t\t\t\t</div>\n\t\t\t</Grid> \n\t\t\t<Box p={2}>\n\t\t\t\t<Paper className={classes.root}>\n\t\t\t\t\t<TableContainer className={classes.container}>\n\t\t\t\t\t\t<Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n\t\t\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t\t{columns.map((column) => (\n\t\t\t\t\t\t\t\t\t\t<TableCell key={column.id} align={column.align} style={{ minWidth: column.minWidth }}>\n\t\t\t\t\t\t\t\t\t\t\t{column.label}\n\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t</TableHead>\n\t\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t\t{historialEgresos.map((row, index) => {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<RowsEgresos row={row} loading={loading} key={index} />\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t\t</Table>\n\t\t\t\t\t</TableContainer>\n\t\t\t\t</Paper>\n\t\t\t</Box>\n\t\t</Grid>\n\t);\n};\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nfunction RowsEgresos({row, loading}){\n\n\tconst [open, setOpen] = useState(false);\n\n\tconst handleClickOpen =()=> setOpen(!open);\n\n\tif (loading) \n\treturn (\n\t\t<Box\n\t\tdisplay=\"flex\"\n\t\tflexDirection=\"column\"\n\t\tjustifyContent=\"center\"\n\t\talignItems=\"center\"\n\t\theight=\"80vh\"\n\t\t>\n\t\t\t<CircularProgress />\n\t\t</Box>\n\t);\n\n\treturn(\n\t\t<Fragment>\n\t\t\t<Dialog\n\t\t\t\topen={open} \n\t\t\t\tTransitionComponent={Transition} \n\t\t\t\tfullWidth \n\t\t\t\tmaxWidth=\"md\"\n\t\t\t>\n\t\t\t\t<DialogCaracteristicas row={row}  />\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\tsize='large'\n\t\t\t\t\t\tonClick={handleClickOpen}\n\t\t\t\t\t>\n\t\t\t\t\t\tCerrar\n\t\t\t\t\t</Button>\n\t\t\t\t</DialogActions>\n\t\t\t</Dialog>\n\t\t\t<TableRow \n\t\t\t\thover \n\t\t\t\ttabIndex={-1} \n\t\t\t\tkey={row.code}\n\t\t\t\tonClick={handleClickOpen}\n\t\t\t>\n\t\t\t\t<TableCell>\n\t\t\t\t\t{row.folio_egreso}\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell>\n\t\t\t\t\t{row.nombre_usuario_creador}\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell>\n\t\t\t\t\t{row.fecha_compra}\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell>\n\t\t\t\t\t{row.folio_factura}\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell>\n\t\t\t\t\t{row.compra_credito === false ? \"Contado\" : \"Credito\"}\n\t\t\t\t</TableCell>\n\t\t\t</TableRow>\n\t\t</Fragment>\n\t);\n};\n\nfunction DialogCaracteristicas ({row}) {\n\n\treturn(\n\t\t<Fragment>\n\t\t\t<DialogContent>\n\t\t\t\t<Grid container>\n\t\t\t\t\t<Grid item lg={12} xs={12}>\n\t\t\t\t\t\t<Box textAlign=\"center\" p={2}>\n\t\t\t\t\t\t\t<Typography variant=\"h6\">\n\t\t\t\t\t\t\t\tInformacin de movimiento\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item lg={5} xs={12}>\n\t\t\t\t\t\t<Box display=\"flex\" textAlign=\"left\" p={1}>\n\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t<b>Fecha Compra: </b> {moment(row.fecha_compra).format('YYYY-MM-DD')}\n\t\t\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t\t\t<b>Folio movimiento: </b> {row.folio_egreso}\n\t\t\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t\t\t<b>Usuario: </b> {row.nombre_usuario_creador}\n\t\t\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t\t\t<b>Categoria: </b> {row.categoria}\n\t\t\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t\t\t<b>Sub-Categoria: </b> {row.subCategoria}\n\t\t\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t\t\t<b>Folio Factura: </b> {row.folio_factura}\n\t\t\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t\t\t<b>Empresa: </b> {row.empresa_distribuidora}\n\t\t\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t\t\t<b>Provedor: </b> {row.provedor}\n\t\t\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t\t\t<b>Metodo de pago: </b> {row.metodo_pago}\n\t\t\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t\t\t<b>Compra credito: </b> {row.compra_credito === false ? \"NO\" : \"Si\"}\n\t\t\t\t\t\t\t\t{row.compra_credito === false ? null : (\n\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t\t\t\t\t<b>Fecha Vencimiento: </b> {row.fecha_vencimiento}\n\t\t\t\t\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t\t\t\t\t<b>Saldo Pendiente: </b> {row.saldo_credito_pendiente}\n\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item lg={7} xs={12}>\n\t\t\t\t\t\t<Box textAlign=\"center\">\n\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\tProductos Adquiridos\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t<Paper style={{width: '100%', height: '30vh'}}>\n\t\t\t\t\t\t\t\t<TableContainer style={{maxHeight: '100%'}}>\n\t\t\t\t\t\t\t\t\t<Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n\t\t\t\t\t\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align='center' style={{ minWidth: 100 }}>\n\t\t\t\t\t\t\t\t\t\t\t\t\tCANTIDAD\n\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align='center' style={{ minWidth: 100 }}>\n\t\t\t\t\t\t\t\t\t\t\t\t\tPRODUCTO\n\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align='center' style={{ minWidth: 100 }}>\n\t\t\t\t\t\t\t\t\t\t\t\t\tP. UNITARIO\n\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align='center' style={{ minWidth: 100 }}>\n\t\t\t\t\t\t\t\t\t\t\t\t\tTOTAL\n\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t\t\t</TableHead>\n\t\t\t\t\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t\t\t\t\t{row?.productos.map((row, index) => {\n\t\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TableRow \n\t\t\t\t\t\t\t\t\t\t\t\t\t\thover \n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttabIndex={-1} \n\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align='center' >\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{row.cantidad_productos}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align='center' >\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{row.producto}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align='center' >\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{row.precio_unitario}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align='center' >\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{row.total}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t\t\t\t\t</Table>\n\t\t\t\t\t\t\t\t</TableContainer>\n\t\t\t\t\t\t\t</Paper>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box display='flex' justifyContent='flex-end' p={1}> \n\t\t\t\t\t\t\t<Typography variant='h6'>\n\t\t\t\t\t\t\t\tTotal: ${formatoMexico(row.saldo_total)}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</DialogContent>\n\t\t</Fragment>\n\t);\n}\n","import React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TablePagination from '@material-ui/core/TablePagination';\nimport TableRow from '@material-ui/core/TableRow';\nimport { Box, Grid, IconButton, InputBase } from '@material-ui/core';\nimport { Search } from '@material-ui/icons';\n\nconst columns = [\n\t{ id: 'name', label: 'Name', minWidth: 170 },\n\t{ id: 'code', label: 'ISO\\u00a0Code', minWidth: 100 },\n\t{\n\t\tid: 'population',\n\t\tlabel: 'Population',\n\t\tminWidth: 170,\n\t\talign: 'right',\n\t\tformat: (value) => value.toLocaleString('en-US')\n\t},\n\t{\n\t\tid: 'size',\n\t\tlabel: 'Size\\u00a0(km\\u00b2)',\n\t\tminWidth: 170,\n\t\talign: 'right',\n\t\tformat: (value) => value.toLocaleString('en-US')\n\t},\n\t{\n\t\tid: 'density',\n\t\tlabel: 'Density',\n\t\tminWidth: 170,\n\t\talign: 'right',\n\t\tformat: (value) => value.toFixed(2)\n\t}\n];\n\nfunction createData(name, code, population, size) {\n\tconst density = population / size;\n\treturn { name, code, population, size, density };\n}\n\nconst rows = [\n\tcreateData('India', 'IN', 1324171354, 3287263),\n\tcreateData('China', 'CN', 1403500365, 9596961),\n\tcreateData('Italy', 'IT', 60483973, 301340),\n\tcreateData('United States', 'US', 327167434, 9833520),\n\tcreateData('Canada', 'CA', 37602103, 9984670),\n\tcreateData('Australia', 'AU', 25475400, 7692024),\n\tcreateData('Germany', 'DE', 83019200, 357578),\n\tcreateData('Ireland', 'IE', 4857000, 70273),\n\tcreateData('Mexico', 'MX', 126577691, 1972550),\n\tcreateData('Japan', 'JP', 126317000, 377973),\n\tcreateData('France', 'FR', 67022000, 640679),\n\tcreateData('United Kingdom', 'GB', 67545757, 242495),\n\tcreateData('Russia', 'RU', 146793744, 17098246),\n\tcreateData('Nigeria', 'NG', 200962417, 923768),\n\tcreateData('Brazil', 'BR', 210147125, 8515767)\n];\n\nconst useStyles  = makeStyles((theme) => ({\n\troot: {\n\t\twidth: '100%'\n\t},\n\tcontainer: {\n\t\tmaxHeight: '100%'\n\t},\n    appBar: {\t\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n\trootBusqueda: {\n\t\tdisplay: 'flex',\n\t\tpaddingLeft: theme.spacing(2)\n\t},\n}));\n\nexport default function ListaTransferencias() {\n\tconst classes = useStyles();\n\tconst [ page, setPage ] = useState(0);\n\tconst [ rowsPerPage, setRowsPerPage ] = useState(14);\n\n\tconst handleChangePage = (event, newPage) => {\n\t\tsetPage(newPage);\n\t};\n\n\tconst handleChangeRowsPerPage = (event) => {\n\t\tsetRowsPerPage(+event.target.value);\n\t\tsetPage(0);\n\t};\n\n\treturn (\n\t\t<Grid>\n\t\t\t<div className={classes.root}>\n\t\t\t\t<Box m={2} display=\"flex\" justifyContent=\"space-between\">\n\t\t\t\t\t<Box mr={5} minWidth=\"70%\">\n\t\t\t\t\t\t<Paper className={classes.rootBusqueda}>\n\t\t\t\t\t\t\t<InputBase\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tplaceholder=\"Buscar transferencias...\"\n\t\t\t\t\t\t\t\t// onChange={(e) => setValues(e.target.value)}\n\t\t\t\t\t\t\t\t// onKeyPress={pressEnter}\n\t\t\t\t\t\t\t\t// value={values}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<IconButton>\n\t\t\t\t\t\t\t\t<Search />\n\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t</Paper>\n\t\t\t\t\t</Box>\n\t\t\t\t</Box>\n\t\t\t</div>\n\t\t<Box  p={2}>\n\t\t<Paper className={classes.root}>\n\t\t\t<TableContainer className={classes.container}>\n\t\t\t\t<Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t{columns.map((column) => (\n\t\t\t\t\t\t\t\t<TableCell key={column.id} align={column.align} style={{ minWidth: column.minWidth }}>\n\t\t\t\t\t\t\t\t\t{column.label}\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t</TableHead>\n\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t{rows.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage).map((row) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<TableRow hover role=\"checkbox\" tabIndex={-1} key={row.code}>\n\t\t\t\t\t\t\t\t\t{columns.map((column) => {\n\t\t\t\t\t\t\t\t\t\tconst value = row[column.id];\n\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t<TableCell \n                                                key={column.id} \n                                                align={column.align}\n                                            >\n\t\t\t\t\t\t\t\t\t\t\t\t{column.format && typeof value === 'number' ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolumn.format(value)\n\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t\t</TableBody>\n\t\t\t\t</Table>\n\t\t\t</TableContainer>\n\t\t\t<TablePagination\n\t\t\t\trowsPerPageOptions={[ 10, 25, 100 ]}\n\t\t\t\tcomponent=\"div\"\n\t\t\t\tcount={rows.length}\n\t\t\t\trowsPerPage={rowsPerPage}\n\t\t\t\tpage={page}\n\t\t\t\tonChangePage={handleChangePage}\n\t\t\t\tonChangeRowsPerPage={handleChangeRowsPerPage}\n\t\t\t/>\n\t\t</Paper>\n\t\t</Box>\n\t\t</Grid>\n\t);\n}\n","import React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport CloseIcon from '@material-ui/icons/Close';\nimport Slide from '@material-ui/core/Slide';\nimport { Box, ListItemIcon, Menu, MenuItem } from '@material-ui/core';\nimport {FcSurvey } from 'react-icons/fc';\n\nimport ListaEgresos from './ListaEgresos';\nimport ListaTransferencias from './ListaTransferencias';\n\nconst useStyles = makeStyles((theme) => ({\n\tappBar: {\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n    icon: {\n\t\twidth: 100\n\t},\n\troot: {\n\t\tflexGrow: 1,\n\t\twidth: '100%',\n\t\theight: '100vh',\n\t\tbackgroundColor: theme.palette.background.paper\n\t},\n\trootBusqueda: {\n\t\tdisplay: 'flex',\n\t\tpaddingLeft: theme.spacing(2)\n\t},\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function ReportesTesoreria() {\n\tconst classes = useStyles();\n\n\tconst [ventana, setVentana] = useState('');\n\tconst [ open, setOpen ] = useState(false);\n\n\tconst handleClickOpen = () => setOpen(!open);\n\n\tconst [anchorEl, setAnchorEl] = useState(null);\n\n\tconst handleClick = (event) => {\n\t\tsetAnchorEl(event.currentTarget);\n\t};\n\n\tconst handleClose = () => {\n\t\tsetAnchorEl(null);\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<Button aria-controls=\"simple-menu\" aria-haspopup=\"true\" onClick={handleClick}>\n\t\t\t\t<Box display=\"flex\" flexDirection=\"column\">\n\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" >\n                        <FcSurvey style={{fontSize: 100}}/>\n\t\t\t\t\t</Box>\n\t\t\t\t\tReportes Tesoreria\n\t\t\t\t</Box>\n\t\t\t</Button>\n\t\t\t<Menu\n\t\t\t\t id=\"customized-menu\"\n\t\t\t\tanchorEl={anchorEl}\n\t\t\t\tkeepMounted\n\t\t\t\topen={Boolean(anchorEl)}\n\t\t\t\tonClose={handleClose}\n\t\t\t>\n\t\t\t\t<MenuItem onClick={ ()=>{\n\t\t\t\t\t\thandleClickOpen()\n\t\t\t\t\t\tsetVentana('egresos')\n\t\t\t\t\t}}>\n\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t<FcSurvey style={{fontSize: 35}} />\n\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\tHistorial Egresos\n\t\t\t\t</MenuItem>\n\t\t\t\t<MenuItem onClick={ ()=>{\n\t\t\t\t\t\thandleClickOpen()\n\t\t\t\t\t\tsetVentana('transferencias')\n\t\t\t\t\t}}>\n\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t<FcSurvey style={{fontSize: 35}} />\n\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\tHistorial Transferencias\n\t\t\t\t</MenuItem>\n\t\t\t</Menu>\n\t\t\t\n\t\t\t<Dialog fullScreen open={open} onClose={handleClickOpen} TransitionComponent={Transition}>\n\t\t\t\t<AppBar className={classes.appBar}>\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t<Typography variant=\"h6\" className={classes.title}>\n\t\t\t\t\t\t\tHistotorial de {ventana}\n\t\t\t\t\t\t</Typography>\n                        <Box m={1}>\n\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"secondary\" onClick={handleClickOpen} size=\"large\">\n\t\t\t\t\t\t\t\t<CloseIcon style={{fontSize: 30}} />\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</AppBar>\n\t\t\t\t\n\t\t\t\t<Box>\n\t\t\t\t\t{\n\t\t\t\t\t\tventana === 'egresos' ? (\n\t\t\t\t\t\t\t<ListaEgresos />\n\t\t\t\t\t\t) : ventana === 'transferencias' ?(\n\t\t\t\t\t\t\t<ListaTransferencias />\t\t\t\n\t\t\t\t\t\t) :(\n\t\t\t\t\t\t\tnull\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t</Box>\n\t\t\t\t\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n}\n","import React from 'react';\nimport { Container, Grid, Box } from '@material-ui/core';\nimport Cajas from './Cajas/Cajas';\nimport ReportesTurnosUsuarios from './TurnosUsuarios/ReportesTurnosUsuarios';\nimport ReportesCompras from './Compras/ReportesCompras';\nimport ReportesVentas from './Ventas/ReportesVentas';\nimport ReportesAlmacen from './Almacenes/ReportesAlmacen';\nimport ReportesCortes from './Cortes/ReportesCortes';\nimport ReportesTesoreria from './Tesoreria/Reporte_Tesoreria';\n\nexport default function Reportes() {\n\tconst permisosUsuario = JSON.parse(localStorage.getItem('sesionCafi'));\n\n\treturn (\n\t\t<Container>\n\t\t\t<Grid container spacing={3} justify=\"center\">\n\t\t\t\t{permisosUsuario.accesos.reportes.reporte_historial_cajas.ver === false ? (null) : (\n\t\t\t\t\t<Grid item lg={2} >\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t<Cajas />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t)}\n\t\t\t\t{permisosUsuario.accesos.reportes.reporte_turnos.ver === false ? (null) : (\n\t\t\t\t\t<Grid item lg={2} >\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t<ReportesTurnosUsuarios />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t)}\n\t\t\t\t{permisosUsuario.accesos.reportes.reporte_compras.ver === false ? (null) : (\n\t\t\t\t\t<Grid item lg={2} >\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t<ReportesCompras />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t)}\n\t\t\t\t{permisosUsuario.accesos.reportes.reporte_ventas.ver === false ? (null) : (\n\t\t\t\t\t<Grid item lg={2} >\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t<ReportesVentas />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t)}\n\t\t\t\t{permisosUsuario.accesos.reportes.rerporte_almacen.ver === false ? (null) : (\n\t\t\t\t\t<Grid item lg={2} >\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t<ReportesAlmacen />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t)}\n\t\t\t\t{permisosUsuario.accesos.reportes.reporte_corte_caja.ver === false ? (null) : (\n\t\t\t\t\t<Grid item lg={2} >\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t<ReportesCortes />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t)}\n\t\t\t\t{permisosUsuario.accesos.reportes.reporte_tesoreria.ver === false ? (null) : (\n\t\t\t\t\t<Grid item lg={2} >\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t<ReportesTesoreria />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t)}\n\t\t\t</Grid>\n\t\t</Container>\n\t);\n}","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport SwipeableViews from \"react-swipeable-views\";\nimport { makeStyles, useTheme } from \"@material-ui/core/styles\";\nimport { FcShop, FcPaid, FcSurvey, FcNews } from \"react-icons/fc\";\nimport { Toolbar, Box, Tab, Tabs, AppBar } from \"@material-ui/core\";\nimport Empresa from \"./Empresa/Empresa\";\nimport Compras from \"./Compras/Compras\";\nimport Catalogos from \"./Catalogos/Catalogos\";\nimport IndexTesoreria from \"./Tesoreria/IndexTesoreria\";\nimport Facturacion from \"./Facturacion/Facturacion\";\nimport Almacenes from \"./Almacenes/Almacenes\";\nimport { withRouter } from \"react-router\";\nimport Reportes from \"./Reportes/Reportes\";\nfunction TabPanel(props) {\n  const { children, value, index, ...other } = props;\n\n  return (\n    <div\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`scrollable-force-tabpanel-${index}`}\n      aria-labelledby={`scrollable-force-tab-${index}`}\n      {...other}\n    >\n      {value === index && (\n        <Box p={3} my={6} minHeight=\"50vh\">\n          {children}\n        </Box>\n      )}\n    </div>\n  );\n}\n\nTabPanel.propTypes = {\n  children: PropTypes.node,\n  index: PropTypes.any.isRequired,\n  value: PropTypes.any.isRequired,\n};\n\nfunction a11yProps(index) {\n  return {\n    id: `scrollable-force-tab-${index}`,\n    \"aria-controls\": `scrollable-force-tabpanel-${index}`,\n  };\n}\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n    width: \"100%\",\n    height: \"100vh\",\n    backgroundColor: theme.palette.background.paper,\n  },\n  icon: {\n    fontSize: 100,\n  },\n  iconSvg: {\n    width: 100,\n  },\n  iconSvgVenta: {\n    width: 90,\n  },\n}));\n\nfunction AdminInicio(props) {\n  const classes = useStyles();\n  const theme = useTheme();\n  const [value, setValue] = React.useState(0);\n\n  const handleChange = (event, newValue) => {\n    setValue(newValue);\n  };\n  const handleChangeIndex = (index) => {\n    setValue(index);\n  };\n\n  return (\n    <div className={classes.root}>\n      <Toolbar />\n      <Box>\n        <AppBar position=\"static\" color=\"default\" elevation={0}>\n          <Tabs\n            value={value}\n            onChange={handleChange}\n            indicatorColor=\"primary\"\n            textColor=\"primary\"\n            /* centered */ variant=\"scrollable\"\n            scrollButtons=\"on\"\n          >\n            <Tab\n              label=\"Mi empresa\"\n              icon={<FcShop className={classes.icon} />}\n              {...a11yProps(0)}\n            />\n            <Tab\n              label=\"Almacenes\"\n              icon={\n                <img\n                  src=\"https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/almacen.svg\"\n                  alt=\"icono almacen\"\n                  className={classes.iconSvg}\n                />\n              }\n              {...a11yProps(1)}\n            />\n\n            <Tab\n              label=\"Compras\"\n              icon={<FcPaid className={classes.icon} />}\n              {...a11yProps(2)}\n            />\n            <Tab\n              label=\"Catalogos\"\n              icon={<FcNews className={classes.icon} />}\n              {...a11yProps(3)}\n            />\n            <Tab\n              label=\"Tesoreria\"\n              icon={\n                <img\n                  src=\"https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/money.svg\"\n                  alt=\"icono money\"\n                  className={classes.iconSvg}\n                />\n              }\n              {...a11yProps(4)}\n            />\n            <Tab\n              label=\"Reportes\"\n              icon={<FcSurvey className={classes.icon} />}\n              {...a11yProps(5)}\n            />\n\t\t\t<Tab\n              label=\"Facturacin\"\n              icon={\n                <img\n                  src=\"https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/factura.svg\"\n                  alt=\"icono factura\"\n                  className={classes.iconSvg}\n                />\n              }\n              {...a11yProps(6)}\n            />\n            <Tab\n              label=\"Ventas\"\n              icon={\n                <img\n                  src=\"https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/ventas/cart-add.svg\"\n                  alt=\"icono ventas\"\n                  className={classes.iconSvg}\n                />\n              }\n              {...a11yProps(7)}\n              onClick={() => props.history.push(\"/ventas/venta-general\")}\n            />\n          </Tabs>\n        </AppBar>\n        <SwipeableViews\n          axis={theme.direction === \"rtl\" ? \"x-reverse\" : \"x\"}\n          index={value}\n          onChangeIndex={handleChangeIndex}\n        >\n          <TabPanel value={value} index={0}>\n            <Empresa />\n          </TabPanel>\n          <TabPanel value={value} index={1}>\n            <Almacenes />\n          </TabPanel>\n          <TabPanel value={value} index={2}>\n            <Compras />\n          </TabPanel>\n          <TabPanel value={value} index={3}>\n            <Catalogos />\n          </TabPanel>\n          <TabPanel value={value} index={4}>\n            <IndexTesoreria />\n          </TabPanel>\n          <TabPanel value={value} index={5}>\n            <Reportes />\n          </TabPanel>\n\t\t  <TabPanel value={value} index={6}>\n            <Facturacion />\n          </TabPanel>\n          <TabPanel value={value} index={7}></TabPanel>\n        </SwipeableViews>\n      </Box>\n    </div>\n  );\n}\n\nexport default withRouter(AdminInicio);\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Avatar, Box, Button, Typography, Toolbar, AppBar } from '@material-ui/core';\nimport PowerSettingsNewIcon from '@material-ui/icons/PowerSettingsNew';\nimport { withRouter } from 'react-router-dom';\nimport { grey } from '@material-ui/core/colors';\n\nconst useStyles = makeStyles((theme) => ({\n\tappbar: {\n\t\tbackgroundColor: theme.palette.navbar,\n        color: grey[800]\n\t},\n\tmenuButton: {\n\t\tmarginRight: theme.spacing(2)\n\t},\n\ttitle: {\n\t\tflexGrow: 1,\n\t\tmarginLeft: theme.spacing(2),\n\t}\n}));\n\nfunction NavegacionAdmin(props) {\n\tconst classes = useStyles();\n\tconst token = localStorage.getItem('sesionCafi');\n\tconst turnoEnCurso = JSON.parse(localStorage.getItem('turnoEnCurso'));\n    const sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\tlet usuario;\n\t\n\tif (token !== null) usuario = JSON.parse(localStorage.getItem('sesionCafi'));\n\n    const signOut = () => {\n\t\tlocalStorage.removeItem('sesionCafi');\n\t\tlocalStorage.removeItem('tokenCafi');\n\t\tlocalStorage.removeItem('ListaEnEspera');\n\t\tprops.history.push('/');\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<AppBar position=\"fixed\" className={classes.appbar} elevation={0}>\n\t\t\t\t<Toolbar>\n\t\t\t\t\t<Avatar alt=\"Remy Sharp\" src={usuario.imagen} />\n\t\t\t\t\t<Box className={classes.title}>\n\t\t\t\t\t\t<Typography variant=\"h6\" color=\"inherit\">Bienvenido {`${usuario.nombre}`}</Typography>\n\t\t\t\t\t</Box>\n\t\t\t\t\t{/* <Button\n\t\t\t\t\t\tcomponent={Link}\n\t\t\t\t\t\tto=\"/home\"\n\t\t\t\t\t\tsize=\"large\"\n\t\t\t\t\t\tclassName={classes.menuButton}\n\t\t\t\t\t\tstartIcon={<HomeIcon />}\n\t\t\t\t\t>\n\t\t\t\t\t\tInicio\n\t\t\t\t\t</Button> */}\n\t\t\t\t\t{sesion.turno_en_caja_activo === true && turnoEnCurso ? (\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\tsize=\"large\"\n\t\t\t\t\t\t\t\tclassName={classes.menuButton}\n\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\tdisabled={true}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tTURNO ACTIVO\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t):(\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\tsize=\"large\"\n\t\t\t\t\t\t\t\tclassName={classes.menuButton}\n\t\t\t\t\t\t\t\tstartIcon={<PowerSettingsNewIcon />}\n\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\tonClick={signOut}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tCerrar sesin\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t</Toolbar>\n\t\t\t</AppBar>\n\t\t</div>\n\t);\n}\n\n\nexport default withRouter(NavegacionAdmin)","import { makeStyles } from '@material-ui/core/styles';\n\nconst drawerWidth = '22%';\n\nconst useStyles = makeStyles((theme) => ({\n\tappBar: {\n\t\tzIndex: theme.zIndex.drawer + 1,\n\t\t// backgroundColor: theme.palette.navbar,\n\t\tbackgroundColor: 'white',\n\t},\n\tdrawer: {\n\t\twidth: drawerWidth,\n\t\tflexShrink: 0,\n\t\tbackgroundColor: 'white',\n\t},\n\tdrawerColor:{\n\t\theight: '100%',\n\t\tbackgroundColor: 'white',\n\t},\n\tdrawerPaper: {\n\t\twidth: drawerWidth,\n\t\tbackgroundColor: theme.palette.navbar\n\t},\n\troot: {\n\t\tdisplay: 'flex',\n\t\tflexDirection: 'column',\n\t\theight: '100%'\n\t},\n\tnavigationTop:{\n\t\theight: '100%'\n\t},\n\ticonSizeSuperior: {\n\t\tfontSize: 30,\n        color: theme.palette.info.main\n\t},\n    iconSizeSecondSuperior: {\n\t\twidth: 20,\n\t},\n\ticonSizeInferior: {\n\t\tfontSize: 50,\n        color: theme.palette.info.main\n\t},\n    iconSizeSecondInferior: {\n\t\twidth: 40,\n\t},\n\ticonSizeSecondInferiorGrande: {\n\t\twidth: 100\n\t},\n\ticonSizeInferiorGrande:{\n\t\tfontSize: 110,\n        color: theme.palette.info.main\n\t},\n\tavatar: {\n\t\twidth: theme.spacing(3),\n\t\theight: theme.spacing(3),\n\t\tmarginRight: theme.spacing(1)\n\t},\n\tborderBoton:{\n\t\tminWidth: '100%',\n\t\theight: '50%',\n        border: '.6px solid #DBDBDB'\n    },\n\tborderBotonChico:{\n\t\tminWidth: '100%',\n        border: '.6px solid #DBDBDB'\n    }\n}));\n\nexport default useStyles;","import { makeStyles } from '@material-ui/core/styles';\n\n\nconst useStyles = makeStyles((theme) => ({\n\troot:{\n        marginTop: theme.spacing(2)\n    },\n    rootPrecioProductos:{\n        minHeight: '40vh',\n    },\n    containerImage:{\n        maxWidth: 150,\n        maxHeight: 150,\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        justifyItems: 'ceter'\n    },\n    imagen:{\n        maxWidth: '100%',\n        maxHeight: '100%',\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        justifyItems: 'ceter'\n    },\n    rootBusqueda: {\n        height: 35,\n\t\tdisplay: 'flex',\n\t\tpadding: theme.spacing(1),\n        // marginTop: theme.spacing(1)\n\t},\n    rootBusquedaProductos: {\n        height: 35,\n\t\tdisplay: 'flex',\n\t\tpadding: theme.spacing(1),\n        // marginTop: theme.spacing(1)\n\t},\n    rootFecha: {\n        height: 40,\n        maxWidth: 150,\n\t\tdisplay: 'flex',\n\t},\n    formInputFlex: {\n\t\tdisplay: 'flex',\n\t\t'& > *': {\n\t\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(.5)}px`\n\t\t},\n\t\t'& .obligatorio': {\n\t\t\tcolor: 'red'\n\t\t},\n        paddingTop: 0,\n        alignItems: \"center\",\n        justifyItems: \"center\"\n\t},\n\tformInput: {\n\t\t// margin: `${theme.spacing(1)}px ${theme.spacing(1)}px`\n\t},\n    iconSize: {\n\t\twidth: 28,\n\t},\n    iconSizeDialogs:{\n        width: 80,\n    },\n    iconSizeDialogsPequeno:{\n        width: 50,\n    },\n    containerImagenesProducto:{\n        maxHeight: 300,\n        maxWidth: 300,\n        display: 'flex',\n        justifyItems: 'center',\n        alignContent: 'center',\n        justifyContent: 'center',\n        alignItems: 'center'\n    },\n    imagenProducto:{\n        height: '100%',\n        width: '100%'\n    },\n    borderBoton:{\n\t\tminWidth: '100%',\n\t\theight: '50%',\n        border: '.6px solid #DBDBDB'\n    },\n\tborderBotonChico:{\n\t\tminWidth: '100%',\n\t\theight: '100%',\n        border: '.6px solid #DBDBDB'\n    },\n    input: {\n        \"& input[type=number]\": {\n          \"-moz-appearance\": \"textfield\",\n        },\n        \"& input[type=number]::-webkit-outer-spin-button\": {\n          \"-webkit-appearance\": \"none\",\n          margin: 0,\n        },\n        \"& input[type=number]::-webkit-inner-spin-button\": {\n          \"-webkit-appearance\": \"none\",\n          margin: 0,\n        },\n    },\n}));\n\nexport default useStyles","import React, { createContext, useState } from 'react';\n\nexport const VentasContext = createContext();\n\nexport const VentasProvider = ({ children }) => {\n\n    const [datosProductoVentas, setDatosProductoVentas] = useState(\n        {\n            _id: null,\n            cantidad: null,\n            codigo_barras: null,\n            concepto: null,\n            default: null,\n            descuento: null,\n            descuento_activo: null,\n            id_producto: {},\n            precio: null,\n            unidad: null,\n            unidad_principal: null\n        }\n    );\n    \n    const [productosVentas, setProductosVentas] = useState([]);\n    const [datosVentas, setDatosVentas] = useState(\n        {\n            productos: [],\n            cliente: {},\n            subtotal: 0,\n            impuestos: 0,\n            total: 0,\n            usuario: {}\n        }\n    );\n\n    const [ productoCambioPrecio, setProductoCambioPrecio ] = useState({});\n    const [ precioSelectProductoVenta, setPrecioSelectProductoVenta ] = useState([]);\n    const [ clientesVentas, setClientesVentas ] = useState([]);\n    const [ turnoActivo, setTurnoActivo ] = useState();\n    const [ ubicacionTurno, setUbicacionTurno ] = useState('');\n\n    const [ update, setUpdate ] = useState(false);\n    const [ error, setError ] = useState(false);\n    const [ alert, setAlert ] = useState({ message: \"\", status: \"\", open: false });\n    const [ abrirTurnosDialog, setAbrirTurnosDialog ] = useState(false);\n    const [ updateClientVenta, setUpdateClientVenta ] = useState(false);\n\n    const [open, setOpen] = useState(false);\n\n    // const [precioSeleccionadoTabla, setPrecioSeleccionadoTabla] = useState(false);\n\n    const [updateTablaVentas, setUpdateTablaVentas] = useState(false);\n\n\treturn (\n\t\t<VentasContext.Provider value={\n            { \n                alert, \n                setAlert,\n                update,\n                setUpdate,\n                error,\n                setError,\n                datosProductoVentas,\n                setDatosProductoVentas,\n                productosVentas,\n                setProductosVentas,\n                datosVentas,\n                setDatosVentas,\n                abrirTurnosDialog, \n                setAbrirTurnosDialog,\n                setUpdateClientVenta,\n                updateClientVenta,\n                setProductoCambioPrecio,\n                productoCambioPrecio,\n                setPrecioSelectProductoVenta,\n                precioSelectProductoVenta,\n                setUpdateTablaVentas,\n                updateTablaVentas,\n                setOpen,\n                open,\n                clientesVentas, \n                setClientesVentas,\n                turnoActivo, \n                setTurnoActivo,\n                ubicacionTurno, \n                setUbicacionTurno,\n                // precioSeleccionadoTabla,\n                // setPrecioSeleccionadoTabla\n            }\n        }>\n\t\t\t{children}\n\t\t</VentasContext.Provider>\n\t);\n};","import React, { useContext, useState } from 'react';\nimport { Box, Button, CircularProgress,  Dialog, DialogActions, \n    DialogContent, Divider, FormControl, Grid,  MenuItem, \n    Select, Slide, TextField, Typography } \nfrom '@material-ui/core'\nimport CloseIcon from '@material-ui/icons/Close';\nimport { ToggleButton, ToggleButtonGroup } from '@material-ui/lab';\nimport { OBTENER_CONTABILIDAD } from '../../../gql/Catalogos/contabilidad';\nimport { CREAR_HISTORIAL_CAJA, OBTENER_PRE_CORTE_CAJA } from '../../../gql/Cajas/cajas';\n\nimport useStyles from '../styles';\nimport moment from 'moment';\nimport 'moment/locale/es';\nimport { useMutation, useQuery } from '@apollo/client';\nimport { VentasContext } from '../../../context/Ventas/ventasContext';\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function DepositoRetiroCaja() {\n    const turnoEnCurso =JSON.parse(localStorage.getItem('turnoEnCurso'));\n\tconst sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n    const [ CrearHistorialCaja ] = useMutation(CREAR_HISTORIAL_CAJA);\n\n    moment.locale('es');\n    const classes = useStyles();\n\n    const { setAlert } = useContext(VentasContext);\n    const [open, setOpen] = useState(false);\n    const [cargando, setCargando] = useState(false);\n    const [movimiento, setMovimiento] = useState('DEPOSITO');\n    const [datosMovimiento, setDatosMovimiento] = useState([]);\n\n\tconst { loading, data } = useQuery(OBTENER_CONTABILIDAD, {\n\t\tvariables: {\n\t\t\tempresa: sesion.empresa._id,\n\t\t\tsucursal: sesion.sucursal._id\n\t\t}\n\t});\n\n    const input = { \n        horario_en_turno: \"ABRIR TURNO\",\n        id_caja: turnoEnCurso ? turnoEnCurso.id_caja : \"\",\n        id_usuario: sesion._id,\n        token_turno_user: turnoEnCurso ? turnoEnCurso.token_turno_user : \"\",\n    };\n\n    const preCorteDeCaja = useQuery(OBTENER_PRE_CORTE_CAJA, {\n        variables: { empresa: sesion.empresa._id, sucursal: sesion.sucursal._id, input: input},\n    });\n\n    const handleClickOpen = () => { \n\t\tsetOpen(!open);\n        preCorteDeCaja.refetch();\n\t};\n\n    var dineroEnCaja = 0;\n    \n    if(!data || !preCorteDeCaja.data){\n        return null;\n    } else{\n        dineroEnCaja = preCorteDeCaja.data.obtenerPreCorteCaja.monto_efectivo_precorte;\n    }\n\n    if (loading || cargando || preCorteDeCaja.loading) \n\treturn (\n\t\t<Box\n\t\tdisplay=\"flex\"\n\t\tflexDirection=\"column\"\n\t\tjustifyContent=\"center\"\n\t\talignItems=\"center\"\n\t\theight=\"80vh\"\n\t\t>\n\t\t\t<CircularProgress />\n\t\t</Box>\n\t);\n\n    window.addEventListener('keydown', Mi_funcin); \n    function Mi_funcin(e){\n        if(e.altKey && e.keyCode === 68){ \n            handleClickOpen();\n        } \n    };\n\n    const obtenerDatos = (e) =>{\n        setDatosMovimiento({...datosMovimiento, [e.target.name]: e.target.value})\n    };\n\n    const enviarDatos = async () => {\n        setCargando(true);\n        try {\n            if(!turnoEnCurso && sesion?.turno_en_caja_activo === false ){\n                setCargando(false);\n                setAlert({\n                    message: `Por el momento no hay ningun turno activo.`,\n                    status: \"error\",\n                    open: true,\n                });\n                return null;\n            }else{\n                if(!datosMovimiento.tipo_movimiento ||\n                    !datosMovimiento.monto_efectivo ||\n                    !datosMovimiento.concepto\n                ){\n                    setCargando(false);\n                    setAlert({\n                        message: `Por favor complete los datos.`,\n                        status: \"error\",\n                        open: true,\n                    });\n                    return null;\n                }else{\n                    if(datosMovimiento.tipo_movimiento === \"RETIRO\" && dineroEnCaja <  parseFloat(datosMovimiento.monto_efectivo)){\n                        setCargando(false);\n                        setAlert({\n                            message: 'Lo sentimos no hay dinero suficiente en la caja para esta accin.',\n                            status: \"error\",\n                            open: true,\n                        });\n                        return null;\n                    }\n                    const input = {\n                        tipo_movimiento: datosMovimiento.tipo_movimiento,\n                        concepto: datosMovimiento.concepto,\n                        numero_caja: parseInt(turnoEnCurso.numero_caja),\n                        id_Caja: turnoEnCurso.id_caja,\n                        horario_turno: turnoEnCurso.horario_en_turno,\n                        rol_movimiento: 'CAJA',\n                        hora_moviento: {\n                            hora: moment().format('hh'),\n                            minutos: moment().format('mm'),\n                            segundos: moment().format('ss'),\n                            completa: moment().format('HH:mm:ss')\n                        },\n                        fecha_movimiento: {\n                            year: moment().format('YYYY'),\n                            mes: moment().format('DD'),\n                            dia: moment().format('MM'),\n                            no_semana_year: moment().week().toString(),\n                            no_dia_year: moment().dayOfYear().toString(),\n                            completa: moment().locale('es-mx').format()\n                        },\n                        id_User: sesion._id,\n                        numero_usuario_creador: sesion.numero_usuario,\n                        nombre_usuario_creador: sesion.nombre,\n                        montos_en_caja: {\n                            monto_efectivo: {\n                                monto: parseFloat(datosMovimiento.monto_efectivo),\n                                metodo_pago: \"01\"\n                            },\n                            monto_tarjeta_debito: {\n                                monto: 0,\n                                metodo_pago: \"28\"\n                            },\n                            monto_tarjeta_credito: {\n                                monto: 0,\n                                metodo_pago: \"04\"\n                            },\n                            monto_creditos: {\n                                monto: 0,\n                                metodo_pago: \"99\"\n                            },\n                            monto_monedero: {\n                                monto: 0,\n                                metodo_pago: \"05\"\n                            },\n                            monto_transferencia: {\n                                monto: 0,\n                                metodo_pago: \"03\"\n                            },\n                            monto_cheques: {\n                                monto: 0,\n                                metodo_pago: \"02\"\n                            },\n                            monto_vales_despensa: {\n                                monto: 0,\n                                metodo_pago: \"08\"\n                            }\n                        },\n                        empresa: sesion.empresa._id,\n                        sucursal: sesion.sucursal._id\n                    };\n                    await CrearHistorialCaja({\n                        variables: {\n                            empresa: sesion.empresa._id,\n                            sucursal: sesion.sucursal._id,\n                            input\n                        }\n                    });\n                    setAlert({\n                        message: `Registro de movimiento exitoso.`,\n                        status: \"success\",\n                        open: true,\n                    });\n                    handleClickOpen();\n                    setCargando(false);\n                }\n            }\n        } catch (error) {\n            setCargando(false);\n            setAlert({\n                message: `Error: ${error.message}`,\n                status: \"error\",\n                open: true,\n            });\n            handleClickOpen();\n        }\n    };\n\n    const handleAlignment = (event, newAlignment) => {\n        setMovimiento(newAlignment);\n        setDatosMovimiento({...datosMovimiento, tipo_movimiento: newAlignment})\n    };\n\n    return (\n        <>\n            <Button\n                onClick={() =>{handleClickOpen();}}\n                style={{textTransform: 'none', height: '100%', width: '60%'}}\n            >\n                <Box display=\"flex\" flexDirection=\"column\">\n                    <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n                        <img \n                            src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/ventas/cash-register2.svg' \n                            alt=\"icono caja\" \n                            style={{width: 20}}\n                        />\n                    </Box>\n                    <Box>\n                        <Typography variant=\"body2\" >\n                            <b>Deposito/Retiro Caja</b>\n                        </Typography>\n                    </Box>\n                    <Box>\n                        <Typography variant=\"caption\" style={{color: '#808080'}} >\n                            <b>Alt + D</b>\n                        </Typography>\n                    </Box>\n                </Box>\n            </Button>\t\n\n            <Dialog\n\t\t\t\tmaxWidth='lg'\n\t\t\t\topen={open} \n\t\t\t\tonClose={handleClickOpen} \n\t\t\t\tTransitionComponent={Transition}\n\t\t\t>\n                <DialogContent>\n                    <Grid container item lg={12}>\n                        <Box \n                            display=\"flex\" \n                            textAlign=\"center\" \n                        >\n                            <Box\n                                display=\"flex\" \n                                justifyContent=\"center\"\n                                flexGrow={1} \n                            >\n                                <Box>\n                                    <img src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/ventas/cash-register2.svg' alt=\"icono caja\" className={classes.iconSizeDialogs} />\n                                </Box>\n                                <Box m={2} >\n                                    <Divider orientation=\"vertical\" />\n                                </Box>\n                                <Box mt={1} >\n                                    <Box>\n                                        <Typography variant=\"h6\">\n                                            Deposito / Retiro Caja\n                                        </Typography>\n                                    </Box>\n                                    <Box display=\"flex\" textAlign=\"right\">\n                                        <Box textAlign=\"right\">\n                                            <Typography variant=\"caption\">\n                                                {moment().format('MM/DD/YYYY')}\n                                            </Typography>\n                                        </Box>\n                                        <Box textAlign=\"right\" ml={2}>\n                                            <Typography variant=\"caption\">\n                                                <b>{moment().format('h:mm')} hrs.</b> \n                                            </Typography>\n                                        </Box>\n                                        <Box textAlign=\"right\" ml={2}>\n                                            <Typography variant=\"caption\">\n                                                <b>Caja: </b>{turnoEnCurso?.numero_caja}\n                                            </Typography>\n                                        </Box>\n                                    </Box>\n                                </Box>\n                            </Box>\n                            <Box ml={10} mb={7} display=\"flex\" alignItems=\"center\">\n                                    <Button variant=\"contained\" color=\"secondary\" onClick={handleClickOpen} size=\"large\">\n                                    <CloseIcon />\n                                </Button>\n                            </Box>\n                        </Box>\n                        </Grid>\n                        <Grid>\n                            {sesion.turno_en_caja_activo === true ? (\n                                <>\n                                <div className={classes.formInputFlex}>\n                                    {/* <Box width=\"100%\">\n                                        <Typography>\n                                            Movimiento\n                                        </Typography>\n                                        <FormControl\n                                            variant=\"outlined\"\n                                            fullWidth\n                                            size=\"small\"\n                                        >\n                                            <Select\n                                                id=\"form-producto-tipo\"\n                                                name=\"tipo_movimiento\"\n                                                onChange={obtenerDatos}\n                                            >\n                                                <MenuItem value=\"\">\n                                                    <em>Selecciona uno</em>\n                                                </MenuItem>\n                                                <MenuItem value=\"DEPOSITO\">Deposito</MenuItem>\n                                                <MenuItem value=\"RETIRO\">Retiro</MenuItem>\n                                            </Select>\n                                        </FormControl>\n                                    </Box> */}\n                                    <Box width=\"100%\" textAlign=\"center\">\n                                        <ToggleButtonGroup \n                                            onChange={handleAlignment}\n                                            value={movimiento}\n                                            exclusive \n                                        >\n                                            <ToggleButton \n                                                value=\"DEPOSITO\" \n                                            >\n                                                <Box p={1}>\n                                                    <Typography variant=\"h4\">\n                                                        <b>DEPOSITO</b>\n                                                    </Typography>\n                                                </Box>\n                                            </ToggleButton>\n                                            <ToggleButton \n                                                value=\"RETIRO\"\n                                            >\n                                                <Box p={1}>\n                                                    <Typography variant=\"h4\">\n                                                        <b>RETIRO</b>\n                                                    </Typography>\n                                                </Box>\n                                            </ToggleButton>\n                                        </ToggleButtonGroup>\n                                    </Box>\n                                </div>\n                                <div className={classes.formInputFlex}>\n                                    <Box width=\"100%\">\n                                        <Typography>Monto:</Typography>\n                                        <Box display=\"flex\">\n                                            <TextField\n                                                fullWidth\n                                                size=\"small\"\n                                                type=\"number\"\n                                                name=\"monto_efectivo\"\n                                                onChange={obtenerDatos}\n                                                id=\"form-producto-codigo-barras\"\n                                                variant=\"outlined\"\n                                            />\n                                        </Box>\n                                    </Box>\n                                </div>\n                                <div className={classes.formInputFlex}>\n                                    <Box width=\"100%\">\n                                        <Typography>\n                                            Concepto de Movimiento:\n                                        </Typography>\n                                        <FormControl\n                                            variant=\"outlined\"\n                                            fullWidth\n                                            size=\"small\"\n                                        >\n                                            <Select\n                                                id=\"form-producto-tipo\"\n                                                onChange={obtenerDatos}\n                                                name=\"concepto\"\n                                            >\n                                                <MenuItem value=\"\">\n                                                    <em>Selecciona uno</em>\n                                                </MenuItem>\n                                                {data?.obtenerContabilidad.map((concepto)=> {\n                                                    return(\n                                                        <MenuItem value={concepto.nombre_servicio}>{concepto.nombre_servicio}</MenuItem>\n                                                    )\n                                                })}\n                                            </Select>\n                                        </FormControl>\n                                    </Box>\n                                </div>\n                                </>\n                            ) : (\n                                <Box textAlign=\"center\" p={2}>\n                                    <Typography variant=\"h6\"> \n                                        <b>Por el momento no hay un turno en sesin</b> \n                                    </Typography>\n                                </Box>\n                            )}\n                        </Grid>\n                </DialogContent>\n                <DialogActions>\n                    <Button \n                        onClick={enviarDatos} \n                        variant=\"contained\" \n                        color=\"primary\" \n                        size=\"large\"\n                    >\n                        Registrar\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        </>\n    )\n};\n","import React, { useContext, useEffect, useState } from 'react'\nimport useStyles from '../styles';\n\nimport { Box, Button, CircularProgress, \n        DialogActions, DialogContent,  \n        FormControl, Grid, MenuItem, \n        Select, TextField, Typography \n    } from '@material-ui/core'\nimport { useMutation, useQuery } from '@apollo/client';\nimport { OBTENER_CAJAS } from '../../../gql/Cajas/cajas';\nimport { REGISTRAR_TURNOS } from '../../../gql/Ventas/abrir_cerrar_turno';\nimport { VentasContext } from '../../../context/Ventas/ventasContext';\n\nimport moment from 'moment';\nimport 'moment/locale/es';\nmoment.locale('es');\n\nexport default function AbrirTurno({handleClickOpen, loading, type, setLoading}) {\n    const sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n    const turnoEnCurso = JSON.parse(localStorage.getItem('turnoEnCurso'));\n\n    const [ CrearRegistroDeTurno ] = useMutation(REGISTRAR_TURNOS);\n    const { setTurnoActivo, setAlert } = useContext(VentasContext);\n\n    const [ error, setError ] = useState(false);\n    const [ abrirTurno, setAbrirTurno ] = useState([]);\n    const [ numeroCaja, setNumeroCaja ] = useState('');\n    \n    const classes = useStyles();\n    let obtenerCajasSucursal = [];\n\n    const cajas = useQuery(OBTENER_CAJAS,{\n\t\tvariables: {\n            empresa: sesion.empresa._id,\n\t\t\tsucursal: sesion.sucursal._id\n\t\t}\n\t});\t\n\n    const obtenerTurno = (e) => {\n        setAbrirTurno({...abrirTurno, [e.target.name]: e.target.value});\n    };\n\n    if(cajas.data){\n\t\tobtenerCajasSucursal = cajas.data.obtenerCajasSucursal;\n\t};\n\n    let arraySesion = {\n        accesos: sesion.accesos,\n        email: sesion.email,\n        empresa: sesion.empresa,\n        estado: sesion.estado,\n        exp: sesion.exp,\n        iat: sesion.iat,\n        imagen: sesion.imagen,\n        nombre: sesion.nombre,\n        numero_usuario: sesion.numero_usuario,\n        sucursal: sesion.sucursal,\n        telefono: sesion.telefono,\n        turno_en_caja_activo: true, \n        _id: sesion._id,\n    };\n\n    useEffect(() => {\n        cajas.refetch();\n    }, [loading]);\n\n    const enviarDatos = async () => {\n        setLoading(true);\n        try {\n            if(!abrirTurno.turno_en_curso ||\n                !abrirTurno.caja_elegida ||\n                !abrirTurno.monto_abrir\n            ){\n                setError(true);\n                setLoading(false);\n                setAlert({\n                    message: `Por favor complete los datos obligatorios`,\n                    status: \"error\",\n                    open: true,\n                });\n                return;\n            }else{\n                const input = {\n                    horario_en_turno: abrirTurno.turno_en_curso,\n                    concepto: \"ABRIR TURNO\",\n                    numero_caja: numeroCaja.toString(),\n                    comentarios: abrirTurno.comentarios,\n                    id_caja: abrirTurno.caja_elegida,\n                    empresa: sesion.empresa._id,\n                    sucursal: sesion.sucursal._id,\n                    id_usuario: sesion._id,\n                    usuario_en_turno: {\n                        nombre: sesion.nombre,\n                        telefono: sesion.telefono,\n                        numero_usuario: sesion.numero_usuario.toString(),\n                        email: sesion.email,\n                    },\n                    hora_entrada: {\n                        hora: moment().format('hh'),\n                        minutos: moment().format('mm'),\n                        segundos: moment().format('ss'),\n                        completa: moment().format('HH:mm:ss')\n                    },\n                    hora_salida: {\n                        hora: \"\",\n                        minutos: \"\",\n                        segundos: \"\",\n                        completa: \"\"\n                    },\n                    fecha_entrada:{\n                        year: moment().format('YYYY'),\n                        mes: moment().format('MM'),\n                        dia: moment().format('DD'),\n                        no_semana_year: moment().week().toString(),\n                        no_dia_year: moment().dayOfYear().toString(),\n                        completa: moment().format(\"YYYY-MM-DD\")\n                    },\n                    fecha_salida:{\n                        year: \"\",\n                        mes: \"\",\n                        dia: \"\",\n                        no_semana_year: \"\",\n                        no_dia_year: \"\",\n                        completa: \"\"\n                    },\n                    fecha_movimiento: moment().locale('es-mx').format(),\n                    montos_en_caja: {\n                        monto_efectivo: {\n                            monto: parseFloat(abrirTurno.monto_abrir),\n                            metodo_pago: \"01\"\n                        },\n                        monto_tarjeta_debito: {\n                            monto: 0,\n                            metodo_pago: \"28\"\n                        },\n                        monto_tarjeta_credito: {\n                            monto: 0,\n                            metodo_pago: \"04\"\n                        },\n                        monto_creditos: {\n                            monto: 0,\n                            metodo_pago: \"99\"\n                        },\n                        monto_monedero: {\n                            monto: 0,\n                            metodo_pago: \"05\"\n                        },\n                        monto_transferencia: {\n                            monto: 0,\n                            metodo_pago: \"03\"\n                        },\n                        monto_cheques: {\n                            monto: 0,\n                            metodo_pago: \"02\"\n                        },\n                        monto_vales_despensa: {\n                            monto: 0,\n                            metodo_pago: \"08\"\n                        },\n                    }\n                };\n\n                const variableTurnoAbierto = await CrearRegistroDeTurno({\n                    variables: {\n                        activa: true,\n                        input\n                    }\n                });\n\n                if(variableTurnoAbierto.data.crearRegistroDeTurno === null){\n                    setLoading(false);\n                    cajas.refetch();\n                    setAlert({\n                        message: `Lo sentimos esta caja ya esta en uso`,\n                        status: \"error\",\n                        open: true,\n                    });\n                }else{\n                    localStorage.setItem('turnoEnCurso', JSON.stringify(variableTurnoAbierto.data.crearRegistroDeTurno));\n                    localStorage.setItem('sesionCafi', JSON.stringify(arraySesion));\n                    setTurnoActivo(true);\n                    setAlert({\n                        message: `Turno abierto con exito`,\n                        status: \"success\",\n                        open: true,\n                    });\n                    cajas.refetch();\n                    if (type !== \"FRENTE\") {\n                        handleClickOpen();\n                    };\n                }\n            }\n        } catch (error) {\n            setLoading(false);\n            setAlert({\n                message: `Error: ${error.message}`,\n                status: \"error\",\n                open: true,\n            });\n            if (type !== \"FRENTE\") {\n                handleClickOpen();\n            }\n        }\n    };\n\n    if (cajas.loading) \n\treturn (\n\t\t<Box\n\t\tdisplay=\"flex\"\n\t\tflexDirection=\"column\"\n\t\tjustifyContent=\"center\"\n\t\talignItems=\"center\"\n\t\theight=\"80vh\"\n\t\t>\n\t\t\t<CircularProgress />\n\t\t</Box>\n\t);\n\n    return (\n        <div>\n            <DialogContent>\n                <Grid>\n                    <div className={classes.formInputFlex}>\n                        <Box width=\"100%\">\n                            <Typography> Empleado:</Typography>\n                            <Box display=\"flex\">\n                                <TextField\n                                    fullWidth\n                                    size=\"small\"\n                                    name=\"nombre_usuario\"\n                                    onChange={obtenerTurno}\n                                    disabled={true}\n                                    value={sesion ? sesion.nombre : ''}\n                                    id=\"form-producto-codigo-barras\"\n                                    variant=\"outlined\"\n                                />\n                            </Box>\n                        </Box>\n                        <Box width=\"100%\">\n                            <Typography>\n                                <span className=\"obligatorio\">* </span>Turno:\n                            </Typography>\n                            <FormControl\n                                variant=\"outlined\"\n                                disabled={turnoEnCurso ? true : false}\n                                fullWidth\n                                size=\"small\"\n                            >\n                                <Select\n                                    id=\"form-producto-tipo\"\n                                    name=\"turno_en_curso\"\n                                    onChange={obtenerTurno}\n                                >\n                                    <MenuItem value=\"\">\n                                        <em>Selecciona uno</em>\n                                    </MenuItem>\n                                    <MenuItem value=\"VESPERTINO\">Vespertino</MenuItem>\n                                    <MenuItem value=\"MATUTINO\">Matutino</MenuItem>\n                                </Select>\n                            </FormControl>\n                        </Box>\n                    </div>\n                    <div className={classes.formInputFlex}>\n                        <Box width=\"100%\">\n                            <Typography>\n                                <span className=\"obligatorio\">* </span>Caja:\n                            </Typography>\n                            <FormControl\n                                variant=\"outlined\"\n                                disabled={turnoEnCurso ? true : false}\n                                fullWidth\n                                size=\"small\"\n                            >\n                                <Select\n                                    id=\"form-producto-tipo\"\n                                    name=\"caja_elegida\"\n                                    onChange={obtenerTurno}\n                                >\n                                    <MenuItem value=\"\">\n                                        <em>Selecciona uno</em>\n                                    </MenuItem>\n                                    {\n                                        obtenerCajasSucursal.map((caja) =>{\n                                            return(\n                                                caja.activa === true ? null :(\n                                                    <MenuItem key={caja.numero_caja} value={caja._id} onClick={() => setNumeroCaja(caja.numero_caja)}>\n                                                        Caja {caja.numero_caja}\n                                                    </MenuItem>\n                                                )\n                                            );\n                                        })\n                                    }\n                                </Select>\n                            </FormControl>\n                        </Box>\n                        <Box width=\"100%\">\n                            <Typography> <span className=\"obligatorio\">* </span>Monto para abrir:</Typography>\n                            <Box display=\"flex\" className={classes.input}>\n                                <TextField\n                                    fullWidth\n                                    size=\"small\"\n                                    name=\"monto_abrir\"\n                                    inputProps={{min: 0}}\n                                    type=\"number\"\n                                    onChange={obtenerTurno}\n                                    id=\"form-producto-codigo-barras\"\n                                    variant=\"outlined\"\n                                />\n                            </Box>\n                        </Box>\n                    </div>\n                    <div className={classes.formInputFlex}>\n                        <Box width=\"100%\">\n                            <Typography> Comentarios:</Typography>\n                            <Box display=\"flex\">\n                                <TextField\n                                    fullWidth\n                                    size=\"small\"\n                                    name=\"comentarios\"\n                                    multiline\n                                    rows={5}\n                                    onChange={obtenerTurno}\n                                    id=\"form-producto-codigo-barras\"\n                                    variant=\"outlined\"\n                                />\n                            </Box>\n                        </Box>\n                    </div>\n                </Grid>\n            </DialogContent>\n            <DialogActions>\n                <Box display=\"flex\" alignItems='flex-end'>\n                    <Button \n                        onClick={enviarDatos} \n                        variant=\"contained\" \n                        color=\"primary\" \n                        size=\"large\"\n                    >\n                        ABRIR TURNO\n                    </Button>\n                </Box>\n            </DialogActions>\n        </div>\n    )\n}","import React, { useContext, useState } from 'react'\nimport useStyles from '../styles';\nimport { Box,  Button,  DialogActions, \n        DialogContent,  FormControl, \n        Grid, MenuItem, Select, \n        TextField, Typography \n    } from '@material-ui/core'\nimport { REGISTRAR_TURNOS } from '../../../gql/Ventas/abrir_cerrar_turno';\n\nimport moment from 'moment';\nimport 'moment/locale/es';\nimport { VentasContext } from '../../../context/Ventas/ventasContext';\nimport { useMutation } from '@apollo/client';\nimport { withRouter } from 'react-router-dom';\nmoment.locale('es');\n\nfunction  CerrarTurno(props) {\n    const { handleClickOpen, setLoading } = props;\n    const [ CrearRegistroDeTurno ] = useMutation(REGISTRAR_TURNOS);\n    const { setAlert, setTurnoActivo, ubicacionTurno } = useContext(VentasContext);\n    const [ error, setError] = useState(false);\n\n    const sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n    const turnoEnCurso = JSON.parse(localStorage.getItem('turnoEnCurso'));\n\n    const classes = useStyles();\n    const [ montoTurno, setMontoTurno ] = useState([]);\n    const [ cerrarTurno, setCerrarTurno ] = useState([]);\n\n    const obtenerCamposMontos = (e) => { \n        setMontoTurno({...montoTurno, [e.target.name]: e.target.value})\n    };\n\n    const obtenerCampos = (e) => { \n        setCerrarTurno({...cerrarTurno, [e.target.name]: e.target.value})\n    };\n    \n    const input = {\n        horario_en_turno: cerrarTurno.horario_en_turno,\n        concepto: \"CERRAR TURNO\",\n        token_turno_user: turnoEnCurso ? turnoEnCurso.token_turno_user : \"\",\n        numero_caja: turnoEnCurso ? turnoEnCurso?.numero_caja.toString() : \"\",\n        comentarios: cerrarTurno.comentarios,\n        id_caja: turnoEnCurso ? turnoEnCurso.id_caja : \"\",\n        empresa: sesion.empresa._id,\n        sucursal: sesion.sucursal._id,\n        id_usuario: sesion._id,\n        usuario_en_turno: {\n            nombre: sesion.nombre,\n            telefono: sesion.telefono,\n            numero_usuario: sesion.numero_usuario.toString(),\n            email: sesion.email,\n        },\n        hora_entrada: {\n            hora:  \"\",\n            minutos: \"\",\n            segundos:  \"\",\n            completa: \"\"\n        },\n        hora_salida: {\n            hora: moment().format('hh'),\n            minutos: moment().format('mm'),\n            segundos: moment().format('ss'),\n            completa: moment().format('HH:mm:ss')\n        },\n        fecha_entrada:{\n            year: \"\",\n            mes: \"\",\n            dia: \"\",\n            no_semana_year: \"\",\n            no_dia_year: \"\",\n            completa: \"\"\n        },\n        fecha_salida:{\n            year: moment().format('YYYY'),\n            mes: moment().format('MM'),\n            dia: moment().format('DD'),\n            no_semana_year: moment().week().toString(),\n            no_dia_year: moment().dayOfYear().toString(),\n            completa: moment().format(\"YYYY-MM-DD\")\n        },\n        fecha_movimiento: moment().locale('es-mx').format(),\n        montos_en_caja: {\n            monto_efectivo: {\n                monto:  parseFloat(montoTurno.monto_efectivo ? montoTurno.monto_efectivo : 0),\n                metodo_pago: \"01\"\n            },\n            monto_tarjeta_debito: {\n                monto: parseFloat(montoTurno.monto_tarjeta_debito ? montoTurno.monto_tarjeta_debito : 0),\n                metodo_pago: \"28\"\n            },\n            monto_tarjeta_credito: {\n                monto: parseFloat(montoTurno.monto_tarjeta_credito ? montoTurno.monto_tarjeta_credito : 0),\n                metodo_pago: \"04\"\n            },\n            monto_creditos: {\n                monto: parseFloat(montoTurno.monto_creditos ? montoTurno.monto_creditos : 0 ),\n                metodo_pago: \"99\"\n            },\n            monto_monedero: {\n                monto: parseFloat(montoTurno.monto_puntos ? montoTurno.monto_puntos : 0),\n                metodo_pago: \"05\"\n            },\n            monto_transferencia: {\n                monto: parseFloat(montoTurno.monto_transferencia ? montoTurno.monto_transferencia : 0),\n                metodo_pago: \"03\"\n            },\n            monto_cheques: {\n                monto: parseFloat(montoTurno.monto_cheques ? montoTurno.monto_cheques : 0),\n                metodo_pago: \"02\"\n            },\n            monto_vales_despensa: {\n                monto: parseFloat(montoTurno.monto_vales_despensa ? montoTurno.monto_vales_despensa : 0),\n                metodo_pago: \"08\"\n            },\n        }\n    };\n\n    let arraySesion = {\n        accesos: sesion.accesos,\n        email: sesion.email,\n        empresa: sesion.empresa,\n        estado: sesion.estado,\n        exp: sesion.exp,\n        iat: sesion.iat,\n        imagen: sesion.imagen,\n        nombre: sesion.nombre,\n        numero_usuario: sesion.numero_usuario,\n        sucursal: sesion.sucursal,\n        telefono: sesion.telefono,\n        turno_en_caja_activo: false, \n        _id: sesion._id,\n    };\n\n    const actualizarTurnoSesion  = (ubicacionTurno) => {\n        if (ubicacionTurno === 'SESION') {\n            localStorage.removeItem('sesionCafi');\n\t\t\tlocalStorage.removeItem('tokenCafi');\n            localStorage.removeItem('turnoEnCurso');\n            localStorage.removeItem('ListaEnEspera');\n            localStorage.removeItem('DatosVentas');\n\t\t\tprops.history.push('/');\n        }else{\n            localStorage.setItem('sesionCafi', JSON.stringify(arraySesion));\n            localStorage.removeItem('DatosVentas');\n            localStorage.removeItem('ListaEnEspera');\n            localStorage.removeItem('turnoEnCurso');\n        }\n    };\n\n    const enviarDatos  = async () => {\n        setLoading(true);\n        try {\n            if(!cerrarTurno.horario_en_turno){\n                setError(true);\n                setLoading(false);\n                setAlert({\n                    message: `Por favor elija que turno esta cerrando`,\n                    status: \"error\",\n                    open: true,\n                });\n                return;\n            }else{\n                await CrearRegistroDeTurno({\n                    variables: {\n                        activa: false,\n                        input\n                    }\n                });\n                setAlert({\n                    message: `Turno cerrado con exito`,\n                    status: \"success\",\n                    open: true,\n                });\n\n                actualizarTurnoSesion(ubicacionTurno);\n\n                setLoading(false);\n                handleClickOpen();\n                setTurnoActivo(true);\n            }\n        } catch (error) {\n            setAlert({\n                message: `Error: ${error.message}`,\n                status: \"error\",\n                open: true,\n            });\n            setLoading(false);\n            handleClickOpen();\n        }\n    };\n\n\n    return (\n        <>\n            <DialogContent style={{padding: 0}}>\n            <Box width=\"100%\" textAlign=\"center\">\n                <Typography variant=\"h6\">Montos a Depositar</Typography>\n            </Box>\n            <div className={classes.formInputFlex}>\n                <Box width=\"100%\" className={classes.input}>\n                    <Typography> Monto Efectivo:</Typography>\n                    <Box display=\"flex\">\n                        <TextField\n                            name=\"monto_efectivo\"\n                            variant=\"outlined\"\n                            size=\"small\"\n                            inputProps={{min: 0}}\n                            type=\"number\"\n                            defaultValue={0}\n                            color=\"primary\"\n                            onChange={obtenerCamposMontos}\n                        />\n                    </Box>\n                </Box>\n                <Box width=\"100%\" className={classes.input}>\n                    <Typography> Creditos:</Typography>\n                    <Box display=\"flex\">\n                        <TextField\n                            name=\"monto_creditos\"\n                            variant=\"outlined\"\n                            size=\"small\"\n                            inputProps={{min: 0}}\n                            type=\"number\" \n                            defaultValue={0}\n                            color=\"primary\"\n                            onChange={obtenerCamposMontos}\n                        />\n                    </Box>\n                </Box>\n            </div>\n            <div className={classes.formInputFlex}>\n                <Box width=\"100%\" className={classes.input}>\n                    <Typography> Tarjeta Debito:</Typography>\n                    <Box display=\"flex\">\n                        <TextField\n                            name=\"monto_tarjeta_debito\"\n                            variant=\"outlined\"\n                            size=\"small\"\n                            inputProps={{min: 0}}\n                            type=\"number\"\n                            defaultValue={0}\n                            color=\"primary\"\n                            onChange={obtenerCamposMontos}\n                        />\n                    </Box>\n                </Box>\n                <Box width=\"100%\" className={classes.input}>\n                    <Typography> Tarjeta Credito:</Typography>\n                    <Box display=\"flex\">\n                        <TextField\n                            name=\"monto_tarjeta_credito\"\n                            variant=\"outlined\"\n                            size=\"small\"\n                            inputProps={{min: 0}}\n                            type=\"number\"\n                            defaultValue={0}\n                            color=\"primary\"\n                            onChange={obtenerCamposMontos}\n                        />\n                    </Box>\n                </Box>\n                \n            </div>\n            <div className={classes.formInputFlex}>\n                <Box width=\"100%\" className={classes.input}>\n                    <Typography>Monedero:</Typography>\n                    <Box display=\"flex\">\n                        <TextField\n                            name=\"monto_puntos\"\n                            variant=\"outlined\"\n                            size=\"small\"\n                            inputProps={{min: 0}}\n                            type=\"number\" \n                            defaultValue={0}\n                            color=\"primary\"\n                            onChange={obtenerCamposMontos}\n                        />\n                    </Box>\n                </Box>\n                <Box width=\"100%\" className={classes.input}>\n                    <Typography>Transferencias:</Typography>\n                    <Box display=\"flex\">\n                        <TextField\n                            name=\"monto_transferencia\"\n                            variant=\"outlined\"\n                            size=\"small\"\n                            inputProps={{min: 0}}\n                            type=\"number\" \n                            defaultValue={0}\n                            color=\"primary\"\n                            onChange={obtenerCamposMontos}\n                        />\n                    </Box>\n                </Box>\n            </div>\n            <div className={classes.formInputFlex}>\n                <Box width=\"100%\" className={classes.input}>\n                    <Typography>Cheques:</Typography>\n                    <Box display=\"flex\">\n                        <TextField\n                            name=\"monto_cheques\"\n                            variant=\"outlined\"\n                            size=\"small\"\n                            inputProps={{min: 0}}\n                            type=\"number\" \n                            defaultValue={0}\n                            color=\"primary\"\n                            onChange={obtenerCamposMontos}\n                        />\n                    </Box>\n                </Box>\n                <Box width=\"100%\" className={classes.input}>\n                    <Typography>Vales de despensa:</Typography>\n                    <Box display=\"flex\">\n                        <TextField\n                            name=\"monto_vales_despensa\"\n                            variant=\"outlined\"\n                            size=\"small\"\n                            inputProps={{min: 0}}\n                            type=\"number\" \n                            defaultValue={0}\n                            color=\"primary\"\n                            onChange={obtenerCamposMontos}\n                        />\n                    </Box>\n                </Box>\n            </div>\n                <Grid container >\n                    <Grid item lg={6}>\n                        <Box mt={1} textAlign=\"center\">\n                            <Typography >\n                                <b>Monto total efectivo:  </b>\n                            </Typography>\n                        </Box>\n                    </Grid>\n                    <Grid item lg={6} justify='flex-end'>\n                        <Box mt={1} textAlign=\"center\" >\n                            <Typography>\n                                 ${montoTurno.monto_efectivo} Mx.\n                            </Typography>\n                        </Box>\n                    </Grid>\n                </Grid>\n                <div className={classes.formInputFlex}>\n                    <Box width=\"100%\">\n                        <Typography>\n                            <span className=\"obligatorio\">* </span> Turno:\n                        </Typography>\n                        <FormControl\n                            variant=\"outlined\"\n                            fullWidth\n                            size=\"small\"\n                        >\n                            <Select\n                                onChange={obtenerCampos}\n                                id=\"form-producto-tipo\"\n                                name=\"horario_en_turno\"\n                            >\n                                <MenuItem value=\"\">\n                                    <em>Selecciona uno</em>\n                                </MenuItem>\n                                <MenuItem value=\"VESPERTINO\">Vespertino</MenuItem>\n                                <MenuItem value=\"MATUTINO\">Matutino</MenuItem>\n                            </Select>\n                        </FormControl>\n                    </Box>\n                </div>\n                <div className={classes.formInputFlex}>\n                    <Box width=\"100%\">\n                        <Typography>Comentarios:</Typography>\n                        <Box display=\"flex\">\n                            <TextField\n                                fullWidth\n                                multiline\n                                onChange={obtenerCampos}\n                                rows={2}\n                                size=\"small\"\n                                name=\"comentarios\"\n                                id=\"form-producto-codigo-barras\"\n                                variant=\"outlined\"\n                            />\n                        </Box>\n                    </Box>\n                </div>\n            </DialogContent>\n            <DialogActions>\n                <Box display=\"flex\" alignItems='flex-end'>\n                    <Button \n                        onClick={enviarDatos} \n                        variant=\"contained\" \n                        color=\"primary\" \n                        size=\"large\"\n                    >\n                        Aceptar\n                    </Button>\n                </Box>\n            </DialogActions>\n        </>\n    )\n};\n\nexport default withRouter(CerrarTurno);\n","import React, { useContext, useState } from 'react'\nimport PropTypes from 'prop-types';\nimport { AppBar, Box, Button, CircularProgress, Dialog, DialogContent, Grid, makeStyles, Slide, Tab, Tabs, Typography } from '@material-ui/core'\nimport CloseIcon from '@material-ui/icons/Close';\n\nimport AbrirTurno from './AbrirTurno';\nimport CerrarTurno from './CerrarTurno';\nimport moment from 'moment';\nimport 'moment/locale/es';\nimport { VentasContext } from '../../../context/Ventas/ventasContext';\nmoment.locale('es');\n\nfunction TabPanel(props) {\n\tconst { children, value, index, ...other } = props;\n\n\treturn (\n\t\t<div\n\t\t\trole=\"tabpanel\"\n\t\t\thidden={value !== index}\n\t\t\tid={`tabpanel-reg-product-${index}`}\n\t\t\taria-labelledby={`reg-product-tab-${index}`}\n\t\t\t{...other}\n\t\t>\n\t\t\t{value === index && (\n\t\t\t\t<Box p={3} height=\"70vh\">\n\t\t\t\t\t{children}\n\t\t\t\t</Box>\n\t\t\t)}\n\t\t</div>\n\t);\n}\n\nTabPanel.propTypes = {\n\tchildren: PropTypes.node,\n\tindex: PropTypes.any.isRequired,\n\tvalue: PropTypes.any.isRequired\n};\n\nfunction a11yProps(index) {\n\treturn {\n\t\tid: `reg-product-tab-${index}`,\n\t\t'aria-controls': `tabpanel-reg-product-${index}`\n\t};\n}\n\nconst useStyles = makeStyles((theme) => ({\n\tformInputFlex: {\n\t\tdisplay: 'flex',\n\t\t'& > *': {\n\t\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(0)}px`\n\t\t}\n\t},\n\tformInput: {\n\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(0)}px`\n\t},\n\troot: {\n\t\tflexGrow: 1,\n\t\twidth: '100%',\n\t\tbackgroundColor: theme.palette.background.paper\n\t},\n\ticonSvg: {\n\t\twidth: 50\n\t},\n\tdialogContent: {\n\t\tpadding: 0\n\t},\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function Turnos() {\n\tconst { abrirTurnosDialog, setAbrirTurnosDialog, setTurnoActivo } = useContext(VentasContext);\n    const sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\tconst turnoEnCurso = JSON.parse(localStorage.getItem('turnoEnCurso'));\n\n    const classes = useStyles();\n    const [value, setValue] = useState(0);\n\n    const handleChange = (event, newValue) => {\n\t\tsetValue(newValue);\n\t};\n\n\tconst handleClickOpen = () => { \n\t\tsetAbrirTurnosDialog(!abrirTurnosDialog);\n\t\tsetTurnoActivo(true);\n\t};\n\n\twindow.addEventListener('keydown', Mi_funcin); \n\n\tfunction Mi_funcin(e){\n\t\tif(e.altKey && e.keyCode === 85){ \n\t\t\thandleClickOpen();\n\t\t} \n\t};\n\n    return (\n        <>\n\t\t\t<Button\n                onClick={() => handleClickOpen()}\n                style={{textTransform: 'none', height: '100%', width: '60%'}}\n            >\n                <Box display=\"flex\" flexDirection=\"column\" style={{height: '100%', width: '100%'}}>\n                    <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n                        <img \n                            src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/ventas/shift.svg'\n                            alt=\"icono caja\" \n                            style={{width: 20}}\n                        />\n                    </Box>\n\t\t\t\t\t<Box>\n                        <Typography variant=\"body2\" >\n                            <b>Abrir/Cerrar turno</b>\n                        </Typography>\n                    </Box>\n                    <Box>\n                        <Typography variant=\"caption\" style={{color: '#808080'}} >\n                            <b>Alt + U</b>\n                        </Typography>\n                    </Box>\n                </Box>\n            </Button>\t\n\n            <Dialog\n\t\t\t\tmaxWidth='lg'\n\t\t\t\topen={abrirTurnosDialog} \n\t\t\t\tonClose={handleClickOpen} \n\t\t\t\tTransitionComponent={Transition}\n\t\t\t>\n            <AppBar position=\"static\" color=\"default\" elevation={0}>\n\t\t\t\t\t<Tabs\n\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\tvariant=\"scrollable\"\n\t\t\t\t\t\tscrollButtons=\"on\"\n\t\t\t\t\t\tindicatorColor=\"primary\"\n\t\t\t\t\t\ttextColor=\"primary\"\n\t\t\t\t\t\taria-label=\"scrollable force tabs example\"\n\t\t\t\t\t>\n\t\t\t\t\t\t\n\t\t\t\t\t\t{sesion?.turno_en_caja_activo === true && turnoEnCurso ? (\n\t\t\t\t\t\t\t<Tab\n\t\t\t\t\t\t\t\tlabel=\"Cerrar Turno\"\n\t\t\t\t\t\t\t\ticon={<img src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/ventas/shift.svg' alt=\"icono almacen\" className={classes.iconSvg} />}\n\t\t\t\t\t\t\t\t{...a11yProps(0)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<Tab\n\t\t\t\t\t\t\t\tlabel=\"Abrir Turno\"\n\t\t\t\t\t\t\t\ticon={<img src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/ventas/shift.svg' alt=\"icono almacen\" className={classes.iconSvg} />}\n\t\t\t\t\t\t\t\t{...a11yProps(0)}\n\t\t\t\t\t\t\t/>\t\t\t\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<Grid container justify='flex-end'>\n\t\t\t\t\t\t\t<Box mt={2} textAlign=\"right\">\n\t\t\t\t\t\t\t\t<Box textAlign=\"right\">\n\t\t\t\t\t\t\t\t\t<Typography variant=\"caption\">\n\t\t\t\t\t\t\t\t\t\t{moment().format('L')}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t<Box textAlign=\"right\">\n\t\t\t\t\t\t\t\t\t<Typography variant=\"caption\">\n\t\t\t\t\t\t\t\t\t\t{moment().format('LT')} hrs.\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t<Box textAlign=\"right\">\n\t\t\t\t\t\t\t\t\t<Typography variant=\"caption\">\n\t\t\t\t\t\t\t\t\t\tCaja {!turnoEnCurso ? null : turnoEnCurso.numero_caja }\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Box mt={3} ml={3}>\n\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"secondary\" onClick={handleClickOpen} size=\"medium\">\n\t\t\t\t\t\t\t\t<CloseIcon />\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Tabs>\n\t\t\t\t</AppBar>\n                <ContenidoTurnos handleClickOpen={handleClickOpen} value={value} /> \n\t\t\t</Dialog>\n        </>\n    )\n}\n\n\nconst ContenidoTurnos = ({ handleClickOpen, value}) => {\n\n\tconst turnoEnCurso = JSON.parse(localStorage.getItem('turnoEnCurso'));\n    const sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\n\tconst [loading, setLoading] = useState(false);\n\n\tif (loading) \n\treturn (\n\t\t<Box\n\t\tdisplay=\"flex\"\n\t\tflexDirection=\"column\"\n\t\tjustifyContent=\"center\"\n\t\talignItems=\"center\"\n\t\theight=\"80vh\"\n\t\t>\n\t\t\t<CircularProgress />\n\t\t</Box>\n\t);\n\n\treturn(\n\t\t<DialogContent style={{padding: 0}}>\n\t\t\t{sesion?.turno_en_caja_activo === true && turnoEnCurso ? (\n\t\t\t\t<TabPanel style={{padding: 0}} value={value} index={0}>\n\t\t\t\t\t<CerrarTurno  setLoading={setLoading} handleClickOpen={handleClickOpen} />\n\t\t\t\t</TabPanel>\n\t\t\t): (\n\t\t\t\t<TabPanel value={value} index={0}>\n\t\t\t\t\t<AbrirTurno loading={loading} setLoading={setLoading} handleClickOpen={handleClickOpen} />\n\t\t\t\t</TabPanel>\n\t\t\t)}\n\t\t</DialogContent>\n\t)\n};\n","import React, { createContext, useState } from 'react';\n\nexport const AccesosContext = createContext();\n\nexport const AccesosProvider = ({ children }) => {\n\n    const [ abrirPanelAcceso, setAbrirPanelAcceso ] = useState(false);\n    const [ departamentos, setDepartamentos ] = useState({departamento: '', subDepartamento: '', tipo_acceso: ''});\n\n    const [ reloadAdministrador, setReloadAdministrador ] = useState(false);\n    const [ reloadProductoRapido, setReloadProductoRapido ] = useState(false);\n    const [ reloadCancelarVenta, setReloadCancelarVenta ] = useState(false);\n    const [ reloadVerPrecios, setReloadVerPrecios ] = useState(false);\n    const [ reloadVerPreCorte, setReloadVerPreCorte ] = useState(false);\n    const [ reloadEliminarVentaEspera, setReloadEliminarVentaEspera ] = useState(false);\n    const [ reloadCrearCotizacion, setReloadCrearCotizacion ] = useState(false);\n\n    return (\n\t\t<AccesosContext.Provider value={\n            { \n                departamentos, \n                setDepartamentos,\n                reloadProductoRapido, \n                setReloadProductoRapido,\n                reloadAdministrador, \n                setReloadAdministrador,\n                abrirPanelAcceso, \n                setAbrirPanelAcceso,\n                reloadCancelarVenta, \n                setReloadCancelarVenta,\n                reloadVerPrecios, \n                setReloadVerPrecios,\n                reloadVerPreCorte, \n                setReloadVerPreCorte,\n                reloadEliminarVentaEspera, \n                setReloadEliminarVentaEspera,\n                reloadCrearCotizacion, \n                setReloadCrearCotizacion\n            }\n        }>\n\t\t\t{children}\n\t\t</AccesosContext.Provider>\n\t);\n};","import React, { useContext, useEffect, useState } from 'react'\nimport { Box, Button, Dialog, DialogActions, DialogContent, Grid, Slide, Typography } from '@material-ui/core'\nimport CloseIcon from '@material-ui/icons/Close';\nimport moment from 'moment';\nimport useStyles from '../styles';\nimport 'moment/locale/es';\nimport { useQuery } from '@apollo/client';\nimport { OBTENER_PRE_CORTE_CAJA } from '../../../gql/Cajas/cajas';\nimport { AccesosContext } from '../../../context/Accesos/accesosCtx';\nmoment.locale('es');\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n    return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function PreCorteCaja() {\n    const turnoEnCurso = JSON.parse(localStorage.getItem('turnoEnCurso'));\n    const sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\n    const { \n\t\treloadVerPreCorte, \n        setReloadVerPreCorte,\n\t\tsetAbrirPanelAcceso,\n        abrirPanelAcceso,\n\t\tsetDepartamentos\n\t} = useContext(AccesosContext);\n\n    const input = { \n        horario_en_turno: \"ABRIR TURNO\",\n        id_caja: turnoEnCurso ? turnoEnCurso.id_caja : \"\",\n        id_usuario: sesion._id,\n        token_turno_user: turnoEnCurso ? turnoEnCurso.token_turno_user : \"\"\n    };\n\n    const { data, refetch} = useQuery(OBTENER_PRE_CORTE_CAJA, {\n        variables: { empresa: sesion.empresa._id, sucursal: sesion.sucursal._id, input: input},\n    });\n\n    const classes = useStyles();\n    const [open, setOpen] = useState(false);\n\n    const handleClickOpen = () => { \n        if(sesion.accesos.ventas.pre_corte.ver === true){\n\t\t\tsetOpen(!open);\n        }else{\n            setAbrirPanelAcceso(!abrirPanelAcceso);\n            setDepartamentos({departamento: 'ventas', subDepartamento: 'pre_corte', tipo_acceso: 'ver'})\n        }\n\t};\n\n    useEffect(() => {\n\t\tif (reloadVerPreCorte === true) {\t\n            setOpen(!open);\n\t\t\tsetReloadVerPreCorte(false);\n\t\t}\n\t}, [reloadVerPreCorte]);\n    \n    if(!data) return null;\n\n    window.addEventListener('keydown', Mi_funcin); \n    function Mi_funcin(e){\n        if(e.altKey && e.keyCode === 79){ \n            handleClickOpen();\n            refetch();\n        } \n    };\n\n    return (\n        <>\n            <Button\n                onClick={() =>{\n                    handleClickOpen()\n                    refetch()\n                }}\n                style={{textTransform: 'none', height: '100%', width: '60%'}}\n            >\n                <Box display=\"flex\" flexDirection=\"column\">\n                    <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n                        <img \n                            src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/ventas/cash-register.svg' \n                            alt=\"icono caja\" \n                            style={{width: 20}}\n                        />\n                    </Box>\n                    <Box>\n                        <Typography variant=\"body2\" >\n                            <b>Pre corte caja</b>\n                        </Typography>\n                    </Box>\n                    <Box>\n                        <Typography variant=\"caption\" style={{color: '#808080'}} >\n                            <b>Alt + O</b>\n                        </Typography>\n                    </Box>\n                </Box>\n            </Button>\t\n\n            <Dialog\n\t\t\t\tmaxWidth='lg'\n\t\t\t\topen={open} \n\t\t\t\tonClose={handleClickOpen} \n\t\t\t\tTransitionComponent={Transition}\n\t\t\t>\n                <DialogContent>\n                    <Grid container>\n                        <Grid item lg={10}>\n                            <Box\n                                display=\"flex\" \n                                alignItems=\"center\"\n                            >\n                                <Box>\n                                    <img src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/ventas/cash-register.svg' alt=\"icono caja\" className={classes.iconSizeDialogs} />\n                                </Box>\n                                <Box ml={2}>\n                                    <Box textAlign=\"left\">\n                                        <Typography variant=\"h6\">\n                                            Pre-Corte de Caja\n                                        </Typography>\n                                    </Box>\n                                    <Box display=\"flex\">\n                                        <Box textAlign=\"right\">\n                                            <Typography variant=\"caption\">\n                                                {moment().format('MM/DD/YYYY')}\n                                            </Typography>\n                                        </Box>\n                                        <Box textAlign=\"right\" ml={2}>\n                                            <Typography variant=\"caption\">\n                                                <b>{moment().format('h:mm')} hrs.</b>\n                                            </Typography>\n                                        </Box>\n                                    </Box>\n                                </Box>\n                            </Box>\n                        </Grid>\n                        <Grid item lg={2}>\n                            <Box ml={4} display=\"flex\" alignItems=\"center\" justifyContent=\"flex-end\">\n                                <Button variant=\"contained\" color=\"secondary\" onClick={() => setOpen(!open)} size=\"large\">\n                                    <CloseIcon />\n                                </Button>\n                            </Box>\n                        </Grid>\n                    </Grid>\n                    <Grid>\n                        <Box p={2}>\n                        {sesion.turno_en_caja_activo === true && turnoEnCurso ? (\n                            <>\n                                <Box>\n                                    <Typography variant=\"subtitle1\"> \n                                        <b>Usuario: </b> {sesion.nombre}\n                                    </Typography>\n                                </Box>\n                                <Box>\n                                    <Typography variant=\"subtitle1\"> \n                                        <b>Caja: </b> {turnoEnCurso ? turnoEnCurso.numero_caja : ''}\n                                    </Typography>\n                                </Box>\n                                <Box>\n                                    <Typography variant=\"subtitle1\"> \n                                        <b>Fecha y hora al precorte: </b> \n                                    </Typography>\n                                    <Typography variant=\"subtitle1\"> \n                                        {moment().format('MMMM D YYYY, h:mm:ss a')}\n                                    </Typography>\n                                </Box>\n                                <Box textAlign=\"center\" p={2}>\n                                    <Typography variant=\"h6\"> \n                                        <b>Monto total en efectivo: </b> \n                                    </Typography>\n                                    <Typography variant=\"h3\" style={{color: \"green\"}}> \n                                        <b>${data?.obtenerPreCorteCaja?.monto_efectivo_precorte}</b> \n                                    </Typography>\n                                </Box>\n                            </>\n                        ) : (\n                            <Box textAlign=\"center\" p={2}>\n                                <Typography variant=\"h6\"> \n                                    <b>Por el momento no hay un turno en sesin</b> \n                                </Typography>\n                            </Box>\n                        )}\n                        </Box>\n                    </Grid>\n                </DialogContent>\n                \n                <DialogActions>\n                    {sesion.turno_en_caja_activo === true && turnoEnCurso ? (\n                        <Button \n                            onClick={() => setOpen(!open)} \n                            color=\"primary\"\n                            variant=\"outlined\"\n                            size=\"large\"\n                            autoFocus\n                        >\n                            Imprimir Ticket\n                        </Button>\n                    ) : null }\n                </DialogActions>\n\n            </Dialog>\n        </>\n    )\n}","import { gql } from \"@apollo/client\";\n\nexport const CREAR_COTIZACION = gql`\nmutation crearCotizacion( $input: CrearVentasInput!, $empresa: ID!, $sucursal: ID!, $usuario: ID!, $caja: ID!) {\n    crearCotizacion(input: $input, empresa: $empresa, sucursal: $sucursal, usuario: $usuario, caja: $caja, ) {\n\t\t\tmessage\n\t\t}\n\t}\n`;","import React, { useContext, useState } from 'react';\nimport {\n    Box, Button, DialogActions, DialogContent, \n    FormControl, Grid, MenuItem, \n    Paper, \n    Select, Slider, TextField, Typography \n} from '@material-ui/core'\nimport useStyles from '../styles';\nimport MonetizationOnIcon from '@material-ui/icons/MonetizationOn';\nimport MoneyOffIcon from '@material-ui/icons/MoneyOff';\nimport moment from 'moment';\nimport 'moment/locale/es';\nimport { CREAR_COTIZACION } from \"../../../gql/Ventas/cotizaciones\";\nimport { VentasContext } from '../../../context/Ventas/ventasContext';\nimport { useMutation } from '@apollo/client';\n\nexport default function NuevaCotizacion({ handleClickOpen }) {\n    const { setAlert } = useContext(VentasContext);\n\n    const [ CrearCotizacion ] = useMutation(CREAR_COTIZACION);\n\n    const datosVentas = JSON.parse(localStorage.getItem('DatosVentas'));\n    const turnoEnCurso = JSON.parse(localStorage.getItem('turnoEnCurso'));\n    const sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\n    const [ newCotizacion, setNewCotizacion ] = useState([]);\n    const [ preciosDescuentos, setPreciosDescuentos ] = useState([]);\n    const [ totalDescount, setTotalDescount ] = useState(preciosDescuentos ? preciosDescuentos?.descuento_general?.precio_con_descuento : 0);\n    const [ value, setValue ] =  useState(preciosDescuentos?.descuento_general?.porciento ? preciosDescuentos?.descuento_general?.porciento : 0);\n\n    let descuento_general = [];\n    var totalCompra = datosVentas?.total;\n\n    \n    const classes = useStyles();\n\n    const obtenerDatos = (e) => {\n        setNewCotizacion({...newCotizacion, [e.target.name]: e.target.value});\n    };\n\n    // const input = {\n    //     folio: \"\",\n    //     descuento: datosVentas.descuento,\n    //     ieps: datosVentas.ieps,\n    //     impuestos: datosVentas.impuestos,\n    //     iva: datosVentas.iva,\n    //     monedero: datosVentas.monedero,\n    //     subTotal: datosVentas.subTotal,\n    //     total: datosVentas.total,\n    //     venta_cliente: false,\n    //     montos_en_caja: {},\n    //     credito: false,\n    //     descuento_general_activo: preciosDescuentos?.descuento_general_activo ? preciosDescuentos?.descuento_general_activo : false,\n    //     decuento_general: preciosDescuentos?.descuento_general ? preciosDescuentos?.descuento_general :\n    //     {\n    //         \"porciento\": 0,\n    //         \"precio_con_descuento\": 0,\n    //         \"cantidad_descontado\": 0\n    //     },\n    //     dias_de_credito_venta: \"\",\n    //     fecha_de_vencimiento_credito: \"\",\n    //     fecha_vencimiento_cotizacion: newCotizacion.fecha_vencimiento,\n    //     cliente: datosVentas.cliente,\n    //     productos: datosVentas.productos,\n    //     tipo_venta: newCotizacion.tipo_venta,\n    // };\n\n    const input = {\n        \"folio\": \"12345\",\n        \"descuento\": datosVentas.descuento,\n        \"ieps\": datosVentas.ieps,\n        \"impuestos\": datosVentas.impuestos,\n        \"iva\": datosVentas.iva,\n        \"monedero\": datosVentas.monedero,\n        \"subTotal\": datosVentas.subTotal,\n        \"total\": datosVentas.total,\n        \"venta_cliente\": false,\n        \"montos_en_caja\": {},\n        \"credito\": false,\n        \"descuento_general_activo\": preciosDescuentos?.descuento_general_activo ? preciosDescuentos?.descuento_general_activo : false,\n        \"decuento_general\": preciosDescuentos?.descuento_general ? preciosDescuentos?.descuento_general :\n        {\n            \"porciento\": 0,\n            \"precio_con_descuento\": 0,\n            \"cantidad_descontado\": 0\n        },\n        \"dias_de_credito_venta\": null,\n        \"fecha_de_vencimiento_credito\": null,\n        \"fecha_vencimiento_cotizacion\": newCotizacion.fecha_vencimiento,\n        \"cliente\":{\n            \"banco\": null,\n            \"celular\": null,\n            \"clave_cliente\": \"23233\",\n            \"curp\": null,\n            \"dias_credito\": null,\n            \"direccion\":{\n                \"calle\": \"Antonio\",\n                \"no_ext\": \"1\",\n                \"no_int\": \"1\",\n                \"codigo_postal\": \"1\",\n                \"colonia\": \"Antonio\",\n                \"municipio\": \"1\",\n                \"localidad\": \"1\",\n                \"estado\": \"1\",\n                \"pais\": \"1\"\n            },\n            \"email\": \"antonio.poday@gmail.com\",\n            \"imagen\": null,\n            \"limite_credito\": null,\n            \"nombre_cliente\": \"Antonio\",\n            \"numero_cliente\": \"2323\",\n            \"razon_social\": null,\n            \"rfc\": null,\n            \"telefono\": \"1212\",\n            \"monedero_electronico\": null\n        },\n        \"productos\": [\n        {\n            \"cantidad\": 1,\n            \"cantidad_venta\": 1,\n            \"codigo_barras\": \"226216505720\",\n            \"concepto\": \"unidades\",\n            \"default\": true,\n            \"descuento\": {\n                \"porciento\": 15,\n                \"dinero_descontado\": 5.4,\n                \"precio_con_descuento\": 30.6\n            },\n            \"descuento_activo\": true,\n                \"granel_producto\": {\n                \"granel\": false,\n                \"valor\": 0\n            },\n            \"precio\": 8.25,\n            \"precio_a_vender\": 8.25,\n            \"precio_actual_producto\": 8.25,\n            \"precio_anterior\":8.25,\n            \"iva_total_producto\": 1.03,\n            \"ieps_total_producto\": 0,\n            \"impuestos_total_producto\": 1.03,\n            \"subtotal_total_producto\": 7.22,\n            \"total_total_producto\": 8.25,\n            \"unidad\": \"Caja\",\n            \"codigo_unidad\": \"XBX\",\n            \"unidad_principal\": true,\n            \"inventario_general\": [\n                {\n                    \"cantidad_existente\": 120,\n                    \"cantidad_existente_maxima\": 10,\n                    \"unidad_inventario\": \"Pz\",\n                    \"codigo_unidad\": null,\n                    \"unidad_maxima\": \"Caja\"\n                }\n            ],\n            \"id_producto\":{\n                \"_id\": \"61b7bf6e3454b727a0c2e357\",\n                \"datos_generales\": {\n                    \"clave_alterna\": \"COCA\",\n                    \"codigo_barras\": \"226216505720\",\n                    \"nombre_comercial\": \"COCACOLA\",\n                    \"tipo_producto\": \"OTROS\",\n                    \"nombre_generico\": \"COCACOLA\",\n                    \"descripcion\": null,\n                    \"id_categoria\": null,\n                    \"categoria\": null,\n                    \"subcategoria\": null,\n                    \"id_subcategoria\": null,\n                    \"id_departamento\": null,\n                    \"departamento\": null,\n                    \"id_marca\": null,\n                    \"marca\": null,\n                    \"receta_farmacia\": false,\n                    \"clave_producto_sat\":{\n                        \"Name\": \"Refrescos\",\n                        \"Value\": \"50202306\"\n                    }\n                },\n                \"imagenes\":[{\n                    \"url_imagen\": \"\"\n                }],\n                \"precios\":{\n                    \"ieps\": 10,\n                    \"ieps_activo\": false,\n                    \"inventario\": {\n                        \"inventario_maximo\": 15,\n                        \"inventario_minimo\": 5,\n                        \"unidad_de_inventario\": \"Caja\",\n                        \"codigo_unidad\": \"XBX\"\n                    },\n                    \"iva\": 16,\n                    \"iva_activo\": true,\n                    \"monedero\": false,\n                    \"monedero_electronico\": 0,\n                    \"precio_de_compra\": {\n                        \"precio_con_impuesto\": 180,\n                        \"precio_sin_impuesto\": 155.1724,\n                        \"iva\": 24.8276,\n                        \"ieps\": 0\n                    },\n                    \"precios_producto\": [\n                        {\n                            \"numero_precio\": 1,\n                            \"precio_neto\": 8.25,\n                            \"unidad_mayoreo\": 0,\n                            \"utilidad\": 10\n                        },\n                        {\n                            \"numero_precio\": 2,\n                            \"precio_neto\": 0,\n                            \"unidad_mayoreo\": 0,\n                            \"utilidad\": 0\n                        },\n                        {\n                            \"numero_precio\": 3,\n                            \"precio_neto\": 0,\n                            \"unidad_mayoreo\": 0,\n                            \"utilidad\": 0\n                        },\n                        {\n                            \"numero_precio\": 4,\n                            \"precio_neto\": 0,\n                            \"unidad_mayoreo\": 0,\n                            \"utilidad\": 0\n                        },\n                        {\n                            \"numero_precio\": 5,\n                            \"precio_neto\": 0,\n                            \"unidad_mayoreo\": 0,\n                            \"utilidad\": 0\n                        },\n                        {\n                            \"numero_precio\": 6,\n                            \"precio_neto\": 0,\n                            \"unidad_mayoreo\": 0,\n                            \"utilidad\": 0\n                        }\n                        ],\n                    \"unidad_de_compra\": {\n                        \"cantidad\": 24,\n                        \"precio_unitario_con_impuesto\": 7.5,\n                        \"precio_unitario_sin_impuesto\": 6.4655,\n                        \"unidad\": \"Caja\",\n                        \"codigo_unidad\": \"XBX\"\n                    }\n                }\n            },\n            \"medida\": null,\n            \"color\": null\n        }]\n    };\n\n    const crearCotizacion = async () => {\n        try {\n            if(!newCotizacion.fecha_vencimiento || !newCotizacion.tipo_venta){\n                setAlert({\n                    message: `Por favor completa los datos necesarios`,\n                    status: \"error\",\n                    open: true,\n                });\n                return null;\n            }else{\n                const registroCotizacion = await CrearCotizacion({\n                    variables: {\n                        input,\n                        empresa: \"60c120b6a694891f58d32a1d\",\n                        sucursal: \"60c8e180340d5d223432a916\",\n                        usuario: \"60dde52c5cda9d5510c4b7d0\",\n                        caja: \"61a5037918594a4ecdc1c7bf\"\n                    }\n                });\n                console.log(registroCotizacion);\n            }\n\n        } catch (error) {\n            console.log(error);\n            if(error.networkError.result){\n\t\t\t\tconsole.log(error.networkError.result.errors);\n\t\t\t  }else if(error.graphQLErrors){\n\t\t\t\tconsole.log(error.graphQLErrors.message);\n\t\t\t  }\n\n        }\n    };\n\n    function valuetext(e) {\n        return `${e}`;\n    };\n\n    const obtenerPorciento = (event, newValue) => {\n        setValue(newValue);\n        var porcentaje  =  parseFloat((100 - newValue).toFixed(6));\n        var descuento = parseFloat((totalCompra * porcentaje / 100).toFixed(6));\n        var dineroDescontado = parseFloat((totalCompra - descuento).toFixed(6));\n        descuento_general = {\n            \"descuento_general_activo\": true,\n            \"descuento_general\": {\n                \"porciento\": newValue,\n                \"precio_con_descuento\": descuento,\n                \"cantidad_descontado\": dineroDescontado\n            }\n        };\n        setPreciosDescuentos(descuento_general);\n        setTotalDescount(descuento);\n    };\n    \n    const obtenerPrecioText = (e) => {\n        var valorText = parseFloat(e.target.value);\n        setTotalDescount(valorText);\n        var porcentaje  = parseFloat(((valorText / totalCompra) * 100).toFixed(6));\n        var descuento = parseFloat((100 - porcentaje).toFixed(6));\n        var dineroDescontado = parseFloat((totalCompra - valorText).toFixed(6));\n\n        descuento_general = {\n            \"descuento_general_activo\": true,\n            \"descuento_general\": {\n                \"porciento\": descuento,\n                \"precio_con_descuento\": valorText,\n                \"cantidad_descontado\": dineroDescontado\n            }\n        };\n        setPreciosDescuentos(descuento_general);\n        setValue(descuento);\n    };\n\n    const eliminarDescuento = () => { \n        descuento_general = {\n            \"descuento_general_activo\": false,\n            \"descuento_general\": {\n                \"porciento\": 0,\n                \"precio_con_descuento\": 0,\n                \"cantidad_descontado\": 0\n            }\n        };\n        setValue(0);\n        setTotalDescount(0);\n        setPreciosDescuentos(descuento_general);\n    }\n\n    return (\n        <>\n            <DialogContent style={{padding: 0}} >\n                <div className={classes.formInputFlex}>\n                    <Box width=\"100%\">\n                        <Typography>\n                            Usuario:\n                        </Typography>\n                        <Box display=\"flex\">\n                            <TextField\n                                fullWidth\n                                size=\"small\"\n                                disabled={true}\n                                variant=\"outlined\"\n                                onChange={obtenerDatos}\n                                value={sesion ? sesion.nombre : \"\"}\n                            />\n                        </Box>\n                    </Box>\n                    <Box width=\"100%\">\n                        <Typography>\n                            Fecha:\n                        </Typography>\n                        <Box display=\"flex\">\n                            <TextField\n                                fullWidth\n                                size=\"small\"\n                                disabled={true}\n                                onChange={obtenerDatos}\n                                variant=\"outlined\"\n                                value={moment().format('L')}\n                            />\n                        </Box>\n                    </Box>\n                </div>\n                <div className={classes.formInputFlex}>\n                    <Box width=\"100%\">\n                        <Typography>\n                            Cliente:\n                        </Typography>\n                        <Box display=\"flex\">\n                            <TextField\n                                fullWidth\n                                size=\"small\"\n                                disabled={true}\n                                onChange={obtenerDatos}\n                                variant=\"outlined\"\n                                value={datosVentas.cliente?.nombre_cliente ? datosVentas.cliente?.nombre_cliente : \"Publico General\"}\n                            />\n                        </Box>\n                    </Box>\n                    <Box width=\"100%\">\n                        <Typography>\n                            Fecha Vencimiento:\n                        </Typography>\n                        <Box display=\"flex\">\n                            <TextField\n                                fullWidth\n                                type='date'\n                                onChange={obtenerDatos}\n                                size=\"small\"\n                                name=\"fecha_vencimiento\"\n                                variant=\"outlined\"\n                            />\n                        </Box>\n                    </Box>\n                </div>\n                <div className={classes.formInputFlex}>\n                    <Box width=\"100%\">\n                        <Typography>\n                            No. Cliente:\n                        </Typography>\n                        <Box display=\"flex\">\n                            <TextField\n                                fullWidth\n                                size=\"small\"\n                                disabled={true}\n                                onChange={obtenerDatos}\n                                variant=\"outlined\"\n                                value={datosVentas ? datosVentas.cliente?.numero_cliente : \"\"}\n                            />\n                        </Box>\n                    </Box>\n                    <Box width=\"100%\">\n                        <Typography>\n                            Tipo de Venta:\n                        </Typography>\n                        <FormControl\n                            variant=\"outlined\"\n                            fullWidth\n                            size=\"small\"\n                        >\n                            <Select\n                                id=\"form-producto-tipo\"\n                                onChange={obtenerDatos}\n                                name=\"tipo_venta\"\n                            >\n                                <MenuItem value=''>\n                                    <em>Selecciona uno</em>\n                                </MenuItem>\n                                <MenuItem value='CREDITO'>Credito</MenuItem>\n                                <MenuItem value='CONTADO'>Contado</MenuItem>\n                            </Select>\n                        </FormControl>\n                    </Box>\n                </div>\n                <Grid container>\n                    <Grid lg={6}>\n                        <Box p={1}>\n                            <Paper elevation={3} >\n                                <Box p={2} textAlign={'center'}>\n                                    <Typography variant=\"h6\">\n                                        Agregar descuento total a la venta.\n                                    </Typography>\n                                </Box>\n                                <Box textAlign={'center'} p={2}>\n                                    <div className={classes.formInputFlex}>\n                                        <Box width=\"95%\">\n                                            <Box display=\"flex\" alignItems=\"center\">\n                                                <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" p={1}>\n                                                    <img \n                                                        src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/price-tag.png' \n                                                        alt=\"icono admin\" \n                                                        style={{width: 30}}                                   \n                                                    />\n                                                </Box>\n                                                <Typography variant=\"h6\">\n                                                    Porciento descuento\n                                                </Typography>\n                                            </Box>\n                                            <Box display='flex' justifyContent=\"center\" justifyItems=\"center\" className={classes.rootSlice}>\n                                                <Slider\n                                                    getAriaValueText={valuetext}\n                                                    value={value.toFixed(2)}\n                                                    aria-labelledby=\"discrete-slider-small-steps\"\n                                                    valueLabelDisplay=\"auto\"\n                                                    onChange={obtenerPorciento} \n                                                />\n                                            </Box>\n                                        </Box>\n                                    </div>\n                                    <div className={classes.formInputFlex}>\n                                        <Box width=\"100%\">\n                                            <Typography variant=\"h6\" >\n                                                Total con descuento:\n                                            </Typography>\n                                            <Box display=\"flex\">\n                                                <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" mr={1}>\n                                                    <MoneyOffIcon style={{fontSize: 38, color: \"green\"}} />\n                                                </Box>\n                                                <TextField\n                                                    fullWidth\n                                                    size=\"small\"\n                                                    type=\"number\"\n                                                    name=\"precioConDescuento\"\n                                                    onChange={obtenerPrecioText}\n                                                    value={totalDescount}\n                                                    className={classes.input}\n                                                    variant=\"outlined\"\n                                                />\n                                            </Box>\n                                        </Box>\n                                    </div>\n                                </Box>\n                                <Box \n                                    p={1}\n                                    display=\"flex\"\n                                    flexDirection='row-reverse'\n                                >\n                                    <Button \n                                        variant=\"outlined\"\n                                        color=\"secondary\"\n                                        size=\"large\"\n                                        onClick={eliminarDescuento}\n                                    >\n                                        Eliminar Descuento\n                                    </Button>\n                                </Box>\n                            </Paper>\n                        </Box>\n                    </Grid>\n                    <Grid lg={6}>\n                        <Box mr={2} mt={2}>\n                            <Box display=\"flex\" flexDirection=\"row-reverse\" width=\"100%\">\n                                <Typography style={{fontSize: 18}}>\n                                    <b>No. Productos: </b> {datosVentas.productos.length}\n                                </Typography>\n                            </Box>\n                            <Box display=\"flex\" flexDirection=\"row-reverse\" width=\"100%\">\n                                <Typography style={{fontSize: 18}}>\n                                    <b>Sub total:</b> ${datosVentas ? (datosVentas.subTotal).toFixed(2) : 0}\n                                </Typography>\n                            </Box>\n                            <Box display=\"flex\" flexDirection=\"row-reverse\" width=\"100%\">\n                                <Typography style={{fontSize: 18}}>\n                                    <b>Impuestos:</b> ${datosVentas ? (datosVentas.impuestos).toFixed(2): 0}\n                                </Typography>\n                            </Box>\n                            <Box display=\"flex\" flexDirection=\"row-reverse\" width=\"100%\">\n                                <Typography style={{fontSize: 18}}>\n                                    <b>I.V.A.:</b> ${datosVentas ? (datosVentas.iva).toFixed(2) : 0}\n                                </Typography>\n                            </Box>\n                            <Box display=\"flex\" flexDirection=\"row-reverse\" width=\"100%\">\n                                <Typography style={{fontSize: 18}}>\n                                    <b>Descuento:</b> <b style={{color: \"green\"}}>${preciosDescuentos?.descuento_general ? (preciosDescuentos?.descuento_general?.cantidad_descontado).toFixed(2) : 0} </b>\n                                </Typography>\n                            </Box>\n                        </Box>\n                        <Box display=\"flex\" flexDirection=\"row-reverse\" p={1}>\n                            <Typography variant=\"h4\">\n                                Total: \n                                <b style={{color: \"green\"}}>\n                                    ${preciosDescuentos?.descuento_general && preciosDescuentos?.descuento_general?.precio_con_descuento > 0? \n                                    (preciosDescuentos?.descuento_general?.precio_con_descuento).toFixed(2) : (\n                                        datosVentas ? (datosVentas.total).toFixed(2) : 0\n                                    )}\n                                </b>\n                            </Typography>\n                            <Box mt={.5} mr={1}>\n                                <MonetizationOnIcon style={{fontSize: 37, color: \"green\"}} />\n                            </Box>\n                        </Box>\n                    </Grid>\n                </Grid>\n            </DialogContent>\n            <DialogActions>\n                <Button\n                    color=\"primary\"\n                    variant=\"outlined\"\n                    size=\"large\"\n                    onClick={crearCotizacion}\n                >\n                    Crear cotizacin\n                </Button>\n                <Button\n                    color=\"secondary\"\n                    variant=\"outlined\"\n                    size=\"large\"\n                    onClick={handleClickOpen}\n                >\n                    Cancelar\n                </Button>\n            </DialogActions>\n        </>\n    )\n};","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport { IconButton, TablePagination } from '@material-ui/core';\nimport DeleteIcon from '@material-ui/icons/Delete';\n\nconst columns = [\n\t{ id: 'folio', label: 'Folio', minWidth: 20, align: 'center' },\n\t{ id: 'cliente', label: 'Cliente', minWidth: 330 },\n\t{ id: 'fecha', label: 'Fecha', minWidth: 100, align: 'center'},\n\t{ id: 'total', label: 'Total', minWidth: 100, align: 'center'}\n];\n\nfunction createData(folio, cliente, fecha, total) {\n\treturn { folio, cliente, fecha, total};\n}\n\nconst rows = [\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10)\n];\n\nconst useStyles = makeStyles({\n\troot: {\n\t\twidth: '100%'\n\t},\n\tcontainer: {\n\t\tmaxHeight: '65vh'\n\t}\n});\n\nexport default function CotizacionesPendientes({ handleClickOpen }) {\n\tconst classes = useStyles();\n\tconst [ page, setPage ] = React.useState(0);\n\tconst [ rowsPerPage, setRowsPerPage ] = React.useState(10);\n\n\tconst handleChangePage = (event, newPage) => {\n\t\tsetPage(newPage);\n\t};\n\n\tconst handleChangeRowsPerPage = (event) => {\n\t\tsetRowsPerPage(+event.target.value);\n\t\tsetPage(0);\n\t};\n\n\treturn (\n\t\t<Paper className={classes.root}>\n\t\t\t<TableContainer className={classes.container}>\n\t\t\t\t<Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t{columns.map((column) => (\n\t\t\t\t\t\t\t\t<TableCell key={column.id} align={column.align} style={{ width: column.minWidth }}>\n\t\t\t\t\t\t\t\t\t{column.label}\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t<TableCell align='center' style={{ width: 35 }}>\n\t\t\t\t\t\t\t\tRetomar\n\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t<TableCell align='center' style={{ width: 35 }}>\n\t\t\t\t\t\t\t\tEliminar\n\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t</TableHead>\n\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t{rows.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage).map((row) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<CotizacionesRows row={row} />\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t\t</TableBody>\n\t\t\t\t</Table>\n\t\t\t</TableContainer>\n\t\t\t<TablePagination\n\t\t\t\trowsPerPageOptions={[ 10, 25, 100 ]}\n\t\t\t\tcomponent=\"div\"\n\t\t\t\tcount={rows.length}\n\t\t\t\trowsPerPage={rowsPerPage}\n\t\t\t\tpage={page}\n\t\t\t\tonChangePage={handleChangePage}\n\t\t\t\tonChangeRowsPerPage={handleChangeRowsPerPage}\n\t\t\t/>\n\t\t</Paper>\n\t);\n};\n\n\nconst CotizacionesRows = ({row}) => {\n\n\treturn(\n\t\t<>\n\t\t\t<TableRow hover role=\"checkbox\" tabIndex={-1} key={row.code}>\n\t\t\t\t<TableCell align='center' >\n\t\t\t\t\tuno\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell >\n\t\t\t\t\tuno\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell align='center' >\n\t\t\t\t\tuno\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell align='center' >\n\t\t\t\t\tuno\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell align='center' >\n\t\t\t\t\t<IconButton aria-label=\"delete\" size='small'>\n\t\t\t\t\t\t<DeleteIcon fontSize=\"small\" />\n\t\t\t\t\t</IconButton>\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell align='center' >\n\t\t\t\t\t<IconButton aria-label=\"delete\" size='small'>\n\t\t\t\t\t\t<DeleteIcon fontSize=\"small\" />\n\t\t\t\t\t</IconButton>\n\t\t\t\t</TableCell>\n\t\t\t</TableRow>\n\t\t</>\n\t);\n\n}\n","import React, { useState } from 'react'\nimport PropTypes from 'prop-types';\nimport { AppBar, Box, Button, CircularProgress, \n\t\tDialog, Tab, Grid, Slide, Tabs, Typography \n} from '@material-ui/core'\nimport { FcCurrencyExchange } from 'react-icons/fc';\nimport NuevaCotizacion from './NuevaCotizacion';\nimport CloseIcon from '@material-ui/icons/Close';\nimport moment from 'moment';\nimport 'moment/locale/es';\nimport CotizacionesPendientes from './CotizacionesPendientes';\nimport useStyles from '../styles';\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nfunction TabPanel(props) {\n\tconst { children, value, index, ...other } = props;\n\n\treturn (\n\t\t<div\n\t\t\trole=\"tabpanel\"\n\t\t\thidden={value !== index}\n\t\t\tid={`tabpanel-reg-product-${index}`}\n\t\t\taria-labelledby={`reg-product-tab-${index}`}\n\t\t\t{...other}\n\t\t>\n\t\t\t{value === index && (\n\t\t\t\t<Box p={3} height=\"70vh\">\n\t\t\t\t\t{children}\n\t\t\t\t</Box>\n\t\t\t)}\n\t\t</div>\n\t);\n}\n\nTabPanel.propTypes = {\n\tchildren: PropTypes.node,\n\tindex: PropTypes.any.isRequired,\n\tvalue: PropTypes.any.isRequired\n};\n\nfunction a11yProps(index) {\n\treturn {\n\t\tid: `reg-product-tab-${index}`,\n\t\t'aria-controls': `tabpanel-reg-product-${index}`\n\t};\n}\n\nexport default function Cotizacion({type}) {\n\n    moment.locale('es');\n\tconst classes = useStyles();\n\n    const sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n    const turnoEnCurso = JSON.parse(localStorage.getItem('turnoEnCurso'));\n    const datosVentas = JSON.parse(localStorage.getItem('DatosVentas'));\n\n    const [open, setOpen] = useState(false);\n    const [value, setValue] = useState(0);\n\n    const handleChange = (event, newValue) => {\n\t\tsetValue(newValue);\n\t};\n\n    const handleClickOpen = () => {\n\t\tIIRFilterNode()\n\t\tif(sesion?.accesos.ventas.cotizaciones.ver === true){\n            setOpen(!open);\n        }\n\t};\n\n\n    window.addEventListener('keydown', Mi_funcin); \n    function Mi_funcin(e){\n        if(e.altKey && e.keyCode === 84){ \n            handleClickOpen();\n        } \n    };\n\n    return (\n        <>\n\t\t\t{\n\t\t\ttype === \"GENERAR\" ? (\n\t\t\t\t<Button \n\t\t\t\t\tclassName={classes.borderBotonChico}\n\t\t\t\t\tonClick={() => handleClickOpen()}\n\t\t\t\t>\n\t\t\t\t\t<Box>\n\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t<FcCurrencyExchange style={{fontSize: 50}} />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t<Typography variant=\"body2\" >\n\t\t\t\t\t\t\t\t<b>Generar cotizacion</b>\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t{/* <Box>\n\t\t\t\t\t\t\t<Typography variant=\"caption\" style={{color: '#808080'}} >\n\t\t\t\t\t\t\t\t<b>F7</b>\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</Box> */}\n\t\t\t\t\t</Box>\n\t\t\t\t</Button>\n\t\t\t) : (\n\t\t\t\t<Button\n\t\t\t\t\tonClick={() =>{handleClickOpen();}}\n\t\t\t\t\tstyle={{textTransform: 'none', height: '100%', width: '60%'}}\n\t\t\t\t>\n\t\t\t\t\t<Box display=\"flex\" flexDirection=\"column\">\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t<FcCurrencyExchange style={{fontSize: 25}} />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t<Typography variant=\"body2\" >\n\t\t\t\t\t\t\t\t<b>Lista cotizaciones</b>\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t<Typography variant=\"caption\" style={{color: '#808080'}} >\n\t\t\t\t\t\t\t\t<b>Alt + T</b>\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Box>\n\t\t\t\t</Button>\n\t\t\t)\n\t\t\t}\n        \t<Dialog\n\t\t\t\tfullWidth\n\t\t\t\topen={open} \n\t\t\t\tmaxWidth={type===\"GENERAR\"?'md':'lg'}\n\t\t\t\tonClose={handleClickOpen} \n\t\t\t\tTransitionComponent={Transition}\n\t\t\t>\n                <AppBar position=\"static\" color=\"default\" elevation={0}>\n\t\t\t\t\t<Tabs\n\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\tvariant=\"scrollable\"\n\t\t\t\t\t\tscrollButtons=\"on\"\n\t\t\t\t\t\tindicatorColor=\"primary\"\n\t\t\t\t\t\ttextColor=\"primary\"\n\t\t\t\t\t\taria-label=\"scrollable force tabs example\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{type === \"GENERAR\" ? (\n\t\t\t\t\t\t\t<Tab\n\t\t\t\t\t\t\t\tlabel=\"Nueva Cotizacin\"\n\t\t\t\t\t\t\t\ticon={ <FcCurrencyExchange style={{fontSize: 60}} />}\n\t\t\t\t\t\t\t\t{...a11yProps(0)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<Tab\n\t\t\t\t\t\t\t\tlabel=\"Cotizaciones pendientes\"\n\t\t\t\t\t\t\t\ticon={\n\t\t\t\t\t\t\t\t\t<img \n\t\t\t\t\t\t\t\t\t\tsrc='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/ventas/lista-de-espera.svg' \n\t\t\t\t\t\t\t\t\t\talt=\"icono caja2\" \n\t\t\t\t\t\t\t\t\t\tstyle={{width: 58}} \n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t{...a11yProps(1)}\n\t\t\t\t\t\t\t/>\t\t\n\t\t\t\t\t\t)}\t\n\t\t\t\t\t\t<Grid container justify='flex-end'>\n\t\t\t\t\t\t\t<Box mt={2} textAlign=\"right\">\n\t\t\t\t\t\t\t\t<Box textAlign=\"right\">\n\t\t\t\t\t\t\t\t\t<Typography variant=\"caption\">\n\t\t\t\t\t\t\t\t\t\t{moment().format('L')}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t<Box textAlign=\"right\">\n\t\t\t\t\t\t\t\t\t<Typography variant=\"caption\">\n\t\t\t\t\t\t\t\t\t\t{moment().format('LT')} hrs.\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t<Box textAlign=\"right\">\n\t\t\t\t\t\t\t\t\t<Typography variant=\"caption\">\n\t\t\t\t\t\t\t\t\t\t{sesion?.nombre}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t<Box textAlign=\"right\">\n\t\t\t\t\t\t\t\t\t<Typography variant=\"caption\">\n\t\t\t\t\t\t\t\t\t\tCaja {!turnoEnCurso ? null : turnoEnCurso.numero_caja }\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Box mt={3} ml={3}>\n\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"secondary\" onClick={handleClickOpen} size=\"medium\">\n\t\t\t\t\t\t\t\t<CloseIcon />\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Tabs>\n\t\t\t\t</AppBar>\n\t\t\t\t<VentanasCotizaciones \n\t\t\t\t\thandleClickOpen={handleClickOpen} \n\t\t\t\t\tvalue={value} \n\t\t\t\t\ttype={type} \n\t\t\t\t/> \n\t\t\t</Dialog>\n\t\t</>\n\t)\n};\n\n\nconst VentanasCotizaciones = ({ handleClickOpen, value, type}) => {\n\tconst [ loading, setLoading ] = useState(false);\n\n\tif (loading) \n\treturn (\n\t\t<Box\n\t\tdisplay=\"flex\"\n\t\tflexDirection=\"column\"\n\t\tjustifyContent=\"center\"\n\t\talignItems=\"center\"\n\t\theight=\"80vh\"\n\t\t>\n\t\t\t<CircularProgress />\n\t\t</Box>\n\t);\n\n\treturn(\n\t\ttype === \"GENERAR\" ? (\n\t\t\t<TabPanel style={{padding: 0}} value={value} index={0}>\n\t\t\t\t<NuevaCotizacion handleClickOpen={handleClickOpen} />\n\t\t\t</TabPanel>\n\t\t) : (\n\t\t\t<TabPanel style={{padding: 0}} value={value} index={0}>\n\t\t\t\t<CotizacionesPendientes handleClickOpen={handleClickOpen} /> \n\t\t\t</TabPanel>\n\t\t)\n\t)\n};\n","import React, { useContext, useState } from 'react';\nimport { Box, Button, Dialog, DialogActions, \n        DialogContent, Divider, Grid, \n        Slide, Typography \n    } from '@material-ui/core'\nimport { FcExpired } from 'react-icons/fc';\nimport moment from 'moment';\nimport 'moment/locale/es';\nimport { VentasContext } from '../../../context/Ventas/ventasContext';\nmoment.locale('es');\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function VentaEnEspera() {\n    const { updateTablaVentas, setUpdateTablaVentas } = useContext(VentasContext);\n\n    const [open, setOpen] = useState(false);\n\n    const handleClickOpen = () => { \n\t\tsetOpen(!open);\n\t};\n\n    window.addEventListener('keydown', Mi_funcin); \n    function Mi_funcin(e){\n        if(e.altKey && e.keyCode === 69){ \n            handleClickOpen();\n        } \n    };\n\n    const agregarVentaEnEspera = () => {\n        let VentaEnEspera = JSON.parse(localStorage.getItem(\"DatosVentas\"));\n        let datos = localStorage.getItem(\"ListaEnEspera\");\n        if(VentaEnEspera !== null){\n            if(datos === null){\n                localStorage.setItem('ListaEnEspera', JSON.stringify([{VentaEnEspera, fecha: moment().format('MM/DD/YYYY') }]));\n                localStorage.removeItem('DatosVentas');\n                setUpdateTablaVentas(!updateTablaVentas);\n            }else{\n                let data = JSON.parse(datos);\n                data.push({VentaEnEspera, fecha: moment().format('MM/DD/YYYY') });\n                localStorage.setItem(\"ListaEnEspera\", JSON.stringify(data));\n                localStorage.removeItem('DatosVentas');\n                setUpdateTablaVentas(!updateTablaVentas);\n            }\n        }\n    };\n\n    return (\n        <>\n           <Button\n                onClick={() => agregarVentaEnEspera()} \n                style={{textTransform: 'none', height: '100%', width: '60%'}}\n            >\n                <Box display=\"flex\" flexDirection=\"column\">\n                    <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n                        <FcExpired style={{fontSize: 25}} />\n                    </Box>\n                    <Box>\n                        <Typography variant=\"body2\" >\n                            <b>En espera</b>\n                        </Typography>\n                    </Box>\n                    <Box>\n                        <Typography variant=\"caption\" style={{color: '#808080'}} >\n                            <b>Alt + E</b>\n                        </Typography>\n                    </Box>\n                </Box>\n            </Button>\n\n            <Dialog\n\t\t\t\tmaxWidth='lg'\n\t\t\t\topen={open} \n\t\t\t\tonClose={handleClickOpen} \n\t\t\t\tTransitionComponent={Transition}\n\t\t\t>\n                <DialogContent>\n                    <Grid container item lg={12}>\n                        <Box\n                            display=\"flex\" \n                            textAlign=\"center\" \n                            justifyContent=\"center\" \n                            alignContent=\"center\" \n                            alignSelf=\"center\"\n                            justifySelf=\"center\"\n                        >\n                            <Box>\n                                <FcExpired style={{fontSize: 80}} />\n                            </Box>\n                            <Box m={2} >\n                                <Divider orientation=\"vertical\" />\n                            </Box>\n                            <Box mt={3}>\n                                <Typography variant=\"h5\">\n                                    Venta pasada a espera\n                                </Typography>\n                            </Box>\n                        </Box>\n                    </Grid>\n                </DialogContent>\n                <DialogActions>\n                    <Button \n                        onClick={() =>{handleClickOpen();}}\n                        variant=\"contained\" \n                        color=\"primary\"\n                        size=\"large\"\n                    >\n                        Aceptar\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        </>\n    )\n}\n","import React, { Fragment, useContext } from 'react';\n\nimport { Box,  Button, Checkbox, Divider, FormControl, FormControlLabel, FormHelperText, InputAdornment, makeStyles, MenuItem, OutlinedInput, Select, TextField, Typography } from '@material-ui/core';\nimport { RegProductoContext } from '../../../context/Catalogos/CtxRegProducto';\nimport CatalogosProductosSAT from '../../sucursales/Catalogos/Producto/DatosGenerales/CatalogoProductosSAT';\n// import RegistroInfoAdidional from '../../sucursales/Catalogos/Producto/PreciosVenta/registrarInfoAdicional';\n\nconst useStyles = makeStyles((theme) => ({\n    formInputFlex: {\n\t\tdisplay: 'flex',\n\t\t'& > *': {\n\t\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(1)}px`\n\t\t},\n\t\t'& .obligatorio': {\n\t\t\tcolor: 'red'\n\t\t}\n\t},\n    formInput: {\n      margin: `${theme.spacing(1)}px ${theme.spacing(2)}px`,\n    }\n  }));\n\nexport default function RegistroInformacionRapido({ \n\tsetAbrirTallaColor, \n\tsetCantidad, \n\tcantidad,\n\tobtenerConsultasProducto,\n\trefetch,\n}) {\n\tconst { datos_generales, precios, setPrecios, setDatosGenerales, validacion } = useContext(RegProductoContext);\n\tconst { unidadVentaXDefecto, setUnidadVentaXDefecto, update } = useContext(RegProductoContext);\n\n\tconst obtenerCampos = (e) => {\n\t\tif (e.target.name === 'codigo_barras') {\n\t\t\tsetUnidadVentaXDefecto({\n\t\t\t\t...unidadVentaXDefecto,\n\t\t\t\tcodigo_barras: e.target.value\n\t\t\t})\n\t\t}\n\t\tsetDatosGenerales({\n\t\t\t...datos_generales,\n\t\t\t[e.target.name]: e.target.value\n\t\t});\n\n\t\tif (e.target.value === \"CALZADO\" || e.target.value === \"ROPA\") {\n\t\t\tsetAbrirTallaColor(true);\n\t\t}\n\t\t\n\t};\n\n\tconst checkFarmacia = (e) => {\n\t\tsetDatosGenerales({\n\t\t\t...datos_generales,\n\t\t\treceta_farmacia: e.target.checked\n\t\t});\n\t};\n\n\tconst obtenerChecks = (e) => {\n\t\tif (e.target.name === 'granel' && e.target.checked) {\n\t\t\tsetPrecios({\n\t\t\t\t...precios,\n\t\t\t\t[e.target.name]: e.target.checked,\n\t\t\t\tinventario: { ...precios.inventario, unidad_de_inventario: 'Kg', },\n\t\t\t\tunidad_de_compra: { ...precios.unidad_de_compra, unidad: 'Kg', }\n\t\t\t});\n\t\t\tsetUnidadVentaXDefecto({\n\t\t\t\t...unidadVentaXDefecto,\n\t\t\t\tunidad: 'Kg',\n\t\t\t})\n\t\t} else {\n\t\t\tsetPrecios({\n\t\t\t\t...precios,\n\t\t\t\t[e.target.name]: e.target.checked,\n\t\t\t\tinventario: { ...precios.inventario, unidad_de_inventario: 'Pz', },\n\t\t\t\tunidad_de_compra: { ...precios.unidad_de_compra, unidad: 'Pz', }\n\t\t\t});\n\t\t\tsetUnidadVentaXDefecto({\n\t\t\t\t...unidadVentaXDefecto,\n\t\t\t\tunidad: 'Pz',\n\t\t\t})\n\t\t}\n\t};\n\n\tconst GenCodigoBarras = () => {\n\t\tconst max = 999999999999;\n\t\tconst min = 100000000000;\n\t\tconst codigo_barras = Math.floor(Math.random() * (max - min + 1) + min).toString();\n\t\tsetDatosGenerales({\n\t\t\t...datos_generales,\n\t\t\tcodigo_barras\n\t\t});\n\t\tsetUnidadVentaXDefecto({\n\t\t\t...unidadVentaXDefecto,\n\t\t\tcodigo_barras\n\t\t})\n\t};\n\n    const classes = useStyles();\n\n    return (\n        <Fragment>\n\t\t\t\t<Box>\n\t\t\t\t\t<Typography>\n\t\t\t\t\t\t<b>Informacin General</b>\n\t\t\t\t\t</Typography>\n\t\t\t\t</Box>\n\t\t\t\t<Divider />\n                <div className={classes.formInputFlex}>\n\t\t\t\t\t<Box width=\"100%\">\n\t\t\t\t\t\t<FormControl variant=\"outlined\" size=\"small\" name=\"codigo_barras\" fullWidth>\n\t\t\t\t\t\t\t<Typography>Cdigo de barras</Typography>\n\t\t\t\t\t\t\t<OutlinedInput\n\t\t\t\t\t\t\t\tdisabled={update && datos_generales.codigo_barras}\n\t\t\t\t\t\t\t\tstyle={{padding: 0}}\n\t\t\t\t\t\t\t\tid=\"form-producto-codigo-barras\"\n\t\t\t\t\t\t\t\tname=\"codigo_barras\"\n\t\t\t\t\t\t\t\tvalue={datos_generales.codigo_barras ? datos_generales.codigo_barras : ''}\n\t\t\t\t\t\t\t\tonChange={obtenerCampos}\n\t\t\t\t\t\t\t\tendAdornment={\n\t\t\t\t\t\t\t\t\t<InputAdornment position=\"end\">\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\tdisabled={update && datos_generales.codigo_barras}\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => GenCodigoBarras()}\n\t\t\t\t\t\t\t\t\t\t\t/* edge=\"end\" */\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\tsize=\"large\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\tGenerar\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t</InputAdornment>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box width=\"100%\">\n\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t<span className=\"obligatorio\">* </span>Clave alterna\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\terror={validacion.error && !datos_generales.clave_alterna}\n\t\t\t\t\t\t\tname=\"clave_alterna\"\n\t\t\t\t\t\t\tid=\"form-producto-clave-alterna\"\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\tvalue={datos_generales.clave_alterna ? datos_generales.clave_alterna : ''}\n\t\t\t\t\t\t\thelperText={validacion.message}\n\t\t\t\t\t\t\tonChange={obtenerCampos}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Box>\n\t\t\t\t\t\n\t\t\t\t\t<Box width=\"100%\">\n\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t<span className=\"obligatorio\">* </span>Nombre comercial\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\terror={validacion.error && !datos_generales.nombre_comercial}\n\t\t\t\t\t\t\tname=\"nombre_comercial\"\n\t\t\t\t\t\t\tid=\"form-producto-nombre-comercial\"\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\tvalue={datos_generales.nombre_comercial ? datos_generales.nombre_comercial : ''}\n\t\t\t\t\t\t\thelperText={validacion.message}\n\t\t\t\t\t\t\tonChange={obtenerCampos}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box width=\"100%\">\n\t\t\t\t\t\t<CatalogosProductosSAT refetch={refetch} codigos={obtenerConsultasProducto.codigos} />\n\t\t\t\t\t</Box>\n\t\t\t\t</div>\n\t\t\t\t<div className={classes.formInputFlex}>\n\t\t\t\t\t<Box width=\"100%\">\n\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t<span className=\"obligatorio\">* </span>Nombre genrico\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\terror={validacion.error && !datos_generales.nombre_generico}\n\t\t\t\t\t\t\tname=\"nombre_generico\"\n\t\t\t\t\t\t\tid=\"form-producto-nombre-generico\"\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\tvalue={datos_generales.nombre_generico ? datos_generales.nombre_generico : ''}\n\t\t\t\t\t\t\thelperText={validacion.message}\n\t\t\t\t\t\t\tonChange={obtenerCampos}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box width=\"60%\">\n\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t<span className=\"obligatorio\">* </span>Tipo de producto\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\terror={validacion.error && !datos_generales.tipo_producto}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\t\tid=\"form-producto-tipo\"\n\t\t\t\t\t\t\t\tname=\"tipo_producto\"\n\t\t\t\t\t\t\t\tvalue={datos_generales.tipo_producto ? datos_generales.tipo_producto : ''}\n\t\t\t\t\t\t\t\tonChange={obtenerCampos}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<MenuItem value=\"\">\n\t\t\t\t\t\t\t\t\t<em>Selecciona uno</em>\n\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t<MenuItem value=\"ROPA\">Ropa</MenuItem>\n\t\t\t\t\t\t\t\t<MenuItem value=\"CALZADO\">Calzado</MenuItem>\n\t\t\t\t\t\t\t\t<MenuItem value=\"OTROS\">Otros</MenuItem>\n\t\t\t\t\t\t\t</Select>\n\t\t\t\t\t\t\t<FormHelperText>{validacion.message}</FormHelperText>\n\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t</Box>\n\t\t\t\t\t{datos_generales.tipo_producto === \"OTROS\" ? (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<Box width=\"50%\">\n\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\t<span className=\"obligatorio\">* </span>Cantidad\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\terror={validacion.error && !cantidad}\n\t\t\t\t\t\t\t\t\tname=\"cantidad\"\n\t\t\t\t\t\t\t\t\ttype='number'\n\t\t\t\t\t\t\t\t\tid=\"form-producto-nombre-generico\"\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\tvalue={cantidad ? cantidad : ''}\n\t\t\t\t\t\t\t\t\thelperText={validacion.message}\n\t\t\t\t\t\t\t\t\tonChange={(e) => setCantidad(parseInt(e.target.value))}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box width=\"80%\">\n\t\t\t\t\t\t\t\t<Typography>Granel</Typography>\n\t\t\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\t\t\tcontrol={<Checkbox onChange={obtenerChecks} name=\"granel\" />}\n\t\t\t\t\t\t\t\t\tlabel=\"Vender a granel\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box width=\"80%\">\n\t\t\t\t\t\t\t\t<Typography>Medicamento</Typography>\n\t\t\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\t\t\t// checked={datos_generales.receta_farmacia ? datos_generales.receta_farmacia : false}\n\t\t\t\t\t\t\t\t\t\t\tonChange={checkFarmacia}\n\t\t\t\t\t\t\t\t\t\t\tname=\"receta_farmacia\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tlabel=\"Necesita receta\"\n\t\t\t\t\t\t\t\t\tname=\"receta_farmacia\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</>\n\t\t\t\t\t) : null}\n                </div>\n        </Fragment>\n    )\n}\n","import React, { useContext, useRef, useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Input from '@material-ui/core/Input';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport { RegProductoContext } from '../../../../context/Catalogos/CtxRegProducto';\nimport { Box, Chip, IconButton, Tooltip, Zoom } from '@material-ui/core';\nimport { Cached, Close, Edit } from '@material-ui/icons';\nimport { fade } from '@material-ui/core/styles/colorManipulator';\n\nconst compareFunction = (a, b) => {\n\tif (a.medida.talla && b.medida.talla) {\n\t\treturn a.medida.talla.localeCompare(b.medida.talla);\n\t}\n};\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n\t\twidth: '100%'\n\t},\n\tpaper: {\n\t\twidth: '100%',\n\t\tmarginBottom: theme.spacing(2)\n\t},\n\ttable: {\n\t\tminWidth: 750\n\t},\n\tcontainer: {\n\t\tmaxHeight: '65vh'\n\t},\n\ttableRow: {\n\t\t'&.Mui-selected, &.Mui-selected:hover': {\n\t\t\tbackgroundColor: fade(theme.palette.primary.main, 0.1)\n\t\t}\n\t},\n\tvisuallyHidden: {\n\t\tborder: 0,\n\t\tclip: 'rect(0 0 0 0)',\n\t\theight: 1,\n\t\tmargin: -1,\n\t\toverflow: 'hidden',\n\t\tpadding: 0,\n\t\tposition: 'absolute',\n\t\ttop: 20,\n\t\twidth: 1\n\t},\n\tcolorContainer: {\n\t\tborder: '1px solid rgba(0,0,0, .3)',\n\t\theight: 30,\n\t\twidth: 30,\n\t\tborderRadius: '15%'\n\t}\n}));\n\nexport default function TablaPresentaciones({ from, setOnUpdate, onUpdate }) {\n\tconst classes = useStyles();\n\tconst { presentaciones } = useContext(RegProductoContext);\n\n\tlet mostrar_presentaciones = [ ...presentaciones ].sort((a, b) => compareFunction(a, b));\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Paper className={classes.paper}>\n\t\t\t\t<TableContainer className={classes.container}>\n\t\t\t\t\t<Table\n\t\t\t\t\t\tclassName={classes.table}\n\t\t\t\t\t\taria-labelledby=\"tableTitle\"\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\taria-label=\"enhanced table\"\n\t\t\t\t\t\tstickyHeader\n\t\t\t\t\t>\n\t\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t<TableCell>Existencia</TableCell>\n\t\t\t\t\t\t\t\t<TableCell>Cdigo de barras</TableCell>\n\t\t\t\t\t\t\t\t<TableCell width={200}>Nombre</TableCell>\n\t\t\t\t\t\t\t\t<TableCell padding=\"checkbox\">Medida</TableCell>\n\t\t\t\t\t\t\t\t<TableCell padding=\"checkbox\">Color</TableCell>\n\t\t\t\t\t\t\t\t<TableCell>Precio</TableCell>\n\t\t\t\t\t\t\t\t{from && from === 'compra' ? (\n\t\t\t\t\t\t\t\t\t<TableCell padding=\"checkbox\">Existente</TableCell>\n\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t\t<TableCell padding=\"checkbox\">Cantidad</TableCell>\n\t\t\t\t\t\t\t\t<TableCell padding=\"checkbox\">Editar</TableCell>\n\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t</TableHead>\n\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t{mostrar_presentaciones.map((producto, index) => {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<RenderPresentacionesRows\n\t\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\t\tproducto={producto}\n\t\t\t\t\t\t\t\t\t\tindex={index}\n\t\t\t\t\t\t\t\t\t\tfrom={from}\n\t\t\t\t\t\t\t\t\t\tsetOnUpdate={setOnUpdate}\n\t\t\t\t\t\t\t\t\t\tonUpdate={onUpdate}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t</Table>\n\t\t\t\t</TableContainer>\n\t\t\t</Paper>\n\t\t</div>\n\t);\n};\n\nconst RenderPresentacionesRows = ({ producto, index,  from, setOnUpdate, onUpdate }) => {\n\tconst { presentaciones, setPresentaciones, preciosP, precios } = useContext(RegProductoContext);\n\tconst [ disabledInput, setDisabledInput ] = useState(true);\n\tconst classes = useStyles();\n\tconst textfield = useRef(null);\n\n\tconst copy_presentaciones = [...presentaciones].sort((a, b) => compareFunction(a, b))\n\tconst copy_element_presentacion = { ...copy_presentaciones[index] };\n\tconst copy_producto = { ...producto };\n\n\tif(from && from === 'compra'){\n\t\tcopy_producto.cantidad = 0\n\t}\n\t\n\tconst handleEditCancel = () => {\n\t\tif (!copy_producto.cantidad) {\n\t\t\tcopy_element_presentacion.cantidad = 0;\n\t\t}\n\t\tif (!copy_producto.precio) {\n\t\t\tcopy_element_presentacion.precio = preciosP[0].precio_neto;\n\t\t}\n\t\tcopy_presentaciones.splice(index, 1, copy_element_presentacion);\n\t\tsetPresentaciones(copy_presentaciones);\n\t\tsetDisabledInput(true);\n\t};\n\n\tconst obtenerDatos = (event) => {\n\t\tconst {value, name }= event.target;\n\t\tconsole.log(name)\n\t\tif (name === 'cantidad') {\n\t\t\tif (!value) {\n\t\t\t\tcopy_element_presentacion.cantidad = '';\n\t\t\t\tcopy_element_presentacion.existencia = false;\n\t\t\t\tcopy_presentaciones.splice(index, 1, copy_element_presentacion);\n\t\t\t\tsetPresentaciones(copy_presentaciones);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tcopy_element_presentacion.cantidad = parseFloat(value);\n\t\t\tcopy_element_presentacion.existencia = true;\n\t\t} else if (name === 'precio') {\n\t\t\tlet { iva, ieps } = precios;\n\t\t\tif (!value) {\n\t\t\t\tcopy_element_presentacion.precio = '';\n\t\t\t\tcopy_presentaciones.splice(index, 1, copy_element_presentacion);\n\t\t\t\tsetPresentaciones(copy_presentaciones);\n\t\t\t\treturn;\n\t\t\t};\n\t\t\tlet precio_neto = parseFloat(value);\n\t\t\tlet varIVA = (iva < 10 ? `0${iva}` : iva);\n\t\t\tlet varIEPS = (ieps < 10 ? `0${ieps}` : ieps);\n\n\t\t\tlet suma_impuestos = parseFloat(`0.${varIVA}`) + parseFloat(`0.${varIEPS}`);\n\t\t\tlet precio_venta = parseFloat((precio_neto / (suma_impuestos+1)).toFixed(2));\n\t\t\tlet iva_precio = parseFloat((precio_venta * parseFloat(`0.${varIVA}`)).toFixed(2));\n\t\t\tlet ieps_precio = parseFloat((precio_venta * parseFloat(`0.${varIEPS}`)).toFixed(2));\n\t\t\tlet PUCSI = precios.unidad_de_compra.precio_unitario_sin_impuesto;\n\t\t\tlet utilidad = parseFloat((((precio_venta - PUCSI) / PUCSI) * 100).toFixed(2));\n\t\t\tcopy_element_presentacion.precio_unidad.precio_venta = precio_venta;\n\t\t\tcopy_element_presentacion.precio_unidad.precio_neto = precio_neto;\n\t\t\tcopy_element_presentacion.precio_unidad.utilidad = utilidad;\n\t\t\tcopy_element_presentacion.precio_unidad.iva_precio = iva_precio;\n\t\t\tcopy_element_presentacion.precio_unidad.ieps_precio = ieps_precio;\n\t\t\t\n\t\t\tcopy_element_presentacion.precio = parseFloat(value);\n\t\t} else {\n\t\t\tif (!value) {\n\t\t\t\tcopy_element_presentacion.codigo_barras = '';\n\t\t\t\tcopy_presentaciones.splice(index, 1, copy_element_presentacion);\n\t\t\t\tsetPresentaciones(copy_presentaciones);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tcopy_element_presentacion.codigo_barras = value;\n\t\t}\n\t\tcopy_presentaciones.splice(index, 1, copy_element_presentacion);\n\t\tsetPresentaciones(copy_presentaciones);\n\t};\n\n\tconst GenCodigoBarras = () => {\n\t\tconst max = 999999999999;\n\t\tconst min = 100000000000;\n\t\tconst codigo_barras = Math.floor(Math.random() * (max - min + 1) + min).toString();\n\t\tcopy_element_presentacion.codigo_barras = codigo_barras;\n\t\tcopy_presentaciones.splice(index, 1, copy_element_presentacion);\n\t\tsetPresentaciones(copy_presentaciones);\n\t};\n\n\tconst actionButton = () => {\n\t\tif (!disabledInput) {\n\t\t\thandleEditCancel();\n\t\t\t/* quitar del array\t */\n\t\t\tonUpdate.splice(onUpdate.length - 1, 1);\n\t\t\tsetOnUpdate([ ...onUpdate ]);\n\t\t} else {\n\t\t\tsetDisabledInput(!disabledInput);\n\t\t\t/*  agregar al array */\n\t\t\tsetOnUpdate([ ...onUpdate, index ]);\n\t\t}\n\t};\n\n\treturn (\n\t\t<TableRow hover selected={!disabledInput} className={classes.tableRow}>\n\t\t\t<TableCell align=\"center\">\n\t\t\t\t<Checkbox checked={copy_producto.existencia} color=\"primary\" />\n\t\t\t</TableCell>\n\t\t\t<TableCell width={220}>\n\t\t\t\t<Box display=\"flex\">\n\t\t\t\t\t<Input\n\t\t\t\t\t\tinputRef={textfield}\n\t\t\t\t\t\tonChange={(e) => obtenerDatos(e)}\n\t\t\t\t\t\t/* disabled={disabledInput} */\n\t\t\t\t\t\tvalue={copy_producto.codigo_barras}\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\tname=\"precio\"\n\t\t\t\t\t\tdisabled={!copy_producto.nuevo ? true : disabledInput}\n\t\t\t\t\t/>\n\t\t\t\t\t{ copy_producto.nuevo ? (\n\t\t\t\t\t\t<IconButton color=\"primary\" size=\"small\" onClick={() => GenCodigoBarras()}>\n\t\t\t\t\t\t\t<Cached />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t) :  copy_producto.nuevo ? (\n\t\t\t\t\t\t<IconButton color=\"primary\" size=\"small\" onClick={() => GenCodigoBarras()}>\n\t\t\t\t\t\t\t<Cached />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t) : null}\n\t\t\t\t</Box>\n\t\t\t</TableCell>\n\t\t\t<TableCell width={200}>{copy_producto.nombre_comercial}</TableCell>\n\t\t\t<TableCell padding=\"checkbox\">\n\t\t\t\t{copy_producto.medida._id ? <Chip label={copy_producto.medida.talla} color=\"primary\" /> : ''}\n\t\t\t</TableCell>\n\t\t\t<TableCell padding=\"checkbox\">\n\t\t\t\t{copy_producto.color._id ? (\n\t\t\t\t\t<Tooltip title={copy_producto.color.nombre} placement=\"top\" arrow TransitionComponent={Zoom}>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName={classes.colorContainer}\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\tbackgroundColor: copy_producto.color.hex\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Tooltip>\n\t\t\t\t) : null}\n\t\t\t</TableCell>\n\t\t\t<TableCell width={110}>\n\t\t\t\t<Input\n\t\t\t\t\tinputRef={textfield}\n\t\t\t\t\tonChange={(e) => obtenerDatos(e)}\n\t\t\t\t\tdisabled={disabledInput}\n\t\t\t\t\tvalue={copy_producto.precio}\n\t\t\t\t\ttype=\"tel\"\n\t\t\t\t\tname=\"precio\"\n\t\t\t\t/>\n\t\t\t</TableCell>\n\t\t\t{from && from === 'compra' ? (\n\t\t\t\t<TableCell padding=\"checkbox\">\n\t\t\t\t{producto.cantidad}\n\t\t\t</TableCell>\n\t\t\t) : null}\n\t\t\t<TableCell padding=\"checkbox\">\n\t\t\t\t<Input\n\t\t\t\t\tinputRef={textfield}\n\t\t\t\t\tonChange={(e) => obtenerDatos(e)}\n\t\t\t\t\tdisabled={disabledInput}\n\t\t\t\t\tvalue={copy_producto.cantidad}\n\t\t\t\t\ttype=\"tel\"\n\t\t\t\t\tname=\"cantidad\"\n\t\t\t\t/>\n\t\t\t</TableCell>\n\t\t\t<TableCell padding=\"checkbox\">\n\t\t\t\t<IconButton size=\"small\" onClick={() => actionButton()}>\n\t\t\t\t\t{!disabledInput ? <Close /> : <Edit />}\n\t\t\t\t</IconButton>\n\t\t\t</TableCell>\n\t\t</TableRow>\n\t);\n};\n","import React, { useContext, useState,  useEffect, useCallback } from 'react';\nimport { Typography, Divider, Tooltip, } from '@material-ui/core';\nimport { Box,Grid } from '@material-ui/core';\nimport { makeStyles, useTheme } from '@material-ui/core';\nimport Zoom from '@material-ui/core/Zoom';\n\nimport { Done } from '@material-ui/icons';\nimport TablaPresentaciones from './TablaPresentaciones';\nimport { RegProductoContext } from '../../../../context/Catalogos/CtxRegProducto';\n// import { AlmacenProvider } from '../../../../context/Almacenes/crearAlmacen';\n// import ContainerRegistroAlmacen from '../../../sucursales/Almacenes/RegistroAlmacen/ContainerRegistroAlmacen';\nimport CrearColorProducto from '../../../sucursales/Catalogos/Producto/TallasColores/crearColor';\nimport CrearTallasProducto from '../../../sucursales/Catalogos/Producto/TallasColores/crearTalla';\n\nconst useStyles = makeStyles((theme) => ({\n\tcolorContainer: {\n\t\tborder: '1px solid rgba(0,0,0, .3)',\n\t\tdisplay: 'flex',\n\t\tjustifyContent: 'center',\n\t\talignItems: 'center',\n\t\theight: 50,\n\t\twidth: 50,\n\t\tmargin: 1,\n\t\tborderRadius: '15%',\n\t\tcursor: 'pointer'\n\t}\n}));\n\nconst GenCodigoBarras = () => {\n\treturn Math.floor(Math.random() * (999999999999 - 100000000000 + 1) + 100000000000).toString();\n};\n\nexport default function TallasColoresRapidos({ \n\tobtenerConsultasProducto, \n\trefetch, \n\tdatos, \n\tfrom\n}) {\n\tconst {\n\t\t// almacen_inicial,\n\t\t// setAlmacenInicial,\n\t\tpresentaciones,\n\t\tdatos_generales,\n\t} = useContext(RegProductoContext);\n\tconst { colores, tallas, calzados } = obtenerConsultasProducto;\n\tconst [ medidasSeleccionadas, setMedidasSeleccionadas ] = useState([]);\n\tconst [ coloresSeleccionados, setColoresSeleccionados ] = useState([]);\n\tconst medidas = datos_generales.tipo_producto === 'ROPA' ? [ ...tallas ] : [ ...calzados ];\n\tconst [ onUpdate, setOnUpdate ] = useState([]);\n\n\tconst obtenerColoresSeleccinados = useCallback(\n\t\t() => {\n\t\t\tlet colors = [];\n\t\t\tlet medidas = [];\n\t\t\tconst copy_presentaciones = [ ...presentaciones ];\n\n\t\t\tcopy_presentaciones.forEach((element) => {\n\t\t\t\tif (element.color._id) colors.push(element.color);\n\t\t\t\tif (element.medida._id) medidas.push(element.medida);\n\t\t\t});\n\n\t\t\tvar hashColor = {};\n\t\t\tvar hashMedida = {};\n\t\t\tconst colores_existentes = colors.filter((color) => {\n\t\t\t\tvar existColor = !hashColor[color._id];\n\t\t\t\thashColor[color._id] = true;\n\t\t\t\treturn existColor;\n\t\t\t});\n\t\t\tconst medidas_existentes = medidas.filter((medida) => {\n\t\t\t\tvar existMedida = !hashMedida[medida._id];\n\t\t\t\thashMedida[medida._id] = true;\n\t\t\t\treturn existMedida;\n\t\t\t});\n\n\t\t\tsetColoresSeleccionados([ ...colores_existentes ]);\n\t\t\tsetMedidasSeleccionadas([ ...medidas_existentes ]);\n\t\t},\n\t\t[ presentaciones ]\n\t);\n\n\t// const obtenerAlmacenes = (event, child) => {\n\t// \tsetAlmacenInicial({\n\t// \t\t...almacen_inicial,\n\t// \t\t[event.target.name]: event.target.value,\n\t// \t\t[child.props.name]: child.props.id\n\t// \t});\n\t// };\n\n\tuseEffect(\n\t\t() => {\n\t\t\tobtenerColoresSeleccinados();\n\t\t},\n\t\t[ obtenerColoresSeleccinados ]\n\t);\n\n\treturn (\n\t\t<div>\n\t\t\t<Grid container spacing={2}>\n\t\t\t\t<Grid item md={9}>\n\t\t\t\t\t<TablaPresentaciones from={from} setOnUpdate={setOnUpdate} onUpdate={onUpdate} />\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item md={3}>\n\t\t\t\t\t<Box\n\t\t\t\t\t\twidth=\"100%\"\n\t\t\t\t\t\tmy={2}\n\t\t\t\t\t\tstyle={\n\t\t\t\t\t\t\tonUpdate.length > 0 ? (\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tpointerEvents: 'none',\n\t\t\t\t\t\t\t\t\topacity: 0.4\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t) : null\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Typography>{datos_generales.tipo_producto === 'ROPA' ? 'Talla' : 'Nmero'}</Typography>\n\t\t\t\t\t\t<CrearTallasProducto setMedidasSeleccionadas={setMedidasSeleccionadas} refetch={refetch} />\n\t\t\t\t\t\t<Grid container>\n\t\t\t\t\t\t\t{medidas.map((talla, index) => (\n\t\t\t\t\t\t\t\t<RenderTallas\n\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\ttalla={talla}\n\t\t\t\t\t\t\t\t\tcoloresSeleccionados={coloresSeleccionados}\n\t\t\t\t\t\t\t\t\tmedidasSeleccionadas={medidasSeleccionadas}\n\t\t\t\t\t\t\t\t\tsetMedidasSeleccionadas={setMedidasSeleccionadas}\n\t\t\t\t\t\t\t\t\t// datos={datos}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Divider />\n\t\t\t\t\t<Box\n\t\t\t\t\t\twidth=\"100%\"\n\t\t\t\t\t\tmt={1}\n\t\t\t\t\t\tstyle={\n\t\t\t\t\t\t\tonUpdate.length > 0 ? (\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tpointerEvents: 'none',\n\t\t\t\t\t\t\t\t\topacity: 0.4\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t) : null\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Typography>Color</Typography>\n\t\t\t\t\t\t<CrearColorProducto refetch={refetch} />\n\t\t\t\t\t\t<Grid container>\n\t\t\t\t\t\t\t{colores.map((color, index) => (\n\t\t\t\t\t\t\t\t<Colores\n\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\tcolor={color}\n\t\t\t\t\t\t\t\t\tcoloresSeleccionados={coloresSeleccionados}\n\t\t\t\t\t\t\t\t\tsetColoresSeleccionados={setColoresSeleccionados}\n\t\t\t\t\t\t\t\t\tmedidasSeleccionadas={medidasSeleccionadas}\n\t\t\t\t\t\t\t\t\t// datos={datos}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Box>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t</div>\n\t);\n}\n\nconst RenderTallas = ({\n\ttalla,\n\tcoloresSeleccionados,\n\tmedidasSeleccionadas,\n\tsetMedidasSeleccionadas,\n\t// datos\n}) => {\n\tconst classes = useStyles();\n\tconst theme = useTheme();\n\tconst { \n\t\tsetPresentaciones, \n\t\tpresentaciones, \n\t\tdatos_generales, \n\t\tpreciosP, \n\t\tprecios,\n\t\tpresentaciones_eliminadas, \n\t\tsetPresentacionesEliminadas \n\t} = useContext(RegProductoContext);\n\tconst [ selected, setSelected ] = useState(false);\n\n\t// const seleccionarMedidas = useCallback(\n\t// \t() => {\n\t// \t\tmedidasSeleccionadas.forEach((res) => {\n\t// \t\t\tif (res._id === talla._id) setSelected(true);\n\t// \t\t});\n\t// \t},\n\t// \t[ talla._id, medidasSeleccionadas ]\n\t// );\n\n\t// useEffect(\n\t// \t() => {\n\t// \t\tif (datos.medidas_registradas) {\n\t// \t\t\treturn seleccionarMedidas();\n\t// \t\t}\n\t// \t},\n\t// \t[ seleccionarMedidas ]\n\t// );\n\n\n\tconst handleAddTallas = (value) => {\n\t\tconst medidas_seleccionadas_temp = [ ...medidasSeleccionadas ];\n\n\t\tif (!selected) {\n\t\t\tmedidas_seleccionadas_temp.push(talla);\n\t\t\tsetSelected(value);\n\t\t} else {\n\t\t\tmedidas_seleccionadas_temp.forEach((res, index) => {\n\t\t\t\tif (res._id === talla._id) {\n\t\t\t\t\tmedidas_seleccionadas_temp.splice(index, 1);\n\t\t\t\t\tsetSelected(value);\n\t\t\t\t\tpresentaciones.forEach((presentacion) => {\n\t\t\t\t\t\tif(!presentacion.nuevo){\n\t\t\t\t\t\t\tif(presentacion.medida._id === res._id){\n\t\t\t\t\t\t\t\tsetPresentacionesEliminadas([...presentaciones_eliminadas, presentacion])\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t}\n\n\t\tlet presentacion_temp = [];\n\t\tconst array_medidad_finales = [ ...presentaciones ];\n\t\tconst { iva, ieps } = precios;\n\n\t\tif (!coloresSeleccionados.length && !array_medidad_finales.length) {\n\t\t\t/* SI NO HAY COLORES NI VALORES EN EL ARRAY FINAL SE AGREGA EL PRIMER ELEMENTO */\n\t\t\tfor (let i = 0; i < medidas_seleccionadas_temp.length; i++) {\n\t\t\t\tconst producto_medida = medidas_seleccionadas_temp[i];\n\t\t\t\tlet varIVA = (iva < 10 ? `0${iva}` : iva);\n\t\t\t\tlet varIEPS = (ieps < 10 ? `0${ieps}` : ieps);\n\t\t\t\tlet iva_precio = parseFloat(\n\t\t\t\t\t(\n\t\t\t\t\t  preciosP[0].precio_venta *\n\t\t\t\t\t  parseFloat(`0.${varIVA}`)\n\t\t\t\t\t).toFixed(2)\n\t\t\t\t  );\n\t\t\t\t  let ieps_precio = parseFloat(\n\t\t\t\t\t(\n\t\t\t\t\t  preciosP[0].precio_venta *\n\t\t\t\t\t  parseFloat(`0.${varIEPS}`)\n\t\t\t\t\t).toFixed(2)\n\t\t\t\t  );\n\t\t\t\tpresentacion_temp.push({\n\t\t\t\t\t_id: '',\n\t\t\t\t\texistencia: false,\n\t\t\t\t\tcodigo_barras: GenCodigoBarras(),\n\t\t\t\t\tnombre_comercial: datos_generales.nombre_comercial,\n\t\t\t\t\tmedida: producto_medida,\n\t\t\t\t\tcolor: { nombre: '', hex: '' },\n\t\t\t\t\tprecio: preciosP[0].precio_neto,\n\t\t\t\t\tcantidad: 0,\n\t\t\t\t\tnuevo: true,\n\t\t\t\t\tprecio_unidad: {\n\t\t\t\t\t\tnumero_precio: 1,\n\t\t\t\t\t\tprecio_venta: preciosP[0].precio_venta,\n\t\t\t\t\t\tprecio_neto: preciosP[0].precio_neto,\n\t\t\t\t\t\tunidad_mayoreo: 0,\n\t\t\t\t\t\tiva_precio: iva_precio,\n\t\t\t\t\t\tieps_precio: ieps_precio,\n\t\t\t\t\t\tutilidad: preciosP[0].utilidad,\n\t\t\t\t\t\tunidad_maxima: false,\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t}\n\t\t} else if (!coloresSeleccionados.length && array_medidad_finales.length > 0) {\n\t\t\t/* SI NO HAY COLORES REGISTRADOS PERO YA HAY TALLAS SE AGREGAN MAS */\n\t\t\tfor (let i = 0; i < medidas_seleccionadas_temp.length; i++) {\n\t\t\t\tconst producto_medida = medidas_seleccionadas_temp[i];\n\t\t\t\tconst result = array_medidad_finales.filter((res) => res.medida._id === producto_medida._id);\n\t\t\t\tlet varIVA = (iva < 10 ? `0${iva}` : iva);\n\t\t\t\tlet varIEPS = (ieps < 10 ? `0${ieps}` : ieps);\n\n\t\t\t\tlet iva_precio = parseFloat(\n\t\t\t\t\t(\n\t\t\t\t\t  preciosP[0].precio_venta *\n\t\t\t\t\t  parseFloat(`0.${varIVA}`)\n\t\t\t\t\t).toFixed(2)\n\t\t\t\t  );\n\t\t\t\t  let ieps_precio = parseFloat(\n\t\t\t\t\t(\n\t\t\t\t\t  preciosP[0].precio_venta *\n\t\t\t\t\t  parseFloat(`0.${varIEPS}`)\n\t\t\t\t\t).toFixed(2)\n\t\t\t\t  );\n\t\t\t\tif (result.length) {\n\t\t\t\t\tpresentacion_temp.push(result[0]);\n\t\t\t\t} else {\n\t\t\t\t\tpresentacion_temp.push({\n\t\t\t\t\t\t_id: '',\n\t\t\t\t\t\texistencia: false,\n\t\t\t\t\t\tcodigo_barras: GenCodigoBarras(),\n\t\t\t\t\t\tnombre_comercial: datos_generales.nombre_comercial,\n\t\t\t\t\t\tmedida: producto_medida,\n\t\t\t\t\t\tcolor: { nombre: '', hex: '' },\n\t\t\t\t\t\tprecio: preciosP[0].precio_neto,\n\t\t\t\t\t\tcantidad: 0,\n\t\t\t\t\t\tnuevo: true,\n\t\t\t\t\t\tprecio_unidad: {\n\t\t\t\t\t\t\tnumero_precio: 1,\n\t\t\t\t\t\t\tprecio_venta: preciosP[0].precio_venta,\n\t\t\t\t\t\t\tprecio_neto: preciosP[0].precio_neto,\n\t\t\t\t\t\t\tunidad_mayoreo: 0,\n\t\t\t\t\t\t\tiva_precio: iva_precio,\n\t\t\t\t\t\t\tieps_precio: ieps_precio,\n\t\t\t\t\t\t\tutilidad: preciosP[0].utilidad,\n\t\t\t\t\t\t\tunidad_maxima: false,\n\t\t\t\t\t\t},\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (coloresSeleccionados.length > 0 && medidas_seleccionadas_temp.length === 1 && value) {\n\t\t\t/* SI HAY COLORES SE LE AGREGA TALLA POR PRIMERA VEZ */\n\t\t\tfor (let i = 0; i < array_medidad_finales.length; i++) {\n\t\t\t\tfor (let k = 0; k < medidas_seleccionadas_temp.length; k++) {\n\t\t\t\t\tpresentacion_temp.push({\n\t\t\t\t\t\t_id: '',\n\t\t\t\t\t\texistencia: array_medidad_finales[i].existencia,\n\t\t\t\t\t\tcodigo_barras: array_medidad_finales[i].codigo_barras,\n\t\t\t\t\t\tnombre_comercial: array_medidad_finales[i].nombre_comercial,\n\t\t\t\t\t\tmedida: medidas_seleccionadas_temp[k],\n\t\t\t\t\t\tcolor: array_medidad_finales[i].color,\n\t\t\t\t\t\tprecio: array_medidad_finales[i].precio,\n\t\t\t\t\t\tcantidad: array_medidad_finales[i].cantidad,\n\t\t\t\t\t\tnuevo: true,\n\t\t\t\t\t\tprecio_unidad: array_medidad_finales[i].precio_unidad,\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (coloresSeleccionados.length > 0 && medidas_seleccionadas_temp.length > 0) {\n\t\t\t/* YA HAY COLORES Y MEDIDAS EN LAS PRESENTACIONES, SE AGREGAN NORMAL */\n\t\t\tfor (let i = 0; i < medidas_seleccionadas_temp.length; i++) {\n\t\t\t\tconst producto_medida = medidas_seleccionadas_temp[i];\n\t\t\t\tfor (let k = 0; k < coloresSeleccionados.length; k++) {\n\t\t\t\t\tconst producto_color = coloresSeleccionados[k];\n\t\t\t\t\tconst presentacion_existente = array_medidad_finales.filter(\n\t\t\t\t\t\t(producto_array_final) =>\n\t\t\t\t\t\t\tproducto_array_final.medida._id === producto_medida._id &&\n\t\t\t\t\t\t\tproducto_color._id === producto_array_final.color._id\n\t\t\t\t\t);\n\t\t\t\t\tlet varIVA = (iva < 10 ? `0${iva}` : iva);\n\t\t\t\t\tlet varIEPS = (ieps < 10 ? `0${ieps}` : ieps);\n\t\t\t\t\tlet iva_precio = parseFloat(\n\t\t\t\t\t\t(\n\t\t\t\t\t\t  preciosP[0].precio_venta *\n\t\t\t\t\t\t  parseFloat(`0.${varIVA}`)\n\t\t\t\t\t\t).toFixed(2)\n\t\t\t\t\t  );\n\t\t\t\t\t  let ieps_precio = parseFloat(\n\t\t\t\t\t\t(\n\t\t\t\t\t\t  preciosP[0].precio_venta *\n\t\t\t\t\t\t  parseFloat(`0.${varIEPS}`)\n\t\t\t\t\t\t).toFixed(2)\n\t\t\t\t\t  );\n\t\t\t\t\tif (!presentacion_existente.length) {\n\t\t\t\t\t\tpresentacion_temp.push({\n\t\t\t\t\t\t\t_id: '',\n\t\t\t\t\t\t\texistencia: false,\n\t\t\t\t\t\t\tcodigo_barras: GenCodigoBarras(),\n\t\t\t\t\t\t\tnombre_comercial: datos_generales.nombre_comercial,\n\t\t\t\t\t\t\tmedida: producto_medida,\n\t\t\t\t\t\t\tcolor: producto_color,\n\t\t\t\t\t\t\tprecio: preciosP[0].precio_neto,\n\t\t\t\t\t\t\tcantidad: 0,\n\t\t\t\t\t\t\tnuevo: true,\n\t\t\t\t\t\t\tprecio_unidad: {\n\t\t\t\t\t\t\t\tnumero_precio: 1,\n\t\t\t\t\t\t\t\tprecio_venta: preciosP[0].precio_venta,\n\t\t\t\t\t\t\t\tprecio_neto: preciosP[0].precio_neto,\n\t\t\t\t\t\t\t\tunidad_mayoreo: 0,\n\t\t\t\t\t\t\t\tiva_precio: iva_precio,\n\t\t\t\t\t\t\t\tieps_precio: ieps_precio,\n\t\t\t\t\t\t\t\tutilidad: preciosP[0].utilidad,\n\t\t\t\t\t\t\t\tunidad_maxima: false,\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tpresentacion_temp.push(presentacion_existente[0]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (coloresSeleccionados.length > 0 && !medidas_seleccionadas_temp.length) {\n\t\t\t/* SI NO HAY TALLAS SE VUELVE A LISTAR LOS COLORES QUE YA ESTABAN EN PRESENTACIONES */\n\t\t\tconst presentaciones_existentes = array_medidad_finales.filter((producto) => producto.medida._id);\n\t\t\tif (presentaciones_existentes.length) {\n\t\t\t\tfor (let x = 0; x < array_medidad_finales.length; x++) {\n\t\t\t\t\tconst objeto_presentaciones_final = array_medidad_finales[x];\n\t\t\t\t\tpresentacion_temp.push({\n\t\t\t\t\t\t_id: objeto_presentaciones_final._id,\n\t\t\t\t\t\texistencia: objeto_presentaciones_final.existencia,\n\t\t\t\t\t\tcodigo_barras: objeto_presentaciones_final.codigo_barras,\n\t\t\t\t\t\tnombre_comercial: objeto_presentaciones_final.nombre_comercial,\n\t\t\t\t\t\tmedida: {},\n\t\t\t\t\t\tcolor: objeto_presentaciones_final.color,\n\t\t\t\t\t\tprecio: objeto_presentaciones_final.precio,\n\t\t\t\t\t\tcantidad: objeto_presentaciones_final.cantidad,\n\t\t\t\t\t\tnuevo: true,\n\t\t\t\t\t\tprecio_unidad: objeto_presentaciones_final.precio_unidad,\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tsetMedidasSeleccionadas([ ...medidas_seleccionadas_temp ]);\n\t\tsetPresentaciones(presentacion_temp);\n\t};\n\n\treturn (\n\t\t<Grid item>\n\t\t\t<div\n\t\t\t\tclassName={classes.colorContainer}\n\t\t\t\tonClick={() => handleAddTallas(!selected)}\n\t\t\t\tstyle={\n\t\t\t\t\tselected ? (\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tbackgroundColor: theme.palette.primary.main\n\t\t\t\t\t\t}\n\t\t\t\t\t) : null\n\t\t\t\t}\n\t\t\t>\n\t\t\t\t<Typography\n\t\t\t\t\tvariant=\"button\"\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tcolor: theme.palette.getContrastText(selected ? theme.palette.primary.main : '#FFFFFF'),\n\t\t\t\t\t\tfontSize: 16\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{talla.talla}\n\t\t\t\t</Typography>\n\t\t\t</div>\n\t\t</Grid>\n\t);\n};\n\nconst Colores = ({ \n\tcolor, \n\tcoloresSeleccionados, \n\tsetColoresSeleccionados, \n\tmedidasSeleccionadas, \n\tdatos \n}) => {\n\tconst classes = useStyles();\n\tconst theme = useTheme();\n\tconst { \n\t\tpresentaciones, \n\t\tsetPresentaciones, \n\t\tdatos_generales, \n\t\tpreciosP, \n\t\tprecios,\n\t\tpresentaciones_eliminadas, \n\t\tsetPresentacionesEliminadas \n\t} = useContext(RegProductoContext);\n\n\tconst [ selected, setSelected ] = useState(false);\n\n\t// const seleccionarColores = useCallback(\n\t// \t() => {\n\t// \t\tcoloresSeleccionados.forEach((res) => {\n\t// \t\t\tif (res._id === color._id) setSelected(true);\n\t// \t\t});\n\t// \t},\n\t// \t[ color._id, coloresSeleccionados ]\n\t// );\n\n\t// useEffect(\n\t// \t() => {\n\t// \t\tif (datos.medidas_registradas) {\n\t// \t\t\treturn seleccionarColores();\n\t// \t\t}\n\t// \t},\n\t// \t[ seleccionarColores ]\n\t// );\n\n\tconst obtenerColores = (value) => {\n\t\tif (!selected) {\n\t\t\tcoloresSeleccionados.push(color);\n\t\t\tsetSelected(value);\n\t\t} else {\n\t\t\tcoloresSeleccionados.forEach((res, index) => {\n\t\t\t\tif (res._id === color._id) {\n\t\t\t\t\tcoloresSeleccionados.splice(index, 1);\n\t\t\t\t\tsetSelected(value);\n\t\t\t\t\tpresentaciones.forEach((presentacion) => {\n\t\t\t\t\t\tif(!presentacion.nuevo){\n\t\t\t\t\t\t\tif(presentacion.color._id === res._id){\n\t\t\t\t\t\t\t\tsetPresentacionesEliminadas([...presentaciones_eliminadas, presentacion])\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\tlet presentacion_temp = [];\n\t\tconst array_medidad_finales = [ ...presentaciones ];\n\t\tconst { iva, ieps } = precios;\n\n\t\tif (!medidasSeleccionadas.length && !array_medidad_finales.length) {\n\t\t\t/* SI NO HAY COLORES NI VALORES EN EL ARRAY FINAL SE AGREGA EL PRIMER ELEMENTO */\n\t\t\tfor (let i = 0; i < coloresSeleccionados.length; i++) {\n\t\t\t\tconst producto_color = coloresSeleccionados[i];\n\t\t\t\tlet varIVA = (iva < 10 ? `0${iva}` : iva);\n\t\t\t\tlet varIEPS = (ieps < 10 ? `0${ieps}` : ieps);\n\t\t\t\tlet iva_precio = parseFloat(\n\t\t\t\t\t(\n\t\t\t\t\t  preciosP[0].precio_venta *\n\t\t\t\t\t  parseFloat(`0.${varIVA}`)\n\t\t\t\t\t).toFixed(2)\n\t\t\t\t);\n\t\t\t\tlet ieps_precio = parseFloat(\n\t\t\t\t\t(\n\t\t\t\t\t\tpreciosP[0].precio_venta *\n\t\t\t\t\t\tparseFloat(`0.${varIEPS}`)\n\t\t\t\t\t).toFixed(2)\n\t\t\t\t);\n\t\t\t\tpresentacion_temp.push({\n\t\t\t\t\t_id: '',\n\t\t\t\t\texistencia: false,\n\t\t\t\t\tcodigo_barras: GenCodigoBarras(),\n\t\t\t\t\tnombre_comercial: datos_generales.nombre_comercial,\n\t\t\t\t\tmedida: {},\n\t\t\t\t\tcolor: producto_color,\n\t\t\t\t\tprecio: preciosP[0].precio_neto,\n\t\t\t\t\tcantidad: 0,\n\t\t\t\t\tnuevo: true,\n\t\t\t\t\tprecio_unidad: {\n\t\t\t\t\t\tnumero_precio: 1,\n\t\t\t\t\t\tprecio_venta: preciosP[0].precio_venta,\n\t\t\t\t\t\tprecio_neto: preciosP[0].precio_neto,\n\t\t\t\t\t\tunidad_mayoreo: 0,\n\t\t\t\t\t\tiva_precio: iva_precio,\n\t\t\t\t\t\tieps_precio: ieps_precio,\n\t\t\t\t\t\tutilidad: preciosP[0].utilidad,\n\t\t\t\t\t\tunidad_maxima: false,\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t}\n\t\t} else if (!medidasSeleccionadas.length && array_medidad_finales.length > 0) {\n\t\t\t/* SI YA HAY COLORES REGISTRADOS SE AGREGAN MAS */\n\t\t\tfor (let i = 0; i < coloresSeleccionados.length; i++) {\n\t\t\t\tconst producto_color = coloresSeleccionados[i];\n\t\t\t\tconst result = array_medidad_finales.filter((res) => res.color._id === producto_color._id);\n\t\t\t\tlet varIVA = (iva < 10 ? `0${iva}` : iva);\n\t\t\t\tlet varIEPS = (ieps < 10 ? `0${ieps}` : ieps);\n\t\t\t\tlet iva_precio = parseFloat(\n\t\t\t\t\t(\n\t\t\t\t\t  preciosP[0].precio_venta *\n\t\t\t\t\t  parseFloat(`0.${varIVA}`)\n\t\t\t\t\t).toFixed(2)\n\t\t\t\t  );\n\t\t\t\tlet ieps_precio = parseFloat(\n\t\t\t\t\t(\n\t\t\t\t\t  preciosP[0].precio_venta *\n\t\t\t\t\t  parseFloat(`0.${varIEPS}`)\n\t\t\t\t\t).toFixed(2)\n\t\t\t\t);\n\t\t\t\tif (result.length) {\n\t\t\t\t\tpresentacion_temp.push(result[0]);\n\t\t\t\t} else {\n\t\t\t\t\tpresentacion_temp.push({\n\t\t\t\t\t\t_id: '',\n\t\t\t\t\t\texistencia: false,\n\t\t\t\t\t\tcodigo_barras: GenCodigoBarras(),\n\t\t\t\t\t\tnombre_comercial: datos_generales.nombre_comercial,\n\t\t\t\t\t\tmedida: {},\n\t\t\t\t\t\tcolor: producto_color,\n\t\t\t\t\t\tprecio: preciosP[0].precio_neto,\n\t\t\t\t\t\tcantidad: 0,\n\t\t\t\t\t\tnuevo: true,\n\t\t\t\t\t\tprecio_unidad: {\n\t\t\t\t\t\t\tnumero_precio: 1,\n\t\t\t\t\t\t\tprecio_venta: preciosP[0].precio_venta,\n\t\t\t\t\t\t\tprecio_neto: preciosP[0].precio_neto,\n\t\t\t\t\t\t\tunidad_mayoreo: 0,\n\t\t\t\t\t\t\tiva_precio: iva_precio,\n\t\t\t\t\t\t\tieps_precio: ieps_precio,\n\t\t\t\t\t\t\tutilidad: preciosP[0].utilidad,\n\t\t\t\t\t\t\tunidad_maxima: false,\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (medidasSeleccionadas.length > 0 && coloresSeleccionados.length === 1 && value) {\n\t\t\t/* SI YA HAY TALLAS SE LE AGREGA EL COLOR POR PRIMERA VEZ */\n\t\t\tfor (let i = 0; i < array_medidad_finales.length; i++) {\n\t\t\t\tfor (let k = 0; k < coloresSeleccionados.length; k++) {\n\t\t\t\t\tpresentacion_temp.push({\n\t\t\t\t\t\t_id: '',\n\t\t\t\t\t\texistencia: array_medidad_finales[i].existencia,\n\t\t\t\t\t\tcodigo_barras: array_medidad_finales[i].codigo_barras,\n\t\t\t\t\t\tnombre_comercial: array_medidad_finales[i].nombre_comercial,\n\t\t\t\t\t\tmedida: array_medidad_finales[i].medida,\n\t\t\t\t\t\tcolor: coloresSeleccionados[k],\n\t\t\t\t\t\tprecio: array_medidad_finales[i].precio,\n\t\t\t\t\t\tcantidad: array_medidad_finales[i].cantidad,\n\t\t\t\t\t\tnuevo: true,\n\t\t\t\t\t\tprecio_unidad: array_medidad_finales[i].precio_unidad\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (medidasSeleccionadas.length > 0 && coloresSeleccionados.length > 0) {\n\t\t\t/* YA HAY TALLAS Y MEIDAS EN LAS PRESENTACIONES, SE REGISTRAN NORMAL */\n\t\t\tfor (let i = 0; i < coloresSeleccionados.length; i++) {\n\t\t\t\tconst producto_color = coloresSeleccionados[i];\n\t\t\t\tfor (let k = 0; k < medidasSeleccionadas.length; k++) {\n\t\t\t\t\tconst producto_medida = medidasSeleccionadas[k];\n\t\t\t\t\tconst presentacion_existente = array_medidad_finales.filter(\n\t\t\t\t\t\t(producto_array_final) =>\n\t\t\t\t\t\t\tproducto_array_final.medida._id === producto_medida._id &&\n\t\t\t\t\t\t\tproducto_color._id === producto_array_final.color._id\n\t\t\t\t\t);\n\t\t\t\t\tlet varIVA = (iva < 10 ? `0${iva}` : iva);\n\t\t\t\t\tlet varIEPS = (ieps < 10 ? `0${ieps}` : ieps);\n\t\t\t\t\tlet iva_precio = parseFloat(\n\t\t\t\t\t\t(\n\t\t\t\t\t\t  preciosP[0].precio_venta *\n\t\t\t\t\t\t  parseFloat(`0.${varIVA}`)\n\t\t\t\t\t\t).toFixed(2)\n\t\t\t\t\t  );\n\t\t\t\t\tlet ieps_precio = parseFloat(\n\t\t\t\t\t\t(\n\t\t\t\t\t\t\tpreciosP[0].precio_venta *\n\t\t\t\t\t\t\tparseFloat(`0.${varIEPS}`)\n\t\t\t\t\t\t).toFixed(2)\n\t\t\t\t\t);\n\t\t\t\t\tif (!presentacion_existente.length) {\n\t\t\t\t\t\tpresentacion_temp.push({\n\t\t\t\t\t\t\t_id: '',\n\t\t\t\t\t\t\texistencia: false,\n\t\t\t\t\t\t\tcodigo_barras: GenCodigoBarras(),\n\t\t\t\t\t\t\tnombre_comercial: datos_generales.nombre_comercial,\n\t\t\t\t\t\t\tmedida: producto_medida,\n\t\t\t\t\t\t\tcolor: producto_color,\n\t\t\t\t\t\t\tprecio: preciosP[0].precio_neto,\n\t\t\t\t\t\t\tcantidad: 0,\n\t\t\t\t\t\t\tnuevo: true,\n\t\t\t\t\t\t\tprecio_unidad: {\n\t\t\t\t\t\t\t\tnumero_precio: 1,\n\t\t\t\t\t\t\t\tprecio_venta: preciosP[0].precio_venta,\n\t\t\t\t\t\t\t\tprecio_neto: preciosP[0].precio_neto,\n\t\t\t\t\t\t\t\tunidad_mayoreo: 0,\n\t\t\t\t\t\t\t\tiva_precio: iva_precio,\n\t\t\t\t\t\t\t\tieps_precio: ieps_precio,\n\t\t\t\t\t\t\t\tutilidad: preciosP[0].utilidad,\n\t\t\t\t\t\t\t\tunidad_maxima: false,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tpresentacion_temp.push(presentacion_existente[0]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (medidasSeleccionadas.length > 0 && !coloresSeleccionados.length) {\n\t\t\t/* SI NO HAY COLORES SE VUELVE A LISTAR LAS TALLAS QUE YA ESTABAN EN PRESENTACIONES */\n\t\t\tconst presentaciones_existentes = array_medidad_finales.filter((producto) => producto.color._id);\n\t\t\tif (presentaciones_existentes.length) {\n\t\t\t\tfor (let x = 0; x < array_medidad_finales.length; x++) {\n\t\t\t\t\tconst objeto_presentaciones_final = array_medidad_finales[x];\n\t\t\t\t\tpresentacion_temp.push({\n\t\t\t\t\t\t_id: objeto_presentaciones_final._id,\n\t\t\t\t\t\texistencia: objeto_presentaciones_final.existencia,\n\t\t\t\t\t\tcodigo_barras: objeto_presentaciones_final.codigo_barras,\n\t\t\t\t\t\tnombre_comercial: objeto_presentaciones_final.nombre_comercial,\n\t\t\t\t\t\tmedida: objeto_presentaciones_final.medida,\n\t\t\t\t\t\tcolor: { nombre: '', hex: '' },\n\t\t\t\t\t\tprecio: objeto_presentaciones_final.precio,\n\t\t\t\t\t\tcantidad: objeto_presentaciones_final.cantidad,\n\t\t\t\t\t\tnuevo: true,\n\t\t\t\t\t\tprecio_unidad: objeto_presentaciones_final.precio_unidad,\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tsetColoresSeleccionados([ ...coloresSeleccionados ]);\n\t\tsetPresentaciones(presentacion_temp);\n\t};\n\n\treturn (\n\t\t<Grid item>\n\t\t\t<Tooltip title={color.nombre} placement=\"top\" arrow TransitionComponent={Zoom}>\n\t\t\t\t<div\n\t\t\t\t\tclassName={classes.colorContainer}\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tbackgroundColor: color.hex,\n\t\t\t\t\t\tcolor: theme.palette.getContrastText(color.hex)\n\t\t\t\t\t}}\n\t\t\t\t\tonClick={() => obtenerColores(!selected)}\n\t\t\t\t>\n\t\t\t\t\t{selected ? <Done /> : null}\n\t\t\t\t</div>\n\t\t\t</Tooltip>\n\t\t</Grid>\n\t);\n};\n","import React, { Fragment, useContext, useState } from \"react\";\nimport {\n  Box,\n  Button,\n  Dialog,\n  DialogActions,\n  makeStyles,\n  Slide,\n  TextField,\n  Typography,\n} from \"@material-ui/core\";\nimport { VentasContext } from \"../../context/Ventas/ventasContext\";\nimport { useApolloClient } from  \"@apollo/client\";\nimport { LOGEAR_USUARIO_ACCESOS } from \"../../gql/Catalogos/usuarios\";\nimport BackdropComponent from \"../Layouts/BackDrop\";\nimport { AccesosContext } from \"../../context/Accesos/accesosCtx\";\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nconst useStyles = makeStyles((theme) => ({\n  formInputFlex: {\n    display: \"flex\",\n    \"& > *\": {\n      margin: `${theme.spacing(1)}px ${theme.spacing(0.5)}px`,\n    },\n    \"& .obligatorio\": {\n      color: \"red\",\n    },\n    paddingTop: 0,\n    alignItems: \"center\",\n    justifyItems: \"center\",\n  },\n}));\n\nexport default function Acceso() {\n  const classes = useStyles();\n  const client = useApolloClient();\n\n  const { setAlert } = useContext(VentasContext);\n\n  const {\n    departamentos,\n    abrirPanelAcceso,\n    setAbrirPanelAcceso,\n    setReloadProductoRapido,\n    setReloadAdministrador,\n    setReloadCancelarVenta,\n    setReloadVerPrecios,\n    setReloadVerPreCorte,\n    setReloadEliminarVentaEspera,\n    setReloadCrearCotizacion,\n  } = useContext(AccesosContext);\n\n  const [datosUser, setDatosUser] = useState([]);\n  const [loading, setLoading] = useState(false);\n\n  const handleClickClose = async () => {\n    setDatosUser([]);\n    setAbrirPanelAcceso(false);\n  };\n\n  const obtenerDatos = (e) => {\n    setDatosUser({ ...datosUser, [e.target.name]: e.target.value });\n  };\n\n  const input = {\n    numero_usuario: parseInt(datosUser.numero_usuario),\n    password: datosUser.password,\n    departamento: departamentos.departamento,\n    subDepartamento: departamentos.subDepartamento,\n    tipo_acceso: departamentos.tipo_acceso,\n  };\n\n  const obtenerQuery = async () => {\n    try {\n      setLoading(true);\n      const response = await client.query({\n        query: LOGEAR_USUARIO_ACCESOS,\n        variables: { input },\n        fetchPolicy: \"network-only\",\n      });\n      if (response.data.obtenerAccesoPermiso.permiso_concedido === true) {\n        SwitchPermisos(response.data.obtenerAccesoPermiso.subDepartamento);\n        setAbrirPanelAcceso(false);\n        setLoading(false);\n        setAlert({\n          message: \"Permiso Autorizado\",\n          status: \"success\",\n          open: true,\n        });\n        setDatosUser([]);\n      }\n    } catch (error) {\n      setLoading(false);\n    }\n  };\n\n  const SwitchPermisos = (subDepartamento) => {\n    switch (subDepartamento) {\n      case \"administrador\":\n        setReloadAdministrador(true);\n        break;\n      case \"producto_rapido\":\n        setReloadProductoRapido(true);\n        break;\n      case \"cancelar_venta\":\n        setReloadCancelarVenta(true);\n        break;\n      case \"precios_productos\":\n        setReloadVerPrecios(true);\n        break;\n      case \"pre_corte\":\n        setReloadVerPreCorte(true);\n        break;\n      case \"cotizaciones\":\n        setReloadEliminarVentaEspera(true);\n        break;\n      case \"eliminar_ventas\":\n        setReloadCrearCotizacion(true);\n        break;\n      default:\n        setAlert({\n            message: \"Permiso no autorizado\",\n            status: \"error\",\n            open: true,\n        });\n        break;\n    }\n  };\n\n  return (\n    <Fragment>\n      <Dialog\n        maxWidth=\"xs\"\n        open={abrirPanelAcceso}\n        onClose={handleClickClose}\n        TransitionComponent={Transition}\n      >\n        <BackdropComponent loading={loading} />\n        <Box p={3}>\n          <Box p={1}>\n            <Typography variant=\"h6\">\n              <b>Por favor autoriza con tu usuario y contrasea</b>\n            </Typography>\n          </Box>\n          <div className={classes.formInputFlex}>\n            <Box width=\"100%\">\n              <Typography>\n                <b>Numero Usuario:</b>\n              </Typography>\n              <Box display=\"flex\">\n                <TextField\n                  fullWidth\n                  name=\"numero_usuario\"\n                  size=\"small\"\n                  variant=\"outlined\"\n                  onChange={obtenerDatos}\n                />\n              </Box>\n            </Box>\n          </div>\n          <div className={classes.formInputFlex}>\n            <Box width=\"100%\">\n              <Typography>\n                <b>Contrasena:</b>\n              </Typography>\n              <Box display=\"flex\">\n                <TextField\n                  fullWidth\n                  size=\"small\"\n                  type=\"password\"\n                  name=\"password\"\n                  variant=\"outlined\"\n                  onChange={obtenerDatos}\n                />\n              </Box>\n            </Box>\n          </div>\n        </Box>\n        <DialogActions>\n          <Button\n            color=\"primary\"\n            size=\"medium\"\n            variant=\"outlined\"\n            onClick={() => obtenerQuery()}\n          >\n            Aceptar\n          </Button>\n          <Button\n            color=\"secondary\"\n            size=\"medium\"\n            variant=\"outlined\"\n            onClick={handleClickClose}\n          >\n            Cancelar\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </Fragment>\n  );\n}\n","import React, { useContext, useEffect, useState } from \"react\";\nimport {\n  AppBar,\n  Backdrop,\n  Badge,\n  Box,\n  Button,\n  CircularProgress,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  makeStyles,\n  Slide,\n  Tab,\n  Tabs,\n  Typography,\n} from \"@material-ui/core\";\nimport PropTypes from \"prop-types\";\nimport RegistroInfoAdidional from \"../../sucursales/Catalogos/Producto/PreciosVenta/registrarInfoAdicional\";\nimport RegistroInformacionRapido from \"./RegistroInformacionRapido\";\nimport { Close, NavigateBefore, NavigateNext } from \"@material-ui/icons\";\nimport DoneIcon from \"@material-ui/icons/Done\";\nimport {\n  initial_state_datos_generales,\n  initial_state_precios,\n  initial_state_preciosP,\n  initial_state_unidadVentaXDefecto,\n  initial_state_presentaciones\n} from \"../../../context/Catalogos/initialStatesProducto\";\nimport { cleanTypenames } from '../../../config/reuserFunctions';\nimport TallasColoresRapidos from \"./TallasColoresRapidos/TallasColoresRapidos\";\nimport { RegProductoContext } from \"../../../context/Catalogos/CtxRegProducto\";\nimport { useMutation, useQuery } from \"@apollo/client\";\nimport { CREAR_PRODUCTO_RAPIDO, OBTENER_CONSULTAS } from \"../../../gql/Catalogos/productos\";\nimport { VentasContext } from \"../../../context/Ventas/ventasContext\";\nimport Acceso from \"../../../components/AccesosPassword/Acceso\";\nimport { AccesosContext } from \"../../../context/Accesos/accesosCtx\";\n\nfunction TabPanel(props) {\n  const { children, value, index, ...other } = props;\n\n  return (\n    <div\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`tabpanel-reg-product-${index}`}\n      aria-labelledby={`reg-product-tab-${index}`}\n      {...other}\n    >\n      {value === index && (\n        <Box p={3} height=\"70vh\">\n          {children}\n        </Box>\n      )}\n    </div>\n  );\n}\n\nTabPanel.propTypes = {\n  children: PropTypes.node,\n  index: PropTypes.any.isRequired,\n  value: PropTypes.any.isRequired,\n};\n\nfunction a11yProps(index) {\n  return {\n    id: `reg-product-tab-${index}`,\n    \"aria-controls\": `tabpanel-reg-product-${index}`,\n  };\n}\n\nconst useStyles = makeStyles((theme) => ({\n  formInputFlex: {\n    display: \"flex\",\n    \"& > *\": {\n      margin: `${theme.spacing(1)}px ${theme.spacing(2)}px`,\n    },\n  },\n  iconSizeDialogs: {\n    width: 80,\n  },\n  formInput: {\n    margin: `${theme.spacing(1)}px ${theme.spacing(2)}px`,\n  },\n  root: {\n    flexGrow: 1,\n    width: \"100%\",\n    backgroundColor: theme.palette.background.paper,\n  },\n  iconSvg: {\n    width: 50,\n  },\n  dialogContent: {\n    padding: 0,\n  },\n  backdrop: {\n    zIndex: theme.zIndex.drawer + 1,\n    color: \"#fff\",\n  },\n  iconSizeSecondSuperior: {\n\t\twidth: 20,\n\t},\n}));\n\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function ArticuloRapido() {\n  const classes = useStyles();\n  const [value, setValue] = useState(0);\n  const [ cargando, setCargando ] = useState(false);\n\n  const {\n    datos_generales,\n    setDatosGenerales,\n    precios,\n    setPrecios,\n    validacion,\n    setValidacion,\n    setPreciosP,\n    preciosP,\n    unidadesVenta,\n    setUnidadesVenta,\n    unidadVentaXDefecto,\n    setUnidadVentaXDefecto,\n    setCentroDeCostos,\n    presentaciones,\n    setPresentaciones,\n  } = useContext(RegProductoContext);\n\n  const { \n    setAlert, \n    open, \n    setOpen\n  } = useContext(VentasContext);\n\n  const { \n    reloadProductoRapido, \n    setReloadProductoRapido,\n    setAbrirPanelAcceso,\n    setDepartamentos\n  } = useContext(AccesosContext);\n\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n  const [ crearProductoRapido ] = useMutation(CREAR_PRODUCTO_RAPIDO);\n\n  const { data, refetch, loading } = useQuery(OBTENER_CONSULTAS, {\n    variables: { empresa: sesion.empresa._id, sucursal: sesion.sucursal._id },\n  });\n\n  const resetInitialStates = () => {\n    setDatosGenerales(initial_state_datos_generales);\n    setPrecios(initial_state_precios);\n    setUnidadVentaXDefecto(initial_state_unidadVentaXDefecto);\n    setPreciosP(initial_state_preciosP);\n    setUnidadesVenta([]);\n    setCentroDeCostos({});\n    setValidacion({ error: false, message: \"\" });\n    setPresentaciones([]);\n    setValue(0);\n  };\n  \n  const [ abrirTallaColor, setAbrirTallaColor ] = useState(false);\n\n  const [ cantidad, setCantidad ] = useState(0);\n\n  const handleClickOpen = () => {\n    setOpen(!open);\n    resetInitialStates();\n    setAbrirTallaColor(false);\n\t};\n\n  const AceesoProductoRapido = () => {\n\t\tif(sesion.accesos.ventas.producto_rapido.ver === true){\n      handleClickOpen();\n    }else{\n      setAbrirPanelAcceso(true);\n      setDepartamentos({\n        departamento: 'ventas', \n        subDepartamento: 'producto_rapido', \n        tipo_acceso: 'ver'\n      });\n\t\t}\n\t};\n\n  useEffect(() => {\n    if(reloadProductoRapido === true){\n      handleClickOpen();\n      setReloadProductoRapido(false);\n    }\n  }, [reloadProductoRapido]);\n\n  useEffect(() => {\n    return () => {\n      refetch();\n    };\n  }, []);\n\n  if(loading || !data) { return null }\n  if (loading)\n  return (\n    <Box\n      display=\"flex\"\n      flexDirection=\"column\"\n      justifyContent=\"center\"\n      alignItems=\"center\"\n      height=\"80vh\"\n    >\n      <CircularProgress />\n      <Typography variant=\"h6\">Cargando...</Typography>\n    </Box>\n  );\n\n  const { obtenerConsultasProducto } = data;\n\n  const handleChange = (event, newValue) => {\n    setValue(newValue);\n  };\n\n  window.addEventListener('keydown', Mi_funcin); \n  function Mi_funcin(e){\n    if(e.altKey && e.keyCode === 65){ \n        handleClickOpen();\n    } \n  };\n\n  const saveData = async () => {\n    setCargando(true);\n    if (datos_generales.tipo_producto === 'OTROS' && cantidad < 1) {\n        return setValidacion(true);\n    }else{\n      if (\n        !datos_generales.clave_alterna ||\n        !datos_generales.tipo_producto ||\n        !datos_generales.nombre_generico ||\n        !datos_generales.nombre_comercial ||\n        !precios.precio_de_compra.precio_con_impuesto ||\n        !precios.precio_de_compra.precio_sin_impuesto ||\n        !precios.unidad_de_compra.cantidad\n      ){\n        return setValidacion(true);\n      }\n    }\n    if (unidadesVenta.length === 0) {\n      unidadesVenta.push(unidadVentaXDefecto);\n    } else {\n      const unidadxdefecto = unidadesVenta.filter(\n        (unidades) => unidades.default\n      );\n      if (unidadxdefecto.length === 0) unidadesVenta.push(unidadVentaXDefecto);\n    }\n    precios.precios_producto = preciosP;\n\n    if (datos_generales.tipo_producto === 'OTROS' && cantidad < 1) {\n        setPresentaciones(initial_state_presentaciones)\n        setCantidad(0)\n    };\n\n    const data = {\n      datos_generales,\n      precios,\n      unidades_de_venta: unidadesVenta,\n      presentaciones,\n      cantidad,\n      empresa: sesion.empresa._id,\n      sucursal: sesion.sucursal._id,\n      usuario: sesion._id,\n    };\n    \n    try {\n      const input = cleanTypenames(data);\n      const result = await crearProductoRapido({\n        variables: {\n          input\n        }\n      });\n      resetInitialStates();\n      refetch();\n      setAlert({\n        message: `Listo ${result.data.crearProductoRapido.message}!`,\n        status: \"success\",\n        open: true,\n      });\n      setCargando(false);\n      handleClickOpen();\n    } catch (error) {\n      resetInitialStates();\n      refetch();\n      setAlert({\n        message: `Error: ${error.message}`,\n        status: \"error\",\n        open: true,\n      });\n      setCargando(false);\n      handleClickOpen();\n    }\n  };\n\n  const saveButton = (\n    <Button\n      variant=\"contained\"\n      color=\"primary\"\n      onClick={() => saveData()}\n      size=\"large\"\n      startIcon={<DoneIcon />}\n      disabled={\n       datos_generales.tipo_producto === 'OTROS' ? (\n            !datos_generales.clave_alterna ||\n            !datos_generales.tipo_producto ||\n            !datos_generales.nombre_generico ||\n            !datos_generales.nombre_comercial ||\n            !cantidad ||\n            !precios.precio_de_compra.precio_con_impuesto ||\n            !precios.precio_de_compra.precio_sin_impuesto ||\n            !precios.unidad_de_compra.cantidad\n          ? true\n          : false\n        ):(\n            !datos_generales.clave_alterna ||\n            !datos_generales.tipo_producto ||\n            !datos_generales.nombre_generico ||\n            !datos_generales.nombre_comercial ||\n            !precios.precio_de_compra.precio_con_impuesto ||\n            !precios.precio_de_compra.precio_sin_impuesto ||\n            !precios.unidad_de_compra.cantidad\n          ? true\n          : false\n        )\n      }\n    >\n      Guardar\n    </Button>\n  );\n\n  const ButtonActions = () => {\n    if (value === 1) {\n      return saveButton;\n    } else {\n      if (datos_generales.tipo_producto === 'OTROS' || !datos_generales.tipo_producto) {\n        return saveButton;\n      }else{\n        return (\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={() => setValue(value + 1)}\n            size=\"large\"\n            endIcon={<NavigateNext />}\n            disableElevation\n          >\n            Siguiente\n          </Button>\n        );\n      }\n\n    }\n  };\n\n  return (\n    <>\n\t\t\t<Acceso/>\n      <Button\n        onClick={() =>{AceesoProductoRapido()}}\n        value=\"articulo-rapido\"\n        style={{textTransform: 'none', height: '100%', width: '60%'}}\n      >\n        <Box display=\"flex\" flexDirection=\"column\">\n\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n          <img \n            src=\"https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/tiempo-rapido.svg\" \n            alt=\"icono caja2\" \n            className={classes.iconSizeSecondSuperior} \n          />\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box>\n              <Typography variant=\"body2\" >\n                  <b>Producto Rapido</b>\n              </Typography>\n          </Box>\n          <Box>\n              <Typography variant=\"caption\" style={{color: '#808080'}} >\n                  <b>Alt + A</b>\n              </Typography>\n          </Box>\n\t\t\t\t</Box>\n      </Button>\n      <Dialog\n\t\t\t\tmaxWidth='lg'\n\t\t\t\topen={open} \n\t\t\t\tonClose={handleClickOpen} \n\t\t\t\tTransitionComponent={Transition}\n\t\t\t>\n        <AppBar position=\"static\" color=\"default\" elevation={0}>\n          <Box display=\"flex\" justifyContent=\"space-between\">\n            <Tabs\n              value={value}\n              onChange={handleChange}\n              variant=\"scrollable\"\n              scrollButtons=\"on\"\n              indicatorColor=\"primary\"\n              textColor=\"primary\"\n              aria-label=\"scrollable force tabs example\"\n            >\n              <Tab\n                label=\"Datos generales\"\n                icon={\n                  <Badge\n                    color=\"secondary\"\n                    badgeContent={<Typography variant=\"h6\">!</Typography>}\n                    anchorOrigin={{\n                      vertical: \"bottom\",\n                      horizontal: \"right\",\n                    }}\n                    invisible={\n                      validacion.error && validacion.vista1 ? false : true\n                    }\n                  >\n                    <img\n                      src=\"https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/portapapeles.svg\"\n                      alt=\"icono registro\"\n                      className={classes.iconSvg}\n                    />\n                  </Badge>\n                }\n                {...a11yProps(0)}\n              />\n              {\n                 abrirTallaColor === false  || datos_generales.tipo_producto === 'OTROS' ? (\n                  null\n                ) :(\n                  <Tab\n                    label=\"Tallas y colores\"\n                    icon={\n                      <Badge\n                        color=\"secondary\"\n                        badgeContent={<Typography variant=\"h6\">!</Typography>}\n                        anchorOrigin={{\n                          vertical: \"bottom\",\n                          horizontal: \"right\",\n                        }}\n                        invisible={\n                            validacion.error && validacion.vista7 ? false : true\n                        }\n                      >\n                        <img\n                          src=\"https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/tallas-colores.svg\"\n                          alt=\"icono colores\"\n                          className={classes.iconSvg}\n                        />\n                      </Badge>\n                    }\n                    {...a11yProps(6)}\n                  />\n                )\n              }\n            </Tabs>\n          </Box>\n        </AppBar>\n        <DialogContent className={classes.dialogContent}>\n          <Backdrop className={classes.backdrop} open={cargando}>\n            <CircularProgress color=\"inherit\" />\n          </Backdrop>\n          <div className={classes.root}>\n            <TabPanel value={value} index={0}>\n              <RegistroInformacionRapido \n                setAbrirTallaColor={setAbrirTallaColor} \n                setCantidad={setCantidad} \n                cantidad={cantidad} \n                obtenerConsultasProducto={obtenerConsultasProducto}\n                refetch={refetch}\n              />\n              <RegistroInfoAdidional />\n            </TabPanel>\n            <TabPanel value={value} index={1}>\n              <TallasColoresRapidos\n                obtenerConsultasProducto={obtenerConsultasProducto}\n                refetch={refetch}\n              />\n            </TabPanel>\n          </div>\n        </DialogContent>\n        <DialogActions style={{ display: \"flex\", justifyContent: \"center\" }}>\n          <Button\n            variant=\"outlined\"\n            color=\"primary\"\n            onClick={() => setValue(value - 1)}\n            size=\"large\"\n            startIcon={<NavigateBefore />}\n            disabled={value === 0}\n          >\n            Anterior\n          </Button>\n          <Button\n            variant=\"outlined\"\n            color=\"inherit\"\n            onClick={() => {\n              handleClickOpen() \n              resetInitialStates()\n            }}\n            size=\"large\"\n            startIcon={<Close />}\n            disableElevation\n          >\n            Cancelar\n          </Button>\n          <ButtonActions />\n        </DialogActions>\n\t\t\t</Dialog>\n    </>\n  );\n}\n","import React from 'react'\nimport { RegProductoProvider } from '../../../context/Catalogos/CtxRegProducto'\nimport ArticuloRapido from './ArticuloRapido'\n \nexport default function ProductoRapidoIndex({handleClickOpen}){\n\n    return (\n        <RegProductoProvider>\n            <ArticuloRapido handleClickOpen={handleClickOpen} />\n        </RegProductoProvider>\n    )\n}","import React, { useState, useContext, Fragment, useEffect} from 'react';\nimport { Divider, BottomNavigation, Button } from '@material-ui/core';\nimport {  Avatar, Box, Typography } from '@material-ui/core';\nimport { withRouter } from 'react-router';\nimport { FaPowerOff } from 'react-icons/fa';\nimport useStyles from './styles';\nimport moment from 'moment';\nimport 'moment/locale/es';\n\nimport DepositoRetiroCaja from '../../pages/ventas/Operaciones/DepositoRetiroCaja';\nimport Turnos from '../../pages/ventas/AbrirCerrarTurno/Turnos';\nimport PreCorteCaja from '../../pages/ventas/Operaciones/PreCorteCaja';\nimport Cotizacion from '../../pages/ventas/Cotizacion/Cotizacion';\nimport VentaEnEspera from '../../pages/ventas/Operaciones/VentaEnEspera';\nimport ProductoRapidoIndex from '../../pages/ventas/ArticuloRapido/indexArticuloRapido';\n\nimport SnackBarMessages from '../SnackBarMessages';\nimport { VentasContext } from '../../context/Ventas/ventasContext';\nimport Acceso from '../AccesosPassword/Acceso';\nimport { AccesosContext } from '../../context/Accesos/accesosCtx';\n\nfunction NavegacionVentas(props) {\n\n\tconst { \n\t\talert, \n\t\tsetAlert, \n\t\tabrirTurnosDialog, \n\t\tsetAbrirTurnosDialog, \n\t\tsetUbicacionTurno,\n\t} = useContext(VentasContext);\n\n\tconst { \n\t\treloadAdministrador, \n        setReloadAdministrador,\n\t\tsetAbrirPanelAcceso,\n\t\tabrirPanelAcceso,\n\t\tsetDepartamentos\n\t} = useContext(AccesosContext);\n\n\tconst classes = useStyles();\n\tconst [ value, setValue ] = useState('venta-general');\n    const sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\tconst turnoEnCurso = JSON.parse(localStorage.getItem('turnoEnCurso'));\n\n\tmoment.locale('es');\n\n\tconst signOut = () => {\n\t\tif (sesion.turno_en_caja_activo === true && turnoEnCurso) {\n\t\t\tsetAbrirTurnosDialog(!abrirTurnosDialog);\n\t\t\tsetUbicacionTurno('SESION');\n\t\t}else{\n\t\t\tlocalStorage.removeItem('sesionCafi');\n\t\t\tlocalStorage.removeItem('tokenCafi');\n            localStorage.removeItem('DatosVentas');\n\t\t\tlocalStorage.removeItem('turnoEnCurso');\n\t\t\tlocalStorage.removeItem('ListaEnEspera');\n\t\t\tprops.history.push('/');\n\t\t}\n\t};\n\n\tfunction Mi_funcin(e){\n\t\tif( e.keyCode === 112){ \n\t\t\tprops.history.push('/admin');\n\t\t}\n\t\tif( e.keyCode === 115){ \n\t\t\tprops.history.push('/');\n\t\t}\n\t};\n\n\tfunction Administrador() {\n\t\tif(sesion.accesos.ventas.administrador.ver === true){\n\t\t\tprops.history.push('/admin');\n\t\t}else{\n\t\t\tsetAbrirPanelAcceso(!abrirPanelAcceso);\n\t\t\tsetDepartamentos({departamento: 'ventas', subDepartamento: 'administrador', tipo_acceso: 'ver'})\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tif (reloadAdministrador === true) {\t\t\t\n\t\t\tprops.history.push('/admin');\t\n\t\t\tsetReloadAdministrador(false);\n\t\t}\n\t}, [reloadAdministrador]);\n\n\twindow.addEventListener('keydown', Mi_funcin); \n\n\treturn (\n\t\t<Fragment>\n\t\t\t<Acceso setReloadAdministrador={setReloadAdministrador} />\n\t\t\t<SnackBarMessages alert={alert} setAlert={setAlert} />\n\t\t\t\t<BottomNavigation\n\t\t\t\t\tvalue={value}\n\t\t\t\t\tonChange={(event, newValue) => {\n\t\t\t\t\t\tsetValue(newValue);\n\t\t\t\t\t}}\n\t\t\t\t\tshowLabels\n\t\t\t\t\tclassName={classes.navigationTop}\n\t\t\t\t>\n\t\t\t\t\t<ProductoRapidoIndex />\n\t\t\t\t\t\t<Divider orientation=\"vertical\" />\n\t\t\t\t\t<Cotizacion /> \n\t\t\t\t\t\t<Divider orientation=\"vertical\" />\n\t\t\t\t\t<DepositoRetiroCaja />\n\t\t\t\t\t\t<Divider orientation=\"vertical\" />\n\t\t\t\t\t<Turnos />\n\t\t\t\t\t\t<Divider orientation=\"vertical\" />\n\t\t\t\t\t<PreCorteCaja />\n\t\t\t\t\t\t<Divider orientation=\"vertical\" />\n\t\t\t\t\t<VentaEnEspera />\n\t\t\t\t\t\t<Divider orientation=\"vertical\" />\n\t\t\t\t\t<Button\n\t\t\t\t\t\tonClick={() => Administrador()}\n\t\t\t\t\t\tstyle={{textTransform: 'none', height: '100%', width: '60%'}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Box display=\"flex\" flexDirection=\"column\">\n\t\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t\t<img \n\t\t\t\t\t\t\t\t\tsrc='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/ventas/admin.svg' \n\t\t\t\t\t\t\t\t\talt=\"icono admin\" \n\t\t\t\t\t\t\t\t\tclassName={classes.iconSizeSecondSuperior} \n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t\t<Typography variant=\"body2\" >\n\t\t\t\t\t\t\t\t\t<b>Administrador</b>\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t\t<Typography variant=\"caption\" style={{color: '#808080'}} >\n\t\t\t\t\t\t\t\t\t<b>F1</b>\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Divider orientation=\"vertical\" />\n\t\t\t\t\t<Button\n\t\t\t\t\t\tonClick={() =>{\n\t\t\t\t\t\t\tsignOut()\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tstyle={{textTransform: 'none', height: '100%', width: '40%'}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Box display=\"flex\" flexDirection=\"column\" style={{textTransform: 'none', height: '100%', width: '100%'}}>\n\t\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t\t<FaPowerOff className={classes.iconSizeSuperior} style={{color: 'red'}} />\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t\t<Typography variant=\"body2\" >\n\t\t\t\t\t\t\t\t\t<b>Salir</b>\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Box \n\t\t\t\t\t\tdisplay=\"flex\" \n\t\t\t\t\t\tjustifyContent=\"flex-end\"\n\t\t\t\t\t\tstyle={{height: '100%', width: '100%'}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Box mr={3} display=\"flex\" alignItems=\"center\">\n\t\t\t\t\t\t\t<Avatar alt=\"Remy Sharp\" srsc=\"/static/images/avatar/1.jpg\" className={classes.avatar} />\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t\t\t<Typography color=\"textSecondary\">{sesion?.nombre}</Typography>\n\t\t\t\t\t\t\t\t\t{!turnoEnCurso?.numero_caja ? (\n\t\t\t\t\t\t\t\t\t\t\"\"\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t<Typography color=\"textSecondary\">\n\t\t\t\t\t\t\t\t\t\t\t<b>Caja: </b>{turnoEnCurso?.numero_caja}\n\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box mr={3} display=\"flex\" alignItems=\"center\">\n\t\t\t\t\t\t\t<img src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/ventas/calendario.svg' alt=\"icono admin\" className={classes.avatar} />\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t\t\t<Typography color=\"textSecondary\">\n\t\t\t\t\t\t\t\t\t\t{moment().format('MM/DD/YYYY')}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t<Typography color=\"textSecondary\">\n\t\t\t\t\t\t\t\t\t\t<b>{moment().format('h:mm')} hrs.</b> \n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Box>\n\t\t\t\t</BottomNavigation>\n\t\t</Fragment>\n\t);\n}\n\nexport default withRouter(NavegacionVentas);","import React, { useState } from 'react';\nimport { Box, Button,  Dialog, DialogActions, DialogContent, Slide, Typography } from '@material-ui/core'\nimport useStyles from '../styles';\nimport { FcDonate } from 'react-icons/fc';\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function Abonos() {\n    const classes = useStyles();\n\n    const [open, setOpen] = useState(false);\n    const handleClickOpen = () => { \n\t\tsetOpen(!open);\n\t};\n    \n    window.addEventListener('keydown', Mi_funcin); \n    function Mi_funcin(e){\n        if(e.keyCode === 117){ \n            handleClickOpen();\n        } \n    };\n\n    return (\n        <>\n            <Button \n                className={classes.borderBotonChico}\n                onClick={handleClickOpen}\n            >\n                <Box>\n                    <Box>\n                        <FcDonate style={{fontSize: 35}} />\n                    </Box>\n                    <Box>\n                        <Typography variant=\"body2\" >\n                            <b>Abonos</b>\n                        </Typography>\n                    </Box>\n                    <Box>\n                        <Typography variant=\"caption\" style={{color: '#808080'}} >\n                            <b>F6</b>\n                        </Typography>\n                    </Box>\n                </Box>\n            </Button>\n            <Dialog\n\t\t\t\tmaxWidth='lg'\n\t\t\t\topen={open} \n\t\t\t\tonClose={handleClickOpen} \n\t\t\t\tTransitionComponent={Transition}\n\t\t\t>\n                <DialogContent>\n                    Abonitos\n                </DialogContent>\n                <DialogActions>\n\n                </DialogActions>\n\n            </Dialog>\n            \n        </>\n    )\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport { Box, CircularProgress } from '@material-ui/core';\n\nconst columns = [\n\t{ id: 'clave', label: 'Clave', minWidth: 40, align: 'center' },\n\t{ id: 'codigo', label: 'C. Barras', minWidth: 40, align: 'center' },\n\t{ id: 'descripcion', label: 'Nombre/Descrip.', minWidth: 330 },\n\t{ id: 'existencia', label: 'Exist.', minWidth: 30, align: 'center'},\n\t{ id: 'unidad', label: 'Unidad', minWidth: 30, align: 'center'},\n\t{ id: 'precio', label: 'Precio', minWidth: 30, align: 'center'},\n];\n\nconst useStyles = makeStyles({\n\troot: {\n\t\twidth: '100%',\n\t\tmarginTop: 15\n\t},\n\tcontainer: {\n\t\theight: '40vh'\n\t}\n});\n\nexport default function ListaProductos({\n\tproductosBusqueda, \n\tsetProductoSeleccionado, \n\tloading\n}) {\n\n\tconst classes = useStyles();\n\n\tif (loading)\n    return (\n      <Box\n        display=\"flex\"\n        flexDirection=\"column\"\n        justifyContent=\"center\"\n        alignItems=\"center\"\n        height=\"50vh\"\n      >\n        <CircularProgress />\n      </Box>\n    );\n\n\treturn (\n\t\t<Paper className={classes.root}>\n\t\t\t<TableContainer className={classes.container}>\n\t\t\t\t<Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t{columns.map((column) => (\n\t\t\t\t\t\t\t\t<TableCell key={column.id} align={column.align} style={{ width: column.minWidth }}>\n\t\t\t\t\t\t\t\t\t{column.label}\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t</TableHead>\n\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t{productosBusqueda.map((producto) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<RowsProductos \n\t\t\t\t\t\t\t\t\tproducto={producto}\n\t\t\t\t\t\t\t\t\tsetProductoSeleccionado={setProductoSeleccionado}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t\t</TableBody>\n\t\t\t\t</Table>\n\t\t\t</TableContainer>\n\t\t</Paper>\n\t);\n};\n\nfunction RowsProductos({producto, setProductoSeleccionado}) {\n\n\treturn(\n\t\t<>\n\t\t\t<TableRow \n\t\t\t\thover \n\t\t\t\trole=\"checkbox\" \n\t\t\t\ttabIndex={-1} \n\t\t\t\tkey={producto._id}\n\t\t\t\tonClick={() => setProductoSeleccionado(producto)}\n\t\t\t>\n\t\t\t\t<TableCell align=\"center\" >\n\t\t\t\t\t{producto.id_producto.datos_generales.clave_alterna}\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t{producto.id_producto.datos_generales.codigo_barras}\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell >\n\t\t\t\t\t{producto.id_producto.datos_generales.nombre_comercial}\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t{producto.cantidad}\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t{producto.unidad}\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t{producto.precio}\n\t\t\t\t</TableCell>\n\t\t\t</TableRow>\n\t\t</>\t\n\t);\n\t\n}","import { gql } from \"@apollo/client\";\n\nexport const CONSULTA_PRODUCTOS = gql`\n  query ObtenerConsultaGeneralVentas($empresa: ID!, $sucursal: ID!) {\n    obtenerConsultaGeneralVentas(empresa: $empresa, sucursal: $sucursal) {\n      _id\n      precio\n      cantidad\n      concepto\n      unidad\n      unidad_principal\n      codigo_barras\n      descuento {\n        porciento\n        dinero_descontado\n        precio_con_descuento\n      }\n      descuento_activo\n      default\n      id_producto {\n        datos_generales {\n          nombre_comercial\n          codigo_barras\n          tipo_producto\n          clave_alterna\n        }\n      }\n      inventario_general {\n        cantidad_existente\n        unidad_inventario\n        cantidad_existente_maxima\n        unidad_maxima\n      }\n    }\n  }\n`;\n\nexport const CONSULTA_PRODUCTO_UNITARIO = gql`\n  query ObtenerUnProductoVentas(\n    $empresa: ID!\n    $sucursal: ID!\n    $datosProductos: ID!\n  ) {\n    obtenerUnProductoVentas(\n      empresa: $empresa\n      sucursal: $sucursal\n      datosProductos: $datosProductos\n    ) {\n      _id\n      precio\n      cantidad\n      concepto\n      unidad\n      unidad_principal\n      codigo_barras\n      codigo_unidad\n      precio_unidad {\n        numero_precio\n        precio_neto\n        precio_venta\n        iva_precio\n        ieps_precio\n        unidad_mayoreo\n        precio_general\n        cantidad_unidad\n        unidad_maxima\n      }\n      descuento {\n        cantidad_unidad\n        numero_precio\n        unidad_maxima\n        precio_general\n        precio_neto\n        precio_venta\n        iva_precio\n        ieps_precio\n        utilidad\n        dinero_descontado\n        porciento\n      }\n      medida {\n        talla\n        tipo\n        _id\n      }\n      color {\n        hex\n        nombre\n        _id\n      }\n      descuento_activo\n      default\n      id_producto {\n        imagenes {\n          url_imagen\n        }\n        _id\n        datos_generales {\n          nombre_comercial\n          codigo_barras\n          tipo_producto\n          clave_alterna\n          nombre_generico\n          descripcion\n          id_categoria\n          categoria\n          subcategoria\n          id_subcategoria\n          id_departamento\n          departamento\n          id_marca\n          marca\n          clave_producto_sat {\n            Name\n            Value\n          }\n          receta_farmacia\n        }\n        precios {\n          ieps\n          ieps_activo\n          inventario {\n            inventario_minimo\n            inventario_maximo\n            unidad_de_inventario\n            codigo_unidad\n          }\n          iva\n          iva_activo\n          monedero\n          monedero_electronico\n          precio_de_compra {\n            precio_con_impuesto\n            precio_sin_impuesto\n            iva\n            ieps\n          }\n          precios_producto {\n            numero_precio\n            precio_neto\n            iva_precio\n            ieps_precio\n            unidad_mayoreo\n            utilidad\n            precio_general\n            cantidad_unidad\n            unidad_maxima\n          }\n          unidad_de_compra {\n            cantidad\n            precio_unitario_con_impuesto\n            precio_unitario_sin_impuesto\n            unidad\n            codigo_unidad\n          }\n        }\n      }\n      inventario_general {\n        cantidad_existente\n        unidad_inventario\n        cantidad_existente_maxima\n        unidad_maxima\n        codigo_unidad\n      }\n    }\n  }\n`;\n\nexport const CONSULTA_PRODUCTOS_VENTAS = gql`\n  query ObtenerProductosVentas(\n    $empresa: ID!\n    $sucursal: ID!\n    $input: ObtenerProductosVentasInput\n  ) {\n    obtenerProductosVentas(\n      empresa: $empresa\n      sucursal: $sucursal\n      input: $input\n    ) {\n      _id\n      precio\n      cantidad\n      concepto\n      unidad\n      unidad_principal\n      codigo_barras\n      descuento {\n        porciento\n        dinero_descontado\n        precio_con_descuento\n      }\n      descuento_activo\n      default\n      id_producto {\n        imagenes {\n          url_imagen\n        }\n        _id\n        datos_generales {\n          nombre_comercial\n          codigo_barras\n          tipo_producto\n          clave_alterna\n        }\n        precios {\n          ieps\n          ieps_activo\n          inventario {\n            inventario_minimo\n            inventario_maximo\n            unidad_de_inventario\n          }\n          iva\n          iva_activo\n          monedero\n          monedero_electronico\n          precio_de_compra {\n            precio_con_impuesto\n            precio_sin_impuesto\n            iva\n            ieps\n          }\n          precios_producto {\n            numero_precio\n            precio_neto\n            unidad_mayoreo\n            utilidad\n          }\n          unidad_de_compra {\n            cantidad\n            precio_unitario_con_impuesto\n            precio_unitario_sin_impuesto\n            unidad\n          }\n        }\n      }\n      inventario_general {\n        cantidad_existente\n        unidad_inventario\n        cantidad_existente_maxima\n        unidad_maxima\n      }\n    }\n  }\n`;\n\nexport const OBTENER_CLIENTES_VENTAS = gql`\n  query ObtenerClientesVentas($empresa: ID!, $sucursal: ID!) {\n    obtenerClientesVentas(empresa: $empresa, sucursal: $sucursal) {\n      numero_cliente\n      clave_cliente\n      nombre_cliente\n      rfc\n      curp\n      telefono\n      celular\n      email\n      numero_descuento\n      limite_credito\n      dias_credito\n      razon_social\n      direccion {\n        calle\n        no_ext\n        no_int\n        codigo_postal\n        colonia\n        municipio\n        localidad\n        estado\n        pais\n      }\n      imagen\n      banco\n      numero_cuenta\n      monedero_electronico\n      credito_disponible\n    }\n  }\n`;\n\nexport const CREAR_VENTA = gql`\n  mutation createVenta(\n    $input: CrearVentasInput!\n    $empresa: ID!\n    $sucursal: ID!\n    $usuario: ID!\n    $caja: ID!\n  ) {\n    createVenta(\n      input: $input\n      empresa: $empresa\n      sucursal: $sucursal\n      usuario: $usuario\n      caja: $caja\n    ) {\n      message\n    }\n  }\n`;\n","import React from 'react';\nimport useStyles from '../styles';\n\nimport {\n    TableContainer,\n    Table,\n    Box,\n    TableHead,\n    TableRow,\n    TableCell,\n    TableBody,\n    Grid,\n    Typography} from '@material-ui/core'\n\nexport default function InformacionProducto({productoSeleccionado}) {\n\n    const classes = useStyles();\n\n    if (!productoSeleccionado) return null;\n\n    return (\n        <Grid container>\n            <Grid item lg={12}>\n                <div className={classes.formInputFlex}>\n                    <Box width=\"100%\">\n                        <Typography>\n                            <b>Nombre:</b>\n                        </Typography>\n                        <Box display=\"flex\">\n                            <Typography>\n                                {productoSeleccionado?.id_producto?.datos_generales?.nombre_comercial}\n                            </Typography>\n                        </Box>\n                    </Box>\n                    <Box width=\"100%\">\n                        <Typography>\n                            <b>Codigo Barras:</b>\n                        </Typography>\n                        <Box display=\"flex\">\n                            <Typography>\n                                {productoSeleccionado?.codigo_barras}\n                            </Typography>\n                        </Box>\n                    </Box>\n                    <Box width=\"70%\">\n                        <Typography>\n                            <b>Cantidad:</b>\n                        </Typography>\n                        <Box display=\"flex\">\n                            <Typography>\n                                {productoSeleccionado?.cantidad}\n                            </Typography>\n                        </Box>\n                    </Box>\n                    <Box width=\"70%\">\n                        <Typography>\n                            <b>Unidad:</b>\n                        </Typography>\n                        <Box display=\"flex\">\n                            <Typography>\n                                {productoSeleccionado?.unidad}\n                            </Typography>\n                        </Box>\n                    </Box>\n                    <Box width=\"70%\">\n                        <Typography>\n                            <b>Descuento:</b>\n                        </Typography>\n                        <Box display=\"flex\">\n                            <Typography>\n                                {productoSeleccionado?.descuento ? productoSeleccionado?.descuento.precio_neto : 0}\n                            </Typography>\n                        </Box>\n                    </Box>\n                    <Box width=\"70%\">\n                        <Typography>\n                            <b>% Descuento:</b>\n                        </Typography>\n                        <Box display=\"flex\">\n                            <Typography>\n                                {productoSeleccionado?.descuento ? productoSeleccionado?.descuento.precio_neto : 0}\n                            </Typography>\n                        </Box>\n                    </Box>\n                </div>\n            </Grid>\n            <Grid item lg={12}>\n                <PreciosDeVentaCompras precios={productoSeleccionado?.id_producto?.precios?.precios_producto} />\n            </Grid>\n        </Grid>\n    )\n}\n\n\nfunction PreciosDeVentaCompras({precios}) {\n\n    return (\n      <div>\n        <TableContainer>\n          <Table aria-label=\"simple table\" size=\"small\">\n            <TableHead>\n              <TableRow>\n                <TableCell style={{ minWidth: 150 }}>Precios de venta</TableCell>\n                {[1, 2, 3, 4, 5, 6].map((numero, index) => (\n                  <TableCell style={{ minWidth: 100 }} key={index}>\n                    {numero}\n                  </TableCell>\n                ))}\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {[\"Precio de venta\"].map((tipo, index) => (\n                <TableRow key={index}>\n                  <TableCell style={{ border: 0 }}>\n                    <b>{tipo}</b>\n                  </TableCell>\n                  {precios?.map((data, index) => (\n                    <TableCell key={index} style={{ border: 0 }}>{data?.precio_neto}</TableCell>\n                  ))}\n                </TableRow>\n              ))}\n            </TableBody>\n          </Table>\n        </TableContainer>\n      </div>\n    );\n  }\n","import React, { useState } from 'react';\nimport { Box, Button, DialogActions, Dialog, \n        DialogContent, Divider, Grid, \n        Typography, Slide, InputBase, Paper, \n        IconButton} from '@material-ui/core'\nimport PhotoLibraryIcon from '@material-ui/icons/PhotoLibrary';\nimport useStyles from '../styles';\nimport { useDebounce } from 'use-debounce/lib';\nimport { FcSearch } from 'react-icons/fc';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { Search } from '@material-ui/icons';\nimport ListaProductos from './ListaProductos';\nimport { useQuery } from '@apollo/client';\nimport { CONSULTA_PRODUCTOS_VENTAS } from '../../../gql/Ventas/ventas_generales';\nimport InformacionProducto from './InformacionProducto';\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function BuscarProducto() {\n    const classes = useStyles();\n    const sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\n    const [open, setOpen] = useState(false);\n    const [ searchProducto, setSearchProducto ] = useState([]);\n    const [ productoSeleccionado, setProductoSeleccionado ] = useState([]);\n    \n\tconst [ value ] = useDebounce(searchProducto, 500);\n\n    const { data, refetch, loading } = useQuery(CONSULTA_PRODUCTOS_VENTAS, {\n\t\tvariables: {\n            empresa: sesion.empresa._id,\n\t\t\tsucursal: sesion.sucursal._id,\n            input: {\n                producto: value.producto ? value.producto : \"\"\n            }\n\t\t}\n\t});\n    \n    let productosBusqueda = [];\n\n    if(data) productosBusqueda = data.obtenerProductosVentas;\n\n    const obtenerDatos = (e) => {\n        setSearchProducto({...searchProducto, [e.target.name]: e.target.value})\n    };\n\n    const keyUpEvent = async (e) => {\n        if (e.code === \"Enter\" || e.code === \"NumpadEnter\") {\n            setSearchProducto({...searchProducto, [e.target.name]: e.target.value});\n            refetch();\n        }   \n    };\n\n    const handleClickOpen = () => { \n        setProductoSeleccionado([]);\n        refetch();\n\t\tsetOpen(!open);\n\t};\n\n    window.addEventListener('keydown', Mi_funcin); \n    function Mi_funcin(e){\n        if(e.altKey && e.keyCode === 80){ \n            handleClickOpen();\n        }\n    };\n\n    return (\n        <>\n           <Button \n                className={classes.borderBotonChico}\n                onClick={handleClickOpen}\n            >\n                <Box>\n                    <Box>\n                        <FcSearch style={{fontSize: 45}} />\n                    </Box>\n                    <Box>\n                        <Typography variant=\"body2\" >\n                            <b>Productos</b>\n                        </Typography>\n                    </Box>\n                    <Box>\n                        <Typography variant=\"caption\" style={{color: '#808080'}} >\n                            <b>Alt + P</b>\n                        </Typography>\n                    </Box>\n                </Box>\n            </Button>\n            <Dialog\n\t\t\t\tmaxWidth='md'\n                fullWidth\n\t\t\t\topen={open} \n\t\t\t\tonClose={handleClickOpen} \n\t\t\t\tTransitionComponent={Transition}\n\t\t\t>\n                <DialogContent>\n                    <Grid container>\n                        <Grid item lg={3}>\n                            <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" width=\"100%\">\n                                {productoSeleccionado?.id_producto?.imagenes.length > 0 ? (\n                                    <Box className={classes.containerImage}>\n                                        <img \n                                            alt=\"Imagen producto\" \n                                            src={productoSeleccionado?.id_producto?.imagenes[0].url_imagen} \n                                            className={classes.imagen}\n                                        />\n                                    </Box>\n                                ) : (\n                                    <Box p={8} display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n                                        <PhotoLibraryIcon style={{fontSize: 40}} />\n                                    </Box>\n                                )}\n                            </Box>\n                        </Grid>\n                        <Grid item lg={9}>\n                            <Box display=\"flex\">\n                                <Box\n                                    display=\"flex\"\n                                    flexGrow={1}\n                                >\n                                    <Box>\n                                        <Typography variant=\"h6\">\n                                            Buscar Productos\n                                        </Typography>\n                                    </Box>\n                                </Box>\n                                <Box>\n                                    <Button variant=\"contained\" color=\"secondary\" onClick={handleClickOpen} size=\"large\">\n                                        <CloseIcon />\n                                    </Button>\n                                </Box>\n                            </Box>\n                            <div className={classes.formInputFlex}>\n                                <Box width=\"50%\">\n                                    <Paper className={classes.rootBusqueda}>\n                                        <InputBase\n                                            fullWidth\n                                            name=\"producto\"\n                                            placeholder=\"Buscar producto...\"\n                                            onChange={obtenerDatos}\n                                            onKeyUp={keyUpEvent}\n                                        />\n                                        <IconButton >\n                                            <Search />\n                                        </IconButton>\n                                    </Paper>\n                                </Box>\n                            </div>\n                        </Grid>\n                    </Grid>\n                    <InformacionProducto productoSeleccionado={productoSeleccionado} />\n                    <Grid>\n                        <ListaProductos \n                            productosBusqueda={productosBusqueda}\n                            setProductoSeleccionado={setProductoSeleccionado}\n                            loading={loading}\n                        />\n                    </Grid>\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={handleClickOpen} variant=\"contained\" color=\"primary\" size=\"large\">\n                        AGREGAR\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        </>\n    )\n};\n","import React, { useState } from 'react';\nimport {  Box, Button, Dialog, DialogContent,  Grid, IconButton, InputBase, makeStyles, Paper, Slide, Typography } from '@material-ui/core'\nimport { Search } from '@material-ui/icons';\nimport ListaClientes from '../../sucursales/Catalogos/Cliente/ListaClientes';\nimport CrearCliente from '../../sucursales/Catalogos/Cliente/CrearCliente';\nimport { ClienteProvider } from '../../../context/Catalogos/crearClienteCtx';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { FcBusinessman } from 'react-icons/fc';\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nconst useStyles = makeStyles((theme) => ({\n\tappBar: {\n\t\tposition: 'relative',\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n\ticon: {\n\t\tfontSize: 100\n\t},\n\troot: {\n\t\tdisplay: 'flex',\n\t\tpaddingLeft: theme.spacing(2)\n\t}\n}));\n\nexport default function ClientesVentas() {\n\n    const classes = useStyles();\n\t\n\tconst [ filtro, setFiltro ] = useState('');\n\tconst [ values, setValues ] = useState('');\n\n\tconst pressEnter = (e) => {\n\t\tif (e.key === 'Enter') setValues(e.target.defaultValue);\n\t};\n\n    const [open, setOpen] = useState(false);\n    \n    const handleClickOpen = () => { \n\t\tsetOpen(!open);\n\t};\n\n    window.addEventListener('keydown', Mi_funcin); \n    function Mi_funcin(e){\n        if(e.altKey && e.keyCode === 67){ \n            handleClickOpen();\n        } \n    };\n\n    return (\n        <>\n            <ClienteProvider>\n            <Button \n                style={{height: '100%', width: '100%', border: '.6px solid #DBDBDB'}}\n                onClick={handleClickOpen}\n            >\n                <Box>\n                    <Box> \n                        <FcBusinessman style={{ fontSize: 45 }}/>\n                    </Box>\n                    <Box>\n                        <Typography variant=\"body2\" >\n                            <b>Clientes</b>\n                        </Typography>\n                    </Box>\n                    <Box>\n                        <Typography variant=\"caption\" style={{color: '#808080'}} >\n                            <b>aLT + C</b>\n                        </Typography>\n                    </Box>\n                </Box>\n            </Button>\n            <Dialog\n                maxWidth='lg'\n                open={open} \n                onClose={handleClickOpen} \n                TransitionComponent={Transition}\n\t\t\t>\n                <DialogContent>\n                    <Grid container item lg={12}>\n                        <Box ml={3} display='flex' flexGrow={1}  alignItems='center'>\n                            <Box>\n                                <FcBusinessman  style={{fontSize: 65}} />\n                            </Box>\n                            <Typography variant=\"h6\" className={classes.title}>\n                                Clientes\n                            </Typography>\n                        </Box>\n                        <Box mr={2}>\n                            <Button variant=\"contained\" color=\"secondary\" onClick={handleClickOpen} size=\"large\">\n                                <CloseIcon style={{fontSize: 30}} />\n                            </Button>\n                        </Box>\n                    </Grid>\n                    <Box m={2} display=\"flex\" justifyContent=\"space-between\">\n                        <Box mr={5} minWidth=\"70%\">\n                            <Paper className={classes.root}>\n                                <InputBase\n                                    fullWidth\n                                    placeholder=\"Buscar cliente...\"\n                                    onChange={(e) => setValues(e.target.value)}\n                                    onKeyPress={pressEnter}\n                                    value={values}\n                                />\n                                <IconButton onClick={() => setValues(values)}>\n                                    <Search />\n                                </IconButton>\n                            </Paper>\n                        </Box>\n                        <CrearCliente tipo=\"CLIENTE\" accion=\"registrar\" ventas={true} handleClickOpen={handleClickOpen} />\n                    </Box>\n                    <Box mx={2}>\n                        <ListaClientes tipo=\"CLIENTE\" filtro={values} ventas={true} handleClickOpen={handleClickOpen} />\n                    </Box>\n                </DialogContent>\n            </Dialog>\n            </ClienteProvider>\n        </>\n    )\n}\n","import React, { useContext, useEffect, useState } from 'react';\nimport { Box, Button, Dialog, DialogActions, DialogContent, Divider, Grid, Slide, Typography } from '@material-ui/core'\nimport useStyles from '../styles';\nimport { AccesosContext } from '../../../context/Accesos/accesosCtx';\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function CancelarVenta() {\n    const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n    const classes = useStyles();\n    const [open, setOpen] = useState(false);\n\n    const { \n\t\treloadCancelarVenta, \n        setReloadCancelarVenta,\n\t\tsetAbrirPanelAcceso,\n        abrirPanelAcceso,\n\t\tsetDepartamentos\n\t} = useContext(AccesosContext);\n    \n    const handleClickOpen = () => {\n        if(sesion.accesos.ventas.cancelar_venta.ver === true){\n            setOpen(!open);\n        }else{\n\t\t\tsetAbrirPanelAcceso(!abrirPanelAcceso);\n\t\t\tsetDepartamentos({departamento: 'ventas', subDepartamento: 'cancelar_venta', tipo_acceso: 'ver'})\n\t\t}\n\t};\n    \n    window.addEventListener('keydown', Mi_funcin); \n    function Mi_funcin(e){\n        if(e.keyCode === 118){ \n            handleClickOpen();\n        } \n    };\n\n    useEffect(() => {\n\t\tif (reloadCancelarVenta === true) {\t\n            setOpen(!open);\n\t\t\tsetReloadCancelarVenta(false);\n\t\t}\n\t}, [reloadCancelarVenta]);\n    \n\n    return (\n        <>\n            <Button \n                className={classes.borderBotonChico}\n                onClick={handleClickOpen}\n            >\n                <Box>\n                    <Box>\n                        <img \n                            src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/ventas/shopping-cart.svg' \n                            alt=\"icono cancelarventa\" \n                            style={{width: 35}}\n                        />\n                    </Box>\n                    <Box>\n                        <Typography variant=\"body2\" >\n                            <b>Cancelar Venta</b>\n                        </Typography>\n                    </Box>\n                    <Box>\n                        <Typography variant=\"caption\" style={{color: '#808080'}} >\n                            <b>F7</b>\n                        </Typography>\n                    </Box>\n                </Box>\n            </Button>\n            <Dialog\n\t\t\t\tmaxWidth='lg'\n\t\t\t\topen={open} \n\t\t\t\tonClose={handleClickOpen} \n\t\t\t\tTransitionComponent={Transition}\n\t\t\t>\n                <DialogContent>\n                    <Grid container item lg={12}>\n                        <Box\n                            display=\"flex\"\n                            alignItems=\"center\"\n                            justifyContent=\"center\"\n                        >\n                            <Box>\n                                <img src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/ventas/shopping-cart.svg' alt=\"icono caja\" className={classes.iconSizeDialogs} />\n                            </Box>\n                            <Box m={2} >\n                                <Divider orientation=\"vertical\" />\n                            </Box>\n                            <Box>\n                                <Typography variant=\"h5\">\n                                    Cancelar Venta\n                                </Typography>\n                            </Box>\n                        </Box>\n                    </Grid>\n                    <Box p={2}>\n                        <Typography variant='h5'>\n                            Esta seguro que desea cancelar esta venta?\n                        </Typography>\n                    </Box> \n                </DialogContent>\n                <DialogActions>\n                    <Button \n                        onClick={()=>{\n                            localStorage.removeItem('DatosVentas');\n                            setOpen(!open);\n                        }} \n                        variant=\"contained\" \n                        color=\"primary\"\n                        size=\"large\"\n                        autoFocus\n                    >\n                        Aceptar\n                    </Button>\n                    <Button \n                        onClick={() => setOpen(!open)} \n                        variant=\"contained\" \n                        color=\"secondary\"\n                        size=\"large\"\n                        autoFocus\n                    >\n                        Cancelar\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        </>\n    )\n}\n","import React, { useState, useEffect } from \"react\";\nimport useStyles from \"../styles\";\n\nimport {\n  Box,\n  Button,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  Divider,\n  Grid,\n  IconButton,\n  Paper,\n  Slide,\n  TextField,\n  Typography,\n} from \"@material-ui/core\";\n// import tarjetaIcon from \"../../../icons/ventas/tarjeta-de-credito.svg\";\nimport { FcDonate, FcShop } from \"react-icons/fc\";\n// import { Search } from \"@material-ui/icons\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport CreditCardIcon from '@material-ui/icons/CreditCard';\nimport LocalOfferIcon from '@material-ui/icons/LocalOffer';\n\nimport ClearIcon from '@material-ui/icons/Clear';\n\nimport { Edit, ImportExport } from \"@material-ui/icons\";\n\nimport { FcBusinessman, FcSalesPerformance } from \"react-icons/fc\";\n// import { parse } from \"graphql\";\nimport { numerosRandom } from '../../../config/reuserFunctions';\nimport { formaPago } from '../../../pages/sucursales/Facturacion/catalogos';\n\nimport { CREAR_VENTA } from '../../../gql/Ventas/ventas_generales'; \nimport { useMutation } from \"@apollo/client\";\nimport moment from 'moment';\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function CerrarVenta() {\n  const classes = useStyles();\n  const [cambio, setCambio] = useState(false);\n\n  const abrirCajon = () => {\n    setCambio(!cambio);\n  };\n  const [open, setOpen] = useState(false);\n\n  const [openModalDescuento, setOpenModalDescuento] = useState(false);\n\n  const [totalVenta, setTotalVenta] = useState(0);\n  const [montoPagado, setMontoPagado] = useState(0);\n  const [cambioVenta, setCambioVenta] = useState(0);\n  const [datosCliente, setDatosCliente] = useState({});\n  const [monedero, setMonedero] = useState(0);\n  const [descuentoVenta, setDescuentoVenta] = useState(0);\n\n\n  const [fechaVencimientoDate, setfechaVencimientoDate] = useState('');\n\n  const [valorPuntoProducto, setValorPuntoProducto] = useState(0.5);\n\n  \n  const [monederoTotal, setMonederoTotal] = useState(0);\n  const [ventaActual, setVentaActual] = useState(0);\n\n  const [editableClient, setEditableClient] = useState(true);\n\n  const [visible, setVisible] = useState(false);\n\n\n  //States de los montos a pagar\n\n  const [efectivo, setEfectivo] = useState(0);\n  const [tarjeta, setTarjeta] = useState(0);\n  const [puntos, setPuntos] = useState(0);\n  const [transferencia, setTransferencia] = useState(0);\n  const [cheque, setCheque] = useState(0);\n\n  const [createVenta] = useMutation(CREAR_VENTA);\n\n  const handleClickOpen = () => {\n    const venta = JSON.parse(localStorage.getItem(\"DatosVentas\"));\n    setVentaActual(venta);\n    const total = venta === null ? 0 : venta.total;\n    const monederoVenta = venta === null ? 0 : venta.monedero;\n    const cliente = venta === null ? {} : venta.cliente;\n    console.log(monederoVenta);\n    // console.log(venta);\n    setTotalVenta(total.toFixed(2));\n    setEfectivo(total.toFixed(2));\n    setOpen(!open);\n    setDatosCliente(cliente);\n    setMonedero(parseFloat(monederoVenta));\n    setMonederoTotal(cliente.monedero_electronico === null ? parseFloat(monederoVenta) : parseFloat(cliente.monedero_electronico) + parseFloat(monederoVenta))\n    \n  };\n\n  function funcion_tecla(event) {\n    const tecla_escape = event.keyCode;\n    if (tecla_escape === 27) {\n      handleClickOpen();\n    }\n  }\n\n  const handleClickFinishVenta = async () => {\n    try {\n      const sesion = JSON.parse(localStorage.getItem(\"turnoEnCurso\"));\n      const usuario = JSON.parse(localStorage.getItem('sesionCafi'));\n\n      const ventaFinal = {...ventaActual};\n\n      //Generar folio\n      const folio = numerosRandom(100000000000,999999999999);\n      console.log(folio);\n      //Agregar los montos en caja\n      const montosEnCaja = {\n        monto_efectivo: {\n          monto: efectivo,\n          metodo_pago: formaPago[0].Value\n        },\n        monto_tarjeta_debito: {\n          monto: tarjeta,\n          metodo_pago: formaPago[3].Value\n        },\n        monto_tarjeta_credito: {\n          monto: 0,\n          metodo_pago: formaPago[3].Value\n        },\n        monto_creditos: {\n          monto: 0,\n          metodo_pago: \"\"\n        },\n        monto_monedero: {\n          monto: puntos,\n          metodo_pago: formaPago[4].Value\n        },\n        monto_transferencia: {\n          monto: transferencia,\n          metodo_pago: formaPago[2].Value\n        },\n        monto_cheques: {\n          monto: cheque,\n          metodo_pago: formaPago[1].Value\n        },\n        monto_vales_despensa: {\n          monto: 0,\n          metodo_pago: formaPago[6].Value\n        }\n      };\n      ventaFinal.folio = `${folio}`;\n      //Credito a credito false\n      ventaFinal.credito = false;\n      //Agregar descuentos de ventas\n      ventaFinal.descuento_general_activo = false;\n      ventaFinal.decuento_general = null;\n      //Declarar dias de credito como false\n      ventaFinal.dias_de_credito_venta = null;\n      ventaFinal.fecha_de_vencimiento_credito = null;\n      ventaFinal.fecha_vencimiento_cotizacion = null;\n      //Enviar los datos\n\n      console.log(ventaFinal);\n\n      const venta_realizada = await createVenta({\n        variables: {\n            input: ventaFinal,\n            empresa: sesion.empresa,\n            sucursal: sesion.sucursal,\n            usuario: usuario._id,\n            caja: sesion.id_caja\n        }\n      });\n\n      console.log(venta_realizada);\n\n      //Mandar mensaje de cambio en dado caso de ser correcto\n\n      //Mandar mensaje de error en dado caso de ser incorrecto\n\n      //Quitar informacion de localstorage de ventas (Resetear)\n\n      //cerrar modal de de finalizar venta\n\n      console.log(ventaActual);\n    } catch (error) {\n      console.log(error);\n      if(error.networkError.result){\n\t\t\t\tconsole.log(error.networkError.result.errors);\n\t\t\t}else if(error.graphQLErrors){\n\t\t\t\tconsole.log(error.graphQLErrors.message);\n\t\t\t}\n    }\n  }\n\n  const handlerChangeValue = (e, location) => {\n    switch (location) {\n      case \"EFECTIVO\":\n        setEfectivo(e.target.value);\n        break;\n      case \"TARJETA\":\n        setTarjeta(e.target.value);\n        break;\n\n      case \"PUNTOS\":\n        const valor = e.target.value != \"\" ? parseInt(e.target.value) : 0;\n        console.log(e.target.value, valor);\n        if(valor <= monederoTotal){\n          const valor2 = valorPuntoProducto * parseFloat(valor);\n          setPuntos(valor);\n          setValorPuntoProducto(valor2);\n          console.log(\"valor2 >>\" , valor2)\n        }\n        break;\n      case \"TRANSFERENCIA\":\n        setTransferencia(e.target.value);\n        break;\n      case \"CHEQUE\":\n        setCheque(e.target.value);\n        break;\n      default:\n        return alert(\"Error de pago\");\n    }\n  };\n\n  window.onkeydown = funcion_tecla;\n\n  console.log(fechaVencimientoDate);\n\n  useEffect(() => {\n    setfechaVencimientoDate(moment().add(datosCliente.dias_credito ? parseInt(datosCliente.dias_credito) : 0,'days').format('YYYY-MM-DD'));\n  }, [datosCliente, datosCliente.dias_credito]);\n\n\n  \n\n  useEffect(() => {\n    setMontoPagado(\n      parseFloat(efectivo) +\n        parseFloat(tarjeta) +\n        parseFloat(puntos) +\n        parseFloat(transferencia) +\n        parseFloat(cheque)\n    );\n  }, [efectivo, tarjeta, puntos, transferencia, cheque]);\n\n  useEffect(() => {\n    setCambioVenta(montoPagado - totalVenta);\n  }, [montoPagado]);\n\n  return (\n    <>\n      <Button className={classes.borderBotonChico} onClick={handleClickOpen}>\n        <Box>\n          <Box>\n            <img\n              src=\"https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/ventas/cart.svg\"\n              alt=\"icono ventas\"\n              style={{ width: 38 }}\n            />\n          </Box>\n          <Box>\n            <Typography variant=\"body2\">\n              <b>Pagar</b>\n            </Typography>\n          </Box>\n          <Box>\n            <Typography variant=\"caption\" style={{ color: \"#808080\" }}>\n              <b>ESC</b>\n            </Typography>\n          </Box>\n        </Box>\n      </Button>\n      <Dialog\n        maxWidth=\"lg\"\n        open={open}\n        onClose={handleClickOpen}\n        TransitionComponent={Transition}\n      >\n        <DialogContent>\n          <Grid container item lg={12} >\n            <Box display=\"flex\" justifyContent=\"center\" flexGrow={1}>\n              <Box>\n                <img\n                  src=\"https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/ventas/cart.svg\"\n                  alt=\"icono ventas\"\n                  className={classes.iconSizeDialogsPequeno}\n                />\n              </Box>\n              <Box m={2}>\n                <Divider orientation=\"vertical\" />\n              </Box>\n              <Box mt={1} textAlign=\"center\">\n                <Typography variant=\"h4\">Ticket</Typography>\n              </Box>\n            </Box>\n            <Box>\n              <Button\n                variant=\"contained\"\n                color=\"secondary\"\n                onClick={handleClickOpen}\n                size=\"large\"\n              >\n                <CloseIcon />\n              </Button>\n            </Box>\n          </Grid>\n          <Grid>\n            <div className={classes.formInputFlex}>\n              <Box width=\"25%\" textAlign=\"center\">\n                <Box>\n                  <img\n                    src=\"https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/ventas/money.svg\"\n                    alt=\"icono ventas\"\n                    className={classes.iconSizeDialogsPequeno}\n                    style={{ cursor: \"pointer\" }}\n                  />\n                </Box>\n                <Typography variant=\"caption\">Efectivo</Typography>\n                <Box display=\"flex\">\n                  <TextField\n                    fullWidth\n                    size=\"small\"\n                    name=\"efectivo\"\n                    id=\"form-producto-efectivo\"\n                    variant=\"outlined\"\n                    value={efectivo}\n                    onChange={(e) => handlerChangeValue(e, \"EFECTIVO\")}\n                  />\n                </Box>\n              </Box>\n              <Box width=\"25%\" textAlign=\"center\">\n                <Box>\n                  <img\n                    src=\"https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/ventas/tarjeta-de-credito.svg\"\n                    alt=\"icono ventas\"\n                    className={classes.iconSizeDialogsPequeno}\n                    style={{ cursor: \"pointer\" }}\n                  />\n                </Box>\n                <Typography variant=\"caption\">Tarjeta</Typography>\n                <Box display=\"flex\">\n                  <TextField\n                    fullWidth\n                    size=\"small\"\n                    name=\"codigo_barras\"\n                    id=\"form-producto-codigo-barras\"\n                    variant=\"outlined\"\n                    value={tarjeta}\n                    onChange={(e) => handlerChangeValue(e, \"TARJETA\")}\n                  />\n                </Box>\n              </Box>\n              <Box width=\"25%\" textAlign=\"center\">\n                <Box>\n                  <FcShop style={{ fontSize: 50, cursor: \"pointer\" }} />\n                </Box>\n                <Typography variant=\"caption\">Puntos</Typography>\n                <Box display=\"flex\">\n                  <TextField\n                    fullWidth\n                    size=\"small\"\n                    name=\"codigo_barras\"\n                    id=\"form-producto-codigo-barras\"\n                    variant=\"outlined\"\n                    value={puntos}\n                    onChange={(e) => handlerChangeValue(e, \"PUNTOS\")}\n                  />\n                </Box>\n              </Box>\n              <Box width=\"25%\" textAlign=\"center\">\n                <Box p={0}>\n                  <img\n                    src=\"https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/transferencia-bancaria.svg\"\n                    alt=\"icono ventas\"\n                    className={classes.iconSizeDialogsPequeno}\n                    style={{ cursor: \"pointer\" }}\n                  />\n                </Box>\n                <Typography variant=\"caption\">Transferencia</Typography>\n                <Box display=\"flex\">\n                  <TextField\n                    fullWidth\n                    size=\"small\"\n                    name=\"codigo_barras\"\n                    id=\"form-producto-codigo-barras\"\n                    variant=\"outlined\"\n                    value={transferencia}\n                    onChange={(e) => handlerChangeValue(e, \"TRANSFERENCIA\")}\n                  />\n                </Box>\n              </Box>\n              <Box width=\"25%\" textAlign=\"center\">\n                <Box p={0}>\n                  <img\n                    src=\"https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/cheque.png\"\n                    alt=\"icono ventas\"\n                    className={classes.iconSizeDialogsPequeno}\n                    style={{ cursor: \"pointer\" }}\n                  />\n                </Box>\n                <Typography variant=\"caption\">Cheque</Typography>\n                <Box display=\"flex\">\n                  <TextField\n                    fullWidth\n                    size=\"small\"\n                    name=\"codigo_barras\"\n                    id=\"form-producto-codigo-barras\"\n                    variant=\"outlined\"\n                    value={cheque}\n                    onChange={(e) => handlerChangeValue(e, \"CHEQUE\")}\n                  />\n                </Box>\n              </Box>\n            </div>\n            <div className={classes.formInputFlex}>\n              <Box width=\"70%\" textAlign=\"left\">\n                <Box display=\"flex\">\n                  <Box display=\"flex\" alignItems={\"center\"} mr={2}>\n                    <Box mt={0.5} mr={0.5}>\n                      <FcBusinessman style={{ fontSize: 19 }} />\n                    </Box>\n                    <Typography variant=\"subtitle1\">\n                      <b>Cliente:</b>\n                    </Typography>\n                  </Box>\n                  <Typography variant=\"subtitle1\">\n                    {datosCliente ? datosCliente.nombre_cliente : \"Sin cliente\"}\n                  </Typography>\n                </Box>\n\n                <Box display=\"flex\">\n                  <Box display=\"flex\" alignItems={\"center\"} mr={2}>\n                    <Box mt={0.5} mr={0.5}>\n                      <FcSalesPerformance style={{ fontSize: 19 }} />\n                    </Box>\n                    <Typography variant=\"subtitle1\">\n                      <b>Puntos Generados:</b>\n                    </Typography>\n                  </Box>\n                  <Typography variant=\"subtitle1\">{monedero}</Typography>\n                </Box>\n\n                <Box display=\"flex\">\n                  <Box display=\"flex\" alignItems={\"center\"} mr={2}>\n                    <Box mt={0.5} mr={0.5}>\n                      <FcSalesPerformance style={{ fontSize: 19 }} />\n                    </Box>\n                    <Typography variant=\"subtitle1\">\n                      <b>Puntos Disponibles:</b>\n                    </Typography>\n                  </Box>\n                  <Typography variant=\"subtitle1\">{!datosCliente.monedero_electronico ? 0 : datosCliente.monedero_electronico}</Typography>\n                </Box>\n\n                <Box display=\"flex\">\n                  <Box display=\"flex\" alignItems={\"center\"} mr={2}>\n                    <Box mt={0.5} mr={0.5}>\n                      <FcSalesPerformance style={{ fontSize: 19 }} />\n                    </Box>\n                    <Typography variant=\"subtitle1\">\n                      <b>Total puntos:</b>\n                    </Typography>\n                  </Box>\n                  <Typography variant=\"subtitle1\">{monederoTotal}</Typography>\n                </Box>\n              </Box>\n\n              <Box width=\"45%\" textAlign=\"right\">\n                <Box\n                  display={\"flex\"}\n                  justifyContent={\"space-between\"}\n                  alignItems=\"center\"\n                >\n                  <Typography style={{ fontSize: \"17px\" }}>\n                    <b>Monto pagado:</b>\n                  </Typography>\n                  <Typography variant=\"h6\">\n                    $ {montoPagado.toFixed(2)}\n                  </Typography>\n                </Box>\n\n                <Box\n                  display={\"flex\"}\n                  justifyContent={\"space-between\"}\n                  alignItems=\"center\"\n                >\n                  <Typography style={{ fontSize: \"17px\" }}>\n                    <b>Total:</b>\n                  </Typography>\n                  <Typography variant=\"h6\">$ {totalVenta}</Typography>\n                </Box>\n\n                <Box\n                  display={\"flex\"}\n                  justifyContent={\"space-between\"}\n                  alignItems=\"center\"\n                >\n                  <Typography style={{ fontSize: \"17px\" }}>\n                    <b>Descuento:</b>\n                  </Typography>\n                  <Typography variant=\"h6\">\n                    $ {descuentoVenta.toFixed(2)}\n                  </Typography>\n                </Box>\n\n                <Box\n                  display={\"flex\"}\n                  justifyContent={\"space-between\"}\n                  alignItems=\"center\"\n                >\n                  <Typography style={{ fontSize: \"17px\" }}>\n                    <b>Cambio:</b>\n                  </Typography>\n                  <Typography variant=\"h6\">\n                    $ {cambioVenta.toFixed(2)}\n                  </Typography>\n                </Box>\n              </Box>\n            </div>\n\n\n\n            <div style={{ display: visible ? \"block\" : \"none\"}}>\n              <div className={classes.formInputFlex}>\n                <Box width=\"20%\">\n                  <Typography variant=\"caption\">\n                    <b>Dias de Crdito:</b>\n                  </Typography>\n                  <Box display=\"flex\" alignItems=\"center\">\n                    <TextField\n                      fullWidth\n                      size=\"small\"\n                      name=\"codigo_barras\"\n                      id=\"form-producto-codigo-barras\"\n                      variant=\"outlined\"\n                      value={datosCliente.dias_credito === null ? 0 : datosCliente.dias_credito}\n                      onChange={e => setDatosCliente({...datosCliente, dias_credito: e.target.value})}\n                      disabled={editableClient}\n                    />\n                  </Box>\n                </Box>\n                <Box width=\"20%\">\n                  <Typography variant=\"caption\">\n                    <b>Lmite de Crdito:</b>\n                  </Typography>\n                  <Box display=\"flex\" alignItems=\"center\">\n                    <TextField\n                      fullWidth\n                      size=\"small\"\n                      name=\"codigo_barras\"\n                      id=\"form-producto-codigo-barras\"\n                      variant=\"outlined\"\n                      value={datosCliente.limite_credito === null ? 0 : datosCliente.limite_credito }\n                      disabled={editableClient}\n                    />\n                  </Box>\n                </Box>\n                <Box width=\"20%\">\n                  <Typography variant=\"caption\">\n                    <b>Crdito Disponible:</b>\n                  </Typography>\n                  <Box display=\"flex\" alignItems=\"center\">\n                    <TextField\n                      fullWidth\n                      size=\"small\"\n                      name=\"codigo_barras\"\n                      id=\"form-producto-codigo-barras\"\n                      variant=\"outlined\"\n                      value={datosCliente.credito_disponible === null ? 0 : datosCliente.credito_disponible}\n                      disabled={editableClient}\n                    />\n                  </Box>\n                </Box>\n\n                <Box>\n                  <Box width=\"100%\" mt={2.5}>\n                    <Button\n                      color=\"primary\"\n                      variant=\"outlined\"\n                      size=\"large\"\n                      startIcon={<Edit />}\n                      onClick={() => setEditableClient(!editableClient)}\n                    >\n                      Editar\n                    </Button>\n                  </Box>\n                </Box>\n              </div>\n              <div className={classes.formInputFlex}>\n                <Box width=\"20%\">\n                  <Typography variant=\"caption\">\n                    <b>Total a Crdito:</b>\n                  </Typography>\n                  <Box display=\"flex\" alignItems=\"center\">\n                    <TextField\n                      fullWidth\n                      size=\"small\"\n                      name=\"codigo_barras\"\n                      id=\"form-producto-codigo-barras\"\n                      variant=\"outlined\"\n                      disabled={editableClient}\n                      value={totalVenta}\n                    />\n                  </Box>\n                </Box>\n\n                <Box width=\"20%\">\n                  <Typography variant=\"caption\">\n                    <b>Fecha de Vencimiento:</b>\n                  </Typography>\n                  <Box display=\"flex\" alignItems=\"center\">\n                    <TextField\n                      fullWidth\n                      size=\"small\"\n                      name=\"codigo_barras\"\n                      id=\"form-producto-codigo-barras\"\n                      variant=\"outlined\"\n                      type=\"date\"\n                      value={fechaVencimientoDate}\n                      onChange={(e) => {\n                        const modelDate = moment(e.target.value).add(1,\"days\");\n                        const hoy = moment();\n                        const diasDiff = modelDate.diff(hoy, 'days');\n                        setfechaVencimientoDate(e.target.value);\n                        setDatosCliente({...datosCliente, dias_credito: diasDiff});\n                      }}\n                      disabled={editableClient}\n                    />\n                  </Box>\n                </Box>\n              </div>\n            </div>\n\n          </Grid>\n        </DialogContent>\n\n        <DialogActions style={{justifyContent: \"space-between\"}} >\n          <Box display={\"flex\"} justifyContent=\"flex-start\" >\n              <Box pr={1}>\n                {\n                  visible ? (\n                    <Button\n                    size=\"large\"\n                    variant=\"contained\"\n                    color=\"secondary\"\n                    onClick={() => {\n                      setVisible(!visible);\n                      setEditableClient(!editableClient);\n                    }}\n                    startIcon={\n                      <ClearIcon style={{fontSize: \"28px\"}} />\n                    }\n                  >\n                    Cancelar\n                  </Button>\n                  ) : (\n                    <Button\n                    size=\"large\"\n                    variant=\"contained\"\n                    color=\"primary\"\n                    onClick={() => setVisible(!visible)}\n                    startIcon={\n                      <CreditCardIcon style={{fontSize: \"28px\"}} />\n                    }\n                  >\n                    Credito\n                  </Button>\n                  )\n                }\n\n              </Box>\n\n              <Box>\n                <Button\n                  size=\"large\"\n                  variant=\"contained\"\n                  color=\"primary\"\n                  startIcon={\n                    <LocalOfferIcon style={{fontSize: \"28px\"}}  />\n                  }\n                >\n                  Descuento\n                </Button>\n              </Box>\n            </Box>\n          <Button\n            onClick={() => {\n              handleClickFinishVenta();\n            }}\n            size=\"large\"\n            variant=\"contained\"\n            color=\"primary\"\n            autoFocus\n          >\n            Terminar\n          </Button>\n\n        </DialogActions>\n\n      </Dialog>\n\n      <Dialog\n        open={openModalDescuento}\n        onClose={abrirCajon}\n        TransitionComponent={Transition}\n      >\n        <DialogContent>\n          <Box textAlign=\"center\">\n            <Box>\n              <FcDonate style={{ fontSize: 80 }} />\n            </Box>\n            <Box textAlign=\"center\">\n              <Typography variant=\"h5\">Su cambio</Typography>\n            </Box>\n          </Box>\n          <Grid item lg={12}>\n            <Paper elevation={3}>\n              <Box p={3} width=\"100%\" textAlign=\"center\">\n                <Typography variant=\"h3\" style={{ color: \"red\" }}>\n                  $150.000\n                </Typography>\n                <Typography variant=\"caption\">\n                  (CIENTO CICUENTA PESOS 00/100 MNX)\n                </Typography>\n              </Box>\n            </Paper>\n          </Grid>\n        </DialogContent>\n\n        <DialogActions>\n          <Button\n            onClick={handleClickOpen}\n            variant=\"contained\"\n            size=\"large\"\n            color=\"primary\"\n            autoFocus\n          >\n            Aceptar\n          </Button>\n        </DialogActions>\n      </Dialog>\n\n      <Dialog\n        open={cambio}\n        onClose={abrirCajon}\n        TransitionComponent={Transition}\n      >\n        <DialogContent>\n          <Box textAlign=\"center\">\n            <Box>\n              <FcDonate style={{ fontSize: 80 }} />\n            </Box>\n            <Box textAlign=\"center\">\n              <Typography variant=\"h5\">Su cambio</Typography>\n            </Box>\n          </Box>\n          <Grid item lg={12}>\n            <Paper elevation={3}>\n              <Box p={3} width=\"100%\" textAlign=\"center\">\n                <Typography variant=\"h3\" style={{ color: \"red\" }}>\n                  $150.000\n                </Typography>\n                <Typography variant=\"caption\">\n                  (CIENTO CICUENTA PESOS 00/100 MNX)\n                </Typography>\n              </Box>\n            </Paper>\n          </Grid>\n        </DialogContent>\n\n        <DialogActions>\n          <Button\n            onClick={handleClickOpen}\n            variant=\"contained\"\n            size=\"large\"\n            color=\"primary\"\n            autoFocus\n          >\n            Aceptar\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </>\n  );\n}\n","import React, { useState } from 'react';\nimport { Box, Button,  CircularProgress,  Dialog,  \n        DialogActions, DialogContent, Divider, Grid,  \n        IconButton,  InputBase,  Paper,  Slide,  \n        Typography \n    } from '@material-ui/core';\nimport ItemsCarousel from 'react-items-carousel';\nimport PhotoLibraryIcon from '@material-ui/icons/PhotoLibrary';\nimport CloseIcon from '@material-ui/icons/Close';\nimport useStyles from '../styles';\nimport ArrowBackIosIcon from '@material-ui/icons/ArrowBackIos';\nimport ArrowForwardIosIcon from '@material-ui/icons/ArrowForwardIos';\nimport { Search } from '@material-ui/icons';\nimport { useLazyQuery } from '@apollo/client';\nimport { CONSULTA_PRODUCTO_UNITARIO } from '../../../gql/Ventas/ventas_generales';\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function ConsultarPrecio() {\n    const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n    const [activeItemIndex, setActiveItemIndex] = useState(0);\n\n    const [obtenerProductos, { data, loading }] = useLazyQuery(\n        CONSULTA_PRODUCTO_UNITARIO,\n        {\n          variables: { sucursal: sesion.sucursal._id, empresa: sesion.empresa._id },\n          fetchPolicy: \"network-only\",\n        }\n    );\n\n    let productoBase = null;\n    if (data) productoBase = data.obtenerUnProductoVentas;\n\n    const [open, setOpen] = useState(false);\n    \n    const classes = useStyles();\n\n    const handleClickOpen = () => { \n\t\tsetOpen(!open);\n        productoBase = [];\n\t};\n\n    const keyUpEvent = async (event) => {\n        if (event.code === \"Enter\" || event.code === \"NumpadEnter\") {\n            const input_value = event.target.value;\n            obtenerProductos({\n                variables: {\n                    datosProductos: input_value,\n                    sucursal: sesion.sucursal._id,\n                    empresa: sesion.empresa._id\n                },\n                fetchPolicy: \"network-only\"\n            });\n        }\n    };\n\n    window.addEventListener('keydown', Mi_funcin); \n    function Mi_funcin(e){\n        if(e.keyCode === 120){ \n            handleClickOpen();\n        } \n    };\n    const chevronWidth = 40;\n\n    return (\n        <>\n            <Button \n                className={classes.borderBotonChico}\n                onClick={handleClickOpen}\n            >\n                <Box>\n                    <Box>\n                        <img \n                            src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/ventas/precios.svg' \n                            alt=\"icono ventas\" \n                            style={{width: 36}}\n                        />\n                    </Box>\n                    <Box>\n                        <Typography variant=\"body2\" >\n                            <b>Consultar Precio</b>\n                        </Typography>\n                    </Box>\n                    <Box>\n                        <Typography variant=\"caption\" style={{color: '#808080'}} >\n                            <b>F9</b>\n                        </Typography>\n                    </Box>\n                </Box>\n            </Button>\n            <Dialog\n                maxWidth='md'\n                fullWidth\n                open={open} \n\t\t\t\tonClose={handleClickOpen} \n\t\t\t\tTransitionComponent={Transition}\n            >\n                <DialogContent\n                    open={open} \n                    onClose={handleClickOpen} \n                    TransitionComponent={Transition}\n                >\n                    <Grid container item lg={12}>\n                        <Box\n                            display=\"flex\" \n                            textAlign=\"center\"\n                            flexGrow={1}\n                        >\n                            <Box>\n                                <img src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/productos.svg' alt=\"icono productos\" className={classes.iconSizeDialogs} />\n                            </Box>\n                            <Box m={2} >\n                                <Divider orientation=\"vertical\" />\n                            </Box>\n                            <Box mt={3}>\n                                <Typography variant=\"h6\">\n                                    Precio Producto\n                                </Typography>\n                            </Box>\n                        </Box>\n                        <Box displa=\"flex\" justifyContent=\"center\">\n                            <Button variant=\"contained\" color=\"secondary\" onClick={handleClickOpen} size=\"large\">\n                                <CloseIcon />\n                            </Button>\n                        </Box>\n                    </Grid>\n                    <div className={classes.formInputFlex}>\n                        <Box width=\"50%\">\n                            <Paper className={classes.rootBusquedaProductos}>\n                                <InputBase\n                                    fullWidth\n                                    onKeyUp={keyUpEvent}\n                                    placeholder=\"Buscar producto...\"\n                                />\n                                <IconButton>\n                                    <Search />\n                                </IconButton>\n                            </Paper>\n                        </Box>\n                    </div>\n                    {loading ? (\n                        <Box\n                            display=\"flex\"\n                            flexDirection=\"column\"\n                            justifyContent=\"center\"\n                            alignItems=\"center\"\n                            height=\"40vh\"\n                        >\n                            <CircularProgress />\n                        </Box>\n                    ) : (<>\n                        <Grid container>\n                            <Grid item lg={6} md={6}>\n                                    {productoBase?.id_producto?.imagenes.length > 0 ? (\n                                        <Box p={7}>\n                                        <ItemsCarousel\n                                            requestToChangeActive={setActiveItemIndex}\n                                            activeItemIndex={activeItemIndex}\n                                            numberOfCards={1}\n                                            leftChevron={\n                                                <IconButton aria-label=\"delete\" disabled color=\"primary\">\n                                                    <ArrowBackIosIcon />\n                                                </IconButton>\n                                            }\n                                            rightChevron={\n                                                <IconButton aria-label=\"delete\" disabled color=\"primary\">\n                                                    <ArrowForwardIosIcon />\n                                                </IconButton>\n                                            }\n                                            infiniteLoop={true}\n                                            outsideChevron\n                                            chevronWidth={chevronWidth}\n                                        >\n                                            {productoBase?.id_producto?.imagenes.map((image)=>{\n                                                return(\n                                                    <Box \n                                                        className={classes.containerImagenesProducto}\n                                                        display=\"flex\"\n                                                        justifyContent=\"center\"\n                                                        alignItems=\"center\"\n                                                    >\n                                                        <img \n                                                            alt=\"Imagen producto\" \n                                                            src={image.url_imagen} \n                                                            className={classes.imagenProducto}\n                                                        />\n                                                    </Box>\n                                                )\n                                            })}\n                                        </ItemsCarousel>\n                                        </Box>\n                                    ) : (\n                                        <Box p={1} mt={15} display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n                                            <PhotoLibraryIcon style={{fontSize: 40}} />\n                                        </Box>\n                                    )}\n                            </Grid>\n\n                            <Grid item lg={6} md={6}>\n                                <Paper elevation={3} className={classes.rootPrecioProductos}>\n                                    <div className={classes.formInputFlex}>\n                                        <Box width=\"100%\" textAlign=\"center\">\n                                            <Typography >\n                                                <b>{productoBase?.codigo_barras}</b>\n                                            </Typography>\n                                        </Box>\n                                    </div>\n                                    <div className={classes.formInputFlex}>\n                                        <Box width=\"100%\" textAlign=\"center\">\n                                            <Typography variant=\"h6\">\n                                                <b>{productoBase?.id_producto?.datos_generales.nombre_comercial}</b>\n                                            </Typography>\n                                        </Box>\n                                    </div>\n                                    <div className={classes.formInputFlex}>\n                                        <Box width=\"100%\" textAlign=\"center\">\n                                            <Typography>\n                                                {productoBase?.descuento_activo === true ? (<b>Precio Promocin</b>) : null}\n                                            </Typography>\n                                            <Typography variant=\"h3\">\n                                                {productoBase?.descuento_activo === true ? \n                                                    (<b style={{color: \"red\"}}>${productoBase?.descuento?.precio_con_descuento.toFixed(2)}</b>) :\n                                                    (<b style={{color: \"green\"}}>${productoBase?.precio}</b>)}\n                                            </Typography>\n                                        </Box>\n                                    </div>\n                                    {productoBase?.descuento_activo === true ? (\n                                        <div className={classes.formInputFlex}>\n                                            <Box width=\"100%\" textAlign=\"center\">\n                                                <Typography>\n                                                    <b>Precio S/D</b>\n                                                </Typography>\n                                                <Typography variant=\"h5\" style={{color: \"green\"}}>\n                                                    <b> ${productoBase?.precio} </b>\n                                                </Typography>\n                                            </Box>\n                                        </div>\n                                    ) : null}\n                                    <div className={classes.formInputFlex}>\n                                        <Box width=\"100%\" textAlign=\"center\">\n                                            <Typography >\n                                                Unidad\n                                            </Typography>\n                                            <Typography >\n                                                <b>{productoBase?.unidad}</b>\n                                            </Typography>\n                                        </Box>\n                                        <Box width=\"100%\" textAlign=\"center\">\n                                            <Typography >\n                                                Existencia\n                                            </Typography>\n                                            <Typography >\n                                                <b> {productoBase?.inventario_general ? \n                                                        productoBase?.inventario_general[0]?.cantidad_existente :\n                                                        0\n                                                    } \n                                                </b>\n                                            </Typography>\n                                        </Box>\n                                    </div>\n                                </Paper>\n                            </Grid>     \n                        </Grid>\n                    </>) } \n                </DialogContent>\n                <DialogActions>\n                    <Button \n                        onClick={handleClickOpen} \n                        variant=\"contained\" \n                        color=\"primary\" \n                        size=\"large\"\n                    >\n                        Aceptar\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        \n        </>\n    )\n}\n","import React, { useState, useContext, Fragment, useEffect } from \"react\";\nimport {\n  Box,\n  Button,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  Divider,\n  Grid,\n  Paper,\n  Slide,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n  Typography,\n  Checkbox,\n} from \"@material-ui/core\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport useStyles from \"../styles\";\nimport { VentasContext } from \"../../../context/Ventas/ventasContext\";\nimport SnackBarMessages from \"../../../components/SnackBarMessages\";\nimport { calculatePrices, findProductArray, calculatePrices2 } from \"../../../config/reuserFunctions\";\nimport { AccesosContext } from \"../../../context/Accesos/accesosCtx\";\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  \n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function PreciosProductos() {\n  const classes = useStyles();\n  const [open, setOpen] = useState(false);\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n  // const [selected, setSelected] = useState([]);\n\n  const [preciosProductos, setPreciosProductos] = useState({})\n\n  const {\n    productoCambioPrecio,\n    precioSelectProductoVenta,\n    setPrecioSelectProductoVenta,\n    setUpdateTablaVentas,\n    updateTablaVentas\n  } = useContext(VentasContext);\n\n  const { \n\t\treloadVerPrecios, \n    setReloadVerPrecios,\n\t\tsetAbrirPanelAcceso,\n    abrirPanelAcceso,\n\t\tsetDepartamentos\n\t} = useContext(AccesosContext);\n\n  const [selectPrisingProduct, setSelectPrisingProduct] = useState(\n    precioSelectProductoVenta.length > 0 ? precioSelectProductoVenta[0] : {}\n  );\n\n  const [alert, setAlert] = useState({ message: \"\", status: \"\", open: false });\n\n  const handleClickOpen = () => {\n    if(sesion.accesos.ventas.precios_productos.ver === true){\n      setOpen(!open);\n    }else{\n      setAbrirPanelAcceso(!abrirPanelAcceso);\n      setDepartamentos({departamento: 'ventas', subDepartamento: 'precios_productos', tipo_acceso: 'ver'})\n    }\n  };\n\n  useEffect(() => {\n    setPreciosProductos(productoCambioPrecio);\n  }, [productoCambioPrecio ]);\n\n  useEffect(() => {\n\t\tif (reloadVerPrecios === true) {\t\n      setOpen(!open);\n      setReloadVerPrecios(false);\n\t\t}\n\t}, [reloadVerPrecios]);\n\n  const handleAceptChangePrising = async () => {\n\n    let venta = JSON.parse(localStorage.getItem(\"DatosVentas\"));\n    let productosVentas = venta === null ? [] : venta.productos;\n    let venta_actual = venta === null ? [] : venta;\n    let venta_existente =\n      venta === null\n        ? { subTotal: 0, total: 0, impuestos: 0, iva: 0, ieps: 0, descuento: 0, monedero: 0 }\n        : venta;\n    let productosVentasTemp = productosVentas;\n\n    if (\n      selectPrisingProduct.precio_neto > 0 ||\n      precioSelectProductoVenta.length > 0\n    ) {\n\n      const newProductoPrecioNuevo = { ...productoCambioPrecio };\n      const newProductoPrecioActual = { ...productoCambioPrecio };\n\n      const producto_encontrado = await findProductArray(\n        productoCambioPrecio\n      );\n\n      if (producto_encontrado.found) {\n        const new_resta = await calculatePrices2({\n            newP: newProductoPrecioNuevo, \n            cantidad: newProductoPrecioNuevo.cantidad_venta, \n            precio_boolean: true, \n            precio: newProductoPrecioNuevo.precio_actual_object, \n            granel: newProductoPrecioNuevo.granel_producto, \n            origen: \"\" \n          });\n        const new_suma = await calculatePrices2({\n          newP: newProductoPrecioActual, \n          cantidad: newProductoPrecioActual.cantidad_venta, \n          precio_boolean: true, \n          precio: precioSelectProductoVenta[0], \n          granel: newProductoPrecioActual.granel_producto, \n          origen: \"Tabla\" \n        });\n\n        newProductoPrecioActual.precio_a_vender = precioSelectProductoVenta[0].precio_neto;\n        newProductoPrecioActual.precio_seleccionado = true;\n        newProductoPrecioActual.precio_actual_producto = parseFloat((precioSelectProductoVenta[0].precio_neto).toFixed(2));\n        newProductoPrecioActual.precio_actual_object = precioSelectProductoVenta[0];\n\n        newProductoPrecioActual.iva_total_producto = parseFloat(new_suma.ivaCalculo);\n        newProductoPrecioActual.ieps_total_producto = parseFloat(new_suma.iepsCalculo);\n        newProductoPrecioActual.impuestos_total_producto = parseFloat(new_suma.impuestoCalculo);\n        newProductoPrecioActual.subtotal_total_producto = parseFloat(new_suma.subtotalCalculo);\n        newProductoPrecioActual.total_total_producto = parseFloat(new_suma.totalCalculo);\n\n        newProductoPrecioActual.precio_actual_object = {\n          cantidad_unidad: precioSelectProductoVenta[0].cantidad_unidad ? precioSelectProductoVenta[0].cantidad_unidad : null,\n          numero_precio: precioSelectProductoVenta[0].numero_precio ? precioSelectProductoVenta[0].numero_precio : null,\n          unidad_maxima: precioSelectProductoVenta[0].unidad_maxima ? precioSelectProductoVenta[0].unidad_maxima : null,\n          precio_general: precioSelectProductoVenta[0].precio_general ? precioSelectProductoVenta[0].precio_general : null,\n          precio_neto: precioSelectProductoVenta[0].precio_neto ? precioSelectProductoVenta[0].precio_neto : null,\n          precio_venta: precioSelectProductoVenta[0].precio_venta ? precioSelectProductoVenta[0].precio_venta : null,\n          iva_precio: precioSelectProductoVenta[0].iva_precio ? precioSelectProductoVenta[0].iva_precio : null,\n          ieps_precio: precioSelectProductoVenta[0].ieps_precio ? precioSelectProductoVenta[0].ieps_precio : null,\n          utilidad: precioSelectProductoVenta[0].utilidad ? precioSelectProductoVenta[0].utilidad : null,\n          porciento: precioSelectProductoVenta[0].porciento ? precioSelectProductoVenta[0].porciento : null,\n          dinero_descontado: precioSelectProductoVenta[0].dinero_descontado ? precioSelectProductoVenta[0].dinero_descontado : null,\n        };\n        \n        productosVentasTemp.splice(\n          producto_encontrado.producto_found.index,\n          1,\n          newProductoPrecioActual\n        );\n\n      const CalculosData = {\n        subTotal:\n          parseFloat(venta_existente.subTotal) -\n          parseFloat(new_resta.subtotalCalculo) +\n          new_suma.subtotalCalculo,\n        total:\n          parseFloat(venta_existente.total) -\n          parseFloat(new_resta.totalCalculo) +\n          new_suma.totalCalculo,\n        impuestos:\n          parseFloat(venta_existente.impuestos) -\n          parseFloat(new_resta.impuestoCalculo) +\n          new_suma.impuestoCalculo,\n        iva:\n          parseFloat(venta_existente.iva) -\n          parseFloat(new_resta.ivaCalculo) +\n          new_suma.ivaCalculo,\n        ieps:\n          parseFloat(venta_existente.ieps) -\n          parseFloat(new_resta.iepsCalculo) +\n          new_suma.iepsCalculo,\n        descuento:\n          parseFloat(venta_existente.descuento) -\n          parseFloat(new_resta.descuentoCalculo) +\n          new_suma.descuentoCalculo,\n        monedero: parseFloat(venta_existente.monedero) - parseFloat(new_resta.monederoCalculo) +\n          new_suma.monederoCalculo,\n      };\n\n      //Guardarlo en el localStorage\n      localStorage.setItem(\n        \"DatosVentas\",\n        JSON.stringify({\n          ...CalculosData,\n          cliente:\n            venta_actual.venta_cliente === true ? venta_actual.cliente : {},\n          venta_cliente:\n            venta_actual.venta_cliente === true\n              ? venta_actual.venta_cliente\n              : false,\n          productos: productosVentasTemp,\n        })\n      );\n      // newProductoPrecio = {...newProductoPrecio};\n      setUpdateTablaVentas(!updateTablaVentas);\n      setPrecioSelectProductoVenta([]);\n      setPreciosProductos({});\n      //Cerrar modal\n      handleClickOpen();\n      }else{\n        console.log(\"Producto no encontrado\")\n      }\n    } else {\n      setAlert({\n        message: \"Este precio no es valido.\",\n        status: \"error\",\n        open: true,\n      });\n    }\n  };\n\n  const handleClick = (precio) => {\n    let newSelected = [];\n    newSelected = newSelected.concat([], precio);\n    setSelectPrisingProduct(precio);\n    setPrecioSelectProductoVenta(newSelected);\n  };\n\n  const isSelected = (name) => precioSelectProductoVenta.indexOf(name) !== -1;\n\n  window.addEventListener(\"keydown\", Mi_funcin);\n\n  function Mi_funcin(e) {\n    if (e.keyCode === 114) {\n      handleClickOpen();\n    }\n  }; \n\n  return (\n    <>\n      <SnackBarMessages alert={alert} setAlert={setAlert} />\n      <Button className={classes.borderBotonChico} onClick={handleClickOpen}>\n        <Box>\n          <Box>\n            <img\n              src=\"https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/ventas/money.svg\"\n              alt=\"icono money\"\n              style={{ fontSize: 25 }}\n            />\n          </Box>\n          <Box>\n            <Typography variant=\"body2\">\n              <b>Precios</b>\n            </Typography>\n          </Box>\n          <Box>\n            <Typography variant=\"caption\" style={{ color: \"#808080\" }}>\n              <b>F3</b>\n            </Typography>\n          </Box>\n        </Box>\n      </Button>\n\n      <Dialog\n        maxWidth=\"lg\"\n        open={open}\n        onClose={handleClickOpen}\n        TransitionComponent={Transition}\n      >\n        <DialogContent>\n          <Grid container item lg={12}>\n            <Box display=\"flex\" justifyContent=\"center\">\n              <Box mt={3}>\n                <img\n                  src=\"https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/money.svg\"\n                  alt=\"icono caja\"\n                  className={classes.iconSizeDialogs}\n                />\n              </Box>\n              <Box m={2}>\n                <Divider orientation=\"vertical\" />\n              </Box>\n              <Box>\n                <Box textAlign=\"right\" mb={1}>\n                  <Button\n                    variant=\"contained\"\n                    color=\"secondary\"\n                    onClick={() => setOpen(!open)}\n                    size=\"medium\"\n                  >\n                    <CloseIcon />\n                  </Button>\n                </Box>\n                <Box mt={2}>\n                  <Typography variant=\"h6\">Precios de Producto</Typography>\n                </Box>\n              </Box>\n            </Box>\n          </Grid>\n          <Grid>\n            <div className={classes.formInputFlex}>\n              <Box width=\"100%\">\n                <Typography>\n                  Nombre:{\" \"}\n                  {productoCambioPrecio\n                    ? productoCambioPrecio?.id_producto?.datos_generales\n                        ?.nombre_comercial\n                    : \"\"}\n                </Typography>\n              </Box>\n            </div>\n            <Paper className={classes.root}>\n              <TableContainer className={classes.container}>\n                <Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n                  <TableHead>\n                    <TableRow>\n                      <TableCell style={{ width: 25 }}></TableCell>\n                      <TableCell style={{ width: 20 }}>Precio</TableCell>\n                      <TableCell style={{ width: 20 }}>Precio neto</TableCell>\n                      <TableCell style={{ width: 200 }}>\n                        Unidad mayoreo\n                      </TableCell>\n                      <TableCell style={{ width: 100 }}>Utilidad</TableCell>\n                    </TableRow>\n                  </TableHead>\n                  <TableBody>\n                    {preciosProductos?.id_producto?.precios?.precios_producto?.map(\n                      (precio, index) => {\n                        const isItemSelected = isSelected(precio);\n                        const labelId = `enhanced-table-checkbox-${index}`;\n                        return (\n                          <RenderTableRows\n                            key={index}\n                            precio={precio}\n                            isItemSelected={isItemSelected}\n                            labelId={labelId}\n                            handleClick={handleClick}\n                          />\n                        );\n                      }\n                    )}\n                  </TableBody>\n                </Table>\n              </TableContainer>\n            </Paper>\n          </Grid>\n        </DialogContent>\n        <DialogActions>\n          <Button\n            onClick={() => handleAceptChangePrising()}\n            variant=\"contained\"\n            color=\"primary\"\n            size=\"large\"\n          >\n            Aceptar\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </>\n  );\n}\n\nconst RenderTableRows = ({ precio, isItemSelected, labelId, handleClick }) => {\n  const doubleClick = (e) => {\n    try {\n      if (e.detail === 2) {\n        handleClick(precio);\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  return (\n    <Fragment>\n      <TableRow\n        role=\"checkbox\"\n        aria-checked={isItemSelected}\n        tabIndex={-1}\n        key={precio.numero_precio}\n        selected={isItemSelected}\n        hover\n        onClick={(e) => doubleClick(e)}\n      >\n        <TableCell padding=\"checkbox\">\n          <Checkbox\n            onClick={(event) => {\n              handleClick(precio);\n            }}\n            checked={isItemSelected}\n            inputProps={{ \"aria-labelledby\": labelId }}\n          />\n        </TableCell>\n        <TableCell align={\"center\"}>{precio.numero_precio}</TableCell>\n        <TableCell align={\"center\"}>{precio.precio_neto > 0 ? precio.precio_neto.toFixed(2) : 0}</TableCell>\n        <TableCell align={\"center\"}>{precio.unidad_mayoreo}</TableCell>\n        <TableCell align={\"center\"}>{precio.utilidad} %</TableCell>\n      </TableRow>\n    </Fragment>\n  );\n};\n","import React, { useContext, useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport { Box, Button, Dialog, DialogActions, DialogContent, IconButton, Typography } from '@material-ui/core';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport AutorenewIcon from '@material-ui/icons/Autorenew';\nimport { VentasContext } from '../../../context/Ventas/ventasContext';\nimport { AccesosContext } from '../../../context/Accesos/accesosCtx';\nimport { useEffect } from 'react';\n\nconst columns = [\n\t{ id: 'folio', label: 'Folio', minWidth: 20, align: 'center' },\n\t{ id: 'fecha', label: 'Fecha', minWidth: 20, align: 'center' },\n\t{ id: 'cliente', label: 'Cliente', minWidth: 330, align: 'center' },\n\t{ id: 'productos', label: 'Productos', minWidth: 20, align: 'center' },\n\t{ id: 'total', label: 'Total', minWidth: 200, align: 'center'},\n];\n\nconst useStyles = makeStyles({\n\troot: {\n\t\twidth: \"100%\"\n\t},\n\tcontainer: {\n\t\theight: \"45vh\",\n    \t'& ::-webkit-scrollbar': {\n      \t\tdisplay: 'none'\n    \t}\n\t}\n});\n\nexport default function ListaVentas() {\n\n\tconst classes = useStyles();\n\n\tlet listaEnEspera = JSON.parse(localStorage.getItem(\"ListaEnEspera\"));\n\n\treturn (\n\t\t<Paper className={classes.root}>\n\t\t\t<TableContainer className={classes.container}>\n\t\t\t\t<Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t{columns.map((column) => (\n\t\t\t\t\t\t\t\t<TableCell key={column.id} align={column.align} style={{ width: column.minWidth }}>\n\t\t\t\t\t\t\t\t\t{column.label}\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t<TableCell align='center' style={{ width: 35 }}>\n\t\t\t\t\t\t\t\tRegresar\n\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<TableCell align='center' style={{ width: 35 }}>\n\t\t\t\t\t\t\t\tEliminar\n\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t</TableHead>\n\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t{listaEnEspera?.map((row, index) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<RowsVentas venta={row} index={index} /> \n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t\t</TableBody>\n\t\t\t\t</Table>\n\t\t\t</TableContainer>\n\t\t</Paper>\n\t);\n};\n\n\nconst RowsVentas = ({ venta, index }) => {\n\n\tconst { \n\t\treloadEliminarVentaEspera, \n        setReloadEliminarVentaEspera,\n\t\tsetAbrirPanelAcceso,\n        abrirPanelAcceso,\n\t\tsetDepartamentos\n\t} = useContext(AccesosContext);\n    const { updateTablaVentas, setUpdateTablaVentas } = useContext(VentasContext);\n\tconst [ open, setOpen] = useState(false);\n\tconst [ keyIndex, setKeyIndex ] = useState('');\n    const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n\n\tlet listaEnEspera = JSON.parse(localStorage.getItem(\"ListaEnEspera\"));\n\tlet VentaEnEspera = JSON.parse(localStorage.getItem(\"DatosVentas\"));\n\n\tfunction borrarVenta(key) {\n\t\tif(sesion.accesos.ventas.eliminar_ventas.ver === true){\n\t\t\tlistaEnEspera.forEach(function(elemento, indice, array) {\n\t\t\t\tif(key === indice){\n\t\t\t\t\tlistaEnEspera.splice(key, 1);\n\t\t\t\t}\n\t\t\t});\n\t\t\tsetUpdateTablaVentas(!updateTablaVentas);\n\t\t\tlocalStorage.setItem(\"ListaEnEspera\", JSON.stringify(listaEnEspera));\n\t\t}else{\n\t\t\treturn null\n\t\t}\n    };\n\n\tconst AgregarVentaDeNuevo = (key) => {\n\t\tif(VentaEnEspera === null){\n\t\t\tlistaEnEspera.forEach((element, index) => {\n\t\t\t\tif (index === key) {\n\t\t\t\t\tlocalStorage.setItem(\"DatosVentas\", JSON.stringify(element.VentaEnEspera));\n\t\t\t\t\tlistaEnEspera.splice(key, 1);\n\t\t\t\t}\n\t\t\tlocalStorage.setItem(\"ListaEnEspera\", JSON.stringify(listaEnEspera));\n\t\t\t});\n\t\t\tsetUpdateTablaVentas(!updateTablaVentas);\n\t\t}else{\n\t\t\tsetOpen(!open);\n\t\t}\n\t};\n\n\tconst handleClickOpen = () => {\n\t\tsetOpen(!open);\n\t};\n\n\tconst verificarPermisos = (key) => {\n\t\tsetKeyIndex(key)\n\t\tif(sesion.accesos.ventas.eliminar_ventas.ver === true){\n\t\t\tsetKeyIndex(''); \n            borrarVenta(key);\n        }else{\n\t\t\tsetAbrirPanelAcceso(!abrirPanelAcceso);\n\t\t\tsetDepartamentos({departamento: 'ventas', subDepartamento: 'eliminar_ventas', tipo_acceso: 'ver'})\n\t\t}\n\t};\t\n\n\tuseEffect(() => {\n\t\tif (reloadEliminarVentaEspera === true) {\t\n\t\t\tborrarVenta(keyIndex);\n\t\t\tsetReloadEliminarVentaEspera(false);\n\t\t}\n\t}, [reloadEliminarVentaEspera]);\n\t\n\n\treturn(\n\t\t<>\n\t\t\t<TableRow \n\t\t\t\thover \n\t\t\t\ttabIndex={-1} \n\t\t\t\tkey={index} \n\t\t\t>\n\t\t\t\t<TableCell align='center'>\n\t\t\t\t\t{index + 1}\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell align='center'>\n\t\t\t\t\t{venta.fecha ? venta.fecha : \"\"}\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell align='center'>\n\t\t\t\t\t{venta.VentaEnEspera.cliente ? venta.VentaEnEspera.cliente.nombre_cliente : \"Pub. General\"}\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell align='center'>\n\t\t\t\t\t{venta.VentaEnEspera.productos.length}\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell align='center'>\n\t\t\t\t\t$ {(venta.VentaEnEspera.total).toFixed(4)}\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell align='center' >\n\t\t\t\t\t<IconButton \n\t\t\t\t\t\taria-label=\"regresar\" \n\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\tsize='small'\n\t\t\t\t\t\tonClick={() => AgregarVentaDeNuevo(index)}\n\t\t\t\t\t>\n\t\t\t\t\t\t<AutorenewIcon fontSize=\"medium\" />\n\t\t\t\t\t</IconButton>\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell align='center' >\n\t\t\t\t\t<IconButton \n\t\t\t\t\t\taria-label=\"delete\" \n\t\t\t\t\t\tsize='small'\n\t\t\t\t\t\tonClick={() => verificarPermisos(index)}\n\t\t\t\t\t>\n\t\t\t\t\t\t<DeleteIcon fontSize=\"medium\" />\n\t\t\t\t\t</IconButton>\n\t\t\t\t</TableCell>\n\t\t\t</TableRow>\n\n\t\t\t<Dialog\n\t\t\t\topen={open} \n\t\t\t\tonClose={handleClickOpen} \n\t\t\t>\n\t\t\t\t<DialogContent>\n\t\t\t\t\t<Box p={1}>\n\t\t\t\t\t\t<Typography variant=\"h6\">\n\t\t\t\t\t\t\tNo puedes agregar una venta, cuando ya esta una en curso.\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</Box>\n\t\t\t\t</DialogContent>\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\tsize=\"large\"\n\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\tonClick={handleClickOpen}\n\t\t\t\t\t>\n\t\t\t\t\t\tAceptar\n\t\t\t\t\t</Button>\n\t\t\t\t</DialogActions>\n\t\t\t</Dialog>\n\t\t</>\n\n\t);\n}","import React, { useState } from 'react'\nimport useStyles from '../styles';\n\nimport { Box, Button, DialogActions,Dialog, DialogContent, Divider,Grid, Typography, Slide, Badge } from '@material-ui/core'\nimport ListaVentas from './ListaVentas';\nimport CloseIcon from '@material-ui/icons/Close';\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\nexport default function VentasEspera() {\n\tlet listaEnEspera = JSON.parse(localStorage.getItem(\"ListaEnEspera\"));\n\n    const classes = useStyles();\n    const [open, setOpen] = useState(false);\n    \n    const handleClickOpen = () => { \n\t\tsetOpen(!open);\n\t};\n\n    window.addEventListener('keydown', Mi_funcin); \n    function Mi_funcin(e){\n        if(e.altKey && e.keyCode === 76){ \n            handleClickOpen();\n        } \n    };\n\n    return (\n        <>\n            <Button \n                className={classes.borderBotonChico}\n                onClick={handleClickOpen}\n            >\n                <Box>\n                    <Box>\n                        <Badge \n                            badgeContent={listaEnEspera ? listaEnEspera.length : 0 } \n                            color=\"primary\" \n                            style={{fontSize: 45}}\n                        >\n                            <img \n                                src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/ventas/lista-de-espera.svg' \n                                alt=\"icono caja2\" \n                                style={{width: 38}} \n                            />\n                        </Badge>\n                    </Box>\n                    <Box>\n                        <Typography variant=\"body2\" >\n                            <b>Ventas en Espera</b>\n                        </Typography>\n                    </Box>\n                    <Box>\n                        <Typography variant=\"caption\" style={{color: '#808080'}} >\n                            <b>Alt + L</b>\n                        </Typography>\n                    </Box>\n                </Box>\n            </Button>\n            <Dialog\n\t\t\t\tmaxWidth='lg'\n\t\t\t\topen={open} \n\t\t\t\tonClose={handleClickOpen} \n\t\t\t\tTransitionComponent={Transition}\n\t\t\t>\n                <DialogContent>\n                    <Grid container item lg={12}>\n                        <Box\n                            display=\"flex\"\n                            flexGrow={1}\n                        >\n                            <Box>\n                                <img src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/ventas/lista-de-espera.svg' alt=\"icono caja\" className={classes.iconSizeDialogs} />\n                            </Box>\n                            <Box m={2} >\n                                <Divider orientation=\"vertical\" />\n                            </Box>\n                            <Box mt={3} >\n                                <Typography variant=\"h6\">\n                                    Ventas en espera\n                                </Typography>\n                            </Box>\n                        </Box>\n                        <Box>\n                            <Button variant=\"contained\" color=\"secondary\" onClick={handleClickOpen} size=\"large\">\n                                <CloseIcon />\n                            </Button>\n                        </Box>\n                        </Grid>\n                        <Grid>\n                            <ListaVentas />\n                        </Grid>\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={handleClickOpen} variant=\"contained\" color=\"primary\" size=\"large\">\n                        Aceptar\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        </>\n    )\n}","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport { IconButton, TablePagination } from '@material-ui/core';\nimport DeleteIcon from '@material-ui/icons/Delete';\n\nconst columns = [\n\t{ id: 'folio', label: 'Folio', minWidth: 20, align: 'center' },\n\t{ id: 'cliente', label: 'Cliente', minWidth: 330 },\n\t{ id: 'fecha', label: 'Fecha.', minWidth: 100, align: 'center'},\n\t{ id: 'total', label: 'Total', minWidth: 100, align: 'center'},\n];\n\nfunction createData(folio, cliente, fecha, total) {\n\treturn { folio, cliente, fecha, total};\n}\n\nconst rows = [\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n];\n\nconst useStyles = makeStyles({\n\troot: {\n\t\twidth: '100%'\n\t},\n\tcontainer: {\n\t\tmaxHeight: '50vh'\n\t}\n});\n\nexport default function ListaVentasRealizadas() {\n\tconst classes = useStyles();\n\tconst [ page, setPage ] = React.useState(0);\n\tconst [ rowsPerPage, setRowsPerPage ] = React.useState(8);\n\n\tconst handleChangePage = (event, newPage) => {\n\t\tsetPage(newPage);\n\t};\n\n\tconst handleChangeRowsPerPage = (event) => {\n\t\tsetRowsPerPage(+event.target.value);\n\t\tsetPage(0);\n\t};\n\n\treturn (\n\t\t<Paper className={classes.root}>\n\t\t\t<TableContainer className={classes.container}>\n\t\t\t\t<Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t{columns.map((column) => (\n\t\t\t\t\t\t\t\t<TableCell key={column.id} align={column.align} style={{ width: column.minWidth }}>\n\t\t\t\t\t\t\t\t\t{column.label}\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t<TableCell align='center' style={{ width: 35 }}>\n\t\t\t\t\t\t\t\tEliminar\n\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t</TableHead>\n\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t{rows.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage).map((row) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<TableRow hover role=\"checkbox\" tabIndex={-1} key={row.code}>\n\t\t\t\t\t\t\t\t\t{columns.map((column) => {\n\t\t\t\t\t\t\t\t\t\tconst value = row[column.id];\n\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t<TableCell key={column.id} align={column.align}>\n\t\t\t\t\t\t\t\t\t\t\t\t{column.format && typeof value === 'number' ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolumn.format(value)\n\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t<TableCell align='center' >\n\t\t\t\t\t\t\t\t\t\t<IconButton aria-label=\"delete\" size='small'>\n\t\t\t\t\t\t\t\t\t\t\t<DeleteIcon fontSize=\"small\" />\n\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t\t</TableBody>\n\t\t\t\t</Table>\n\t\t\t</TableContainer>\n\t\t\t<TablePagination\n\t\t\t\trowsPerPageOptions={[ 10, 25, 100 ]}\n\t\t\t\tcomponent=\"div\"\n\t\t\t\tcount={rows.length}\n\t\t\t\trowsPerPage={rowsPerPage}\n\t\t\t\tpage={page}\n\t\t\t\tonChangePage={handleChangePage}\n\t\t\t\tonChangeRowsPerPage={handleChangeRowsPerPage}\n\t\t\t/>\n\t\t</Paper>\n\t);\n}","import React, { useState } from 'react'\nimport useStyles from '../styles';\n\nimport { Box, Button, Dialog, DialogActions, DialogContent, Divider,Grid, IconButton, InputBase,  Paper, Slide, Typography } from '@material-ui/core'\nimport { Search } from '@material-ui/icons';\nimport ListaVentasRealizadas from './ListaVentasRealizadas';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { FcPaid, FcSearch } from 'react-icons/fc';\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function VentasRealizadas() {\n\n    const classes = useStyles();\n\n    const [open, setOpen] = useState(false);\n    \n    const handleClickOpen = () => { \n\t\tsetOpen(!open);\n\t};\n\n    window.addEventListener('keydown', Mi_funcin); \n    function Mi_funcin(e){\n        if(e.altKey && e.keyCode === 86){ \n            handleClickOpen();\n        } \n    };\n\n    return (\n        <>\n           <Button \n                className={classes.borderBotonChico}\n                onClick={handleClickOpen}\n            >\n                <Box>\n                    <Box>\n                        <FcSearch style={{fontSize: 45}} />\n                    </Box>\n                    <Box>\n                        <Typography variant=\"body2\" >\n                            <b>Buscar Folio</b>\n                        </Typography>\n                    </Box>\n                    <Box>\n                        <Typography variant=\"caption\" style={{color: '#808080'}} >\n                            <b>Alt + V</b>\n                        </Typography>\n                    </Box>\n                </Box>\n            </Button>\n            <Dialog\n\t\t\t\tmaxWidth='lg'\n\t\t\t\topen={open} \n\t\t\t\tonClose={handleClickOpen} \n\t\t\t\tTransitionComponent={Transition}\n\t\t\t>\n\n                <DialogContent>\n                    <Grid container item lg={12}>\n                        <Box\n                            display=\"flex\"\n                            flexGrow={1}\n                        >\n                            <Box>\n                                <img src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/ventas/lista-de-espera.svg' alt=\"icono caja\" className={classes.iconSizeDialogs} />\n                            </Box>\n                            <Box m={2} >\n                                <Divider orientation=\"vertical\" />\n                            </Box>\n                            <Box mt={3}>\n                                <Typography variant=\"h6\">\n                                    Ventas Realizadas\n                                </Typography>\n                            </Box>\n                        </Box>\n                        <Box>\n                            <Button variant=\"contained\" color=\"secondary\" onClick={handleClickOpen} size=\"large\">\n                                <CloseIcon />\n                            </Button>\n                        </Box>\n                        </Grid>\n                        <Grid>\n                            <div className={classes.formInputFlex}>\n                                <Box width=\"100%\">\n                                    <Paper className={classes.rootBusqueda}>\n                                        <InputBase\n                                            fullWidth\n                                            placeholder=\"Buscar venta...\"\n                                        />\n                                        <IconButton >\n                                            <Search />\n                                        </IconButton>\n                                    </Paper>\n                                </Box>\n                            </div>\n                            <ListaVentasRealizadas />\n                        </Grid>\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={handleClickOpen} variant=\"contained\" color=\"primary\" size=\"large\">\n                        Aceptar\n                    </Button>\n                </DialogActions>\n            </Dialog>\n\n        </>\n    )\n}","import { Grid } from '@material-ui/core'\nimport React, { Fragment } from 'react'\nimport Abonos from '../../pages/ventas/Abonos/Abonos'\nimport BuscarProducto from '../../pages/ventas/BuscarProductos/BuscarProducto'\nimport ClientesVentas from '../../pages/ventas/ClientesVentas/ClientesVentas'\nimport Cotizacion from '../../pages/ventas/Cotizacion/Cotizacion'\nimport AbrirCajon from '../../pages/ventas/Operaciones/AbrirCajon'\nimport CancelarVenta from '../../pages/ventas/Operaciones/CancelarVenta'\nimport CerrarVenta from '../../pages/ventas/Operaciones/CerrarVenta'\nimport ConsultarPrecio from '../../pages/ventas/Operaciones/ConsultarPrecio'\nimport PreciosProductos from '../../pages/ventas/Operaciones/PreciosProducto'\nimport VentasEspera from '../../pages/ventas/VentasEspera/VentasEspera'\nimport VentasRealizadas from '../../pages/ventas/VentasRealizadas/VentasRealizadas'\nimport useStyles from './styles';\n\nexport default function NavegacionVentasLateral() {\n\n    const classes = useStyles();\n\n    return (\n        <Fragment>\n            <Grid \n                container \n                className={classes.drawerColor}\n            >\n                <Grid item lg={6} md={6} xs={6}>\n                    <CerrarVenta />\n                </Grid>\n                <Grid item lg={6} md={6} xs={6}>\n                    <BuscarProducto />\n                </Grid>\n                <Grid item lg={6} md={6} xs={6}>\n                    <CancelarVenta />\n                </Grid>\n                <Grid item lg={6} md={6} xs={6}>\n                    <Cotizacion type={'GENERAR'} />\n                </Grid>\n                <Grid item lg={6} md={6} xs={6}>\n                    <PreciosProductos />\n                </Grid>\n                <Grid item lg={6} md={6} xs={6}>\n                    <VentasEspera />\n                </Grid>\n                <Grid item lg={6} md={6} xs={6}>\n                    <ClientesVentas />\n                </Grid>\n                <Grid item lg={6} md={6} xs={6}>\n                    <VentasRealizadas />\n                </Grid>\n                <Grid item lg={6} md={6} xs={6}>\n                    <ConsultarPrecio />\n                </Grid>\n                <Grid item lg={6} md={6} xs={6}>\n                    <Abonos />\n                </Grid>\n            </Grid>\n        </Fragment>\n    )\n}\n","import React, { forwardRef, Fragment, useContext, useState } from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Slide from \"@material-ui/core/Slide\";\nimport { CircularProgress, IconButton } from \"@material-ui/core\";\nimport { Delete } from \"@material-ui/icons\";\nimport { VentasContext } from \"../../context/Ventas/ventasContext\";\n\nimport {\n  findProductArray,\n  calculatePrices2,\n} from \"../../config/reuserFunctions\";\n\nconst Transition = forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function EliminarProducto({\n  producto,\n  setNewProductoVentas,\n  newProductoVentas,\n  setDatosVentasActual,\n}) {\n  const [open, setOpen] = useState(false);\n  const [loading, setLoading] = useState(false);\n  /* const [ alert, setAlert ] = useState({ message: '', status: '', open: false }); */\n\n  const { updateTablaVentas, setUpdateTablaVentas } = useContext(VentasContext);\n\n  const handleToggleModal = () => setOpen(!open);\n\n  const eliminarProductoBD = async () => {\n    // console.log(producto);\n    let venta = JSON.parse(localStorage.getItem(\"DatosVentas\"));\n    let productosVentas = venta === null ? [] : venta.productos;\n    const venta_actual = venta === null ? [] : venta;\n    let productosVentasTemp = productosVentas;\n    let venta_existente =\n      venta === null\n        ? {\n            subTotal: 0,\n            total: 0,\n            impuestos: 0,\n            iva: 0,\n            ieps: 0,\n            descuento: 0,\n            monedero: 0,\n          }\n        : venta;\n\n    const producto_encontrado = await findProductArray(\n      producto\n    );\n    console.log(\"llego\");\n    if (producto_encontrado.found) {\n      const { cantidad_venta, ...newP } = producto;\n      console.log(\"llego\");\n\n      // newP.precio_actual_producto = newP.descuento_activo ? newP.descuento.precio_con_descuento :  newP.precio;\n      //Sacar los impuestos que se van a restar\n      // let calculoResta = await calculatePrices(newP, cantidad_venta, newP.granel_producto, newP.precio_actual_producto);\n\n      const new_resta = await calculatePrices2({\n        newP: newP,\n        cantidad: cantidad_venta,\n        precio_boolean: true,\n        precio: newP.precio_actual_object,\n        granel: newP.granel_producto,\n        origen: \"\",\n      });\n\n      productosVentasTemp.splice(producto_encontrado.producto_found.index, 1);\n      const CalculosData = {\n        subTotal:\n          parseFloat(venta_existente.subTotal) -\n          parseFloat(new_resta.subtotalCalculo),\n        total:\n          parseFloat(venta_existente.total) -\n          parseFloat(new_resta.totalCalculo),\n        impuestos:\n          parseFloat(venta_existente.impuestos) -\n          parseFloat(new_resta.impuestoCalculo),\n        iva: parseFloat(venta_existente.iva) - parseFloat(new_resta.ivaCalculo),\n        ieps:\n          parseFloat(venta_existente.ieps) - parseFloat(new_resta.iepsCalculo),\n        descuento:\n          parseFloat(venta_existente.descuento) -\n          parseFloat(new_resta.descuentoCalculo),\n        monedero:\n          parseFloat(venta_existente.monedero) -\n          parseFloat(new_resta.monederoCalculo),\n      };\n      localStorage.setItem(\n        \"DatosVentas\",\n        JSON.stringify({\n          ...CalculosData,\n          cliente:\n            venta_actual.venta_cliente === true ? venta_actual.cliente : {},\n          venta_cliente:\n            venta_actual.venta_cliente === true\n              ? venta_actual.venta_cliente\n              : false,\n          productos: productosVentasTemp,\n        })\n      );\n      setDatosVentasActual(CalculosData);\n      setUpdateTablaVentas(!updateTablaVentas);\n    }\n  };\n\n  return (\n    <Fragment>\n      {/* <SnackBarMessages alert={alert} setAlert={setAlert} /> */}\n      <IconButton size=\"small\" onClick={() => handleToggleModal()}>\n        <Delete size=\"small\" color=\"error\" />\n      </IconButton>\n      <Dialog\n        open={open}\n        TransitionComponent={Transition}\n        keepMounted\n        onClose={() => handleToggleModal()}\n        aria-labelledby=\"alert-dialog-delete-producto\"\n      >\n        <DialogTitle id=\"alert-dialog-delete-producto\">\n          {\"Ests seguro de eliminar este producto?\"}\n        </DialogTitle>\n        <DialogActions style={{ display: \"flex\", justifyContent: \"center\" }}>\n          <Button onClick={() => handleToggleModal()} color=\"inherit\">\n            Cancelar\n          </Button>\n          <Button\n            onClick={() => eliminarProductoBD()}\n            color=\"secondary\"\n            startIcon={\n              loading ? <CircularProgress color=\"inherit\" size={20} /> : null\n            }\n          >\n            Eliminar\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </Fragment>\n  );\n}\n","import React, { useState, useEffect, Fragment, useRef, useContext } from \"react\";\nimport PropTypes from \"prop-types\";\nimport clsx from \"clsx\";\nimport { lighten, makeStyles } from \"@material-ui/core/styles\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport TableSortLabel from \"@material-ui/core/TableSortLabel\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Checkbox from \"@material-ui/core/Checkbox\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport FilterListIcon from \"@material-ui/icons/FilterList\";\nimport Input from \"@material-ui/core/Input\";\nimport EliminarProductoVenta from \"./EliminarProductoVenta\";\n\nimport { useDebounce } from \"use-debounce\";\nimport {\n  findProductArray,\n  verifiPrising,\n  calculatePrices2\n} from \"../../config/reuserFunctions\";\nimport { VentasContext } from '../../context/Ventas/ventasContext';\nimport { Avatar } from \"@material-ui/core\";\n\n\nconst headCells = [\n  {\n    id: \"Cantidad\",\n    numeric: false,\n    disablePadding: true,\n    label: \"Cantidad\",\n    width: 20,\n  },\n  {\n    id: \"Descripcion\",\n    numeric: true,\n    disablePadding: false,\n    label: \"Descripcion\",\n    width: 340,\n  },\n  {\n    id: \"Existencias\",\n    numeric: true,\n    disablePadding: false,\n    label: \"Existencias\",\n    width: 40,\n  },\n  {\n    id: \"% Desc\",\n    numeric: true,\n    disablePadding: false,\n    label: \"% Desc\",\n    width: 50,\n  },\n  {\n    id: \"U. Venta\",\n    numeric: true,\n    disablePadding: false,\n    label: \"U. Venta\",\n    width: 50,\n  },\n  {\n    id: \"Precio U\",\n    numeric: true,\n    disablePadding: false,\n    label: \"Precio U\",\n    width: 100,\n  },\n  {\n    id: \"Eliminar\",\n    numeric: true,\n    disablePadding: false,\n    label: \"Eliminar\",\n    width: 10,\n  },\n];\n\nfunction EnhancedTableHead(props) {\n  const {\n    classes,\n    onSelectAllClick,\n    order,\n    orderBy,\n    numSelected,\n    rowCount,\n    onRequestSort,\n  } = props;\n  const createSortHandler = (property) => (event) => {\n    onRequestSort(event, property);\n  };\n\n  return (\n    <TableHead>\n      <TableRow>\n        <TableCell padding=\"checkbox\">\n          <Checkbox\n            indeterminate={numSelected > 0 && numSelected < rowCount}\n            checked={rowCount > 0 && numSelected === rowCount}\n            onChange={onSelectAllClick}\n            inputProps={{ \"aria-label\": \"select all desserts\" }}\n          />\n        </TableCell>\n        {headCells.map((headCell) => (\n          <TableCell\n            key={headCell.id}\n            align={headCell.numeric ? \"right\" : \"left\"}\n            padding={headCell.disablePadding ? \"none\" : \"normal\"}\n            sortDirection={orderBy === headCell.id ? order : false}\n            style={{ width: headCell.width }}\n          >\n            <TableSortLabel\n              active={orderBy === headCell.id}\n              direction={orderBy === headCell.id ? order : \"asc\"}\n              onClick={createSortHandler(headCell.id)}\n            >\n              {headCell.label}\n              {orderBy === headCell.id ? (\n                <span className={classes.visuallyHidden}>\n                  {order === \"desc\" ? \"sorted descending\" : \"sorted ascending\"}\n                </span>\n              ) : null}\n            </TableSortLabel>\n          </TableCell>\n        ))}\n      </TableRow>\n    </TableHead>\n  );\n}\n\nEnhancedTableHead.propTypes = {\n  classes: PropTypes.object.isRequired,\n  numSelected: PropTypes.number.isRequired,\n  onRequestSort: PropTypes.func.isRequired,\n  onSelectAllClick: PropTypes.func.isRequired,\n  order: PropTypes.oneOf([\"asc\", \"desc\"]).isRequired,\n  orderBy: PropTypes.string.isRequired,\n  rowCount: PropTypes.number.isRequired,\n};\n\nconst useToolbarStyles = makeStyles((theme) => ({\n  root: {\n    paddingLeft: theme.spacing(2),\n    paddingRight: theme.spacing(1),\n  },\n  highlight:\n    theme.palette.type === \"light\"\n      ? {\n          color: theme.palette.secondary.main,\n          backgroundColor: lighten(theme.palette.secondary.light, 0.85),\n        }\n      : {\n          color: theme.palette.text.primary,\n          backgroundColor: theme.palette.secondary.dark,\n        },\n  title: {\n    flex: \"1 1 100%\",\n  },\n}));\n\nconst EnhancedTableToolbar = (props) => {\n  const classes = useToolbarStyles();\n  const { numSelected } = props;\n\n  return (\n    <Toolbar\n      className={clsx(classes.root, {\n        [classes.highlight]: numSelected > 0,\n      })}\n    >\n      {numSelected > 0 ? (\n        <Typography\n          className={classes.title}\n          color=\"inherit\"\n          variant=\"subtitle1\"\n          component=\"div\"\n        >\n          {numSelected} selected\n        </Typography>\n      ) : (\n        <Typography\n          className={classes.title}\n          variant=\"h6\"\n          id=\"tableTitle\"\n          component=\"div\"\n        >\n          Nutrition\n        </Typography>\n      )}\n\n      {numSelected > 0 ? (\n        <Tooltip title=\"Delete\">\n          <IconButton aria-label=\"delete\">\n            <DeleteIcon />\n          </IconButton>\n        </Tooltip>\n      ) : (\n        <Tooltip title=\"Filter list\">\n          <IconButton aria-label=\"filter list\">\n            <FilterListIcon />\n          </IconButton>\n        </Tooltip>\n      )}\n    </Toolbar>\n  );\n};\n\nEnhancedTableToolbar.propTypes = {\n  numSelected: PropTypes.number.isRequired,\n};\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: \"100%\",\n    marginTop: 7\n  },\n  paper: {\n    width: \"100%\",\n    marginBottom: theme.spacing(2),\n  },\n  container: {\n    height: \"100%\",\n    '& ::-webkit-scrollbar': {\n      display: 'none'\n    }\n  },\n  table: {\n    minWidth: 750,\n    height: \"55vh\",\n  },\n  visuallyHidden: {\n    border: 0,\n    clip: \"rect(0 0 0 0)\",\n    height: 1,\n    margin: -1,\n    overflow: \"hidden\",\n    padding: 0,\n    position: \"absolute\",\n    top: 20,\n    width: 1,\n  },\n\n}));\n\nexport default function EnhancedTable({\n  setDatosVentasActual,\n}) {\n  const classes = useStyles();\n  const [ selected, setSelected ] = useState([]);\n\tconst sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n\n  const { setProductoCambioPrecio, setPrecioSelectProductoVenta, updateTablaVentas, setUpdateTablaVentas } = useContext(VentasContext);\n\n  const [datosTabla, setDatosTabla] = useState([]);\n\n  useEffect(() => {\n    const venta = JSON.parse(localStorage.getItem(\"DatosVentas\"));\n    setDatosTabla(venta === null ? [] : venta.productos);\n  }, [updateTablaVentas]);\n\n  const handleClick = (name) => {\n    let newSelected = [];\n    const exist = selected.indexOf(name) !== -1;\n    if(exist){\n      newSelected = [];\n    }else{\n      newSelected = newSelected.concat([], name);\n    } \n    const producto = name.id_producto.precios.precios_producto.filter((p) => p.precio_neto === name.precio_actual_producto);\n    if(producto.length > 0) setPrecioSelectProductoVenta(producto);\n    setProductoCambioPrecio(name);\n    setSelected(newSelected);\n  };\n\n  const TwoClickInRowTableBuy = (e, producto) => {\n    try {\n      let timer;\n      clearTimeout(timer);\n      if (e.detail === 2) {\n        handleClick(producto);\n        setProductoCambioPrecio(producto);\n      }\n      \n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const isSelected = (name) => {\n    return selected.indexOf(name) !== -1;\n  };\n\n  return (\n    <div className={classes.root}>\n      <Paper>\n        <TableContainer className={classes.container}>\n          {/* <div\n            style={{\n              display: 'flex', \n              width: '80%', \n              height: '60%', \n              alignItems: 'center',\n              backgroundPosition: 'center',\n              justifyContent: 'center',\n              zIndex: 'auto',\n              position: 'absolute',\n            }}\n          >\n            <div\n              style={{\n                maxWidth: '40%'\n              }}\n            >\n              <Avatar\n                alt=\"Imagen fondo empresa\"\n                src={sesion.empresa.imagen}\n                style={{\n                  height: '100%',\n                  width: '100%',\n                  opacity: .2\n                }}\n              />\n            </div>\n          </div> */}\n          <Table\n            stickyHeader\n            size=\"small\"\n            aria-labelledby=\"tableTitle\"\n            aria-label=\"a dense table\"\n          >\n            <TableHead>\n              <TableRow>\n                <TableCell style={{ width: 25, textAlign:\"center\" }}></TableCell>\n                <TableCell style={{ width: 20, textAlign:\"center\" }}>Cantidad</TableCell>\n                <TableCell style={{ width: 340 }}>Descripcion</TableCell>\n                <TableCell style={{ width: 40, textAlign:\"center\" }}>Exis.</TableCell>\n                <TableCell style={{ width: 50, textAlign:\"center\" }}><b>% Desct.</b></TableCell>\n                <TableCell style={{ width: 40, textAlign:\"center\" }}>Rx.</TableCell>\n                <TableCell style={{ width: 50, textAlign:\"center\" }}>U. Venta</TableCell>\n                <TableCell style={{ width: 100, textAlign:\"center\" }}>Precio U</TableCell>\n                <TableCell align=\"center\" style={{ width: 10 }} />\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {datosTabla?.map((producto, index) => {\n                const isItemSelected = isSelected(producto);\n                const labelId = `enhanced-table-checkbox-${index}`;\n                return (\n                  <RenderTableRows\n                    key={index}\n                    producto={producto}\n                    setUpdateTablaVentas={setUpdateTablaVentas}\n                    updateTablaVentas={updateTablaVentas}\n                    setDatosVentasActual={setDatosVentasActual}\n                    isItemSelected={isItemSelected}\n                    labelId={labelId}\n                    handleClick={handleClick}\n                    selected={selected}\n                    TwoClickInRowTableBuy={TwoClickInRowTableBuy}\n                    setSelected={setSelected}\n                  />\n                );\n              })}\n            </TableBody>\n          </Table>\n        </TableContainer>\n      </Paper>\n    </div>\n  );\n}\n\nconst RenderTableRows = ({\n  producto,\n  setUpdateTablaVentas,\n  updateTablaVentas,\n  setDatosVentasActual,\n  TwoClickInRowTableBuy,\n  handleClick,\n  isItemSelected,\n  labelId,\n  setSelected,\n  selected\n}) => {\n  // const [actuallyProduct, setActuallyProduct] = useState(producto);\n  const [newCantidadProduct, setNewCantidadProduct] = useState(\n    producto.cantidad_venta\n  );\n  \n  const [ tempAmount, setTempAmount ] = useState(producto.cantidad_venta);\n\n  const textfield = useRef(null);\n  const [value] = useDebounce(newCantidadProduct, 500);\n\n\n  useEffect(() => {\n    setTempAmount(producto.cantidad_venta);\n  }, [producto.cantidad_venta]);\n\n  useEffect(() => {\n    CalculeDataPricing(value);\n  }, [value]);\n  \n\n  const calculateNewPricingAmount = (cantidad) => {\n    try {\n      setTempAmount(cantidad);\n      setNewCantidadProduct(cantidad);\n    } catch (error) {\n      return false;\n    }\n  }\n\n  const CalculeDataPricing = async (new_cant) => {\n    if(new_cant === \"\" || new_cant == 0){\n      setTempAmount(producto.cantidad_venta);\n    }else{\n      let venta = JSON.parse(localStorage.getItem(\"DatosVentas\"));\n      let productosVentas = venta === null ? [] : venta.productos;\n      const venta_actual = venta === null ? [] : venta;\n      let productosVentasTemp = productosVentas;\n      let venta_existente =\n        venta === null\n          ? {\n              subTotal: 0,\n              total: 0,\n              impuestos: 0,\n              iva: 0,\n              ieps: 0,\n              descuento: 0,\n              monedero: 0\n            }\n          : venta;\n\n      let CalculosData = {};\n      \n      //Buscar y obtener ese producto en el array de ventas\n      const producto_encontrado = await findProductArray(\n        producto\n      );\n      if (producto_encontrado.found) {\n        const { cantidad_venta, ...newP } =\n          producto_encontrado.producto_found.producto;\n        newP.cantidad_venta = parseInt(new_cant);\n        const verify_prising = await verifiPrising(newP);\n        const newPrising = verify_prising.found ? verify_prising.object_prising : newP.precio_actual_object;\n        \n        const new_resta = await calculatePrices2({newP, cantidad: cantidad_venta, precio_boolean: true, precio: newP.precio_actual_object, granel: newP.granel_producto, origen: \"Tabla\" });\n        const new_suma = await calculatePrices2({newP, cantidad: new_cant, precio_boolean: true, precio: newPrising, granel: newP.granel_producto, origen: \"Tabla\" });\n\n        newP.iva_total_producto = parseFloat(new_suma.ivaCalculo);\n        newP.ieps_total_producto = parseFloat(new_suma.iepsCalculo);\n        newP.impuestos_total_producto = parseFloat(new_suma.impuestoCalculo);\n        newP.subtotal_total_producto = parseFloat(new_suma.subtotalCalculo);\n        newP.total_total_producto = parseFloat(new_suma.totalCalculo);\n\n        if (verify_prising.found) {\n          newP.precio_a_vender = new_suma.totalCalculo;\n          newP.precio_anterior = newP.precio_actual_porducto;\n          newP.precio_actual_producto = verify_prising.pricing;\n          newP.precio_actual_object = verify_prising.object_prising;\n\n          newP.precio_actual_object = {\n            cantidad_unidad: verify_prising.object_prising.cantidad_unidad ? verify_prising.object_prising.cantidad_unidad : null,\n            numero_precio: verify_prising.object_prising.numero_precio ? verify_prising.object_prising.numero_precio : null,\n            unidad_maxima: verify_prising.object_prising.unidad_maxima ? verify_prising.object_prising.unidad_maxima : null,\n            precio_general: verify_prising.object_prising.precio_general ? verify_prising.object_prising.precio_general : null,\n            precio_neto: verify_prising.object_prising.precio_neto ? verify_prising.object_prising.precio_neto : null,\n            precio_venta: verify_prising.object_prising.precio_venta ? verify_prising.object_prising.precio_venta : null,\n            iva_precio: verify_prising.object_prising.iva_precio ? verify_prising.object_prising.iva_precio : null,\n            ieps_precio: verify_prising.object_prising.ieps_precio ? verify_prising.object_prising.ieps_precio : null,\n            utilidad: verify_prising.object_prising.utilidad ? verify_prising.object_prising.utilidad : null,\n            porciento: verify_prising.object_prising.porciento ? verify_prising.object_prising.porciento : null,\n            dinero_descontado: verify_prising.object_prising.dinero_descontado ? verify_prising.object_prising.dinero_descontado : null,\n          };\n\n        }else{\n          newP.cantidad_venta = parseInt(new_cant);\n          newP.precio_anterior = newP.precio_actual_producto;\n          newP.precio_a_vender = new_suma.totalCalculo;\n        }\n\n        productosVentasTemp.splice(\n          producto_encontrado.producto_found.index,\n          1,\n          newP\n        );\n\n        CalculosData = {\n          subTotal:\n            parseFloat(venta_existente.subTotal) -\n            parseFloat(new_resta.subtotalCalculo) +\n            new_suma.subtotalCalculo,\n          total:\n            parseFloat(venta_existente.total) -\n            parseFloat(new_resta.totalCalculo) +\n            new_suma.totalCalculo,\n          impuestos:\n            parseFloat(venta_existente.impuestos) -\n            parseFloat(new_resta.impuestoCalculo) +\n            new_suma.impuestoCalculo,\n          iva:\n            parseFloat(venta_existente.iva) -\n            parseFloat(new_resta.ivaCalculo) +\n            new_suma.ivaCalculo,\n          ieps:\n            parseFloat(venta_existente.ieps) -\n            parseFloat(new_resta.iepsCalculo) +\n            new_suma.iepsCalculo,\n          descuento:\n            parseFloat(venta_existente.descuento) -\n            parseFloat(new_resta.descuentoCalculo) +\n            new_suma.descuentoCalculo,\n          monedero:\n            parseFloat(venta_existente.monedero) -\n            parseFloat(new_resta.monederoCalculo) +\n            new_suma.monederoCalculo,\n        };\n      } else {\n        console.log(\"El producto no existe\");\n      }\n\n      localStorage.setItem(\n        \"DatosVentas\",\n        JSON.stringify({\n          ...CalculosData,\n          cliente:\n            venta_actual.venta_cliente === true ? venta_actual.cliente : {},\n          venta_cliente:\n            venta_actual.venta_cliente === true\n              ? venta_actual.venta_cliente\n              : false,\n          productos: productosVentasTemp,\n        })\n      );\n      setDatosVentasActual(CalculosData);\n      //Recargar la tabla de los productos\n      setUpdateTablaVentas(!updateTablaVentas);\n    }\n  };\n\n  return (\n    <Fragment>\n      <TableRow\n        role=\"checkbox\"\n        style={{height: '15px'}}\n        aria-checked={isItemSelected}\n        tabIndex={-1}\n        key={producto._id}\n        selected={isItemSelected}\n        hover\n        onClick={(e) => TwoClickInRowTableBuy(e,producto)}\n      >\n        <TableCell padding=\"checkbox\">\n          <Checkbox\n            onClick={(event) => {\n              if(selected.length > 0) setSelected([]);\n              handleClick(producto);\n            }}\n            checked={isItemSelected}\n            inputProps={{ \"aria-labelledby\": labelId }}\n          />\n        </TableCell>\n        <TableCell>\n          <Input\n            inputRef={textfield}\n            onChange={(e) => calculateNewPricingAmount(e.target.value)}\n            value={tempAmount}\n            type=\"number\"\n            name=\"cantidad_venta\"\n          />\n        </TableCell>\n        <TableCell>\n          {producto.id_producto.datos_generales.nombre_comercial}\n        </TableCell>\n        <TableCell  style={{ textAlign:\"center\"}} >\n          {producto.concepto === \"medida\"\n            ? producto.cantidad\n            : producto.inventario_general.map(\n                (existencia) => `${existencia.cantidad_existente}`\n              )}\n        </TableCell>\n        <TableCell  style={{ textAlign:\"center\"}} >\n          %{\" \"}\n          {producto.descuento_activo === true\n            ? producto.descuento.porciento\n            : 0}\n        </TableCell>\n        <TableCell style={{ textAlign:\"center\"}} >\n          {producto.id_producto.datos_generales.receta_farmacia === true\n            ? \"Si\"\n            : \"No\"}\n        </TableCell>\n        <TableCell style={{ textAlign:\"center\"}} >\n          {producto.inventario_general.map(\n            (existencia) => `${existencia.unidad_inventario}`\n          )}\n        </TableCell>\n        <TableCell style={{ textAlign:\"center\"}} >\n          $ { producto.precio_actual_producto}\n        </TableCell>\n        <TableCell style={{ textAlign:\"center\"}} >\n          <EliminarProductoVenta\n            producto={producto}\n            setDatosVentasActual={setDatosVentasActual}\n          />\n        </TableCell>\n      </TableRow>\n    </Fragment>\n  );\n};\n","import React, { useState, useEffect, useContext } from \"react\";\nimport { OBTENER_CLIENTES_VENTAS } from \"../../gql/Ventas/ventas_generales\";\nimport { useQuery } from \"@apollo/client\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport { TextField } from \"@material-ui/core\";\n// import { BlurLinear } from \"@material-ui/icons\";\n// import { VentasContext } from \"../../context/Ventas/ventasContext\";\nimport { ClienteCtx } from '../../context/Catalogos/crearClienteCtx';\nimport { VentasContext } from \"../../context/Ventas/ventasContext\";\n\nexport default function ClientesVentas() {\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n\n  const { setUpdateClientVenta, updateClientVenta } = useContext(ClienteCtx);\n  const { setClientesVentas } = useContext(VentasContext);\n\n  const [selectClient, setSelectClient] = useState({});\n\n  // console.log(sesion.empresa._id);\n  // console.log(sesion.sucursal._id);\n\n  const { loading, data, error, refetch } = useQuery(OBTENER_CLIENTES_VENTAS, {\n    variables: {\n      empresa: sesion.empresa._id,\n      sucursal: sesion.sucursal._id,\n    },\n    fetchPolicy: \"network-only\"\n  });\n\n  // console.log(error);\n  // console.log(\"data\",data);\n  let obtenerClientes = [];\n  if (data) obtenerClientes = data.obtenerClientesVentas;\n  // console.log(obtenerClientes);\n\n  useEffect(() => {\n    const data = () => {\n      // console.log(\"llego al final\");\n      const venta = JSON.parse(localStorage.getItem(\"DatosVentas\"));\n      if (venta !== null) {\n        setSelectClient(venta.cliente);\n        setClientesVentas(venta.cliente);\n        refetch();\n      }\n    }\n    data();\n  }, [refetch, updateClientVenta]);\n\n  const ChangeClientAutocomplate = (value) => {\n    try {\n      // console.log(value);\n      const venta = JSON.parse(localStorage.getItem(\"DatosVentas\"));\n      let venta_actual = venta === null ? {} : venta;\n      setSelectClient(value);\n      \n      // console.log(venta_actual);\n      let dataCliente = {\n          subTotal:\n            venta_actual.subTotal === undefined ? 0 : venta_actual.subTotal,\n          total: venta_actual.total === undefined ? 0 : venta_actual.total,\n          impuestos:\n            venta_actual.impuestos === undefined ? 0 : venta_actual.impuestos,\n          iva: venta_actual.iva === undefined ? 0 : venta_actual.iva,\n          ieps: venta_actual.ieps === undefined ? 0 : venta_actual.ieps,\n          descuento:\n            venta_actual.descuento === undefined ? 0 : venta_actual.descuento,\n          monedero: venta_actual.monedero === undefined ? 0 : venta_actual.monedero,\n          tipo_cambio: venta_actual.tipo_cambio ? venta_actual.tipo_cambio : {},\n          venta_cliente: value === null ? false : true,\n          productos:\n            venta_actual.productos?.length > 0 ? venta_actual. productos : [],\n      }\n      if(value !== null) dataCliente = {...dataCliente, cliente: value, }\n      localStorage.setItem(\"DatosVentas\",JSON.stringify(dataCliente));\n      setUpdateClientVenta(!updateClientVenta);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  if (loading) return null;\n\n  return (\n    <div>\n      <Autocomplete\n        id=\"combo-box-producto-codigo\"\n        size=\"small\"\n        fullWidth\n        options={obtenerClientes}\n        getOptionLabel={(option) =>\n          option.nombre_cliente ? option.nombre_cliente : \"N/A\"\n        }\n        renderInput={(params) => <TextField {...params} variant=\"outlined\" />}\n        onChange={(_, value) => ChangeClientAutocomplate(value)}\n        getOptionSelected={(option) => option.nombre_cliente}\n        value={selectClient ? selectClient : null}\n      />\n    </div>\n  );\n}\n","import React, { useState, useEffect, useContext } from \"react\";\nimport {\n  Box,\n  FormControl,\n  Grid,\n  IconButton,\n  InputBase,\n  MenuItem,\n  Paper,\n  Select,\n  Typography,\n} from \"@material-ui/core\";\nimport useStyles from \"./styles\";\n\nimport { /* FcRating, */ FcBusinessman, FcCalendar, FcSalesPerformance } from 'react-icons/fc';\nimport { FaBarcode, FaMoneyCheckAlt } from \"react-icons/fa\";\nimport { AiOutlineFieldNumber } from \"react-icons/ai\";\nimport { Search } from \"@material-ui/icons\";\nimport MonetizationOnIcon from '@material-ui/icons/MonetizationOn';\n\nimport TablaVentasCheckbox from \"./Tabla_ventas_checkbox\";\nimport { CONSULTA_PRODUCTO_UNITARIO } from \"../../gql/Ventas/ventas_generales\";\nimport { useLazyQuery } from \"@apollo/client\";\nimport ClientesVentas from \"./ClientesVentas\";\nimport { VentasContext } from \"../../context/Ventas/ventasContext\";\nimport SnackBarMessages from '../../components/SnackBarMessages';\n\nimport { Fragment } from \"react\";\n// import MonedaCambio from \"./Operaciones/MonedaCambio\";\nimport Cotizacion from './Cotizacion/Cotizacion'\n\nimport {\n  findProductArray,\n  verifiPrising,\n  calculatePrices2\n} from \"../../config/reuserFunctions\";\n\n// import { ClienteProvider } from '../../context/Catalogos/crearClienteCtx';\n\nexport default function VentasGenerales() {\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n  // const productosVentas = JSON.parse(localStorage.getItem('productosVentas'));\n  const classes = useStyles();\n  // const [newProductoVentas, setNewProductoVentas] = useState(false);\n  const [granelBase, setGranelBase] = useState({\n    granel: false,\n    valor: 0,\n  });\n\n  const { updateTablaVentas, setUpdateTablaVentas, setOpen, clientesVentas  } = useContext(VentasContext);\n\n  const [DatosVentasActual, setDatosVentasActual] = useState({\n    subTotal: 0,\n    total: 0,\n    impuestos: 0,\n    iva: 0,\n    ieps: 0,\n    descuento: 0,\n    monedero: 0,\n    tipo_cambio: {},\n  });\n\n  const [alert, setAlert] = useState({ message: '', status: '', open: false });\n\n  const [obtenerProductos, { data, loading, error }] = useLazyQuery(\n    CONSULTA_PRODUCTO_UNITARIO,\n    {\n      fetchPolicy: \"network-only\"\n    }\n  );\n\n  const [consultaBase, setConsultaBase] = useState(false);\n\n  let productosBase = null;\n  if(error){\n    console.log(data,loading, error.networkError);\n    console.log(data,loading, error.graphQLErrors);\n  }\n  // console.log(data,loading, error);\n  if (data) productosBase = data.obtenerUnProductoVentas;\n  // console.log(productosBase);\n\n  useEffect(() => {\n    if(error){\n      if(error.networkError){\n          setAlert({ message: `Error de servidor`, status: 'error', open: true });\n        }else if(error.graphQLErrors){\n          setAlert({ message: `${error.graphQLErrors[0]?.message}`, status: 'error', open: true });\n        }\n    }else{\n      if(productosBase !== null){\n        if (productosBase.cantidad !== null) {\n          agregarProductos(productosBase);\n        }else{\n          setOpen(true);\n          setAlert({ message: `Este producto no existe`, status: 'error', open: true });\n        }\n      }\n    }\n  }, [loading]);\n\n  useEffect(() => {\n    setGranelBase({\n      granel: false,\n      valor: 0,\n    });\n    const venta = JSON.parse(localStorage.getItem(\"DatosVentas\"));\n    if (venta !== null) {\n      setDatosVentasActual({\n        subTotal: parseFloat(venta.subTotal),\n        total: parseFloat(venta.total),\n        impuestos: parseFloat(venta.impuestos),\n        iva: parseFloat(venta.iva),\n        ieps: parseFloat(venta.ieps),\n        descuento: parseFloat(venta.descuento),\n        monedero: parseFloat(venta.monedero),\n      });\n    }\n  }, [updateTablaVentas]);\n\n  const keyUpEvent = async (event) => {\n    if (event.code === \"Enter\" || event.code === \"NumpadEnter\") {\n      const input_value = event.target.value.trim();\n      const data = input_value.split(\"*\");\n      if (data.length > 1) {\n        let data_operation = isNaN(data[0]) ? data[1] : data[0];\n        let data_key = isNaN(data[0]) ? data[0] : data[1];\n        setGranelBase({\n          granel: true,\n          valor: data_operation,\n        });\n        obtenerProductos({\n          variables: {\n            datosProductos: data_key,\n            sucursal: sesion.sucursal._id, \n            empresa: sesion.empresa._id\n          },\n          fetchPolicy: \"network-only\"\n        });\n        setConsultaBase(!consultaBase);\n      } else {\n        setGranelBase({\n          granel: false,\n          valor: 0,\n        });\n        obtenerProductos({\n          variables: {            datosProductos: input_value,\n            sucursal: sesion.sucursal._id,\n            empresa: sesion.empresa._id\n          },\n          fetchPolicy: \"network-only\"\n        });\n        setConsultaBase(!consultaBase);\n      }\n    }\n  };\n\n  const agregarProductos = async (producto) => {\n    let venta = JSON.parse(localStorage.getItem(\"DatosVentas\"));\n    let productosVentas = venta === null ? [] : venta.productos;\n    let venta_actual = venta === null ? [] : venta;\n    let venta_existente =\n      venta === null\n        ? {\n            subTotal: 0,\n            total: 0,\n            impuestos: 0,\n            iva: 0,\n            ieps: 0,\n            descuento: 0,\n            monedero: 0,\n          }\n        : venta;\n    \n    let productosVentasTemp = productosVentas;\n\n    let CalculosData = {\n      subTotal: 0,\n      total: 0,\n      impuestos: 0,\n      iva: 0,\n      ieps: 0,\n      descuento: 0,\n      monedero: 0\n    };\n\n    const producto_encontrado = await findProductArray(\n      producto\n    );\n\n    if (!producto_encontrado.found && producto._id) {\n      const newP = { ...producto };\n      //Tomar el precio con descuento o normal\n      const productoPrecioFinal = newP.descuento_activo\n        ? newP.descuento.precio_neto\n        : newP.precio_unidad.precio_neto;\n\n      const new_prices = await calculatePrices2({newP,cantidad: 0, granel: granelBase, origen: \"Ventas1\", precio_boolean: false });\n\n      new_prices.newP.precio_anterior = productoPrecioFinal;\n\n      new_prices.newP.iva_total_producto = parseFloat(new_prices.ivaCalculo);\n      new_prices.newP.ieps_total_producto = parseFloat(new_prices.iepsCalculo);\n      new_prices.newP.impuestos_total_producto = parseFloat(new_prices.impuestoCalculo);\n      new_prices.newP.subtotal_total_producto = parseFloat(new_prices.subtotalCalculo);\n      new_prices.newP.total_total_producto = parseFloat(new_prices.totalCalculo);\n\n      console.log(new_prices.newP);\n      \n      productosVentasTemp.push(new_prices.newP);\n\n      CalculosData = {\n        subTotal: parseFloat(venta_existente.subTotal) + parseFloat(new_prices.subtotalCalculo),\n        total: parseFloat(venta_existente.total) + parseFloat(new_prices.totalCalculo),\n        impuestos: parseFloat(venta_existente.impuestos) + parseFloat(new_prices.impuestoCalculo),\n        iva: parseFloat(venta_existente.iva) + parseFloat(new_prices.ivaCalculo),\n        ieps: parseFloat(venta_existente.ieps) + parseFloat(new_prices.iepsCalculo),\n        descuento: parseFloat(venta_existente.descuento) + parseFloat(new_prices.descuentoCalculo),\n        monedero: parseFloat(venta_existente.monedero) + parseFloat(new_prices.monederoCalculo)\n      };\n\n\n    } else if (producto_encontrado.found && producto._id) {\n      \n      const { cantidad_venta, ...newP } = producto_encontrado.producto_found.producto;\n      \n      newP.cantidad_venta = parseInt(cantidad_venta) + 1;\n\n      const verify_prising = await verifiPrising(newP);\n\n      console.log(verify_prising);\n\n      //Verificar si el precio fue encontrado\n      if (verify_prising.found) {\n        const calculo_resta = await calculatePrices2({newP,cantidad_venta, granel: newP.granel_producto, origen: '', precio_boolean: true, precio: newP.precio_actual_object });\n        \n        const calculo_sumar = await calculatePrices2({newP,cantidad_venta: newP.cantidad_venta, granel: newP.granel_producto, origen: '', precio_boolean: true, precio: verify_prising.object_prising });\n\n        newP.precio_a_vender = calculo_sumar.totalCalculo;\n        newP.precio_anterior = newP.precio_actual_producto;\n        newP.precio_actual_producto = verify_prising.pricing;\n\n        console.log(calculo_sumar);\n        \n        newP.iva_total_producto = parseFloat(calculo_sumar.ivaCalculo);\n        newP.ieps_total_producto = parseFloat(calculo_sumar.iepsCalculo);\n        newP.impuestos_total_producto = parseFloat(calculo_sumar.impuestoCalculo);\n        newP.subtotal_total_producto = parseFloat(calculo_sumar.subtotalCalculo);\n        newP.total_total_producto = parseFloat(calculo_sumar.totalCalculo);\n\n        console.log(newP);\n\n\n        newP.precio_actual_object = {\n          cantidad_unidad: verify_prising.object_prising.cantidad_unidad ? verify_prising.object_prising.cantidad_unidad : null,\n          numero_precio: verify_prising.object_prising.numero_precio ? verify_prising.object_prising.numero_precio : null,\n          unidad_maxima: verify_prising.object_prising.unidad_maxima ? verify_prising.object_prising.unidad_maxima : null,\n          precio_general: verify_prising.object_prising.precio_general ? verify_prising.object_prising.precio_general : null,\n          precio_neto: verify_prising.object_prising.precio_neto ? verify_prising.object_prising.precio_neto : null,\n          precio_venta: verify_prising.object_prising.precio_venta ? verify_prising.object_prising.precio_venta : null,\n          iva_precio: verify_prising.object_prising.iva_precio ? verify_prising.object_prising.iva_precio : null,\n          ieps_precio: verify_prising.object_prising.ieps_precio ? verify_prising.object_prising.ieps_precio : null,\n          utilidad: verify_prising.object_prising.utilidad ? verify_prising.object_prising.utilidad : null,\n          porciento: verify_prising.object_prising.porciento ? verify_prising.object_prising.porciento : null,\n          dinero_descontado: verify_prising.object_prising.dinero_descontado ? verify_prising.object_prising.dinero_descontado : null,\n        };\n\n        productosVentasTemp.splice(\n          producto_encontrado.producto_found.index,\n          1,\n          newP\n        );\n\n        CalculosData = {\n          subTotal:\n            parseFloat(venta_existente.subTotal) -\n            parseFloat(calculo_resta.subtotalCalculo) +\n            calculo_sumar.subtotalCalculo,\n          total:\n            parseFloat(venta_existente.total) -\n            parseFloat(calculo_resta.totalCalculo) +\n            calculo_sumar.totalCalculo,\n          impuestos:\n            parseFloat(venta_existente.impuestos) -\n            parseFloat(calculo_resta.impuestoCalculo) +\n            calculo_sumar.impuestoCalculo,\n          iva:\n            parseFloat(venta_existente.iva) -\n            parseFloat(calculo_resta.ivaCalculo) +\n            calculo_sumar.ivaCalculo,\n          ieps:\n            parseFloat(venta_existente.ieps) -\n            parseFloat(calculo_resta.iepsCalculo) +\n            calculo_sumar.iepsCalculo,\n          descuento:\n            parseFloat(venta_existente.descuento) -\n            parseFloat(calculo_resta.descuentoCalculo) +\n            calculo_sumar.descuentoCalculo,\n          monedero:\n            parseFloat(venta_existente.monedero) -\n            parseFloat(calculo_resta.monederoCalculo) +\n            calculo_sumar.monederoCalculo,\n        }; \n      } else { \n        console.log(\"Entro\");\n        const productoPrecioFinal = newP.descuento_activo\n        ? newP.descuento.precio_neto\n        : newP.precio_unidad.precio_neto;\n\n        const new_prices = await calculatePrices2({newP, cantidad: 0, granel: granelBase, origen: \"Ventas2\"});\n\n        new_prices.newP.precio_actual_producto = productoPrecioFinal;\n\n        console.log(new_prices);\n\n        new_prices.newP.iva_total_producto = parseFloat(new_prices.ivaCalculo) * parseFloat(newP.cantidad_venta);\n        new_prices.newP.ieps_total_producto = parseFloat(new_prices.iepsCalculo) * parseFloat(newP.cantidad_venta);\n        new_prices.newP.impuestos_total_producto = parseFloat(new_prices.impuestoCalculo) * parseFloat(newP.cantidad_venta);\n        new_prices.newP.subtotal_total_producto = parseFloat(new_prices.subtotalCalculo) * parseFloat(newP.cantidad_venta);\n        new_prices.newP.total_total_producto = parseFloat(new_prices.totalCalculo) * parseFloat(newP.cantidad_venta);\n        \n        productosVentasTemp.splice(\n          producto_encontrado.producto_found.index,\n          1,\n          new_prices.newP\n        );\n\n        CalculosData = {\n          subTotal: parseFloat(venta_existente.subTotal) + parseFloat(new_prices.subtotalCalculo),\n          total: parseFloat(venta_existente.total) + new_prices.totalCalculo,\n          impuestos: parseFloat(venta_existente.impuestos) + new_prices.impuestoCalculo,\n          iva: parseFloat(venta_existente.iva) + new_prices.ivaCalculo,\n          ieps: parseFloat(venta_existente.ieps) + new_prices.iepsCalculo,\n          descuento: parseFloat(venta_existente.descuento) + new_prices.descuentoCalculo,\n          monedero: parseFloat(venta_existente.monedero) + new_prices.monederoCalculo,\n        };\n      }\n\n    }\n\n    localStorage.setItem(\n      \"DatosVentas\",\n      JSON.stringify({\n        ...CalculosData,\n        cliente:\n          venta_actual.venta_cliente === true ? venta_actual.cliente : {},\n        venta_cliente:\n          venta_actual.venta_cliente === true\n            ? venta_actual.venta_cliente\n            : false,\n        productos: productosVentasTemp,\n      })\n    );\n    setDatosVentasActual({\n      ...CalculosData,\n    });\n    setUpdateTablaVentas(!updateTablaVentas);\n\n  };\n\n  return (\n    <Fragment>\n      <SnackBarMessages alert={alert} setAlert={setAlert} />\n        <Box height='9%'>\n          <div className={classes.formInputFlex}>\n            <Box\n              width=\"100%\"\n              display=\"flex\"\n              justifyItems=\"center\"\n              alignSelf=\"center\"\n              justifySelf=\"center\"\n              alignItems=\"center\"\n            >\n              <Box mt={1} mr={1}>\n                <img\n                  src=\"https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/ventas/busqueda-de-codigos-de-barras.svg\"\n                  alt=\"iconoBander\"\n                  className={classes.iconSize}\n                />\n              </Box>\n              <Box width=\"100%\">\n                <Paper className={classes.rootBusqueda}>\n                  <InputBase\n                    width=\"100%\"\n                    fullWidth\n                    placeholder=\"Buscar producto...\"\n                    onKeyUp={keyUpEvent}\n                  />\n                  <IconButton>\n                    <Search />\n                  </IconButton>\n                </Paper>\n              </Box>\n            </Box>\n            <Box\n              width=\"100%\"\n              display=\"flex\"\n              justifyItems=\"center\"\n              alignSelf=\"center\"\n              justifySelf=\"center\"\n              alignItems=\"center\"\n            >\n              <Box mt={1} mr={1}>\n                <img\n                  src=\"https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/usuarios.svg\"\n                  alt=\"iconoBander\"\n                  className={classes.iconSize}\n                />\n              </Box>\n              <Box width=\"100%\" alignItems=\"center\">\n                <ClientesVentas sesion={sesion} />\n                {/* <Paper className={classes.rootBusqueda}>\n                  <InputBase fullWidth placeholder=\"Buscar cliente...\" />\n                  <IconButton>\n                    <Search />\n                  </IconButton>\n                </Paper> */}\n              </Box>\n            </Box>\n            {/* <Box width=\"100%\">\n              <MonedaCambio />\n            </Box> */}\n            <Box width=\"100%\" display=\"flex\">\n              <Box mr={1}>\n                <img\n                  src=\"https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/ventas/publicalo.svg\"\n                  alt=\"iconoBander\"\n                  className={classes.iconSize}\n                />\n              </Box>\n              <Box width=\"100%\" >\n                <FormControl variant=\"outlined\" fullWidth size=\"small\">\n                  <Select id=\"tipo_documento\" value=\"TICKET\" name=\"tipo_documento\">\n                    <MenuItem value=\"\">\n                      <em>Selecciona uno</em>\n                    </MenuItem>\n                    <MenuItem value=\"TICKET\">TICKET</MenuItem>\n                    <MenuItem value=\"FACTURA\">FACTURA</MenuItem>\n                    <MenuItem value=\"NOTA REMISION\">NOTA REMISION</MenuItem>\n                  </Select>\n                </FormControl>\n              </Box> \n            </Box>\n          </div>\n        </Box>\n\n        <Box height='65%'>\n          <TablaVentasCheckbox setDatosVentasActual={setDatosVentasActual} />\n        </Box>\n        \n        <Box display='flex' justifyContent='flex-end' flexDirection='column' height='25%'>\n          <Paper elevantion={3} style={{padding: 2, marginTop: 2}}> \n            <Grid container>\n              <Grid item lg={7}>\n                  <Grid \n                    container\n                    direction=\"row\"\n                    justifyContent=\"flex-end\"\n                    alignItems=\"center\"  \n                  >\n                    <Grid item lg={7}>\n                      <Box\n                        flexDirection=\"row-reverse\"\n                        display=\"flex\"\n                        alignItems=\"center\"\n                      >\n                        <Box>\n                          <Typography variant=\"subtitle1\">\n                            Cliente: <b style={{fontSize: 16}}>{clientesVentas ? clientesVentas.nombre_cliente : \"\"}</b>\n                          </Typography>\n                        </Box>\n                        <Box mt={.5} mr={1}>\n                          <FcBusinessman style={{fontSize: 19}} />\n                        </Box>\n                      </Box>\n                      <Box\n                        flexDirection=\"row-reverse\"\n                        display=\"flex\"\n                        alignItems=\"center\"\n                      >\n                        <Box>\n                        <Typography variant=\"subtitle1\">\n                            Cliente.: <b style={{fontSize: 16}}>{clientesVentas ? clientesVentas.numero_cliente : \"\"}</b>\n                          </Typography>\n                        </Box>\n                        <Box mt={.5} mr={1} >\n                          <AiOutlineFieldNumber style={{fontSize: 22}} />\n                        </Box>\n                      </Box>\n                      <Box\n                        flexDirection=\"row-reverse\"\n                        display=\"flex\"\n                        alignItems=\"center\"\n                      >\n                        <Box>\n                          <Typography variant=\"subtitle1\">\n                            Clave Clte.: <b style={{fontSize: 16}}>{clientesVentas ? clientesVentas.clave_cliente : \"\"}</b>\n                          </Typography>\n                        </Box>\n                        <Box mt={.5} mr={1}>\n                          <FaBarcode style={{fontSize: 19}} />\n                        </Box>\n                      </Box>\n                    </Grid>\n                    <Grid item lg={5}>\n                      <Box\n                        flexDirection=\"row-reverse\"\n                        display=\"flex\"\n                        alignItems=\"center\"\n                      >\n                        <Box>\n                          <Typography variant=\"subtitle1\">\n                            Limite Credito: <b style={{fontSize: 16}}>${clientesVentas ? clientesVentas.limite_credito : 0}</b>\n                          </Typography>\n                        </Box>\n                        <Box mt={.5} mr={1}>\n                          <FaMoneyCheckAlt style={{fontSize: 19}} />\n                        </Box>\n                      </Box>\n                      {/* <Box\n                        flexDirection=\"row-reverse\"\n                        display=\"flex\"\n                        alignItems=\"center\"\n                      >\n                        <Box>\n                          <Typography variant=\"subtitle1\">\n                          Descs.: <b style={{fontSize: 16}}>{clientesVentas ? clientesVentas.numero_descuento : 0}%</b>\n                          </Typography>\n                        </Box>\n                        <Box mt={.5} mr={1}>\n                          <AiOutlineFieldNumber style={{fontSize: 22}} />\n                        </Box>\n                      </Box> */}P\n                      <Box\n                        flexDirection=\"row-reverse\"\n                        display=\"flex\"\n                        alignItems=\"center\"\n                      >\n                        <Box>\n                          <Typography variant=\"subtitle1\">\n                            Dias Credito: <b style={{fontSize: 16}}>{clientesVentas ? clientesVentas.dias_credito : 0} Dias</b>\n                          </Typography>\n                        </Box>\n                        <Box mt={.5} mr={1}>\n                          <FcCalendar style={{fontSize: 19}} />\n                        </Box>\n                      </Box>\n                    </Grid>\n                  </Grid>\n              </Grid>\n              <Grid item lg={5}>\n                <Grid container>\n                  <Grid item lg={7}>\n                    <Box display=\"flex\" alignItems=\"center\" flexDirection=\"row-reverse\" >\n                      <Box>\n                        <Typography variant=\"subtitle1\">\n                          Monedero : <b style={{fontSize: 17}}>$ {DatosVentasActual ? DatosVentasActual?.monedero?.toFixed(2) : 0}</b>\n                        </Typography>\n                      </Box>\n                      <Box mt={.5} mr={1}>\n                        <FcSalesPerformance style={{fontSize: 19}} />\n                      </Box>\n                    </Box>\n                    <Box\n                      flexDirection=\"row-reverse\"\n                      alignItems=\"center\"\n                      display=\"flex\"\n                    >\n                      <Box>\n                        <Typography variant=\"subtitle1\">\n                          Descuento: <b style={{fontSize: 17}}>${DatosVentasActual ? DatosVentasActual?.descuento?.toFixed(2) : 0}</b>\n                        </Typography>\n                      </Box>\n                      <Box mt={.5} mr={1}>\n                        <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n                            <img \n                              src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/price-tag.png' \n                              alt=\"icono admin\" \n                              style={{width: 20}}                                   \n                            />\n                        </Box>\n                      </Box>\n                    </Box>\n                  </Grid>\n                  <Grid item lg={5}>\n                      <Box\n                        flexDirection=\"row-reverse\"\n                        display=\"flex\"\n                        mr={1}\n                      >\n                        <Typography variant=\"subtitle1\">\n                          Subtotal: <b style={{fontSize: 17}}>$ {DatosVentasActual?.subTotal ? DatosVentasActual?.subTotal?.toFixed(2) : 0}</b>\n                        </Typography>\n                      </Box>\n                      <Box display=\"flex\" flexDirection=\"row-reverse\" mr={1}>\n                        <Typography variant=\"subtitle1\">\n                          Impuestos: <b style={{fontSize: 17}}>$ {DatosVentasActual?.impuestos ? DatosVentasActual?.impuestos?.toFixed(2) : 0}</b>\n                        </Typography>\n                      </Box>\n                      {/* <Box\n                        flexDirection=\"row-reverse\"\n                        display=\"flex\"\n                        mr={1}\n                      >\n                        <Typography variant=\"subtitle1\" >\n                          Iva: <b style={{fontSize: 17}}>$ {DatosVentasActual?.iva ? DatosVentasActual.iva.toFixed(2) : 0}</b>\n                        </Typography>\n                      </Box> */}\n                  </Grid>\n                </Grid>\n              </Grid>\n            </Grid>\n            <Box display=\"flex\" flexDirection=\"row-reverse\" p={1}>\n              <Typography variant=\"h4\">\n                Total: <b style={{color: \"green\"}}>${DatosVentasActual?.total ? DatosVentasActual?.total.toFixed(2) : 0}</b>\n              </Typography>\n              <Box mt={.5} mr={1}>\n                <MonetizationOnIcon style={{fontSize: 37, color: \"green\"}} />\n              </Box>\n            </Box>\n          </Paper>\n        </Box>\n    </Fragment>\n  );\n}\n","import React, { useContext, useEffect, useState } from 'react'\nimport VentasGenerales from './VentasGenerales';\nimport { ClienteProvider } from '../../context/Catalogos/crearClienteCtx';\nimport AbrirTurno from '../ventas/AbrirCerrarTurno/AbrirTurno';\nimport { Box, CircularProgress, Grid, Paper, Typography } from '@material-ui/core';\nimport { VentasContext } from '../../context/Ventas/ventasContext';\n\nexport default function VentaIndex() {\n\n    const { turnoActivo, setTurnoActivo } = useContext(VentasContext);\n    const [ varActive, setVarActive ] = useState(false);\n    const turnoEnCurso = JSON.parse(localStorage.getItem('turnoEnCurso'));\n\n    useEffect(() => {\n        const sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n        setVarActive(sesion.turno_en_caja_activo);\n        setTurnoActivo(false);\n    }, [ turnoActivo ]);\n\n    return (\n        <ClienteProvider>\n            {varActive === true && turnoEnCurso ? (\n                <VentasGenerales />\n            ) : (\n                <AbrirTurnoEnVentas />\n            )}\n        </ClienteProvider>\n    )\n};\n\nfunction AbrirTurnoEnVentas() {\n\n    const [loading, setLoading] = useState(false);\n\n\tif (loading) \n\treturn (\n\t\t<Box\n\t\tdisplay=\"flex\"\n\t\tflexDirection=\"column\"\n\t\tjustifyContent=\"center\"\n\t\talignItems=\"center\"\n\t\theight=\"80vh\"\n\t\t>\n\t\t\t<CircularProgress />\n\t\t</Box>\n\t);\n\n    return(\n        <Grid\n            container\n            direction=\"row\"\n            justifyContent=\"center\"\n            alignItems=\"center\"\n        >\n            <Box mt={5} >\n                <Paper elevation={5}>\n                    <Box p={2} textAlign=\"center\">\n                        <Typography variant=\"h6\">\n                            Si deseas realizar ventas inicia tu turno primeramente.\n                        </Typography>\n                    </Box>\n                    <AbrirTurno type=\"FRENTE\" setLoading={setLoading} />\n                </Paper>\n            </Box>\n        </Grid>\n    )\n}\n","export default __webpack_public_path__ + \"static/media/logochafa.744b44f9.PNG\";","export default __webpack_public_path__ + \"static/media/admin.cecfcd64.svg\";","export default __webpack_public_path__ + \"static/media/cart-add.d563c74d.svg\";","import { Box, Button, Container, makeStyles } from '@material-ui/core';\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport logo from '../../img/logochafa.PNG';\nimport adminIcon from '../../icons/ventas/admin.svg';\nimport cartIcon from '../../icons/ventas/cart-add.svg';\nimport PowerSettingsNewRoundedIcon from '@material-ui/icons/PowerSettingsNewRounded';\n\nconst useStyles = makeStyles((theme) => ({\n\ticon: {\n\t\twidth: 150,\n        fontSize: 150\n\t},\n\n}));\n\nexport default function LayoutHome(props) {\n\tconst classes = useStyles();\n\tconst sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\n\tif (!sesion) props.history.push('/');\n\n    const signOut = () => {\n\t\tlocalStorage.removeItem('sesionCafi');\n\t\tlocalStorage.removeItem('tokenCafi');\n\t\tprops.history.push('/');\n\t};\n\n\treturn (\n\t\t<Container maxWidth=\"md\">\n\t\t\t<Box height=\"90vh\">\n\t\t\t\t<Box display=\"flex\" justifyContent=\"center\">\n\t\t\t\t\t<img alt=\"logo ab\" src={logo} />\n\t\t\t\t</Box>\n\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" my={6}>\n\t\t\t\t\t<Button component={Link} to=\"/admin/inicio\">\n\t\t\t\t\t\t<Box display=\"flex\" flexDirection=\"column\" textAlign=\"center\">\n\t\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\">\n\t\t\t\t\t\t\t\t<img src={adminIcon} alt=\"icono numero calzado\" className={classes.icon} />\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\tAdmin\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button component={Link} to=\"/ventas/venta-general\">\n\t\t\t\t\t\t<Box display=\"flex\" flexDirection=\"column\" textAlign=\"center\">\n\t\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\">\n\t\t\t\t\t\t\t\t<img src={cartIcon} alt=\"icono numero calzado\" className={classes.icon} />\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\tVentas\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Button>\n                    <Button color=\"secondary\" onClick={signOut}>\n\t\t\t\t\t\t<Box display=\"flex\" flexDirection=\"column\" textAlign=\"center\">\n\t\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\">\n\t\t\t\t\t\t\t\t<PowerSettingsNewRoundedIcon className={classes.icon} />\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\tCerrar sesion\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Button>\n\t\t\t\t</Box>\n\t\t\t</Box>\n\t\t</Container>\n\t);\n}\n","//layouts\nimport LayoutLogin from '../components/Layouts/LayoutLogin';\nimport LayoutAdmin from '../components/Layouts/LayoutAdmin';\nimport LayoutVentas from '../components/Layouts/LayoutVentas';\nimport LayoutHome from '../components/Layouts/LayoutHome';\n\n//sucursales pages\nimport AdminInicio from '../pages/sucursales/AdminInicio'\n\n//ventas pages\nimport Venta_index from '../pages/ventas/venta_index'\n\nconst routes = [\n\t{\n\t\tpath: '/',\n\t\tcomponent: LayoutLogin,\n\t\texact: true\n\t},\n\t{\n\t\tpath: '/home',\n\t\tcomponent: LayoutHome,\n\t\texact: true\n\t},\n\t{\n\t\tpath: '/admin',\n\t\tcomponent: LayoutAdmin,\n\t\texact: false,\n\t\troutes: [\n\t\t\t{\n\t\t\t\tpath: '/admin/inicio',\n\t\t\t\tcomponent: AdminInicio,\n\t\t\t\texact: true,\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tpath: '/ventas/venta-general',\n\t\tcomponent: LayoutVentas,\n\t\texact: false\n\t}\n\t\n];\n\nexport default routes;\n","export default \"data:image/jpeg;base64,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\"","import React from 'react';\nimport { RegProductoProvider } from '../../context/Catalogos/CtxRegProducto';\nimport AdminInicio from '../../pages/sucursales/AdminInicio';\nimport NavegacionAdmin from '../Navegaciones/NavegacionAdmin';\n\n\nexport default function LayoutAdmin(props) {\n    const sesion = localStorage.getItem(\"sesionCafi\");\n\n    if(!sesion) props.history.push('/');\n\n\treturn (\n\t\t<div>\n\t\t\t<RegProductoProvider>\n\t\t\t\t<NavegacionAdmin />\n\t\t\t\t<AdminInicio />\n\t\t\t</RegProductoProvider>\n\t\t</div>\n\t);\n}\n","import React from 'react';\nimport NavegacionVentas from '../Navegaciones/NavegacionVentas';\nimport NavegacionVentasLateral from '../Navegaciones/NavegacionVentasLateral';\nimport { Grid, Box } from '@material-ui/core';\nimport { VentasProvider } from '../../context/Ventas/ventasContext';\nimport VentaIndex from '../../pages/ventas/venta_index';\n\nexport default function LayoutVentas(props) {\n    const sesion = localStorage.getItem(\"sesionCafi\");\n\n    if(!sesion) props.history.push('/');\n\n\treturn (\n\t\t<Box height='100vh'>\n\t\t\t<VentasProvider>\n\t\t\t\t<Grid lg={12} style={{height: '10vh'}}>\n\t\t\t\t\t<NavegacionVentas />\n\t\t\t\t</Grid>\n\t\t\t\t<Grid container style={{height: '90vh'}}>\n\t\t\t\t\t<Grid lg={9}>\n\t\t\t\t\t\t<VentaIndex />\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid lg={3}>\n\t\t\t\t\t\t<NavegacionVentasLateral />\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</VentasProvider>\n\t\t</Box>\n\t);\n}","import { blue, grey } from '@material-ui/core/colors';\nimport { createMuiTheme } from '@material-ui/core/styles';\n\nconst theme = createMuiTheme({\n\tpalette: {\n\t\tnavbar: grey[50],\n\t\tprimary: {\n\t\t\tmain: blue[500]\n\t\t},\n\t\tsecondary: {\n\t\t\tmain: '#f50057'\n\t\t},\n\t}\n});\n\nexport default theme;\n","import {\n  ApolloClient,\n  /* createHttpLink, */ InMemoryCache,\n} from \"@apollo/client\";\nimport { createUploadLink } from \"apollo-upload-client\";\n\nconst httpLink = createUploadLink({\n\turi: 'https://cafi-punto-venta.herokuapp.com/'\n});\n\nconst client = new ApolloClient({\n  connectToDevTools: true,\n  cache: new InMemoryCache({\n    addTypename: false,\n  }),\n  link: httpLink,\n});\n\nexport default client;\n","import React from 'react';\nimport { Box, CssBaseline, ThemeProvider } from '@material-ui/core';\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\nimport routes from './config/routes';\nimport theme from './config/colors';\n\nimport client from './config/apollo';\nimport { ApolloProvider } from '@apollo/client';\nimport { AccesosProvider } from './context/Accesos/accesosCtx';\n\nfunction App() {\n\treturn (\n\t\t<Box height='100vh' >\n\t\t\t<ApolloProvider client={client}>\n\t\t\t\t<AccesosProvider>\n\t\t\t\t\t<div className=\"App\" >\n\t\t\t\t\t\t<ThemeProvider theme={theme}>\n\t\t\t\t\t\t\t<CssBaseline />\n\t\t\t\t\t\t\t<Router>\n\t\t\t\t\t\t\t\t<Switch>{routes.map((route, index) => <RoutesWithSubRoutes key={index} {...route} />)}</Switch>\n\t\t\t\t\t\t\t</Router>\n\t\t\t\t\t\t</ThemeProvider>\n\t\t\t\t\t</div>\n\t\t\t\t</AccesosProvider>\n\t\t\t</ApolloProvider>\n\t\t</Box>\n\t);\n}\n\nfunction RoutesWithSubRoutes(route) {\n\treturn (\n\t\t<Route\n\t\t\tpath={route.path}\n\t\t\texact={route.exact}\n\t\t\trender={(props) => <route.component routes={route.routes} {...props} />}\n\t\t/>\n\t);\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport \"./index.scss\"\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}