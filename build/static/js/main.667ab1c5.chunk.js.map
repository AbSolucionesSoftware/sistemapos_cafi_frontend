{"version":3,"sources":["gql/Catalogos/usuarios.js","components/SnackBarMessages.js","components/Layouts/LayoutLogin.js","context/Catalogos/initialStatesProducto.js","context/Catalogos/CtxRegProducto.js","context/Catalogos/empresaContext.js","components/Layouts/BackDrop.js","components/ErrorPage.js","gql/Empresa/empresa.js","pages/sucursales/Empresa/Datos/MisDatos.js","pages/sucursales/Facturacion/catalogos.js","gql/Facturacion/Facturacion.js","pages/sucursales/Facturacion/CFDISellos/RegistrarSellos.js","pages/sucursales/Facturacion/CFDISellos/EliminarCSD.js","pages/sucursales/Empresa/InformacionFiscal/InformacionFiscal.js","pages/sucursales/Empresa/DatosEmpresa.js","gql/Empresa/sucursales.js","config/reuserFunctions.js","pages/sucursales/Empresa/Sucursal/DatosSucursal.js","pages/sucursales/Empresa/Empresa.js","pages/sucursales/Catalogos/Producto/PreciosVenta/UnidadesVenta.js","pages/sucursales/Catalogos/Producto/PreciosVenta/Precios.js","pages/sucursales/Catalogos/Producto/unidades.js","pages/sucursales/Catalogos/Producto/calculos_precios.js","pages/sucursales/Catalogos/Producto/PreciosVenta/registrarInfoAdicional.js","context/Compras/comprasContext.js","pages/sucursales/Catalogos/Producto/TallasColores/TablaPresentaciones.js","pages/sucursales/Compras/AbrirCompra/productos/PreciosProductos.js","gql/Catalogos/productos.js","gql/Catalogos/colores.js","pages/sucursales/Catalogos/Producto/TallasColores/crearColor.js","gql/Catalogos/tallas.js","pages/sucursales/Catalogos/Producto/TallasColores/crearTalla.js","pages/sucursales/Catalogos/Producto/TallasColores/TallasColores.js","pages/sucursales/Compras/AbrirCompra/productos/TallasProducto.js","billing/Facturama/facturama.api.js","gql/CatalogosSat/catalogoProductosSat.js","pages/sucursales/Catalogos/Producto/DatosGenerales/CatalogoProductosSAT.js","gql/Catalogos/categorias.js","gql/Catalogos/departamentos.js","gql/Catalogos/marcas.js","pages/sucursales/Catalogos/Producto/DatosGenerales/RegistrarNuevoSelect.js","pages/sucursales/Catalogos/Producto/DatosGenerales/Categorias.js","pages/sucursales/Catalogos/Producto/DatosGenerales/Subcategorias.js","pages/sucursales/Catalogos/Producto/DatosGenerales/Departamentos.js","pages/sucursales/Catalogos/Producto/DatosGenerales/Marcas.js","pages/sucursales/Catalogos/Producto/DatosGenerales/registrarInfoGeneral.js","pages/sucursales/Catalogos/Producto/Imagenes/cargarImagenesProducto.js","context/Almacenes/crearAlmacen.js","gql/Almacenes/Almacen.js","pages/sucursales/Almacenes/RegistroAlmacen/ContainerRegistroAlmacen.js","pages/sucursales/Catalogos/Producto/Inventario&Almacen/AlmacenInicial.js","pages/sucursales/Catalogos/Producto/validaciones.js","gql/Catalogos/centroCostos.js","pages/sucursales/Catalogos/Producto/CentroCostos/CentroCostos.js","pages/sucursales/Catalogos/Producto/PrecioPlazos/PrecioPlazos.js","pages/sucursales/Catalogos/Producto/validateDatos.js","pages/sucursales/Catalogos/Producto/crearProducto.js","pages/sucursales/Compras/AbrirCompra/productos/PreciosVenta.js","pages/sucursales/Compras/AbrirCompra/productos/Descuentos.js","context/Catalogos/crearClienteCtx.js","pages/sucursales/Catalogos/Cliente/RegistrarInfoBasica.js","pages/sucursales/Catalogos/Cliente/RegistroInfoCredito.js","gql/Catalogos/clientes.js","pages/sucursales/Catalogos/Cliente/CrearCliente.js","gql/Compras/compras.js","pages/sucursales/Compras/AbrirCompra/initial_states.js","pages/sucursales/Compras/AbrirCompra/productos/DatosProveedorAlmacen.js","pages/sucursales/Compras/AbrirCompra/productos/mostrar_precios.js","pages/sucursales/Compras/AbrirCompra/productos/DatosProducto.js","pages/sucursales/Compras/AbrirCompra/productos/setOrResetData.js","pages/sucursales/Compras/AbrirCompra/TablaCompras.js","pages/sucursales/Compras/AbrirCompra/ConfirmarCompra.js","pages/sucursales/Compras/AbrirCompra/CompraCredito.js","pages/sucursales/Compras/AbrirCompra/AbrirCompra.js","pages/sucursales/Compras/ComprasRealizadas/ExportarProductosCompra.js","pages/sucursales/Compras/ComprasRealizadas/DatosDeCompra.js","pages/sucursales/Compras/ComprasRealizadas/ListaCompras.js","pages/sucursales/Compras/ComprasRealizadas/ExportarComprasExcel.js","pages/sucursales/Compras/ComprasRealizadas/ComprasRealizadas.js","pages/sucursales/Compras/ComprasEnEspera/VerificarProductos.js","pages/sucursales/Compras/ComprasEnEspera/DatosDeCompraEspera.js","pages/sucursales/Compras/ComprasEnEspera/ListaEnEspera.js","pages/sucursales/Compras/ComprasEnEspera/ComprasEnEspera.js","pages/sucursales/Compras/Compras.js","pages/sucursales/Catalogos/Cliente/ListaClientes.js","pages/sucursales/Catalogos/Cliente/Cliente.js","gql/Catalogos/descuentos.js","pages/sucursales/Catalogos/Producto/Descuentos/ListaPrecios.js","pages/sucursales/Catalogos/Producto/Descuentos/Descuento.js","pages/sucursales/Catalogos/Producto/infoProductoDrawer.js","pages/sucursales/Catalogos/Producto/EliminarProducto.js","pages/sucursales/Catalogos/Producto/ListaProductos.js","pages/sucursales/Catalogos/Producto/ProductosEliminados.js","pages/sucursales/Catalogos/Producto/Productos.js","pages/sucursales/Catalogos/Producto/index.js","pages/sucursales/Catalogos/Tallas/ListaTallas.js","pages/sucursales/Catalogos/Tallas/RegistroTallas.js","pages/sucursales/Catalogos/Tallas/Tallas.js","gql/Catalogos/contabilidad.js","pages/sucursales/Catalogos/Contabilidad/ListaServicios.js","pages/sucursales/Catalogos/Contabilidad/RegistroServicio.js","pages/sucursales/Catalogos/Contabilidad/Contabilidad.js","pages/sucursales/Catalogos/Proveedores/ListaProveedores.js","pages/sucursales/Catalogos/Proveedores/Proovedores.js","pages/sucursales/Catalogos/Cajas/ListaCajas.js","gql/Cajas/cajas.js","pages/sucursales/Catalogos/Cajas/RegistrarCajas.js","pages/sucursales/Catalogos/Cajas/Cajas.js","pages/sucursales/Catalogos/Usuarios/AsingarAccesos/arregloVacioAcceso.js","context/Catalogos/usuarioContext.js","pages/sucursales/Catalogos/Usuarios/FormularioUsuario.js","pages/sucursales/Catalogos/Usuarios/AsingarAccesos/Parametros.js","pages/sucursales/Catalogos/Usuarios/AsingarAccesos/Departamentos/Catalogos.js","pages/sucursales/Catalogos/Usuarios/AsingarAccesos/Departamentos/MiEmpresa.js","pages/sucursales/Catalogos/Usuarios/AsingarAccesos/Departamentos/Compras.js","pages/sucursales/Catalogos/Usuarios/AsingarAccesos/Departamentos/Almacenes.js","pages/sucursales/Catalogos/Usuarios/AsingarAccesos/Departamentos/Tesoreria.js","pages/sucursales/Catalogos/Usuarios/AsingarAccesos/Departamentos/Reportes.js","pages/sucursales/Catalogos/Usuarios/AsingarAccesos/Departamentos/Ventas.js","pages/sucursales/Catalogos/Usuarios/AsingarAccesos/Departamentos/Facturacion.js","pages/sucursales/Catalogos/Usuarios/AsingarAccesos/AsignarPermisos.js","pages/sucursales/Catalogos/Usuarios/CrearUsuario.js","pages/sucursales/Catalogos/Usuarios/ListaUsuario.js","pages/sucursales/Catalogos/Usuarios/Usuarios.js","context/Catalogos/Departamentos.js","pages/sucursales/Catalogos/Departamentos/ListaDepartamentos.js","pages/sucursales/Catalogos/Departamentos/RegistroDepartamento.js","pages/sucursales/Catalogos/Departamentos/Departamentos.js","pages/sucursales/Catalogos/Categorias/RegistroCategorias.js","pages/sucursales/Catalogos/Categorias/Categorias.js","pages/sucursales/Catalogos/Colores/ListaColores.js","pages/sucursales/Catalogos/Colores/RegistroColores.js","pages/sucursales/Catalogos/Colores/Colores.js","pages/sucursales/Catalogos/Marcas/ListaMarcas.js","context/Catalogos/Marcas.js","pages/sucursales/Catalogos/Marcas/VistaMarcas.js","pages/sucursales/Catalogos/Marcas/Marcas.js","pages/sucursales/Catalogos/CentroCostos/RegistroCentroCostos.js","pages/sucursales/Catalogos/CentroCostos/CentroCostos.js","gql/Catalogos/conceptosAlmacen.js","pages/sucursales/Catalogos/ConceptosAlmacen/ListaConceptos.js","pages/sucursales/Catalogos/ConceptosAlmacen/RegistroConcepto.js","pages/sucursales/Catalogos/ConceptosAlmacen/ConceptosAlmacen.js","pages/sucursales/Catalogos/Catalogos.js","context/Tesoreria/tesoreriaCtx.js","pages/sucursales/Tesoreria/CuentasEmpresaSucursales/RetiroDeposito.js","pages/sucursales/Tesoreria/CuentasEmpresaSucursales/HistorialCuentas.js","pages/sucursales/Tesoreria/CuentasEmpresaSucursales/ListaCuentas.js","pages/sucursales/Tesoreria/CuentasEmpresaSucursales/CuentasEmpresaSucursales.js","gql/Tesoreria/egresos.js","pages/sucursales/Tesoreria/Egresos/TablaProductosEgresos.js","pages/sucursales/Tesoreria/Egresos/FormRegistroEgresos.js","pages/sucursales/Tesoreria/Egresos/VistaRegistroEgreso.js","pages/sucursales/Tesoreria/Egresos/Egresos.js","pages/sucursales/Tesoreria/Abonos/Provedores/Components/DetalleCuenta/TablaCompras.js","gql/Tesoreria/abonos.js","pages/sucursales/Tesoreria/Abonos/Provedores/Components/DetalleCuenta/TablaDeAbonos.js","pages/sucursales/Tesoreria/Abonos/Provedores/Components/AbonoPercibir.js","pages/sucursales/Tesoreria/Abonos/Provedores/Components/DetalleCuenta/DetallesCuenta.js","pages/sucursales/Tesoreria/Abonos/Provedores/Components/LiquidarCuenta.js","pages/sucursales/Tesoreria/Abonos/Provedores/Components/TablaAbonos.js","pages/sucursales/Tesoreria/Abonos/Provedores/AbonosProovedores.js","pages/sucursales/Tesoreria/Abonos/Clientes/Components/DetalleCuenta/TablaCompras.js","pages/sucursales/Tesoreria/Abonos/Clientes/Components/DetalleCuenta/TablaDeAbonos.js","pages/sucursales/Tesoreria/Abonos/Clientes/Components/DetalleCuenta/DetallesCuenta.js","pages/sucursales/Tesoreria/Abonos/Clientes/Components/LiquidarCuenta.js","pages/sucursales/Tesoreria/Abonos/Clientes/Components/TablaAbonos.js","pages/sucursales/Tesoreria/Abonos/Clientes/Components/AbonoPercibir.js","pages/sucursales/Tesoreria/Abonos/Clientes/AbonosClientes.js","pages/sucursales/Tesoreria/Tesoreria.js","pages/sucursales/Tesoreria/IndexTesoreria.js","context/Facturacion/facturacionCtx.js","pages/sucursales/Facturacion/NuevaFactura/ListaVentas/ProductosSinClave.js","gql/Ventas/ventas_generales.js","pages/sucursales/Facturacion/NuevaFactura/ListaVentas/ListaVentasFactura.js","pages/sucursales/Facturacion/NuevaFactura/Catalogos/CodigoPostal.js","pages/sucursales/Facturacion/NuevaFactura/ClientesSelect.js","pages/sucursales/Facturacion/NuevaFactura/RegistroFactura.js","pages/sucursales/Facturacion/NuevaFactura/TablaVenta/EditarProductoFactura.js","pages/sucursales/Facturacion/NuevaFactura/TablaVenta/EliminarProductoFactura.js","pages/sucursales/Facturacion/NuevaFactura/TablaVenta/TablaDetallesFactura.js","pages/sucursales/Facturacion/NuevaFactura/initial_factura_states.js","pages/sucursales/Facturacion/NuevaFactura/RealizarFactura.js","pages/sucursales/Facturacion/NuevaFactura/CancelarFactura.js","pages/sucursales/Facturacion/NuevaFactura/NuevaFactura.js","pages/sucursales/Facturacion/CFDISeries/RegistroSeries.js","pages/sucursales/Facturacion/CFDISeries/ListaSeries.js","pages/sucursales/Facturacion/CFDISeries/SeriesCdfi.js","pages/sucursales/Facturacion/FacturasRealizadas/ExportarProductosFactura.js","pages/sucursales/Facturacion/FacturasRealizadas/DatosFactura.js","pages/sucursales/Facturacion/FacturasRealizadas/ListaFacturas.js","pages/sucursales/Facturacion/FacturasRealizadas/ExportarListaFacturasExcel.js","pages/sucursales/Facturacion/FacturasRealizadas/FacturasRealizadas.js","pages/sucursales/Facturacion/Facturacion.js","pages/sucursales/Almacenes/RegistroAlmacen/ListaAlmacen.js","pages/sucursales/Almacenes/RegistroAlmacen/RegistroAlmacen.js","icons/almacen.svg","context/Almacenes/traspasosAlmacen.js","components/Traspasos/TablePresentacionesNotOrigen.js","components/Traspasos/TallasColoresTraspasos.js","components/Traspasos/TableSelectMedidas.js","components/Traspasos/TableSelectProducts.js","pages/sucursales/Almacenes/Traspasos/Traspasos.js","pages/sucursales/Almacenes/InventarioPorAlmacen/ListaProductos.js","components/ExportExcel.js","pages/sucursales/Almacenes/InventarioPorAlmacen/InventariosPorAlmacen.js","pages/sucursales/Almacenes/Almacenes.js","pages/sucursales/Reportes/Cajas/TablaHistorialFiltrado.js","pages/sucursales/Reportes/Cajas/HistorialCaja.js","pages/sucursales/Reportes/Cajas/CardCaja.js","pages/sucursales/Reportes/Cajas/Cajas.js","pages/sucursales/Reportes/TurnosUsuarios/TablaTurnosFiltrados.js","gql/Ventas/abrir_cerrar_turno.js","pages/sucursales/Reportes/TurnosUsuarios/ReportesTurnosUsuarios.js","pages/sucursales/Reportes/Compras/TablaComprasFiltradas.js","gql/Compras/reporte_compras.js","pages/sucursales/Reportes/Compras/ExportarCompras.js","pages/sucursales/Reportes/Compras/FiltrosCompra.js","pages/sucursales/Reportes/Compras/ReportesCompras.js","pages/sucursales/Reportes/Ventas/TablaVentasFiltradas.js","pages/sucursales/Reportes/Ventas/ReportesVentas.js","pages/sucursales/Reportes/Almacenes/ExportarTraspasos.js","pages/sucursales/Reportes/Almacenes/TablaAlmacenFiltradas.js","pages/sucursales/Reportes/Almacenes/ReportesAlmacen.js","pages/sucursales/Reportes/Cortes/TablaCortesFiltradas.js","pages/sucursales/Reportes/Cortes/ExportExcel.js","pages/sucursales/Reportes/Cortes/ReportesCortes.js","pages/sucursales/Reportes/Tesoreria/ListaEgresos.js","pages/sucursales/Reportes/Tesoreria/ListaTransferencias.js","pages/sucursales/Reportes/Tesoreria/Reporte_Tesoreria.js","pages/sucursales/Reportes/Reportes.js","pages/sucursales/AdminInicio.js","components/Navegaciones/NavegacionAdmin.js","components/Navegaciones/styles.js","pages/ventas/styles.js","context/Ventas/ventasContext.js","pages/ventas/Operaciones/DepositoRetiroCaja.js","pages/ventas/AbrirCerrarTurno/AbrirTurno.js","pages/ventas/AbrirCerrarTurno/CerrarTurno.js","pages/ventas/AbrirCerrarTurno/Turnos.js","context/Accesos/accesosCtx.js","pages/ventas/Operaciones/PreCorteCaja.js","pages/ventas/Operaciones/VentaEnEspera.js","pages/ventas/ArticuloRapido/RegistroInformacionRapido.js","pages/ventas/ArticuloRapido/TallasColoresRapidos/TablaPresentaciones.js","pages/ventas/ArticuloRapido/TallasColoresRapidos/TallasColoresRapidos.js","components/AccesosPassword/Acceso.js","pages/ventas/ArticuloRapido/ArticuloRapido.js","pages/ventas/ArticuloRapido/indexArticuloRapido.js","pages/ventas/Cotizacion/CotizacionesPendientes.js","pages/ventas/Cotizacion/ListaCotizaciones.js","components/Navegaciones/NavegacionVentas.js","pages/ventas/Abonos/Abonos.js","pages/ventas/BuscarProductos/ListaProductos.js","pages/ventas/BuscarProductos/InformacionProducto.js","pages/ventas/BuscarProductos/BuscarProducto.js","pages/ventas/ClientesVentas/ClientesVentas.js","gql/Ventas/cotizaciones.js","pages/ventas/Cotizacion/NuevaCotizacion.js","pages/ventas/Cotizacion/Cotizacion.js","pages/ventas/Operaciones/CancelarVenta.js","pages/ventas/Operaciones/CerrarVenta.js","pages/ventas/Operaciones/ConsultarPrecio.js","pages/ventas/Operaciones/PreciosProducto.js","pages/ventas/VentasEspera/ListaVentas.js","pages/ventas/VentasEspera/VentasEspera.js","pages/ventas/VentasRealizadas/ListaVentasRealizadas.js","pages/ventas/VentasRealizadas/VentasRealizadas.js","components/Navegaciones/NavegacionVentasLateral.js","pages/ventas/EliminarProductoVenta.js","pages/ventas/Tabla_ventas_checkbox.js","pages/ventas/ClientesVentas.js","pages/ventas/VentasGenerales.js","pages/ventas/venta_index.js","img/logochafa.PNG","icons/ventas/admin.svg","icons/ventas/cart-add.svg","components/Layouts/LayoutHome.js","config/routes.js","img/abLogo.jpeg","components/Layouts/LayoutAdmin.js","components/Layouts/LayoutVentas.js","config/colors.js","config/apollo.js","App.js","reportWebVitals.js","index.js"],"names":["CREAR_USUARIO","gql","OBTENER_USUARIOS","ACTUALIZAR_USUARIO","LOGEAR_USUARIO","LOGEAR_USUARIO_ACCESOS","useStyles","makeStyles","theme","snack","zIndex","SnackBarMessages","alert","setAlert","classes","Portal","Snackbar","className","anchorOrigin","vertical","horizontal","open","onClose","status","message","autoHideDuration","Box","display","style","color","mr","Typography","margin","marginTop","spacing","marginBottom","containerImagen","maxWidth","maxHeight","imagen","width","height","initial_state_datos_generales","receta_farmacia","clave_producto_sat","Name","Value","initial_state_precios","monedero","monedero_electronico","iva_activo","ieps_activo","ieps","iva","granel","inventario","inventario_minimo","inventario_maximo","unidad_de_inventario","codigo_unidad","precio_de_compra","precio_con_impuesto","precio_sin_impuesto","unidad_de_compra","unidad","cantidad","precio_unitario_sin_impuesto","precio_unitario_con_impuesto","initial_state_unidadVentaXDefecto","codigo_barras","precio","descuento_activo","precio_unidad","numero_precio","precio_neto","precio_venta","unidad_mayoreo","iva_precio","ieps_precio","utilidad","precio_general","cantidad_unidad","unidad_maxima","unidad_principal","default","initial_state_unidadVentaSecundaria","initial_state_preciosP","initial_state_unidadesVenta","initial_state_almacen_inicial","id_almacen","almacen","fecha_de_expiracion","initial_state_centro_de_costos","initial_state_preciosPlazos","precio_piezas","precio_cajas","precio_costales","initial_state_subcategorias","initial_state_imagenes","initial_state_imagenes_eliminadas","initial_state_onPreview","index","image","initial_state_validacion","error","initial_state_subcostos","initial_state_presentaciones","RegProductoContext","createContext","RegProductoProvider","children","useState","datos_generales","setDatosGenerales","precios","setPrecios","unidadVentaXDefecto","setUnidadVentaXDefecto","unidadVentaSecundaria","setUnidadVentaSecundaria","preciosP","setPreciosP","unidadesVenta","setUnidadesVenta","almacen_inicial","setAlmacenInicial","centro_de_costos","setCentroDeCostos","preciosPlazos","setPreciosPlazos","subcategorias","setSubcategorias","imagenes","setImagenes","imagenes_eliminadas","setImagenesEliminadas","onPreview","setOnPreview","validacion","setValidacion","subcostos","setSubcostos","selectedDate","setSelectedDate","update","setUpdate","presentaciones","setPresentaciones","presentaciones_eliminadas","setPresentacionesEliminadas","React","actualizarLista","setActualizarLista","datosPreciosProducto","setDatosPreciosProducto","preciosDescuentos","setPreciosDescuentos","preciosProductos","setPreciosProductos","datosEnDescuentos","setDatosEnDescuentos","almacen_existente","setAlmacenExistente","Provider","value","EmpresaContext","EmpresaProvider","nombre_empresa","nombre_dueno","telefono_dueno","celular","correo_empresa","nombre_fiscal","rfc","regimen_fiscal","curp","info_adicio","direccion","calle","no_ext","no_int","codigo_postal","colonia","municipio","localidad","estado","pais","direccionFiscal","datosBancarios","cuenta","sucursal","clave_banco","empresa","setEmpresa","toUpdate","setToUpdate","setError","backdrop","drawer","backgroundColor","BackdropComponent","loading","setLoading","Backdrop","CircularProgress","ErrorPage","altura","flexDirection","justifyContent","alignItems","fontSize","align","OBTENER_DATOS_EMPRESA","ACTUALIZAR_EMPRESA","appBar","position","title","marginLeft","flex","icon","subtitle","require","avatarContainer","border","borderRadius","avatar","MisDatos","props","sesion","JSON","parse","localStorage","getItem","loadingPage","setLoadingPage","accesos","mi_empresa","datos_empresa","editar","bloqueo","preview","setPreview","errorPage","setErrorPage","errorForm","setErrorForm","useContext","useMutation","actualizarEmpresa","useQuery","variables","id","_id","data","refetch","valor_puntos","empresaDatos","setEmpresaDatos","useEffect","errorCatch","undefined","obtenerEmpresa","actEmp","a","input","console","log","networkError","result","graphQLErrors","obtenerCampos","e","valor","target","name","parseFloat","obtenerCamposDireccion","onDrop","useCallback","acceptedFiles","reader","FileReader","readAsDataURL","onload","useDropzone","accept","noKeyboard","getRootProps","getInputProps","Container","Grid","container","item","md","Avatar","src","TextField","fullWidth","disabled","type","size","variant","helperText","onChange","inputMode","mt","Divider","DialogActions","Button","onClick","setOpen","usosCfdi","tiposCfdi","NameId","tipoCambio","formaPago","metodoPago","regimenFiscal","Natural","Moral","CREAR_FACTURA","CREAR_SERIE","ACTUALIZAR_DEFAULT_SERIE","ELIMINAR_SERIE","OBTENER_SERIES","CREAR_SELLO_CFDI","ELIMINAR_SELLO_CFDI","RegistroSellos","datosEmpresa","firma_disabled","certificate","private_key","private_key_password","datos","setDatos","show","setShow","handleClose","crearCSDS","obtenerFiles","files","getBase64","file","Promise","resolve","baseURL","guardarBD","cer","key","then","base","split","nombre_cer","catch","err","nombre_key","startIcon","Add","Dialog","DialogTitle","DialogContent","mb","InputProps","endAdornment","InputAdornment","htmlFor","CloudUpload","component","disableElevation","readOnly","multiple","my","IconButton","onMouseDown","event","preventDefault","edge","Done","EliminarSellos","eliminarCSD","eliminarSelloCSD","DeleteOutline","DialogContentText","InformacionFiscal","informacion_fiscal","setFirmaDisabled","empresaFiscal","setEmpresaFiscal","new_sesion","setItem","stringify","sello_sat","limite_timbres","timbres_usados","response","obtenerCamposBancarios","xs","FormControl","Select","MenuItem","map","res","multiline","m","Alert","severity","action","AlertTitle","sm","Transition","forwardRef","ref","Slide","direction","MiEmpresa","setValue","fullScreen","TransitionComponent","AppBar","Toolbar","Tabs","indicatorColor","Tab","label","OBTENER_SUCURSALES","OBTENER_DATOS_SUCURSAL","ACTUALIZAR_SUCURSAL","CREAR_MOVIMIENTO_CUENTA","OBTENER_HISTORIAL_CUENTAS","numerosRandom","min","max","Math","floor","random","formatoFecha","fecha","Date","toLocaleDateString","weekday","year","month","day","formatoFechaCorta","formatoMexico","number","toFixed","toString","replace","cleanTypenames","Array","isArray","newObject","property","findProductArray","producto","venta","productosVentas","productos","found","producto_found","i","length","id_producto","clave_alterna","calculatePrices2","newP","origen","precio_boolean","cantidadNueva","valor_granel","precio_actual","descuento","cantidadCaja","cantidad_unidads","ivaCalculo","iepsCalculo","impuestoCalculo","subtotalCalculo","totalCalculo","monederoCalculo","descuentoCalculo","ob","cantidad_venta","granel_producto","precio_a_vender","precio_actual_producto","precio_actual_object","porciento","dinero_descontado","precio_anterior","verifiPrising","amount","pricings","precios_producto","filter","p","finalPrising","pricing","number_pricing","object_prising","datoFinal","precio_seleccionado","DatosSucursal","actualizarSucursal","nombre_sucursal","descripcion","telefono","sucursalDatos","setSucursalDatos","obtenerDatosSucursal","flexdirection","autoFocus","Empresa","justify","lg","ver","PreciosDeCompra","TableContainer","Table","TableHead","TableRow","TableCell","TableBody","LocalOffer","Checkbox","checked","inputProps","UnidadesVentaSecundaria","setPrecio","calcularUnidadDesucuento","precio_unit","precio_venta_unit","suma_impuestos","PVSI","porcentaje","PVCDSI","dineroDescontado","PCSI","calcularUnidadDesucuentoCheck","boolean","calcularUnidad","PVCI","unidad_secundaria","OutlinedInput","GenCodigoBarras","Cached","onBlur","startAdornment","Tooltip","placement","arrow","aplicarDescuento","precioTitle","marginInput","titulos","fontWeight","PreciosDeVenta","newPreciosP","RenderPreciosP","preciosVenta","calculos","cantidad_sec","descuento_sec","descuento_activo_sec","PUCSI","utilidad_base","unidadXDefecto","unidadSecundaria","new_precio_venta_desc","precio_con_descuento","new_precio_venta_desc_sec","precio_con_descuento_sec","splice","verificarCampoVacio","minWidth","valor_base","PCCI","obtenerUtilidad","pl","suma","obtenerPrecioNeto","parseInt","obtenerMayoreo","unitCodes","unitCodes_granel","calcular_iva","calcular_ieps","required","RegistroInfoAdidional","obtenerIva","setPrecioConImpuesto","setPrecioSinImpuesto","obtenerIeps","precioConImpuesto","precioSinImpuesto","useDebounce","PCI","PSI","obtenerUnidadCompra","child","unidad_activa","total_impuesto","isNaN","obtenerPrecioConImpuesto","obtenerPrecioSinImpuesto","noWrap","onFocus","FormHelperText","ComprasContext","ComprasProvider","costo","cantidad_regalo","unidad_regalo","cantidad_total","descuento_porcentaje","descuento_precio","iva_total","ieps_total","subtotal","impuestos","total","mantener_precio","subtotal_descuento","total_descuento","datosProducto","setDatosProducto","proveedor","en_espera","fecha_registro","moment","locale","format","compra_credito","fecha_vencimiento_credito","credito_pagado","saldo_credito_pendiente","forma_pago","descuento_aplicado","cantidad_descontada","datosCompra","setDatosCompra","setPreciosVenta","productoOriginal","setProductoOriginal","productosCompra","setProductosCompra","isEditing","setIsEditing","editFinish","setEditFinish","setCosto","setCantidad","issue","setIssue","loadingProductos","setLoadingProductos","descuentoCompra","setDescuentoCompra","compareFunction","b","medida","talla","localeCompare","root","paper","table","tableRow","alpha","palette","primary","main","visuallyHidden","clip","overflow","padding","top","colorContainer","TablaPresentaciones","from","setOnUpdate","onUpdate","withoutPrice","onlyPrice","mostrar_presentaciones","sort","Paper","stickyHeader","RenderPresentacionesRows","disabledInput","setDisabledInput","textfield","useRef","copy_presentaciones","copy_element_presentacion","copy_element_presentacion_descuento","copy_producto","obtenerDatos","existencia","cantidad_nueva","actionButton","hover","selected","Input","inputRef","nuevo","nombre_comercial","Chip","nombre","Zoom","hex","LocalOfferOutlined","checkedIcon","Edit","TabPanel","other","role","hidden","a11yProps","AlertDialogSlide","agregarCompra","cargando","toggleDrawer","resetProducto","new_precios","unidades_de_venta","unidades_secundaria","unidadxdefecto","actualizarContextProducto","keepMounted","tipo_producto","newValue","scrollButtons","textColor","LocalAtm","SquareFoot","OBTENER_CONSULTAS","CREAR_PRODUCTO","OBTENER_PRODUCTOS","ACTUALIZAR_PRODUCTO","ELIMINAR_PRODUCTO","PRODUCTOS_ELIMINADOS","ACTIVAR_PRODUCTOS","CREAR_PRODUCTO_RAPIDO","CREAR_COLOR","OBTENER_COLORES","ACTUALIZAR_COLOR","ELIMINAR_COLOR","CrearColorProducto","setColor","values","setValues","toggleModal","crearColor","GuardarDatosBD","colores","scroll","disableEscapeKeyDown","reason","onChangeComplete","toUpperCase","bgcolor","onSubmit","focused","form","CREAR_TALLAS","OBTENER_TALLAS","ACTUALIZAR_TALLA","ELIMINAR_TALLA","CrearTallasProducto","setMedidasSeleccionadas","crearTalla","nueva_talla","tipo","cursor","ColoresTallas","obtenerConsultasProducto","tallas","calzados","medidasSeleccionadas","coloresSeleccionados","setColoresSeleccionados","medidas","obtenerColoresSeleccinados","colors","forEach","element","push","hashColor","hashMedida","colores_existentes","existColor","medidas_existentes","existMedida","pointerEvents","opacity","mx","RenderTallas","useTheme","setSelected","seleccionarMedidas","medidas_registradas","medidas_seleccionadas_temp","presentacion_temp","array_medidad_finales","producto_medida","k","producto_color","presentacion_existente","producto_array_final","x","objeto_presentaciones_final","handleAddTallas","getContrastText","Colores","seleccionarColores","obtenerColores","verificate","setVerificate","disableHoverListener","valuesFacturama","$","ajaxSetup","beforeSend","xhr","withCredentials","setRequestHeader","facturama","settings","url","retrieve","path","callback","jQuery","get","list","postSyncWithData","callbackError","ajax","dataType","contentType","success","putSyncWithData","deleteSyncWithParam","param","async","facturamaObject","Clients","Get","List","Create","Remove","Update","Products","BranchOffice","Series","idBranch","Cfdi","listWithParam","Send","postSyncWithParam","Cancel","params","Download","Acuse","TaxEntity","UploadCsd","UploadImage","Catalogs","States","country","Municipalities","state","Localities","Neighborhoods","postalCode","ProductsOrServices","keyword","PostalCodes","Units","Currencies","Countries","PaymentForms","PaymentMethods","FederalTaxes","FiscalRegimens","CfdiTypes","RelationTypes","CfdiUses","CREAR_CODIGO_PRODUCTO","ELIMINAR_CODIGO_PRODUCTO","background","spin_container","spin","CatalogosProductosSAT","codigos","busqueda","setBusqueda","setProductos","loading_save","setLoadingSave","loading_delete","setLoadingDelete","selectedIndex","setSelectedIndex","crearCodigoProducto","eliminarCodigoProducto","limpiarDataModal","handleOk","eliminarCodigoBD","handleCancel","buscarCatalogo","Facturama","responseJSON","Message","Autocomplete","options","getOptionLabel","option","renderInput","renderOption","flexGrow","_","getOptionSelected","Search","dense","SelectedListItem","contiene","includes","ListItem","button","click","detail","ListItemText","CREAR_CATEGORIA","CREAR_SUBCATEGORIA","ACTUALIZAR_CATEGORIA","ACTUALIZAR_SUBCATEGORIA","OBTENER_CATEGORIAS","ELIMINAR_CATEGORIA","ELIMINAR_SUBCATEGORIA","OBTENER_DEPARTAMENTOS","REGISTRAR_DEPARTAMENTO","ACTUALIZAR_DEPARTAMENTO","ELIMINAR_DEPARTAMENTO","OBTENER_MARCAS","REGISTRAR_MARCAS","ACTUALIZAR_MARCAS","ELIMINAR_MARCAS","RegistrarNuevoSelect","crearCategoria","crearSubcategoria","CrearDepartamentos","CrearMarca","handleToggle","guardarDatos","idCategoria","id_categoria","categoria_creada","categoria","subcategoria_creada","id_subcategoria","subcategoria","departamento_creado","id_departamento","crearDepartamentos","departamento","marca_creada","id_marca","crearMarcas","marca","endIcon","CategoriasProducto","categorias","SubcategoriasProducto","DepartamentosProducto","departamentos","nombre_departamentos","MarcasProducto","marcas","nombre_marca","formInput","obligatorio","RegistroInfoGenerales","centro_costos","obtenerChecks","costos","id_cuenta","subcuentas","Autorenew","nombre_generico","FormControlLabel","control","formInputFlex","CargarImagenesProducto","render_imagenes","URL","createObjectURL","AddPhotoAlternate","minHeight","orientation","alt","RenderImagenes","key_imagen","url_imagen","handleModal","eliminarImagen","array","ModalDelete","Delete","CrearAlmacenContext","AlmacenProvider","nombre_almacen","id_usuario_encargado","datosAlmacen","setDatosAlmacen","openRegistro","setOpenRegistro","REGISTRO_ALMACEN","OBTENER_ALMACENES","ACTUALIZAR_ALMACEN","OBTENER_PRODUCTOS_ALMACEN","REALIZAR_TRASPASO","OBTENER_PRODUCTOS_EMPRESA","OBTENER_TRASPASOS","ContainerRegistroAlmacen","accion","CrearAlmacen","ActualizarAlmacen","obtenerUsuarios","limpiarCampos","onCloseModal","saveData","almacen_creado","crearAlmacen","id_sucursal","labelId","user","RegistroAlmacenInicial","almacenes","obtenerInventario","validaciones","generales","vista3","vista1","vista2","CREAR_CUENTA","CREAR_SUBCUENTA","ACTUALIZAR_CUENTA","ACTUALIZAR_SUBCUENTA","OBTENER_CUENTAS","ELIMINAR_CUENTA","ELIMINAR_SUBCUENTA","CentroCostos","obtenerAlmacenes","subcuenta","crearCuenta","crearSubcuenta","idCuenta","cuenta_creada","subcuenta_creada","id_subcuenta","validateJsonEdit","object_date","end_array","object","root_app","iconSvg","dialogContent","tabs","borderRight","divider","CrearProducto","productosRefetch","fromCompra","getProductos","crearProducto","actualizarProducto","setInitialStates","resetInitialStates","validate","vista7","copy_unidadesVenta","imagenes_without_aws","precio_plazos","usuario","medidas_producto","inventario_general","window","onkeydown","keyCode","document","getElementById","saveButton","ButtonActions","NavigateNext","Badge","badgeContent","invisible","NavigateBefore","ContenidoModal","fetchPolicy","PreciosDeVentaCompras","numero","RenderPrecios","setPrecioNeto","copy_preciosVenta","preciosVenta_base","calculosCompra","DescuentosInputs","round","obtenerPrecio","obtenerPorcentaje","ClienteCtx","ClienteProvider","estado_cliente","cliente","setCliente","updateClientVenta","setUpdateClientVenta","RegistrarInfoBasica","numero_cliente","nombre_cliente","representante","clave_cliente","fecha_nacimiento","email","RegistrarInfoCredito","razon_social","numero_descuento","limite_credito","dias_credito","banco","numero_cuenta","CREAR_CLIENTE","OBTENER_CLIENTES","ACTUALIZAR_CLIENTE","ELIMINAR_CLIENTE","CrearCliente","ventas","handleClickOpen","crearCliente","actualizarCliente","copy_cliente","tipo_cliente","clienteBase","venta_actual","subTotal","venta_cliente","elevation","CREAR_COMPRA","CREAR_COMPRA_ESPERA","OBTENER_COMPRAS_REALIZADAS","OBTENER_COMPRAS_ESPERA","OBTENER_CONSULTA_GENERAL_PRODUCTO","ELIMINAR_COMPRA_ESPERA","initial_state_datosProducto","initial_state_datosCompra","initial_state_precios_venta","initial_state_productoOriginal","initial_state_productosCompra","DatosProveedorAlmacen","obtenerProveedorAlmacen","id_proveedor","errorRender","loadingRender","obtenerConsultaGeneralCompras","proveedores","MostrarPrecios","cantida_suma","presentacion","DatosProducto","count","setCargando","client","useApolloClient","setData","query","COSTO","CANTIDAD","nuevo_iva","nuevo_impuesto","obtenerCosto","obtenerCantidad","obtenerProductos","obtenerSelectsProducto","obtenerUnidadRegalo","actualizar_Precios","copy_datosProducto","copy_datosGenerales","copy_precios","copy_preciosP","copy_almacenInicial","copy_centroCostos","copy_presentacionesEliminadas","copy_precioPlazos","nueva","factor","cantidad_total_media","cantidad_regalo_media","productosCompra_ordenados","existente","prod_exist","Boolean","array_ordenado","ModalAgregarCompra","InfoOutlined","SetOrResetData","setStates","ListaCompras","productos_ordernados","RenderProductosCompra","isSelected","setIsSelected","productoCTX","seStates","unidad_producto","tabIndex","finish","ModalDeleteProducto","copy_compras","objeto_eliminado","ConfirmarCompra","realizarCompraBD","loading_modal","setLoadingModal","InputLabel","CompraCredito","CreditCard","AbrirCompra","compra","handleOpenDetalles","refetchEspera","ModalCompra","openDelete","setOpenDelete","crearCompra","crearCompraEnEspera","compra_en_espera","credito","conflicto","handleToggleDelete","Timer","CancelarCompra","ExcelFile","ReactExport","ExcelSheet","ExcelColumn","ExportarProductosComprasExcel","compra_realizada","productos_detalles","Cantidad_regalo","CloudDownloadOutlined","filename","DatosDeCompra","productosFiltrados","setProductosFiltrados","toLowerCase","marginRight","placeholder","ListaProductos","obtenerComprasRealizadas","RenderRowsCompras","DetallesCompra","handleOpen","AssignmentOutlined","ExportarComprasExcel","filtro","filtroFecha","compras","nombre_documento","since","ComprasRealizadas","ContentDialogCompras","setFiltro","setFiltroFecha","searchfilter","filterDate","obtenerBusqueda","subtract","obtenerFecha","onDelete","current","VerificarProductosCompras","nuevoArray","setNuevoArray","setVerificado","setSuccess","VerifiedUser","ModalVerificacion","loadingVerificacion","setLoadingVerificacion","useLazyQuery","getQuery","productos_nuevos","copy_producto_compra","productos_filtrados","precios_base","unidades_base","presentaciones_base","u_default","u_default_base","present","y","present_base","nuevo_producto_compra","total_con_descuento","setTimeout","verificarProductos","compra_temp","setCompraTemp","permisosUsuario","verificado","compras_espera","eliminar","paddingTop","paddingBottom","ModalEliminarCompra","eliminarCompraEnEspera","eliminarCompra","DeleteOutlined","ListaEnEspera","obtenerComprasEnEspera","elimina","RenderRowsComprasEspera","ModalContinuarCompra","ComprasEnEspera","Compras","abrir_compra","compras_realizadas","ListaClientes","selectDataClient","showModal","setShowModal","dataSelectRowClient","setDataSelectRowClient","handleClickOpenModal","obtenerClientes","row","handleClickSelectClient","RowsRender","cambiarEstado","Switch","catalogos","clientes","EliminarCliente","eliminarCliente","eliminarClienteBD","paddingLeft","Cliente","InputBase","onKeyPress","defaultValue","agregar","REGISTRAR_DESCUENTOS","DESACTIVAR_DESCUENTOS","ELIMINAR_DESCUENTOS","headCells","EnhancedTableHead","onSelectAllClick","numSelected","rowCount","datosPrecios","variable","indeterminate","headCell","numeric","disablePadding","TablaPreciosDescuentos","setCleanList","cleanList","verificarDatos","setPrecioPrueba","page","rowsPerPage","handleClick","indexOf","newSelected","concat","slice","emptyRows","newSelecteds","n","isItemSelected","colSpan","openModal","setOpenModal","DesactivarDescuentoUnidad","ELiminarDescuentoUnidad","handleChangeActivo","editarDatos","handleDelete","resultado","eliminarDescuentoUnidad","defaultChecked","Modal","avatarGroup","rootSlice","rootTable","DescuentoProductos","CrearDescuentoUnidad","openDescuento","setOpenDescuento","precioPrueba","handleCloseDescuentos","cerrarModal","arrayDescuento","descuentos","eliminado","textAlign","dislay","gutterBottom","justifyItems","Slider","getAriaValueText","valueLabelDisplay","valorText","obtenerPrecioText","drawWidth","breakpoints","down","InfoProductoDrawer","ListAlt","Drawer","anchor","CropOriginal","bottom","EliminarProducto","eliminarProducto","handleToggleModal","eliminarProductoBD","RenderTableRows","cantidad_existente","unidad_inventario","ProdcutosEliminados","productosActivosRefetch","handleModalToggle","RestoreFromTrash","TablaProductosEliminados","obtenerProductosInactivos","RenderProductosTabla","activarProducto","handleDeleteToggle","reactivarProducto","Publish","Productos","RegistroComponent","existencias","setExistencias","ArrowBack","ProductoIndex","TablaTallas","setPage","setRowsPerPage","tallas_numeros","TablePagination","rowsPerPageOptions","onChangePage","newPage","onChangeRowsPerPage","eliminarTalla","resp","msgAlert","dato","RegistroTallas","actualizarTalla","obtenerTallas","talla_actualizada","ml","iconSvgSecondary","Tallas","centered","OBTENER_CONTABILIDAD","REGISTRAR_CONTABILIDAD","ACTUALIZAR_CONTABILIDAD","ELIMINAR_CONTABILIDAD","TablaServicios","setIdService","idService","setAccion","updateData","obtenerContabilidad","EliminarContabilidad","contabilidad","nombre_servicio","RegistroServicios","setUpdateData","CrearContabilidad","ActualizarContabilidad","handleSubmit","inputActualizado","Contabilidad","columns","TablaProveedores","column","provedores","Proveedores","TablaCajas","permisos","cajas","obtenerCajasSucursal","numero_caja","deleteCaja","CREAR_CAJA","OBTENER_CAJAS","CREAR_HISTORIAL_CAJA","OBTENER_HISTORIAL_CAJA","ELIMINAR_CAJA","OBTENER_PRE_CORTE_CAJA","OBTENER_CORTES_CAJA","OBTENER_CORTE_CAJA","RegistroCajas","crearCaja","eliminarCaja","nuevaCaja","usuario_creador","numero_usuario_creador","numero_usuario","nombre_usuario_creador","Cajas","arregloVacio","tesoreria","cuentas_empresa","egresos","abonos_proveedores","abonos_clientes","reportes","reporte_historial_cajas","reporte_turnos","reporte_compras","reporte_ventas","rerporte_almacen","reporte_corte_caja","reporte_tesoreria","cancelar_venta","precios_productos","pre_corte","cotizaciones","administrador","eliminar_ventas","producto_rapido","traspasos","inventario_almacen","usuarios","conceptos_almacen","facturacion","generar_cdfi","cdfi_realizados","registro_series_cdfi","UsuarioContext","UsuarioProvider","estado_usuario","setUsuario","FormularioUsuario","showPassword","setShowPassword","autoComplete","password","repeatPassword","ActualizarPasswordModal","actualizarUsuario","confirmarPassowrd","Parametros","arregloAccesos","obtenerAccesos","subDepartamento","Catalogos","Almacenes","Tesoreria","Reportes","Ventas","Facturacion","AsignarPermisos","rootPrincipal","CrearUsuario","turno_en_caja_activo","crearUsuario","subDepartamentos","ListaUsuarios","openDetalles","setOpenDetalles","handleDetalles","ModalDetalles","Dehaze","Usuarios","CreateDepartamentosContext","DepartamentosProvider","idDepartamento","setIdDepartamento","TablaDepartamentos","obtenerDepartamentos","eliminarDepartamento","RegistroDepartamentos","ActualzarDepartamentos","Departamentos","fade","secondary","RegistroCategorias","setCategoria","toUpdateID","setToUpdateID","loadingBackDrop","setLoadingBackDrop","actualizarCategoria","guardarCategoria","categoriaActualizada","render_categorias","obtenerCategorias","RenderCategorias","setSubcategoria","actualizarSubcategoria","eliminarCategoria","render_subcategorias","guardarSubcategoria","subCategoriaActualizada","idSubcategoria","stopPropagation","Accordion","AccordionSummary","expandIcon","ExpandMore","scrollTo","AccordionDetails","RenderSubcategorias","eliminarSubcategoria","px","Categorias","TablaColores","cache","eliminarColor","readQuery","writeQuery","RegistroColores","actualizarColor","colorActualizado","msg","ListaMarcas","obtenerMarcas","eliminarMarca","CreateMarcasContext","MarcasProvider","datosMarcas","setDatosMarcas","VistaMarcas","actualizarMarca","Marcas","setCuenta","actualizarCuenta","render_cuentas","obtenerCuentas","guardarCuenta","cuentaActualizada","RenderCuentas","setSubcuenta","eliminarCuenta","actualizarSubcuenta","render_subcuentas","guardarSubcuenta","subCuentaActualizada","idSubcuenta","deleteCuenta","RenderSubcuentas","eliminarSubcuenta","deleteSubCuenta","idSubCuenta","OBTENER_CONCEPTOS_ALMACEN","REGISTRAR_CONCEPTO_ALMACEN","ACTUALIZAR_CONCEPTO_ALMACEN","ELIMINAR_CONCEPTO_ALMACEN","TablaConceptos","setIdConcepto","idConcepto","obtenerConcepto","EliminarConceptoAlmacen","obtenerConceptosAlmacen","nombre_concepto","destino","editable","formControl","MenuProps","PaperProps","ITEM_HEIGHT","tipos","getStyles","tipoName","typography","fontWeightRegular","fontWeightMedium","crearConceptoAlmacen","actualizarConceptoAlmacen","ConceptosAlmacen","alignSelf","TesoreriaCtx","TesoreriaProvider","cuentas","setCuentas","reload","setReload","formComboBox","RetiroDeposito","turnoEnCurso","CrearMovimientoCuenta","datosMovimiento","setDatosMovimiento","onChangeDatos","tipo_movimiento","id_usuario","rol_movimiento","id_Caja","id_caja","horario_turno","concepto","hora_moviento","hora","minutos","segundos","completa","fecha_movimiento","mes","dia","no_semana_year","week","no_dia_year","dayOfYear","montos_en_caja","monto_efectivo","monto","metodo_pago","monto_tarjeta_debito","monto_tarjeta_credito","monto_creditos","monto_monedero","monto_transferencia","monto_cheques","monto_vales_despensa","comentarios","enviarDatos","movimiento","crearMovimientoCuenta","rows","rootBusqueda","HistorialCuentas","datosFiltro","setDatosFiltro","fecha_inicio","fecha_fin","historialCuenta","obtenerHistorialCuenta","RowsHistorial","ListaCuentas","cuentaEmpresa","cuentasSucursalesEmpresa","cuentaPrincipal","obtenerSucursalesEmpresa","cuenta_empresa","dinero_actual","RowsCuentas","cuenta_sucursal","buttons","CuentasEmpresaSucursales","OBTENER_HISTORIAL_EGRESOS","CREAR_EGRESO","TablaProductosEgresos","borrarProducto","RowsProductos","onPageChange","onRowsPerPageChange","cantidad_productos","precio_unitario","FormRegistroEgresos","CrearEgreso","upload","setUpload","datosEgreso","setDatosEgreso","totalCompra","setTotalCompra","subCuentas","setSubCuentas","setProducto","obtenerDatoProductos","totalCompraVenta","folio_egreso","folio_factura","empresa_distribuidora","provedor","subCategoria","fecha_compra","fecha_vencimiento","fecha_vencimiento0","observaciones","id_user","saldo_total","egreso","crearEgreso","GenFolio","InputLabelProps","shrink","obtenerSubCuentas","subCuenta","producto_guardado","elemento","indice","iconSize","info","VistaRegistroEgreso","iconSizeSecond","Egresos","TablaCompras","OBTENER_HISTORIAL_ABONOS","CREAR_ABONO","TablaAbonos","id_cliente","id_egreso","id_compra","abonos","obtenerHistorialAbonos","monto_total_abonado","AbonoaRecibir","CrearAbono","abono","setAbono","setMetodoPago","metodo_de_pago","clave","metodo","telefono_cliente","email_cliente","alignContent","DetallesCuenta","LiquidarCuenta","cuentaTotalDescuento","setCuentaTotalDescuento","setDineroDescontado","porciento_descuento","valueLabelFormat","cuenta_con_descuento","cuentaSelect","clearTimeout","timer","TwoClickInRowTableBuy","rootSearch","AbonosProveedores","toLocaleString","createData","code","population","density","ToggleButtonGroup","exclusive","calories","fat","carbs","protein","scope","AbonosClientes","IndexTesoreria","FacturacionCtx","FacturacionProvider","serie","currency","expedition_place","folio","cfdi_type","payment_form","payment_method","logo_url","date","issuer","FiscalRegime","Rfc","receiver","CfdiUse","items","datosFactura","setDatosFactura","venta_factura","setVentaFactura","cp_valido","setCPValido","setCodigoPostal","error_validation","ProductosSinClaveSat","CONSULTA_PRODUCTO_UNITARIO","CONSULTA_PRODUCTOS_VENTAS","OBTENER_CLIENTES_VENTAS","CREAR_VENTA","OBTENER_VENTAS_SUCURSAL","ListaVentasFactura","ComponentBusquedaVenta","open_productos","setOpenProductos","productos_sin_clave","setProductosSinClave","resultado_ventas","openProductosClaves","RenderLista","obtenerVentasSucursal","without_sat_code","productos_base","obtenerVenta","CodigoPostal","CP","obtenerCodigoPostal","Fragment","ListaClientesFacturas","BuscadorClienteComponent","openAlertRfc","setOpenAlertRfc","resultado_clientes","handleCloseAlertRFC","openAlertRFC","RenderListClientes","minwidth","obtenerClienteTabla","RegistroFactura","serie_default","ModificarProductoFactura","producto_base","setProductoBase","venta_base","setVentaBase","cantidad_base","precio_base","venta_copy","resta_base","suma_nuevo","precios_nuevos","impuestos_precio","copy_array_productos","guardarPrecios","EliminarProductoFactura","copy_venta","copy_productos","precio_resta","DetallesFactura","RowTableProductos","factura_initial_state","RealizarFactura","setProductosFactura","CrearFactura","crearFactura","nuevo_obj","Taxes","Total","Base","Rate","IsRetention","ProductCode","IdentificationNumber","Description","UnitCode","UnitPrice","Quantity","Subtotal","Discount","InputsFacturaModal","CancelarFactura","handleCloseFactura","cancelar","NuevaFactura","DialogFacturaPrincipal","openCancel","setOpenCancel","cancelarCFDI","FacturaModalContent","seriesCfdi","obtenerSeriesCdfi","RegistroSeries","crearSerieCFDI","obtenerDatosSeries","guardarDatosBD","ListaSeriesCDFI","modificarDefaultSerie","setPredeterminado","ModalDeleteSerie","eliminarSerie","eliminarSerieBD","SeriesCDFI","ContentSeriesCFDI","ExportarProductosFacturaExcel","ListaFacturas","ListaAlmacen","RegistroAlmacen","TraspasosAlmacenContext","TraspasosProvider","productosTo","setProductosTo","productosEmpTo","setProductosEmpTo","productosTras","setProductosTras","dataExcel","setDataExcel","setNew_medidas","nuevaCantidad","new_medidas","presentaciones_existentes","paddingRight","cell","idProducto","cantidadAnt","copy_medida","product_selected","new_medidasCopia","med","Object","hasOwnProperty","call","cant","order","orderBy","onRequestSort","headCellsNames","add","sortDirection","TableSortLabel","active","useToolbarStyles","inputCantidad","inputCantidadTable","highlight","lighten","light","text","dark","flexWrap","DialogTallas","close","setOpenTallas","setproduct_selected","prod","openTallas","almacenOrigen","newMedidasCopy","prodSelect","existe","copyProductosTras","medidasTo","newMed","obj","EnhancedTableToolbar","cantidadTo","setCantidadTo","openEnd","setOpenEnd","tipoPieza","setValueToTrans","mensaje","find","totalCantExistMasNuevaCantidad","piezas","cantidad_existente_maxima","unidadMaxima","TipoPiezaComponent","TIPO_PIEZA","unidad_minima","clsx","intValue","onlyNumbers","deletesItems","EnhancedTable","setOrder","setOrderBy","setCant","setTipoPieza","haveCant","handleSelectAllClick","prod_sel","editItem","prodSet","deleteItem","boxUpData","selected2","inputBox","boxControl","centerControl","almacenName","transportes","steps","Traspasos","haveConcepto","setHaveConcepto","conceptoTraspaso","setConceptoTraspaso","isAlmacenOrigen","setIsAlmacenOrigen","isAlmacenDestino","setIsAlmacenDestino","setAlmacenOrigen","almacenDestino","setAlmacenDestino","almacenesDestino","setAlmacenesDestino","transporte","setTransporte","placas","setPlacas","nombreQuien","setNombreQuien","activeStep","setActiveStep","Set","skipped","setSkipped","CrearTraspaso","conceptos","queryObtenerAlmacenes","dataConceptos","categoriasQuery","productosQuery","productosEmpresaQuery","obtenerProductosAlmacen","obtenerProductosEmpresa","obtenerProductosPorEmpresa","isStepSkipped","step","has","handleBack","prevActiveStep","traspasar","concepto_traspaso","almacen_origen","almacen_destino","datos_transporte","nombre_encargado","sucursalOrigen","sucursalDestino","traspaso","crearTraspaso","sx","almacenIcon","Stepper","stepProps","completed","Step","StepLabel","trans","pt","newSkipped","delete","handleNext","Rowrow","rowProps","dataExcelHere","setDataExcelHere","arrayCantidades","font","sz","alignment","wrapText","rgb","setRow","setTotal","setUnidad_Minima","tot","r","datExc","almacenColumna","existencia_almacenes","productosLength","ListaAlmacenes","withRouter","fileName","columnName","InventariosPorAlmacen","InventarioPorAlmacen","setObtenerAlmacenes","setColumns","productosAlmacenQuery","obtenerProductosAlmacenes","columnsEffect","widthPx","almace","mrstyle","Moviminetos","TablaHistorialFiltrado","historial","iconSave","right","HistorialCaja","datosBuscar","setDatosBuscar","datosExcel","obtenerHistorialCaja","cajaSelected","fecha_incio","arrayExcel","datosHistorial","hora_movimiento","caja","agruparDatos","handleDatos","StyledBadge","withStyles","badge","boxShadow","left","animation","content","transform","media","expand","transition","transitions","create","duration","shortest","expandOpen","red","textActive","CardCaja","styleProps","activa","Card","CardHeader","overlap","openHistorial","setOpenHistorial","setCajaSelected","handleClickOpenHistorial","cantidad_efectivo_actual","fetchCajas","TablaTurnosFiltrados","turnos","turno","hora_entrada","hora_salida","usuario_en_turno","horario_en_turno","REGISTRAR_TURNOS","OBTENER_HISTORIAL_TURNOS","ReportesTurnosUsuarios","FiltroTablaTurnos","filtros","setFiltros","historialTurnos","fechaInicio","fechaFin","fecha_entrada","fecha_salida","obtenerFiltroTurnos","TablaComprasFiltradas","OBTENER_REPORTE_COMPRAS","ExportarCompras","forma","FiltrosCompras","obtenerProductoMovimientos","CapturaDeDatos","obtenerCamposFiltro","realizarBusquedaBD","ClearOutlined","ReportesCompras","TablaVentasFiltradas","ReportesVentas","ExportarTraspasos","id_traspaso","TablaAlmacenFiltradas","ReportesAlmacen","fecha_final","inputFilter","setFilter","encargado","setEncargado","queryObtenerUsuarios","traspasosAlmacenes","setDatosInput","fil","obtenerTraspasos","enc","almDes","almOri","encId","setEncargadoInput","alm","setQueryAlmacenOrigen","setQueryAlmacenDestino","filt","limpiarFiltros","TablaCortesFiltradas","cortes","corte","token_turno_user","number_user","obtenerCorte","montos_sistema","obtenerCorteCaja","montos_en_sistema","InformacionCorteCaja","ExportExcel","historialCortes","setDatosExcel","ReportesCortes","cajasBase","fecha_consulta","obtenerCortesDeCaja","ListaEgresos","historialEgresos","obtenerHistorialEgresos","RowsEgresos","DialogCaracteristicas","ListaTransferencias","ReportesTesoreria","ventana","setVentana","anchorEl","setAnchorEl","currentTarget","Menu","ListItemIcon","iconSvgVenta","history","axis","onChangeIndex","appbar","navbar","grey","menuButton","token","removeItem","flexShrink","drawerColor","drawerPaper","navigationTop","iconSizeSuperior","iconSizeSecondSuperior","iconSizeInferior","iconSizeSecondInferior","iconSizeSecondInferiorGrande","iconSizeInferiorGrande","borderBoton","borderBotonChico","rootPrecioProductos","containerImage","rootBusquedaProductos","rootFecha","iconSizeDialogs","iconSizeDialogsPequeno","containerImagenesProducto","imagenProducto","VentasContext","VentasProvider","datosProductoVentas","setDatosProductoVentas","setProductosVentas","datosVentas","setDatosVentas","productoCambioPrecio","setProductoCambioPrecio","precioSelectProductoVenta","setPrecioSelectProductoVenta","clientesVentas","setClientesVentas","turnoActivo","setTurnoActivo","ubicacionTurno","setUbicacionTurno","abrirTurnosDialog","setAbrirTurnosDialog","updateTablaVentas","setUpdateTablaVentas","openBackDrop","setOpenBackDrop","DepositoRetiroCaja","CrearHistorialCaja","setMovimiento","preCorteDeCaja","dineroEnCaja","obtenerPreCorteCaja","monto_efectivo_precorte","addEventListener","altKey","id_User","textTransform","newAlignment","ToggleButton","AbrirTurno","CrearRegistroDeTurno","abrirTurno","setAbrirTurno","numeroCaja","setNumeroCaja","obtenerTurno","arraySesion","exp","iat","turno_en_curso","caja_elegida","monto_abrir","variableTurnoAbierto","crearRegistroDeTurno","montoTurno","setMontoTurno","cerrarTurno","setCerrarTurno","obtenerCamposMontos","monto_puntos","actualizarTurnoSesion","Turnos","ContenidoTurnos","AccesosContext","AccesosProvider","abrirPanelAcceso","setAbrirPanelAcceso","tipo_acceso","setDepartamentos","reloadAdministrador","setReloadAdministrador","reloadProductoRapido","setReloadProductoRapido","reloadCancelarVenta","setReloadCancelarVenta","reloadVerPrecios","setReloadVerPrecios","reloadVerPreCorte","setReloadVerPreCorte","reloadEliminarVentaEspera","setReloadEliminarVentaEspera","reloadCrearCotizacion","setReloadCrearCotizacion","PreCorteCaja","VentaEnEspera","agregarVentaEnEspera","justifySelf","RegistroInformacionRapido","setAbrirTallaColor","varIVA","varIEPS","TallasColoresRapidos","Acceso","datosUser","setDatosUser","handleClickClose","obtenerQuery","obtenerAccesoPermiso","permiso_concedido","SwitchPermisos","ArticuloRapido","crearProductoRapido","abrirTallaColor","AceesoProductoRapido","ProductoRapidoIndex","CotizacionesPendientes","CotizacionesRows","ListaCotizaciones","Administrador","BottomNavigation","showLabels","srsc","Abonos","productosBusqueda","setProductoSeleccionado","InformacionProducto","productoSeleccionado","BuscarProducto","searchProducto","setSearchProducto","obtenerProductosVentas","keyUpEvent","onKeyUp","ClientesVentas","CREAR_COTIZACION","NuevaCotizacion","CrearCotizacion","newCotizacion","setNewCotizacion","descuento_general","totalDescount","setTotalDescount","descuento_general_activo","crearCotizacion","tipo_venta","registroCotizacion","errors","cantidad_descontado","Cotizacion","tipoVentana","setTipoVentana","CancelarVenta","CerrarVenta","cambio","setCambio","openModalDescuento","setOpenModalDescuento","recalcular","setRecalcular","totalVenta","setTotalVenta","montoPagado","setMontoPagado","cambioVenta","setCambioVenta","datosCliente","setDatosCliente","setMonedero","descuentoVenta","fechaVencimientoDate","setfechaVencimientoDate","valorPuntoProducto","setValorPuntoProducto","valorFinalCambioPuntos","monederoTotal","setMonederoTotal","ventaActual","setVentaActual","editableClient","setEditableClient","visible","setVisible","descuentoAplicarVenta","setDescuentoAplicarVenta","descuentoPorsentajeVenta","setDescuentoPorsentajeVenta","setVentaOriginal","creditoActivo","setCreditoActivo","efectivo","setEfectivo","tarjeta","setTarjeta","puntos","setPuntos","transferencia","setTransferencia","cheque","setCheque","createVenta","handleClickFinishVenta","ventaFinal","montosEnCaja","decuento_general","dias_de_credito_venta","fecha_de_vencimiento_credito","fecha_vencimiento_cotizacion","editar_cliente","puntos_totales_venta","handlerChangeValue","location","valor2","monederoVenta","credito_disponible","modelDate","hoy","diasDiff","diff","pr","positiveDiscount","abs","handlerChangeDiscountVenta","ventaSubtotal","val","handleChangePorsentDiscount","productosFinal","productStorage","product","porsentajeNewDescuento","dineroDescontadoDescuento","newPrecioVentaProduct","newIvaProduct","newIepsProduct","newPrecioNetoProduct","newUtilidadProduct","valorGranel","ieps_total_producto","impuestos_total_producto","iva_total_producto","subtotal_total_producto","total_total_producto","descuentoProducto","handleCalculateNewDiscountVenta","ConsultarPrecio","activeItemIndex","setActiveItemIndex","productoBase","obtenerUnProductoVentas","input_value","datosProductos","displa","requestToChangeActive","numberOfCards","leftChevron","rightChevron","infiniteLoop","outsideChevron","chevronWidth","PreciosProductos","selectPrisingProduct","setSelectPrisingProduct","handleAceptChangePrising","venta_existente","productosVentasTemp","newProductoPrecioNuevo","newProductoPrecioActual","producto_encontrado","new_resta","new_suma","CalculosData","doubleClick","ListaVentas","listaEnEspera","RowsVentas","keyIndex","setKeyIndex","borrarVenta","VentasEspera","ListaVentasRealizadas","VentasRealizadas","NavegacionVentasLateral","setDatosVentasActual","setNewProductoVentas","newProductoVentas","datosTabla","setDatosTabla","newCantidadProduct","setNewCantidadProduct","tempAmount","setTempAmount","CalculeDataPricing","new_cant","verify_prising","newPrising","precio_actual_porducto","calculateNewPricingAmount","selectClient","setSelectClient","obtenerClientesVentas","dataCliente","ChangeClientAutocomplate","VentasGenerales","granelBase","setGranelBase","DatosVentasActual","consultaBase","setConsultaBase","productosBase","agregarProductos","trim","data_operation","data_key","productoPrecioFinal","new_prices","calculo_resta","calculo_sumar","elevantion","VentaIndex","varActive","setVarActive","AbrirTurnoEnVentas","routes","logearUsuario","signin","decoded","jwt_decode","labelWidth","exact","logo","Link","to","adminIcon","cartIcon","AdminInicio","createMuiTheme","blue","httpLink","createUploadLink","uri","ApolloClient","connectToDevTools","InMemoryCache","addTypename","link","RoutesWithSubRoutes","route","render","App","ApolloProvider","ThemeProvider","CssBaseline","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM"],"mappings":"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","file":"static/js/main.667ab1c5.chunk.js","sourcesContent":["import { gql } from '@apollo/client';\n\nexport const CREAR_USUARIO = gql`\n\tmutation crearUsuario($input: CrearUsuarioInput) {\n\t\tcrearUsuario(input: $input) {\n\t\t\t_id\n\t\t\tnumero_usuario\n\t\t\tnombre\n\t\t\ttelefono\n\t\t\tcelular\n\t\t\temail\n\t\t\tturno_en_caja_activo\n\t\t\tdireccion {\n\t\t\t\tcalle\n\t\t\t\tno_ext\n\t\t\t\tno_int\n\t\t\t\tcodigo_postal\n\t\t\t\tcolonia\n\t\t\t\tmunicipio\n\t\t\t\tlocalidad\n\t\t\t\testado\n\t\t\t\tpais\n\t\t\t}\n\t\t\timagen\n\t\t\testado_usuario\n\t\t\tempresa {\n\t\t\t\t_id\n\t\t\t\tnombre_empresa\n\t\t\t\tcorreo_empresa\n\t\t\t\tnombre_dueno\n\t\t\t\ttelefono_dueno\n\t\t\t}\n\t\t\tsucursal {\n\t\t\t\t_id\n\t\t\t\tnombre_sucursal\n\t\t\t\tdescripcion\n\t\t\t}\n\t\t\taccesos {\n\t\t\t\tmi_empresa {\n\t\t\t\t\tdatos_empresa {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tinformacion_fiscal {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tcompras {\n\t\t\t\t\tabrir_compra {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tcompras_realizadas {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tcompras_espera {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\ttesoreria {\n\t\t\t\t\tcuentas_empresa {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tegresos {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tabonos_proveedores {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tabonos_clientes {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treportes {\n\t\t\t\t\treporte_historial_cajas {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\treporte_turnos {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\treporte_compras {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\treporte_ventas {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\trerporte_almacen {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\treporte_corte_caja {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\treporte_tesoreria {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tventas {\n\t\t\t\t\tcancelar_venta {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tprecios_productos {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tpre_corte {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tcotizaciones {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tadministrador {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\teliminar_ventas {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tproducto_rapido {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tfacturacion {\n\t\t\t\t\tgenerar_cdfi {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tcdfi_realizados {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tregistro_series_cdfi {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\talmacenes {\n\t\t\t\t\talmacen {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\ttraspasos {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tinventario_almacen {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tcatalogos {\n\t\t\t\t\tclientes {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tusuarios {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tproductos {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tmarcas {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tcontabilidad {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tprovedores {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tcajas {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tdepartamentos {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tcentro_costos {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tconceptos_almacen {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tcategorias {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tcolores {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tcolores {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\ttallas_numeros {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n`;\n\nexport const OBTENER_USUARIOS = gql`\n\tquery obtenerUsuarios($sucursal: String!, $filtro: String) {\n\t\tobtenerUsuarios(sucursal: $sucursal, filtro: $filtro) {\n\t\t\t_id\n\t\t\tnumero_usuario\n\t\t\tnombre\n\t\t\ttelefono\n\t\t\tcelular\n\t\t\tturno_en_caja_activo\n\t\t\temail\n\t\t\tdireccion {\n\t\t\t\tcalle\n\t\t\t\tno_ext\n\t\t\t\tno_int\n\t\t\t\tcodigo_postal\n\t\t\t\tcolonia\n\t\t\t\tmunicipio\n\t\t\t\tlocalidad\n\t\t\t\testado\n\t\t\t\tpais\n\t\t\t}\n\t\t\timagen\n\t\t\testado_usuario\n\t\t\tempresa {\n\t\t\t\t_id\n\t\t\t\tnombre_empresa\n\t\t\t\tcorreo_empresa\n\t\t\t\tnombre_dueno\n\t\t\t\ttelefono_dueno\n\t\t\t}\n\t\t\tsucursal {\n\t\t\t\t_id\n\t\t\t\tnombre_sucursal\n\t\t\t\tdescripcion\n\t\t\t}\n\t\t\taccesos {\n\t\t\t\tmi_empresa {\n\t\t\t\t\tdatos_empresa {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tinformacion_fiscal {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tcompras {\n\t\t\t\t\tabrir_compra {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tcompras_realizadas {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tcompras_espera {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\ttesoreria {\n\t\t\t\t\tcuentas_empresa {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tegresos {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tabonos_proveedores {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tabonos_clientes {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treportes {\n\t\t\t\t\treporte_historial_cajas {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\treporte_turnos {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\treporte_compras {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\treporte_ventas {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\trerporte_almacen {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\treporte_corte_caja {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\treporte_tesoreria {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tventas {\n\t\t\t\t\tcancelar_venta {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tprecios_productos {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tpre_corte {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tcotizaciones {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tadministrador {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\teliminar_ventas {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tproducto_rapido {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\talmacenes {\n\t\t\t\t\talmacen {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\ttraspasos {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tinventario_almacen {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tfacturacion {\n\t\t\t\t\tgenerar_cdfi {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tcdfi_realizados {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tregistro_series_cdfi {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tcatalogos {\n\t\t\t\t\tclientes {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tusuarios {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tproductos {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tmarcas {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tcontabilidad {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tprovedores {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tcajas {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tdepartamentos {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tcentro_costos {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tconceptos_almacen {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tcategorias {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\tcolores {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t\ttallas_numeros {\n\t\t\t\t\t\tver\n\t\t\t\t\t\tagregar\n\t\t\t\t\t\teditar\n\t\t\t\t\t\teliminar\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n`;\n\nexport const ACTUALIZAR_USUARIO = gql`\n\tmutation actualizarUsuario($input: ActualizarUsuarioInput, $id: ID!) {\n\t\tactualizarUsuario(id: $id, input: $input) {\n\t\t\tmessage\n\t\t}\n\t}\n`;\n\nexport const LOGEAR_USUARIO = gql`\n\tmutation logearUsuario($input: LogearUsuarioInput) {\n\t\tlogearUsuario(input: $input) {\n\t\t\ttoken\n\t\t}\n\t}\n`;\n\nexport const LOGEAR_USUARIO_ACCESOS = gql`\n\tquery ObtenerAccesoPermiso($input: ObtenerAccesoPermisosInput) {\n\t\tobtenerAccesoPermiso(input: $input) {\n\t\t\tpermiso_concedido\n\t\t\tdepartamento\n        \tsubDepartamento\n\t\t}\n\t}\t\t\n`;\n\nexport const AGIGNAR_PERMISOS_USUARIO = gql`\n\tmutation asignarAccesosUsuario($input: CrearArregloDeAccesosInput, $id: ID!) {\n\t\tasignarAccesosUsuario(id: $id, input: $input) {\n\t\t\tmessage\n\t\t}\n}\n`;\n","import { Box, makeStyles, Snackbar, Typography, Portal } from '@material-ui/core';\n/* import { Alert } from '@material-ui/lab'; */\nimport React from 'react';\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\nimport ErrorIcon from '@material-ui/icons/Error';\n\nconst useStyles = makeStyles((theme) => ({\n\tsnack: {\n\t\tzIndex: `${99999}!important`\n\t}\n}));\n\nexport default function SnackBarMessages({ alert, setAlert }) {\n\tconst classes = useStyles();\n\n\tconst handleClose = () => {\n\t\tsetAlert({ open: false, status: alert.status, message: '' });\n\t};\n\n\treturn (\n\t\t<Portal>\n\t\t\t<Snackbar\n\t\t\t\tclassName={classes.snack}\n\t\t\t\tanchorOrigin={{ vertical: 'top', horizontal: 'center' }}\n\t\t\t\topen={alert.open}\n\t\t\t\tonClose={handleClose}\n\t\t\t\tautoHideDuration={3000}\n\t\t\t\tmessage={\n\t\t\t\t\t<Box display=\"flex\">\n\t\t\t\t\t\t{alert.status === 'success' ? (\n\t\t\t\t\t\t\t<CheckCircleIcon style={{ color: '#22bb33' }} />\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<ErrorIcon style={{ color: 'red' }} />\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<Box mr={1} />\n\t\t\t\t\t\t<Typography>{alert.message}</Typography>\n\t\t\t\t\t</Box>\n\t\t\t\t}\n\t\t\t/>\n\t\t</Portal>\n\t);\n\t/* return (\n\t\t<Snackbar\n\t\t\tclassName={classes.snack}\n\t\t\tanchorOrigin={{ vertical: 'top', horizontal: 'center' }}\n\t\t\topen={alert.open}\n\t\t\tonClose={handleClose}\n\t\t\tautoHideDuration={2000}\n\t\t>\n\t\t\t<Alert onClose={handleClose} severity={alert.status}>\n\t\t\t\t{alert.message}\n\t\t\t</Alert>\n\t\t</Snackbar>\n\t); */\n}\n","import React, { useState } from 'react';\nimport { Box, Button, Container, TextField, Typography, CircularProgress } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useMutation } from '@apollo/client';\nimport { LOGEAR_USUARIO } from '../../gql/Catalogos/usuarios';\nimport SnackBarMessages from '../SnackBarMessages';\nimport jwt_decode from 'jwt-decode';\nimport { FormControl } from '@material-ui/core';\nimport { InputLabel } from '@material-ui/core';\nimport { OutlinedInput } from '@material-ui/core';\nimport { InputAdornment } from '@material-ui/core';\nimport { IconButton } from '@material-ui/core';\nimport Visibility from '@material-ui/icons/Visibility';\nimport VisibilityOff from '@material-ui/icons/VisibilityOff';\nimport ab from '../../img/abLogo.jpeg'\n\nconst useStyles = makeStyles((theme) => ({\n\tmargin: {\n\t\tmarginTop: theme.spacing(2),\n\t\tmarginBottom: theme.spacing(2)\n\t},\n\tcontainerImagen:{\n\t\tmaxWidth: 170,\n\t\tmaxHeight: 170\n\t},\n\timagen:{\n\t\twidth: '100%',\n\t\theight: '100%'\n\t}\n}));\n\nexport default function LayoutLogin(props) {\n\tconst classes = useStyles();\n\tconst sesion = localStorage.getItem('sesionCafi');\n\tconst [ datos, setDatos ] = useState([]);\n\tconst [ loading, setLoading ] = useState(false);\n\tconst [ alert, setAlert ] = useState({ message: '', status: '', open: false });\n\tconst [ showPassword, setShowPassword ] = useState(false);\n\n\tif (sesion) props.history.push('/ventas/venta-general');\n\n\tconst [ logearUsuario ] = useMutation(LOGEAR_USUARIO);\n\n\tconst signin = async (e) => {\n\t\te.preventDefault();\n\t\tif (!datos.numero_usuario || !datos.password) {\n\t\t\tsetAlert({ message: 'Los campos estan vacos', status: 'error', open: true });\n\t\t\treturn;\n\t\t}\n\t\tsetLoading(true);\n\n\t\ttry {\n\t\t\tconst result = await logearUsuario({\n\t\t\t\tvariables: {\n\t\t\t\t\tinput: datos\n\t\t\t\t}\n\t\t\t});\n\t\t\tconst { token } = result.data.logearUsuario;\n\t\t\tconst decoded = jwt_decode(token);\n\t\t\tsetLoading(false);\n\t\t\tlocalStorage.setItem('sesionCafi', JSON.stringify(decoded));\n\t\t\tlocalStorage.setItem('tokenCafi', JSON.stringify(token));\n\t\t\tprops.history.push('/ventas/venta-general');\n\t\t} catch (error) {\n\t\t\tsetAlert({ message: error.message, status: 'error', open: true });\n\t\t\tsetLoading(false);\n\t\t}\n\t};\n\n\tconst obtenerCampos = (e) => {\n\t\tif (e.target.name === 'numero_usuario') {\n\t\t\tsetDatos({\n\t\t\t\t...datos,\n\t\t\t\t[e.target.name]: parseInt(e.target.value)\n\t\t\t});\n\t\t} else {\n\t\t\tsetDatos({\n\t\t\t\t...datos,\n\t\t\t\t[e.target.name]: e.target.value\n\t\t\t});\n\t\t}\n\t};\n\n\tconst handleClickShowPassword = () => {\n\t\tsetShowPassword(!showPassword);\n\t};\n\n\tconst handleMouseDownPassword = (event) => {\n\t\tevent.preventDefault();\n\t};\n\n\treturn (\n\t\t<Container maxWidth=\"sm\">\n\t\t\t<SnackBarMessages alert={alert} setAlert={setAlert} />\n\t\t\t<Box height=\"100vh\" display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t<Box boxShadow=\"3\" p={3} width=\"80%\">\n\t\t\t\t\t<Box display='flex' justifyContent='center' alignItems='center' justifyItems='center' >\n\t\t\t\t\t\t<Box className={classes.containerImagen} textAlign='center'>\n\t\t\t\t\t\t\t<img className={classes.imagen} src={ab} alt=\"imagen no disponible\" />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box display='flex' textAlign='center' justifyContent='center'>\n\t\t\t\t\t\t<Typography variant=\"h4\" component=\"p\" className={classes.margin}>\n\t\t\t\t\t\t\t<b>Inicia sesin</b>\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<form autoComplete=\"off\" onSubmit={signin} >\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tlabel=\"Numero de usuario\"\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\tname=\"numero_usuario\"\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tclassName={classes.margin}\n\t\t\t\t\t\t\tonChange={obtenerCampos}\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t<FormControl variant=\"outlined\" name=\"password\" className={classes.margin} fullWidth>\n\t\t\t\t\t\t\t<InputLabel htmlFor=\"usuario-password\">Contrasea</InputLabel>\n\t\t\t\t\t\t\t<OutlinedInput\n\t\t\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\t\t\tid=\"usuario-password\"\n\t\t\t\t\t\t\t\ttype={showPassword ? 'text' : 'password'}\n\t\t\t\t\t\t\t\tonChange={obtenerCampos}\n\t\t\t\t\t\t\t\tendAdornment={\n\t\t\t\t\t\t\t\t\t<InputAdornment position=\"end\">\n\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\tonClick={handleClickShowPassword}\n\t\t\t\t\t\t\t\t\t\t\tonMouseDown={handleMouseDownPassword}\n\t\t\t\t\t\t\t\t\t\t\tedge=\"end\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{showPassword ? <Visibility /> : <VisibilityOff />}\n\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t</InputAdornment>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tlabelWidth={70}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tsize=\"large\"\n\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\tdisableElevation\n\t\t\t\t\t\t\tclassName={classes.margin}\n\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\tendIcon={loading ? <CircularProgress size={25} color=\"inherit\" /> : null}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tEntrar\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</form>\n\t\t\t\t</Box>\n\t\t\t</Box>\n\t\t</Container>\n\t);\n}\n","export const initial_state_datos_generales = {\n  receta_farmacia: false,\n  clave_producto_sat: {\n    Name: \"\",\n    Value: \"\",\n  },\n};\nexport const initial_state_precios = {\n  monedero: false,\n  monedero_electronico: 0,\n  iva_activo: true,\n  ieps_activo: false,\n  ieps: 0,\n  iva: 16,\n  granel: false,\n  inventario: {\n    inventario_minimo: 0,\n    inventario_maximo: 0,\n    unidad_de_inventario: \"Pz\",\n    codigo_unidad: \"H87\",\n  },\n  precio_de_compra: {\n    precio_con_impuesto: 0,\n    precio_sin_impuesto: 0,\n    iva: 0,\n    ieps: 0,\n  },\n  unidad_de_compra: {\n    unidad: \"Pz\",\n    codigo_unidad: \"H87\",\n    cantidad: 1,\n    precio_unitario_sin_impuesto: 0,\n    precio_unitario_con_impuesto: 0,\n  },\n};\n\nexport const initial_state_unidadVentaXDefecto = {\n  codigo_barras: \"\",\n  unidad: \"Pz\",\n  codigo_unidad: \"H87\",\n  cantidad: 1,\n  precio: 0,\n  descuento_activo: null,\n  precio_unidad: {\n    numero_precio: 0,\n    precio_neto: 0,\n    precio_venta: 0,\n    unidad_mayoreo: 0,\n    iva_precio: 0,\n    ieps_precio: 0,\n    utilidad: 0,\n    precio_general: 0,\n    cantidad_unidad: 0,\n    unidad_maxima: false\n  },\n  unidad_principal: true,\n  default: true,\n};\n\nexport const initial_state_unidadVentaSecundaria = {\n  codigo_barras: \"\",\n  unidad: \"Caja\",\n  codigo_unidad: \"XBX\",\n  cantidad: 1,\n  precio: 0,\n  descuento_activo: null,\n  precio_unidad: {\n    numero_precio: 0,\n    precio_neto: 0,\n    precio_venta: 0,\n    unidad_mayoreo: 0,\n    iva_precio: 0,\n    ieps_precio: 0,\n    utilidad: 0,\n    precio_general: 0,\n    cantidad_unidad: 0,\n    unidad_maxima: false\n  },\n  unidad_principal: false,\n  default: false,\n};\n\nexport const initial_state_preciosP = [\n  {\n    numero_precio: 1,\n    utilidad: 0,\n    precio_neto: 0,\n    unidad_mayoreo: 0,\n    precio_venta: 0,\n    iva_precio: 0,\n    ieps_precio: 0,\n  },\n  {\n    numero_precio: 2,\n    utilidad: 0,\n    precio_neto: 0,\n    unidad_mayoreo: 0,\n    precio_venta: 0,\n    iva_precio: 0,\n    ieps_precio: 0,\n  },\n  {\n    numero_precio: 3,\n    utilidad: 0,\n    precio_neto: 0,\n    unidad_mayoreo: 0,\n    precio_venta: 0,\n    iva_precio: 0,\n    ieps_precio: 0,\n  },\n  {\n    numero_precio: 4,\n    utilidad: 0,\n    precio_neto: 0,\n    unidad_mayoreo: 0,\n    precio_venta: 0,\n    iva_precio: 0,\n    ieps_precio: 0,\n  },\n  {\n    numero_precio: 5,\n    utilidad: 0,\n    precio_neto: 0,\n    unidad_mayoreo: 0,\n    precio_venta: 0,\n    iva_precio: 0,\n    ieps_precio: 0,\n  },\n  {\n    numero_precio: 6,\n    utilidad: 0,\n    precio_neto: 0,\n    unidad_mayoreo: 0,\n    precio_venta: 0,\n    iva_precio: 0,\n    ieps_precio: 0,\n  },\n];\n\nexport const initial_state_unidadesVenta = [\n  \n];\n\nexport const initial_state_almacen_inicial = {\n  id_almacen: \"\",\n  almacen: \"\",\n  cantidad: 0,\n  fecha_de_expiracion: \"\",\n};\nexport const initial_state_centro_de_costos = {};\n\nexport const initial_state_preciosPlazos = {\n  precio_piezas: [],\n  precio_cajas: [],\n  precio_costales: [],\n};\n\nexport const initial_state_subcategorias = [];\nexport const initial_state_imagenes = [];\nexport const initial_state_imagenes_eliminadas = [];\nexport const initial_state_onPreview = { index: \"\", image: \"\" };\nexport const initial_state_validacion = { error: false, message: \"\" };\nexport const initial_state_subcostos = [];\nexport const initial_state_selectedDate = null;\nexport const initial_state_presentaciones = [];\n","import React, { createContext, useState } from \"react\";\nimport {\n  initial_state_datos_generales,\n  initial_state_precios,\n  initial_state_unidadVentaXDefecto,\n  initial_state_preciosP,\n  initial_state_unidadesVenta,\n  initial_state_almacen_inicial,\n  initial_state_centro_de_costos,\n  initial_state_preciosPlazos,\n  initial_state_subcategorias,\n  initial_state_imagenes,\n  initial_state_imagenes_eliminadas,\n  initial_state_onPreview,\n  initial_state_validacion,\n  initial_state_subcostos,\n  initial_state_selectedDate,\n  initial_state_presentaciones,\n  initial_state_unidadVentaSecundaria,\n} from \"./initialStatesProducto\";\n\nexport const RegProductoContext = createContext();\n\nexport const RegProductoProvider = ({ children }) => {\n  const [datos_generales, setDatosGenerales] = useState(\n    initial_state_datos_generales\n  );\n  const [precios, setPrecios] = useState(initial_state_precios);\n  const [unidadVentaXDefecto, setUnidadVentaXDefecto] = useState(\n    initial_state_unidadVentaXDefecto\n  );\n  const [unidadVentaSecundaria, setUnidadVentaSecundaria] = useState(\n    initial_state_unidadVentaSecundaria\n  );\n  const [preciosP, setPreciosP] = useState(initial_state_preciosP);\n  \n  const [unidadesVenta, setUnidadesVenta] = useState(\n    initial_state_unidadesVenta\n  );\n  const [almacen_inicial, setAlmacenInicial] = useState(\n    initial_state_almacen_inicial\n  );\n  const [centro_de_costos, setCentroDeCostos] = useState(\n    initial_state_centro_de_costos\n  );\n  const [preciosPlazos, setPreciosPlazos] = useState(\n    initial_state_preciosPlazos\n  );\n  const [subcategorias, setSubcategorias] = useState(\n    initial_state_subcategorias\n  );\n  const [imagenes, setImagenes] = useState(initial_state_imagenes);\n  const [imagenes_eliminadas, setImagenesEliminadas] = useState(\n    initial_state_imagenes_eliminadas\n  );\n  const [onPreview, setOnPreview] = useState(initial_state_onPreview);\n  const [validacion, setValidacion] = useState(initial_state_validacion);\n  const [subcostos, setSubcostos] = useState(initial_state_subcostos);\n  const [selectedDate, setSelectedDate] = useState(initial_state_selectedDate);\n  const [update, setUpdate] = useState(false);\n  const [presentaciones, setPresentaciones] = useState(\n    initial_state_presentaciones\n  );\n  const [presentaciones_eliminadas, setPresentacionesEliminadas] = useState([]);\n  const [actualizarLista, setActualizarLista] = React.useState(false);\n  const [alert, setAlert] = useState({ message: \"\", status: \"\", open: false });\n\n  // USESTATES DE DESCUENTOS DE PRODUCTOS\n  const [ datosPreciosProducto, setDatosPreciosProducto ] = useState([]);\n  const [ preciosDescuentos, setPreciosDescuentos] = useState([]);\n  const [ preciosProductos, setPreciosProductos ] = useState([]);\n  const [ datosEnDescuentos, setDatosEnDescuentos ] = useState([]);\n  const [ almacen_existente, setAlmacenExistente] = useState(false);\n\n  return (\n    <RegProductoContext.Provider\n      value={{\n        datos_generales,\n        setDatosGenerales,\n        precios,\n        setPrecios,\n        almacen_inicial,\n        setAlmacenInicial,\n        imagenes,\n        setImagenes,\n        imagenes_eliminadas,\n        setImagenesEliminadas,\n        onPreview,\n        setOnPreview,\n        validacion,\n        setValidacion,\n        preciosP,\n        setPreciosP,\n        preciosPlazos,\n        setPreciosPlazos,\n        unidadesVenta,\n        setUnidadesVenta,\n        centro_de_costos,\n        setCentroDeCostos,\n        unidadVentaXDefecto,\n        setUnidadVentaXDefecto,\n        subcategorias,\n        setSubcategorias,\n        subcostos,\n        setSubcostos,\n        selectedDate,\n        setSelectedDate,\n        update,\n        setUpdate,\n        presentaciones,\n        setPresentaciones,\n        presentaciones_eliminadas,\n        setPresentacionesEliminadas,\n        actualizarLista,\n        setActualizarLista,\n        alert,\n        setAlert,\n\n        datosPreciosProducto, \n        setDatosPreciosProducto,\n        preciosDescuentos, \n        setPreciosDescuentos,\n        preciosProductos, \n        setPreciosProductos,\n        datosEnDescuentos, \n        setDatosEnDescuentos,\n        almacen_existente, \n        setAlmacenExistente,\n        unidadVentaSecundaria, \n        setUnidadVentaSecundaria\n      }}\n    >\n      {children}\n    </RegProductoContext.Provider>\n  );\n};\n","import React, { createContext, useState } from 'react';\n\nexport const EmpresaContext = createContext();\n\nexport const EmpresaProvider = ({ children }) => {\n   \n\tconst [ empresa, setEmpresa ] = useState({\n\t\tnombre_empresa:'',\n        nombre_dueno:'',\n\t\ttelefono_dueno:'',\n\t\tcelular:'',\n\t\tcorreo_empresa:'',\n        nombre_fiscal:'',\n        rfc:'',\n        regimen_fiscal:'',\n        curp:'',\n        info_adicio:'',\n\t\tdireccion: {\n\t\t\tcalle: '',\n\t\t\tno_ext: '',\n\t\t\tno_int: '',\n\t\t\tcodigo_postal: '',\n\t\t\tcolonia: '',\n\t\t\tmunicipio: '',\n\t\t\tlocalidad: '',\n\t\t\testado: '',\n\t\t\tpais: ''\n\t\t},\n        direccionFiscal: {\n            calle: '',\n\t\t\tno_ext: '',\n\t\t\tno_int: '',\n\t\t\tcodigo_postal: '',\n\t\t\tcolonia: '',\n\t\t\tmunicipio: '',\n\t\t\tlocalidad: '',\n\t\t\testado: '',\n\t\t\tpais: ''\n        },\n        datosBancarios:{\n            cuenta: '',\n            sucursal: '',\n            clave_banco: ''\n        },\n\t\timagen: null\n\t});\n\tconst [ toUpdate, setToUpdate ] = useState(false);\n\tconst [ error, setError ] = useState({error: false, message: ''});\n\tconst [ update, setUpdate ] = useState(false);\n\n\treturn (\n\t\t<EmpresaContext.Provider\n\t\t\tvalue={{\n\t\t\t\tempresa,\n\t\t\t\tsetEmpresa,\n\t\t\t\ttoUpdate,\n\t\t\t\tsetToUpdate,\n\t\t\t\terror,\n\t\t\t\tsetError,\n\t\t\t\tupdate,\n\t\t\t\tsetUpdate\n\t\t\t}}\n\t\t>\n\t\t\t{children}\n\t\t</EmpresaContext.Provider>\n\t);\n};","import React from 'react';\nimport Backdrop from '@material-ui/core/Backdrop';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles((theme) => ({\n  backdrop: {\n    zIndex: theme.zIndex.drawer + 1,\n    color: '#fff',\n    backgroundColor: \"rgba(0, 0, 0, 0.3)\"\n  },\n}));\n\nexport default function BackdropComponent({loading, setLoading}) {\n  const classes = useStyles();\n\n  /* const handleClose = () => {\n    setLoading(false);\n  }; */\n\n  return (\n    <div>\n      <Backdrop className={classes.backdrop} open={loading} /* onClick={handleClose} */>\n        <CircularProgress color=\"inherit\" />\n      </Backdrop>\n    </div>\n  );\n}\n","import React from 'react';\nimport ErrorOutlineIcon from '@material-ui/icons/ErrorOutline';\nimport { Box, Typography } from '@material-ui/core';\n\nexport default function ErrorPage({ error, altura}) {\n\tlet height = altura\n\tif(!height) height = 400;\n\treturn (\n\t\t<Box display=\"flex\" flexDirection=\"column\" justifyContent=\"center\" alignItems=\"center\" height={height}>\n\t\t\t<ErrorOutlineIcon style={{ fontSize: 100, color: 'rgba(17,85,204, 0.7)' }} />\n\t\t\t<Typography align=\"center\" style={{ fontSize: 18, color: 'rgba(17,85,204)' }}>\n\t\t\t\tHubo un problema\n\t\t\t</Typography>\n\t\t</Box>\n\t);\n}\n","import { gql } from \"@apollo/client\";\nexport const OBTENER_DATOS_EMPRESA = gql`\n  query obtenerEmpresa($id: ID!) {\n    obtenerEmpresa(id: $id) {\n      _id\n      nombre_empresa\n      nombre_dueno\n      telefono_dueno\n      celular\n      correo_empresa\n      limite_timbres\n      timbres_usados\n      sello_sat\n      nombre_cer\n      nombre_key\n      imagen\n      nombre_fiscal\n      rfc\n      regimen_fiscal\n      curp\n      info_adicio\n      valor_puntos\n      direccion {\n        calle\n        no_ext\n        no_int\n        codigo_postal\n        colonia\n        municipio\n        localidad\n        estado\n        pais\n      }\n      direccionFiscal {\n        calle\n        no_ext\n        no_int\n        codigo_postal\n        colonia\n        municipio\n        localidad\n        estado\n        pais\n      }\n      datosBancarios {\n        cuenta\n        sucursal\n        clave_banco\n      }\n    }\n  }\n`;\n\nexport const ACTUALIZAR_EMPRESA = gql`\n  mutation actualizarEmpresa($id: ID!, $input: EditarEmpresa) {\n    actualizarEmpresa(id: $id, input: $input) {\n      _id\n      nombre_empresa\n      nombre_dueno\n      telefono_dueno\n      celular\n      correo_empresa\n      limite_timbres\n      timbres_usados\n      sello_sat\n      nombre_cer\n      nombre_key\n      imagen\n      nombre_fiscal\n      rfc\n      regimen_fiscal\n      curp\n      info_adicio\n      valor_puntos\n      direccion {\n        calle\n        no_ext\n        no_int\n        codigo_postal\n        colonia\n        municipio\n        localidad\n        estado\n        pais\n      }\n      direccionFiscal {\n        calle\n        no_ext\n        no_int\n        codigo_postal\n        colonia\n        municipio\n        localidad\n        estado\n        pais\n      }\n      datosBancarios {\n        cuenta\n        sucursal\n        clave_banco\n      }\n    }\n  }\n`;\n","import React, { useContext, useState, useCallback, useEffect } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport {\n  Box,\n  Grid,\n  TextField,\n  Button,\n  Avatar,\n  Container,\n} from \"@material-ui/core\";\nimport {\n  Typography,\n  Divider,\n  DialogActions,\n} from \"@material-ui/core\";\nimport { useDropzone } from \"react-dropzone\";\n\nimport { useMutation, useQuery } from \"@apollo/client\";\nimport { EmpresaContext } from \"../../../../context/Catalogos/empresaContext\";\nimport SnackBarMessages from \"../../../../components/SnackBarMessages\";\nimport BackdropComponent from \"../../../../components/Layouts/BackDrop\";\nimport ErrorPage from \"../../../../components/ErrorPage\";\nimport {\n  ACTUALIZAR_EMPRESA,\n  OBTENER_DATOS_EMPRESA,\n} from \"../../../../gql/Empresa/empresa\";\n\n\nconst useStyles = makeStyles((theme) => ({\n  appBar: {\n    position: \"relative\",\n  },\n  title: {\n    marginLeft: theme.spacing(2),\n    flex: 1,\n  },\n  icon: {\n    fontSize: 100,\n  },\n  subtitle: {\n    marginLeft: \"10px\",\n    width: \"100%\",\n  },\n  require: {\n    \"& span\": {\n      color: \"red\",\n    },\n  },\n  avatarContainer: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    width: \"100%\",\n    height: \"100%\",\n    border: \"dashed 2px black\",\n    borderRadius: \"100%\",\n  },\n  avatar: {\n    width: \"90%\",\n    height: \"90%\",\n    \"& > .icon\": {\n      fontSize: 100,\n    },\n  },\n}));\n\n\nexport default function MisDatos(props) {\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n  const classes = useStyles();\n  const [loadingPage, setLoadingPage] = React.useState(false);\n  const [bloqueo] = useState(\n    sesion.accesos.mi_empresa.datos_empresa.editar === false ? true : false\n  );\n  const [preview, setPreview] = useState(\"\");\n\n   \n  const [errorPage, setErrorPage] = React.useState(false);\n  const [errorForm, setErrorForm] = React.useState(\n    useState({ error: false, message: \"\" })\n  );\n\n  const [alert, setAlert] = useState({ message: \"\", status: \"\", open: false });\n  const { empresa, update, setEmpresa, setUpdate } = useContext(EmpresaContext);\n\n  const [actualizarEmpresa] = useMutation(ACTUALIZAR_EMPRESA);\n\n  /* Queries */\n  const { loading, data, refetch, error } = useQuery(OBTENER_DATOS_EMPRESA, {\n    variables: { id: sesion.empresa._id },\n  });\n\n  const [empresaDatos, setEmpresaDatos] = useState({\n    nombre_empresa: \"\",\n    nombre_dueno: \"\",\n    telefono_dueno: \"\",\n    celular: \"\",\n    correo_empresa: \"\",\n    valor_puntos: \"\",\n    nombre_fiscal: \"\",\n    rfc: \"\",\n    regimen_fiscal: \"\",\n    curp: \"\",\n    info_adicio: \"\",\n    direccion: {\n      calle: \"\",\n      no_ext: \"\",\n      no_int: \"\",\n      codigo_postal: \"\",\n      colonia: \"\",\n      municipio: \"\",\n      localidad: \"\",\n      estado: \"\",\n      pais: \"\",\n    },\n    direccionFiscal: {\n      calle: \"\",\n      no_ext: \"\",\n      no_int: \"\",\n      codigo_postal: \"\",\n      colonia: \"\",\n      municipio: \"\",\n      localidad: \"\",\n      estado: \"\",\n      pais: \"\",\n    },\n    datosBancarios: {\n      cuenta: \"\",\n      sucursal: \"\",\n      clave_banco: \"\",\n    },\n    imagen: null,\n  });\n  useEffect(() => {\n    try {\n      refetch();\n    } catch (errorCatch) {\n      // console.log(\"SESSIONREFECTUPDATE\",errorCatch)\n    }\n  }, [update, refetch]);\n  useEffect(() => {\n    try {\n      setLoadingPage(loading);\n    } catch (errorCatch) {\n      // console.log(\"SESSIONREFECTUPDATE\",errorCatch)\n    }\n  }, [loading]);\n  useEffect(() => {\n    try {\n      if (data !== undefined) {\n        setEmpresa(data.obtenerEmpresa);\n      }\n    } catch (errorCatch) {\n      // console.log(\"SESSIONREFECT\",errorCatch)\n    }\n  }, [data, setEmpresa]);\n  useEffect(() => {\n    try {\n      setErrorPage(error);\n    } catch (errorCatch) {\n      // console.log(\"SESSIONREFECT\",errorCatch)\n    }\n  }, [error]);\n  useEffect(() => {\n    try {\n      setEmpresaDatos({\n        nombre_empresa: empresa.nombre_empresa,\n        nombre_dueno: empresa.nombre_dueno,\n        telefono_dueno: empresa.telefono_dueno,\n        celular: empresa.celular,\n        valor_puntos: empresa.valor_puntos,\n        correo_empresa: empresa.correo_empresa,\n        direccion: empresa.direccion,\n        imagen: empresa.imagen,\n      });\n    } catch (errorCatch) {\n      // console.log(errorCatch)\n    }\n  }, [empresa]);\n\n  const actEmp = async () => {\n    try {\n      setLoadingPage(true);\n      /* const input = cleanTypenames(empresaDatos); */\n      await actualizarEmpresa({\n        variables: {\n          id: sesion.empresa._id,\n          input: empresaDatos,\n        },\n      });\n      setUpdate(true);\n      setLoadingPage(false);\n      setAlert({\n        message: \"Se han actualizado correctamente los datos.\",\n        status: \"success\",\n        open: true,\n      });\n      setErrorForm(false);\n    } catch (errorCatch) {\n      console.log(errorCatch);\n      if (errorCatch.networkError) {\n        console.log(errorCatch.networkError.result);\n      } else if (errorCatch.graphQLErrors) {\n        console.log(errorCatch.graphQLErrors);\n      }\n      setAlert({ message: \"Hubo un error\", status: \"error\", open: true });\n      setLoadingPage(false);\n    }\n  };\n \n  const obtenerCampos = (e) => {\n    try {\n      let valor = e.target.value;\n      if(e.target.name === 'valor_puntos'){ valor = parseFloat(valor)}\n      setEmpresaDatos({\n        ...empresaDatos,\n        [e.target.name]: valor,\n      });\n    } catch (error) {\n      \n    }\n  \n  };\n  const obtenerCamposDireccion = (e) => {\n    setEmpresaDatos({\n      ...empresaDatos,\n      direccion: { ...empresaDatos.direccion, [e.target.name]: e.target.value },\n    });\n  };\n  const handleClose = () => {\n    props.setOpen(false)\n  }\n  //dropzone\n  const onDrop = useCallback(\n    (acceptedFiles) => {\n      let reader = new FileReader();\n      reader.readAsDataURL(acceptedFiles[0]);\n      reader.onload = function () {\n        let image = reader.result;\n        setPreview(image);\n      };\n      setEmpresaDatos({\n        ...empresaDatos,\n        imagen: acceptedFiles[0],\n      });\n    },\n    [empresaDatos, setEmpresaDatos]\n  );\n  const { getRootProps, getInputProps } = useDropzone({\n    accept: \"image/jpeg, image/png\",\n    noKeyboard: true,\n    onDrop,\n  });\n  \n  return (\n    <div>\n        <SnackBarMessages alert={alert} setAlert={setAlert} />\n        <BackdropComponent loading={loadingPage} setLoading={setLoadingPage} />\n          {errorPage ? (\n            <ErrorPage error={errorPage} />\n          ) : (\n            <Container style={{ marginTop: 8 }}>\n              <Grid container spacing={3} className={classes.require}>\n                <Grid item md={2}>\n                  <Box className={classes.avatarContainer} {...getRootProps()}>\n                    <input {...getInputProps()} />\n                    {preview ? (\n                      <Avatar className={classes.avatar} src={`${preview}`} />\n                    ) : (\n                      <Avatar\n                        className={classes.avatar}\n                        src={`${empresa.imagen}`}\n                      />\n                    )}\n                  </Box>\n                </Grid>\n                <Grid item md={4}>\n                  <Box>\n                    <Typography>\n                      <b><span>* </span>Nombre de empresa</b>\n                    </Typography>\n                    <TextField\n                      fullWidth\n                      disabled={bloqueo}\n                      type=\"text\"\n                      size=\"small\"\n                      error={errorForm.error && !empresaDatos.nombre_empresa}\n                      name=\"nombre_empresa\"\n                      variant=\"outlined\"\n                      value={\n                        empresaDatos.nombre_empresa\n                          ? empresaDatos.nombre_empresa\n                          : \"\"\n                      }\n                      helperText={\n                        errorForm.error &&\n                        errorForm.message !== \"El campo nombre es obligatorio\"\n                          ? errorForm.message\n                          : \"\"\n                      }\n                      onChange={obtenerCampos}\n                    />\n                  </Box>\n                  <Box>\n                    <Typography>\n                      <b><span>* </span>Nombre dueo</b>\n                    </Typography>\n                    <TextField\n                      fullWidth\n                      disabled={bloqueo}\n                      type=\"text\"\n                      size=\"small\"\n                      error={errorForm.error && !empresaDatos.nombre_dueno}\n                      name=\"nombre_dueno\"\n                      variant=\"outlined\"\n                      value={\n                        empresaDatos.nombre_dueno\n                          ? empresaDatos.nombre_dueno\n                          : \"\"\n                      }\n                      helperText={\n                        errorForm.error &&\n                        errorForm.message !== \"El campo nombre es obligatorio\"\n                          ? errorForm.message\n                          : \"\"\n                      }\n                      onChange={obtenerCampos}\n                    />\n                  </Box>\n                  <Box>\n                    <Typography><b>Telfono</b></Typography>\n                    <TextField\n                      fullWidth\n                      disabled={bloqueo}\n                      size=\"small\"\n                      name=\"telefono_dueno\"\n                      variant=\"outlined\"\n                      value={\n                        empresaDatos.telefono_dueno\n                          ? empresaDatos.telefono_dueno\n                          : \"\"\n                      }\n                      onChange={obtenerCampos}\n                    />\n                  </Box>\n                </Grid>\n                <Grid item md={4}>\n                  <Box>\n                    <Typography><b>Celular</b></Typography>\n                    <TextField\n                      fullWidth\n                      disabled={bloqueo}\n                      size=\"small\"\n                      name=\"celular\"\n                      variant=\"outlined\"\n                      value={empresaDatos.celular ? empresaDatos.celular : \"\"}\n                      onChange={obtenerCampos}\n                    />\n                  </Box>\n                  <Box>\n                    <Typography><b>E-mail</b></Typography>\n                    <TextField\n                      fullWidth\n                      disabled={bloqueo}\n                      size=\"small\"\n                      name=\"correo_empresa\"\n                      variant=\"outlined\"\n                      value={\n                        empresaDatos.correo_empresa\n                          ? empresaDatos.correo_empresa\n                          : \"\"\n                      }\n                      onChange={obtenerCampos}\n                    />\n                  </Box>\n                   <Box>\n                    <Typography><b>Valor de puntos</b></Typography>\n                    <TextField\n                      inputMode=\"numeric\"\n\t\t\t\t\t            type=\"number\"\n                      disabled={bloqueo}\n                      size=\"small\"\n                      name=\"valor_puntos\"\n                      variant=\"outlined\"\n                      value={\n                        empresaDatos.valor_puntos\n                          ? empresaDatos.valor_puntos\n                          : \"\"\n                      }\n                      onChange={obtenerCampos}\n                    />\n                  </Box>\n                </Grid>\n              </Grid>\n\n              <Box mt={5}>\n                <Typography className={classes.subtitle}>\n                  <b>Domicilio empresa</b>\n                </Typography>\n                <Divider />\n              </Box>\n              <Grid container spacing={3} className={classes.require}>\n                <Grid item md={4}>\n                  <Box>\n                    <Typography><b>Calle</b></Typography>\n                    <TextField\n                      fullWidth\n                      size=\"small\"\n                      name=\"calle\"\n                      variant=\"outlined\"\n                      disabled={bloqueo}\n                      value={\n                        empresaDatos.direccion.calle\n                          ? empresaDatos.direccion.calle\n                          : \"\"\n                      }\n                      onChange={obtenerCamposDireccion}\n                    />\n                  </Box>\n                  <Box>\n                    <Typography><b>Num. Ext</b></Typography>\n                    <TextField\n                      fullWidth\n                      size=\"small\"\n                      name=\"no_ext\"\n                      variant=\"outlined\"\n                      disabled={bloqueo}\n                      value={\n                        empresaDatos.direccion.no_ext\n                          ? empresaDatos.direccion.no_ext\n                          : \"\"\n                      }\n                      onChange={obtenerCamposDireccion}\n                    />\n                  </Box>\n                  <Box>\n                    <Typography><b>Num. Int</b></Typography>\n                    <TextField\n                      fullWidth\n                      size=\"small\"\n                      name=\"no_int\"\n                      variant=\"outlined\"\n                      disabled={bloqueo}\n                      value={\n                        empresaDatos.direccion.no_int\n                          ? empresaDatos.direccion.no_int\n                          : \"\"\n                      }\n                      onChange={obtenerCamposDireccion}\n                    />\n                  </Box>\n                </Grid>\n                <Grid item md={4}>\n                  <Box>\n                    <Typography><b>C.P.</b> </Typography>\n                    <TextField\n                      fullWidth\n                      size=\"small\"\n                      name=\"codigo_postal\"\n                      variant=\"outlined\"\n                      disabled={bloqueo}\n                      value={\n                        empresaDatos.direccion.codigo_postal\n                          ? empresaDatos.direccion.codigo_postal\n                          : \"\"\n                      }\n                      onChange={obtenerCamposDireccion}\n                    />\n                  </Box>\n                  <Box>\n                    <Typography><b>Colonia</b></Typography>\n                    <TextField\n                      fullWidth\n                      size=\"small\"\n                      name=\"colonia\"\n                      variant=\"outlined\"\n                      disabled={bloqueo}\n                      value={\n                        empresaDatos.direccion.colonia\n                          ? empresaDatos.direccion.colonia\n                          : \"\"\n                      }\n                      onChange={obtenerCamposDireccion}\n                    />\n                  </Box>\n                  <Box>\n                    <Typography><b>Municipio</b></Typography>\n                    <TextField\n                      fullWidth\n                      size=\"small\"\n                      name=\"municipio\"\n                      variant=\"outlined\"\n                      disabled={bloqueo}\n                      value={\n                        empresaDatos.direccion.municipio\n                          ? empresaDatos.direccion.municipio\n                          : \"\"\n                      }\n                      onChange={obtenerCamposDireccion}\n                    />\n                  </Box>\n                </Grid>\n                <Grid item md={4}>\n                  <Box>\n                    <Typography><b>Localidad</b></Typography>\n                    <TextField\n                      fullWidth\n                      size=\"small\"\n                      name=\"localidad\"\n                      variant=\"outlined\"\n                      disabled={bloqueo}\n                      value={\n                        empresaDatos.direccion.localidad\n                          ? empresaDatos.direccion.localidad\n                          : \"\"\n                      }\n                      onChange={obtenerCamposDireccion}\n                    />\n                  </Box>\n                  <Box>\n                    <Typography><b>Estado</b></Typography>\n                    <TextField\n                      fullWidth\n                      size=\"small\"\n                      name=\"estado\"\n                      variant=\"outlined\"\n                      disabled={bloqueo}\n                      value={\n                        empresaDatos.direccion.estado\n                          ? empresaDatos.direccion.estado\n                          : \"\"\n                      }\n                      onChange={obtenerCamposDireccion}\n                    />\n                  </Box>\n                  <Box>\n                    <Typography><b>Pais</b></Typography>\n                    <TextField\n                      fullWidth\n                      size=\"small\"\n                      name=\"pais\"\n                      variant=\"outlined\"\n                      disabled={bloqueo}\n                      value={\n                        empresaDatos.direccion.pais\n                          ? empresaDatos.direccion.pais\n                          : \"\"\n                      }\n                      onChange={obtenerCamposDireccion}\n                    />\n                  </Box>\n                </Grid>\n              </Grid>\n              {sesion.accesos.mi_empresa.datos_empresa.editar === false ? null : (\n                <DialogActions style={{ marginTop:15,width:'100%',justifyContent: \"center\" }}>\n                    <Button onClick={handleClose} color=\"primary\">\n                    Cancelar\n                  </Button>\n                  <Button\n                    onClick={() => actEmp()}\n                    color=\"primary\"\n                    variant=\"contained\"\n                  \n                  >\n                    Guardar\n                  </Button>\n                </DialogActions>\n                )}\n            </Container>\n          )}\n       \n    </div>\n  );\n}\n","import moment from \"moment\";\n\nexport const usosCfdi = [\n  {\n    Value: \"G01\",\n    Name: \"Adquisicin de mercancas\",\n  },\n  {\n    Value: \"G02\",\n    Name: \"Devoluciones, descuentos o bonificaciones\",\n  },\n  {\n    Value: \"G03\",\n    Name: \"Gastos en general\",\n  },\n  {\n    Value: \"I01\",\n    Name: \"Construcciones\",\n  },\n  {\n    Value: \"I02\",\n    Name: \"Mobiliario y equipo de oficina por inversiones\",\n  },\n  {\n    Value: \"I03\",\n    Name: \"Equipo de transporte\",\n  },\n  {\n    Value: \"I04\",\n    Name: \"Equipo de cmputo y accesorios\",\n  },\n  {\n    Value: \"I05\",\n    Name: \"Dados, troqueles, moldes, matrices y herramental\",\n  },\n  {\n    Value: \"I06\",\n    Name: \"Comunicaciones telefnicas\",\n  },\n  {\n    Value: \"I07\",\n    Name: \"Comunicaciones satelitales\",\n  },\n  {\n    Value: \"I08\",\n    Name: \"Otra maquinaria y equipo\",\n  },\n  {\n    Value: \"D01\",\n    Name: \"Honorarios mdicos, dentales y gastos hospitalarios\",\n  },\n  {\n    Value: \"D02\",\n    Name: \"Gastos mdicos por incapacidad o discapacidad\",\n  },\n  {\n    Value: \"D03\",\n    Name: \"Gastos funerales.\",\n  },\n  {\n    Value: \"D04\",\n    Name: \"Donativos\",\n  },\n  {\n    Value: \"D05\",\n    Name:\n      \"Intereses reales efectivamente pagados por crditos hipotecarios (casa habitacin).\",\n  },\n  {\n    Value: \"D06\",\n    Name: \"Aportaciones voluntarias al SAR.\",\n  },\n  {\n    Value: \"D07\",\n    Name: \"Primas por seguros de gastos mdicos.\",\n  },\n  {\n    Value: \"D08\",\n    Name: \"Gastos de transportacin escolar obligatoria.\",\n  },\n  {\n    Value: \"D09\",\n    Name:\n      \"Depsitos en cuentas para el ahorro, primas que tengan como base planes de pensiones.\",\n  },\n  {\n    Value: \"D10\",\n    Name: \"Pagos por servicios educativos (colegiaturas)\",\n  },\n  {\n    Value: \"P01\",\n    Name: \"Por definir\",\n  },\n];\nexport const tiposCfdi = [\n  {\n    NameId: 1,\n    Name: \"Factura\",\n    Value: \"I\",\n  },\n  {\n    NameId: 2,\n    Name: \"Nota de Crdito\",\n    Value: \"E\",\n  },\n  {\n    NameId: 14,\n    Name: \"Complemento de pago\",\n    Value: \"P\",\n  },\n];\nexport const tipoCambio = [\n  {\n    Value: \"MXN\",\n    Name: \"Peso Mexicano\",\n  },\n  {\n    Value: \"EUR\",\n    Name: \"Euro\",\n  },\n  {\n    Value: \"USD\",\n    Name: \"Dolar Americano\",\n  },\n];\nexport const formaPago = [\n  {\n    Name: \"Efectivo\",\n    Value: \"01\",\n  },\n  {\n    Name: \"Cheque nominativo\",\n    Value: \"02\",\n  },\n  {\n    Name: \"Transferencia electrnica de fondos\",\n    Value: \"03\",\n  },\n  {\n    Name: \"Tarjeta de crdito\",\n    Value: \"04\",\n  },\n  {\n    Name: \"Monedero electrnico\",\n    Value: \"05\",\n  },\n  {\n    Name: \"Dinero electrnico\",\n    Value: \"06\",\n  },\n  {\n    Name: \"Vales de despensa\",\n    Value: \"08\",\n  },\n  /* {\n        Name: \"Dacin en pago\",\n        Value: \"12\"\n    },\n    {\n        Name: \"Pago por subrogacin\",\n        Value: \"13\"\n    },\n    {\n        Name: \"Pago por consignacin\",\n        Value: \"14\"\n    },\n    {\n        Name: \"Condonacin\",\n        Value: \"15\"\n    },\n    {\n        Name: \"Compensacin\",\n        Value: \"17\"\n    },\n    {\n        Name: \"Novacin\",\n        Value: \"23\"\n    },\n    {\n        Name: \"Confusin\",\n        Value: \"24\"\n    },\n    {\n        Name: \"Remisin de deuda\",\n        Value: \"25\"\n    },\n    {\n        Name: \"Prescripcin o caducidad\",\n        Value: \"26\"\n    },\n    {\n        Name: \"A satisfaccin del acreedor\",\n        Value: \"27\"\n    }, */\n  {\n    Name: \"Tarjeta de dbito\",\n    Value: \"28\",\n  },\n  /* {\n        Name: \"Tarjeta de servicios\",\n        Value: \"29\"\n    }, */\n  {\n    Name: \"Aplicacin de anticipos\",\n    Value: \"30\",\n  },\n  /* {\n        Name: \"Intermediarios\",\n        Value: \"31\"\n    }, */\n  {\n    Name: \"Por definir\",\n    Value: \"99\",\n  },\n];\nexport const metodoPago = [\n  {\n    Value: \"PPD\",\n    Name: \"Pago en parcialidades  diferido\",\n  },\n  {\n    Value: \"PUE\",\n    Name: \"Pago en una sola exhibicin\",\n  },\n];\nexport const regimenFiscal = [\n  {\n    Natural: false,\n    Moral: true,\n    Name: \"General de Ley Personas Morales\",\n    Value: \"601\",\n  },\n  {\n    Natural: false,\n    Moral: true,\n    Name: \"Personas Morales con Fines no Lucrativos\",\n    Value: \"603\",\n  },\n  {\n    Natural: true,\n    Moral: false,\n    Name: \"Sueldos y Salarios e Ingresos Asimilados a Salarios\",\n    Value: \"605\",\n  },\n  {\n    Natural: true,\n    Moral: false,\n    Name: \"Arrendamiento\",\n    Value: \"606\",\n  },\n  {\n    Natural: false,\n    Moral: true,\n    Name: \"Rgimen de Enajenacin o Adquisicin de Bienes\",\n    Value: \"607\",\n  },\n  {\n    Natural: true,\n    Moral: false,\n    Name: \"Dems ingresos\",\n    Value: \"608\",\n  },\n  {\n    Natural: true,\n    Moral: true,\n    Name:\n      \"Residentes en el Extranjero sin Establecimiento Permanente en Mxico\",\n    Value: \"610\",\n  },\n  {\n    Natural: true,\n    Moral: false,\n    Name: \"Ingresos por Dividendos (socios y accionistas)\",\n    Value: \"611\",\n  },\n  {\n    Natural: true,\n    Moral: false,\n    Name: \"Personas Fsicas con Actividades Empresariales y Profesionales\",\n    Value: \"612\",\n  },\n  {\n    Natural: true,\n    Moral: false,\n    Name: \"Ingresos por intereses\",\n    Value: \"614\",\n  },\n  {\n    Natural: true,\n    Moral: false,\n    Name: \"Rgimen de los ingresos por obtencin de premios\",\n    Value: \"615\",\n  },\n  {\n    Natural: true,\n    Moral: false,\n    Name: \"Sin obligaciones fiscales\",\n    Value: \"616\",\n  },\n  {\n    Natural: false,\n    Moral: true,\n    Name:\n      \"Sociedades Cooperativas de Produccin que optan por diferir sus ingresos\",\n    Value: \"620\",\n  },\n  {\n    Natural: true,\n    Moral: false,\n    Name: \"Incorporacin Fiscal\",\n    Value: \"621\",\n  },\n  {\n    Natural: true,\n    Moral: true,\n    Name: \"Actividades Agrcolas, Ganaderas, Silvcolas y Pesqueras\",\n    Value: \"622\",\n  },\n  {\n    Natural: false,\n    Moral: true,\n    Name: \"Opcional para Grupos de Sociedades\",\n    Value: \"623\",\n  },\n  {\n    Natural: false,\n    Moral: true,\n    Name: \"Coordinados\",\n    Value: \"624\",\n  },\n  {\n    Natural: true,\n    Moral: false,\n    Name:\n      \"Rgimen de las Actividades Empresariales con ingresos a travs de Plataformas Tecnolgicas\",\n    Value: \"625\",\n  },\n  {\n    Natural: false,\n    Moral: true,\n    Name: \"Hidrocarburos\",\n    Value: \"628\",\n  },\n  {\n    Natural: true,\n    Moral: false,\n    Name:\n      \"De los Regmenes Fiscales Preferentes y de las Empresas Multinacionales\",\n    Value: \"629\",\n  },\n  {\n    Natural: true,\n    Moral: false,\n    Name: \"Enajenacin de acciones en bolsa de valores\",\n    Value: \"630\",\n  },\n];\n\n","import { gql } from \"@apollo/client\";\n\nexport const CREAR_FACTURA = gql`\n  mutation crearFactura($input: CrearFacturaInput) {\n    crearFactura(input: $input) {\n      message\n      success\n      pdf\n      xml\n    }\n  }\n`;\n\nexport const CREAR_SERIE = gql`\n  mutation crearSerieCFDI($input: CrearSerieCfdiInput!) {\n    crearSerieCFDI(input: $input) {\n      message\n      success\n    }\n  }\n`;\n\nexport const ACTUALIZAR_DEFAULT_SERIE = gql`\n  mutation modificarDefaultSerie($id: ID!, $empresa: ID!, $sucursal: ID!) {\n    modificarDefaultSerie(id: $id, empresa: $empresa, sucursal: $sucursal) {\n      message\n    }\n  }\n`;\n\nexport const ELIMINAR_SERIE = gql`\n  mutation eliminarSerie($id: ID!) {\n    eliminarSerie(id: $id) {\n      message\n    }\n  }\n`;\n\nexport const OBTENER_SERIES = gql`\n  query obtenerSeriesCdfi($empresa: ID!, $sucursal: ID!) {\n    obtenerSeriesCdfi(empresa: $empresa, sucursal: $sucursal) {\n      message\n      success\n      seriesCfdi {\n        _id\n        serie\n        folio\n        default\n      }\n    }\n  }\n`;\n\nexport const CREAR_SELLO_CFDI = gql`\n  mutation crearCSDS($input: CrearCSDSInput!) {\n    crearCSDS(input: $input) {\n      message\n      success\n    }\n  }\n`;\n\nexport const ELIMINAR_SELLO_CFDI = gql`\n  mutation eliminarCSD($rfc: String, $empresa: ID!) {\n    eliminarCSD(rfc: $rfc, empresa: $empresa) {\n      message\n    }\n  }\n`;\n\nexport const CONSULTA_CATALOGOS_SAT_API = gql`\n  query obtenerCatalogosSAT($input: CrearFacturaInput!) {\n    obtenerCatalogosSAT(input: $input) {\n      message\n      currencies {\n        Decimals\n        PrecisionRate\n        Name\n        Value\n      }\n      paymentForms {\n        Name\n        Value\n      }\n      paymentMethods {\n        Name\n        Value\n      }\n      fiscalRegimens {\n        Natural\n        Moral\n        Name\n        Value\n      }\n      cfdiTypes {\n        NameId\n        Name\n        Value\n      }\n    }\n  }\n`;\n\nexport const CONSULTA_PRODUCTOS_SERVICIOS_SAT_API = gql`\n  query obtenerProductosOServicios($input: CrearFacturaInput!) {\n    obtenerProductosOServicios(input: $input) {\n      message\n      productosOServicios {\n        DangerousMaterial\n        Complement\n        Name\n        Value\n      }\n    }\n  }\n`;\n\nexport const CONSULTA_POSTAL_CODES_SAT_API = gql`\n  query obtenerCodigoPostal($input: CrearFacturaInput!) {\n    obtenerCodigoPostal(input: $input) {\n      message\n      codigoPostal {\n        StateCode\n        MunicipalityCode\n        LocationCode\n        Name\n        Value\n      }\n    }\n  }\n`;\n\nexport const CONSULTA_CFDIU_USES_SAT_API = gql`\n  query obtenerCfdiUses($input: CrearFacturaInput!) {\n    obtenerCfdiUses(input: $input) {\n      message\n      cfdiUses {\n        message\n        Natural\n        Moral\n        Name\n        Value\n      }\n    }\n  }\n`;\n","import React, { useState } from \"react\";\nimport {\n  Box,\n  Button,\n  CircularProgress,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  IconButton,\n  InputAdornment,\n  TextField,\n  Typography,\n} from \"@material-ui/core\";\nimport {\n  Add,\n  Close,\n  CloudUpload,\n  Done,\n  Visibility,\n  VisibilityOff,\n} from \"@material-ui/icons\";\nimport SnackBarMessages from \"../../../../components/SnackBarMessages\";\nimport { CREAR_SELLO_CFDI } from \"../../../../gql/Facturacion/Facturacion\";\nimport { useMutation } from \"@apollo/client\";\n\nexport default function RegistroSellos({\n  datosEmpresa,\n  firma_disabled,\n  refetch,\n}) {\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n  const [open, setOpen] = useState(false);\n  const [datos, setDatos] = useState({\n    certificate: \"\",\n    private_key: \"\",\n    private_key_password: \"\",\n    rfc: sesion && datosEmpresa.rfc ? datosEmpresa.rfc : \"\",\n    empresa: sesion && sesion.empresa._id ? sesion.empresa._id : \"\",\n    sucursal: sesion && sesion.sucursal._id ? sesion.sucursal._id : \"\",\n  });\n  const [show, setShow] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [alert, setAlert] = useState({ message: \"\", status: \"\", open: false });\n\n  const handleClickOpen = () => setOpen(true);\n  const handleClose = () => {\n    setOpen(false);\n    setDatos({\n      certificate: \"\",\n      private_key: \"\",\n      private_key_password: \"\",\n      rfc: sesion && datosEmpresa.rfc ? datosEmpresa.rfc : \"\",\n      empresa: sesion && sesion.empresa._id ? sesion.empresa._id : \"\",\n      sucursal: sesion && sesion.sucursal._id ? sesion.sucursal._id : \"\",\n    });\n  };\n\n  const [crearCSDS] = useMutation(CREAR_SELLO_CFDI);\n\n  const handleClickShowPassword = () => setShow(!show);\n  const handleMouseDownPassword = (event) => event.preventDefault();\n\n  const obtenerFiles = (e) => {\n    const { name, files } = e.target;\n    setDatos({\n      ...datos,\n      [name]: files[0],\n    });\n  };\n\n  const obtenerDatos = (e) => {\n    setDatos({\n      ...datos,\n      private_key_password: e.target.value,\n    });\n  };\n\n  const getBase64 = (file) => {\n    return new Promise((resolve) => {\n      let baseURL = \"\";\n      let reader = new FileReader();\n      reader.readAsDataURL(file);\n      reader.onload = () => {\n        baseURL = reader.result;\n        resolve(baseURL);\n      };\n    });\n  };\n\n  const guardarBD = async () => {\n    if (\n      !datos.certificate ||\n      !datos.private_key ||\n      !datos.private_key_password ||\n      !datos.rfc\n    )\n      return;\n\n    try {\n      let data = { ...datos };\n      let cer = data.certificate;\n      let key = data.private_key;\n      await getBase64(cer)\n        .then((result) => {\n          const base = result.split(\",\");\n          data.certificate = base[1];\n          data.nombre_cer = cer.name;\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n      await getBase64(key)\n        .then((result) => {\n          const base = result.split(\",\");\n          data.private_key = base[1];\n          data.nombre_key = key.name;\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n\n      setLoading(true);\n      const result = await crearCSDS({\n        variables: {\n          input: {\n            certificate: data.certificate,\n            private_key: data.private_key,\n            private_key_password: data.private_key_password,\n            rfc: data.rfc,\n            empresa: data.empresa,\n            sucursal: data.sucursal,\n            nombre_cer: data.nombre_cer,\n            nombre_key: data.nombre_key,\n          },\n        },\n      });\n      setAlert({\n        message: `Listo! ${result.data.crearCSDS.message}`,\n        status: \"success\",\n        open: true,\n      });\n      setLoading(false);\n      handleClose();\n      refetch();\n    } catch (error) {\n      setLoading(false);\n      setAlert({\n        message: `Error: ${error.message}`,\n        status: \"error\",\n        open: true,\n      });\n      console.log(error);\n      if (error.networkError) {\n        console.log(error.networkError.result);\n      } else if (error.graphQLErrors) {\n        console.log(error.graphQLErrors);\n      }\n    }\n  };\n\n  return (\n    <div>\n      <SnackBarMessages alert={alert} setAlert={setAlert} />\n      <Box display=\"flex\" justifyContent=\"flex-end\">\n        <Button\n          onClick={() => handleClickOpen()}\n          color=\"inherit\"\n          startIcon={<Add />}\n          disabled={firma_disabled}\n        >\n          Agregar CSD\n        </Button>\n      </Box>\n      <Dialog maxWidth=\"xs\" fullWidth open={open} onClose={() => handleClose()}>\n        <DialogTitle>Registrar firma digital</DialogTitle>\n        <DialogContent>\n          <Box mb={2}>\n            {datosEmpresa.rfc ? (\n              <Typography>{`RFC: ${datosEmpresa.rfc}`}</Typography>\n            ) : (\n              <Typography color=\"error\">\n                *No tienes registrado un RFC\n              </Typography>\n            )}\n          </Box>\n          <Box width=\"100%\">\n            <Typography>\n              Archivo *.cer <b>Certificado de la firma Digital</b>\n            </Typography>\n            <Box display=\"flex\" alignItems=\"center\">\n              <TextField\n                fullWidth\n                value={datos.certificate ? datos.certificate.name : \"\"}\n                size=\"small\"\n                variant=\"outlined\"\n                InputProps={{\n                  endAdornment: (\n                    <InputAdornment position=\"end\">\n                      <label htmlFor=\"archivo-cer-sello-digital\">\n                        <Button\n                          startIcon={<CloudUpload />}\n                          color=\"primary\"\n                          component=\"span\"\n                          disableElevation\n                        >\n                          Upload\n                        </Button>\n                      </label>\n                    </InputAdornment>\n                  ),\n                  readOnly: true,\n                }}\n              />\n              <input\n                accept=\".cer\"\n                style={{ display: \"none\" }}\n                id=\"archivo-cer-sello-digital\"\n                multiple\n                type=\"file\"\n                name=\"certificate\"\n                onChange={obtenerFiles}\n              />\n            </Box>\n          </Box>\n          <Box width=\"100%\" mt={2}>\n            <Typography>\n              Archivo *.key <b>Llave Privada de la Firma Digital</b>\n            </Typography>\n            <Box display=\"flex\" alignItems=\"center\">\n              <TextField\n                fullWidth\n                value={datos.private_key ? datos.private_key.name : \"\"}\n                size=\"small\"\n                variant=\"outlined\"\n                InputProps={{\n                  endAdornment: (\n                    <InputAdornment position=\"end\">\n                      <label htmlFor=\"archivo-key-llave_privada\">\n                        <Button\n                          startIcon={<CloudUpload />}\n                          color=\"primary\"\n                          component=\"span\"\n                          disableElevation\n                        >\n                          Upload\n                        </Button>\n                      </label>\n                    </InputAdornment>\n                  ),\n                  readOnly: true,\n                }}\n              />\n              <input\n                accept=\".key\"\n                style={{ display: \"none\" }}\n                id=\"archivo-key-llave_privada\"\n                multiple\n                type=\"file\"\n                name=\"private_key\"\n                onChange={obtenerFiles}\n              />\n            </Box>\n          </Box>\n          <Box width=\"100%\" my={2}>\n            <Typography>\n              Contrasea de la llave <b>Privada de la Firma Digital</b>\n            </Typography>\n            <Box display=\"flex\" alignItems=\"center\">\n              <TextField\n                fullWidth\n                type={show ? \"text\" : \"password\"}\n                size=\"small\"\n                variant=\"outlined\"\n                name=\"private_key_password\"\n                onChange={obtenerDatos}\n                InputProps={{\n                  endAdornment: (\n                    <InputAdornment position=\"end\">\n                      <IconButton\n                        onClick={handleClickShowPassword}\n                        onMouseDown={handleMouseDownPassword}\n                        edge=\"end\"\n                      >\n                        {show ? <Visibility /> : <VisibilityOff />}\n                      </IconButton>\n                    </InputAdornment>\n                  ),\n                }}\n              />\n            </Box>\n          </Box>\n        </DialogContent>\n        <DialogActions style={{ justifyContent: \"center\" }}>\n          <Button\n            startIcon={<Close />}\n            size=\"large\"\n            onClick={() => handleClose()}\n          >\n            Cancelar\n          </Button>\n          <Button\n            startIcon={loading ? <CircularProgress size={20} /> : <Done />}\n            color=\"primary\"\n            size=\"large\"\n            onClick={() => guardarBD()}\n            disabled={loading || !datos.rfc}\n          >\n            Guardar\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n}\n","import React, { useState } from \"react\";\nimport {\n  Box,\n  Button,\n  CircularProgress,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogContentText,\n  DialogTitle,\n} from \"@material-ui/core\";\nimport { Close, DeleteOutline } from \"@material-ui/icons\";\nimport SnackBarMessages from \"../../../../components/SnackBarMessages\";\nimport { ELIMINAR_SELLO_CFDI } from \"../../../../gql/Facturacion/Facturacion\";\nimport { useMutation } from \"@apollo/client\";\n\nexport default function EliminarSellos({ datosEmpresa, refetch }) {\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n  const [open, setOpen] = useState(false);\n  const [datos, setDatos] = useState({\n    rfc: datosEmpresa && datosEmpresa.rfc ? datosEmpresa.rfc : \"\",\n    empresa: sesion && sesion.empresa._id ? sesion.empresa._id : \"\",\n  });\n  const [loading, setLoading] = useState(false);\n  const [alert, setAlert] = useState({ message: \"\", status: \"\", open: false });\n\n  const handleClickOpen = () => setOpen(true);\n  const handleClose = () => {\n    setOpen(false);\n    setDatos({\n      rfc: sesion && datosEmpresa.rfc ? datosEmpresa.rfc : \"\",\n      empresa: sesion && sesion.empresa._id ? sesion.empresa._id : \"\",\n    });\n  };\n\n  const [eliminarCSD] = useMutation(ELIMINAR_SELLO_CFDI);\n\n  const eliminarSelloCSD = async () => {\n    if (!datos.rfc) return;\n\n    try {\n      setLoading(true);\n      const result = await eliminarCSD({\n        variables: {\n          rfc: datos.rfc,\n          empresa: datos.empresa,\n        },\n      });\n\n      setAlert({\n        message: `Listo! ${result.data.eliminarCSD.message}`,\n        status: \"success\",\n        open: true,\n      });\n      setLoading(false);\n      handleClose();\n      refetch();\n    } catch (error) {\n      setLoading(false);\n      setAlert({\n        message: `Error: ${error.message}`,\n        status: \"error\",\n        open: true,\n      });\n      console.log(error);\n      if (error.networkError) {\n        console.log(error.networkError.result);\n      } else if (error.graphQLErrors) {\n        console.log(error.graphQLErrors);\n      }\n    }\n  };\n\n  return (\n    <div>\n      <SnackBarMessages alert={alert} setAlert={setAlert} />\n      <Box display=\"flex\" justifyContent=\"flex-end\">\n        <Button\n          onClick={() => handleClickOpen()}\n          color=\"inherit\"\n          startIcon={<DeleteOutline />}\n        >\n          Remover CSD\n        </Button>\n      </Box>\n      <Dialog maxWidth=\"xs\" fullWidth open={open} onClose={() => handleClose()}>\n        <DialogTitle>Eliminar Firma Digital</DialogTitle>\n        <DialogContent>\n          <DialogContentText>\n            {`Se eliminara el CSD registrado con el RFC ${datosEmpresa.rfc}`}\n          </DialogContentText>\n        </DialogContent>\n        <DialogActions style={{ justifyContent: \"center\" }}>\n          <Button\n            startIcon={<Close />}\n            size=\"large\"\n            onClick={() => handleClose()}\n          >\n            Cancelar\n          </Button>\n          <Button\n            startIcon={\n              loading ? <CircularProgress size={20} /> : <DeleteOutline />\n            }\n            color=\"secondary\"\n            size=\"large\"\n            onClick={() => eliminarSelloCSD()}\n            disabled={loading || !datos.rfc}\n          >\n            Eliminar\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n}\n","import React, { useContext, useState, useEffect } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nimport {\n  Box,\n  Grid,\n  TextField,\n  Button,\n  Container,\n  FormControl,\n  Select,\n  MenuItem\n} from \"@material-ui/core\";\nimport {\n  Typography,\n  Divider,\n  DialogActions,\n} from \"@material-ui/core\";\nimport SnackBarMessages from \"../../../../components/SnackBarMessages\";\nimport BackdropComponent from \"../../../../components/Layouts/BackDrop\";\nimport ErrorPage from \"../../../../components/ErrorPage\";\nimport { useMutation, useQuery } from \"@apollo/client\";\n\nimport { EmpresaContext } from \"../../../../context/Catalogos/empresaContext\";\nimport {\n  ACTUALIZAR_EMPRESA,\n  OBTENER_DATOS_EMPRESA,\n} from \"../../../../gql/Empresa/empresa\";\nimport { regimenFiscal } from \"../../Facturacion/catalogos\";\nimport { Alert, AlertTitle } from \"@material-ui/lab\";\nimport RegistroSellos from \"../../Facturacion/CFDISellos/RegistrarSellos\";\nimport EliminarSellos from \"../../Facturacion/CFDISellos/EliminarCSD\";\n\nconst useStyles = makeStyles((theme) => ({\n  appBar: {\n    position: \"relative\",\n  },\n  title: {\n    marginLeft: theme.spacing(2),\n    flex: 1,\n  },\n  icon: {\n    fontSize: 100,\n  },\n  subtitle: {\n    marginLeft: \"10px\",\n    width: \"100%\",\n  },\n  require: {\n    \"& span\": {\n      color: \"red\",\n    },\n  },\n}));\n\n\nexport default function InformacionFiscal(props) {\n  const classes = useStyles();\n  const [loadingPage, setLoadingPage] = React.useState(false);\n\n  const [errorPage, setErrorPage] = React.useState(false);\n  const [errorForm, setErrorForm] = React.useState(\n    useState({ error: false, message: \"\" })\n  );\n  const [alert, setAlert] = useState({ message: \"\", status: \"\", open: false });\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n  const [bloqueo] = useState(\n    sesion.accesos.mi_empresa.informacion_fiscal.editar === false ? true : false\n  );\n  const { empresa, setEmpresa } = useContext(EmpresaContext);\n  const [actualizarEmpresa] = useMutation(ACTUALIZAR_EMPRESA);\n  const [firma_disabled, setFirmaDisabled] = useState(false);\n  const [empresaFiscal, setEmpresaFiscal] = useState({\n    nombre_fiscal: \"\",\n    rfc: \"\",\n    curp: \"\",\n    info_adicio: \"\",\n    regimen_fiscal: \"\",\n    direccionFiscal: {\n      calle: \"\",\n      no_ext: \"\",\n      no_int: \"\",\n      codigo_postal: \"\",\n      colonia: \"\",\n      municipio: \"\",\n      localidad: \"\",\n      estado: \"\",\n      pais: \"\",\n    },\n    datosBancarios: {\n      cuenta: \"\",\n      sucursal: \"\",\n      clave_banco: \"\",\n    },\n  });\n  /* Queries */ \n  const { loading, data, refetch, error } = useQuery(OBTENER_DATOS_EMPRESA, {\n    variables: { id: sesion.empresa._id },\n  });\n\n  useEffect(() => {\n    try {\n      setErrorPage(error);\n    } catch (errorCatch) {\n      // console.log(\"SESSIONREFECT\",errorCatch)\n    }\n  }, [error]);\n\n  useEffect(() => {\n    try {\n      if (data !== undefined) {\n        setEmpresa(data.obtenerEmpresa);\n        let new_sesion = sesion;\n        new_sesion.empresa = data.obtenerEmpresa;\n        localStorage.setItem(\"sesionCafi\", JSON.stringify(new_sesion));\n        if (!data.obtenerEmpresa.rfc) {\n          setFirmaDisabled(true);\n        } else {\n          setFirmaDisabled(false);\n        }\n      }\n    } catch (errorCatch) {\n      //console.log(\"SESSIONREFECT\",errorCatch)\n    }\n  }, [data, setEmpresa, sesion]);\n\n  useEffect(() => {\n    try {\n      setErrorPage(error);\n    } catch (errorCatch) {\n      // console.log(\"SESSIONREFECT\",errorCatch)\n    }\n  }, [error]);\n\n  useEffect(() => {\n    try {\n      setLoadingPage(loading);\n      \n    } catch (errorCatch) {\n      // console.log(\"SESSIONREFECTUPDATE\",errorCatch)\n    }\n  }, [loading]);\n\n  useEffect(() => {\n    try {\n      setEmpresaFiscal({\n        nombre_fiscal: empresa.nombre_fiscal,\n        rfc: empresa.rfc,\n        curp: empresa.curp,\n\n        info_adicio: empresa.info_adicio,\n        regimen_fiscal: empresa.regimen_fiscal,\n        sello_sat: empresa.sello_sat,\n        nombre_cer: empresa.nombre_cer,\n        nombre_key: empresa.nombre_key,\n        limite_timbres: empresa.limite_timbres,\n        timbres_usados: empresa.timbres_usados,\n        direccionFiscal: {\n          calle: empresa.direccionFiscal.calle,\n          no_ext: empresa.direccionFiscal.no_ext,\n          no_int: empresa.direccionFiscal.no_int,\n          codigo_postal: empresa.direccionFiscal.codigo_postal,\n          colonia: empresa.direccionFiscal.colonia,\n          municipio: empresa.direccionFiscal.municipio,\n          localidad: empresa.direccionFiscal.localidad,\n          estado: empresa.direccionFiscal.estado,\n          pais: empresa.direccionFiscal.pais,\n        },\n        datosBancarios: {\n          cuenta: empresa.datosBancarios.cuenta,\n          sucursal: empresa.datosBancarios.sucursal,\n          clave_banco: empresa.datosBancarios.clave_banco,\n        },\n      });\n    } catch (errorCatch) {}\n  }, [empresa]);\n\n  const actEmp = async () => {\n    try {\n      setLoadingPage(true);\n      /* const input = cleanTypenames(empresaFiscal); */\n      await actualizarEmpresa({\n        variables: {\n          id: sesion.empresa._id,\n          input: empresaFiscal,\n        },\n      });\n      setLoadingPage(false);\n      setAlert({\n        message: \"Se han actualizado correctamente los datos.\",\n        status: \"success\",\n        open: true,\n      });\n      setErrorForm(false);\n      refetch();\n    } catch (error) {\n      setLoadingPage(false);\n      setAlert({ message: \"Hubo un error\", status: \"error\", open: true });\n      console.log(error);\n      if (error.response) {\n        console.log(error.response);\n      } else if (error.networkError) {\n        console.log(error.networkError.result);\n      } else if (error.graphQLErrors) {\n        console.log(error.graphQLErrors);\n      }\n    }\n  };\n\n  \n\n  const handleClose = () => {\n    props.setOpen(false);\n  };\n  const obtenerCampos = (e) => {\n    setEmpresaFiscal({\n      ...empresaFiscal,\n      [e.target.name]: e.target.value,\n    });\n  };\n  const obtenerCamposDireccion = (e) => {\n    setEmpresaFiscal({\n      ...empresaFiscal,\n      direccionFiscal: {\n        ...empresaFiscal.direccionFiscal,\n        [e.target.name]: e.target.value,\n      },\n    });\n  };\n  const obtenerCamposBancarios = (e) => {\n    setEmpresaFiscal({\n      ...empresaFiscal,\n      datosBancarios: {\n        ...empresaFiscal.datosBancarios,\n        [e.target.name]: e.target.value,\n      },\n    });\n  };\n\n  return (\n    <div>\n     \n        <SnackBarMessages alert={alert} setAlert={setAlert} />\n        <BackdropComponent loading={loadingPage} setLoading={setLoadingPage} />\n     \n        \n          {errorPage ? (\n            <ErrorPage error={errorPage} />\n          ) : (\n            <Container>\n              <Grid container spacing={1} >\n                <Grid item md={6} xs={12} className={classes.require}>\n                  <Box my={1}>\n                    <Typography>\n                     <b> <span>* </span>Nombre fiscal</b>\n                    </Typography>\n                    <TextField\n                      fullWidth\n                      disabled={bloqueo}\n                      type=\"text\"\n                      size=\"small\"\n                      error={errorForm.error && !empresaFiscal.nombre_fiscal}\n                      name=\"nombre_fiscal\"\n                      variant=\"outlined\"\n                      value={\n                        empresaFiscal.nombre_fiscal\n                          ? empresaFiscal.nombre_fiscal\n                          : \"\"\n                      }\n                      helperText={\n                        errorForm.error &&\n                        errorForm.message !== \"El campo nombre es obligatorio\"\n                          ? errorForm.message\n                          : \"\"\n                      }\n                      onChange={obtenerCampos}\n                    />\n                  </Box>\n                  <Box my={1}>\n                    <Typography><b>RFC</b></Typography>\n                    <TextField\n                      fullWidth\n                      disabled={bloqueo}\n                      size=\"small\"\n                      name=\"rfc\"\n                      variant=\"outlined\"\n                      value={empresaFiscal.rfc ? empresaFiscal.rfc : \"\"}\n                      onChange={obtenerCampos}\n                    />\n                  </Box>\n                  <Box my={1}>\n                    <Typography>Rgimen fiscal</Typography>\n                    <FormControl\n                      variant=\"outlined\"\n                      fullWidth\n                      size=\"small\"\n                      name=\"regimen_fiscal\"\n                    >\n                      <Select\n                        value={\n                          empresaFiscal.regimen_fiscal\n                            ? empresaFiscal.regimen_fiscal\n                            : \"\"\n                        }\n                        name=\"regimen_fiscal\"\n                        onChange={obtenerCampos}\n                      >\n                        <MenuItem value=\"\">\n                          <em>Selecciona uno</em>\n                        </MenuItem>\n                        {regimenFiscal.map((res, index) => (\n                          <MenuItem\n                            key={index}\n                            value={res.Value}\n                          >{`${res.Value} - ${res.Name}`}</MenuItem>\n                        ))}\n                      </Select>\n                    </FormControl>\n                  </Box>\n                  <Box my={1}>\n                    <Typography><b>CURP</b></Typography>\n                    <TextField\n                      disabled={bloqueo}\n                      fullWidth\n                      size=\"small\"\n                      name=\"curp\"\n                      variant=\"outlined\"\n                      value={empresaFiscal.curp ? empresaFiscal.curp : \"\"}\n                      onChange={obtenerCampos}\n                    />\n                  </Box>\n                  <Box my={1}>\n                    <Typography><b>Info. Adicional</b></Typography>\n                    <TextField\n                      disabled={bloqueo}\n                      fullWidth\n                      size=\"small\"\n                      name=\"info_adicio\"\n                      variant=\"outlined\"\n                      value={\n                        empresaFiscal.info_adicio\n                          ? empresaFiscal.info_adicio\n                          : \"\"\n                      }\n                      onChange={obtenerCampos}\n                      multiline\n                    />\n                  </Box>\n                </Grid>\n                <Grid item md={6} xs={12}>\n                  <Typography className={classes.subtitle}>\n                    <b>Firma digital</b>\n                  </Typography>\n                  <Divider />\n                  <Box m={1}>\n                    {empresaFiscal.sello_sat === true ? (\n                      <Alert\n                        severity=\"success\"\n                        action={\n                          <EliminarSellos\n                            firma_disabled={firma_disabled}\n                            datosEmpresa={empresaFiscal}\n                            refetch={refetch}\n                          />\n                        }\n                      >\n                        <AlertTitle>Firma Digital Activa</AlertTitle>\n                      </Alert>\n                    ) : (\n                      <Alert\n                        severity=\"info\"\n                        action={\n                          <RegistroSellos\n                            firma_disabled={firma_disabled}\n                            datosEmpresa={empresaFiscal}\n                            refetch={refetch}\n                          />\n                        }\n                      >\n                        <AlertTitle>Sin Firma Digital</AlertTitle>\n                        Sin esta firma no prodrs realizar facturas\n                        {firma_disabled ? (\n                          <li>Necesitas tener un RFC registrado</li>\n                        ) : null}\n                      </Alert>\n                    )}\n                  </Box>\n                  <Box my={1}>\n                    <Typography><b>Archivo *.cer</b></Typography>\n                    <TextField\n                      disabled\n                      fullWidth\n                      size=\"small\"\n                      variant=\"outlined\"\n                    />\n                  </Box>\n                  <Box my={1}>\n                    <Typography><b>Archivo *.key</b></Typography>\n                    <TextField\n                      disabled\n                      fullWidth\n                      size=\"small\"\n                      variant=\"outlined\"\n                    />\n                  </Box>\n                  <Box my={1}>\n                    <Typography><b>Fecha de registro</b></Typography>\n                    <TextField\n                      disabled\n                      fullWidth\n                      size=\"small\"\n                      variant=\"outlined\"\n                    />\n                  </Box>\n                </Grid>\n              </Grid>\n              <Box >\n                <Typography className={classes.subtitle}>\n                  <b>Domicilio</b>\n                </Typography>\n                <Divider />\n              </Box>\n              <Grid container spacing={2}>\n                <Grid item xs={12} sm={4}>\n                  <Box>\n                    <Typography><b>Calle</b></Typography>\n                    <TextField\n                      fullWidth\n                      size=\"small\"\n                      name=\"calle\"\n                      variant=\"outlined\"\n                      disabled={bloqueo}\n                      value={\n                        empresaFiscal.direccionFiscal.calle\n                          ? empresaFiscal.direccionFiscal.calle\n                          : \"\"\n                      }\n                      onChange={obtenerCamposDireccion}\n                    />\n                  </Box>\n                  <Box>\n                    <Typography><b>Num. Ext</b></Typography>\n                    <TextField\n                      fullWidth\n                      size=\"small\"\n                      name=\"no_ext\"\n                      variant=\"outlined\"\n                      disabled={bloqueo}\n                      value={\n                        empresaFiscal.direccionFiscal.no_ext\n                          ? empresaFiscal.direccionFiscal.no_ext\n                          : \"\"\n                      }\n                      onChange={obtenerCamposDireccion}\n                    />\n                  </Box>\n                  <Box>\n                    <Typography><b>Num. Int</b></Typography>\n                    <TextField\n                      fullWidth\n                      size=\"small\"\n                      name=\"no_int\"\n                      variant=\"outlined\"\n                      disabled={bloqueo}\n                      value={\n                        empresaFiscal.direccionFiscal.no_int\n                          ? empresaFiscal.direccionFiscal.no_int\n                          : \"\"\n                      }\n                      onChange={obtenerCamposDireccion}\n                    />\n                  </Box>\n                </Grid>\n                <Grid item xs={12} sm={4}>\n                  <Box>\n                    <Typography><b>C.P.</b></Typography>\n                    <TextField\n                      fullWidth\n                      size=\"small\"\n                      name=\"codigo_postal\"\n                      variant=\"outlined\"\n                      disabled={bloqueo}\n                      value={\n                        empresaFiscal.direccionFiscal.codigo_postal\n                          ? empresaFiscal.direccionFiscal.codigo_postal\n                          : \"\"\n                      }\n                      onChange={obtenerCamposDireccion}\n                    />\n                  </Box>\n                  <Box>\n                    <Typography><b>Colonia</b></Typography>\n                    <TextField\n                      fullWidth\n                      size=\"small\"\n                      name=\"colonia\"\n                      variant=\"outlined\"\n                      disabled={bloqueo}\n                      value={\n                        empresaFiscal.direccionFiscal.colonia\n                          ? empresaFiscal.direccionFiscal.colonia\n                          : \"\"\n                      }\n                      onChange={obtenerCamposDireccion}\n                    />\n                  </Box>\n                  <Box>\n                    <Typography><b>Municipio</b></Typography>\n                    <TextField\n                      fullWidth\n                      size=\"small\"\n                      name=\"municipio\"\n                      variant=\"outlined\"\n                      disabled={bloqueo}\n                      value={\n                        empresaFiscal.direccionFiscal.municipio\n                          ? empresaFiscal.direccionFiscal.municipio\n                          : \"\"\n                      }\n                      onChange={obtenerCamposDireccion}\n                    />\n                  </Box>\n                </Grid>\n                <Grid item xs={12} sm={4}>\n                  <Box>\n                    <Typography><b>Localidad</b></Typography>\n                    <TextField\n                      fullWidth\n                      size=\"small\"\n                      name=\"localidad\"\n                      variant=\"outlined\"\n                      disabled={bloqueo}\n                      value={\n                        empresaFiscal.direccionFiscal.localidad\n                          ? empresaFiscal.direccionFiscal.localidad\n                          : \"\"\n                      }\n                      onChange={obtenerCamposDireccion}\n                    />\n                  </Box>\n                  <Box>\n                    <Typography><b>Estado</b></Typography>\n                    <TextField\n                      fullWidth\n                      size=\"small\"\n                      name=\"estado\"\n                      variant=\"outlined\"\n                      disabled={bloqueo}\n                      value={\n                        empresaFiscal.direccionFiscal.estado\n                          ? empresaFiscal.direccionFiscal.estado\n                          : \"\"\n                      }\n                      onChange={obtenerCamposDireccion}\n                    />\n                  </Box>\n                  <Box>\n                    <Typography><b>Pais</b></Typography>\n                    <TextField\n                      fullWidth\n                      size=\"small\"\n                      name=\"pais\"\n                      variant=\"outlined\"\n                      disabled={bloqueo}\n                      value={\n                        empresaFiscal.direccionFiscal.pais\n                          ? empresaFiscal.direccionFiscal.pais\n                          : \"\"\n                      }\n                      onChange={obtenerCamposDireccion}\n                    />\n                  </Box>\n                </Grid>\n              </Grid>\n              <Box mt={1}>\n                <Typography className={classes.subtitle}>\n                  <b>Datos bancarios</b>\n                </Typography>\n                <Divider />\n              </Box>\n              <Grid container spacing={2}>\n                <Grid item xs={12} md={4}>\n                  <Box>\n                    <Typography><b>Cuenta</b></Typography>\n                    <TextField\n                      fullWidth\n                      size=\"small\"\n                      name=\"cuenta\"\n                      variant=\"outlined\"\n                      disabled={bloqueo}\n                      value={\n                        empresaFiscal.datosBancarios.cuenta\n                          ? empresaFiscal.datosBancarios.cuenta\n                          : \"\"\n                      }\n                      onChange={obtenerCamposBancarios}\n                    />\n                  </Box>\n                </Grid>\n                <Grid item xs={12} md={4}>\n                  <Box>\n                    <Typography><b>Sucursal</b></Typography>\n                    <TextField\n                      fullWidth\n                      size=\"small\"\n                      name=\"sucursal\"\n                      variant=\"outlined\"\n                      disabled={bloqueo}\n                      value={\n                        empresaFiscal.datosBancarios.sucursal\n                          ? empresaFiscal.datosBancarios.sucursal\n                          : \"\"\n                      }\n                      onChange={obtenerCamposBancarios}\n                    />\n                  </Box>\n                </Grid>\n                <Grid item xs={12} md={4}>\n                  <Box>\n                    <Typography><b>Clave de banco</b></Typography>\n                    <TextField\n                      fullWidth\n                      size=\"small\"\n                      name=\"clave_banco\"\n                      variant=\"outlined\"\n                      disabled={bloqueo}\n                      value={\n                        empresaFiscal.datosBancarios.clave_banco\n                          ? empresaFiscal.datosBancarios.clave_banco\n                          : \"\"\n                      }\n                      onChange={obtenerCamposBancarios}\n                    />\n                  </Box>\n                </Grid>\n                \n     \n              </Grid>\n              {sesion.accesos.mi_empresa.informacion_fiscal.editar === false ? null : (\n                  <DialogActions m={2} style={{ marginTop:10, width:'100%',justifyContent: \"center\" }}>\n                  <Button onClick={handleClose} color=\"primary\">\n                    Cancelar\n                  </Button>\n                  <Button\n                    onClick={() => actEmp()}\n                    color=\"primary\"\n                    variant=\"contained\"\n                    \n                  >\n                    Guardar\n                  </Button>\n                </DialogActions>\n              )}\n            </Container>\n          )}\n       \n      \n    </div>\n  );\n}\n","import React,{useState} from 'react';\nimport {  DialogContent, Button, Box, Dialog, Slide, Typography, AppBar, Toolbar } from '@material-ui/core';\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport { FcNook } from \"react-icons/fc\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Tabs from \"@material-ui/core/Tabs\";\nimport Tab from \"@material-ui/core/Tab\";\nimport MisDatos from './Datos/MisDatos';\nimport InformacionFiscal from './InformacionFiscal/InformacionFiscal';\nconst useStyles = makeStyles((theme) => ({\n\n  appBar: {\n    position: \"relative\",\n  },\n  title: {\n    marginLeft: theme.spacing(2),\n    flex: 1,\n  },\n  icon: {\n    fontSize: 100,\n  },\n  subtitle: {\n    marginLeft: \"10px\",\n    width: \"100%\",\n  },\n  require: {\n    \"& span\": {\n      color: \"red\",\n    },\n  },\n  avatarContainer: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    width: \"100%\",\n    height: \"100%\",\n    border: \"dashed 2px black\",\n    borderRadius: \"100%\",\n  },\n  avatar: {\n    width: \"90%\",\n    height: \"90%\",\n    \"& > .icon\": {\n      fontSize: 100,\n    },\n  },\n \n}));\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\nexport default function MiEmpresa() {\n  const classes = useStyles();\n\tconst [value, setValue] = useState(0);\n\tconst [open, setOpen] = useState(false);\n\t\n  const handleChange = (event, value) => {\n    setValue(value);\n    \n  };\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\t\n  const handleClose = () => {\n    setOpen(false);\n  };\n\treturn (\n\t\t<div>\n    <Button fullWidth onClick={handleClickOpen}>\n        <Box display=\"flex\" flexDirection=\"column\">\n          <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n            <FcNook className={classes.icon} />\n          </Box>\n          Datos de empresa\n        </Box>\n      </Button>\n        <Dialog\n        fullScreen\n        open={open}\n        onClose={handleClose}\n        TransitionComponent={Transition}\n      >\n        <AppBar className={classes.appBar}>\n          <Toolbar>\n            <Typography variant=\"h6\" className={classes.title}>\n              Datos\n            </Typography>\n            <Box m={1}>\n              <Button\n                variant=\"contained\"\n                color=\"secondary\"\n                onClick={handleClose}\n                size=\"large\"\n              >\n                <CloseIcon style={{ fontSize: 30 }} />\n              </Button>\n            </Box>\n          </Toolbar>\n        </AppBar>\n        \n          <Box >\n            <Tabs\n              indicatorColor=\"primary\"\n              value={value}\n              onChange={handleChange}\n              aria-label=\"simple tabs example\"\n            >\n              <Tab label=\"Datos empresa\" />\n              <Tab label=\"Datos fiscales\" />\n            </Tabs>\n          </Box>\n          <DialogContent>  \n            {\n              (value === 0 ) ? \n                <MisDatos setOpen={setOpen} />\n                :\n                <InformacionFiscal setOpen={setOpen} />\n            }\n          </DialogContent>\n      </Dialog>  \n      \n     \n\t\t\t\n\t\t</div>\n\t);\n}\n","import { gql } from '@apollo/client';\n\nexport const OBTENER_SUCURSALES = gql`\n    query ObtenerSucursalesEmpresa($id: ID!){\n        obtenerSucursalesEmpresa(id: $id){\n            _id\n            nombre_sucursal\n            descripcion\n            usuario_sucursal\n            direccion{\n                calle\n                no_ext\n                no_int\n                codigo_postal\n                colonia\n                municipio\n                localidad\n                estado\n                pais\n            }\n            cuenta_sucursal {\n                dinero_actual\n            }         \n        }\n    }\n`\nexport const OBTENER_DATOS_SUCURSAL = gql`\n    query obtenerDatosSucursal($id: ID!){\n        obtenerDatosSucursal(id: $id){\n            _id\n            nombre_sucursal\n            descripcion\n            usuario_sucursal\n            direccion{\n                calle\n                no_ext\n                no_int\n                codigo_postal\n                colonia\n                municipio\n                localidad\n                estado\n                pais\n            }\n            cuenta_sucursal {\n                dinero_actual\n            }         \n        }\n    }\n`\nexport const ACTUALIZAR_SUCURSAL = gql`\n  mutation editarSucursal($id: ID!, $input: EditarSucursal) {\n    editarSucursal(id: $id, input: $input) {\n         _id\n            nombre_sucursal\n            descripcion\n            usuario_sucursal\n            direccion{\n                calle\n                no_ext\n                no_int\n                codigo_postal\n                colonia\n                municipio\n                localidad\n                estado\n                pais\n            }\n            cuenta_sucursal {\n                dinero_actual\n            }         \n        }\n    }\n`\n\nexport const CREAR_MOVIMIENTO_CUENTA = gql`\n    mutation CrearMovimientoCuenta($input: CrearMovimientoCuentaInput, $empresa: ID!, $sucursal: ID!, $tipo: Boolean){\n        crearMovimientoCuenta(input: $input, empresa: $empresa, sucursal: $sucursal, tipo: $tipo){\n            message\n        }\n    }\n`;\n\nexport const OBTENER_HISTORIAL_CUENTAS = gql`\n    query ObtenerHistorialCuenta($empresa: ID!, $sucursal: ID!, $input: ObtenerHistorialCuenta, $tipo: Boolean){\n        obtenerHistorialCuenta(empresa: $empresa, sucursal: $sucursal, input: $input, tipo: $tipo){\n            tipo_movimiento\n            id_usuario\n            numero_caja\n            id_Caja\n            numero_usuario_creador\n            nombre_usuario_creador\n            horario_turno\n            concepto\n            comentarios\n            montos_en_caja { \n                monto_efectivo{\n                    monto \n                }\n            }\n            fecha_movimiento{\n                completa\n            }\n            empresa\n            sucursal             \n        }\n    }\n`;","export const numerosRandom = (min, max) => {\n  return Math.floor(Math.random() * (max - min + 1) + min);\n};\n\nexport const generateCode = (length) => {\n  var result = \"\";\n  var characters =\n    \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\n  var charactersLength = characters.length;\n  for (var i = 0; i < length; i++) {\n    result += characters.charAt(Math.floor(Math.random() * charactersLength));\n  }\n  return result;\n};\n\nexport const formatoHora = (hora) => {\n  if (!hora) {\n    return null;\n  } else {\n    var newtime = new Date(hora);\n    return newtime.toLocaleTimeString(\"en-US\", { hour12: \"false\" });\n  }\n};\n\nexport const formatoFecha = (fecha) => {\n  if (!fecha) {\n    return null;\n  } else {\n    var newdate = new Date(fecha);\n    return newdate.toLocaleDateString(\"es-MX\", {\n      weekday: \"long\",\n      year: \"numeric\",\n      month: \"long\",\n      day: \"numeric\",\n    });\n  }\n};\n\nexport const formatoFechaCorta = (fecha) => {\n  if (!fecha) {\n    return null;\n  } else {\n    var newdate = new Date(fecha);\n    return newdate.toLocaleDateString(\"es-MX\", {\n      weekday: \"short\",\n      year: \"numeric\",\n      month: \"short\",\n      day: \"numeric\",\n    });\n  }\n};\n\nexport const formatoMexico = (number) => {\n  if (!number) {\n    return null;\n  } else {\n    let nueva;\n    if (number % 1 === 0) {\n      nueva = number;\n    } else {\n      nueva = parseFloat(number).toFixed(2);\n    }\n    const exp = /(\\d)(?=(\\d{3})+(?!\\d))/g;\n    const rep = \"$1,\";\n    return nueva.toString().replace(exp, rep);\n  }\n};\n\nexport const cleanTypenames = (value) => {\n  if (Array.isArray(value)) {\n    return value.map(cleanTypenames);\n  } else if (value !== null && typeof value === \"object\") {\n    const newObject = {};\n    for (const property in value)\n      if (property !== \"__typename\")\n        newObject[property] = cleanTypenames(value[property]);\n    return newObject;\n  } else {\n    return value;\n  }\n};\n\nexport const findProductArray = async (producto) => {\n  try {\n    let venta = JSON.parse(localStorage.getItem(\"DatosVentas\"));\n    let productosVentas = venta === null ? [] : venta.productos;\n    let found = false;\n    let producto_found = {\n      producto: {},\n      index: 0,\n    };\n\n    for (let i = 0; i < productosVentas.length; i++) {\n      if (typeof productosVentas[i].codigo_barras !== \"undefined\") {\n        if (productosVentas[i].codigo_barras === producto.codigo_barras) {\n          producto_found = {\n            producto: productosVentas[i],\n            index: i,\n          };\n          found = true;\n          return {\n            producto_found,\n            found,\n          };\n        }\n      } else {\n        if (\n          productosVentas[i].id_producto.datos_generales.clave_alterna ===\n          producto.id_producto.datos_generales.clave_alterna\n        ) {\n          producto_found = {\n            producto: productosVentas[i],\n            index: i,\n          };\n          found = true;\n          return {\n            producto_found,\n            found,\n          };\n        }\n      }\n    }\n\n    return {\n      producto_found,\n      found,\n    };\n  } catch (error) {\n    console.log(error);\n    return false;\n  }\n};\n\nexport const calculatePrices = async (\n  newP,\n  cantidad,\n  granel,\n  newPrising = 0\n) => {\n  let subtotalCalculo = 0,\n    totalCalculo = 0,\n    impuestoCalculo = 0,\n    ivaCalculo = 0,\n    iepsCalculo = 0,\n    descuentoCalculo = 0,\n    monederoCalculo = 0;\n  // console.log(\"newPrising\",newPrising);\n  const cantidadNueva = cantidad > 0 ? cantidad : 1;\n  console.log(newP.id_producto.precios.precios_producto[0].precio_venta);\n  // console.log(newP);\n  const iva_producto =\n    parseFloat(newP.id_producto.precios.precios_producto[0].precio_venta) *\n    parseFloat(\n      `0.${\n        newP.id_producto.precios.iva < 9\n          ? `0${newP.id_producto.precios.iva}`\n          : newP.id_producto.precios.iva\n      }`\n    );\n\n  const ieps_producto =\n    parseFloat(newP.id_producto.precios.precios_producto[0].precio_venta) *\n    parseFloat(\n      `0.${\n        newP.id_producto.precios.ieps < 9\n          ? `0${newP.id_producto.precios.ieps}`\n          : newP.id_producto.precios.ieps\n      }`\n    );\n\n  const precioProducto = newPrising;\n  // const precioDescuentoProducto = newP.descuento_activo ? parseFloat(newP.descuento.precio_con_descuento) : 0;\n\n  totalCalculo =\n    granel.granel === true\n      ? precioProducto * cantidadNueva * parseFloat(granel.valor)\n      : precioProducto * cantidadNueva;\n\n  subtotalCalculo =\n    granel.granel === true\n      ? (precioProducto - (iva_producto + ieps_producto)) *\n        cantidadNueva *\n        parseFloat(granel.valor)\n      : (precioProducto - (iva_producto + ieps_producto)) * cantidadNueva;\n\n  impuestoCalculo =\n    granel.granel === true\n      ? (iva_producto + ieps_producto) *\n        cantidadNueva *\n        parseFloat(granel.valor)\n      : (iva_producto + ieps_producto) * cantidadNueva;\n\n  console.log(cantidadNueva);\n\n  ivaCalculo =\n    granel.granel === true\n      ? iva_producto * cantidadNueva * parseFloat(granel.valor)\n      : iva_producto * cantidadNueva;\n\n  iepsCalculo =\n    granel.granel === true\n      ? ieps_producto * cantidadNueva * parseFloat(granel.valor)\n      : ieps_producto * cantidadNueva;\n\n  descuentoCalculo =\n    granel.granel === true\n      ? newP.descuento_activo === true\n        ? parseFloat(newP.descuento.dinero_descontado) *\n          cantidadNueva *\n          parseFloat(granel.valor)\n        : 0\n      : newP.descuento_activo === true\n      ? parseFloat(newP.descuento.dinero_descontado) * cantidadNueva\n      : 0;\n\n  monederoCalculo = newP.id_producto.precios.monedero\n    ? newP.id_producto.precios.monedero_electronico * cantidadNueva\n    : 0;\n\n  return {\n    totalCalculo,\n    subtotalCalculo,\n    impuestoCalculo,\n    ivaCalculo,\n    iepsCalculo,\n    descuentoCalculo,\n    monederoCalculo,\n  };\n};\n\nexport const calculatePrices2 = async ({ newP, cantidad, granel, origen, precio_boolean = false, precio}) => {\n  try {\n    let subtotalCalculo = 0,\n      totalCalculo = 0,\n      impuestoCalculo = 0,\n      ivaCalculo = 0,\n      iepsCalculo = 0,\n      descuentoCalculo = 0,\n      monederoCalculo = 0;\n    // const descuento = newP.descuento_activo === null ? false : true;\n    const cantidadNueva = cantidad > 0 ? cantidad : 1;\n    const valor_granel = granel.granel ? parseFloat(granel.valor) : 1;\n    const precio_actual = precio_boolean ? precio : newP.descuento_activo ? newP.descuento : newP.precio_unidad;\n    const cantidadCaja =\n    precio_actual.unidad_maxima === true\n      ? precio_actual.cantidad_unidads\n      : 1;\n    ivaCalculo = precio_actual.iva_precio * cantidadCaja;\n    iepsCalculo = precio_actual.ieps_precio * cantidadCaja;\n    impuestoCalculo = ivaCalculo + iepsCalculo;\n    subtotalCalculo = precio_actual.precio_venta * cantidadCaja;\n    totalCalculo = precio_actual.precio_neto * cantidadCaja;\n    monederoCalculo = newP.id_producto.precios.monedero\n      ? newP.id_producto.precios.monedero_electronico * cantidadCaja\n      : 0;\n    descuentoCalculo = totalCalculo - newP.precio_unidad.precio_neto;\n    const ob = {\n      ivaCalculo: parseFloat((ivaCalculo * valor_granel * cantidadNueva).toFixed(2)),\n      iepsCalculo: parseFloat((iepsCalculo * valor_granel * cantidadNueva).toFixed(2)) ,\n      impuestoCalculo: parseFloat((impuestoCalculo * valor_granel * cantidadNueva).toFixed(2)) ,\n      subtotalCalculo: parseFloat((subtotalCalculo * valor_granel * cantidadNueva).toFixed(2)) ,\n      totalCalculo: parseFloat((totalCalculo * valor_granel * cantidadNueva).toFixed(2)) ,\n      monederoCalculo: parseFloat((monederoCalculo * valor_granel * cantidadNueva).toFixed(2)) ,\n      descuentoCalculo: parseFloat((descuentoCalculo * valor_granel * cantidadNueva).toFixed(2)) ,\n      newP\n    };\n    if(origen === \"Ventas1\"){\n      newP.cantidad_venta = 1;\n      newP.granel_producto  = granel;\n      newP.precio_a_vender = ob.totalCalculo;\n      newP.precio_actual_producto = parseFloat((precio_actual.precio_neto).toFixed(2));\n      newP.precio_actual_object = {\n        cantidad_unidad: precio_actual.cantidad_unidad ? precio_actual.cantidad_unidad : 1,\n        numero_precio: precio_actual.numero_precio ? precio_actual.numero_precio : 1,\n        unidad_maxima: precio_actual.unidad_maxima ? precio_actual.unidad_maxima : false,\n        precio_general: precio_actual.precio_general ? precio_actual.precio_general : 0,\n        precio_neto: precio_actual.precio_neto ? precio_actual.precio_neto : 0,\n        precio_venta: precio_actual.precio_venta ? precio_actual.precio_venta : 0,\n        iva_precio: precio_actual.iva_precio ? precio_actual.iva_precio : 0,\n        ieps_precio: precio_actual.ieps_precio ? precio_actual.ieps_precio : 0,\n        utilidad: precio_actual.utilidad ? precio_actual.utilidad : 0,\n        porciento: precio_actual.porciento ? precio_actual.porciento : 0,\n        dinero_descontado: precio_actual.dinero_descontado ? precio_actual.dinero_descontado : 0,\n      };\n    }else if(origen === \"Ventas2\") {\n      newP.granel_producto = granel;\n      newP.precio_a_vender = ob.totalCalculo;\n      newP.precio_anterior = newP.precio_actual_producto;\n    }\n\n    return ob;\n\n  } catch (error) {\n    console.log(error);\n    return false;\n  }\n};\n\nexport const verifiPrising = async (newP) => {\n  try {\n    if (!newP) return false;\n    const amount = newP.cantidad_venta;\n    const pricings = newP.id_producto.precios.precios_producto.filter(\n      (p) => p.unidad_mayoreo > 0 && p.precio_neto > 0\n    );\n\n    let finalPrising = {\n      found: false,\n      pricing: 0,\n      number_pricing: 0,\n      object_prising: {}\n    };\n    const datoFinal = pricings.length;\n    if (newP.precio_seleccionado) return finalPrising;\n    //CONIDICONAR SI EL PRECIO ES MENOR Y MENOR PERO QUE NO SEA MAYOR AL SEGUNDO\n    if (amount < newP.id_producto.precios.precios_producto[1].unidad_mayoreo)\n      return (finalPrising = {\n        found: true,\n        pricing: newP.descuento_activo\n          ? newP.descuento.precio_neto\n          : newP.id_producto.precios.precios_producto[0].precio_neto,\n        number_pricing:\n          newP.id_producto.precios.precios_producto[0].numero_precio,\n        object_prising: newP.descuento_activo ? newP.descuento : newP.id_producto.precios.precios_producto[0]\n      });\n\n    for (let i = 0; i < pricings.length; i++) {\n      if (i + 1 === datoFinal && amount >= pricings[i].unidad_mayoreo)\n        return (finalPrising = {\n          found: true,\n          pricing: pricings[i].precio_neto,\n          number_pricing: pricings[i].numero_precio,\n          object_prising: pricings[i]\n        });\n\n      if (\n        i + 1 < datoFinal &&\n        amount >= pricings[i].unidad_mayoreo &&\n        amount < pricings[i + 1].unidad_mayoreo\n      ) {\n        finalPrising = {\n          found: true,\n          pricing: pricings[i].precio_neto,\n          number_pricing: pricings[i].numero_precio,\n          object_prising: pricings[i]\n        };\n      }\n    }\n    return finalPrising;\n  } catch (error) {\n    console.log(error);\n    return false;\n  }\n};\n\nexport function formatCurrency(number) {\n  var formatted = new Intl.NumberFormat(\"en-US\", {\n    style: \"currency\",\n    currency: \"USD\",\n    minimumFractionDigits: 2,\n  }).format(number);\n  console.log(formatted);\n  return formatted;\n}\n\nexport const findProductArrayRefactor = async (producto) => {\n  try {\n    let venta = JSON.parse(localStorage.getItem(\"DatosVentas\"));\n    let productosVentas = venta === null ? [] : venta.productos;\n    //Declarar variables\n    let found = false;\n    let producto_found = {\n      producto: {},\n      index: 0,\n    };\n    //Se recorren los productos\n    for (let i = 0; i < productosVentas.length; i++) {\n      //Se verifica si tiene codigo de barras ya que no es obligatorio\n      if (typeof productosVentas[i].codigo_barras !== \"undefined\") {\n        if (productosVentas[i].codigo_barras === producto.codigo_barras) {\n          return {\n            producto_found: {\n              producto: productosVentas[i],\n              index: i,\n            },\n            found: true,\n          };\n        }\n      } else {\n        if (\n          productosVentas[i].id_producto.datos_generales.clave_alterna ===\n          producto.id_producto.datos_generales.clave_alterna\n        ) {\n          return {\n            producto_found: {\n              producto: productosVentas[i],\n              index: i,\n            },\n            found: true,\n          };\n        }\n      }\n    }\n\n    return {\n      producto_found,\n      found,\n    };\n  } catch (error) {\n    console.log(error);\n    return false;\n  }\n};\n","import React, { useContext, useState, useCallback, useEffect } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport {\n  Box,\n  Grid,\n  TextField,\n  Button,\n  Dialog,\n  Avatar,\n  DialogContent,\n  Container,\n} from \"@material-ui/core\";\nimport {\n  Slide,\n  Typography,\n  Toolbar,\n  AppBar,\n  Divider,\n  DialogActions,\n} from \"@material-ui/core\";\nimport { useDropzone } from \"react-dropzone\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport { FcNook } from \"react-icons/fc\";\nimport { useMutation, useQuery } from \"@apollo/client\";\nimport SnackBarMessages from \"../../../../components/SnackBarMessages\";\nimport BackdropComponent from \"../../../../components/Layouts/BackDrop\";\nimport ErrorPage from \"../../../../components/ErrorPage\";\nimport {\n  OBTENER_DATOS_SUCURSAL, ACTUALIZAR_SUCURSAL\n} from \"../../../../gql/Empresa/sucursales\";\nimport { cleanTypenames } from \"../../../../config/reuserFunctions\";\n\nconst useStyles = makeStyles((theme) => ({\n  appBar: {\n    position: \"relative\",\n  },\n  title: {\n    marginLeft: theme.spacing(2),\n    flex: 1,\n  },\n  icon: {\n    fontSize: 100,\n  },\n  subtitle: {\n    marginLeft: \"10px\",\n    width: \"100%\",\n  },\n  require: {\n    \"& span\": {\n      color: \"red\",\n    },\n  },\n  avatarContainer: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    width: \"100%\",\n    height: \"100%\",\n    border: \"dashed 2px black\",\n    borderRadius: \"100%\",\n  },\n  avatar: {\n    width: \"90%\",\n    height: \"90%\",\n    \"& > .icon\": {\n      fontSize: 100,\n    },\n  },\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function DatosSucursal() {\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n  const classes = useStyles();\n  const [loadingPage, setLoadingPage] = React.useState(false);\n  const [bloqueo] = useState(\n    sesion.accesos.mi_empresa.datos_empresa.editar === false ? true : false\n  );\n  const [preview, setPreview] = useState(\"\");\n  const [open, setOpen] = React.useState(false);\n  const [errorPage, setErrorPage] = React.useState(false);\n  const [errorForm, setErrorForm] = React.useState(\n    useState({ error: false, message: \"\" })\n  );\n\n  const [alert, setAlert] = useState({ message: \"\", status: \"\", open: false });\n \n\n  const [actualizarSucursal] = useMutation(ACTUALIZAR_SUCURSAL);\n\n  /* Queries */\n  const { loading, data, refetch, error } = useQuery(OBTENER_DATOS_SUCURSAL, {\n    variables: { id: sesion.sucursal._id },\n  });\n\n  const [sucursalDatos, setSucursalDatos] = useState({\n    nombre_sucursal: \"\",\n    descripcion: \"\",\n    telefono:\"\",\n    direccion: {\n      calle: \"\",\n      no_ext: \"\",\n      no_int: \"\",\n      codigo_postal: \"\",\n      colonia: \"\",\n      municipio: \"\",\n      localidad: \"\",\n      estado: \"\",\n      pais: \"\",\n    }    \n  });\n  \n  useEffect(() => {\n    try {\n      refetch();\n    } catch (errorCatch) {\n      // console.log(\"SESSIONREFECTUPDATE\",errorCatch)\n    }\n  },  [refetch]);\n  useEffect(() => {\n    try {\n      setLoadingPage(loading);\n    } catch (errorCatch) {\n      // console.log(\"SESSIONREFECTUPDATE\",errorCatch)\n    }\n  }, [loading]);\n  useEffect(() => {\n    try {\n      if (data !== undefined) {\n        \n        setSucursalDatos(data.obtenerDatosSucursal[0]);\n      }\n    } catch (errorCatch) {\n      // console.log(\"SESSIONREFECT\",errorCatch)\n    }\n  }, [data, setSucursalDatos]);\n  useEffect(() => {\n    try {\n      setErrorPage(error);\n    } catch (errorCatch) {\n      // console.log(\"SESSIONREFECT\",errorCatch)\n    }\n  }, [error]);\n  \n\n  const actEmp = async () => {\n    try {\n      setLoadingPage(true);\n      /* const input = cleanTypenames(empresaDatos); */\n      await actualizarSucursal({\n        variables: {\n          id: sesion.empresa._id,\n          input: sucursalDatos,\n        },\n      });\n     \n      setLoadingPage(false);\n      setAlert({\n        message: \"Se han actualizado correctamente los datos.\",\n        status: \"success\",\n        open: true,\n      });\n      setErrorForm(false);\n    } catch (errorCatch) {\n      console.log(errorCatch);\n      if (errorCatch.networkError) {\n        console.log(errorCatch.networkError.result);\n      } else if (errorCatch.graphQLErrors) {\n        console.log(errorCatch.graphQLErrors);\n      }\n      setAlert({ message: \"Hubo un error\", status: \"error\", open: true });\n      setLoadingPage(false);\n    }\n  };\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n  const obtenerCampos = (e) => {\n    setSucursalDatos({\n      ...sucursalDatos,\n      [e.target.name]: e.target.value,\n    });\n  };\n  const obtenerCamposDireccion = (e) => {\n    setSucursalDatos({\n      ...sucursalDatos,\n      direccion: { ...sucursalDatos.direccion, [e.target.name]: e.target.value },\n    });\n  };\n\n  //dropzone\n  const onDrop = useCallback(\n    (acceptedFiles) => {\n      let reader = new FileReader();\n      reader.readAsDataURL(acceptedFiles[0]);\n      reader.onload = function () {\n        let image = reader.result;\n        setPreview(image);\n      };\n      setSucursalDatos({\n        ...sucursalDatos,\n        imagen: acceptedFiles[0],\n      });\n    },\n    [sucursalDatos, setSucursalDatos]\n  );\n  const { getRootProps, getInputProps } = useDropzone({\n    accept: \"image/jpeg, image/png\",\n    noKeyboard: true,\n    onDrop,\n  });\n\n  return (\n    <div>\n      <Button fullWidth onClick={handleClickOpen}>\n        <Box display=\"flex\" flexDirection=\"column\">\n          <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n            <FcNook className={classes.icon} />\n          </Box>\n          Datos de sucursal\n        </Box>\n      </Button>\n      <Dialog\n        fullScreen\n        open={open}\n        onClose={handleClose}\n        TransitionComponent={Transition}\n      >\n        <SnackBarMessages alert={alert} setAlert={setAlert} />\n        <BackdropComponent loading={loadingPage} setLoading={setLoadingPage} />\n\n        <AppBar className={classes.appBar}>\n          <Toolbar>\n            <Typography variant=\"h6\" className={classes.title}>\n              Datos\n            </Typography>\n            <Box m={1}>\n              <Button\n                variant=\"contained\"\n                color=\"secondary\"\n                onClick={handleClose}\n                size=\"large\"\n              >\n                <CloseIcon style={{ fontSize: 30 }} />\n              </Button>\n            </Box>\n          </Toolbar>\n        </AppBar>\n        <DialogContent>\n          {errorPage ? (\n            <ErrorPage error={errorPage} />\n          ) : (\n            <Container style={{ marginTop: 8 }}>\n              <Grid container spacing={3} className={classes.require}>\n              \n                <Grid item md={4} flexdirection='row'>\n                  <Box>\n                    <Typography>\n                      <b><span>* </span>Nombre de empresa</b>\n                    </Typography>\n                    <TextField\n                      fullWidth\n                      disabled={bloqueo}\n                      type=\"text\"\n                      size=\"small\"\n                      error={errorForm.error && !sucursalDatos.nombre_sucursal}\n                      name=\"nombre_empresa\"\n                      variant=\"outlined\"\n                      value={\n                        sucursalDatos.nombre_sucursal\n                          ? sucursalDatos.nombre_sucursal\n                          : \"\"\n                      }\n                      helperText={\n                        errorForm.error &&\n                        errorForm.message !== \"El campo nombre es obligatorio\"\n                          ? errorForm.message\n                          : \"\"\n                      }\n                      onChange={obtenerCampos}\n                    />\n                  </Box>\n                  <Box>\n                    <Typography>\n                      <b>Descripcin</b>\n                    </Typography>\n                    <TextField\n                      fullWidth\n                      disabled={bloqueo}\n                      type=\"text\"\n                      size=\"small\"\n                      error={errorForm.error && !sucursalDatos.descripcion}\n                      name=\"nombre_dueno\"\n                      variant=\"outlined\"\n                      value={\n                        sucursalDatos.descripcion\n                          ? sucursalDatos.descripcion\n                          : \"\"\n                      }\n                      helperText={\n                        errorForm.error &&\n                        errorForm.message !== \"El campo nombre es obligatorio\"\n                          ? errorForm.message\n                          : \"\"\n                      }\n                      onChange={obtenerCampos}\n                    />\n                  </Box>\n                 {/*  <Box>\n                    <Typography>Telfono</Typography>\n                    <TextField\n                      fullWidth\n                      disabled={bloqueo}\n                      size=\"small\"\n                      name=\"telefono_dueno\"\n                      variant=\"outlined\"\n                      value={\n                        sucursalDatos.telefono_dueno\n                          ? sucursalDatos.telefono_dueno\n                          : \"\"\n                      }\n                      onChange={obtenerCampos}\n                    />\n                  </Box> */}\n                </Grid>\n                \n              </Grid>\n\n              <Box mt={5}>\n                <Typography className={classes.subtitle}>\n                  <b>Domicilio</b>\n                </Typography>\n                <Divider />\n              </Box>\n              <Grid container spacing={3} className={classes.require}>\n                <Grid item md={4}>\n                  <Box>\n                    <Typography><b>Calle</b></Typography>\n                    <TextField\n                      fullWidth\n                      size=\"small\"\n                      name=\"calle\"\n                      variant=\"outlined\"\n                      disabled={bloqueo}\n                      value={\n                        sucursalDatos.direccion.calle\n                          ? sucursalDatos.direccion.calle\n                          : \"\"\n                      }\n                      onChange={obtenerCamposDireccion}\n                    />\n                  </Box>\n                  <Box>\n                    <Typography><b>Num. Ext</b></Typography>\n                    <TextField\n                      fullWidth\n                      size=\"small\"\n                      name=\"no_ext\"\n                      variant=\"outlined\"\n                      disabled={bloqueo}\n                      value={\n                        sucursalDatos.direccion.no_ext\n                          ? sucursalDatos.direccion.no_ext\n                          : \"\"\n                      }\n                      onChange={obtenerCamposDireccion}\n                    />\n                  </Box>\n                  <Box>\n                    <Typography><b>Num. Int</b></Typography>\n                    <TextField\n                      fullWidth\n                      size=\"small\"\n                      name=\"no_int\"\n                      variant=\"outlined\"\n                      disabled={bloqueo}\n                      value={\n                        sucursalDatos.direccion.no_int\n                          ? sucursalDatos.direccion.no_int\n                          : \"\"\n                      }\n                      onChange={obtenerCamposDireccion}\n                    />\n                  </Box>\n                </Grid>\n                <Grid item md={4}>\n                  <Box>\n                    <Typography><b>C.P.</b></Typography>\n                    <TextField\n                      fullWidth\n                      size=\"small\"\n                      name=\"codigo_postal\"\n                      variant=\"outlined\"\n                      disabled={bloqueo}\n                      value={\n                        sucursalDatos.direccion.codigo_postal\n                          ? sucursalDatos.direccion.codigo_postal\n                          : \"\"\n                      }\n                      onChange={obtenerCamposDireccion}\n                    />\n                  </Box>\n                  <Box>\n                    <Typography><b>Colonia</b></Typography>\n                    <TextField\n                      fullWidth\n                      size=\"small\"\n                      name=\"colonia\"\n                      variant=\"outlined\"\n                      disabled={bloqueo}\n                      value={\n                        sucursalDatos.direccion.colonia\n                          ? sucursalDatos.direccion.colonia\n                          : \"\"\n                      }\n                      onChange={obtenerCamposDireccion}\n                    />\n                  </Box>\n                  <Box>\n                    <Typography><b>Municipio</b></Typography>\n                    <TextField\n                      fullWidth\n                      size=\"small\"\n                      name=\"municipio\"\n                      variant=\"outlined\"\n                      disabled={bloqueo}\n                      value={\n                        sucursalDatos.direccion.municipio\n                          ? sucursalDatos.direccion.municipio\n                          : \"\"\n                      }\n                      onChange={obtenerCamposDireccion}\n                    />\n                  </Box>\n                </Grid>\n                <Grid item md={4}>\n                  <Box>\n                    <Typography><b>Localidad</b></Typography>\n                    <TextField\n                      fullWidth\n                      size=\"small\"\n                      name=\"localidad\"\n                      variant=\"outlined\"\n                      disabled={bloqueo}\n                      value={\n                        sucursalDatos.direccion.localidad\n                          ? sucursalDatos.direccion.localidad\n                          : \"\"\n                      }\n                      onChange={obtenerCamposDireccion}\n                    />\n                  </Box>\n                  <Box>\n                    <Typography><b>Estado</b></Typography>\n                    <TextField\n                      fullWidth\n                      size=\"small\"\n                      name=\"estado\"\n                      variant=\"outlined\"\n                      disabled={bloqueo}\n                      value={\n                        sucursalDatos.direccion.estado\n                          ? sucursalDatos.direccion.estado\n                          : \"\"\n                      }\n                      onChange={obtenerCamposDireccion}\n                    />\n                  </Box>\n                  <Box>\n                    <Typography><b>Pais</b></Typography>\n                    <TextField\n                      fullWidth\n                      size=\"small\"\n                      name=\"pais\"\n                      variant=\"outlined\"\n                      disabled={bloqueo}\n                      value={\n                        sucursalDatos.direccion.pais\n                          ? sucursalDatos.direccion.pais\n                          : \"\"\n                      }\n                      onChange={obtenerCamposDireccion}\n                    />\n                  </Box>\n                </Grid>\n              </Grid>\n            </Container>\n          )}\n        </DialogContent>\n        {sesion.accesos.mi_empresa.datos_empresa.editar === false ? null : (\n          <DialogActions style={{ justifyContent: \"center\" }}>\n            <Button onClick={handleClose} color=\"primary\">\n              Cancelar\n            </Button>\n            <Button\n              onClick={() => actEmp()}\n              color=\"primary\"\n              variant=\"contained\"\n              autoFocus\n            >\n              Guardar\n            </Button>\n          </DialogActions>\n        )}\n      </Dialog>\n    </div>\n  );\n}\n","import { EmpresaProvider } from '../../../context/Catalogos/empresaContext';\nimport MiEmpresa from './DatosEmpresa';\nimport { Box, Grid } from '@material-ui/core';\nimport Sucursal from './Sucursal/DatosSucursal';\n\nexport default function Empresa() {\n    const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n    return(\n        <div>\n            <EmpresaProvider>\n                <Grid container spacing={5} justify=\"center\">\n                    <Grid item lg={2}>\n                        <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n                            <Sucursal />\n                        </Box>\n                    </Grid>\n                    {sesion.accesos.mi_empresa.datos_empresa.ver === false ? (null):(\n                        <Grid item lg={2}>\n                            <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n                               < MiEmpresa />\n                            </Box>\n                        </Grid>\n                    )}\n                 {/*    {sesion.accesos.mi_empresa.informacion_fiscal.ver === false ? (null):(\n                        <Grid item lg={2}>\n                            <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n                                <InformacionFiscal />\n                            </Box> \n                        </Grid>\n                    )} */}\n                </Grid>\n            </EmpresaProvider>\n        </div>\n    )\n}","import React, { Fragment, useContext } from \"react\";\nimport {\n  IconButton,\n  InputAdornment,\n  OutlinedInput,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n  Tooltip,\n} from \"@material-ui/core\";\nimport { Box, TextField, Typography, Table, Checkbox } from \"@material-ui/core\";\nimport { Cached, LocalOffer } from \"@material-ui/icons\";\nimport { FormControl } from \"@material-ui/core\";\nimport { RegProductoContext } from \"../../../../../context/Catalogos/CtxRegProducto\";\nimport { formatoMexico } from \"../../../../../config/reuserFunctions\";\nimport { useState } from \"react\";\n\nexport default function PreciosDeCompra() {\n  const {\n    datos_generales,\n    unidadVentaXDefecto,\n    setUnidadVentaXDefecto,\n    unidadVentaSecundaria,\n    setUnidadVentaSecundaria,\n  } = useContext(RegProductoContext);\n\n  const descuentoUnidadXdefecto = (descuento_activo) => {\n    setUnidadVentaXDefecto({\n      ...unidadVentaXDefecto,\n      descuento_activo,\n    });\n  };\n\n  const checkUnidadDefault = (checked) => {\n    setUnidadVentaXDefecto({\n      ...unidadVentaXDefecto,\n      unidad_principal: true,\n    });\n    if (checked) {\n      setUnidadVentaSecundaria({\n        ...unidadVentaSecundaria,\n        unidad_principal: false,\n      });\n    }\n  };\n\n  return (\n    <Fragment>\n      <Box>\n        <TableContainer>\n          <Table size=\"small\" aria-label=\"a dense table\">\n            <TableHead>\n              <TableRow>\n                <TableCell>Cdigo de barras</TableCell>\n                <TableCell>Unidad</TableCell>\n                <TableCell>Precio</TableCell>\n                <TableCell>Cantidad</TableCell>\n                <TableCell>Aplicar Descuento</TableCell>\n                <TableCell>Unidad Principal</TableCell>\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              <TableRow /* selected={actualizarUnidad ? true : false} */>\n                <TableCell>{datos_generales.codigo_barras}</TableCell>\n                <TableCell>{unidadVentaXDefecto.unidad}</TableCell>\n                <TableCell>\n                  <Box display=\"flex\" alignItems=\"center\">\n                    {unidadVentaXDefecto.descuento_activo !== null ? (\n                      <LocalOffer\n                        color={\n                          unidadVentaXDefecto.descuento_activo === true\n                            ? \"primary\"\n                            : \"action\"\n                        }\n                      />\n                    ) : null}\n                    <Box mr={1} />\n                    <Typography>\n                      <b>\n                        $\n                        {formatoMexico(\n                          unidadVentaXDefecto.descuento_activo === true\n                            ? unidadVentaXDefecto.descuento.precio_neto\n                            : unidadVentaXDefecto.precio\n                        )}\n                      </b>\n                    </Typography>\n                  </Box>\n                </TableCell>\n                <TableCell>{unidadVentaXDefecto.cantidad}</TableCell>\n                <TableCell>\n                  {unidadVentaXDefecto.descuento_activo !== null ? (\n                    <Box display=\"flex\" alignItems=\"center\">\n                      <Checkbox\n                        checked={\n                          unidadVentaXDefecto.descuento_activo === true\n                            ? unidadVentaXDefecto.descuento_activo\n                            : false\n                        }\n                        onChange={(e) =>\n                          descuentoUnidadXdefecto(e.target.checked)\n                        }\n                        inputProps={{ \"aria-label\": \"check descuento\" }}\n                        color=\"primary\"\n                        disabled={unidadVentaXDefecto.descuento_activo === null}\n                      />\n                      <Typography color=\"primary\">\n                        %\n                        {parseFloat(\n                          unidadVentaXDefecto.descuento_activo !== null\n                            ? unidadVentaXDefecto.descuento.porciento\n                            : 0\n                        )}\n                      </Typography>\n                    </Box>\n                  ) : null}\n                </TableCell>\n                <TableCell>\n                  <Checkbox\n                    checked={unidadVentaXDefecto.unidad_principal}\n                    onChange={(e) => checkUnidadDefault(e.target.checked)}\n                    inputProps={{ \"aria-label\": \"primary checkbox\" }}\n                  />\n                </TableCell>\n              </TableRow>\n              <UnidadesVentaSecundaria />\n            </TableBody>\n          </Table>\n        </TableContainer>\n      </Box>\n    </Fragment>\n  );\n}\n\nconst UnidadesVentaSecundaria = () => {\n  const {\n    precios,\n    unidadVentaXDefecto,\n    setUnidadVentaXDefecto,\n    unidadVentaSecundaria,\n    setUnidadVentaSecundaria,\n  } = useContext(RegProductoContext);\n  const [precio, setPrecio] = useState(\n    unidadVentaSecundaria.descuento_activo !== null &&\n      unidadVentaSecundaria.descuento_activo === true\n      ? unidadVentaSecundaria.descuento.precio_neto\n      : unidadVentaSecundaria.precio\n  );\n\n  const GenCodigoBarras = () => {\n    const max = 999999999999;\n    const min = 100000000000;\n    const codigo_barras = Math.floor(\n      Math.random() * (max - min + 1) + min\n    ).toString();\n    setUnidadVentaSecundaria({\n      ...unidadVentaSecundaria,\n      codigo_barras,\n    });\n  };\n\n  const obtenerCantidad = (e) => {\n    let { value } = e.target;\n    if (value) {\n      value = parseFloat(value);\n    }\n    setUnidadVentaSecundaria({\n      ...unidadVentaSecundaria,\n      cantidad: value,\n    });\n  };\n\n  const obtenerPrecio = (e) => {\n    let { value } = e.target;\n    if (value) {\n      value = parseFloat(value);\n    }\n    if (\n      unidadVentaSecundaria.descuento_activo &&\n      unidadVentaSecundaria.descuento_activo === true\n    ) {\n      setPrecio(value);\n      calcularUnidadDesucuento(value)\n    } else {\n      setPrecio(value);\n    }\n  };\n\n  const calcularUnidadDesucuento = (value) => {\n    const { cantidad, precio_unidad } = unidadVentaSecundaria;\n    if (!value || !cantidad) return;\n    \n    const precio_unit = value / cantidad;\n    const { iva, ieps, unidad_de_compra } = precios;\n    const { precio_venta, numero_precio, unidad_maxima } = precio_unidad;\n    const precio_venta_unit = precio_venta / cantidad;\n\n    let suma_impuestos =\n      parseFloat(`0.${iva < 10 ? `0${iva}` : iva}`) +\n      parseFloat(`0.${ieps < 10 ? `0${ieps}` : ieps}`);\n    let PVSI = parseFloat((precio_unit / (suma_impuestos + 1)).toFixed(2));\n    let porcentaje = parseFloat(((PVSI / precio_venta_unit) * 100).toFixed(2));\n    let descuento = parseFloat((100 - porcentaje).toFixed(2));\n\n    let PVCDSI = parseFloat(((precio_venta_unit * porcentaje) / 100).toFixed(2));\n    let dineroDescontado = parseFloat((precio_venta_unit - PVCDSI).toFixed(2));\n\n    let iva_precio = parseFloat(\n      PVCDSI * parseFloat(`0.${iva < 10 ? `0${iva}` : iva}`).toFixed(2)\n    );\n    let ieps_precio = parseFloat(\n      PVCDSI * parseFloat(`0.${ieps < 10 ? `0${ieps}` : ieps}`).toFixed(2)\n    );\n    let PCSI = unidad_de_compra.precio_unitario_sin_impuesto;\n    let utilidad = parseFloat((((PVCDSI - PCSI) / PCSI) * 100).toFixed(2));\n    let precio_neto = parseFloat(\n      (PVCDSI + iva_precio + ieps_precio).toFixed(2)\n    );\n    let precio_general = parseFloat((precio_neto * cantidad).toFixed(2));\n\n    setUnidadVentaSecundaria({\n      ...unidadVentaSecundaria,\n      descuento: {\n        cantidad_unidad: cantidad,\n        numero_precio: numero_precio,\n        unidad_maxima: unidad_maxima,\n        precio_general: precio_general,\n        precio_neto: precio_general,\n        precio_venta: PVCDSI,\n        iva_precio: iva_precio,\n        ieps_precio: ieps_precio,\n        utilidad: utilidad,\n        porciento: descuento,\n        dinero_descontado: dineroDescontado,\n      },\n    });\n  };\n\n  const calcularUnidadDesucuentoCheck = (boolean) => {\n    const { cantidad, precio_unidad, descuento } = unidadVentaSecundaria;\n    if (!precio || !cantidad) return;\n    \n    /* const precio_unit = value / cantidad; */\n    const { iva, ieps, unidad_de_compra } = precios;\n    const { precio_venta, numero_precio, unidad_maxima } = precio_unidad;\n\n    const precio_venta_unit = precio / cantidad;\n\n    let suma_impuestos =\n      parseFloat(`0.${iva < 10 ? `0${iva}` : iva}`) +\n      parseFloat(`0.${ieps < 10 ? `0${ieps}` : ieps}`);\n    let PVSI = parseFloat((precio_venta_unit / (suma_impuestos + 1)).toFixed(2));\n    /* let porcentaje = parseFloat(((PVSI / precio_venta_unit) * 100).toFixed(2));\n    let descuento = parseFloat((100 - porcentaje).toFixed(2)); */\n\n    let PVCDSI = parseFloat(((PVSI * descuento.porciento) / 100).toFixed(2));\n    let dineroDescontado = parseFloat((PVSI - PVCDSI).toFixed(2));\n\n    let iva_precio = parseFloat(\n      PVCDSI * parseFloat(`0.${iva < 10 ? `0${iva}` : iva}`).toFixed(2)\n    );\n    let ieps_precio = parseFloat(\n      PVCDSI * parseFloat(`0.${ieps < 10 ? `0${ieps}` : ieps}`).toFixed(2)\n    );\n    let PCSI = unidad_de_compra.precio_unitario_sin_impuesto;\n    let utilidad = parseFloat((((PVCDSI - PCSI) / PCSI) * 100).toFixed(2));\n    let precio_neto = parseFloat(\n      (PVCDSI + iva_precio + ieps_precio).toFixed(2)\n    );\n    let precio_general = parseFloat((precio_neto * cantidad).toFixed(2));\n\n    setPrecio(precio_general);\n    setUnidadVentaSecundaria({\n      ...unidadVentaSecundaria,\n      descuento_activo: boolean,\n      precio,\n      descuento: {\n        cantidad_unidad: cantidad,\n        numero_precio: numero_precio,\n        unidad_maxima: unidad_maxima,\n        precio_general: precio_general,\n        precio_neto: precio_general,\n        precio_venta: PVCDSI,\n        iva_precio: iva_precio,\n        ieps_precio: ieps_precio,\n        utilidad: utilidad,\n        porciento: descuento.porciento,\n        dinero_descontado: dineroDescontado,\n      },\n    });\n  };\n\n  const calcularUnidad = (e) => {\n    if (e.target.value === \"\") {\n      setUnidadVentaSecundaria({\n        ...unidadVentaSecundaria,\n        unidad_principal: false,\n        precio: 0,\n      });\n      setUnidadVentaXDefecto({\n        ...unidadVentaXDefecto,\n        unidad_principal: true,\n      });\n      return;\n    }\n    if (!unidadVentaSecundaria.precio || !unidadVentaSecundaria.cantidad)\n      return;\n\n    const { precio, cantidad } = unidadVentaSecundaria;\n\n    const { iva, ieps } = precios;\n\n    let suma_impuestos =\n      parseFloat(`0.${iva < 10 ? `0${iva}` : iva}`) +\n      parseFloat(`0.${ieps < 10 ? `0${ieps}` : ieps}`);\n    let PVCI = parseFloat((precio / cantidad).toFixed(2));\n    let PVSI = parseFloat((PVCI / (suma_impuestos + 1)).toFixed(2));\n\n    let PCSI = precios.unidad_de_compra.precio_unitario_sin_impuesto;\n    let iva_precio = parseFloat(\n      PVSI * parseFloat(`0.${iva < 10 ? `0${iva}` : iva}`).toFixed(2)\n    );\n    let ieps_precio = parseFloat(\n      PVSI * parseFloat(`0.${ieps < 10 ? `0${ieps}` : ieps}`).toFixed(2)\n    );\n    let utilidad = parseFloat((((PVSI - PCSI) / PCSI) * 100).toFixed(2));\n    let precio_venta = PVSI * cantidad;\n    let precio_neto = PVCI * cantidad;\n\n    let unidad_secundaria = {\n      ...unidadVentaSecundaria,\n      precio,\n      cantidad,\n      precio_unidad: {\n        numero_precio: 1,\n        precio_venta: precio_venta,\n        precio_neto: precio_neto,\n        unidad_mayoreo: 0,\n        iva_precio,\n        ieps_precio,\n        utilidad,\n        unidad_maxima: true,\n        precio_general: precio,\n        cantidad_unidad: cantidad,\n      },\n    };\n\n    setUnidadVentaSecundaria(unidad_secundaria);\n  };\n\n  const checkUnidadPrincipal = (checked) => {\n    setUnidadVentaSecundaria({\n      ...unidadVentaSecundaria,\n      unidad_principal: true,\n    });\n    if (checked) {\n      setUnidadVentaXDefecto({\n        ...unidadVentaXDefecto,\n        unidad_principal: false,\n      });\n    }\n  };\n\n  const aplicarDescuento = (boolean) => {\n    let precio = boolean\n        ? unidadVentaSecundaria.descuento.precio_neto\n        : unidadVentaSecundaria.precio\n    if(boolean){\n      calcularUnidadDesucuentoCheck(boolean);\n    }else{\n      setUnidadVentaSecundaria({\n      ...unidadVentaSecundaria,\n      descuento_activo: boolean,\n    });\n    setPrecio(precio);\n    }\n    \n  };\n\n  return (\n    <TableRow>\n      <TableCell width={220}>\n        <FormControl variant=\"outlined\" size=\"small\" name=\"codigo_barras\">\n          <OutlinedInput\n            id=\"input-codigo-barras\"\n            name=\"codigo_barras\"\n            value={unidadVentaSecundaria.codigo_barras}\n            endAdornment={\n              <InputAdornment position=\"end\">\n                <IconButton\n                  size=\"small\"\n                  color=\"primary\"\n                  onClick={() => GenCodigoBarras()}\n                >\n                  <Cached />\n                </IconButton>\n              </InputAdornment>\n            }\n          />\n        </FormControl>\n      </TableCell>\n      <TableCell>{unidadVentaSecundaria.unidad}</TableCell>\n      <TableCell width={200}>\n        <TextField\n          type=\"number\"\n          name=\"precio\"\n          variant=\"outlined\"\n          size=\"small\"\n          onBlur={(e) => calcularUnidad(e)}\n          onChange={obtenerPrecio}\n          value={precio}\n          disabled={unidadVentaSecundaria.descuento_activo !== null &&\n            unidadVentaSecundaria.descuento_activo === true}\n          InputProps={{\n            inputProps: { min: 0 },\n            startAdornment: <InputAdornment position=\"start\">$</InputAdornment>,\n            endAdornment: (\n              <InputAdornment position=\"end\">\n                {unidadVentaSecundaria.descuento_activo !== null ? (\n                  <LocalOffer\n                    color={\n                      unidadVentaSecundaria.descuento_activo\n                        ? \"primary\"\n                        : \"disabled\"\n                    }\n                  />\n                ) : null}\n              </InputAdornment>\n            ),\n          }}\n        />\n      </TableCell>\n      <TableCell width={110}>\n        <Tooltip\n          title={<Typography variant=\"subtitle2\">Pz/Kg por Unidad</Typography>}\n          placement=\"top\"\n          arrow\n        >\n          <TextField\n            InputProps={{ inputProps: { min: 0 } }}\n            type=\"number\"\n            variant=\"outlined\"\n            size=\"small\"\n            name=\"cantidad\"\n            onBlur={calcularUnidad}\n            onChange={obtenerCantidad}\n            value={unidadVentaSecundaria.cantidad}\n            onBlur={(e) => {\n              if (e.target.value === \"\") {\n                setUnidadVentaSecundaria({\n                  ...unidadVentaSecundaria,\n                  cantidad: precios.unidad_de_compra.cantidad,\n                });\n              }\n            }}\n          />\n        </Tooltip>\n      </TableCell>\n      <TableCell>\n        {unidadVentaSecundaria.descuento_activo !== null ? (\n          <Box display=\"flex\" alignItems=\"center\">\n            <Checkbox\n              checked={\n                unidadVentaSecundaria.descuento_activo\n                  ? unidadVentaSecundaria.descuento_activo\n                  : false\n              }\n              onChange={(e) => aplicarDescuento(e.target.checked)}\n              inputProps={{ \"aria-label\": \"check descuento\" }}\n              color=\"primary\"\n              disabled={unidadVentaSecundaria.descuento_activo === null}\n            />\n            <Typography color=\"primary\">\n              %\n              {parseFloat(\n                unidadVentaSecundaria.descuento &&\n                  unidadVentaSecundaria.descuento !== null\n                  ? unidadVentaSecundaria.descuento.porciento\n                  : 0\n              )}\n            </Typography>\n          </Box>\n        ) : null}\n      </TableCell>\n      <TableCell>\n        <Checkbox\n          checked={unidadVentaSecundaria.unidad_principal}\n          onChange={(e) => checkUnidadPrincipal(e.target.checked)}\n          inputProps={{ \"aria-label\": \"primary checkbox\" }}\n          disabled={unidadVentaSecundaria.precio === 0}\n        />\n      </TableCell>\n    </TableRow>\n  );\n};\n","import React, { Fragment, useContext, useEffect } from \"react\";\nimport {\n  Box,\n  InputAdornment,\n  makeStyles,\n  TextField,\n  Typography,\n} from \"@material-ui/core\";\nimport { RegProductoContext } from \"../../../../../context/Catalogos/CtxRegProducto\";\nimport { useState } from \"react\";\n\nconst useStyles = makeStyles((theme) => ({\n  precioTitle: {\n    width: theme.spacing(20),\n  },\n  marginInput: {\n    marginTop: 19,\n  },\n  titulos: {\n    fontWeight: 500,\n  },\n  /* input: {\n    \"& input[type=number]\": {\n      \"-moz-appearance\": \"textfield\",\n    },\n    \"& input[type=number]::-webkit-outer-spin-button\": {\n      \"-webkit-appearance\": \"none\",\n      margin: 0,\n    },\n    \"& input[type=number]::-webkit-inner-spin-button\": {\n      \"-webkit-appearance\": \"none\",\n      margin: 0,\n    },\n  }, */\n}));\n\nexport default function PreciosDeVenta() {\n  const { preciosP } = useContext(RegProductoContext);\n  let newPreciosP = [...preciosP];\n\n  return (\n    <Fragment>\n      {preciosP.map((res, index) => (\n        <RenderPreciosP\n          key={index}\n          data={res}\n          index={index}\n          newPreciosP={newPreciosP}\n        />\n      ))}\n    </Fragment>\n  );\n}\n\nconst RenderPreciosP = ({ data, index, newPreciosP }) => {\n  const classes = useStyles();\n  const {\n    preciosP,\n    precios,\n    unidadVentaXDefecto,\n    setUnidadVentaXDefecto,\n    setPreciosP,\n    unidadVentaSecundaria,\n    setUnidadVentaSecundaria,\n  } = useContext(RegProductoContext);\n  let preciosVenta = { ...preciosP[index] };\n  const [ error, setError ] = useState(false);\n\n  const obtenerUtilidad = (valor_base) => {\n    if (!valor_base) {\n      preciosVenta.utilidad = \"\";\n      newPreciosP.splice(index, 1, preciosVenta);\n      setPreciosP(newPreciosP);\n      return;\n    }\n\n    /* let utilidad = 1; */\n    let PUCSI = precios.unidad_de_compra.precio_unitario_sin_impuesto;\n    let { /* unidad, cantidad,  */descuento, descuento_activo } = unidadVentaXDefecto;\n    let cantidad_sec = unidadVentaSecundaria.cantidad;\n    let descuento_sec = unidadVentaSecundaria.descuento;\n    let descuento_activo_sec = unidadVentaSecundaria.descuento_activo;\n    let { iva, ieps } = precios;\n    let utilidad = valor_base / 100;\n\n    const precio_venta = PUCSI * utilidad + PUCSI;\n    let iva_precio =\n      precio_venta * parseFloat(`0.${iva < 10 ? `0${iva}` : iva}`);\n    let ieps_precio =\n      precio_venta * parseFloat(`0.${ieps < 10 ? `0${ieps}` : ieps}`);\n    let impuestos = iva_precio + ieps_precio;\n    const precio_neto = precio_venta + impuestos;\n\n    preciosVenta.utilidad = parseFloat(valor_base);\n    preciosVenta.precio_venta = parseFloat(precio_venta.toFixed(2));\n\n    let PCCI = precios.precio_de_compra.precio_con_impuesto;\n    if(precio_neto < PCCI && precio_neto !== 0){\n      setError(true);\n    }else{\n      setError(false);\n    }\n    preciosVenta.precio_neto = parseFloat(precio_neto.toFixed(2));\n\n    //meter los precios a unidadXdefecto\n    let unidadXDefecto = {\n      ...unidadVentaXDefecto,\n      precio: precio_neto,\n      precio_unidad: {\n        numero_precio: preciosVenta.numero_precio,\n        precio_neto: precio_neto,\n        precio_venta: precio_venta,\n        unidad_mayoreo: preciosVenta.unidad_mayoreo,\n        iva_precio,\n        ieps_precio,\n        utilidad: preciosVenta.utilidad,\n        unidad_maxima: false,\n      },\n    };\n    let unidadSecundaria = {\n      ...unidadVentaSecundaria,\n      precio: parseFloat((cantidad_sec * precio_neto).toFixed(2)),\n      precio_unidad: {\n        numero_precio: preciosVenta.numero_precio,\n        precio_neto: parseFloat((cantidad_sec * precio_neto).toFixed(2)),\n        precio_venta: parseFloat((cantidad_sec * precio_venta).toFixed(2)),\n        unidad_mayoreo: preciosVenta.unidad_mayoreo,\n        iva_precio,\n        ieps_precio,\n        utilidad: preciosVenta.utilidad,\n        unidad_maxima: false,\n      },\n    };\n\n    if (preciosVenta.numero_precio === 1) {\n      /* if (unidad === \"Caja\" || unidad === \"Costal\") {\n        unidadXDefecto = {\n          ...unidadXDefecto,\n          precio: precio_neto,\n        };\n      } else {\n        unidadSecundaria = {\n          ...unidadSecundaria,\n          precio: parseFloat((cantidad * precio_neto).toFixed(2)),\n        };\n      } */\n      if (descuento_activo === true) {\n        //calcular nuevo precio entre %\n        /* let precio_con_descuento = Math.round(\n          precio_neto - precio_neto * parseFloat(\".\" + descuento.porciento)\n        ); */\n\n        let new_precio_venta_desc = (precio_venta * descuento.porciento) / 100;\n        let new_iva_precio =\n          new_precio_venta_desc * parseFloat(`0.${iva < 10 ? `0${iva}` : iva}`);\n        let new_ieps_precio =\n          new_precio_venta_desc *\n          parseFloat(`0.${ieps < 10 ? `0${ieps}` : ieps}`);\n        let new_impuestos = new_iva_precio + new_ieps_precio;\n        let precio_con_descuento = new_precio_venta_desc + new_impuestos;\n\n        unidadXDefecto = {\n          ...unidadXDefecto,\n          precio: parseFloat(precio_neto.toFixed(2)),\n          descuento: {\n            ...unidadVentaXDefecto.descuento,\n            precio_neto: precio_con_descuento,\n          },\n        };\n        unidadXDefecto = {\n          ...unidadSecundaria,\n          precio: parseFloat(precio_neto.toFixed(2)),\n          descuento: {\n            ...unidadVentaSecundaria.descuento,\n            precio_neto: precio_con_descuento,\n          },\n        };\n      }\n      if (descuento_activo_sec === true) {\n        //calcular nuevo precio entre %\n        let new_precio_venta_desc_sec = (precio_venta * descuento_sec.porciento) / 100;\n        let new_iva_precio_sec =\n          new_precio_venta_desc_sec * parseFloat(`0.${iva < 10 ? `0${iva}` : iva}`);\n        let new_ieps_precio_sec =\n          new_precio_venta_desc_sec *\n          parseFloat(`0.${ieps < 10 ? `0${ieps}` : ieps}`);\n        let new_impuestos_sec = new_iva_precio_sec + new_ieps_precio_sec;\n        let precio_con_descuento_sec = new_precio_venta_desc_sec + new_impuestos_sec;\n\n        unidadSecundaria = {\n          ...unidadSecundaria,\n          precio: parseFloat((cantidad_sec * precio_neto).toFixed(2)),\n          descuento: {\n            ...unidadVentaSecundaria.descuento,\n            precio_neto: parseFloat((cantidad_sec * precio_con_descuento_sec).toFixed(2)),\n          },\n        };\n      }\n      setUnidadVentaXDefecto(unidadXDefecto);\n      setUnidadVentaSecundaria(unidadSecundaria);\n    }\n\n    newPreciosP.splice(index, 1, preciosVenta);\n    setPreciosP(newPreciosP);\n  };\n\n  const obtenerPrecioNeto = (value) => {\n    \n    if (!value) {\n      console.log(value);\n      preciosVenta.precio_neto = 0;\n      newPreciosP.splice(index, 1, preciosVenta);\n      setPreciosP(newPreciosP);\n      return;\n    }\n\n    let precio_neto = parseFloat(value);\n    let { /* unidad, cantidad,  */descuento, descuento_activo } = unidadVentaXDefecto;\n    let cantidad_sec = unidadVentaSecundaria.cantidad;\n    let descuento_sec = unidadVentaSecundaria.descuento;\n    let descuento_activo_sec = unidadVentaSecundaria.descuento_activo;\n    let { iva, ieps } = precios;\n    let PUCSI = precios.unidad_de_compra.precio_unitario_sin_impuesto;\n\n    let suma =\n      parseFloat(`0.${iva < 10 ? `0${iva}` : iva}`) +\n      parseFloat(`0.${ieps < 10 ? `0${ieps}` : ieps}`);\n    let precio_venta = parseFloat((precio_neto / (suma + 1)).toFixed(2));\n    let iva_precio =\n      precio_venta * parseFloat(`0.${iva < 10 ? `0${iva}` : iva}`);\n    let ieps_precio =\n      precio_venta * parseFloat(`0.${ieps < 10 ? `0${ieps}` : ieps}`);\n    let impuestos = iva_precio + ieps_precio;\n    let utilidad_base = ((precio_neto - impuestos - PUCSI) / PUCSI) * 100;\n\n    preciosVenta.precio_neto = precio_neto;\n    preciosVenta.precio_venta = precio_venta;\n    preciosVenta.utilidad = parseFloat(utilidad_base.toFixed(2));\n\n    let PCCI = precios.precio_de_compra.precio_con_impuesto;\n    if(precio_neto < PCCI && precio_neto !== 0){\n      setError(true);\n    }else{\n      setError(false);\n    }\n\n    //meter los precios a unidadXdefecto\n    let unidadXDefecto = {\n      ...unidadVentaXDefecto,\n      precio: precio_neto,\n      precio_unidad: {\n        numero_precio: preciosVenta.numero_precio,\n        precio_neto: precio_neto,\n        precio_venta: precio_venta,\n        unidad_mayoreo: preciosVenta.unidad_mayoreo,\n        iva_precio,\n        ieps_precio,\n        utilidad: preciosVenta.utilidad,\n        unidad_maxima: false,\n      },\n    };\n    let unidadSecundaria = {\n      ...unidadVentaSecundaria,\n      precio: parseFloat((cantidad_sec * precio_neto).toFixed(2)),\n      precio_unidad: {\n        numero_precio: preciosVenta.numero_precio,\n        precio_neto: parseFloat((cantidad_sec * precio_neto).toFixed(2)),\n        precio_venta: parseFloat((cantidad_sec * precio_venta).toFixed(2)),\n        unidad_mayoreo: preciosVenta.unidad_mayoreo,\n        iva_precio,\n        ieps_precio,\n        utilidad: preciosVenta.utilidad,\n        unidad_maxima: false,\n      },\n    };\n\n    if (preciosVenta.numero_precio === 1) {\n      /* if (unidad === \"Caja\" || unidad === \"Costal\") {\n        unidadXDefecto = {\n          ...unidadXDefecto,\n          precio: precio_neto,\n        };\n      } else {\n        unidadSecundaria = {\n          ...unidadSecundaria,\n          precio: parseFloat((cantidad * precio_neto).toFixed(2)),\n        };\n      } */\n      if (descuento_activo === true) {\n        //calcular nuevo precio entre %\n        /* let precio_con_descuento = Math.round(\n          precio_neto - precio_neto * parseFloat(\".\" + descuento.porciento)\n        ); */\n\n        let new_precio_venta_desc = (precio_venta * descuento.porciento) / 100;\n        let new_iva_precio =\n          new_precio_venta_desc * parseFloat(`0.${iva < 10 ? `0${iva}` : iva}`);\n        let new_ieps_precio =\n          new_precio_venta_desc *\n          parseFloat(`0.${ieps < 10 ? `0${ieps}` : ieps}`);\n        let new_impuestos = new_iva_precio + new_ieps_precio;\n        let precio_con_descuento = new_precio_venta_desc + new_impuestos;\n\n        unidadXDefecto = {\n          ...unidadXDefecto,\n          precio: parseFloat(precio_neto.toFixed(2)),\n          descuento: {\n            ...unidadVentaXDefecto.descuento,\n            precio_neto: precio_con_descuento,\n          },\n        };\n      }\n      if (descuento_activo_sec === true) {\n        //calcular nuevo precio entre %\n        let new_precio_venta_desc_sec = (precio_venta * descuento_sec.porciento) / 100;\n        let new_iva_precio_sec =\n          new_precio_venta_desc_sec * parseFloat(`0.${iva < 10 ? `0${iva}` : iva}`);\n        let new_ieps_precio_sec =\n          new_precio_venta_desc_sec *\n          parseFloat(`0.${ieps < 10 ? `0${ieps}` : ieps}`);\n        let new_impuestos_sec = new_iva_precio_sec + new_ieps_precio_sec;\n        let precio_con_descuento_sec = new_precio_venta_desc_sec + new_impuestos_sec;\n\n        unidadSecundaria = {\n          ...unidadSecundaria,\n          precio: parseFloat((cantidad_sec * precio_neto).toFixed(2)),\n          descuento: {\n            ...unidadVentaSecundaria.descuento,\n            precio_neto: parseFloat((cantidad_sec * precio_con_descuento_sec).toFixed(2)),\n          },\n        };\n      }\n      setUnidadVentaXDefecto(unidadXDefecto);\n      setUnidadVentaSecundaria(unidadSecundaria);\n    }\n\n    newPreciosP.splice(index, 1, preciosVenta);\n    setPreciosP(newPreciosP);\n  };\n\n  const obtenerMayoreo = (value) => {\n    if (!value) {\n      preciosVenta.unidad_mayoreo = \"\";\n      newPreciosP.splice(index, 1, preciosVenta);\n      setPreciosP(newPreciosP);\n      return;\n    }\n    preciosVenta.unidad_mayoreo = parseInt(value);\n    newPreciosP.splice(index, 1, preciosVenta);\n    setPreciosP(newPreciosP);\n  };\n\n  const calculos = () => {\n    let { iva, ieps } = precios;\n    let { /* unidad, cantidad,  */descuento, descuento_activo } = unidadVentaXDefecto;\n    let cantidad_sec = unidadVentaSecundaria.cantidad;\n    let descuento_sec = unidadVentaSecundaria.descuento;\n    let descuento_activo_sec = unidadVentaSecundaria.descuento_activo;\n    let PUCSI = precios.unidad_de_compra.precio_unitario_sin_impuesto;\n    let utilidad_base = preciosVenta.utilidad ? preciosVenta.utilidad : 0;\n    let utilidad = utilidad_base / 100;\n\n    //precio venta y neto con utilidad\n    const precio_venta = parseFloat((PUCSI * utilidad + PUCSI).toFixed(2));\n    let iva_precio =\n      precio_venta * parseFloat(`0.${iva < 10 ? `0${iva}` : iva}`);\n    let ieps_precio =\n      precio_venta * parseFloat(`0.${ieps < 10 ? `0${ieps}` : ieps}`);\n    let impuestos = iva_precio + ieps_precio;\n\n    const precio_neto = parseFloat((precio_venta + impuestos).toFixed(2));\n\n    //meter los valores a preciosVenta\n    preciosVenta.precio_venta = precio_venta;\n    preciosVenta.precio_neto = precio_neto;\n    preciosVenta.iva_precio = iva_precio;\n    preciosVenta.ieps_precio = ieps_precio;\n\n    //meter los precios a unidadXdefecto\n    let unidadXDefecto = {\n      ...unidadVentaXDefecto,\n      precio: precio_neto,\n      precio_unidad: {\n        numero_precio: preciosVenta.numero_precio,\n        precio_neto: precio_neto,\n        precio_venta: precio_venta,\n        unidad_mayoreo: preciosVenta.unidad_mayoreo,\n        iva_precio,\n        ieps_precio,\n        utilidad: preciosVenta.utilidad,\n        unidad_maxima: false,\n      },\n    };\n\n    let unidadSecundaria = {\n      ...unidadVentaSecundaria,\n      precio: parseFloat((cantidad_sec * precio_neto).toFixed(2)),\n      precio_unidad: {\n        numero_precio: preciosVenta.numero_precio,\n        precio_neto: parseFloat((cantidad_sec * precio_neto).toFixed(2)),\n        precio_venta: parseFloat((cantidad_sec * precio_venta).toFixed(2)),\n        unidad_mayoreo: preciosVenta.unidad_mayoreo,\n        iva_precio,\n        ieps_precio,\n        utilidad: preciosVenta.utilidad,\n        unidad_maxima: false,\n      },\n    };\n\n    if (preciosVenta.numero_precio === 1) {\n      /* if (unidad === \"Caja\" || unidad === \"Costal\") {\n        unidadXDefecto = {\n          ...unidadXDefecto,\n          precio: precio_neto,\n        };\n      } else {\n        unidadSecundaria = {\n          ...unidadSecundaria,\n          precio: parseFloat((cantidad * precio_neto).toFixed(2)),\n        };\n      } */\n      if (descuento_activo === true) {\n        //calcular nuevo precio entre %\n        /* let precio_con_descuento = Math.round(\n          precio_neto - precio_neto * parseFloat(\".\" + descuento.porciento)\n        ); */\n\n        let new_precio_venta_desc = (precio_venta * descuento.porciento) / 100;\n        let new_iva_precio =\n          new_precio_venta_desc * parseFloat(`0.${iva < 10 ? `0${iva}` : iva}`);\n        let new_ieps_precio =\n          new_precio_venta_desc *\n          parseFloat(`0.${ieps < 10 ? `0${ieps}` : ieps}`);\n        let new_impuestos = new_iva_precio + new_ieps_precio;\n        let precio_con_descuento = new_precio_venta_desc + new_impuestos;\n\n        unidadXDefecto = {\n          ...unidadXDefecto,\n          precio: parseFloat(precio_neto.toFixed(2)),\n          descuento: {\n            ...unidadVentaXDefecto.descuento,\n            precio_neto: precio_con_descuento,\n          },\n        };\n      }\n      if (descuento_activo_sec === true) {\n        //calcular nuevo precio entre %\n        let new_precio_venta_desc_sec = (precio_venta * descuento_sec.porciento) / 100;\n        let new_iva_precio_sec =\n          new_precio_venta_desc_sec * parseFloat(`0.${iva < 10 ? `0${iva}` : iva}`);\n        let new_ieps_precio_sec =\n          new_precio_venta_desc_sec *\n          parseFloat(`0.${ieps < 10 ? `0${ieps}` : ieps}`);\n        let new_impuestos_sec = new_iva_precio_sec + new_ieps_precio_sec;\n        let precio_con_descuento_sec = new_precio_venta_desc_sec + new_impuestos_sec;\n\n        unidadSecundaria = {\n          ...unidadSecundaria,\n          precio: parseFloat((cantidad_sec * precio_neto).toFixed(2)),\n          descuento: {\n            ...unidadVentaSecundaria.descuento,\n            precio_neto: parseFloat((cantidad_sec * precio_con_descuento_sec).toFixed(2)),\n          },\n        };\n      }\n      setUnidadVentaXDefecto(unidadXDefecto);\n      setUnidadVentaSecundaria(unidadSecundaria);\n    }\n\n    newPreciosP.splice(index, 1, preciosVenta);\n    setPreciosP(newPreciosP);\n  };\n\n  useEffect(() => {\n    if (preciosVenta.numero_precio === 1) {\n      calculos();\n    } else if (preciosVenta.numero_precio > 1 && preciosVenta.precio_neto) {\n      calculos();\n    }\n\n    /* preciosP.splice(index, 1, preciosVenta); */\n  }, [\n    precios.unidad_de_compra.precio_unitario_con_impuesto,\n    preciosVenta.precio_venta,\n  ]);\n\n  const verificarCampoVacio = (name, value) => {\n    switch (name) {\n      case \"utilidad\":\n        if (!value) {\n          preciosVenta.utilidad = 0;\n          preciosVenta.precio_neto =\n            preciosVenta.numero_precio > 1\n              ? 0\n              : precios.unidad_de_compra.precio_unitario_con_impuesto;\n          newPreciosP.splice(index, 1, preciosVenta);\n          setPreciosP(newPreciosP);\n        }\n        break;\n      case \"precio_neto\":\n        if (!value) {\n          preciosVenta.precio_neto =\n            preciosVenta.numero_precio > 1\n              ? 0\n              : precios.unidad_de_compra.precio_unitario_con_impuesto;\n          preciosVenta.utilidad = 0;\n          newPreciosP.splice(index, 1, preciosVenta);\n          setPreciosP(newPreciosP);\n        }\n        break;\n      case \"unidad_mayoreo\":\n        if (!value) {\n          preciosVenta.unidad_mayoreo = 0;\n          newPreciosP.splice(index, 1, preciosVenta);\n          setPreciosP(newPreciosP);\n        }\n        break;\n      default:\n        break;\n    }\n  };\n\n  return (\n    <Box>\n      <Box display=\"flex\" my={1} mr={1}>\n        <Box\n          alignItems=\"flex-end\"\n          display={data.numero_precio > 1 ? \"none\" : \"flex\"}\n        >\n          <Typography className={classes.precioTitle}>\n            <b>Utilidad</b>\n          </Typography>\n        </Box>\n        <Box minWidth={100}>\n          <Typography className={classes.titulos}>\n            Precio {data.numero_precio}\n          </Typography>\n          <Box mb={2} />\n          <TextField\n            disabled={\n              !parseFloat(precios.unidad_de_compra.precio_unitario_sin_impuesto)\n            }\n            fullWidth\n            type=\"number\"\n            InputProps={{\n              inputProps: { min: 0 },\n              startAdornment: (\n                <InputAdornment position=\"start\">%</InputAdornment>\n              ),\n            }}\n            size=\"small\"\n            value={preciosVenta.utilidad}\n            name=\"utilidad\"\n            variant=\"outlined\"\n            onChange={(e) => obtenerUtilidad(e.target.value)}\n            onBlur={() =>\n              verificarCampoVacio(\"utilidad\", preciosVenta.utilidad)\n            }\n            error={preciosVenta.utilidad === \"\"}\n          />\n        </Box>\n      </Box>\n      <Box display=\"flex\" my={2} mr={1}>\n        <Box\n          alignItems=\"flex-end\"\n          display={data.numero_precio > 1 ? \"none\" : \"flex\"}\n        >\n          <Box\n            alignItems=\"flex-end\"\n            flexDirection=\"column\"\n            display={data.numero_precio > 1 ? \"none\" : \"flex\"}\n          >\n            <Typography className={classes.precioTitle}>\n              <b>Precio de venta</b>\n            </Typography>\n            <Typography\n              className={classes.precioTitle}\n              variant=\"caption\"\n              color=\"textSecondary\"\n            >\n              (precio sin impuestos)\n            </Typography>\n          </Box>\n        </Box>\n        <Box pl={1}>\n          <Typography>\n            <b>${parseFloat(preciosVenta.precio_venta).toFixed(2)}</b>\n          </Typography>\n        </Box>\n      </Box>\n      <Box display=\"flex\" my={1} mr={1}>\n        <Box\n          alignItems=\"flex-end\"\n          flexDirection=\"column\"\n          display={data.numero_precio > 1 ? \"none\" : \"flex\"}\n        >\n          <Typography className={classes.precioTitle}>\n            <b>Precio venta neto</b>\n          </Typography>\n          <Typography\n            className={classes.precioTitle}\n            variant=\"caption\"\n            color=\"textSecondary\"\n          >\n            (precio con impuestos)\n          </Typography>\n        </Box>\n        <Box className={data.numero_precio > 1 ? classes.marginInput : \"\"}>\n          <TextField\n            disabled={\n              !parseFloat(precios.unidad_de_compra.precio_unitario_sin_impuesto)\n            }\n            fullWidth\n            type=\"number\"\n            InputProps={{\n              inputProps: { min: 0 },\n              startAdornment: (\n                <InputAdornment position=\"start\">$</InputAdornment>\n              ),\n            }}\n            size=\"small\"\n            name=\"precio_neto\"\n            variant=\"outlined\"\n            value={preciosVenta.precio_neto}\n            onChange={(e) => obtenerPrecioNeto(e.target.value)}\n            onBlur={() =>\n              verificarCampoVacio(\"precio_neto\", preciosVenta.precio_neto)\n            }\n            error={preciosVenta.precio_neto === \"\" || error}\n            helperText={error ? \"Precio menor a costo\" : \"\"}\n          />\n        </Box>\n      </Box>\n\n      <Box display=\"flex\" my={2} mr={1}>\n        <Box\n          alignItems=\"flex-end\"\n          display={data.numero_precio > 1 ? \"none\" : \"flex\"}\n        >\n          <Typography className={classes.precioTitle}>\n            <b>Unidad por mayoreo</b>\n          </Typography>\n        </Box>\n        {data.numero_precio > 1 ? (\n          <Box>\n            <TextField\n              disabled={\n                !parseFloat(\n                  precios.unidad_de_compra.precio_unitario_sin_impuesto\n                )\n              }\n              fullWidth\n              type=\"number\"\n              InputProps={{ inputProps: { min: 0 } }}\n              size=\"small\"\n              name=\"unidad_mayoreo\"\n              variant=\"outlined\"\n              value={preciosVenta.unidad_mayoreo}\n              onChange={(e) => obtenerMayoreo(e.target.value)}\n              onBlur={() =>\n                verificarCampoVacio(\n                  \"unidad_mayoreo\",\n                  preciosVenta.unidad_mayoreo\n                )\n              }\n              error={preciosVenta.unidad_mayoreo === \"\"}\n            />\n          </Box>\n        ) : null}\n      </Box>\n    </Box>\n  );\n};\n","export const unitCodes = [\n    {unidad: \"Pz\", codigo_unidad: \"H87\"},\n    {unidad: \"Caja\", codigo_unidad: \"XBX\"}\n]\n\nexport const unitCodes_granel = [\n  {unidad: \"Kg\", codigo_unidad: \"KGM\"},\n  {unidad: \"Lt\", codigo_unidad: \"LTR\"},\n  {unidad: \"Costal\", codigo_unidad: \"KGM\"},\n]","export const calcular_iva = (name, value, precios) => {\n  let precio_con_impuesto = 0;\n  let precio_sin_impuesto = 0;\n  let iva = 0;\n  let ieps = 0;\n  let precio_unitario_sin_impuesto = 0;\n  let precio_unitario_con_impuesto = 0;\n  if (name === \"iva_activo\") {\n    if (value) {\n      precio_sin_impuesto = parseFloat(\n        precios.precio_de_compra.precio_sin_impuesto\n      );\n      iva = parseFloat(precio_sin_impuesto) * 0.16;\n      ieps =\n        parseFloat(precio_sin_impuesto) *\n        parseFloat(\n          precios.ieps < 10 ? \".0\" + precios.ieps : \".\" + precios.ieps\n        );\n      precio_con_impuesto = precio_sin_impuesto + iva + ieps;\n      precio_unitario_sin_impuesto =\n        precio_sin_impuesto / precios.unidad_de_compra.cantidad;\n      precio_unitario_con_impuesto =\n        precio_con_impuesto / precios.unidad_de_compra.cantidad;\n    } else {\n      precio_sin_impuesto = parseFloat(\n        precios.precio_de_compra.precio_sin_impuesto\n      );\n      iva = 0;\n      ieps =\n        parseFloat(precio_sin_impuesto) *\n        parseFloat(\n          precios.ieps < 10 ? \".0\" + precios.ieps : \".\" + precios.ieps\n        );\n      precio_con_impuesto = precio_sin_impuesto + iva + ieps;\n      precio_unitario_sin_impuesto =\n        precio_sin_impuesto / precios.unidad_de_compra.cantidad;\n      precio_unitario_con_impuesto =\n        precio_con_impuesto / precios.unidad_de_compra.cantidad;\n      if (!precios.ieps_activo) {\n        precio_con_impuesto = 0;\n        precio_unitario_con_impuesto =\n          precio_sin_impuesto / precios.unidad_de_compra.cantidad;\n      }\n    }\n  } else {\n    precio_sin_impuesto = parseFloat(\n      precios.precio_de_compra.precio_sin_impuesto\n    );\n    iva =\n      parseFloat(precio_sin_impuesto) *\n      parseFloat(value < 10 ? \".0\" + value : \".\" + value);\n    ieps =\n      parseFloat(precio_sin_impuesto) *\n      parseFloat(precios.ieps < 10 ? \".0\" + precios.ieps : \".\" + precios.ieps);\n    precio_con_impuesto = precio_sin_impuesto + iva + ieps;\n    precio_unitario_con_impuesto =\n      precio_con_impuesto / precios.unidad_de_compra.cantidad;\n    precio_unitario_sin_impuesto =\n      precio_sin_impuesto / precios.unidad_de_compra.cantidad;\n  }\n\n  return {\n    ...precios,\n    iva_activo: name === \"iva_activo\" ? value : precios.iva_activo,\n    iva: name === \"iva\" ? parseFloat(value) : value ? 16 : 0,\n    precio_de_compra: {\n      ...precios.precio_de_compra,\n      precio_sin_impuesto: parseFloat(precio_sin_impuesto.toFixed(2)),\n      iva: parseFloat(iva.toFixed(2)),\n      ieps: parseFloat(ieps.toFixed(2)),\n      precio_con_impuesto: parseFloat(precio_con_impuesto.toFixed(2)),\n    },\n    unidad_de_compra: {\n      ...precios.unidad_de_compra,\n      precio_unitario_sin_impuesto: parseFloat(\n        precio_unitario_sin_impuesto.toFixed(2)\n      ),\n      precio_unitario_con_impuesto: parseFloat(\n        precio_unitario_con_impuesto.toFixed(2)\n      ),\n    },\n  };\n};\n\nexport const calcular_ieps = (name, value, precios) => {\n  let precio_con_impuesto = 0;\n  let precio_sin_impuesto = 0;\n  let iva = 0;\n  let ieps = 0;\n  let precio_unitario_sin_impuesto = 0;\n  let precio_unitario_con_impuesto = 0;\n  if (name === \"ieps_activo\") {\n    if (value) {\n      precio_sin_impuesto = parseFloat(\n        precios.precio_de_compra.precio_sin_impuesto\n      );\n      iva =\n        parseFloat(precio_sin_impuesto) *\n        parseFloat(precios.iva < 10 ? \".0\" + precios.iva : \".\" + precios.iva);\n      ieps = parseFloat(precio_sin_impuesto) * precios.ieps;\n      precio_con_impuesto = precio_sin_impuesto + iva + ieps;\n      precio_unitario_sin_impuesto =\n        precio_sin_impuesto / precios.unidad_de_compra.cantidad;\n      precio_unitario_con_impuesto =\n        precio_con_impuesto / precios.unidad_de_compra.cantidad;\n    } else {\n      precio_sin_impuesto = parseFloat(\n        precios.precio_de_compra.precio_sin_impuesto\n      );\n      ieps = 0;\n      iva =\n        parseFloat(precio_sin_impuesto) *\n        parseFloat(precios.iva < 10 ? \".0\" + precios.iva : \".\" + precios.iva);\n      precio_con_impuesto = precio_sin_impuesto + iva + ieps;\n      precio_unitario_sin_impuesto =\n        precio_sin_impuesto / precios.unidad_de_compra.cantidad;\n      precio_unitario_con_impuesto =\n        precio_con_impuesto / precios.unidad_de_compra.cantidad;\n      if (!precios.iva_activo) {\n        precio_con_impuesto = 0;\n        precio_unitario_con_impuesto =\n          precio_sin_impuesto / precios.unidad_de_compra.cantidad;\n      }\n    }\n  } else {\n    precio_sin_impuesto = parseFloat(\n      precios.precio_de_compra.precio_sin_impuesto\n    );\n    iva =\n      parseFloat(precio_sin_impuesto) *\n      parseFloat(precios.iva < 10 ? \".0\" + precios.iva : \".\" + precios.iva);\n    ieps =\n      parseFloat(precio_sin_impuesto) *\n      parseFloat(value < 10 ? \".0\" + value : \".\" + value);\n    precio_con_impuesto = precio_sin_impuesto + iva + ieps;\n    precio_unitario_con_impuesto =\n      precio_con_impuesto / precios.unidad_de_compra.cantidad;\n    precio_unitario_sin_impuesto =\n      precio_sin_impuesto / precios.unidad_de_compra.cantidad;\n  }\n  return {\n    ...precios,\n    ieps_activo: name === \"ieps_activo\" ? value : precios.ieps_activo,\n    ieps: name === \"ieps\" ? parseFloat(value) : value ? precios.ieps : 0,\n    precio_de_compra: {\n      ...precios.precio_de_compra,\n      precio_sin_impuesto: parseFloat(precio_sin_impuesto.toFixed(2)),\n      iva: parseFloat(iva.toFixed(2)),\n      ieps: parseFloat(ieps.toFixed(2)),\n      precio_con_impuesto: parseFloat(precio_con_impuesto.toFixed(2)),\n    },\n    unidad_de_compra: {\n      ...precios.unidad_de_compra,\n      precio_unitario_sin_impuesto: parseFloat(\n        precio_unitario_sin_impuesto.toFixed(2)\n      ),\n      precio_unitario_con_impuesto: parseFloat(\n        precio_unitario_con_impuesto.toFixed(2)\n      ),\n    },\n  };\n};\n\n","import React, { useContext, useEffect, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport {\n  Box,\n  Checkbox,\n  TextField,\n  MenuItem,\n  FormHelperText,\n  InputAdornment,\n  Grid,\n} from \"@material-ui/core\";\nimport { Typography, Divider, FormControl, Select } from \"@material-ui/core\";\nimport PreciosDeCompra from \"./UnidadesVenta\";\nimport { RegProductoContext } from \"../../../../../context/Catalogos/CtxRegProducto\";\nimport { useDebounce } from \"use-debounce/lib\";\nimport PreciosDeVenta from \"./Precios\";\nimport { unitCodes, unitCodes_granel } from \"../unidades\";\nimport { calcular_ieps, calcular_iva } from \"../calculos_precios\";\n\nconst useStyles = makeStyles((theme) => ({\n  required: {\n    color: \"red\",\n  },\n  precioTitle: {\n    width: theme.spacing(20),\n    display: \"flex\",\n    alignItems: \"center\",\n  },\n  titulos: {\n    fontWeight: 500,\n  },\n  /* input: {\n    \"& input[type=number]\": {\n      \"-moz-appearance\": \"textfield\",\n    },\n    \"& input[type=number]::-webkit-outer-spin-button\": {\n      \"-webkit-appearance\": \"none\",\n      margin: 0,\n    },\n    \"& input[type=number]::-webkit-inner-spin-button\": {\n      \"-webkit-appearance\": \"none\",\n      margin: 0,\n    },\n  }, */\n}));\n\nexport default function RegistroInfoAdidional() {\n  const classes = useStyles();\n  const {\n    precios,\n    setPrecios,\n    validacion,\n    preciosP,\n    update,\n    unidadVentaXDefecto,\n    setUnidadVentaXDefecto,\n    unidadVentaSecundaria,\n    setUnidadVentaSecundaria,\n  } = useContext(RegProductoContext);\n\n  /* CHECKBOX IVA */\n  const obtenerIva = async (e) => {\n    if (e.target.name === \"iva\" && !e.target.value) {\n      setPrecios({\n        ...precios,\n        iva: \"\",\n      });\n      return;\n    }\n    const name = e.target.name;\n    const value = name === \"iva_activo\" ? e.target.checked : e.target.value;\n    const result = await calcular_iva(name, value, precios);\n    setPrecioConImpuesto(result.precio_de_compra.precio_con_impuesto);\n    setPrecioSinImpuesto(result.precio_de_compra.precio_sin_impuesto);\n    setPrecios(result);\n  };\n\n  /* CHECKBOX IEPS */\n  const obtenerIeps = async (e) => {\n    if (e.target.name === \"ieps\" && !e.target.value) {\n      setPrecios({\n        ...precios,\n        ieps: \"\",\n      });\n      return;\n    }\n    const name = e.target.name;\n    const value = name === \"ieps_activo\" ? e.target.checked : e.target.value;\n    const result = await calcular_ieps(name, value, precios);\n    setPrecioConImpuesto(result.precio_de_compra.precio_con_impuesto);\n    setPrecioSinImpuesto(result.precio_de_compra.precio_sin_impuesto);\n    setPrecios(result);\n  };\n\n  const [precioConImpuesto, setPrecioConImpuesto] = useState(\n    precios.precio_de_compra.precio_con_impuesto\n  );\n  const [precioSinImpuesto, setPrecioSinImpuesto] = useState(\n    precios.precio_de_compra.precio_sin_impuesto\n  );\n\n  const [PCI] = useDebounce(precioConImpuesto, 800);\n  const [PSI] = useDebounce(precioSinImpuesto, 800);\n\n  /* ARMAR OBJETO DE PRECIOS DE COMPRA */\n  const obtenerPrecioConImpuesto = (value) => {\n    let precio_con_impuesto = 0;\n    let total_impuesto = 0;\n    let precio_sin_impuesto = 0;\n    let iva = 0;\n    let ieps = 0;\n    let precio_unitario_sin_impuesto = 0;\n    let precio_unitario_con_impuesto = 0;\n\n    /* Precio con impuesto */\n    precio_con_impuesto = parseFloat(value);\n    total_impuesto =\n      parseFloat(precios.iva < 10 ? \".0\" + precios.iva : \".\" + precios.iva) +\n      parseFloat(precios.ieps < 10 ? \".0\" + precios.ieps : \".\" + precios.ieps);\n    precio_sin_impuesto = parseFloat(value) / parseFloat(total_impuesto + 1);\n    iva =\n      precio_sin_impuesto *\n      parseFloat(precios.iva < 10 ? \".0\" + precios.iva : \".\" + precios.iva);\n    ieps =\n      precio_sin_impuesto *\n      parseFloat(precios.ieps < 10 ? \".0\" + precios.ieps : \".\" + precios.ieps);\n    precio_unitario_con_impuesto =\n      precio_con_impuesto / precios.unidad_de_compra.cantidad;\n    precio_unitario_sin_impuesto =\n      precio_sin_impuesto / precios.unidad_de_compra.cantidad;\n\n    if (isNaN(precio_unitario_sin_impuesto)) precio_unitario_sin_impuesto = 0;\n    if (isNaN(precio_unitario_con_impuesto)) precio_unitario_con_impuesto = 0;\n    if (isNaN(iva)) iva = 0;\n    if (isNaN(ieps)) ieps = 0;\n    /* if (isNaN(precio_con_impuesto)) precio_con_impuesto = 0;\n\t\tif (isNaN(precio_sin_impuesto)) precio_sin_impuesto = 0; */\n\n    setPrecioSinImpuesto(parseFloat(precio_sin_impuesto.toFixed(2)));\n    setPrecios({\n      ...precios,\n      precio_de_compra: {\n        ...precios.precio_de_compra,\n        precio_sin_impuesto: parseFloat(precio_sin_impuesto.toFixed(2)),\n        iva: parseFloat(iva.toFixed(2)),\n        ieps: parseFloat(ieps.toFixed(2)),\n        precio_con_impuesto: parseFloat(precio_con_impuesto.toFixed(2)),\n      },\n      unidad_de_compra: {\n        ...precios.unidad_de_compra,\n        precio_unitario_sin_impuesto: parseFloat(\n          precio_unitario_sin_impuesto.toFixed(2)\n        ),\n        precio_unitario_con_impuesto: parseFloat(\n          precio_unitario_con_impuesto.toFixed(2)\n        ),\n      },\n    });\n  };\n\n  /* ARMAR OBJETO DE PRECIOS DE COMPRA */\n  const obtenerPrecioSinImpuesto = (value) => {\n    let precio_con_impuesto = 0;\n    let precio_sin_impuesto = 0;\n    let iva = 0;\n    let ieps = 0;\n    let precio_unitario_sin_impuesto = 0;\n    let precio_unitario_con_impuesto = 0;\n\n    /* Precio sin impuesto */\n    precio_sin_impuesto = parseFloat(value);\n    iva =\n      parseFloat(value) *\n      parseFloat(precios.iva < 10 ? \".0\" + precios.iva : \".\" + precios.iva);\n    ieps =\n      parseFloat(value) *\n      parseFloat(precios.ieps < 10 ? \".0\" + precios.ieps : \".\" + precios.ieps);\n    precio_con_impuesto = precio_sin_impuesto + iva + ieps;\n    precio_unitario_sin_impuesto =\n      precio_sin_impuesto / precios.unidad_de_compra.cantidad;\n    precio_unitario_con_impuesto =\n      precio_con_impuesto / precios.unidad_de_compra.cantidad;\n    if (!precios.iva_activo && !precios.ieps_activo) {\n      precio_con_impuesto = precio_sin_impuesto /*  / precios.unidad_de_compra.cantidad */;\n      precio_unitario_con_impuesto =\n        precio_sin_impuesto / precios.unidad_de_compra.cantidad;\n    }\n\n    if (isNaN(precio_unitario_sin_impuesto)) precio_unitario_sin_impuesto = 0;\n    if (isNaN(precio_unitario_con_impuesto)) precio_unitario_con_impuesto = 0;\n    if (isNaN(iva)) iva = 0;\n    if (isNaN(ieps)) ieps = 0;\n    /* if (isNaN(precio_con_impuesto)) precio_con_impuesto = 0;\n\t\tif (isNaN(precio_sin_impuesto)) precio_sin_impuesto = 0; */\n\n    setPrecioConImpuesto(parseFloat(precio_con_impuesto.toFixed(2)));\n    setPrecios({\n      ...precios,\n      precio_de_compra: {\n        ...precios.precio_de_compra,\n        precio_sin_impuesto: parseFloat(precio_sin_impuesto.toFixed(2)),\n        iva: parseFloat(iva.toFixed(2)),\n        ieps: parseFloat(ieps.toFixed(2)),\n        precio_con_impuesto: parseFloat(precio_con_impuesto.toFixed(2)),\n      },\n      unidad_de_compra: {\n        ...precios.unidad_de_compra,\n        precio_unitario_sin_impuesto: parseFloat(\n          precio_unitario_sin_impuesto.toFixed(2)\n        ),\n        precio_unitario_con_impuesto: parseFloat(\n          precio_unitario_con_impuesto.toFixed(2)\n        ),\n      },\n    });\n  };\n\n  /* ARMAR OBJETO DE UNIDAD DE COMPRA */\n  const obtenerUnidadCompra = (e, child) => {\n    if (e.target.name === \"unidad\") {\n      const { codigo_unidad, unidad } = child.props.unidad;\n      let precio =\n        precios.unidad_de_compra.cantidad * unidadVentaXDefecto.precio;\n      if (unidad === \"Caja\" || unidad === \"Costal\") {\n        setUnidadVentaSecundaria({\n          ...unidadVentaSecundaria,\n          precio: parseFloat(precio.toFixed(2)),\n          codigo_unidad,\n          unidad,\n          unidad_activa: true,\n          unidad_principal: true,\n        });\n        setUnidadVentaXDefecto({\n          ...unidadVentaXDefecto,\n          unidad: unidad === \"Caja\" ? \"Pz\" : \"kg\",\n          codigo_unidad: unidad === \"Caja\" ? \"H87\" : \"KGM\",\n          cantidad: 1,\n          precio: unidadVentaXDefecto.precio,\n          unidad_principal: false,\n        });\n        /* setPrecios({\n          ...precios,\n          unidad_de_compra: {\n            ...precios.unidad_de_compra,\n            unidad,\n            codigo_unidad,\n          },\n          inventario: {\n            ...precios.inventario,\n            unidad_de_inventario: unidad,\n            codigo_unidad,\n          },\n        }); */\n      } else {\n        setUnidadVentaXDefecto({\n          ...unidadVentaXDefecto,\n          unidad: unidad === \"Pz\" ? \"Pz\" : unidad === \"Lt\" ? \"Lt \": \"kg\",\n          codigo_unidad: unidad === \"Pz\" ? \"H87\" : unidad === \"Lt\" ? \"LTR\" : \"KGM\",\n          cantidad: 1,\n          precio: unidadVentaXDefecto.precio,\n          unidad_principal: true,\n        });\n        setUnidadVentaSecundaria({\n          ...unidadVentaSecundaria,\n          precio: parseFloat(precio.toFixed(2)),\n          codigo_unidad: unidad === \"Pz\" ? \"XBX\" : unidad === \"Lt\" ? \"LTR\" : \"KGM\",\n          unidad: unidad === \"Pz\" ? \"Caja\" : unidad === \"Caja\" ? \"LTR\" : \"Costal\",\n          unidad_activa: false,\n          unidad_principal: false,\n        });\n      }\n\n      /* setPrecios({\n          ...precios,\n          unidad_de_compra: {\n            ...precios.unidad_de_compra,\n            unidad: e.target.value,\n            cantidad: 1,\n          },\n          inventario: {\n            ...precios.inventario,\n            unidad_de_inventario: e.target.value,\n          },\n        }); */\n      setPrecios({\n        ...precios,\n        unidad_de_compra: {\n          ...precios.unidad_de_compra,\n          unidad,\n          codigo_unidad,\n          cantidad: 1,\n        },\n        inventario: {\n          ...precios.inventario,\n          unidad_de_inventario: unidad,\n          codigo_unidad,\n        },\n      });\n    } else {\n      if (!precios.iva_activo && !precios.ieps_activo) {\n        setPrecios({\n          ...precios,\n          unidad_de_compra: {\n            ...precios.unidad_de_compra,\n            [e.target.name]: parseFloat(e.target.value),\n            precio_unitario_sin_impuesto: parseFloat(\n              (\n                precios.precio_de_compra.precio_sin_impuesto / e.target.value\n              ).toFixed(2)\n            ),\n            precio_unitario_con_impuesto: parseFloat(\n              (\n                precios.precio_de_compra.precio_sin_impuesto / e.target.value\n              ).toFixed(2)\n            ),\n          },\n        });\n      } else {\n        setPrecios({\n          ...precios,\n          unidad_de_compra: {\n            ...precios.unidad_de_compra,\n            [e.target.name]: parseFloat(e.target.value),\n            precio_unitario_sin_impuesto: parseFloat(\n              (\n                precios.precio_de_compra.precio_sin_impuesto / e.target.value\n              ).toFixed(2)\n            ),\n            precio_unitario_con_impuesto: parseFloat(\n              (\n                precios.precio_de_compra.precio_con_impuesto / e.target.value\n              ).toFixed(2)\n            ),\n          },\n        });\n      }\n      if (\n        precios.unidad_de_compra.unidad === \"Caja\" ||\n        precios.unidad_de_compra.unidad === \"Costal\"\n      ) {\n        setUnidadVentaSecundaria({\n          ...unidadVentaSecundaria,\n          cantidad: parseFloat(e.target.value),\n        });\n      }\n      setUnidadVentaXDefecto({\n        ...unidadVentaXDefecto,\n        cantidad: 1,\n      });\n    }\n  };\n\n  useEffect(() => {\n    obtenerPrecioConImpuesto(PCI);\n  }, [PCI]);\n\n  useEffect(() => {\n    obtenerPrecioSinImpuesto(PSI);\n  }, [PSI]);\n\n  return (\n    <Box>\n      <div /* className={classes.input} */>\n        <Box mb={2}>\n          <Typography>\n            <b>Impuestos</b>\n          </Typography>\n          <Divider />\n        </Box>\n\n        <Grid container spacing={2}>\n          <Grid item md={4} xs={12}>\n            <Box>\n              <Typography noWrap className={classes.titulos}>\n                IVA\n              </Typography>\n              <TextField\n                fullWidth\n                disabled={!precios.iva_activo}\n                type=\"number\"\n                InputProps={{\n                  inputProps: { min: 0 },\n                  startAdornment: (\n                    <InputAdornment position=\"start\">\n                      <Checkbox\n                        checked={precios.iva_activo}\n                        onChange={obtenerIva}\n                        name=\"iva_activo\"\n                      />\n                      <Typography>%</Typography>\n                    </InputAdornment>\n                  ),\n                }}\n                size=\"small\"\n                name=\"iva\"\n                id=\"form-producto-iva\"\n                variant=\"outlined\"\n                value={precios.iva}\n                onChange={obtenerIva}\n                onFocus={(e) => {\n                  const { name, value } = e.target;\n                  if (parseFloat(value) === 0) {\n                    setPrecios({\n                      ...precios,\n                      [name]: \"\",\n                    });\n                  }\n                }}\n                onBlur={(e) => {\n                  const { name, value } = e.target;\n                  if (!value) {\n                    setPrecios({\n                      ...precios,\n                      [name]: 16,\n                    });\n                  }\n                }}\n                error={precios.iva === \"\"}\n              />\n            </Box>\n          </Grid>\n          <Grid item md={4} xs={12}>\n            <Box>\n              <Typography noWrap className={classes.titulos}>\n                porcentaje IEPS\n              </Typography>\n              <TextField\n                disabled={!precios.ieps_activo}\n                fullWidth\n                type=\"number\"\n                InputProps={{\n                  inputProps: { min: 0 },\n                  startAdornment: (\n                    <InputAdornment position=\"start\">\n                      <Checkbox\n                        checked={precios.ieps_activo}\n                        onChange={obtenerIeps}\n                        name=\"ieps_activo\"\n                      />\n                      <Typography>%</Typography>\n                    </InputAdornment>\n                  ),\n                }}\n                size=\"small\"\n                name=\"ieps\"\n                id=\"form-producto-ieps\"\n                variant=\"outlined\"\n                value={precios.ieps}\n                onChange={obtenerIeps}\n                onFocus={(e) => {\n                  const { name, value } = e.target;\n                  if (parseFloat(value) === 0) {\n                    setPrecios({\n                      ...precios,\n                      [name]: \"\",\n                    });\n                  }\n                }}\n                onBlur={(e) => {\n                  const { name, value } = e.target;\n                  if (!value) {\n                    setPrecios({\n                      ...precios,\n                      [name]: 0,\n                    });\n                  }\n                }}\n                error={precios.ieps === \"\"}\n              />\n            </Box>\n          </Grid>\n          {/* \n          <Grid item md={4} xs={12}>\n            <Box display=\"flex\" alignItems=\"flex-end\" height=\"100%\" ml={1}>\n              <Alert severity=\"info\">Selecciona los impuestos aplicables</Alert>\n            </Box>\n          </Grid> */}\n        </Grid>\n        <Box my={3}>\n          <Typography>\n            <b>Precios y unidad de compra</b>\n          </Typography>\n          <Divider />\n        </Box>\n\n        <Grid container spacing={2}>\n          <Grid item sm={4} md={2} xs={12}>\n            <Box>\n              <Typography noWrap className={classes.titulos}>\n                Unidad Compra\n              </Typography>\n              <Box display=\"flex\">\n                <FormControl\n                  variant=\"outlined\"\n                  fullWidth\n                  size=\"small\"\n                  error={validacion.error && !precios.unidad_de_compra.unidad}\n                >\n                  {precios.granel ? (\n                    <Select\n                      disabled={update}\n                      id=\"form-producto-categoria\"\n                      name=\"unidad\"\n                      value={precios.unidad_de_compra.unidad}\n                      onChange={obtenerUnidadCompra}\n                    >\n                      {unitCodes_granel.map((res, index) => (\n                        <MenuItem key={index} unidad={res} value={res.unidad}>\n                          {res.unidad}\n                        </MenuItem>\n                      ))}\n                    </Select>\n                  ) : (\n                    <Select\n                      disabled={update}\n                      id=\"form-producto-categoria\"\n                      name=\"unidad\"\n                      value={precios.unidad_de_compra.unidad}\n                      onChange={obtenerUnidadCompra}\n                    >\n                      {unitCodes.map((res, index) => (\n                        <MenuItem key={index} unidad={res} value={res.unidad}>\n                          {res.unidad}\n                        </MenuItem>\n                      ))}\n                    </Select>\n                  )}\n                  <FormHelperText>{validacion.message}</FormHelperText>\n                </FormControl>\n              </Box>\n            </Box>\n          </Grid>\n          <Grid item sm={4} md={2} xs={12}>\n            <Box>\n              <Typography noWrap align=\"center\" className={classes.titulos}>\n                Unidad Conversion\n              </Typography>\n              <Typography align=\"center\" variant=\"h6\">\n                <b>\n                  {precios.unidad_de_compra.unidad === \"Caja\"\n                    ? \"Pz\"\n                    : precios.unidad_de_compra.unidad === \"Costal\"\n                    ? \"Kg\"\n                    : precios.unidad_de_compra.unidad}\n                </b>\n              </Typography>\n            </Box>\n          </Grid>\n          <Grid item sm={4} md={2} xs={12}>\n            <Box>\n              <Typography noWrap className={classes.titulos}>\n                <span className={classes.required}>* </span>Factor por Unidad\n              </Typography>\n              <TextField\n                fullWidth\n                disabled={\n                  precios.unidad_de_compra.unidad === \"Caja\" ||\n                  precios.unidad_de_compra.unidad === \"Costal\"\n                    ? false\n                    : true\n                }\n                type=\"number\"\n                InputProps={{ inputProps: { min: 1 } }}\n                size=\"small\"\n                error={validacion.error && !precios.unidad_de_compra.cantidad}\n                name=\"cantidad\"\n                id=\"form-producto-cantidad\"\n                variant=\"outlined\"\n                value={precios.unidad_de_compra.cantidad}\n                helperText={validacion.message}\n                onChange={obtenerUnidadCompra}\n              />\n            </Box>\n          </Grid>\n          <Grid item sm={6} md={3} xs={12}>\n            <Box>\n              <Typography noWrap className={classes.titulos}>\n                <span className={classes.required}>* </span>Precio sin impuestos\n              </Typography>\n              <TextField\n                type=\"number\"\n                InputProps={{\n                  inputProps: { min: 0 },\n                  startAdornment: (\n                    <InputAdornment position=\"start\">$</InputAdornment>\n                  ),\n                }}\n                fullWidth\n                size=\"small\"\n                error={validacion.error && !precioSinImpuesto}\n                name=\"precio_sin_impuesto\"\n                id=\"form-producto-precio_sin_impuesto\"\n                variant=\"outlined\"\n                value={precioSinImpuesto}\n                helperText={validacion.message}\n                onChange={(e) => setPrecioSinImpuesto(e.target.value)}\n                onFocus={(e) => {\n                  const { value } = e.target;\n                  if (parseFloat(value) === 0) {\n                    setPrecioSinImpuesto(\"\");\n                  }\n                }}\n                onBlur={(e) => {\n                  const { value } = e.target;\n                  if (!value) {\n                    setPrecioSinImpuesto(0);\n                  }\n                }}\n              />\n            </Box>\n          </Grid>\n          <Grid item sm={6} md={3} xs={12}>\n            <Box>\n              <Typography noWrap className={classes.titulos}>\n                <span className={classes.required}>* </span>Precio con impuestos\n              </Typography>\n              <TextField\n                fullWidth\n                disabled={!precios.iva_activo && !precios.ieps_activo}\n                type=\"number\"\n                InputProps={{\n                  inputProps: { min: 0 },\n                  startAdornment: (\n                    <InputAdornment position=\"start\">$</InputAdornment>\n                  ),\n                }}\n                size=\"small\"\n                error={validacion.error && !precioConImpuesto}\n                name=\"precio_con_impuesto\"\n                id=\"form-producto-precio_con_impuesto\"\n                variant=\"outlined\"\n                value={precioConImpuesto}\n                helperText={validacion.message}\n                onChange={(e) => setPrecioConImpuesto(e.target.value)}\n                onFocus={(e) => {\n                  const { value } = e.target;\n                  if (parseFloat(value) === 0) {\n                    setPrecioConImpuesto(\"\");\n                  }\n                }}\n                onBlur={(e) => {\n                  const { value } = e.target;\n                  if (!value) {\n                    setPrecioConImpuesto(0);\n                  }\n                }}\n              />\n            </Box>\n          </Grid>\n        </Grid>\n        <Box my={3} />\n        <Grid container spacing={2}>\n          <Grid item md={2} xs={12}>\n            <Box>\n              <Typography align=\"center\" className={classes.titulos}>\n                IVA\n              </Typography>\n              <Typography align=\"center\" variant=\"h6\">\n                <b>$ {parseFloat(precios.precio_de_compra.iva).toFixed(2)}</b>\n              </Typography>\n            </Box>\n          </Grid>\n          <Grid item md={2} xs={12}>\n            <Box>\n              <Typography align=\"center\" className={classes.titulos}>\n                IEPS\n              </Typography>\n              <Typography align=\"center\" variant=\"h6\">\n                <b>$ {parseFloat(precios.precio_de_compra.ieps).toFixed(2)}</b>\n              </Typography>\n            </Box>\n          </Grid>\n          <Grid item md={4} xs={12}>\n            <Box>\n              <Typography align=\"center\" className={classes.titulos}>\n                Precio unitario sin impuestos\n              </Typography>\n              <Typography align=\"center\" variant=\"h6\">\n                <b>\n                  ${\" \"}\n                  {parseFloat(\n                    precios.unidad_de_compra.precio_unitario_sin_impuesto\n                  ).toFixed(2)}\n                </b>\n              </Typography>\n            </Box>\n          </Grid>\n          <Grid item md={4} xs={12}>\n            <Box>\n              <Typography align=\"center\" className={classes.titulos}>\n                Precio unitario con impuestos\n              </Typography>\n              <Typography align=\"center\" variant=\"h6\">\n                <b>\n                  ${\" \"}\n                  {parseFloat(\n                    precios.unidad_de_compra.precio_unitario_con_impuesto\n                  ).toFixed(2)}\n                </b>\n              </Typography>\n            </Box>\n          </Grid>\n        </Grid>\n        <Box my={2}>\n          <Typography>\n            <b>Precios de venta</b>\n          </Typography>\n          <Divider />\n        </Box>\n\n        <Box display=\"flex\">\n          <PreciosDeVenta />\n        </Box>\n        <Box my={2}>\n          <Typography>\n            <b>Unidades de venta</b>\n          </Typography>\n          <Divider />\n        </Box>\n        <Box>\n          <PreciosDeCompra />\n        </Box>\n      </div>\n    </Box>\n  );\n}\n","import React, { createContext, useState } from \"react\";\nimport { initial_state_precios } from \"../Catalogos/initialStatesProducto\";\nimport moment from \"moment\";\n\nexport const ComprasContext = createContext();\n\nexport const ComprasProvider = ({ children }) => {\n  const [datosProducto, setDatosProducto] = useState({\n    producto: {},\n    costo: 0,\n    cantidad: 1,\n    cantidad_regalo: 0,\n    unidad_regalo: \"\",\n    cantidad_total: 0,\n    descuento_porcentaje: 0,\n    descuento_precio: 0,\n    iva_total: 0,\n    ieps_total: 0,\n    subtotal: 0,\n    impuestos: 0,\n    total: 0,\n    mantener_precio: true,\n    subtotal_descuento: 0,\n    total_descuento: 0,\n  });\n\n  const [datosCompra, setDatosCompra] = useState({\n    productos: [],\n    proveedor: {},\n    en_espera: false,\n    fecha_registro: moment().locale(\"es-mx\").format(\"YYYY-MM-DD\"),\n    almacen: {},\n    compra_credito: false,\n    fecha_vencimiento_credito: moment().locale(\"es-mx\").format(\"YYYY-MM-DD\"),\n    credito_pagado: false,\n    saldo_credito_pendiente: 0,\n    forma_pago: \"\",\n    descuento_aplicado: false,\n    descuento: {\n      porcentaje: 0,\n      cantidad_descontada: 0,\n      precio_con_descuento: 0,\n    },\n    subtotal: 0,\n    impuestos: 0,\n    total: 0,\n  });\n\n  const [preciosVenta, setPreciosVenta] = useState([\n    {\n      numero_precio: 1,\n      utilidad: 0,\n      precio_neto: 0,\n      unidad_mayoreo: 0,\n      precio_venta: 0,\n      iva_precio: 0,\n      ieps_precio: 0,\n    },\n    {\n      numero_precio: 2,\n      utilidad: 0,\n      precio_neto: 0,\n      unidad_mayoreo: 0,\n      precio_venta: 0,\n      iva_precio: 0,\n      ieps_precio: 0,\n    },\n    {\n      numero_precio: 3,\n      utilidad: 0,\n      precio_neto: 0,\n      unidad_mayoreo: 0,\n      precio_venta: 0,\n      iva_precio: 0,\n      ieps_precio: 0,\n    },\n    {\n      numero_precio: 4,\n      utilidad: 0,\n      precio_neto: 0,\n      unidad_mayoreo: 0,\n      precio_venta: 0,\n      iva_precio: 0,\n      ieps_precio: 0,\n    },\n    {\n      numero_precio: 5,\n      utilidad: 0,\n      precio_neto: 0,\n      unidad_mayoreo: 0,\n      precio_venta: 0,\n      iva_precio: 0,\n      ieps_precio: 0,\n    },\n    {\n      numero_precio: 6,\n      utilidad: 0,\n      precio_neto: 0,\n      unidad_mayoreo: 0,\n      precio_venta: 0,\n      iva_precio: 0,\n      ieps_precio: 0,\n    },\n  ]);\n\n  const [productoOriginal, setProductoOriginal] = useState({\n    precios: initial_state_precios,\n  });\n  const [productosCompra, setProductosCompra] = useState([]);\n  const [isEditing, setIsEditing] = useState({});\n  const [editFinish, setEditFinish] = useState(false);\n  const [costo, setCosto] = useState(0);\n  const [cantidad, setCantidad] = useState(1);\n  const [issue, setIssue] = useState(false);\n  const [loadingProductos, setLoadingProductos] = useState(false);\n\n  const [descuentoCompra, setDescuentoCompra] = useState({\n    subtotal: 0,\n    total: 0,\n    descuento_aplicado: false,\n    porcentaje: 0,\n    cantidad_descontada: 0,\n    precio_con_descuento: 0,\n  });\n\n  return (\n    <ComprasContext.Provider\n      value={{\n        datosProducto,\n        setDatosProducto,\n        productosCompra,\n        setProductosCompra,\n        datosCompra,\n        setDatosCompra,\n        productoOriginal,\n        setProductoOriginal,\n        preciosVenta,\n        setPreciosVenta,\n        isEditing,\n        setIsEditing,\n        editFinish,\n        setEditFinish,\n        costo,\n        setCosto,\n        cantidad,\n        setCantidad,\n        issue,\n        setIssue,\n        loadingProductos,\n        setLoadingProductos,\n        descuentoCompra,\n        setDescuentoCompra,\n      }}\n    >\n      {children}\n    </ComprasContext.Provider>\n  );\n};\n","import React, {\n  Fragment,\n  useContext,\n  useEffect,\n  useRef,\n  useState,\n} from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Input from \"@material-ui/core/Input\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Checkbox from \"@material-ui/core/Checkbox\";\nimport { RegProductoContext } from \"../../../../../context/Catalogos/CtxRegProducto\";\nimport {\n  Box,\n  Chip,\n  IconButton,\n  Tooltip,\n  Typography,\n  Zoom,\n} from \"@material-ui/core\";\nimport {\n  Cached,\n  Close,\n  Edit,\n  LocalOffer,\n  LocalOfferOutlined,\n} from \"@material-ui/icons\";\nimport { alpha } from \"@material-ui/core/styles/colorManipulator\";\n\nconst compareFunction = (a, b) => {\n  if (a.medida.talla && b.medida.talla) {\n    return a.medida.talla.localeCompare(b.medida.talla);\n  }\n};\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: \"100%\",\n  },\n  paper: {\n    width: \"100%\",\n    marginBottom: theme.spacing(2),\n  },\n  table: {\n    minWidth: 750,\n  },\n  container: {\n    maxHeight: \"65vh\",\n  },\n  tableRow: {\n    \"&.Mui-selected, &.Mui-selected:hover\": {\n      backgroundColor: alpha(theme.palette.primary.main, 0.1),\n    },\n  },\n  visuallyHidden: {\n    border: 0,\n    clip: \"rect(0 0 0 0)\",\n    height: 1,\n    margin: -1,\n    overflow: \"hidden\",\n    padding: 0,\n    position: \"absolute\",\n    top: 20,\n    width: 1,\n  },\n  colorContainer: {\n    border: \"1px solid rgba(0,0,0, .3)\",\n    height: 30,\n    width: 30,\n    borderRadius: \"15%\",\n  },\n  input: {\n    \"& input[type=number]\": {\n      \"-moz-appearance\": \"textfield\",\n    },\n    \"& input[type=number]::-webkit-outer-spin-button\": {\n      \"-webkit-appearance\": \"none\",\n      margin: 0,\n    },\n    \"& input[type=number]::-webkit-inner-spin-button\": {\n      \"-webkit-appearance\": \"none\",\n      margin: 0,\n    },\n  },\n}));\n\nexport default function TablaPresentaciones({\n  from,\n  setOnUpdate,\n  onUpdate,\n  withoutPrice,\n  onlyPrice,\n}) {\n  const classes = useStyles();\n  const { presentaciones, setPresentaciones } = useContext(RegProductoContext);\n\n  let mostrar_presentaciones = [...presentaciones].sort((a, b) =>\n    compareFunction(a, b)\n  );\n\n  /* useEffect(() => {\n    let nuevo_array = [];\n    mostrar_presentaciones.forEach((element) => {\n      let obj = {\n        codigo_barras: element.codigo_barras,\n        cantidad: parseFloat(element.cantidad),\n        descuento: element.descuento,\n        descuento_activo: element.descuento_activo,\n        color: element.color,\n        existencia: element.existencia,\n        medida: element.medida,\n        nombre_comercial: element.nombre_comercial,\n      };\n\n      if (element.descuento_activo === true) {\n        obj.aplicar_descuento = true;\n        obj.precio = parseFloat(element.descuento.precio_neto);\n      } else {\n        obj.aplicar_descuento = false;\n        obj.precio = parseFloat(element.precio);\n      }\n      nuevo_array.push(obj);\n    });\n    setPresentaciones(nuevo_array);\n  }, []); */\n\n  return (\n    <div className={classes.root}>\n      <Paper className={classes.paper}>\n        <TableContainer className={classes.container}>\n          <Table\n            className={classes.table}\n            aria-labelledby=\"tableTitle\"\n            size=\"small\"\n            aria-label=\"enhanced table\"\n            stickyHeader\n          >\n            <TableHead>\n              <TableRow>\n                <TableCell>Existencia</TableCell>\n                <TableCell>Cdigo de barras</TableCell>\n                <TableCell width={200}>Nombre</TableCell>\n                <TableCell padding=\"checkbox\">Medida</TableCell>\n                <TableCell padding=\"checkbox\">Color</TableCell>\n                {!withoutPrice ? (\n                  <Fragment>\n                    <TableCell>Precio</TableCell>\n                    <TableCell padding=\"checkbox\">Aplicar descuento</TableCell>\n                  </Fragment>\n                ) : null}\n                {!onlyPrice ? (\n                  <Fragment>\n                    {from && from === \"compra\" ? (\n                      <TableCell padding=\"checkbox\">Existente</TableCell>\n                    ) : null}\n                    <TableCell padding=\"checkbox\">Cantidad</TableCell>\n                  </Fragment>\n                ) : null}\n                <TableCell padding=\"checkbox\">Editar</TableCell>\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {mostrar_presentaciones.map((producto, index) => {\n                return (\n                  <RenderPresentacionesRows\n                    key={index}\n                    producto={producto}\n                    index={index}\n                    from={from}\n                    setOnUpdate={setOnUpdate}\n                    onUpdate={onUpdate}\n                    withoutPrice={withoutPrice}\n                    onlyPrice={onlyPrice}\n                  />\n                );\n              })}\n            </TableBody>\n          </Table>\n        </TableContainer>\n      </Paper>\n    </div>\n  );\n}\n\nconst RenderPresentacionesRows = ({\n  producto,\n  index,\n  from,\n  setOnUpdate,\n  onUpdate,\n  withoutPrice,\n  onlyPrice,\n}) => {\n  const { presentaciones, setPresentaciones, preciosP, precios } = useContext(\n    RegProductoContext\n  );\n  const [disabledInput, setDisabledInput] = useState(true);\n  const classes = useStyles();\n  const textfield = useRef(null);\n\n  const copy_presentaciones = [...presentaciones].sort((a, b) =>\n    compareFunction(a, b)\n  );\n  const copy_element_presentacion = { ...copy_presentaciones[index] };\n  const copy_element_presentacion_descuento = {\n    ...copy_presentaciones[index].descuento,\n  };\n  const copy_producto = { ...producto };\n\n  /* if(from && from === 'compra'){\n\t\tcopy_producto.cantidad_nueva = 0\n\t} */\n\n  const handleEditCancel = () => {\n    if (!copy_producto.cantidad) {\n      copy_element_presentacion.cantidad = 0;\n    }\n    if (!copy_producto.cantidad_nueva) {\n      copy_element_presentacion.cantidad_nueva = 0;\n    }\n    if (!copy_producto.precio) {\n      copy_element_presentacion.precio = preciosP[0].precio_neto;\n    }\n    copy_presentaciones.splice(index, 1, copy_element_presentacion);\n    setPresentaciones(copy_presentaciones);\n    setDisabledInput(true);\n  };\n\n  const obtenerDatos = (e) => {\n    const { name, value } = e.target;\n    if (name === \"cantidad\") {\n      if (!value) {\n        copy_element_presentacion.cantidad = \"\";\n        copy_element_presentacion.existencia = false;\n        copy_presentaciones.splice(index, 1, copy_element_presentacion);\n        setPresentaciones(copy_presentaciones);\n        return;\n      }\n      if (value === \"0\") {\n        copy_element_presentacion.existencia = false;\n      } else {\n        copy_element_presentacion.existencia = true;\n      }\n      copy_element_presentacion.cantidad = parseFloat(value);\n    } else if (name === \"cantidad_nueva\") {\n      if (!value) {\n        copy_element_presentacion.cantidad_nueva = \"\";\n        copy_element_presentacion.existencia = copy_producto.existencia;\n        copy_presentaciones.splice(index, 1, copy_element_presentacion);\n        setPresentaciones(copy_presentaciones);\n        return;\n      }\n      copy_element_presentacion.cantidad_nueva = parseFloat(value);\n      copy_element_presentacion.existencia = true;\n    } else if (name === \"precio\") {\n      if (!value) {\n        copy_element_presentacion.precio = \"\";\n        copy_presentaciones.splice(index, 1, copy_element_presentacion);\n        setPresentaciones(copy_presentaciones);\n        return;\n      }\n      let precio_neto = parseFloat(value);\n      let { iva, ieps } = precios;\n      let suma_impuestos = parseFloat(`0.${iva < 10 ? `0${iva}` : iva}`) + parseFloat(`0.${ieps < 10 ? `0${ieps}` : ieps}`);\n      let precio_venta = parseFloat((precio_neto / (suma_impuestos+1)).toFixed(2));\n      let iva_precio = parseFloat((precio_venta * parseFloat(`0.${iva < 10 ? `0${iva}` : iva}`)).toFixed(2));\n      let ieps_precio = parseFloat((precio_venta * parseFloat(`0.${ieps < 10 ? `0${ieps}` : ieps}`)).toFixed(2));\n      let PUCSI = precios.unidad_de_compra.precio_unitario_sin_impuesto;\n      let utilidad = parseFloat((((precio_venta - PUCSI) / PUCSI) * 100).toFixed(2));\n      \n\n      let {descuento_activo, descuento} = copy_element_presentacion;\n      if (descuento_activo && descuento_activo === true) {\n        let new_precio_venta_desc = (precio_venta * descuento.porciento) / 100;\n        let new_iva_precio =\n          new_precio_venta_desc * parseFloat(`0.${iva < 10 ? `0${iva}` : iva}`);\n        let new_ieps_precio =\n          new_precio_venta_desc * parseFloat(`0.${ieps < 10 ? `0${ieps}` : ieps}`);\n        let new_impuestos = new_iva_precio + new_ieps_precio;\n        let precio_con_descuento = new_precio_venta_desc + new_impuestos;\n\n        copy_element_presentacion_descuento.precio_neto = parseFloat(\n          (precio_con_descuento).toFixed(2)\n        );\n        copy_element_presentacion.precio = parseFloat(value);\n        copy_element_presentacion.descuento = copy_element_presentacion_descuento;\n      } else {\n        copy_element_presentacion.precio = parseFloat(value);\n      }\n      copy_element_presentacion.precio_unidad.precio_venta = precio_venta;\n      copy_element_presentacion.precio_unidad.precio_neto = precio_neto;\n      copy_element_presentacion.precio_unidad.utilidad = utilidad;\n      copy_element_presentacion.precio_unidad.iva_precio = iva_precio;\n      copy_element_presentacion.precio_unidad.ieps_precio = ieps_precio;\n    } else {\n      if (!value) {\n        copy_element_presentacion.codigo_barras = \"\";\n        copy_presentaciones.splice(index, 1, copy_element_presentacion);\n        setPresentaciones(copy_presentaciones);\n        return;\n      }\n      copy_element_presentacion.codigo_barras = value;\n    }\n    copy_presentaciones.splice(index, 1, copy_element_presentacion);\n    setPresentaciones(copy_presentaciones);\n  };\n\n  const GenCodigoBarras = () => {\n    const max = 999999999999;\n    const min = 100000000000;\n    const codigo_barras = Math.floor(\n      Math.random() * (max - min + 1) + min\n    ).toString();\n    copy_element_presentacion.codigo_barras = codigo_barras;\n    copy_presentaciones.splice(index, 1, copy_element_presentacion);\n    setPresentaciones(copy_presentaciones);\n  };\n\n  const actionButton = () => {\n    if (!disabledInput) {\n      handleEditCancel();\n      /* quitar del array\t */\n      onUpdate.splice(onUpdate.length - 1, 1);\n      setOnUpdate([...onUpdate]);\n    } else {\n      setDisabledInput(!disabledInput);\n      /*  agregar al array */\n      setOnUpdate([...onUpdate, index]);\n    }\n  };\n\n  const aplicarDescuento = (value) => {\n    copy_element_presentacion.descuento_activo = value;\n\n    let precio_con_descuento = 0;\n    let { iva, ieps } = precios;\n    let {descuento, precio} = copy_element_presentacion;\n    let suma =\n      parseFloat(`0.${iva < 10 ? `0${iva}` : iva}`) +\n      parseFloat(`0.${ieps < 10 ? `0${ieps}` : ieps}`);\n    let precio_venta = parseFloat((precio / (suma + 1)).toFixed(2));\n\n    if(value){\n      let new_precio_venta_desc = (precio_venta * descuento.porciento) / 100;\n        let new_iva_precio =\n          new_precio_venta_desc * parseFloat(`0.${iva < 10 ? `0${iva}` : iva}`);\n        let new_ieps_precio =\n          new_precio_venta_desc * parseFloat(`0.${ieps < 10 ? `0${ieps}` : ieps}`);\n        let new_impuestos = new_iva_precio + new_ieps_precio;\n        precio_con_descuento = new_precio_venta_desc + new_impuestos;\n    }else{\n      precio_con_descuento = precio\n    }\n    \n    copy_element_presentacion_descuento.precio_neto = parseFloat(\n      (precio_con_descuento).toFixed(2)\n    );\n    /* copy_element_presentacion.precio = parseFloat(value); */\n    copy_element_presentacion.descuento = copy_element_presentacion_descuento;\n  \n    copy_presentaciones.splice(index, 1, copy_element_presentacion);\n    setPresentaciones(copy_presentaciones);\n  };\n\n  return (\n    <TableRow hover selected={!disabledInput} className={classes.tableRow}>\n      <TableCell align=\"center\" padding=\"checkbox\">\n        <Checkbox checked={copy_producto.existencia} color=\"primary\" />\n      </TableCell>\n      <TableCell width={220}>\n        <Box display=\"flex\">\n          <Input\n            inputRef={textfield}\n            onChange={(e) => obtenerDatos(e)}\n            /* disabled={disabledInput} */\n            value={copy_producto.codigo_barras}\n            type=\"number\"\n            name=\"codigo_barras\"\n            disabled={\n              presentaciones.length > 0 && !copy_producto.nuevo\n                ? true\n                : disabledInput\n            }\n          />\n          {presentaciones.length === 0 && copy_producto.nuevo ? (\n            <IconButton\n              color=\"primary\"\n              size=\"small\"\n              onClick={() => GenCodigoBarras()}\n            >\n              <Cached />\n            </IconButton>\n          ) : presentaciones.length > 0 && copy_producto.nuevo ? (\n            <IconButton\n              color=\"primary\"\n              size=\"small\"\n              onClick={() => GenCodigoBarras()}\n            >\n              <Cached />\n            </IconButton>\n          ) : null}\n        </Box>\n      </TableCell>\n      <TableCell width={200}>{copy_producto.nombre_comercial}</TableCell>\n      <TableCell padding=\"checkbox\">\n        {copy_producto.medida._id ? (\n          <Chip label={copy_producto.medida.talla} color=\"primary\" />\n        ) : (\n          \"\"\n        )}\n      </TableCell>\n      <TableCell padding=\"checkbox\">\n        {copy_producto.color._id ? (\n          <Tooltip\n            title={copy_producto.color.nombre}\n            placement=\"top\"\n            arrow\n            TransitionComponent={Zoom}\n          >\n            <div\n              className={classes.colorContainer}\n              style={{\n                backgroundColor: copy_producto.color.hex,\n              }}\n            />\n          </Tooltip>\n        ) : null}\n      </TableCell>\n      {!withoutPrice ? (\n        <Fragment>\n          <TableCell width={110} className={classes.input}>\n            <Input\n              inputRef={textfield}\n              onChange={(e) => obtenerDatos(e)}\n              disabled={disabledInput}\n              value={copy_producto.precio}\n              type=\"number\"\n              name=\"precio\"\n            />\n          </TableCell>\n          <TableCell width={200}>\n            <Box display=\"flex\" alignItems=\"center\">\n              {copy_producto.descuento_activo !== undefined &&\n              copy_producto.descuento_activo !== null ? (\n                <Fragment>\n                  <Checkbox\n                    checked={\n                      copy_producto.descuento_activo === true\n                        ? copy_producto.descuento_activo\n                        : false\n                    }\n                    onChange={(e) => aplicarDescuento(e.target.checked)}\n                    icon={<LocalOfferOutlined />}\n                    checkedIcon={<LocalOffer />}\n                    inputProps={{ \"aria-label\": \"check descuento\" }}\n                    color=\"primary\"\n                    disabled={copy_producto.descuento_activo === null}\n                  />\n                  <Typography\n                    color={\n                      copy_producto.descuento_activo === true\n                        ? \"primary\"\n                        : \"textSecondary\"\n                    }\n                  >\n                    %\n                    {parseFloat(\n                      copy_producto.descuento !== null\n                        ? copy_producto.descuento.porciento\n                        : 0\n                    )}{\" \"}\n                    $\n                    {parseFloat(\n                      copy_producto.descuento !== null\n                        ? copy_producto.descuento.precio_neto\n                        : 0\n                    )}\n                  </Typography>\n                </Fragment>\n              ) : null}\n            </Box>\n          </TableCell>\n        </Fragment>\n      ) : null}\n      {!onlyPrice ? (\n        <Fragment>\n          {from && from === \"compra\" ? (\n            <Fragment>\n              <TableCell padding=\"checkbox\">{producto.cantidad}</TableCell>\n              <TableCell padding=\"checkbox\">\n                <Input\n                  inputRef={textfield}\n                  onChange={(e) => obtenerDatos(e)}\n                  disabled={disabledInput}\n                  value={copy_producto.cantidad_nueva}\n                  type=\"tel\"\n                  name=\"cantidad_nueva\"\n                />\n              </TableCell>\n            </Fragment>\n          ) : (\n            <TableCell padding=\"checkbox\">\n              <Input\n                inputRef={textfield}\n                onChange={(e) => obtenerDatos(e)}\n                disabled={disabledInput}\n                value={copy_producto.cantidad}\n                type=\"tel\"\n                name=\"cantidad\"\n              />\n            </TableCell>\n          )}\n        </Fragment>\n      ) : null}\n      <TableCell padding=\"checkbox\">\n        <IconButton size=\"small\" onClick={() => actionButton()}>\n          {!disabledInput ? <Close /> : <Edit />}\n        </IconButton>\n      </TableCell>\n    </TableRow>\n  );\n};\n","import React, { Fragment, useContext, useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Tabs from \"@material-ui/core/Tabs\";\nimport Tab from \"@material-ui/core/Tab\";\nimport Box from \"@material-ui/core/Box\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport Slide from \"@material-ui/core/Slide\";\nimport FormularioPrecios from \"../../../Catalogos/Producto/PreciosVenta/registrarInfoAdicional\";\nimport { Close, LocalAtm, SquareFoot } from \"@material-ui/icons\";\nimport { ComprasContext } from \"../../../../../context/Compras/comprasContext\";\nimport Done from \"@material-ui/icons/Done\";\nimport { RegProductoContext } from \"../../../../../context/Catalogos/CtxRegProducto\";\nimport { CircularProgress, DialogTitle } from \"@material-ui/core\";\nimport TablaPresentaciones from \"../../../Catalogos/Producto/TallasColores/TablaPresentaciones\";\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nfunction TabPanel(props) {\n  const { children, value, index, ...other } = props;\n\n  return (\n    <div\n      style={{ height: \"80vh\" }}\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`scrollable-force-tabpanel-${index}`}\n      aria-labelledby={`scrollable-force-tab-${index}`}\n      {...other}\n    >\n      {value === index && <Box p={3}>{children}</Box>}\n    </div>\n  );\n}\n\nTabPanel.propTypes = {\n  children: PropTypes.node,\n  index: PropTypes.any.isRequired,\n  value: PropTypes.any.isRequired,\n};\n\nfunction a11yProps(index) {\n  return {\n    id: `scrollable-force-tab-${index}`,\n    \"aria-controls\": `scrollable-force-tabpanel-${index}`,\n  };\n}\n\nexport default function AlertDialogSlide({ agregarCompra, handleClose, cargando }) {\n  const [open, setOpen] = useState(false);\n  const [onUpdate, setOnUpdate] = useState([]);\n  const { datosProducto, productoOriginal /* setDatosProducto */ } = useContext(\n    ComprasContext\n  );\n  const {\n    precios,\n    setPrecios,\n    setUnidadesVenta,\n    setPreciosP,\n    setUnidadVentaXDefecto,\n    setUnidadVentaSecundaria\n  } = useContext(RegProductoContext);\n\n  const toggleDrawer = () => setOpen(!open);\n\n  const resetProducto = () => {\n    /* SET STATES WHEN UPDATING */\n    const { precios_producto, ...new_precios } = productoOriginal.precios;\n    const { unidades_de_venta } = productoOriginal;\n    let unidades_secundaria = productoOriginal.unidades_de_venta.filter(\n      (res) => res.default === false\n    );\n    let unidadxdefecto = productoOriginal.unidades_de_venta.filter(\n      (res) => res.default === true\n    );\n    /* setDatosProducto({...datosProducto, mantener_precio: true}) */\n    setPrecios(new_precios);\n    setUnidadesVenta(unidades_de_venta);\n    setPreciosP(productoOriginal.precios.precios_producto);\n    setUnidadVentaXDefecto(unidadxdefecto[0]);\n    setUnidadVentaSecundaria(unidades_secundaria[0]);\n    toggleDrawer();\n  };\n\n  const actualizarContextProducto = () => {\n    toggleDrawer();\n    let precio_unitario_con_impuesto =\n      datosProducto.costo / precios.unidad_de_compra.cantidad;\n    let precio_unitario_sin_impuesto =\n      precios.precio_de_compra.precio_sin_impuesto /\n      precios.unidad_de_compra.cantidad;\n\n    if (isNaN(precio_unitario_sin_impuesto)) precio_unitario_sin_impuesto = 0;\n    if (isNaN(precio_unitario_con_impuesto)) precio_unitario_con_impuesto = 0;\n\n    setPrecios({\n      ...precios,\n      precio_de_compra: {\n        ...precios.precio_de_compra,\n        precio_con_impuesto: datosProducto.costo,\n      },\n      unidad_de_compra: {\n        ...precios.unidad_de_compra,\n        precio_unitario_con_impuesto: parseFloat(\n          precio_unitario_con_impuesto.toFixed(6)\n        ),\n        precio_unitario_sin_impuesto: parseFloat(\n          precio_unitario_sin_impuesto.toFixed(6)\n        ),\n      },\n    });\n  };\n\n  const [value, setValue] = useState(0);\n\n  const handleChange = (event, newValue) => {\n    setValue(newValue);\n  };\n\n  return (\n    <Fragment>\n      <Button\n        color=\"primary\"\n        size=\"medium\"\n        onClick={() => actualizarContextProducto()}\n      >\n        Actualizar precios\n      </Button>\n      <Dialog\n        open={open}\n        TransitionComponent={Transition}\n        keepMounted\n        onClose={() => resetProducto()}\n        aria-labelledby=\"alert-precios-compra-title\"\n        aria-describedby=\"alert-precios-compra-description\"\n        fullWidth\n        maxWidth=\"lg\"\n      >\n        {datosProducto.producto.datos_generales &&\n        datosProducto.producto.datos_generales.tipo_producto !== \"OTROS\" ? (\n          <DialogTitle style={{ padding: 0 }}>\n            <AppBar position=\"static\" color=\"default\">\n              <Tabs\n                value={value}\n                onChange={handleChange}\n                variant=\"scrollable\"\n                scrollButtons=\"on\"\n                indicatorColor=\"primary\"\n                textColor=\"primary\"\n                aria-label=\"scrollable force tabs example\"\n              >\n                <Tab label=\"Precios\" icon={<LocalAtm />} {...a11yProps(0)} />\n                <Tab\n                  label=\"Precios Medidas\"\n                  icon={<SquareFoot />}\n                  {...a11yProps(1)}\n                />\n              </Tabs>\n            </AppBar>\n          </DialogTitle>\n        ) : null}\n        <DialogContent>\n          {datosProducto.producto.datos_generales &&\n          datosProducto.producto.datos_generales.tipo_producto !== \"OTROS\" ? (\n            <div>\n              <TabPanel value={value} index={0}>\n                <FormularioPrecios />\n              </TabPanel>\n              <TabPanel value={value} index={1}>\n                <TablaPresentaciones\n                  from=\"compras\"\n                  datos={datosProducto.producto}\n                  setOnUpdate={setOnUpdate}\n                  onUpdate={onUpdate}\n                  onlyPrice={true}\n                />\n              </TabPanel>\n            </div>\n          ) : (\n            <FormularioPrecios />\n          )}\n        </DialogContent>\n        <DialogActions>\n          <Button\n            color=\"inherit\"\n            size=\"large\"\n            startIcon={<Close />}\n            onClick={() => resetProducto()}\n          >\n            Cancelar\n          </Button>\n          <Button\n            size=\"large\"\n            onClick={() => {\n              /* setDatosProducto({...datosProducto, mantener_precio: false}) */\n              agregarCompra(\"actualizar_precios\");\n              handleClose();\n              toggleDrawer();\n            }}\n            startIcon={cargando ? <CircularProgress color=\"inherit\" size={20} /> : <Done />}\n            color=\"primary\"\n            variant=\"contained\"\n            disabled={!precios.precio_de_compra.precio_con_impuesto}\n          >\n            Aceptar y agregar compra\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </Fragment>\n  );\n}\n","import { gql } from \"@apollo/client\";\n\nexport const OBTENER_CONSULTAS = gql`\n  query obtenerConsultasProducto($empresa: ID!, $sucursal: ID!) {\n    obtenerConsultasProducto(empresa: $empresa, sucursal: $sucursal) {\n      categorias {\n        _id\n        categoria\n        subcategorias {\n          _id\n          subcategoria\n        }\n      }\n      departamentos {\n        _id\n        nombre_departamentos\n      }\n      marcas {\n        _id\n        nombre_marca\n      }\n      colores {\n        _id\n        nombre\n        hex\n      }\n      tallas {\n        _id\n        talla\n        tipo\n      }\n      calzados {\n        _id\n        talla\n        tipo\n      }\n      almacenes {\n        _id\n        nombre_almacen\n      }\n      centro_costos {\n        _id\n        cuenta\n        subcuentas {\n          _id\n          subcuenta\n        }\n      }\n      codigos {\n        _id\n        Name\n        Value\n      }\n    }\n  }\n`;\n\nexport const CREAR_PRODUCTO = gql`\n  mutation crearProducto($input: CrearProductoInput) {\n    crearProducto(input: $input) {\n      message\n    }\n  }\n`;\n\nexport const OBTENER_PRODUCTOS = gql`\n  query obtenerProductos(\n    $empresa: ID!\n    $sucursal: ID!\n    $filtro: String\n    $almacen: ID\n    $existencias: Boolean\n  ) {\n    obtenerProductos(\n      empresa: $empresa\n      sucursal: $sucursal\n      filtro: $filtro\n      almacen: $almacen\n      existencias: $existencias\n    ) {\n      _id\n      centro_de_costos {\n        id_cuenta\n        cuenta\n        id_subcuenta\n        subcuenta\n      }\n      unidades_de_venta {\n        _id\n        precio\n        cantidad\n        unidad\n        codigo_unidad\n        unidad_principal\n        codigo_barras\n        id_producto\n        descuento_activo\n        descuento {\n          cantidad_unidad\n          numero_precio\n          unidad_maxima\n          precio_general\n          precio_neto\n          precio_venta\n          iva_precio\n          ieps_precio\n          utilidad\n          porciento\n          dinero_descontado\n        }\n        default\n        precio_unidad {\n          numero_precio\n          precio_neto\n          precio_venta\n          iva_precio\n          ieps_precio\n          unidad_mayoreo\n          utilidad\n          precio_general\n          cantidad_unidad\n          unidad_maxima\n        }\n      }\n      datos_generales {\n        codigo_barras\n        clave_alterna\n        tipo_producto\n        nombre_comercial\n        nombre_generico\n        descripcion\n        id_categoria\n        categoria\n        subcategoria\n        id_subcategoria\n        id_departamento\n        departamento\n        id_marca\n        marca\n        clave_producto_sat {\n          Name\n          Value\n        }\n        receta_farmacia\n      }\n      empresa\n      imagenes {\n        location_imagen\n        extencion_imagen\n        url_imagen\n        key_imagen\n      }\n      precio_plazos {\n        precio_cajas {\n          plazo\n          unidad\n          precio\n          codigo_unidad\n        }\n        precio_piezas {\n          plazo\n          unidad\n          precio\n          codigo_unidad\n        }\n        precio_costales {\n          plazo\n          unidad\n          codigo_unidad\n          precio\n        }\n      }\n      precios {\n        ieps\n        ieps_activo\n        iva\n        iva_activo\n        monedero\n        monedero_electronico\n        precio_de_compra {\n          ieps\n          iva\n          precio_con_impuesto\n          precio_sin_impuesto\n        }\n        precios_producto {\n          numero_precio\n          precio_neto\n          precio_venta\n          iva_precio\n          ieps_precio\n          unidad_mayoreo\n          utilidad\n          precio_general\n          cantidad_unidad\n          unidad_maxima\n        }\n        unidad_de_compra {\n          cantidad\n          precio_unitario_con_impuesto\n          precio_unitario_sin_impuesto\n          unidad\n          codigo_unidad\n        }\n        inventario {\n          inventario_minimo\n          inventario_maximo\n          unidad_de_inventario\n          codigo_unidad\n        }\n        granel\n      }\n      medidas_producto {\n        _id\n        cantidad\n        almacen\n        descuento_activo\n        descuento {\n          cantidad_unidad\n          numero_precio\n          unidad_maxima\n          precio_general\n          precio_neto\n          precio_venta\n          iva_precio\n          ieps_precio\n          utilidad\n          porciento\n          dinero_descontado\n        }\n        codigo_barras\n        color {\n          _id\n          nombre\n          hex\n        }\n        existencia\n        medida {\n          _id\n          talla\n          tipo\n        }\n        nombre_comercial\n        precio\n        precio_unidad {\n          numero_precio\n          precio_neto\n          precio_venta\n          iva_precio\n          ieps_precio\n          unidad_mayoreo\n          utilidad\n          precio_general\n          cantidad_unidad\n          unidad_maxima\n        }\n      }\n      inventario_general {\n        _id\n        cantidad_existente\n        unidad_inventario\n        codigo_unidad\n        cantidad_existente_maxima\n        unidad_maxima\n        id_almacen_general\n        eliminado\n      }\n      medidas_registradas\n      sucursal\n      usuario\n    }\n  }\n`;\n\nexport const ACTUALIZAR_PRODUCTO = gql`\n  mutation actualizarProducto($id: ID!, $input: ActualizarProductoInput) {\n    actualizarProducto(id: $id, input: $input) {\n      message\n    }\n  }\n`;\n\nexport const ELIMINAR_PRODUCTO = gql`\n  mutation eliminarProducto($id: ID!) {\n    eliminarProducto(id: $id) {\n      message\n    }\n  }\n`;\n\nexport const PRODUCTOS_ELIMINADOS = gql`\n  query obtenerProductosInactivos($empresa: ID!, $sucursal: ID!) {\n    obtenerProductosInactivos(empresa: $empresa, sucursal: $sucursal) {\n      _id\n      producto {\n        _id\n        datos_generales {\n          codigo_barras\n          clave_alterna\n          tipo_producto\n          nombre_comercial\n          nombre_generico\n          descripcion\n          id_categoria\n          categoria\n          subcategoria\n          id_subcategoria\n          id_departamento\n          departamento\n          id_marca\n          marca\n          clave_producto_sat {\n            Name\n            Value\n          }\n          receta_farmacia\n        }\n        precios {\n          ieps\n          ieps_activo\n          iva\n          iva_activo\n          monedero\n          monedero_electronico\n          precio_de_compra {\n            ieps\n            iva\n            precio_con_impuesto\n            precio_sin_impuesto\n          }\n          precios_producto {\n            numero_precio\n            precio_neto\n            precio_venta\n            unidad_mayoreo\n            utilidad\n          }\n          unidad_de_compra {\n            cantidad\n            precio_unitario_con_impuesto\n            precio_unitario_sin_impuesto\n            unidad\n          }\n          inventario {\n            inventario_minimo\n            inventario_maximo\n            unidad_de_inventario\n          }\n          granel\n        }\n      }\n      cantidad_existente\n      unidad_de_inventario\n      id_almacen\n      eliminado\n      empresa\n      sucursal\n    }\n  }\n`;\n\nexport const ACTIVAR_PRODUCTOS = gql`\n  mutation activarProducto($id: ID!) {\n    activarProducto(id: $id) {\n      message\n    }\n  }\n`;\n\nexport const CREAR_PRODUCTO_RAPIDO = gql`\n  mutation crearProductoRapido($input: CrearProductoRapidoInput) {\n    crearProductoRapido(input: $input) {\n      message\n    }\n  }\n`;\n","import { gql } from '@apollo/client';\n\nexport const CREAR_COLOR = gql`\n\tmutation crearColor($input: CrearColorInput) {\n\t\tcrearColor(input: $input) {\n\t\t\t_id\n\t\t\tnombre\n\t\t\thex\n\t\t\tempresa {\n\t\t\t\tnombre_empresa\n\t\t\t\tcorreo_empresa\n\t\t\t\tnombre_dueno\n\t\t\t\ttelefono_dueno\n\t\t\t\tsucursales_activas\n\t\t\t\tlimite_sucursales\n\t\t\t\t_id\n\t\t\t}\n\t\t}\n\t}\n`;\n\nexport const OBTENER_COLORES = gql`\n\tquery obtenerColores($sucursal: String!) {\n\t\tobtenerColores(sucursal: $sucursal) {\n\t\t\t_id\n\t\t\tnombre\n\t\t\thex\n\t\t\tempresa {\n\t\t\t\tnombre_empresa\n\t\t\t\tcorreo_empresa\n\t\t\t\tnombre_dueno\n\t\t\t\ttelefono_dueno\n\t\t\t\tsucursales_activas\n\t\t\t\tlimite_sucursales\n\t\t\t\t_id\n\t\t\t}\n\t\t\tsucursal {\n\t\t\t\t_id\n\t\t\t\tnombre_sucursal\n\t\t\t\tdescripcion\n\t\t\t}\n\t\t}\n\t}\n`;\n\nexport const ACTUALIZAR_COLOR = gql`\n\tmutation actualizarColor($input: ActualizarColorInput, $id: ID!) {\n\t\tactualizarColor(id: $id, input: $input) {\n\t\t\tmessage\n\t\t}\n\t}\n`;\nexport const ELIMINAR_COLOR = gql`\n\tmutation eliminarColor($id: ID!) {\n\t\teliminarColor(id: $id) {\n\t\t\tmessage\n\t\t}\n\t}\n`;\n","import React, { useState, Fragment } from \"react\";\nimport {\n  Box,\n  Button,\n  TextField,\n  Typography,\n  Dialog,\n  DialogContent,\n  DialogActions,\n} from \"@material-ui/core\";\nimport { Add, Done } from \"@material-ui/icons\";\nimport { SketchPicker } from \"react-color\";\nimport SnackBarMessages from \"../../../../../components/SnackBarMessages\";\n\nimport { useMutation } from \"@apollo/client\";\nimport { CREAR_COLOR } from \"../../../../../gql/Catalogos/colores\";\n\nexport default function CrearColorProducto({ refetch }) {\n  const [color, setColor] = useState({});\n  const [values, setValues] = useState({ nombre: \"\", hex: \"\" });\n  const [alert, setAlert] = useState({ message: \"\", status: \"\", open: false });\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n  const [open, setOpen] = useState(false);\n\n  const toggleModal = () => setOpen(!open);\n\n  /* Mutations */\n  const [crearColor] = useMutation(CREAR_COLOR);\n\n  const handleChangeComplete = (color) => {\n    setColor(color);\n    setValues({\n      ...values,\n      hex: color.hex.toUpperCase(),\n    });\n  };\n\n  const GuardarDatosBD = async (e) => {\n    e.preventDefault();\n    if (!values.nombre || !values.hex) {\n      return;\n    }\n    try {\n      const colores = values;\n      await crearColor({\n        variables: {\n          input: {\n            nombre: colores.nombre,\n            hex: colores.hex,\n            empresa: sesion.empresa._id,\n            sucursal: sesion.sucursal._id,\n          },\n        },\n      });\n      refetch();\n      setValues({ nombre: \"\", hex: \"\" });\n      setAlert({ message: \"Listo!\", status: \"success\", open: true });\n      toggleModal();\n    } catch (error) {\n      setAlert({ message: \"Hubo un error\", status: \"error\", open: true });\n    }\n  };\n\n  return (\n    <Fragment>\n      <Box display=\"flex\" justifyContent=\"flex-end\">\n        <Button color=\"primary\" onClick={() => toggleModal()}>\n          <Add />\n          nuevo color\n        </Button>\n      </Box>\n      <Dialog\n        open={open}\n        /* onClose={() => toggleModal()} */\n        scroll=\"paper\"\n        disableEscapeKeyDown\n        onClose={(event, reason) => {\n          if (reason !== \"backdropClick\") {\n            toggleModal();\n          }\n        }}\n      >\n        <DialogContent>\n          <Box>\n            <SnackBarMessages alert={alert} setAlert={setAlert} />\n            <SketchPicker\n              color={color}\n              onChangeComplete={handleChangeComplete}\n            />\n            <Box mt={2}>\n              <Typography>Color seleccionado:</Typography>\n              {!values.hex ? (\n                <Box display=\"flex\" justifyContent=\"center\" width={220}>\n                  <Typography color=\"secondary\">NINGUNO</Typography>\n                </Box>\n              ) : (\n                <Box bgcolor={values.hex} height={30} width={220} />\n              )}\n            </Box>\n            <Box my={2}>\n              <form\n                id=\"form-registro-color\"\n                onSubmit={(e) => GuardarDatosBD(e)}\n              >\n                <TextField\n                  label=\"Nombre del color\"\n                  variant=\"outlined\"\n                  size=\"small\"\n                  value={values.nombre}\n                  onChange={(e) =>\n                    setValues({\n                      ...values,\n                      nombre: e.target.value.toUpperCase(),\n                    })\n                  }\n                  fullWidth\n                  focused\n                />\n              </form>\n            </Box>\n          </Box>\n        </DialogContent>\n        <DialogActions>\n          <Button\n            variant=\"outlined\"\n            color=\"primary\"\n            onClick={() => toggleModal()}\n            size=\"large\"\n          >\n            Cancelar\n          </Button>\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            type=\"submit\"\n            form=\"form-registro-color\"\n            size=\"large\"\n            startIcon={<Done />}\n          >\n            Guardar\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </Fragment>\n  );\n}\n","import { gql } from '@apollo/client';\n\nexport const CREAR_TALLAS = gql`\n\tmutation crearTalla($input: CrearTallaInput) {\n\t\tcrearTalla(input: $input) {\n\t\t\tmessage\n\t\t}\n\t}\n`;\n\nexport const OBTENER_TALLAS = gql`\n\tquery obtenerTallas($sucursal: String!, $tipo: String! ) {\n\t\tobtenerTallas(sucursal: $sucursal, tipo: $tipo) {\n\t\t\t_id\n\t\t\ttalla\n\t\t\ttipo\n\t\t\tempresa {\n\t\t\t\tnombre_empresa\n\t\t\t\tcorreo_empresa\n\t\t\t\tnombre_dueno\n\t\t\t\ttelefono_dueno\n\t\t\t\tsucursales_activas\n\t\t\t\tlimite_sucursales\n\t\t\t\t_id\n\t\t\t}\n\t\t}\n\t}\n`;\n\nexport const ACTUALIZAR_TALLA = gql`\n\tmutation actualizarTalla($input: ActualizarTallaInput, $id: ID!) {\n\t\tactualizarTalla(id: $id, input: $input) {\n\t\t\tmessage\n\t\t}\n\t}\n`;\nexport const ELIMINAR_TALLA = gql`\n\tmutation eliminarTalla($input: ActualizarTallaInput,$id: ID!) {\n\t\teliminarTalla(id: $id, input: $input) {\n\t\t\tmessage\n\t\t}\n\t}\n`;\n","import React, { useState, Fragment, useContext } from \"react\";\nimport {\n  Box,\n  Button,\n  TextField,\n  Dialog,\n  DialogContent,\n  DialogActions,\n} from \"@material-ui/core\";\nimport { Add, Done } from \"@material-ui/icons\";\nimport SnackBarMessages from \"../../../../../components/SnackBarMessages\";\n\nimport { useMutation } from \"@apollo/client\";\nimport { CREAR_TALLAS } from \"../../../../../gql/Catalogos/tallas\";\nimport { RegProductoContext } from \"../../../../../context/Catalogos/CtxRegProducto\";\n\nexport default function CrearTallasProducto({\n  setMedidasSeleccionadas,\n  refetch,\n}) {\n  const [value, setValue] = useState(\"\");\n  const [open, setOpen] = useState(false);\n  const [alert, setAlert] = useState({ message: \"\", status: \"\", open: false });\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n  const { datos_generales } = useContext(RegProductoContext);\n\n  const [crearTalla] = useMutation(CREAR_TALLAS);\n\n  const toggleModal = () => setOpen(!open);\n\n  const GuardarDatosBD = async (e) => {\n    e.preventDefault();\n    if (!value) {\n      return;\n    }\n    try {\n      const nueva_talla = value;\n      await crearTalla({\n        variables: {\n          input: {\n            talla: nueva_talla,\n            tipo: datos_generales.tipo_producto,\n            empresa: sesion.empresa._id,\n            sucursal: sesion.sucursal._id,\n          },\n        },\n      });\n      refetch();\n      setMedidasSeleccionadas([nueva_talla]);\n      setValue(\"\");\n      setAlert({ message: \"Listo!\", status: \"success\", open: true });\n      toggleModal();\n    } catch (error) {\n      setAlert({ message: \"Hubo un error\", status: \"error\", open: true });\n    }\n  };\n\n  return (\n    <Fragment>\n      <Box display=\"flex\" justifyContent=\"flex-end\">\n        <Button color=\"primary\" onClick={() => toggleModal()}>\n          <Add /> Nueva talla\n        </Button>\n      </Box>\n      <Dialog\n        open={open}\n        scroll=\"paper\"\n        disableEscapeKeyDown\n        onClose={(event, reason) => {\n          if (reason !== \"backdropClick\") {\n            toggleModal();\n          }\n        }}\n      >\n        <DialogContent>\n          <Box>\n            <SnackBarMessages alert={alert} setAlert={setAlert} />\n            <Box\n              display=\"flex\"\n              justifyContent=\"center\"\n              alignItems=\"center\"\n              my={2}\n            >\n              <form\n                id=\"form-registro-color\"\n                onSubmit={(e) => GuardarDatosBD(e)}\n              >\n                <TextField\n                  id=\"outlined-error-helper-text\"\n                  label={\n                    datos_generales.tipo_producto === \"ROPA\"\n                      ? \"Talla\"\n                      : \"Nmero\"\n                  }\n                  variant=\"outlined\"\n                  size=\"small\"\n                  focused\n                  fullWidth\n                  value={value}\n                  onChange={(e) => setValue(e.target.value.toUpperCase())}\n                />\n              </form>\n            </Box>\n          </Box>\n        </DialogContent>\n        <DialogActions>\n          <Button\n            variant=\"outlined\"\n            color=\"primary\"\n            onClick={() => toggleModal()}\n            size=\"large\"\n          >\n            Cancelar\n          </Button>\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            type=\"submit\"\n            form=\"form-registro-color\"\n            size=\"large\"\n            startIcon={<Done />}\n          >\n            Guardar\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </Fragment>\n  );\n}\n","import React, { useContext, useState, useEffect, useCallback } from \"react\";\nimport { Typography, Tooltip, Box, Grid } from \"@material-ui/core\";\nimport { makeStyles, useTheme } from \"@material-ui/core\";\nimport Zoom from \"@material-ui/core/Zoom\";\n\nimport { Done } from \"@material-ui/icons\";\nimport TablaPresentaciones from \"./TablaPresentaciones\";\nimport { RegProductoContext } from \"../../../../../context/Catalogos/CtxRegProducto\";\nimport CrearColorProducto from \"./crearColor\";\nimport CrearTallasProducto from \"./crearTalla\";\n\nconst useStyles = makeStyles((theme) => ({\n  colorContainer: {\n    border: \"1px solid rgba(0,0,0, .3)\",\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    height: 50,\n    width: 50,\n    margin: 1,\n    borderRadius: \"15%\",\n    cursor: \"pointer\",\n  },\n  titulos: {\n    fontWeight: 500,\n  },\n}));\n\nconst GenCodigoBarras = () => {\n\treturn Math.floor(Math.random() * (999999999999 - 100000000000 + 1) + 100000000000).toString();\n};\n\nexport default function ColoresTallas({\n  obtenerConsultasProducto,\n  refetch,\n  from,\n  withoutPrice,\n}) {\n  const {\n    /* almacen_inicial,\n    setAlmacenInicial, */\n    presentaciones,\n    datos_generales,\n  } = useContext(RegProductoContext);\n  const {\n    /* almacenes, */ colores,\n    tallas,\n    calzados,\n  } = obtenerConsultasProducto;\n  const [medidasSeleccionadas, setMedidasSeleccionadas] = useState([]);\n  const [coloresSeleccionados, setColoresSeleccionados] = useState([]);\n  const medidas =\n    datos_generales.tipo_producto === \"ROPA\" ? [...tallas] : [...calzados];\n  const [onUpdate, setOnUpdate] = useState([]);\n  const classes = useStyles();\n\n\tconst obtenerColoresSeleccinados = useCallback(\n\t\t() => {\n\t\t\tlet colors = [];\n\t\t\tlet medidas = [];\n\t\t\tconst copy_presentaciones = [ ...presentaciones ];\n\n\t\t\tcopy_presentaciones.forEach((element) => {\n\t\t\t\tif (element.color._id) colors.push(element.color);\n\t\t\t\tif (element.medida._id) medidas.push(element.medida);\n\t\t\t});\n\n\t\t\tvar hashColor = {};\n\t\t\tvar hashMedida = {};\n\t\t\tconst colores_existentes = colors.filter((color) => {\n\t\t\t\tvar existColor = !hashColor[color._id];\n\t\t\t\thashColor[color._id] = true;\n\t\t\t\treturn existColor;\n\t\t\t});\n\t\t\tconst medidas_existentes = medidas.filter((medida) => {\n\t\t\t\tvar existMedida = !hashMedida[medida._id];\n\t\t\t\thashMedida[medida._id] = true;\n\t\t\t\treturn existMedida;\n\t\t\t});\n\n\t\t\tsetColoresSeleccionados([ ...colores_existentes ]);\n\t\t\tsetMedidasSeleccionadas([ ...medidas_existentes ]);\n\t\t},\n\t\t[ presentaciones ]\n\t);\n\n\t// const obtenerAlmacenes = (event, child) => {\n\t// \tsetAlmacenInicial({\n\t// \t\t...almacen_inicial,\n\t// \t\t[event.target.name]: event.target.value,\n\t// \t\t[child.props.name]: child.props.id\n\t// \t});\n\t// };\n\n\tuseEffect(\n\t\t() => {\n\t\t\tobtenerColoresSeleccinados();\n\t\t},\n\t\t[ obtenerColoresSeleccinados ]\n\t);\n\n  return (\n    <div>\n      <Box>\n        <Grid container spacing={2}>\n          {/* {!almacen_existente ? (\n            <Grid item md={4}>\n              <Box width=\"100%\">\n                <Typography>Almacen</Typography>\n                <Box display=\"flex\" >\n                  <FormControl\n                    disabled={presentaciones.length === 0 || from === \"compra\"}\n                    variant=\"outlined\"\n                    fullWidth\n                    size=\"small\"\n                    name=\"almacen\"\n                    error={\n                      presentaciones.length > 0 && !almacen_inicial.almacen\n                    }\n                  >\n                    <Select\n                      name=\"almacen\"\n                      value={almacen_inicial.almacen}\n                      onChange={obtenerAlmacenes}\n                    >\n                      <MenuItem value=\"\">\n                        <em>Seleccione uno</em>\n                      </MenuItem>\n                      {almacenes ? (\n                        almacenes.map((res) => {\n                          return (\n                            <MenuItem\n                              name=\"id_almacen\"\n                              key={res._id}\n                              value={res.nombre_almacen}\n                              id={res._id}\n                            >\n                              {res.nombre_almacen}\n                            </MenuItem>\n                          );\n                        })\n                      ) : (\n                        <MenuItem value=\"\" />\n                      )}\n                    </Select>\n                    {presentaciones.length > 0 && !almacen_inicial.almacen ? (\n                      <FormLabel>* Campo obligatorio</FormLabel>\n                    ) : null}\n                  </FormControl>\n                  {from === \"compra\" ? null : (\n                    <AlmacenProvider>\n                      <ContainerRegistroAlmacen\n                        accion=\"registrar\"\n                        refetch={refetch}\n                      />\n                    </AlmacenProvider>\n                  )}\n                </Box>\n              </Box>\n            </Grid>\n          ) : null} */}\n\n          <Grid item md={6}>\n            <Box\n              width=\"100%\"\n              style={\n                onUpdate.length > 0\n                  ? {\n                      pointerEvents: \"none\",\n                      opacity: 0.4,\n                    }\n                  : null\n              }\n            >\n              <Box display=\"flex\" alignItems=\"center\">\n                <Typography className={classes.titulos}>\n                  {datos_generales.tipo_producto === \"ROPA\"\n                    ? \"Talla\"\n                    : \"Nmero\"}\n                </Typography>\n                <Box mx={1} />\n                <CrearTallasProducto\n                  setMedidasSeleccionadas={setMedidasSeleccionadas}\n                  refetch={refetch}\n                />\n              </Box>\n              <Grid container>\n                {medidas.map((talla, index) => (\n                  <RenderTallas\n                    key={index}\n                    talla={talla}\n                    coloresSeleccionados={coloresSeleccionados}\n                    medidasSeleccionadas={medidasSeleccionadas}\n                    setMedidasSeleccionadas={setMedidasSeleccionadas}\n                  />\n                ))}\n              </Grid>\n            </Box>\n          </Grid>\n          <Grid item md={6}>\n            <Box\n              width=\"100%\"\n              style={\n                onUpdate.length > 0\n                  ? {\n                      pointerEvents: \"none\",\n                      opacity: 0.4,\n                    }\n                  : null\n              }\n            >\n              <Box display=\"flex\" alignItems=\"center\">\n                <Typography className={classes.titulos}>Color</Typography>\n                <Box mx={1} />\n                <CrearColorProducto refetch={refetch} />\n              </Box>\n              <Grid container>\n                {colores.map((color, index) => (\n                  <Colores\n                    key={index}\n                    color={color}\n                    coloresSeleccionados={coloresSeleccionados}\n                    setColoresSeleccionados={setColoresSeleccionados}\n                    medidasSeleccionadas={medidasSeleccionadas}\n                  />\n                ))}\n              </Grid>\n            </Box>\n          </Grid>\n        </Grid>\n        <Box mt={3} />\n        <TablaPresentaciones\n          from={from}\n          withoutPrice={withoutPrice}\n          setOnUpdate={setOnUpdate}\n          onUpdate={onUpdate}\n        />\n      </Box>\n    </div>\n  );\n}\n\nconst RenderTallas = ({\n\ttalla,\n\tcoloresSeleccionados,\n\tmedidasSeleccionadas,\n\tsetMedidasSeleccionadas,\n\tdatos\n}) => {\n\tconst classes = useStyles();\n\tconst theme = useTheme();\n\tconst { setPresentaciones, presentaciones, datos_generales, preciosP } = useContext(RegProductoContext);\n\tconst [ selected, setSelected ] = useState(false);\n\n\tconst seleccionarMedidas = useCallback(\n\t\t() => {\n\t\t\tmedidasSeleccionadas.forEach((res) => {\n\t\t\t\tif (res._id === talla._id) setSelected(true);\n\t\t\t});\n\t\t},\n\t\t[ talla._id, medidasSeleccionadas ]\n\t);\n\n\tuseEffect(\n\t\t() => {\n\t\t\tif (datos.medidas_registradas) {\n\t\t\t\treturn seleccionarMedidas();\n\t\t\t}\n\t\t},\n\t\t[ seleccionarMedidas ]\n\t);\n\n\tconst handleAddTallas = (value) => {\n\t\tconst medidas_seleccionadas_temp = [ ...medidasSeleccionadas ];\n\n\t\tif (!selected) {\n\t\t\tmedidas_seleccionadas_temp.push(talla);\n\t\t\tsetSelected(value);\n\t\t} else {\n\t\t\tmedidas_seleccionadas_temp.forEach((res, index) => {\n\t\t\t\tif (res._id === talla._id) {\n\t\t\t\t\tmedidas_seleccionadas_temp.splice(index, 1);\n\t\t\t\t\tsetSelected(value);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tlet presentacion_temp = [];\n\t\tconst array_medidad_finales = [ ...presentaciones ];\n\n\t\tif (!coloresSeleccionados.length && !array_medidad_finales.length) {\n\t\t\t/* SI NO HAY COLORES NI VALORES EN EL ARRAY FINAL SE AGREGA EL PRIMER ELEMENTO */\n\t\t\tfor (let i = 0; i < medidas_seleccionadas_temp.length; i++) {\n\t\t\t\tconst producto_medida = medidas_seleccionadas_temp[i];\n\t\t\t\tpresentacion_temp.push({\n\t\t\t\t\texistencia: false,\n\t\t\t\t\tcodigo_barras: GenCodigoBarras(),\n\t\t\t\t\tnombre_comercial: datos_generales.nombre_comercial,\n\t\t\t\t\tmedida: producto_medida,\n\t\t\t\t\tcolor: { nombre: '', hex: '' },\n\t\t\t\t\tprecio: preciosP[0].precio_neto,\n\t\t\t\t\tcantidad: 0,\n\t\t\t\t\tnuevo: true\n\t\t\t\t});\n\t\t\t}\n\t\t} else if (!coloresSeleccionados.length && array_medidad_finales.length > 0) {\n\t\t\t/* SI NO HAY COLORES REGISTRADOS PERO YA HAY TALLAS SE AGREGAN MAS */\n\t\t\tfor (let i = 0; i < medidas_seleccionadas_temp.length; i++) {\n\t\t\t\tconst producto_medida = medidas_seleccionadas_temp[i];\n\t\t\t\tconst result = array_medidad_finales.filter((res) => res.medida._id === producto_medida._id);\n\t\t\t\tif (result.length) {\n\t\t\t\t\tpresentacion_temp.push(result[0]);\n\t\t\t\t} else {\n\t\t\t\t\tpresentacion_temp.push({\n\t\t\t\t\t\texistencia: false,\n\t\t\t\t\t\tcodigo_barras: GenCodigoBarras(),\n\t\t\t\t\t\tnombre_comercial: datos_generales.nombre_comercial,\n\t\t\t\t\t\tmedida: producto_medida,\n\t\t\t\t\t\tcolor: { nombre: '', hex: '' },\n\t\t\t\t\t\tprecio: preciosP[0].precio_neto,\n\t\t\t\t\t\tcantidad: 0,\n\t\t\t\t\t\tnuevo: true\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (coloresSeleccionados.length > 0 && medidas_seleccionadas_temp.length === 1 && value) {\n\t\t\t/* SI HAY COLORES SE LE AGREGA TALLA POR PRIMERA VEZ */\n\t\t\tfor (let i = 0; i < array_medidad_finales.length; i++) {\n\t\t\t\tfor (let k = 0; k < medidas_seleccionadas_temp.length; k++) {\n\t\t\t\t\tpresentacion_temp.push({\n\t\t\t\t\t\texistencia: array_medidad_finales[i].existencia,\n\t\t\t\t\t\tcodigo_barras: array_medidad_finales[i].codigo_barras,\n\t\t\t\t\t\tnombre_comercial: array_medidad_finales[i].nombre_comercial,\n\t\t\t\t\t\tmedida: medidas_seleccionadas_temp[k],\n\t\t\t\t\t\tcolor: array_medidad_finales[i].color,\n\t\t\t\t\t\tprecio: array_medidad_finales[i].precio,\n\t\t\t\t\t\tcantidad: array_medidad_finales[i].cantidad,\n\t\t\t\t\t\tnuevo: true\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (coloresSeleccionados.length > 0 && medidas_seleccionadas_temp.length > 0) {\n\t\t\t/* YA HAY COLORES Y MEDIDAS EN LAS PRESENTACIONES, SE AGREGAN NORMAL */\n\t\t\tfor (let i = 0; i < medidas_seleccionadas_temp.length; i++) {\n\t\t\t\tconst producto_medida = medidas_seleccionadas_temp[i];\n\t\t\t\tfor (let k = 0; k < coloresSeleccionados.length; k++) {\n\t\t\t\t\tconst producto_color = coloresSeleccionados[k];\n\t\t\t\t\tconst presentacion_existente = array_medidad_finales.filter(\n\t\t\t\t\t\t(producto_array_final) =>\n\t\t\t\t\t\t\tproducto_array_final.medida._id === producto_medida._id &&\n\t\t\t\t\t\t\tproducto_color._id === producto_array_final.color._id\n\t\t\t\t\t);\n\t\t\t\t\tif (!presentacion_existente.length) {\n\t\t\t\t\t\tpresentacion_temp.push({\n\t\t\t\t\t\t\texistencia: false,\n\t\t\t\t\t\t\tcodigo_barras: GenCodigoBarras(),\n\t\t\t\t\t\t\tnombre_comercial: datos_generales.nombre_comercial,\n\t\t\t\t\t\t\tmedida: producto_medida,\n\t\t\t\t\t\t\tcolor: producto_color,\n\t\t\t\t\t\t\tprecio: preciosP[0].precio_neto,\n\t\t\t\t\t\t\tcantidad: 0,\n\t\t\t\t\t\t\tnuevo: true\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tpresentacion_temp.push(presentacion_existente[0]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (coloresSeleccionados.length > 0 && !medidas_seleccionadas_temp.length) {\n\t\t\t/* SI NO HAY TALLAS SE VUELVE A LISTAR LOS COLORES QUE YA ESTABAN EN PRESENTACIONES */\n\t\t\tconst presentaciones_existentes = array_medidad_finales.filter((producto) => producto.medida._id);\n\t\t\tif (presentaciones_existentes.length) {\n\t\t\t\tfor (let x = 0; x < array_medidad_finales.length; x++) {\n\t\t\t\t\tconst objeto_presentaciones_final = array_medidad_finales[x];\n\t\t\t\t\tpresentacion_temp.push({\n\t\t\t\t\t\texistencia: objeto_presentaciones_final.existencia,\n\t\t\t\t\t\tcodigo_barras: objeto_presentaciones_final.codigo_barras,\n\t\t\t\t\t\tnombre_comercial: objeto_presentaciones_final.nombre_comercial,\n\t\t\t\t\t\tmedida: {},\n\t\t\t\t\t\tcolor: objeto_presentaciones_final.color,\n\t\t\t\t\t\tprecio: objeto_presentaciones_final.precio,\n\t\t\t\t\t\tcantidad: objeto_presentaciones_final.cantidad,\n\t\t\t\t\t\tnuevo: true\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tsetMedidasSeleccionadas([ ...medidas_seleccionadas_temp ]);\n\t\tsetPresentaciones(presentacion_temp);\n\t};\n\n\treturn (\n\t\t<Grid item>\n\t\t\t<div\n\t\t\t\tclassName={classes.colorContainer}\n\t\t\t\tonClick={() => handleAddTallas(!selected)}\n\t\t\t\tstyle={\n\t\t\t\t\tselected ? (\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tbackgroundColor: theme.palette.primary.main\n\t\t\t\t\t\t}\n\t\t\t\t\t) : null\n\t\t\t\t}\n\t\t\t>\n\t\t\t\t<Typography\n\t\t\t\t\tvariant=\"button\"\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tcolor: theme.palette.getContrastText(selected ? theme.palette.primary.main : '#FFFFFF'),\n\t\t\t\t\t\tfontSize: 16\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{talla.talla}\n\t\t\t\t</Typography>\n\t\t\t</div>\n\t\t</Grid>\n\t);\n};\n\nconst Colores = ({ color, coloresSeleccionados, setColoresSeleccionados, medidasSeleccionadas, datos }) => {\n\tconst classes = useStyles();\n\tconst theme = useTheme();\n\tconst { presentaciones, setPresentaciones, datos_generales, preciosP } = useContext(RegProductoContext);\n\n\tconst [ selected, setSelected ] = useState(false);\n\n\tconst seleccionarColores = useCallback(\n\t\t() => {\n\t\t\tcoloresSeleccionados.forEach((res) => {\n\t\t\t\tif (res._id === color._id) setSelected(true);\n\t\t\t});\n\t\t},\n\t\t[ color._id, coloresSeleccionados ]\n\t);\n\n\tuseEffect(\n\t\t() => {\n\t\t\tif (datos.medidas_registradas) {\n\t\t\t\treturn seleccionarColores();\n\t\t\t}\n\t\t},\n\t\t[ seleccionarColores ]\n\t);\n\n\tconst obtenerColores = (value) => {\n\t\tif (!selected) {\n\t\t\tcoloresSeleccionados.push(color);\n\t\t\tsetSelected(value);\n\t\t} else {\n\t\t\tcoloresSeleccionados.forEach((res, index) => {\n\t\t\t\tif (res._id === color._id) {\n\t\t\t\t\tcoloresSeleccionados.splice(index, 1);\n\t\t\t\t\tsetSelected(value);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\tlet presentacion_temp = [];\n\t\tconst array_medidad_finales = [ ...presentaciones ];\n\n\t\tif (!medidasSeleccionadas.length && !array_medidad_finales.length) {\n\t\t\t/* SI NO HAY COLORES NI VALORES EN EL ARRAY FINAL SE AGREGA EL PRIMER ELEMENTO */\n\t\t\tfor (let i = 0; i < coloresSeleccionados.length; i++) {\n\t\t\t\tconst producto_color = coloresSeleccionados[i];\n\t\t\t\tpresentacion_temp.push({\n\t\t\t\t\texistencia: false,\n\t\t\t\t\tcodigo_barras: GenCodigoBarras(),\n\t\t\t\t\tnombre_comercial: datos_generales.nombre_comercial,\n\t\t\t\t\tmedida: {},\n\t\t\t\t\tcolor: producto_color,\n\t\t\t\t\tprecio: preciosP[0].precio_neto,\n\t\t\t\t\tcantidad: 0,\n\t\t\t\t\tnuevo: true\n\t\t\t\t});\n\t\t\t}\n\t\t} else if (!medidasSeleccionadas.length && array_medidad_finales.length > 0) {\n\t\t\t/* SI YA HAY COLORES REGISTRADOS SE AGREGAN MAS */\n\t\t\tfor (let i = 0; i < coloresSeleccionados.length; i++) {\n\t\t\t\tconst producto_color = coloresSeleccionados[i];\n\t\t\t\tconst result = array_medidad_finales.filter((res) => res.color._id === producto_color._id);\n\t\t\t\tif (result.length) {\n\t\t\t\t\tpresentacion_temp.push(result[0]);\n\t\t\t\t} else {\n\t\t\t\t\tpresentacion_temp.push({\n\t\t\t\t\t\texistencia: false,\n\t\t\t\t\t\tcodigo_barras: GenCodigoBarras(),\n\t\t\t\t\t\tnombre_comercial: datos_generales.nombre_comercial,\n\t\t\t\t\t\tmedida: {},\n\t\t\t\t\t\tcolor: producto_color,\n\t\t\t\t\t\tprecio: preciosP[0].precio_neto,\n\t\t\t\t\t\tcantidad: 0,\n\t\t\t\t\t\tnuevo: true\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (medidasSeleccionadas.length > 0 && coloresSeleccionados.length === 1 && value) {\n\t\t\t/* SI YA HAY TALLAS SE LE AGREGA EL COLOR POR PRIMERA VEZ */\n\t\t\tfor (let i = 0; i < array_medidad_finales.length; i++) {\n\t\t\t\tfor (let k = 0; k < coloresSeleccionados.length; k++) {\n\t\t\t\t\tpresentacion_temp.push({\n\t\t\t\t\t\texistencia: array_medidad_finales[i].existencia,\n\t\t\t\t\t\tcodigo_barras: array_medidad_finales[i].codigo_barras,\n\t\t\t\t\t\tnombre_comercial: array_medidad_finales[i].nombre_comercial,\n\t\t\t\t\t\tmedida: array_medidad_finales[i].medida,\n\t\t\t\t\t\tcolor: coloresSeleccionados[k],\n\t\t\t\t\t\tprecio: array_medidad_finales[i].precio,\n\t\t\t\t\t\tcantidad: array_medidad_finales[i].cantidad,\n\t\t\t\t\t\tnuevo: true\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (medidasSeleccionadas.length > 0 && coloresSeleccionados.length > 0) {\n\t\t\t/* YA HAY TALLAS Y MEIDAS EN LAS PRESENTACIONES, SE REGISTRAN NORMAL */\n\t\t\tfor (let i = 0; i < coloresSeleccionados.length; i++) {\n\t\t\t\tconst producto_color = coloresSeleccionados[i];\n\t\t\t\tfor (let k = 0; k < medidasSeleccionadas.length; k++) {\n\t\t\t\t\tconst producto_medida = medidasSeleccionadas[k];\n\t\t\t\t\tconst presentacion_existente = array_medidad_finales.filter(\n\t\t\t\t\t\t(producto_array_final) =>\n\t\t\t\t\t\t\tproducto_array_final.medida._id === producto_medida._id &&\n\t\t\t\t\t\t\tproducto_color._id === producto_array_final.color._id\n\t\t\t\t\t);\n\t\t\t\t\tif (!presentacion_existente.length) {\n\t\t\t\t\t\tpresentacion_temp.push({\n\t\t\t\t\t\t\texistencia: false,\n\t\t\t\t\t\t\tcodigo_barras: GenCodigoBarras(),\n\t\t\t\t\t\t\tnombre_comercial: datos_generales.nombre_comercial,\n\t\t\t\t\t\t\tmedida: producto_medida,\n\t\t\t\t\t\t\tcolor: producto_color,\n\t\t\t\t\t\t\tprecio: preciosP[0].precio_neto,\n\t\t\t\t\t\t\tcantidad: 0,\n\t\t\t\t\t\t\tnuevo: true\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tpresentacion_temp.push(presentacion_existente[0]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (medidasSeleccionadas.length > 0 && !coloresSeleccionados.length) {\n\t\t\t/* SI NO HAY COLORES SE VUELVE A LISTAR LAS TALLAS QUE YA ESTABAN EN PRESENTACIONES */\n\t\t\tconst presentaciones_existentes = array_medidad_finales.filter((producto) => producto.color._id);\n\t\t\tif (presentaciones_existentes.length) {\n\t\t\t\tfor (let x = 0; x < array_medidad_finales.length; x++) {\n\t\t\t\t\tconst objeto_presentaciones_final = array_medidad_finales[x];\n\t\t\t\t\tpresentacion_temp.push({\n\t\t\t\t\t\texistencia: objeto_presentaciones_final.existencia,\n\t\t\t\t\t\tcodigo_barras: objeto_presentaciones_final.codigo_barras,\n\t\t\t\t\t\tnombre_comercial: objeto_presentaciones_final.nombre_comercial,\n\t\t\t\t\t\tmedida: objeto_presentaciones_final.medida,\n\t\t\t\t\t\tcolor: { nombre: '', hex: '' },\n\t\t\t\t\t\tprecio: objeto_presentaciones_final.precio,\n\t\t\t\t\t\tcantidad: objeto_presentaciones_final.cantidad,\n\t\t\t\t\t\tnuevo: true\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tsetColoresSeleccionados([ ...coloresSeleccionados ]);\n\t\tsetPresentaciones(presentacion_temp);\n\t};\n\n\treturn (\n\t\t<Grid item>\n\t\t\t<Tooltip title={color.nombre} placement=\"top\" arrow TransitionComponent={Zoom}>\n\t\t\t\t<div\n\t\t\t\t\tclassName={classes.colorContainer}\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tbackgroundColor: color.hex,\n\t\t\t\t\t\tcolor: theme.palette.getContrastText(color.hex)\n\t\t\t\t\t}}\n\t\t\t\t\tonClick={() => obtenerColores(!selected)}\n\t\t\t\t>\n\t\t\t\t\t{selected ? <Done /> : null}\n\t\t\t\t</div>\n\t\t\t</Tooltip>\n\t\t</Grid>\n\t);\n};\n","import React, { Fragment, useContext, useState } from \"react\";\nimport { Button, CircularProgress, Tooltip } from \"@material-ui/core\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport Slide from \"@material-ui/core/Slide\";\nimport { Done, SquareFoot } from \"@material-ui/icons\";\nimport { useQuery } from \"@apollo/client\";\nimport { OBTENER_CONSULTAS } from \"../../../../../gql/Catalogos/productos\";\nimport ErrorPage from \"../../../../../components/ErrorPage\";\nimport { ComprasContext } from \"../../../../../context/Compras/comprasContext\";\nimport TallasProducto from \"../../../Catalogos/Producto/TallasColores/TallasColores\";\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function AlertDialogSlide({verificate, setVerificate}) {\n  const [open, setOpen] = useState(false);\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n  const { datosProducto, datosCompra, setLoadingProductos } = useContext(ComprasContext);\n\n  /* Queries */\n  const { loading, data, error, refetch } = useQuery(OBTENER_CONSULTAS, {\n    variables: { empresa: sesion.empresa._id, sucursal: sesion.sucursal._id },\n  });\n\n  /* useEffect(() => {\n    if(loading){\n      setLoadingProductos(true);\n    }else{\n      setLoadingProductos(false);\n    }\n  }, [loading]); */\n\n  if (loading)\n    return (\n      <Button\n        color=\"primary\"\n        size=\"medium\"\n        disabled={true}\n        startIcon={<CircularProgress size={16} color=\"inherit\" />}\n      >\n        Medidas\n      </Button>\n    );\n\n  if (error) return <ErrorPage error={error} />;\n\n  const { obtenerConsultasProducto } = data;\n\n  const toggleDrawer = () => {\n    setOpen(!open);\n    setVerificate(false);\n  }\n\n  return (\n    <Fragment>\n      <Tooltip title=\"Selecciona medidas y colores\" disableHoverListener={true} open={verificate} placement=\"top\">\n        <Button\n          color={verificate ? \"secondary\" :\"inherit\"}\n          variant=\"outlined\"\n          size=\"medium\"\n          onClick={() => toggleDrawer()}\n          startIcon={<SquareFoot />}\n          disabled={!datosProducto.producto.datos_generales}\n        >\n          Medidas\n        </Button>\n      </Tooltip>\n      <Dialog\n        open={open}\n        TransitionComponent={Transition}\n        keepMounted\n        onClose={toggleDrawer}\n        aria-labelledby=\"alert-tallas-compra\"\n        aria-describedby=\"alert-tallas-compra-description\"\n        fullWidth\n        maxWidth=\"lg\"\n      >\n        <DialogContent>\n          <TallasProducto\n            datos={datosProducto.producto}\n            obtenerConsultasProducto={obtenerConsultasProducto}\n            refetch={refetch}\n            from=\"compra\"\n            almacen={datosCompra.almacen}\n            withoutPrice={true}\n          />\n        </DialogContent>\n        <DialogActions>\n          <Button\n            size=\"large\"\n            onClick={() => toggleDrawer()}\n            startIcon={<Done />}\n            color=\"primary\"\n            variant=\"contained\"\n          >\n            Aceptar\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </Fragment>\n  );\n}\n","import $ from \"jquery\"\nimport jQuery from \"jquery\"\n\nvar valuesFacturama = {\n    token: \"QUJTT0xVQ0lPTkVTOkxlb24yMDE4Iw==\",\n    url: \"https://apisandbox.facturama.mx/\"\n};\n\n$.ajaxSetup({\n    beforeSend: function (xhr) {\n        xhr.withCredentials = true;\n        xhr.setRequestHeader(\"Authorization\", \"Basic \" + valuesFacturama.token);\n    }\n});\n\nfunction facturama() {\n\n    var settings = {\n        url: valuesFacturama.url\n    };\n\n    function retrieve(path, id, callback) {\n        return jQuery.get(settings.url + path + '/' + id, undefined, callback, \"json\");\n    }\n\n    function list(path, callback) {\n        return jQuery.get(settings.url + path, undefined, callback, \"json\");\n    }\n\n    function listWithParam(path, param, callback) {\n        return jQuery.get(settings.url + path + param, undefined, callback, \"json\");\n    }\n\n    function postSyncWithParam(path, param, callback) {\n        $.ajax({\n            url: settings.url + path + param,\n            type: 'POST',\n            async: false,\n            success: callback\n        });\n    }\n\n    function postSyncWithData(path, data, callback, callbackError) {\n        $.ajax({\n            url: settings.url + path,\n            type: 'POST',\n            dataType: 'json',\n            data: JSON.stringify(data),\n            contentType: \"application/json\",\n            success: callback,\n            error: callbackError\n        });\n    }\n\n    function putSyncWithData(path, data, callback, callbackError) {\n        $.ajax({\n            url: settings.url + path,\n            type: 'PUT',\n            data: JSON.stringify(data),\n            contentType: \"application/json\",\n            success: callback,\n            error: callbackError\n        });\n    }\n\n    function deleteSyncWithParam(path, param, callback, callbackError) {\n        $.ajax({\n            url: settings.url + path + '/' + param,\n            type: 'DELETE',\n            async: false,\n            success: callback,\n            error: callbackError\n        });\n    }\n\n    var facturamaObject = {\n        Clients: {\n            Get: function (id, callback) {\n                return retrieve('client', id, callback);\n            },\n            List: function (callback) {\n                return list('client', callback);\n            },\n            Create: function (data, callback, callbackError) {\n                postSyncWithData('client', data, callback, callbackError);\n            },\n            Remove: function (id, callback, callbackError) {\n                deleteSyncWithParam('client/', id, callback, callbackError);\n            },\n            Update: function (id, data, callback, callbackError) {\n                putSyncWithData('client/' + id, data, callback, callbackError);\n            }\n        },\n        Products: {\n            Get: function (id, callback) {\n                return retrieve('product', id, callback);\n            },\n            List: function (callback) {\n                return list('product', callback);\n            },\n            Create: function (data, callback, callbackError) {\n                postSyncWithData('product', data, callback, callbackError);\n            },\n            Remove: function (id, callback, callbackError) {\n                deleteSyncWithParam('product/', id, callback, callbackError);\n            },\n            Update: function (id, data, callback, callbackError) {\n                putSyncWithData('product/' + id, data, callback, callbackError);\n            }\n        },\n        BranchOffice: {\n            Get: function (id, callback) {\n                return retrieve('branchOffice', id, callback);\n            },\n            List: function (callback) {\n                return list('branchOffice', callback);\n            },\n            Create: function (data, callback, callbackError) {\n                postSyncWithData('branchOffice', data, callback, callbackError);\n            },\n            Remove: function (id, callback, callbackError) {\n                deleteSyncWithParam('branchOffice', id, callback, callbackError);\n            },\n            Update: function (id, data, callback, callbackError) {\n                putSyncWithData('branchOffice/' + id, data, callback, callbackError);\n            }\n        },\n        Series: {\n            List: function (id, callback) {\n                return retrieve('serie', id, callback);\n            },\n            Create: function (idBranch, data, callback, callbackError) {\n                postSyncWithData('serie/' + idBranch, data, callback, callbackError);\n            },\n            Remove: function (idBranch, name, callback, callbackError) {\n                deleteSyncWithParam('serie/' + idBranch, name, callback, callbackError);\n            },\n            Update: function (idBranch, name, data, callback, callbackError) {\n                putSyncWithData('serie/' + idBranch + '/' + name, data, callback, callbackError);\n            }\n        },\n        Cfdi: {\n            Get: function (id, callback) {\n                return retrieve('cfdi', id, callback);\n            },\n            List: function (param, callback) {\n                return listWithParam('cfdi', param, callback);\n            },\n            Create: function (data, callback, callbackError) {\n                postSyncWithData('2/cfdis', data, callback, callbackError);\n            },\n            Send: function (param, callback) {\n                postSyncWithParam('cfdi', param, callback);\n            },\n            Cancel: function (params, callback, callbackError) {\n                deleteSyncWithParam('cfdi', params, callback, callbackError);\n            },\n            Download: function (format, type, id, callback) {\n                retrieve('cfdi/' + format + '/' + type, id, callback);\n            },\n            Acuse: function (format, type, id, callback) {\n                retrieve('acuse/' + format + '/' + type, id, callback);\n            }\n        },\n        TaxEntity: {\n            Get: function (callback) {\n                return list('taxEntity', callback);\n            },\n            Update: function (data, callback, callbackError) {\n                putSyncWithData('taxEntity', data, callback, callbackError);\n            },\n            UploadCsd: function (data, callback, callbackError) {\n                putSyncWithData('taxEntity/UploadCsd', data, callback, callbackError);\n            },\n            UploadImage: function (data, callback, callbackError) {\n                putSyncWithData('taxEntity/UploadLogo', data, callback, callbackError);\n            }\n        },\n        Catalogs: {\n            States: function (country, callback) {\n                return list('catalogs/municipalities?countryCode' + country, callback);\n            },\n            Municipalities: function (state, callback) {\n                return list('catalogs/municipalities?stateCode' + state, callback);\n            },\n            Localities: function (state, callback) {\n                return list('catalogs/localities?stateCode' + state, callback);\n            },\n            Neighborhoods: function (postalCode, callback) {\n                return list('catalogs/neighborhoods?postalCode' + postalCode, callback);\n            },\n            ProductsOrServices: function (keyword, callback) {\n                return list('catalogs/ProductsOrServices?keyword=' + keyword, callback);\n            },\n            PostalCodes: function (keyword, callback) {\n                return list('catalogs/PostalCodes?keyword=' + keyword, callback);\n            },\n            Units: function (callback) {\n                return list('catalogs/Units', callback);\n            },\n            Currencies: function (callback) {\n                return list('catalogs/Currencies', callback);\n            },\n            Countries: function (callback) {\n                return list('catalogs/Countries', callback);\n            },\n            PaymentForms: function (callback) {\n                return list('catalogs/PaymentForms', callback);\n            },\n            PaymentMethods: function (callback) {\n                return list('catalogs/PaymentMethods', callback);\n            },\n            FederalTaxes: function (callback) {\n                return list('catalogs/FederalTaxes', callback);\n            },\n            FiscalRegimens: function (callback) {\n                return list('catalogs/FiscalRegimens', callback);\n            },\n            CfdiTypes: function (callback) {\n                return list('catalogs/CfdiTypes', callback);\n            },\n            RelationTypes: function (callback) {\n                return list('catalogs/RelationTypes', callback);\n            },\n            CfdiUses: function (keyword, callback) {\n                return list('catalogs/CfdiUses?keyword=' + keyword, callback);\n            }\n        }\n    };\n\n    facturamaObject.getToken = function () {\n        return \"Basic \" + valuesFacturama.token;\n    };\n\n    facturamaObject.getBaseUri = function () {\n        return settings.url;\n    };\n\n    return facturamaObject;\n}\n\n export default facturama()\n","import { gql } from \"@apollo/client\";\n\nexport const CREAR_CODIGO_PRODUCTO = gql`\n  mutation crearCodigoProducto($input: CodigoCatalogoProductoInput) {\n    crearCodigoProducto(input: $input) {\n      message\n    }\n  }\n`;\n\nexport const OBTENER_CODIGOS_PRODUCTO = gql`\n  query obtenerCodigosProducto($empresa: ID!, $sucursal: ID) {\n    obtenerCodigosProducto(empresa: $empresa, sucursal: $sucursal) {\n      _id\n      Name\n      Value\n      empresa {\n        _id\n        nombre_empresa\n      }\n      sucursal {\n        _id\n        nombre_sucursal\n      }\n    }\n  }\n`;\n\nexport const ELIMINAR_CODIGO_PRODUCTO = gql`\n  mutation eliminarCodigoProducto($id: ID!) {\n    eliminarCodigoProducto(id: $id) {\n      message\n    }\n  }\n`;\n","import React, { Fragment, useContext, useEffect, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Slide from \"@material-ui/core/Slide\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Box from \"@material-ui/core/Box\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport Divider from \"@material-ui/core/Divider\";\n\nimport { RegProductoContext } from \"../../../../../context/Catalogos/CtxRegProducto\";\nimport { Close, Done, Search } from \"@material-ui/icons\";\nimport {\n  CircularProgress,\n  IconButton,\n  InputAdornment,\n} from \"@material-ui/core\";\nimport Facturama from \"../../../../../billing/Facturama/facturama.api\";\nimport {\n  CREAR_CODIGO_PRODUCTO,\n  ELIMINAR_CODIGO_PRODUCTO,\n} from \"../../../../../gql/CatalogosSat/catalogoProductosSat\";\nimport { useMutation } from \"@apollo/client\";\nimport SnackBarMessages from \"../../../../../components/SnackBarMessages\";\nimport { useDebounce } from \"use-debounce\";\nimport { Alert } from \"@material-ui/lab\";\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: \"100%\",\n    backgroundColor: theme.palette.background.paper,\n  },\n  spin_container: {\n    position: \"absolute\",\n    height: \"100%\",\n    width: \"100%\",\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n  },\n  spin: {\n    zIndex: 9999,\n  },\n  titulos: {\n    fontWeight: 500,\n  },\n}));\n\nexport default function CatalogosProductosSAT({ codigos, refetch }) {\n  const classes = useStyles();\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n  const [open, setOpen] = React.useState(false);\n  const { datos_generales, setDatosGenerales } = useContext(RegProductoContext);\n  const [busqueda, setBusqueda] = useState(\"\");\n  const [productos, setProductos] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [loading_save, setLoadingSave] = useState(false);\n  const [loading_delete, setLoadingDelete] = useState(false);\n  const [selectedIndex, setSelectedIndex] = useState({});\n\n  const [error, setError] = useState(\"\");\n  const [alert, setAlert] = useState({ message: \"\", status: \"\", open: false });\n\n  const [crearCodigoProducto] = useMutation(CREAR_CODIGO_PRODUCTO);\n  const [eliminarCodigoProducto] = useMutation(ELIMINAR_CODIGO_PRODUCTO);\n\n  const handleClickOpen = () => setOpen(true);\n  const handleClose = () => setOpen(false);\n\n  const limpiarDataModal = () => {\n    setSelectedIndex({});\n    setProductos([]);\n    setBusqueda(\"\");\n    handleClose();\n  };\n\n  const [value] = useDebounce(busqueda, 500);\n\n  const handleOk = async (selectedIndex) => {\n    const { Name, Value } = selectedIndex;\n    setDatosGenerales({\n      ...datos_generales,\n      clave_producto_sat: {\n        Name,\n        Value,\n      },\n    });\n    //Crear Codigo product a la BD\n    try {\n      setLoadingSave(true);\n      const result = await crearCodigoProducto({\n        variables: {\n          input: {\n            Name,\n            Value,\n            empresa: sesion.empresa._id,\n            sucursal: sesion.sucursal._id,\n          },\n        },\n      });\n\n      if (result) {\n        const { message } = result.data.crearCodigoProducto;\n        setAlert({\n          message: message,\n          status: \"success\",\n          open: true,\n        });\n        setLoadingSave(false);\n        refetch();\n        limpiarDataModal();\n      }\n    } catch (error) {\n      setLoadingSave(false);\n      setAlert({\n        message: `Error: ${error.message}`,\n        status: \"error\",\n        open: true,\n      });\n    }\n  };\n\n  const eliminarCodigoBD = async (data) => {\n    try {\n      setLoadingDelete(true);\n      const result = await eliminarCodigoProducto({\n        variables: {\n          id: data._id,\n        },\n      });\n\n      if (result) {\n        const { message } = result.data.eliminarCodigoProducto;\n        setAlert({\n          message: message,\n          status: \"success\",\n          open: true,\n        });\n        setDatosGenerales({\n          ...datos_generales,\n          clave_producto_sat: {\n            Name: \"\",\n            Value: \"\",\n          },\n        });\n        setLoadingDelete(false);\n        refetch();\n      }\n    } catch (error) {\n      setLoadingDelete(false);\n      setAlert({\n        message: `Error: ${error.message}`,\n        status: \"error\",\n        open: true,\n      });\n    }\n  };\n\n  const handleCancel = () => {\n    limpiarDataModal();\n  };\n\n  const obtenerCampos = (data) => {\n    if (!data) {\n      setDatosGenerales({\n        ...datos_generales,\n        clave_producto_sat: {\n          Name: \"\",\n          Value: \"\",\n        },\n      });\n      return null;\n    }\n    setDatosGenerales({\n      ...datos_generales,\n      clave_producto_sat: {\n        Name: data.Name,\n        Value: data.Value,\n      },\n    });\n  };\n\n  const buscarCatalogo = async () => {\n    if (!value) {\n      setProductos([]);\n      return;\n    }\n    setLoading(true);\n    try {\n      await Facturama.Catalogs.ProductsOrServices(\n        value,\n        function (result) {\n          setProductos(result);\n          setLoading(false);\n        },\n        function (error) {\n          if (error && error.responseJSON) {\n            setError(error.responseJSON);\n          }\n          setLoading(false);\n        }\n      );\n    } catch (error) {\n      if (error && error.responseJSON) {\n        setError(error.responseJSON.Message);\n      }\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    buscarCatalogo();\n  }, [value]);\n\n  return (\n    <div>\n      <SnackBarMessages alert={alert} setAlert={setAlert} />\n      <Typography className={classes.titulos}>Clave de producto SAT</Typography>\n      <Box display=\"flex\">\n        <Autocomplete\n          id=\"catalogos-bd-productos\"\n          size=\"small\"\n          options={codigos}\n          disabled={loading_delete}\n          getOptionLabel={(option) =>\n            option.Name ? `${option.Value} - ${option.Name}` : \"\"\n          }\n          fullWidth\n          renderInput={(params) => (\n            <TextField\n              {...params}\n              variant=\"outlined\"\n              InputProps={{\n                ...params.InputProps,\n                endAdornment: (\n                  <Fragment>\n                    {loading_delete ? <CircularProgress size={20} /> : null}\n                    {params.InputProps.endAdornment}\n                  </Fragment>\n                ),\n              }}\n            />\n          )}\n          renderOption={(option) => (\n            <Fragment>\n              {`${option.Value} - ${option.Name}`}\n              <div style={{ flexGrow: 1 }} />\n              <IconButton size=\"small\" onClick={() => eliminarCodigoBD(option)}>\n                <Close />\n              </IconButton>\n            </Fragment>\n          )}\n          onChange={(_, data) => obtenerCampos(data)}\n          getOptionSelected={(option, value) => option.Value === value.Value}\n          value={datos_generales.clave_producto_sat}\n        />\n        <Button color=\"primary\" onClick={handleClickOpen}>\n          <Search />\n        </Button>\n      </Box>\n      <Dialog\n        open={open}\n        TransitionComponent={Transition}\n        keepMounted\n        onClose={handleCancel}\n        aria-labelledby=\"alert-dialog-clave-producto\"\n        fullWidth\n        maxWidth=\"sm\"\n      >\n        <DialogTitle id=\"alert-dialog-clave-producto\">\n          <Box display=\"flex\" justifyContent=\"space-between\">\n            <Typography variant=\"h6\">\n              Catalogo de productos y servicios SAT\n            </Typography>\n            <Box>\n              <Button\n                variant=\"contained\"\n                color=\"secondary\"\n                onClick={() => handleCancel()}\n                size=\"large\"\n                disabled={loading_save}\n              >\n                <Close />\n              </Button>\n            </Box>\n          </Box>\n        </DialogTitle>\n        {loading_save ? (\n          <div className={classes.spin_container}>\n            <CircularProgress className={classes.spin} size={35} />\n          </div>\n        ) : null}\n        <div\n          style={\n            loading_save\n              ? {\n                  pointerEvents: \"none\",\n                  opacity: 0.4,\n                }\n              : null\n          }\n        >\n          <Box p={2}>\n            <TextField\n              variant=\"outlined\"\n              label=\"producto, servicio o giro de la empresa\"\n              fullWidth\n              size=\"small\"\n              onChange={(e) => {\n                setBusqueda(e.target.value);\n                setError(\"\");\n              }}\n              value={busqueda}\n              InputProps={{\n                startAdornment: (\n                  <InputAdornment position=\"start\">\n                    <Search color=\"disabled\" />\n                  </InputAdornment>\n                ),\n              }}\n              error={error ? true : false}\n              helperText={error ? error : \"\"}\n            />\n            <Box my={1}>\n              <Alert severity=\"info\">\n                Para seleccionar un cliente haz un doble click!\n              </Alert>\n            </Box>\n          </Box>\n\n          <DialogContent style={{ height: \"50vh\" }}>\n            <Box my={3} className={classes.root}>\n              {loading ? (\n                <Box\n                  display=\"flex\"\n                  justifyContent=\"center\"\n                  alignItems=\"center\"\n                  height=\"25vh\"\n                >\n                  <CircularProgress />\n                </Box>\n              ) : (\n                <List dense component=\"nav\" aria-label=\"main mailbox folders\">\n                  {productos.map((res, index) => (\n                    <SelectedListItem\n                      key={index}\n                      producto={res}\n                      busqueda={busqueda}\n                      handleOk={handleOk}\n                      setSelectedIndex={setSelectedIndex}\n                      selectedIndex={selectedIndex}\n                    />\n                  ))}\n                </List>\n              )}\n            </Box>\n          </DialogContent>\n          <DialogActions>\n            <Button onClick={() => handleCancel()}>Cancelar</Button>\n          </DialogActions>\n        </div>\n      </Dialog>\n    </div>\n  );\n}\n\nconst SelectedListItem = ({\n  producto,\n  busqueda,\n  handleOk,\n  selectedIndex,\n  setSelectedIndex,\n}) => {\n  const handleListItemClick = (click, data) => {\n    setSelectedIndex(data);\n    if (click === 2) {\n      handleOk(data);\n    }\n  };\n\n  const contiene = busqueda.includes(\"potacio\");\n  if (producto.Value === \"0\" && !contiene) {\n    return null;\n  }\n\n  return (\n    <Fragment>\n      <ListItem\n        button\n        selected={selectedIndex.Value === producto.Value}\n        onClick={(e) => handleListItemClick(e.detail, producto)}\n      >\n        <ListItemText primary={`${producto.Value} - ${producto.Name}`} />\n      </ListItem>\n      <Divider />\n    </Fragment>\n  );\n};\n","import { gql } from '@apollo/client';\n \nexport const CREAR_CATEGORIA = gql`\n\tmutation crearCategoria($input: CrearCategoriasInput) {\n\t\tcrearCategoria(input: $input) {\n\t\t\t_id\n\t\t\tcategoria\n\t\t\tempresa {\n\t\t\t\t_id\n\t\t\t\tnombre_empresa\n\t\t\t\tcorreo_empresa\n\t\t\t\tnombre_dueno\n\t\t\t\ttelefono_dueno\n\t\t\t}\n\t\t\tsucursal {\n\t\t\t\t_id\n\t\t\t\tnombre_sucursal\n\t\t\t\tdescripcion\n\t\t\t}\n\t\t}\n\t}\n`;\nexport const CREAR_SUBCATEGORIA = gql`\n\tmutation crearSubcategoria($idCategoria: ID!, $input: CrearSubcategoriasInput) {\n\t\tcrearSubcategoria(idCategoria: $idCategoria, input: $input) {\n\t\t\tmessage\n\t\t}\n\t}\n`;\n\nexport const ACTUALIZAR_CATEGORIA = gql`\n\tmutation actualizarCategoria($idCategoria: ID!, $input: ActualizarCategoriasInput) {\n\t\tactualizarCategoria(idCategoria: $idCategoria, input: $input) {\n\t\t\tmessage\n\t\t}\n\t}\n`;\nexport const ACTUALIZAR_SUBCATEGORIA = gql`\n\tmutation actualizarSubcategoria($idCategoria: ID!, $idSubcategoria: ID!, $input: ActualizarSubcategoriasInput) {\n\t\tactualizarSubcategoria(idCategoria: $idCategoria, idSubcategoria: $idSubcategoria, input: $input) {\n\t\t\tmessage\n\t\t}\n\t}\n`;\n\nexport const OBTENER_CATEGORIAS = gql`\n\tquery obtenerCategorias($empresa: ID!, $sucursal: ID!) {\n\t\tobtenerCategorias(empresa: $empresa, sucursal: $sucursal) {\n\t\t\t_id\n\t\t\tcategoria\n\t\t\tsubcategorias {\n\t\t\t\t_id\n\t\t\t\tsubcategoria\n\t\t\t}\n\t\t\tempresa {\n\t\t\t\t_id\n\t\t\t\tnombre_empresa\n\t\t\t\tcorreo_empresa\n\t\t\t\tnombre_dueno\n\t\t\t\ttelefono_dueno\n\t\t\t}\n\t\t\tsucursal {\n\t\t\t\t_id\n\t\t\t\tnombre_sucursal\n\t\t\t\tdescripcion\n\t\t\t}\n\t\t}\n\t}\n`;\nexport const ELIMINAR_CATEGORIA = gql`\n\tmutation eliminarCategoria($idCategoria: ID!) {\n\t\teliminarCategoria(idCategoria: $idCategoria) {\n\t\t\tmessage\n\t\t}\n\t}\n`; \n\nexport const ELIMINAR_SUBCATEGORIA = gql`\n\tmutation eliminarSubcategoria($idCategoria: ID!, $idSubcategoria: ID!) {\n\t\teliminarSubcategoria(idCategoria: $idCategoria, idSubcategoria: $idSubcategoria) {\n\t\t\tmessage\n\t\t}\n\t}\n`;\n","import { gql } from '@apollo/client';\n\nexport const OBTENER_DEPARTAMENTOS = gql`\n\tquery ObtenerDepartamentos($empresa: ID!, $sucursal: ID!){\n        obtenerDepartamentos(empresa: $empresa, sucursal: $sucursal){\n            _id\n            nombre_departamentos\n            empresa{\n                _id\n                nombre_empresa\n            }\n            sucursal{\n                _id\n                nombre_sucursal\n            }\n        }\n    }\n`;\n\nexport const REGISTRAR_DEPARTAMENTO = gql`\n\tmutation CrearDepartamentos($input: DepartamentosInput, $empresa: ID!, $sucursal: ID!){\n        crearDepartamentos(input: $input, empresa: $empresa, sucursal: $sucursal){\n            message\n        }\n    }\n`;\n\nexport const ACTUALIZAR_DEPARTAMENTO = gql`\n\tmutation ActualzarDepartamentos($input: DepartamentosInput, $id: ID!){\n        actualzarDepartamentos(input: $input, id: $id){\n            message\n        }\n    }\n`;\n\nexport const ELIMINAR_DEPARTAMENTO = gql`\n    mutation EliminarDepartamento($id: ID!){\n        eliminarDepartamento(id: $id){\n            message\n        }\n    }\n\t\n`;","import { gql } from '@apollo/client';\n\nexport const OBTENER_MARCAS = gql`\n    query ObtenerMarcas($empresa: ID!, $sucursal: ID!){\n        obtenerMarcas(empresa: $empresa, sucursal: $sucursal){\n            _id\n            nombre_marca\n        }\n    }\n`;\n\nexport const REGISTRAR_MARCAS = gql`\n    mutation CrearMarca($input: MarcasInput!, $empresa: ID!, $sucursal: ID!){\n        crearMarcas(input: $input, empresa: $empresa, sucursal: $sucursal ){\n            message\n        }\n    }\n`;\n\nexport const ACTUALIZAR_MARCAS = gql`\n    mutation actualzarMarcas($input: MarcasInput, $id: ID! ) {\n\t\tactualzarMarcas(id: $id, input: $input) {\n\t\t\tmessage\n\t\t}\n\t}\n`;\n\nexport const ELIMINAR_MARCAS = gql`\n\tmutation eliminarMarca($id: ID!, $empresa: ID!, $sucursal: ID!) {\n\t\teliminarMarca(id: $id, empresa: $empresa, sucursal: $sucursal) {\n\t\t\tmessage\n\t\t}\n\t}\n`;","import React, { Fragment, useContext, useState } from \"react\";\nimport { TextField, Button } from \"@material-ui/core\";\nimport {\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  CircularProgress,\n} from \"@material-ui/core\";\nimport { Add } from \"@material-ui/icons\";\nimport { RegProductoContext } from \"../../../../../context/Catalogos/CtxRegProducto\";\n\nimport { useMutation } from \"@apollo/client\";\nimport {\n  CREAR_CATEGORIA,\n  CREAR_SUBCATEGORIA,\n} from \"../../../../../gql/Catalogos/categorias\";\nimport { REGISTRAR_DEPARTAMENTO } from \"../../../../../gql/Catalogos/departamentos\";\nimport { REGISTRAR_MARCAS } from \"../../../../../gql/Catalogos/marcas\";\nimport SnackBarMessages from \"../../../../../components/SnackBarMessages\";\n\nexport default function RegistrarNuevoSelect({\n  tipo,\n  name,\n  refetch,\n  subcategorias,\n  setSubcategorias,\n}) {\n  const [open, setOpen] = useState(false);\n  const [validacion, setValidacion] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [value, setValue] = useState(\"\");\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n  const { datos_generales, setDatosGenerales } = useContext(RegProductoContext);\n  const [alert, setAlert] = useState({ message: \"\", status: \"\", open: false });\n\n  /*  Categorias Mutation */\n  const [crearCategoria] = useMutation(CREAR_CATEGORIA);\n  /*  Subcategorias Mutation */\n  const [crearSubcategoria] = useMutation(CREAR_SUBCATEGORIA);\n  /*  Departamentos Mutation */\n  const [CrearDepartamentos] = useMutation(REGISTRAR_DEPARTAMENTO);\n  /*  Marcas Mutation */\n  const [CrearMarca] = useMutation(REGISTRAR_MARCAS);\n\n  const handleToggle = () => {\n    setOpen(!open);\n  };\n\n  const obtenerDatos = (e) => {\n    setValue(e.target.value);\n  };\n\n  const guardarDatos = async (e) => {\n    e.preventDefault();\n    if (!value) {\n      setValidacion(true);\n      return;\n    }\n    let variables = {\n      input: {\n        [name]: value,\n      },\n      empresa: sesion.empresa._id,\n      sucursal: sesion.sucursal._id,\n    };\n    if (tipo === \"categoria\") {\n      variables = {\n        input: {\n          [name]: value,\n          empresa: sesion.empresa._id,\n          sucursal: sesion.sucursal._id,\n        },\n      };\n    }\n    if (tipo === \"subcategoria\") {\n      variables = {\n        input: {\n          [name]: value,\n        },\n        idCategoria: datos_generales.id_categoria,\n      };\n    }\n    setLoading(true);\n    try {\n      switch (tipo) {\n        case \"categoria\":\n          const categoria_creada = await crearCategoria({ variables });\n          refetch();\n          const id_categoria = categoria_creada.data.crearCategoria._id;\n          setDatosGenerales({\n            ...datos_generales,\n            categoria: value,\n            id_categoria,\n          });\n          break;\n        case \"subcategoria\":\n          const subcategoria_creada = await crearSubcategoria({ variables });\n          refetch();\n          const id_subcategoria =\n            subcategoria_creada.data.crearSubcategoria.message;\n          setSubcategorias([\n            ...subcategorias,\n            { _id: id_subcategoria, subcategoria: value },\n          ]);\n          setDatosGenerales({\n            ...datos_generales,\n            subcategoria: value,\n            id_subcategoria,\n          });\n          break;\n        case \"departamento\":\n          const departamento_creado = await CrearDepartamentos({ variables });\n          refetch();\n          const id_departamento =\n            departamento_creado.data.crearDepartamentos.message;\n          setDatosGenerales({\n            ...datos_generales,\n            departamento: value,\n            id_departamento,\n          });\n          break;\n        case \"marca\":\n          const marca_creada = await CrearMarca({ variables });\n          refetch();\n          const id_marca = marca_creada.data.crearMarcas.message;\n          setDatosGenerales({\n            ...datos_generales,\n            marca: value,\n            id_marca,\n          });\n          break;\n        default:\n          break;\n      }\n      setAlert({ message: \"Listo!\", status: \"success\", open: true });\n      setLoading(false);\n      handleToggle();\n    } catch (error) {\n      setLoading(false);\n      if(error.message){\n        setAlert({ message: error.message, status: \"error\", open: true });\n      }else{\n        setAlert({ message: \"Hubo un error\", status: \"error\", open: true });\n      }\n    }\n  };\n\n  return (\n    <Fragment>\n      <Button\n        color=\"primary\"\n        onClick={() => handleToggle()}\n        disabled={tipo === \"subcategoria\" && !datos_generales.id_categoria}\n      >\n        <Add />\n      </Button>\n      <Dialog\n        open={open}\n        onClose={handleToggle}\n        aria-labelledby={`modal-title-${tipo}`}\n      >\n        <SnackBarMessages alert={alert} setAlert={setAlert} />\n        <DialogTitle id={`modal-title-${tipo}`}>Registrar {tipo}</DialogTitle>\n        <DialogContent>\n          <form id={`registro-${name}`} onSubmit={(e) => guardarDatos(e)}>\n            <TextField\n              error={validacion}\n              name={name}\n              autoFocus\n              label={tipo}\n              fullWidth\n              variant=\"outlined\"\n              onChange={obtenerDatos}\n              helperText={validacion ? \"Campo obligatorio\" : \"\"}\n            />\n          </form>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={() => handleToggle()} color=\"primary\">\n            Cancelar\n          </Button>\n          <Button\n            /* onClick={() => guardarDatos()} */\n            form={`registro-${name}`}\n            type=\"submit\"\n            variant=\"contained\"\n            color=\"primary\"\n            endIcon={\n              loading ? <CircularProgress color=\"inherit\" size={18} /> : null\n            }\n          >\n            Guardar\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </Fragment>\n  );\n}\n","import React, { Fragment, useContext } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { Box, TextField, Typography } from \"@material-ui/core\";\nimport { RegProductoContext } from \"../../../../../context/Catalogos/CtxRegProducto\";\nimport RegistrarNuevoSelect from \"./RegistrarNuevoSelect\";\nimport { Autocomplete } from \"@material-ui/lab\";\n\nconst useStyles = makeStyles((theme) => ({\n  titulos: {\n    fontWeight: 500,\n  },\n}));\n\nexport default function CategoriasProducto({ categorias, refetch }) {\n  const classes = useStyles();\n  const { datos_generales, setDatosGenerales, setSubcategorias } = useContext(\n    RegProductoContext\n  );\n\n  const obtenerDatos = (_, value) => {\n    if (!value) {\n      setDatosGenerales({\n        ...datos_generales,\n        categoria: \"\",\n        id_categoria: \"\",\n      });\n      setSubcategorias([]);\n      return;\n    }\n    setDatosGenerales({\n      ...datos_generales,\n      categoria: value.categoria,\n      id_categoria: value._id,\n    });\n    setSubcategorias(value.subcategorias);\n  };\n\n  return (\n    <Fragment>\n      <Typography className={classes.titulos}>Categoria</Typography>\n      <Box display=\"flex\">\n        <Autocomplete\n          id=\"form-producto-categoria\"\n          size=\"small\"\n          fullWidth\n          options={categorias}\n          getOptionLabel={(option) => option.categoria}\n          renderInput={(params) => <TextField {...params} variant=\"outlined\" />}\n          onChange={(_, value) => obtenerDatos(_, value)}\n          getOptionSelected={(option, value) =>\n            option.categoria === value.categoria\n          }\n          value={datos_generales.categoria ? datos_generales : null}\n        />\n        <RegistrarNuevoSelect\n          tipo=\"categoria\"\n          name=\"categoria\"\n          refetch={refetch}\n        />\n      </Box>\n    </Fragment>\n  );\n}\n","import React, { Fragment, useContext } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { Box, TextField, Typography } from \"@material-ui/core\";\nimport { RegProductoContext } from \"../../../../../context/Catalogos/CtxRegProducto\";\nimport RegistrarNuevoSelect from \"./RegistrarNuevoSelect\";\nimport { Autocomplete } from \"@material-ui/lab\";\n\nconst useStyles = makeStyles((theme) => ({\n  titulos: {\n    fontWeight: 500,\n  },\n}));\n\nexport default function SubcategoriasProducto({ refetch }) {\n  const classes = useStyles();\n  const { datos_generales, setDatosGenerales, subcategorias, setSubcategorias } = useContext(RegProductoContext);\n\n  const obtenerDatos = (_, value) => {\n    if (!value) {\n      setDatosGenerales({\n        ...datos_generales,\n        subcategoria: \"\",\n        id_subcategoria: \"\",\n      });\n      return;\n    }\n    setDatosGenerales({\n      ...datos_generales,\n      subcategoria: value.subcategoria,\n      id_subcategoria: value._id,\n    });\n  };\n\n  return (\n    <Fragment>\n      <Typography className={classes.titulos}>Subcategoria</Typography>\n      <Box display=\"flex\">\n        <Autocomplete\n          id=\"form-producto-subcategoria\"\n          size=\"small\"\n          fullWidth\n          options={subcategorias}\n          getOptionLabel={(option) => option.subcategoria}\n          renderInput={(params) => <TextField {...params} variant=\"outlined\" />}\n          onChange={(_, value) => obtenerDatos(_, value)}\n          getOptionSelected={(option, value) =>\n            option.subcategoria === value.subcategoria\n          }\n          value={datos_generales.subcategoria ? datos_generales : null}\n        />\n        <RegistrarNuevoSelect\n          tipo=\"subcategoria\"\n          name=\"subcategoria\"\n          refetch={refetch}\n          subcategorias={subcategorias}\n          setSubcategorias={setSubcategorias}\n        />\n      </Box>\n    </Fragment>\n  );\n}\n","import React, { Fragment, useContext } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { Box, TextField, Typography } from \"@material-ui/core\";\nimport { RegProductoContext } from \"../../../../../context/Catalogos/CtxRegProducto\";\nimport RegistrarNuevoSelect from \"./RegistrarNuevoSelect\";\nimport { Autocomplete } from \"@material-ui/lab\";\n\nconst useStyles = makeStyles((theme) => ({\n  titulos: {\n    fontWeight: 500,\n  },\n}));\n\nexport default function DepartamentosProducto({ departamentos, refetch }) {\n  const classes = useStyles();\n  const { datos_generales, setDatosGenerales } = useContext(RegProductoContext);\n\n  const obtenerDatos = (_, value) => {\n    if (!value) {\n      setDatosGenerales({\n        ...datos_generales,\n        departamento: \"\",\n        id_departamento: \"\",\n      });\n      return;\n    }\n    setDatosGenerales({\n      ...datos_generales,\n      departamento: value.nombre_departamentos,\n      id_departamento: value._id,\n    });\n  };\n\n  return (\n    <Fragment>\n      <Typography className={classes.titulos}>Departamento</Typography>\n      <Box display=\"flex\">\n        <Autocomplete\n          id=\"form-producto-departamento\"\n          size=\"small\"\n          fullWidth\n          options={departamentos}\n          getOptionLabel={(option) =>\n            option.nombre_departamentos\n              ? option.nombre_departamentos\n              : option.departamento\n          }\n          renderInput={(params) => <TextField {...params} variant=\"outlined\" />}\n          onChange={(_, value) => obtenerDatos(_, value)}\n          getOptionSelected={(option, value) =>\n            option.nombre_departamentos === value.departamento\n          }\n          value={datos_generales.departamento ? datos_generales : null}\n        />\n        <RegistrarNuevoSelect\n          tipo=\"departamento\"\n          name=\"nombre_departamentos\"\n          refetch={refetch}\n        />\n      </Box>\n    </Fragment>\n  );\n}\n","import React, { Fragment, useContext } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { Box, TextField, Typography } from \"@material-ui/core\";\nimport { RegProductoContext } from \"../../../../../context/Catalogos/CtxRegProducto\";\nimport RegistrarNuevoSelect from \"./RegistrarNuevoSelect\";\nimport { Autocomplete } from \"@material-ui/lab\";\n\nconst useStyles = makeStyles((theme) => ({\n  titulos: {\n    fontWeight: 500,\n  },\n}));\n\nexport default function MarcasProducto({ marcas, refetch }) {\n  const classes = useStyles();\n  const { datos_generales, setDatosGenerales } = useContext(RegProductoContext);\n\n  const obtenerDatos = (_, value) => {\n    if (!value) {\n      setDatosGenerales({\n        ...datos_generales,\n        marca: \"\",\n        id_marca: \"\",\n      });\n      return;\n    }\n    setDatosGenerales({\n      ...datos_generales,\n      marca: value.nombre_marca,\n      id_marca: value._id,\n    });\n  };\n\n  return (\n    <Fragment>\n      <Typography className={classes.titulos}>Marca</Typography>\n      <Box display=\"flex\">\n        <Autocomplete\n          id=\"form-producto-marca\"\n          size=\"small\"\n          fullWidth\n          options={marcas}\n          getOptionLabel={(option) =>\n            option.nombre_marca ? option.nombre_marca : option.marca\n          }\n          renderInput={(params) => <TextField {...params} variant=\"outlined\" />}\n          onChange={(_, value) => obtenerDatos(_, value)}\n          getOptionSelected={(option, value) =>\n            option.nombre_marca === value.marca\n          }\n          value={datos_generales.marca ? datos_generales : null}\n        />\n        <RegistrarNuevoSelect\n          tipo=\"marca\"\n          name=\"nombre_marca\"\n          refetch={refetch}\n        />\n      </Box>\n    </Fragment>\n  );\n}\n","import React, { Fragment, useContext, useEffect, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport {\n  Box,\n  FormControl,\n  Divider,\n  MenuItem,\n  Select,\n  Container,\n  FormHelperText,\n  OutlinedInput,\n  InputAdornment,\n  Grid,\n  IconButton,\n} from \"@material-ui/core\";\nimport {\n  TextField,\n  Typography,\n  Button,\n  Checkbox,\n  FormControlLabel,\n} from \"@material-ui/core\";\nimport {\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  CircularProgress,\n} from \"@material-ui/core\";\nimport { Add, Autorenew } from \"@material-ui/icons\";\nimport { RegProductoContext } from \"../../../../../context/Catalogos/CtxRegProducto\";\nimport CatalogosProductosSAT from \"./CatalogoProductosSAT\";\n\nimport { useMutation } from \"@apollo/client\";\nimport {\n  CREAR_CATEGORIA,\n  CREAR_SUBCATEGORIA,\n} from \"../../../../../gql/Catalogos/categorias\";\nimport { REGISTRAR_DEPARTAMENTO } from \"../../../../../gql/Catalogos/departamentos\";\nimport { REGISTRAR_MARCAS } from \"../../../../../gql/Catalogos/marcas\";\nimport SnackBarMessages from \"../../../../../components/SnackBarMessages\";\nimport CategoriasProducto from \"./Categorias\";\nimport SubcategoriasProducto from \"./Subcategorias\";\nimport DepartamentosProducto from \"./Departamentos\";\nimport MarcasProducto from \"./Marcas\";\n\nconst useStyles = makeStyles((theme) => ({\n  formInput: {\n    margin: `${theme.spacing(1)}px ${theme.spacing(2)}px`,\n  },\n  obligatorio: {\n    color: \"red\",\n  },\n  titulos: {\n    fontWeight: 500,\n  },\n}));\n\nexport default function RegistroInfoGenerales({\n  obtenerConsultasProducto,\n  refetch,\n}) {\n  const classes = useStyles();\n  const {\n    datos_generales,\n    setDatosGenerales,\n    validacion,\n    precios,\n    setPrecios,\n    centro_de_costos,\n    setSubcostos,\n  } = useContext(RegProductoContext);\n  const {\n    subcategorias,\n    setSubcategorias,\n    unidadVentaXDefecto,\n    setUnidadVentaXDefecto,\n    unidadVentaSecundaria,\n    setUnidadVentaSecundaria,\n    update,\n  } = useContext(RegProductoContext);\n  const {\n    categorias,\n    departamentos,\n    marcas,\n    centro_costos,\n    codigos,\n  } = obtenerConsultasProducto;\n\n  const obtenerCampos = (e) => {\n    if (e.target.name === \"monedero_electronico\") {\n      if (!e.target.value) {\n        setPrecios({\n          ...precios,\n          [e.target.name]: \"\",\n        });\n        return;\n      }\n      setPrecios({\n        ...precios,\n        [e.target.name]: parseFloat(e.target.value),\n      });\n      return;\n    }\n    if (e.target.name === \"codigo_barras\") {\n      setUnidadVentaXDefecto({\n        ...unidadVentaXDefecto,\n        codigo_barras: e.target.value,\n      });\n    }\n    setDatosGenerales({\n      ...datos_generales,\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  const checkFarmacia = (e) => {\n    setDatosGenerales({\n      ...datos_generales,\n      receta_farmacia: e.target.checked,\n    });\n  };\n\n  const obtenerChecks = (e) => {\n    if (e.target.name === \"monedero\" && e.target.checked) {\n      setPrecios({\n        ...precios,\n        monedero_electronico: 1,\n        monedero: e.target.checked,\n      });\n      return;\n    }\n    /* setPrecios({\n\t\t\t...precios,\n\t\t\t[e.target.name]: e.target.checked\n\t\t}); */\n    if (e.target.name === \"granel\" && e.target.checked) {\n      setPrecios({\n        ...precios,\n        [e.target.name]: e.target.checked,\n        inventario: {\n          ...precios.inventario,\n          unidad_de_inventario: \"Kg\",\n          codigo_unidad: \"KGM\",\n        },\n        unidad_de_compra: {\n          ...precios.unidad_de_compra,\n          unidad: \"Kg\",\n          codigo_unidad: \"KGM\",\n        },\n      });\n      setUnidadVentaXDefecto({\n        ...unidadVentaXDefecto,\n        unidad: \"Kg\",\n        codigo_unidad: \"KGM\",\n      });\n      setUnidadVentaSecundaria({\n        ...unidadVentaSecundaria,\n        unidad: \"Costal\",\n        codigo_unidad: \"KGM\",\n      });\n    } else {\n      setPrecios({\n        ...precios,\n        [e.target.name]: e.target.checked,\n        inventario: {\n          ...precios.inventario,\n          unidad_de_inventario: \"Pz\",\n          codigo_unidad: \"H87\",\n        },\n        unidad_de_compra: {\n          ...precios.unidad_de_compra,\n          unidad: \"Pz\",\n          codigo_unidad: \"H87\",\n        },\n      });\n      setUnidadVentaXDefecto({\n        ...unidadVentaXDefecto,\n        unidad: \"Pz\",\n        codigo_unidad: \"H87\",\n      });\n      setUnidadVentaSecundaria({\n        ...unidadVentaSecundaria,\n        unidad: \"Caja\",\n        codigo_unidad: \"XBX\",\n      });\n    }\n  };\n\n  const obtenerIDs = (event, child) => {\n    setDatosGenerales({\n      ...datos_generales,\n      [event.target.name]: event.target.value,\n      [child.props.name]: child.props.id,\n    });\n    if (child.props.categoria) {\n      const { subcategorias } = child.props.categoria;\n      setSubcategorias(subcategorias);\n    }\n  };\n\n  const GenCodigoBarras = () => {\n    const max = 999999999999;\n    const min = 100000000000;\n    const codigo_barras = Math.floor(\n      Math.random() * (max - min + 1) + min\n    ).toString();\n    setDatosGenerales({\n      ...datos_generales,\n      codigo_barras,\n    });\n    setUnidadVentaXDefecto({\n      ...unidadVentaXDefecto,\n      codigo_barras,\n    });\n  };\n\n  const verificarCampoVacio = (campo) => {\n    if (!precios.monedero_electronico) {\n      setPrecios({\n        ...precios,\n        monedero_electronico: 1,\n      });\n    }\n  };\n\n  useEffect(() => {\n    if (update) {\n      const categoria = categorias.filter(\n        (res) => res._id === datos_generales.id_categoria\n      );\n      const costos = centro_costos.filter(\n        (res) => res._id === centro_de_costos.id_cuenta\n      );\n      if (categoria.length > 0) {\n        setSubcategorias(categoria[0].subcategorias);\n      }\n      if (costos.length > 0) {\n        setSubcostos(costos[0].subcuentas);\n      }\n    }\n  }, [update]);\n\n  return (\n    <Fragment>\n      <Container maxWidth=\"lg\">\n        <Grid container spacing={2}>\n          <Grid item md={3} xs={12}>\n            <FormControl\n              variant=\"outlined\"\n              size=\"small\"\n              name=\"codigo_barras\"\n              fullWidth\n            >\n              <Typography className={classes.titulos}>\n                Cdigo de barras\n              </Typography>\n              <OutlinedInput\n                disabled={update && datos_generales.codigo_barras}\n                style={{ padding: 0 }}\n                id=\"form-producto-codigo-barras\"\n                name=\"codigo_barras\"\n                value={\n                  datos_generales.codigo_barras\n                    ? datos_generales.codigo_barras\n                    : \"\"\n                }\n                onChange={obtenerCampos}\n                endAdornment={\n                  <InputAdornment position=\"start\">\n                    <IconButton\n                      disabled={update && datos_generales.codigo_barras}\n                      onClick={() => GenCodigoBarras()}\n                      /* edge=\"end\" */\n                      color=\"primary\"\n                      size=\"small\"\n                    >\n                      <Autorenew />\n                    </IconButton>\n                  </InputAdornment>\n                }\n              />\n            </FormControl>\n          </Grid>\n          <Grid item md={2} xs={12}>\n            <Typography className={classes.titulos}>\n              <span className={classes.obligatorio}>* </span>Clave alterna\n            </Typography>\n            <TextField\n              fullWidth\n              size=\"small\"\n              error={validacion.error && !datos_generales.clave_alterna}\n              name=\"clave_alterna\"\n              id=\"form-producto-clave-alterna\"\n              variant=\"outlined\"\n              value={\n                datos_generales.clave_alterna\n                  ? datos_generales.clave_alterna\n                  : \"\"\n              }\n              helperText={validacion.message}\n              onChange={obtenerCampos}\n            />\n          </Grid>\n          <Grid item md={2} xs={12}>\n            <Typography className={classes.titulos}>\n              <span className={classes.obligatorio}>* </span>Tipo de producto\n            </Typography>\n            <FormControl\n              variant=\"outlined\"\n              fullWidth\n              size=\"small\"\n              error={validacion.error && !datos_generales.tipo_producto}\n            >\n              <Select\n                id=\"form-producto-tipo\"\n                name=\"tipo_producto\"\n                value={\n                  datos_generales.tipo_producto\n                    ? datos_generales.tipo_producto\n                    : \"\"\n                }\n                onChange={obtenerCampos}\n              >\n                <MenuItem value=\"\">\n                  <em>Selecciona uno</em>\n                </MenuItem>\n                <MenuItem value=\"ROPA\">Ropa</MenuItem>\n                <MenuItem value=\"CALZADO\">Calzado</MenuItem>\n                <MenuItem value=\"OTROS\">Otros</MenuItem>\n              </Select>\n              <FormHelperText>{validacion.message}</FormHelperText>\n            </FormControl>\n          </Grid>\n          <Grid item md={5} xs={12}>\n            <CatalogosProductosSAT codigos={codigos} refetch={refetch} />\n          </Grid>\n\n          <Grid item md={4} xs={12}>\n            <Typography className={classes.titulos}>\n              <span className={classes.obligatorio}>* </span>Nombre comercial\n            </Typography>\n            <TextField\n              fullWidth\n              size=\"small\"\n              error={validacion.error && !datos_generales.nombre_comercial}\n              name=\"nombre_comercial\"\n              id=\"form-producto-nombre-comercial\"\n              variant=\"outlined\"\n              value={\n                datos_generales.nombre_comercial\n                  ? datos_generales.nombre_comercial\n                  : \"\"\n              }\n              helperText={validacion.message}\n              onChange={obtenerCampos}\n            />\n          </Grid>\n          <Grid item md={4} xs={12}>\n            <Typography className={classes.titulos}>\n              <span className={classes.obligatorio}>* </span>Nombre genrico\n            </Typography>\n            <TextField\n              fullWidth\n              size=\"small\"\n              error={validacion.error && !datos_generales.nombre_generico}\n              name=\"nombre_generico\"\n              id=\"form-producto-nombre-generico\"\n              variant=\"outlined\"\n              value={\n                datos_generales.nombre_generico\n                  ? datos_generales.nombre_generico\n                  : \"\"\n              }\n              helperText={validacion.message}\n              onChange={obtenerCampos}\n            />\n          </Grid>\n          <Grid item md={4} xs={12}>\n            <Typography className={classes.titulos}>Descripcin</Typography>\n            <TextField\n              fullWidth\n              size=\"small\"\n              name=\"descripcion\"\n              id=\"form-producto-descripcion\"\n              variant=\"outlined\"\n              value={\n                datos_generales.descripcion ? datos_generales.descripcion : \"\"\n              }\n              onChange={obtenerCampos}\n            />\n          </Grid>\n\n          <Grid item md={6} xs={12}>\n            <CategoriasProducto refetch={refetch} categorias={categorias} />\n          </Grid>\n          <Grid item md={6} xs={12}>\n            <SubcategoriasProducto refetch={refetch} />\n          </Grid>\n          <Grid item md={6} xs={12}>\n            <DepartamentosProducto refetch={refetch} departamentos={departamentos} />\n          </Grid>\n          <Grid item md={6} xs={12}>\n            <MarcasProducto refetch={refetch} marcas={marcas} />\n          </Grid>\n        </Grid>\n        <Box display=\"flex\" mt={4}>\n          <Grid container>\n            <Grid item md={3} xs={12}>\n              {!update ? (\n                <Box>\n                  <Box>\n                    <Typography>\n                      <b>Granel</b>\n                    </Typography>\n                    <Divider />\n                  </Box>\n                  <div className={classes.formInput}>\n                    <FormControlLabel\n                      control={\n                        <Checkbox\n                          checked={precios.granel ? precios.granel : false}\n                          onChange={obtenerChecks}\n                          name=\"granel\"\n                        />\n                      }\n                      label=\"Vender a granel\"\n                    />\n                  </div>\n                </Box>\n              ) : null}\n            </Grid>\n            <Grid item md={3} xs={12}>\n              <Box>\n                <Typography>\n                  <b>Farmacia</b>\n                </Typography>\n                <Divider />\n              </Box>\n              <div className={classes.formInput}>\n                <FormControlLabel\n                  control={\n                    <Checkbox\n                      checked={\n                        datos_generales.receta_farmacia\n                          ? datos_generales.receta_farmacia\n                          : false\n                      }\n                      onChange={checkFarmacia}\n                      name=\"receta_farmacia\"\n                    />\n                  }\n                  label=\"Necesita receta\"\n                  name=\"receta_farmacia\"\n                />\n              </div>\n            </Grid>\n            <Grid item md={6} xs={12}>\n              <Box>\n                <Typography>\n                  <b>Monedero elctronico</b>\n                </Typography>\n                <Divider />\n              </Box>\n              <Box>\n                <Box className={classes.formInput}>\n                  <FormControlLabel\n                    control={\n                      <Checkbox\n                        checked={precios.monedero}\n                        onChange={obtenerChecks}\n                        name=\"monedero\"\n                      />\n                    }\n                    label=\"Monedero electrnico\"\n                  />\n                  <TextField\n                    type=\"number\"\n                    InputProps={{ inputProps: { min: 0 } }}\n                    size=\"small\"\n                    label=\"Valor por punto\"\n                    name=\"monedero_electronico\"\n                    id=\"form-producto-monedero_electronico\"\n                    variant=\"outlined\"\n                    value={precios.monedero_electronico}\n                    onChange={obtenerCampos}\n                    disabled={precios.monedero ? false : true}\n                    onBlur={() => verificarCampoVacio(\"monedero_electronico\")}\n                    error={precios.monedero_electronico === \"\"}\n                  />\n                </Box>\n              </Box>\n            </Grid>\n          </Grid>\n        </Box>\n      </Container>\n    </Fragment>\n  );\n}\n\nconst RegistrarNuevoSelect = ({\n  tipo,\n  name,\n  refetch,\n  subcategorias,\n  setSubcategorias,\n}) => {\n  const [open, setOpen] = useState(false);\n  const [validacion, setValidacion] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [value, setValue] = useState(\"\");\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n  const { datos_generales, setDatosGenerales } = useContext(RegProductoContext);\n  const [alert, setAlert] = useState({ message: \"\", status: \"\", open: false });\n\n  /*  Categorias Mutation */\n  const [crearCategoria] = useMutation(CREAR_CATEGORIA);\n  /*  Subcategorias Mutation */\n  const [crearSubcategoria] = useMutation(CREAR_SUBCATEGORIA);\n  /*  Departamentos Mutation */\n  const [CrearDepartamentos] = useMutation(REGISTRAR_DEPARTAMENTO);\n  /*  Marcas Mutation */\n  const [CrearMarca] = useMutation(REGISTRAR_MARCAS);\n\n  const handleToggle = () => {\n    setOpen(!open);\n  };\n\n  const obtenerDatos = (e) => {\n    setValue(e.target.value);\n  };\n\n  const guardarDatos = async (e) => {\n    e.preventDefault();\n    if (!value) {\n      setValidacion(true);\n      return;\n    }\n    let variables = {\n      input: {\n        [name]: value,\n      },\n      empresa: sesion.empresa._id,\n      sucursal: sesion.sucursal._id,\n    };\n    if (tipo === \"categoria\") {\n      variables = {\n        input: {\n          [name]: value,\n          empresa: sesion.empresa._id,\n          sucursal: sesion.sucursal._id,\n        },\n      };\n    }\n    if (tipo === \"subcategoria\") {\n      variables = {\n        input: {\n          [name]: value,\n        },\n        idCategoria: datos_generales.id_categoria,\n      };\n    }\n    setLoading(true);\n    try {\n      switch (tipo) {\n        case \"categoria\":\n          const categoria_creada = await crearCategoria({ variables });\n          refetch();\n          const id_categoria = categoria_creada.data.crearCategoria._id;\n          setDatosGenerales({\n            ...datos_generales,\n            categoria: value,\n            id_categoria,\n          });\n          break;\n        case \"subcategoria\":\n          const subcategoria_creada = await crearSubcategoria({ variables });\n          refetch();\n          const id_subcategoria =\n            subcategoria_creada.data.crearSubcategoria.message;\n          setSubcategorias([\n            ...subcategorias,\n            { _id: id_subcategoria, subcategoria: value },\n          ]);\n          setDatosGenerales({\n            ...datos_generales,\n            subcategoria: value,\n            id_subcategoria,\n          });\n          break;\n        case \"departamento\":\n          const departamento_creado = await CrearDepartamentos({ variables });\n          refetch();\n          const id_departamento =\n            departamento_creado.data.crearDepartamentos.message;\n          setDatosGenerales({\n            ...datos_generales,\n            departamento: value,\n            id_departamento,\n          });\n          break;\n        case \"marca\":\n          const marca_creada = await CrearMarca({ variables });\n          refetch();\n          const id_marca = marca_creada.data.crearMarcas.message;\n          setDatosGenerales({\n            ...datos_generales,\n            marca: value,\n            id_marca,\n          });\n          break;\n        default:\n          break;\n      }\n      setAlert({ message: \"Listo!\", status: \"success\", open: true });\n      setLoading(false);\n      handleToggle();\n    } catch (error) {\n      setAlert({ message: \"Hubo un error\", status: \"error\", open: true });\n      setLoading(false);\n    }\n  };\n\n  return (\n    <Fragment>\n      <Button\n        color=\"primary\"\n        onClick={() => handleToggle()}\n        disabled={tipo === \"subcategoria\" && !datos_generales.id_categoria}\n      >\n        <Add />\n      </Button>\n      <Dialog\n        open={open}\n        onClose={handleToggle}\n        aria-labelledby={`modal-title-${tipo}`}\n      >\n        <SnackBarMessages alert={alert} setAlert={setAlert} />\n        <DialogTitle id={`modal-title-${tipo}`}>Registrar {tipo}</DialogTitle>\n        <DialogContent>\n          <form id={`registro-${name}`} onSubmit={(e) => guardarDatos(e)}>\n            <TextField\n              error={validacion}\n              name={name}\n              autoFocus\n              label={tipo}\n              fullWidth\n              variant=\"outlined\"\n              onChange={obtenerDatos}\n              helperText={validacion ? \"Campo obligatorio\" : \"\"}\n            />\n          </form>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={() => handleToggle()} color=\"primary\">\n            Cancelar\n          </Button>\n          <Button\n            /* onClick={() => guardarDatos()} */\n            form={`registro-${name}`}\n            type=\"submit\"\n            variant=\"contained\"\n            color=\"primary\"\n            endIcon={\n              loading ? <CircularProgress color=\"inherit\" size={18} /> : null\n            }\n          >\n            Guardar\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </Fragment>\n  );\n};\n","import React, { Fragment, useContext, useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Dialog, DialogActions, DialogTitle } from '@material-ui/core';\nimport { Box, Typography, Button, Divider, Grid } from '@material-ui/core';\nimport { AddPhotoAlternate, Visibility, Delete } from '@material-ui/icons';\nimport { RegProductoContext } from '../../../../../context/Catalogos/CtxRegProducto';\n\nimport PhotoSizeSelectActualOutlinedIcon from '@material-ui/icons/PhotoSizeSelectActualOutlined';\nconst useStyles = makeStyles((theme) => ({\n\tformInputFlex: {\n\t\tdisplay: 'flex',\n\t\twidth: '100%',\n\t\t'& > *': {\n\t\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(1)}px`\n\t\t}\n\t},\n\tformInput: {\n\t\tmargin: `${theme.spacing(0)}px ${theme.spacing(1)}px`\n\t},\n\tinput: {\n\t\tdisplay: 'none'\n\t},\n\timagen: {\n\t\tmaxHeight: \"100%\",\n\t\tmaxWidth: \"100%\"\n\t}\n}));\n\nexport default function CargarImagenesProducto() {\n\tconst classes = useStyles();\n\tconst { imagenes, setImagenes, setOnPreview, onPreview } = useContext(RegProductoContext);\n\n\tconst cargarImagen = (e) => {\n\t\tconst { files } = e.target;\n\t\tif (e.target.files.length < 1) return\n\t\tsetImagenes([\n\t\t\t...imagenes,\n\t\t\tfiles[0]\n\t\t]);\n\t\tsetOnPreview({image: URL.createObjectURL(files[0])})\n\t};\n\n\tconst render_imagenes = imagenes.map((res, index) => <RenderImagenes key={index} index={index} imagen={res} />);\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<Grid container>\n\t\t\t\t<Grid item md={6}>\n\t\t\t\t\t<Box>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\taccept=\"image/*\"\n\t\t\t\t\t\t\tclassName={classes.input}\n\t\t\t\t\t\t\tid=\"contained-button-file\"\n\t\t\t\t\t\t\t/* multiple */\n\t\t\t\t\t\t\ttype=\"file\"\n\t\t\t\t\t\t\tonChange={cargarImagen}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<label htmlFor=\"contained-button-file\">\n\t\t\t\t\t\t\t<Button variant=\"text\" color=\"primary\" component=\"span\" startIcon={<AddPhotoAlternate />}>\n\t\t\t\t\t\t\t\tCargar imagen\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t</Box>\n\t\t\t\t\t{render_imagenes}\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item md={6}>\n\t\t\t\t\t<Box display=\"flex\" minHeight={300}>\n\t\t\t\t\t\t<Box mx={1}>\n\t\t\t\t\t\t\t<Divider orientation=\"vertical\" />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box width=\"100%\" height=\"50vh\" display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t{!onPreview.image ? (\n\t\t\t\t\t\t\t\t<PhotoSizeSelectActualOutlinedIcon style={{ fontSize: 150 }} />\n\t\t\t\t\t\t\t) : (<img alt=\"img-onPreview\" src={onPreview.image} className={classes.imagen} />)}\n\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Box>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t</Fragment>\n\t);\n}\n\nconst RenderImagenes = ({ imagen, index }) => {\n\tconst classes = useStyles();\n\tconst preview = imagen.key_imagen ? imagen.url_imagen : URL.createObjectURL(imagen)\n\tconst { imagenes, setImagenes, setOnPreview, onPreview, imagenes_eliminadas, setImagenesEliminadas } = useContext(RegProductoContext);\n\tconst [open, setOpen] = useState(false);\n\tconst handleModal = () => setOpen(!open);\n\n\tconst eliminarImagen = () => {\n\t\t/* agregar al arrya de imagenes eliminadas */\n\t\tif(imagen.key_imagen){\n\t\t\tsetImagenesEliminadas([\n\t\t\t\t...imagenes_eliminadas, imagen\n\t\t\t])\n\t\t}\n\t\t/* quitar imagenes del array */\n\t\tif (onPreview.index === index) {\n\t\t\tsetOnPreview({ index: '', image: '' })\n\t\t}\n\t\tconst array = [...imagenes];\n\t\tarray.splice(index, 1);\n\t\tsetImagenes([\n\t\t\t...array,\n\t\t]);\n\t\thandleModal();\n\t}\n\n\treturn (\n\t\t<Box my={2} mr={5}>\n\t\t\t<Box className={classes.formInputFlex}>\n\t\t\t\t<Box height={70} width={70}>\n\t\t\t\t\t<img alt=\"producto-img-prev\" src={preview} width=\"100%\" />\n\t\t\t\t</Box>\n\t\t\t\t<Box width=\"90%\">\n\t\t\t\t\t<Typography noWrap>\n\t\t\t\t\t\t{imagen.key_imagen ? imagen.key_imagen : imagen.name}\n\t\t\t\t\t</Typography>\n\t\t\t\t\t{imagen.key_imagen ? null : (<Typography variant=\"caption\">{imagen.size} bits</Typography>)}\n\t\t\t\t\t\n\t\t\t\t\t<Box display=\"flex\" justifyContent=\"flex-end\">\n\t\t\t\t\t\t<Button size=\"small\" startIcon={<Visibility />} onClick={() => setOnPreview({ index, image: preview })}>\n\t\t\t\t\t\t\tprevisualizar\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Box mx={1} />\n\t\t\t\t\t\t<ModalDelete handleModal={handleModal} open={open} eliminarImagen={eliminarImagen} />\n\t\t\t\t\t</Box>\n\t\t\t\t</Box>\n\t\t\t</Box>\n\t\t\t<Divider />\n\t\t</Box>\n\t);\n};\n\nconst ModalDelete = ({ handleModal, open, eliminarImagen }) => {\n\treturn (\n\t\t<div>\n\t\t\t<Button size=\"small\" color=\"secondary\" startIcon={<Delete />} onClick={() => handleModal()}>\n\t\t\t\teliminar\n\t\t\t</Button>\n\t\t\t<Dialog open={open} onClose={handleModal}>\n\t\t\t\t<DialogTitle>{'Seguro que quieres eliminar esto?'}</DialogTitle>\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Button onClick={() => handleModal()} color=\"primary\">\n\t\t\t\t\t\tCancelar\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button color=\"secondary\" autoFocus variant=\"contained\" onClick={() => eliminarImagen()}>\n\t\t\t\t\t\tEliminar\n\t\t\t\t\t</Button>\n\t\t\t\t</DialogActions>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n};\n","import React, { createContext, useState } from 'react';\n\nexport const CrearAlmacenContext = createContext();\n\nexport const AlmacenProvider = ({ children }) => {\n\tconst [ datosAlmacen, setDatosAlmacen ] = useState({\n        nombre_almacen: '',\n        id_usuario_encargado: '',\n        direccion: {\n            calle: '',\n            no_ext: '',\n            no_int: '',\n            codigo_postal: '',\n            colonia: '',\n            municipio: '',\n            localidad: '',\n            estado: '',\n            pais: ''\n        }\n    });\n\n    const [ update, setUpdate ] = useState(false);\n    const [ error, setError ] = useState(false);\n    const [ openRegistro, setOpenRegistro ] = useState(false);\n\n\treturn (\n\t\t<CrearAlmacenContext.Provider value={\n            { \n                datosAlmacen, \n                setDatosAlmacen,\n                update,\n                setUpdate,\n                error,\n                setError,\n                openRegistro,\n                setOpenRegistro\n            }\n        }>\n\t\t\t{children}\n\t\t</CrearAlmacenContext.Provider>\n\t);\n};\n","import { gql } from \"@apollo/client\";\n\nexport const REGISTRO_ALMACEN = gql`\n  mutation CrearAlmacen($input: CrearAlmacen, $id: ID!, $empresa: ID!) {\n    crearAlmacen(input: $input, id: $id, empresa: $empresa) {\n      _id\n    }\n  }\n`;\n\nexport const OBTENER_ALMACENES = gql`\n  query obtenerAlmacenes($id: ID!) {\n    obtenerAlmacenes(id: $id) {\n      _id\n      nombre_almacen\n      id_usuario_encargado {\n        _id\n        nombre\n      }\n      id_sucursal {\n        _id\n        nombre_sucursal\n        descripcion\n        direccion {\n          calle\n          no_ext\n          no_int\n          codigo_postal\n          colonia\n          municipio\n          localidad\n          estado\n          pais\n        }\n      }\n      direccion {\n        calle\n        no_ext\n        no_int\n        codigo_postal\n        colonia\n        municipio\n        localidad\n        estado\n        pais\n      }\n    }\n  }\n`;\n\nexport const ACTUALIZAR_ALMACEN = gql`\n  mutation ActualizarAlmacen($input: EditarAlmacen, $id: ID!) {\n    actualizarAlmacen(input: $input, id: $id) {\n      message\n    }\n  }\n`;\n\nexport const OBTENER_PRODUCTOS_ALMACEN = gql`\n  query obtenerProductosAlmacenes(\n    $empresa: ID!\n    $sucursal: ID!\n    $filtro: String\n  ) {\n    obtenerProductosAlmacenes(\n      empresa: $empresa\n      sucursal: $sucursal\n      filtro: $filtro\n    ) {\n      _id\n      datos_generales {\n        codigo_barras\n        clave_alterna\n        tipo_producto\n        nombre_comercial\n        nombre_generico\n        descripcion\n        id_categoria\n        categoria\n        subcategoria\n        id_subcategoria\n        id_departamento\n        departamento\n        id_marca\n        marca\n        clave_producto_sat {\n          Name\n          Value\n        }\n        receta_farmacia\n      }\n      precios{\n        inventario{\n          inventario_maximo\n          inventario_minimo\n          unidad_de_inventario\n          codigo_unidad\n        }\n      }\n  \n      existencia_almacenes {\n        _id {\n          producto\n          almacen {\n            _id\n            nombre_almacen\n          }\n        }\n        unidad_inventario\n        cantidad_existente\n      }\n      empresa\n      sucursal\n    }\n  }\n`;\n\nexport const OBTENER_CATEGORIAS = gql`\n  query obtenerCategorias($empresa: ID!, $sucursal: ID!) {\n    obtenerCategorias(empresa: $empresa, sucursal: $sucursal) {\n      _id\n      categoria\n      subcategorias {\n        _id\n        subcategoria\n      }\n    }\n  }\n`;\n\nexport const REALIZAR_TRASPASO = gql`\n  mutation CrearTraspaso(\n    $input: CrearTraspasoInput\n    $usuario: ID!\n    $empresa: ID!\n  ) {\n    crearTraspaso(input: $input, usuario: $usuario, empresa: $empresa) {\n      message\n      resp\n    }\n  }\n`;\n\nexport const OBTENER_PRODUCTOS_EMPRESA = gql`\n  query obtenerProductosPorEmpresa($empresa: ID!, $filtro: String) {\n    obtenerProductosPorEmpresa(empresa: $empresa, filtro : $filtro) {\n      _id\n      datos_generales {\n        codigo_barras\n        clave_alterna\n        tipo_producto\n        nombre_comercial\n        nombre_generico\n        descripcion\n        id_categoria\n        categoria\n        subcategoria\n        id_subcategoria\n        id_departamento\n        departamento\n        id_marca\n        marca\n        clave_producto_sat {\n          Name\n          Value\n        }\n        receta_farmacia\n      }\n      precio_plazos {\n        precio_cajas {\n          plazo\n          unidad\n          precio\n        }\n        precio_piezas {\n          plazo\n          unidad\n          precio\n        }\n        precio_costales {\n          plazo\n          unidad\n          precio\n        }\n      }\n      precios {\n        ieps\n        ieps_activo\n        iva\n        iva_activo\n        monedero\n        monedero_electronico\n        precio_de_compra {\n          ieps\n          iva\n          precio_con_impuesto\n          precio_sin_impuesto\n        }\n        precios_producto {\n          numero_precio\n          precio_neto\n          precio_venta\n          unidad_mayoreo\n          utilidad\n          ieps_precio\n          iva_precio\n        }\n        unidad_de_compra {\n          cantidad\n          precio_unitario_con_impuesto\n          precio_unitario_sin_impuesto\n          unidad\n        }\n        inventario {\n          inventario_minimo\n          inventario_maximo\n          unidad_de_inventario\n        }\n        granel\n      }\n      sucursal\n      usuario\n      empresa\n    }\n  }\n`;\n\nexport const OBTENER_TRASPASOS = gql`\n  query obtenerTraspasos( $input: ConsultaTraspasosInput) {\n    obtenerTraspasos(input: $input) {\n      _id  \n      cantidad\n      \n      id_traspaso{\n        concepto_traspaso{\n          nombre_concepto\n        }\n        fecha_registro\n      }\n      producto{\n        datos_generales{\n          nombre_comercial\n        }\n      }\n      almacen_origen{\n        _id\n        nombre_almacen\n      }\n      almacen_destino{\n        _id\n        nombre_almacen\n      }\n    }\n  }\n`;\n","import React, { useState, Fragment, useContext, useCallback } from 'react';\nimport {\n    Button,\n    Dialog,\n    TextField,\n    Container,\n    Typography,\n    Box,\n    IconButton,\n    DialogTitle,\n    Divider,\n    FormControl,\n    Select,\n    MenuItem\n} from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { CrearAlmacenContext } from '../../../../context/Almacenes/crearAlmacen';\nimport { useMutation, useQuery } from '@apollo/client';\nimport { REGISTRO_ALMACEN, ACTUALIZAR_ALMACEN } from '../../../../gql/Almacenes/Almacen';\nimport SnackBarMessages from '../../../../components/SnackBarMessages';\nimport BackdropComponent from '../../../../components/Layouts/BackDrop';\nimport { OBTENER_USUARIOS } from '../../../../gql/Catalogos/usuarios';\nimport { Edit } from '@material-ui/icons';\nimport { RegProductoContext } from '../../../../context/Catalogos/CtxRegProducto';\nimport Add from '@material-ui/icons/Add';\n\nconst useStyles = makeStyles((theme) => ({\n    formInputFlex: {\n        display: 'flex',\n        '& > *': {\n            margin: `${theme.spacing(1)}px ${theme.spacing(1)}px`\n        },\n        '& span': {\n            color: 'red'\n        }\n    },\n    formInput: {\n        margin: `${theme.spacing(1)}px ${theme.spacing(2)}px`\n    }\n}));\n\nexport default function ContainerRegistroAlmacen({ accion, datos, refetch }) {\n\n    /* const sucursal = {\n        _id: \"60c8e180340d5d223432a916\",\n        nombre_sucursal: \"Sucursal 1 editada\"\n    }; */\n    const sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n    const [CrearAlmacen] = useMutation(REGISTRO_ALMACEN);\n    const [ActualizarAlmacen] = useMutation(ACTUALIZAR_ALMACEN);\n    const { data } = useQuery(OBTENER_USUARIOS, {\n        variables: {\n            sucursal: `${sesion.sucursal._id}`\n        }\n    });\n    let obtenerUsuarios = [];\n\n    const classes = useStyles();\n    const [alert, setAlert] = useState({ message: '', status: '', open: false });\n    // const empresa = '609eb3b4b995884dc49bbffa';\n    const [open, setOpen] = useState(false);\n    const { datosAlmacen, setDatosAlmacen, error, setError, update, setUpdate } = useContext(CrearAlmacenContext);\n    const { almacen_inicial, setAlmacenInicial } = useContext(RegProductoContext);\n    const [loading, setLoading] = useState(false);\n\n\n    // const sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\n    const limpiarCampos = useCallback(\n        () => {\n            setDatosAlmacen({\n                nombre_almacen: '',\n                id_usuario_encargado: '',\n                direccion: {\n                    calle: '',\n                    no_ext: '',\n                    no_int: '',\n                    codigo_postal: '',\n                    colonia: '',\n                    municipio: '',\n                    localidad: '',\n                    estado: '',\n                    pais: ''\n                }\n            });\n        },\n        [setDatosAlmacen]\n    );\n    const toggleModal = () => {\n        setOpen(true);\n        if (datos) {\n            let input = {};\n            if (datos.id_usuario_encargado) {\n                const { id_usuario_encargado, ...datosNew } = datos;\n                input = datosNew;\n                input.id_usuario_encargado = id_usuario_encargado._id;\n            } else {\n                input = datos;\n            }\n            setDatosAlmacen(input);\n        }\n    };\n    const onCloseModal = () => {\n        setOpen(false);\n        limpiarCampos();\n    };\n\n    const obtenerCampos = (e) => {\n        setDatosAlmacen({\n            ...datosAlmacen,\n            [e.target.name]: e.target.value\n        });\n    };\n\n    const obtenerCamposDireccion = (e) => {\n        setDatosAlmacen({\n            ...datosAlmacen,\n            direccion: { ...datosAlmacen.direccion, [e.target.name]: e.target.value }\n        });\n    };\n\n    const saveData = async () => {\n        try {\n            if (!datosAlmacen.nombre_almacen) {\n                setError(true);\n                return;\n            } else {\n                if (accion === \"registrar\") {\n                    let input = {};\n                    let almacen_creado;\n                    if (datosAlmacen.id_usuario_encargado === \"\") {\n                        const { id_usuario_encargado, ...input } = datosAlmacen;\n                        almacen_creado = await CrearAlmacen({\n                            variables: {\n                                input,\n                                id: sesion.sucursal._id,\n                                empresa: sesion.empresa._id\n                            }\n                        });\n                    } else {\n                        input = datosAlmacen;\n                        almacen_creado = await CrearAlmacen({\n                            variables: {\n                                input,\n                                id: sesion.sucursal._id,\n                                empresa: sesion.empresa._id\n                            }\n                        });\n                    }\n\n                    const id_almacen = almacen_creado.data.crearAlmacen._id;\n                    if (refetch) {\n                        setAlmacenInicial({\n                            ...almacen_inicial,\n                            id_almacen,\n                            almacen: datosAlmacen.nombre_almacen,\n                        })\n                        refetch();\n                    }\n                } else {\n                    const { id_sucursal, _id, ...input } = datosAlmacen;\n                    await ActualizarAlmacen({\n                        variables: {\n                            input,\n                            id: datosAlmacen._id\n                        }\n                    })\n                }\n                setUpdate(!update);\n                setAlert({ message: 'Listo!', status: 'success', open: true });\n                setError(false);\n                setLoading(false);\n                onCloseModal();\n            }\n        } catch (error) {\n            setAlert({ message: 'Hubo un error', status: 'error', open: true });\n            setLoading(false);\n        }\n    }\n\n    if (data) {\n        obtenerUsuarios = data.obtenerUsuarios;\n    }\n\n    return (\n        <Fragment>\n            <SnackBarMessages alert={alert} setAlert={setAlert} />\n            {accion === 'registrar' ? refetch ? (\n                <IconButton color=\"primary\" onClick={toggleModal}>\n                    <Add />\n                </IconButton>\n            ) : (\n                <Button color=\"primary\" variant=\"contained\" size=\"large\" onClick={toggleModal}>\n                    AGREGAR\n                </Button>\n            ) : (\n                <IconButton onClick={toggleModal}>\n                    <Edit />\n                </IconButton>\n            )}\n            <Dialog open={open} onClose={onCloseModal} fullWidth maxWidth=\"md\">\n                <BackdropComponent loading={loading} setLoading={setLoading} />\n                <DialogTitle id=\"form-dialog-title\">Registro almacen</DialogTitle>\n                <Container maxWidth=\"md\">\n                    <div className={classes.formInputFlex}>\n                        <Box width=\"100%\">\n                            <Typography><span>* </span>Nombre Almacen</Typography>\n                            <TextField\n                                fullWidth\n                                size=\"small\"\n                                error={error}\n                                name=\"nombre_almacen\"\n                                id=\"form-producto-codigo-barras\"\n                                variant=\"outlined\"\n                                value={datosAlmacen.nombre_almacen}\n                                /* helperText=\"Incorrect entry.\" */\n                                onChange={obtenerCampos}\n                            />\n                        </Box>\n                        <Box width=\"100%\">\n                            <Typography>Encargado de almacen</Typography>\n                            <FormControl fullWidth size=\"small\" variant=\"outlined\">\n                                <Select\n                                    labelId=\"demo-simple-select-label\"\n                                    id=\"demo-simple-select\"\n                                    name=\"id_usuario_encargado\"\n                                    value={datosAlmacen.id_usuario_encargado ? datosAlmacen.id_usuario_encargado : \"\"}\n                                    onChange={obtenerCampos}\n                                >\n                                    {\n                                        obtenerUsuarios?.map((user, index) => (\n                                            <MenuItem key={index} value={user._id}>{user.nombre}</MenuItem>\n                                        ))\n                                    }\n                                </Select>\n                            </FormControl>\n                        </Box>\n                        <Box width=\"100%\">\n                            <Typography>Sucursal</Typography>\n                            <Typography style={{ marginTop: \"7px\", fontWeight: \"bold\" }}>{sesion.sucursal.nombre_sucursal}</Typography>\n                        </Box>\n                    </div>\n                    <Box mt={2}>\n                        <Typography>\n                            <b>Domicilio</b>\n                        </Typography>\n                        <Divider />\n                    </Box>\n                    <div className={classes.formInputFlex}>\n                        <Box width=\"100%\">\n                            <Typography>Calle</Typography>\n                            <TextField\n                                fullWidth\n                                size=\"small\"\n                                // error={error && !datosAlmacen.direccion.calle}\n                                name=\"calle\"\n                                variant=\"outlined\"\n                                value={datosAlmacen.direccion.calle}\n                                onChange={obtenerCamposDireccion}\n                            />\n                        </Box>\n                        <Box width=\"100%\">\n                            <Typography>No. exterior</Typography>\n                            <TextField\n                                fullWidth\n                                size=\"small\"\n                                // error={error && !datosAlmacen.direccion.no_ext}\n                                name=\"no_ext\"\n                                variant=\"outlined\"\n                                value={datosAlmacen.direccion.no_ext}\n                                onChange={obtenerCamposDireccion}\n                            />\n                        </Box>\n                        <Box width=\"100%\">\n                            <Typography>No. interior</Typography>\n                            <TextField\n                                fullWidth\n                                size=\"small\"\n                                // error={error && !datosAlmacen.direccion.no_int}\n                                name=\"no_int\"\n                                variant=\"outlined\"\n                                value={datosAlmacen.direccion.no_int}\n                                onChange={obtenerCamposDireccion}\n                            />\n                        </Box>\n                    </div>\n                    <div className={classes.formInputFlex}>\n                        <Box width=\"100%\">\n                            <Typography>Codigo Postal</Typography>\n                            <TextField\n                                fullWidth\n                                size=\"small\"\n                                type=\"number\"\n                                // error={error && !datosAlmacen.direccion.codigo_postal}\n                                name=\"codigo_postal\"\n                                variant=\"outlined\"\n                                value={datosAlmacen.direccion.codigo_postal}\n                                onChange={obtenerCamposDireccion}\n                            />\n                        </Box>\n                        <Box width=\"100%\">\n                            <Typography>Colonia</Typography>\n                            <TextField\n                                fullWidth\n                                size=\"small\"\n                                // error={error && !datosAlmacen.direccion.colonia}\n                                name=\"colonia\"\n                                variant=\"outlined\"\n                                value={datosAlmacen.direccion.colonia}\n                                onChange={obtenerCamposDireccion}\n                            />\n                        </Box>\n                        <Box width=\"100%\">\n                            <Typography>Municipio</Typography>\n                            <TextField\n                                fullWidth\n                                size=\"small\"\n                                // error={error && !datosAlmacen.direccion.municipio}\n                                name=\"municipio\"\n                                variant=\"outlined\"\n                                value={datosAlmacen.direccion.municipio}\n                                onChange={obtenerCamposDireccion}\n                            />\n                        </Box>\n                    </div>\n                    <div className={classes.formInputFlex}>\n                        <Box width=\"100%\">\n                            <Typography>Localidad</Typography>\n                            <TextField\n                                fullWidth\n                                size=\"small\"\n                                // error={error && !datosAlmacen.direccion.localidad}\n                                name=\"localidad\"\n                                variant=\"outlined\"\n                                value={datosAlmacen.direccion.localidad}\n                                onChange={obtenerCamposDireccion}\n                            />\n                        </Box>\n                        <Box width=\"100%\">\n                            <Typography>Estado</Typography>\n                            <TextField\n                                fullWidth\n                                size=\"small\"\n                                // error={error && !datosAlmacen.direccion.estado}\n                                name=\"estado\"\n                                variant=\"outlined\"\n                                value={datosAlmacen.direccion.estado}\n                                onChange={obtenerCamposDireccion}\n                            />\n                        </Box>\n                        <Box width=\"100%\">\n                            <Typography>Pais</Typography>\n                            <TextField\n                                fullWidth\n                                size=\"small\"\n                                //  error={error && !datosAlmacen.direccion.pais}\n                                name=\"pais\"\n                                variant=\"outlined\"\n                                value={datosAlmacen.direccion.pais}\n                                onChange={obtenerCamposDireccion}\n                            />\n                        </Box>\n                    </div>\n                    <Box m={1} display=\"flex\" justifyContent=\"flex-end\">\n                        <Button color=\"primary\" variant=\"contained\" size=\"large\" onClick={saveData} >\n                            Guardar\n                        </Button>\n                    </Box>\n                </Container>\n            </Dialog>\n        </Fragment>\n    )\n}\n","import React, { Fragment, useContext } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { Divider } from \"@material-ui/core\";\nimport {\n  Box,\n  FormControl,\n  MenuItem,\n  Select,\n  TextField,\n  Typography,\n  Grid,\n} from \"@material-ui/core\";\n/* import \"date-fns\";\nimport local from \"date-fns/locale/es\";\nimport DateFnsUtils from \"@date-io/date-fns\";\nimport {\n  MuiPickersUtilsProvider,\n  KeyboardDatePicker,\n} from \"@material-ui/pickers\"; */\nimport { RegProductoContext } from \"../../../../../context/Catalogos/CtxRegProducto\";\nimport ContainerRegistroAlmacen from \"../../../Almacenes/RegistroAlmacen/ContainerRegistroAlmacen\";\nimport { AlmacenProvider } from \"../../../../../context/Almacenes/crearAlmacen\";\nimport { unitCodes, unitCodes_granel } from \"../unidades\";\n\nconst useStyles = makeStyles((theme) => ({\n  titulos: {\n    fontWeight: 500,\n  },\n}));\n\nexport default function RegistroAlmacenInicial({\n  obtenerConsultasProducto,\n  refetch,\n}) {\n  const classes = useStyles();\n  const {\n    datos_generales,\n    precios,\n    setPrecios,\n    almacen_inicial,\n    setAlmacenInicial,\n    selectedDate,\n    setSelectedDate,\n    update,\n  } = useContext(RegProductoContext);\n  const { almacenes } = obtenerConsultasProducto;\n\n  /*ARMAR OBJETO DE INVENTARIO  */\n  const obtenerInventario = (e, child) => {\n    if (!e.target.value) {\n      setPrecios({\n        ...precios,\n        inventario: { ...precios.inventario, [e.target.name]: \"\" },\n      });\n      return;\n    }\n    if (e.target.name === \"unidad_de_inventario\") {\n      const { codigo_unidad, unidad } = child.props.unidad;\n      setPrecios({\n        ...precios,\n        inventario: {\n          ...precios.inventario,\n          [e.target.name]: unidad,\n          codigo_unidad,\n        },\n      });\n      return;\n    }\n    setPrecios({\n      ...precios,\n      inventario: {\n        ...precios.inventario,\n        [e.target.name]: parseFloat(e.target.value),\n      },\n    });\n  };\n\n  const obtenerAlmacenInicial = (e) => {\n    if (!e.target.value) {\n      setAlmacenInicial({\n        ...almacen_inicial,\n        [e.target.name]: \"\",\n      });\n      return;\n    }\n    if (e.target.name === \"almacen\") {\n      setAlmacenInicial({\n        ...almacen_inicial,\n        [e.target.name]: e.target.value,\n      });\n      return;\n    }\n    setAlmacenInicial({\n      ...almacen_inicial,\n      [e.target.name]: parseFloat(e.target.value),\n    });\n  };\n\n  const obtenerAlmacenes = (event, child) => {\n    setAlmacenInicial({\n      ...almacen_inicial,\n      [event.target.name]: event.target.value,\n      [child.props.name]: child.props.id,\n    });\n  };\n\n  const handleDateChange = (date) => {\n    setSelectedDate(date);\n    setAlmacenInicial({\n      ...almacen_inicial,\n      fecha_de_expiracion: date,\n    });\n  };\n\n  return (\n    <Fragment>\n      <Box my={2}>\n        <Typography>\n          <b>Inventario</b>\n        </Typography>\n        <Divider />\n      </Box>\n      <Grid container spacing={2}>\n        <Grid item md={4} xs={12}>\n          <Box>\n            <Typography className={classes.titulos}>\n              Inventario mnimo\n            </Typography>\n            <TextField\n              fullWidth\n              type=\"number\"\n              InputProps={{ inputProps: { min: 0 } }}\n              size=\"small\"\n              name=\"inventario_minimo\"\n              id=\"form-producto-inventario_minimo\"\n              variant=\"outlined\"\n              value={precios.inventario.inventario_minimo}\n              onChange={obtenerInventario}\n              onFocus={(e) => {\n                const { name, value } = e.target;\n                if (parseFloat(value) === 0) {\n                  setPrecios({\n                    ...precios,\n                    inventario: { ...precios.inventario, [name]: \"\" },\n                  });\n                }\n              }}\n              onBlur={(e) => {\n                const { name, value } = e.target;\n                if (value === \"\") {\n                  setPrecios({\n                    ...precios,\n                    inventario: { ...precios.inventario, [name]: 0 },\n                  });\n                }\n              }}\n              error={precios.inventario.inventario_minimo === \"\"}\n            />\n          </Box>\n        </Grid>\n        <Grid item md={4} xs={12}>\n          <Box>\n            <Typography className={classes.titulos}>\n              Inventario mximo\n            </Typography>\n            <TextField\n              fullWidth\n              type=\"number\"\n              InputProps={{ inputProps: { min: 0 } }}\n              size=\"small\"\n              name=\"inventario_maximo\"\n              id=\"form-producto-inventario_maximo\"\n              variant=\"outlined\"\n              value={precios.inventario.inventario_maximo}\n              onChange={obtenerInventario}\n              onFocus={(e) => {\n                const { name, value } = e.target;\n                if (parseFloat(value) === 0) {\n                  setPrecios({\n                    ...precios,\n                    inventario: { ...precios.inventario, [name]: \"\" },\n                  });\n                }\n              }}\n              onBlur={(e) => {\n                const { name, value } = e.target;\n                if (value === \"\") {\n                  setPrecios({\n                    ...precios,\n                    inventario: { ...precios.inventario, [name]: 0 },\n                  });\n                }\n              }}\n              error={precios.inventario.inventario_maximo === \"\"}\n            />\n          </Box>\n        </Grid>\n        <Grid item md={4} xs={12}>\n          <Box>\n            <Typography className={classes.titulos}>\n              Unidad de inventario\n            </Typography>\n            <Box display=\"flex\">\n              <FormControl\n                variant=\"outlined\"\n                fullWidth\n                size=\"small\"\n                name=\"unidad_de_inventario\"\n              >\n                {precios.granel ? (\n                  <Select\n                    name=\"unidad_de_inventario\"\n                    value={precios.inventario.unidad_de_inventario}\n                    onChange={obtenerInventario}\n                  >\n                    {unitCodes_granel.map((res, index) => (\n                      <MenuItem key={index} unidad={res} value={res.unidad}>\n                        {res.unidad}\n                      </MenuItem>\n                    ))}\n                  </Select>\n                ) : (\n                  <Select\n                    name=\"unidad_de_inventario\"\n                    value={precios.inventario.unidad_de_inventario}\n                    onChange={obtenerInventario}\n                  >\n                    {unitCodes.map((res, index) => (\n                      <MenuItem key={index} unidad={res} value={res.unidad}>\n                        {res.unidad}\n                      </MenuItem>\n                    ))}\n                  </Select>\n                )}\n              </FormControl>\n            </Box>\n          </Box>\n        </Grid>\n      </Grid>\n      {update ? null : datos_generales.tipo_producto === \"OTROS\" ? (\n        <Fragment>\n          <Box my={3}>\n            <Typography>\n              <b>Almacen incial</b>\n            </Typography>\n            <Divider />\n          </Box>\n          <Grid container spacing={2} style={{ alignItems: \"center\" }}>\n            <Grid item md={6} xs={12}>\n              <Box>\n                <Typography className={classes.titulos}>\n                  Cantidad inicial en <b>{precios.unidad_de_compra.unidad}</b>\n                </Typography>\n                <Box display=\"flex\" alignItems=\"center\">\n                  <TextField\n                    fullWidth\n                    type=\"number\"\n                    InputProps={{ inputProps: { min: 0 } }}\n                    size=\"small\"\n                    name=\"cantidad\"\n                    variant=\"outlined\"\n                    value={almacen_inicial.cantidad}\n                    onChange={obtenerAlmacenInicial}\n                    onFocus={(e) => {\n                      const { name, value } = e.target;\n                      if (parseFloat(value) === 0) {\n                        setAlmacenInicial({\n                          ...almacen_inicial,\n                          [name]: \"\",\n                        });\n                      }\n                    }}\n                    onBlur={(e) => {\n                      const { name, value } = e.target;\n                      if (value === \"\") {\n                        setAlmacenInicial({\n                          ...almacen_inicial,\n                          [name]: 0,\n                        });\n                      }\n                    }}\n                    error={almacen_inicial.cantidad === \"\"}\n                  />\n                </Box>\n              </Box>\n            </Grid>\n            <Grid item md={6} xs={12}>\n              <Box>\n                <Typography className={classes.titulos}>Almacen</Typography>\n                <Box display=\"flex\" alignItems=\"center\">\n                  <FormControl\n                    variant=\"outlined\"\n                    fullWidth\n                    size=\"small\"\n                    name=\"almacen\"\n                    error={\n                      almacen_inicial.cantidad > 0 && !almacen_inicial.almacen\n                    }\n                  >\n                    <Select\n                      name=\"almacen\"\n                      value={almacen_inicial.almacen}\n                      onChange={obtenerAlmacenes}\n                    >\n                      <MenuItem value=\"\">\n                        <em>Seleccione uno</em>\n                      </MenuItem>\n                      {almacenes ? (\n                        almacenes.map((res) => {\n                          return (\n                            <MenuItem\n                              name=\"id_almacen\"\n                              key={res._id}\n                              value={res.nombre_almacen}\n                              id={res._id}\n                            >\n                              {res.nombre_almacen}\n                            </MenuItem>\n                          );\n                        })\n                      ) : (\n                        <MenuItem value=\"\" />\n                      )}\n                    </Select>\n                  </FormControl>\n                  <AlmacenProvider>\n                    <ContainerRegistroAlmacen\n                      accion=\"registrar\"\n                      refetch={refetch}\n                    />\n                  </AlmacenProvider>\n                </Box>\n              </Box>\n            </Grid>\n          </Grid>\n\n          {/*  <Box width=\"100%\">\n              <Typography>Fecha de expiracin</Typography>\n              <MuiPickersUtilsProvider utils={DateFnsUtils} locale={local}>\n                <Grid container justify=\"space-around\">\n                  <KeyboardDatePicker\n                    margin=\"dense\"\n                    id=\"date-picker-dialog\"\n                    placeholder=\"ex: DD/MM/AAAA\"\n                    format=\"dd/MM/yyyy\"\n                    value={selectedDate}\n                    onChange={handleDateChange}\n                    KeyboardButtonProps={{\n                      \"aria-label\": \"change date\",\n                    }}\n                  />\n                </Grid>\n              </MuiPickersUtilsProvider>\n            </Box> */}\n        </Fragment>\n      ) : null}\n    </Fragment>\n  );\n}\n","export function validaciones(generales, precios, almacen, presentaciones) {\n    /* si no hay generales y datos 2 */\n    /* console.log(almacen); */\n    if (\n        !generales.clave_alterna ||\n        !generales.tipo_producto ||\n        !generales.nombre_generico ||\n        !generales.nombre_comercial\n    ) {\n        if (!precios.precio_de_compra.precio_con_impuesto ||\n            !precios.precio_de_compra.precio_sin_impuesto ||\n            !precios.unidad_de_compra.cantidad) {\n            return { error: true, message: 'Campo obligatorio', vista1: true, vista2: true };\n        }\n        return { error: true, message: 'Campo obligatorio', vista1: true };\n    } else if (\n        /* si solo hay generales */\n        !precios.precio_de_compra.precio_con_impuesto || !precios.precio_de_compra.precio_sin_impuesto || !precios.unidad_de_compra.cantidad\n    ) {\n        return { error: true, message: 'Campo obligatorio', vista2: true };\n    } else if (\n        /* si solo hay precios */\n        !generales.clave_alterna || !generales.tipo_producto || !generales.nombre_generico || !generales.nombre_comercial\n    ) {\n        return { error: true, message: 'Campo obligatorio', vista1: true };\n    } else if(\n        /* si hay cantidad almacen pero no hay almacen seleccionado */\n        almacen.cantidad > 0 && !almacen.almacen && generales.tipo_producto === \"OTROS\"\n    ) {\n        console.log(\"si hay cantidad almacen pero no hay almacen seleccionado\");\n        return { error: true, message: 'Campo obligatorio', vista3: true };\n    }/*  else if(\n        //si no hay almacen seleccionado\n        presentaciones.length > 0 && !almacen.almacen && !almacen_existente\n    ){\n        console.log(\"no hay present\");\n        return { error: true, message: 'Campo obligatorio', vista7: true };\n    } */ else {\n        /* si hay todos los datos */\n        return { error: false, message: '' };\n    }\n}","import { gql } from '@apollo/client';\n\nexport const CREAR_CUENTA = gql`\n\tmutation crearCuenta($input: CrearCuentasInput) {\n\t\tcrearCuenta(input: $input) {\n\t\t\t_id\n\t\t\tcuenta\n\t\t\tempresa {\n\t\t\t\t_id\n\t\t\t\tnombre_empresa\n\t\t\t\tcorreo_empresa\n\t\t\t\tnombre_dueno\n\t\t\t\ttelefono_dueno\n\t\t\t}\n\t\t\tsucursal {\n\t\t\t\t_id\n\t\t\t\tnombre_sucursal\n\t\t\t\tdescripcion\n\t\t\t}\n\t\t}\n\t}\n`;\nexport const CREAR_SUBCUENTA= gql`\n\tmutation crearSubcuenta($idCuenta: ID!, $input: CrearSubcuentasInput) {\n\t\tcrearSubcuenta(idCuenta: $idCuenta, input: $input) {\n\t\t\tmessage\n\t\t}\n\t}\n`;\n\nexport const ACTUALIZAR_CUENTA= gql`\n\tmutation actualizarCuenta($idCuenta: ID!, $input: ActualizarCuentasInput) {\n\t\tactualizarCuenta(idCuenta: $idCuenta, input: $input) {\n\t\t\tmessage\n\t\t}\n\t}\n`;\nexport const ACTUALIZAR_SUBCUENTA = gql`\n\tmutation actualizarSubcuenta($idCuenta: ID!, $idSubcuenta: ID!, $input: ActualizarSubcuentasInput) {\n\t\tactualizarSubcuenta(idCuenta: $idCuenta, idSubcuenta: $idSubcuenta, input: $input) {\n\t\t\tmessage\n\t\t}\n\t}\n`;\n\nexport const OBTENER_CUENTAS = gql`\n\tquery obtenerCuentas($empresa: ID!, $sucursal: ID!) {\n\t\tobtenerCuentas(empresa: $empresa, sucursal: $sucursal) {\n\t\t\t_id\n\t\t\tcuenta\n\t\t\tsubcuentas {\n\t\t\t\t_id\n\t\t\t\tsubcuenta\n\t\t\t}\n\t\t\tempresa {\n\t\t\t\t_id\n\t\t\t\tnombre_empresa\n\t\t\t\tcorreo_empresa\n\t\t\t\tnombre_dueno\n\t\t\t\ttelefono_dueno\n\t\t\t}\n\t\t\tsucursal {\n\t\t\t\t_id\n\t\t\t\tnombre_sucursal\n\t\t\t\tdescripcion\n\t\t\t}\n\t\t}\n\t}\n`;\n\nexport const ELIMINAR_CUENTA = gql`\n\tmutation eliminarCuenta($id: ID!) {\n\t\teliminarCuenta(id: $id) {\n\t\t\tmessage\n\t\t}\n\t}\n`; \nexport const ELIMINAR_SUBCUENTA = gql`\n\tmutation eliminarSubcuenta($idCuenta: ID!, $idSubcuenta: ID!) {\n\t\teliminarSubcuenta(idCuenta: $idCuenta, idSubcuenta: $idSubcuenta) {\n\t\t\tmessage\n\t\t}\n\t}\n`; ","import React, { Fragment, useContext, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport {\n  Button,\n  CircularProgress,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  Divider,\n  Grid,\n  TextField,\n} from \"@material-ui/core\";\nimport {\n  Box,\n  FormControl,\n  MenuItem,\n  Select,\n  Typography,\n} from \"@material-ui/core\";\nimport { RegProductoContext } from \"../../../../../context/Catalogos/CtxRegProducto\";\nimport Add from \"@material-ui/icons/Add\";\nimport SnackBarMessages from \"../../../../../components/SnackBarMessages\";\nimport {\n  CREAR_CUENTA,\n  CREAR_SUBCUENTA,\n} from \"../../../../../gql/Catalogos/centroCostos\";\nimport { useMutation } from \"@apollo/client\";\n\nconst useStyles = makeStyles((theme) => ({\n  titulos: {\n    fontWeight: 500,\n  },\n}));\n\nexport default function CentroCostos({ obtenerConsultasProducto, refetch }) {\n  const classes = useStyles();\n  const {\n    centro_de_costos,\n    setCentroDeCostos,\n    subcostos,\n    setSubcostos,\n  } = useContext(RegProductoContext);\n  const { centro_costos } = obtenerConsultasProducto;\n\n  const obtenerAlmacenes = (event, child) => {\n    setCentroDeCostos({\n      ...centro_de_costos,\n      [event.target.name]: event.target.value,\n      [child.props.name]: child.props.id,\n    });\n    if (child.props.costos) {\n      const { subcuentas } = child.props.costos;\n      setSubcostos(subcuentas);\n    }\n  };\n\n  return (\n    <Fragment>\n      <Box my={3}>\n        <Typography>\n          <b>Centro de costos</b>\n        </Typography>\n        <Divider />\n      </Box>\n      <Grid container spacing={2}>\n        <Grid item md={6} xs={12}>\n          <Box>\n            <Typography className={classes.titulos}>Cuenta</Typography>\n            <Box display=\"flex\">\n              <FormControl\n                variant=\"outlined\"\n                fullWidth\n                size=\"small\"\n                name=\"cuenta\"\n              >\n                <Select\n                  name=\"cuenta\"\n                  value={centro_de_costos.cuenta ? centro_de_costos.cuenta : \"\"}\n                  onChange={obtenerAlmacenes}\n                >\n                  <MenuItem value=\"\">\n                    <em>Seleccione uno</em>\n                  </MenuItem>\n                  {centro_costos ? (\n                    centro_costos.map((res) => {\n                      return (\n                        <MenuItem\n                          name=\"id_cuenta\"\n                          key={res._id}\n                          value={res.cuenta}\n                          id={res._id}\n                          costos={res}\n                        >\n                          {res.cuenta}\n                        </MenuItem>\n                      );\n                    })\n                  ) : (\n                    <MenuItem value=\"\" />\n                  )}\n                </Select>\n              </FormControl>\n              <RegistrarNuevoSelect\n                tipo=\"cuenta\"\n                name=\"cuenta\"\n                refetch={refetch}\n              />\n            </Box>\n          </Box>\n        </Grid>\n        <Grid item md={6} xs={12}>\n          <Box>\n            <Typography className={classes.titulos}>Subcuenta</Typography>\n            <Box display=\"flex\">\n              <FormControl\n                variant=\"outlined\"\n                fullWidth\n                size=\"small\"\n                name=\"subcuenta\"\n              >\n                <Select\n                  name=\"subcuenta\"\n                  value={\n                    centro_de_costos.subcuenta ? centro_de_costos.subcuenta : \"\"\n                  }\n                  onChange={obtenerAlmacenes}\n                >\n                  <MenuItem value=\"\">\n                    <em>Seleccione uno</em>\n                  </MenuItem>\n                  {subcostos ? (\n                    subcostos.map((res) => {\n                      return (\n                        <MenuItem\n                          name=\"id_subcuenta\"\n                          key={res._id}\n                          value={res.subcuenta}\n                          id={res._id}\n                        >\n                          {res.subcuenta}\n                        </MenuItem>\n                      );\n                    })\n                  ) : (\n                    <MenuItem value=\"\" />\n                  )}\n                </Select>\n              </FormControl>\n              <RegistrarNuevoSelect\n                tipo=\"subcuenta\"\n                name=\"subcuenta\"\n                refetch={refetch}\n              />\n            </Box>\n          </Box>\n        </Grid>\n      </Grid>\n    </Fragment>\n  );\n}\n\nconst RegistrarNuevoSelect = ({ tipo, name, refetch }) => {\n  const [open, setOpen] = useState(false);\n  const [validacion, setValidacion] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [value, setValue] = useState(\"\");\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n  const {\n    centro_de_costos,\n    setCentroDeCostos,\n    subcostos,\n    setSubcostos,\n  } = useContext(RegProductoContext);\n  const [alert, setAlert] = useState({ message: \"\", status: \"\", open: false });\n\n  /*  costos Mutation */\n  const [crearCuenta] = useMutation(CREAR_CUENTA);\n  /*  subcostos Mutation */\n  const [crearSubcuenta] = useMutation(CREAR_SUBCUENTA);\n\n  const handleToggle = () => {\n    setOpen(!open);\n  };\n\n  const obtenerDatos = (e) => {\n    setValue(e.target.value);\n  };\n\n  const guardarDatos = async (e) => {\n    e.preventDefault();\n    if (!value) {\n      setValidacion(true);\n      return;\n    }\n    let variables = {\n      input: {\n        [name]: value,\n        empresa: sesion.empresa._id,\n        sucursal: sesion.sucursal._id,\n      },\n    };\n    if (tipo === \"subcuenta\") {\n      variables = {\n        input: {\n          [name]: value,\n        },\n        idCuenta: centro_de_costos.id_cuenta,\n      };\n    }\n\n    setLoading(true);\n    try {\n      switch (tipo) {\n        case \"cuenta\":\n          const cuenta_creada = await crearCuenta({ variables });\n          refetch();\n          const id_cuenta = cuenta_creada.data.crearCuenta._id;\n          setCentroDeCostos({\n            ...centro_de_costos,\n            cuenta: value,\n            id_cuenta,\n          });\n          break;\n        case \"subcuenta\":\n          const subcuenta_creada = await crearSubcuenta({ variables });\n          refetch();\n          const id_subcuenta = subcuenta_creada.data.crearSubcuenta._id;\n          setSubcostos([...subcostos, { _id: id_subcuenta, subcuenta: value }]);\n          setCentroDeCostos({\n            ...centro_de_costos,\n            subcuenta: value,\n            id_subcuenta,\n          });\n          break;\n        default:\n          break;\n      }\n      setAlert({ message: \"Listo!\", status: \"success\", open: true });\n      setLoading(false);\n      handleToggle();\n    } catch (error) {\n      setAlert({ message: \"Hubo un error\", status: \"error\", open: true });\n      setLoading(false);\n    }\n  };\n\n  return (\n    <Fragment>\n      <Button\n        color=\"primary\"\n        onClick={() => handleToggle()}\n        disabled={tipo === \"subcuenta\" && !centro_de_costos.id_cuenta}\n      >\n        <Add />\n      </Button>\n      <Dialog\n        open={open}\n        onClose={handleToggle}\n        aria-labelledby={`modal-title-${tipo}`}\n      >\n        <SnackBarMessages alert={alert} setAlert={setAlert} />\n        <DialogTitle id={`modal-title-${tipo}`}>Registrar {tipo}</DialogTitle>\n        <DialogContent>\n          <form id={`registro-${name}`} onSubmit={(e) => guardarDatos(e)}>\n            <TextField\n              error={validacion}\n              name={name}\n              autoFocus\n              label={tipo}\n              fullWidth\n              variant=\"outlined\"\n              onChange={obtenerDatos}\n              helperText={validacion ? \"Campo obligatorio\" : \"\"}\n            />\n          </form>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={() => handleToggle()} color=\"primary\">\n            Cancelar\n          </Button>\n          <Button\n            /* onClick={() => guardarDatos()} */\n            form={`registro-${name}`}\n            type=\"submit\"\n            variant=\"contained\"\n            color=\"primary\"\n            endIcon={\n              loading ? <CircularProgress color=\"inherit\" size={18} /> : null\n            }\n          >\n            Guardar\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </Fragment>\n  );\n};\n","import React, { Fragment, useContext, useState } from \"react\";\nimport {\n  Box,\n  Divider,\n  FormControl,\n  Grid,\n  makeStyles,\n  MenuItem,\n  Select,\n  TextField,\n  Typography,\n  Button,\n} from \"@material-ui/core\";\nimport TablaPreciosPlazos from \"./tabla_precios\";\nimport { RegProductoContext } from \"../../../../../context/Catalogos/CtxRegProducto\";\nimport { unitCodes, unitCodes_granel } from \"../unidades\";\n\nconst useStyles = makeStyles((theme) => ({\n  formInputFlex: {\n    display: \"flex\",\n    \"& > *\": {\n      margin: `${theme.spacing(1)}px ${theme.spacing(1)}px`,\n    },\n    \"& > .precios-box\": {\n      margin: `${theme.spacing(1)}px ${theme.spacing(3)}px`,\n    },\n  },\n}));\n\nexport default function PrecioPlazos() {\n  const classes = useStyles();\n  const {\n    precios,\n    preciosPlazos,\n    setPreciosPlazos,\n    unidadesVenta,\n    unidadVentaXDefecto,\n  } = useContext(RegProductoContext);\n  const [plazo, setPlazo] = useState({\n    plazo: \"1\",\n    unidad: precios.granel ? \"Costal\" : \"Pz\",\n    codigo_unidad: precios.granel ? \"KGM\" : \"H87\",\n    precio: 0,\n  });\n\n  const obtenerPlazos = (e, child) => {\n    if (e.target.name === \"precio\") {\n      setPlazo({\n        ...plazo,\n        [e.target.name]: parseFloat(e.target.value),\n      });\n      return;\n    }\n    if (e.target.name === \"unidad\") {\n      const { codigo_unidad, unidad } = child.props.unidad;\n      setPlazo({\n        ...plazo,\n        unidad,\n        codigo_unidad,\n      });\n      return;\n    }\n    setPlazo({\n      ...plazo,\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  const guardarPlazo = () => {\n    if (!plazo.plazo || !plazo.precio || !plazo.unidad) return;\n    switch (plazo.unidad) {\n      case \"Pz\":\n        setPreciosPlazos({\n          ...preciosPlazos,\n          precio_piezas: [...preciosPlazos.precio_piezas, plazo],\n        });\n        break;\n      case \"Caja\":\n        setPreciosPlazos({\n          ...preciosPlazos,\n          precio_cajas: [...preciosPlazos.precio_cajas, plazo],\n        });\n        break;\n      case \"Costal\":\n        setPreciosPlazos({\n          ...preciosPlazos,\n          precio_costales: [...preciosPlazos.precio_costales, plazo],\n        });\n        break;\n      default:\n        break;\n    }\n    setPlazo({\n      ...plazo,\n      precio: 0,\n    });\n  };\n\n  return (\n    <Fragment>\n      <Box className={classes.formInputFlex}>\n        <Typography className=\"precios-box\">\n          Precio venta de <b>{unidadVentaXDefecto.unidad}</b> con\n          impuestos(NETO): <b>${unidadVentaXDefecto.precio}</b>\n        </Typography>\n        {unidadesVenta.map((unidades, index) => {\n          if (!unidades.default)\n            return (\n              <Typography key={index} className=\"precios-box\">\n                Precio venta de <b>{unidades.unidad}</b> con impuestos(NETO):{\" \"}\n                <b>${unidades.precio}</b>\n              </Typography>\n            );\n          return null;\n        })}\n      </Box>\n      <Divider />\n      <Box className={classes.formInputFlex} justifyContent=\"center\">\n        <Box>\n          <Typography>Plazo</Typography>\n          <Box display=\"flex\">\n            <FormControl variant=\"outlined\" fullWidth size=\"small\" name=\"plazo\">\n              <Select name=\"plazo\" value={plazo.plazo} onChange={obtenerPlazos}>\n                <MenuItem value=\"1\">1 Mes</MenuItem>\n                <MenuItem value=\"2\">2 Meses</MenuItem>\n                <MenuItem value=\"6\">6 Meses</MenuItem>\n                <MenuItem value=\"8\">8 Meses</MenuItem>\n                <MenuItem value=\"12\">12 Meses</MenuItem>\n                <MenuItem value=\"18\">18 Meses</MenuItem>\n              </Select>\n            </FormControl>\n          </Box>\n        </Box>\n        <Box>\n          <Typography>Unidad</Typography>\n          <Box display=\"flex\">\n            <FormControl\n              variant=\"outlined\"\n              fullWidth\n              size=\"small\"\n              name=\"unidad\"\n            >\n              {precios.granel ? (\n                <Select\n                  name=\"unidad\"\n                  value={plazo.unidad}\n                  onChange={obtenerPlazos}\n                >\n                  {unitCodes_granel.map((res, index) =>\n                    res.unidad === \"Costal\" ? (\n                      <MenuItem key={index} unidad={res} value={res.unidad}>\n                        {res.unidad}\n                      </MenuItem>\n                    ) : null\n                  )}\n                </Select>\n              ) : (\n                <Select\n                  name=\"unidad\"\n                  value={plazo.unidad}\n                  onChange={obtenerPlazos}\n                >\n                  {unitCodes.map((res, index) => (\n                    <MenuItem key={index} unidad={res} value={res.unidad}>\n                      {res.unidad}\n                    </MenuItem>\n                  ))}\n                </Select>\n              )}\n            </FormControl>\n          </Box>\n        </Box>\n        <Box>\n          <Typography>Precio</Typography>\n          <TextField\n            type=\"number\"\n            InputProps={{ inputProps: { min: 0 } }}\n            size=\"small\"\n            name=\"precio\"\n            value={plazo.precio}\n            variant=\"outlined\"\n            onChange={obtenerPlazos}\n          />\n        </Box>\n        <Box display=\"flex\" alignItems=\"flex-end\">\n          <Button\n            variant=\"contained\"\n            size=\"large\"\n            color=\"primary\"\n            onClick={() => guardarPlazo()}\n          >\n            Agregar\n          </Button>\n        </Box>\n      </Box>\n      <Box>\n        <Grid container spacing={2} justify=\"center\">\n          {precios.granel ? (\n            <Fragment>\n              <Grid item lg={3}>\n                <Typography variant=\"h6\" align=\"center\">\n                  Costal\n                </Typography>\n                <TablaPreciosPlazos precios={preciosPlazos.precio_costales} />\n              </Grid>\n            </Fragment>\n          ) : (\n            <Fragment>\n              <Grid item lg={3}>\n                <Typography variant=\"h6\" align=\"center\">\n                  Piezas\n                </Typography>\n                <TablaPreciosPlazos precios={preciosPlazos.precio_piezas} />\n              </Grid>\n              <Grid item lg={3}>\n                <Typography variant=\"h6\" align=\"center\">\n                  Cajas\n                </Typography>\n                <TablaPreciosPlazos precios={preciosPlazos.precio_cajas} />\n              </Grid>\n            </Fragment>\n          )}\n        </Grid>\n      </Box>\n    </Fragment>\n  );\n}\n","export const validateJsonEdit = async (data, tipo) => {\n    if (tipo === \"datos_generales\") {\n      let object_date = {\n        clave_alterna: data.clave_alterna,\n        tipo_producto: data.tipo_producto,\n        nombre_comercial: data.nombre_comercial,\n        nombre_generico: data.nombre_generico,\n        receta_farmacia: data.receta_farmacia,\n      };\n      if (data.codigo_barras !== null && data.codigo_barras !== \"\")\n        object_date = { ...object_date, codigo_barras: data.codigo_barras };\n      if (data.descripcion !== null && data.descripcion !== \"\")\n        object_date = { ...object_date, descripcion: data.descripcion };\n      if (data.id_categoria !== null && data.id_categoria !== \"\")\n        object_date = { ...object_date, id_categoria: data.id_categoria };\n      if (data.categoria !== null && data.categoria !== \"\")\n        object_date = { ...object_date, categoria: data.categoria };\n      if (data.subcategoria !== null && data.subcategoria !== \"\")\n        object_date = { ...object_date, subcategoria: data.subcategoria };\n      if (data.id_subcategoria !== null && data.id_subcategoria !== \"\")\n        object_date = { ...object_date, id_subcategoria: data.id_subcategoria };\n      if (data.id_departamento !== null && data.id_departamento !== \"\")\n        object_date = { ...object_date, id_departamento: data.id_departamento };\n      if (data.departamento !== null && data.departamento !== \"\")\n        object_date = { ...object_date, departamento: data.departamento };\n      if (data.id_marca !== null && data.id_marca !== \"\")\n        object_date = { ...object_date, id_marca: data.id_marca };\n      if (data.marca !== null && data.marca !== \"\")\n        object_date = { ...object_date, marca: data.marca };\n      if (data.clave_producto_sat.Name !== null)\n        object_date = {\n          ...object_date,\n          clave_producto_sat: data.clave_producto_sat,\n        };\n      return object_date;\n    } else if (tipo === \"unidades_de_venta\") {\n      let end_array = [];\n      for (var i = 0; i < data.length; i++) {\n        let object = {\n          _id: data[i]._id,\n          cantidad: data[i].cantidad,\n          id_producto: data[i].id_producto,\n          precio: data[i].precio,\n          unidad_principal: data[i].unidad_principal,\n          unidad: data[i].unidad,\n          codigo_unidad: data[i].codigo_unidad,\n          precio_unidad: data[i].precio_unidad\n        };\n        if (data[i].codigo_barras !== null && data[i].codigo_barras !== \"\")\n          object = { ...object, codigo_barras: data[i].codigo_barras };\n        if (data[i].default !== null && data[i].default !== \"\")\n          object = { ...object, default: data[i].default };\n        if (data[i].descuento_activo !== null && data[i].descuento_activo !== \"\")\n          object = { ...object, descuento_activo: data[i].descuento_activo, descuento: data[i].descuento };\n          \n          end_array.push(object);\n      }\n      return end_array;\n    }\n  };","import React, { useState, Fragment, useContext, useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport DoneIcon from \"@material-ui/icons/Done\";\nimport {\n  Button,\n  Badge,\n  Typography,\n  CircularProgress,\n  Backdrop,\n  IconButton,\n} from \"@material-ui/core\";\nimport {\n  Dialog,\n  DialogActions,\n  DialogContent,\n  Tabs,\n  Tab,\n  Box,\n} from \"@material-ui/core\";\nimport RegistroInfoGenerales from \"./DatosGenerales/registrarInfoGeneral\";\nimport RegistroInfoAdidional from \"../Producto/PreciosVenta/registrarInfoAdicional\";\nimport CargarImagenesProducto from \"./Imagenes/cargarImagenesProducto\";\nimport { RegProductoContext } from \"../../../../context/Catalogos/CtxRegProducto\";\nimport RegistroAlmacenInicial from \"./Inventario&Almacen/AlmacenInicial\";\nimport ColoresTallas from \"./TallasColores/TallasColores\";\nimport ErrorPage from \"../../../../components/ErrorPage\";\n\nimport { useMutation, useQuery } from \"@apollo/client\";\nimport {\n  CREAR_PRODUCTO,\n  OBTENER_CONSULTAS,\n  ACTUALIZAR_PRODUCTO,\n} from \"../../../../gql/Catalogos/productos\";\nimport { validaciones } from \"./validaciones\";\nimport CentroCostos from \"./CentroCostos/CentroCostos\";\nimport PrecioPlazos from \"./PrecioPlazos/PrecioPlazos\";\n\nimport {\n  initial_state_datos_generales,\n  initial_state_precios,\n  initial_state_unidadVentaXDefecto,\n  initial_state_almacen_inicial,\n  initial_state_centro_de_costos,\n  initial_state_preciosPlazos,\n  initial_state_unidadVentaSecundaria,\n  initial_state_unidadesVenta,\n} from \"../../../../context/Catalogos/initialStatesProducto\";\nimport {\n  Add,\n  Close,\n  Edit,\n  NavigateBefore,\n  NavigateNext,\n} from \"@material-ui/icons\";\nimport { validateJsonEdit } from \"./validateDatos\";\n/* import { cleanTypenames } from \"../../../../config/reuserFunctions\"; */\n/* import SnackBarMessages from '../../../../components/SnackBarMessages'; */\n\nexport const initial_state_preciosP = [\n  {\n    numero_precio: 1,\n    utilidad: 0,\n    precio_neto: 0,\n    unidad_mayoreo: 0,\n    precio_venta: 0,\n    iva_precio: 0,\n    ieps_precio: 0,\n  },\n  {\n    numero_precio: 2,\n    utilidad: 0,\n    precio_neto: 0,\n    unidad_mayoreo: 0,\n    precio_venta: 0,\n    iva_precio: 0,\n    ieps_precio: 0,\n  },\n  {\n    numero_precio: 3,\n    utilidad: 0,\n    precio_neto: 0,\n    unidad_mayoreo: 0,\n    precio_venta: 0,\n    iva_precio: 0,\n    ieps_precio: 0,\n  },\n  {\n    numero_precio: 4,\n    utilidad: 0,\n    precio_neto: 0,\n    unidad_mayoreo: 0,\n    precio_venta: 0,\n    iva_precio: 0,\n    ieps_precio: 0,\n  },\n  {\n    numero_precio: 5,\n    utilidad: 0,\n    precio_neto: 0,\n    unidad_mayoreo: 0,\n    precio_venta: 0,\n    iva_precio: 0,\n    ieps_precio: 0,\n  },\n  {\n    numero_precio: 6,\n    utilidad: 0,\n    precio_neto: 0,\n    unidad_mayoreo: 0,\n    precio_venta: 0,\n    iva_precio: 0,\n    ieps_precio: 0,\n  },\n];\n\nfunction TabPanel(props) {\n  const { children, value, index, ...other } = props;\n\n  return (\n    <div\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`tabpanel-reg-product-${index}`}\n      aria-labelledby={`reg-product-tab-${index}`}\n      {...other}\n    >\n      {value === index && (\n        <Box p={3} height=\"70vh\">\n          {children}\n        </Box>\n      )}\n    </div>\n  );\n}\n\nTabPanel.propTypes = {\n  children: PropTypes.node,\n  index: PropTypes.any.isRequired,\n  value: PropTypes.any.isRequired,\n};\n\nfunction a11yProps(index) {\n  return {\n    id: `reg-product-tab-${index}`,\n    \"aria-controls\": `tabpanel-reg-product-${index}`,\n  };\n}\n\nconst useStyles = makeStyles((theme) => ({\n  root_app: {\n    flexGrow: 1,\n    backgroundColor: theme.palette.background.paper,\n    display: \"flex\",\n    maxHeight: \"80vh\",\n  },\n  iconSvg: {\n    width: 50,\n  },\n  dialogContent: {\n    padding: 0,\n  },\n  backdrop: {\n    zIndex: theme.zIndex.drawer + 1,\n    color: \"#fff\",\n  },\n  tabs: {\n    borderRight: `1px solid ${theme.palette.divider}`,\n  },\n}));\n\nexport default function CrearProducto({\n  accion,\n  datos,\n  productosRefetch,\n  fromCompra,\n  getProductos,\n}) {\n  const classes = useStyles();\n  const [open, setOpen] = useState(false);\n  const [value, setValue] = useState(0);\n  const {\n    datos_generales,\n    setDatosGenerales,\n    precios,\n    setPrecios,\n    validacion,\n    setValidacion,\n    preciosP,\n    setPreciosP,\n    imagenes,\n    setImagenes,\n    setUnidadesVenta,\n    almacen_inicial,\n    setAlmacenInicial,\n    unidadVentaXDefecto,\n    setUnidadVentaXDefecto,\n    centro_de_costos,\n    setCentroDeCostos,\n    setUpdate,\n    preciosPlazos,\n    setPreciosPlazos,\n    setSubcategorias,\n    setOnPreview,\n    setSubcostos,\n    imagenes_eliminadas,\n    setImagenesEliminadas,\n    presentaciones,\n    setPresentaciones,\n    presentaciones_eliminadas,\n    setPresentacionesEliminadas,\n    setAlmacenExistente,\n    almacen_existente,\n    unidadVentaSecundaria,\n    setUnidadVentaSecundaria,\n  } = useContext(RegProductoContext);\n\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n\n  /* const [ alert, setAlert ] = useState({ message: '', status: '', open: false }); */\n  const { setAlert } = useContext(RegProductoContext);\n  const [loading, setLoading] = useState(false);\n  const tipo = datos_generales.tipo_producto;\n\n  /* Mutations */\n  const [crearProducto] = useMutation(CREAR_PRODUCTO);\n  const [actualizarProducto] = useMutation(ACTUALIZAR_PRODUCTO);\n\n  const toggleModal = (producto) => {\n    setOpen(!open);\n    setUpdate(accion);\n    if (producto && accion) {\n      setInitialStates(producto);\n    } else {\n      resetInitialStates();\n    }\n  };\n\n  const handleChange = (event, newValue) => {\n    setValue(newValue);\n  };\n  /* ###### GUARDAR LA INFO EN LA BD ###### */\n\n  const saveData = async () => {\n    const validate = validaciones(\n      datos_generales,\n      precios,\n      almacen_inicial,\n      presentaciones,\n      almacen_existente\n    );\n\n    if (validate.error) {\n      setValidacion(validate);\n      return;\n    }\n    setValidacion(validate);\n    if (presentaciones.length > 0) {\n      const pres = presentaciones.filter(\n        (res) => res.color._id && res.medida._id\n      );\n\n      if (pres.length !== presentaciones.length) {\n        setValidacion({\n          error: true,\n          message: \"Faltan medidas o colores a tus presentaciones\",\n          vista7: true,\n        });\n        setAlert({\n          message: `Faltan medidas o colores en tus presentaciones`,\n          status: \"error\",\n          open: true,\n        });\n        return;\n      }\n    }\n\n    let copy_unidadesVenta = [{...unidadVentaXDefecto}, {...unidadVentaSecundaria}];\n\n    /* if (copy_unidadesVenta.length === 0) {\n      copy_unidadesVenta.push(unidadVentaXDefecto);\n    } else {\n      const unidadxdefecto = copy_unidadesVenta.filter(\n        (unidades) => unidades.default === true\n      );\n      if (unidadxdefecto.length === 0) {\n        copy_unidadesVenta.splice(0, 0, unidadVentaXDefecto);\n      }\n    } */\n\n    /* console.log(copy_unidadesVenta); */\n\n    precios.precios_producto = preciosP;\n\n    let imagenes_without_aws = imagenes;\n    if (accion) {\n      imagenes_without_aws = [...imagenes].filter((res) => !res.key_imagen);\n    }\n\n    let input = {\n      datos_generales: await validateJsonEdit(\n        datos_generales,\n        \"datos_generales\"\n      ),\n      precios,\n      imagenes: imagenes_without_aws,\n      imagenes_eliminadas,\n      almacen_inicial,\n      centro_de_costos,\n      unidades_de_venta: await validateJsonEdit(\n        copy_unidadesVenta,\n        \"unidades_de_venta\"\n      ),\n      presentaciones,\n      presentaciones_eliminadas,\n      precio_plazos: preciosPlazos,\n      empresa: sesion.empresa._id,\n      sucursal: sesion.sucursal._id,\n      usuario: sesion._id,\n    };\n\n    /* const clean_data = cleanTypenames(input); */\n    /* console.log(input); */\n\n    setLoading(true);\n     try {\n      if (accion) {\n        const result = await actualizarProducto({\n          variables: {\n            input,\n            id: datos._id,\n          },\n        });\n        setAlert({\n          message: `Listo! ${result.data.actualizarProducto.message}`,\n          status: \"success\",\n          open: true,\n        });\n      } else {\n        const result = await crearProducto({\n          variables: {\n            input,\n          },\n        });\n        setAlert({\n          message: `Listo! ${result.data.crearProducto.message}`,\n          status: \"success\",\n          open: true,\n        });\n      }\n      setLoading(false);\n      toggleModal();\n      if (fromCompra) {\n        getProductos();\n      } else {\n        productosRefetch();\n      }\n    } catch (error) {\n      setLoading(false);\n      setAlert({\n        message: `Error: ${error.message}`,\n        status: \"error\",\n        open: true,\n      });\n      console.log(error);\n      if (error.networkError) {\n        console.log(error.networkError.result);\n      } else if (error.graphQLErrors) {\n        console.log(error.graphQLErrors);\n      }\n    }\n  };\n\n  /* ###### RESET STATES ###### */\n  const resetInitialStates = () => {\n    setDatosGenerales(initial_state_datos_generales);\n    setPrecios(initial_state_precios);\n    setUnidadVentaXDefecto(initial_state_unidadVentaXDefecto);\n    setUnidadVentaSecundaria(initial_state_unidadVentaSecundaria);\n    setPreciosP(initial_state_preciosP);\n    setUnidadesVenta(initial_state_unidadesVenta);\n    setAlmacenInicial(initial_state_almacen_inicial);\n    setCentroDeCostos({});\n    setPreciosPlazos(initial_state_preciosPlazos);\n    setSubcategorias([]);\n    setImagenes([]);\n    setOnPreview({ index: \"\", image: \"\" });\n    setValidacion({ error: false, message: \"\" });\n    setSubcostos([]);\n    setImagenesEliminadas([]);\n    setPresentaciones([]);\n    setPresentacionesEliminadas([]);\n    setValue(0);\n  };\n\n  /* SET STATES WHEN UPDATING */\n  const setInitialStates = (producto) => {\n    /* const producto = cleanTypenames(product); */\n    console.log(producto);\n    const { precios_producto, ...new_precios } = producto.precios;\n    const { unidades_de_venta } = producto;\n    let unidades_secundaria = producto.unidades_de_venta.filter(\n      (res) => res.default === false\n    );\n    let unidadxdefecto = producto.unidades_de_venta.filter(\n      (res) => res.default === true\n    );\n    setDatosGenerales(producto.datos_generales);\n    setPrecios(new_precios);\n    setCentroDeCostos(\n      producto.centro_de_costos\n        ? producto.centro_de_costos\n        : initial_state_centro_de_costos\n    );\n    setImagenes(producto.imagenes);\n    setPreciosPlazos(producto.precio_plazos);\n    setUnidadesVenta(unidades_de_venta);\n    setPreciosP(producto.precios.precios_producto);\n    setUnidadVentaXDefecto(unidadxdefecto[0]);\n    setUnidadVentaSecundaria(unidades_secundaria[0]);\n    setPresentaciones(\n      producto.medidas_producto ? producto.medidas_producto : []\n    );\n    if (producto.inventario_general.length > 0) {\n      setAlmacenExistente(true);\n    } else {\n      setAlmacenExistente(false);\n    }\n  };\n\n  function funcion_tecla(event) {\n    const { keyCode } = event;\n    if (keyCode === 114) {\n      document.getElementById(\"modal-registro-product\").click();\n    }\n  } /* CODIGO PARA PODER EJECUTAR LAS VENTANAS A BASE DE LAS TECLAS */\n\n  window.onkeydown = funcion_tecla;\n\n  const saveButton = (\n    <Button\n      variant=\"contained\"\n      color=\"primary\"\n      onClick={() => saveData()}\n      size=\"large\"\n      startIcon={<DoneIcon />}\n      disabled={\n        !datos_generales.clave_alterna ||\n        !datos_generales.tipo_producto ||\n        !datos_generales.nombre_generico ||\n        !datos_generales.nombre_comercial ||\n        !precios.precio_de_compra.precio_con_impuesto ||\n        !precios.precio_de_compra.precio_sin_impuesto ||\n        !precios.unidad_de_compra.cantidad\n          ? true\n          : false\n      }\n    >\n      Guardar\n    </Button>\n  );\n\n  const ButtonActions = () => {\n    if (!accion && value === 4) {\n      return saveButton;\n    } else if (accion && tipo === \"OTROS\" && value === 4) {\n      return saveButton;\n    } else if (accion && tipo !== \"OTROS\" && value === 5) {\n      return saveButton;\n    } else {\n      return (\n        <Button\n          variant=\"contained\"\n          color=\"primary\"\n          onClick={() => setValue(value + 1)}\n          size=\"large\"\n          endIcon={<NavigateNext />}\n          disableElevation\n        >\n          Siguiente\n        </Button>\n      );\n    }\n  };\n\n  return (\n    <Fragment>\n      {/* <SnackBarMessages alert={alert} setAlert={setAlert} /> */}\n\n      {!accion ? (\n        fromCompra ? (\n          <IconButton color=\"primary\" onClick={() => toggleModal()}>\n            <Add />\n          </IconButton>\n        ) : (\n          <Button\n            id=\"modal-registro-product\"\n            color=\"primary\"\n            variant=\"contained\"\n            size=\"large\"\n            onClick={() => toggleModal()}\n            startIcon={<Add />}\n          >\n            Agregar\n          </Button>\n        )\n      ) : (\n        <IconButton color=\"default\" onClick={() => toggleModal(datos)}>\n          <Edit />\n        </IconButton>\n      )}\n      <Dialog\n        open={open}\n        fullWidth\n        maxWidth=\"lg\"\n        scroll=\"paper\"\n        disableEscapeKeyDown\n        onClose={(_, reason) => {\n          if (reason !== \"backdropClick\") {\n            toggleModal();\n          }\n        }}\n      >\n        <div className={classes.root_app}>\n          <Tabs\n            style={{ minWidth: \"200px\" }}\n            value={value}\n            onChange={handleChange}\n            variant=\"scrollable\"\n            orientation=\"vertical\"\n            scrollButtons=\"on\"\n            indicatorColor=\"primary\"\n            textColor=\"primary\"\n            aria-label=\"scrollable force tabs example\"\n            className={classes.tabs}\n          >\n            <Tab\n              style={{ minWidth: \"200px\" }}\n              label=\"Datos generales\"\n              icon={\n                <Badge\n                  color=\"secondary\"\n                  badgeContent={<Typography variant=\"h6\">!</Typography>}\n                  anchorOrigin={{\n                    vertical: \"bottom\",\n                    horizontal: \"right\",\n                  }}\n                  invisible={\n                    validacion.error && validacion.vista1 ? false : true\n                  }\n                >\n                  <img\n                    src=\"https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/portapapeles.svg\"\n                    alt=\"icono registro\"\n                    className={classes.iconSvg}\n                  />\n                </Badge>\n              }\n              {...a11yProps(0)}\n            />\n            <Tab\n              style={{ minWidth: \"200px\" }}\n              label=\"Precios de venta\"\n              icon={\n                <Badge\n                  color=\"secondary\"\n                  badgeContent={<Typography variant=\"h6\">!</Typography>}\n                  anchorOrigin={{\n                    vertical: \"bottom\",\n                    horizontal: \"right\",\n                  }}\n                  invisible={\n                    validacion.error && validacion.vista2 ? false : true\n                  }\n                >\n                  <img\n                    src=\"https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/etiqueta-de-precio.svg\"\n                    alt=\"icono venta\"\n                    className={classes.iconSvg}\n                  />\n                </Badge>\n              }\n              {...a11yProps(1)}\n            />\n            <Tab\n              style={{ minWidth: \"200px\" }}\n              label=\"Inventario y almacen\"\n              icon={\n                <Badge\n                  color=\"secondary\"\n                  badgeContent={<Typography variant=\"h6\">!</Typography>}\n                  anchorOrigin={{\n                    vertical: \"bottom\",\n                    horizontal: \"right\",\n                  }}\n                  invisible={\n                    validacion.error && validacion.vista3 ? false : true\n                  }\n                >\n                  <img\n                    src=\"https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/tarea-completada.svg\"\n                    alt=\"icono almacen\"\n                    className={classes.iconSvg}\n                  />\n                </Badge>\n              }\n              {...a11yProps(2)}\n            />\n            <Tab\n              style={{ minWidth: \"200px\" }}\n              label=\"Centro de costos\"\n              icon={\n                <img\n                  src=\"https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/costos.svg\"\n                  alt=\"icono almacen\"\n                  className={classes.iconSvg}\n                />\n              }\n              {...a11yProps(3)}\n            />\n            {/* <Tab\n              style={{ minWidth: \"200px\" }}\n              label=\"Precios a plazos\"\n              icon={\n                <img\n                  src=\"https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/calendar.svg\"\n                  alt=\"icono almacen\"\n                  className={classes.iconSvg}\n                />\n              }\n              {...a11yProps(4)}\n            /> */}\n            <Tab\n              style={{ minWidth: \"200px\" }}\n              label=\"Imagenes\"\n              icon={\n                <img\n                  src=\"https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/imagenes.svg\"\n                  alt=\"icono imagenes\"\n                  className={classes.iconSvg}\n                />\n              }\n              {...a11yProps(4)}\n            />\n            {accion ? (\n              datos_generales.tipo_producto !== \"OTROS\" ? (\n                <Tab\n                  style={{ minWidth: \"200px\" }}\n                  label=\"Tallas y colores\"\n                  icon={\n                    <Badge\n                      color=\"secondary\"\n                      badgeContent={<Typography variant=\"h6\">!</Typography>}\n                      anchorOrigin={{\n                        vertical: \"bottom\",\n                        horizontal: \"right\",\n                      }}\n                      invisible={\n                        validacion.error && validacion.vista7 ? false : true\n                      }\n                    >\n                      <img\n                        src=\"https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/tallas-colores.svg\"\n                        alt=\"icono colores\"\n                        className={classes.iconSvg}\n                      />\n                    </Badge>\n                  }\n                  {...a11yProps(5)}\n                />\n              ) : null\n            ) : null}\n          </Tabs>\n          <Box width=\"100%\">\n            <Box m={1} display=\"flex\" justifyContent=\"flex-end\">\n              <Button\n                variant=\"contained\"\n                color=\"secondary\"\n                onClick={() => toggleModal()}\n                size=\"large\"\n              >\n                <Close />\n              </Button>\n            </Box>\n            <DialogContent className={classes.dialogContent}>\n              <Backdrop className={classes.backdrop} open={loading}>\n                <CircularProgress color=\"inherit\" />\n              </Backdrop>\n              <ContenidoModal value={value} />\n            </DialogContent>\n          </Box>\n        </div>\n\n        <DialogActions\n          style={{ display: \"flex\", justifyContent: \"space-between\" }}\n        >\n          <Button\n            variant=\"outlined\"\n            color=\"primary\"\n            onClick={() => setValue(value - 1)}\n            size=\"large\"\n            startIcon={<NavigateBefore />}\n            disabled={value === 0}\n          >\n            Anterior\n          </Button>\n          <ButtonActions />\n        </DialogActions>\n      </Dialog>\n    </Fragment>\n  );\n}\n\nconst ContenidoModal = ({ value }) => {\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n\n  /* Queries */\n  const { loading, data, error, refetch } = useQuery(OBTENER_CONSULTAS, {\n    variables: { empresa: sesion.empresa._id, sucursal: sesion.sucursal._id },\n    fetchPolicy: \"network-only\",\n  });\n\n  useEffect(() => {\n    return () => {\n      refetch();\n    };\n  }, [refetch]);\n\n  if (loading)\n    return (\n      <Box\n        display=\"flex\"\n        flexDirection=\"column\"\n        justifyContent=\"center\"\n        alignItems=\"center\"\n        height=\"80vh\"\n      >\n        <CircularProgress />\n        <Typography variant=\"h6\">Cargando...</Typography>\n      </Box>\n    );\n\n  if (error) return <ErrorPage error={error} />;\n\n  const { obtenerConsultasProducto } = data;\n\n  return (\n    <Fragment>\n      <TabPanel value={value} index={0}>\n        <RegistroInfoGenerales\n          obtenerConsultasProducto={obtenerConsultasProducto}\n          refetch={refetch}\n        />\n      </TabPanel>\n      <TabPanel value={value} index={1}>\n        <RegistroInfoAdidional />\n      </TabPanel>\n      <TabPanel value={value} index={2}>\n        <RegistroAlmacenInicial\n          obtenerConsultasProducto={obtenerConsultasProducto}\n          refetch={refetch}\n        />\n      </TabPanel>\n      <TabPanel value={value} index={3}>\n        <CentroCostos\n          obtenerConsultasProducto={obtenerConsultasProducto}\n          refetch={refetch}\n        />\n      </TabPanel>\n      {/* <TabPanel value={value} index={4}>\n        <PrecioPlazos />\n      </TabPanel> */}\n      <TabPanel value={value} index={4}>\n        <CargarImagenesProducto />\n      </TabPanel>\n      <TabPanel value={value} index={5}>\n        <ColoresTallas\n          obtenerConsultasProducto={obtenerConsultasProducto}\n          refetch={refetch}\n        />\n      </TabPanel>\n    </Fragment>\n  );\n};\n","import React, { useCallback, useContext, useEffect, useState } from \"react\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport { ComprasContext } from \"../../../../../context/Compras/comprasContext\";\n\nexport default function PreciosDeVentaCompras() {\n  const { preciosVenta } = useContext(ComprasContext);\n\n  return (\n    <div>\n      <TableContainer>\n        <Table aria-label=\"simple table\" size=\"small\">\n          <TableHead>\n            <TableRow>\n              <TableCell style={{ minWidth: 150 }}>Precios de venta</TableCell>\n              {[1, 2, 3, 4, 5, 6].map((numero, index) => (\n                <TableCell style={{ minWidth: 100 }} key={index}>\n                  {numero}\n                </TableCell>\n              ))}\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {[\"Utilidad\", \"Precio de venta\"].map((tipo, index) => (\n              <TableRow key={index}>\n                <TableCell style={{ border: 0 }}>\n                  <b>{tipo}</b>\n                </TableCell>\n                {preciosVenta.map((data, index) => (\n                  <RenderPrecios\n                    key={index}\n                    data={data}\n                    index={index}\n                    tipo={tipo}\n                  />\n                ))}\n              </TableRow>\n            ))}\n          </TableBody>\n        </Table>\n      </TableContainer>\n    </div>\n  );\n}\n\nconst RenderPrecios = ({ data, tipo, index }) => {\n  const { preciosVenta, setPreciosVenta, datosProducto, productoOriginal } = useContext(\n    ComprasContext\n  );\n  const { precios } = productoOriginal;\n\n  const [precio_neto, setPrecioNeto] = useState(data.precio_neto);\n\n  //creamos variables para trabajar con ellas, no causar errores y afectar las originales\n  let copy_preciosVenta = { ...preciosVenta[index] };\n  let preciosVenta_base = [...preciosVenta];\n\n  let precio_unitario_con_impuesto =\n    /* datosProducto.costo / datosProducto.cantidad; */\n    datosProducto.costo / precios.unidad_de_compra.cantidad;\n  let precio_unitario_sin_impuesto =\n    /* precios.precio_de_compra.precio_sin_impuesto / datosProducto.cantidad; */\n    precios.precio_de_compra.precio_sin_impuesto /\n    precios.unidad_de_compra.cantidad;\n\n  if (isNaN(precio_unitario_sin_impuesto)) precio_unitario_sin_impuesto = 0;\n  if (isNaN(precio_unitario_con_impuesto)) precio_unitario_con_impuesto = 0;\n\n  const calculosCompra = useCallback(() => {\n    if (copy_preciosVenta.numero_precio === data.numero_precio) {\n      copy_preciosVenta.precio_neto = precio_unitario_con_impuesto;\n      setPrecioNeto(precio_unitario_con_impuesto);\n\n      let utilidad_base = data.utilidad ? data.utilidad : 0;\n      let utilidad = utilidad_base / 100;\n\n      const precio_venta = parseFloat(\n        (\n          precio_unitario_sin_impuesto * utilidad +\n          precio_unitario_sin_impuesto\n        ).toFixed(2)\n      );\n      copy_preciosVenta.precio_venta = parseFloat(precio_venta.toFixed(2));\n      if (precios.iva_activo || precios.ieps_activo) {\n        const precio_neto =\n          precio_unitario_con_impuesto +\n          precio_unitario_con_impuesto * utilidad;\n\n        copy_preciosVenta.precio_neto = parseFloat(precio_neto.toFixed(2));\n        setPrecioNeto(parseFloat(precio_neto.toFixed(2)));\n      } else {\n        copy_preciosVenta.precio_neto = parseFloat(precio_venta.toFixed(2));\n        setPrecioNeto(parseFloat(precio_venta.toFixed(2)));\n      }\n      preciosVenta_base.splice(index, 1, copy_preciosVenta);\n      setPreciosVenta(preciosVenta_base)\n    }\n  }, [datosProducto.costo, datosProducto.cantidad]);\n\n  useEffect(() => {\n    if (data.numero_precio === 1) {\n      calculosCompra();\n    } else if (data.numero_precio > 1 && precio_neto) {\n      calculosCompra();\n    }\n  }, [calculosCompra]);\n\n  switch (tipo) {\n    case \"Utilidad\":\n      return <TableCell style={{ border: 0 }}>{data.utilidad}%</TableCell>;\n    case \"Precio de venta\":\n      return (\n        <TableCell style={{ border: 0 }}>\n          ${parseFloat(precio_neto).toFixed(2)}\n        </TableCell>\n      );\n    default:\n      return null;\n  }\n};\n","import React, { Fragment, useContext } from \"react\";\nimport { Box, InputAdornment, TextField } from \"@material-ui/core\";\nimport { ComprasContext } from \"../../../../../context/Compras/comprasContext\";\n\nexport default function DescuentosInputs() {\n  const { datosProducto, setDatosProducto, productoOriginal } = useContext(\n    ComprasContext\n  );\n  const {\n    precio_sin_impuesto,\n    precio_con_impuesto,\n    iva,\n    ieps,\n  } = productoOriginal.precios.precio_de_compra;\n  const impuestos = iva + ieps;\n\n  const obtenerPorcentaje = (value) => {\n    if (!value || parseFloat(value) === 0) {\n      setDatosProducto({\n        ...datosProducto,\n        descuento_porcentaje: \"\",\n        descuento_precio: \"\",\n        subtotal_descuento: precio_sin_impuesto,\n        total_descuento: precio_con_impuesto,\n      });\n      return;\n    }\n    let porcentaje = parseFloat(value);\n    let cantidad_descontada = Math.round(\n      (datosProducto.subtotal * porcentaje) / 100\n    );\n    let subtotal = datosProducto.subtotal - cantidad_descontada;\n    let total = subtotal + impuestos;\n\n    setDatosProducto({\n      ...datosProducto,\n      descuento_porcentaje: parseFloat(porcentaje),\n      descuento_precio: parseFloat(cantidad_descontada.toFixed(2)),\n      subtotal_descuento: parseFloat(subtotal.toFixed(2)),\n      total_descuento: parseFloat(total.toFixed(2)),\n    });\n  };\n\n  const obtenerPrecio = (value) => {\n    if (!value || parseFloat(value) === 0) {\n      setDatosProducto({\n        ...datosProducto,\n        descuento_porcentaje: \"\",\n        descuento_precio: \"\",\n        subtotal_descuento: precio_sin_impuesto,\n        total_descuento: precio_con_impuesto,\n      });\n      return;\n    }\n    let cantidad_descontada = parseFloat(value);\n\n    let porcentaje = Math.round(\n      (cantidad_descontada / datosProducto.subtotal) * 100\n    );\n    /* let descuento_porcentaje = 100 - porcentaje; */\n    /* let total = datosProducto.total - cantidad_descontada; */\n    let subtotal = datosProducto.subtotal - cantidad_descontada;\n    let total = subtotal + impuestos;\n\n    setDatosProducto({\n      ...datosProducto,\n      descuento_porcentaje: parseFloat(porcentaje),\n      descuento_precio: parseFloat(cantidad_descontada.toFixed(2)),\n      subtotal_descuento: parseFloat(subtotal.toFixed(2)),\n      total_descuento: parseFloat(total.toFixed(2)),\n    });\n  };\n\n  return (\n    <Fragment>\n      <Box display=\"flex\" width={160}>\n        <TextField\n          variant=\"outlined\"\n          size=\"small\"\n          fullWidth\n          inputMode=\"numeric\"\n          onChange={(e) => obtenerPrecio(e.target.value)}\n          disabled={!datosProducto.producto.datos_generales}\n          value={datosProducto.descuento_precio}\n          InputProps={{\n            startAdornment: <InputAdornment position=\"start\">$</InputAdornment>,\n          }}\n        />\n        <Box mr={1} />\n        <TextField\n          variant=\"outlined\"\n          size=\"small\"\n          fullWidth\n          inputMode=\"numeric\"\n          onChange={(e) => obtenerPorcentaje(e.target.value)}\n          disabled={!datosProducto.producto.datos_generales}\n          value={datosProducto.descuento_porcentaje}\n          InputProps={{\n            startAdornment: <InputAdornment position=\"start\">%</InputAdornment>,\n          }}\n        />\n      </Box>\n    </Fragment>\n  );\n}\n","import React, { createContext, useState } from 'react';\n\nexport const ClienteCtx = createContext();\n\nexport const ClienteProvider = ({ children }) => {\n\tconst [ cliente, setCliente ] = useState({\n\t\tdireccion: {\n\t\t\tcalle: '',\n\t\t\tno_ext: '',\n\t\t\tno_int: '',\n\t\t\tcodigo_postal: '',\n\t\t\tcolonia: '',\n\t\t\tmunicipio: '',\n\t\t\tlocalidad: '',\n\t\t\testado: '',\n\t\t\tpais: ''\n\t\t},\n\t\testado_cliente: true\n\t});\n\tconst [ toUpdate, setToUpdate ] = useState(false);\n\tconst [ error, setError ] = useState(false);\n\tconst [ update, setUpdate ] = useState(false);\n\n\tconst [updateClientVenta, setUpdateClientVenta] = useState(false);\n\n\n\treturn (\n\t\t<ClienteCtx.Provider\n\t\t\tvalue={{\n\t\t\t\tcliente,\n\t\t\t\tsetCliente,\n\t\t\t\ttoUpdate,\n\t\t\t\tsetToUpdate,\n\t\t\t\terror,\n\t\t\t\tsetError,\n\t\t\t\tupdate,\n\t\t\t\tsetUpdate,\n\t\t\t\tsetUpdateClientVenta,\n\t\t\t\tupdateClientVenta\n\t\t\t}}\n\t\t>\n\t\t\t{children}\n\t\t</ClienteCtx.Provider>\n\t);\n};\n","import React, { Fragment, useContext, useCallback, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport {\n  Box,\n  Divider,\n  Avatar,\n  InputAdornment,\n  IconButton,\n} from \"@material-ui/core\";\nimport { TextField, Typography, Grid } from \"@material-ui/core\";\nimport { useDropzone } from \"react-dropzone\";\nimport { ClienteCtx } from \"../../../../context/Catalogos/crearClienteCtx\";\nimport { Cached } from \"@material-ui/icons\";\n\nconst useStyles = makeStyles((theme) => ({\n  avatarContainer: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    width: 150,\n    height: 150,\n    border: \"dashed 2px #000000\",\n  },\n  avatar: {\n    width: 135,\n    height: 135,\n    \"& > .icon\": {\n      fontSize: 100,\n    },\n  },\n  input: {\n    \"& input[type=number]\": {\n      \"-moz-appearance\": \"textfield\",\n    },\n    \"& input[type=number]::-webkit-outer-spin-button\": {\n      \"-webkit-appearance\": \"none\",\n      margin: 0,\n    },\n    \"& input[type=number]::-webkit-inner-spin-button\": {\n      \"-webkit-appearance\": \"none\",\n      margin: 0,\n    },\n  },\n  title: {\n    fontWeight: \"500\",\n    \"& span\": {\n      color: \"red\",\n    },\n  },\n}));\n\nexport default function RegistrarInfoBasica({ tipo, accion }) {\n  const classes = useStyles();\n  const { cliente, setCliente, error } = useContext(ClienteCtx);\n  const [preview, setPreview] = useState(\"\");\n\n  //dropzone\n  const onDrop = useCallback(\n    (acceptedFiles) => {\n      let reader = new FileReader();\n      reader.readAsDataURL(acceptedFiles[0]);\n      reader.onload = function () {\n        let image = reader.result;\n        setPreview(image);\n      };\n      setCliente({\n        ...cliente,\n        imagen: acceptedFiles[0],\n      });\n    },\n    [cliente, setCliente]\n  );\n\n  const { getRootProps, getInputProps } = useDropzone({\n    accept: \"image/jpeg, image/png\",\n    noKeyboard: true,\n    onDrop,\n  });\n\n  const obtenerCampos = (e) => {\n    const { name, value } = e.target;\n    setCliente({\n      ...cliente,\n      [name]: value,\n    });\n  };\n  const obtenerCamposDireccion = (e) => {\n    const { name, value } = e.target;\n    setCliente({\n      ...cliente,\n      direccion: { ...cliente.direccion, [name]: value },\n    });\n  };\n\n  const GenCodigoBarras = () => {\n    const max = 999999999999;\n    const min = 100000000000;\n    const clave_cliente = Math.floor(\n      Math.random() * (max - min + 1) + min\n    ).toString();\n    setCliente({\n      ...cliente,\n      clave_cliente,\n    });\n  };\n\n  return (\n    <Fragment>\n      <Grid container className={classes.input}>\n        <Grid\n          item\n          md={3}\n          xs={12}\n          style={{\n            display: \"flex\",\n            justifyContent: \"center\",\n            marginTop: \"8px\",\n          }}\n        >\n          <Box className={classes.avatarContainer} {...getRootProps()}>\n            <input {...getInputProps()} />\n            {preview ? (\n              <Avatar\n                variant=\"square\"\n                className={classes.avatar}\n                src={`${preview}`}\n              />\n            ) : (\n              <Avatar\n                variant=\"square\"\n                className={classes.avatar}\n                src={`${cliente.imagen}`}\n              />\n            )}\n          </Box>\n        </Grid>\n        <Grid item md={9} xs={12}>\n          <Grid container spacing={2}>\n            {accion === \"registrar\" ? null : (\n              <Grid item md={3} xs={12}>\n                <Typography className={classes.title}>N. Cliente</Typography>\n                <TextField\n                  fullWidth\n                  size=\"small\"\n                  name=\"numero_cliente\"\n                  variant=\"outlined\"\n                  value={cliente.numero_cliente ? cliente.numero_cliente : \"\"}\n                  onChange={obtenerCampos}\n                  disabled\n                  type=\"number\"\n                />\n              </Grid>\n            )}\n            <Grid item md={accion === \"registrar\" ? 12 : 9} xs={12}>\n              <Typography className={classes.title}>\n                <span>* </span>Nombre Cliente\n              </Typography>\n              <TextField\n                fullWidth\n                size=\"small\"\n                error={error && !cliente.nombre_cliente}\n                name=\"nombre_cliente\"\n                variant=\"outlined\"\n                value={\n                  cliente.nombre_cliente\n                    ? cliente.nombre_cliente\n                    : \"\"\n                }\n                helperText={error ? \"Campo Requerido\" : \"\"}\n                onChange={obtenerCampos}\n              />\n            </Grid>\n            {tipo === \"CLIENTE\" ? null : (\n              <Grid item md={4} xs={12}>\n                <Typography className={classes.title}>\n                  <span>* </span>Representante\n                </Typography>\n                <TextField\n                  fullWidth\n                  size=\"small\"\n                  error={error && !cliente.representante}\n                  name=\"representante\"\n                  variant=\"outlined\"\n                  value={\n                    cliente.representante\n                      ? cliente.representante\n                      : \"\"\n                  }\n                  helperText={error ? \"Campo Requerido\" : \"\"}\n                  onChange={obtenerCampos}\n                />\n              </Grid>\n            )}\n            <Grid item md={tipo === \"CLIENTE\" ? 6 : 4} xs={12}>\n              <Typography className={classes.title}>\n                <span>* </span>Clave(Tarjeta de puntos)\n              </Typography>\n              <TextField\n                fullWidth\n                size=\"small\"\n                error={error && !cliente.clave_cliente}\n                name=\"clave_cliente\"\n                variant=\"outlined\"\n                value={cliente.clave_cliente ? cliente.clave_cliente : \"\"}\n                helperText={error ? \"Campo Requerido\" : \"\"}\n                onChange={obtenerCampos}\n                InputProps={{\n                  endAdornment: (\n                    <InputAdornment position=\"end\">\n                      <IconButton\n                        color=\"primary\"\n                        size=\"small\"\n                        onClick={() => GenCodigoBarras()}\n                      >\n                        <Cached />\n                      </IconButton>\n                    </InputAdornment>\n                  ),\n                  disabled: true,\n                }}\n                type=\"number\"\n              />\n            </Grid>\n            <Grid item md={tipo === \"CLIENTE\" ? 6 : 4} xs={12}>\n              <Typography className={classes.title}>\n                Fecha nacimiento\n              </Typography>\n              <TextField\n                fullWidth\n                size=\"small\"\n                name=\"fecha_nacimiento\"\n                variant=\"outlined\"\n                type=\"date\"\n                onChange={obtenerCampos}\n                value={cliente.fecha_nacimiento ? cliente.fecha_nacimiento : \"\"}\n              />\n            </Grid>\n          </Grid>\n        </Grid>\n        <Grid item md={12}>\n          <Grid container spacing={2}>\n            <Grid item md={3} xs={12}>\n              <Typography className={classes.title}>CURP</Typography>\n              <TextField\n                fullWidth\n                size=\"small\"\n                name=\"curp\"\n                variant=\"outlined\"\n                value={cliente.curp ? cliente.curp : \"\"}\n                onChange={obtenerCampos}\n              />\n            </Grid>\n            <Grid item md={3} xs={12}>\n              <Typography className={classes.title}>\n                <span>* </span>Email\n              </Typography>\n              <TextField\n                fullWidth\n                size=\"small\"\n                error={error && !cliente.email}\n                name=\"email\"\n                variant=\"outlined\"\n                value={cliente.email ? cliente.email : \"\"}\n                helperText={error ? \"Campo Requerido\" : \"\"}\n                onChange={obtenerCampos}\n              />\n            </Grid>\n\n            <Grid item md={3} xs={12}>\n              <Typography className={classes.title}>\n                <span>* </span>Num. Telefono\n              </Typography>\n              <TextField\n                fullWidth\n                size=\"small\"\n                error={error && !cliente.telefono}\n                name=\"telefono\"\n                variant=\"outlined\"\n                value={cliente.telefono ? cliente.telefono : \"\"}\n                helperText={error ? \"Campo Requerido\" : \"\"}\n                onChange={obtenerCampos}\n                type=\"number\"\n              />\n            </Grid>\n            <Grid item md={3} xs={12}>\n              <Typography className={classes.title}>Num. Celular</Typography>\n              <TextField\n                fullWidth\n                size=\"small\"\n                name=\"celular\"\n                variant=\"outlined\"\n                value={cliente.celular ? cliente.celular : \"\"}\n                onChange={obtenerCampos}\n                type=\"number\"\n              />\n            </Grid>\n          </Grid>\n        </Grid>\n        <Grid item md={12}>\n          <Box my={2}>\n            <Typography className={classes.title}>\n              <b>Domicilio</b>\n            </Typography>\n            <Divider />\n          </Box>\n          <Grid container spacing={2}>\n            <Grid item md={3} xs={12}>\n              <Typography className={classes.title}>\n                <span>* </span>Calle\n              </Typography>\n              <TextField\n                size=\"small\"\n                fullWidth\n                error={error && !cliente.direccion.calle}\n                name=\"calle\"\n                variant=\"outlined\"\n                value={\n                  cliente.direccion.calle\n                    ? cliente.direccion.calle\n                    : \"\"\n                }\n                helperText={error ? \"Campo Requerido\" : \"\"}\n                onChange={obtenerCamposDireccion}\n              />\n            </Grid>\n            <Grid item md={2} xs={12}>\n              <Typography className={classes.title}>\n                <span>* </span>Num. Ext\n              </Typography>\n              <TextField\n                fullWidth\n                size=\"small\"\n                error={error && !cliente.direccion.no_ext}\n                name=\"no_ext\"\n                variant=\"outlined\"\n                value={cliente.direccion.no_ext ? cliente.direccion.no_ext : \"\"}\n                helperText={error ? \"Campo Requerido\" : \"\"}\n                onChange={obtenerCamposDireccion}\n              />\n            </Grid>\n            <Grid item md={2} xs={12}>\n              <Typography className={classes.title}>Num. Int</Typography>\n              <TextField\n                fullWidth\n                size=\"small\"\n                name=\"no_int\"\n                variant=\"outlined\"\n                value={cliente.direccion.no_int ? cliente.direccion.no_int : \"\"}\n                onChange={obtenerCamposDireccion}\n              />\n            </Grid>\n            <Grid item md={2} xs={12}>\n              <Typography className={classes.title}>\n                <span>* </span>Cdigo postal\n              </Typography>\n              <TextField\n                size=\"small\"\n                fullWidth\n                error={error && !cliente.direccion.codigo_postal}\n                name=\"codigo_postal\"\n                variant=\"outlined\"\n                value={\n                  cliente.direccion.codigo_postal\n                    ? cliente.direccion.codigo_postal\n                    : \"\"\n                }\n                helperText={error ? \"Campo Requerido\" : \"\"}\n                onChange={obtenerCamposDireccion}\n              />\n            </Grid>\n            <Grid item md={3} xs={12}>\n              <Typography className={classes.title}>\n                <span>* </span>Colonia\n              </Typography>\n              <TextField\n                fullWidth\n                size=\"small\"\n                error={error && !cliente.direccion.colonia}\n                name=\"colonia\"\n                variant=\"outlined\"\n                value={\n                  cliente.direccion.colonia\n                    ? cliente.direccion.colonia\n                    : \"\"\n                }\n                helperText={error ? \"Campo Requerido\" : \"\"}\n                onChange={obtenerCamposDireccion}\n              />\n            </Grid>\n            <Grid item md={3} xs={12}>\n              <Typography className={classes.title}>\n                <span>* </span>Municipio\n              </Typography>\n              <TextField\n                fullWidth\n                size=\"small\"\n                error={error && !cliente.direccion.municipio}\n                name=\"municipio\"\n                variant=\"outlined\"\n                value={\n                  cliente.direccion.municipio\n                    ? cliente.direccion.municipio\n                    : \"\"\n                }\n                helperText={error ? \"Campo Requerido\" : \"\"}\n                onChange={obtenerCamposDireccion}\n              />\n            </Grid>\n            <Grid item md={3} xs={12}>\n              <Typography className={classes.title}>Localidad</Typography>\n              <TextField\n                size=\"small\"\n                name=\"localidad\"\n                variant=\"outlined\"\n                value={\n                  cliente.direccion.localidad\n                    ? cliente.direccion.localidad\n                    : \"\"\n                }\n                onChange={obtenerCamposDireccion}\n              />\n            </Grid>\n            <Grid item md={3} xs={12}>\n              <Typography className={classes.title}>\n                <span>* </span>Estado\n              </Typography>\n              <TextField\n                fullWidth\n                size=\"small\"\n                error={error && !cliente.direccion.estado}\n                name=\"estado\"\n                variant=\"outlined\"\n                value={\n                  cliente.direccion.estado\n                    ? cliente.direccion.estado\n                    : \"\"\n                }\n                helperText={error ? \"Campo Requerido\" : \"\"}\n                onChange={obtenerCamposDireccion}\n              />\n            </Grid>\n            <Grid item md={3} xs={12}>\n              <Typography className={classes.title}>\n                <span>* </span>Pais\n              </Typography>\n              <TextField\n                fullWidth\n                size=\"small\"\n                error={error && !cliente.direccion.pais}\n                name=\"pais\"\n                variant=\"outlined\"\n                value={\n                  cliente.direccion.pais\n                    ? cliente.direccion.pais\n                    : \"\"\n                }\n                helperText={error ? \"Campo Requerido\" : \"\"}\n                onChange={obtenerCamposDireccion}\n              />\n            </Grid>\n          </Grid>\n        </Grid>\n      </Grid>\n    </Fragment>\n  );\n}\n","import React, { Fragment, useContext } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { Box, Divider, Grid } from \"@material-ui/core\";\nimport { TextField, Typography } from \"@material-ui/core\";\nimport { ClienteCtx } from \"../../../../context/Catalogos/crearClienteCtx\";\nimport { Alert } from \"@material-ui/lab\";\n\nconst useStyles = makeStyles((theme) => ({\n  title: {\n    fontWeight: \"500\",\n  },\n}));\n\nexport default function RegistrarInfoCredito({ tipo }) {\n  const classes = useStyles();\n  const { cliente, setCliente } = useContext(ClienteCtx);\n\n  const obtenerCampos = (e) => {\n    const name = e.target.name;\n    if (name === \"numero_descuento\" || name === \"limite_credito\") {\n      setCliente({\n        ...cliente,\n        [e.target.name]: parseInt(e.target.value),\n      });\n      return;\n    }\n    setCliente({\n      ...cliente,\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  return (\n    <Fragment>\n      <Box my={3}>\n        <Alert severity=\"info\">\n          Si deseas hacer facturas a este cliente el <b>RFC</b> y la{\" \"}\n          <b>Razon social</b> son obligatorios.\n        </Alert>\n      </Box>\n      <Grid container spacing={2}>\n        <Grid item md={6} xs={12}>\n          <Typography className={classes.title}>RFC</Typography>\n          <TextField\n            fullWidth\n            size=\"small\"\n            name=\"rfc\"\n            variant=\"outlined\"\n            value={cliente.rfc ? cliente.rfc : \"\"}\n            onChange={obtenerCampos}\n          />\n        </Grid>\n        <Grid item md={6} xs={12}>\n          <Typography className={classes.title}>Razon social</Typography>\n          <TextField\n            fullWidth\n            size=\"small\"\n            name=\"razon_social\"\n            variant=\"outlined\"\n            value={\n              cliente.razon_social ? cliente.razon_social : \"\"\n            }\n            onChange={obtenerCampos}\n          />\n        </Grid>\n        <Grid item md={4} xs={12}>\n          <Typography className={classes.title}>Descuento</Typography>\n          <TextField\n            fullWidth\n            size=\"small\"\n            name=\"numero_descuento\"\n            variant=\"outlined\"\n            value={cliente.numero_descuento ? cliente.numero_descuento : \"\"}\n            onChange={obtenerCampos}\n          />\n        </Grid>\n        <Grid item md={4} xs={12}>\n          <Typography className={classes.title}>Limite de crdito</Typography>\n          <TextField\n            fullWidth\n            size=\"small\"\n            name=\"limite_credito\"\n            variant=\"outlined\"\n            value={cliente.limite_credito ? cliente.limite_credito : \"\"}\n            onChange={obtenerCampos}\n          />\n        </Grid>\n        <Grid item md={4} xs={12}>\n          <Typography className={classes.title}>Das de crdito</Typography>\n          <TextField\n            fullWidth\n            size=\"small\"\n            name=\"dias_credito\"\n            variant=\"outlined\"\n            value={\n              cliente.dias_credito ? cliente.dias_credito : \"\"\n            }\n            onChange={obtenerCampos}\n          />\n        </Grid>\n      </Grid>\n      {tipo !== \"CLIENTE\" ? (\n        <Fragment>\n          <Box my={3}>\n            <Typography className={classes.title}>\n              Datos bancarios\n            </Typography>\n            <Divider />\n          </Box>\n          <Grid container spacing={2}>\n            <Grid item md={6} xs={12}>\n              <Typography className={classes.title}>Banco</Typography>\n              <TextField\n                fullWidth\n                size=\"small\"\n                name=\"banco\"\n                variant=\"outlined\"\n                value={cliente.banco ? cliente.banco : \"\"}\n                onChange={obtenerCampos}\n              />\n            </Grid>\n            <Grid item md={6} xs={12}>\n              <Typography className={classes.title}>\n                No. de Cuenta Bancaria\n              </Typography>\n              <TextField\n                fullWidth\n                size=\"small\"\n                name=\"numero_cuenta\"\n                variant=\"outlined\"\n                value={cliente.numero_cuenta ? cliente.numero_cuenta : \"\"}\n                onChange={obtenerCampos}\n              />\n            </Grid>\n          </Grid>\n        </Fragment>\n      ) : null}\n    </Fragment>\n  );\n}\n","import { gql } from '@apollo/client';\n\nexport const CREAR_CLIENTE = gql`\n\tmutation crearCliente($input: CrearClienteInput) {\n\t\tcrearCliente(input: $input) {\n\t\t\t_id\n\t\t\tnumero_cliente\n\t\t\tclave_cliente\n\t\t\trepresentante\n\t\t\tnombre_cliente\n\t\t\trfc\n\t\t\tcurp\n\t\t\ttelefono\n\t\t\tcelular\n\t\t\temail\n\t\t\tnumero_descuento\n\t\t\tlimite_credito\n\t\t\tdias_credito\n\t\t\trazon_social\n\t\t\tdireccion {\n\t\t\t\tcalle\n\t\t\t\tno_ext\n\t\t\t\tno_int\n\t\t\t\tcodigo_postal\n\t\t\t\tcolonia\n\t\t\t\tmunicipio\n\t\t\t\tlocalidad\n\t\t\t\testado\n\t\t\t\tpais\n\t\t\t}\n\t\t\timagen\n\t\t\testado_cliente\n\t\t\ttipo_cliente\n\t\t}\n\t}\n`;\n\nexport const OBTENER_CLIENTES = gql`\n\tquery obtenerClientes($tipo: String!, $filtro: String) {\n\t\tobtenerClientes(tipo: $tipo, filtro: $filtro) {\n\t\t\t_id\n\t\t\tnumero_cliente\n\t\t\tclave_cliente\n\t\t\trepresentante\n\t\t\tnombre_cliente\n\t\t\trfc\n\t\t\tcurp\n\t\t\ttelefono\n\t\t\tcelular\n\t\t\temail\n\t\t\tnumero_descuento\n\t\t\tlimite_credito\n\t\t\tdias_credito\n\t\t\trazon_social\n\t\t\tdireccion {\n\t\t\t\tcalle\n\t\t\t\tno_ext\n\t\t\t\tno_int\n\t\t\t\tcodigo_postal\n\t\t\t\tcolonia\n\t\t\t\tmunicipio\n\t\t\t\tlocalidad\n\t\t\t\testado\n\t\t\t\tpais\n\t\t\t}\n\t\t\timagen\n\t\t\testado_cliente\n\t\t\ttipo_cliente\n\t\t\tbanco\n\t\t\tnumero_cuenta\n\t\t\tempresa {\n\t\t\t\t_id\n\t\t\t\tnombre_empresa\n\t\t\t\tcorreo_empresa\n\t\t\t\tnombre_dueno\n\t\t\t\ttelefono_dueno\n\t\t\t\tsucursales_activas\n\t\t\t\tlimite_sucursales\n\t\t\t}\n\t\t\tsucursal {\n\t\t\t\t_id\n\t\t\t\tnombre_sucursal\n\t\t\t\tdescripcion\n\t\t\t}\n\t\t\tmonedero_electronico\n\t\t\tfecha_nacimiento\n    \t\tfecha_registro\n\t\t\teliminado\n\t\t}\n\t}\n`;\n\nexport const ACTUALIZAR_CLIENTE = gql`\n\tmutation actualizarCliente($input: ActualizarClienteInput, $id: ID!) {\n\t\tactualizarCliente(id: $id, input: $input) {\n\t\t\tmessage\n\t\t}\n\t}\n`;\nexport const ELIMINAR_CLIENTE = gql`\n\tmutation eliminarCliente($id: ID!) {\n\t\teliminarCliente(id: $id) {\n\t\t\tmessage\n\t\t}\n\t}\n`;\n","import React, { useState, Fragment, useContext, useCallback } from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport Box from \"@material-ui/core/Box\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Divider from \"@material-ui/core/Divider\";\nimport Container from \"@material-ui/core/Container\";\nimport RegistrarInfoBasica from \"./RegistrarInfoBasica\";\nimport RegistrarInfoCredito from \"./RegistroInfoCredito\";\nimport { Add, Close, Done, Edit } from \"@material-ui/icons\";\nimport { ClienteCtx } from \"../../../../context/Catalogos/crearClienteCtx\";\n// import { VentasContext } from \"../../../../context/Ventas/ventasContext\";\nimport BackdropComponent from \"../../../../components/Layouts/BackDrop\";\nimport SnackBarMessages from \"../../../../components/SnackBarMessages\";\n\nimport { useMutation } from \"@apollo/client\";\nimport {\n  CREAR_CLIENTE,\n  ACTUALIZAR_CLIENTE,\n} from \"../../../../gql/Catalogos/clientes\";\nimport { Toolbar } from \"@material-ui/core\";\n\nexport default function CrearCliente({\n  tipo,\n  accion,\n  datos,\n  refetch,\n  ventas,\n  handleClickOpen,\n}) {\n  const {\n    cliente,\n    setCliente,\n    setError,\n    update,\n    setUpdate,\n    updateClientVenta,\n    setUpdateClientVenta,\n  } = useContext(ClienteCtx);\n  const [open, setOpen] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [alert, setAlert] = useState({ message: \"\", status: \"\", open: false });\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n\n  const limpiarCampos = useCallback(() => {\n    setCliente({\n      direccion: {\n        calle: \"\",\n        no_ext: \"\",\n        no_int: \"\",\n        codigo_postal: \"\",\n        colonia: \"\",\n        municipio: \"\",\n        localidad: \"\",\n        estado: \"\",\n        pais: \"\",\n      },\n      estado_cliente: true,\n    });\n  }, [setCliente]);\n\n  const toggleModal = () => {\n    setOpen(true);\n    if (datos) {\n      setCliente(datos);\n    }\n  };\n\n  const onCloseModal = () => {\n    setOpen(false);\n    limpiarCampos();\n  };\n\n  /* Mutations */\n  const [crearCliente] = useMutation(CREAR_CLIENTE);\n  const [actualizarCliente] = useMutation(ACTUALIZAR_CLIENTE);\n\n  const saveData = async () => {\n    let copy_cliente = { ...cliente };\n    if (\n      !copy_cliente.clave_cliente ||\n      !copy_cliente.nombre_cliente ||\n      !copy_cliente.telefono ||\n      !copy_cliente.email ||\n      !copy_cliente.direccion.calle ||\n      !copy_cliente.direccion.municipio ||\n      !copy_cliente.direccion.estado ||\n      !copy_cliente.direccion.pais\n    ) {\n      if (tipo !== \"CLIENTE\" && !copy_cliente.representante) {\n        setError(true);\n        return;\n      }\n      setError(true);\n      return;\n    }\n    setLoading(true);\n    try {\n      if (accion === \"registrar\") {\n        copy_cliente.tipo_cliente = tipo;\n        copy_cliente.empresa = sesion.empresa._id;\n        copy_cliente.sucursal = sesion.sucursal._id;\n        if (tipo === \"CLIENTE\") {\n          copy_cliente.representante = \"\";\n        }\n        const input = copy_cliente;\n        const clienteBase = await crearCliente({\n          variables: {\n            input,\n          },\n        });\n\n        if (ventas === true) {\n          const venta = JSON.parse(localStorage.getItem(\"DatosVentas\"));\n          let venta_actual = venta === null ? {} : venta;\n          // console.log(venta_actual);\n          localStorage.setItem(\n            \"DatosVentas\",\n            JSON.stringify({\n              subTotal:\n                venta_actual.subTotal === undefined ? 0 : venta_actual.subTotal,\n              total: venta_actual.total === undefined ? 0 : venta_actual.total,\n              impuestos:\n                venta_actual.impuestos === undefined\n                  ? 0\n                  : venta_actual.impuestos,\n              iva: venta_actual.iva === undefined ? 0 : venta_actual.iva,\n              ieps: venta_actual.ieps === undefined ? 0 : venta_actual.ieps,\n              descuento:\n                venta_actual.descuento === undefined\n                  ? 0\n                  : venta_actual.descuento,\n              monedero:\n                venta_actual.monedero === undefined ? 0 : venta_actual.monedero,\n              // tipo_cambio: venta_actual.tipo_cambio\n              //   ? venta_actual.tipo_cambio\n              //   : {},\n              cliente: clienteBase.data.crearCliente,\n              venta_cliente: true,\n              productos:\n                venta_actual.productos?.length > 0\n                  ? venta_actual.productos\n                  : [],\n            })\n          );\n          setUpdateClientVenta(!updateClientVenta);\n          onCloseModal();\n          handleClickOpen();\n        }\n      } else {\n        const {\n          numero_cliente,\n          _id,\n          clave_cliente,\n          sucursal,\n          empresa,\n          ...input\n        } = copy_cliente;\n        await actualizarCliente({\n          variables: {\n            input: input,\n            id: copy_cliente._id,\n          },\n        });\n      }\n      if (refetch) {\n        refetch();\n      }\n      setUpdate(!update);\n      setAlert({ message: \"Listo!\", status: \"success\", open: true });\n      setError(false);\n      setLoading(false);\n      onCloseModal();\n    } catch (error) {\n      setAlert({ message: error.message, status: \"error\", open: true });\n      setLoading(false);\n      console.log(error);\n      if (error.networkError) {\n        console.log(error.networkError.result);\n      } else if (error.graphQLErrors) {\n        console.log(error.graphQLErrors);\n      }\n    }\n  };\n\n  return (\n    <Fragment>\n      <SnackBarMessages alert={alert} setAlert={setAlert} />\n      {accion === \"registrar\" ? (\n        refetch ? (\n          <IconButton color=\"primary\" onClick={toggleModal}>\n            <Add />\n          </IconButton>\n        ) : (\n          <Button\n            color=\"primary\"\n            variant=\"contained\"\n            size=\"large\"\n            onClick={toggleModal}\n            startIcon={<Add />}\n          >\n            Agregar\n          </Button>\n        )\n      ) : (\n        <IconButton onClick={toggleModal}>\n          <Edit />\n        </IconButton>\n      )}\n      <Dialog open={open} onClose={onCloseModal} fullWidth maxWidth=\"md\">\n        <DialogTitle style={{ padding: 0 }}>\n          <BackdropComponent loading={loading} setLoading={setLoading} />\n          <AppBar position=\"static\" color=\"default\" elevation={0}>\n            <Toolbar>\n              <Typography variant=\"h6\">{accion === \"registrar\" ? \"Registrar\" : \"Actualizar\"}</Typography>\n              <Box flexGrow={1} />\n              <Button\n                variant=\"contained\"\n                color=\"secondary\"\n                size=\"large\"\n                onClick={() => onCloseModal()}\n              >\n                <Close />\n              </Button>\n            </Toolbar>\n          </AppBar>\n        </DialogTitle>\n        <DialogContent>\n          <Container>\n            <Typography>\n              <b>Informacin bsica</b>\n            </Typography>\n            <Divider />\n            <RegistrarInfoBasica tipo={tipo} accion={accion} />\n            <Box my={2} />\n            <Typography>\n              <b>Informacin de credito</b>\n            </Typography>\n            <Divider />\n            <RegistrarInfoCredito tipo={tipo} accion={accion} />\n          </Container>\n        </DialogContent>\n        <DialogActions>\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={saveData}\n            size=\"large\"\n            startIcon={<Done />}\n          >\n            Guardar\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </Fragment>\n  );\n}\n","import { gql } from \"@apollo/client\";\n\nexport const CREAR_COMPRA = gql`\n  mutation crearCompra(\n    $input: CrearCompraInput\n    $empresa: ID!\n    $sucursal: ID!\n    $usuario: ID!\n  ) {\n    crearCompra(\n      input: $input\n      empresa: $empresa\n      sucursal: $sucursal\n      usuario: $usuario\n    ) {\n      message\n    }\n  }\n`;\n\nexport const CREAR_COMPRA_ESPERA = gql`\n  mutation crearCompraEnEspera(\n    $input: CrearCompraInput\n    $empresa: ID!\n    $sucursal: ID!\n    $usuario: ID!\n  ) {\n    crearCompraEnEspera(\n      input: $input\n      empresa: $empresa\n      sucursal: $sucursal\n      usuario: $usuario\n    ) {\n      message\n    }\n  }\n`;\n\nexport const OBTENER_COMPRAS_REALIZADAS = gql`\n  query obtenerComprasRealizadas(\n    $empresa: ID!\n    $sucursal: ID!\n    $filtro: String\n    $fecha: String\n  ) {\n    obtenerComprasRealizadas(\n      empresa: $empresa\n      sucursal: $sucursal\n      filtro: $filtro\n      fecha: $fecha\n    ) {\n      _id\n      usuario {\n        _id\n        numero_usuario\n        nombre\n        estado_usuario\n      }\n      empresa {\n        _id\n        nombre_empresa\n      }\n      sucursal {\n        _id\n        nombre_sucursal\n      }\n      proveedor {\n        id_proveedor {\n          _id\n          numero_cliente\n          clave_cliente\n          nombre_cliente\n          telefono\n          email\n        }\n        numero_cliente\n        clave_cliente\n        nombre_cliente\n      }\n      productos {\n        _id\n        id_compra\n        id_traspaso\n        id_producto\n        producto {\n          almacen_inicial {\n            almacen\n            cantidad\n            fecha_de_expiracion\n            id_almacen\n          }\n          datos_generales {\n            codigo_barras\n            clave_alterna\n            tipo_producto\n            nombre_comercial\n            nombre_generico\n            descripcion\n            id_categoria\n            categoria\n            subcategoria\n            id_subcategoria\n            id_departamento\n            departamento\n            id_marca\n            marca\n            clave_producto_sat {\n              Name\n              Value\n            }\n            receta_farmacia\n          }\n          precios {\n            ieps\n            ieps_activo\n            iva\n            iva_activo\n            monedero\n            monedero_electronico\n            granel\n            inventario {\n              inventario_minimo\n              inventario_maximo\n              unidad_de_inventario\n            }\n            precio_de_compra {\n              precio_con_impuesto\n              precio_sin_impuesto\n              iva\n              ieps\n            }\n            precios_producto {\n              numero_precio\n              precio_neto\n              precio_venta\n              unidad_mayoreo\n              utilidad\n            }\n            unidad_de_compra {\n              cantidad\n              precio_unitario_con_impuesto\n              precio_unitario_sin_impuesto\n              unidad\n            }\n          }\n          unidades_de_venta {\n            _id\n            cantidad\n            codigo_barras\n            id_producto\n            precio\n            unidad\n            unidad_principal\n          }\n        }\n        concepto\n        cantidad\n        cantidad_regalo\n        cantidad_total\n        costo\n        descuento_porcentaje\n        descuento_precio\n        impuestos\n        mantener_precio\n        subtotal\n        total\n        medida {\n          id_medida\n          medida\n          tipo\n        }\n        color {\n          id_color\n          color\n          hex\n        }\n        unidad\n        id_unidad_venta\n        empresa\n        sucursal\n        usuario\n        year_registro\n        numero_semana_year\n        numero_mes_year\n        fecha_registro\n      }\n      almacen {\n        id_almacen {\n          _id\n          nombre_almacen\n          id_usuario_encargado {\n            _id\n            numero_usuario\n            nombre\n          }\n        }\n        nombre_almacen\n      }\n      compra_credito\n      credito_pagado\n      saldo_credito_pendiente\n      fecha_vencimiento_credito\n      subtotal\n      impuestos\n      total\n      year_registro\n      numero_semana_year\n      numero_mes_year\n      fecha_registro\n    }\n  }\n`;\n\nexport const OBTENER_COMPRAS_ESPERA = gql`\n  query obtenerComprasEnEspera($empresa: ID!, $sucursal: ID!, $filtro: String) {\n    obtenerComprasEnEspera(\n      empresa: $empresa\n      sucursal: $sucursal\n      filtro: $filtro\n    ) {\n      _id\n      en_espera\n      proveedor {\n        id_proveedor\n        clave_cliente\n        numero_cliente\n        nombre_cliente\n      }\n      almacen {\n        id_almacen\n        nombre_almacen\n      }\n      productos {\n        producto {\n          almacen_inicial {\n            almacen\n            cantidad\n            fecha_de_expiracion\n            id_almacen\n          }\n          datos_generales {\n            codigo_barras\n            clave_alterna\n            tipo_producto\n            nombre_comercial\n            nombre_generico\n            descripcion\n            id_categoria\n            categoria\n            subcategoria\n            id_subcategoria\n            id_departamento\n            departamento\n            id_marca\n            marca\n            clave_producto_sat {\n              Name\n              Value\n            }\n            receta_farmacia\n          }\n          precios {\n            ieps\n            ieps_activo\n            iva\n            iva_activo\n            monedero\n            monedero_electronico\n            precio_de_compra {\n              ieps\n              iva\n              precio_con_impuesto\n              precio_sin_impuesto\n            }\n            precios_producto {\n              numero_precio\n              precio_neto\n              precio_venta\n              iva_precio\n              ieps_precio\n              utilidad\n              precio_general\n              cantidad_unidad\n              unidad_maxima\n            }\n            unidad_de_compra {\n              cantidad\n              precio_unitario_con_impuesto\n              precio_unitario_sin_impuesto\n              unidad\n            }\n            inventario {\n              inventario_minimo\n              inventario_maximo\n              unidad_de_inventario\n            }\n            granel\n          }\n          imagenes {\n            url_imagen\n            location_imagen\n            key_imagen\n            extencion_imagen\n          }\n          centro_de_costos {\n            cuenta\n            id_cuenta\n            id_subcuenta\n            subcuenta\n          }\n          precio_plazos {\n            precio_cajas {\n              plazo\n              unidad\n              precio\n            }\n            precio_costales {\n              plazo\n              unidad\n              precio\n            }\n            precio_piezas {\n              plazo\n              unidad\n              precio\n            }\n          }\n          empresa\n          sucursal\n          usuario\n          unidades_de_venta {\n            _id\n            precio\n            cantidad\n            unidad\n            unidad_principal\n            codigo_barras\n            id_producto\n            descuento {\n              cantidad_unidad\n              numero_precio\n              unidad_maxima\n              precio_general\n              precio_neto\n              precio_venta\n              iva_precio\n              ieps_precio\n              utilidad\n              porciento\n              dinero_descontado\n            }\n            descuento_activo\n            default\n            precio_unidad {\n              numero_precio\n              precio_neto\n              precio_venta\n              iva_precio\n              unidad_mayoreo\n              utilidad\n              precio_general\n              cantidad_unidad\n              unidad_maxima\n            }\n          }\n          presentaciones {\n            _id\n            almacen\n            cantidad\n            cantidad_nueva\n            codigo_barras\n            color {\n              hex\n              nombre\n              _id\n            }\n            descuento {\n              cantidad_unidad\n              numero_precio\n              unidad_maxima\n              precio_general\n              precio_neto\n              precio_venta\n              iva_precio\n              ieps_precio\n              utilidad\n              porciento\n              dinero_descontado\n            }\n            descuento_activo\n            existencia\n            medida {\n              talla\n              tipo\n              _id\n            }\n            nombre_comercial\n            precio\n            precio_unidad {\n              numero_precio\n              precio_neto\n              precio_venta\n              iva_precio\n              unidad_mayoreo\n              utilidad\n              precio_general\n              cantidad_unidad\n              unidad_maxima\n            }\n          }\n        }\n        id_producto\n        cantidad\n        cantidad_regalo\n        unidad_regalo\n        cantidad_total\n        iva_total\n        ieps_total\n        costo\n        descuento_porcentaje\n        descuento_precio\n        impuestos\n        mantener_precio\n        subtotal\n        total\n        subtotal_descuento\n        total_descuento\n      }\n      impuestos\n      subtotal\n      total\n      fecha_registro\n    }\n  }\n`;\n\nexport const OBTENER_CONSULTA_GENERAL_PRODUCTO = gql`\n  query obtenerConsultaGeneralCompras($empresa: ID!, $sucursal: ID!) {\n    obtenerConsultaGeneralCompras(empresa: $empresa, sucursal: $sucursal) {\n      productos {\n        _id\n        datos_generales {\n          codigo_barras\n          clave_alterna\n          tipo_producto\n          nombre_comercial\n          nombre_generico\n          descripcion\n          descripcion\n          id_categoria\n          categoria\n          subcategoria\n          id_subcategoria\n          id_departamento\n          departamento\n          id_marca\n          marca\n          clave_producto_sat {\n            Name\n            Value\n          }\n          receta_farmacia\n        }\n        precios {\n          ieps\n          ieps_activo\n          inventario {\n            inventario_minimo\n            inventario_maximo\n            unidad_de_inventario\n          }\n          iva\n          iva_activo\n          monedero\n          monedero_electronico\n          precio_de_compra {\n            precio_con_impuesto\n            precio_sin_impuesto\n            iva\n            ieps\n          }\n          precios_producto {\n            numero_precio\n            precio_neto\n            precio_venta\n            unidad_mayoreo\n            utilidad\n          }\n          unidad_de_compra {\n            cantidad\n            precio_unitario_con_impuesto\n            precio_unitario_sin_impuesto\n            unidad\n          }\n          granel\n        }\n        imagenes {\n          url_imagen\n          location_imagen\n          key_imagen\n          extencion_imagen\n        }\n        centro_de_costos {\n          cuenta\n          id_cuenta\n          id_subcuenta\n          subcuenta\n        }\n        precio_plazos {\n          precio_cajas {\n            plazo\n            unidad\n            precio\n          }\n          precio_costales {\n            plazo\n            unidad\n            precio\n          }\n          precio_piezas {\n            plazo\n            unidad\n            precio\n          }\n        }\n        unidades_de_venta {\n          _id\n          precio\n          cantidad\n          concepto\n          unidad\n          unidad_principal\n          codigo_barras\n          id_producto\n          empresa\n          sucursal\n          descuento {\n            cantidad_unidad\n            numero_precio\n            unidad_maxima\n            precio_general\n            precio_neto\n            precio_venta\n            iva_precio\n            ieps_precio\n            utilidad\n            porciento\n            dinero_descontado\n          }\n          descuento_activo\n          default\n        }\n        inventario_general {\n          _id\n          cantidad_existente\n          unidad_inventario\n          cantidad_existente_maxima\n          unidad_maxima\n        }\n        medidas_producto {\n          _id\n          cantidad\n          codigo_barras\n          color {\n            hex\n            nombre\n            _id\n          }\n          existencia\n          medida {\n            talla\n            tipo\n            _id\n          }\n          nombre_comercial\n          precio\n        }\n        medidas_registradas\n        empresa\n        sucursal\n        usuario\n      }\n      proveedores {\n        _id\n        numero_cliente\n        clave_cliente\n        representante\n        nombre_cliente\n        rfc\n        curp\n        telefono\n        celular\n        email\n        numero_descuento\n        limite_credito\n        dias_credito\n        razon_social\n        direccion {\n          calle\n          no_ext\n          no_int\n          codigo_postal\n          colonia\n          municipio\n          localidad\n          estado\n          pais\n        }\n        imagen\n        estado_cliente\n        tipo_cliente\n        banco\n        numero_cuenta\n        empresa {\n          _id\n        }\n        sucursal {\n          _id\n        }\n      }\n      almacenes {\n        _id\n        nombre_almacen\n        id_usuario_encargado {\n          _id\n          numero_usuario\n          nombre\n          email\n          imagen\n          estado_usuario\n        }\n        id_sucursal {\n          _id\n          nombre_sucursal\n          usuario_sucursal\n        }\n        direccion {\n          calle\n          no_ext\n          no_int\n          codigo_postal\n          colonia\n          municipio\n          localidad\n          estado\n          pais\n        }\n      }\n    }\n  }\n`;\n\nexport const ELIMINAR_COMPRA_ESPERA = gql`\n  mutation eliminarCompraEnEspera($id: ID!) {\n    eliminarCompraEnEspera(id: $id) {\n      message\n    }\n  }\n`;\n","import { initial_state_precios } from \"../../../../context/Catalogos/initialStatesProducto\";\nimport moment from 'moment';\n\nexport const initial_state_datosProducto = {\n  producto: {},\n  costo: 0,\n  cantidad: 0,\n  cantidad_regalo: 0,\n  unidad_regalo: '',\n  cantidad_total: 0,\n  descuento_porcentaje: 0,\n  descuento_precio: 0,\n  iva_total: 0,\n  ieps_total: 0,\n  subtotal: 0,\n  impuestos: 0,\n  total: 0,\n  mantener_precio: true,\n  subtotal_descuento: 0,\n  total_descuento: 0,\n};\n\nexport const initial_state_datosCompra = {\n  productos: [],\n    proveedor: {},\n    en_espera: false,\n    fecha_registro: moment().locale(\"es-mx\").format(),\n    almacen: {},\n    compra_credito: false,\n    fecha_vencimiento_credito: moment().locale(\"es-mx\").format(),\n    credito_pagado: false,\n    saldo_credito_pendiente: 0,\n    forma_pago: \"\",\n    descuento_aplicado: false,\n    descuento: {\n      porcentaje: 0,\n      cantidad_descontada: 0,\n      precio_con_descuento: 0\n    },\n    subtotal: 0,\n    impuestos: 0,\n    total: 0,\n};\n\nexport const initial_state_precios_venta = [\n  {\n    numero_precio: 1,\n    utilidad: 0,\n    precio_neto: 0,\n    unidad_mayoreo: 0,\n    precio_venta: 0,\n    iva_precio: 0,\n    ieps_precio: 0,\n  },\n  {\n    numero_precio: 2,\n    utilidad: 0,\n    precio_neto: 0,\n    unidad_mayoreo: 0,\n    precio_venta: 0,\n    iva_precio: 0,\n    ieps_precio: 0,\n  },\n  {\n    numero_precio: 3,\n    utilidad: 0,\n    precio_neto: 0,\n    unidad_mayoreo: 0,\n    precio_venta: 0,\n    iva_precio: 0,\n    ieps_precio: 0,\n  },\n  {\n    numero_precio: 4,\n    utilidad: 0,\n    precio_neto: 0,\n    unidad_mayoreo: 0,\n    precio_venta: 0,\n    iva_precio: 0,\n    ieps_precio: 0,\n  },\n  {\n    numero_precio: 5,\n    utilidad: 0,\n    precio_neto: 0,\n    unidad_mayoreo: 0,\n    precio_venta: 0,\n    iva_precio: 0,\n    ieps_precio: 0,\n  },\n  {\n    numero_precio: 6,\n    utilidad: 0,\n    precio_neto: 0,\n    unidad_mayoreo: 0,\n    precio_venta: 0,\n    iva_precio: 0,\n    ieps_precio: 0,\n  },\n];\n\nexport const initial_state_productoOriginal = {\n  precios: initial_state_precios,\n};\nexport const initial_state_productosCompra = [];\n","import React, { Fragment, useContext } from \"react\";\nimport {\n  Box,\n  CircularProgress,\n  Grid,\n  IconButton,\n  TextField,\n} from \"@material-ui/core\";\nimport { Autocomplete } from \"@material-ui/lab\";\nimport { ClienteProvider } from \"../../../../../context/Catalogos/crearClienteCtx\";\nimport { AlmacenProvider } from \"../../../../../context/Almacenes/crearAlmacen\";\nimport { ComprasContext } from \"../../../../../context/Compras/comprasContext\";\nimport RegistroProvedor from \"../../../Catalogos/Cliente/CrearCliente\";\nimport RegistroAlmacen from \"../../../Almacenes/RegistroAlmacen/ContainerRegistroAlmacen\";\nimport { RegProductoContext } from \"../../../../../context/Catalogos/CtxRegProducto\";\n\nimport { useQuery } from \"@apollo/client\";\nimport { OBTENER_CONSULTA_GENERAL_PRODUCTO } from \"../../../../../gql/Compras/compras\";\nimport { ErrorOutline } from \"@material-ui/icons\";\nimport { initial_state_datosProducto } from \"../initial_states\";\nimport {\n  initial_state_almacen_inicial,\n  initial_state_datos_generales,\n  initial_state_precios,\n  initial_state_preciosP,\n  initial_state_preciosPlazos,\n  initial_state_unidadVentaXDefecto,\n  initial_state_unidadVentaSecundaria,\n} from \"../../../../../context/Catalogos/initialStatesProducto\";\n\nexport default function DatosProveedorAlmacen({\n  getProductos,\n  status,\n}) {\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n  const {\n    datosCompra,\n    setDatosCompra,\n    setDatosProducto,\n    productosCompra,\n  } = useContext(ComprasContext);\n\n  const {\n    setDatosGenerales,\n    setPrecios,\n    setValidacion,\n    setPreciosP,\n    setImagenes,\n    setUnidadesVenta,\n    almacen_inicial,\n    setAlmacenInicial,\n    setUnidadVentaXDefecto,\n    setUnidadVentaSecundaria,\n    setCentroDeCostos,\n    setPreciosPlazos,\n    setSubcategorias,\n    setOnPreview,\n    setSubcostos,\n    setImagenesEliminadas,\n    setPresentaciones,\n    setPresentacionesEliminadas,\n  } = useContext(RegProductoContext);\n\n  /* Queries */\n  const { loading, data, error, refetch } = useQuery(\n    OBTENER_CONSULTA_GENERAL_PRODUCTO,\n    {\n      variables: { sucursal: sesion.sucursal._id, empresa: sesion.empresa._id },\n    }\n  );\n\n  const obtenerProveedorAlmacen = (tipo, value) => {\n    if (!value) {\n      setDatosCompra({ ...datosCompra, [tipo]: {} });\n      return;\n    }\n    if (tipo === \"proveedor\") {\n      setDatosCompra({\n        ...datosCompra,\n        proveedor: {\n          id_proveedor: value._id,\n          nombre_cliente: value.nombre_cliente,\n          numero_cliente: value.numero_cliente,\n          clave_cliente: value.clave_cliente,\n        },\n      });\n    } else {\n      setDatosProducto(initial_state_datosProducto);\n      resetInitialStates();\n      setDatosCompra({\n        ...datosCompra,\n        almacen: {\n          id_almacen: value._id,\n          nombre_almacen: value.nombre_almacen,\n        },\n      });\n      setAlmacenInicial({\n        ...almacen_inicial,\n        id_almacen: value._id,\n        almacen: value.nombre_almacen,\n      });\n      getProductos(value._id);\n    }\n  };\n\n  const resetInitialStates = () => {\n    setDatosGenerales(initial_state_datos_generales);\n    setPrecios(initial_state_precios);\n    setUnidadVentaXDefecto(initial_state_unidadVentaXDefecto);\n    setUnidadVentaSecundaria(initial_state_unidadVentaSecundaria);\n    setPreciosP(initial_state_preciosP);\n    setUnidadesVenta([]);\n    setAlmacenInicial(initial_state_almacen_inicial);\n    setCentroDeCostos({});\n    setPreciosPlazos(initial_state_preciosPlazos);\n    setSubcategorias([]);\n    setImagenes([]);\n    setOnPreview({ index: \"\", image: \"\" });\n    setValidacion({ error: false, message: \"\" });\n    setSubcostos([]);\n    setImagenesEliminadas([]);\n    setPresentaciones([]);\n    setPresentacionesEliminadas([]);\n  };\n\n  const errorRender = (\n    <Grid item xs={12} md={4}>\n      <Box display=\"flex\" alignItems=\"center\">\n        <TextField\n          size=\"small\"\n          fullWidth\n          value=\"Error\"\n          error\n          disabled\n          variant=\"outlined\"\n        />\n        <IconButton disabled>\n          <ErrorOutline fontSize=\"default\" />\n        </IconButton>\n      </Box>\n    </Grid>\n  );\n\n  const loadingRender = (\n    <Grid item xs={12} md={4}>\n      <Box display=\"flex\" alignItems=\"center\">\n        <TextField\n          size=\"small\"\n          fullWidth\n          disabled\n          value=\"Cargando...\"\n          variant=\"outlined\"\n        />\n        <IconButton disabled>\n          <CircularProgress size={24} />\n        </IconButton>\n      </Box>\n    </Grid>\n  );\n\n  if (loading)\n    return (\n      <Grid container spacing={2} alignItems=\"center\">\n        {loadingRender}\n        {loadingRender}\n        {loadingRender}\n      </Grid>\n    );\n  if (error) {\n    return (\n      <Fragment>\n        <Grid container spacing={2} alignItems=\"center\">\n          {errorRender}\n          {errorRender}\n          {errorRender}\n        </Grid>\n      </Fragment>\n    );\n  }\n\n  const { almacenes, proveedores } = data.obtenerConsultaGeneralCompras;\n\n  return (\n    <Fragment>\n      <Grid container spacing={2} alignItems=\"center\">\n        <Grid item xs={12} md={4}>\n          <Box display=\"flex\" alignItems=\"center\">\n            <Autocomplete\n              disabled={productosCompra.length > 0}\n              id=\"combo-box-proveedor\"\n              size=\"small\"\n              fullWidth\n              options={proveedores}\n              getOptionLabel={(option) => option.nombre_cliente}\n              renderInput={(params) => (\n                <TextField {...params} label=\"Proveedor\" variant=\"outlined\" />\n              )}\n              onChange={(_, value) =>\n                obtenerProveedorAlmacen(\"proveedor\", value)\n              }\n              getOptionSelected={(option) => option.nombre_cliente}\n              value={\n                datosCompra.proveedor.nombre_cliente\n                  ? datosCompra.proveedor\n                  : null\n              }\n            />\n            <ClienteProvider>\n              <RegistroProvedor\n                accion=\"registrar\"\n                tipo=\"PROVEEDOR\"\n                refetch={refetch}\n              />\n            </ClienteProvider>\n          </Box>\n        </Grid>\n        <Grid item xs={12} md={4}>\n          <Box display=\"flex\" alignItems=\"center\">\n            <Autocomplete\n              disabled={productosCompra.length > 0}\n              id=\"combo-box-almacen\"\n              size=\"small\"\n              fullWidth\n              options={almacenes}\n              getOptionLabel={(option) => option.nombre_almacen}\n              renderInput={(params) => (\n                <TextField {...params} label=\"Almacen\" variant=\"outlined\" />\n              )}\n              onChange={(_, value) => obtenerProveedorAlmacen(\"almacen\", value)}\n              getOptionSelected={(option) => option.nombre_almacen}\n              value={\n                datosCompra.almacen.nombre_almacen ? datosCompra.almacen : null\n              }\n            />\n            <AlmacenProvider>\n              <RegistroAlmacen accion=\"registrar\" refetch={refetch} />\n            </AlmacenProvider>\n          </Box>\n        </Grid>\n        <Grid item xs={12} md={4}>\n          <Box display=\"flex\" alignItems=\"center\">\n            <TextField\n              fullWidth\n              size=\"small\"\n              variant=\"outlined\"\n              type=\"date\"\n              onChange={(e) => {\n                console.log(e.target.value);\n                setDatosCompra({\n                  ...datosCompra,\n                  fecha_registro: e.target.value,\n                });\n              }}\n              value={datosCompra.fecha_registro}\n            />\n          </Box>\n        </Grid>\n      </Grid>\n    </Fragment>\n  );\n}\n","import { Grid, Typography } from \"@material-ui/core\";\nimport React, { useContext } from \"react\";\nimport { formatoMexico } from \"../../../../../config/reuserFunctions\";\nimport { RegProductoContext } from \"../../../../../context/Catalogos/CtxRegProducto\";\nimport { ComprasContext } from \"../../../../../context/Compras/comprasContext\";\n\nexport default function MostrarPrecios() {\n  const { datosProducto } = useContext(ComprasContext);\n  const { presentaciones } = useContext(RegProductoContext);\n\n  if (presentaciones.length > 0) {\n    let cantida_suma = 0;\n    let cantidad_total = 0;\n    presentaciones.forEach((presentacion) => {\n      const { cantidad, cantidad_nueva } = presentacion;\n      let nueva = cantidad_nueva ? cantidad_nueva : 0;\n\n      cantida_suma += cantidad + nueva;\n    });\n    if (isNaN(cantida_suma)) cantidad_total = 0;\n    cantidad_total = cantida_suma; \n\n    return (\n      <Grid container spacing={2}>\n        <Grid item>\n          <Typography style={{ fontSize: 16 }}>Subtotal:</Typography>\n          <Typography style={{ fontSize: 18 }}>\n            <b>${formatoMexico(datosProducto.subtotal_descuento * cantidad_total)}</b>\n          </Typography>\n        </Grid>\n        <Grid item>\n          <Typography style={{ fontSize: 16 }}>Impuestos:</Typography>\n          <Typography style={{ fontSize: 18 }}>\n            <b>${formatoMexico(datosProducto.impuestos * cantidad_total)}</b>\n          </Typography>\n        </Grid>\n        <Grid item>\n          <Typography style={{ fontSize: 16 }}>Descuento:</Typography>\n          <Typography style={{ fontSize: 18 }}>\n            <b>{datosProducto.descuento_porcentaje}%</b>\n          </Typography>\n        </Grid>\n        <Grid item>\n          <Typography style={{ fontSize: 16 }}>Total:</Typography>\n          <Typography style={{ fontSize: 18 }}>\n            <b>\n              $\n              {formatoMexico(\n                datosProducto.total_descuento * cantidad_total\n              )}\n            </b>\n          </Typography>\n        </Grid>\n      </Grid>\n    );\n  } else {\n    return (\n      <Grid container spacing={2}>\n        <Grid item>\n          <Typography style={{ fontSize: 16 }}>Subtotal:</Typography>\n          <Typography style={{ fontSize: 18 }}>\n            <b>${formatoMexico(datosProducto.subtotal_descuento * datosProducto.cantidad)}</b>\n          </Typography>\n        </Grid>\n        <Grid item>\n          <Typography style={{ fontSize: 16 }}>Impuestos:</Typography>\n          <Typography style={{ fontSize: 18 }}>\n            <b>${formatoMexico(datosProducto.impuestos * datosProducto.cantidad)}</b>\n          </Typography>\n        </Grid>\n        <Grid item>\n          <Typography style={{ fontSize: 16 }}>Descuento:</Typography>\n          <Typography style={{ fontSize: 18 }}>\n            <b>{datosProducto.descuento_porcentaje}%</b>\n          </Typography>\n        </Grid>\n        <Grid item>\n          <Typography style={{ fontSize: 16 }}>Total:</Typography>\n          <Typography style={{ fontSize: 18 }}>\n            <b>\n              $\n              {formatoMexico(\n                datosProducto.total_descuento * datosProducto.cantidad\n              )}\n            </b>\n          </Typography>\n        </Grid>\n      </Grid>\n    );\n  }\n}\n","import React, {\n  Fragment,\n  useContext,\n  useState,\n  forwardRef,\n  useEffect,\n} from \"react\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Box from \"@material-ui/core/Box\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Typography from \"@material-ui/core/Typography\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\n\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Select from \"@material-ui/core/Select\";\nimport Slide from \"@material-ui/core/Slide\";\n\nimport PreciosProductos from \"./PreciosProductos\";\nimport TallasProductos from \"./TallasProducto\";\nimport Add from \"@material-ui/icons/Add\";\n\nimport {\n  initial_state_almacen_inicial,\n  initial_state_centro_de_costos,\n  initial_state_datos_generales,\n  initial_state_precios,\n  initial_state_preciosPlazos,\n  initial_state_unidadVentaXDefecto,\n  initial_state_unidadVentaSecundaria,\n} from \"../../../../../context/Catalogos/initialStatesProducto\";\n\nimport CrearProducto, {\n  initial_state_preciosP,\n} from \"../../../Catalogos/Producto/crearProducto\";\nimport { ComprasContext } from \"../../../../../context/Compras/comprasContext\";\nimport { RegProductoContext } from \"../../../../../context/Catalogos/CtxRegProducto\";\nimport { useApolloClient } from \"@apollo/client\";\nimport { OBTENER_PRODUCTOS } from \"../../../../../gql/Catalogos/productos\";\nimport PreciosDeVentaCompras from \"./PreciosVenta\";\nimport { validateJsonEdit } from \"../../../Catalogos/Producto/validateDatos\";\nimport { Alert, AlertTitle } from \"@material-ui/lab\";\nimport { InfoOutlined } from \"@material-ui/icons\";\nimport DescuentosInputs from \"./Descuentos\";\nimport DatosProveedorAlmacen from \"./DatosProveedorAlmacen\";\nimport { initial_state_datosProducto } from \"../initial_states\";\nimport MostrarPrecios from \"./mostrar_precios\";\nimport { useDebounce } from \"use-debounce/lib\";\nimport SnackBarMessages from \"../../../../../components/SnackBarMessages\";\n\nexport default function DatosProducto({ status }) {\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n  const {\n    datosProducto,\n    setDatosProducto,\n    productosCompra,\n    setProductosCompra,\n    datosCompra,\n    productoOriginal,\n    setProductoOriginal,\n    setPreciosVenta,\n    setDatosCompra,\n    isEditing,\n    setIsEditing,\n    editFinish,\n    setEditFinish,\n    costo,\n    setCosto,\n    cantidad,\n    setCantidad,\n    loadingProductos,\n    setLoadingProductos,\n  } = useContext(ComprasContext);\n  const {\n    datos_generales,\n    setDatosGenerales,\n    precios,\n    setPrecios,\n    setValidacion,\n    preciosP,\n    setPreciosP,\n    imagenes,\n    setImagenes,\n    setUnidadesVenta,\n    almacen_inicial,\n    setAlmacenInicial,\n    unidadVentaXDefecto,\n    setUnidadVentaXDefecto,\n    unidadVentaSecundaria,\n    setUnidadVentaSecundaria,\n    centro_de_costos,\n    setCentroDeCostos,\n    preciosPlazos,\n    setPreciosPlazos,\n    setSubcategorias,\n    setOnPreview,\n    setSubcostos,\n    imagenes_eliminadas,\n    setImagenesEliminadas,\n    presentaciones,\n    setPresentaciones,\n    presentaciones_eliminadas,\n    setPresentacionesEliminadas,\n    setAlmacenExistente,\n  } = useContext(RegProductoContext);\n  const [verificate, setVerificate] = useState(false);\n\n  let count = 0;\n  if (status === \"enEspera\" && datosCompra) count = 1;\n\n  const [cargando, setCargando] = useState(false);\n  const client = useApolloClient();\n  const [data, setData] = useState();\n  const [alert, setAlert] = useState({ message: \"\", status: \"\", open: false });\n\n  /* Queries */\n  const getProductos = async (id_almacen) => {\n    try {\n      let almacen = id_almacen ? id_almacen : datosCompra.almacen._id;\n      setLoadingProductos(true);\n      const response = await client.query({\n        query: OBTENER_PRODUCTOS,\n        variables: {\n          almacen,\n          empresa: sesion.empresa._id,\n          sucursal: sesion.sucursal._id,\n        },\n        fetchPolicy: \"network-only\",\n      });\n      setLoadingProductos(false);\n      setData(response.data);\n    } catch (error) {\n      setLoadingProductos(false);\n      setAlert({\n        message: \"Hubo un error al cargar los productos\",\n        status: \"error\",\n        open: true,\n      });\n    }\n  };\n\n  const [COSTO] = useDebounce(costo, 500);\n  const [CANTIDAD] = useDebounce(cantidad, 500);\n\n  /* useEffect(() => {\n    if (loadingProductos) {\n      setLoadingProductos(true);\n    } else {\n      setLoadingProductos(false);\n    }\n  }, [loadingProductos]); */\n\n  useEffect(() => {\n    if (data) obtenerCosto(COSTO);\n  }, [COSTO]);\n\n  useEffect(() => {\n    if (data) obtenerCantidad(CANTIDAD);\n  }, [CANTIDAD]);\n\n  useEffect(() => {\n    if (count === 1) {\n      getProductos(datosCompra.almacen._id);\n    }\n  }, [count]);\n\n  if (loadingProductos) {\n    return (\n      <Box\n        display=\"flex\"\n        flexDirection=\"column\"\n        justifyContent=\"center\"\n        alignItems=\"center\"\n        height=\"20vh\"\n      >\n        <CircularProgress />\n        <Typography variant=\"h5\">Cargando</Typography>\n      </Box>\n    );\n  }\n\n  let obtenerProductos = [];\n  if (data) obtenerProductos = data.obtenerProductos;\n\n  const obtenerSelectsProducto = (producto) => {\n    /* console.log(producto); */\n    if (!producto) {\n      setDatosProducto(initial_state_datosProducto);\n      setCosto(0);\n      setCantidad(0);\n      resetInitialStates();\n      return;\n    }\n\n    const {\n      ieps,\n      iva,\n      precio_con_impuesto,\n      precio_sin_impuesto,\n    } = producto.precios.precio_de_compra;\n\n    const impuestos = iva + ieps;\n\n    setDatosProducto({\n      ...datosProducto,\n      producto,\n      id_producto: producto._id,\n      costo: precio_con_impuesto,\n      cantidad: 1,\n      unidad_regalo: producto.precios.unidad_de_compra.unidad,\n      descuento_porcentaje: 0,\n      descuento_precio: 0,\n      subtotal: precio_sin_impuesto,\n      impuestos: parseFloat(impuestos.toFixed(6)),\n      total: precio_con_impuesto,\n      subtotal_descuento: precio_sin_impuesto,\n      total_descuento: precio_con_impuesto,\n    });\n    setInitialStates(producto);\n    setCosto(precio_con_impuesto);\n    setCantidad(1);\n    setProductoOriginal(producto);\n    setPreciosVenta(producto.precios.precios_producto);\n  };\n\n  function obtenerCantidad(value) {\n    if (!value) {\n      setDatosProducto({\n        ...datosProducto,\n        cantidad: \"\",\n      });\n      return;\n    }\n    setDatosProducto({\n      ...datosProducto,\n      cantidad: parseFloat(value),\n    });\n  }\n\n  const obtenerCantidadRegalo = (value) => {\n    if (!value) {\n      setDatosProducto({\n        ...datosProducto,\n        cantidad_regalo: \"\",\n      });\n      return;\n    }\n    setDatosProducto({\n      ...datosProducto,\n      cantidad_regalo: parseFloat(value),\n    });\n  };\n\n  const obtenerUnidadRegalo = (e) => {\n    const { value, name } = e.target;\n    setDatosProducto({\n      ...datosProducto,\n      [name]: value,\n    });\n  };\n\n  function obtenerCosto(value) {\n    /* const { name, value } = e.target; */\n    if (!value) {\n      setDatosProducto({\n        ...datosProducto,\n        costo: \"\",\n      });\n      return;\n    }\n\n    const { iva, ieps, precio_de_compra } = datosProducto.producto.precios;\n    const iva_precio = precio_de_compra.iva;\n    const ieps_precio = precio_de_compra.ieps;\n\n    let precio_neto = parseFloat(value);\n    let subtotal = 0;\n    let total = 0;\n    let cantidad_descontada = 0;\n    let impuesto_actual = iva_precio + ieps_precio;\n\n    let precio_sin_impuesto = precio_neto - impuesto_actual;\n    let nuevo_iva =\n      parseFloat(precio_sin_impuesto) *\n      parseFloat(iva < 10 ? \".0\" + iva : \".\" + iva);\n    let nuevo_ieps =\n      parseFloat(precio_sin_impuesto) *\n      parseFloat(ieps < 10 ? \".0\" + ieps : \".\" + ieps);\n    let nuevo_impuesto = nuevo_ieps + nuevo_iva;\n\n    if (datosProducto.descuento_porcentaje > 0) {\n      cantidad_descontada = Math.round(\n        (precio_sin_impuesto * datosProducto.descuento_porcentaje) / 100\n      );\n      subtotal = precio_sin_impuesto - cantidad_descontada;\n      total = subtotal + nuevo_impuesto;\n\n      setDatosProducto({\n        ...datosProducto,\n        costo: parseFloat(precio_neto),\n        descuento_precio: parseFloat(cantidad_descontada),\n        subtotal_descuento: parseFloat(subtotal),\n        total_descuento: parseFloat(total),\n      });\n      return;\n    }\n    setDatosProducto({\n      ...datosProducto,\n      costo: parseFloat(precio_neto),\n      subtotal_descuento: parseFloat(precio_sin_impuesto),\n      total_descuento: parseFloat(precio_sin_impuesto + nuevo_impuesto),\n    });\n  }\n\n  const agregarCompra = async (actualizar_Precios) => {\n    let copy_datosProducto = { ...datosProducto };\n    let copy_datosGenerales = { ...datos_generales };\n    let copy_presentaciones = [...presentaciones];\n    let copy_precios = { ...precios };\n    let copy_preciosP = [...preciosP];\n    let copy_almacenInicial = { ...almacen_inicial };\n    let copy_centroCostos = { ...centro_de_costos };\n    let copy_presentacionesEliminadas = [...presentaciones_eliminadas];\n    let copy_precioPlazos = { ...preciosPlazos };\n\n    /* Validaciones */\n    setCargando(true);\n    if (\n      !copy_datosProducto.producto.datos_generales ||\n      !datosCompra.proveedor.nombre_cliente ||\n      !datosCompra.almacen.nombre_almacen\n    ) {\n      setCargando(false);\n      return;\n    }\n\n    if (copy_datosGenerales.tipo_producto !== \"OTROS\") {\n      if (copy_presentaciones.length > 0) {\n        const pres = copy_presentaciones.filter(\n          (res) => res.color._id && res.medida._id && res.existencia\n        );\n        if (pres.length !== copy_presentaciones.length) {\n          setVerificate(true);\n          setCargando(false);\n          return;\n        }\n      } else {\n        setVerificate(true);\n        setCargando(false);\n        return;\n      }\n    }\n\n    /* let copy_unidadesVenta = [...unidadesVenta]; */\n    let copy_unidadesVenta = [\n      { ...unidadVentaXDefecto },\n      { ...unidadVentaSecundaria },\n    ];\n\n    /* if (copy_unidadesVenta.length === 0) {\n      copy_unidadesVenta.push(unidadVentaXDefecto);\n    } else {\n      const unidadxdefecto = copy_unidadesVenta.filter(\n        (unidades) => unidades.default === true\n      );\n      if (unidadxdefecto.length === 0) {\n        copy_unidadesVenta.splice(0, 0, unidadVentaXDefecto);\n      }\n    } */\n\n    if (actualizar_Precios) {\n      copy_datosProducto.mantener_precio = false;\n    } else {\n      copy_datosProducto.mantener_precio = true;\n    }\n    copy_precios.precios_producto = copy_preciosP;\n\n    let producto = {\n      datos_generales: await validateJsonEdit(\n        copy_datosGenerales,\n        \"datos_generales\"\n      ),\n      precios: copy_precios,\n      imagenes,\n      imagenes_eliminadas,\n      almacen_inicial: copy_almacenInicial,\n      centro_de_costos: copy_centroCostos,\n      unidades_de_venta: await validateJsonEdit(\n        copy_unidadesVenta,\n        \"unidades_de_venta\"\n      ),\n      presentaciones: copy_presentaciones,\n      presentaciones_eliminadas: copy_presentacionesEliminadas,\n      precio_plazos: copy_precioPlazos,\n      empresa: sesion.empresa._id,\n      sucursal: sesion.sucursal._id,\n      usuario: sesion._id,\n    };\n\n    copy_datosProducto.producto = producto;\n\n    if (copy_datosProducto.producto.datos_generales.tipo_producto !== \"OTROS\") {\n      //si son medidas sumas las cantidades de las presetnaciones\n      if (copy_datosProducto.producto.presentaciones.length > 0) {\n        copy_datosProducto.cantidad = 0;\n        copy_datosProducto.producto.presentaciones.forEach((presentacion) => {\n          const { cantidad, cantidad_nueva } = presentacion;\n          let nueva = cantidad_nueva ? cantidad_nueva : 0;\n          copy_datosProducto.cantidad += cantidad + nueva;\n        });\n        if (isNaN(copy_datosProducto.cantidad)) copy_datosProducto.cantidad = 0;\n        copy_datosProducto.cantidad_total = copy_datosProducto.cantidad;\n      } else {\n        copy_datosProducto.cantidad = 0;\n        copy_datosProducto.cantidad_total = copy_datosProducto.cantidad;\n      }\n    } else {\n      //Si hay cantidad regalo y es diferente unidad hacer las converciones\n      const { cantidad_regalo, cantidad, unidad_regalo } = copy_datosProducto;\n      //convertir todo a la unidad media y sumar (Pz, Kg, Lt)\n      const factor =\n        copy_datosProducto.producto.precios.unidad_de_compra.cantidad;\n      const cantiad_media = cantidad * factor;\n      let cantidad_regalo_media =\n        unidad_regalo === \"Pz\" ||\n        unidad_regalo === \"Kg\" ||\n        unidad_regalo === \"Lt\"\n          ? cantidad_regalo\n          : cantidad_regalo * factor;\n      let cantidad_total_media = cantiad_media + cantidad_regalo_media;\n\n      //si factor es > 1 es caja o costal y dividir unidad media entre factor y si no mandar la cantidad total media;\n      if (factor > 1) {\n        copy_datosProducto.cantidad_regalo = cantidad_regalo_media / factor;\n        copy_datosProducto.cantidad_total = cantidad_total_media / factor;\n      } else {\n        copy_datosProducto.cantidad_regalo = cantidad_regalo_media;\n        copy_datosProducto.cantidad_total = cantidad_total_media;\n      }\n    }\n    copy_datosProducto.subtotal = copy_datosProducto.subtotal_descuento;\n    copy_datosProducto.total = copy_datosProducto.total_descuento;\n\n    if (isEditing.producto) {\n      //se tiene que actualizar el producto en la fila y sumar el subtotal\n      let productosCompra_ordenados = [...productosCompra];\n      //calculos de totales, subtotales e impuestos de compra general\n      const {\n        iva,\n        ieps,\n      } = copy_datosProducto.producto.precios.precio_de_compra;\n\n      copy_datosProducto.iva_total = iva * copy_datosProducto.cantidad_total;\n      copy_datosProducto.ieps_total = ieps * copy_datosProducto.cantidad_total;\n      copy_datosProducto.subtotal =\n        copy_datosProducto.subtotal * copy_datosProducto.cantidad_total;\n      copy_datosProducto.impuestos =\n        copy_datosProducto.impuestos * copy_datosProducto.cantidad_total;\n      copy_datosProducto.total =\n        copy_datosProducto.total * copy_datosProducto.cantidad_total;\n\n      let subtotal =\n        datosCompra.subtotal +\n        copy_datosProducto.subtotal * copy_datosProducto.cantidad_total -\n        isEditing.producto.subtotal;\n      let impuestos =\n        datosCompra.impuestos +\n        copy_datosProducto.impuestos * copy_datosProducto.cantidad_total -\n        isEditing.producto.impuestos;\n      let total =\n        datosCompra.total +\n        copy_datosProducto.total * copy_datosProducto.cantidad_total -\n        isEditing.producto.total;\n\n      productosCompra_ordenados.splice(isEditing.index, 1, copy_datosProducto);\n\n      setProductosCompra(productosCompra_ordenados);\n      setDatosCompra({\n        ...datosCompra,\n        subtotal,\n        impuestos,\n        total,\n      });\n      setIsEditing({});\n      setEditFinish(!editFinish);\n      setProductoOriginal({ precios: initial_state_precios });\n      setDatosProducto(initial_state_datosProducto);\n      setCosto(0);\n      setCantidad(0);\n      setCargando(false);\n    } else {\n      // se agregar el producto normal y verificar si ya esta el producto en la lista\n\n      const existente = productosCompra\n        .map((prod_exist, index) => {\n          if (prod_exist.id_producto === copy_datosProducto.id_producto) {\n            return { prod_exist, index };\n          } else {\n            return \"\";\n          }\n        })\n        .filter(Boolean);\n\n      if (existente.length > 0) {\n        let productosCompra_ordenados = [...productosCompra];\n        const { index, prod_exist } = existente[0];\n        const {\n          iva,\n          ieps,\n        } = copy_datosProducto.producto.precios.precio_de_compra;\n\n        copy_datosProducto.iva_total = iva * copy_datosProducto.cantidad_total;\n        copy_datosProducto.ieps_total =\n          ieps * copy_datosProducto.cantidad_total;\n        copy_datosProducto.subtotal =\n          copy_datosProducto.subtotal * copy_datosProducto.cantidad_total;\n        copy_datosProducto.impuestos =\n          copy_datosProducto.impuestos * copy_datosProducto.cantidad_total;\n        copy_datosProducto.total =\n          copy_datosProducto.total * copy_datosProducto.cantidad_total;\n\n        productosCompra_ordenados.splice(index, 1, copy_datosProducto);\n        setProductosCompra(productosCompra_ordenados);\n        setDatosCompra({\n          ...datosCompra,\n          subtotal:\n            datosCompra.subtotal -\n            prod_exist.subtotal +\n            copy_datosProducto.subtotal,\n          impuestos:\n            datosCompra.impuestos -\n            prod_exist.impuestos +\n            copy_datosProducto.impuestos,\n          total:\n            datosCompra.total - prod_exist.total + copy_datosProducto.total,\n        });\n      } else {\n        let array_ordenado = [...productosCompra];\n        const {\n          iva,\n          ieps,\n        } = copy_datosProducto.producto.precios.precio_de_compra;\n\n        copy_datosProducto.iva_total = iva * copy_datosProducto.cantidad_total;\n        copy_datosProducto.ieps_total =\n          ieps * copy_datosProducto.cantidad_total;\n        copy_datosProducto.subtotal =\n          copy_datosProducto.subtotal * copy_datosProducto.cantidad_total;\n        copy_datosProducto.impuestos =\n          copy_datosProducto.impuestos * copy_datosProducto.cantidad_total;\n        copy_datosProducto.total =\n          copy_datosProducto.total * copy_datosProducto.cantidad_total;\n\n        array_ordenado.splice(0, 0, copy_datosProducto);\n        setProductosCompra(array_ordenado);\n        setDatosCompra({\n          ...datosCompra,\n          subtotal: datosCompra.subtotal + copy_datosProducto.subtotal,\n          impuestos: datosCompra.impuestos + copy_datosProducto.impuestos,\n          total: datosCompra.total + copy_datosProducto.total,\n        });\n      }\n      setProductoOriginal({ precios: initial_state_precios });\n      setDatosProducto(initial_state_datosProducto);\n      setCosto(0);\n      setCantidad(0);\n      setCargando(false);\n    }\n  };\n\n  /* SET STATES WHEN UPDATING */\n  const setInitialStates = (producto) => {\n    const { precios_producto, ...new_precios } = producto.precios;\n    const { unidades_de_venta } = producto;\n    /* let unidades_venta = producto.unidades_de_venta.filter(\n      (res) => !res.default\n    );\n    const unidadxdefecto = producto.unidades_de_venta.filter(\n      (res) => res.default === true\n    ); */\n    setDatosGenerales(producto.datos_generales);\n    setPrecios(new_precios);\n    setCentroDeCostos(\n      producto.centro_de_costos\n        ? producto.centro_de_costos\n        : initial_state_centro_de_costos\n    );\n    setImagenes(producto.imagenes);\n    setPreciosPlazos(producto.precio_plazos);\n    setUnidadesVenta(unidades_de_venta);\n    setPreciosP(producto.precios.precios_producto);\n    setUnidadVentaXDefecto(\n      unidades_de_venta.length > 0\n        ? unidades_de_venta[0]\n        : initial_state_unidadVentaXDefecto\n    );\n    setUnidadVentaSecundaria(\n      unidades_de_venta.length > 0\n        ? unidades_de_venta[1]\n        : initial_state_unidadVentaSecundaria\n    );\n    setPresentaciones(\n      producto.medidas_producto ? producto.medidas_producto : []\n    );\n    if (\n      datosCompra.almacen.id_almacen &&\n      producto.medidas_producto.length === 0\n    ) {\n      setAlmacenInicial({\n        ...almacen_inicial,\n        id_almacen: datosCompra.almacen.id_almacen,\n        almacen: datosCompra.almacen.nombre_almacen,\n      });\n    }\n\n    if (producto.inventario_general.length > 0) {\n      setAlmacenExistente(true);\n    } else {\n      setAlmacenExistente(false);\n    }\n  };\n\n  /* ###### RESET STATES ###### */\n  const resetInitialStates = () => {\n    setDatosGenerales(initial_state_datos_generales);\n    setPrecios(initial_state_precios);\n    setUnidadVentaXDefecto(initial_state_unidadVentaXDefecto);\n    setUnidadVentaSecundaria(initial_state_unidadVentaSecundaria);\n    setPreciosP(initial_state_preciosP);\n    setUnidadesVenta([]);\n    setAlmacenInicial(initial_state_almacen_inicial);\n    setCentroDeCostos({});\n    setPreciosPlazos(initial_state_preciosPlazos);\n    setSubcategorias([]);\n    setImagenes([]);\n    setOnPreview({ index: \"\", image: \"\" });\n    setValidacion({ error: false, message: \"\" });\n    setSubcostos([]);\n    setImagenesEliminadas([]);\n    setPresentaciones([]);\n    setPresentacionesEliminadas([]);\n  };\n\n  return (\n    <Fragment>\n      <SnackBarMessages alert={alert} setAlert={setAlert} />\n      <DatosProveedorAlmacen status={status} getProductos={getProductos} />\n      <Box my={1} />\n      <Grid container spacing={1} alignItems=\"center\">\n        <Grid item>\n          <Typography>Cdigo de barras</Typography>\n          <Box width={200}>\n            <Autocomplete\n              id=\"combo-box-producto-codigo\"\n              size=\"small\"\n              fullWidth\n              options={obtenerProductos}\n              getOptionLabel={(option) =>\n                option.datos_generales.codigo_barras\n                  ? option.datos_generales.codigo_barras\n                  : \"N/A\"\n              }\n              renderInput={(params) => (\n                <TextField {...params} variant=\"outlined\" />\n              )}\n              onChange={(_, value) => obtenerSelectsProducto(value)}\n              getOptionSelected={(option, value) => option._id === value._id}\n              value={\n                datosProducto.producto.datos_generales\n                  ? datosProducto.producto\n                  : null\n              }\n              disabled={\n                !datosCompra.almacen.id_almacen ||\n                !datosCompra.proveedor.id_proveedor\n              }\n            />\n          </Box>\n        </Grid>\n        <Grid item>\n          <Typography>Producto</Typography>\n          <Box display=\"flex\" width={250} alignItems=\"center\">\n            <Autocomplete\n              id=\"combo-box-producto-nombre\"\n              size=\"small\"\n              fullWidth\n              options={obtenerProductos}\n              getOptionLabel={(option) =>\n                option.datos_generales.nombre_comercial\n              }\n              renderInput={(params) => (\n                <TextField {...params} variant=\"outlined\" />\n              )}\n              onChange={(_, value) => obtenerSelectsProducto(value)}\n              getOptionSelected={(option, value) => option._id === value._id}\n              value={\n                datosProducto.producto.datos_generales\n                  ? datosProducto.producto\n                  : null\n              }\n              disabled={\n                !datosCompra.almacen.id_almacen ||\n                !datosCompra.proveedor.id_proveedor\n              }\n            />\n            {!datosCompra.almacen.id_almacen ||\n            !datosCompra.proveedor.id_proveedor ? (\n              <IconButton disabled>\n                <Add />\n              </IconButton>\n            ) : (\n              <CrearProducto\n                accion={false}\n                /* productosRefetch={refetch} */\n                getProductos={getProductos}\n                fromCompra={true}\n              />\n            )}\n          </Box>\n        </Grid>\n        <Grid item>\n          <Typography>Clave</Typography>\n          <Box width={140}>\n            <Autocomplete\n              id=\"combo-box-producto-clave\"\n              size=\"small\"\n              fullWidth\n              options={obtenerProductos}\n              getOptionLabel={(option) => option.datos_generales.clave_alterna}\n              renderInput={(params) => (\n                <TextField {...params} variant=\"outlined\" />\n              )}\n              onChange={(_, value) => obtenerSelectsProducto(value)}\n              getOptionSelected={(option, value) => option._id === value._id}\n              value={\n                datosProducto.producto.datos_generales\n                  ? datosProducto.producto\n                  : null\n              }\n              disabled={\n                !datosCompra.almacen.id_almacen ||\n                !datosCompra.proveedor.id_proveedor\n              }\n            />\n          </Box>\n        </Grid>\n        <Grid item>\n          <Typography>Costo</Typography>\n          <Box width={100}>\n            <TextField\n              inputMode=\"decimal\"\n              name=\"costo\"\n              variant=\"outlined\"\n              size=\"small\"\n              fullWidth\n              disabled={!datosProducto.producto.datos_generales}\n              value={costo}\n              onChange={(e) => setCosto(e.target.value)}\n              InputProps={{\n                startAdornment: (\n                  <InputAdornment position=\"start\">$</InputAdornment>\n                ),\n              }}\n            />\n          </Box>\n        </Grid>\n        {datosProducto.producto.datos_generales &&\n        datosProducto.producto.datos_generales.tipo_producto === \"OTROS\" ? (\n          <Fragment>\n            <Grid item>\n              <Typography>Unidad</Typography>\n              <Box width={100}>\n                <TextField\n                  variant=\"outlined\"\n                  size=\"small\"\n                  fullWidth\n                  aria-readonly=\"true\"\n                  value={datosProducto.producto.precios.unidad_de_compra.unidad}\n                />\n              </Box>\n            </Grid>\n            <Grid item>\n              <Typography>Cantidad</Typography>\n              <Box width={100}>\n                <TextField\n                  name=\"cantidad\"\n                  variant=\"outlined\"\n                  size=\"small\"\n                  fullWidth\n                  inputMode=\"numeric\"\n                  disabled={!datosProducto.producto.datos_generales}\n                  value={cantidad}\n                  onChange={(e) => setCantidad(e.target.value)}\n                />\n              </Box>\n            </Grid>\n            <Grid item>\n              <Typography>Cant. regalo</Typography>\n              <Box width={100}>\n                <TextField\n                  name=\"cantidad_regalo\"\n                  variant=\"outlined\"\n                  size=\"small\"\n                  fullWidth\n                  inputMode=\"numeric\"\n                  disabled={!datosProducto.producto.datos_generales}\n                  value={datosProducto.cantidad_regalo}\n                  onChange={(e) => obtenerCantidadRegalo(e.target.value)}\n                />\n              </Box>\n            </Grid>\n            <Grid item>\n              <Typography>Unidad. regalo</Typography>\n              <Box width={100}>\n                <FormControl\n                  variant=\"outlined\"\n                  size=\"small\"\n                  name=\"unidad_regalo\"\n                  fullWidth\n                >\n                  {datosProducto.producto.precios.granel ? (\n                    <Select\n                      id=\"select-unidad-regalo\"\n                      disabled={!datosProducto.producto.datos_generales}\n                      name=\"unidad_regalo\"\n                      value={datosProducto.unidad_regalo}\n                      onChange={obtenerUnidadRegalo}\n                    >\n                      <MenuItem value=\"Kg\">Kg</MenuItem>\n                      <MenuItem value=\"Costal\">Costal</MenuItem>\n                      <MenuItem value=\"Lt\">Lt</MenuItem>\n                    </Select>\n                  ) : (\n                    <Select\n                      id=\"select-unidad-regalo\"\n                      disabled={!datosProducto.producto.datos_generales}\n                      name=\"unidad_regalo\"\n                      value={datosProducto.unidad_regalo}\n                      onChange={obtenerUnidadRegalo}\n                    >\n                      <MenuItem value=\"Caja\">Caja</MenuItem>\n                      <MenuItem value=\"Pz\">Pz</MenuItem>\n                    </Select>\n                  )}\n                </FormControl>\n              </Box>\n            </Grid>\n          </Fragment>\n        ) : null}\n\n        <Grid item>\n          <Typography>Descuento</Typography>\n          <DescuentosInputs />\n        </Grid>\n      </Grid>\n      <Box mt={1}>\n        <Grid container>\n          <Grid item xs={12} md={7} padding=\"checkbox\">\n            <PreciosDeVentaCompras />\n          </Grid>\n          <Grid\n            item\n            xs={12}\n            md={5}\n            style={{\n              display: \"flex\",\n              alignItems: \"center\",\n              justifyContent: \"center\",\n              flexDirection: \"column\",\n            }}\n          >\n            <Box m={1}>\n              <MostrarPrecios />\n            </Box>\n            <Box display=\"flex\">\n              {datosProducto.producto.datos_generales &&\n              datosProducto.producto.datos_generales.tipo_producto !==\n                \"OTROS\" ? (\n                <TallasProductos\n                  verificate={verificate}\n                  setVerificate={setVerificate}\n                />\n              ) : null}\n\n              <Box mx={1} />\n              {datosProducto.costo !==\n              productoOriginal.precios.precio_de_compra.precio_con_impuesto ? (\n                <ModalAgregarCompra\n                  agregarCompra={agregarCompra}\n                  cargando={cargando}\n                />\n              ) : (\n                <Button\n                  style={\n                    loadingProductos\n                      ? {\n                          pointerEvents: \"none\",\n                          opacity: 0.4,\n                        }\n                      : null\n                  }\n                  variant=\"contained\"\n                  color=\"primary\"\n                  startIcon={\n                    cargando ? (\n                      <CircularProgress color=\"inherit\" size={20} />\n                    ) : (\n                      <Add />\n                    )\n                  }\n                  disableElevation\n                  disabled={\n                    datosProducto.producto.datos_generales\n                      ? datosProducto.producto.datos_generales.tipo_producto ===\n                        \"OTROS\"\n                        ? !datosCompra.proveedor.nombre_cliente ||\n                          !datosCompra.almacen.nombre_almacen ||\n                          !datosProducto.costo ||\n                          !datosProducto.cantidad\n                          ? true\n                          : false\n                        : !datosCompra.proveedor.nombre_cliente ||\n                          !datosCompra.almacen.nombre_almacen ||\n                          !datosProducto.costo\n                        ? true\n                        : false\n                      : true\n                  }\n                  onClick={() => agregarCompra()}\n                >\n                  {isEditing.producto ? \"Actualizar \" : \"Agregar a compra\"}\n                </Button>\n              )}\n            </Box>\n          </Grid>\n        </Grid>\n      </Box>\n    </Fragment>\n  );\n}\n\nconst Transition = forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nconst ModalAgregarCompra = ({ agregarCompra, cargando }) => {\n  const [open, setOpen] = useState(false);\n  const {\n    datosProducto,\n    datosCompra,\n    isEditing,\n    loadingProductos,\n  } = useContext(ComprasContext);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  return (\n    <div>\n      <Button\n        style={\n          loadingProductos\n            ? {\n                pointerEvents: \"none\",\n                opacity: 0.4,\n              }\n            : null\n        }\n        variant=\"contained\"\n        color=\"primary\"\n        startIcon={<Add />}\n        disableElevation\n        disabled={\n          datosProducto.producto.datos_generales\n            ? datosProducto.producto.datos_generales.tipo_producto === \"OTROS\"\n              ? !datosCompra.proveedor.nombre_cliente ||\n                !datosCompra.almacen.nombre_almacen ||\n                !datosProducto.costo ||\n                !datosProducto.cantidad\n                ? true\n                : false\n              : !datosCompra.proveedor.nombre_cliente ||\n                !datosCompra.almacen.nombre_almacen ||\n                !datosProducto.costo\n              ? true\n              : false\n            : true\n        }\n        onClick={() => handleClickOpen()}\n      >\n        {isEditing.producto ? \"Actualizar \" : \"Agregar a compra\"}\n      </Button>\n      <Dialog\n        open={open}\n        TransitionComponent={Transition}\n        keepMounted\n        onClose={() => handleClose()}\n        aria-labelledby=\"modal-agregar-compra\"\n      >\n        <DialogTitle id=\"modal-agregar-compra\" style={{ padding: 0 }}>\n          <Alert\n            severity=\"info\"\n            icon={<InfoOutlined style={{ fontSize: 30 }} />}\n            style={{ padding: 16 }}\n          >\n            <AlertTitle style={{ fontSize: 20 }}>\n              El costo es diferente al precio de compra actual\n            </AlertTitle>\n            <Typography style={{ fontSize: 18 }}>\n              Desea actualizar los precios o mantenerlos?\n            </Typography>\n          </Alert>\n        </DialogTitle>\n        <DialogActions style={{ display: \"flex\", justifyContent: \"center\" }}>\n          <Button onClick={() => handleClose()} color=\"default\">\n            Cancelar\n          </Button>\n          <Button\n            onClick={() => {\n              agregarCompra();\n              handleClose();\n            }}\n            color=\"primary\"\n          >\n            Mantener\n          </Button>\n          <PreciosProductos\n            cargando={cargando}\n            handleClose={handleClose}\n            agregarCompra={agregarCompra}\n          />\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n};\n","import {\n  initial_state_almacen_inicial,\n  initial_state_centro_de_costos,\n  initial_state_datos_generales,\n  initial_state_precios,\n  initial_state_preciosPlazos,\n  initial_state_unidadVentaXDefecto,\n  initial_state_unidadVentaSecundaria,\n} from \"../../../../../context/Catalogos/initialStatesProducto\";\n\nimport { initial_state_preciosP } from \"../../../Catalogos/Producto/crearProducto\";\n\nexport const SetOrResetData = (accion,setStates, producto) => {\n  const {\n    setDatosGenerales,\n    setPrecios,\n    setValidacion,\n    setPreciosP,\n    setImagenes,\n    setUnidadesVenta,\n    almacen_inicial,\n    setAlmacenInicial,\n    setUnidadVentaXDefecto,\n    setUnidadVentaSecundaria,\n    setCentroDeCostos,\n    setPreciosPlazos,\n    setSubcategorias,\n    setOnPreview,\n    setSubcostos,\n    setImagenesEliminadas,\n    setPresentaciones,\n    setPresentacionesEliminadas,\n    datosCompra\n  } = setStates\n\n  if (accion === \"SET\") {\n    const { precios_producto, ...new_precios } = producto.precios;\n    const { unidades_de_venta } = producto;\n    /* const unidadxdefecto = producto.unidades_de_venta.filter(\n      (res) => res.default\n    ); */\n\n    setDatosGenerales(producto.datos_generales);\n    setPrecios(new_precios);\n    setCentroDeCostos(\n      producto.centro_de_costos\n        ? producto.centro_de_costos\n        : initial_state_centro_de_costos\n    );\n    setImagenes(producto.imagenes);\n    setPreciosPlazos(producto.precio_plazos);\n    setUnidadesVenta(unidades_de_venta);\n    setPreciosP(producto.precios.precios_producto);\n    /* setUnidadVentaXDefecto(unidadxdefecto[0]); */\n    setUnidadVentaXDefecto(\n      unidades_de_venta.length > 0\n        ? unidades_de_venta[0]\n        : initial_state_unidadVentaXDefecto\n    );\n    setUnidadVentaSecundaria(\n      unidades_de_venta.length > 0\n        ? unidades_de_venta[1]\n        : initial_state_unidadVentaSecundaria\n    );\n    setPresentaciones(\n      producto.presentaciones ? producto.presentaciones : []\n    );\n    /* if (datosCompra.almacen.id_almacen && !producto.medidas_registradas) */\n    if (datosCompra.almacen.id_almacen && producto.presentaciones.length === 0) {\n      setAlmacenInicial({\n        ...almacen_inicial,\n        id_almacen: datosCompra.almacen.id_almacen,\n        almacen: datosCompra.almacen.nombre_almacen,\n      });\n    }\n  } else {\n    setDatosGenerales(initial_state_datos_generales);\n    setPrecios(initial_state_precios);\n    setUnidadVentaXDefecto(initial_state_unidadVentaXDefecto);\n    setUnidadVentaSecundaria(initial_state_unidadVentaSecundaria);\n    setPreciosP(initial_state_preciosP);\n    setUnidadesVenta([]);\n    setAlmacenInicial(initial_state_almacen_inicial);\n    setCentroDeCostos({});\n    setPreciosPlazos(initial_state_preciosPlazos);\n    setSubcategorias([]);\n    setImagenes([]);\n    setOnPreview({ index: \"\", image: \"\" });\n    setValidacion({ error: false, message: \"\" });\n    setSubcostos([]);\n    setImagenesEliminadas([]);\n    setPresentaciones([]);\n    setPresentacionesEliminadas([]);\n  }\n};\n","import React, {\n  useContext,\n  useState,\n  forwardRef,\n  useEffect,\n  Fragment,\n} from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport RemoveCircleOutlineIcon from \"@material-ui/icons/RemoveCircleOutline\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Slide from \"@material-ui/core/Slide\";\nimport { ComprasContext } from \"../../../../context/Compras/comprasContext\";\nimport { Close, Edit, Error } from \"@material-ui/icons\";\nimport { initial_state_datosProducto } from \"./initial_states\";\nimport { SetOrResetData } from \"./productos/setOrResetData\";\nimport { RegProductoContext } from \"../../../../context/Catalogos/CtxRegProducto\";\nimport { formatoMexico } from \"../../../../config/reuserFunctions\";\nimport { Grid, Typography } from \"@material-ui/core\";\n\nconst useStyles = makeStyles({\n  root: {\n    width: \"100%\",\n  },\n  container: {\n    height: \"40vh\",\n  },\n});\n\nexport default function ListaCompras() {\n  const classes = useStyles();\n  const { productosCompra, loadingProductos, datosCompra } = useContext(\n    ComprasContext\n  );\n\n  const productos_ordernados = [...productosCompra];\n\n  return (\n    <Paper className={classes.root} variant=\"outlined\">\n      <TableContainer\n        className={classes.container}\n        style={\n          loadingProductos\n            ? {\n                pointerEvents: \"none\",\n                opacity: 0.4,\n              }\n            : null\n        }\n      >\n        <Table stickyHeader size=\"small\">\n          <TableHead>\n            <TableRow>\n              <TableCell>Cdigo de barras</TableCell>\n              <TableCell>Producto</TableCell>\n              <TableCell>Precio de compra</TableCell>\n              <TableCell padding=\"checkbox\">Cantidad</TableCell>\n              <TableCell padding=\"checkbox\">Cantidad regalo</TableCell>\n              <TableCell padding=\"checkbox\">Cantidad total</TableCell>\n              <TableCell padding=\"checkbox\">Presentaciones</TableCell>\n              <TableCell>IVA</TableCell>\n              <TableCell>IEPS</TableCell>\n              <TableCell>Total IVA</TableCell>\n              <TableCell>Total IEPS</TableCell>\n              <TableCell>Editar</TableCell>\n              <TableCell>Remover</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {productos_ordernados.map((producto, index) => {\n              return (\n                <RenderProductosCompra\n                  key={index}\n                  producto={producto}\n                  index={index}\n                />\n              );\n            })}\n          </TableBody>\n        </Table>\n      </TableContainer>\n        <Grid container spacing={2}>\n          <Grid item>\n            <Typography style={{ fontSize: 18 }}>\n              Subtotal: <b>${ datosCompra.subtotal ? formatoMexico(datosCompra.subtotal) : 0}</b>\n            </Typography>\n          </Grid>\n          <Grid item>\n            <Typography style={{ fontSize: 18 }}>\n              Impuestos: <b>${datosCompra.impuestos ? formatoMexico(datosCompra.impuestos) : 0}</b>\n            </Typography>\n          </Grid>\n          <Grid item>\n            <Typography style={{ fontSize: 18 }}>\n              <b>Total: ${datosCompra.total ? formatoMexico(datosCompra.total) : 0}</b>\n            </Typography>\n          </Grid>\n        </Grid>\n    </Paper>\n  );\n}\n\nconst RenderProductosCompra = ({ producto, index }) => {\n  const {\n    datosCompra,\n    setDatosProducto,\n    setProductoOriginal,\n    setPreciosVenta,\n    isEditing,\n    setIsEditing,\n    editFinish,\n    setCosto,\n    setCantidad,\n    setIssue,\n  } = useContext(ComprasContext);\n  const [isSelected, setIsSelected] = useState(false);\n  const productoCTX = useContext(RegProductoContext);\n\n  const seStates = {\n    setDatosGenerales: productoCTX.setDatosGenerales,\n    setPrecios: productoCTX.setPrecios,\n    setValidacion: productoCTX.setValidacion,\n    setPreciosP: productoCTX.setPreciosP,\n    setImagenes: productoCTX.setImagenes,\n    setUnidadesVenta: productoCTX.setUnidadesVenta,\n    almacen_inicial: productoCTX.almacen_inicial,\n    setAlmacenInicial: productoCTX.setAlmacenInicial,\n    setUnidadVentaXDefecto: productoCTX.setUnidadVentaXDefecto,\n    setUnidadVentaSecundaria: productoCTX.setUnidadVentaSecundaria,\n    setCentroDeCostos: productoCTX.setCentroDeCostos,\n    setPreciosPlazos: productoCTX.setPreciosPlazos,\n    setSubcategorias: productoCTX.setSubcategorias,\n    setOnPreview: productoCTX.setOnPreview,\n    setSubcostos: productoCTX.setSubcostos,\n    setImagenesEliminadas: productoCTX.setImagenesEliminadas,\n    setPresentaciones: productoCTX.setPresentaciones,\n    setPresentacionesEliminadas: productoCTX.setPresentacionesEliminadas,\n    datosCompra,\n  };\n\n  const handleEdit = () => {\n    setIsSelected(true);\n    setIsEditing({ producto, index, finish: false });\n    setDatosProducto(producto);\n    SetOrResetData(\"SET\", seStates, producto.producto);\n    setProductoOriginal(producto.producto);\n    setPreciosVenta(producto.producto.precios.precios_producto);\n    setCosto(producto.costo);\n    setCantidad(producto.cantidad);\n  };\n\n  const handleCancelEdit = () => {\n    setIsSelected(false);\n    setIsEditing({});\n    setDatosProducto(initial_state_datosProducto);\n    SetOrResetData(\"RESET\", seStates);\n    setCosto(0);\n    setCantidad(1);\n  };\n\n  useEffect(() => {\n    setIsSelected(false);\n  }, [editFinish]);\n\n  useEffect(() => {\n    if (!producto.cantidad) {\n    } else {\n      setIssue(false);\n    }\n  }, [producto.cantidad]);\n\n  const unidad_producto = producto.producto.precios.unidad_de_compra.unidad;\n  const { cantidad, cantidad_regalo, cantidad_total } = producto;\n\n  return (\n    <TableRow\n      hover\n      role=\"checkbox\"\n      tabIndex={-1}\n      selected={isSelected || !cantidad}\n      style={\n        isEditing.producto && !isSelected\n          ? {\n              pointerEvents: \"none\",\n              opacity: 0.4,\n            }\n          : null\n      }\n    >\n      <TableCell>\n        {producto.producto.datos_generales\n          ? producto.producto.datos_generales.codigo_barras\n            ? producto.producto.datos_generales.codigo_barras\n            : \"-\"\n          : \"-\"}\n      </TableCell>\n      <TableCell>\n        {producto.producto.datos_generales.nombre_comercial}\n      </TableCell>\n      <TableCell width={180}>\n        {!cantidad ? (\n          <Error color=\"error\" />\n        ) : (\n          <b>$ {formatoMexico(producto.total)}</b>\n        )}\n      </TableCell>\n      <TableCell>\n        {cantidad}\n        <b>({unidad_producto})</b>\n      </TableCell>\n      <TableCell>\n        {cantidad_regalo}\n        <b>({unidad_producto})</b>\n      </TableCell>\n      <TableCell>\n        {cantidad_total}\n        <b>({unidad_producto})</b>\n      </TableCell>\n      <TableCell>\n        {producto.producto.presentaciones.length > 0\n          ? producto.producto.presentaciones.length\n          : \"N/A\"}\n      </TableCell>\n      <TableCell>{producto.producto.precios.iva}%</TableCell>\n      <TableCell>{producto.producto.precios.ieps}%</TableCell>\n      <TableCell>${producto.iva_total}</TableCell>\n      <TableCell>${producto.ieps_total}</TableCell>\n      <TableCell>\n        {isSelected ? (\n          <IconButton\n            color=\"inherit\"\n            size=\"small\"\n            onClick={() => handleCancelEdit()}\n          >\n            <Close />\n          </IconButton>\n        ) : (\n          <IconButton color=\"primary\" size=\"small\" onClick={() => handleEdit()}>\n            <Edit />\n          </IconButton>\n        )}\n      </TableCell>\n      <TableCell>\n        <ModalDeleteProducto index={index} isSelected={isSelected} />\n      </TableCell>\n    </TableRow>\n  );\n};\n\nconst Transition = forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nconst ModalDeleteProducto = ({ index, isSelected }) => {\n  const {\n    productosCompra,\n    setProductosCompra,\n    datosCompra,\n    setDatosCompra,\n  } = useContext(ComprasContext);\n  const [open, setOpen] = useState(false);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const eliminarCompra = () => {\n    let copy_compras = [...productosCompra];\n    let objeto_eliminado = copy_compras.splice(index, 1);\n\n    setDatosCompra({\n      ...datosCompra,\n      subtotal: datosCompra.subtotal - objeto_eliminado[0].subtotal,\n      impuestos: datosCompra.impuestos - objeto_eliminado[0].impuestos,\n      total: datosCompra.total - objeto_eliminado[0].total,\n    });\n    setProductosCompra([...copy_compras]);\n    handleClose();\n  };\n\n  return (\n    <Fragment>\n      <IconButton\n        color=\"secondary\"\n        size=\"small\"\n        onClick={handleClickOpen}\n        disabled={isSelected}\n      >\n        <RemoveCircleOutlineIcon />\n      </IconButton>\n      <Dialog\n        open={open}\n        TransitionComponent={Transition}\n        keepMounted\n        onClose={handleClose}\n        aria-labelledby=\"modal-eliminar-compra\"\n      >\n        <DialogTitle id=\"modal-eliminar-compra\">\n          Seguro que quiere eliminar esto de la lista?\n        </DialogTitle>\n\n        <DialogActions>\n          <Button onClick={handleClose} color=\"primary\">\n            Cancelar\n          </Button>\n          <Button onClick={eliminarCompra} color=\"secondary\">\n            Aceptar\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </Fragment>\n  );\n};\n","import React, { useContext, useState } from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport Typography from \"@material-ui/core/Typography\";\nimport {\n  Box,\n  Checkbox,\n  CircularProgress,\n  FormControl,\n  FormControlLabel,\n  Grid,\n  InputAdornment,\n  InputLabel,\n  MenuItem,\n  Select,\n  Slide,\n  TextField,\n} from \"@material-ui/core\";\nimport { ComprasContext } from \"../../../../context/Compras/comprasContext\";\nimport { formatoMexico } from \"../../../../config/reuserFunctions\";\nimport { formaPago } from \"../../Facturacion/catalogos\";\nimport { Done } from \"@material-ui/icons\";\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function ConfirmarCompra({ realizarCompraBD }) {\n  const [open, setOpen] = useState(false);\n  const [loading_modal, setLoadingModal] = useState(false);\n  const {\n    productosCompra,\n    datosCompra,\n    setDatosCompra,\n    issue,\n    descuentoCompra,\n    setDescuentoCompra,\n  } = useContext(ComprasContext);\n  const handleClickOpen = () => setOpen(true);\n  const handleClose = () => setOpen(false);\n\n  const obtenerFormaPago = (forma_pago) => {\n    setDatosCompra({\n      ...datosCompra,\n      forma_pago,\n    });\n  };\n\n  const aplicarDescuento = (descuento_aplicado) => {\n    if (!descuento_aplicado) {\n      setDescuentoCompra({\n        ...descuentoCompra,\n        subtotal: datosCompra.subtotal,\n        total: datosCompra.total,\n        descuento_aplicado,\n        porcentaje: 0,\n        cantidad_descontada: 0,\n        precio_con_descuento: 0,\n      });\n      return;\n    }\n    setDescuentoCompra({\n      ...descuentoCompra,\n      descuento_aplicado,\n    });\n  };\n\n  const obtenerPorcentaje = (value) => {\n    if (!value || parseFloat(value) === 0) {\n      setDescuentoCompra({\n        ...descuentoCompra,\n        subtotal: datosCompra.subtotal,\n        total: datosCompra.total,\n        porcentaje: 0,\n        cantidad_descontada: 0,\n        precio_con_descuento: 0,\n      });\n      return;\n    }\n    let porcentaje = parseFloat(value);\n    let cantidad_descontada = Math.round(\n      (datosCompra.subtotal * porcentaje) / 100\n    );\n    let precio_con_descuento = datosCompra.subtotal - cantidad_descontada;\n\n    setDescuentoCompra({\n      ...descuentoCompra,\n      subtotal: parseFloat((precio_con_descuento).toFixed(2)),\n      total: parseFloat((precio_con_descuento + datosCompra.impuestos).toFixed(2)),\n      porcentaje,\n      cantidad_descontada,\n      precio_con_descuento: parseFloat((precio_con_descuento).toFixed(2)),\n    });\n  };\n\n  const obtenerPrecio = (value) => {\n    if (!value || parseFloat(value) === 0) {\n      setDescuentoCompra({\n        ...descuentoCompra,\n        subtotal: datosCompra.subtotal,\n        total: datosCompra.total,\n        porcentaje: 0,\n        cantidad_descontada: 0,\n        precio_con_descuento: 0,\n      });\n      return;\n    }\n\n    let cantidad_descontada = parseFloat(value);\n    let porcentaje = Math.round(\n      (cantidad_descontada / datosCompra.subtotal) * 100\n    );\n    /* let descuento_porcentaje = 100 - porcentaje; */\n    let precio_con_descuento = datosCompra.subtotal - cantidad_descontada;\n\n    setDescuentoCompra({\n      ...descuentoCompra,\n      subtotal: parseFloat((precio_con_descuento).toFixed(2)),\n      total: parseFloat((precio_con_descuento + datosCompra.impuestos).toFixed(2)),\n      porcentaje,\n      cantidad_descontada,\n      precio_con_descuento: parseFloat((precio_con_descuento).toFixed(2)),\n    });\n  };\n\n  return (\n    <div>\n      <Button\n        autoFocus\n        color=\"primary\"\n        variant=\"contained\"\n        size=\"large\"\n        onClick={() => handleClickOpen()}\n        disabled={!productosCompra.length || issue}\n        startIcon={<Done />}\n      >\n        Realizar compra\n      </Button>\n      <Dialog\n        open={open}\n        TransitionComponent={Transition}\n        keepMounted\n        onClose={handleClose}\n        aria-labelledby=\"dialog-confirmacion-compra\"\n        aria-describedby=\"dialog-confirmacion-compra-description\"\n        fullWidth\n        maxWidth=\"xs\"\n      >\n        <DialogContent>\n          <Box>\n            <Typography>\n              <b>Total de productos:</b>\n              {\" \" + productosCompra.length}\n            </Typography>\n            <Typography>\n              <b>Subtotal:</b>\n              {\" $\" +\n                formatoMexico(\n                  !descuentoCompra.subtotal\n                    ? datosCompra.subtotal\n                    : descuentoCompra.subtotal\n                )}\n            </Typography>\n            <Typography>\n              <b>Impuestos:</b>\n              {\" $\" + formatoMexico(datosCompra.impuestos)}\n            </Typography>\n            <Typography>\n              <b>Total:</b>\n              {\" $\" +\n                formatoMexico(\n                  !descuentoCompra.total\n                    ? datosCompra.total\n                    : descuentoCompra.total\n                )}\n            </Typography>\n          </Box>\n\n          <Box my={2}>\n            <FormControl\n              variant=\"outlined\"\n              fullWidth\n              size=\"small\"\n              name=\"forma_pago\"\n            >\n              <InputLabel id=\"forma_pago\">Forma de pago</InputLabel>\n              <Select\n                labelId=\"forma_pago\"\n                value={datosCompra.forma_pago}\n                name=\"forma_pago\"\n                onChange={(e) => obtenerFormaPago(e.target.value)}\n                label=\"Forma de pago\"\n              >\n                {formaPago.map((res, index) => (\n                  <MenuItem\n                    key={index}\n                    value={res.Value}\n                  >{`${res.Value} - ${res.Name}`}</MenuItem>\n                ))}\n              </Select>\n            </FormControl>\n            <FormControlLabel\n              control={\n                <Checkbox\n                  checked={descuentoCompra.descuento_aplicado}\n                  onChange={(e) => aplicarDescuento(e.target.checked)}\n                  name=\"descuento_aplicado\"\n                />\n              }\n              label=\"Aplicar descuento\"\n            />\n            <Grid container spacing={2}>\n              <Grid item md={6}>\n                <TextField\n                  variant=\"outlined\"\n                  size=\"small\"\n                  fullWidth\n                  onChange={(e) => obtenerPrecio(e.target.value)}\n                  disabled={!descuentoCompra.descuento_aplicado}\n                  value={descuentoCompra.cantidad_descontada}\n                  InputProps={{\n                    startAdornment: (\n                      <InputAdornment position=\"start\">$</InputAdornment>\n                    ),\n                  }}\n                />\n              </Grid>\n              <Grid item md={6}>\n                <TextField\n                  variant=\"outlined\"\n                  type=\"number\"\n                  size=\"small\"\n                  fullWidth\n                  onChange={(e) => obtenerPorcentaje(e.target.value)}\n                  disabled={!descuentoCompra.descuento_aplicado}\n                  value={descuentoCompra.porcentaje}\n                  InputProps={{\n                    startAdornment: (\n                      <InputAdornment position=\"start\">%</InputAdornment>\n                    ),\n                  }}\n                />\n              </Grid>\n            </Grid>\n          </Box>\n        </DialogContent>\n        <DialogActions>\n          <Button\n            onClick={handleClose}\n            color=\"inherit\"\n            disabled={loading_modal}\n          >\n            Cancelar\n          </Button>\n          <Button\n            onClick={() =>\n              realizarCompraBD(false, undefined, handleClose, setLoadingModal)\n            }\n            color=\"primary\"\n            startIcon={\n              loading_modal ? (\n                <CircularProgress color=\"inherit\" size={20} />\n              ) : (\n                <Done />\n              )\n            }\n            disabled={loading_modal || !datosCompra.forma_pago}\n          >\n            Realizar Compra\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n}\n","import React, { useContext, useState } from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Slide from \"@material-ui/core/Slide\";\nimport {\n  Box,\n  Checkbox,\n  CircularProgress,\n  FormControl,\n  FormControlLabel,\n  Grid,\n  InputAdornment,\n  InputLabel,\n  MenuItem,\n  Select,\n  TextField,\n  Typography,\n} from \"@material-ui/core\";\nimport { ComprasContext } from \"../../../../context/Compras/comprasContext\";\nimport { CreditCard, Done } from \"@material-ui/icons\";\nimport { formatoMexico } from \"../../../../config/reuserFunctions\";\nimport { formaPago } from \"../../Facturacion/catalogos\";\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function CompraCredito({ realizarCompraBD }) {\n  const [open, setOpen] = useState(false);\n  const [loading_modal, setLoadingModal] = useState(false);\n  const {\n    productosCompra,\n    datosCompra,\n    setDatosCompra,\n    issue,\n    descuentoCompra,\n    setDescuentoCompra,\n  } = useContext(ComprasContext);\n\n  const handleClickOpen = () => setOpen(true);\n  const handleClose = () => setOpen(false);\n\n  const obtenerFormaPago = (forma_pago) => {\n    setDatosCompra({\n      ...datosCompra,\n      forma_pago,\n    });\n  };\n\n  const aplicarDescuento = (descuento_aplicado) => {\n    if (!descuento_aplicado) {\n      setDescuentoCompra({\n        ...descuentoCompra,\n        subtotal: datosCompra.subtotal,\n        total: datosCompra.total,\n        descuento_aplicado,\n        porcentaje: 0,\n        cantidad_descontada: 0,\n        precio_con_descuento: 0,\n      });\n      return;\n    }\n    setDescuentoCompra({\n      ...descuentoCompra,\n      descuento_aplicado,\n    });\n  };\n\n  const obtenerPorcentaje = (value) => {\n    if (!value || parseFloat(value) === 0) {\n      setDescuentoCompra({\n        ...descuentoCompra,\n        subtotal: datosCompra.subtotal,\n        total: datosCompra.total,\n        porcentaje: 0,\n        cantidad_descontada: 0,\n        precio_con_descuento: 0,\n      });\n      return;\n    }\n    let porcentaje = parseFloat(value);\n    let cantidad_descontada = Math.round(\n      (datosCompra.subtotal * porcentaje) / 100\n    );\n    let precio_con_descuento = datosCompra.subtotal - cantidad_descontada;\n\n    setDescuentoCompra({\n      ...descuentoCompra,\n      subtotal: parseFloat(precio_con_descuento.toFixed(2)),\n      total: parseFloat(\n        (precio_con_descuento + datosCompra.impuestos).toFixed(2)\n      ),\n      porcentaje,\n      cantidad_descontada,\n      precio_con_descuento: parseFloat(precio_con_descuento.toFixed(2)),\n    });\n  };\n\n  const obtenerPrecio = (value) => {\n    if (!value || parseFloat(value) === 0) {\n      setDescuentoCompra({\n        ...descuentoCompra,\n        subtotal: datosCompra.subtotal,\n        total: datosCompra.total,\n        porcentaje: 0,\n        cantidad_descontada: 0,\n        precio_con_descuento: 0,\n      });\n      return;\n    }\n\n    let cantidad_descontada = parseFloat(value);\n    let porcentaje = Math.round(\n      (cantidad_descontada / datosCompra.subtotal) * 100\n    );\n    /* let descuento_porcentaje = 100 - porcentaje; */\n    let precio_con_descuento = datosCompra.subtotal - cantidad_descontada;\n\n    setDescuentoCompra({\n      ...descuentoCompra,\n      subtotal: parseFloat(precio_con_descuento.toFixed(2)),\n      total: parseFloat(\n        (precio_con_descuento + datosCompra.impuestos).toFixed(2)\n      ),\n      porcentaje,\n      cantidad_descontada,\n      precio_con_descuento: parseFloat(precio_con_descuento.toFixed(2)),\n    });\n  };\n\n  return (\n    <div>\n      <Button\n        autoFocus\n        color=\"primary\"\n        size=\"large\"\n        onClick={() => handleClickOpen()}\n        disabled={!productosCompra.length || issue}\n        startIcon={<CreditCard />}\n      >\n        Compra a Credito\n      </Button>\n      <Dialog\n        open={open}\n        TransitionComponent={Transition}\n        keepMounted\n        onClose={handleClose}\n        aria-labelledby=\"dialog-compra-credito\"\n        aria-describedby=\"dialog-compra-credito-description\"\n        fullWidth\n        maxWidth=\"xs\"\n      >\n        <DialogTitle id=\"dialog-compra-credito\">\n          {\"Comprar a credito\"}\n        </DialogTitle>\n        <DialogContent>\n          <Box>\n            <Typography>\n              <b>Total de productos:</b>\n              {\" \" + productosCompra.length}\n            </Typography>\n            <Typography>\n              <b>Subtotal:</b>\n              {\" $\" +\n                formatoMexico(\n                  !descuentoCompra.subtotal\n                    ? datosCompra.subtotal\n                    : descuentoCompra.subtotal\n                )}\n            </Typography>\n            <Typography>\n              <b>Impuestos:</b>\n              {\" $\" + formatoMexico(datosCompra.impuestos)}\n            </Typography>\n            <Typography>\n              <b>Total:</b>\n              {\" $\" +\n                formatoMexico(\n                  !descuentoCompra.total\n                    ? datosCompra.total\n                    : descuentoCompra.total\n                )}\n            </Typography>\n          </Box>\n          <Box my={2}>\n            <FormControl\n              variant=\"outlined\"\n              fullWidth\n              size=\"small\"\n              name=\"forma_pago\"\n            >\n              <InputLabel id=\"forma_pago\">Forma de pago</InputLabel>\n              <Select\n                labelId=\"forma_pago\"\n                value={datosCompra.forma_pago}\n                name=\"forma_pago\"\n                onChange={(e) => obtenerFormaPago(e.target.value)}\n                label=\"Forma de pago\"\n              >\n                {formaPago.map((res, index) => (\n                  <MenuItem\n                    key={index}\n                    value={res.Value}\n                  >{`${res.Value} - ${res.Name}`}</MenuItem>\n                ))}\n              </Select>\n            </FormControl>\n            <FormControlLabel\n              control={\n                <Checkbox\n                  checked={descuentoCompra.descuento_aplicado}\n                  onChange={(e) => aplicarDescuento(e.target.checked)}\n                  name=\"descuento_aplicado\"\n                />\n              }\n              label=\"Aplicar descuento\"\n            />\n            <Grid container spacing={2}>\n              <Grid item md={6}>\n                <TextField\n                  variant=\"outlined\"\n                  size=\"small\"\n                  fullWidth\n                  onChange={(e) => obtenerPrecio(e.target.value)}\n                  disabled={!descuentoCompra.descuento_aplicado}\n                  value={descuentoCompra.cantidad_descontada}\n                  InputProps={{\n                    startAdornment: (\n                      <InputAdornment position=\"start\">$</InputAdornment>\n                    ),\n                  }}\n                />\n              </Grid>\n              <Grid item md={6}>\n                <TextField\n                  variant=\"outlined\"\n                  type=\"number\"\n                  size=\"small\"\n                  fullWidth\n                  onChange={(e) => obtenerPorcentaje(e.target.value)}\n                  disabled={!descuentoCompra.descuento_aplicado}\n                  value={descuentoCompra.porcentaje}\n                  InputProps={{\n                    startAdornment: (\n                      <InputAdornment position=\"start\">%</InputAdornment>\n                    ),\n                  }}\n                />\n              </Grid>\n            </Grid>\n          </Box>\n          <Box>\n            <Typography>Fecha de vencimiento del crdito</Typography>\n            <TextField\n              fullWidth\n              size=\"small\"\n              variant=\"outlined\"\n              type=\"date\"\n              onChange={(e) => {\n                setDatosCompra({\n                  ...datosCompra,\n                  fecha_vencimiento_credito: e.target.value,\n                });\n              }}\n              value={datosCompra.fecha_vencimiento_credito}\n            />\n          </Box>\n        </DialogContent>\n        <DialogActions>\n          <Button\n            onClick={handleClose}\n            color=\"inherit\"\n            disabled={loading_modal}\n          >\n            Cancelar\n          </Button>\n          <Button\n            onClick={() =>\n              realizarCompraBD(false, \"credito\", handleClose, setLoadingModal)\n            }\n            color=\"primary\"\n            startIcon={\n              loading_modal ? (\n                <CircularProgress color=\"inherit\" size={20} />\n              ) : (\n                <Done />\n              )\n            }\n            disabled={loading_modal}\n          >\n            Realizar Compra\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n}\n","import React, { useContext, useEffect, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Slide from \"@material-ui/core/Slide\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Typography from \"@material-ui/core/Typography\";\nimport CloseIcon from \"@material-ui/icons/Close\";\n\nimport DatosProducto from \"./productos/DatosProducto\";\nimport { FcPlus } from \"react-icons/fc\";\nimport { Box } from \"@material-ui/core\";\nimport ListaCompras from \"./TablaCompras\";\nimport {\n  ComprasContext,\n  ComprasProvider,\n} from \"../../../../context/Compras/comprasContext\";\nimport \"date-fns\";\nimport { Done, Timer } from \"@material-ui/icons\";\nimport {\n  initial_state_datosCompra,\n  initial_state_datosProducto,\n  initial_state_precios_venta,\n  initial_state_productoOriginal,\n  initial_state_productosCompra,\n} from \"./initial_states\";\nimport { useMutation } from \"@apollo/client\";\nimport {\n  CREAR_COMPRA,\n  CREAR_COMPRA_ESPERA,\n} from \"../../../../gql/Compras/compras\";\nimport Close from \"@material-ui/icons/Close\";\nimport SnackBarMessages from \"../../../../components/SnackBarMessages\";\nimport BackdropComponent from \"../../../../components/Layouts/BackDrop\";\nimport ConfirmarCompra from \"./ConfirmarCompra\";\nimport CompraCredito from \"./CompraCredito\";\nimport moment from \"moment\";\n\nconst useStyles = makeStyles((theme) => ({\n  appBar: {\n    position: \"relative\",\n  },\n  title: {\n    marginLeft: theme.spacing(2),\n    flex: 1,\n  },\n  icon: {\n    fontSize: 100,\n  },\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function AbrirCompra({\n  compra,\n  status,\n  handleOpenDetalles,\n  refetchEspera,\n}) {\n  const classes = useStyles();\n  const [open, setOpen] = React.useState(false);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n    if (status === \"enEspera\") {\n      handleOpenDetalles();\n      refetchEspera();\n    }\n  };\n\n  return (\n    <div>\n      {status === \"enEspera\" ? (\n        <Button\n          fullWidth\n          onClick={handleClickOpen}\n          color=\"primary\"\n          variant=\"contained\"\n          size=\"large\"\n          startIcon={<Done />}\n        >\n          continuar compra\n        </Button>\n      ) : (\n        <Button fullWidth onClick={handleClickOpen}>\n          <Box display=\"flex\" flexDirection=\"column\">\n            <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n              <FcPlus className={classes.icon} />\n            </Box>\n            Abrir una compra\n          </Box>\n        </Button>\n      )}\n      <ComprasProvider>\n        <ModalCompra\n          open={open}\n          handleClose={handleClose}\n          status={status}\n          compra={compra}\n        />\n      </ComprasProvider>\n    </div>\n  );\n}\n\nconst ModalCompra = ({ open, handleClose, compra, status }) => {\n  const classes = useStyles();\n  const {\n    productosCompra,\n    datosCompra,\n    setDatosProducto,\n    setProductosCompra,\n    setDatosCompra,\n    setProductoOriginal,\n    setPreciosVenta,\n    issue,\n    descuentoCompra,\n    setDescuentoCompra,\n  } = useContext(ComprasContext);\n  const [openDelete, setOpenDelete] = useState(false);\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n  const [alert, setAlert] = useState({ message: \"\", status: \"\", open: false });\n  const [loading, setLoading] = useState(false);\n\n  const [crearCompra] = useMutation(CREAR_COMPRA);\n  const [crearCompraEnEspera] = useMutation(CREAR_COMPRA_ESPERA);\n\n  const limpiarCampos = () => {\n    setDatosProducto(initial_state_datosProducto);\n    setProductosCompra(initial_state_productosCompra);\n    setDatosCompra(initial_state_datosCompra);\n    setProductoOriginal(initial_state_productoOriginal);\n    setPreciosVenta(initial_state_precios_venta);\n    setDescuentoCompra({\n      subtotal: 0,\n      total: 0,\n      descuento_aplicado: false,\n      porcentaje: 0,\n      cantidad_descontada: 0,\n      precio_con_descuento: 0,\n    });\n  };\n\n  useEffect(() => {\n    if (status === \"enEspera\" && compra && open === true) {\n      setDatosCompra(compra);\n      setProductosCompra(compra.productos);\n    }\n  }, [open]);\n\n  const realizarCompraBD = async (\n    compra_en_espera,\n    credito,\n    handleClose,\n    setLoadingModal\n  ) => {\n    let datos = { ...datosCompra };\n    let productos = productosCompra;\n    if (status === \"enEspera\") {\n      productos = productosCompra.map((res) => {\n        delete res.conflicto;\n        return res;\n      });\n      delete datos.empresa;\n      delete datos.sucursal;\n      delete datos.usuario;\n    }\n\n    setLoading(true);\n    if (credito) setLoadingModal(true);\n    try {\n      datos.productos = productos;\n\n      if (compra_en_espera) {\n        datos.en_espera = true;\n        const result = await crearCompraEnEspera({\n          variables: {\n            input: datos,\n            empresa: sesion.empresa._id,\n            sucursal: sesion.sucursal._id,\n            usuario: sesion._id,\n          },\n        });\n        setAlert({\n          message: `Listo! ${result.data.crearCompraEnEspera.message}`,\n          status: \"success\",\n          open: true,\n        });\n      } else {\n        if (credito) {\n          datos.compra_credito = true;\n          datos.saldo_credito_pendiente = datos.total;\n        }\n        if (descuentoCompra.descuento_aplicado) {\n          const {\n            descuento_aplicado,\n            subtotal,\n            total,\n            ...descuento\n          } = descuentoCompra;\n          datos.descuento_aplicado = descuentoCompra.descuento_aplicado;\n          datos.subtotal = descuentoCompra.subtotal;\n          datos.total = descuentoCompra.total;\n          datos.descuento = descuento;\n        }\n        /* console.log(datos); */\n        const result = await crearCompra({\n          variables: {\n            input: datos,\n            empresa: sesion.empresa._id,\n            sucursal: sesion.sucursal._id,\n            usuario: sesion._id,\n          },\n        });\n        setAlert({\n          message: `Listo! ${result.data.crearCompra.message}`,\n          status: \"success\",\n          open: true,\n        });\n      }\n      setLoading(false);\n      limpiarCampos();\n      if (handleClose) {\n        handleClose();\n        setLoadingModal(false);\n      }\n    } catch (error) {\n      setLoading(false);\n      setAlert({\n        message: `Error de servidor`,\n        status: \"error\",\n        open: true,\n      });\n      if (handleClose) {\n        handleClose();\n        setLoadingModal(false);\n      }\n      console.log(error);\n      if (error.networkError) {\n        console.log(error.networkError.result);\n      } else if (error.graphQLErrors) {\n        console.log(error.graphQLErrors);\n      }\n    }\n  };\n\n  const handleToggleDelete = () => {\n    if (productosCompra.length > 0) {\n      setOpenDelete(!openDelete);\n    } else {\n      limpiarCampos();\n      handleClose();\n    }\n  };\n\n  return (\n    <Dialog\n      fullScreen\n      open={open}\n      onClose={handleClose}\n      TransitionComponent={Transition}\n    >\n      <DialogTitle style={{ padding: 0 }}>\n        <AppBar className={classes.appBar}>\n          <Toolbar>\n            <Typography variant=\"h6\" className={classes.title}>\n              Nueva compra\n            </Typography>\n            <Box m={1}>\n              <Button\n                variant=\"contained\"\n                color=\"secondary\"\n                onClick={handleToggleDelete}\n                size=\"large\"\n              >\n                <CloseIcon style={{ fontSize: 30 }} />\n              </Button>\n              <CancelarCompra\n                handleClose={handleClose}\n                handleToggleDelete={handleToggleDelete}\n                openDelete={openDelete}\n              />\n            </Box>\n          </Toolbar>\n        </AppBar>\n      </DialogTitle>\n      <DialogContent>\n        <SnackBarMessages alert={alert} setAlert={setAlert} />\n        <BackdropComponent loading={loading} setLoading={setLoading} />\n        <DatosProducto status={status} />\n        <Box my={2} />\n        <ListaCompras />\n      </DialogContent>\n\n      <DialogActions style={{ justifyContent: \"center\" }}>\n        <Button\n          color=\"inherit\"\n          size=\"large\"\n          onClick={() => handleToggleDelete()}\n          startIcon={<Close />}\n        >\n          Cancelar\n        </Button>\n        {status === \"enEspera\" ? null : (\n          <Button\n            autoFocus\n            color=\"primary\"\n            variant=\"text\"\n            size=\"large\"\n            onClick={() => realizarCompraBD(true)} //realiza la compra en espera en la funcion\n            disabled={!productosCompra.length}\n            startIcon={<Timer />}\n          >\n            Compra en espera\n          </Button>\n        )}\n        <CompraCredito realizarCompraBD={realizarCompraBD} />\n        <ConfirmarCompra realizarCompraBD={realizarCompraBD} />\n      </DialogActions>\n    </Dialog>\n  );\n};\n\nconst CancelarCompra = ({ handleClose, handleToggleDelete, openDelete }) => {\n  const {\n    setProductosCompra,\n    setDatosCompra,\n    setPreciosVenta,\n    setProductoOriginal,\n    setDatosProducto,\n  } = useContext(ComprasContext);\n\n  const cancelarCompra = () => {\n    /* reset states */\n    setDatosProducto(initial_state_datosProducto);\n    setDatosCompra(initial_state_datosCompra);\n    setPreciosVenta(initial_state_precios_venta);\n    setProductoOriginal(initial_state_productoOriginal);\n    setProductosCompra(initial_state_productosCompra);\n    /* cerrar modales */\n    handleToggleDelete();\n    handleClose();\n  };\n\n  return (\n    <div>\n      <Dialog\n        open={openDelete}\n        TransitionComponent={Transition}\n        keepMounted\n        onClose={handleToggleDelete}\n        aria-labelledby=\"modal-eliminar-compra\"\n      >\n        <DialogTitle id=\"modal-eliminar-compra\">\n          Quieres cancelar esta compra?\n        </DialogTitle>\n\n        <DialogActions>\n          <Button onClick={handleToggleDelete} color=\"primary\">\n            Cancelar\n          </Button>\n          <Button onClick={cancelarCompra} color=\"secondary\">\n            Aceptar\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n};\n","import React, { Fragment } from \"react\";\nimport { CloudDownloadOutlined } from \"@material-ui/icons\";\nimport { Grid, Button, Box } from \"@material-ui/core\";\nimport ReactExport from \"react-export-excel\";\nimport {\n  formatoFecha,\n  formatoMexico,\n} from \"../../../../config/reuserFunctions\";\n\nconst ExcelFile = ReactExport.ExcelFile;\nconst ExcelSheet = ReactExport.ExcelFile.ExcelSheet;\nconst ExcelColumn = ReactExport.ExcelFile.ExcelColumn;\n\nexport default function ExportarProductosComprasExcel({ compra }) {\n  const {\n    almacen,\n    proveedor,\n    fecha_registro,\n    subtotal,\n    impuestos,\n    total,\n    productos,\n  } = compra;\n\n  const compra_realizada = [\n    {\n      almacen: almacen.nombre_almacen,\n      proveedor: proveedor.nombre_cliente,\n      fecha_registro: formatoFecha(fecha_registro),\n      subtotal: formatoMexico(subtotal),\n      impuestos: formatoMexico(impuestos),\n      total: formatoMexico(total),\n    },\n  ];\n\n  const productos_detalles = productos.map((productos) => {\n    const {\n      producto,\n      medida,\n      color,\n      unidad,\n      cantidad,\n      Cantidad_regalo,\n      cantidad_total,\n      descuento_precio,\n      descuento_porcentaje,\n      subtotal,\n      impuestos,\n      total,\n    } = productos;\n    const detalle_producto = {\n      producto: producto.datos_generales.nombre_comercial,\n      medida: medida ? medida.medida : \"N/A\",\n      color: color ? color.color : \"N/A\",\n      unidad,\n      cantidad,\n      Cantidad_regalo,\n      cantidad_total,\n      descuento_precio,\n      descuento_porcentaje,\n      subtotal: formatoMexico(subtotal),\n      impuestos: formatoMexico(impuestos),\n      total: formatoMexico(total),\n    };\n\n    return detalle_producto;\n  });\n\n  return (\n    <Fragment>\n      <Grid>\n        <Grid item>\n          <ExcelFile\n            element={\n              <Box display=\"flex\" justifyContent=\"flex-end\">\n                <Button\n                  variant=\"contained\"\n                  color=\"primary\"\n                  startIcon={<CloudDownloadOutlined />}\n                >\n                  Exportar a Excel\n                </Button>\n              </Box>\n            }\n            filename={\"Detalle de compra\"}\n          >\n            <ExcelSheet data={compra_realizada} name=\"Detalle compra\">\n              <ExcelColumn label=\"Almacen\" value=\"almacen\" />\n              <ExcelColumn label=\"Proveedor\" value=\"proveedor\" />\n              <ExcelColumn label=\"Fecha de compra\" value=\"fecha_registro\" />\n              <ExcelColumn label=\"Subtotal\" value=\"subtotal\" />\n              <ExcelColumn label=\"Impuestos\" value=\"impuestos\" />\n              <ExcelColumn label=\"Total\" value=\"total\" />\n            </ExcelSheet>\n            <ExcelSheet data={productos_detalles} name=\"Productos de la compra\">\n              <ExcelColumn label=\"Producto\" value=\"producto\" />\n              <ExcelColumn label=\"Medida\" value=\"medida\" />\n              <ExcelColumn label=\"Color\" value=\"color\" />\n              <ExcelColumn label=\"Unidad\" value=\"unidad\" />\n              <ExcelColumn label=\"Cantidad\" value=\"cantidad\" />\n              <ExcelColumn label=\"Cantidad de regalo\" value=\"cantidad_regalo\" />\n              <ExcelColumn label=\"Cantidad total\" value=\"cantidad_total\" />\n              <ExcelColumn\n                label=\"Precio de descuento\"\n                value=\"descuento_precio\"\n              />\n              <ExcelColumn\n                label=\"Porcentaje de descuento\"\n                value=\"descuento_porcentaje\"\n              />\n              <ExcelColumn label=\"Subtotal\" value=\"subtotal\" />\n              <ExcelColumn label=\"Impuestos\" value=\"impuestos\" />\n              <ExcelColumn label=\"Total\" value=\"total\" />\n            </ExcelSheet>\n          </ExcelFile>\n        </Grid>\n      </Grid>\n    </Fragment>\n  );\n}\n","import React, { Fragment, useEffect, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\n\nimport Box from \"@material-ui/core/Box\";\nimport Chip from \"@material-ui/core/Chip\";\nimport Grid from \"@material-ui/core/Grid\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { useTheme } from \"@material-ui/core\";\nimport SearchOutlinedIcon from \"@material-ui/icons/SearchOutlined\";\nimport { formatoMexico } from \"../../../../config/reuserFunctions\";\nimport ExportarProductosComprasExcel from \"./ExportarProductosCompra\";\n\nconst useStyles = makeStyles({\n  root: {\n    width: \"100%\",\n  },\n  container: {\n    height: \"50vh\",\n  },\n});\n\nexport default function DatosDeCompra({ compra }) {\n  const classes = useStyles();\n  const theme = useTheme();\n  const { productos } = compra;\n  const [busqueda, setBusqueda] = useState(\"\");\n  const [productosFiltrados, setProductosFiltrados] = useState([]);\n\n  const obtenerBusqueda = (value) => setBusqueda(value);\n\n  useEffect(() => {\n    setProductosFiltrados(\n      productos.filter((datos) => {\n        return datos.producto.datos_generales.nombre_comercial\n          .toLowerCase()\n          .includes(busqueda.toLowerCase());\n      })\n    );\n  }, [busqueda, productos]);\n\n  return (\n    <Fragment>\n      <Box mb={1} display=\"flex\">\n        <Typography style={{ marginRight: 16 }}>\n          <b>Proveedor: </b>\n          {compra.proveedor.nombre_cliente}\n        </Typography>\n        <Typography style={{ marginRight: 16 }}>\n          <b>Almacen: </b>\n          {compra.almacen.nombre_almacen}\n        </Typography>\n        <Typography style={{ marginRight: 16 }}>\n          <b>Subtotal: ${compra.subtotal}</b>\n        </Typography>\n        <Typography style={{ marginRight: 16 }}>\n          <b>Impuestos: ${compra.impuestos}</b>\n        </Typography>\n        <Typography style={{ marginRight: 16 }}>\n          <b>Total: ${compra.total}</b>\n        </Typography>\n        {compra.compra_credito === true ? (\n          <Chip\n          label={\n            compra.credito_pagado === true ? 'Credito pagado' : `Saldo pendiente: $${formatoMexico(compra.saldo_credito_pendiente)}`\n          }\n          color={compra.credito_pagado === true ? \"primary\" : \"secondary\"}\n          variant=\"outlined\"\n        />\n        ) : null}\n      </Box>\n      <Box mb={2} display=\"flex\">\n        <Grid container>\n          <Grid item sm={6} xs={12}>\n            <TextField\n              fullWidth\n              size=\"small\"\n              variant=\"outlined\"\n              placeholder=\"Buscar una compra...\"\n              onChange={(e) => obtenerBusqueda(e.target.value)}\n              InputProps={{\n                startAdornment: (\n                  <InputAdornment position=\"start\">\n                    <SearchOutlinedIcon color=\"action\" />\n                  </InputAdornment>\n                ),\n              }}\n            />\n          </Grid>\n          <Grid item sm={6} xs={12}>\n            <ExportarProductosComprasExcel compra={compra} />\n          </Grid>\n        </Grid>\n      </Box>\n      <Paper className={classes.root}>\n        <TableContainer className={classes.container}>\n          <Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n            <TableHead>\n              <TableRow>\n                <TableCell>Producto</TableCell>\n                <TableCell>Medida</TableCell>\n                <TableCell>Color</TableCell>\n                <TableCell>Unidad</TableCell>\n                <TableCell>Cantidad</TableCell>\n                <TableCell>C. regalo</TableCell>\n                <TableCell>C. total</TableCell>\n                <TableCell>Descuento</TableCell>\n                <TableCell>Subtotal</TableCell>\n                <TableCell>Impuestos</TableCell>\n                <TableCell>Total</TableCell>\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {productosFiltrados.map((datos, index) => {\n                return (\n                  <TableRow hover tabIndex={-1} key={index}>\n                    <TableCell>\n                      {datos.producto.datos_generales.nombre_comercial}\n                    </TableCell>\n                    <TableCell padding=\"checkbox\">\n                      {datos.medida && datos.medida.medida ? datos.medida.medida : \"N/A\"}\n                    </TableCell>\n                    <TableCell padding=\"checkbox\">\n                      {datos.color && datos.color.hex ? (\n                        <Chip\n                          label={datos.color.color}\n                          size=\"small\"\n                          style={{\n                            backgroundColor: datos.color.hex,\n                            color: theme.palette.getContrastText(\n                              datos.color.hex\n                            ),\n                          }}\n                        />\n                      ) : (\n                        \"N/A\"\n                      )}\n                    </TableCell>\n                    <TableCell>{datos.unidad}</TableCell>\n                    <TableCell>{datos.cantidad}</TableCell>\n                    <TableCell>{datos.cantidad_regalo}</TableCell>\n                    <TableCell>{datos.cantidad_total}</TableCell>\n                    <TableCell>{`$${datos.descuento_precio} - %${datos.descuento_porcentaje}`}</TableCell>\n                    <TableCell>\n                      <b>${formatoMexico(datos.subtotal)}</b>\n                    </TableCell>\n                    <TableCell>\n                      <b>${formatoMexico(datos.impuestos)}</b>\n                    </TableCell>\n                    <TableCell>\n                      <b>${formatoMexico(datos.total)}</b>\n                    </TableCell>\n                  </TableRow>\n                );\n              })}\n            </TableBody>\n          </Table>\n        </TableContainer>\n      </Paper>\n    </Fragment>\n  );\n}\n","import React, { Fragment, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport {\n  Dialog,\n  Typography,\n  Box,\n  Button,\n  IconButton,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n  Slide,\n  Chip,\n} from \"@material-ui/core\";\nimport DatosDeCompra from \"./DatosDeCompra\";\nimport {\n  formatoFecha,\n  formatoMexico,\n} from \"../../../../config/reuserFunctions\";\nimport { AssignmentOutlined, Done } from \"@material-ui/icons\";\n\nconst useStyles = makeStyles({\n  root: {\n    width: \"100%\",\n  },\n  container: {\n    height: \"72vh\",\n  },\n});\n\nexport default function ListaProductos({ obtenerComprasRealizadas }) {\n  const classes = useStyles();\n\n  return (\n    <Paper className={classes.root} variant=\"outlined\">\n      <TableContainer className={classes.container}>\n        <Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n          <TableHead>\n            <TableRow>\n              <TableCell>Almacen</TableCell>\n              <TableCell>Proveedor</TableCell>\n              <TableCell>Fecha de compra</TableCell>\n              <TableCell>Compra a credito</TableCell>\n              <TableCell>Subtotal</TableCell>\n              <TableCell>Impuestos</TableCell>\n              <TableCell>Total</TableCell>\n              <TableCell>Productos</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {obtenerComprasRealizadas.map((compra, index) => (\n              <RenderRowsCompras key={index} compra={compra} />\n            ))}\n          </TableBody>\n        </Table>\n      </TableContainer>\n    </Paper>\n  );\n}\n\nconst RenderRowsCompras = ({ compra }) => {\n  const {\n    almacen,\n    proveedor,\n    fecha_registro,\n    compra_credito,\n    credito_pagado,\n    subtotal,\n    impuestos,\n    total,\n  } = compra;\n\n  return (\n    <TableRow hover tabIndex={-1}>\n      <TableCell>{almacen.nombre_almacen}</TableCell>\n      <TableCell>{proveedor.nombre_cliente}</TableCell>\n      <TableCell>{formatoFecha(fecha_registro)}</TableCell>\n      <TableCell>\n        {compra_credito === true ? (\n          <Chip\n          label={\n            credito_pagado === true ? 'Credito: Pagado' : \"Credito: Pendiente\"\n          }\n          color={credito_pagado === true ? \"primary\" : \"secondary\"}\n          variant=\"outlined\"\n        />\n        ) : null}\n      </TableCell>\n      <TableCell>\n        <b>${formatoMexico(subtotal)}</b>\n      </TableCell>\n      <TableCell>\n        <b>${formatoMexico(impuestos)}</b>\n      </TableCell>\n      <TableCell>\n        <b>${formatoMexico(total)}</b>\n      </TableCell>\n      <TableCell>\n        <DetallesCompra compra={compra} />\n      </TableCell>\n    </TableRow>\n  );\n};\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nconst DetallesCompra = ({ compra }) => {\n  const [open, setOpen] = useState(false);\n\n  const handleOpen = () => {\n    setOpen(!open);\n  };\n  return (\n    <Fragment>\n      <IconButton onClick={() => handleOpen()}>\n        <AssignmentOutlined />\n      </IconButton>\n      <Dialog\n        open={open}\n        onClose={handleOpen}\n        fullWidth\n        maxWidth=\"lg\"\n        TransitionComponent={Transition}\n      >\n        <DialogTitle>\n          <Box display=\"flex\">\n            <Typography variant=\"h6\" style={{ flexGrow: 1 }}>\n              Datos de compra\n            </Typography>\n            <Button\n              variant=\"text\"\n              color=\"primary\"\n              onClick={handleOpen}\n              size=\"large\"\n            >\n              <CloseIcon style={{ fontSize: 30 }} />\n            </Button>\n          </Box>\n        </DialogTitle>\n        <DialogContent>\n          <DatosDeCompra compra={compra} />\n        </DialogContent>\n        <DialogActions>\n          <Button\n            variant=\"text\"\n            color=\"primary\"\n            size=\"large\"\n            startIcon={<Done />}\n            onClick={() => handleOpen()}\n          >\n            Acpetar\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </Fragment>\n  );\n};\n","import React, { Fragment } from \"react\";\nimport { CloudDownloadOutlined } from \"@material-ui/icons\";\nimport { Grid, Button, Box } from \"@material-ui/core\";\nimport ReactExport from \"react-export-excel\";\nimport {\n  formatoFecha,\n  formatoMexico,\n} from \"../../../../config/reuserFunctions\";\n\nconst ExcelFile = ReactExport.ExcelFile;\nconst ExcelSheet = ReactExport.ExcelFile.ExcelSheet;\nconst ExcelColumn = ReactExport.ExcelFile.ExcelColumn;\n\nexport default function ExportarComprasExcel({\n  obtenerComprasRealizadas,\n  filtro,\n  filtroFecha,\n}) {\n  const compras = obtenerComprasRealizadas.map((compra) => {\n    const {\n      almacen,\n      proveedor,\n      fecha_registro,\n      subtotal,\n      impuestos,\n      total,\n    } = compra;\n    const compra_realizada = {\n      almacen: almacen.nombre_almacen,\n      proveedor: proveedor.nombre_cliente,\n      fecha_registro: formatoFecha(fecha_registro),\n      subtotal: formatoMexico(subtotal),\n      impuestos: formatoMexico(impuestos),\n      total: formatoMexico(total),\n    };\n\n    return compra_realizada;\n  });\n\n  let nombre_documento = \"\";\n  if (filtro && filtroFecha.fecha) {\n    nombre_documento = `Lista de compras realizadas desde hace ${filtroFecha.since} y filtradas por ${filtro}`;\n  } else if (filtro && !filtroFecha.fecha) {\n    nombre_documento = `Lista de compras realizadas filtradas por ${filtro}`;\n  } else if (!filtro && filtroFecha.fecha) {\n    nombre_documento = `Lista de compras realizadas desde hace ${filtroFecha.since}`;\n  } else if (!filtro && !filtroFecha.fecha) {\n    nombre_documento = `Lista de compras realizadas`;\n  }\n\n  return (\n    <Fragment>\n      <Grid>\n        <Grid item>\n          <ExcelFile\n            element={\n              <Box display=\"flex\" justifyContent=\"flex-end\">\n                <Button\n                  variant=\"contained\"\n                  color=\"primary\"\n                  startIcon={<CloudDownloadOutlined />}\n                >\n                  Exportar a Excel\n                </Button>\n              </Box>\n            }\n            filename={nombre_documento}\n          >\n            <ExcelSheet data={compras} name={nombre_documento}>\n              <ExcelColumn label=\"Almacen\" value=\"almacen\" />\n              <ExcelColumn label=\"Proveedor\" value=\"proveedor\" />\n              <ExcelColumn label=\"Fecha de compra\" value=\"fecha_registro\" />\n              <ExcelColumn label=\"Subtotal\" value=\"subtotal\" />\n              <ExcelColumn label=\"Impuestos\" value=\"impuestos\" />\n              <ExcelColumn label=\"Total\" value=\"total\" />\n            </ExcelSheet>\n          </ExcelFile>\n        </Grid>\n      </Grid>\n    </Fragment>\n  );\n}\n","import React, { Fragment, useRef, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Box from \"@material-ui/core/Box\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport Container from \"@material-ui/core/Container\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Typography from \"@material-ui/core/Typography\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport Slide from \"@material-ui/core/Slide\";\nimport Chip from \"@material-ui/core/Chip\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Select from \"@material-ui/core/Select\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Grid from \"@material-ui/core/Grid\";\nimport { FcInspection } from \"react-icons/fc\";\nimport ListaCompras from \"./ListaCompras\";\nimport { useQuery } from \"@apollo/client\";\nimport { OBTENER_COMPRAS_REALIZADAS } from \"../../../../gql/Compras/compras\";\nimport ErrorPage from \"../../../../components/ErrorPage\";\nimport { SearchOutlined } from \"@material-ui/icons\";\nimport moment from \"moment\";\nimport ExportarComprasExcel from \"./ExportarComprasExcel\";\n\nconst useStyles = makeStyles((theme) => ({\n  appBar: {\n    position: \"relative\",\n  },\n  title: {\n    marginLeft: theme.spacing(2),\n    flex: 1,\n  },\n  icon: {\n    fontSize: 100,\n  },\n  formInputFlex: {\n    display: \"flex\",\n    \"& > *\": {\n      margin: `${theme.spacing(1)}px ${theme.spacing(1)}px`,\n    },\n  },\n  formInput: {\n    margin: `${theme.spacing(1)}px ${theme.spacing(2)}px`,\n  },\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function ComprasRealizadas() {\n  const classes = useStyles();\n  const [open, setOpen] = React.useState(false);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  return (\n    <div>\n      <Button fullWidth onClick={handleClickOpen}>\n        <Box display=\"flex\" flexDirection=\"column\">\n          <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n            <FcInspection className={classes.icon} />\n          </Box>\n          Compras realizadas\n        </Box>\n      </Button>\n      <Dialog\n        fullScreen\n        open={open}\n        onClose={handleClose}\n        TransitionComponent={Transition}\n      >\n        <AppBar className={classes.appBar}>\n          <Toolbar>\n            <Typography variant=\"h6\" className={classes.title}>\n              Compras realizadas\n            </Typography>\n            <Box m={1}>\n              <Button\n                variant=\"contained\"\n                color=\"secondary\"\n                onClick={handleClose}\n                size=\"large\"\n              >\n                <CloseIcon style={{ fontSize: 30 }} />\n              </Button>\n            </Box>\n          </Toolbar>\n        </AppBar>\n        <Container maxWidth=\"xl\">\n          <ContentDialogCompras />\n        </Container>\n      </Dialog>\n    </div>\n  );\n}\n\nconst ContentDialogCompras = () => {\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n  const [filtro, setFiltro] = useState(\"\");\n  const [filtroFecha, setFiltroFecha] = useState({ fecha: \"\", since: \"todos\" });\n  const searchfilter = useRef(null);\n  const filterDate = useRef(null);\n\n  /* Queries */\n  const { loading, data, error, refetch } = useQuery(\n    OBTENER_COMPRAS_REALIZADAS,\n    {\n      variables: {\n        empresa: sesion.empresa._id,\n        sucursal: sesion.sucursal._id,\n        fecha: filtroFecha.fecha,\n      },\n      fetchPolicy: \"network-only\",\n    }\n  );\n\n  if (loading)\n    return (\n      <Box\n        display=\"flex\"\n        flexDirection=\"column\"\n        justifyContent=\"center\"\n        alignItems=\"center\"\n        height=\"40vh\"\n      >\n        <CircularProgress />\n        <Typography variant=\"h5\">Cargando</Typography>\n      </Box>\n    );\n  if (error) {\n    return <ErrorPage error={error} altura={300} />;\n  }\n\n  let obtenerComprasRealizadas = [];\n  if (data) obtenerComprasRealizadas = data.obtenerComprasRealizadas;\n\n  const obtenerBusqueda = (e, value) => {\n    e.preventDefault();\n    refetch({ filtro: value, fecha: filtroFecha.fecha });\n    setFiltro(value);\n  };\n\n  const handleDeleteFiltro = () => {\n    refetch({ filtro: \"\", fecha: filtroFecha.fecha });\n    setFiltro(\"\");\n    searchfilter.current.value = \"\";\n  };\n  const handleDeleteFecha = () => {\n    refetch({ filtro, fecha: \"\" });\n    setFiltroFecha({ since: \"todos\", fecha: \"\" });\n    filterDate.current.value = \"todos\";\n  };\n\n  const obtenerFecha = (value) => {\n    switch (value) {\n      case \"7 dias\":\n        setFiltroFecha({\n          since: value,\n          fecha: moment().subtract(7, \"d\").format(),\n        });\n        refetch({ filtro, fecha: moment().subtract(7, \"d\").format() });\n        break;\n      case \"2 semanas\":\n        setFiltroFecha({\n          since: value,\n          fecha: moment().subtract(2, \"w\").format(),\n        });\n        refetch({ filtro, fecha: moment().subtract(2, \"w\").format() });\n        break;\n      case \"1 mes\":\n        setFiltroFecha({\n          since: value,\n          fecha: moment().subtract(1, \"M\").format(),\n        });\n        refetch({ filtro, fecha: moment().subtract(1, \"M\").format() });\n        break;\n      case \"3 meses\":\n        setFiltroFecha({\n          since: value,\n          fecha: moment().subtract(3, \"M\").format(),\n        });\n        refetch({ filtro, fecha: moment().subtract(3, \"M\").format() });\n        break;\n      case \"6 meses\":\n        setFiltroFecha({\n          since: value,\n          fecha: moment().subtract(6, \"M\").format(),\n        });\n        refetch({ filtro, fecha: moment().subtract(6, \"M\").format() });\n        break;\n      case \"8 meses\":\n        setFiltroFecha({\n          since: value,\n          fecha: moment().subtract(8, \"M\").format(),\n        });\n        refetch({ filtro, fecha: moment().subtract(8, \"M\").format() });\n        break;\n      case \"1 ao\":\n        setFiltroFecha({\n          since: value,\n          fecha: moment().subtract(1, \"y\").format(),\n        });\n        refetch({ filtro, fecha: moment().subtract(1, \"y\").format() });\n        break;\n      default:\n        setFiltroFecha({ since: \"todos\", fecha: \"\" });\n        refetch({ filtro, fecha: \"\" });\n        break;\n    }\n  };\n\n  return (\n    <Fragment>\n      <Box my={3}>\n        <Grid container spacing={2}>\n          <Grid item md={4} xs={12}>\n            <form onSubmit={(e) => obtenerBusqueda(e, e.target[0].value)}>\n              <TextField\n                inputRef={searchfilter}\n                fullWidth\n                size=\"small\"\n                variant=\"outlined\"\n                placeholder=\"Buscar una compra...\"\n                InputProps={{\n                  endAdornment: (\n                    <InputAdornment position=\"end\">\n                      <IconButton type=\"submit\" color=\"primary\" size=\"medium\">\n                        <SearchOutlined />\n                      </IconButton>\n                    </InputAdornment>\n                  ),\n                }}\n              />\n            </form>\n          </Grid>\n          <Grid item md={4} xs={12}>\n            <FormControl variant=\"outlined\" fullWidth size=\"small\">\n              <InputLabel id=\"label-select-fecha-filter\">\n                Filtrar desde...\n              </InputLabel>\n              <Select\n                inputRef={filterDate}\n                labelId=\"label-select-fecha-filter\"\n                value={filtroFecha.since}\n                onChange={(e) => obtenerFecha(e.target.value)}\n                label=\"Filtrar desde...\"\n              >\n                <MenuItem value=\"todos\">\n                  <em>Todos los registros</em>\n                </MenuItem>\n                <MenuItem value=\"7 dias\">hace 7 das</MenuItem>\n                <MenuItem value=\"2 semanas\">hace 2 semanas</MenuItem>\n                <MenuItem value=\"1 mes\">hace 1 mes</MenuItem>\n                <MenuItem value=\"3 meses\">hace 3 meses</MenuItem>\n                <MenuItem value=\"6 meses\">hace 6 meses</MenuItem>\n                <MenuItem value=\"8 meses\">hace 8 meses</MenuItem>\n                <MenuItem value=\"1 ao\">hace 1 ao</MenuItem>\n              </Select>\n            </FormControl>\n          </Grid>\n          <Grid item md={4} xs={12}>\n            <ExportarComprasExcel\n              obtenerComprasRealizadas={obtenerComprasRealizadas}\n              filtro={filtro}\n              filtroFecha={filtroFecha}\n            />\n          </Grid>\n        </Grid>\n      </Box>\n      {filtro || filtroFecha.fecha ? (\n        <Box display=\"flex\" mb={1}>\n          <Typography variant=\"h6\">Resultados de:</Typography>\n          <Box mr={1} />\n          {filtro ? (\n            <Chip\n              variant=\"outlined\"\n              size=\"medium\"\n              label={filtro}\n              onDelete={handleDeleteFiltro}\n            />\n          ) : null}\n          <Box mx={1} />\n          {filtroFecha.fecha ? (\n            <Chip\n              variant=\"outlined\"\n              size=\"medium\"\n              label={`Desde hace ${filtroFecha.since}`}\n              onDelete={handleDeleteFecha}\n            />\n          ) : null}\n        </Box>\n      ) : null}\n\n      <ListaCompras obtenerComprasRealizadas={obtenerComprasRealizadas} />\n    </Fragment>\n  );\n};\n","import React, { Fragment, useCallback, useEffect, useState } from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport Slide from \"@material-ui/core/Slide\";\nimport { CheckCircle, Done, VerifiedUser } from \"@material-ui/icons\";\nimport { Box, CircularProgress } from \"@material-ui/core\";\n\nimport { useLazyQuery } from \"@apollo/client\";\nimport { OBTENER_PRODUCTOS } from \"../../../../gql/Catalogos/productos\";\nimport ErrorPage from \"../../../../components/ErrorPage\";\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function VerificarProductosCompras({\n  compra,\n  nuevoArray,\n  setNuevoArray,\n  setVerificado,\n}) {\n  const [open, setOpen] = useState(false);\n  const [success, setSuccess] = useState(false);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    if (success) {\n      setVerificado(true);\n    }\n    setOpen(false);\n  };\n\n  return (\n    <div>\n      <Button\n        variant=\"contained\"\n        color=\"primary\"\n        onClick={() => handleClickOpen()}\n        startIcon={<VerifiedUser />}\n      >\n        Continuar compra\n      </Button>\n      <Dialog\n        open={open}\n        TransitionComponent={Transition}\n        keepMounted\n        /* onClose={() => handleClose()} */\n        onClose={(event, reason) => {\n          if (reason !== \"backdropClick\") {\n            handleClose();\n          }\n        }}\n        aria-labelledby=\"dialog-verificarcompra-title\"\n        aria-describedby=\"dialog-verificarcompra-description\"\n        fullWidth\n        maxWidth=\"sm\"\n      >\n        <ModalVerificacion\n          handleClose={handleClose}\n          compra={compra}\n          handleClickOpen={handleClickOpen}\n          open={open}\n          nuevoArray={nuevoArray}\n          setNuevoArray={setNuevoArray}\n          setSuccess={setSuccess}\n        />\n      </Dialog>\n    </div>\n  );\n}\n\nconst ModalVerificacion = ({\n  handleClose,\n  compra,\n  handleClickOpen,\n  open,\n  nuevoArray,\n  setNuevoArray,\n  setSuccess,\n}) => {\n  const [loadingVerificacion, setLoadingVerificacion] = useState(false);\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n  let count = 0;\n\n  /* Queries */\n  const [getQuery, { loading, data, error }] = useLazyQuery(OBTENER_PRODUCTOS, {\n    variables: {\n      empresa: sesion.empresa._id,\n      sucursal: sesion.sucursal._id,\n      almacen: compra.almacen.id_almacen,\n    },\n    fetchPolicy: \"network-only\",\n  });\n\n  if (data) count = 1;\n\n  useEffect(() => {\n    if (open && count === 0) {\n      getQuery();\n      count = 1;\n    }\n  }, [handleClickOpen]);\n\n  useEffect(() => {\n    if (data) {\n      verificarProductos();\n    }\n  }, [data]);\n\n  if (loading) {\n    return (\n      <Fragment>\n        <DialogContent\n          style={{\n            height: 150,\n            display: \"flex\",\n            alignItems: \"center\",\n            justifyContent: \"center\",\n            flexDirection: \"column\",\n          }}\n        >\n          <DialogContentText id=\"dialog-verificarcompra-description\">\n            Si ya no hay existencias en tu producto se marcaran en la tabla y se\n            quitaran al retomar la compra para no causar conflictos, podras\n            editar tu compra mas adelante\n          </DialogContentText>\n          <Box display=\"flex\" alignItems=\"center\">\n            <CircularProgress\n              size={18}\n              color=\"primary\"\n              style={{ marginRight: 8 }}\n            />\n            Obteniendo productos de la Base de datos...\n          </Box>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={handleClose} color=\"inherit\">\n            Cancelar\n          </Button>\n        </DialogActions>\n      </Fragment>\n    );\n  }\n\n  if (error) {\n    return (\n      <Fragment>\n        <DialogContent>\n          <ErrorPage error={error} altura={130} />\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={handleClose} color=\"inherit\">\n            Cerrar\n          </Button>\n        </DialogActions>\n      </Fragment>\n    );\n  }\n\n  let obtenerProductos = [];\n  if (data) obtenerProductos = data.obtenerProductos;\n\n  /* console.log(compra); */\n\n  function verificarProductos() {\n    setLoadingVerificacion(true);\n    const { productos } = compra;\n    let productos_nuevos = [...productos];\n    let conflicto = false;\n\n    for (let i = 0; i < productos.length; i++) {\n      const productosCompra = productos[i];\n      let copy_producto_compra = { ...productosCompra };\n      let copy_producto = { ...productosCompra.producto };\n\n      //Filtrar los productos\n      const productos_filtrados = obtenerProductos.filter(\n        (res) => res._id === copy_producto_compra.id_producto\n      );\n\n      const { precios, unidades_de_venta, presentaciones } = copy_producto;\n\n      const precios_base = productos_filtrados[0].precios;\n      const unidades_base = productos_filtrados[0].unidades_de_venta;\n      const presentaciones_base = productos_filtrados[0].medidas_producto;\n\n      //verificacion de Precios\n      if (\n        precios.unidad_de_compra.cantidad !==\n          precios_base.unidad_de_compra.cantidad ||\n        precios.unidad_de_compra.precio_unitario_con_impuesto !==\n          precios_base.unidad_de_compra.precio_unitario_con_impuesto ||\n        precios.unidad_de_compra.unidad !== precios_base.unidad_de_compra.unidad\n      ) {\n        /* console.log(\"conflicto precios\"); */\n        //si son diferentes se agrega los precios_base al compra_nueva\n        copy_producto.precios = precios_base;\n        copy_producto_compra.producto = copy_producto;\n        copy_producto_compra.conflicto = true;\n        productos_nuevos[i] = copy_producto_compra;\n        conflicto = true;\n      }\n      //verificacion de Unidades de venta\n      const u_default = unidades_de_venta.filter((res) => res.default === true);\n      const u_default_base = unidades_base.filter(\n        (res) => res.default === true\n      );\n      if (\n        u_default[0].cantidad !== u_default_base[0].cantidad ||\n        u_default[0].precio !== u_default_base[0].precio ||\n        u_default[0].unidad !== u_default_base[0].unidad\n      ) {\n        //si son diferentes se agrega los precios_base al compra_nueva\n        copy_producto.unidades_de_venta = unidades_base;\n        copy_producto_compra.producto = copy_producto;\n        copy_producto_compra.conflicto = true;\n        productos_nuevos[i] = copy_producto_compra;\n        conflicto = true;\n        /* console.log(\"conflicto unidades\"); */\n      }\n\n      //verificacion de Presentaciones si hay presentaciones\n\n      if (presentaciones.length > 0) {\n        /* console.log(presentaciones, presentaciones_base); */\n        if (presentaciones_base.length > 0) {\n          if (presentaciones.length === presentaciones_base.length) {\n            for (let x = 0; x < presentaciones.length; x++) {\n              const present = presentaciones[x];\n              for (let y = 0; y < presentaciones_base.length; y++) {\n                const present_base = presentaciones_base[y];\n\n                if (\n                  present.medida._id === present_base.medida._id &&\n                  present.color._id === present_base.color._id &&\n                  present.almacen === present_base.almacen\n                ) {\n                  if (\n                    present.cantidad !== present_base.cantidad ||\n                    present.precio !== present_base.precio\n                  ) {\n                    //si son diferentes se agrega las presentaciones_base al compra_nueva\n                    copy_producto.presentaciones = presentaciones_base;\n                    copy_producto_compra.producto = copy_producto;\n                    copy_producto_compra.conflicto = true;\n                    productos_nuevos[i] = copy_producto_compra;\n                    conflicto = true;\n                    /* console.log(\"conflicto presentaciones\"); */\n                  }\n                }\n              }\n            }\n          } else {\n            //si son diferentes se agrega las presentaciones al compra_nueva\n            copy_producto.presentaciones = presentaciones_base;\n            copy_producto_compra.producto = copy_producto;\n            copy_producto_compra.conflicto = true;\n            productos_nuevos[i] = copy_producto_compra;\n            conflicto = true;\n            /* console.log(\"conflicto diferentes presentaciones \"); */\n          }\n        } else {\n          //si no hay se agrega las presentaciones al compra_nueva\n          copy_producto_compra.conflicto = true;\n          productos_nuevos[i] = copy_producto_compra;\n          conflicto = true;\n          /* console.log(\"conflicto sin presentaciones \"); */\n        }\n      }\n    }\n\n    const nuevo_producto_compra = [];\n    let subtotal = 0;\n    let impuestos = 0;\n    let total = 0;\n    if (conflicto) {\n      for (let k = 0; k < productos_nuevos.length; k++) {\n        const datosProducto = { ...productos_nuevos[k] };\n\n        if (datosProducto.producto.datos_generales.tipo_producto !== \"OTROS\") {\n          //si es calzado o ropa\n          //CANTIDADES\n          if (datosProducto.producto.presentaciones.length > 0) {\n            datosProducto.cantidad = 0;\n            datosProducto.producto.presentaciones.forEach((presentacion) => {\n              const { cantidad, cantidad_nueva } = presentacion;\n              let nueva = cantidad_nueva ? cantidad_nueva : 0;\n              datosProducto.cantidad += cantidad + nueva;\n            });\n            if (isNaN(datosProducto.cantidad)) datosProducto.cantidad = 0;\n            datosProducto.cantidad_total = datosProducto.cantidad;\n          } else {\n            datosProducto.cantidad = 0;\n            datosProducto.cantidad_total = datosProducto.cantidad;\n          }\n        } else {\n          //Si es una unidad normal\n\n          //CANTIDADES\n          const { cantidad_regalo, cantidad, unidad_regalo } = datosProducto;\n          //convertir todo a la unidad media y sumar (Pz, Kg, Lt)\n          const factor =\n            datosProducto.producto.precios.unidad_de_compra.cantidad;\n          const cantiad_media = cantidad * factor;\n          let cantidad_regalo_media =\n            unidad_regalo === \"Pz\" ||\n            unidad_regalo === \"Kg\" ||\n            unidad_regalo === \"Lt\"\n              ? cantidad_regalo\n              : cantidad_regalo * factor;\n          let cantidad_total_media = cantiad_media + cantidad_regalo_media;\n\n          //si factor es > 1 es caja o costal y dividir unidad media entre factor y si no mandar la cantidad total media;\n          if (factor > 1) {\n            datosProducto.cantidad_regalo = cantidad_regalo_media / factor;\n            datosProducto.cantidad_total = cantidad_total_media / factor;\n          } else {\n            datosProducto.cantidad_regalo = cantidad_regalo_media;\n            datosProducto.cantidad_total = cantidad_total_media;\n          }\n        }\n\n        //PRECIOS\n        const {\n          iva,\n          ieps,\n          precio_con_impuesto,\n          precio_sin_impuesto,\n        } = datosProducto.producto.precios.precio_de_compra;\n\n        datosProducto.total_con_descuento = precio_con_impuesto;\n        datosProducto.costo = precio_con_impuesto;\n        datosProducto.iva_total = iva * datosProducto.cantidad_total;\n        datosProducto.ieps_total = ieps * datosProducto.cantidad_total;\n        datosProducto.impuestos = (iva + ieps) * datosProducto.cantidad_total;\n        datosProducto.subtotal =\n          precio_sin_impuesto * datosProducto.cantidad_total;\n        datosProducto.total =\n          precio_con_impuesto * datosProducto.cantidad_total;\n\n        if (datosProducto.descuento_porcentaje > 0) {\n          datosProducto.descuento_precio = Math.round(\n            (precio_con_impuesto * datosProducto.descuento_porcentaje) / 100\n          );\n          datosProducto.total_con_descuento =\n            precio_con_impuesto - datosProducto.descuento_precio;\n        }\n\n        subtotal += datosProducto.subtotal;\n        impuestos += datosProducto.impuestos;\n        total +=\n          datosProducto.total_con_descuento * datosProducto.cantidad_total;\n\n        nuevo_producto_compra.push(datosProducto);\n      }\n      setNuevoArray({\n        _id: compra._id,\n        almacen: compra.almacen,\n        proveedor: compra.proveedor,\n        productos: nuevo_producto_compra,\n        en_espera: compra.en_espera,\n        fecha_registro: compra.fecha_registro,\n        impuestos,\n        subtotal,\n        total,\n      });\n    } else {\n      setNuevoArray(compra);\n    }\n\n    setTimeout(() => {\n      setLoadingVerificacion(false);\n      setSuccess(true);\n    }, 1500);\n  }\n\n  return (\n    <Fragment>\n      <DialogContent\n        style={{\n          height: 150,\n          display: \"flex\",\n          alignItems: \"center\",\n          justifyContent: \"center\",\n          flexDirection: \"column\",\n        }}\n      >\n        <DialogContentText id=\"dialog-verificarcompra-description\">\n          Si ya no hay existencias en tu producto se marcaran en la tabla y se\n          quitaran al retomar la compra para no causar conflictos, podras editar\n          tu compra mas adelante\n        </DialogContentText>\n        {loadingVerificacion ? (\n          <Box display=\"flex\" alignItems=\"center\">\n            <CircularProgress\n              size={18}\n              color=\"primary\"\n              style={{ marginRight: 8 }}\n            />\n            Verificando existencias en tus productos...\n          </Box>\n        ) : null}\n        {!loadingVerificacion ? (\n          <Box display=\"flex\" alignItems=\"center\">\n            <CheckCircle color=\"primary\" style={{ marginRight: 8 }} />\n            Listo, producto verificados\n          </Box>\n        ) : null}\n      </DialogContent>\n      <DialogActions>\n        {loadingVerificacion ? (\n          <Button onClick={handleClose} color=\"inherit\">\n            Cancelar\n          </Button>\n        ) : (\n          <Button onClick={handleClose} color=\"primary\" startIcon={<Done />}>\n            Aceptar\n          </Button>\n        )}\n      </DialogActions>\n    </Fragment>\n  );\n};\n","import React, { Fragment, useEffect, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\n\nimport Box from \"@material-ui/core/Box\";\nimport Chip from \"@material-ui/core/Chip\";\nimport Grid from \"@material-ui/core/Grid\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { Button, useTheme } from \"@material-ui/core\";\nimport SearchOutlinedIcon from \"@material-ui/icons/SearchOutlined\";\nimport { formatoMexico } from \"../../../../config/reuserFunctions\";\nimport AbrirCompra from \"../AbrirCompra/AbrirCompra\";\nimport VerificarProductosCompras from \"./VerificarProductos\";\n\nimport {\n  Dialog,\n  CircularProgress,\n  DialogTitle,\n  DialogActions,\n  Slide,\n} from \"@material-ui/core\";\nimport { CheckCircle, DeleteOutlined, Done, Error } from \"@material-ui/icons\";\nimport Close from \"@material-ui/icons/Close\";\nimport { useMutation } from \"@apollo/client\";\nimport { ELIMINAR_COMPRA_ESPERA } from \"../../../../gql/Compras/compras\";\n\nconst useStyles = makeStyles({\n  root: {\n    width: \"100%\",\n  },\n  container: {\n    height: \"50vh\",\n  },\n});\n\nexport default function DatosDeCompra({\n  compra,\n  setAlert,\n  refetch,\n  handleOpenDetalles,\n}) {\n  const classes = useStyles();\n  const theme = useTheme();\n  /* let compra_temp = {...compra} */\n  const [compra_temp, setCompraTemp] = useState({ ...compra });\n  const { productos } = compra_temp;\n\tconst permisosUsuario = JSON.parse(localStorage.getItem('sesionCafi'));\n\n  const [busqueda, setBusqueda] = useState(\"\");\n  const [productosFiltrados, setProductosFiltrados] = useState([]);\n\n  const [nuevoArray, setNuevoArray] = useState();\n  const [verificado, setVerificado] = useState(false);\n\n  const obtenerBusqueda = (value) => setBusqueda(value);\n\n  useEffect(() => {\n    setProductosFiltrados(\n      productos.filter((datos) => {\n        return datos.producto.datos_generales.nombre_comercial\n          .toLowerCase()\n          .includes(busqueda.toLowerCase());\n      })\n    );\n  }, [busqueda, productos]);\n\n  useEffect(() => {\n    if (verificado && nuevoArray) {\n      setCompraTemp(nuevoArray);\n    }\n  }, [verificado]);\n\n  return (\n    <Fragment>\n      <Box mb={1} display=\"flex\">\n        <Typography style={{ marginRight: 16 }}>\n          <b>Proveedor: </b>\n          {compra_temp.proveedor.nombre_cliente}\n        </Typography>\n        <Typography style={{ marginRight: 16 }}>\n          <b>Almacen: </b>\n          {compra_temp.almacen.nombre_almacen}\n        </Typography>\n        <Typography style={{ marginRight: 16 }}>\n          <b>Subtotal: ${parseFloat(compra_temp.subtotal).toFixed(2)}</b>\n        </Typography>\n        <Typography style={{ marginRight: 16 }}>\n          <b>Impuestos: ${parseFloat(compra_temp.impuestos).toFixed(2)}</b>\n        </Typography>\n        <Typography style={{ marginRight: 16 }}>\n          <b>Total: ${formatoMexico(parseFloat(compra_temp.total).toFixed(2))}</b>\n        </Typography>\n      </Box>\n      <Box mb={2} display=\"flex\">\n        <Grid container>\n          <Grid item sm={6} xs={12}>\n            <TextField\n              fullWidth\n              size=\"small\"\n              variant=\"outlined\"\n              placeholder=\"Buscar una compra...\"\n              onChange={(e) => obtenerBusqueda(e.target.value)}\n              InputProps={{\n                startAdornment: (\n                  <InputAdornment position=\"start\">\n                    <SearchOutlinedIcon color=\"action\" />\n                  </InputAdornment>\n                ),\n              }}\n            />\n          </Grid>\n          <Grid item sm={6} xs={12}>\n            <Box display=\"flex\" justifyContent=\"flex-end\">\n              {permisosUsuario.accesos.compras.compras_espera.eliminar === false ? (null) : (\n                <ModalEliminarCompra\n                  compra={compra_temp}\n                  setAlert={setAlert}\n                  refetch={refetch}\n                  handleOpenDetalles={handleOpenDetalles}\n                />\n              )}\n              <Box mx={1} />\n\n              {permisosUsuario.accesos.compras.compras_espera.editar === false ? (null) : (\n                verificado ? (\n                  <AbrirCompra\n                    compra={compra_temp}\n                    status=\"enEspera\"\n                    handleOpenDetalles={handleOpenDetalles}\n                    refetchEspera={refetch}\n                  />\n                ) : (\n                  <VerificarProductosCompras\n                    compra={compra_temp}\n                    nuevoArray={nuevoArray}\n                    setNuevoArray={setNuevoArray}\n                    setVerificado={setVerificado}\n                  />\n                )\n              )}\n            </Box>\n          </Grid>\n        </Grid>\n      </Box>\n      <Paper className={classes.root} variant=\"outlined\">\n        <TableContainer className={classes.container}>\n          <Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n            <TableHead>\n              <TableRow>\n                {verificado ? <TableCell /> : null}\n                <TableCell>Producto</TableCell>\n                <TableCell>Medida</TableCell>\n                <TableCell>Color</TableCell>\n                <TableCell>Unidad</TableCell>\n                <TableCell>Cantidad</TableCell>\n                <TableCell>C. regalo</TableCell>\n                <TableCell>C. total</TableCell>\n                <TableCell>Descuento</TableCell>\n                <TableCell>Subtotal</TableCell>\n                <TableCell>Impuestos</TableCell>\n                <TableCell>Total</TableCell>\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {productosFiltrados.map((datos, index) => {\n                /* console.log(datos); */\n                return (\n                  <TableRow\n                    tabIndex={-1}\n                    key={index}\n                    selected={datos.conflicto}\n                  >\n                    {verificado ? (\n                      <TableCell\n                        style={{\n                          paddingTop: 0,\n                          paddingBottom: 0,\n                        }}\n                      >\n                        {datos.conflicto ? (\n                          <Error color=\"primary\" />\n                        ) : (\n                          <CheckCircle\n                            style={{\n                              color: theme.palette.success.main,\n                            }}\n                          />\n                        )}\n                      </TableCell>\n                    ) : null}\n                    <TableCell>\n                      {datos.producto.datos_generales.nombre_comercial}\n                    </TableCell>\n                    <TableCell padding=\"checkbox\">\n                      {datos.medida && datos.medida.medida\n                        ? datos.medida.medida\n                        : \"N/A\"}\n                    </TableCell>\n                    <TableCell padding=\"checkbox\">\n                      {datos.color && datos.color.hex ? (\n                        <Chip\n                          label={datos.color.color}\n                          size=\"small\"\n                          style={{\n                            backgroundColor: datos.color.hex,\n                            color: theme.palette.getContrastText(\n                              datos.color.hex\n                            ),\n                          }}\n                        />\n                      ) : (\n                        \"N/A\"\n                      )}\n                    </TableCell>\n                    <TableCell>{datos.unidad}</TableCell>\n                    <TableCell>{datos.cantidad}</TableCell>\n                    <TableCell>{datos.cantidad_regalo}</TableCell>\n                    <TableCell>{datos.cantidad_total}</TableCell>\n                    <TableCell>{`$${datos.descuento_precio} - %${datos.descuento_porcentaje}`}</TableCell>\n                    <TableCell>\n                      <b>${formatoMexico(datos.subtotal)}</b>\n                    </TableCell>\n                    <TableCell>\n                      <b>${formatoMexico(datos.impuestos)}</b>\n                    </TableCell>\n                    <TableCell>\n                      <b>${formatoMexico(datos.total)}</b>\n                    </TableCell>\n                  </TableRow>\n                );\n              })}\n            </TableBody>\n          </Table>\n        </TableContainer>\n      </Paper>\n    </Fragment>\n  );\n}\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nconst ModalEliminarCompra = ({\n  compra,\n  setAlert,\n  refetch,\n  handleOpenDetalles,\n}) => {\n  const [open, setOpen] = useState(false);\n  const [loading, setLoading] = useState(false);\n\n  const [eliminarCompraEnEspera] = useMutation(ELIMINAR_COMPRA_ESPERA);\n\n  const handleOpen = () => {\n    setOpen(!open);\n  };\n\n  const eliminarCompra = async () => {\n    setLoading(true);\n    try {\n      const result = await eliminarCompraEnEspera({\n        variables: {\n          id: compra._id,\n        },\n      });\n      setAlert({\n        message: `Listo! ${result.data.eliminarCompraEnEspera.message}`,\n        status: \"success\",\n        open: true,\n      });\n      refetch();\n      setLoading(false);\n      handleOpen();\n      handleOpenDetalles();\n    } catch (error) {\n      console.log(error);\n      setLoading(false);\n      setAlert({\n        message: `Error: ${error.message}`,\n        status: \"error\",\n        open: true,\n      });\n    }\n  };\n  return (\n    <Fragment>\n      <Button\n        color=\"secondary\"\n        startIcon={<DeleteOutlined />}\n        onClick={() => handleOpen()}\n      >\n        Eliminar compra\n      </Button>\n      <Dialog open={open} onClose={handleOpen} TransitionComponent={Transition}>\n        <DialogTitle>Desea eliminar esta compra?</DialogTitle>\n        <DialogActions>\n          <Button\n            variant=\"text\"\n            color=\"inherit\"\n            size=\"large\"\n            startIcon={<Close />}\n            onClick={() => handleOpen()}\n          >\n            Cancelar\n          </Button>\n          <Button\n            variant=\"text\"\n            color=\"secondary\"\n            size=\"large\"\n            disabled={loading}\n            startIcon={\n              loading ? (\n                <CircularProgress size={18} color=\"inherit\" />\n              ) : (\n                <Done />\n              )\n            }\n            onClick={() => eliminarCompra()}\n          >\n            Eliminar\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </Fragment>\n  );\n};\n","import React, { useState, Fragment } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport {\n  Dialog,\n  Typography,\n  Box,\n  Button,\n  IconButton,\n  CircularProgress,\n} from \"@material-ui/core\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport DatosDeCompraEspera from \"./DatosDeCompraEspera\";\nimport {\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n  Slide,\n} from \"@material-ui/core\";\n\nimport {\n  formatoFecha,\n  formatoMexico,\n} from \"../../../../config/reuserFunctions\";\nimport { AssignmentOutlined, DeleteOutlined, Done } from \"@material-ui/icons\";\nimport Close from \"@material-ui/icons/Close\";\nimport { useMutation } from \"@apollo/client\";\nimport SnackBarMessages from \"../../../../components/SnackBarMessages\";\nimport { ELIMINAR_COMPRA_ESPERA } from \"../../../../gql/Compras/compras\";\n\nconst useStyles = makeStyles({\n  root: {\n    width: \"100%\",\n  },\n  container: {\n    height: \"75vh\",\n  },\n});\n\nexport default function ListaEnEspera({ obtenerComprasEnEspera, refetch }) {\n  const classes = useStyles();\n  const [alert, setAlert] = useState({ message: \"\", status: \"\", open: false });\n\tconst permisosUsuario = JSON.parse(localStorage.getItem('sesionCafi'));\n\n  return (\n    <Paper className={classes.root} variant=\"outlined\">\n      <SnackBarMessages alert={alert} setAlert={setAlert} />\n      <TableContainer className={classes.container}>\n        <Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n          <TableHead>\n            <TableRow>\n              <TableCell>Almacen</TableCell>\n              <TableCell>Proveedor</TableCell>\n              <TableCell>Fecha de compra</TableCell>\n              <TableCell>Subtotal</TableCell>\n              <TableCell>Impuestos</TableCell>\n              <TableCell>Total</TableCell>\n              <TableCell>Detalles</TableCell>\n              {permisosUsuario.accesos.compras.compras_espera.elimina === false ? (null) : (\n                <TableCell>Eliminar</TableCell>\n              )}\n              </TableRow>\n          </TableHead>\n          <TableBody>\n            {obtenerComprasEnEspera.map((compra, index) => (\n              <RenderRowsComprasEspera\n                key={index}\n                compra={compra}\n                refetch={refetch}\n                setAlert={setAlert}\n              />\n            ))}\n          </TableBody>\n        </Table>\n      </TableContainer>\n    </Paper>\n  );\n}\n\nconst RenderRowsComprasEspera = ({ compra, refetch, setAlert }) => {\n  const {\n    almacen,\n    proveedor,\n    fecha_registro,\n    subtotal,\n    impuestos,\n    total,\n  } = compra;\n\tconst permisosUsuario = JSON.parse(localStorage.getItem('sesionCafi'));\n  return (\n    <TableRow hover tabIndex={-1}>\n      <TableCell>{almacen.nombre_almacen}</TableCell>\n      <TableCell>{proveedor.nombre_cliente}</TableCell>\n      <TableCell>{formatoFecha(fecha_registro)}</TableCell>\n      <TableCell>\n        <b>${formatoMexico(subtotal)}</b>\n      </TableCell>\n      <TableCell>\n        <b>${formatoMexico(impuestos)}</b>\n      </TableCell>\n      <TableCell>\n        <b>${formatoMexico(total)}</b>\n      </TableCell>\n      <TableCell>\n        <ModalContinuarCompra\n          compra={compra}\n          refetch={refetch}\n          setAlert={setAlert}\n        />\n      </TableCell>\n      {permisosUsuario.accesos.compras.compras_espera.eliminar === false ? (null) : (\n        <TableCell>\n          <ModalEliminarCompra\n            compra={compra}\n            refetch={refetch}\n            setAlert={setAlert}\n          />\n        </TableCell>\n      )}\n    </TableRow>\n  );\n};\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nconst ModalContinuarCompra = ({ compra, setAlert, refetch }) => {\n  const [open, setOpen] = useState(false);\n\n  const handleOpen = () => {\n    setOpen(!open);\n  };\n  return (\n    <Fragment>\n      <IconButton onClick={() => handleOpen()}>\n        <AssignmentOutlined />\n      </IconButton>\n      <Dialog\n        open={open}\n        onClose={handleOpen}\n        fullWidth\n        maxWidth=\"lg\"\n        TransitionComponent={Transition}\n      >\n        <DialogTitle>\n          <Box display=\"flex\">\n            <Typography variant=\"h6\" style={{ flexGrow: 1 }}>\n              Datos de compra en espera\n            </Typography>\n            <Button\n              variant=\"text\"\n              color=\"primary\"\n              onClick={handleOpen}\n              size=\"large\"\n            >\n              <CloseIcon style={{ fontSize: 30 }} />\n            </Button>\n          </Box>\n        </DialogTitle>\n        <DialogContent>\n          <DatosDeCompraEspera\n            compra={compra}\n            refetch={refetch}\n            setAlert={setAlert}\n            handleOpenDetalles={handleOpen}\n          />\n        </DialogContent>\n      </Dialog>\n    </Fragment>\n  );\n};\n\nconst ModalEliminarCompra = ({ compra, setAlert, refetch }) => {\n  const [open, setOpen] = useState(false);\n  const [loading, setLoading] = useState(false);\n\n  const [eliminarCompraEnEspera] = useMutation(ELIMINAR_COMPRA_ESPERA);\n\n  const handleOpen = () => {\n    setOpen(!open);\n  };\n\n  const eliminarCompra = async () => {\n    setLoading(true);\n    try {\n      const result = await eliminarCompraEnEspera({\n        variables: {\n          id: compra._id,\n        },\n      });\n      setAlert({\n        message: `Listo! ${result.data.eliminarCompraEnEspera.message}`,\n        status: \"success\",\n        open: true,\n      });\n      refetch();\n      setLoading(false);\n      handleOpen();\n    } catch (error) {\n      console.log(error);\n      setLoading(false);\n      setAlert({\n        message: `Error: ${error.message}`,\n        status: \"error\",\n        open: true,\n      });\n    }\n  };\n  return (\n    <Fragment>\n      <IconButton onClick={() => handleOpen()}>\n        <DeleteOutlined color=\"error\" />\n      </IconButton>\n      <Dialog open={open} onClose={handleOpen} TransitionComponent={Transition}>\n        <DialogTitle>Desea eliminar esta compra?</DialogTitle>\n        <DialogActions>\n          <Button\n            variant=\"text\"\n            color=\"inherit\"\n            size=\"large\"\n            startIcon={<Close />}\n            onClick={() => handleOpen()}\n          >\n            Cancelar\n          </Button>\n          <Button\n            variant=\"text\"\n            color=\"secondary\"\n            size=\"large\"\n            disabled={loading}\n            startIcon={\n              loading ? (\n                <CircularProgress size={18} color=\"inherit\" />\n              ) : (\n                <Done />\n              )\n            }\n            onClick={() => eliminarCompra()}\n          >\n            Eliminar\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </Fragment>\n  );\n};\n","import React, { useState, useRef, Fragment } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Typography from \"@material-ui/core/Typography\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport Slide from \"@material-ui/core/Slide\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport Container from \"@material-ui/core/Container\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport Box from \"@material-ui/core/Box\";\nimport TextField from \"@material-ui/core/TextField\";\nimport { FcOvertime } from \"react-icons/fc\";\nimport { SearchOutlined } from \"@material-ui/icons\";\n\nimport { useQuery } from \"@apollo/client\";\n\nimport ListaEnEspera from \"./ListaEnEspera\";\nimport ErrorPage from \"../../../../components/ErrorPage\";\nimport { OBTENER_COMPRAS_ESPERA } from \"../../../../gql/Compras/compras\";\n\nconst useStyles = makeStyles((theme) => ({\n  appBar: {\n    position: \"relative\",\n  },\n  title: {\n    marginLeft: theme.spacing(2),\n    flex: 1,\n  },\n  icon: {\n    fontSize: 100,\n  },\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function ComprasEnEspera() {\n  const classes = useStyles();\n  const [open, setOpen] = React.useState(false);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  return (\n    <div>\n      <Button fullWidth onClick={handleClickOpen}>\n        <Box display=\"flex\" flexDirection=\"column\">\n          <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n            <FcOvertime className={classes.icon} />\n          </Box>\n          Compras en espera\n        </Box>\n      </Button>\n      <Dialog\n        fullScreen\n        open={open}\n        onClose={handleClose}\n        TransitionComponent={Transition}\n      >\n        <AppBar className={classes.appBar}>\n          <Toolbar>\n            <Typography variant=\"h6\" className={classes.title}>\n              Compras en espera\n            </Typography>\n            <Box m={1}>\n              <Button\n                variant=\"contained\"\n                color=\"secondary\"\n                onClick={handleClose}\n                size=\"large\"\n              >\n                <CloseIcon style={{ fontSize: 30 }} />\n              </Button>\n            </Box>\n          </Toolbar>\n        </AppBar>\n        <Container maxWidth=\"xl\">\n          <ContentDialogCompras />\n        </Container>\n      </Dialog>\n    </div>\n  );\n}\n\nconst ContentDialogCompras = () => {\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n  const [filtro, setFiltro] = useState(\"\");\n  const searchfilter = useRef(null);\n\n  /* Queries */\n  const { loading, data, error, refetch } = useQuery(OBTENER_COMPRAS_ESPERA, {\n    variables: {\n      empresa: sesion.empresa._id,\n      sucursal: sesion.sucursal._id,\n      filtro,\n    },\n    fetchPolicy: \"network-only\",\n  });\n\n  if (loading)\n    return (\n      <Box\n        display=\"flex\"\n        flexDirection=\"column\"\n        justifyContent=\"center\"\n        alignItems=\"center\"\n        height=\"40vh\"\n      >\n        <CircularProgress />\n        <Typography variant=\"h5\">Cargando</Typography>\n      </Box>\n    );\n  if (error) {\n    return <ErrorPage error={error} altura={300} />;\n  }\n\n  let obtenerComprasEnEspera = [];\n  if (data) obtenerComprasEnEspera = data.obtenerComprasEnEspera;\n\n  const obtenerBusqueda = (e, value) => {\n    e.preventDefault();\n    refetch({ filtro: value });\n    setFiltro(value);\n  };\n\n  return (\n    <Fragment>\n      <Box my={3} maxWidth={500}>\n        <form onSubmit={(e) => obtenerBusqueda(e, e.target[0].value)}>\n          <TextField\n            inputRef={searchfilter}\n            fullWidth\n            size=\"small\"\n            variant=\"outlined\"\n            placeholder=\"Buscar una compra...\"\n            InputProps={{\n              endAdornment: (\n                <InputAdornment position=\"end\">\n                  <IconButton type=\"submit\" color=\"primary\" size=\"medium\">\n                    <SearchOutlined />\n                  </IconButton>\n                </InputAdornment>\n              ),\n            }}\n          />\n        </form>\n      </Box>\n      <ListaEnEspera obtenerComprasEnEspera={obtenerComprasEnEspera} refetch={refetch} />\n    </Fragment>\n  );\n};\n","import React from 'react';\nimport { Box, Container, Grid } from '@material-ui/core';\nimport AbrirCompra from './AbrirCompra/AbrirCompra';\nimport ComprasRealizadas from './ComprasRealizadas/ComprasRealizadas';\n/* import CargaMasiva from './CargaMasiva/CargaMasiva'; */\nimport ComprasEnEspera from './ComprasEnEspera/ComprasEnEspera';\n\n\nexport default function Compras() {\n\n\tconst permisosUsuario = JSON.parse(localStorage.getItem('sesionCafi'));\n\n\treturn (\n\t\t<Container maxWidth=\"md\">\n\t\t\t<Grid container spacing={3} justify=\"center\">\n\t\t\t{permisosUsuario.accesos.compras.abrir_compra.ver === false ? (null):(\n\t\t\t\t<Grid item md={4}>\n\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t<AbrirCompra />\n\t\t\t\t\t</Box>\n\t\t\t\t</Grid>\n\t\t\t)}\n\t\t\t{permisosUsuario.accesos.compras.compras_realizadas.ver === false ? (null):(\n\t\t\t\t<Grid item md={4}>\n\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t<ComprasRealizadas />\n\t\t\t\t\t</Box>\n\t\t\t\t</Grid>\n\t\t\t)}\n\t\t\t{permisosUsuario.accesos.compras.compras_espera.ver === false ? (null):(\n                <Grid item md={4}>\n\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t<ComprasEnEspera />\n\t\t\t\t\t</Box>\n\t\t\t\t</Grid>\n\t\t\t)}\n\t\t\t\t{/* <Grid item md={2}>\n\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t<CargaMasiva />\n\t\t\t\t\t</Box>\n\t\t\t\t</Grid> */}\n\t\t\t</Grid>\n\t\t</Container>\n\t);\n}\n","import React, { useContext, useState, Fragment } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport Box from \"@material-ui/core/Box\";\nimport Button from \"@material-ui/core/Button\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Switch from \"@material-ui/core/Switch\";\nimport Slide from \"@material-ui/core/Slide\";\nimport CrearCliente from \"./CrearCliente\";\nimport ErrorPage from \"../../../../components/ErrorPage\";\nimport { Delete } from \"@material-ui/icons\";\nimport { ClienteCtx } from \"../../../../context/Catalogos/crearClienteCtx\";\nimport { useDebounce } from \"use-debounce\";\nimport { useQuery, useMutation } from \"@apollo/client\";\nimport {\n  OBTENER_CLIENTES,\n  ACTUALIZAR_CLIENTE,\n  ELIMINAR_CLIENTE,\n} from \"../../../../gql/Catalogos/clientes\";\nimport { formatoFechaCorta } from \"../../../../config/reuserFunctions\";\nimport SnackBarMessages from \"../../../../components/SnackBarMessages\";\n// import { VentasContext } from \"../../../../context/Ventas/ventasContext\";\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nconst useStyles = makeStyles({\n  root: {\n    width: \"100%\",\n  },\n  container: {\n    maxHeight: \"75vh\",\n  },\n});\n\nexport default function ListaClientes({\n  user,\n  tipo,\n  filtro,\n  ventas,\n  handleClickOpen,\n}) {\n  const classes = useStyles();\n  const { setUpdateClientVenta, updateClientVenta } = useContext(\n    ClienteCtx\n  );\n  const [value] = useDebounce(filtro, 1000);\n  const [selectDataClient, setSelectDataClient] = useState(false);\n  /* Queries */\n  const { loading, data, error, refetch } = useQuery(OBTENER_CLIENTES, {\n    variables: { tipo, filtro: value },\n    fetchPolicy: \"network-only\",\n  });\n\n  /* useEffect(() => {\n    refetch();\n  }, [update, refetch]); */\n\n  //show modal accept client\n  const [showModal, setShowModal] = useState(false);\n\n  const [dataSelectRowClient, setDataSelectRowClient] = useState({});\n  const [alert, setAlert] = useState({ message: \"\", status: \"\", open: false });\n\n  const handleClickOpenModal = (data, e) => {\n    if (ventas && !selectDataClient) {\n      setShowModal(true);\n      setDataSelectRowClient(data);\n    }\n  };\n\n  const handleClickSelectClient = () => {\n    try {\n      const venta = JSON.parse(localStorage.getItem(\"DatosVentas\"));\n      let venta_actual = venta === null ? {} : venta;\n      localStorage.setItem(\n        \"DatosVentas\",\n        JSON.stringify({\n          subTotal:\n            venta_actual.subTotal === undefined ? 0 : venta_actual.subTotal,\n          total: venta_actual.total === undefined ? 0 : venta_actual.total,\n          impuestos:\n            venta_actual.impuestos === undefined ? 0 : venta_actual.impuestos,\n          iva: venta_actual.iva === undefined ? 0 : venta_actual.iva,\n          ieps: venta_actual.ieps === undefined ? 0 : venta_actual.ieps,\n          descuento:\n            venta_actual.descuento === undefined ? 0 : venta_actual.descuento,\n          monedero:\n            venta_actual.monedero === undefined ? 0 : venta_actual.monedero,\n          // tipo_cambio: venta_actual.tipo_cambio ? venta_actual.tipo_cambio : {},\n          cliente: dataSelectRowClient,\n          venta_cliente: true,\n          productos:\n            venta_actual.productos?.length > 0 ? venta_actual.productos : [],\n        })\n      );\n      setUpdateClientVenta(!updateClientVenta);\n      setShowModal(!showModal);\n      handleClickOpen();\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  if (loading)\n    return (\n      <Box\n        display=\"flex\"\n        justifyContent=\"center\"\n        alignItems=\"center\"\n        height=\"50vh\"\n        width=\"120vh\"\n      >\n        <CircularProgress />\n      </Box>\n    );\n  if (error) {\n    return <ErrorPage error={error} />;\n  }\n\n  const { obtenerClientes } = data;\n\n  return (\n    <Fragment>\n      <SnackBarMessages alert={alert} setAlert={setAlert} />\n      <Paper className={classes.root}>\n        <TableContainer className={classes.container}>\n          <Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n            <TableHead>\n              <TableRow>\n                <TableCell width=\"110\">No. Cliente</TableCell>\n                <TableCell width=\"100\">Clave</TableCell>\n                <TableCell width=\"200\">Nombre</TableCell>\n                <TableCell width=\"150\">Correo</TableCell>\n                <TableCell width=\"200\">Fecha Registro</TableCell>\n                {user === \"EMPLEADO\" ? null : (\n                  <TableCell width=\"100\">Estado</TableCell>\n                )}\n                <TableCell width=\"50\">Editar</TableCell>\n                {user === \"EMPLEADO\" ? null : (\n                  <TableCell width=\"50\">Eliminar</TableCell>\n                )}\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {obtenerClientes.map((row, index) => {\n                return (\n                  <RowsRender\n                    user={user}\n                    key={index}\n                    datos={row}\n                    handleClickOpenModal={handleClickOpenModal}\n                    setAlert={setAlert}\n                    refetch={refetch}\n                  />\n                );\n              })}\n            </TableBody>\n          </Table>\n        </TableContainer>\n        <Dialog\n          open={showModal}\n          onClose={() => setShowModal(false)}\n          aria-labelledby=\"select-dialog-cliente-venta\"\n          aria-describedby=\"select-cliente-venta-description\"\n        >\n          <DialogTitle id=\"select-dialog-cliente-venta\">\n            {\" Estas seguro que desea seleccionar este cliente ?\"}\n          </DialogTitle>\n          <DialogContent>\n            <DialogContentText id=\"select-cliente-venta-description\">\n              Al seleccionar el cliente se colocara en la venta.\n            </DialogContentText>\n          </DialogContent>\n          <DialogActions>\n            <Button\n              onClick={() => setShowModal(false)}\n              color=\"primary\"\n              autoFocus\n            >\n              cancelar\n            </Button>\n            <Button onClick={() => handleClickSelectClient()} color=\"primary\">\n              Aceptar\n            </Button>\n          </DialogActions>\n        </Dialog>\n      </Paper>\n    </Fragment>\n  );\n}\n\nconst RowsRender = ({\n  datos,\n  user,\n  handleClickOpenModal,\n  setAlert,\n  refetch,\n}) => {\n  const permisosUsuario = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n\n  const { update, setUpdate } = useContext(ClienteCtx);\n  const [loading, setLoading] = useState(false);\n\n  /* console.log(datos); */\n\n  const [actualizarCliente] = useMutation(ACTUALIZAR_CLIENTE);\n\n  const cambiarEstado = async (e) => {\n    setLoading(true);\n\n    try {\n      await actualizarCliente({\n        variables: {\n          input: {\n            estado_cliente: e.target.checked,\n          },\n          id: datos._id,\n        },\n      });\n      setUpdate(!update);\n      setLoading(false);\n    } catch (error) {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <Fragment>\n      <TableRow\n        hover\n        role=\"checkbox\"\n        tabIndex={-1}\n        onClick={(e) => handleClickOpenModal(datos, e)}\n      >\n        <TableCell>\n          <Typography>{datos.numero_cliente}</Typography>\n        </TableCell>\n        <TableCell>\n          <Typography>{datos.clave_cliente}</Typography>\n        </TableCell>\n        <TableCell>\n          <Typography>{datos.nombre_cliente}</Typography>\n        </TableCell>\n        <TableCell>\n          <Typography>{datos.email}</Typography>\n        </TableCell>\n        <TableCell>\n          <Typography>{formatoFechaCorta(datos.fecha_registro)}</Typography>\n        </TableCell>\n        {user === \"EMPLEADO\" ? null : (\n          <TableCell>\n            {loading ? (\n              <CircularProgress size={30} />\n            ) : (\n              <Switch\n                checked={datos.estado_cliente}\n                onChange={cambiarEstado}\n                color=\"primary\"\n              />\n            )}\n          </TableCell>\n        )}\n        <TableCell width={50}>\n          {permisosUsuario.accesos.catalogos.clientes.editar ===\n          false ? null : (\n            <CrearCliente\n              tipo=\"CLIENTE\"\n              accion=\"actualizar\"\n              datos={datos}\n              refetch={refetch}\n            />\n          )}\n        </TableCell>\n        <TableCell width={50}>\n          {permisosUsuario.accesos.catalogos.clientes.editar ===\n          false ? null : (\n            <EliminarCliente\n              datos={datos}\n              setAlert={setAlert}\n              refetch={refetch}\n            />\n          )}\n        </TableCell>\n      </TableRow>\n    </Fragment>\n  );\n};\n\nconst EliminarCliente = ({ datos, setAlert, refetch }) => {\n  const [open, setOpen] = useState(false);\n  const [eliminarCliente] = useMutation(ELIMINAR_CLIENTE);\n  const [loading, setLoading] = useState(false);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const eliminarClienteBD = async () => {\n    setLoading(true);\n    try {\n      const result = await eliminarCliente({\n        variables: {\n          id: datos._id,\n        },\n      });\n      if (result) {\n        const { message } = result.data.eliminarCliente;\n        setAlert({ message, status: \"success\", open: true });\n        refetch();\n      }\n      setLoading(false);\n      handleClose();\n    } catch (error) {\n      console.log(error);\n      setLoading(false);\n      if (error.message) {\n        setAlert({ message: error.message, status: \"error\", open: true });\n        return;\n      }\n      setAlert({ message: \"Hubo un error\", status: \"error\", open: true });\n    }\n  };\n\n  return (\n    <div>\n      <IconButton color=\"secondary\" onClick={() => handleClickOpen()}>\n        <Delete />\n      </IconButton>\n      <Dialog\n        open={open}\n        TransitionComponent={Transition}\n        keepMounted\n        onClose={() => handleClose()}\n        aria-labelledby=\"alert-eliminar-cliente\"\n      >\n        <DialogTitle id=\"alert-eliminar-cliente\">\n          {\"Est seguro de eliminar esto?\"}\n        </DialogTitle>\n        <DialogActions>\n          <Button\n            onClick={() => handleClose()}\n            color=\"inherit\"\n            disabled={loading}\n          >\n            Cancelar\n          </Button>\n          <Button\n            onClick={() => eliminarClienteBD()}\n            color=\"secondary\"\n            disabled={loading}\n            startIcon={\n              loading ? <CircularProgress size={20} color=\"inherit\" /> : null\n            }\n          >\n            Eliminar\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n};\n","import React, { useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Typography from \"@material-ui/core/Typography\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport Slide from \"@material-ui/core/Slide\";\nimport { FcManager } from \"react-icons/fc\";\nimport { Box, Grid, IconButton, InputBase, Paper } from \"@material-ui/core\";\nimport { Search } from \"@material-ui/icons\";\nimport ListaClientes from \"./ListaClientes\";\nimport CrearCliente from \"./CrearCliente\";\nimport { ClienteProvider } from \"../../../../context/Catalogos/crearClienteCtx\";\n\nconst useStyles = makeStyles((theme) => ({\n  appBar: {\n    position: \"relative\",\n  },\n  title: {\n    marginLeft: theme.spacing(2),\n    flex: 1,\n  },\n  icon: {\n    fontSize: 100,\n  },\n  root: {\n    display: \"flex\",\n    paddingLeft: theme.spacing(2),\n  },\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function Cliente() {\n  const classes = useStyles();\n\n  const permisosUsuario = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n\n  const [open, setOpen] = useState(false);\n  const [values, setValues] = useState(\"\");\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const pressEnter = (e) => {\n    if (e.key === \"Enter\") setValues(e.target.defaultValue);\n  };\n\n  return (\n    <div>\n      <ClienteProvider>\n        <Button onClick={handleClickOpen}>\n          <Box display=\"flex\" flexDirection=\"column\">\n            <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n              <FcManager className={classes.icon} />\n            </Box>\n            Cliente\n          </Box>\n        </Button>\n        <Dialog\n          fullScreen\n          open={open}\n          onClose={handleClose}\n          TransitionComponent={Transition}\n        >\n          <AppBar className={classes.appBar}>\n            <Toolbar>\n              <Typography variant=\"h6\" className={classes.title}>\n                Cliente\n              </Typography>\n              <Box m={1}>\n                <Button\n                  variant=\"contained\"\n                  color=\"secondary\"\n                  onClick={handleClose}\n                  size=\"large\"\n                >\n                  <CloseIcon style={{ fontSize: 30 }} />\n                </Button>\n              </Box>\n            </Toolbar>\n          </AppBar>\n          <Box m={3}>\n            <Grid container spacing={2}>\n              <Grid item md={6} xs={8}>\n                <Paper className={classes.root}>\n                  <InputBase\n                    fullWidth\n                    placeholder=\"Buscar cliente...\"\n                    onChange={(e) => setValues(e.target.value)}\n                    onKeyPress={pressEnter}\n                    value={values}\n                  />\n                  <IconButton onClick={() => setValues(values)}>\n                    <Search />\n                  </IconButton>\n                </Paper>\n              </Grid>\n              <Grid\n                item\n                md={6}\n                xs={4}\n                style={{ display: \"flex\", justifyContent: \"flex-end\" }}\n              >\n                {permisosUsuario.accesos.catalogos.clientes.agregar ===\n                false ? null : (\n                  <CrearCliente tipo=\"CLIENTE\" accion=\"registrar\" />\n                )}\n              </Grid>\n            </Grid>\n          </Box>\n          <Box mx={4}>\n            <ListaClientes tipo=\"CLIENTE\" filtro={values} />\n          </Box>\n        </Dialog>\n      </ClienteProvider>\n    </div>\n  );\n}\n","import { gql } from '@apollo/client';\n\nexport const REGISTRAR_DESCUENTOS = gql`\n\tmutation CrearDescuentoUnidad($input: ObjetoDescuentoUnidadesInput!){\n        crearDescuentoUnidad(input: $input){\n            message\n        }\n  }\n`;\n\nexport const ACTUALIZAR_DESCUENTOS = gql`\n\tmutation ActualizarDescuentoUnidad($input: ObjetoDescuentoUnidadesInput!){\n        actualizarDescuentoUnidad(input: $input){\n            message\n        }\n    }\n`;\n\nexport const DESACTIVAR_DESCUENTOS = gql`\n\tmutation DesactivarDescuentoUnidad($input: ActivarDescuentoUnidades , $id: ID!){\n        desactivarDescuentoUnidad(input: $input, id: $id){\n            message\n        }\n    }\n`;\n\nexport const ELIMINAR_DESCUENTOS = gql`\n\tmutation ELiminarDescuentoUnidad( $id: ID!){\n        eliminarDescuentoUnidad( id: $id){\n            message\n        }\n    }\n`;","import React, { useContext, useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { Delete } from '@material-ui/icons';\nimport { makeStyles, useTheme } from \"@material-ui/core\";\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport { Button, Dialog, DialogActions, DialogTitle, IconButton, Switch, Tooltip } from '@material-ui/core';\nimport Zoom from \"@material-ui/core/Zoom\";\n\nimport {  DESACTIVAR_DESCUENTOS, ELIMINAR_DESCUENTOS } from '../../../../../gql/Catalogos/descuentos';\nimport { useMutation } from '@apollo/client';\nimport SnackBarMessages from '../../../../../components/SnackBarMessages';\nimport { RegProductoContext } from '../../../../../context/Catalogos/CtxRegProducto';\nimport BackdropComponent from '../../../../../components/Layouts/BackDrop';\n\nconst headCells = [\n\t{ id: 'cantidad',  label: 'Cantidad' },\n\t{ id: 'tipo',  label: 'Tipo' },\n\t{ id: 'precio',  label: 'Precio U.' },\n\t{ id: 'precioDes',  label: 'Precio Desc.' },\n\t{ id: 'descuento',  label: '% Desc.' },\n\t{ id: 'eliminar',  label: 'Eliminar'},\n\t{ id: 'activo',  label: 'Activo'}\n];\n\nfunction EnhancedTableHead(props) {\n\tconst { onSelectAllClick, numSelected, rowCount, datosPrecios } = props;\n\tlet variable = false;\n\tdatosPrecios?.forEach(element => {\n\t\tif (element.medida) {\n\t\t\treturn variable = true;\n\t\t}\n\t});\n\treturn (\n\t\t<TableHead>\n\t\t\t<TableRow>\n\t\t\t\t<TableCell padding=\"checkbox\">\n\t\t\t\t\t<Checkbox\n\t\t\t\t\t\tindeterminate={numSelected > 0 && numSelected < rowCount}\n\t\t\t\t\t\tchecked={rowCount > 0 && numSelected === rowCount}\n\t\t\t\t\t\tonChange={onSelectAllClick}\n\t\t\t\t\t\tinputProps={{ 'aria-label': 'select all desserts' }}\n\t\t\t\t\t/>\n\t\t\t\t</TableCell>\n\t\t\t\t{headCells.map((headCell) => (\n\t\t\t\t\t<TableCell\n\t\t\t\t\t\tkey={headCell.id}\n\t\t\t\t\t\talign={headCell.numeric ? 'right' : 'left'}\n\t\t\t\t\t\tpadding={headCell.disablePadding ? 'none' : 'default'}\n\t\t\t\t\t>\n\t\t\t\t\t\t{headCell.label}\n\t\t\t\t\t</TableCell>\n\t\t\t\t))}\n\t\t\t\t{ variable === true ? (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<TableCell>Talla</TableCell>\n\t\t\t\t\t\t<TableCell>Color</TableCell>\n\t\t\t\t\t</>\n\t\t\t\t): null}\n\t\t\t\t\n\t\t\t</TableRow>\n\t\t</TableHead>\n\t);\n}\n\nEnhancedTableHead.propTypes = {\n\tclasses: PropTypes.object.isRequired,\n\tnumSelected: PropTypes.number.isRequired,\n\tonSelectAllClick: PropTypes.func.isRequired,\n\trowCount: PropTypes.number.isRequired\n};\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n\t\twidth: '100%'\n\t},\n\tpaper: {\n\t\twidth: '100%',\n\t\tmarginBottom: theme.spacing(2)\n\t},\n\ttable: {\n\t\theight: 300\n\t},\n\tvisuallyHidden: {\n\t\tborder: 0,\n\t\tclip: 'rect(0 0 0 0)',\n\t\theight: 1,\n\t\tmargin: -1,\n\t\toverflow: 'hidden',\n\t\tpadding: 0,\n\t\tposition: 'absolute',\n\t\ttop: 20,\n\t\twidth: 1\n\t},\n\tcolorContainer: {\n\t\tborder: \"1px solid rgba(0,0,0, .3)\",\n\t\tdisplay: \"flex\",\n\t\tjustifyContent: \"center\",\n\t\talignItems: \"center\",\n\t\theight: 30,\n\t\twidth: 30,\n\t\tmargin: 1,\n\t\tborderRadius: \"15%\",\n\t\tcursor: \"pointer\",\n\t  },\n}));\n\nexport default function TablaPreciosDescuentos(\n\t{ \n\t\tvalue,\n\t\tdatos,\n\t\tsetCleanList, \n\t\tcleanList, \n\t\tverificarDatos, \n\t\tsetPrecioPrueba,\n\t\tproductosRefetch,\n\t\tsetLoading,\n\t\tloading\n\t}\n\t) {\n\tconst classes = useStyles();\n\tconst { \n\t\t//es este \n\t\tdatosPreciosProducto, \n        setPreciosProductos,\n\t\tsetDatosPreciosProducto\n    } = useContext(RegProductoContext);\n\n\tconst [ alert, setAlert ] = useState({ message: '', status: '', open: false });\n\tvar porcentaje  =  parseFloat((100 - value).toFixed(6));\n\tconst [ selected, setSelected ] = useState([]);\n\tconst [ page, setPage ] = useState(0);\n\tconst [ rowsPerPage, setRowsPerPage ] = useState(5);\n\n\tif(datos){\n\t\tif (datos.medidas_producto.length > 0) {\n\t\t\tsetDatosPreciosProducto(datos.medidas_producto);\n\t\t}else{\n\t\t\tsetDatosPreciosProducto(datos.unidades_de_venta);\n\t\t}\n\t};\n\n\tconst handleSelectAllClick = (event) => {\n\t\tif (event.target.checked) {\n\t\t\tconst newSelecteds = datosPreciosProducto.map((n) => n);\n\t\t\tsetSelected(newSelecteds); \n\t\t\tverificarDatos(newSelecteds);\n\t\t\tsetPreciosProductos(newSelecteds);\n\t\t\treturn;\n\t\t};\n\t\tsetPreciosProductos([]); \n\t\tsetSelected([]);\n\t};\n\n\tconst handleClick = (event, _id) => {\n\t\tconst selectedIndex = selected.indexOf(_id);\n\t\tlet newSelected = [];\n\t\tif (selectedIndex === -1) {\n\t\t\tnewSelected = newSelected.concat(selected, _id);\n\t\t} else if (selectedIndex === 0) {\n\t\t\tnewSelected = newSelected.concat(selected.slice(1));\n\t\t} else if (selectedIndex === selected.length - 1) {\n\t\t\tnewSelected = newSelected.concat(selected.slice(0, -1));\n\t\t} else if (selectedIndex > 0) {\n\t\t\tnewSelected = newSelected.concat(selected.slice(0, selectedIndex), selected.slice(selectedIndex + 1));\n\t\t}\n\t\tsetPrecioPrueba(newSelected.length === 0 ? 0 : newSelected);\n\t\tsetPreciosProductos(newSelected);\n\t\tverificarDatos(newSelected);\n\t\tsetSelected(newSelected);\n\t};\n\t\n\tuseEffect(() => {\n\t\tsetSelected([]);\n\t\tsetCleanList(false);\n\t}, [cleanList]);\n\n\tconst isSelected = (_id) => selected.indexOf(_id) !== -1;\n\n\tconst emptyRows = rowsPerPage - Math.min(rowsPerPage, datosPreciosProducto.length - page * rowsPerPage);\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<SnackBarMessages alert={alert} setAlert={setAlert} />\n\t\t\t<Paper className={classes.paper}>\n\t\t\t\t<BackdropComponent loading={loading} setLoading={setLoading} />\n\t\t\t\t<TableContainer className={classes.table}>\n\t\t\t\t\t<Table\n\t\t\t\t\t\tclassName={classes.table}\n\t\t\t\t\t\taria-labelledby=\"tableTitle\"\n\t\t\t\t\t\tsize=\"small\" \n\t\t\t\t\t\taria-label=\"a dense table\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<EnhancedTableHead\n\t\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\t\tnumSelected={selected.length}\n\t\t\t\t\t\t\tonSelectAllClick={handleSelectAllClick}\n\t\t\t\t\t\t\trowCount={datosPreciosProducto.length}\n\t\t\t\t\t\t\tdatosPrecios={datosPreciosProducto}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t{datosPreciosProducto.map((row, index) => {\n\t\t\t\t\t\t\t\tconst isItemSelected = isSelected(row);\n\t\t\t\t\t\t\t\tconst labelId = `enhanced-table-checkbox-${index}`;\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<RowsRender\n\t\t\t\t\t\t\t\t\t\tkey={row._id}\n\t\t\t\t\t\t\t\t\t    setLoading={setLoading}\n\t\t\t\t\t\t\t\t\t\tproductosRefetch={productosRefetch}\n\t\t\t\t\t\t\t\t\t\thandleClick={handleClick} \n\t\t\t\t\t\t\t\t\t\tselected={selected} \n\t\t\t\t\t\t\t\t\t\trow={row}\n\t\t\t\t\t\t\t\t\t\tsetAlert={setAlert}\n\t\t\t\t\t\t\t\t\t\tporcentaje={porcentaje}\n\t\t\t\t\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\t\t\t\t\tdatos={datos}\n\t\t\t\t\t\t\t\t\t\tisItemSelected={isItemSelected} \n\t\t\t\t\t\t\t\t\t\tlabelId={labelId} \n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t{emptyRows > 0 && (\n\t\t\t\t\t\t\t\t<TableRow style={{ height: 53 * emptyRows }}>\n\t\t\t\t\t\t\t\t\t<TableCell colSpan={6} />\n\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t</Table>\n\t\t\t\t</TableContainer>\n\t\t\t\t\n\t\t\t</Paper>\n\t\t</div>\n\t);\n}\n\nfunction RowsRender({row, value, isItemSelected, setLoading, datos, labelId, setAlert, porcentaje, productosRefetch, handleClick, selected}) {\n\n\tconst classes = useStyles();\n\tconst theme = useTheme();\n\tconst [openModal, setOpenModal] = useState(false);\n\tconst { \n        setDatosPreciosProducto,\n    } = useContext(RegProductoContext);\n\tconst [ DesactivarDescuentoUnidad ] = useMutation(DESACTIVAR_DESCUENTOS);\n\tconst [ ELiminarDescuentoUnidad ] = useMutation(ELIMINAR_DESCUENTOS);\n\n\tconst handleChangeActivo = async () => {\n\t\tsetLoading(true);\n\t\ttry {\n\t\t\tawait DesactivarDescuentoUnidad({\n\t\t\t\tvariables: {\n\t\t\t\t\tinput: {\n\t\t\t\t\t\tdescuento_activo: !row.descuento_activo,\n\t\t\t\t\t},\n\t\t\t\t\tid: row._id\n\t\t\t\t}\n\t\t\t});\n\t\t\tsetLoading(false);\n\t\t\tproductosRefetch();\n\t\t\tsetAlert({ message: 'Estado de descuento actualizado', status: 'success', open: true });\n\t\t} catch (error) {\n\t\t\tsetAlert({ message: 'Ocurrio un problema en el servidor' , status: 'error', open: true });\n\t\t}\n\t};\n\n\tconst handleModal = () => {\n\t\tsetOpenModal(!openModal);\n\t\teditarDatos();\n\t};\n\t\n\tconst editarDatos = () => {\n\t\tif (datos.medidas_producto.length > 0) {\n            setDatosPreciosProducto(datos.medidas_producto);\n\t\t\tsetLoading(false);\n        }else{\n\t\t\tsetDatosPreciosProducto(datos.unidades_de_venta);\n\t\t\tsetLoading(false);\n        }\n\t};\n\n\tconst handleDelete = async () => {\n\t\tsetLoading(true);\n\t\ttry {\n\t\t\tproductosRefetch();\n\t\t\tconst resultado = await ELiminarDescuentoUnidad({\n\t\t\t\tvariables: {\n\t\t\t\t\tid: row._id,\n\t\t\t\t}\n\t\t\t});\n\t\t\thandleModal();\n\t\t\teditarDatos();\n\t\t\tsetAlert({ message: resultado.data.eliminarDescuentoUnidad.message, status: 'success', open: true });\n\t\t} catch (error) {\n\t\t\tsetAlert({ message: error.message, status: 'error', open: true });\n\t\t}\n\t};\n\n\treturn(\n\t\t<TableRow\n\t\t\thover\n\t\t\trole=\"checkbox\"\n\t\t\taria-checked={isItemSelected}\n\t\t\ttabIndex={-1}\n\t\t\tkey={row._id}\n\t\t\tselected={isItemSelected}\n\t\t>\n\t\t\t<TableCell padding=\"checkbox\">\n\t\t\t\t<Checkbox\n\t\t\t\t\tonClick={(event) => {\n\t\t\t\t\t\thandleClick(event, row)\n\t\t\t\t\t}}\n\t\t\t\t\tchecked={isItemSelected}\n\t\t\t\t\tinputProps={{ 'aria-labelledby': labelId }}\n\t\t\t\t/>\n\t\t\t</TableCell>\n\t\t\t<TableCell align=\"center\">{row.cantidad}</TableCell>\n\t\t\t<TableCell align=\"center\">{row?.unidad}</TableCell>\n\t\t\t<TableCell align=\"center\">{row.precio}</TableCell>\n\t\t\t<TableCell align=\"center\">\n\t\t\t\t{\n\t\t\t\t\tisItemSelected === true && selected.length > 1 ? <b style={{color: 'green'}}> ${parseFloat((row.precio * porcentaje / 100).toFixed(2))} </b>\n\t\t\t\t\t: (row.descuento === null ? 0 : <b style={{color: 'green'}}> ${row.descuento.precio_neto} </b> )\n\t\t\t\t}\n\t\t\t</TableCell>\n\t\t\t<TableCell align=\"center\">\n\t\t\t\t{isItemSelected === true && selected.length > 1 ? <b style={{color: 'red'}}> {value}% </b> : (!row.descuento || row.descuento === null ? 0 : <b style={{color: 'red'}}> {row.descuento.porciento}% </b>)}\n\t\t\t</TableCell>\n\t\t\t<TableCell align=\"center\">\n\t\t\t\t<Modal row={row} handleModal={handleModal} openModal={openModal} handleDelete={handleDelete} />\n\t\t\t</TableCell>\n\t\t\t<TableCell key={row._id} align=\"center\">\n\t\t\t\t<Switch\n\t\t\t\t\tkey={row._id}\n\t\t\t\t\tonChange={handleChangeActivo}\n\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\tdisabled={ !row.descuento ? true \n\t\t\t\t\t\t : ( row.descuento.porciento === 0 ? true : false ) }\n\t\t\t\t\tdefaultChecked={row.descuento_activo ? row.descuento_activo : false}\n\t\t\t\t\tname=\"descuento_activo\"\n\t\t\t\t\tinputProps={{ 'aria-label': 'secondary checkbox' }}\n\t\t\t\t/>\n\t\t\t</TableCell>\n\t\t\t{\n\t\t\t\trow.medida ? (\n\t\t\t\t\t<TableCell align=\"center\">{row?.medida?.talla}</TableCell>\n\t\t\t\t) :(\n\t\t\t\t\tnull\n\t\t\t\t)\n\t\t\t}\n\n\t\t\t{\n\t\t\t\trow.color ? (\n\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t<Tooltip\n\t\t\t\t\t\t\ttitle={row?.color?.nombre}\n\t\t\t\t\t\t\tplacement=\"top\"\n\t\t\t\t\t\t\tarrow\n\t\t\t\t\t\t\tTransitionComponent={Zoom}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclassName={classes.colorContainer}\n\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\tbackgroundColor:row?.color?.hex,\n\t\t\t\t\t\t\t\t\tcolor: theme.palette.getContrastText(row?.color?.hex),\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t</TableCell>\n\t\t\t\t) :(\n\t\t\t\t\tnull\n\t\t\t\t)\n\t\t\t}\n\t\t</TableRow>\n\t)\n};\n\n// MODAL PARA ELIMINAR EL DESCUENTO DE LOS PRODUCTOS\nconst Modal = ({row, handleModal, openModal, handleDelete }) => {\n\n\treturn (\n\t\t<div>\n\t\t\t<IconButton \n\t\t\t\tcolor=\"secondary\" \n\t\t\t\tonClick={handleModal}\n\t\t\t\tdisabled={ !row.descuento ? true \n\t\t\t\t\t: ( row.descuento.porciento === 0 ? true : false ) }\n\t\t\t>\n\t\t\t\t<Delete />\n\t\t\t</IconButton>\n\t\t\t<Dialog open={openModal} onClose={handleModal}>\n\t\t\t\t<DialogTitle>{'Seguro que quieres eliminar esto?'}</DialogTitle>\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Button onClick={handleModal} color=\"primary\">\n\t\t\t\t\t\tCancelar\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button color=\"secondary\" autoFocus variant=\"contained\" onClick={handleDelete}>\n\t\t\t\t\t\tEliminar\n\t\t\t\t\t</Button>\n\t\t\t\t</DialogActions>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n};\n","import React, { useCallback, useContext, useState } from 'react';\n\nimport LocalOfferIcon from '@material-ui/icons/LocalOffer';\nimport { Button, Dialog, makeStyles, DialogTitle, DialogContent, Grid, Box, Typography, TextField, Slider, IconButton } from '@material-ui/core';\nimport CloseIcon from '@material-ui/icons/Close';\n\nimport TablaPreciosDescuentos from './ListaPrecios';\n\nimport {  REGISTRAR_DESCUENTOS } from '../../../../../gql/Catalogos/descuentos';\nimport { useMutation } from '@apollo/client';\nimport SnackBarMessages from '../../../../../components/SnackBarMessages';\nimport BackdropComponent from '../../../../../components/Layouts/BackDrop';\nimport { RegProductoContext } from '../../../../../context/Catalogos/CtxRegProducto';\n\nconst useStyles = makeStyles((theme) => ({\n\tavatarGroup: {\n\t\t'& > .MuiAvatarGroup-avatar': {\n\t\t\twidth: theme.spacing(8),\n\t\t\theight: theme.spacing(8)\n\t\t}\n\t},\n\troot: {\n\t\twidth: 400\n\t},\n    rootSlice:{\n        width: 350\n    },\n\tmargin: {\n\t\theight: theme.spacing(3)\n\t},\n    rootTable:{\n        height: 300\n    }\n}));\n\nexport default function DescuentoProductos({datos, productosRefetch}) {\n    const [ CrearDescuentoUnidad ] = useMutation(REGISTRAR_DESCUENTOS);\n    const { \n        setDatosPreciosProducto,\n        preciosDescuentos, \n        setPreciosDescuentos,\n        preciosProductos, \n        setPreciosProductos,\n    } = useContext(RegProductoContext);\n\n    let iva = datos.precios.iva;\n    let ieps = datos.precios.ieps;\n    // Precio compra sin impuestos y sin utilidad\n    let PCSI = datos.precios.unidad_de_compra.precio_unitario_sin_impuesto;\n\n    const [ alert, setAlert ] = useState({ message: '', status: '', open: false });\n    const [ openDescuento, setOpenDescuento ] = useState(false);\n    const [ cleanList, setCleanList ] = useState(false);\n    const [ validate ] = useState(false);\n    const [ loading, setLoading ] = useState(false);\n\n    const [ precioPrueba, setPrecioPrueba ] = useState(0);\n    const [ value, setValue] =  useState(0);\n\n    const classes = useStyles();\n\n    const handleCloseDescuentos = () => {\n        if (datos.medidas_producto.length > 0) {\n            setDatosPreciosProducto(datos.medidas_producto);\n            setLoading(false);\n        }else{\n            setDatosPreciosProducto(datos.unidades_de_venta);\n            setLoading(false);\n        }\n        setPrecioPrueba(0);\n        setValue(0);\n        preciosDescuentos.splice(0, preciosDescuentos.length);\n    };\n\n    const cerrarModal =()=>{\n        setOpenDescuento(!openDescuento);\n        handleCloseDescuentos();\n    }\n\n    const verificarDatos = useCallback(\n        (datos) => {\n            for (let i = 0; i < datos.length; i++) {\n                if (datos[i].descuento) {\n                    if ( datos[i].descuento.porciento !== 0) {\n                        setValue(datos[i].descuento.porciento);\n                        if (datos.length === 1) {\n                            setPrecioPrueba(datos[i].descuento.precio_neto);\n                        }\n                    }\n                }\n            };\n    },\n        [datos]\n    );\n    \n    let arrayDescuento = [];\n\n    const obtenerPorcientoSlide = (event, newValue) => {\n        setValue(newValue);\n        preciosDescuentos.splice(0, preciosDescuentos.length);\n\n        for (let i = 0; i < preciosProductos.length; i++) {\n            let porcentaje  =  parseFloat((100 - newValue).toFixed(2));//Porcentaje para calculos de descuento\n            let PVCDSI = 0; // Precio venta con descuento sin impuestos\n            let dineroDescontado = 0; \n            let cantidad_unidad = preciosProductos[i].precio_unidad.cantidad_unidad;\n\n            PVCDSI = parseFloat((preciosProductos[i].precio_unidad.precio_venta * porcentaje / 100).toFixed(2));\n            dineroDescontado = parseFloat((preciosProductos[i].precio_unidad.precio_venta - PVCDSI).toFixed(2));\n\n            let iva_precio = parseFloat((PVCDSI * parseFloat(`0.${iva < 10 ? `0${iva}` : iva}`).toFixed(2)));\n\n            let ieps_precio = parseFloat((PVCDSI * parseFloat(`0.${ieps < 10 ? `0${ieps}` : ieps}`).toFixed(2)));\n            let utilidad = parseFloat((((PVCDSI - PCSI) / PCSI) * 100).toFixed(2));\n            let precio_neto = parseFloat((PVCDSI + iva_precio + ieps_precio).toFixed(2));\n            let precio_general = parseFloat((precio_neto * cantidad_unidad).toFixed(2));\n\n            arrayDescuento = {\n                _id: preciosProductos[i]._id,\n                descuento_activo: true,\n                descuento:{\n                    cantidad_unidad: cantidad_unidad,\n                    numero_precio: preciosProductos[i].precio_unidad.numero_precio,\n                    unidad_maxima: preciosProductos[i].precio_unidad.unidad_maxima,\n                    precio_general: precio_general,\n                    precio_neto: precio_neto,\n                    precio_venta: PVCDSI,\n                    iva_precio: iva_precio,\n                    ieps_precio: ieps_precio,\n                    utilidad: utilidad,\n                    porciento: newValue,\n                    dinero_descontado: dineroDescontado,\n                }\n            };\n\n            setPrecioPrueba(precio_neto);\n            if (preciosProductos.length !== 1) {\n                preciosDescuentos.push(arrayDescuento);\n            }else{\n                setPreciosDescuentos([arrayDescuento]);\n            }\n\n        }\n    };\n\n    const obtenerPrecioText = (e) => {\n        let valorText = parseFloat(e.target.value);\n        if (preciosProductos.length === 1) {\n            setPrecioPrueba(valorText);\n            \n            let suma_impuestos = parseFloat(`0.${iva < 10 ? `0${iva}` : iva}`) + parseFloat(`0.${ieps < 10 ? `0${ieps}` : ieps}`);\n            let PVSI = parseFloat((valorText / (suma_impuestos+1)).toFixed(2));\n\n            let cantidad_unidad = preciosProductos[0].precio_unidad.cantidad_unidad;\n            let dineroDescontado = 0;\n            let PVCDSI = 0; // Precio venta con descuento sin impuestos\n            let porcentaje  = parseFloat(((PVSI / preciosProductos[0].precio_unidad.precio_venta) * 100).toFixed(2));\n            let descuento = parseFloat((100 - porcentaje).toFixed(2));\n\n            PVCDSI = parseFloat((preciosProductos[0].precio_unidad.precio_venta * porcentaje / 100).toFixed(2));\n            dineroDescontado = parseFloat((preciosProductos[0].precio_unidad.precio_venta - PVCDSI).toFixed(2));\n\n            let iva_precio = parseFloat((PVCDSI * parseFloat(`0.${iva < 10 ? `0${iva}` : iva}`).toFixed(2)));\n            let ieps_precio = parseFloat((PVCDSI * parseFloat(`0.${ieps < 10 ? `0${ieps}` : ieps}`).toFixed(2)));\n            let utilidad = parseFloat((((PVCDSI - PCSI) / PCSI) * 100).toFixed(2));\n            let precio_neto = parseFloat((PVCDSI + iva_precio + ieps_precio).toFixed(2));\n            let precio_general = parseFloat((precio_neto * cantidad_unidad).toFixed(2));\n\n            arrayDescuento = {\n                \"_id\": preciosProductos[0]._id,\n                \"descuento_activo\": true,\n                \"descuento\":{\n                    cantidad_unidad: cantidad_unidad,\n                    numero_precio: preciosProductos[0].precio_unidad.numero_precio,\n                    unidad_maxima: preciosProductos[0].precio_unidad.unidad_maxima,\n                    precio_general: precio_general,\n                    precio_neto: precio_neto,\n                    precio_venta: PVCDSI,\n                    iva_precio: iva_precio,\n                    ieps_precio: ieps_precio,\n                    utilidad: utilidad,\n                    porciento: descuento,\n                    dinero_descontado: dineroDescontado,\n                }\n            };\n            \n            setValue(descuento);\n            setPreciosDescuentos([arrayDescuento]);\n        }\n    };\n\n    function valuetext(e) {\n        return `${e}`;\n    };\n\n    const saveData = async () => {\n        setLoading(true);\n\t\ttry {\n            await CrearDescuentoUnidad({\n                variables: {\n                    input: {\n                        descuentos: preciosDescuentos\n                    }\n                }\n            });\n            handleCloseDescuentos()\n            productosRefetch();\n            setValue(0);\n            setPreciosProductos([]);\n            setPreciosDescuentos([]);\n            setCleanList(!cleanList);\n            setAlert({ message: 'Listo descuentos realizados!', status: 'success', open: true });\n\t\t} catch (error) {\n            setAlert({ message: 'Oh no, ocurrio un problema con el servidor!', status: 'error', open: true });\n\t\t}\n\t};\n\n    const validacion = () => {\n        if (datos.medidas_producto.length > 0 ) {\n            for (let i = 0; i < datos.medidas_producto.length; i++) {\n                if (datos.medidas_producto[i]?.descuento_activo === true) {\n                    return \"primary\";\n                }else{\n                    return \"default\";\n                }\n            }\n        }else{\n            for (let i = 0; i < datos.unidades_de_venta.length; i++) {\n                if (datos.unidades_de_venta[i]?.descuento_activo === true) {\n                    return \"primary\";\n                }else{\n                    return \"default\";\n                }\n            }\n        }\n    }\n\n    return (\n        <div>\n            <SnackBarMessages alert={alert} setAlert={setAlert} />\n            <IconButton\n                color={validacion()}\n                onClick={cerrarModal}\n                disabled={datos.inventario_general && datos.inventario_general.length > 0 && datos.inventario_general[0].eliminado === true}\n            >\n               <LocalOfferIcon />\n            </IconButton>\n            <Dialog open={openDescuento} onClose={handleCloseDescuentos} fullWidth maxWidth=\"lg\">\n            <BackdropComponent loading={loading} setLoading={setLoading} />\n\t\t\t\t<DialogTitle>\n                    <Grid container>\n                        <Box flexGrow={1} display=\"flex\" alignItems=\"center\">\n                            {'Descuento de Producto'}\n                        </Box>\n                        <Box m={1}>\n                            <Button variant=\"contained\" color=\"secondary\" onClick={cerrarModal} size=\"large\">\n                                <CloseIcon />\n                            </Button>\n                        </Box>\n                    </Grid>\n                </DialogTitle>\n\t\t\t\t<DialogContent>\n                    <Box textAlign=\"center\">\n                        <Typography>\n                            <b>Nombre comercial: </b>\n                            {datos.datos_generales.nombre_comercial ? datos.datos_generales.nombre_comercial : '-'}\n                        </Typography>\n                    </Box>\n                    <Box textAlign=\"center\">\n                        <Typography>\n                            <b>Nombre genrico: </b>\n                            {datos.datos_generales.nombre_generico ? datos.datos_generales.nombre_generico : '-'}\n                        </Typography>\n                    </Box>\n                    <Grid container>\n                        <Grid item lg={8} md={6} xs={12}> \n                            <Box p={1}>\n                                <TablaPreciosDescuentos\n                                    verificarDatos={verificarDatos}\n                                    productosRefetch={productosRefetch}\n                                    datos={datos}\n                                    value={value}\n                                    cleanList={cleanList}\n                                    setCleanList={setCleanList}\n                                    setPrecioPrueba={setPrecioPrueba}\n                                    setLoading={setLoading}\n                                    loading={loading}\n                                />\n                            </Box>\n                        </Grid>\n                        <Grid item lg={4} md={6} xs={12}> \n                            <Box mt={5} dislay=\"flex\" justifyContent=\"center\">\n                                <div className={classes.root}>\n                                    <Box textAlign=\"center\">\n                                        <Typography id=\"discrete-slider-always\" gutterBottom>\n                                            <b>Porcentaje de descuento</b>\n                                        </Typography>\n                                    </Box>\n                                    <Box my={5} />\n                                    <Box display='flex' justifyContent=\"center\" justifyItems=\"center\" className={classes.rootSlice}>\n                                        <Slider\n                                            disabled={preciosProductos.length === 0 ? true : false}\n                                            getAriaValueText={valuetext}\n                                            value={value.toFixed(2)}\n                                            aria-labelledby=\"discrete-slider-small-steps\"\n                                            valueLabelDisplay=\"auto\"\n                                            onChange={obtenerPorcientoSlide} \n                                        />\n                                    </Box>\n                                </div>\n                            </Box>\n                            <Box mt={5} display=\"flex\" justifyContent=\"center\">\n                                {preciosProductos.length === 1 ? ( \n                                    <div>\n                                        <Typography>Precio con Descuento</Typography>\n                                        <TextField\n                                            type=\"number\"\n                                            InputProps={{ inputProps: { min: 0} }}\n                                            size=\"small\"\n                                            variant=\"outlined\"\n                                            value={ precioPrueba }\n                                            onChange={(e) => obtenerPrecioText(e)}\n                                        />\n                                    </div>\n                                ) : (\n                                    null\n                                )}\n\n                            </Box>\n                            <Box mt={2} display=\"flex\" justifyContent=\"center\">\n                                <Button \n                                    disabled={preciosProductos.length === 0 || validate === true ? true : false}\n                                    variant=\"contained\" \n                                    color=\"primary\" \n                                    size=\"large\"\n                                    onClick={saveData}\n                                >\n                                    Guardar \n                                </Button>\n                            </Box>\n                        </Grid>\n                    </Grid>\n\t\t\t\t</DialogContent>\n\t\t\t</Dialog>\n        </div>\n    )\n}\n","import React, { useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport {\n  Drawer,\n  Typography,\n  Box,\n  Grid,\n  Button,\n  IconButton,\n} from \"@material-ui/core\";\nimport { Close, CropOriginal, ListAlt } from \"@material-ui/icons\";\n\nconst useStyles = makeStyles((theme) => ({\n  drawWidth: {\n    width: \"50vw\",\n    [theme.breakpoints.down(\"sm\")]: {\n      width: \"100vw\",\n    },\n  },\n}));\n\nexport default function InfoProductoDrawer({ producto }) {\n  const { datos_generales, imagenes } = producto;\n  const classes = useStyles();\n  const [open, setOpen] = useState(false);\n\n  const toggleDrawer = () => setOpen(!open);\n\n  return (\n    <div>\n      <IconButton\n        color=\"default\"\n        variant=\"contained\"\n        onClick={() => toggleDrawer()}\n      >\n        <ListAlt />\n      </IconButton>\n      <Drawer anchor=\"right\" open={open} onClose={() => toggleDrawer()}>\n        <div className={classes.drawWidth}>\n          <Grid container>\n            <Grid\n              item\n              md={imagenes.length > 1 ? 6 : 12}\n              style={{ display: \"flex\", justifyContent: \"center\" }}\n            >\n              <Box\n                m={1}\n                width=\"300px\"\n                height=\"300px\"\n                display=\"flex\"\n                justifyContent=\"center\"\n                alignItems=\"center\"\n              >\n                {imagenes.length > 0 ? (\n                  <img\n                    width=\"100%\"\n                    alt=\"img producto\"\n                    src={imagenes[0].url_imagen}\n                    /* src=\"https://www.dportenis.mx/wcsstore/ExtendedSitesCatalogAssetStore/images/catalog/zoom/1020139-0001V1.jpg\" */\n                  />\n                ) : (\n                  <CropOriginal style={{ fontSize: 90 }} />\n                )}\n              </Box>\n            </Grid>\n            {imagenes.length > 1 ? (\n              <Grid item md={6}>\n                <Grid container>\n                  {imagenes.map((res, index) => {\n                    return index > 0 ? (\n                      <Grid item key={index}>\n                        <Box\n                          m={1}\n                          key={index}\n                          height={120}\n                          width={120}\n                          display=\"flex\"\n                          justifyContent=\"center\"\n                          alignItems=\"center\"\n                        >\n                          <img\n                            width=\"100%\"\n                            alt=\"img producto\"\n                            src={res.url_imagen}\n                          />\n                        </Box>\n                      </Grid>\n                    ) : null;\n                  })}\n                </Grid>\n              </Grid>\n            ) : null}\n          </Grid>\n          <Box m={5}>\n            <Grid container spacing={3} justify=\"center\">\n              <Grid item>\n                <Typography>\n                  <b>Cdigo de barras: </b>\n                  {datos_generales.codigo_barras\n                    ? datos_generales.codigo_barras\n                    : \"-\"}\n                </Typography>\n                <Typography>\n                  <b>Clave alterna: </b>\n                  {datos_generales.clave_alterna\n                    ? datos_generales.clave_alterna\n                    : \"-\"}\n                </Typography>\n                <Typography>\n                  <b>Clave producto del SAT: </b>\n                  {datos_generales.clave_producto_sat &&\n                  datos_generales.clave_producto_sat.Value\n                    ? datos_generales.clave_producto_sat.Value: \"-\"}\n                </Typography>\n                <Typography>\n                  <b>Nombre comercial: </b>\n                  {datos_generales.nombre_comercial\n                    ? datos_generales.nombre_comercial\n                    : \"-\"}\n                </Typography>\n                <Typography>\n                  <b>Nombre genrico: </b>\n                  {datos_generales.nombre_generico\n                    ? datos_generales.nombre_generico\n                    : \"-\"}\n                </Typography>\n                <Typography>\n                  <b>Descripcin: </b>\n                  {datos_generales.descripcion\n                    ? datos_generales.descripcion\n                    : \"-\"}\n                </Typography>\n              </Grid>\n              <Grid item>\n                <Typography>\n                  <b>Tipo de producto: </b>\n                  {datos_generales.tipo_producto\n                    ? datos_generales.tipo_producto\n                    : \"-\"}\n                </Typography>\n                <Typography>\n                  <b>Categoria: </b>\n                  {datos_generales.categoria ? datos_generales.categoria : \"-\"}\n                </Typography>\n                <Typography>\n                  <b>Subcategoria: </b>\n                  {datos_generales.subcategoria\n                    ? datos_generales.subcategoria\n                    : \"-\"}\n                </Typography>\n                <Typography>\n                  <b>Departamento: </b>\n                  {datos_generales.departamento\n                    ? datos_generales.departamento\n                    : \"-\"}\n                </Typography>\n                <Typography>\n                  <b>Marca: </b>\n                  {datos_generales.marca ? datos_generales.marca : \"-\"}\n                </Typography>\n              </Grid>\n            </Grid>\n          </Box>\n        </div>\n        <Box\n          position=\"absolute\"\n          bottom={16}\n          width=\"100%\"\n          display=\"flex\"\n          justifyContent=\"center\"\n        >\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            size=\"large\"\n            onClick={() => toggleDrawer()}\n            startIcon={<Close />}\n          >\n            Cerrar\n          </Button>\n        </Box>\n      </Drawer>\n    </div>\n  );\n}\n","import React, { forwardRef, Fragment, useContext, useState } from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Slide from \"@material-ui/core/Slide\";\nimport { CircularProgress, IconButton } from \"@material-ui/core\";\nimport { Delete } from \"@material-ui/icons\";\n/* import SnackBarMessages from '../../../../components/SnackBarMessages'; */\nimport { useMutation } from \"@apollo/client\";\nimport { ELIMINAR_PRODUCTO } from \"../../../../gql/Catalogos/productos\";\nimport { RegProductoContext } from \"../../../../context/Catalogos/CtxRegProducto\";\n\nconst Transition = forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function EliminarProducto({ datos, productosRefetch }) {\n  const [open, setOpen] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n  /* const [ alert, setAlert ] = useState({ message: '', status: '', open: false }); */\n  const { actualizarLista, setActualizarLista, setAlert } = useContext(\n    RegProductoContext\n  );\n\n  const [eliminarProducto] = useMutation(ELIMINAR_PRODUCTO);\n\n  const handleToggleModal = () => setOpen(!open);\n\n  const eliminarProductoBD = async () => {\n    setLoading(true);\n    try {\n      const result = await eliminarProducto({\n        variables: {\n          id: datos._id,\n        },\n      });\n      setActualizarLista(!actualizarLista);\n      productosRefetch();\n      setAlert({\n        message: `Listo! ${result.data.eliminarProducto.message}`,\n        status: \"success\",\n        open: true,\n      });\n      setLoading(false);\n      handleToggleModal();\n    } catch (error) {\n      setAlert({\n        message: `Error: ${error.message}`,\n        status: \"error\",\n        open: true,\n      });\n      setLoading(false);\n      handleToggleModal();\n    }\n  };\n\n  return (\n    <Fragment>\n      {/* <SnackBarMessages alert={alert} setAlert={setAlert} /> */}\n      <IconButton\n        onClick={() => handleToggleModal()}\n        disabled={\n            datos.inventario_general && datos.inventario_general.length === 0\n              ? true\n              : datos.inventario_general[0].eliminado === true\n              ? true\n              : false\n          }\n      >\n        <Delete\n          color={\n            datos.inventario_general && datos.inventario_general.length === 0\n              ? \"disabled\"\n              : datos.inventario_general[0].eliminado === true\n              ? \"disabled\"\n              : \"error\"\n          }\n        />\n      </IconButton>\n      <Dialog\n        open={open}\n        TransitionComponent={Transition}\n        keepMounted\n        onClose={() => handleToggleModal()}\n        aria-labelledby=\"alert-dialog-delete-producto\"\n      >\n        <DialogTitle id=\"alert-dialog-delete-producto\">\n          {\"Ests seguro de eliminar este producto?\"}\n        </DialogTitle>\n        <DialogActions style={{ display: \"flex\", justifyContent: \"center\" }}>\n          <Button onClick={() => handleToggleModal()} color=\"inherit\">\n            Cancelar\n          </Button>\n          <Button\n            onClick={() => eliminarProductoBD()}\n            color=\"secondary\"\n            startIcon={\n              loading ? <CircularProgress color=\"inherit\" size={20} /> : null\n            }\n          >\n            Eliminar\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </Fragment>\n  );\n}\n","import React, { Fragment } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport CrearProducto from \"./crearProducto\";\nimport DescuentoProductos from \"./Descuentos/Descuento\";\nimport InfoProductoDrawer from \"./infoProductoDrawer\";\nimport EliminarProducto from \"./EliminarProducto\";\n\nconst useStyles = makeStyles({\n  root: {\n    width: \"100%\",\n  },\n  container: {\n    maxHeight: \"70vh\",\n\t'& ::-webkit-scrollbar': {\n\t\tdisplay: 'none'\n\t}\n  },\n  avatar: {\n    width: 130,\n    height: 130,\n  },\n});\n\nexport default function ListaProductos({ obtenerProductos, productosRefetch }) {\n\n  const classes = useStyles();\n\n  return (\n    <div className={classes.root}>\n      <TableContainer className={classes.container}>\n        <Table stickyHeader aria-label=\"sticky table\">\n          <TableHead>\n            <TableRow>\n              <TableCell>Codigo barras</TableCell>\n              <TableCell>Clave alterna</TableCell>\n              <TableCell>Nombre comercial</TableCell>\n              <TableCell>Existencia</TableCell>\n              <TableCell>Tipo</TableCell>\n              <TableCell>Informacin</TableCell>\n              <TableCell>Editar</TableCell>\n              <TableCell>Descuento</TableCell>\n              <TableCell>Eliminar</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody className=\"hide-scroll\">\n            {obtenerProductos.map((producto, index) => {\n              return (\n                <RenderTableRows\n                  key={index}\n                  producto={producto}\n                  productosRefetch={productosRefetch}\n                />\n              );\n            })}\n          </TableBody>\n        </Table>\n      </TableContainer>\n    </div>\n  );\n}\n\nconst RenderTableRows = ({ producto, productosRefetch }) => {\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n\n  return (\n    <Fragment>\n      <TableRow hover>\n        <TableCell>{producto.datos_generales.codigo_barras}</TableCell>\n        <TableCell>{producto.datos_generales.clave_alterna}</TableCell>\n        <TableCell>{producto.datos_generales.nombre_comercial}</TableCell>\n        <TableCell align=\"center\" padding=\"checkbox\">\n          {producto.inventario_general.map(\n            (existencia) =>\n              `${existencia.cantidad_existente} ${existencia.unidad_inventario}`\n          )}\n        </TableCell>\n        <TableCell>{producto.datos_generales.tipo_producto}</TableCell>\n        <TableCell align=\"center\" padding=\"checkbox\">\n          <InfoProductoDrawer producto={producto} />\n        </TableCell>\n        <TableCell align=\"center\" padding=\"checkbox\">\n          {sesion.accesos.catalogos.productos.editar === false ? (null):(\n            <CrearProducto\n              accion={true}\n              datos={producto}\n              productosRefetch={productosRefetch}\n            />\n          )}\n        </TableCell>\n        <TableCell align=\"center\" padding=\"checkbox\">\n          <DescuentoProductos\n            datos={producto}\n            productosRefetch={productosRefetch}\n          />\n        </TableCell>\n        <TableCell align=\"center\" padding=\"checkbox\">\n          {sesion.accesos.catalogos.productos.agregar === false ? (null):(\n            <EliminarProducto\n              datos={producto}\n              productosRefetch={productosRefetch}\n            />\n          )}\n        </TableCell>\n      </TableRow>\n    </Fragment>\n  );\n};\n","import React, { useState, forwardRef, useEffect, useContext } from 'react';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Slide from '@material-ui/core/Slide';\nimport { RestoreFromTrash, Publish } from '@material-ui/icons';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport { Box, IconButton, CircularProgress, Typography } from '@material-ui/core';\nimport { Fragment } from 'react';\nimport ErrorPage from '../../../../components/ErrorPage';\nimport { ACTIVAR_PRODUCTOS, PRODUCTOS_ELIMINADOS } from '../../../../gql/Catalogos/productos';\nimport { useMutation, useQuery } from '@apollo/client';\n/* import SnackBarMessages from '../../../../components/SnackBarMessages'; */\nimport { RegProductoContext } from '../../../../context/Catalogos/CtxRegProducto';\n\nconst Transition = forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function ProdcutosEliminados({productosActivosRefetch}) {\n\tconst [ open, setOpen ] = useState(false);\n\n\tconst handleModalToggle = () => setOpen(!open);\n\n\treturn (\n\t\t<div>\n\t\t\t<Button disableElevation color=\"primary\" onClick={handleModalToggle} size=\"large\" startIcon={<RestoreFromTrash />}>\n\t\t\t\tProductos inactivos\n\t\t\t</Button>\n\t\t\t<Dialog\n\t\t\t\topen={open}\n\t\t\t\tTransitionComponent={Transition}\n\t\t\t\tkeepMounted\n\t\t\t\tonClose={handleModalToggle}\n\t\t\t\taria-labelledby=\"dialog-productos-eliminados\"\n\t\t\t\tmaxWidth=\"md\"\n\t\t\t\tfullWidth\n\t\t\t>\n\t\t\t\t<DialogTitle id=\"dialog-productos-eliminados\">{'Productos inactivos'}</DialogTitle>\n\t\t\t\t<DialogContent>\n\t\t\t\t\t<TablaProductosEliminados productosActivosRefetch={productosActivosRefetch} />\n\t\t\t\t</DialogContent>\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Button variant=\"contained\" onClick={handleModalToggle} color=\"primary\" size=\"large\">\n\t\t\t\t\t\tCerrar\n\t\t\t\t\t</Button>\n\t\t\t\t</DialogActions>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n}\n\nconst TablaProductosEliminados = ({productosActivosRefetch}) => {\n\tconst sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\tconst { actualizarLista } = useContext(RegProductoContext);\n\n\t/* Queries */\n\tconst { loading, data, error, refetch } = useQuery(PRODUCTOS_ELIMINADOS, {\n\t\tvariables: { sucursal: sesion.sucursal._id, empresa: sesion.empresa._id }\n\t});\n\n\tuseEffect(() => {\n\t\trefetch();\n\t}, [ refetch, actualizarLista ]);\n\n\tif (loading)\n\t\treturn (\n\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" height=\"30vh\">\n\t\t\t\t<CircularProgress />\n\t\t\t</Box>\n\t\t);\n\tif (error) {\n\t\treturn <ErrorPage error={error} />;\n\t}\n\n\tif (!loading && !error && !data) {\n\t\treturn (\n\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" height=\"30vh\">\n\t\t\t\t<Typography variant=\"h6\">No hay productos inactivos</Typography>\n\t\t\t</Box>\n\t\t);\n\t}\n\n\tconst { obtenerProductosInactivos } = data;\n\n\treturn (\n\t\t<Box height=\"60vh\">\n\t\t\t<TableContainer>\n\t\t\t\t<Table aria-label=\"simple table\" size=\"small\">\n\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t<TableCell align=\"left\">Cdigo de barras</TableCell>\n\t\t\t\t\t\t\t<TableCell align=\"left\">Clave alterna</TableCell>\n\t\t\t\t\t\t\t<TableCell>Nombre comercial</TableCell>\n\t\t\t\t\t\t\t<TableCell align=\"right\">Reactivar</TableCell>\n\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t</TableHead>\n\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t{obtenerProductosInactivos.map((producto, index) => (\n\t\t\t\t\t\t\t<RenderProductosTabla key={index} datos={producto} refetch={refetch} productosActivosRefetch={productosActivosRefetch} />\n\t\t\t\t\t\t))}\n\t\t\t\t\t</TableBody>\n\t\t\t\t</Table>\n\t\t\t</TableContainer>\n\t\t</Box>\n\t);\n};\n\nconst RenderProductosTabla = ({ datos, refetch, productosActivosRefetch }) => {\n\tconst [ open, setOpen ] = useState(false);\n\tconst [ loading, setLoading ] = useState(false);\n\tconst { datos_generales } = datos.producto;\n    /* const [ alert, setAlert ] = useState({ message: '', status: '', open: false }); */\n\tconst { setAlert } = useContext(RegProductoContext);\n\n    const [ activarProducto ] = useMutation(ACTIVAR_PRODUCTOS);\n\n\tconst handleDeleteToggle = () => setOpen(!open);\n\n\tconst reactivarProducto = async () => {\n\t\tsetLoading(true);\n\t\ttry {\n\t\t\tconst result = await activarProducto({\n\t\t\t\tvariables: {\n\t\t\t\t\tid: datos._id\n\t\t\t\t}\n\t\t\t});\n            refetch();\n\t\t\tproductosActivosRefetch();\n\t\t\tsetAlert({ message: `Listo! ${result.data.activarProducto.message}`, status: 'success', open: true });\n\t\t\tsetLoading(false);\n\t\t\thandleDeleteToggle();\n\t\t} catch (error) {\n\t\t\tsetAlert({ message: `Error: ${error.message}`, status: 'error', open: true });\n\t\t\tsetLoading(false);\n\t\t}\n\t};\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<TableRow>\n\t\t\t\t<TableCell align=\"left\">{datos_generales.codigo_barras}</TableCell>\n\t\t\t\t<TableCell align=\"left\">{datos_generales.clave_alterna}</TableCell>\n\t\t\t\t<TableCell>{datos_generales.nombre_comercial}</TableCell>\n\t\t\t\t<TableCell align=\"right\">\n\t\t\t\t\t{loading ? (\n\t\t\t\t\t\t<IconButton color=\"primary\" disabled onClick={handleDeleteToggle}>\n\t\t\t\t\t\t\t<CircularProgress size={26} />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<IconButton color=\"primary\" onClick={handleDeleteToggle}>\n\t\t\t\t\t\t\t<Publish />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t)}\n\t\t\t\t</TableCell>\n\t\t\t</TableRow>\n\t\t\t<Dialog open={open} onClose={handleDeleteToggle} aria-labelledby=\"reactivar-producto-dialog\">\n\t\t\t\t<DialogTitle id=\"reactivar-producto-dialog\">{'Se reactivar este producto'}</DialogTitle>\n\t\t\t\t{/* <SnackBarMessages alert={alert} setAlert={setAlert} />        */}  \n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Button onClick={handleDeleteToggle} color=\"inherit\">\n\t\t\t\t\t\tCancelar\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button onClick={() => reactivarProducto()} color=\"primary\" autoFocus>\n\t\t\t\t\t\tAceptar\n\t\t\t\t\t</Button>\n\t\t\t\t</DialogActions>\n\t\t\t</Dialog>\n\t\t</Fragment>\n\t);\n};\n","import React, { useContext, useState } from \"react\";\nimport Slide from \"@material-ui/core/Slide\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport Button from \"@material-ui/core/Button\";\nimport Tabs from \"@material-ui/core/Tabs\";\nimport Tab from \"@material-ui/core/Tab\";\nimport Box from \"@material-ui/core/Box\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport OutlinedInput from \"@material-ui/core/OutlinedInput\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport CrearProducto from \"./crearProducto\";\nimport ListaProductos from \"./ListaProductos\";\nimport { RegProductoContext } from \"../../../../context/Catalogos/CtxRegProducto\";\nimport { useQuery } from \"@apollo/client\";\nimport { OBTENER_PRODUCTOS } from \"../../../../gql/Catalogos/productos\";\nimport ErrorPage from \"../../../../components/ErrorPage\";\nimport { Search, Close, ArrowBack } from \"@material-ui/icons\";\nimport ProductosEliminados from \"./ProductosEliminados\";\nimport SnackBarMessages from \"../../../../components/SnackBarMessages\";\nimport { makeStyles } from \"@material-ui/core\";\n\nconst useStyles = makeStyles((theme) => ({\n  appBar: {\n    position: \"relative\",\n  },\n  title: {\n    marginLeft: theme.spacing(2),\n    flex: 1,\n  },\n  icon: {\n    fontSize: 100,\n  },\n  iconSvg: {\n    width: 100,\n  },\n  root: {\n    flexGrow: 1,\n    backgroundColor: theme.palette.background.paper,\n  },\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function Productos() {\n  const classes = useStyles();\n  const [open, setOpen] = React.useState(false);\n  const { alert, setAlert } = useContext(RegProductoContext);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  return (\n    <div>\n      <Button fullWidth onClick={() => handleClickOpen()}>\n        <Box display=\"flex\" flexDirection=\"column\">\n          <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n            <img\n              src=\"https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/productos.svg\"\n              alt=\"icono ropa\"\n              className={classes.iconSvg}\n            />\n          </Box>\n          Productos\n        </Box>\n      </Button>\n      <SnackBarMessages alert={alert} setAlert={setAlert} />\n      <Dialog\n        fullScreen\n        open={open}\n        onClose={handleClose}\n        TransitionComponent={Transition}\n      >\n        <AppBar className={classes.appBar}>\n          <Toolbar>\n            <Typography variant=\"h6\" className={classes.title}>\n              Productos\n            </Typography>\n\n            <Box m={1}>\n              <Button\n                variant=\"contained\"\n                color=\"secondary\"\n                onClick={handleClose}\n                size=\"large\"\n              >\n                <CloseIcon style={{ fontSize: 30 }} />\n              </Button>\n            </Box>\n          </Toolbar>\n        </AppBar>\n        <RegistroComponent />\n      </Dialog>\n    </div>\n  );\n}\n\nconst RegistroComponent = () => {\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n  const [filtro, setFiltro] = useState(\"\");\n  const [busqueda, setBusqueda] = useState(\"\");\n  const [existencias, setExistencias] = useState(true);\n  const [value, setValue] = useState(0);\n  const classes = useStyles();\n\n  const handleChange = (event, value) => {\n    setValue(value);\n    if (value === 0) {\n      setExistencias(true);\n    } else {\n      setExistencias(false);\n    }\n  };\n\n  /* Queries */\n  const { loading, data, error, refetch } = useQuery(OBTENER_PRODUCTOS, {\n    variables: {\n      sucursal: sesion.sucursal._id,\n      empresa: sesion.empresa._id,\n      filtro,\n      existencias,\n    },\n    fetchPolicy: \"network-only\",\n  });\n\n  if (loading)\n    return (\n      <Box\n        display=\"flex\"\n        justifyContent=\"center\"\n        alignItems=\"center\"\n        height=\"30vh\"\n      >\n        <CircularProgress />\n      </Box>\n    );\n  if (error) {\n    return <ErrorPage error={error} />;\n  }\n\n  const { obtenerProductos } = data;\n\n  const filtrarProductos = (event) => {\n    event.preventDefault();\n    if (busqueda === \"\") {\n      setFiltro(\"\");\n      refetch({ filtro: \"\" });\n      return;\n    }\n    setFiltro(busqueda);\n  };\n\n  const reload = () => {\n    setBusqueda(\"\");\n    setFiltro(\"\");\n    refetch({ filtro: \"\" });\n  };\n\n  return (\n    <div>\n      <Box mx={4} my={3} display=\"flex\">\n        <Box style={{ width: \"500px\" }}>\n          <form\n            onSubmit={filtrarProductos}\n            style={{ display: \"flex\", alignItems: \"center\" }}\n          >\n            <FormControl variant=\"outlined\" fullWidth size=\"small\">\n              <OutlinedInput\n                id=\"search-producto\"\n                type=\"text\"\n                value={busqueda}\n                onChange={(e) => setBusqueda(e.target.value)}\n                endAdornment={\n                  <InputAdornment position=\"start\">\n                    <IconButton\n                      type=\"submit\"\n                      aria-label=\"search producto\"\n                      edge=\"end\"\n                    >\n                      <Search />\n                    </IconButton>\n                  </InputAdornment>\n                }\n              />\n            </FormControl>\n            {filtro !== \"\" ? (\n              <IconButton color=\"primary\" onClick={() => reload()}>\n                <ArrowBack />\n              </IconButton>\n            ) : null}\n          </form>\n        </Box>\n\n        <Box flexGrow={1} />\n        <Box display=\"flex\">\n          <ProductosEliminados productosActivosRefetch={refetch} />\n          <Box mx={1} />\n          {sesion.accesos.catalogos.productos.agregar === false ? null : (\n            <CrearProducto accion={false} productosRefetch={refetch} />\n          )}\n        </Box>\n      </Box>\n      <Box mx={4}>\n        <div className={classes.root}>\n          <Tabs\n            indicatorColor=\"primary\"\n            value={value}\n            onChange={handleChange}\n            aria-label=\"simple tabs example\"\n          >\n            <Tab label=\"Productos de Sucursal\" />\n            <Tab label=\"Todos los productos\" />\n          </Tabs>\n        </div>\n        <ListaProductos\n          obtenerProductos={obtenerProductos}\n          productosRefetch={refetch}\n        />\n      </Box>\n    </div>\n  );\n};\n","import React from 'react'\nimport { RegProductoProvider } from '../../../../context/Catalogos/CtxRegProducto'\nimport Productos from './Productos'\n \nexport default function ProductoIndex(){\n\n    return (\n        <RegProductoProvider>\n            <Productos />\n        </RegProductoProvider>\n    )\n}","import React, { useEffect, useState, Fragment } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TablePagination from '@material-ui/core/TablePagination';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport { Box, Button, Dialog, DialogActions, DialogTitle, IconButton, TextField, Typography } from '@material-ui/core';\nimport { Close, Delete, Edit } from '@material-ui/icons';\n\nimport { useMutation } from '@apollo/client';\nimport { ELIMINAR_TALLA } from '../../../../gql/Catalogos/tallas';\nimport SnackBarMessages from '../../../../components/SnackBarMessages';\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n\t\twidth: '100%'\n\t},\n\tpaper: {\n\t\twidth: '100%',\n\t\tmarginBottom: theme.spacing(2)\n\t}\n}));\n\nexport default function TablaTallas({ tipo, datos, toUpdate, setToUpdate, setValue, refetch }) {\n\tconst sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\n\tconst classes = useStyles();\n\tconst [ page, setPage ] = useState(0);\n\tconst [ rowsPerPage, setRowsPerPage ] = useState(7);\n\tconst [ busqueda, setBusqueda ] = useState('');\n\tconst [ productosFiltrados, setProductosFiltrados ] = useState([]);\n\tconst [ alert, setAlert ] = useState({\n\t\tstatus: '',\n\t\tmessage: '',\n\t\topen: false\n\t});\n\n\tconst handleChangePage = (event, newPage) => {\n\t\tsetPage(newPage);\n\t};\n\n\tconst handleChangeRowsPerPage = (event) => {\n\t\tsetRowsPerPage(parseInt(event.target.value, 10));\n\t\tsetPage(0);\n\t};\n\n\tuseEffect(\n\t\t() => {\n\t\t\tsetProductosFiltrados(\n\t\t\t\tdatos.filter((datos) => {\n\t\t\t\t\treturn datos.talla.toLowerCase().includes(busqueda.toLowerCase());\n\t\t\t\t})\n\t\t\t);\n\t\t},\n\t\t[ busqueda, datos ]\n\t);\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<SnackBarMessages alert={alert} setAlert={setAlert} />\n\t\t\t<Paper className={classes.paper}>\n\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tplaceholder=\"Buscar...\"\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tonChange={(e) => setBusqueda(e.target.value)}\n\t\t\t\t\t/>\n\t\t\t\t</Box>\n\t\t\t\t<TableContainer>\n\t\t\t\t\t<Table\n\t\t\t\t\t\tclassName={classes.table}\n\t\t\t\t\t\taria-labelledby=\"tableTitle\"\n\t\t\t\t\t\tsize=\"medium\"\n\t\t\t\t\t\taria-label=\"enhanced table\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t<TableCell>{tipo === 'ROPA' ? 'Talla' : 'Nmero'}</TableCell>\n\t\t\t\t\t\t\t\t{sesion.accesos.catalogos.tallas_numeros.editar === false ? (null) : (\n\t\t\t\t\t\t\t\t\t<TableCell padding=\"default\">Editar</TableCell>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t{sesion.accesos.catalogos.tallas_numeros.eliminar === false ? (null) : (\n\t\t\t\t\t\t\t\t\t<TableCell padding=\"default\">Eliminar</TableCell>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t</TableHead>\n\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t{productosFiltrados\n\t\t\t\t\t\t\t\t.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\n\t\t\t\t\t\t\t\t.map((row, index) => (\n\t\t\t\t\t\t\t\t\t<RowsRender key={index} row={row} setAlert={setAlert} tipo={tipo} toUpdate={toUpdate} setToUpdate={setToUpdate} setValue={setValue} refetch={refetch} />\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t</Table>\n\t\t\t\t</TableContainer>\n\t\t\t\t<TablePagination\n\t\t\t\t\trowsPerPageOptions={[]}\n\t\t\t\t\tcomponent=\"div\"\n\t\t\t\t\tcount={datos.length}\n\t\t\t\t\trowsPerPage={rowsPerPage}\n\t\t\t\t\tpage={page}\n\t\t\t\t\tonChangePage={handleChangePage}\n\t\t\t\t\tonChangeRowsPerPage={handleChangeRowsPerPage}\n\t\t\t\t/>\n\t\t\t</Paper>\n\t\t</div>\n\t);\n}\n\nconst RowsRender = ({ row, setAlert, tipo, toUpdate, setToUpdate, setValue, refetch }) => {\n\tconst sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\n\tconst [ openModal, setOpenModal ] = useState(false);\n\tconst handleModal = () => setOpenModal(!openModal);\n\tconst [ eliminarTalla ] = useMutation(ELIMINAR_TALLA);\n\n \n\tconst handleDelete = async () => {\n\t\n\t\ttry {\n\t\t\tconst resp = await eliminarTalla({\n\t\t\t\tvariables: {\n\t\t\t\t\tid: row._id,\n\t\t\t\t\tinput:{\n\t\t\t\t\t\ttipo:tipo,\n\t\t\t\t\t\ttalla:''\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\n\t\t\tlet msgAlert = { message: resp.data.eliminarTalla.message, status: 'success', open: true }\n\t\t\tsetAlert(msgAlert);\n\t\t\trefetch();\n\t\t\thandleModal();\n\t\t} catch (error) {\n\t\t\t\thandleModal();\n\t\t\tsetAlert({ message: error.message, status: 'error', open: true });\n\t\t}\n\t};\n\n\tconst onUpdate = (dato) => {\n\t\tif(!dato){\n\t\t\tsetToUpdate('');\n\t\t\tsetValue('');\n\t\t\treturn\n\t\t}\n\t\tsetToUpdate(dato._id);\n\t\tsetValue(dato.talla);\n\t};\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<TableRow hover role=\"checkbox\" tabIndex={-1} selected={toUpdate === row._id ? true : false}>\n\t\t\t\t<TableCell>\n\t\t\t\t\t<Typography>\n\t\t\t\t\t\t<b>{row.talla}</b>\n\t\t\t\t\t</Typography>\n\t\t\t\t</TableCell>\n\t\t\t\t{sesion.accesos.catalogos.tallas_numeros.editar === false ? (null) : (\n\t\t\t\t\t<TableCell padding=\"checkbox\">\n\t\t\t\t\t\t{toUpdate === row._id ? (\n\t\t\t\t\t\t\t<IconButton onClick={() => onUpdate()}>\n\t\t\t\t\t\t\t\t<Close />\n\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<IconButton onClick={() => onUpdate(row)}>\n\t\t\t\t\t\t\t\t<Edit />\n\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</TableCell>\n\t\t\t\t)}\n\t\t\t\t{sesion.accesos.catalogos.tallas_numeros.eliminar === false ? (null) : (\n\t\t\t\t\t<TableCell padding=\"checkbox\">\n\t\t\t\t\t\t<Modal handleModal={handleModal} openModal={openModal} handleDelete={handleDelete} />\n\t\t\t\t\t</TableCell>\n\t\t\t\t)}\n\t\t\t</TableRow>\n\t\t</Fragment>\n\t);\n};\n\nconst Modal = ({ handleModal, openModal, handleDelete }) => {\n\treturn (\n\t\t<div>\n\t\t\t<IconButton color=\"secondary\" onClick={handleModal}>\n\t\t\t\t<Delete />\n\t\t\t</IconButton>\n\t\t\t<Dialog open={openModal} onClose={handleModal}>\n\t\t\t\t<DialogTitle>{'Seguro que quieres eliminar esto?'}</DialogTitle>\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Button onClick={handleModal} color=\"primary\">\n\t\t\t\t\t\tCancelar\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button color=\"secondary\" autoFocus variant=\"contained\" onClick={handleDelete}>\n\t\t\t\t\t\tEliminar\n\t\t\t\t\t</Button>\n\t\t\t\t</DialogActions>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n};\n","import React, { useState } from 'react';\nimport { Box, Button, TextField, CircularProgress } from '@material-ui/core';\nimport { Add } from '@material-ui/icons';\nimport TablaTallas from './ListaTallas';\nimport SnackBarMessages from '../../../../components/SnackBarMessages';\nimport ErrorPage from '../../../../components/ErrorPage';\n\nimport { useQuery, useMutation } from '@apollo/client';\nimport { OBTENER_TALLAS, CREAR_TALLAS, ACTUALIZAR_TALLA } from '../../../../gql/Catalogos/tallas';\nimport { cleanTypenames } from '../../../../config/reuserFunctions';\n\nexport default function RegistroTallas({ tipo }) {\n\tconst [ value, setValue ] = useState('');\n\tconst [ toUpdate, setToUpdate ] = useState('');\n\tconst [ alert, setAlert ] = useState({ message: '', status: '', open: false });\n\tconst sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\n\t/* Queries */\n\tconst { loading, data, error, refetch } = useQuery(OBTENER_TALLAS, {\n\t\tvariables: { sucursal: sesion.sucursal._id, tipo }\n\t});\n\t/* Mutations */\n\tconst [ crearTalla ] = useMutation(CREAR_TALLAS);\n\tconst [ actualizarTalla ] = useMutation(ACTUALIZAR_TALLA);\n\n\tif (loading)\n\t\treturn (\n\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" height=\"30vh\">\n\t\t\t\t<CircularProgress />\n\t\t\t</Box>\n\t\t);\n\tif (error) {\n\t\treturn <ErrorPage error={error} />;\n\t}\n\n\tconst { obtenerTallas } = data;\n\n\tconst GuardarDatosBD = async () => {\n\t\tlet resp;\n\t\tif (!value) {\n\t\t\treturn;\n\t\t}\n\t\ttry {\n\t\t\tconst nueva_talla = value;\n\t\t\tif(toUpdate){\n\t\t\t\tif (sesion.accesos.catalogos.tallas_numeros.editar === false ) {\n\t\t\t\t\treturn setAlert({ message: 'Lo sentimos no tienes autorizacin para esta accin', status: 'error', open: true });\n\t\t\t\t}else{\n\t\t\t\t\tconst talla_actualizada = cleanTypenames(nueva_talla);\n\t\t\t\t\tresp = await actualizarTalla({\n\t\t\t\t\t\tvariables: {\n\t\t\t\t\t\t\tinput: {\n\t\t\t\t\t\t\t\ttalla: talla_actualizada,\n\t\t\t\t\t\t\t\ttipo\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tid: toUpdate\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tif (sesion.accesos.catalogos.tallas_numeros.agregar === false ) {\n\t\t\t\t\treturn setAlert({ message: 'Lo sentimos no tienes autorizacin para esta accin', status: 'error', open: true });\n\t\t\t\t}else{\n\t\t\t\t\tresp = await crearTalla({\n\t\t\t\t\t\tvariables: {\n\t\t\t\t\t\t\tinput: {\n\t\t\t\t\t\t\t\ttalla: nueva_talla,\n\t\t\t\t\t\t\t\ttipo,\n\t\t\t\t\t\t\t\tempresa: sesion.empresa._id,\n\t\t\t\t\t\t\t\tsucursal: sesion.sucursal._id\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t\trefetch();\n\t\t\tsetValue('');\n\t\t\tsetToUpdate('');\n\t\t\tlet msgAlert = (toUpdate) ? { message: resp.data.actualizarTalla.message, status: 'success', open: true }:{ message: resp.data.crearTalla.message, status: 'success', open: true }\n\t\t\tsetAlert(msgAlert);\n\t\t\t\n\t\t} catch (error) {\n\t\t\tsetAlert({ message: 'Hubo un error', status: 'error', open: true });\n\t\t}\n\t};\n\n\treturn (\n\t\t<Box>\n\t\t\t<SnackBarMessages alert={alert} setAlert={setAlert} />\n\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" my={2}>\n\t\t\t\t<TextField\n\t\t\t\t\tid=\"outlined-error-helper-text\"\n\t\t\t\t\tlabel={tipo === 'ROPA' ? 'Talla' : 'Nmero'}\n\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\tsize=\"small\"\n\t\t\t\t\tvalue={value}\n\t\t\t\t\tonChange={(e) => setValue(e.target.value.toUpperCase())}\n\t\t\t\t/>\n\t\t\t\t<Box ml={1} />\n\t\t\t\t<Button color=\"primary\" variant=\"contained\" size=\"large\" disableElevation onClick={GuardarDatosBD}>\n\t\t\t\t\t<Add />Guardar\n\t\t\t\t</Button>\n\t\t\t</Box>\n\t\t\t<TablaTallas datos={obtenerTallas} tipo={tipo} toUpdate={toUpdate} setToUpdate={setToUpdate} setValue={setValue} refetch={refetch} />\n\t\t</Box>\n\t);\n}\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport CloseIcon from '@material-ui/icons/Close';\nimport Slide from '@material-ui/core/Slide';\nimport { Box, Container, Tab, Tabs } from '@material-ui/core';\nimport RegistroTallas from './RegistroTallas';\n\nfunction TabPanel(props) {\n\tconst { children, value, index, ...other } = props;\n\n\treturn (\n\t\t<div\n\t\t\trole=\"tabpanel\"\n\t\t\thidden={value !== index}\n\t\t\tid={`scrollable-force-tabpanel-${index}`}\n\t\t\taria-labelledby={`scrollable-force-tab-${index}`}\n\t\t\t{...other}\n\t\t>\n\t\t\t{value === index && (\n\t\t\t\t<Box p={2} my={1} minHeight=\"50vh\">\n\t\t\t\t\t{children}\n\t\t\t\t</Box>\n\t\t\t)}\n\t\t</div>\n\t);\n}\n\nTabPanel.propTypes = {\n\tchildren: PropTypes.node,\n\tindex: PropTypes.any.isRequired,\n\tvalue: PropTypes.any.isRequired\n};\n\nfunction a11yProps(index) {\n\treturn {\n\t\tid: `scrollable-force-tab-${index}`,\n\t\t'aria-controls': `scrollable-force-tabpanel-${index}`\n\t};\n}\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n\t\tflexGrow: 1,\n\t\twidth: '100%',\n\t\theight: '100vh',\n\t\tbackgroundColor: theme.palette.background.paper\n\t},\n\tappBar: {\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n\ticonSvg: {\n\t\twidth: 100\n\t},\n\ticon: {\n\t\tfontSize: 100\n\t},\n\ticonSvgSecondary: {\n\t\twidth: 50\n\t}\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function Tallas() {\n\tconst classes = useStyles();\n\tconst [ open, setOpen ] = useState(false);\n\tconst [ value, setValue ] = useState(0);\n\n\tconst handleChange = (event, newValue) => setValue(newValue);\n\n\tconst handleClickOpen = () => setOpen(!open);\n\n\treturn (\n\t\t<div>\n\t\t\t<Button fullWidth onClick={handleClickOpen}>\n\t\t\t\t<Box display=\"flex\" flexDirection=\"column\">\n\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t<img src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/tallas.svg' alt=\"icono ropa\" className={classes.iconSvg} />\n\t\t\t\t\t</Box>\n\t\t\t\t\tTallas y numeros\n\t\t\t\t</Box>\n\t\t\t</Button>\n\t\t\t<Dialog fullScreen open={open} onClose={handleClickOpen} TransitionComponent={Transition}>\n\t\t\t\t<AppBar className={classes.appBar}>\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t<Typography variant=\"h6\" className={classes.title}>\n\t\t\t\t\t\t\tRopa\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Box m={1}>\n\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"secondary\" onClick={handleClickOpen} size=\"large\">\n\t\t\t\t\t\t\t\t<CloseIcon style={{fontSize: 30}} />\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</AppBar>\n\t\t\t\t<div className={classes.root}>\n\t\t\t\t\t<Box>\n\t\t\t\t\t\t<AppBar position=\"static\" color=\"default\" elevation={0}>\n\t\t\t\t\t\t\t<Tabs\n\t\t\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\tindicatorColor=\"primary\"\n\t\t\t\t\t\t\t\ttextColor=\"primary\"\n\t\t\t\t\t\t\t\tcentered\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Tab\n\t\t\t\t\t\t\t\t\tlabel=\"Tallas\"\n\t\t\t\t\t\t\t\t\ticon={\n\t\t\t\t\t\t\t\t\t\t<img src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/shirt.svg' alt=\"icono tallas\" className={classes.iconSvgSecondary} />\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t{...a11yProps(0)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<Tab\n\t\t\t\t\t\t\t\t\tlabel=\"Numeros\"\n\t\t\t\t\t\t\t\t\ticon={\n\t\t\t\t\t\t\t\t\t\t<img src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/shoes.svg' alt=\"icono numeros\" className={classes.iconSvgSecondary} />\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t{...a11yProps(1)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Tabs>\n\t\t\t\t\t\t</AppBar>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<TabPanel value={value} index={0}>\n\t\t\t\t\t\t\t\t<Container maxWidth=\"xs\">\n\t\t\t\t\t\t\t\t\t<RegistroTallas tipo=\"ROPA\" />\n\t\t\t\t\t\t\t\t</Container>\n\t\t\t\t\t\t\t</TabPanel>\n\t\t\t\t\t\t\t<TabPanel value={value} index={1}>\n\t\t\t\t\t\t\t\t<Container maxWidth=\"xs\">\n\t\t\t\t\t\t\t\t\t<RegistroTallas tipo=\"CALZADO\" />\n\t\t\t\t\t\t\t\t</Container>\n\t\t\t\t\t\t\t</TabPanel>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Box>\n\t\t\t\t</div>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n}\n","import { gql } from '@apollo/client';\n\nexport const OBTENER_CONTABILIDAD = gql`\n    query obtenerContabilidad($empresa: ID!, $sucursal: ID!){\n        obtenerContabilidad(empresa: $empresa, sucursal: $sucursal){\n                _id\n            nombre_servicio\n            empresa{\n                _id\n                nombre_empresa\n            }\n                sucursal{\n                _id\n                nombre_sucursal\n            }\n        }\n    }\n`;\n\nexport const REGISTRAR_CONTABILIDAD = gql`\n    mutation CrearContabilidad($input: ContabilidadInput, $empresa: ID!, $sucursal: ID!, $usuario: ID!){\n        crearContabilidad(input:$input,empresa:$empresa,sucursal:$sucursal, usuario:$usuario){\n            message\n        }\n    }\n`;\n\nexport const ACTUALIZAR_CONTABILIDAD = gql`\n    mutation ActualizarContabilidad($input: ContabilidadInput, $id: ID!){\n        actualzarContabilidad(input: $input, id: $id){\n            message\n        }\n    }\n`;\n\nexport const ELIMINAR_CONTABILIDAD = gql`\n    mutation EliminarContabilidad($id: ID!){\n        eliminarContabilidad(id: $id){\n            message\n        }\n    }\n`;","import React, { useState, useEffect } from 'react';\nimport { \n\tBox,\n\tCircularProgress,\n\tTable,\n\tTableBody,\n\tTableCell,\n\tTableContainer,\n\tTableHead,\n\tTablePagination,\n\tTableRow,\n\tPaper,\n\tmakeStyles,\n\tDialog,\n\tDialogTitle,\n\tDialogActions,\n\tButton\n} from '@material-ui/core';\n\nimport { IconButton } from '@material-ui/core';\nimport { Delete, Edit } from '@material-ui/icons';\n\nimport { useQuery, useMutation } from '@apollo/client';\nimport { OBTENER_CONTABILIDAD, ELIMINAR_CONTABILIDAD } from '../../../../gql/Catalogos/contabilidad';\nimport ErrorPage from '../../../../components/ErrorPage';\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n\t\twidth: '100%'\n\t},\n\tpaper: {\n\t\twidth: '100%',\n\t\tmarginBottom: theme.spacing(2)\n\t}\n}));\n\nexport default function TablaServicios({setData, setIdService, idService, setAccion, updateData, setAlert}) {\n\tconst classes = useStyles();\n\tconst [ page, setPage ] = useState(0);\n\tconst [ rowsPerPage, setRowsPerPage ] = useState(10);\n\tconst sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\tconst [ openModal, setOpenModal ] = useState(false);\n\tconst handleModal = () => setOpenModal(!openModal);\n\n\tconst handleChangePage = (event, newPage) => {\n\t\tsetPage(newPage);\n\t};\n\tlet obtenerContabilidad= [];\n\n\tconst { loading, data, error, refetch } = useQuery(OBTENER_CONTABILIDAD,{\n\t\tvariables: {\n\t\t\tempresa: sesion.empresa._id,\n\t\t\tsucursal: sesion.sucursal._id\n\t\t}\n\t});\n\tconst [ EliminarContabilidad ] = useMutation(ELIMINAR_CONTABILIDAD);\n\n\tuseEffect(\n\t\t() => {\n\t\t\trefetch();\n\t\t},\n\t\t[ updateData, refetch ]\n\t);\n\n\tif(data){\n\t\tobtenerContabilidad = data.obtenerContabilidad;\n\t}\n\n\tconst handleChangeRowsPerPage = (event) => {\n\t\tsetRowsPerPage(parseInt(event.target.value, 10));\n\t\tsetPage(0);\n\t};\n\n\tconst handleDelete = async () => {\n\t\ttry {\n\t\t\tawait EliminarContabilidad({\n\t\t\t\tvariables: {\n\t\t\t\t\tid: idService\n\t\t\t\t}\n\t\t\t});\n\t\t\trefetch();\n\t\t\tsetAlert({ message: 'Listo!', status: 'success', open: true });\n\t\t\thandleModal();\n\t\t\tsetIdService(\"\");\n\t\t} catch (error) {\n\t\t\tsetAlert({ message: error.message, status: 'error', open: true });\n\t\t}\n\t};\n\n\tif (error) {\n\t\treturn <ErrorPage error={error} />;\n\t}\n\n\tif (loading){\n\t\treturn (\n\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" height=\"30vh\">\n\t\t\t\t<CircularProgress />\n\t\t\t</Box>\n\t\t);\n\t}\n\t\t\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Paper className={classes.paper}>\n\t\t\t\t<TableContainer>\n\t\t\t\t\t<Table\n\t\t\t\t\t\tclassName={classes.table}\n\t\t\t\t\t\taria-labelledby=\"tableTitle\"\n\t\t\t\t\t\tsize=\"medium\"\n\t\t\t\t\t\taria-label=\"enhanced table\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t<TableCell>Servicios</TableCell>\n\t\t\t\t\t\t\t\t{sesion.accesos.catalogos.contabilidad.editar === false ? (null):(\n\t\t\t\t\t\t\t\t\t<TableCell padding=\"default\">Editar</TableCell>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t{sesion.accesos.catalogos.contabilidad.eliminar === false ? (null):(\n\t\t\t\t\t\t\t\t\t<TableCell padding=\"default\">Eliminar</TableCell>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t</TableHead>\n\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t{obtenerContabilidad?.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)?.map((row, index) => {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<TableRow hover role=\"checkbox\" tabIndex={-1} key={row._id}>\n\t\t\t\t\t\t\t\t\t\t<TableCell>{row.nombre_servicio}</TableCell>\n\t\t\t\t\t\t\t\t\t\t{sesion.accesos.catalogos.contabilidad.editar === false ? (null):(\n\t\t\t\t\t\t\t\t\t\t\t<TableCell padding=\"checkbox\">\n\t\t\t\t\t\t\t\t\t\t\t\t<IconButton onClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetAccion(false)\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetIdService(row._id)\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetData({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tnombre_servicio: row.nombre_servicio\n\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Edit />\n\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t{sesion.accesos.catalogos.contabilidad.eliminar === false ? (null):(\n\t\t\t\t\t\t\t\t\t\t\t<TableCell padding=\"checkbox\">\n\t\t\t\t\t\t\t\t\t\t\t\t<IconButton onClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetIdService(row._id);\n\t\t\t\t\t\t\t\t\t\t\t\t\thandleModal();\n\t\t\t\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Delete />\n\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t</Table>\n\t\t\t\t</TableContainer>\n\t\t\t\t<TablePagination\n\t\t\t\t\trowsPerPageOptions={[]}\n\t\t\t\t\tcomponent=\"div\"\n\t\t\t\t\tcount={obtenerContabilidad.length}\n\t\t\t\t\trowsPerPage={rowsPerPage}\n\t\t\t\t\tpage={page}\n\t\t\t\t\tonChangePage={handleChangePage}\n\t\t\t\t\tonChangeRowsPerPage={handleChangeRowsPerPage}\n\t\t\t\t/>\n\t\t\t</Paper>\n\t\t\t<Modal handleModal={handleModal} openModal={openModal} handleDelete={handleDelete} />\n\t\t</div>\n\t);\n}\n\nconst Modal = ({ handleModal, openModal, handleDelete }) => {\n\treturn (\n\t\t<div>\n\t\t\t<Dialog open={openModal} onClose={handleModal}>\n\t\t\t\t<DialogTitle>{'Seguro que quieres eliminar esto?'}</DialogTitle>\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Button onClick={handleModal} color=\"primary\">\n\t\t\t\t\t\tCancelar\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button color=\"secondary\" autoFocus variant=\"contained\" onClick={handleDelete}>\n\t\t\t\t\t\tEliminar\n\t\t\t\t\t</Button>\n\t\t\t\t</DialogActions>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n};\n","import React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport { Box, Button, TextField } from '@material-ui/core';\nimport { Add } from '@material-ui/icons';\nimport ListaServicios from './ListaServicios';\nimport { REGISTRAR_CONTABILIDAD, ACTUALIZAR_CONTABILIDAD } from '../../../../gql/Catalogos/contabilidad';\nimport { useMutation } from '@apollo/client';\nimport SnackBarMessages from '../../../../components/SnackBarMessages';\nimport { cleanTypenames } from '../../../../config/reuserFunctions';\n\nconst useStyles = makeStyles({\n\troot: {\n\t\twidth: '100%'\n\t},\n\tflexGrow: {\n\t\tflexGrow: 1\n\t}\n});\n\nexport default function RegistroServicios() {\n\tconst classes = useStyles();\n\tconst [updateData, setUpdateData] = useState(false);\n\tconst [data, setData] = useState({\n\t\tnombre_servicio: \"\"\n\t});\n\tconst [ alert, setAlert ] = useState({ message: '', status: '', open: false });\n\tconst [error, setError] = useState(false);\n\tconst sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\tconst [accion, setAccion] = useState(true);\n\tconst [idService, setIdService] = useState('')\n\n\tconst [ CrearContabilidad ] = useMutation(REGISTRAR_CONTABILIDAD);\n\tconst [ ActualizarContabilidad ] = useMutation(ACTUALIZAR_CONTABILIDAD);\n\n\tconst handleChangeInput = (e) => {\n\t\tsetData({\n\t\t\t...data,\n\t\t\t[e.target.name]: e.target.value\n\t\t})\n\t}\n\n\tconst handleSubmit = async () => {\n\t\ttry {\n\t\t\tif(!data.nombre_servicio){\n\t\t\t\tsetError(true);\n\t\t\t    return;\n\t\t\t}else{\n\t\t\t\tconst input = data;\n\t\t\t\tif(accion){\n\t\t\t\t\tif (sesion.accesos.catalogos.contabilidad.agregar === false) {\n\t\t\t\t\t\treturn setAlert({ message: 'Lo sentimos no tienes autorizacin para esta accin!', status: 'error', open: true });\n\t\t\t\t\t}else{\n\t\t\t\t\t\tawait CrearContabilidad({\n\t\t\t\t\t\t\tvariables: {\n\t\t\t\t\t\t\t\tinput,\n\t\t\t\t\t\t\t\tempresa: sesion.empresa._id,\n\t\t\t\t\t\t\t\tsucursal: sesion.sucursal._id,\n\t\t\t\t\t\t\t\tusuario: sesion._id\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tif (sesion.accesos.catalogos.contabilidad.editar === false) {\n\t\t\t\t\t\treturn setAlert({ message: 'Lo sentimos no tienes autorizacin para esta accin!', status: 'error', open: true });\n\t\t\t\t\t}else{\n\t\t\t\t\t\tconst inputActualizado = cleanTypenames(input);\n\t\t\t\t\t\tawait ActualizarContabilidad({\n\t\t\t\t\t\t\tvariables: {\n\t\t\t\t\t\t\t\tinput: inputActualizado,\n\t\t\t\t\t\t\t\tid: idService\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t\tsetAccion(true);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tsetAlert({ message: 'Listo!', status: 'success', open: true });\n\t\t\t\tsetData({nombre_servicio: \"\"});\n\t\t\t\tsetUpdateData(!updateData);\n\t\t\t\tsetIdService(\"\");\n\t\t\t}\n\t\t} catch (error) {\n\t\t\t\n\t\t}\n\t}\n\n\tconst pressEnter = (e) => {\n\t\tif (e.key === 'Enter') handleSubmit();\n\t};\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<SnackBarMessages alert={alert} setAlert={setAlert} />\n\t\t\t<Typography variant=\"h6\">Tipo de Servicio</Typography>\n\t\t\t<Box display=\"flex\" alignItems=\"center\" mb={2}>\n\t\t\t\t<TextField\n\t\t\t\t\terror={error}\n\t\t\t\t\tid=\"outlined-error-helper-text\"\n\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\tsize=\"small\"\n\t\t\t\t\tname=\"nombre_servicio\"\n\t\t\t\t\tvalue={data.nombre_servicio}\n\t\t\t\t\tonChange={handleChangeInput}\n\t\t\t\t\tonKeyPress={pressEnter}\n\t\t\t\t/>\n\t\t\t\t<Box ml={1} />\n\t\t\t\t<Button color=\"primary\" variant=\"contained\" size=\"large\" onClick={handleSubmit} disableElevation>\n\t\t\t\t\t<Add />Guardar\n\t\t\t\t</Button>\n\t\t\t</Box>\n\t\t\t<ListaServicios \n\t\t\t\tsetData={setData} \n\t\t\t\tidService={idService} \n\t\t\t\tsetIdService={setIdService} \n\t\t\t\tsetAccion={setAccion} \n\t\t\t\tupdateData={updateData}\n\t\t\t\tsetAlert={setAlert} \n\t\t\t/>\n\t\t</div>\n\t);\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport CloseIcon from '@material-ui/icons/Close';\nimport Slide from '@material-ui/core/Slide';\nimport { Box, Container } from '@material-ui/core';\nimport RegistroServicios from './RegistroServicio';\n\nconst useStyles = makeStyles((theme) => ({\n\tappBar: {\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n\ticon: {\n\t\twidth: 100\n\t}\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function Contabilidad() {\n\tconst classes = useStyles();\n\tconst [ open, setOpen ] = React.useState(false);\n\n\tconst handleClickOpen = () => {\n\t\tsetOpen(true);\n\t};\n\n\tconst handleClose = () => {\n\t\tsetOpen(false);\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<Button fullWidth onClick={handleClickOpen}>\n\t\t\t\t<Box display=\"flex\" flexDirection=\"column\">\n\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t<img src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/contabilidad.svg' alt=\"icono numero calzado\" className={classes.icon} />\n\t\t\t\t\t</Box>\n\t\t\t\t\tContabilidad\n\t\t\t\t</Box>\n\t\t\t</Button>\n\t\t\t<Dialog fullScreen open={open} onClose={handleClose} TransitionComponent={Transition}>\n\t\t\t\t<AppBar className={classes.appBar}>\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t<Typography variant=\"h6\" className={classes.title}>\n\t\t\t\t\t\t\tContabilidad\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Box m={1}>\n\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"secondary\" onClick={handleClose} size=\"large\">\n\t\t\t\t\t\t\t\t<CloseIcon style={{fontSize: 30}} />\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</AppBar>\n\t\t\t\t<Box mt={4}>\n\t\t\t\t\t<Container maxWidth=\"md\">\n\t\t\t\t\t\t<RegistroServicios />\n\t\t\t\t\t</Container>\n\t\t\t\t</Box>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n}\n","import React, { useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport CrearCliente from \"../Cliente/CrearCliente\";\n\nimport { useMutation, useQuery } from \"@apollo/client\";\nimport {\n  ELIMINAR_CLIENTE,\n  OBTENER_CLIENTES,\n} from \"../../../../gql/Catalogos/clientes\";\nimport {\n  Box,\n  Button,\n  CircularProgress,\n  Dialog,\n  DialogActions,\n  Slide,\n} from \"@material-ui/core\";\nimport { DialogTitle, IconButton, Typography } from \"@material-ui/core\";\nimport { Delete } from \"@material-ui/icons\";\nimport ErrorPage from \"../../../../components/ErrorPage\";\nimport { formatoFechaCorta } from \"../../../../config/reuserFunctions\";\nimport SnackBarMessages from \"../../../../components/SnackBarMessages\";\n\nconst columns = [\n  { id: 1, label: \"No. Cliente\", minWidth: 100 },\n  { id: 2, label: \"Clave\", minWidth: 100 },\n  { id: 3, label: \"Nombre\", minWidth: 150 },\n  { id: 4, label: \"Razon Social\", minWidth: 150 },\n  { id: 5, label: \"Correo\", minWidth: 150 },\n  { id: 6, label: \"Fecha registro\", minWidth: 100 },\n  { id: 7, label: \"Estado\", minWidth: 100 },\n];\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nconst useStyles = makeStyles({\n  root: {\n    width: \"100%\",\n  },\n  container: {\n    height: \"75vh\",\n  },\n  avatar: {\n    width: 130,\n    height: 130,\n  },\n});\n\nexport default function TablaProveedores({ tipo, filtro }) {\n  const permisosUsuario = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n  const [alert, setAlert] = useState({ message: \"\", status: \"\", open: false });\n  const classes = useStyles();\n\n  const { loading, data, error, refetch } = useQuery(OBTENER_CLIENTES, {\n    variables: { tipo, filtro },\n    fetchPolicy: \"network-only\",\n  });\n\n  if (loading)\n    return (\n      <Box\n        display=\"flex\"\n        justifyContent=\"center\"\n        alignItems=\"center\"\n        height=\"30vh\"\n      >\n        <CircularProgress />\n      </Box>\n    );\n  if (error) {\n    return <ErrorPage error={error} />;\n  }\n\n  const { obtenerClientes } = data;\n\n  return (\n    <Paper className={classes.root}>\n      <SnackBarMessages alert={alert} setAlert={setAlert} />\n      <TableContainer className={classes.container}>\n        <Table stickyHeader aria-label=\"sticky table\" size=\"small\">\n          <TableHead>\n            <TableRow>\n              {columns.map((column) => (\n                <TableCell key={column.id} align={column.align}>\n                  {column.label}\n                </TableCell>\n              ))}\n              {permisosUsuario.accesos.catalogos.provedores.editar ===\n              false ? null : (\n                <TableCell key={9} align={\"right\"}>\n                  Editar\n                </TableCell>\n              )}\n              {permisosUsuario.accesos.catalogos.provedores.eliminar ===\n              false ? null : (\n                <TableCell key={10} align={\"right\"}>\n                  Eliminar\n                </TableCell>\n              )}\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {obtenerClientes.map((row, index) => {\n              return (\n                <RowsRender\n                  key={index}\n                  datos={row}\n                  setAlert={setAlert}\n                  refetch={refetch}\n                />\n              );\n            })}\n          </TableBody>\n        </Table>\n      </TableContainer>\n    </Paper>\n  );\n}\n\nconst RowsRender = ({ datos, setAlert, refetch }) => {\n  const permisosUsuario = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n\n  return (\n    <TableRow hover role=\"checkbox\" tabIndex={-1}>\n      <TableCell>\n        <Typography>{datos.numero_cliente}</Typography>\n      </TableCell>\n      <TableCell>\n        <Typography>{datos.clave_cliente}</Typography>\n      </TableCell>\n      <TableCell>\n        <Typography>{datos.nombre_cliente}</Typography>\n      </TableCell>\n      <TableCell>\n        <Typography>{datos.razon_social}</Typography>\n      </TableCell>\n      <TableCell>\n        <Typography>{datos.email}</Typography>\n      </TableCell>\n      <TableCell>\n        <Typography>{formatoFechaCorta(datos.fecha_registro)}</Typography>\n      </TableCell>\n      <TableCell>\n        <Typography>{datos.estado_cliente ? \"Activo\" : \"Inactivo\"}</Typography>\n      </TableCell>\n      {permisosUsuario.accesos.catalogos.provedores.editar === false ? null : (\n        <TableCell width={50}>\n          <CrearCliente tipo=\"PRROVEEDOR\" accion=\"actualizar\" datos={datos} />\n        </TableCell>\n      )}\n      {permisosUsuario.accesos.catalogos.provedores.eliminar ===\n      false ? null : (\n        <TableCell width={50}>\n          <EliminarCliente\n            datos={datos}\n            setAlert={setAlert}\n            refetch={refetch}\n          />\n        </TableCell>\n      )}\n    </TableRow>\n  );\n};\n\nconst EliminarCliente = ({ datos, setAlert, refetch }) => {\n  const [open, setOpen] = useState(false);\n  const [eliminarCliente] = useMutation(ELIMINAR_CLIENTE);\n  const [loading, setLoading] = useState(false);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const eliminarClienteBD = async () => {\n    setLoading(true);\n    try {\n      const result = await eliminarCliente({\n        variables: {\n          id: datos._id,\n        },\n      });\n      if (result) {\n        const { message } = result.data.eliminarCliente;\n        setAlert({ message, status: \"success\", open: true });\n        refetch();\n      }\n      setLoading(false);\n      handleClose();\n    } catch (error) {\n      console.log(error);\n      setLoading(false);\n      if (error.message) {\n        setAlert({ message: error.message, status: \"error\", open: true });\n        return;\n      }\n      setAlert({ message: \"Hubo un error\", status: \"error\", open: true });\n    }\n  };\n\n  return (\n    <div>\n      <IconButton color=\"secondary\" onClick={() => handleClickOpen()}>\n        <Delete />\n      </IconButton>\n      <Dialog\n        open={open}\n        TransitionComponent={Transition}\n        keepMounted\n        onClose={() => handleClose()}\n        aria-labelledby=\"alert-eliminar-cliente\"\n      >\n        <DialogTitle id=\"alert-eliminar-cliente\">\n          {\"Est seguro de eliminar esto?\"}\n        </DialogTitle>\n        <DialogActions>\n          <Button\n            onClick={() => handleClose()}\n            color=\"inherit\"\n            disabled={loading}\n          >\n            Cancelar\n          </Button>\n          <Button\n            onClick={() => eliminarClienteBD()}\n            color=\"secondary\"\n            disabled={loading}\n            startIcon={\n              loading ? <CircularProgress size={20} color=\"inherit\" /> : null\n            }\n          >\n            Eliminar\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n};\n","import React, { useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Typography from \"@material-ui/core/Typography\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport Slide from \"@material-ui/core/Slide\";\nimport { Box, Grid, IconButton, InputBase, Paper } from \"@material-ui/core\";\nimport { Search } from \"@material-ui/icons\";\nimport TablaProovedores from \"./ListaProveedores\";\nimport CrearCliente from \"../Cliente/CrearCliente\";\nimport { ClienteProvider } from \"../../../../context/Catalogos/crearClienteCtx\";\n\nconst useStyles = makeStyles((theme) => ({\n  appBar: {\n    position: \"relative\",\n  },\n  title: {\n    marginLeft: theme.spacing(2),\n    flex: 1,\n  },\n  icon: {\n    width: 100,\n  },\n  root: {\n    display: \"flex\",\n    paddingLeft: theme.spacing(2),\n  },\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function Proveedores() {\n  const permisosUsuario = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n\n  const classes = useStyles();\n  const [open, setOpen] = useState(false);\n  const [filtro, setFiltro] = useState(\"\");\n  const [values, setValues] = useState(\"\");\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const pressEnter = (e) => {\n    if (e.key === \"Enter\") setFiltro(e.target.defaultValue);\n  };\n\n  return (\n    <div>\n      <ClienteProvider>\n        <Button fullWidth onClick={handleClickOpen}>\n          <Box display=\"flex\" flexDirection=\"column\">\n            <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n              <img\n                src=\"https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/distribution.svg\"\n                alt=\"icono numero calzado\"\n                className={classes.icon}\n              />\n            </Box>\n            Proveedores\n          </Box>\n        </Button>\n        <Dialog\n          fullScreen\n          open={open}\n          onClose={handleClose}\n          TransitionComponent={Transition}\n        >\n          <AppBar className={classes.appBar}>\n            <Toolbar>\n              <Typography variant=\"h6\" className={classes.title}>\n                Proveedores\n              </Typography>\n              <Box m={1}>\n                <Button\n                  variant=\"contained\"\n                  color=\"secondary\"\n                  onClick={handleClose}\n                  size=\"large\"\n                >\n                  <CloseIcon style={{ fontSize: 30 }} />\n                </Button>\n              </Box>\n            </Toolbar>\n          </AppBar>\n\n          <Box m={3}>\n            <Grid container spacing={2}>\n              <Grid item md={6} xs={8}>\n                <Paper className={classes.root}>\n                  <InputBase\n                    fullWidth\n                    placeholder=\"Buscar proveedor...\"\n                    onChange={(e) => setValues(e.target.value)}\n                    onKeyPress={pressEnter}\n                    value={values}\n                  />\n                  <IconButton onClick={() => setFiltro(values)}>\n                    <Search />\n                  </IconButton>\n                </Paper>\n              </Grid>\n              <Grid\n                item\n                md={6}\n                xs={4}\n                style={{ display: \"flex\", justifyContent: \"flex-end\" }}\n              >\n                {permisosUsuario.accesos.catalogos.provedores.ver ===\n                false ? null : (\n                  <CrearCliente tipo=\"PROVEEDOR\" accion=\"registrar\" />\n                )}\n              </Grid>\n            </Grid>\n          </Box>\n          <Box mx={4}>\n            <TablaProovedores tipo=\"PROVEEDOR\" filtro={filtro} />\n          </Box>\n        </Dialog>\n      </ClienteProvider>\n    </div>\n  );\n}\n","import React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TablePagination from '@material-ui/core/TablePagination';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport { IconButton } from '@material-ui/core';\nimport { Delete } from '@material-ui/icons';\n\n\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n\t\twidth: '100%'\n\t},\n\tpaper: {\n\t\twidth: '100%',\n\t\tmarginBottom: theme.spacing(2)\n\t}\n}));\n\nexport default function TablaCajas(props) {\n\tconst permisos = JSON.parse(localStorage.getItem('sesionCafi'));\n\n\tconst classes = useStyles();\n\n\tconst [ page, setPage ] = useState(0);\n\tconst [ rowsPerPage, setRowsPerPage ] = useState(8);\n\n\tconst handleChangePage = (event, newPage) => {\n\t\tsetPage(newPage);\n\t};\n\n\tconst handleChangeRowsPerPage = (event) => {\n\t\tsetRowsPerPage(parseInt(event.target.value, 10));\n\t\tsetPage(0);\n\t};\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Paper className={classes.paper}>\n\t\t\t\t<TableContainer>\n\t\t\t\t\t<Table\n\t\t\t\t\t\tclassName={classes.table}\n\t\t\t\t\t\taria-labelledby=\"tableTitle\"\n\t\t\t\t\t\tsize=\"medium\"\n\t\t\t\t\t\taria-label=\"enhanced table\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t<TableCell>Cajas</TableCell>\n\t\t\t\t\t\t\t\t{permisos.accesos.catalogos.cajas.eliminar === false ? (null):(\n\t\t\t\t\t\t\t\t\t<TableCell padding=\"default\">Eliminar</TableCell>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t</TableHead>\n\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t{props.obtenerCajasSucursal.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage).map((row, index) => {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<TableRow hover role=\"checkbox\" tabIndex={-1} key={row.numero_caja}>\n\t\t\t\t\t\t\t\t\t\t<TableCell> Caja {row.numero_caja}</TableCell>\n\t\t\t\t\t\t\t\t\t\t{permisos.accesos.catalogos.cajas.eliminar === false ? (null):(\n\t\t\t\t\t\t\t\t\t\t\t<TableCell padding=\"checkbox\">\n\t\t\t\t\t\t\t\t\t\t\t\t<IconButton onClick={() => props.deleteCaja(row._id)} >\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Delete />\n\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t</Table>\n\t\t\t\t</TableContainer>\n\t\t\t\t<TablePagination\n\t\t\t\t\trowsPerPageOptions={[]}\n\t\t\t\t\tcomponent=\"div\"\n\t\t\t\t\tcount={props.obtenerCajasSucursal.length}\n\t\t\t\t\trowsPerPage={rowsPerPage}\n\t\t\t\t\tpage={page}\n\t\t\t\t\tonChangePage={handleChangePage}\n\t\t\t\t\tonChangeRowsPerPage={handleChangeRowsPerPage}\n\t\t\t\t/>\n\t\t\t</Paper>\n\t\t</div>\n\t);\n}\n","import { gql } from '@apollo/client';\n\nexport const CREAR_CAJA = gql`\n    mutation CrearCaja($input: CrearCajasInput!, $empresa: ID!, $sucursal: ID!){\n        crearCaja(input: $input, empresa: $empresa, sucursal: $sucursal){\n            message\n        }\n    }\n`;\n\nexport const OBTENER_CAJAS = gql`\n    query ObtenerCajasSucursales($empresa: ID!, $sucursal: ID!){\n        obtenerCajasSucursal(empresa: $empresa, sucursal: $sucursal){\n            _id\n            numero_caja\n            activa\n            usuario_creador {\n            numero_usuario\n            nombre\n            email\n            }\n            cantidad_efectivo_actual\n            usuario_en_caja {\n            _id\n            numero_usuario\n            nombre\n            email\n            }\n             \n        }\n    }\n`;\nexport const CREAR_HISTORIAL_CAJA = gql`\n    mutation CrearHistorialCaja($input: CrearHistorialCajasInput!, $empresa: ID!, $sucursal: ID!){\n        crearHistorialCaja(input: $input, empresa: $empresa, sucursal: $sucursal){\n            message\n        }\n    }\n`;\n\nexport const OBTENER_HISTORIAL_CAJA = gql`\n    query ObtenerHistorialCaja($input: HistorialCajasInput, $id_Caja: ID!,$empresa: ID!, $sucursal: ID!){\n        obtenerHistorialCaja(input: $input, id_Caja: $id_Caja,empresa: $empresa, sucursal: $sucursal){\n            tipo_movimiento\n            concepto\n            horario_turno\n            numero_caja\n            numero_usuario_creador\n            nombre_usuario_creador\n            hora_moviento{\n                hora\n                minutos\n                segundos\n                completa\n            }\n            fecha_movimiento{\n                year\n                mes\n                dia\n                no_dia_year\n                no_semana_year\n                completa\n            }\n            montos_en_caja{\n                monto_efectivo{\n                    monto \n                }\n                monto_tarjeta_credito{\n                    monto \n                }\n                monto_tarjeta_debito{\n                    monto \n                }\n                monto_creditos{\n                    monto \n                }\n                monto_monedero{\n                    monto \n                }\n                monto_transferencia{\n                    monto \n                }\n                monto_cheques{\n                    monto \n                }\n                monto_vales_despensa{\n                    monto \n                }\n            }\n        }\n    }\n`;\n\nexport const ELIMINAR_CAJA = gql`\n\tmutation eliminarCaja($id: ID!) {\n\t\teliminarCaja(id: $id) {\n\t\t\tmessage\n\t\t}\n\t}\n`; \n\nexport const ACTUALIZAR_CAJA = gql`\n\tmutation ActualizarCaja($input: EditarCaja, $id: ID!) {\n\t\tactualizarCaja(id: $id, input: $input) {\n            _id\n            numero_caja\n            activa\n        }\n    }\n`; \n\nexport const OBTENER_PRE_CORTE_CAJA = gql`\n    query ObtenerPreCorteCaja($empresa: ID!, $sucursal: ID!, $input: PreCortesDeCajaInput){\n        obtenerPreCorteCaja(empresa: $empresa, sucursal: $sucursal, input: $input){\n            monto_efectivo_precorte         \n        }\n    }\n`;\n\nexport const OBTENER_CORTES_CAJA = gql`\n    query ObtenerCortesDeCaja($empresa: ID!, $sucursal: ID!, $input: FiltroCorteDeCajaInput){\n        obtenerCortesDeCaja(empresa: $empresa, sucursal: $sucursal, input: $input){\n            concepto\n            token_turno_user\n            numero_caja\n            horario_en_turno\n            id_caja\n            hora_salida{\n                completa\n            }\n            fecha_salida{\n                completa\n            }\n            fecha_movimiento\n            usuario_en_turno{\n                nombre\n                telefono\n                email\n                numero_usuario\n            }\n            montos_en_caja{\n                monto_efectivo{\n                    monto \n                }\n                monto_tarjeta_credito{\n                    monto \n                }\n                monto_tarjeta_debito{\n                    monto \n                }\n                monto_creditos{\n                    monto \n                }\n                monto_monedero{\n                    monto \n                }\n                monto_transferencia{\n                    monto \n                }\n                monto_cheques{\n                    monto \n                }\n                monto_vales_despensa{\n                    monto \n                }\n            }\n            sucursal{\n                nombre_sucursal\n            }\n        }\n    }\n`;\n\nexport const OBTENER_CORTE_CAJA = gql`\n    query ObtenerCorteCaja($empresa: ID!, $sucursal: ID!, $input: CorteDeCajaInput){\n        obtenerCorteCaja(empresa: $empresa, sucursal: $sucursal, input: $input){\n            montos_en_sistema{\n                monto_efectivo\n                monto_tarjeta_debito\n                monto_tarjeta_credito\n                monto_creditos\n                monto_monedero\n                monto_transferencia\n                monto_cheques\n                monto_vales_despensa\n            }\n        }\n    }\n`;\n","import React, {useState, useEffect} from 'react';\nimport { Box, Button } from '@material-ui/core';\nimport { Add } from '@material-ui/icons';\nimport { useMutation, useQuery } from '@apollo/client';\nimport TablaCajas from './ListaCajas';\nimport SnackBarMessages from '../../../../components/SnackBarMessages';\nimport BackdropComponent from '../../../../components/Layouts/BackDrop';\nimport { CREAR_CAJA, OBTENER_CAJAS, ELIMINAR_CAJA } from '../../../../gql/Cajas/cajas';\n\nexport default function RegistroCajas() {\n\tconst [ loading, setLoading ] = React.useState(false);\n    // const [ open, setOpen ] = React.useState(false);\n\tconst [ alert, setAlert ] = useState({ message: '', status: '', open: false });\n\t\n\tconst sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\n\tlet obtenerCajasSucursal = [];\n\t  /* Mutation */\n\tconst [ crearCaja ] = useMutation(CREAR_CAJA);\n\tconst [ eliminarCaja ] = useMutation(ELIMINAR_CAJA);\n\n\n\t  /* Queries */\n\tconst {  data, refetch } = useQuery(OBTENER_CAJAS,{\n\t\tvariables: {\n            empresa: sesion.empresa._id,\n\t\t\tsucursal: sesion.sucursal._id\n\t\t}\n\t});\t\n\tconst nuevaCaja = async () => {\n\t\ttry {\n            setLoading(true);\n\t\t\t\tawait crearCaja({\n\t\t\t\t\tvariables: {\n\t\t\t\t\t\tinput:{usuario_creador:  sesion._id, numero_usuario_creador: sesion.numero_usuario, nombre_usuario_creador: sesion.nombre},\n\t\t\t\t\t\tempresa: sesion.empresa._id,\n\t\t\t\t\t\tsucursal: sesion.sucursal._id\n\t\t\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\trefetch();\n\t\t\tsetAlert({ message: 'Listo!', status: 'success', open: true });\n\t\t\tsetLoading(false);\n\t\t\n\t\t\t\n\t\t} catch (error) {\n\t\t\tsetAlert({ message: 'Hubo un error', status: 'error', open: true });\n\t\t\tsetLoading(false);\n\t\t}\n\t};\n\t\n\tconst deleteCaja = async (id) => {\n\t\ttry {\n            setLoading(true);\n\t\t\t\tawait eliminarCaja({\n\t\t\t\t\tvariables: {\n\t\t\t\t\t\tid: id\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\trefetch();\n\t\t\tsetAlert({ message: 'Listo!', status: 'success', open: true });\n\t\t\tsetLoading(false);\n\t\t} catch (error) {\n\t\t\tsetAlert({ message: 'Hubo un error', status: 'error', open: true });\n\t\t\tsetLoading(false);\n\t\t}\n\t};\n\t\n\tif(data){\n\t\tobtenerCajasSucursal = data.obtenerCajasSucursal;\n\t}\n\n\tuseEffect(\n\t\t() => {\n\t\t\tsetLoading(true);\n\t\t\trefetch();\n\t\t\tsetLoading(false);\n\t\t},\n\t\t[ refetch ]\n\t); \n\n\treturn (\n\t\t<Box>\n\t\t\t<SnackBarMessages alert={alert} setAlert={setAlert} />\t\n\t\t\t<BackdropComponent loading={loading} setLoading={setLoading} />\n\t\t\t<Box display=\"flex\" justifyContent=\"left\" alignItems=\"left\" my={2}>\n\t\t\t\n\t\t\t\t<Box ml={1} />\n\t\t\t\t{sesion.accesos.catalogos.cajas.agregar === false ? (null):(\n\t\t\t\t\t<Button color=\"primary\" variant=\"contained\" size=\"large\" disableElevation onClick={() => nuevaCaja()}>\n\t\t\t\t\t\t<Add />Agregar\n\t\t\t\t\t</Button>\n\t\t\t\t)}\n\t\t\t</Box>\n\t\t\t<TablaCajas obtenerCajasSucursal={obtenerCajasSucursal} deleteCaja={deleteCaja} />\n\t\t</Box>\n\t);\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport CloseIcon from '@material-ui/icons/Close';\nimport Slide from '@material-ui/core/Slide';\nimport { Box, Container } from '@material-ui/core';\nimport RegistroCajas from './RegistrarCajas';\n\nconst useStyles = makeStyles((theme) => ({\n\tappBar: {\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n\ticon: {\n\t\twidth: 100\n\t}\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function Cajas() {\n\tconst classes = useStyles();\n\n\tconst [ open, setOpen ] = React.useState(false);\n\n\n\t\n\tconst handleClickOpen = () => {\n\t\tsetOpen(true);\n\t};\n\n\tconst handleClose = () => {\n\t\tsetOpen(false);\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<Button fullWidth onClick={handleClickOpen}>\n\t\t\t\t<Box display=\"flex\" flexDirection=\"column\">\n\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t<img src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/cajas.svg' alt=\"icono numero calzado\" className={classes.icon} />\n\t\t\t\t\t</Box>\n\t\t\t\t\tCajas\n\t\t\t\t</Box>\n\t\t\t</Button>\n\t\t\t<Dialog fullScreen open={open} onClose={handleClose} TransitionComponent={Transition}>\n\t\t\t\t<AppBar className={classes.appBar}>\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t<Typography variant=\"h6\" className={classes.title}>\n\t\t\t\t\t\t\tCajas\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Box m={1}>\n\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"secondary\" onClick={handleClose} size=\"large\">\n\t\t\t\t\t\t\t\t<CloseIcon style={{fontSize: 30}} />\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</AppBar>\n\t\t\t\t<Box mt={3}>\n\t\t\t\t\t<Container maxWidth=\"sm\">\n\t\t\t\t\t\t<RegistroCajas />\n\t\t\t\t\t</Container>\n\t\t\t\t</Box>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n}\n","\nlet arregloVacio = {\n    mi_empresa:{\n        datos_empresa: {\n            ver: false,\n            agregar: false,\n            editar: false,\n            eliminar: false\n        },\n        informacion_fiscal: {\n            ver: false,\n            agregar: false,\n            editar: false,\n            eliminar: false\n        }\n    },\n    compras:{\n        abrir_compra:{\n            ver: false,\n            agregar: false,\n            editar: false,\n            eliminar: false\n        },\n        compras_realizadas:{\n            ver: false,\n            agregar: false,\n            editar: false,\n            eliminar: false\n        },\n        compras_espera:{\n            ver: false,\n            agregar: false,\n            editar: false,\n            eliminar: false\n        }\n    },\n    tesoreria:{\n        cuentas_empresa:{\n            ver: false,\n            agregar: false,\n            editar: false,\n            eliminar: false\n        },\n        egresos:{\n            ver: false,\n            agregar: false,\n            editar: false,\n            eliminar: false\n        },\n        abonos_proveedores:{\n            ver: false,\n            agregar: false,\n            editar: false,\n            eliminar: false\n        },\n        abonos_clientes:{\n            ver: false,\n            agregar: false,\n            editar: false,\n            eliminar: false\n        }\n    },\n    reportes:{\n        reporte_historial_cajas:{\n            ver: false,\n            agregar: false,\n            editar: false,\n            eliminar: false\n        },\n        reporte_turnos:{\n            ver: false,\n            agregar: false,\n            editar: false,\n            eliminar: false\n        },\n        reporte_compras:{\n            ver: false,\n            agregar: false,\n            editar: false,\n            eliminar: false\n        },\n        reporte_ventas:{\n            ver: false,\n            agregar: false,\n            editar: false,\n            eliminar: false\n        },\n        rerporte_almacen:{\n            ver: false,\n            agregar: false,\n            editar: false,\n            eliminar: false\n        },\n        reporte_corte_caja:{\n            ver: false,\n            agregar: false,\n            editar: false,\n            eliminar: false\n        },\n        reporte_tesoreria:{\n            ver: false,\n            agregar: false,\n            editar: false,\n            eliminar: false\n        }\n    },\n    ventas:{\n        cancelar_venta:{\n            ver: false,\n            agregar: false,\n            editar: false,\n            eliminar: false\n        },\n        precios_productos: {\n            ver: false,\n            agregar: false,\n            editar: false,\n            eliminar: false\n        },\n        pre_corte:{\n            ver: false,\n            agregar: false,\n            editar: false,\n            eliminar: false\n        },\n        cotizaciones:{\n            ver: false,\n            agregar: false,\n            editar: false,\n            eliminar: false\n        },\n        administrador:{\n            ver: false,\n            agregar: false,\n            editar: false,\n            eliminar: false\n        },\n        eliminar_ventas:{\n            ver: false,\n            agregar: false,\n            editar: false,\n            eliminar: false\n        },\n        producto_rapido: {\n            ver: false,\n            agregar: false,\n            editar: false,\n            eliminar: false\n        }\n    },\n    almacenes:{\n        almacen:{\n            ver: false,\n            agregar: false,\n            editar: false,\n            eliminar: false\n        },\n        traspasos:{\n            ver: false,\n            agregar: false,\n            editar: false,\n            eliminar: false\n        },\n        inventario_almacen:{\n            ver: false,\n            agregar: false,\n            editar: false,\n            eliminar: false\n        }\n    },\n    catalogos: {\n        clientes:{\n            ver: false,\n            agregar: false,\n            eliminar: false,\n            editar:false\n        },\n        usuarios:{\n            ver: false,\n            agregar: false,\n            eliminar: false,\n            editar:false\n        },\n        productos:{\n            ver: false,\n            agregar: false,\n            eliminar: false,\n            editar:false\n        },\n        marcas:{\n            ver: false,\n            agregar: false,\n            eliminar: false,\n            editar:false\n        },\n        contabilidad:{\n            ver: false,\n            agregar: false,\n            eliminar: false,\n            editar:false\n        },\n        provedores:{\n            ver: false,\n            agregar: false,\n            eliminar: false,\n            editar:false\n        },\n        cajas:{\n            ver: false,\n            agregar: false,\n            eliminar: false,\n            editar:false\n        },\n        departamentos:{\n            ver: false,\n            agregar: false,\n            eliminar: false,\n            editar:false\n        },\n        centro_costos:{\n            ver: false,\n            agregar: false,\n            eliminar: false,\n            editar:false\n        },\n        conceptos_almacen:{\n            ver: false,\n            agregar: false,\n            eliminar: false,\n            editar:false\n        },\n        categorias:{\n            ver: false,\n            agregar: false,\n            eliminar: false,\n            editar:false\n        },\n        colores:{\n            ver: false,\n            agregar: false,\n            eliminar: false,\n            editar:false\n        },\n        tallas_numeros:{\n            ver: false,\n            agregar: false,\n            eliminar: false,\n            editar:false\n        },\n    },\n    facturacion:{\n        generar_cdfi:{\n            ver: false,\n            agregar: false,\n            editar: false,\n            eliminar: false\n        },\n        cdfi_realizados:{\n            ver: false,\n            agregar: false,\n            editar: false,\n            eliminar: false\n        },\n        registro_series_cdfi:{\n            ver: false,\n            agregar: false,\n            editar: false,\n            eliminar: false\n        }\n    }\n} \n\nexport default arregloVacio;\n","import React, { createContext, useState } from 'react';\nimport arregloVacio from '../../pages/sucursales/Catalogos/Usuarios/AsingarAccesos/arregloVacioAcceso'\n\nexport const UsuarioContext = createContext();\n\nexport const UsuarioProvider = ({ children }) => {\n\tconst [ usuario, setUsuario ] = useState({\n\t\tdireccion: {\n\t\t\tcalle: '',\n\t\t\tno_ext: '',\n\t\t\tno_int: '',\n\t\t\tcodigo_postal: '',\n\t\t\tcolonia: '',\n\t\t\tmunicipio: '',\n\t\t\tlocalidad: '',\n\t\t\testado: '',\n\t\t\tpais: ''\n\t\t},\n\t\testado_usuario: true,\n\t\taccesos: arregloVacio\n\t});\n\tconst [ toUpdate, setToUpdate ] = useState(false);\n\tconst [ error, setError ] = useState({error: false, message: ''});\n\tconst [ update, setUpdate ] = useState(false);\n\n\treturn (\n\t\t<UsuarioContext.Provider\n\t\t\tvalue={{\n\t\t\t\tusuario,\n\t\t\t\tsetUsuario,\n\t\t\t\ttoUpdate,\n\t\t\t\tsetToUpdate,\n\t\t\t\terror,\n\t\t\t\tsetError,\n\t\t\t\tupdate,\n\t\t\t\tsetUpdate\n\t\t\t}}\n\t\t>\n\t\t\t{children}\n\t\t</UsuarioContext.Provider>\n\t);\n};\n","import React, { Fragment, useContext, useCallback, useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Box, Divider, Avatar, IconButton, OutlinedInput, FormHelperText, Button } from '@material-ui/core';\nimport { TextField, Typography, Grid, FormControl, InputAdornment } from '@material-ui/core';\nimport { Dialog, DialogTitle, DialogContent, DialogActions, CircularProgress } from '@material-ui/core';\nimport Visibility from '@material-ui/icons/Visibility';\nimport VisibilityOff from '@material-ui/icons/VisibilityOff';\nimport { useDropzone } from 'react-dropzone';\nimport { UsuarioContext } from '../../../../context/Catalogos/usuarioContext';\nimport SnackBarMessages from '../../../../components/SnackBarMessages';\n\nimport { useMutation } from '@apollo/client';\nimport { ACTUALIZAR_USUARIO } from '../../../../gql/Catalogos/usuarios';\n\nconst useStyles = makeStyles((theme) => ({\n\tformInputFlex: {\n\t\tdisplay: 'flex',\n\t\t'& > *': {\n\t\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(1)}px`\n\t\t},\n\t\t'& span': {\n\t\t\tcolor: 'red'\n\t\t}\n\t},\n\tformInput: {\n\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(2)}px`\n\t},\n\tavatarContainer: {\n\t\tdisplay: 'flex',\n\t\tjustifyContent: 'center',\n\t\talignItems: 'center',\n\t\twidth: 150,\n\t\theight: 150,\n\t\tborder: 'dashed 2px black',\n\t\tborderRadius: '100%'\n\t},\n\tavatar: {\n\t\twidth: 130,\n\t\theight: 130,\n\t\t'& > .icon': {\n\t\t\tfontSize: 100\n\t\t}\n\t}\n}));\n\nexport default function FormularioUsuario({ accion }) {\n\tconst classes = useStyles();\n\tconst { usuario, setUsuario, error } = useContext(UsuarioContext);\n\tconst [ preview, setPreview ] = useState('');\n\tconst [ showPassword, setShowPassword ] = useState(false);\n\n\t//dropzone\n\tconst onDrop = useCallback(\n\t\t(acceptedFiles) => {\n\t\t\tlet reader = new FileReader();\n\t\t\treader.readAsDataURL(acceptedFiles[0]);\n\t\t\treader.onload = function() {\n\t\t\t\tlet image = reader.result;\n\t\t\t\tsetPreview(image);\n\t\t\t};\n\t\t\tsetUsuario({\n\t\t\t\t...usuario,\n\t\t\t\timagen: acceptedFiles[0]\n\t\t\t});\n\t\t},\n\t\t[ usuario, setUsuario ]\n\t);\n\n\tconst { getRootProps, getInputProps } = useDropzone({\n\t\taccept: 'image/jpeg, image/png',\n\t\tnoKeyboard: true,\n\t\tonDrop\n\t});\n\n\tconst obtenerCampos = (e) => {\n\t\tconst name = e.target.name;\n\t\tif (name === 'numero_usuario') {\n\t\t\tsetUsuario({\n\t\t\t\t...usuario,\n\t\t\t\t[e.target.name]: parseInt(e.target.value)\n\t\t\t});\n\t\t\treturn;\n\t\t}\n\t\tsetUsuario({\n\t\t\t...usuario,\n\t\t\t[e.target.name]: e.target.value\n\t\t});\n\t};\n\tconst obtenerCamposDireccion = (e) => {\n\t\tsetUsuario({\n\t\t\t...usuario,\n\t\t\tdireccion: { ...usuario.direccion, [e.target.name]: e.target.value }\n\t\t});\n\t};\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<Grid container>\n\t\t\t\t<Grid item md={3}>\n\t\t\t\t\t<Box className={classes.avatarContainer} {...getRootProps()}>\n\t\t\t\t\t\t<input {...getInputProps()} />\n\t\t\t\t\t\t{preview ? (\n\t\t\t\t\t\t\t<Avatar className={classes.avatar} src={`${preview}`} />\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<Avatar className={classes.avatar} src={`${usuario.imagen}`} />\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Box>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item md={9}>\n\t\t\t\t\t<Box>\n\t\t\t\t\t\t<form autoComplete=\"off\" className={classes.formInputFlex}>\n\t\t\t\t\t\t\t<Box width=\"100%\">\n\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\t<span>* </span>Nombre usuario\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\terror={error.error && !usuario.nombre}\n\t\t\t\t\t\t\t\t\tname=\"nombre\"\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\tvalue={usuario.nombre ? usuario.nombre : ''}\n\t\t\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\t\t\terror.error && error.message !== 'Las contraseas no coinciden' ? (\n\t\t\t\t\t\t\t\t\t\t\terror.message\n\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t''\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tonChange={obtenerCampos}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</form>\n\t\t\t\t\t</Box>\n\t\t\t\t\t{accion === 'registrar' ? (\n\t\t\t\t\t\t<form autoComplete=\"off\" className={classes.formInputFlex}>\n\t\t\t\t\t\t\t<Box width=\"100%\">\n\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\t<span>* </span>Contrasea\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\terror={\n\t\t\t\t\t\t\t\t\t\terror.error && !usuario.password ? (\n\t\t\t\t\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t\t\t\t\t) : error.error && error.message === 'Las contraseas no coinciden' ? (\n\t\t\t\t\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\tfalse\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<OutlinedInput\n\t\t\t\t\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\t\t\t\t\ttype={showPassword ? 'text' : 'password'}\n\t\t\t\t\t\t\t\t\t\tvalue={usuario.password ? usuario.password : ''}\n\t\t\t\t\t\t\t\t\t\tonChange={obtenerCampos}\n\t\t\t\t\t\t\t\t\t\tendAdornment={\n\t\t\t\t\t\t\t\t\t\t\t<InputAdornment position=\"end\">\n\t\t\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\t\t\t\taria-label=\"toggle password visibility\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => setShowPassword(!showPassword)}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonMouseDown={() => setShowPassword(!showPassword)}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{showPassword ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Visibility color=\"primary\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<VisibilityOff color=\"primary\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t\t</InputAdornment>\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<FormHelperText>{error.message}</FormHelperText>\n\t\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box width=\"100%\">\n\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\t<span>* </span>Repetir contrasea\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\terror={\n\t\t\t\t\t\t\t\t\t\terror.error && !usuario.password ? (\n\t\t\t\t\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t\t\t\t\t) : error.error && error.message === 'Las contraseas no coinciden' ? (\n\t\t\t\t\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\tfalse\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tname=\"repeatPassword\"\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<OutlinedInput\n\t\t\t\t\t\t\t\t\t\tname=\"repeatPassword\"\n\t\t\t\t\t\t\t\t\t\ttype={showPassword ? 'text' : 'password'}\n\t\t\t\t\t\t\t\t\t\tvalue={usuario.repeatPassword ? usuario.repeatPassword : ''}\n\t\t\t\t\t\t\t\t\t\tonChange={obtenerCampos}\n\t\t\t\t\t\t\t\t\t\tendAdornment={\n\t\t\t\t\t\t\t\t\t\t\t<InputAdornment position=\"end\">\n\t\t\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\t\t\t\taria-label=\"toggle password visibility\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => setShowPassword(!showPassword)}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonMouseDown={() => setShowPassword(!showPassword)}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{showPassword ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Visibility color=\"primary\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<VisibilityOff color=\"primary\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t\t</InputAdornment>\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<FormHelperText>{error.message}</FormHelperText>\n\t\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</form>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<ActualizarPasswordModal />\n\t\t\t\t\t)}\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item md={12}>\n\t\t\t\t\t<form autoComplete=\"off\" className={classes.formInputFlex}>\n\t\t\t\t\t\t<Box width=\"100%\">\n\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t<span>* </span>Email\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\terror={error.error && !usuario.email}\n\t\t\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tvalue={usuario.email ? usuario.email : ''}\n\t\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\t\terror.error && error.message !== 'Las contraseas no coinciden' ? error.message : ''\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tonChange={obtenerCampos}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box width=\"100%\">\n\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t<span>* </span>Num. Telefono\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\terror={error.error && !usuario.telefono}\n\t\t\t\t\t\t\t\tname=\"telefono\"\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tvalue={usuario.telefono ? usuario.telefono : ''}\n\t\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\t\terror.error && error.message !== 'Las contraseas no coinciden' ? error.message : ''\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tonChange={obtenerCampos}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box width=\"100%\">\n\t\t\t\t\t\t\t<Typography>Num. Celular</Typography>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\tname=\"celular\"\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tvalue={usuario.celular ? usuario.celular : ''}\n\t\t\t\t\t\t\t\tonChange={obtenerCampos}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</form>\n\t\t\t\t\t<Box mt={2}>\n\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t<b>usuario domicilio</b>\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Divider />\n\t\t\t\t\t</Box>\n\t\t\t\t\t<form autoComplete=\"off\" className={classes.formInputFlex}>\n\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t<Typography>Calle</Typography>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\tname=\"calle\"\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tvalue={usuario.direccion.calle ? usuario.direccion.calle : ''}\n\t\t\t\t\t\t\t\tonChange={obtenerCamposDireccion}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t<Typography>Colonia</Typography>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\tname=\"colonia\"\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tvalue={usuario.direccion.colonia ? usuario.direccion.colonia : ''}\n\t\t\t\t\t\t\t\tonChange={obtenerCamposDireccion}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box width=\"100px\">\n\t\t\t\t\t\t\t<Typography>Num. Ext</Typography>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\tname=\"no_ext\"\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tvalue={usuario.direccion.no_ext ? usuario.direccion.no_ext : ''}\n\t\t\t\t\t\t\t\tonChange={obtenerCamposDireccion}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box width=\"100px\">\n\t\t\t\t\t\t\t<Typography>Num. Int</Typography>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\tname=\"no_int\"\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tvalue={usuario.direccion.no_int ? usuario.direccion.no_int : ''}\n\t\t\t\t\t\t\t\tonChange={obtenerCamposDireccion}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box width=\"100px\">\n\t\t\t\t\t\t\t<Typography>CP</Typography>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\tname=\"codigo_postal\"\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tvalue={usuario.direccion.codigo_postal ? usuario.direccion.codigo_postal : ''}\n\t\t\t\t\t\t\t\tonChange={obtenerCamposDireccion}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</form>\n\t\t\t\t\t<form autoComplete=\"off\" className={classes.formInputFlex}>\n\t\t\t\t\t\t<Box width=\"100%\">\n\t\t\t\t\t\t\t<Typography>Municipio</Typography>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\tname=\"municipio\"\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tvalue={usuario.direccion.municipio ? usuario.direccion.municipio : ''}\n\t\t\t\t\t\t\t\tonChange={obtenerCamposDireccion}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box width=\"100%\">\n\t\t\t\t\t\t\t<Typography>Localidad</Typography>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\tname=\"localidad\"\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tvalue={usuario.direccion.localidad ? usuario.direccion.localidad : ''}\n\t\t\t\t\t\t\t\tonChange={obtenerCamposDireccion}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box width=\"100%\">\n\t\t\t\t\t\t\t<Typography>Estado</Typography>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\tname=\"estado\"\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tvalue={usuario.direccion.estado ? usuario.direccion.estado : ''}\n\t\t\t\t\t\t\t\tonChange={obtenerCamposDireccion}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box width=\"100%\">\n\t\t\t\t\t\t\t<Typography>Pais</Typography>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\tname=\"pais\"\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tvalue={usuario.direccion.pais ? usuario.direccion.pais : ''}\n\t\t\t\t\t\t\t\tonChange={obtenerCamposDireccion}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</form>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t</Fragment>\n\t);\n}\n\nconst ActualizarPasswordModal = () => {\n\tconst [ open, setOpen ] = useState(false);\n\tconst { usuario, setUsuario, error, setError, update, setUpdate } = useContext(UsuarioContext);\n\tconst [ showPassword, setShowPassword ] = useState(false);\n\tconst [ loading, setLoading ] = useState(false);\n\tconst [ alert, setAlert ] = useState({ message: '', status: '', open: false });\n\n\tconst [ actualizarUsuario ] = useMutation(ACTUALIZAR_USUARIO);\n\n\tconst handleClickOpen = () => {\n\t\tsetOpen(true);\n\t};\n\n\tconst handleClose = () => {\n\t\tsetOpen(false);\n\t\tsetError({ error: false, message: '' });\n\t};\n\n\tconst obtenerCampos = (e) => {\n\t\tsetUsuario({\n\t\t\t...usuario,\n\t\t\t[e.target.name]: e.target.value\n\t\t});\n\t};\n\n\tconst confirmarPassowrd = async () => {\n\t\tif (!usuario.password || !usuario.repeatPassword) {\n\t\t\tsetError({ error: true, message: 'Este campo es requerido' });\n\t\t\treturn;\n\t\t}\n\t\tif (usuario.password !== usuario.repeatPassword) {\n\t\t\tsetError({ error: true, message: 'Las contraseas no coinciden' });\n\t\t\treturn;\n\t\t}\n\t\tsetLoading(true);\n\n\t\ttry {\n\t\t\tawait actualizarUsuario({\n\t\t\t\tvariables: {\n\t\t\t\t\tinput: {\n\t\t\t\t\t\tpassword: usuario.password,\n\t\t\t\t\t\trepeatPassword: usuario.repeatPassword\n\t\t\t\t\t},\n\t\t\t\t\tid: usuario._id\n\t\t\t\t}\n\t\t\t});\n\t\t\tsetUpdate(!update);\n\t\t\tsetAlert({ message: 'Listo!', status: 'success', open: true });\n\t\t\tsetLoading(false);\n\t\t\thandleClose();\n\t\t} catch (error) {\n\t\t\tsetAlert({ message: 'Hubo un error', status: 'error', open: true });\n\t\t\tsetLoading(false);\n\t\t}\n\t};\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<Button color=\"primary\" variant=\"text\" onClick={handleClickOpen}>\n\t\t\t\tCambiar contrasea\n\t\t\t</Button>\n\t\t\t<Dialog\n\t\t\t\topen={open}\n\t\t\t\tonClose={handleClose}\n\t\t\t\taria-labelledby=\"alert-dialog-title\"\n\t\t\t\taria-describedby=\"alert-dialog-description\"\n\t\t\t>\n\t\t\t\t<SnackBarMessages alert={alert} setAlert={setAlert} />\n\t\t\t\t<DialogTitle id=\"alert-dialog-title\">{'Cambiar contrasea'}</DialogTitle>\n\t\t\t\t<DialogContent>\n\t\t\t\t\t<form autoComplete=\"off\">\n\t\t\t\t\t\t<Box width=\"100%\">\n\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t<span>* </span>Contrasea\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\terror={\n\t\t\t\t\t\t\t\t\terror.error && !usuario.password ? (\n\t\t\t\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t\t\t\t) : error.error && error.message === 'Las contraseas no coinciden' ? (\n\t\t\t\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\tfalse\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<OutlinedInput\n\t\t\t\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\t\t\t\ttype={showPassword ? 'text' : 'password'}\n\t\t\t\t\t\t\t\t\tvalue={usuario.password ? usuario.password : ''}\n\t\t\t\t\t\t\t\t\tonChange={obtenerCampos}\n\t\t\t\t\t\t\t\t\tendAdornment={\n\t\t\t\t\t\t\t\t\t\t<InputAdornment position=\"end\">\n\t\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\t\t\taria-label=\"toggle password visibility\"\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => setShowPassword(!showPassword)}\n\t\t\t\t\t\t\t\t\t\t\t\tonMouseDown={() => setShowPassword(!showPassword)}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{showPassword ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Visibility color=\"primary\" />\n\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<VisibilityOff color=\"primary\" />\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t</InputAdornment>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<FormHelperText>{error.message}</FormHelperText>\n\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box width=\"100%\">\n\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t<span>* </span>Repetir contrasea\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\terror={\n\t\t\t\t\t\t\t\t\terror.error && !usuario.password ? (\n\t\t\t\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t\t\t\t) : error.error && error.message === 'Las contraseas no coinciden' ? (\n\t\t\t\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\tfalse\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tname=\"repeatPassword\"\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<OutlinedInput\n\t\t\t\t\t\t\t\t\tname=\"repeatPassword\"\n\t\t\t\t\t\t\t\t\ttype={showPassword ? 'text' : 'password'}\n\t\t\t\t\t\t\t\t\tvalue={usuario.repeatPassword ? usuario.repeatPassword : ''}\n\t\t\t\t\t\t\t\t\tonChange={obtenerCampos}\n\t\t\t\t\t\t\t\t\tendAdornment={\n\t\t\t\t\t\t\t\t\t\t<InputAdornment position=\"end\">\n\t\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\t\t\taria-label=\"toggle password visibility\"\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => setShowPassword(!showPassword)}\n\t\t\t\t\t\t\t\t\t\t\t\tonMouseDown={() => setShowPassword(!showPassword)}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{showPassword ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Visibility color=\"primary\" />\n\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<VisibilityOff color=\"primary\" />\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t</InputAdornment>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<FormHelperText>{error.message}</FormHelperText>\n\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</form>\n\t\t\t\t</DialogContent>\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Button onClick={handleClose} color=\"primary\">\n\t\t\t\t\t\tCancelar\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tonClick={confirmarPassowrd}\n\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\tendIcon={loading ? <CircularProgress color=\"inherit\" size={25} /> : null}\n\t\t\t\t\t>\n\t\t\t\t\t\tConfirmar\n\t\t\t\t\t</Button>\n\t\t\t\t</DialogActions>\n\t\t\t</Dialog>\n\t\t</Fragment>\n\t);\n};\n","import { Box, Checkbox, FormControlLabel } from '@material-ui/core'\nimport React from 'react';\n\nexport default function Parametros({ \n    arregloAccesos, \n    obtenerAccesos, \n    departamento, \n    subDepartamento\n}) {\n\n    return(\n        <Box display='flex' justifyContent='center' alignItems='center'>\n            <FormControlLabel\n                control={\n                    <Checkbox\n                        checked={arregloAccesos ? arregloAccesos[departamento][subDepartamento].ver : false}\n                        name=\"ver\"\n                        color=\"primary\"\n                        onChange={(e) => obtenerAccesos(e, departamento, subDepartamento)}\n                    />\n                }\n                label={\n                    <Box mr={2} display='flex'>\n                        {departamento === 'ventas' ? \"Autorizar\" : \"Ver\" } \n                    </Box>\n                }\n            />\n            {   subDepartamento === 'informacion_fiscal' ||\n                subDepartamento === 'datos_empresa' || \n                subDepartamento === 'abrir_compra' || \n                subDepartamento === 'compras_realizadas' || \n                subDepartamento === 'compras_espera' || \n                subDepartamento === 'traspasos' || \n                subDepartamento === 'inventario_almacen' || \n                subDepartamento === 'cuentas_empresa' || \n                subDepartamento === 'generar_cdfi' || \n                subDepartamento === 'cdfi_realizados' || \n                departamento === 'reportes' || \n                departamento === 'ventas'|| \n                subDepartamento === 'egresos' ? (null):(\n                    <FormControlLabel\n                        control={\n                            <Checkbox\n                                checked={arregloAccesos ? arregloAccesos[departamento][subDepartamento].agregar : false}\n                                name=\"agregar\"\n                                disabled={arregloAccesos ? arregloAccesos[departamento][subDepartamento].ver === false : true}\n                                color=\"primary\"\n                                onChange={(e) => obtenerAccesos(e, departamento, subDepartamento)}\n                            />\n                        }\n                        label={\n                            <Box mr={2}  display='flex'>\n                                Agregar\n                            </Box>\n                        }\n                    />\n            )}\n            {   subDepartamento === 'cajas' || \n                subDepartamento === 'abrir_compra' || \n                subDepartamento === 'compras_realizadas' || \n                subDepartamento === 'traspasos' || \n                subDepartamento === 'inventario_almacen' || \n                subDepartamento === 'abonos_proveedores'|| \n                subDepartamento === 'abonos_clientes'|| \n                subDepartamento === 'egresos' || \n                subDepartamento === 'generar_cdfi' || \n                subDepartamento === 'cdfi_realizados' || \n                subDepartamento === 'registro_series_cdfi' || \n                departamento === 'reportes' || \n                departamento === 'ventas' ? (null) : ( \n                <FormControlLabel\n                    control={\n                        <Checkbox\n                            checked={arregloAccesos ? arregloAccesos[departamento][subDepartamento].editar : false}\n                            name=\"editar\"\n                            disabled={arregloAccesos ? arregloAccesos[departamento][subDepartamento].ver === false : true}\n                            color=\"primary\"\n                            onChange={(e) => obtenerAccesos(e, departamento, subDepartamento)}\n                        />\n                    }\n                    label={\n                        <Box mr={2}  display='flex'>\n                            Editar\n                        </Box>\n                    }\n                />\n            )}\n            {   subDepartamento === 'informacion_fiscal' ||\n                subDepartamento === 'datos_empresa' || \n                subDepartamento === 'abrir_compra' || \n                subDepartamento === 'compras_realizadas' || \n                subDepartamento === 'traspasos' || \n                subDepartamento === 'inventario_almacen' || \n                subDepartamento === 'cuentas_empresa' || \n                subDepartamento === 'abonos_proveedores' || \n                subDepartamento === 'generar_cdfi' || \n                subDepartamento === 'cdfi_realizados' || \n                subDepartamento === 'abonos_clientes'|| \n                subDepartamento === 'egresos' || \n                departamento === 'reportes' || \n                departamento === 'ventas'? (null):( \n                <FormControlLabel\n                    control={\n                        <Checkbox\n                            checked={arregloAccesos ? arregloAccesos[departamento][subDepartamento].eliminar : false}\n                            name=\"eliminar\"\n                            color=\"primary\"\n                            disabled={arregloAccesos ? arregloAccesos[departamento][subDepartamento].ver === false : true}\n                            onChange={(e) => obtenerAccesos(e, departamento, subDepartamento)}\n                        />\n                    }\n                    label={\n                        <Box display='flex'>\n                            Eliminar\n                        </Box>\n                    }\n                />\n            )}\n        </Box>\n    )\n}\n","import {\n  Box,\n  Paper,\n  Typography,\n} from \"@material-ui/core\";\nimport React, { Fragment } from \"react\";\nimport Parametros from \"../Parametros\";\n\nexport default function Catalogos({ obtenerAccesos, arregloAccesos }) {\n    \n    return (\n        <Fragment>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Typography variant=\"h6\">\n                        Marca los permisos que deseas asignar a este usuario\n                    </Typography>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Clientes</b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'catalogos'}\n                                subDepartamento={'clientes'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Usuarios</b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'catalogos'}\n                                subDepartamento={'usuarios'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Productos</b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'catalogos'}\n                                subDepartamento={'productos'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Marcas</b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'catalogos'}\n                                subDepartamento={'marcas'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Provedores</b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'catalogos'}\n                                subDepartamento={'provedores'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Contabilidad</b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'catalogos'}\n                                subDepartamento={'contabilidad'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Cajas</b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'catalogos'}\n                                subDepartamento={'cajas'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Departamento</b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'catalogos'}\n                                subDepartamento={'departamentos'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Centro de costos</b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'catalogos'}\n                                subDepartamento={'centro_costos'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Conceptos almacen</b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'catalogos'}\n                                subDepartamento={'conceptos_almacen'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Categorias</b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'catalogos'}\n                                subDepartamento={'categorias'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Colores</b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'catalogos'}\n                                subDepartamento={'colores'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Tallas y Numeros</b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'catalogos'}\n                                subDepartamento={'tallas_numeros'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n        </Fragment>\n    );\n};\n\n","import {\n    Box,\n    Paper,\n    Typography,\n} from \"@material-ui/core\";\nimport React, { Fragment } from \"react\";\nimport Parametros from \"../Parametros\";\n  \nexport default function MiEmpresa({ obtenerAccesos, arregloAccesos }) {\n      return (\n            <Fragment>\n                <Box p={1}  display='flex' justifyContent= 'center'>\n                    <Box width='80%'>\n                        <Typography variant=\"h6\">\n                            Marca los permisos que deseas asignar a este usuario\n                        </Typography>\n                    </Box>\n                </Box>\n                <Box p={1}  display='flex' justifyContent= 'center'>\n                    <Box width='80%'>\n                        <Paper elevation={3}>\n                            <Box display='flex'>\n                                <Box ml={1} p={1} flexGrow={1} >\n                                    <Typography variant=\"h6\">\n                                        <b>Datos de Empresa</b>\n                                    </Typography>\n                                </Box>\n                                <Parametros \n                                    arregloAccesos={arregloAccesos} \n                                    obtenerAccesos={obtenerAccesos}\n                                    departamento={'mi_empresa'}\n                                    subDepartamento={'datos_empresa'}\n                                />\n                            </Box>\n                        </Paper>\n                    </Box>\n                </Box>\n                <Box p={1}  display='flex' justifyContent= 'center'>\n                    <Box width='80%'>\n                        <Paper elevation={3}>\n                            <Box display='flex'>\n                                <Box ml={1} p={1} flexGrow={1} >\n                                    <Typography variant=\"h6\">\n                                        <b>Informacin Fiscal</b>\n                                    </Typography>\n                                </Box>\n                                <Parametros \n                                    arregloAccesos={arregloAccesos} \n                                    obtenerAccesos={obtenerAccesos}\n                                    departamento={'mi_empresa'}\n                                    subDepartamento={'informacion_fiscal'}\n                                />\n                            </Box>\n                        </Paper>\n                    </Box>\n                </Box>\n            </Fragment>\n      )\n}","import {\n    Box,\n    Paper,\n    Typography,\n} from \"@material-ui/core\";\nimport React, { Fragment } from \"react\";\nimport Parametros from \"../Parametros\";\n  \nexport default function Compras({ obtenerAccesos, arregloAccesos }) {\n    return (\n        <Fragment>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Typography variant=\"h6\">\n                        Marca los permisos que deseas asignar a este usuario\n                    </Typography>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Abrir una compra</b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'compras'}\n                                subDepartamento={'abrir_compra'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Compras realizadas</b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'compras'}\n                                subDepartamento={'compras_realizadas'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Compras en espera</b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'compras'}\n                                subDepartamento={'compras_espera'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n        </Fragment>\n    )\n}","import {\n    Box,\n    Paper,\n    Typography,\n} from \"@material-ui/core\";\nimport React, { Fragment } from \"react\";\nimport Parametros from \"../Parametros\";\n  \nexport default function Almacenes({ obtenerAccesos, arregloAccesos }) {\n    return (\n        <Fragment>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Typography variant=\"h6\">\n                        Marca los permisos que deseas asignar a este usuario\n                    </Typography>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Almacenes</b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'almacenes'}\n                                subDepartamento={'almacen'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Traspasos</b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'almacenes'}\n                                subDepartamento={'traspasos'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Inventario por almacen</b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'almacenes'}\n                                subDepartamento={'inventario_almacen'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n        </Fragment>\n    )\n}","import {\n    Box,\n    Paper,\n    Typography,\n} from \"@material-ui/core\";\nimport React, { Fragment } from \"react\";\nimport Parametros from \"../Parametros\";\n  \nexport default function Tesoreria({ obtenerAccesos, arregloAccesos }) {\n    return (\n        <Fragment>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Typography variant=\"h6\">\n                        Marca los permisos que deseas asignar a este usuario\n                    </Typography>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Cuentas</b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'tesoreria'}\n                                subDepartamento={'cuentas_empresa'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Abonos Proveedores</b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'tesoreria'}\n                                subDepartamento={'abonos_proveedores'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Abonos Clientes</b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'tesoreria'}\n                                subDepartamento={'abonos_clientes'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Egresos</b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'tesoreria'}\n                                subDepartamento={'egresos'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n        </Fragment>\n    )\n}","import {\n    Box,\n    Paper,\n    Typography,\n} from \"@material-ui/core\";\nimport React, { Fragment } from \"react\";\nimport Parametros from \"../Parametros\";\n  \nexport default function Reportes({ obtenerAccesos, arregloAccesos }) {\n    return (\n        <Fragment>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Typography variant=\"h6\">\n                        Marca los permisos que deseas asignar a este usuario\n                    </Typography>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Reportes Historiales Cajas</b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'reportes'}\n                                subDepartamento={'reporte_historial_cajas'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Reportes turnos usuarios </b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'reportes'}\n                                subDepartamento={'reporte_turnos'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Reportes de compras </b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'reportes'}\n                                subDepartamento={'reporte_compras'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Reportes de ventas </b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'reportes'}\n                                subDepartamento={'reporte_ventas'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Reportes de almacenes </b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'reportes'}\n                                subDepartamento={'rerporte_almacen'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Reportes de cortes </b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'reportes'}\n                                subDepartamento={'reporte_corte_caja'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Reportes tesoreria </b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'reportes'}\n                                subDepartamento={'reporte_tesoreria'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n        </Fragment>\n    );\n}","import {\n    Box,\n    Paper,\n    Typography,\n} from \"@material-ui/core\";\nimport React, { Fragment } from \"react\";\nimport Parametros from \"../Parametros\";\n  \nexport default function Ventas({ obtenerAccesos, arregloAccesos }) {\n    return (\n        <Fragment>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Typography variant=\"h6\">\n                        Marca los permisos que deseas asignar a este usuario\n                    </Typography>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Cancelar ventas</b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'ventas'}\n                                subDepartamento={'cancelar_venta'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Precios de productos</b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'ventas'}\n                                subDepartamento={'precios_productos'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Pre cortes de caja</b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'ventas'}\n                                subDepartamento={'pre_corte'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Cotizaciones</b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'ventas'}\n                                subDepartamento={'cotizaciones'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Producto Rapido</b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'ventas'}\n                                subDepartamento={'producto_rapido'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Panel de administrador</b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'ventas'}\n                                subDepartamento={'administrador'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Eliminar ventas pendientes</b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'ventas'}\n                                subDepartamento={'eliminar_ventas'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n        </Fragment>\n    )\n}","import {\n    Box,\n    Paper,\n    Typography,\n} from \"@material-ui/core\";\nimport React, { Fragment } from \"react\";\nimport Parametros from \"../Parametros\";\n  \nexport default function Facturacion({ obtenerAccesos, arregloAccesos }) {\n    return (\n        <Fragment>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Typography variant=\"h6\">\n                        Marca los permisos que deseas asignar a este usuario\n                    </Typography>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Generar nuevo CDFI</b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'facturacion'}\n                                subDepartamento={'generar_cdfi'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>CDFIs realizados</b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'facturacion'}\n                                subDepartamento={'cdfi_realizados'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n            <Box p={1}  display='flex' justifyContent= 'center'>\n                <Box width='80%'>\n                    <Paper elevation={3}>\n                        <Box display='flex'>\n                            <Box ml={1} p={1} flexGrow={1} >\n                                <Typography variant=\"h6\">\n                                    <b>Registrar series CDFI</b>\n                                </Typography>\n                            </Box>\n                            <Parametros \n                                arregloAccesos={arregloAccesos} \n                                obtenerAccesos={obtenerAccesos}\n                                departamento={'facturacion'}\n                                subDepartamento={'registro_series_cdfi'}\n                            />\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n        </Fragment>\n    )\n}","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport { AppBar, Box, Tabs } from '@material-ui/core';\nimport { Tab } from '@material-ui/core';\nimport {  FcPaid, FcShop, FcSurvey, FcNews } from 'react-icons/fc';\n\nimport Catalogos from './Departamentos/Catalogos';\nimport MiEmpresa from './Departamentos/MiEmpresa';\n\nimport SnackBarMessages from '../../../../../components/SnackBarMessages';\nimport Compras from './Departamentos/Compras';\nimport Almacenes from './Departamentos/Almacenes';\nimport Tesoreria from './Departamentos/Tesoreria';\nimport Reportes from './Departamentos/Reportes';\nimport Ventas from './Departamentos/Ventas';\nimport Facturacion from './Departamentos/Facturacion';\n\nfunction TabPanel(props) {\n\tconst { children, value, index, ...other } = props;\n\n\treturn (\n\t\t<div\n\t\t\trole=\"tabpanel\"\n\t\t\thidden={value !== index}\n\t\t\tid={`tabpanel-reg-product-${index}`}\n\t\t\taria-labelledby={`reg-product-tab-${index}`}\n\t\t\t{...other}\n\t\t>\n\t\t\t{value === index && (\n\t\t\t\t<Box p={1} minHeight=\"20vh\">\n\t\t\t\t\t{children}\n\t\t\t\t</Box>\n\t\t\t)}\n\t\t</div>\n\t);\n}\n\nTabPanel.propTypes = {\n\tchildren: PropTypes.node,\n\tindex: PropTypes.any.isRequired,\n\tvalue: PropTypes.any.isRequired\n};\n\nfunction a11yProps(index) {\n\treturn {\n\t\tid: `reg-product-tab-${index}`,\n\t\t'aria-controls': `tabpanel-reg-product-${index}`\n\t};\n};\n\nconst useStyles = makeStyles((theme) => ({\n\tformInputFlex: {\n\t\tdisplay: 'flex',\n\t\t'& > *': {\n\t\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(2)}px`\n\t\t}\n\t},\n\tformInput: {\n\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(2)}px`\n\t},\n\troot: {\n\t\tflexGrow: 1,\n\t\twidth: '100%',\n\t\tbackgroundColor: theme.palette.background.paper\n\t},\n\ticonSvg: {\n\t\twidth: 30\n\t},\n\ticon:{\n\t\tfontSize: 30\n\t}\n}));\n\nexport default function AsignarPermisos({obtenerAccesos, arregloAccesos}) {\n\n\tconst classes = useStyles();\n\tconst [ alert, setAlert ] = useState({ message: '', status: '', open: false });\n\n\tconst [ value, setValue ] = useState(0);\n\n    const handleChange = (event, newValue) => {\n\t\tsetValue(newValue);\n\t};\n\n    return (\n        <>\n\t\t<SnackBarMessages alert={alert} setAlert={setAlert} />\n            <AppBar position=\"static\" color=\"default\" elevation={0}>\n                <Tabs\n                    value={value}\n                    onChange={handleChange}\n                    variant=\"scrollable\"\n                    scrollButtons=\"on\"\n                    indicatorColor=\"primary\"\n                    textColor=\"primary\"\n                    aria-label=\"scrollable force tabs example\"\n                >\n                   \t<Tab \n\t\t\t\t\t\tlabel=\"Mi empresa\"\n\t\t\t\t\t\ticon={<FcShop className={classes.icon}/>} {...a11yProps(0)} \n\t\t\t\t\t/>\n\t\t\t\t\t<Tab\n\t\t\t\t\t\tlabel=\"Almacenes\"\n\t\t\t\t\t\ticon={<img src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/almacen.svg' alt=\"icono almacen\" className={classes.iconSvg} />}\n\t\t\t\t\t\t{...a11yProps(1)}\n\t\t\t\t\t/>\n\t\t\t\t\t<Tab \n\t\t\t\t\t\tlabel=\"Compras\" \n\t\t\t\t\t\ticon={<FcPaid className={classes.icon} />} {...a11yProps(2)} \n\t\t\t\t\t/>\n\t\t\t\t\t<Tab \n\t\t\t\t\t\tlabel=\"Catalogos\" \n\t\t\t\t\t\ticon={<FcNews className={classes.icon} />} {...a11yProps(3)} \n\t\t\t\t\t/>\n\t\t\t\t\t<Tab\n\t\t\t\t\t\tlabel=\"Tesoreria\"\n\t\t\t\t\t\ticon={<img src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/money.svg' alt=\"icono money\" className={classes.iconSvg} />}\n\t\t\t\t\t\t{...a11yProps(4)}\n\t\t\t\t\t/>\n\t\t\t\t\t<Tab\n\t\t\t\t\t\tlabel=\"Reportes\"\n\t\t\t\t\t\ticon={<FcSurvey className={classes.icon} />}\n\t\t\t\t\t\t{...a11yProps(5)}\n\t\t\t\t\t\n\t\t\t\t\t/>\n\t\t\t\t\t<Tab\n\t\t\t\t\t\tlabel=\"Facturacin\"\n\t\t\t\t\t\ticon={<img src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/factura.svg' alt=\"icono factura\" className={classes.iconSvg} />}\n\t\t\t\t\t\t{...a11yProps(6)}\n\t\t\t\t\t/>\n\t\t\t\t\t<Tab\n\t\t\t\t\t\tlabel=\"Ventas\"\n\t\t\t\t\t\ticon={<img src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/ventas/cart-add.svg' alt=\"icono ventas\" className={classes.iconSvg} />}\n\t\t\t\t\t\t{...a11yProps(7)}\n\t\t\t\t\t/>\n                </Tabs>\n            </AppBar>\n\t\t\t<TabPanel value={value} index={0}>\n\t\t\t\t<Box p={2}>\n\t\t\t\t\t<MiEmpresa obtenerAccesos={obtenerAccesos} arregloAccesos={arregloAccesos} />\n\t\t\t\t</Box>\n\t\t\t</TabPanel>\n\t\t\t<TabPanel value={value} index={1}>\n\t\t\t\t<Box p={2}>\n\t\t\t\t\t<Almacenes obtenerAccesos={obtenerAccesos} arregloAccesos={arregloAccesos} />\n\t\t\t\t</Box>\n\t\t\t</TabPanel>\n\t\t\t<TabPanel value={value} index={2}>\n\t\t\t\t<Box p={2}>\n\t\t\t\t\t<Compras obtenerAccesos={obtenerAccesos} arregloAccesos={arregloAccesos} />\n\t\t\t\t</Box>\n\t\t\t</TabPanel>\n\t\t\t<TabPanel value={value} index={3}>\n\t\t\t\t<Box p={0}>\n\t\t\t\t\t<Catalogos obtenerAccesos={obtenerAccesos} arregloAccesos={arregloAccesos} />\n\t\t\t\t</Box>\n\t\t\t</TabPanel>\n\t\t\t<TabPanel value={value} index={4}>\n\t\t\t\t<Box p={2}>\n\t\t\t\t\t<Tesoreria obtenerAccesos={obtenerAccesos} arregloAccesos={arregloAccesos} />\n\t\t\t\t</Box>\n\t\t\t</TabPanel>\n\t\t\t<TabPanel value={value} index={5}>\n\t\t\t\t<Box p={2}>\n\t\t\t\t\t<Reportes obtenerAccesos={obtenerAccesos} arregloAccesos={arregloAccesos} />\n\t\t\t\t</Box>\n\t\t\t</TabPanel>\n\t\t\t<TabPanel value={value} index={6}>\n\t\t\t\t<Box p={2}>\n\t\t\t\t\t<Facturacion obtenerAccesos={obtenerAccesos} arregloAccesos={arregloAccesos} />\n\t\t\t\t</Box>\n\t\t\t</TabPanel>\n\t\t\t<TabPanel value={value} index={7}>\n\t\t\t\t<Box p={2}>\n\t\t\t\t\t<Ventas obtenerAccesos={obtenerAccesos} arregloAccesos={arregloAccesos} />\n\t\t\t\t</Box>\n\t\t\t</TabPanel>\n        </>\n    )\n}\n","import React, { useState, Fragment, useContext, useCallback } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport PropTypes from 'prop-types';\nimport CloseIcon from '@material-ui/icons/Close';\nimport DoneIcon from '@material-ui/icons/Done';\nimport { Button, IconButton, Tabs } from '@material-ui/core';\nimport { Dialog, DialogActions, Box } from '@material-ui/core';\nimport FormularioUsuario from './FormularioUsuario';\nimport AsignarPermisos from './AsingarAccesos/AsignarPermisos';\nimport { Add, Edit } from '@material-ui/icons';\nimport { UsuarioContext } from '../../../../context/Catalogos/usuarioContext';\nimport BackdropComponent from '../../../../components/Layouts/BackDrop';\nimport SnackBarMessages from '../../../../components/SnackBarMessages';\n\nimport arregloVacio from './AsingarAccesos/arregloVacioAcceso'\nimport { useMutation } from '@apollo/client';\nimport { CREAR_USUARIO, ACTUALIZAR_USUARIO } from '../../../../gql/Catalogos/usuarios';\nimport { cleanTypenames, numerosRandom } from '../../../../config/reuserFunctions';\nimport { AppBar } from '@material-ui/core';\nimport { Tab } from '@material-ui/core';\n\nfunction TabPanel(props) {\n\tconst { children, value, index, ...other } = props;\n\treturn (\n\t\t<div\n\t\t\trole=\"tabpanel\"\n\t\t\thidden={value !== index}\n\t\t\tid={`tabpanel-reg-product-${index}`}\n\t\t\taria-labelledby={`reg-product-tab-${index}`}\n\t\t\t{...other}\n\t\t>\n\t\t\t{value === index && (\n\t\t\t\t<Box minHeight=\"70vh\">\n\t\t\t\t\t{children}\n\t\t\t\t</Box>\n\t\t\t)}\n\t\t</div>\n\t);\n}\n\nTabPanel.propTypes = {\n\tchildren: PropTypes.node,\n\tindex: PropTypes.any.isRequired,\n\tvalue: PropTypes.any.isRequired\n};\n\nfunction a11yProps(index) {\n\treturn {\n\t\tid: `reg-product-tab-${index}`,\n\t\t'aria-controls': `tabpanel-reg-product-${index}`\n\t};\n}\n\nconst useStyles = makeStyles((theme) => ({\n\tformInputFlex: {\n\t\tdisplay: 'flex',\n\t\t'& > *': {\n\t\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(2)}px`\n\t\t}\n\t},\n\tformInput: {\n\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(2)}px`\n\t},\n\trootPrincipal:{\n\t\tpadding: 0,\n\t\tmargin: 0\n\t},\n\troot: {\n\t\tflexGrow: 1,\n\t\twidth: '100%',\n\t\tbackgroundColor: theme.palette.background.paper\n\t},\n\ticonSvg: {\n\t\twidth: 50\n\t}\n}));\n\nexport default function CrearUsuario({ accion, datos }) {\n\tconst classes = useStyles();\n\tconst { usuario, setUsuario, setError, update, setUpdate } = useContext(UsuarioContext);\n\tconst [ open, setOpen ] = useState(false);\n\tconst [ value, setValue ] = useState(0);\n\tconst [ loading, setLoading ] = useState(false);\n\tconst [ alert, setAlert ] = useState({ message: '', status: '', open: false });\n\tconst sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\n\tconst limpiarCampos = useCallback(\n\t\t() => {\n\t\t\tsetUsuario({\n\t\t\t\tdireccion: {\n\t\t\t\t\tcalle: '',\n\t\t\t\t\tno_ext: '',\n\t\t\t\t\tno_int: '',\n\t\t\t\t\tcodigo_postal: '',\n\t\t\t\t\tcolonia: '',\n\t\t\t\t\tmunicipio: '',\n\t\t\t\t\tlocalidad: '',\n\t\t\t\t\testado: '',\n\t\t\t\t\tpais: ''\n\t\t\t\t},\n\t\t\t\tturno_en_caja_activo: false,\n\t\t\t\testado_usuario: true,\n\t\t\t\taccesos: arregloVacio\n\t\t\t});\n\t\t},\n\t\t[ setUsuario ]\n\t);\n\n\tconst handleChange = (event, newValue) => {\n\t\tsetValue(newValue);\n\t};\n\n\tconst toggleModal = () => {\n\t\tsetOpen(true);\n\t\tif (accion !== 'registrar') {\n\t\t\tsetUsuario(datos);\n\t\t}\n\t};\n\t\n\tconst onCloseModal = () => {\n\t\tsetOpen(false);\n\t\tlimpiarCampos();\n\t};\n\n\tconst obtenerAccesos = (event, departamento, subDepartamentos) => {\n        const { name, checked } = event.target;\n        setUsuario({\n\t\t\t...usuario, accesos:{ ...usuario.accesos, \n\t\t\t\t[departamento]: {...usuario.accesos[departamento], \n\t\t\t\t\t[subDepartamentos]: {...usuario.accesos[departamento][subDepartamentos], [name]: checked }}\n\t\t\t}\n\t\t});\n\t};\n\n\t/* Mutations */\n\tconst [ crearUsuario ] = useMutation(CREAR_USUARIO);\n\tconst [ actualizarUsuario ] = useMutation(ACTUALIZAR_USUARIO);\n\tconst saveData = async () => {\n\t\tif (accion === 'registrar') {\n\t\t\tif (\n\t\t\t\t!usuario.nombre ||\n\t\t\t\t!usuario.password ||\n\t\t\t\t!usuario.repeatPassword ||\n\t\t\t\t!usuario.telefono ||\n\t\t\t\t!usuario.email\n\t\t\t) {\n\t\t\t\tsetError({ error: true, message: 'Este campo es requerido' });\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (usuario.password !== usuario.repeatPassword) {\n\t\t\t\tsetError({ error: true, message: 'Las contraseas no coinciden' });\n\t\t\t\treturn;\n\t\t\t}\n\t\t} else {\n\t\t\tif (!usuario.nombre || !usuario.telefono || !usuario.email) {\n\t\t\t\tsetError({ error: true, message: 'Este campo es requerido' });\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\tsetLoading(true);\n\t\ttry {\n\t\t\tif (accion === 'registrar') {\n\t\t\t\tusuario.numero_usuario = numerosRandom(100000000, 999999999);\n\t\t\t\tusuario.empresa = sesion.empresa._id;\n\t\t\t\tusuario.sucursal = sesion.sucursal._id;\n\t\t\t\tusuario.turno_en_caja_activo = false;\n\t\t\t\tconst input = usuario;\n\t\t\t\tawait crearUsuario({\n\t\t\t\t\tvariables: {\n\t\t\t\t\t\tinput\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tconst { numero_usuario, _id, sucursal, empresa, turno_en_caja_activo, estado_usuario, ...input } = usuario;\n\t\t\t\tawait actualizarUsuario({\n\t\t\t\t\tvariables: {\n\t\t\t\t\t\tinput: input,\n\t\t\t\t\t\tid: usuario._id\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\tsetUpdate(!update);\n\t\t\tsetAlert({ message: 'Listo!', status: 'success', open: true });\n\t\t\tsetError({ error: false, message: '' });\n\t\t\tsetLoading(false);\n\t\t\tonCloseModal();\n\t\t} catch (error) {\n\t\t\tsetAlert({ message: 'Hubo un error en el servidor', status: 'error', open: true });\n\t\t\tsetLoading(false);\n\t\t}\n\t};\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<SnackBarMessages alert={alert} setAlert={setAlert} />\n\t\t\t{accion === 'registrar' ? (\n\t\t\t\t<Button color=\"primary\" variant=\"contained\" size=\"large\" onClick={toggleModal}>\n\t\t\t\t\t<Add /> Nuevo Usuario\n\t\t\t\t</Button>\n\t\t\t) : (\n\t\t\t\t<IconButton onClick={toggleModal}>\n\t\t\t\t\t<Edit />\n\t\t\t\t</IconButton>\n\t\t\t)}\n\t\t\t<Dialog open={open} onClose={onCloseModal} fullWidth maxWidth=\"md\">\n\t\t\t\t<Box className={classes.root}>\n\t\t\t\t\t<BackdropComponent loading={loading} setLoading={setLoading} />\n\t\t\t\t\t<AppBar position=\"static\" color=\"default\" elevation={0}>\n\t\t\t\t\t\t<Tabs\n\t\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\tvariant=\"scrollable\"\n\t\t\t\t\t\t\tscrollButtons=\"on\"\n\t\t\t\t\t\t\tindicatorColor=\"primary\"\n\t\t\t\t\t\t\ttextColor=\"primary\"\n\t\t\t\t\t\t\taria-label=\"scrollable force tabs example\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Tab\n\t\t\t\t\t\t\t\tlabel=\"Informacin bsica\"\n\t\t\t\t\t\t\t\ticon={<img src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/perfil.svg' alt=\"icono perfil\" className={classes.iconSvg} />}\n\t\t\t\t\t\t\t\t{...a11yProps(0)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Tab\n\t\t\t\t\t\t\t\tlabel=\"Permisos\"\n\t\t\t\t\t\t\t\ticon={<img src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/permisos.svg' alt=\"icono factura\" className={classes.iconSvg} />}\n\t\t\t\t\t\t\t\t{...a11yProps(1)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Box ml={58} mt={3} >\n\t\t\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"secondary\" onClick={onCloseModal} size=\"large\">\n\t\t\t\t\t\t\t\t\t\t<CloseIcon />\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Tabs>\n\t\t\t\t\t</AppBar>\n\t\t\t\t\t<TabPanel value={value} index={0}>\n\t\t\t\t\t\t<Box p={2}>\n\t\t\t\t\t\t\t<FormularioUsuario accion={accion} />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</TabPanel>\n\t\t\t\t\t<TabPanel value={value} index={1}>\n\t\t\t\t\t\t<AsignarPermisos \n\t\t\t\t\t\t\tarregloAccesos={usuario.accesos}\n\t\t\t\t\t\t\tobtenerAccesos={obtenerAccesos}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</TabPanel>\n\t\t\t\t</Box>\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\tonClick={saveData}\n\t\t\t\t\t\tsize=\"large\"\n\t\t\t\t\t\tstartIcon={<DoneIcon />}\n\t\t\t\t\t>\n\t\t\t\t\t\tGuardar\n\t\t\t\t\t</Button>\n\t\t\t\t</DialogActions>\n\t\t\t</Dialog>\n\t\t</Fragment>\n\t);\n}\n","import React, { useContext, useEffect, useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport { Table, TableBody, TableCell, TableContainer, TableHead, TablePagination, TableRow } from '@material-ui/core';\nimport { Box, Button, CircularProgress, Dialog, DialogActions, Divider, Grid } from '@material-ui/core';\nimport { DialogContent, DialogTitle, IconButton, Typography, Avatar, Switch } from '@material-ui/core';\nimport CrearUsario from './CrearUsuario';\nimport ErrorPage from '../../../../components/ErrorPage';\nimport { Dehaze, Delete } from '@material-ui/icons';\nimport { UsuarioContext } from '../../../../context/Catalogos/usuarioContext';\n\nimport { useQuery, useMutation } from '@apollo/client';\nimport { OBTENER_USUARIOS, ACTUALIZAR_USUARIO } from '../../../../gql/Catalogos/usuarios';\n\nconst columns = [\n\t{ id: 1, label: 'No. Usuario', minWidth: 100 },\n\t{ id: 3, label: 'Nombre', minWidth: 150 },\n\t{ id: 5, label: 'Correo', minWidth: 150 },\n\t{ id: 7, label: 'Estado', minWidth: 100 },\n\t{ id: 8, label: 'Detalles', minWidth: 50, align: 'right' },\n\t// { id: 9, label: 'Editar', minWidth: 50, align: 'right'},\n\t// { id: 10, label: 'Eliminar', minWidth: 50, align: 'right' }\n];\n\nconst useStyles = makeStyles({\n\troot: {\n\t\twidth: '100%'\n\t},\n\tcontainer: {\n\t\tmaxHeight: '70vh'\n\t},\n\tavatar: {\n\t\twidth: 130,\n\t\theight: 130\n\t}\n});\n\nexport default function ListaUsuarios({ sucursal, filtro }) {\n\tconst classes = useStyles();\n\tconst permisosUsuario = JSON.parse(localStorage.getItem('sesionCafi'));\n\tconst { update } = useContext(UsuarioContext);\n\tconst [ page, setPage ] = useState(0);\n\tconst [ rowsPerPage, setRowsPerPage ] = useState(10);\n\n\t/* Queries */\n\tconst { loading, data, error, refetch } = useQuery(OBTENER_USUARIOS, {\n\t\tvariables: { sucursal, filtro }\n\t});\n\n\tuseEffect(\n\t\t() => {\n\t\t\trefetch();\n\t\t},\n\t\t[ update, refetch ]\n\t);\n\n\tconst handleChangePage = (event, newPage) => {\n\t\tsetPage(newPage);\n\t};\n\n\tconst handleChangeRowsPerPage = (event) => {\n\t\tsetRowsPerPage(+event.target.value);\n\t\tsetPage(0);\n\t};\n\n\tif (loading)\n\t\treturn (\n\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" height=\"30vh\">\n\t\t\t\t<CircularProgress />\n\t\t\t</Box>\n\t\t);\n\tif (error) {\n\t\treturn <ErrorPage error={error} />;\n\t}\n\n\tconst { obtenerUsuarios } = data;\n\n\treturn (\n\t\t<Paper className={classes.root}>\n\t\t\t<TableContainer className={classes.container}>\n\t\t\t\t<Table stickyHeader aria-label=\"sticky table\">\n\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t{columns.map((column) => (\n\t\t\t\t\t\t\t\t<TableCell key={column.id} align={column.align}>\n\t\t\t\t\t\t\t\t\t{column.label}\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t{permisosUsuario.accesos.catalogos.usuarios.editar === false ? (null):(\n\t\t\t\t\t\t\t\t<TableCell key={9} align={'right'}>\n\t\t\t\t\t\t\t\t\tEditar\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{permisosUsuario.accesos.catalogos.usuarios.eliminar === false ? (null):(\n\t\t\t\t\t\t\t\t<TableCell key={10} align={'right'}>\n\t\t\t\t\t\t\t\t\tEliminar\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t</TableHead>\n\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t{obtenerUsuarios\n\t\t\t\t\t\t\t.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\n\t\t\t\t\t\t\t.map((row, index) => {\n\t\t\t\t\t\t\t\treturn <RowsRender key={index} datos={row} />;\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t</TableBody>\n\t\t\t\t</Table>\n\t\t\t</TableContainer>\n\t\t\t<TablePagination\n\t\t\t\trowsPerPageOptions={[]}\n\t\t\t\tcomponent=\"div\"\n\t\t\t\tcount={obtenerUsuarios.length}\n\t\t\t\trowsPerPage={rowsPerPage}\n\t\t\t\tpage={page}\n\t\t\t\tonChangePage={handleChangePage}\n\t\t\t\tonChangeRowsPerPage={handleChangeRowsPerPage}\n\t\t\t/>\n\t\t</Paper>\n\t);\n}\n\nconst RowsRender = ({ datos }) => {\n\tconst permisosUsuario = JSON.parse(localStorage.getItem('sesionCafi'));\n\n\tconst [ openDetalles, setOpenDetalles ] = useState(false);\n\tconst { update, setUpdate } = useContext(UsuarioContext);\n\tconst [ loading, setLoading ] = useState(false);\n\n\tconst handleDetalles = () => setOpenDetalles(!openDetalles);\n\n\tconst [ actualizarUsuario ] = useMutation(ACTUALIZAR_USUARIO);\n\n\tconst cambiarEstado = async (e) => {\n\t\tsetLoading(true);\n\n\t\ttry {\n\t\t\tawait actualizarUsuario({\n\t\t\t\tvariables: {\n\t\t\t\t\tinput: {\n\t\t\t\t\t\testado_usuario: e.target.checked\n\t\t\t\t\t},\n\t\t\t\t\tid: datos._id\n\t\t\t\t}\n\t\t\t});\n\t\t\tsetUpdate(!update);\n\t\t\tsetLoading(false);\n\t\t} catch (error) {\n\t\t\tsetLoading(false);\n\t\t}\n\t};\n\n\treturn (\n\t\t<TableRow hover role=\"checkbox\" tabIndex={-1}>\n\t\t\t<TableCell>\n\t\t\t\t<Typography>{datos.numero_usuario}</Typography>\n\t\t\t</TableCell>\n\t\t\t<TableCell>\n\t\t\t\t<Typography>{datos.nombre}</Typography>\n\t\t\t</TableCell>\n\t\t\t<TableCell>\n\t\t\t\t<Typography>{datos.email}</Typography>\n\t\t\t</TableCell>\n\t\t\t<TableCell>\n\t\t\t\t{loading ? (\n\t\t\t\t\t<CircularProgress size={30} />\n\t\t\t\t) : (\n\t\t\t\t\t<Switch\n\t\t\t\t\t\tchecked={datos.estado_usuario}\n\t\t\t\t\t\tonChange={cambiarEstado}\n\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t</TableCell>\n\t\t\t<TableCell width={50}>\n\t\t\t\t<ModalDetalles openDetalles={openDetalles} handleDetalles={handleDetalles} datos={datos} />\n\t\t\t</TableCell>\n\t\t\t{permisosUsuario.accesos.catalogos.usuarios.editar === false ? (null):(\n\t\t\t\t<TableCell width={50}>\n\t\t\t\t\t<CrearUsario accion=\"actualizar\" datos={datos} />\n\t\t\t\t</TableCell>\n\t\t\t)}\n\t\t\t{permisosUsuario.accesos.catalogos.usuarios.eliminar === false ? (null):(\n\t\t\t\t<TableCell width={50}>\n\t\t\t\t\t<IconButton color=\"secondary\">\n\t\t\t\t\t\t<Delete />\n\t\t\t\t\t</IconButton>\n\t\t\t\t</TableCell>\n\t\t\t)}\n\t\t\n\t\t</TableRow>\n\t);\n};\n\nconst ModalDetalles = ({ handleDetalles, openDetalles, datos }) => {\n\tconst classes = useStyles();\n\treturn (\n\t\t<div>\n\t\t\t<IconButton onClick={handleDetalles}>\n\t\t\t\t<Dehaze />\n\t\t\t</IconButton>\n\t\t\t<Dialog open={openDetalles} onClose={handleDetalles} fullWidth maxWidth=\"md\">\n\t\t\t\t<DialogTitle>{'Informacin completa del cliente'}</DialogTitle>\n\t\t\t\t<DialogContent>\n\t\t\t\t\t<Box mt={3}>\n\t\t\t\t\t\t<Typography variant=\"h6\">Informacin bsica</Typography>\n\t\t\t\t\t\t<Divider />\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box display=\"flex\">\n\t\t\t\t\t\t<Box mt={3} height={120} width={120} display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t<Avatar className={classes.avatar} src={datos.imagen} />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t<b>Nmero de usuario: </b>\n\t\t\t\t\t\t\t\t{datos.numero_usuario}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t<b>Nombre: </b>\n\t\t\t\t\t\t\t\t{datos.nombre}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t<b>Correo: </b>\n\t\t\t\t\t\t\t\t{datos.email ? datos.email : ' -'}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t<b>Telefono: </b>\n\t\t\t\t\t\t\t\t{datos.telefono ? datos.telefono : ' -'}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t<b>Celular: </b>\n\t\t\t\t\t\t\t\t{datos.celular ? datos.celular : ' -'}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t<b>Estado del usuario: </b>\n\t\t\t\t\t\t\t\t{datos.estado_usuario ? 'Activo' : 'Inactivo'}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t\t<Grid item md={6}>\n\t\t\t\t\t\t\t<Box mt={3}>\n\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\t<b>Direccin</b>\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t<Divider />\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box display=\"flex\">\n\t\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\t\t<b>Calle: </b>\n\t\t\t\t\t\t\t\t\t\t{datos.direccion.calle ? datos.direccion.calle : ' -'}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\t\t<b>No. Exterior: </b>\n\t\t\t\t\t\t\t\t\t\t{datos.direccion.no_ext ? datos.direccion.no_ext : ' -'}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\t\t<b>No. Interior: </b>\n\t\t\t\t\t\t\t\t\t\t{datos.direccion.no_int ? datos.direccion.no_int : ' -'}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\t\t<b>Cdigo postal: </b>\n\t\t\t\t\t\t\t\t\t\t{datos.direccion.codigo_postal ? datos.direccion.codigo_postal : ' -'}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\t\t<b>Colonia: </b>\n\t\t\t\t\t\t\t\t\t\t{datos.direccion.colonia ? datos.direccion.colonia : ' -'}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\t\t<b>Municipio: </b>\n\t\t\t\t\t\t\t\t\t\t{datos.direccion.municipio ? datos.direccion.municipio : ' -'}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\t\t<b>Localidad: </b>\n\t\t\t\t\t\t\t\t\t\t{datos.direccion.localidad ? datos.direccion.localidad : ' -'}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\t\t<b>Estado: </b>\n\t\t\t\t\t\t\t\t\t\t{datos.direccion.estado ? datos.direccion.estado : ' -'}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\t\t<b>Pais: </b>\n\t\t\t\t\t\t\t\t\t\t{datos.direccion.pais ? datos.direccion.pais : ' -'}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t</DialogContent>\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Button onClick={handleDetalles} color=\"primary\" variant=\"contained\" size=\"large\">\n\t\t\t\t\t\tCerrar\n\t\t\t\t\t</Button>\n\t\t\t\t</DialogActions>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n};\n","import React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { Search } from '@material-ui/icons';\nimport Slide from '@material-ui/core/Slide';\nimport { Box, Paper, InputBase, IconButton } from '@material-ui/core';\nimport ListaUsuarios from './ListaUsuario';\nimport CrearUsuario from './CrearUsuario';\nimport { UsuarioProvider } from '../../../../context/Catalogos/usuarioContext';\n\nconst useStyles = makeStyles((theme) => ({\n\tappBar: {\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n\ticon: {\n\t\twidth: 100\n\t},\n\troot: {\n\t\tdisplay: 'flex',\n\t\tpaddingLeft: theme.spacing(2)\n\t}\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function Usuarios() {\n\tconst classes = useStyles();\n\tconst permisosUsuario = JSON.parse(localStorage.getItem('sesionCafi'));\n\n\tconst [ open, setOpen ] = React.useState(false);\n\tconst [ filtro, setFiltro ] = useState('');\n\tconst [ values, setValues ] = useState('');\n\tconst sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\n\tconst handleClickOpen = () => {\n\t\tsetOpen(true);\n\t};\n\n\tconst handleClose = () => {\n\t\tsetOpen(false);\n\t};\n\n\tconst pressEnter = (e) => {\n\t\tif (e.key === 'Enter') setFiltro(e.target.defaultValue);\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<UsuarioProvider>\n\t\t\t\t<Button fullWidth onClick={handleClickOpen}>\n\t\t\t\t\t<Box display=\"flex\" flexDirection=\"column\">\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t<img src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/usuarios.svg' alt=\"icono numero calzado\" className={classes.icon} />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\tUsuarios\n\t\t\t\t\t</Box>\n\t\t\t\t</Button>\n\t\t\t\t<Dialog fullScreen open={open} onClose={handleClose} TransitionComponent={Transition}>\n\t\t\t\t\t<AppBar className={classes.appBar}>\n\t\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t\t<Typography variant=\"h6\" className={classes.title}>\n\t\t\t\t\t\t\t\tUsuarios\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Box m={1}>\n\t\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"secondary\" onClick={handleClose} size=\"large\">\n\t\t\t\t\t\t\t\t\t<CloseIcon style={{fontSize: 30}} />\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Toolbar>\n\t\t\t\t\t</AppBar>\n\n\t\t\t\t\t<Box m={3} display=\"flex\" justifyContent=\"space-between\">\n\t\t\t\t\t\t<Box mr={5} minWidth=\"70%\">\n\t\t\t\t\t\t\t<Paper className={classes.root}>\n\t\t\t\t\t\t\t\t<InputBase\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\tplaceholder=\"Buscar cliente...\"\n\t\t\t\t\t\t\t\t\tonChange={(e) => setValues(e.target.value)}\n\t\t\t\t\t\t\t\t\tonKeyPress={pressEnter}\n\t\t\t\t\t\t\t\t\tvalue={values}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<IconButton onClick={() => setFiltro(values)}>\n\t\t\t\t\t\t\t\t\t<Search />\n\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t</Paper>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t{permisosUsuario.accesos.catalogos.usuarios.agregar === false ? (null):(\n\t\t\t\t\t\t\t<CrearUsuario accion=\"registrar\" datos={undefined} />\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box mx={4}>\n\t\t\t\t\t\t<ListaUsuarios sucursal={sesion.sucursal._id} filtro={filtro} />\n\t\t\t\t\t</Box>\n\t\t\t\t</Dialog>\n\t\t\t</UsuarioProvider>\n\t\t</div>\n\t);\n}\n","import React, { createContext, useState } from 'react';\n\nexport const CreateDepartamentosContext = createContext();\n\nexport const DepartamentosProvider = ({ children }) => {\n    const [data, setData] = useState({\n\t\tnombre_departamentos:''\n\t});\n    const [ update, setUpdate ] = useState(false);\n    const [ error, setError ] = useState(false);\n    const [ accion, setAccion ] = useState(true);\n    const [ openRegistro, setOpenRegistro ] = useState(false);\n    const [ idDepartamento, setIdDepartamento ] = useState(\"\");\n    const [ alert, setAlert ] = useState({ message: '', status: '', open: false });\n    const [  loading, setLoading ] = useState(false);\n\n\n\treturn (\n\t\t<CreateDepartamentosContext.Provider value={\n            { \n                data, \n                setData,\n                update,\n                setUpdate,\n                error,\n                setError,\n                openRegistro,\n                setOpenRegistro,\n                accion,\n                setAccion,\n                idDepartamento, \n                setIdDepartamento,\n                alert,\n                setAlert,\n                loading,\n                setLoading\n            }\n        }>\n\t\t\t{children}\n\t\t</CreateDepartamentosContext.Provider>\n\t);\n};\n","import React, { useState, useEffect, useContext } from 'react';\nimport { \n    Paper, \n    makeStyles, \n    Table, \n    TableBody, \n    TableCell, \n    TableContainer, \n    TableHead, \n    TableRow,\n\tIconButton,\n\tTablePagination,\n\tDialog,\n\tDialogTitle,\n\tDialogActions,\n\tButton\n} from '@material-ui/core/';\n \nimport { Delete, Edit, Close } from '@material-ui/icons';\n\nimport { useQuery, useMutation } from '@apollo/client';\nimport { OBTENER_DEPARTAMENTOS, ELIMINAR_DEPARTAMENTO } from '../../../../gql/Catalogos/departamentos';\n// import ContainerRegistroAlmacen from './RegistroDepartamento';\n import { CreateDepartamentosContext } from '../../../../context/Catalogos/Departamentos';\n\nconst useStyles = makeStyles((theme) => ({\n\troot: { \n\t\twidth: '100%'\n\t},\n\tpaper: {\n\t\twidth: '100%',\n\t\tmarginBottom: theme.spacing(2)\n\t}\n}));\n\nexport default function TablaDepartamentos() {\n\tconst classes = useStyles();\n\tconst [ page, setPage ] = useState(0);\n\tconst [ rowsPerPage, setRowsPerPage ] = useState(8);\n\tconst [open, setOpen] = useState(false);\n\tconst sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\tlet obtenerDepartamentos = [];\n\n\tconst { update, setAccion, idDepartamento,setIdDepartamento, setData, setAlert, setLoading } = useContext(CreateDepartamentosContext);\n\tconst [ eliminarDepartamento ] = useMutation(ELIMINAR_DEPARTAMENTO);\n\t/* Queries */\n\tconst { data, refetch } = useQuery(OBTENER_DEPARTAMENTOS,{\n\t\tvariables: {\n\t\t\tempresa: sesion.empresa._id,\n\t\t\tsucursal: sesion.sucursal._id\n\t\t}\n\t});\t\n\n\tconst handleModal = () => setOpen(!open);\n\tuseEffect(\n\t\t() => {\n\t\t\trefetch();\n\t\t},\n\t\t[ update, refetch ]\n\t);\n\n\tconst handleDelete = async () => {\n   \n\t\tsetLoading(true);\n\t\ttry {\n            const resultado = await eliminarDepartamento({\n                variables: {\n                    id: idDepartamento\n                }\n            });\n\n\t\t\tif(resultado.data.eliminarDepartamento.message === 'false'){\n\t\t\t\tsetAlert({ message: 'Departamento eliminado con exito', status: 'success', open: true });\n\t\t\t}else{\n\t\t\t\tsetAlert({ message: resultado.data.eliminarDepartamento.message, status: 'error', open: true });\n\t\t\t};\n\n\t\t\trefetch();\n\t\t\tsetLoading(false);\n\t\t\tsetOpen(false)\n\t\t\tsetIdDepartamento('');\n\t\t\n\t\t} catch (error) {\n\t\t\tconsole.log(error);\n\t\t\tsetAlert({ message: 'Hubo un error', status: 'error', open: true });\n\t\t\tsetLoading(false);\n\t\t}\n\t};\n\n\tconst handleChangePage = (event, newPage) => {\n\t\tsetPage(newPage);\n\t};\n\n\tconst handleChangeRowsPerPage = (event) => {\n\t\tsetRowsPerPage(parseInt(event.target.value, 10));\n\t\tsetPage(0);\n\t};\n\n\tif(data){\n\t\tobtenerDepartamentos = data.obtenerDepartamentos\n\t}\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Paper className={classes.paper}>\n\t\t\t\t<TableContainer>\n\t\t\t\t\t<Table\n\t\t\t\t\t\tclassName={classes.table}\n\t\t\t\t\t\taria-labelledby=\"tableTitle\"\n\t\t\t\t\t\tsize=\"medium\"\n\t\t\t\t\t\taria-label=\"enhanced table\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t<TableCell>Departamentos</TableCell>\n\t\t\t\t\t\t\t\t{sesion.accesos.catalogos.departamentos.editar === false ? (null):(\n\t\t\t\t\t\t\t\t\t<TableCell padding=\"default\">Editar</TableCell>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t{sesion.accesos.catalogos.departamentos.eliminar === false ? (null):(\n\t\t\t\t\t\t\t\t\t<TableCell padding=\"default\">Eliminar</TableCell>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t</TableHead>\n\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t{obtenerDepartamentos?.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)?.map((row, index) => {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<TableRow hover role=\"checkbox\" tabIndex={-1} key={row._id}selected={idDepartamento === row._id ? true : false}>\n\t\t\t\t\t\t\t\t\t\t\t<TableCell>{row.nombre_departamentos}</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t{sesion.accesos.catalogos.departamentos.editar === false ?(null):(\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell padding=\"checkbox\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{idDepartamento === row._id ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<IconButton onClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetIdDepartamento(\"\");\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetData({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tnombre_departamentos: \"\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}); \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Close />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<IconButton onClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetAccion(false)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetData({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tnombre_departamentos: row.nombre_departamentos\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetIdDepartamento(row._id);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Edit />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t{sesion.accesos.catalogos.departamentos.eliminar === false ?(null):(\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell padding=\"checkbox\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<IconButton onClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetIdDepartamento(row._id);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleModal();\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Delete />\n\t\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t</Table>\n\t\t\t\t</TableContainer>\n\t\t\t\t<TablePagination\n\t\t\t\t\trowsPerPageOptions={[]}\n\t\t\t\t\tcomponent=\"div\"\n\t\t\t\t\tcount={obtenerDepartamentos.length}\n\t\t\t\t\trowsPerPage={rowsPerPage}\n\t\t\t\t\tpage={page}\n\t\t\t\t\tonChangePage={handleChangePage}\n\t\t\t\t\tonChangeRowsPerPage={handleChangeRowsPerPage}\n\t\t\t\t/>\n\t\t\t</Paper>\n\t\t\t<Modal handleModal={handleModal} openModal={open} handleDelete={handleDelete} />\n\t\t</div>\n\t);\n}\n\n\nconst Modal = ({ handleModal, openModal, handleDelete }) => {\n\treturn (\n\t\t<div>\n\t\t\t<Dialog open={openModal} onClose={handleModal}>\n\t\t\t\t<DialogTitle>{'Seguro que quieres eliminar esto?'}</DialogTitle>\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Button onClick={handleModal} color=\"primary\">\n\t\t\t\t\t\tCancelar\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button color=\"secondary\" autoFocus variant=\"contained\" onClick={handleDelete}>\n\t\t\t\t\t\tOK\n\t\t\t\t\t</Button>\n\t\t\t\t</DialogActions>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n};\n","import React, { useState, useContext } from 'react';\nimport { Box, Button, TextField } from '@material-ui/core';\nimport { Add } from '@material-ui/icons';\nimport TablaDepartamentos from './ListaDepartamentos';\nimport { REGISTRAR_DEPARTAMENTO,  ACTUALIZAR_DEPARTAMENTO  } from '../../../../gql/Catalogos/departamentos';\nimport { useMutation } from '@apollo/client';\nimport { CreateDepartamentosContext } from '../../../../context/Catalogos/Departamentos';\nimport SnackBarMessages from '../../../../components/SnackBarMessages';\nimport BackdropComponent from '../../../../components/Layouts/BackDrop';\nimport { cleanTypenames } from '../../../../config/reuserFunctions';\n\nexport default function RegistroDepartamentos() {\n\tconst { data, setData, update, setUpdate, error, setError, accion, setAccion, idDepartamento, setIdDepartamento , setLoading, setAlert, loading, alert} = useContext(CreateDepartamentosContext);\n\tconst sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\n\tconst obtenerDatos = (e) => {\n\t\tsetData({\n\t\t\t...data,\n\t\t\t[e.target.name]: e.target.value\n\t\t})\n\t}\n\n\tconst [ CrearDepartamentos ] = useMutation(REGISTRAR_DEPARTAMENTO);\n\tconst [ ActualzarDepartamentos ] = useMutation(ACTUALIZAR_DEPARTAMENTO);\n\n\n\n\tconst saveData = async () => {\n\t\ttry {\n\t\t\tif(!data.nombre_departamentos){\n\t\t\t\tsetError(true);\n\t\t\t    return;\n\t\t\t}else{\n\t\t\t\tconst input = data\n\t\t\t\tif(accion){\n\t\t\t\t\tif (sesion.accesos.catalogos.departamentos.agregar === false) {\n\t\t\t\t\t\treturn setAlert({ message: 'Lo sentimos no tienes autorizacin para esta accin!', status: 'error', open: true });\n\t\t\t\t\t}else{\n\t\t\t\t\t\tawait CrearDepartamentos({\n\t\t\t\t\t\t\tvariables: {\n\t\t\t\t\t\t\t\tinput,\n\t\t\t\t\t\t\t\tempresa: sesion.empresa._id,\n\t\t\t\t\t\t\t\tsucursal: sesion.sucursal._id\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tif (sesion.accesos.catalogos.departamentos.editar === false) {\n\t\t\t\t\t\treturn setAlert({ message: 'Lo sentimos no tienes autorizacin para esta accin!', status: 'error', open: true });\n\t\t\t\t\t}else{\n\t\t\t\t\t\tconst inputActualizado = cleanTypenames(input);\n\t\t\t\t\t\tawait ActualzarDepartamentos({\n\t\t\t\t\t\t\tvariables: {\n\t\t\t\t\t\t\t\tinput: inputActualizado,\n\t\t\t\t\t\t\t\tid: idDepartamento\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}) \n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tsetUpdate(!update);\n\t\t\t\tsetAccion(true)\n\t\t\t\tsetIdDepartamento(\"\");\n\t\t\t\tsetData({\n\t\t\t\t\tnombre_departamentos: \"\"\n\t\t\t\t});\n                setAlert({ message: 'Listo!', status: 'success', open: true });\n                setError(false);\n                setLoading(false);\n\t\t\t}\n\t\t} catch (error) {\n\t\t}\n\t}\n\n\treturn (\n\t\t<Box>\n\t\t\t<SnackBarMessages alert={alert} setAlert={setAlert} />\n\t\t\t<BackdropComponent loading={loading} setLoading={setLoading} />\n\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" my={2}>\n\t\t\t\t<TextField\n\t\t\t\t\tid=\"outlined-error-helper-text\"\n\t\t\t\t\tlabel=\"Nombre departamento\"\n\t\t\t\t\tvalue={data.nombre_departamentos}\n\t\t\t\t\tname=\"nombre_departamentos\"\n\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\tsize=\"small\"\n                    fullWidth\n\t\t\t\t\tonChange={obtenerDatos}\n\t\t\t\t\terror={error}\n\t\t\t\t/>\n\t\t\t\t<Box ml={1} />\n\t\t\t\t<Button color=\"primary\" variant=\"contained\" size=\"large\" disableElevation onClick={saveData} >\n\t\t\t\t\t<Add />Guardar\n\t\t\t\t</Button>\n\t\t\t</Box>\n\t\t\t<TablaDepartamentos  />\n\t\t</Box>\n\t); \n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport CloseIcon from '@material-ui/icons/Close';\nimport Slide from '@material-ui/core/Slide';\nimport { Box, Container } from '@material-ui/core';\nimport RegistroDepartamentos from './RegistroDepartamento';\nimport { DepartamentosProvider } from '../../../../context/Catalogos/Departamentos';\n\nconst useStyles = makeStyles((theme) => ({\n\tappBar: {\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n\ticon: {\n\t\twidth: 100\n\t}\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function Departamentos() {\n\tconst classes = useStyles();\n\tconst [ open, setOpen ] = React.useState(false);\n\n\tconst handleClickOpen = () => {\n\t\tsetOpen(true);\n\t};\n\n\tconst handleClose = () => {\n\t\tsetOpen(false);\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<DepartamentosProvider>\n\t\t\t\t<Button fullWidth onClick={handleClickOpen}>\n\t\t\t\t\t<Box display=\"flex\" flexDirection=\"column\">\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t<img src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/departamentos.svg' alt=\"icono numero calzado\" className={classes.icon} />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\tDepartamentos\n\t\t\t\t\t</Box>\n\t\t\t\t</Button>\n\t\t\t\t<Dialog fullScreen open={open} onClose={handleClose} TransitionComponent={Transition}>\n\t\t\t\t\t<AppBar className={classes.appBar}>\n\t\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t\t<Typography variant=\"h6\" className={classes.title}>\n\t\t\t\t\t\t\t\tDepartamentos\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Box m={1}>\n\t\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"secondary\" onClick={handleClose} size=\"large\">\n\t\t\t\t\t\t\t\t\t<CloseIcon style={{fontSize: 30}} />\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Toolbar>\n\t\t\t\t\t</AppBar>\n\t\t\t\t\t<Box mt={3}>\n\t\t\t\t\t\t<Container maxWidth=\"sm\">\n\t\t\t\t\t\t\t<RegistroDepartamentos accion=\"registrar\" />\n\t\t\t\t\t\t</Container>\n\t\t\t\t\t</Box>\n\t\t\t\t</Dialog>\n\t\t\t</DepartamentosProvider>\n\t\t</div>\n\t);\n} \n","import React, { useState, Fragment } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Accordion, AccordionSummary, AccordionDetails, fade } from '@material-ui/core';\nimport { Box, Button, Divider, IconButton, TextField, CircularProgress, Typography } from '@material-ui/core';\nimport { Add, Delete, Edit, ExpandMore, Close } from '@material-ui/icons';\nimport ErrorPage from '../../../../components/ErrorPage';\nimport SnackBarMessages from '../../../../components/SnackBarMessages';\nimport BackdropComponent from '../../../../components/Layouts/BackDrop';\n \nimport { useQuery, useMutation } from '@apollo/client';\nimport {\n\tOBTENER_CATEGORIAS,\n\tCREAR_CATEGORIA,\n\tCREAR_SUBCATEGORIA,\n\tACTUALIZAR_SUBCATEGORIA,\n\tACTUALIZAR_CATEGORIA, \n\tELIMINAR_CATEGORIA,\n\tELIMINAR_SUBCATEGORIA\n} from '../../../../gql/Catalogos/categorias';\nimport { cleanTypenames } from '../../../../config/reuserFunctions';\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n\t\twidth: '100%'\n\t},\n\tflexGrow: {\n\t\tflexGrow: 1\n\t},\n\tselected: {\n\t\tbackground: fade(theme.palette.secondary.main, 0.1)\n\t}\n}));\n\nexport default function RegistroCategorias() {\n\tconst classes = useStyles();\n\tconst sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\tconst [ categoria, setCategoria ] = useState('');\n\tconst [ toUpdateID, setToUpdateID ] = useState('');\n\tconst [ loadingBackDrop, setLoadingBackDrop ] = useState(false);\n\tconst [ alert, setAlert ] = useState({ message: '', status: '', open: false });\n\n\t/* Queries */\n\tconst { loading, data, error, refetch } = useQuery(OBTENER_CATEGORIAS, {\n\t\tvariables: { empresa: sesion.empresa._id, sucursal: sesion.sucursal._id }\n\t});\n\t/*  Categorias Mutations */\n\tconst [ crearCategoria ] = useMutation(CREAR_CATEGORIA);\n\tconst [ actualizarCategoria ] = useMutation(ACTUALIZAR_CATEGORIA);\n\n\t\n\n\tconst obtenerDatos = (e) => {\n\t\tsetCategoria(e.target.value);\n\t};\n\n\tconst guardarCategoria = async () => {\n\t\tif (!categoria) return;\n\t\tsetLoadingBackDrop(true);\n\t\ttry {\n\t\t\tif (!toUpdateID) {\n\t\t\t\tif (sesion.accesos.catalogos.categorias.agregar === false) {\n\t\t\t\t\tsetLoadingBackDrop(false);\n\t\t\t\t\treturn setAlert({ message: 'Lo sentimos no tienes autorizacin para esta accin', status: 'error', open: true });\n\t\t\t\t}else{\n\t\t\t\t\tawait crearCategoria({\n\t\t\t\t\t\tvariables: {\n\t\t\t\t\t\t\tinput: {\n\t\t\t\t\t\t\t\tcategoria,\n\t\t\t\t\t\t\t\tempresa: sesion.empresa._id,\n\t\t\t\t\t\t\t\tsucursal: sesion.sucursal._id\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\t\n\t\t\t} else {\n\t\t\t\tif (sesion.accesos.catalogos.categorias.editar === false) {\n\t\t\t\t\tsetLoadingBackDrop(false);\n\t\t\t\t\treturn setAlert({ message: 'Lo sentimos no tienes autorizacin para esta accin', status: 'error', open: true });\n\t\t\t\t}else{\n\t\t\t\t\tconst categoriaActualizada = cleanTypenames(categoria);\n\t\t\t\t\tawait actualizarCategoria({\n\t\t\t\t\t\tvariables: {\n\t\t\t\t\t\t\tinput: {\n\t\t\t\t\t\t\t\tcategoria: categoriaActualizada\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tidCategoria: toUpdateID\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t\trefetch();\n\t\t\tsetAlert({ message: 'Listo!', status: 'success', open: true });\n\t\t\tsetLoadingBackDrop(false);\n\t\t\tsetCategoria('');\n\t\t\tsetToUpdateID('');\n\t\t} catch (error) {\n\t\t\tsetAlert({ message: 'Hubo un error', status: 'error', open: true });\n\t\t\tsetLoadingBackDrop(false);\n\t\t}\n\t};\n\tif (loading)\n\t\treturn (\n\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" height=\"30vh\">\n\t\t\t\t<CircularProgress />\n\t\t\t</Box>\n\t\t);\n\tif (error) {\n\t\treturn <ErrorPage error={error} />;\n\t}\n\n\tconst { obtenerCategorias } = data;\n\tconst render_categorias = obtenerCategorias.map((categoria, index) => (\n\t\t<RenderCategorias\n\t\t\tkey={index}\n\t\t\tcategoria={categoria}\n\t\t\tsetToUpdateID={setToUpdateID}\n\t\t\tsetCategoria={setCategoria}\n\t\t\trefetch={refetch}\n\t\t\ttoUpdateID={toUpdateID}\n\t\t/>\n\t));\n\treturn (\n\t\t<div className={classes.root} >\n\t\t\t<SnackBarMessages alert={alert} setAlert={setAlert} />\n\t\t\t<BackdropComponent loading={loadingBackDrop} setLoading={setLoadingBackDrop} />\n\t\t\t<Typography variant=\"h6\">Categorias</Typography>\n\t\t\t<Box display=\"flex\" alignItems=\"center\" mb={2}>\n\t\t\t\t<TextField value={categoria} variant=\"outlined\" size=\"small\" onChange={obtenerDatos} />\n\t\t\t\t<Box ml={1} />\n\t\t\t\t<Button color=\"primary\" variant=\"contained\" size=\"large\" disableElevation onClick={guardarCategoria}>\n\t\t\t\t\t<Add />Guardar\n\t\t\t\t</Button>\n\t\t\t</Box>\n\t\t\t{render_categorias}\n\t\t</div>\n\t);\n}\n\nconst RenderCategorias = ({ categoria, setToUpdateID, setCategoria, refetch, toUpdateID }) => {\n\tconst classes = useStyles();\n\tconst sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\tconst [ subcategoria, setSubcategoria ] = useState('');\n\tconst [ loadingBackDrop, setLoadingBackDrop ] = useState(false);\n\tconst [ alert, setAlert ] = useState({ message: '', status: '', open: false });\n\n\t/*  Subcategorias Mutations */\n\tconst [ crearSubcategoria ] = useMutation(CREAR_SUBCATEGORIA);\n\tconst [ actualizarSubcategoria ] = useMutation(ACTUALIZAR_SUBCATEGORIA);\n\tconst [ eliminarCategoria ] = useMutation(ELIMINAR_CATEGORIA);\n\n\n\tconst render_subcategorias = categoria.subcategorias.map((subcategoria) => (\n\t\t<RenderSubcategorias\n\t\t\tkey={subcategoria._id}\n\t\t\tidCategoria= {categoria._id}\n\t\t\tsubcategoria={subcategoria}\n\t\t\tsetToUpdateID={setToUpdateID}\n\t\t\ttoUpdateID={toUpdateID}\n\t\t\tsetSubcategoria={setSubcategoria}\n\t\t\tsetAlert={setAlert}\n\t\t\trefetch={refetch}\n\t\t/>\n\t));\n\n\tconst obtenerCamposParaActualizar = (event) => {\n\t\n\t\twindow.scrollTo(0,0);\n\t\tevent.stopPropagation();\n\t\tsetToUpdateID(categoria._id);\n\t\tsetCategoria(categoria.categoria);\n\t};\n\n\tconst cancelarUpdate = (event) => {\n\t\tevent.stopPropagation();\n\t\tsetToUpdateID('');\n\t\tsetCategoria('');\n\t};\n\n\tconst obtenerDatos = (e) => {\n\t\tsetSubcategoria(e.target.value);\n\t};\n\n\tconst guardarSubcategoria = async () => {\n\t\tif (!subcategoria) return;\n\t\tsetLoadingBackDrop(true);\n\t\tlet msgAlert = '';\n\t\tlet resp;\n\t\ttry {\n\t\t\tif (!toUpdateID) {\n\t\t\t\tif (sesion.accesos.catalogos.categorias.agregar === false) {\n\t\t\t\t\tsetLoadingBackDrop(false);\n\t\t\t\t\treturn setAlert({ message: 'Lo sentimos no tienes autorizacin para esta accin', status: 'error', open: true });\n\t\t\t\t}else{\n\t\t\t\t\tresp = await crearSubcategoria({\n\t\t\t\t\t\tvariables: {\n\t\t\t\t\t\t\tinput: {\n\t\t\t\t\t\t\t\tsubcategoria\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tidCategoria: categoria._id\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tmsgAlert = ( resp.data.crearSubcategoria.message === 'false' ) ? { message: 'Listo!', status: 'success', open: true }: { message: resp.data.crearSubcategoria.message, status: 'error', open: true }\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (sesion.accesos.catalogos.categorias.editar === false) {\n\t\t\t\t\tsetLoadingBackDrop(false);\n\t\t\t\t\treturn setAlert({ message: 'Lo sentimos no tienes autorizacin para esta accin', status: 'error', open: true });\n\t\t\t\t}else{\n\t\t\t\t\tconst subCategoriaActualizada = cleanTypenames(subcategoria);\n\t\t\t\t\tresp = await actualizarSubcategoria({\n\t\t\t\t\t\tvariables: {\n\t\t\t\t\t\t\tinput: {\n\t\t\t\t\t\t\t\tsubcategoria: subCategoriaActualizada\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tidCategoria: categoria._id,\n\t\t\t\t\t\t\tidSubcategoria: toUpdateID\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tmsgAlert =( resp.data.actualizarSubcategoria.message === 'false' ) ? { message: 'Listo!', status: 'success', open: true }: { message: resp.data.actualizarSubcategoria.message, status: 'error', open: true }\n\t\t\t\t}\n\t\t\t}\n\t\t\trefetch();\n\t\t\t\n\t\t\tsetAlert(msgAlert);\n\t\t\tsetLoadingBackDrop(false);\n\t\t\tsetSubcategoria('');\n\t\t\tsetToUpdateID('');\n\t\t} catch (error) {\n\t\t\tsetAlert({ message: 'Hubo un error', status: 'error', open: true });\n\t\t\tsetLoadingBackDrop(false);\n\t\t}\n\t};\n\n\tconst handleDelete = async (event) => {\n\t\tevent.stopPropagation()\n\t\ttry {\n\t\t\tconst resp = await eliminarCategoria({\n\t\t\t\tvariables: {\n\t\t\t\t\tidCategoria: categoria._id\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\tlet msgAlert = ( resp.data.eliminarCategoria.message === 'false' ) ? { message: 'Listo!', status: 'success', open: true }: { message: resp.data.eliminarCategoria.message, status: 'error', open: true }\n\t\t\tsetAlert(msgAlert);\n\t\t\trefetch();\n\t\t\n\t\t} catch (error) {\n\t\t\tsetAlert({ message: 'Hubo un error', status: 'error', open: true });\n\t\t}\n\t};\n\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<SnackBarMessages alert={alert} setAlert={setAlert} />\n\t\t\t<BackdropComponent loading={loadingBackDrop} setLoading={setLoadingBackDrop} />\n\t\t\t<Accordion>\n\t\t\t\t<AccordionSummary\n\t\t\t\t\tclassName={toUpdateID && toUpdateID === categoria._id ? classes.selected : ''}\n\t\t\t\t\texpandIcon={<ExpandMore />}\n\t\t\t\t\taria-label=\"Expand\"\n\t\t\t\t\taria-controls={`categoria-action-${categoria._id}`}\n\t\t\t\t\tid={`categoria-${categoria._id}`}\n\t\t\t\t>\n\t\t\t\t\t<Box display=\"flex\" alignItems=\"center\" width=\"100%\">\n\t\t\t\t\t\t<Typography variant=\"h6\">{categoria.categoria}</Typography>\n\t\t\t\t\t\t<div className={classes.flexGrow} />\n\t\t\t\t\t\t{sesion.accesos.catalogos.categorias.editar === false ?(null):(\n\t\t\t\t\t\t\ttoUpdateID && toUpdateID === categoria._id ? (\n\t\t\t\t\t\t\t\t<IconButton onClick={cancelarUpdate} onFocus={(event) => event.stopPropagation()}>\n\t\t\t\t\t\t\t\t\t<Close />\n\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\tonClick={obtenerCamposParaActualizar}\n\t\t\t\t\t\t\t\t\tonFocus={(event) => event.stopPropagation()}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Edit />\n\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{sesion.accesos.catalogos.categorias.eliminar === false ?(null):(\n\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\tonClick={(event) => handleDelete(event)}\n\t\t\t\t\t\t\t\tonFocus={(event) => handleDelete(event)}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Delete />\n\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Box>\n\t\t\t\t</AccordionSummary>\n\t\t\t\t<AccordionDetails>\n\t\t\t\t\t<Box width=\"100%\">\n\t\t\t\t\t\t<Divider />\n\t\t\t\t\t\t<Box mb={2} />\n\t\t\t\t\t\t<Box ml={5} width=\"100%\" display=\"flex\">\n\t\t\t\t\t\t\t<Typography variant=\"h6\">Subcategorias</Typography>\n\t\t\t\t\t\t\t<Box mr={2} />\n\t\t\t\t\t\t\t<Box display=\"flex\" alignItems=\"center\" mb={2}>\n\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\tvalue={subcategoria}\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\tonChange={obtenerDatos}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<Box ml={1} />\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\tsize=\"large\"\n\t\t\t\t\t\t\t\t\tdisableElevation\n\t\t\t\t\t\t\t\t\tonClick={guardarSubcategoria}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Add />Guardar\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box ml={5}>{render_subcategorias}</Box>\n\t\t\t\t\t</Box>\n\t\t\t\t</AccordionDetails>\n\t\t\t</Accordion>\n\t\t</Fragment>\n\t);\n};\n\nconst RenderSubcategorias = ({ subcategoria,idCategoria, toUpdateID, setToUpdateID, setSubcategoria,setAlert, refetch }) => {\n\tconst sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\tconst classes = useStyles();\n\tconst [ eliminarSubcategoria ] = useMutation(ELIMINAR_SUBCATEGORIA);\n\tconst obtenerCamposParaActualizar = (event) => {\n\t\tevent.stopPropagation();\n\t\tsetToUpdateID(subcategoria._id);\n\t\tsetSubcategoria(subcategoria.subcategoria);\n\t};\n\n\tconst cancelarUpdate = (event) => {\n\t\tevent.stopPropagation();\n\t\tsetToUpdateID('');\n\t\tsetSubcategoria('');\n\t};\n\tconst handleDelete = async (event) => {\n\t\ttry {\n\t\t\tevent.stopPropagation()\n\t\t\tconst resp = await eliminarSubcategoria({\n\t\t\t\tvariables: {\n\t\t\t\t\tidCategoria: idCategoria,\n\t\t\t\t\tidSubcategoria:subcategoria._id\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\tlet msgAlert = ( resp.data.eliminarSubcategoria.message === 'false' ) ? { message: 'Listo!', status: 'success', open: true }: { message: resp.data.eliminarSubcategoria.message, status: 'error', open: true }\n\t\t\n\t\t\tsetAlert(msgAlert);\n\t\t\t\n\t\t\trefetch();\n\t\t\n\t\t} catch (error) {\n\t\t\tsetAlert({ message: 'Ocurri un error', status: 'error', open: true });\n\t\t}\n\t};\n\treturn (\n\t\t<Fragment>\n\t\t\t<Box\n\t\t\t\tdisplay=\"flex\"\n\t\t\t\talignItems=\"center\"\n\t\t\t\tborderRadius={3}\n\t\t\t\tpx={1}\n\t\t\t\tclassName={toUpdateID && toUpdateID === subcategoria._id ? classes.selected : ''}\n\t\t\t>\n\t\t\t\t<Typography>{subcategoria.subcategoria}</Typography>\n\t\t\t\t<div className={classes.flexGrow} />\n\t\t\t\t{sesion.accesos.catalogos.categorias.editar === false ?(null):(\n\t\t\t\t\ttoUpdateID && toUpdateID === subcategoria._id ? (\n\t\t\t\t\t\t<IconButton onClick={cancelarUpdate} onFocus={(event) => event.stopPropagation()}>\n\t\t\t\t\t\t\t<Close />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<IconButton onClick={obtenerCamposParaActualizar} onFocus={(event) => event.stopPropagation()}>\n\t\t\t\t\t\t\t<Edit />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t)\n\t\t\t\t)}\n\t\t\t\t{sesion.accesos.catalogos.categorias.eliminar === false ?(null):(\n\t\t\t\t\t<IconButton onClick={(event) => handleDelete(event) }>\n\t\t\t\t\t\t<Delete />\n\t\t\t\t\t</IconButton>\n\t\t\t\t)}\n\t\t\t</Box>\n\t\t\t<Divider />\n\t\t</Fragment>\n\t);\n};\n","import React from 'react'; \nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport CloseIcon from '@material-ui/icons/Close';\nimport Slide from '@material-ui/core/Slide';\nimport { Box, Container } from '@material-ui/core';\nimport RegistroCategorias from './RegistroCategorias';\n\nconst useStyles = makeStyles((theme) => ({\n\tappBar: {\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n\ticon: {\n\t\twidth: 100\n\t}\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function Categorias() {\n\tconst classes = useStyles();\n\tconst [ open, setOpen ] = React.useState(false);\n\n\tconst handleClickOpen = () => {\n\t\tsetOpen(true);\n\t};\n\n\tconst handleClose = () => {\n\t\tsetOpen(false);\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<Button fullWidth onClick={handleClickOpen}>\n\t\t\t\t<Box display=\"flex\" flexDirection=\"column\">\n\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t<img src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/categorias.svg' alt=\"icono numero calzado\" className={classes.icon} />\n\t\t\t\t\t</Box>\n\t\t\t\t\tCategorias\n\t\t\t\t</Box>\n\t\t\t</Button>\n\t\t\t<Dialog fullScreen open={open} onClose={handleClose} TransitionComponent={Transition}>\n\t\t\t\t<AppBar className={classes.appBar}>\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t<Typography variant=\"h6\" className={classes.title}>\n\t\t\t\t\t\t\tCategorias\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Box m={1}>\n\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"secondary\" onClick={handleClose} size=\"large\">\n\t\t\t\t\t\t\t\t<CloseIcon style={{fontSize: 30}} />\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</AppBar>\n\t\t\t\t<Box mt={3}>\n\t\t\t\t\t<Container maxWidth=\"md\">\n\t\t\t\t\t\t<RegistroCategorias />\n\t\t\t\t\t</Container>\n\t\t\t\t</Box>\n\t\t\t</Dialog>\n\t\t</div> \n\t);\n}\n","import React, { useEffect, useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TablePagination from '@material-ui/core/TablePagination';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport { Box, Button, Dialog, DialogActions, DialogTitle, IconButton, TextField, Typography } from '@material-ui/core';\nimport { Close, Delete, Edit } from '@material-ui/icons';\nimport SnackBarMessages from '../../../../components/SnackBarMessages';\n\nimport { useMutation } from '@apollo/client';\nimport { ELIMINAR_COLOR, OBTENER_COLORES } from '../../../../gql/Catalogos/colores';\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n\t\twidth: '100%'\n\t},\n\tpaper: {\n\t\twidth: '100%',\n\t\tmarginBottom: theme.spacing(2)\n\t},\n\tcolor: {\n\t\tdisplay: 'flex',\n\t\talignItems: 'center'\n\t}\n}));\n\nexport default function TablaColores({ datos, toUpdate, setToUpdate, setValues, refetch }) {\n\tconst classes = useStyles();\n\tconst sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\tconst [ page, setPage ] = useState(0);\n\tconst [ rowsPerPage, setRowsPerPage ] = useState(8);\n\tconst [ busqueda, setBusqueda ] = useState('');\n\tconst [ productosFiltrados, setProductosFiltrados ] = useState([]);\n\tconst [ alert, setAlert ] = useState({\n\t\tstatus: '',\n\t\tmessage: '',\n\t\topen: false\n\t});\n\n\tconst handleChangePage = (event, newPage) => {\n\t\tsetPage(newPage);\n\t};\n\n\tconst handleChangeRowsPerPage = (event) => {\n\t\tsetRowsPerPage(parseInt(event.target.value, 10));\n\t\tsetPage(0);\n\t};\n\n\tuseEffect(\n\t\t() => {\n\t\t\tsetProductosFiltrados(\n\t\t\t\tdatos.filter((datos) => {\n\t\t\t\t\treturn datos.nombre.toLowerCase().includes(busqueda.toLowerCase());\n\t\t\t\t})\n\t\t\t);\n\t\t},\n\t\t[ busqueda, datos ]\n\t);\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<SnackBarMessages alert={alert} setAlert={setAlert} />\n\t\t\t<Paper className={classes.paper}>\n\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tplaceholder=\"Buscar...\"\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tonChange={(e) => setBusqueda(e.target.value)}\n\t\t\t\t\t/>\n\t\t\t\t</Box>\n\t\t\t\t<TableContainer>\n\t\t\t\t\t<Table\n\t\t\t\t\t\tclassName={classes.table}\n\t\t\t\t\t\taria-labelledby=\"tableTitle\"\n\t\t\t\t\t\tsize=\"medium\"\n\t\t\t\t\t\taria-label=\"enhanced table\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t<TableCell width={150}>Color</TableCell>\n\t\t\t\t\t\t\t\t<TableCell>Nombre</TableCell>\n\t\t\t\t\t\t\t\t{sesion.accesos.catalogos.colores.editar === false ? (null) : (\n\t\t\t\t\t\t\t\t\t<TableCell padding=\"default\">Editar</TableCell>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t{sesion.accesos.catalogos.colores.eliminar === false ? (null) : (\n\t\t\t\t\t\t\t\t\t<TableCell padding=\"default\">Eliminar</TableCell>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t</TableHead>\n\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t{productosFiltrados\n\t\t\t\t\t\t\t\t.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\n\t\t\t\t\t\t\t\t.map((row, index) => {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<RowsRender\n\t\t\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\t\t\trow={row}\n\t\t\t\t\t\t\t\t\t\t\tsetAlert={setAlert}\n\t\t\t\t\t\t\t\t\t\t\ttoUpdate={toUpdate}\n\t\t\t\t\t\t\t\t\t\t\tsetToUpdate={setToUpdate}\n\t\t\t\t\t\t\t\t\t\t\tsetValues={setValues}\n\t\t\t\t\t\t\t\t\t\t\trefetch={refetch}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t</Table>\n\t\t\t\t</TableContainer>\n\t\t\t\t<TablePagination\n\t\t\t\t\trowsPerPageOptions={[]}\n\t\t\t\t\tcomponent=\"div\"\n\t\t\t\t\tcount={datos.length}\n\t\t\t\t\trowsPerPage={rowsPerPage}\n\t\t\t\t\tpage={page}\n\t\t\t\t\tonChangePage={handleChangePage}\n\t\t\t\t\tonChangeRowsPerPage={handleChangeRowsPerPage}\n\t\t\t\t/>\n\t\t\t</Paper>\n\t\t</div>\n\t);\n}\n\nconst RowsRender = ({ row, setAlert, toUpdate, setToUpdate, setValues, refetch }) => {\n\tconst classes = useStyles();\n\tconst sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\tconst [ openModal, setOpenModal ] = useState(false);\n\n\tconst handleModal = () => setOpenModal(!openModal);\n\n\tconst [ eliminarColor ] = useMutation(ELIMINAR_COLOR, {\n\t\tupdate(cache, { data: { eliminarColor } }) {\n\t\t\ttry {\n\t\t\t\tconst { obtenerColores } = cache.readQuery({\n\t\t\t\t\tquery: OBTENER_COLORES,\n\t\t\t\t\tvariables: { empresa: row.empresa._id }\n\t\t\t\t});\n\n\t\t\t\tcache.writeQuery({\n\t\t\t\t\tquery: OBTENER_COLORES,\n\t\t\t\t\tvariables: { empresa: row.empresa._id },\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tobtenerColores: {\n\t\t\t\t\t\t\t...obtenerColores,\n\t\t\t\t\t\t\teliminarColor\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} catch (error) {\n\t\t\t}\n\t\t}\n\t});\n\n\tconst handleDelete = async () => {\n\t\ttry {\n\t\t\tconst resp = await eliminarColor({\n\t\t\t\tvariables: {\n\t\t\t\t\tid: row._id\n\t\t\t\t}\n\t\t\t});\n\t\t\trefetch(refetch);\n\t\t\tsetAlert({ message: resp.data.eliminarColor.message, status: 'success', open: true });\n\t\t\thandleModal();\n\t\t} catch (error) {\n\t\t\tsetAlert({ message: error.message, status: 'error', open: true });\n\t\t}\n\t};\n\n\tconst onUpdate = (row) => {\n\t\tif (!row) {\n\t\t\tsetToUpdate('');\n\t\t\tsetValues({ nombre: '', hex: '' });\n\t\t\treturn;\n\t\t}\n\t\tsetToUpdate(row._id);\n\t\tsetValues({ nombre: row.nombre, hex: row.hex });\n\t};\n\n\treturn (\n\t\t<TableRow hover role=\"checkbox\" tabIndex={-1} selected={toUpdate === row._id ? true : false}>\n\t\t\t<TableCell className={classes.color}>\n\t\t\t\t<Box mr={1} width={30} height={25} bgcolor={row.hex} borderRadius=\"10%\" />\n\t\t\t\t<Typography>\n\t\t\t\t\t<b>{row.hex}</b>\n\t\t\t\t</Typography>\n\t\t\t</TableCell>\n\t\t\t<TableCell>\n\t\t\t\t<Typography>\n\t\t\t\t\t<b>{row.nombre}</b>\n\t\t\t\t</Typography>\n\t\t\t</TableCell>\n\t\t\t{sesion.accesos.catalogos.colores.editar === false ? (null) : (\n\t\t\t\t<TableCell padding=\"checkbox\">\n\t\t\t\t\t{toUpdate === row._id ? (\n\t\t\t\t\t\t<IconButton onClick={() => onUpdate()}>\n\t\t\t\t\t\t\t<Close />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<IconButton onClick={() => onUpdate(row)}>\n\t\t\t\t\t\t\t<Edit />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t)}\n\t\t\t\t</TableCell>\n\t\t\t)}\n\t\t\t{sesion.accesos.catalogos.colores.eliminar === false ? (null) : (\n\t\t\t\t<TableCell padding=\"checkbox\">\n\t\t\t\t\t<Modal handleModal={handleModal} openModal={openModal} handleDelete={handleDelete} />\n\t\t\t\t</TableCell>\n\t\t\t)}\n\t\t</TableRow>\n\t);\n};\n\nconst Modal = ({ handleModal, openModal, handleDelete }) => {\n\treturn (\n\t\t<div>\n\t\t\t<IconButton color=\"secondary\" onClick={handleModal}>\n\t\t\t\t<Delete />\n\t\t\t</IconButton>\n\t\t\t<Dialog open={openModal} onClose={handleModal}>\n\t\t\t\t<DialogTitle>{'Seguro que quieres eliminar esto?'}</DialogTitle>\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Button onClick={handleModal} color=\"primary\">\n\t\t\t\t\t\tCancelar\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button color=\"secondary\" autoFocus variant=\"contained\" onClick={handleDelete}>\n\t\t\t\t\t\tEliminar\n\t\t\t\t\t</Button>\n\t\t\t\t</DialogActions>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n};\n","import React, { useState } from 'react';\nimport { Box, Button, Grid, CircularProgress, TextField, Typography } from '@material-ui/core';\nimport { Add } from '@material-ui/icons';\nimport TablaColores from './ListaColores';\nimport { SketchPicker } from 'react-color'; \nimport SnackBarMessages from '../../../../components/SnackBarMessages';\nimport ErrorPage from '../../../../components/ErrorPage';\nimport { cleanTypenames } from '../../../../config/reuserFunctions';\n\nimport { useQuery, useMutation } from '@apollo/client';\nimport { OBTENER_COLORES, CREAR_COLOR, ACTUALIZAR_COLOR } from '../../../../gql/Catalogos/colores';\n\nexport default function RegistroColores() {\n\tconst [ color, setColor ] = useState({});\n\tconst [ toUpdate, setToUpdate ] = useState('');\n\tconst [ values, setValues ] = useState({ nombre: '', hex: '' });\n\tconst [ alert, setAlert ] = useState({ message: '', status: '', open: false });\n\tconst sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\n\t/* Queries */\n\tconst { loading, data, error, refetch } = useQuery(OBTENER_COLORES, {\n\t\tvariables: { sucursal: sesion.sucursal._id }\n\t});\n\n\t/* Mutations */\n\tconst [ crearColor ] = useMutation(CREAR_COLOR);\n\tconst [ actualizarColor ] = useMutation(ACTUALIZAR_COLOR);\n\n\tconst handleChangeComplete = (color) => {\n\t\tsetColor(color);\n\t\tsetValues({\n\t\t\t...values,\n\t\t\thex: color.hex.toUpperCase()\n\t\t});\n\t};\n\n\tif (loading)\n\t\treturn (\n\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" height=\"30vh\">\n\t\t\t\t<CircularProgress />\n\t\t\t</Box>\n\t\t);\n\tif (error) {\n\t\treturn <ErrorPage error={error} />;\n\t}\n\n\tconst { obtenerColores } = data;\n\n\tconst GuardarDatosBD = async () => {\n\t\tif (!values.nombre || !values.hex) {\n\t\t\treturn;\n\t\t}\n\t\ttry {\n\t\t\tconst colores = values;\n\t\t\tlet msg;\n\t\t\tif (toUpdate) {\n\t\t\t\tif (sesion.accesos.catalogos.colores.editar === false) {\n\t\t\t\t\treturn setAlert({ message: 'Lo sentimos no tienes autorizacin para esta accin!', status: 'error', open: true });\n\t\t\t\t}else{\n\t\t\t\t\tconst colorActualizado = cleanTypenames(colores);\n\t\t\t\t\tconst resp = await actualizarColor({\n\t\t\t\t\t\t\tvariables: {\n\t\t\t\t\t\t\t\tinput: {\n\t\t\t\t\t\t\t\t\tnombre: colorActualizado.nombre,\n\t\t\t\t\t\t\t\t\thex: colorActualizado.hex\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tid: toUpdate\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\tmsg = resp.data.actualizarColor.message\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (sesion.accesos.catalogos.colores.agregar === false) {\n\t\t\t\t\treturn setAlert({ message: 'Lo sentimos no tienes autorizacin para esta accin!', status: 'error', open: true });\n\t\t\t\t}else{\n\t\t\t\t\t\tawait crearColor({\n\t\t\t\t\t\tvariables: {\n\t\t\t\t\t\t\tinput: {\n\t\t\t\t\t\t\t\tnombre: colores.nombre,\n\t\t\t\t\t\t\t\thex: colores.hex,\n\t\t\t\t\t\t\t\tempresa: sesion.empresa._id,\n\t\t\t\t\t\t\t\tsucursal: sesion.sucursal._id\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\tmsg = 'Listo!. Color creado.'\n\t\t\t\t}\n\t\t\t}\n\t\t\trefetch();\n\t\t\tsetValues({ nombre: '', hex: '' });\n\t\t\tsetToUpdate('');\n\t\t\n\t\t\tsetAlert({ message: msg, status: 'success', open: true });\n\t\t} catch (error) {\n\t\t\tsetAlert({ message: error.message, status: 'error', open: true });\n\t\t\t\n\t\t}\n\t};\n\t\n\n\treturn (\n\t\t<Box display=\"flex\" justifyContent=\"center\">\n\t\t\t<SnackBarMessages alert={alert} setAlert={setAlert} />\n\t\t\t<Grid container spacing={2}>\n\t\t\t\t<Grid item md={4}>\n\t\t\t\t\t<SketchPicker color={color} onChangeComplete={handleChangeComplete} />\n\t\t\t\t\t<Box mt={2}>\n\t\t\t\t\t\t<Typography>Color seleccionado:</Typography>\n\t\t\t\t\t\t{!values.hex ? (\n\t\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" width={220}>\n\t\t\t\t\t\t\t\t<Typography color=\"secondary\">NINGUNO</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<Box bgcolor={values.hex} height={30} width={220} />\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box my={2} width=\"75%\">\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tlabel=\"Nombre del color\"\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\tvalue={values.nombre}\n\t\t\t\t\t\t\tonChange={(e) => setValues({ ...values, nombre: e.target.value.toUpperCase() })}\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Box my={1} />\n\t\t\t\t\t\t<Button color=\"primary\" variant=\"contained\" size=\"large\" fullWidth onClick={GuardarDatosBD}>\n\t\t\t\t\t\t\t<Add />Guardar\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Box>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item md={7}>\n\t\t\t\t\t<TablaColores\n\t\t\t\t\t\tdatos={obtenerColores}\n\t\t\t\t\t\ttoUpdate={toUpdate}\n\t\t\t\t\t\tsetToUpdate={setToUpdate}\n\t\t\t\t\t\tsetValues={setValues}\n\t\t\t\t\t\trefetch={refetch}\n\t\t\t\t\t/>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t</Box>\n\t);\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport CloseIcon from '@material-ui/icons/Close';\nimport Slide from '@material-ui/core/Slide';\nimport { Box, Container } from '@material-ui/core';\nimport RegistroColores from './RegistroColores';\n\nconst useStyles = makeStyles((theme) => ({\n\tappBar: {\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n\ticon: {\n\t\twidth: 100\n\t}\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function Colores() {\n\tconst classes = useStyles();\n\tconst [ open, setOpen ] = React.useState(false);\n\n\tconst handleClickOpen = () => {\n\t\tsetOpen(true);\n\t};\n\n\tconst handleClose = () => {\n\t\tsetOpen(false);\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<Button fullWidth onClick={handleClickOpen}>\n\t\t\t\t<Box display=\"flex\" flexDirection=\"column\">\n\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t<img src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/colores.svg' alt=\"icono numero calzado\" className={classes.icon} />\n\t\t\t\t\t</Box>\n\t\t\t\t\tColores\n\t\t\t\t</Box>\n\t\t\t</Button>\n\t\t\t<Dialog fullScreen open={open} onClose={handleClose} TransitionComponent={Transition}>\n\t\t\t\t<AppBar className={classes.appBar}>\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t<Typography variant=\"h6\" className={classes.title}>\n\t\t\t\t\t\t\tColores\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Box m={1}>\n\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"secondary\" onClick={handleClose} size=\"large\">\n\t\t\t\t\t\t\t\t<CloseIcon style={{fontSize: 30}} />\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</AppBar>\n\t\t\t\t<Box mt={4}>\n\t\t\t\t\t<Container maxWidth=\"md\">\n\t\t\t\t\t\t<RegistroColores />\n\t\t\t\t\t</Container>\n\t\t\t\t</Box>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n}\n","import React, { useState, useEffect } from 'react';\nimport { \n    Paper, \n    makeStyles, \n    Table, \n    TableBody, \n    TableCell, \n    TableContainer, \n    TableHead, \n    TableRow,\n\tIconButton,\n\tTablePagination,\n\tDialog,\n\tDialogTitle,\n\tDialogActions,\n\tButton\n} from '@material-ui/core/';\nimport { Delete, Edit, Close } from '@material-ui/icons';\nimport { useQuery } from '@apollo/client';\nimport { useMutation } from '@apollo/client';\nimport { OBTENER_MARCAS, ELIMINAR_MARCAS } from '../../../../gql/Catalogos/marcas';\nimport SnackBarMessages from '../../../../components/SnackBarMessages';\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n\t\twidth: '100%'\n\t},\n\tpaper: {\n\t\twidth: '100%',\n\t\tmarginBottom: theme.spacing(2)\n\t}\n}));\n\nexport default function ListaMarcas({updateData, toUpdate, setToUpdate, setData}) {\n\n    const classes = useStyles();\n    const [ page, setPage ] = useState(0);\n\tconst [ rowsPerPage, setRowsPerPage ] = useState(8);\n\tconst [ alert, setAlert ] = useState({\n\t\tstatus: '',\n\t\tmessage: '',\n\t\topen: false\n\t});\n\tconst sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\tlet obtenerMarcas = [];\n\t\n\n    const { data, refetch } = useQuery(OBTENER_MARCAS,{\n\t\tvariables: {\n\t\t\tempresa: sesion.empresa._id,\n\t\t\tsucursal: sesion.sucursal._id\n\t\t}\n\t});\t\n\n\tuseEffect(() => {\n\t\trefetch();\n\t}, [refetch, updateData])\n\n    if(data){\n\t\tobtenerMarcas = data.obtenerMarcas\n\t}\n\n    const handleChangePage = (event, newPage) => {\n\t\tsetPage(newPage);\n\t};\n\n\tconst handleChangeRowsPerPage = (event) => {\n\t\tsetRowsPerPage(parseInt(event.target.value, 10));\n\t\tsetPage(0);\n\t};\n\n\n    return (\n        <div className={classes.root}>\n\t\t\t<SnackBarMessages alert={alert} setAlert={setAlert} />\n\t\t\t<Paper className={classes.paper}>\n\t\t\t\t<TableContainer>\n\t\t\t\t\t<Table\n\t\t\t\t\t\tclassName={classes.table}\n\t\t\t\t\t\taria-labelledby=\"tableTitle\"\n\t\t\t\t\t\tsize=\"medium\"\n\t\t\t\t\t\taria-label=\"enhanced table\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t<TableCell>Marca</TableCell>\n\t\t\t\t\t\t\t\t{sesion.accesos.catalogos.marcas.editar === false ? (null):(\n\t\t\t\t\t\t\t\t\t<TableCell padding=\"default\">Editar</TableCell>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t{sesion.accesos.catalogos.marcas.eliminar === false ? (null):(\n\t\t\t\t\t\t\t\t\t<TableCell padding=\"default\">Eliminar</TableCell>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t</TableHead>\n\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\tobtenerMarcas\n\t\t\t\t\t\t\t\t?.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\n\t\t\t\t\t\t\t\t?.map((row, index) => {\n\t\t\t\t\t\t\t\t\treturn <RowsRender key={index} setAlert={setAlert} refetch={refetch} datos={row} toUpdate={toUpdate} setToUpdate={setToUpdate} setData={setData} />;\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t</Table>\n\t\t\t\t</TableContainer>\n\t\t\t\t<TablePagination\n\t\t\t\t\trowsPerPageOptions={[]}\n\t\t\t\t\tcomponent=\"div\"\n\t\t\t\t\tcount={obtenerMarcas.length}\n\t\t\t\t\trowsPerPage={rowsPerPage}\n\t\t\t\t\tpage={page}\n\t\t\t\t\tonChangePage={handleChangePage}\n\t\t\t\t\tonChangeRowsPerPage={handleChangeRowsPerPage}\n\t\t\t\t/>\n\t\t\t</Paper>\n\t\t</div>\n    )\n}\n\nconst RowsRender = ({ datos, updateData, toUpdate, setAlert, setToUpdate, setData, refetch }) => {\n\tconst sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\tconst [ openModal, setOpenModal ] = useState(false);\n\tconst handleModal = () => setOpenModal(!openModal);\n\n\tconst [ eliminarMarca ] = useMutation(ELIMINAR_MARCAS);\n\n\tconst handleDelete = async () => {\n\t\ttry {\n\t\t\tconst resultado = await eliminarMarca({\n\t\t\t\tvariables: {\n\t\t\t\t\tid: datos._id,\n\t\t\t\t\tempresa: sesion.empresa._id,\n\t\t\t\t\tsucursal: sesion.sucursal._id\n\t\t\t\t}\n\t\t\t});\n\t\t\tif(resultado.data.eliminarMarca.message === 'false'){\n\t\t\t\tsetAlert({ message: 'Marca eliminada con exito', status: 'success', open: true });\n\t\t\t}else{\n\t\t\t\tsetAlert({ message: resultado.data.eliminarMarca.message, status: 'error', open: true });\n\t\t\t};\n\t\t\trefetch();\n\t\t\thandleModal();\n\t\t} catch (error) {\n\t\t\tsetAlert({ message: error.message, status: 'error', open: true });\n\t\t}\n\t};\n\n\tconst onUpdate = (dato) => {\n\t\tif(!dato){\n\t\t\tsetToUpdate('');\n\t\t\tsetData('');\n\t\t\trefetch();\n\t\t\treturn\n\t\t}\n\t\trefetch();\n\t\tsetToUpdate(dato._id);\n\t\tsetData(dato);\n\t};\n\n\treturn (\n\t\t<TableRow hover role=\"checkbox\" tabIndex={-1} selected={toUpdate === datos._id ? true : false}>\n\t\t\t<TableCell>{datos.nombre_marca}</TableCell>\n\t\t\t{sesion.accesos.catalogos.marcas.editar === false ? (null):(\n\t\t\t\t<TableCell padding=\"checkbox\">\n\t\t\t\t\t{toUpdate === datos._id ? (\n\t\t\t\t\t\t<IconButton onClick={() => onUpdate()}>\n\t\t\t\t\t\t\t<Close />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<IconButton onClick={() => onUpdate(datos)}>\n\t\t\t\t\t\t\t<Edit />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t)}\n\t\t\t\t</TableCell>\n\t\t\t)}\n\t\t\t{sesion.accesos.catalogos.marcas.eliminar === false ? (null):(\n\t\t\t\t<TableCell padding=\"checkbox\">\n\t\t\t\t\t<Modal handleModal={handleModal} openModal={openModal} handleDelete={handleDelete} />\n\t\t\t\t</TableCell>\n\t\t\t)}\n\t\t</TableRow>\n\t);\n};\n\n\n//ELIMINAR DATOS DE LA TABLA\nconst Modal = ({ handleModal, openModal, handleDelete }) => {\n\treturn (\n\t\t<div>\n\t\t\t<IconButton color=\"secondary\" onClick={handleModal}>\n\t\t\t\t<Delete />\n\t\t\t</IconButton>\n\t\t\t<Dialog open={openModal} onClose={handleModal}>\n\t\t\t\t<DialogTitle>{'Seguro que quieres eliminar esto?'}</DialogTitle>\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Button onClick={handleModal} color=\"primary\">\n\t\t\t\t\t\tCancelar\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button color=\"secondary\" autoFocus variant=\"contained\" onClick={handleDelete}>\n\t\t\t\t\t\tEliminar\n\t\t\t\t\t</Button>\n\t\t\t\t</DialogActions>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n};\n\n","import React, { createContext, useState } from 'react';\n\nexport const CreateMarcasContext = createContext();\n\nexport const MarcasProvider = ({ children }) => {\n\tconst [ datosMarcas, setDatosMarcas ] = useState({\n        nombre_marca: \"\"\n    });\n\n    const [ update, setUpdate ] = useState(false);\n    const [ error, setError ] = useState(false);\n    const [ openRegistro, setOpenRegistro ] = useState(false);\n\n\treturn (\n\t\t<CreateMarcasContext.Provider value={\n            { \n                datosMarcas, \n                setDatosMarcas,\n                update,\n                setUpdate,\n                error,\n                setError,\n                openRegistro,\n                setOpenRegistro\n            }\n        }>\n\t\t\t{children}\n\t\t</CreateMarcasContext.Provider>\n\t);\n};\n","import React, { useState, useContext } from 'react';\nimport {\n    Button,\n    Box,\n    TextField\n} from '@material-ui/core';\nimport ListaMarcas from './ListaMarcas';\nimport SnackBarMessages from '../../../../components/SnackBarMessages';\nimport { Add } from '@material-ui/icons';\nimport { /* OBTENER_MARCAS, */ REGISTRAR_MARCAS, ACTUALIZAR_MARCAS} from '../../../../gql/Catalogos/marcas';\nimport { useMutation } from '@apollo/client';\nimport { CreateMarcasContext } from '../../../../context/Catalogos/Marcas';\nimport { cleanTypenames } from '../../../../config/reuserFunctions';\n\n\nexport default function VistaMarcas() {\n\n    const [ alert, setAlert ] = useState({ message: '', status: '', open: false });\n    const [ data, setData ] = useState({\n        nombre_marca: \"\"\n    });\n    const [ toUpdate, setToUpdate ] = useState('');\n    const [updateData, setUpdateData] = useState(false);\n    const { /* datosMarcas, setDatosMarcas, */ error, setError } = useContext(CreateMarcasContext);\n\n    const sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\n    const [ CrearMarca ] = useMutation(REGISTRAR_MARCAS);\n\tconst [ actualizarMarca ] = useMutation(ACTUALIZAR_MARCAS);\n\n    const obtenerDatos = (e) => {\n        setData({\n            ...data,\n            [e.target.name]: e.target.value\n        })\n    }\n\n    const saveData = async () => {\n        try {\n            if(!data.nombre_marca){\n                setError(true);\n\t\t\t    return;\n            }else{\n                if(toUpdate){\n                    if (sesion.accesos.catalogos.marcas.editar === false) {\n                        return setAlert({ message: 'Lo sentimos no tienes autorizacin para esta accin !', status: 'error', open: true });\n                    }else{\n                        const input = cleanTypenames(data);\n                        await actualizarMarca({\n                            variables: {\n                                input: {\n                                    nombre_marca: input.nombre_marca,\n                                },\n                                id: toUpdate\n                            }\n                        });\n                        setData(\"\");\n                    }\n                }else{\n                    if (sesion.accesos.catalogos.marcas.agregar === false) {\n                        return setAlert({ message: 'Lo sentimos no tienes autorizacin para esta accin !', status: 'error', open: true });\n                    }else{\n                        const input = data;\n                        await CrearMarca({\n                            variables: {\n                                input,\n                                empresa: sesion.empresa._id,\n                                sucursal: sesion.sucursal._id\n                            }\n                        });\n                        setData(\"\");\n                    }\n                }\n                setToUpdate('');\n                setUpdateData(!updateData);\n                setAlert({ message: 'Listo!', status: 'success', open: true });\n                setError(false);\n            }\n        } catch (error) {\n        }\n    }\n\n    const pressEnter = (e) => {\n        if (e.key === 'Enter') saveData();\n\t};\n\n    return (\n        <div>\n            <SnackBarMessages alert={alert} setAlert={setAlert} />\n                <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" my={2}>\n                    <TextField\n                        id=\"outlined-error-helper-text\"\n                        label=\"Nombre departamento\"\n                        value={data.nombre_marca ? data.nombre_marca : \"\"}\n                        name=\"nombre_marca\"\n                        variant=\"outlined\"\n                        size=\"small\"\n                        fullWidth\n                        onChange={obtenerDatos}\n                        error={error}\n                        onKeyPress={pressEnter}\n                    />\n                    <Box ml={1} />\n                    <Button \n                        color=\"primary\" \n                        variant=\"contained\" \n                        size=\"large\" \n                        disableElevation \n                        onClick={saveData}\n                    >\n                        <Add />Guardar\n                    </Button>\n                </Box>\n            <ListaMarcas toUpdate={toUpdate} setToUpdate={setToUpdate} updateData={updateData} setData={setData} />\n        </div>\n    )\n}\n","import React from 'react';\nimport { \n    Button, \n    Box, \n    Dialog,\n    AppBar,\n    Toolbar,\n    Typography,\n    Container,\n    makeStyles,\n    Slide\n} from '@material-ui/core';\nimport { FcRating } from \"react-icons/fc\";\nimport CloseIcon from '@material-ui/icons/Close';\nimport VistaMarcas from './VistaMarcas';\nimport { MarcasProvider } from '../../../../context/Catalogos/Marcas';\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nconst useStyles = makeStyles((theme) => ({\n\tappBar: {\t\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n\ticon: {\n\t\tfontSize: 100\n\t}\n}));\n\nexport default function Marcas() {\n    const classes = useStyles();\n    const [ open, setOpen ] = React.useState(false);\n\n    const handleClickOpen = () => {\n\t\tsetOpen(true);\n\t};\n\n\tconst handleClose = () => {\n\t\tsetOpen(false);\n\t};\n\n    return (\n        <div>\n\t\t\t<MarcasProvider>\n\t\t\t\t<Button fullWidth onClick={handleClickOpen}>\n\t\t\t\t\t<Box display=\"flex\" flexDirection=\"column\">\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t<FcRating className={classes.icon} />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\tMarcas\n\t\t\t\t\t</Box>\n\t\t\t\t</Button>\n\t\t\t\t<Dialog fullScreen open={open} onClose={handleClose} TransitionComponent={Transition}>\n\t\t\t\t\t<AppBar className={classes.appBar}>\n\t\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t\t<Typography variant=\"h6\" className={classes.title}>\n\t\t\t\t\t\t\t\tMarcas\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Box m={1}>\n\t\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"secondary\" onClick={handleClose} size=\"large\">\n\t\t\t\t\t\t\t\t\t<CloseIcon style={{fontSize: 30}} />\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Toolbar>\n\t\t\t\t\t</AppBar>\n\t\t\t\t\t<Box mt={4}>\n\t\t\t\t\t\t<Container maxWidth=\"md\">\n\t\t\t\t\t\t\t<VistaMarcas />\n\t\t\t\t\t\t</Container>\n\t\t\t\t\t</Box>\n\t\t\t\t</Dialog>\n\t\t\t</MarcasProvider>\n\t\t</div>\n    )\n}\n","import React, { useState, Fragment } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Accordion, AccordionSummary, AccordionDetails, fade } from '@material-ui/core';\nimport { Box, Button, Divider, IconButton, TextField, CircularProgress, Typography } from '@material-ui/core';\nimport { Add, Delete, Edit, ExpandMore, Close } from '@material-ui/icons';\nimport ErrorPage from '../../../../components/ErrorPage';\nimport SnackBarMessages from '../../../../components/SnackBarMessages';\nimport BackdropComponent from '../../../../components/Layouts/BackDrop';\n\nimport { useQuery, useMutation } from '@apollo/client';\nimport {\n\tOBTENER_CUENTAS,\n\tCREAR_CUENTA,\n\tCREAR_SUBCUENTA,\n\tACTUALIZAR_SUBCUENTA,\n\tACTUALIZAR_CUENTA,\n    ELIMINAR_CUENTA,\n    ELIMINAR_SUBCUENTA\n} from '../../../../gql/Catalogos/centroCostos';\nimport { cleanTypenames } from '../../../../config/reuserFunctions';\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n\t\twidth: '100%'\n\t},\n\tflexGrow: {\n\t\tflexGrow: 1\n\t},\n\tselected: {\n\t\tbackground: fade(theme.palette.secondary.main, 0.1)\n\t}\n}));\n\nexport default function RegistroCategorias() {\n\tconst classes = useStyles();\n\tconst sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\tconst [ cuenta, setCuenta ] = useState('');\n\tconst [ toUpdateID, setToUpdateID ] = useState('');\n\tconst [ loadingBackDrop, setLoadingBackDrop ] = useState(false);\n\tconst [ alert, setAlert ] = useState({ message: '', status: '', open: false });\n\n\t/* Queries */\n\tconst { loading, data, error, refetch } = useQuery(OBTENER_CUENTAS, {\n\t\tvariables: { empresa: sesion.empresa._id, sucursal: sesion.sucursal._id }\n\t});\n\t/*  Categorias Mutations */\n\tconst [ crearCuenta ] = useMutation(CREAR_CUENTA);\n\tconst [ actualizarCuenta ] = useMutation(ACTUALIZAR_CUENTA);\n   \n  \n\n\tif (loading)\n\t\treturn (\n\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" height=\"30vh\">\n\t\t\t\t<CircularProgress />\n\t\t\t</Box>\n\t\t);\n\tif (error) {\n\t\treturn <ErrorPage error={error} />;\n\t}\n\n\tconst { obtenerCuentas } = data;\n\tconst render_cuentas = obtenerCuentas.map((cuenta, index) => (\n\t\t<RenderCuentas\n\t\t\tkey={index}\n\t\t\tcuenta={cuenta}\n\t\t\tsetToUpdateID={setToUpdateID}\n\t\t\tsetCuenta={setCuenta}\n\t\t\trefetch={refetch}\n\t\t\ttoUpdateID={toUpdateID}\n\t\t/>\n\t));\n\n\tconst obtenerDatos = (e) => {\n\t\tsetCuenta(e.target.value);\n\t};\n    \n\tconst guardarCuenta = async () => {\n\t\tif (!cuenta) return;\n\t\tsetLoadingBackDrop(true);\n\t\ttry {\n\t\t\tif (!toUpdateID) {\n\t\t\t\tif (sesion.accesos.catalogos.centro_costos.agregar === false) {\n\t\t\t\t\tsetLoadingBackDrop(false);\n\t\t\t\t\treturn setAlert({ message: 'Lo sentimos no tienes autorizacin para esta accin!', status: 'error', open: true });\n\t\t\t\t}else{\n\t\t\t\t\tawait crearCuenta({\n\t\t\t\t\t\tvariables: {\n\t\t\t\t\t\t\tinput: {\n\t\t\t\t\t\t\t\tcuenta,\n\t\t\t\t\t\t\t\tempresa: sesion.empresa._id,\n\t\t\t\t\t\t\t\tsucursal: sesion.sucursal._id\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (sesion.accesos.catalogos.centro_costos.editar === false) {\n\t\t\t\t\tsetLoadingBackDrop(false);\n\t\t\t\t\treturn setAlert({ message: 'Lo sentimos no tienes autorizacin para esta accin!', status: 'error', open: true });\n\t\t\t\t}else{\n\t\t\t\t\tconst cuentaActualizada = cleanTypenames(cuenta);\n\t\t\t\t\tawait actualizarCuenta({\n\t\t\t\t\t\tvariables: {\n\t\t\t\t\t\t\tinput: {\n\t\t\t\t\t\t\t\tcuenta: cuentaActualizada\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tidCuenta: toUpdateID\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t\trefetch();\n\t\t\tsetAlert({ message: 'Listo!', status: 'success', open: true });\n\t\t\tsetLoadingBackDrop(false);\n\t\t\tsetCuenta('');\n\t\t\tsetToUpdateID('');\n\t\t} catch (error) {\n\t\t\tsetAlert({ message: 'Hubo un error', status: 'error', open: true });\n\t\t\tsetLoadingBackDrop(false);\n\t\t}\n\t};\n\n    \n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<SnackBarMessages alert={alert} setAlert={setAlert} />\n\t\t\t<BackdropComponent loading={loadingBackDrop} setLoading={setLoadingBackDrop} />\n\t\t\t<Typography variant=\"h6\">Cuentas</Typography>\n\t\t\t<Box display=\"flex\" alignItems=\"center\" mb={2}>\n\t\t\t\t<TextField value={cuenta} variant=\"outlined\" size=\"small\" onChange={obtenerDatos} />\n\t\t\t\t<Box ml={1} />\n\t\t\t\t<Button color=\"primary\" variant=\"contained\" size=\"large\" disableElevation onClick={guardarCuenta}>\n\t\t\t\t\t<Add />Guardar\n\t\t\t\t</Button>\n\t\t\t</Box>\n\t\t\t{render_cuentas}\n\t\t</div>\n\t);\n}\n\nconst RenderCuentas = ({ cuenta, setToUpdateID, setCuenta, refetch, toUpdateID }) => {\n\tconst sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\n\tconst classes = useStyles();\n\tconst [ subcuenta, setSubcuenta ] = useState('');\n\tconst [ loadingBackDrop, setLoadingBackDrop ] = useState(false);\n\tconst [ alert, setAlert ] = useState({ message: '', status: '', open: false });\n     const [ eliminarCuenta ] = useMutation(ELIMINAR_CUENTA);\n\t/*  Subcategorias Mutations */\n\tconst [ crearSubcuenta ] = useMutation(CREAR_SUBCUENTA);\n\tconst [ actualizarSubcuenta ] = useMutation(ACTUALIZAR_SUBCUENTA);\n   \n\t\n    const render_subcuentas = (cuenta.subcuentas !== null) ? cuenta.subcuentas.map((subcuenta) => (\n\t\t<RenderSubcuentas\n\t\t\tkey={subcuenta._id}\n            idCuenta={cuenta._id}\n\t\t\tsubcuenta={subcuenta}\n\t\t\tsetToUpdateID={setToUpdateID}\n\t\t\ttoUpdateID={toUpdateID}\n\t\t\tsetSubcuenta={setSubcuenta}\n            refetch={refetch}\n\t\t/>\n\t))\n\t: \n\t(<div/>)\n\t; \n\n\tconst obtenerCamposParaActualizar = (event) => {\n\t\tevent.stopPropagation();\n\t\tsetToUpdateID(cuenta._id);\n\t\tsetCuenta(cuenta.cuenta);\n\t};\n\n\tconst cancelarUpdate = (event) => {\n\t\tevent.stopPropagation();\n\t\tsetToUpdateID('');\n\t\tsetCuenta('');\n\t};\n\n\tconst obtenerDatos = (e) => {\n\t\tsetSubcuenta(e.target.value);\n\t};\n\n\tconst guardarSubcuenta = async () => {\n\t\tif (!subcuenta) return;\n\t\tsetLoadingBackDrop(true);\n\t\ttry {\n\t\t\tif (!toUpdateID) {\n\t\t\t\tif (sesion.accesos.catalogos.centro_costos.agregar === false) {\n\t\t\t\t\tsetLoadingBackDrop(false);\n\t\t\t\t\treturn setAlert({ message: 'Lo sentimos no tienes autorizacin para esta accin!', status: 'error', open: true });\n\t\t\t\t}else{\n\t\t\t\t\tawait crearSubcuenta({\n\t\t\t\t\t\tvariables: {\n\t\t\t\t\t\t\tinput: {\n\t\t\t\t\t\t\t\tsubcuenta\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tidCuenta: cuenta._id\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (sesion.accesos.catalogos.centro_costos.editar === false) {\n\t\t\t\t\tsetLoadingBackDrop(false);\n\t\t\t\t\treturn setAlert({ message: 'Lo sentimos no tienes autorizacin para esta accin!', status: 'error', open: true });\n\t\t\t\t}else{\n\t\t\t\t\tconst subCuentaActualizada = cleanTypenames(subcuenta)\n\t\t\t\t\tawait actualizarSubcuenta({\n\t\t\t\t\t\tvariables: {\n\t\t\t\t\t\t\tinput: { \n\t\t\t\t\t\t\t\tsubcuenta: subCuentaActualizada\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tidCuenta: cuenta._id,\n\t\t\t\t\t\t\tidSubcuenta: toUpdateID\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t\trefetch();\n\t\t\tsetAlert({ message: 'Listo!', status: 'success', open: true });\n\t\t\tsetLoadingBackDrop(false);\n\t\t\tsetSubcuenta('');\n\t\t\tsetToUpdateID('');\n\t\t} catch (error) {\n\t\t\tsetAlert({ message: 'Hubo un error', status: 'error', open: true });\n\t\t\tsetLoadingBackDrop(false);\n\t\t}\n\t};\n\n    const deleteCuenta = async (idCuenta) => {\n\t\tsetLoadingBackDrop(true);\n\t\ttry {\n            await eliminarCuenta({\n                variables: {\n                    id: idCuenta\n                }\n            });\n\t\t\trefetch();\n\t\t\tsetAlert({ message: 'Listo!', status: 'success', open: true });\n\t\t\tsetLoadingBackDrop(false);\n\t\t\tsetCuenta('');\n\t\t\tsetToUpdateID('');\n\t\t} catch (error) {\n\t\t\tsetAlert({ message: 'Hubo un error', status: 'error', open: true });\n\t\t\tsetLoadingBackDrop(false);\n\t\t}\n\t};\n    \n\n\treturn (\n\t\t<Fragment>\n\t\t\t<SnackBarMessages alert={alert} setAlert={setAlert} />\n\t\t\t<BackdropComponent loading={loadingBackDrop} setLoading={setLoadingBackDrop} />\n\t\t\t<Accordion>\n\t\t\t\t<AccordionSummary\n\t\t\t\t\tclassName={toUpdateID && toUpdateID === cuenta._id ? classes.selected : ''}\n\t\t\t\t\texpandIcon={<ExpandMore />}\n\t\t\t\t\taria-label=\"Expand\"\n\t\t\t\t\taria-controls={`cuenta-action-${cuenta._id}`}\n\t\t\t\t\tid={`cuenta-${cuenta._id}`}\n\t\t\t\t>\n\t\t\t\t\t<Box display=\"flex\" alignItems=\"center\" width=\"100%\">\n\t\t\t\t\t\t<Typography variant=\"h6\">{cuenta.cuenta}</Typography>\n\t\t\t\t\t\t<div className={classes.flexGrow} />\n\t\t\t\t\t\t{toUpdateID && toUpdateID === cuenta._id ? (\n\t\t\t\t\t\t\t<IconButton onClick={cancelarUpdate} onFocus={(event) => event.stopPropagation()}>\n\t\t\t\t\t\t\t\t<Close />\n\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\tsesion.accesos.catalogos.centro_costos.editar === false ? (null):(\n\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\tonClick={obtenerCamposParaActualizar}\n\t\t\t\t\t\t\t\t\tonFocus={(event) => event.stopPropagation()}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Edit />\n\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{sesion.accesos.catalogos.centro_costos.eliminar === false ? (null):(\n\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\tonClick={() => deleteCuenta(cuenta._id )}\n\t\t\t\t\t\t\t\tonFocus={(event) => event.stopPropagation()}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Delete />\n\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Box>\n\t\t\t\t</AccordionSummary>\n\t\t\t\t<AccordionDetails>\n\t\t\t\t\t<Box width=\"100%\">\n\t\t\t\t\t\t<Divider />\n\t\t\t\t\t\t<Box mb={2} />\n\t\t\t\t\t\t<Box ml={5} width=\"100%\" display=\"flex\">\n\t\t\t\t\t\t\t<Typography variant=\"h6\">Subcuenta</Typography>\n\t\t\t\t\t\t\t<Box mr={2} />\n\t\t\t\t\t\t\t<Box display=\"flex\" alignItems=\"center\" mb={2}>\n\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\tvalue={subcuenta}\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\tonChange={obtenerDatos}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<Box ml={1} />\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\tsize=\"large\"\n\t\t\t\t\t\t\t\t\tdisableElevation\n\t\t\t\t\t\t\t\t\tonClick={guardarSubcuenta}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Add />Guardar\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t{(cuenta.subcuentas !== null ) ?\n\t\t\t\t\t\t\t<Box ml={5}>{render_subcuentas}</Box>\n\t\t\t\t\t\t:\n\t\t\t\t\t\t<div/>\n\t\t\t\t\t\t}\t\n\t\t\t\t\t\t{/* <Box ml={5}>{render_subcostos}</Box> */}\n\t\t\t\t\t</Box>\n\t\t\t\t</AccordionDetails>\n\t\t\t</Accordion>\n\t\t</Fragment>\n\t);\n};\n\nconst RenderSubcuentas = ({ idCuenta,subcuenta, toUpdateID, setToUpdateID, setSubcuenta, refetch }) => {\n\tconst sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\n\tconst classes = useStyles();\n    const [ loadingBackDrop, setLoadingBackDrop ] = useState(false);\n\tconst [ alert, setAlert ] = useState({ message: '', status: '', open: false });\n    const [ eliminarSubcuenta ] = useMutation(ELIMINAR_SUBCUENTA);\n\t\n    const obtenerCamposParaActualizar = (event) => {\n\t\tevent.stopPropagation();\n\t\tsetToUpdateID(subcuenta._id);\n\t\tsetSubcuenta(subcuenta.subcuenta);\n\t};\n\n\tconst cancelarUpdate = (event) => {\n\t\tevent.stopPropagation();\n\t\tsetToUpdateID('');\n\t\tsetSubcuenta('');\n\t};\n    const deleteSubCuenta = async ( idSubCuenta) => {\n        \n\t\tsetLoadingBackDrop(true);\n\t\ttry {\n            await eliminarSubcuenta({\n                variables: {\n                    idCuenta: idCuenta,\n                    idSubcuenta: idSubCuenta\n                }\n            });\n\t\t\trefetch();\n\t\t\tsetAlert({ message: 'Listo!', status: 'success', open: true });\n\t\t\tsetLoadingBackDrop(false);\n\t\t\tsetSubcuenta('');\n\t\t\tsetToUpdateID('');\n\t\t} catch (error) {\n\t\t\tsetAlert({ message: 'Hubo un error', status: 'error', open: true });\n\t\t\tsetLoadingBackDrop(false);\n\t\t}\n\t};\n    \n\treturn (\n\t\t<Fragment>\n\t\t\t<SnackBarMessages alert={alert} setAlert={setAlert} />\n\t\t\t<BackdropComponent loading={loadingBackDrop} setLoading={setLoadingBackDrop} />\n\t\t\t<Box\n\t\t\t\tdisplay=\"flex\"\n\t\t\t\talignItems=\"center\"\n\t\t\t\tborderRadius={3}\n\t\t\t\tpx={1}\n\t\t\t\tclassName={toUpdateID && toUpdateID === subcuenta._id ? classes.selected : ''}\n\t\t\t>\n\t\t\t\t<Typography>{subcuenta.subcuenta}</Typography>\n\t\t\t\t<div className={classes.flexGrow} />\n\t\t\t\t{\n\t\t\t\t\tsesion.accesos.catalogos.centro_costos.editar === false ? (null):(\n\t\t\t\t\t\ttoUpdateID && toUpdateID === subcuenta._id ? (\n\t\t\t\t\t\t\t<IconButton onClick={cancelarUpdate} onFocus={(event) => event.stopPropagation()}>\n\t\t\t\t\t\t\t\t<Close />\n\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t<IconButton onClick={obtenerCamposParaActualizar} onFocus={(event) => event.stopPropagation()}>\n\t\t\t\t\t\t\t\t\t<Edit />\n\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t\t{sesion.accesos.catalogos.centro_costos.eliminar === false ? (null):(\n\t\t\t\t\t<IconButton onClick={() => deleteSubCuenta(subcuenta._id)} onFocus={(event) => event.stopPropagation()}>\n\t\t\t\t\t\t<Delete />\n\t\t\t\t\t</IconButton>\n\t\t\t\t)}\n\t\t\t</Box>\n\t\t\t<Divider />\n\t\t</Fragment>\n\t);\n};\n","import React from 'react'; \nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport CloseIcon from '@material-ui/icons/Close';\nimport Slide from '@material-ui/core/Slide';\nimport { Box, Container } from '@material-ui/core';\nimport RegistroCentroCostos from './RegistroCentroCostos';\n\nconst useStyles = makeStyles((theme) => ({\n\tappBar: {\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n\ticon: {\n\t\twidth: 100\n\t}\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function CentroCostos() {\n\tconst classes = useStyles();\n\tconst [ open, setOpen ] = React.useState(false);\n\n\tconst handleClickOpen = () => {\n\t\tsetOpen(true);\n\t};\n\n\tconst handleClose = () => {\n\t\tsetOpen(false);\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<Button fullWidth onClick={handleClickOpen}>\n\t\t\t\t<Box display=\"flex\" flexDirection=\"column\">\n\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t<img src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/costos.svg' alt=\"icono numero calzado\" className={classes.icon} />\n\t\t\t\t\t</Box>\n\t\t\t\t\tCentro de costos\n\t\t\t\t</Box>\n\t\t\t</Button>\n\t\t\t<Dialog fullScreen open={open} onClose={handleClose} TransitionComponent={Transition}>\n\t\t\t\t<AppBar className={classes.appBar}>\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t<Typography variant=\"h6\" className={classes.title}>\n\t\t\t\t\t\t\tCentro de costos\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Box m={1}>\n\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"secondary\" onClick={handleClose} size=\"large\">\n\t\t\t\t\t\t\t\t<CloseIcon style={{fontSize: 30}} />\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</AppBar>\n\t\t\t\t<Box mt={3}>\n\t\t\t\t\t<Container maxWidth=\"md\">\n\t\t\t\t\t\t<RegistroCentroCostos />\n\t\t\t\t\t</Container>\n\t\t\t\t</Box>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n}\n","import { gql } from '@apollo/client';\n\nexport const OBTENER_CONCEPTOS_ALMACEN = gql`\n    query ObtenerConceptosAlmacen($empresa: ID!, $sucursal: ID!){\n        obtenerConceptosAlmacen(empresa: $empresa, sucursal: $sucursal){\n                _id\n            nombre_concepto\n            destino\n            origen\n            editable\n            empresa{\n                _id\n                nombre_empresa\n            }\n                sucursal{\n                _id\n                nombre_sucursal\n            }\n        }\n    }\n`;\n\nexport const REGISTRAR_CONCEPTO_ALMACEN = gql`\n    mutation CrearConceptoAlmacen($input: ConceptoAlmacenInput, $empresa: ID!, $sucursal: ID!, $usuario: ID!){\n        crearConceptoAlmacen(input:$input,empresa:$empresa,sucursal:$sucursal, usuario:$usuario){\n            message\n        }\n    }\n`;\n\nexport const ACTUALIZAR_CONCEPTO_ALMACEN = gql`\n    mutation ActualizarConceptoAlmacen($input: ConceptoAlmacenInput, $id: ID!){\n        actualizarConceptoAlmacen(input: $input, id: $id){\n            message\n        }\n    }\n`;\n\nexport const ELIMINAR_CONCEPTO_ALMACEN = gql`\n    mutation EliminarConceptoAlmacen($id: ID!){\n        eliminarConceptoAlmacen(id: $id){\n            message\n        }\n    }\n`;","import React, { useState, useEffect } from 'react';\nimport { \n\tBox,\n\tCircularProgress,\n\tTable,\n\tTableBody,\n\tTableCell,\n\tTableContainer,\n\tTableHead,\n\tTablePagination,\n\tTableRow,\n\tPaper,\n\tmakeStyles,\n\tDialog,\n\tDialogTitle,\n\tDialogActions,\n\tButton\n} from '@material-ui/core';\n\nimport { IconButton } from '@material-ui/core';\nimport { Delete, Edit } from '@material-ui/icons';\n\nimport { useQuery, useMutation } from '@apollo/client';\nimport { OBTENER_CONCEPTOS_ALMACEN, ELIMINAR_CONCEPTO_ALMACEN } from '../../../../gql/Catalogos/conceptosAlmacen';\nimport ErrorPage from '../../../../components/ErrorPage';\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n\t\twidth: '100%'\n\t},\n\tpaper: {\n\t\twidth: '100%',\n\t\tmarginBottom: theme.spacing(2)\n\t}\n}));\n\nexport default function TablaConceptos({setData, setIdConcepto, idConcepto, setAccion, updateData, setAlert}) {\n\tconst classes = useStyles();\n\tconst [ page, setPage ] = useState(0);\n\tconst [ rowsPerPage, setRowsPerPage ] = useState(10);\n\tconst sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\tconst [ openModal, setOpenModal ] = useState(false);\n\tconst handleModal = () => setOpenModal(!openModal);\n\n\tconst handleChangePage = (event, newPage) => {\n\t\tsetPage(newPage);\n\t};\n\tlet obtenerConcepto= [];\n\n\tconst { loading, data, error, refetch } = useQuery(OBTENER_CONCEPTOS_ALMACEN,{\n\t\tvariables: {\n\t\t\tempresa: sesion.empresa._id,\n\t\t\tsucursal: sesion.sucursal._id\n\t\t}\n\t});\n\tconst [ EliminarConceptoAlmacen ] = useMutation(ELIMINAR_CONCEPTO_ALMACEN);\n\n\tuseEffect(\n\t\t() => {\n\t\t\trefetch();\n\t\t},\n\t\t[ updateData, refetch ]\n\t); \n\n\tif(data){\n\t\tobtenerConcepto = data.obtenerConceptosAlmacen;\n\t}\n\n\tconst handleChangeRowsPerPage = (event) => {\n\t\tsetRowsPerPage(parseInt(event.target.value, 10));\n\t\tsetPage(0);\n\t};\n\n\tconst handleDelete = async () => {\n\t\ttry {\n\t\t\tawait EliminarConceptoAlmacen({\n\t\t\t\tvariables: {\n\t\t\t\t\tid: idConcepto\n\t\t\t\t}\n\t\t\t});\n\t\t\trefetch();\n\t\t\tsetAlert({ message: 'Listo!', status: 'success', open: true });\n\t\t\thandleModal();\n\t\t\tsetIdConcepto(\"\");\n\t\t} catch (error) {\n\t\t\tsetAlert({ message: error.message, status: 'error', open: true });\n\t\t}\n\t};\n\n\tif (error) {\n\t\treturn <ErrorPage error={error} />;\n\t}\n\n\tif (loading){\n\t\treturn (\n\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" height=\"30vh\">\n\t\t\t\t<CircularProgress />\n\t\t\t</Box>\n\t\t);\n\t}\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Paper className={classes.paper}>\n\t\t\t\t<TableContainer>\n\t\t\t\t\t<Table\n\t\t\t\t\t\tclassName={classes.table}\n\t\t\t\t\t\taria-labelledby=\"tableTitle\"\n\t\t\t\t\t\tsize=\"medium\"\n\t\t\t\t\t\taria-label=\"enhanced table\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t<TableCell>Concepto almacn</TableCell>\n                                <TableCell padding=\"default\">Origen</TableCell>\n\t\t\t\t\t\t\t\t<TableCell padding=\"default\">Destino</TableCell>\n\t\t\t\t\t\t\t\t{sesion.accesos.catalogos.conceptos_almacen.editar === false ? (null):(\n\t\t\t\t\t\t\t\t\t<TableCell padding=\"default\">Editar</TableCell>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t{sesion.accesos.catalogos.conceptos_almacen.eliminar === false ? (null):(\n\t\t\t\t\t\t\t\t\t<TableCell padding=\"default\">Eliminar</TableCell>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t</TableHead>\n\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t{obtenerConcepto?.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)?.map((row, index) => {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<TableRow hover role=\"checkbox\" tabIndex={-1} key={row._id}>\n\t\t\t\t\t\t\t\t\t\t<TableCell>{row.nombre_concepto}</TableCell>\n                                        <TableCell>{row.origen}</TableCell>\n\t\t\t\t\t\t\t\t\t\t<TableCell>{row.destino}</TableCell>\n\t\t\t\t\t\t\t\t\t\t{sesion.accesos.catalogos.conceptos_almacen.editar === false ? (null):(\n\t\t\t\t\t\t\t\t\t\t\t<TableCell padding=\"checkbox\">\n\t\t\t\t\t\t\t\t\t\t\t\t<IconButton onClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetAccion(false)\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetIdConcepto(row._id)\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetData({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tnombre_concepto: row.nombre_concepto,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\torigen: row.origen,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdestino: row.destino\n\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={!row.editable}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Edit />\n\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t{sesion.accesos.catalogos.conceptos_almacen.eliminar === false ? (null):(\n\t\t\t\t\t\t\t\t\t\t\t<TableCell padding=\"checkbox\">\n\t\t\t\t\t\t\t\t\t\t\t\t<IconButton onClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetIdConcepto(row._id);\n\t\t\t\t\t\t\t\t\t\t\t\t\thandleModal();\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\tdisabled={!row.editable}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Delete />\n\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t</Table>\n\t\t\t\t</TableContainer>\n\t\t\t\t<TablePagination\n\t\t\t\t\trowsPerPageOptions={[]}\n\t\t\t\t\tcomponent=\"div\"\n\t\t\t\t\tcount={obtenerConcepto.length}\n\t\t\t\t\trowsPerPage={rowsPerPage}\n\t\t\t\t\tpage={page}\n\t\t\t\t\tonChangePage={handleChangePage}\n\t\t\t\t\tonChangeRowsPerPage={handleChangeRowsPerPage}\n\t\t\t\t/>\n\t\t\t</Paper>\n\t\t\t<Modal handleModal={handleModal} openModal={openModal} handleDelete={handleDelete} />\n\t\t</div>\n\t);\n}\n\nconst Modal = ({ handleModal, openModal, handleDelete }) => {\n\treturn (\n\t\t<div>\n\t\t\t<Dialog open={openModal} onClose={handleModal}>\n\t\t\t\t<DialogTitle>{'Eliminar este concepto afectar clculos de estados de resultado ,Seguro que quieres eliminar esto?'}</DialogTitle>\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Button onClick={handleModal} color=\"primary\">\n\t\t\t\t\t\tCancelar\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button color=\"secondary\" autoFocus variant=\"contained\" onClick={handleDelete}>\n\t\t\t\t\t\tEliminar\n\t\t\t\t\t</Button>\n\t\t\t\t</DialogActions>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n};\n","import React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport { Box, Button, TextField, FormControl, Input, Grid, InputLabel, Select, MenuItem, useTheme, Dialog, DialogTitle, DialogActions } from '@material-ui/core';\nimport { Add } from '@material-ui/icons';\nimport ListaConceptos from './ListaConceptos';\nimport { REGISTRAR_CONCEPTO_ALMACEN, ACTUALIZAR_CONCEPTO_ALMACEN } from '../../../../gql/Catalogos/conceptosAlmacen';\nimport { useMutation } from '@apollo/client';\nimport SnackBarMessages from '../../../../components/SnackBarMessages';\n\nconst useStyles = makeStyles((theme) =>({\n\troot: {\n\t\twidth: '100%'\n\t},\n\tflexGrow: {\n\t\tflexGrow: 1\n\t},\n     formControl: {\n        marginLeft: theme.spacing(5),\n        marginBottom:theme.spacing(3),\n        minWidth: 200,\n        maxWidth: 200,\n    },\n}));\nconst ITEM_HEIGHT = 200;\nconst ITEM_PADDING_TOP = 8;\nconst MenuProps = {\n  PaperProps: {\n    style: {\n      maxHeight: ITEM_HEIGHT * 4.5 + ITEM_PADDING_TOP,\n      width: 400,\n    },\n  },\n};\nconst tipos = [\n    'SUMA',\n    'RESTA',\n\t'N/A'\n];\n\nfunction getStyles(tipo, tipoName, theme) {\n\tconsole.log(tipoName)\n  return {\n    fontWeight:\n      tipoName.indexOf(tipo) === -1\n        ? theme.typography.fontWeightRegular\n        : theme.typography.fontWeightMedium,\n  };\n}\nexport default function RegistroServicios() {\n\tconst classes = useStyles();\n     const theme = useTheme();\n\tconst [updateData, setUpdateData] = useState(false);\n\tconst [data, setData] = useState({\n\t\tnombre_concepto: \"\",\n        destino: \"\",\n\t\torigen:\"\"\n\t\t\n\t});\n\tconst [ alert, setAlert ] = useState({ message: '', status: '', open: false });\n\tconst [error, setError] = useState(false);\n\tconst sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\tconst [accion, setAccion] = useState(true);\n\tconst [idConcepto, setIdConcepto] = useState('')\n    \n\tconst [ crearConceptoAlmacen ] = useMutation(REGISTRAR_CONCEPTO_ALMACEN);\n\tconst [ actualizarConceptoAlmacen ] = useMutation(ACTUALIZAR_CONCEPTO_ALMACEN);\n    const [ openModal, setOpenModal ] = useState(false);\n\tconst handleModal = () => setOpenModal(!openModal);\n\tconst handleChangeInput = (e) => {\n\t\tsetData({\n\t\t\t...data,\n\t\t\t[e.target.name]: e.target.value\n\t\t})\n\t}\n     const handleChangeDestino = (event) => {\n        setData({...data, destino:event.target.value});\n    };\n\tconst handleChangeOrigen = (event) => {\n        setData({...data, origen:event.target.value});\n    };\n\tconst handleSubmit = async () => {\n\t\ttry {\n           setOpenModal(false);\n\t\t\tif(!data.nombre_concepto || !data.origen || !data.destino ){\n\t\t\t\tsetError(true);\n\t\t\t    return;\n\t\t\t}else{\n\t\t\t\tconst input = data;\n\t\t\t\tif(accion){\n\t\t\t\t\tif (sesion.accesos.catalogos.conceptos_almacen.agregar === false) {\n\t\t\t\t\t\treturn setAlert({ message: 'Lo sentimos no tienes los permisos autorizados', status: 'error', open: true });\n\t\t\t\t\t}else{\n\t\t\t\t\t\tawait crearConceptoAlmacen({\n\t\t\t\t\t\t\tvariables: {\n\t\t\t\t\t\t\t\tinput,\n\t\t\t\t\t\t\t\tempresa: sesion.empresa._id,\n\t\t\t\t\t\t\t\tsucursal: sesion.sucursal._id,\n\t\t\t\t\t\t\t\tusuario: sesion._id\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tif (sesion.accesos.catalogos.conceptos_almacen.editar === false) {\n\t\t\t\t\t\treturn setAlert({ message: 'Lo sentimos no tienes los permisos autorizados', status: 'error', open: true });\n\t\t\t\t\t}else{\n\t\t\t\t\t\tawait actualizarConceptoAlmacen({\n\t\t\t\t\t\t\tvariables: {\n\t\t\t\t\t\t\t\tinput,\n\t\t\t\t\t\t\t\tid: idConcepto\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t\tsetAccion(true);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tsetAlert({ message: 'Listo!', status: 'success', open: true });\n\t\t\t\tsetData({nombre_concepto: \"\", origen: \"\", destino:\"\"});\n                setError(false);\n\t\t\t\tsetUpdateData(!updateData);\n\t\t\t\tsetIdConcepto(\"\");\n\t\t\t\t\n\t\t\t}\n\t\t} catch (error) {\n\t\t\t\n\t\t}\n\t}\n\n\tconst pressEnter = (e) => {\n\t\tif (e.key === 'Enter') handleSubmit();\n\t};\n\n    const Modal = ({ handleModal, openModal, handleSubmit }) => {\n\treturn (\n\t\t<div>\n\t\t\t<Dialog open={openModal} onClose={handleModal}>\n\t\t\t\t<DialogTitle>{'Editar este concepto afectar clculos de estados de resultado ,Seguro que quieres editar esto?'}</DialogTitle>\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Button onClick={handleModal} color=\"primary\">\n\t\t\t\t\t\tCancelar\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button color=\"secondary\" autoFocus variant=\"contained\" onClick={handleSubmit}>\n\t\t\t\t\t\tEditar\n\t\t\t\t\t</Button>\n\t\t\t\t</DialogActions>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n};\n\n\treturn (\n\t\t<div className={classes.root}>\n            <Box  flexDirection=\"row\" >\n                <Grid container>\n                    <SnackBarMessages alert={alert} setAlert={setAlert} />\n                   \n                    <Box display=\"flex\" alignItems=\"center\" mb={2}>\n                         <Typography>Concepto </Typography>\n                        <TextField\n                            error={error}\n                            id=\"outlined-error-helper-text\"\n                            variant=\"outlined\"\n                            size=\"small\"\n                            name=\"nombre_concepto\"\n\t\t\t\t\t\t\tstyle={{marginLeft:2}}\n                            value={data.nombre_concepto}\n                            onChange={handleChangeInput}\n                            onKeyPress={pressEnter}\n                        />\n                        \n                    </Box>\n\t\t\t\t\t<FormControl className={classes.formControl}>\n                        <InputLabel id=\"origen-label\">Origen</InputLabel>\n                        <Select\n                        error={error}\n                        labelId=\"origen-label\"\n                        id=\"origen-name\"\n                        value={data.origen}\n                        onChange={handleChangeOrigen}\n                        input={<Input />}\n                        MenuProps={MenuProps}\n                        >\n                        {tipos.map((tipo) => (\n                            <MenuItem key={tipo} value={tipo} style={getStyles(tipo, data.origen, theme)}>\n                            {tipo}\n                            </MenuItem>\n                        ))}\n                        </Select>\n                    </FormControl>\n                    <FormControl className={classes.formControl}>\n                        <InputLabel id=\"destino-label\">Destino</InputLabel>\n                        <Select\n                        error={error}\n                        labelId=\"destino-label\"\n                        id=\"destino-name\"\n                        value={data.destino}\n                        onChange={handleChangeDestino}\n                        input={<Input />}\n                        MenuProps={MenuProps}\n                        >\n                        {tipos.map((tipo) => (\n                            <MenuItem key={tipo} value={tipo} style={getStyles(tipo, data.destino, theme)}>\n                            {tipo}\n                            </MenuItem>\n                        ))}\n                        </Select>\n                    </FormControl>\n                    <Box display=\"flex\" alignItems=\"center\" mb={2}>\n                        <Box ml={5} />\n                        <Button color=\"primary\" variant=\"contained\" size=\"large\" onClick={ () =>(accion) ? handleSubmit(): setOpenModal(true)} disableElevation>\n                            <Add />Guardar\n                        </Button>\n                    </Box>\n                </Grid>\n            </Box>\n\t\t\t<ListaConceptos \n\t\t\t\tsetData={setData} \n\t\t\t\tidConcepto={idConcepto} \n\t\t\t\tsetIdConcepto={setIdConcepto} \n\t\t\t\tsetAccion={setAccion} \n\t\t\t\tupdateData={updateData}\n\t\t\t\tsetAlert={setAlert} \n\t\t\t/>\n            <Modal handleModal={handleModal} openModal={openModal} handleSubmit={handleSubmit} />\n\t\t</div>\n\t);\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport CloseIcon from '@material-ui/icons/Close';\nimport Slide from '@material-ui/core/Slide';\nimport { Box, Container } from '@material-ui/core';\nimport RegistroConcepto from './RegistroConcepto';\n\nconst useStyles = makeStyles((theme) => ({\n\tappBar: {\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n\ticon: {\n\t\twidth: 100\n\t}\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function ConceptosAlmacen() {\n\tconst classes = useStyles();\n\tconst [ open, setOpen ] = React.useState(false);\n\n\tconst handleClickOpen = () => {\n\t\tsetOpen(true);\n\t};\n\n\tconst handleClose = () => {\n\t\tsetOpen(false);\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<Button fullWidth onClick={handleClickOpen}>\n\t\t\t\t<Box display=\"flex\" flexDirection=\"column\">\n\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t<img src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/conceptosAlmacen.svg' alt=\"icono numero calzado\" className={classes.icon} />\n\t\t\t\t\t</Box>\n\t\t\t\t\tConceptos Almacn\n\t\t\t\t</Box>\n\t\t\t</Button>\n\t\t\t<Dialog fullScreen open={open} onClose={handleClose} TransitionComponent={Transition}>\n\t\t\t\t<AppBar className={classes.appBar}>\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t<Typography variant=\"h6\" className={classes.title}>\n\t\t\t\t\t\t\tConceptos almacn\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Box m={1}>\n\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"secondary\" onClick={handleClose} size=\"large\">\n\t\t\t\t\t\t\t\t<CloseIcon style={{fontSize: 30}} />\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</AppBar>\n\t\t\t\t<Box mt={4} alignSelf='center' >\n\t\t\t\t\t<Container >\n\t\t\t\t\t\t<RegistroConcepto />\n\t\t\t\t\t</Container>\n\t\t\t\t</Box>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n}\n","import React from 'react';\nimport { Box, Container, Grid } from '@material-ui/core';\nimport Cliente from './Cliente/Cliente';\nimport Productos from './Producto/';\nimport Tallas from './Tallas/Tallas';\n/* import UnidadMedida from './UnidadMedida/UnidadMedida'; */\nimport Contabilidad from './Contabilidad/Contabilidad';\nimport Proveedores from './Proveedores/Proovedores';\nimport Cajas from './Cajas/Cajas'; \nimport Usuarios from './Usuarios/Usuarios';\nimport Departamentos from './Departamentos/Departamentos';\nimport Categorias from './Categorias/Categorias';\nimport Colores from './Colores/Colores';\nimport Marcas from './Marcas/Marcas';\nimport CentroCostos from './CentroCostos/CentroCostos';\nimport ConceptosAlmacen from './ConceptosAlmacen/ConceptosAlmacen';\n\nexport default function Catalogos() {\n\n\tconst permisosUsuario = JSON.parse(localStorage.getItem('sesionCafi'));\n\t\n\treturn (\n\t\t<Container>\n\t\t\t<Grid container spacing={5} justify=\"center\">\n\t\t\t\t{permisosUsuario.accesos.catalogos.clientes.ver === false ? (null):(\n\t\t\t\t\t<Grid item lg={2}>\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t<Cliente />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t)}\n\t\t\t\t{permisosUsuario.accesos.catalogos.productos.ver === false ? (null):(\n\t\t\t\t\t<Grid item lg={2}>\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t<Productos />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t)}\n\t\t\t\t{permisosUsuario.accesos.catalogos.tallas_numeros.ver === false ? (null):(\n\t\t\t\t\t<Grid item lg={2}>\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t<Tallas />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t)}\n\t\t\t\t{/* <Grid item lg={2}>\n\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t<UnidadMedida />\n\t\t\t\t\t</Box>\n\t\t\t\t</Grid> */}\n\t\t\t\t{permisosUsuario.accesos.catalogos.contabilidad.ver === false ? (null):(\n\t\t\t\t\t<Grid item lg={2}>\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t<Contabilidad />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t)}\n\t\t\t\t{permisosUsuario.accesos.catalogos.provedores.ver === false ? (null):(\n\t\t\t\t\t<Grid item lg={2}>\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t<Proveedores />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t)}\n\t\t\t\t{permisosUsuario.accesos.catalogos.cajas.ver === false ? (null):(\n\t\t\t\t\t<Grid item lg={2}>\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t<Cajas />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t)}\n\t\t\t\t{permisosUsuario.accesos.catalogos.usuarios.ver === false ? (null):(\n\t\t\t\t\t<Grid item lg={2}>\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t<Usuarios />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t)}\n\t\t\t\t{permisosUsuario.accesos.catalogos.departamentos.ver === false ? (null):(\n\t\t\t\t\t<Grid item lg={2}>\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t<Departamentos />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t)}\n\t\t\t\t{permisosUsuario.accesos.catalogos.categorias.ver === false ? (null):(\n\t\t\t\t\t<Grid item lg={2}>\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t<Categorias />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t)}\n\t\t\t\t{permisosUsuario.accesos.catalogos.colores.ver === false ? (null):(\n\t\t\t\t\t<Grid item lg={2}>\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t<Colores />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t)}\n\t\t\t\t{permisosUsuario.accesos.catalogos.marcas.ver === false ? (null):(\n\t\t\t\t\t<Grid item lg={2}>\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t<Marcas />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t)}\n\t\t\t\t{permisosUsuario.accesos.catalogos.centro_costos.ver === false ? (null):(\n\t\t\t\t\t<Grid item lg={2}>\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t<CentroCostos />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t)}\n\t\t\t\t{permisosUsuario.accesos.catalogos.conceptos_almacen.ver === false ? (null):(\n\t\t\t\t\t<Grid item lg={2}>\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t<ConceptosAlmacen />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t)}\n\t\t\t</Grid>\n\t\t</Container>\n\t);\n}\n","import React, { createContext, useState } from \"react\";\n\nexport const TesoreriaCtx = createContext();\n\nexport const TesoreriaProvider = ({ children }) => {\n\n    const [alert, setAlert] = useState({ message: \"\", status: \"\", open: false });\n    const [cuentas, setCuentas] = useState([]);\n    const [cuenta, setCuenta] = useState([]);\n    const [reload, setReload] = useState(false);\n    \n    return (\n        <TesoreriaCtx.Provider\n            value={{\n                alert, \n                setAlert,\n                cuentas, \n                setCuentas,\n                reload, \n                setReload,\n                cuenta, \n                setCuenta\n            }}\n        >\n            {children}\n        </TesoreriaCtx.Provider>\n    );\n};\n","import { Box, Button, Dialog, DialogActions,\n        DialogContent, IconButton, makeStyles, \n        MenuItem, Select, Slide, TextField, Typography \n} from '@material-ui/core';\nimport React, { Fragment, useState } from 'react';\nimport moment from 'moment';\n\nimport CompareArrowsIcon from '@material-ui/icons/CompareArrows';\n\nimport SnackBarMessages from '../../../../components/SnackBarMessages';\nimport { CREAR_MOVIMIENTO_CUENTA } from '../../../../gql/Empresa/sucursales';\nimport { useMutation } from '@apollo/client';\n\nconst useStyles = makeStyles((theme) => ({\n\tformInputFlex: {\n\t\tdisplay: 'flex',\n\t\t'& > *': {\n\t\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(1)}px`\n\t\t}\n\t},\n\tformInput: {\n\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(1)}px`\n\t},\n    formComboBox:{\n        height: '50%'\n    },\n    input: {\n        \"& input[type=number]\": {\n          \"-moz-appearance\": \"textfield\",\n        },\n        \"& input[type=number]::-webkit-outer-spin-button\": {\n          \"-webkit-appearance\": \"none\",\n          margin: 0,\n        },\n        \"& input[type=number]::-webkit-inner-spin-button\": {\n          \"-webkit-appearance\": \"none\",\n          margin: 0,\n        },\n    }\n}));\n\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function RetiroDeposito({cuenta, refetch, tipo}) {\n\n    const sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n    const turnoEnCurso = JSON.parse(localStorage.getItem('turnoEnCurso'));\n    const [ CrearMovimientoCuenta ] = useMutation(CREAR_MOVIMIENTO_CUENTA);\n\n    const classes = useStyles();\n    const [alert, setAlert] = useState({ message: \"\", status: \"\", open: false });\n    const [datosMovimiento, setDatosMovimiento] = useState([]);\n    const [open, setOpen] = useState(false);\n\n    const handleClickOpen =()=>{\n        setOpen(!open);\n    };\n\n    const onChangeDatos = (e) => {\n        setDatosMovimiento({...datosMovimiento, [e.target.name]: e.target.value })\n    };\n\n    const input ={\n        tipo_movimiento: datosMovimiento.tipo_movimiento === 'RETIRO' ? 'CUENTA-RETIRO' : 'CUENTA-DEPOSITO',\n        id_usuario: sesion._id,\n        rol_movimiento: tipo === true ? \"CUENTA-EMPRESA\" : \"CUENTA\",\n        numero_caja: turnoEnCurso ? parseInt(turnoEnCurso.numero_caja) : 0,\n        id_Caja: turnoEnCurso ? turnoEnCurso.id_caja : null,\n        numero_usuario_creador: sesion.numero_usuario.toString(),\n        nombre_usuario_creador: sesion.nombre,\n        horario_turno: turnoEnCurso ? turnoEnCurso.horario_turno : null,\n        concepto: datosMovimiento.concepto,\n        hora_moviento: {\n            hora: moment().format('hh'),\n            minutos: moment().format('mm'),\n            segundos: moment().format('ss'),\n            completa: moment().format('HH:mm:ss')\n        },\n        fecha_movimiento: {\n            year: moment().format('YYYY'),\n            mes: moment().format('MM'),\n            dia: moment().format('DD'),\n            no_semana_year: moment().week().toString(),\n            no_dia_year: moment().dayOfYear().toString(),\n            completa: moment().locale('es-mx').format()\n        },\n        montos_en_caja: {\n            monto_efectivo: {\n                monto: parseFloat(datosMovimiento.cantidad),\n                metodo_pago: \"01\"\n            },\n            monto_tarjeta_debito: {\n                monto: 0,\n                metodo_pago: \"28\"\n            },\n            monto_tarjeta_credito: {\n                monto: 0,\n                metodo_pago: \"04\"\n            },\n            monto_creditos: {\n                monto: 0,\n                metodo_pago: \"99\"\n            },\n            monto_monedero: {\n                monto: 0,\n                metodo_pago: \"05\"\n            },\n            monto_transferencia: {\n                monto: 0,\n                metodo_pago: \"03\"\n            },\n            monto_cheques: {\n                monto: 0,\n                metodo_pago: \"02\"\n            },\n            monto_vales_despensa: {\n                monto: 0,\n                metodo_pago: \"08\"\n            },\n        },\n        comentarios: datosMovimiento.comentarios,\n    };\n\n    const enviarDatos = async () => { \n        try {\n            if (!datosMovimiento.concepto || !datosMovimiento.tipo_movimiento || !datosMovimiento.cantidad ) {\n                setAlert({\n                    message: 'Por favor complete los datos',\n                    status: \"error\",\n                    open: true,\n                });\n                return null;\n            }\n            const movimiento = await CrearMovimientoCuenta({\n                variables: {\n                    input,\n                    empresa: sesion.empresa._id,\n                    sucursal: cuenta._id,\n                    tipo: tipo\n                }\n            });\n            refetch();\n            setDatosMovimiento([]); \n            handleClickOpen();\n            setAlert({\n                message: movimiento.data.crearMovimientoCuenta.message,\n                status: \"success\",\n                open: true,\n            });\n        } catch (error) {\n            setAlert({\n                message: error.message,\n                status: \"error\",\n                open: true,\n              });\n        }\n    }\n\n    return (\n        <Fragment>\n            <Box>\n                <IconButton\n                    color='primary'\n                    onClick={handleClickOpen}\n                    size=\"small\"\n                >\n                    <CompareArrowsIcon style={{fontSize: 35}} />\n                </IconButton>\n            </Box>\n            <SnackBarMessages alert={alert} setAlert={setAlert} />\n            <Dialog\n                open={open} \n\t\t\t\tTransitionComponent={Transition} \n\t\t\t\tmaxWidth=\"sm\"\n\t\t\t\tfullWidth\n            >\n                <DialogContent>\n                    <Box textAlign={'center'} p={1}>\n                        <Typography variant='h5'>\n                            Movimiento en Cuenta\n                        </Typography>\n                    </Box>\n                    <div className={classes.formInputFlex}>\n                        <Box width=\"100%\">\n                            <Typography>Usuario</Typography>\n                            <TextField\n                                fullWidth\n                                size=\"small\"\n                                name=\"usuario\"\n                                variant=\"outlined\"\n                                disabled={true}\n                                value={sesion?.nombre}\n                            />\n                        </Box>\n                        <Box width=\"100%\" >\n                            <Typography>Fecha y hora</Typography>\n                            <TextField\n                                fullWidth\n                                disabled={true}\n                                size=\"small\"\n                                value={moment().format('D MMMM YYYY, h:mm:ss')}\n                                name=\"fecha_movimiento\"\n                                variant=\"outlined\"\n\n                            />\n                        </Box>\n                    </div>\n                    <div className={classes.formInputFlex}>\n                        <Box width=\"100%\">\n                            <Typography>Movimiento a Realizar</Typography>\n                            <Select\n                                className={classes.formComboBox}    \n                                size=\"small\"\n                                variant=\"outlined\"\n                                name=\"tipo_movimiento\"\n                                onChange={onChangeDatos}\n                                fullWidth\n                            >\n                                <MenuItem value=''>Ninguno</MenuItem>\n                                <MenuItem value='DEPOSITO'>Deposito</MenuItem>\n                                <MenuItem value='RETIRO'>Retiro</MenuItem>\n                            </Select>\n                        </Box>\n                    </div>\n                    <div className={classes.formInputFlex}>\n                        <Box width=\"100%\">\n                            <Typography>Cantidad</Typography>\n                            <TextField\n                                className={classes.input}\n                                fullWidth\n                                onChange={onChangeDatos}\n                                size=\"small\"\n                                type='number'\n                                name=\"cantidad\"\n                                variant=\"outlined\"\n                            />\n                        </Box>\n                        <Box width=\"100%\">\n                            <Typography>Concepto</Typography>\n                            <TextField\n                                fullWidth\n                                onChange={onChangeDatos}\n                                size=\"small\"\n                                name=\"concepto\"\n                                variant=\"outlined\"\n                            />\n                        </Box>\n                    </div>\n                    <div className={classes.formInputFlex}>\n                        <Box width=\"100%\">\n                            <Typography>Comentarios</Typography>\n                            <TextField\n                                className={classes.input}\n                                fullWidth\n                                onChange={onChangeDatos}\n                                size=\"small\"\n                                multiline\n                                rows={2}\n                                type='number'\n                                name=\"monto_movimiento\"\n                                variant=\"outlined\"\n                            />\n                        </Box>\n                    </div>\n                </DialogContent>\n                <DialogActions>\n                    <Button\n                        color=\"primary\"\n                        variant='outlined'\n                        onClick={enviarDatos}\n                        size=\"large\"\n                    >\n                        Realizar\n                    </Button>\n                    <Button\n                        color=\"secondary\"\n                        variant='outlined'\n                        onClick={handleClickOpen}\n                        size=\"large\"\n                    >\n                        Cancelar\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        </Fragment>\n    )\n}\n","import React, { Fragment, useState, useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { Box, Button, CircularProgress, Dialog, DialogActions, \n        DialogContent,  MenuItem,  Select,  Slide, \n        TextField, Typography\n} from '@material-ui/core';\nimport VisibilityIcon from '@material-ui/icons/Visibility';\nimport moment from 'moment';\n\nimport { useQuery } from '@apollo/client';\nimport { OBTENER_HISTORIAL_CUENTAS } from '../../../../gql/Empresa/sucursales';\nimport { useDebounce } from 'use-debounce/lib';\nimport { formatoMexico } from '../../../../config/reuserFunctions';\n\nconst columns = [\n\t{ id: 'movimiento', label: 'Origen Movimiento', minWidth: 100 },\t\n    { id: 'fecha', label: 'Fecha', minWidth: 100 },\n\t{ id: 'name', label: 'Usuario', minWidth: 150 },\n\t{ id: 'cantidad', label: 'Cantidad', minWidth: 150 },\n\t{ id: 'concepto', label: 'Concepto', minWidth: 150 },\n\t{ id: 'tipo', label: 'Tipo Movimiento', minWidth: 100 }\n];\n\nconst useStyles  = makeStyles((theme) => ({\n\troot: {\n\t\twidth: '100%',\n        height: '50vh'\n\t},\n\tcontainer: {\n\t\tmaxHeight: '100%'\n\t},\n    appBar: {\t\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n    formComboBox:{\n        height: '50%'\n    },\n\trootBusqueda: {\n\t\tdisplay: 'flex',\n\t\tpaddingLeft: theme.spacing(2)\n\t},\n    formInputFlex: {\n\t\tdisplay: 'flex',\n\t\t'& > *': {\n\t\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(1)}px`\n\t\t}\n\t},\n\tformInput: {\n\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(1)}px`\n\t},\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function HistorialCuentas({cuenta, tipo}) {\n    const sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n    moment.locale('es');\n    const classes = useStyles();\n    const [open, setOpen] = useState(false);\n    const [datosFiltro, setDatosFiltro] = useState([]);\n    const [ value ] = useDebounce(datosFiltro, 500);\n\n\n    const handleClickOpen = () => {\n        setOpen(!open);\n        setDatosFiltro([]);\n        refetch();\n    };\n\n    const {  data, error, loading, refetch } = useQuery(OBTENER_HISTORIAL_CUENTAS, {\n\t\tvariables: {\n            input:{\n                fecha_inicio: datosFiltro.fecha_inicio ? datosFiltro.fecha_inicio : \"\",\n                fecha_fin: datosFiltro.fecha_fin ? datosFiltro.fecha_fin : \"\",\n                usuario: value.usuario ? value.usuario : \"\",\n                tipo_movimiento: datosFiltro.tipo_movimiento ? datosFiltro.tipo_movimiento : \"\"\n            },\n            empresa: sesion.empresa._id,\n            sucursal: cuenta._id,\n            tipo: tipo\n\t\t}\n\t});\t\n    \n    let historialCuenta = [];\n    if(data){\n        historialCuenta = data.obtenerHistorialCuenta;\n    };\n\n    const obtenerDatos = (e) => {\n        setDatosFiltro({...datosFiltro, [e.target.name]: e.target.value})\n    };\n\n    useEffect(() => {\n        refetch()\n    }, [refetch])\n\n\treturn (\n        <Fragment>\n            <Box>\n                <Button\n                    color='primary'\n                    onClick={handleClickOpen}\n                    size=\"small\"\n                    endIcon={<VisibilityIcon style={{fontSize: 35}}  />}\n                >\n                    Ver\n                </Button>\n            </Box>\n            <Dialog\n                open={open} \n\t\t\t\tTransitionComponent={Transition} \n\t\t\t\tmaxWidth=\"lg\"\n\t\t\t\tfullWidth\n            >\n                <Box m={1} display=\"flex\" justifyContent=\"flex-end\">\n\t\t\t\t\t<Button variant=\"contained\" color=\"secondary\" onClick={handleClickOpen} size=\"large\">\n\t\t\t\t\t\t<CloseIcon />\n\t\t\t\t\t</Button>\n\t\t\t\t</Box>\n                <DialogContent>\n                    <Box textAlign={'center'} p={1}>\n                        <Typography variant='h6'>\n                            Historial de cuenta\n                        </Typography>\n                    </Box>\n                    <Box>\n                        <div className={classes.formInputFlex}>\n                            <Box width=\"100%\">\n                                <Typography>Fecha inicio:</Typography>\n                                <TextField \n                                    fullWidth\n                                    size=\"small\"\n                                    type='date'\n                                    name=\"fecha_inicio\"\n                                    onChange={obtenerDatos}\n                                    variant=\"outlined\"\n                                />\n                            </Box>\n                            <Box width=\"100%\">\n                                <Typography>Fecha fin:</Typography>\n                                <TextField \n                                    fullWidth\n                                    size=\"small\"\n                                    type='date'\n                                    onChange={obtenerDatos}\n                                    name=\"fecha_fin\"\n                                    variant=\"outlined\"\n                                />\n                            </Box>\n                            <Box width=\"100%\">\n                                <Typography>Usuario:</Typography>\n                                <TextField \n                                    fullWidth\n                                    size=\"small\"\n                                    onChange={obtenerDatos}\n                                    name=\"usuario\"\n                                    variant=\"outlined\"\n                                />\n                            </Box>\n                            <Box width=\"100%\">\n                                <Typography>Tipo Movimiento:</Typography>\n                                <Select\n                                    className={classes.formComboBox}    \n                                    size=\"small\"\n                                    variant=\"outlined\"\n                                    name=\"tipo_movimiento\"\n                                    onChange={obtenerDatos}\n                                    fullWidth\n                                >\n                                    <MenuItem value='TODOS'>Ninguno</MenuItem>\n                                    <MenuItem value='CUENTA-DEPOSITO'>Deposito</MenuItem>\n                                    <MenuItem value='CUENTA-RETIRO'>Retiro</MenuItem>\n                                </Select>\n                            </Box>\n                        </div>\n                    </Box>\n                    <Box p={2}>\n                        <Paper className={classes.root}>\n                            <TableContainer className={classes.container}>\n                                <Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n                                    <TableHead>\n                                        <TableRow>\n                                            {columns.map((column) => (\n                                                <TableCell key={column.id} align={column.align} style={{ minWidth: column.minWidth }}>\n                                                    {column.label}\n                                                </TableCell>\n                                            ))}\n                                        </TableRow>\n                                    </TableHead>\n                                    <TableBody> \n                                        {\n                                            historialCuenta?.map((row, index) => {\n                                                return(\n                                                    <RowsHistorial \n                                                        key={index}\n                                                        row={row}\n                                                        loading={loading}\n                                                    />\n                                                )\n                                            })\n                                        }\n                                       \n                                    </TableBody>\n                                </Table>\n                            </TableContainer>\n                        </Paper>\n                    </Box>\n                </DialogContent>\n                <DialogActions>\n                    <Button\n                        color=\"secondary\"\n                        variant='outlined'\n                        onClick={handleClickOpen}\n                        size=\"large\"\n                    >\n                        Cancelar\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        </Fragment>\n\t);\n};\n\nfunction RowsHistorial ({ row, loading }) {\n\n    if (loading) \n\treturn (\n\t\t<Box\n\t\tdisplay=\"flex\"\n\t\tflexDirection=\"column\"\n\t\tjustifyContent=\"center\"\n\t\talignItems=\"center\"\n\t\theight=\"80vh\"\n\t\t>\n\t\t\t<CircularProgress />\n\t\t</Box>\n\t);\n\n    return(\n        <TableRow\n            hover\n            role=\"checkbox\"handleClickOpen\n            tabIndex={-1}\n        >\n            <TableCell>Caja {row.numero_caja !== \"\" ? row.numero_caja : \"\"}</TableCell>\n            <TableCell>{moment(row?.fecha_movimiento.completa).format('D MMMM YYYY')}</TableCell>\n            <TableCell>{row?.nombre_usuario_creador}</TableCell>\n            <TableCell >\n                <b style={{fontSize: 17}}>${formatoMexico(row.montos_en_caja.monto_efectivo.monto)}</b>\n            </TableCell>\n            <TableCell>{row?.concepto}</TableCell>\n            <TableCell>{\n                row?.tipo_movimiento === \"CUENTA-DEPOSITO\" ? 'DEPOSITO' : 'RETIRO'    \n            }</TableCell>\n\n        </TableRow>\n    );\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport { Box, CircularProgress} from '@material-ui/core';\nimport { useQuery } from '@apollo/client';\n\nimport RetiroDeposito from './RetiroDeposito';\nimport HistorialCuentas from './HistorialCuentas';\nimport { OBTENER_SUCURSALES } from '../../../../gql/Empresa/sucursales';\nimport { OBTENER_DATOS_EMPRESA } from '../../../../gql/Empresa/empresa';\nimport { formatoMexico } from '../../../../config/reuserFunctions';\n\nconst columns = [\n\t{ id: 'name', label: 'Origen', minWidth: 150, align: 'left' },\n\t{ id: 'tipo', label: 'Tipo Cuenta', minWidth: 150, align: 'left' },\n\t{ id: 'dinero', label: 'Dinero Existencia', minWidth: 100, align: 'left' },\n\t{ id: 'movimiento', label: 'Realizar Movimiento', minWidth: 100, align: 'center' },\t\n\t{ id: 'historial', label: 'Historial', minWidth: 100, align: 'center' },\n];\n\nconst useStyles  = makeStyles((theme) => ({\n\troot: {\n\t\twidth: '100%',\n        height: '50vh'\n\t},\n\tcontainer: {\n\t\tmaxHeight: '100%'\n\t},\n    appBar: {\t\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n\trootBusqueda: {\n\t\tdisplay: 'flex',\n\t\tpaddingLeft: theme.spacing(2)\n\t},\n}));\n\nexport default function ListaCuentas() {\n    const sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\n    const {  data, error, loading, refetch } = useQuery(OBTENER_SUCURSALES, {\n\t\tvariables: {\n            id: sesion.empresa._id\n\t\t}\n\t});\t\n\n\n    const cuentaEmpresa = useQuery(OBTENER_DATOS_EMPRESA, {\n\t\tvariables: {\n            id: sesion.empresa._id\n\t\t}\n\t});\t\n\n\tconst classes = useStyles();\n    let cuentasSucursalesEmpresa = [];\n    let cuentaPrincipal = [];\n\n\n    if(cuentaEmpresa.data){\n        cuentaPrincipal = cuentaEmpresa.data.obtenerEmpresa;\n    };\n\n    if (data) {\n        cuentasSucursalesEmpresa = data.obtenerSucursalesEmpresa\n    };\n\n    if (loading && cuentaEmpresa.loading) \n        return (\n            <Box\n            display=\"flex\"\n            flexDirection=\"column\"\n            justifyContent=\"center\"\n            alignItems=\"center\"\n            height=\"50vh\"\n            >\n                <CircularProgress/>\n            </Box>\n        );\n    \n\treturn (\n        <Box p={2}>\n            <Paper className={classes.root}>\n                <TableContainer className={classes.container}>\n                    <Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n                        <TableHead>\n                            <TableRow>\n                                {columns.map((column) => (\n                                    <TableCell key={column.id} align={column.align} style={{ minWidth: column.minWidth }}>\n                                        {column.label}\n                                    </TableCell>\n                                ))}\n                            </TableRow>\n                        </TableHead>\n                        <TableBody> \n                        <TableRow\n                            hover\n                            role=\"checkbox\"handleClickOpen\n                            tabIndex={-1}\n                        >\n                            <TableCell >{cuentaPrincipal?.nombre_empresa}</TableCell>\n                            <TableCell >CUENTA PRINCIPAL</TableCell>\n                            <TableCell >\n                                <b style={{fontSize: 17}}>${formatoMexico(cuentaPrincipal?.cuenta_empresa?.dinero_actual)}</b>\n                            </TableCell>\n                            {sesion.accesos.tesoreria.cuentas_empresa.editar === false ? (\n                                <TableCell align='center'>  </TableCell>\n                            ):(\n                                <TableCell align='center'> <RetiroDeposito cuenta={cuentaPrincipal} refetch={cuentaEmpresa.refetch} tipo={true} /> </TableCell>\n                            )}\n                            <TableCell align='center'> <HistorialCuentas cuenta={cuentaPrincipal}  tipo={true} /> </TableCell>\n                        </TableRow>\n                            {cuentasSucursalesEmpresa?.map((cuenta, index) => {\n                                return(\n                                    <RowsCuentas \n                                        key={index}\n                                        refetch={refetch}\n                                        cuenta={cuenta}\n                                        loading={loading}\n                                        \n                                    /> \n                                )\n                            })}\n                        </TableBody>\n                    </Table>\n                </TableContainer>\n            </Paper>\n        </Box>\n\t);\n};\n\nfunction RowsCuentas ({cuenta, refetch}) {\n\tconst permisosUsuario = JSON.parse(localStorage.getItem('sesionCafi'));\n\n    return(\n        <TableRow\n            hover\n            role=\"checkbox\"handleClickOpen\n            tabIndex={-1}\n        >\n            <TableCell >{cuenta.nombre_sucursal}</TableCell>\n            <TableCell >SUCURSAL</TableCell>\n            <TableCell >\n                <b style={{fontSize: 17}}>${formatoMexico(cuenta?.cuenta_sucursal?.dinero_actual)}</b>\n            </TableCell>\n            {permisosUsuario.accesos.tesoreria.cuentas_empresa.editar === false ? (\n                <TableCell align='center'>  </TableCell>\n            ):(\n                <TableCell align='center'> <RetiroDeposito cuenta={cuenta} refetch={refetch} tipo={false} /> </TableCell>\n            )}\n            <TableCell align='center'> <HistorialCuentas cuenta={cuenta} tipo={false}/> </TableCell>\n        </TableRow>\n    );\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport Typography from '@material-ui/core/Typography';\nimport CloseIcon from '@material-ui/icons/Close';\nimport Slide from '@material-ui/core/Slide';\nimport { Box, DialogContent } from '@material-ui/core';\nimport ListaCuentas from './ListaCuentas';\n\nconst useStyles = makeStyles((theme) => ({\n\tappBar: {\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n    icon: {\n\t\twidth: 100\n\t},\n\tformInputFlex: {\n\t\tdisplay: 'flex',\n\t\t'& > *': {\n\t\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(2)}px`\n\t\t}\n\t},\n\tformInput: {\n\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(2)}px`\n\t},\n\tbuttons: {\n\t\t'& > *': {\n\t\t\tmargin: `0px ${theme.spacing(1)}px`\n\t\t}\n\t}\n\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function CuentasEmpresaSucursales() {\n\tconst classes = useStyles();\n\tconst [ open, setOpen ] = React.useState(false);\n\n\tconst handleClickOpen = () => setOpen(!open);\n\n\treturn (\n\t\t<div>\n\t\t\t<Button fullWidth onClick={handleClickOpen}>\n\t\t\t\t<Box display=\"flex\" flexDirection=\"column\">\n\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n                        <img src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/retiro-de-dinero.svg' alt=\"icono retiro\" className={classes.icon} />\n\t\t\t\t\t</Box>\n\t\t\t\t\tCuentas de Empresa\n\t\t\t\t</Box>\n\t\t\t</Button>\n\n\t\t\t<Dialog \n\t\t\t\topen={open} \n\t\t\t\tTransitionComponent={Transition} \n\t\t\t\tmaxWidth=\"lg\"\n\t\t\t\tfullWidth\n\t\t\t>\n\t\t\t\t<Box m={1} display=\"flex\" justifyContent=\"flex-end\">\n\t\t\t\t\t<Button variant=\"contained\" color=\"secondary\" onClick={handleClickOpen} size=\"large\">\n\t\t\t\t\t\t<CloseIcon />\n\t\t\t\t\t</Button>\n\t\t\t\t</Box>\n\t\t\t\t<DialogContent>\n\t\t\t\t\t<Box textAlign=\"center\">\n\t\t\t\t\t\t<Typography variant=\"h6\">\n\t\t\t\t\t\t\tCuentas de empresa\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box>\n\t\t\t\t\t\t<ListaCuentas />\n\t\t\t\t\t</Box>\n\t\t\t\t</DialogContent>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n}\n","import { gql } from '@apollo/client';\n\nexport const OBTENER_HISTORIAL_EGRESOS = gql`\n    query ObtenerHistorialEgresos($input: ObtenerHistorialEgresosInput, $empresa: ID!, $sucursal: ID!){\n        obtenerHistorialEgresos(input: $input, empresa: $empresa, sucursal: $sucursal){\n            folio_egreso\n            folio_factura\n            empresa_distribuidora\n            provedor\n            productos {\n                cantidad_productos\n                precio_unitario\n                producto\n                total\n            }\n            categoria\n            subCategoria\n            metodo_pago\n            fecha_compra\n            fecha_registro\n            fecha_vencimiento\n            observaciones\n            compra_credito\n            credito_pagado\n            saldo_credito_pendiente\n            saldo_total\n            numero_usuario_creador\n            nombre_usuario_creador\n            id_user\n            empresa\n            sucursal         \n        }\n    }\n`\n\nexport const CREAR_EGRESO = gql`\n    mutation CrearEgreso($input: CrearEgresosInput, $empresa: ID!, $sucursal: ID!){\n        crearEgreso(input: $input, empresa: $empresa, sucursal: $sucursal){\n            message\n        }\n    }\n`;","import React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TablePagination from '@material-ui/core/TablePagination';\nimport TableRow from '@material-ui/core/TableRow';\nimport { IconButton } from '@material-ui/core';\nimport { formatoMexico } from '../../../../config/reuserFunctions';\n\nconst columns = [\n\t{ id: 'cantidad', label: 'Cantidad', minWidth: 100 },\n\t{ id: 'nombre', label: 'Nombre', minWidth: 100 },\n\t{ id: 'precioU', label: 'Precio Unitario', minWidth: 100 },\n    { id: 'total', label: 'Total', minWidth: 100 }\n];\n\nconst useStyles  = makeStyles((theme) => ({\n\troot: {\n\t\twidth: '100%'\n\t},\n\tcontainer: {\n\t\tmaxHeight: '100%'\n\t},\n    appBar: {\t\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(1),\n\t\tflex: 1\n\t},\n    table: {\n        minWidth: 650,\n    },\n}));\n\nexport default function TablaProductosEgresos({productos, borrarProducto}) {\n\tconst classes = useStyles();\n\tconst [ page, setPage ] = useState(0);\n\tconst [ rowsPerPage, setRowsPerPage ] = useState(3);\n\n\tconst handleChangePage = (event, newPage) => {\n\t\tsetPage(newPage);\n\t};\n\n\tconst handleChangeRowsPerPage = (event) => {\n\t\tsetRowsPerPage(+event.target.value);\n\t\tsetPage(0);\n\t};\n\n\treturn (\n\t\t<Paper className={classes.root}>\n\t\t\t<TableContainer className={classes.container}>\n\t\t\t\t<Table stickyHeader className={classes.table} size=\"small\" aria-label=\"a dense table\">\n\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t{columns.map((column) => (\n\t\t\t\t\t\t\t\t<TableCell key={column.id} align={column.align} style={{ minWidth: column.minWidth }}>\n\t\t\t\t\t\t\t\t\t{column.label}\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t<TableCell align={'center'} style={{ minWidth: 100 }}>\n\t\t\t\t\t\t\t\tEliminar\n\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t</TableHead>\n\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t{productos.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage).map((producto, index) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<RowsProductos \n\t\t\t\t\t\t\t\t\tindex={index}\n\t\t\t\t\t\t\t\t\tproducto={producto}\n\t\t\t\t\t\t\t\t\tborrarProducto={borrarProducto}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t\t</TableBody>\n\t\t\t\t</Table>\n\t\t\t</TableContainer>\n\t\t\t<TablePagination\n\t\t\t\trowsPerPageOptions={[]}\n\t\t\t\tcomponent=\"div\"\n\t\t\t\tcount={productos.length}\n\t\t\t\trowsPerPage={rowsPerPage}\n\t\t\t\tpage={page}\n\t\t\t\tonPageChange={handleChangePage}\n\t\t\t\tonRowsPerPageChange={handleChangeRowsPerPage}\n\t\t\t/>\n\t\t</Paper>\n\t);\n};\n\n\nfunction RowsProductos ({index, producto, borrarProducto}) {\n\treturn(\n\t\t<TableRow hover role=\"checkbox\" tabIndex={-1}>\n\t\t\t<TableCell>\n\t\t\t\t{producto?.cantidad_productos}\n\t\t\t</TableCell>\n\t\t\t<TableCell>\n\t\t\t\t{producto?.producto}\n\t\t\t</TableCell>\n\t\t\t<TableCell>\n\t\t\t\t${formatoMexico(producto?.precio_unitario)}\n\t\t\t</TableCell>\n\t\t\t<TableCell>\n\t\t\t\t${formatoMexico(producto?.total)}\n\t\t\t</TableCell>\n\t\t\t<TableCell align='center' >\n\t\t\t\t<IconButton \n\t\t\t\t\taria-label=\"delete\" \n\t\t\t\t\tsize='small'\n\t\t\t\t\tonClick={() => borrarProducto(index)}\n\t\t\t\t>\n\t\t\t\t\t<DeleteIcon fontSize=\"medium\" />\n\t\t\t\t</IconButton>\n\t\t\t</TableCell>\n\t\t</TableRow>\n\t)\n}","import { useMutation, useQuery } from '@apollo/client';\nimport { Box, makeStyles, Select,MenuItem , TextField, Typography, FormControl, OutlinedInput, InputAdornment, IconButton, Button, Divider } from '@material-ui/core';\nimport { Autorenew } from '@material-ui/icons';\nimport AddIcon from '@material-ui/icons/Add';\nimport React, { Fragment, useContext, useEffect, useState } from 'react';\nimport { formatoMexico } from '../../../../config/reuserFunctions';\nimport { TesoreriaCtx } from '../../../../context/Tesoreria/tesoreriaCtx';\nimport { OBTENER_CUENTAS } from '../../../../gql/Catalogos/centroCostos';\nimport { CREAR_EGRESO } from '../../../../gql/Tesoreria/egresos';\nimport TablaProductosEgresos from './TablaProductosEgresos';\n\nconst useStyles = makeStyles((theme) => ({\n\tappBar: {\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n    icon: {\n\t\twidth: 100\n\t},\n\tformInputFlex: {\n\t\tdisplay: 'flex',\n\t\t'& > *': {\n\t\t\tmargin: `${theme.spacing(0)}px ${theme.spacing(1)}px`\n\t\t}\n\t},\n\tformInput: {\n\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(1)}px`\n\t},\n    formComboBox:{\n        height: '50%'\n    },\n    input: {\n        \"& input[type=number]\": {\n          \"-moz-appearance\": \"textfield\",\n        },\n        \"& input[type=number]::-webkit-outer-spin-button\": {\n          \"-webkit-appearance\": \"none\",\n          margin: 0,\n        },\n        \"& input[type=number]::-webkit-inner-spin-button\": {\n          \"-webkit-appearance\": \"none\",\n          margin: 0,\n        },\n    },\n}));\n\nexport default function FormRegistroEgresos({tipo, handleClickOpen}) {\n    const sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n    const { setAlert } = useContext(TesoreriaCtx);\n    const [ CrearEgreso ] = useMutation(CREAR_EGRESO);\n\n    const classes = useStyles();\n    const [upload, setUpload] = useState(false);\n    const [datosEgreso, setDatosEgreso] = useState([]);\n    const [totalCompra, setTotalCompra] = useState(0);\n    const [subCuentas, setSubCuentas] = useState([]);\n    const [producto, setProducto] = useState([]);\n    const [productos, setProductos] = useState([]);\n\n    const obtenerCuentas = useQuery(OBTENER_CUENTAS, {\n\t\tvariables: { empresa: sesion.empresa._id, sucursal: sesion.sucursal._id }\n\t});\n\n    let cuentas = [];\n\n    if (obtenerCuentas.data) {\n        cuentas = obtenerCuentas.data.obtenerCuentas;\n    };\n\n    const GenFolio = () => {\n        const max = 999999999999;\n        const min = 100000000000;\n        const folio_egreso = Math.floor(\n          Math.random() * (max - min + 1) + min\n        ).toString();\n        setDatosEgreso({\n          ...datosEgreso,\n          folio_egreso,\n        });\n    };\n\n    const obtenerDatos = (e) => {\n        setDatosEgreso({...datosEgreso, [e.target.name]: e.target.value });\n    };\n\n    const obtenerSubCuentas = (cuenta) => {\n        setSubCuentas(cuenta.subcuentas);\n    };\n\n    const obtenerDatoProductos = (e) => {\n        setProducto({...producto, [e.target.name]: e.target.value})\n    };\n\n    const agregarProducto = () => {\n        let producto_guardado = {\n            cantidad_productos: parseFloat(producto.cantidad_productos),\n            precio_unitario: parseFloat(producto.precio_unitario),\n            producto: producto.producto,\n            total: (parseFloat(producto.cantidad_productos) * parseFloat(producto.precio_unitario))\n        };\n\n        productos.push(producto_guardado);\n\n        setDatosEgreso({\n            ...datosEgreso,\n            productos,\n        });\n        totalCompraVenta();\n        setProducto([]);\n    };\n    \n    function borrarProducto(index) {\n        productos.forEach(function(elemento, indice, array) {\n            if(index === indice){\n                productos.splice(index, 1);\n            }\n        });\n        setUpload(true);\n    };\n\n    useEffect(() => { \n        totalCompraVenta();\n        setProductos(productos);\n        setUpload(false);\n\n    }, [upload, productos]);\n\n    const totalCompraVenta = () =>{\n        let total = 0;\n        for (let i = 0; i < productos.length; i++) {\n            total += productos[i].total;\n        };\n        setTotalCompra(total);\n    };\n\n    const input = {\n        folio_egreso:  datosEgreso.folio_egreso,\n        folio_factura: datosEgreso.folio_factura,\n        empresa_distribuidora: datosEgreso.empresa_distribuidora,\n        provedor: datosEgreso.provedor,\n        productos: datosEgreso.productos ? datosEgreso.productos : [],\n        categoria: datosEgreso.categoria,\n        subCategoria:  datosEgreso.subCategoria,\n        metodo_pago: datosEgreso.metodo_pago,\n        fecha_compra: datosEgreso.fecha_compra,\n        fecha_vencimiento: datosEgreso.fecha_vencimiento0 ? datosEgreso.fecha_vencimiento : \"\",\n        observaciones: datosEgreso.observaciones,\n        compra_credito: datosEgreso.compra_credito ? datosEgreso.compra_credito : false, \n        credito_pagado: datosEgreso.credito_pagado ? datosEgreso.credito_pagado : false,\n        saldo_credito_pendiente: datosEgreso.saldo_credito_pendiente ? datosEgreso.saldo_credito_pendiente : 0,\n        numero_usuario_creador: sesion.numero_usuario.toString(),\n        nombre_usuario_creador: sesion.nombre,\n        id_user: sesion._id,\n        saldo_total: totalCompra ? totalCompra : 0\n    }\n\n    const enviarDatos = async () => { \n        try {\n            if(!datosEgreso.folio_egreso){\n                setAlert({\n                    message: 'Por favor genere un folio.',\n                    status: \"error\",\n                    open: true,\n                });\n                return null;\n            };\n\n            const egreso = await CrearEgreso({\n                variables: {\n                    input,\n                    empresa: sesion.empresa._id,\n                    sucursal: sesion.sucursal._id\n                }\n            });\n            handleClickOpen();\n            setDatosEgreso([]); \n            setAlert({\n                message: egreso.data.crearEgreso.message,\n                status: \"success\",\n                open: true,\n            });\n\n        } catch (error) {\n            setAlert({\n                message: error.message,\n                status: \"error\",\n                open: true,\n            });\n        }\n    }\n\n    return (\n        <Fragment>\n        <Box p={1}>\n            <Box>\n                <Typography>\n                    <b>Datos Generales</b>\n                </Typography>\n            </Box>\n            <Divider />\n        </Box>\n        <div className={classes.formInputFlex}>\n            <Box width=\"100%\">\n                <FormControl\n                    variant=\"outlined\"\n                    size=\"small\"\n                    name=\"folio_egreso\"\n                    fullWidth\n                >\n                    <Typography>Folio</Typography>\n                    <OutlinedInput\n                        style={{ padding: 0 }}\n                        id=\"form-producto-codigo-barras\"\n                        name=\"folio_egreso\"\n                        value={\n                            datosEgreso.folio_egreso\n                            ? datosEgreso.folio_egreso\n                            : \"\"\n                        }\n                        onChange={obtenerDatos}\n                        endAdornment={\n                        <InputAdornment position=\"start\">\n                            <IconButton\n                                onClick={() => GenFolio()}\n                                color=\"primary\"\n                                size=\"small\"\n                            >\n                                <Autorenew />\n                            </IconButton>\n                        </InputAdornment>\n                        }\n                    />\n                </FormControl>\n            </Box>\n            <Box width=\"100%\">\n                <Typography>ID Factura:</Typography>\n                <TextField\n                    fullWidth\n                    size=\"small\"\n                    name=\"id_factura\"\n                    variant=\"outlined\"\n                    onChange={obtenerDatos}\n                />\n            </Box>\n            <Box width=\"100%\">\n                <Typography>Fecha de Compra:</Typography>\n                <TextField\n                    fullWidth\n                    size=\"small\"\n                    name=\"fecha_compra\"\n                    variant=\"outlined\"\n                    onChange={obtenerDatos}\n                    type=\"date\"\n                    InputLabelProps={{\n                        shrink: true,\n                    }}\n                />\n            </Box>\n            <Box width=\"100%\">\n                <Typography>Metodo de pago:</Typography>\n                    <Select\n                        className={classes.formComboBox}\n                        size=\"small\"\n                        variant=\"outlined\"\n                        onChange={obtenerDatos}\n                        name=\"metodo_pago\"\n                        fullWidth\n                    >\n                        <MenuItem value='TARJETA'>Tarjeta</MenuItem>\n                        <MenuItem value='EFECTIVO'>Efectivo</MenuItem>\n                        <MenuItem value='CHEQUE'>Cheque</MenuItem>\n                        <MenuItem value='TRANSFERENCIA'>Transferencia</MenuItem>\n                        <MenuItem value='MONEDERO ELECTRONICO'>Monedero electronico</MenuItem>\n                    </Select>\n            </Box>\n        </div>\n        <div className={classes.formInputFlex}>\n            <Box width=\"100%\">\n                <Typography>Categoria:</Typography>\n                <Select\n                    className={classes.formComboBox}\n                    size=\"small\"\n                    variant=\"outlined\"\n                    onChange={obtenerDatos}\n                    name=\"categoria\"\n                    fullWidth\n                >\n                    <MenuItem value='Ninguno' onClick={() => setSubCuentas([])}>Ninguno</MenuItem>\n                    {cuentas?.map((cuenta) =>{\n                        return(\n                            <MenuItem \n                                key={cuenta._id}\n                                onClick={() => obtenerSubCuentas(cuenta)}\n                                value={cuenta.cuenta}\n                            >\n                                {cuenta.cuenta}\n                            </MenuItem>\n                        )\n                    })}\n                </Select>\n            </Box>\n            <Box width=\"100%\">\n                <Typography>SubCatergoria:</Typography>\n                <Select\n                    className={classes.formComboBox}\n                    size=\"small\"\n                    variant=\"outlined\"\n                    onChange={obtenerDatos}\n                    name=\"subCategoria\"\n                    fullWidth\n                >\n                    <MenuItem value='Ninguno'>Ninguno</MenuItem>\n                    {subCuentas?.map((subCuenta) =>{\n                        return(\n                            <MenuItem value={subCuenta.subcuenta}>{subCuenta.subcuenta}</MenuItem>\n                        )\n                    })}\n                </Select>\n            </Box>\n            <Box width=\"100%\">\n                <Typography>Empresa:</Typography>\n                <TextField\n                    fullWidth\n                    size=\"small\"\n                    name=\"empresa_distribuidora\"\n                    onChange={obtenerDatos}\n                    variant=\"outlined\"\n                />\n            </Box>\n            <Box width=\"100%\">\n                <Typography>Provedor: </Typography>\n                <TextField\n                    fullWidth\n                    size=\"small\"\n                    name=\"provedor\"\n                    onChange={obtenerDatos}\n                    variant=\"outlined\"\n                />\n            </Box>\n        </div>\n        <Box p={1} mt={1}>\n            <Box>\n                <Typography>\n                    <b>Productos Adquiridos</b>\n                </Typography>\n            </Box>\n            <Divider />\n        </Box>\n        <div className={classes.formInputFlex}>\n            <Box width=\"100%\">\n                <Typography>Cantidad:</Typography>\n                <TextField\n                    fullWidth\n                    className={classes.input}\n                    size=\"small\"\n                    name=\"cantidad_productos\"\n                    value={producto.cantidad_productos ? producto.cantidad_productos : \"\"}\n                    onChange={obtenerDatoProductos}\n                    variant=\"outlined\"\n                    type=\"number\"\n                />\n            </Box>\n            <Box width=\"100%\">\n                <Typography>Producto:</Typography>\n                <TextField\n                    fullWidth\n                    size=\"small\"\n                    name=\"producto\"\n                    value={producto.producto ? producto.producto : \"\"}\n                    onChange={obtenerDatoProductos}\n                    variant=\"outlined\"\n                />\n            </Box>\n            <Box width=\"100%\">\n                <Typography>Precio Unitario:</Typography>\n                <TextField\n                    className={classes.input}\n                    fullWidth\n                    size=\"small\"\n                    name=\"precio_unitario\"\n                    value={producto.precio_unitario ? producto.precio_unitario : \"\"}\n                    onChange={obtenerDatoProductos}\n                    variant=\"outlined\"\n                    type=\"number\"\n                />\n            </Box> \n            <Box width=\"100%\" display='flex' justifyContent='center' alignItems='center'>\n                <Button\n                    variant='outlined'\n                    size='large'\n                    color='primary'\n                    onClick={agregarProducto}\n                    startIcon={<AddIcon />}\n                >\n                    Agregar\n                </Button>\n            </Box>\n        </div>\n        <Box p={1} >\n            <TablaProductosEgresos productos={productos} borrarProducto={borrarProducto} />\n        </Box>\n        <Box display='flex' justifyContent='flex-end' p={1}> \n            <Typography variant='h6'>\n                Total: ${formatoMexico(totalCompra)}\n            </Typography>\n        </Box>\n        <div className={classes.formInputFlex}>\n            <Box width=\"100%\">\n                <Typography>Observacines:</Typography>\n                <TextField\n                    multiline\n                    rows={2}\n                    fullWidth\n                    size=\"small\"\n                    name=\"observaciones\"\n                    onChange={obtenerDatos}\n                    variant=\"outlined\"\n                />\n            </Box>\n        </div>\n        <Box display=\"flex\" justifyContent=\"flex-end\">\n            <Box p={1}>\n                <Button\n                    size=\"large\"\n                    variant='contained'\n                    color='primary'\n                    onClick={enviarDatos}\n                >\n                    Guardar Egreso\n                </Button>\n            </Box>\n            <Box p={1}>\n                <Button\n                    size=\"large\"\n                    variant='contained'\n                    color='secondary'\n                >\n                    Cancelar\n                </Button>\n            </Box>\n        </Box>\n        </Fragment>\n    )\n}\n","import React, { Fragment, useContext, useState } from 'react'\nimport PropTypes from 'prop-types';\nimport { AppBar, Box, Button, Grid, makeStyles, Tab, Tabs, Typography } from '@material-ui/core';\nimport { FcDonate } from 'react-icons/fc';\n\nimport CloseIcon from '@material-ui/icons/Close';\nimport FormRegistroEgresos from './FormRegistroEgresos';\nimport moment from 'moment';\nimport { TesoreriaCtx } from '../../../../context/Tesoreria/tesoreriaCtx';\n\n\nfunction TabPanel(props) {\n\tconst { children, value, index, ...other } = props;\n\n\treturn (\n\t\t<div\n\t\t\trole=\"tabpanel\"\n\t\t\thidden={value !== index}\n\t\t\tid={`tabpanel-reg-product-${index}`}\n\t\t\taria-labelledby={`reg-product-tab-${index}`}\n\t\t\t{...other}\n\t\t>\n\t\t\t{value === index && (\n\t\t\t\t<Box p={3} minHeight=\"70vh\">\n\t\t\t\t\t{children}\n\t\t\t\t</Box>\n\t\t\t)}\n\t\t</div>\n\t);\n}\n\nTabPanel.propTypes = {\n\tchildren: PropTypes.node,\n\tindex: PropTypes.any.isRequired,\n\tvalue: PropTypes.any.isRequired\n};\n\nfunction a11yProps(index) {\n\treturn {\n\t\tid: `reg-product-tab-${index}`,\n\t\t'aria-controls': `tabpanel-reg-product-${index}`\n\t};\n}\n\nconst useStyles = makeStyles((theme) => ({\n\tformInputFlex: {\n\t\tdisplay: 'flex',\n\t\t'& > *': {\n\t\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(2)}px`\n\t\t}\n\t},\n\tformInput: {\n\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(2)}px`\n\t},\n\troot: {\n\t\tflexGrow: 1,\n\t\twidth: '100%',\n\t\tbackgroundColor: theme.palette.background.paper\n\t},\n\ticonSvg: {\n\t\twidth: 50\n\t},\n\ticonSize: {\n\t\tfontSize: 40,\n        color: theme.palette.info.main\n\t},\n\tbuttons: {\n\t\t'& > *': {\n\t\t\tmargin: `0px ${theme.spacing(1)}px`\n\t\t}\n\t}\n\n}));\n\nexport default function VistaRegistroEgreso({handleClickOpen}) {\n    const sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n    const classes = useStyles();\n\tconst { setAlert } = useContext(TesoreriaCtx);\n    const [ value, setValue ] = useState(0);\n\n    const handleChange = (event, newValue) => {\n\t\tsetValue(newValue);\n\t};\n\n    return (\n        <Fragment>\n\t\t\t<div className={classes.root}>\n\t\t\t\t<AppBar position=\"static\" color=\"default\" elevation={0}>\n\t\t\t\t\t<Tabs\n\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\tvariant=\"scrollable\"\n\t\t\t\t\t\tscrollButtons=\"on\"\n\t\t\t\t\t\ttextColor='primary'\n\t\t\t\t\t\tindicatorColor='primary'\n\t\t\t\t\t\taria-label=\"scrollable force tabs example\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<Tab\n\t\t\t\t\t\t\tlabel=\"Egreso a Contado\"\n\t\t\t\t\t\t\ticon={<FcDonate className={classes.iconSize} />}\n\t\t\t\t\t\t\t{...a11yProps(0)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Grid container justify=\"flex-end\">\n\t\t\t\t\t\t\t<Box mt={4}>\n\t\t\t\t\t\t\t\t<Typography>Usuario: <b>{sesion.nombre}</b></Typography> \n\t\t\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t\t\t<b>{moment().format('D MMMM YYYY')}</b>\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid>\n\t\t\t\t\t\t\t<Box mt={3} ml={5} display=\"flex\" justifyContent=\"flex-end\">\n\t\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"secondary\" onClick={handleClickOpen} size=\"large\">\n\t\t\t\t\t\t\t\t\t<CloseIcon />\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Tabs>\n\t\t\t\t</AppBar>\n\t\t\t\t<TabPanel value={value} index={0}>\n\t\t\t\t\t<FormRegistroEgresos handleClickOpen={handleClickOpen} tipo='CONTADO' />\n\t\t\t\t</TabPanel>\n\t\t\t</div>\n        </Fragment>\n\n    )\n}\n","import React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport DoneIcon from '@material-ui/icons/Done';\n\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport Slide from '@material-ui/core/Slide';\nimport { Box, DialogActions,Paper} from '@material-ui/core';\nimport VistaRegistroEgreso from './VistaRegistroEgreso';\n\nconst useStyles = makeStyles((theme) => ({\n\tappBar: {\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n    icon: {\n\t\twidth: 100\n\t},\n\troot: {\n\t\tflexGrow: 1,\n\t\twidth: '100%',\n\t\theight: '100vh',\n\t\tbackgroundColor: theme.palette.background.paper\n\t},\n\trootBusqueda: {\n\t\tdisplay: 'flex',\n\t\tpaddingLeft: theme.spacing(2)\n\t},\n\ticonSize: {\n\t\tfontSize: 40,\n        color: theme.palette.info.main\n\t},\n\ticonSizeSecond: {\n\t\twidth: 40,\n\t},\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function Egresos() {\n\tconst classes = useStyles();\n\tconst [ open, setOpen ] = useState(false);\n\n\tconst handleClickOpen = () => setOpen(!open);\n\n\treturn (\n\t\t<div>\n\t\t\t<Button fullWidth onClick={handleClickOpen}>\n\t\t\t\t<Box display=\"flex\" flexDirection=\"column\">\n\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n                        <img src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/income.svg' alt=\"icono egreso\" className={classes.icon} />\n\t\t\t\t\t</Box>\n\t\t\t\t\tEgresos\n\t\t\t\t</Box>\n\t\t\t</Button>\n\t\t\t<Dialog \n\t\t\t\topen={open} \n\t\t\t\tTransitionComponent={Transition} \n\t\t\t\tfullWidth \n\t\t\t\tmaxWidth=\"lg\"\n\t\t\t>\n\t\t\t\t<VistaRegistroEgreso handleClickOpen={handleClickOpen} />\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\n\nconst columns = [\n\t{ id: 'cantidad', label: 'Cantidad', minWidth: 80},\n\t{ id: 'cantidadR', label: 'Cant. Regalo', minWidth: 80},\n\t{ id: 'nombre', label: 'Producto', minWidth: 80},\n\t{ id: 'precio', label: 'Precio', minWidth: 80},\n\t{ id: 'total', label: 'Total', minWidth: 80},\n];\n\nconst useStyles  = makeStyles((theme) => ({\n\troot: {\n\t\twidth: '100%',\n\t\theight: '45vh'\n\t},\n\tcontainer: {\n\t\tmaxHeight: '100%'\n\t},\n    appBar: {\t\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t}\n}));\n\nexport default function TablaCompras({productos}) {\n\tconst classes = useStyles();\n\n\n\treturn (\n\t\t<Paper className={classes.root}>\n\t\t\t<TableContainer className={classes.container}>\n\t\t\t\t<Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t{columns.map((column) => (\n\t\t\t\t\t\t\t\t<TableCell key={column.id} align={column.align} style={{ minWidth: column.minWidth }}>\n\t\t\t\t\t\t\t\t\t{column.label}\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t</TableHead>\n\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t{productos?.map((producto, index) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<TableRow key={index} hover role=\"checkbox\" tabIndex={-1} >\n\t\t\t\t\t\t\t\t\t<TableCell>{producto.cantidad}</TableCell>\n\t\t\t\t\t\t\t\t\t<TableCell>{producto.cantidad_regalo}</TableCell>\n\t\t\t\t\t\t\t\t\t<TableCell>{producto.producto.datos_generales.nombre_comercial}</TableCell>\n\t\t\t\t\t\t\t\t\t<TableCell>{producto.costo}</TableCell>\n\t\t\t\t\t\t\t\t\t<TableCell>{producto.total}</TableCell>\n\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t\t</TableBody>\n\t\t\t\t</Table>\n\t\t\t</TableContainer>\n\t\t</Paper>\n\t);\n}","import { gql } from '@apollo/client';\n\nexport const OBTENER_HISTORIAL_ABONOS = gql`\n    query ObtenerHistorialAbonos($empresa: ID!, $sucursal: ID!, $input: ObtenerHistorialAbonosInput){\n        obtenerHistorialAbonos( empresa: $empresa, sucursal: $sucursal, input: $input ){\n            numero_caja\n            id_Caja\n            horario_turno\n            tipo_movimiento\n            rol_movimiento\n            fecha_movimiento{\n                completa\n            }\n            numero_usuario_creador\n            nombre_usuario_creador\n            monto_total_abonado\n            numero_cliente\n            nombre_cliente\n            telefono_cliente\n            email_cliente\n            montos_en_caja{\n                monto_efectivo{\n                    monto \n                }\n                monto_tarjeta_credito{\n                    monto \n                }\n                monto_tarjeta_debito{\n                    monto \n                }\n                monto_creditos{\n                    monto \n                }\n                monto_monedero{\n                    monto \n                }\n                monto_transferencia{\n                    monto \n                }\n                monto_cheques{\n                    monto \n                }\n                monto_vales_despensa{\n                    monto \n                }\n            }\n        }\n    }\n`\n\nexport const CREAR_ABONO = gql`\n    mutation CrearAbono($empresa: ID!, $sucursal: ID!, $input: CrearAbonoInput){\n        crearAbono(empresa: $empresa, sucursal: $sucursal, input: $input, ){\n            message\n        }\n    }\n`;","import React, { useContext, useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport { useQuery } from '@apollo/client';\nimport { OBTENER_HISTORIAL_ABONOS } from \"../../../../../../../gql/Tesoreria/abonos\";\nimport moment from 'moment';\nimport { TesoreriaCtx } from '../../../../../../../context/Tesoreria/tesoreriaCtx';\n\nconst columns = [\n\t{ id: 'fecha', label: 'Fecha de abono', minWidth: 170, align: 'center' },\n\t{ id: 'cliente', label: 'Nombre', minWidth: 170, align: 'center' },\n\t{ id: 'abono', label: 'Cantidad abonada', minWidth: 170, align: 'right' },\n];\n\nconst useStyles  = makeStyles((theme) => ({\n\troot: {\n\t\twidth: '100%',\n\t\theight: '45vh'\n\t},\n\tcontainer: {\n\t\tmaxHeight: '100%'\n\t},\n    appBar: {\t\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t}\n}));\n\nexport default function TablaAbonos({cuenta}) {\n\t\n\tconst sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n\n\tconst { reload } = useContext(TesoreriaCtx);\n\n\tconst classes = useStyles();\n\n\tconst { loading, data, error, refetch } = useQuery(\n\t\tOBTENER_HISTORIAL_ABONOS, {\n\t\t\tvariables: {\n\t\t\t\tempresa: sesion.empresa._id,\n\t\t\t\tsucursal: sesion.sucursal._id,\n\t\t\t\tinput: {\n\t\t\t\t\tfecha_inicio: \"\",\n\t\t\t\t\tfecha_fin: \"\",\n\t\t\t\t\tusuario: \"\",\n\t\t\t\t\tid_cliente: cuenta.proveedor.id_proveedor._id,\n\t\t\t\t\tid_egreso: \"\",\n\t\t\t\t\trol_movimiento: \"PROVEEDOR\",\n\t\t\t\t\tid_compra: cuenta._id\n\t\t\t\t}\n\t\t\t},\n\t\t  \tfetchPolicy: \"network-only\",\n\t\t}\n\t);\n\t\n\tlet abonos = []\n\tif(data){\n\t\tabonos = data.obtenerHistorialAbonos;\n\t}\n\n\tuseEffect(() => {\n\t\trefetch();\n\t}, [reload])\n\n\treturn (\n\t\t<Paper className={classes.root}>\n\t\t\t<TableContainer className={classes.container}>\n\t\t\t\t<Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t{columns.map((column) => (\n\t\t\t\t\t\t\t\t<TableCell key={column.id} align={column.align} style={{ minWidth: column.minWidth }}>\n\t\t\t\t\t\t\t\t\t{column.label}\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t</TableHead>\n\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t{abonos?.map((row, index) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<TableRow hover tabIndex={-1} key={index}>\n\t\t\t\t\t\t\t\t\t<TableCell align='center'>{moment(row.fecha_movimiento.completa).format('D MMMM YYYY')}</TableCell>\n\t\t\t\t\t\t\t\t\t<TableCell align='center'>{row.nombre_cliente}</TableCell>\n\t\t\t\t\t\t\t\t\t<TableCell align='right'><b>${row.monto_total_abonado}</b></TableCell>\n\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t\t</TableBody>\n\t\t\t\t</Table>\n\t\t\t</TableContainer>\n\t\t</Paper>\n\t);\n}","import React, { useContext, useState } from 'react';\nimport CloseIcon from '@material-ui/icons/Close';\nimport AddCircleOutlineIcon from '@material-ui/icons/AddCircleOutline';\nimport { Box, Button, Dialog, \n        DialogContent,  DialogTitle, FormControl, makeStyles, \n        MenuItem, \n        Select, \n        Slide, TextField, Typography \n} from '@material-ui/core'\nimport { formaPago } from '../../../../Facturacion/catalogos';\nimport { formatoMexico } from '../../../../../../config/reuserFunctions';\nimport { useMutation } from '@apollo/client';\nimport { CREAR_ABONO } from '../../../../../../gql/Tesoreria/abonos';\nimport moment from 'moment';\nimport BackdropComponent from '../../../../../../components/Layouts/BackDrop';\nimport { TesoreriaCtx } from '../../../../../../context/Tesoreria/tesoreriaCtx';\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n    return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nconst useStyles = makeStyles((theme) => ({\n\tinput: {\n        \"& input[type=number]\": {\n          \"-moz-appearance\": \"textfield\",\n        },\n        \"& input[type=number]::-webkit-outer-spin-button\": {\n          \"-webkit-appearance\": \"none\",\n          margin: 0,\n        },\n        \"& input[type=number]::-webkit-inner-spin-button\": {\n          \"-webkit-appearance\": \"none\",\n          margin: 0,\n        },\n    },\n    formInputFlex: {\n\t\tdisplay: 'flex',\n\t\t'& > *': {\n\t\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(.5)}px`\n\t\t},\n\t\t'& .obligatorio': {\n\t\t\tcolor: 'red'\n\t\t},\n        paddingTop: 0,\n        alignItems: \"center\",\n        justifyItems: \"center\"\n\t},\n}));\n\nexport default function AbonoaRecibir({cuenta}) {\n    const [ CrearAbono ] = useMutation(CREAR_ABONO);\n    \n\tconst { setReload, setAlert } = useContext(TesoreriaCtx);\n\n    const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n\n    const classes = useStyles();\n    \n    const [open, setOpen] = useState(false);\n    const [loading, setLoading] = useState(false);\n    const [abono, setAbono] = useState(''); \n    const [metodoPago, setMetodoPago] = useState('');\n\n    \n    const input = {\n        tipo_movimiento: \"ABONO\",\n        rol_movimiento: \"PROVEEDOR\",\n        fecha_movimiento: {\n            year: moment().format('YYYY'),\n            mes: moment().format('MM'),\n            dia: moment().format('DD'),\n            no_semana_year: moment().week().toString(),\n            no_dia_year: moment().dayOfYear().toString(),\n            completa: moment().locale('es-mx').format()\n        },\n        monto_total_abonado: parseFloat(abono),\n        montos_en_caja: {   \n            monto_efectivo: {\n                monto: metodoPago === '01' ? parseFloat(abono) : 0,\n                metodo_pago: \"01\"\n            },\n            monto_tarjeta_debito: {\n                monto: metodoPago === '28' ? parseFloat(abono) : 0,\n                metodo_pago: \"28\"\n            },\n            monto_tarjeta_credito: {\n                monto: metodoPago === '04' ? parseFloat(abono) : 0,\n                metodo_pago: \"04\"\n            },\n            monto_creditos: {\n                monto: metodoPago === '99' ? parseFloat(abono) : 0,\n                metodo_pago: \"99\"\n            },\n            monto_monedero: {\n                monto: metodoPago === '05' ? parseFloat(abono) : 0,\n                metodo_pago: \"05\"\n            },\n            monto_transferencia: {\n                monto: metodoPago === '03' ? parseFloat(abono) : 0,\n                metodo_pago: \"03\"\n            },\n            monto_cheques: {\n                monto: metodoPago === '02' ? parseFloat(abono) : 0,\n                metodo_pago: \"02\"\n            },\n            monto_vales_despensa: {\n                monto: metodoPago === '08' ? parseFloat(abono) : 0,\n                metodo_pago: \"08\"\n            },\n        },\n        metodo_de_pago:{\n            clave: \"\",\n            metodo:  \"\",\n        },\n        id_usuario: sesion._id,\n        numero_usuario_creador: sesion.numero_usuario,\n        nombre_usuario_creador: sesion.nombre,\n        id_cliente: cuenta.proveedor.id_proveedor._id,\n        numero_cliente: cuenta.proveedor.numero_cliente,\n        nombre_cliente: cuenta.proveedor.nombre_cliente, \n        telefono_cliente: cuenta.proveedor.id_proveedor.telefono, \n        email_cliente: cuenta.proveedor.id_proveedor.email,\n        id_compra: cuenta._id\n    };\n\n    \n    const enviarDatos = async () => { \n        setLoading(true);\n        try {\n            if(abono === '' || metodoPago === '' ){\n                setAlert({ \n                    message: 'Por favor complete los datos', \n                    status: 'error', \n                    open: true \n                });\n                setLoading(false);\n                return \n            }; \n            await CrearAbono({\n                variables: {\n                    empresa: sesion.empresa._id,\n                    sucursal: sesion.sucursal._id,\n                    input\n                },\n            });\n            setReload(true);\n            setAbono('');\n            setMetodoPago('');\n            setAlert({ \n                message: 'Abono registrado con exito', \n                status: 'success', \n                open: true \n            });\n            handleClick();\n            setLoading(false);\n        } catch (error) {\n            handleClick();\n            setLoading(false);\n            setAlert({ \n                message: 'Ocurrio un problema en el servidor', \n                status: 'error', \n                open: true \n            });\n\n        }\n    };\n\n    const handleClick = () => {\n        setReload(true);\n        setOpen(!open);\n    };\n\n    return (\n        <div>\n            <Button\n                size=\"large\"\n                variant=\"outlined\" \n                fullWidth\n                color=\"primary\"\n                startIcon={<AddCircleOutlineIcon style={{fontSize: 35}} />}\n                onClick={handleClick}\n            >\n                <Typography variant=\"h6\">\n                    Abonar    \n                </Typography>\n            </Button>\n            <Dialog\n                open={open}\n                TransitionComponent={Transition}\n                keepMounted\n                onClose={handleClick}\n                fullWidth\n                maxWidth='xs'\n            >\n                <BackdropComponent loading={loading} setLoading={setLoading} />\n                <DialogTitle id=\"alert-dialog-slide-title\">\n                    <Box display=\"flex\">\n                        <Box p={1} flexGrow={1}>\n                            Registrar nuevo abono\n                        </Box>\n                        <Box p={1}>\n                            <Button variant=\"contained\" color=\"secondary\" onClick={handleClick} size=\"large\">\n\t\t\t\t\t\t\t\t<CloseIcon />\n\t\t\t\t\t\t\t</Button>\n                        </Box>\n                    </Box>\n                </DialogTitle>\n                <DialogContent>\n                    <Box width=\"100%\"  mt={2} >\n                        <Typography><b>Cantidad a abonar:</b></Typography>\n                        <TextField\n                            fullWidth\n                            className={classes.input}\n                            onChange={(e) => setAbono(e.target.value)}\n                            value={abono}\n                            size=\"small\"\n                            name=\"abono_recibir\"\n                            variant=\"outlined\"\n                            type='number'\n                        />\n                    </Box>\n                    <div className={classes.formInputFlex}>\n                        <Box width=\"100%\" mt={2} >\n                            <Typography><b>Metodo de pago:</b></Typography>\n                            <FormControl \n                                variant=\"outlined\"\n                                fullWidth\n                                size=\"small\"\n                            >\n                                <Select\n                                    width=\"100%\"\n                                    name=\"metodo_pago\"\n                                    variant='outlined'\n                                    value={metodoPago ? metodoPago : ''}\n                                    onChange={(e) => setMetodoPago(e.target.value)}\n                                >\n                                    <MenuItem value=\"\">\n                                        <em>Selecciona uno</em>\n                                    </MenuItem>\n                                    {formaPago.map((metodo, index) => {\n                                        return(\n                                            <MenuItem key={index} value={metodo.Value}>{metodo.Name}</MenuItem>\n                                        )\n                                    })}\n                                </Select>\n                            </FormControl>\n                        </Box>\n                    </div>\n                    <Box width=\"100%\" mt={2} display='flex'>\n                        <Box flexGrow={1}>\n                            <Typography variant='h6'>\n                                <b>Total cuenta</b>\n                            </Typography>\n                        </Box>\n                        <Typography style={{color: '#9B9B9B'}} variant='h6'>\n                            <b>${formatoMexico(cuenta.total)}</b>\n                        </Typography>\n                    </Box>\n                    <Box width=\"100%\" display='flex'>\n                        <Box flexGrow={1}>\n                            <Typography  variant='h6'>\n                                <b>Total abonado</b>\n                            </Typography>\n                        </Box>\n                        <Typography style={{color: 'green'}} variant='h6'>\n                            <b>${formatoMexico(cuenta.total - cuenta.saldo_credito_pendiente)}</b>\n                        </Typography>\n                    </Box>\n                    <Box width=\"100%\" display='flex'>\n                        <Box flexGrow={1} >\n                            <Typography  variant='h6'>\n                                <b>Total restante</b>\n                            </Typography>\n                        </Box>\n                        <Typography  variant='h6'>\n                            <b>${formatoMexico(cuenta.saldo_credito_pendiente)}</b>\n                        </Typography>\n                    </Box>\n                    \n                </DialogContent>\n                <Box display=\"flex\" justifyContent=\"center\" alignContent=\"center\" p={2}>\n                    <Button\n                        size=\"large\"\n                        variant=\"contained\" \n                        color=\"primary\"\n                        style={{fontSize: 18}}\n                        onClick={enviarDatos}\n                    >\n                        Registrar Abono\n                    </Button>\n                </Box>\n            </Dialog>\n        </div>\n    )\n}\n","import React, { Fragment } from 'react'\nimport { Box, Grid, makeStyles, Typography, Button, AppBar, Toolbar } from '@material-ui/core';\nimport CloseIcon from '@material-ui/icons/Close';\nimport TablaCompras from './TablaCompras';\nimport TablaAbonos from './TablaDeAbonos';\nimport AbonoaRecibir from '../AbonoPercibir';\nimport moment from 'moment';\nimport { formatoMexico } from '../../../../../../../config/reuserFunctions';\n\nconst useStyles = makeStyles((theme) => ({\n    appBar: {\t\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n    icon: {\n\t\twidth: 100\n\t},\n\tformInputFlex: {\n\t\tdisplay: 'flex',\n\t\t'& > *': {\n\t\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(1)}px`\n\t\t}\n\t},\n\tformInput: {\n\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(1)}px`\n\t},\n}));\n\n\nexport default function DetallesCuenta({handleClick, cuenta}) {\n\tconst permisosUsuario = JSON.parse(localStorage.getItem('sesionCafi'));\n    const classes = useStyles();\n\n    return (\n        <Fragment>\n            <AppBar className={classes.appBar}>\n                <Toolbar>\n                    <Typography variant=\"h6\" className={classes.title}>\n                        Detalles de cuenta\n                    </Typography>\n                    <Box m={1}>\n                        <Button variant=\"contained\" color=\"secondary\" onClick={handleClick} size=\"large\">\n                            <CloseIcon style={{fontSize: 30}} />\n                        </Button>\n                    </Box>\n                </Toolbar>\n            </AppBar>\n            <div className={classes.formInputFlex}>\n                <Box width=\"100%\" p={1}>\n                    <Box width=\"100%\" display=\"flex\" p={.5}>\n                        <Typography><b>Nombre de proveedor: </b> </Typography>\n                        <Typography style={{paddingLeft: 5}}>{cuenta.proveedor.id_proveedor.nombre_cliente}</Typography>\n                    </Box>\n                    <Box width=\"100%\" display=\"flex\"  p={.5}>\n                        <Typography><b>Clave proveedor: </b> </Typography>\n                        <Typography style={{paddingLeft: 5}}>{cuenta.proveedor.id_proveedor.clave_cliente}</Typography>\n                    </Box>\n                </Box>\n                <Box width=\"100%\" p={1}>\n                    <Box width=\"100%\" display=\"flex\" p={.5}>\n                        <Typography><b>Nombre de usuario: </b> </Typography>\n                        <Typography style={{paddingLeft: 5}}>{cuenta.usuario.nombre}</Typography>\n                    </Box>\n                    <Box width=\"100%\" display=\"flex\"  p={.5}>\n                        <Typography><b>Numero usuario: </b> </Typography>\n                        <Typography style={{paddingLeft: 5}}>{cuenta.usuario.numero_usuario}</Typography>\n                    </Box>\n                </Box>\n                <Box width=\"100%\" p={1}>\n                    <Box width=\"100%\" display=\"flex\" p={.5}>\n                        <Typography><b>Fecha compra: </b> </Typography>\n                        <Typography style={{paddingLeft: 5}}>{moment(cuenta.fecha_registro).format('D MMMM YYYY')}</Typography>\n                    </Box>\n                    <Box width=\"100%\" display=\"flex\"  p={.5}>\n                        <Typography><b>Fecha vencimiento: </b> </Typography>\n                        <Typography style={{paddingLeft: 5}}>{moment(cuenta.fecha_vencimiento_credito).format('D MMMM YYYY')}</Typography>\n                    </Box>\n                </Box>\n                {permisosUsuario.accesos.tesoreria.abonos_proveedores.editar === false ? (null) : (\n                    <Box width=\"60%\" p={1} display='flex' alignItems={'center'} >\n                        <AbonoaRecibir cuenta={cuenta} />\n                    </Box>\n                )}\n            </div>\n            <Grid container>\n                <Grid item lg={6} xs={12}>\n                    <Box p={2}>\n                        <Typography variant=\"h6\">\n                            Lista de abonos\n                        </Typography>\n                    </Box>\n                    <Box p={2}>\n                        <TablaAbonos cuenta={cuenta} />\n                    </Box>\n                    <Box p={1} mr={3} display=\"flex\" justifyContent=\"flex-end\">\n                        <Typography variant='h6'>Total abonado: <b style={{color: \"#9B9B9B\"}}>${cuenta.total - cuenta.saldo_credito_pendiente}</b></Typography>\n                    </Box> \n                    <Box p={1} mr={3} display=\"flex\" justifyContent=\"flex-end\">\n                        <Typography variant='h6'>Restante: <b  style={{color: \"green\"}}>${formatoMexico(cuenta.saldo_credito_pendiente)}</b></Typography>\n                    </Box>\n                </Grid>\n                <Grid item lg={6} xs={12}>\n                    <Box p={2} >\n                        <Typography variant=\"h6\">\n                            Lista de compra\n                        </Typography>\n                    </Box>\n                    <Box p={2}>\n                        <TablaCompras productos={cuenta.productos}/>\n                    </Box>\n                    <Box p={1} mr={3} display=\"flex\" justifyContent=\"flex-end\">\n                        <Typography variant='h6'>Total a liquidar: <b  style={{color: \"red\"}}>${formatoMexico(cuenta.total)}</b></Typography>\n                    </Box>\n                </Grid>\n            </Grid>\n        </Fragment>\n\n    )\n}\n","import React, { useContext, useState } from 'react'\nimport {  Box, Button, Dialog, DialogActions, DialogContent, FormControl, makeStyles, MenuItem, Select, Slider, TextField, Typography } from '@material-ui/core';\nimport DoneIcon from '@material-ui/icons/Done';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { formatoMexico } from '../../../../../../config/reuserFunctions';\nimport BackdropComponent from '../../../../../../components/Layouts/BackDrop';\nimport { formaPago } from '../../../../Facturacion/catalogos';\nimport moment from 'moment';\nimport { CREAR_ABONO } from '../../../../../../gql/Tesoreria/abonos';\nimport { useMutation } from '@apollo/client';\nimport { TesoreriaCtx } from '../../../../../../context/Tesoreria/tesoreriaCtx';\n\nconst useStyles = makeStyles((theme) => ({\n\tformInputFlex: {\n\t\tdisplay: 'flex',\n\t\t'& > *': {\n\t\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(1)}px`\n\t\t}\n\t},\n\tformInput: {\n\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(1)}px`\n\t},\n    appBar: {\n\t\tposition: 'relative'\n\t},\n}));\n\nexport default function LiquidarCuenta({cuenta, refetch}) {\n    const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n    const { setAlert, setReload } = useContext(TesoreriaCtx);\n\n    const [ CrearAbono ] = useMutation(CREAR_ABONO);\n\n    const [open, setOpen] = useState(false);\n    const [value, setValue] = useState(0);\n    const [cuentaTotalDescuento, setCuentaTotalDescuento] = useState(0);\n    const [dineroDescontado, setDineroDescontado] = useState(0);\n\n    const [loading, setLoading] = useState(false);\n    const [metodoPago, setMetodoPago] = useState('');\n\n    const handleClick = () => { \n        setOpen(!open);\n        setCuentaTotalDescuento(0);\n        setDineroDescontado(0);\n        setValue(0)\n    };\n\n    const classes = useStyles();\n\n    const obtenerPorcientoSlide = (event, newValue) => {\n        setValue(newValue);\n        let porcentaje  =  parseFloat((100 - newValue).toFixed(2));//Porcentaje para calculos de descuento\n        let cuenta_con_descuento = parseFloat((cuenta.saldo_credito_pendiente * porcentaje / 100).toFixed(2));\n        let dineroDescontado = parseFloat((cuenta.saldo_credito_pendiente - cuenta_con_descuento).toFixed(2));\n        setCuentaTotalDescuento(cuenta_con_descuento);\n        setDineroDescontado(dineroDescontado);\n    };\n\n    const obtenerPrecioText = (e) => {\n        let valorText = parseFloat(e.target.value);\n\n        let porcentaje  = parseFloat((((valorText * 100) / cuenta.saldo_credito_pendiente ).toFixed(2)));\n        let dineroDescontado = parseFloat((cuenta.saldo_credito_pendiente - valorText).toFixed(2));\n\n        setCuentaTotalDescuento(valorText);\n        setDineroDescontado(dineroDescontado);\n        setValue(porcentaje);\n\n    };\n    \n    function valuetext(e) {\n        return `${e}`;\n    };\n\n    const input = {\n        tipo_movimiento: \"ABONO\",\n        rol_movimiento: \"PROVEEDOR\",\n        fecha_movimiento: {\n            year: moment().format('YYYY'),\n            mes: moment().format('MM'),\n            dia: moment().format('DD'),\n            no_semana_year: moment().week().toString(),\n            no_dia_year: moment().dayOfYear().toString(),\n            completa: moment().locale('es-mx').format()\n        },\n        monto_total_abonado: parseFloat(cuenta.saldo_credito_pendiente),\n        descuento: {\n            porciento_descuento: value,\n            dinero_descontado: dineroDescontado,\n            total_con_descuento: cuentaTotalDescuento\n        },\n        montos_en_caja: {   \n            monto_efectivo: {\n                monto: metodoPago === '01' ? parseFloat(cuentaTotalDescuento === 0 ? cuenta.saldo_credito_pendiente : cuentaTotalDescuento) : 0,\n                metodo_pago: \"01\"\n            },\n            monto_tarjeta_debito: {\n                monto: metodoPago === '28' ? parseFloat(cuentaTotalDescuento === 0 ? cuenta.saldo_credito_pendiente : cuentaTotalDescuento) : 0,\n                metodo_pago: \"28\"\n            },\n            monto_tarjeta_credito: {\n                monto: metodoPago === '04' ? parseFloat(cuentaTotalDescuento === 0 ? cuenta.saldo_credito_pendiente : cuentaTotalDescuento) : 0,\n                metodo_pago: \"04\"\n            },\n            monto_creditos: {\n                monto: metodoPago === '99' ? parseFloat(cuentaTotalDescuento === 0 ? cuenta.saldo_credito_pendiente : cuentaTotalDescuento) : 0,\n                metodo_pago: \"99\"\n            },\n            monto_monedero: {\n                monto: metodoPago === '05' ? parseFloat(cuentaTotalDescuento === 0 ? cuenta.saldo_credito_pendiente : cuentaTotalDescuento) : 0,\n                metodo_pago: \"05\"\n            },\n            monto_transferencia: {\n                monto: metodoPago === '03' ? parseFloat(cuentaTotalDescuento === 0 ? cuenta.saldo_credito_pendiente : cuentaTotalDescuento) : 0,\n                metodo_pago: \"03\"\n            },\n            monto_cheques: {\n                monto: metodoPago === '02' ? parseFloat(cuentaTotalDescuento === 0 ? cuenta.saldo_credito_pendiente : cuentaTotalDescuento) : 0,\n                metodo_pago: \"02\"\n            },\n            monto_vales_despensa: {\n                monto: metodoPago === '08' ? parseFloat(cuentaTotalDescuento === 0 ? cuenta.saldo_credito_pendiente : cuentaTotalDescuento) : 0,\n                metodo_pago: \"08\"\n            },\n        },\n        metodo_de_pago:{\n            clave: \"\",\n            metodo:  \"\",\n        },\n        numero_usuario_creador: sesion.numero_usuario,\n        nombre_usuario_creador: sesion.nombre,\n        id_cliente: cuenta.proveedor.id_proveedor._id,\n        numero_cliente: cuenta.proveedor.numero_cliente,\n        nombre_cliente: cuenta.proveedor.nombre_cliente, \n        telefono_cliente: cuenta.proveedor.id_proveedor.telefono, \n        email_cliente: cuenta.proveedor.id_proveedor.email,\n        id_compra: cuenta._id\n    };\n\n    \n    const enviarDatos = async () => { \n        setLoading(true);\n        try {\n            if( metodoPago === '' ){\n                setAlert({ \n                    message: 'Por favor complete el metodo de pago', \n                    status: 'error', \n                    open: true \n                });\n                setLoading(false);\n                return \n            }; \n            await CrearAbono({\n                variables: {\n                    empresa: sesion.empresa._id,\n                    sucursal: sesion.sucursal._id,\n                    input\n                },\n            });\n            setReload(true);\n            setMetodoPago('');\n            setAlert({ \n                message: 'Cuenta liquidada con exito', \n                status: 'success', \n                open: true \n            });\n            handleClick();\n            setLoading(false);\n\n        } catch (error) {\n            handleClick();\n            setLoading(false);\n            setAlert({ \n                message: 'Ocurrio un problema en el servidor', \n                status: 'error', \n                open: true \n            });\n        }\n    };\n\n    return (\n        <div>\n            <Button\n                size=\"medium\"\n                variant=\"outlined\"  \n                color=\"primary\"\n                startIcon={<DoneIcon />}\n                onClick={handleClick}\n            >\n                Liquidar\n            </Button>\n\n            <Dialog\n                open={open}\n                fullWidth\n                maxWidth='xs'\n                onClose={handleClick}\n                aria-labelledby=\"draggable-dialog-title\"\n            >\n                <BackdropComponent loading={loading} setLoading={setLoading} />\n                <Box display=\"flex\">\n                    <Box flexGrow={1} p={2}>\n                        <Typography variant=\"h6\" className={classes.title}>\n                            Liquidar Cuenta\n                        </Typography>\n                    </Box>\n                    <Box p={1}>\n                        <Button variant=\"contained\" color=\"secondary\" onClick={handleClick} size=\"large\">\n                            <CloseIcon  />\n                        </Button>\n                    </Box>\n\t\t\t\t</Box>\n                <DialogContent>\n                    <Typography>Aplica un descuento por pronto pago a tu cuenta</Typography>\n                    <Box mt={1} textAlign=\"center\">\n                        <Typography id=\"discrete-slider-always\" gutterBottom>\n                            <b>Porcentaje de descuento</b>\n                        </Typography>\n                    </Box>\n                    <Box ml={1} mr={1} mb={2} >\n                        <Slider\n                            getAriaValueText={valuetext}\n                            valueLabelFormat={value.toFixed(2)}\n                            aria-labelledby=\"discrete-slider-small-steps\"\n                            valueLabelDisplay=\"auto\"\n                            onChange={obtenerPorcientoSlide} \n                        />\n                    </Box>\n                    <Box width=\"100%\" textAlign=\"center\">\n                        <Typography id=\"discrete-slider-always\" gutterBottom>\n                            <b>Dinero a liquidar con descuento</b>\n                        </Typography>\n                        <TextField\n                            fullWidth\n                            size=\"small\"\n                            name=\"descuento\"\n                            variant=\"outlined\"\n                            value={cuentaTotalDescuento ? cuentaTotalDescuento : 0 }\n                            onChange={obtenerPrecioText}\n                        />\n                    </Box>\n                    <Box width=\"100%\" mt={2} textAlign={'center'} >\n                        <Typography><b>Metodo de pago:</b></Typography>\n                        <FormControl\n                            variant=\"outlined\"\n                            fullWidth\n                            size=\"small\"\n                        >\n                            <Select\n                                width=\"100%\"\n                                name=\"metodo_pago\"\n                                variant='outlined'\n                                onChange={(e) => setMetodoPago(e.target.value )}\n                            >\n                                <MenuItem value=\"\">\n                                    <em>Selecciona uno</em>\n                                </MenuItem>\n                                {formaPago.map((metodo, index) => {\n                                    return(\n                                        <MenuItem key={index} value={metodo.Value}>{metodo.Name}</MenuItem>\n                                    )\n                                })}\n                            </Select>\n                        </FormControl>\n                    </Box>\n                    <Box display=\"flex\" mt={2}>\n                        <Box flexGrow={1}>\n                            <Typography>Total cuenta: </Typography>\n                        </Box>\n                        <Box>\n                            <Typography><b>${formatoMexico(cuenta.total)}</b></Typography>\n                        </Box>\n                    </Box>\n                    <Box display=\"flex\">\n                        <Box flexGrow={1}>\n                            <Typography>Saldo pendiente: </Typography>\n                        </Box>\n                        <Box >\n                            <Typography><b>${formatoMexico(cuenta.saldo_credito_pendiente)}</b></Typography>\n                        </Box>\n                    </Box>\n                    <Box display=\"flex\">\n                        <Box flexGrow={1}>\n                            <Typography>Dinero Descontado: </Typography>\n                        </Box>\n                        <Box >\n                            <Typography><b>${formatoMexico(dineroDescontado)}</b></Typography>\n                        </Box>\n                    </Box>\n                    <Box display=\"flex\">\n                        <Box flexGrow={1}>\n                            <Typography>Porciento Descontado: </Typography>\n                        </Box>\n                        <Box >\n                            <Typography><b>{formatoMexico(value)}%</b></Typography>\n                        </Box>\n                    </Box>\n                    <Box display=\"flex\">\n                        <Box flexGrow={1}>\n                            <Typography variant=\"h6\" >Total a pagar:</Typography>\n                        </Box>\n                        <Box >\n                            <Typography variant=\"h6\" ><b style={{color: 'green'}}>${formatoMexico(cuentaTotalDescuento === 0 ? cuenta.saldo_credito_pendiente : cuentaTotalDescuento)}</b></Typography>\n                        </Box>\n                    </Box>\n                </DialogContent>\n                <DialogActions>\n                    <Button \n                        onClick={enviarDatos} \n                        color=\"primary\"\n                        variant=\"contained\"\n                        size=\"large\"\n                    >\n                        Liquidar\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        </div>\n    )\n}\n","import React, { Fragment, useContext, useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport {formatoMexico} from '../../../../../../config/reuserFunctions'\nimport DetallesCuenta from './DetalleCuenta/DetallesCuenta';\nimport LiquidarCuenta from './LiquidarCuenta';\nimport moment from 'moment';\n\nimport { Box, CircularProgress, Dialog, Slide, TableHead } from '@material-ui/core';\nimport 'moment/locale/es';\nimport { TesoreriaCtx } from '../../../../../../context/Tesoreria/tesoreriaCtx';\n\nconst columns = [\n\t{ id: 'fecha', label: 'Fecha Compra', minWidth: 100, align: 'center' },\n\t{ id: 'provedor', label: 'Provedor', minWidth: 100, align: 'center' },\n\t{ id: 'abonado', label: 'Abonado', minWidth: 100, align: 'center' },\n    { id: 'restante', label: 'Restante', minWidth: 100, align: 'center' },\n    { id: 'total', label: 'Total', minWidth: 100, align: 'center' }\n];\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n\t\twidth: '100%'\n\t},\n\tpaper: {\n\t\twidth: '100%',\n\t\tmarginBottom: theme.spacing(2)\n\t},\n\ttable: {\n\t\tminWidth: 750\n\t},\n\tvisuallyHidden: {\n\t\tborder: 0,\n\t\tclip: 'rect(0 0 0 0)',\n\t\theight: 1,\n\t\tmargin: -1,\n\t\toverflow: 'hidden',\n\t\tpadding: 0,\n\t\tposition: 'absolute',\n\t\ttop: 20,\n\t\twidth: 1\n\t}\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function TablaAbonos({loading}) {\n\n\tconst { cuentas} = useContext(TesoreriaCtx);\n\n\tconst classes = useStyles();\n\n\tif (loading) \n\t\treturn (\n\t\t\t<Box\n\t\t\tdisplay=\"flex\"\n\t\t\tflexDirection=\"column\"\n\t\t\tjustifyContent=\"center\"\n\t\t\talignItems=\"center\"\n\t\t\theight=\"50vh\"\n\t\t\t>\n\t\t\t\t<CircularProgress />\n\t\t\t</Box>\n\t\t);\n\n\treturn (\n\t\t<Fragment>\n\t\t<div className={classes.root}>\n\t\t\t<Paper className={classes.paper}>\n\t\t\t\t<TableContainer>\n\t\t\t\t\t<Table\n\t\t\t\t\t\tclassName={classes.table}\n\t\t\t\t\t\taria-labelledby=\"tableTitle\"\n\t\t\t\t\t\tstickyHeader\n\t\t\t\t\t\tsize=\"small\" \n\t\t\t\t\t\taria-label=\"a dense table\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t{columns.map((column) => (\n\t\t\t\t\t\t\t\t\t<TableCell key={column.id} align={column.align} style={{ minWidth: column.minWidth }}>\n\t\t\t\t\t\t\t\t\t\t{column.label}\n\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t<TableCell align={'center'} style={{ minWidth: 100 }}>\n\t\t\t\t\t\t\t\t\tLiquidar\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t</TableHead>\n\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t{cuentas?.map((row, index) => {\n\t\t\t\t\t\t\t\tif(row.credito_pagado === false){\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<RowsCuentas \n\t\t\t\t\t\t\t\t\t\t\tloading={loading}\n\t\t\t\t\t\t\t\t\t\t\tcuentaSelect={row}\n\t\t\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t})} \n\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t</Table>\n\t\t\t\t</TableContainer>\n\t\t\t</Paper>\n\t\t</div>\n\t\t</Fragment>\n\t);\n};\n\nfunction RowsCuentas ({cuentaSelect, loading}){\n\tconst permisosUsuario = JSON.parse(localStorage.getItem('sesionCafi'));\n\tconst [open, setOpen] = useState(false);\n    \n\tconst handleClick = () => {\n        setOpen(!open);\n    };\n\t\n\tconst TwoClickInRowTableBuy = (e) => {\n\t\ttry {\n\t\t\tlet timer;\n\t\t\tclearTimeout(timer);\n\t\t\tif (e.detail === 2) {\n\t\t\t\thandleClick();\n\t\t\t}\n\t\t} catch (error) {\n\t\t}\n\t};\n\n\treturn(\n\t\t<Fragment>\n\t\t\t<TableRow\n\t\t\t\thover\n\t\t\t\ttabIndex={-1}\n\t\t\t\tonClick={(e) => TwoClickInRowTableBuy(e)}\n\t\t\t>\n\t\t\t\t<TableCell align=\"center\">{moment(cuentaSelect.fecha_registro).format('D MMMM YYYY')}</TableCell>\n\t\t\t\t<TableCell align=\"center\">{cuentaSelect.proveedor.id_proveedor.nombre_cliente}</TableCell>\n\t\t\t\t<TableCell align=\"center\">${formatoMexico(cuentaSelect.total - cuentaSelect.saldo_credito_pendiente)}</TableCell>\n\t\t\t\t<TableCell align=\"center\">${formatoMexico(cuentaSelect.saldo_credito_pendiente)}</TableCell>\n\t\t\t\t<TableCell align=\"center\">${formatoMexico(cuentaSelect.total)}</TableCell>\n\t\t\t\t{permisosUsuario.accesos.tesoreria.abonos_proveedores.editar === false ? (\n\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t</TableCell>\n\t\t\t\t) : (\n\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t<LiquidarCuenta cuenta={cuentaSelect}/>\n\t\t\t\t\t</TableCell>\n\t\t\t\t)}\n\t\t\t</TableRow>\n\n\t\t\t<Dialog\n\t\t\t\tfullScreen\n\t\t\t\topen={open} \n\t\t\t\tonClose={handleClick} \n\t\t\t\tTransitionComponent={Transition}\n\t\t\t>\n\t\t\t\t<DetallesCuenta\n\t\t\t\t\tcuenta={cuentaSelect}\n\t\t\t\t\tloading={loading}\n\t\t\t\t\thandleClick={handleClick}\n\t\t\t\t/>\n\t\t\t</Dialog>\n\t\t</Fragment>\n\t);\n};\n","import React, { useContext, useEffect, useRef, useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport CloseIcon from '@material-ui/icons/Close';\nimport Slide from '@material-ui/core/Slide';\nimport { Box, IconButton, InputAdornment, TextField } from '@material-ui/core';\nimport { OBTENER_COMPRAS_REALIZADAS } from \"../../../../../gql/Compras/compras\";\n\n\nimport TablaAbonos from './Components/TablaAbonos';\nimport { useQuery } from '@apollo/client';\nimport { TesoreriaCtx } from '../../../../../context/Tesoreria/tesoreriaCtx';\nimport SearchOutlined from '@material-ui/icons/SearchOutlined';\n\nconst useStyles = makeStyles((theme) => ({\n\tappBar: {\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n    icon: {\n\t\twidth: 100\n\t},\n\trootSearch: {\n\t\tdisplay: 'flex',\n\t\tpaddingLeft: theme.spacing(2)\n\t}\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function AbonosProveedores() {\n\tconst sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n\tconst { reload, setReload, setCuentas } = useContext(TesoreriaCtx);\n\t\n\tconst classes = useStyles();\n\tconst [ open, setOpen ] = useState(false);\n\tconst [filtro, setFiltro] = useState(\"\");\n\tconst searchfilter = useRef(null);\n\n\tconst { loading, data, error, refetch } = useQuery(\n\t\tOBTENER_COMPRAS_REALIZADAS,\n\t\t{\n\t\t  variables: {\n\t\t\tempresa: sesion.empresa._id,\n\t\t\tsucursal: sesion.sucursal._id,\n\t\t\tfecha: \"\"\n\t\t  },\n\t\t  fetchPolicy: \"network-only\",\n\t\t}\n\t);\n\n\tif(data){\n\t\tsetCuentas(data.obtenerComprasRealizadas)\n\t};\n\t\n\tuseEffect(() => {\n\t\t\n\t\trefetch();\n\t\t\n\t\tsetReload(false);\n\n\t}, [reload, refetch]);\n\n\tconst handleClickOpen = () => setOpen(!open);\n\n\tconst obtenerBusqueda = (e, value) => {\n\t\te.preventDefault();\n\t\trefetch({ filtro: value, fecha: '' });\n\t\tsetFiltro(value);\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<Button fullWidth onClick={handleClickOpen}>\n\t\t\t\t<Box display=\"flex\" flexDirection=\"column\">\n\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n                        <img src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/salary.svg' alt=\"icono abono\" className={classes.icon} />\n\t\t\t\t\t</Box>\n\t\t\t\t\tAbonos de provedores\n\t\t\t\t</Box>\n\t\t\t</Button>\n\t\t\t<Dialog fullScreen open={open} onClose={handleClickOpen} TransitionComponent={Transition}>\n\t\t\t\t<AppBar className={classes.appBar}>\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t<Typography variant=\"h6\" className={classes.title}>\n                        \tAbonos a Provedores\n\t\t\t\t\t\t</Typography>\n                        <Box m={1}>\n\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"secondary\" onClick={handleClickOpen} size=\"large\">\n\t\t\t\t\t\t\t\t<CloseIcon style={{fontSize: 30}} />\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</AppBar>\n\t\t\t\t<Box display='flex' p={2}>\n\t\t\t\t\t<Box minWidth=\"70%\">\n\t\t\t\t\t<form onSubmit={(e) => obtenerBusqueda(e, e.target[0].value)}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tinputRef={searchfilter}\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\tplaceholder=\"Buscar una compra...\"\n\t\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\tendAdornment: (\n\t\t\t\t\t\t\t\t<InputAdornment position=\"end\">\n\t\t\t\t\t\t\t\t<IconButton type=\"submit\" color=\"primary\" size=\"medium\">\n\t\t\t\t\t\t\t\t\t<SearchOutlined />\n\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t</InputAdornment>\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t</form>\n\t\t\t\t\t</Box>\n\t\t\t\t</Box>\n\t\t\t\t<Box p={2}>\n\t\t\t\t\t<TablaAbonos \t\n\t\t\t\t\t\tloading={loading}\n\t\t\t\t\t\trefetch={refetch}\n\t\t\t\t\t/>\n\t\t\t\t</Box>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n}\n","import React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TablePagination from '@material-ui/core/TablePagination';\nimport TableRow from '@material-ui/core/TableRow';\n\nconst columns = [\n\t{ id: 'name', label: 'Name', minWidth: 170 },\n\t{ id: 'code', label: 'ISO\\u00a0Code', minWidth: 100 },\n\t{\n\t\tid: 'population',\n\t\tlabel: 'Population',\n\t\tminWidth: 170,\n\t\talign: 'right',\n\t\tformat: (value) => value.toLocaleString('en-US')\n\t},\n\t{\n\t\tid: 'size',\n\t\tlabel: 'Size\\u00a0(km\\u00b2)',\n\t\tminWidth: 170,\n\t\talign: 'right',\n\t\tformat: (value) => value.toLocaleString('en-US')\n\t},\n\t{\n\t\tid: 'density',\n\t\tlabel: 'Density',\n\t\tminWidth: 170,\n\t\talign: 'right',\n\t\tformat: (value) => value.toFixed(2)\n\t}\n];\n\nfunction createData(name, code, population, size) {\n\tconst density = population / size;\n\treturn { name, code, population, size, density };\n}\n\nconst rows = [\n\tcreateData('India', 'IN', 1324171354, 3287263),\n\tcreateData('China', 'CN', 1403500365, 9596961),\n\tcreateData('Italy', 'IT', 60483973, 301340),\n\tcreateData('United States', 'US', 327167434, 9833520),\n\tcreateData('Canada', 'CA', 37602103, 9984670),\n\tcreateData('Australia', 'AU', 25475400, 7692024),\n\tcreateData('Germany', 'DE', 83019200, 357578),\n\tcreateData('Ireland', 'IE', 4857000, 70273),\n\tcreateData('Mexico', 'MX', 126577691, 1972550),\n\tcreateData('Japan', 'JP', 126317000, 377973),\n\tcreateData('France', 'FR', 67022000, 640679),\n\tcreateData('United Kingdom', 'GB', 67545757, 242495),\n\tcreateData('Russia', 'RU', 146793744, 17098246),\n\tcreateData('Nigeria', 'NG', 200962417, 923768),\n\tcreateData('Brazil', 'BR', 210147125, 8515767)\n];\n\nconst useStyles  = makeStyles((theme) => ({\n\troot: {\n\t\twidth: '100%'\n\t},\n\tcontainer: {\n\t\tmaxHeight: '100%'\n\t},\n    appBar: {\t\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t}\n}));\n\nexport default function TablaCompras() {\n\tconst classes = useStyles();\n\tconst [ page, setPage ] = useState(0);\n\tconst [ rowsPerPage, setRowsPerPage ] = useState(5);\n\n\tconst handleChangePage = (event, newPage) => {\n\t\tsetPage(newPage);\n\t};\n\n\tconst handleChangeRowsPerPage = (event) => {\n\t\tsetRowsPerPage(+event.target.value);\n\t\tsetPage(0);\n\t};\n\n\treturn (\n\t\t<Paper className={classes.root}>\n\t\t\t<TableContainer className={classes.container}>\n\t\t\t\t<Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t{columns.map((column) => (\n\t\t\t\t\t\t\t\t<TableCell key={column.id} align={column.align} style={{ minWidth: column.minWidth }}>\n\t\t\t\t\t\t\t\t\t{column.label}\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t</TableHead>\n\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t{rows.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage).map((row) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<TableRow hover role=\"checkbox\" tabIndex={-1} key={row.code}>\n\t\t\t\t\t\t\t\t\t{columns.map((column) => {\n\t\t\t\t\t\t\t\t\t\tconst value = row[column.id];\n\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t<TableCell \n                                                key={column.id} \n                                                align={column.align}\n                                            >\n\t\t\t\t\t\t\t\t\t\t\t\t{column.format && typeof value === 'number' ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolumn.format(value)\n\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t\t</TableBody>\n\t\t\t\t</Table>\n\t\t\t</TableContainer>\n\t\t\t<TablePagination\n\t\t\t\trowsPerPageOptions={[ 10, 25, 100 ]}\n\t\t\t\tcomponent=\"div\"\n\t\t\t\tcount={rows.length}\n\t\t\t\trowsPerPage={rowsPerPage}\n\t\t\t\tpage={page}\n\t\t\t\tonChangePage={handleChangePage}\n\t\t\t\tonChangeRowsPerPage={handleChangeRowsPerPage}\n\t\t\t/>\n\n\t\t</Paper>\n\t);\n}","import React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TablePagination from '@material-ui/core/TablePagination';\nimport TableRow from '@material-ui/core/TableRow';\n\nconst columns = [\n\t{ id: 'name', label: 'Name', minWidth: 170 },\n\t{ id: 'code', label: 'ISO\\u00a0Code', minWidth: 100 },\n\t{\n\t\tid: 'population',\n\t\tlabel: 'Population',\n\t\tminWidth: 170,\n\t\talign: 'right',\n\t\tformat: (value) => value.toLocaleString('en-US')\n\t},\n\t{\n\t\tid: 'size',\n\t\tlabel: 'Size\\u00a0(km\\u00b2)',\n\t\tminWidth: 170,\n\t\talign: 'right',\n\t\tformat: (value) => value.toLocaleString('en-US')\n\t},\n\t{\n\t\tid: 'density',\n\t\tlabel: 'Density',\n\t\tminWidth: 170,\n\t\talign: 'right',\n\t\tformat: (value) => value.toFixed(2)\n\t}\n];\n\nfunction createData(name, code, population, size) {\n\tconst density = population / size;\n\treturn { name, code, population, size, density };\n}\n\nconst rows = [\n\tcreateData('India', 'IN', 1324171354, 3287263),\n\tcreateData('China', 'CN', 1403500365, 9596961),\n\tcreateData('Italy', 'IT', 60483973, 301340),\n\tcreateData('United States', 'US', 327167434, 9833520),\n\tcreateData('Canada', 'CA', 37602103, 9984670),\n\tcreateData('Australia', 'AU', 25475400, 7692024),\n\tcreateData('Germany', 'DE', 83019200, 357578),\n\tcreateData('Ireland', 'IE', 4857000, 70273),\n\tcreateData('Mexico', 'MX', 126577691, 1972550),\n\tcreateData('Japan', 'JP', 126317000, 377973),\n\tcreateData('France', 'FR', 67022000, 640679),\n\tcreateData('United Kingdom', 'GB', 67545757, 242495),\n\tcreateData('Russia', 'RU', 146793744, 17098246),\n\tcreateData('Nigeria', 'NG', 200962417, 923768),\n\tcreateData('Brazil', 'BR', 210147125, 8515767)\n];\n\nconst useStyles  = makeStyles((theme) => ({\n\troot: {\n\t\twidth: '100%'\n\t},\n\tcontainer: {\n\t\tmaxHeight: '100%'\n\t},\n    appBar: {\t\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t}\n}));\n\nexport default function TablaAbonos() {\n\tconst classes = useStyles();\n\tconst [ page, setPage ] = useState(0);\n\tconst [ rowsPerPage, setRowsPerPage ] = useState(5);\n\n\tconst handleChangePage = (event, newPage) => {\n\t\tsetPage(newPage);\n\t};\n\n\tconst handleChangeRowsPerPage = (event) => {\n\t\tsetRowsPerPage(+event.target.value);\n\t\tsetPage(0);\n\t};\n\n\treturn (\n\t\t<Paper className={classes.root}>\n\t\t\t<TableContainer className={classes.container}>\n\t\t\t\t<Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t{columns.map((column) => (\n\t\t\t\t\t\t\t\t<TableCell key={column.id} align={column.align} style={{ minWidth: column.minWidth }}>\n\t\t\t\t\t\t\t\t\t{column.label}\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t</TableHead>\n\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t{rows.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage).map((row) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<TableRow hover role=\"checkbox\" tabIndex={-1} key={row.code}>\n\t\t\t\t\t\t\t\t\t{columns.map((column) => {\n\t\t\t\t\t\t\t\t\t\tconst value = row[column.id];\n\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t<TableCell \n                                                key={column.id} \n                                                align={column.align}\n                                            >\n\t\t\t\t\t\t\t\t\t\t\t\t{column.format && typeof value === 'number' ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolumn.format(value)\n\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t\t</TableBody>\n\t\t\t\t</Table>\n\t\t\t</TableContainer>\n\t\t\t<TablePagination\n\t\t\t\trowsPerPageOptions={[ 10, 25, 100 ]}\n\t\t\t\tcomponent=\"div\"\n\t\t\t\tcount={rows.length}\n\t\t\t\trowsPerPage={rowsPerPage}\n\t\t\t\tpage={page}\n\t\t\t\tonChangePage={handleChangePage}\n\t\t\t\tonChangeRowsPerPage={handleChangeRowsPerPage}\n\t\t\t/>\n\n\t\t</Paper>\n\t);\n}","import React, { useState } from 'react'\n\nimport { Box, Grid, makeStyles, Typography, Button, Dialog, Slide, AppBar, Toolbar } from '@material-ui/core'\nimport CloseIcon from '@material-ui/icons/Close';\nimport TablaCompras from './TablaCompras';\nimport TablaAbonos from './TablaDeAbonos';\n\nconst useStyles = makeStyles((theme) => ({\n    appBar: {\t\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n    icon: {\n\t\twidth: 100\n\t},\n\tformInputFlex: {\n\t\tdisplay: 'flex',\n\t\t'& > *': {\n\t\t\tmargin: `${theme.spacing(4)}px ${theme.spacing(2)}px`\n\t\t}\n\t},\n\tformInput: {\n\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(2)}px`\n\t},\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function DetallesCuenta() {\n    \n    const [open, setOpen] = useState(false);\n    const classes = useStyles();\n\n    const handleClick =()=>{\n        setOpen(!open);\n    }\n\n    return (\n        <div>\n            <Button\n                size=\"medium\"\n                variant=\"contained\" \n                color=\"primary\"\n                onClick={handleClick}\n            >\n                Detalles\n            </Button>\n            <Dialog fullScreen open={open} onClose={handleClick} TransitionComponent={Transition}>\n\t\t\t\t<AppBar className={classes.appBar}>\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t<Typography variant=\"h6\" className={classes.title}>\n                        \tDetalle de cuenta\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\n                        <Box m={1}>\n\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"secondary\" onClick={handleClick} size=\"large\">\n\t\t\t\t\t\t\t\t<CloseIcon style={{fontSize: 30}} />\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</AppBar>\n                <div className={classes.formInputFlex}>\n                    <Box width=\"100%\">\n                        <Typography>Nombre de Cliente:</Typography>\n                        <Box mt={1}>\n                            <Typography>\n                                Hola mundo\n                            </Typography>\n                        </Box>\n                    </Box>\n                    <Box width=\"100%\">\n                        <Typography>Fecha:</Typography>\n                        <Box mt={1}>\n                            <Typography>\n                                Hola mundo\n                            </Typography>\n                        </Box>\n                    </Box>\n                    <Box width=\"100%\">\n                        <Typography>Factura:</Typography>\n                        <Box mt={1}>\n                            <Typography>\n                                Hola mundo\n                            </Typography>\n                        </Box>\n                    </Box>\n                    <Box width=\"100%\">\n                        <Typography>Empresa:</Typography>\n                        <Box mt={1}>\n                            <Typography>\n                                Hola mundo\n                            </Typography>\n                        </Box>\n                    </Box>\n                    <Box width=\"100%\">\n                        <Typography>Domicilio:</Typography>\n                        <Box mt={1}>\n                            <Typography>\n                                Hola mundo\n                            </Typography>\n                        </Box>\n                    </Box>\n                </div>\n                <Grid container>\n                    <Grid item lg={6} xs={12}>\n                        <Box p={1}>\n                            <Typography variant=\"h6\">\n                                Lista de abonos\n                            </Typography>\n                        </Box>\n                        <Box p={1}>\n                            <TablaAbonos />\n                        </Box>\n                        <Box p={1} mr={3} display=\"flex\" justifyContent=\"flex-end\">\n                            <Typography>Total a abonado: $ 150,000.00</Typography>\n                        </Box>\n                        <Box p={1} mr={3} display=\"flex\" justifyContent=\"flex-end\">\n                            <Typography>Restante: $ 150,000.00</Typography>\n                        </Box>\n                    </Grid>\n                    <Grid item lg={6} xs={12}>\n                        <Box p={1} >\n                            <Typography variant=\"h6\">\n                               Lista de compra\n                            </Typography>\n                        </Box>\n                        <Box p={1}>\n                            <TablaCompras />\n                        </Box>\n                        <Box p={1} mr={3} display=\"flex\" justifyContent=\"flex-end\">\n                            <Typography>Total a liquidar: $ 150,000.00</Typography>\n                        </Box>\n                    </Grid>\n                </Grid>\n\t\t\t</Dialog>\n          \n        </div>\n\n    )\n}\n","import React, { useState } from 'react'\n\nimport {  Box, Button, Dialog, DialogActions, DialogContent, makeStyles, TextField, Typography } from '@material-ui/core';\nimport { ToggleButtonGroup } from '@material-ui/lab';\nimport CloseIcon from '@material-ui/icons/Close';\n\nconst useStyles = makeStyles((theme) => ({\n\tformInputFlex: {\n\t\tdisplay: 'flex',\n\t\t'& > *': {\n\t\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(1)}px`\n\t\t}\n\t},\n\tformInput: {\n\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(1)}px`\n\t},\n    appBar: {\n\t\tposition: 'relative'\n\t},\n}));\n\nexport default function LiquidarCuenta() {\n\n    const [open, setOpen] = useState(false);\n\n    const handleClick = () => { \n        setOpen(!open);\n    } \n    const classes = useStyles();\n\n    return (\n        <div>\n            <Button\n                size=\"medium\"\n                variant=\"contained\" \n                color=\"primary\"\n                onClick={handleClick}\n            >\n                Liquidar\n            </Button>\n\n            <Dialog\n                open={open}\n                onClose={handleClick}\n                aria-labelledby=\"draggable-dialog-title\"\n            >\n                <Box display=\"flex\" alignItems=\"center\" m={1}>\n                    <Typography variant=\"h6\" className={classes.title}>\n                        Abonos a Proveedores\n                    </Typography>\n                    <Box m={1} ml={8} >\n                        <Button variant=\"contained\" color=\"secondary\" onClick={handleClick} size=\"large\">\n                            <CloseIcon  />\n                        </Button>\n                    </Box>\n\t\t\t\t</Box>\n                <DialogContent>\n                    <Box width=\"100%\" textAlign=\"center\">\n                        <Typography>Descuento por pronto pago</Typography>\n\n                        <Box p={1}>\n                            <ToggleButtonGroup\n                                // value={alignment}\n                                exclusive\n                                // onChange={handleAlignment}\n                                aria-label=\"text alignment\"\n                            >\n                                <Box p={1}>\n                                    <Button\n                                        variant=\"contained\"\n                                        color=\"primary\"\n                                    >\n                                        Por decuento\n                                    </Button>\n                                </Box>\n                                <Box p={1}>\n                                    <Button\n                                        variant=\"contained\"\n                                        color=\"primary\"\n                                    >\n                                        Por pesos\n                                    </Button>\n                                </Box>\n                            </ToggleButtonGroup>\n                        </Box>\n                       \n                        <TextField\n                            fullWidth\n                            size=\"small\"\n                            /* error */\n                            name=\"nombre_comercial\"\n                            id=\"form-producto-nombre-comercial\"\n                            variant=\"outlined\"\n                            value=\"10% o $100.00\" \n                            /* helperText=\"Incorrect entry.\" */\n                            /* onChange={obtenerCampos} */\n                        />\n                    </Box>\n                    <div className={classes.formInputFlex}>\n                        <Box width=\"100%\">\n                            <Typography>Sub Total: </Typography>\n                        </Box>\n                        <Box width=\"100%\">\n                            <Typography>$150000</Typography>\n                        </Box>\n                    </div>\n                    <div className={classes.formInputFlex}>\n                        <Box width=\"100%\">\n                            <Typography>Descuento: </Typography>\n                        </Box>\n                        <Box width=\"100%\">\n                            <Typography>$150000</Typography>\n                        </Box>\n                    </div>\n                    <div className={classes.formInputFlex}>\n                        <Box width=\"100%\">\n                            <Typography>Total a pagar:</Typography>\n                        </Box>\n                        <Box width=\"100%\">\n                            <Typography>$150000</Typography>\n                        </Box>\n                    </div>\n                </DialogContent>\n                <DialogActions>\n                    <Button \n                        onClick={handleClick} \n                        color=\"primary\"\n                        variant=\"contained\"\n                        size=\"large\"\n                    >\n                        Liquidar\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        </div>\n    )\n}\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TablePagination from '@material-ui/core/TablePagination';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport Checkbox from '@material-ui/core/Checkbox';\n\nimport DetallesCuenta from './DetalleCuenta/DetallesCuenta';\nimport LiquidarCuenta from './LiquidarCuenta';\n\nfunction createData(name, calories, fat, carbs, protein) {\n\treturn { name, calories, fat, carbs, protein };\n}\n\nconst rows = [\n\tcreateData('Cupcake', 305, 3.7, 67, 4.3),\n\tcreateData('Donut', 452, 25.0, 51, 4.9),\n\tcreateData('Eclair', 262, 16.0, 24, 6.0),\n\tcreateData('Frozen yoghurt', 159, 6.0, 24, 4.0),\n\tcreateData('Gingerbread', 356, 16.0, 49, 3.9),\n\tcreateData('Honeycomb', 408, 3.2, 87, 6.5),\n\tcreateData('Ice cream sandwich', 237, 9.0, 37, 4.3),\n\tcreateData('Jelly Bean', 375, 0.0, 94, 0.0),\n\tcreateData('KitKat', 518, 26.0, 65, 7.0),\n\tcreateData('Lollipop', 392, 0.2, 98, 0.0),\n\tcreateData('Marshmallow', 318, 0, 81, 2.0),\n\tcreateData('Nougat', 360, 19.0, 9, 37.0),\n\tcreateData('Oreo', 437, 18.0, 63, 4.0)\n];\n\nconst headCells = [\n\t{ id: 'name', numeric: false, disablePadding: true, label: 'Cliente' },\n\t{ id: 'calories', numeric: true, disablePadding: false, label: 'Abondado' },\n\t{ id: 'fat', numeric: true, disablePadding: false, label: 'Restante' },\n\t{ id: 'abono', numeric: true, disablePadding: false, label: 'Abono a percibir' },\n\t{ id: 'carbs', numeric: true, disablePadding: false, label: 'Detalles' },\n\t{ id: 'protein', numeric: true, disablePadding: false, label: 'Liquidar' }\n];\n\nfunction EnhancedTableHead(props) {\n\tconst { onSelectAllClick, numSelected, rowCount } = props;\n\n\treturn (\n\t\t<TableHead>\n\t\t\t<TableRow>\n\t\t\t\t<TableCell padding=\"checkbox\">\n\t\t\t\t\t<Checkbox\n\t\t\t\t\t\tindeterminate={numSelected > 0 && numSelected < rowCount}\n\t\t\t\t\t\tchecked={rowCount > 0 && numSelected === rowCount}\n\t\t\t\t\t\tonChange={onSelectAllClick}\n\t\t\t\t\t\tinputProps={{ 'aria-label': 'select all desserts' }}\n\t\t\t\t\t/>\n\t\t\t\t</TableCell>\n\t\t\t\t{headCells.map((headCell) => (\n\t\t\t\t\t<TableCell\n\t\t\t\t\t\tkey={headCell.id}\n\t\t\t\t\t\talign={headCell.numeric ? 'right' : 'left'}\n\t\t\t\t\t\tpadding={headCell.disablePadding ? 'none' : 'default'}\n\t\t\t\t\t>\n\t\t\t\t\t\t{headCell.label}\n\t\t\t\t\t</TableCell>\n\t\t\t\t))}\n\t\t\t</TableRow>\n\t\t</TableHead>\n\t);\n}\n\nEnhancedTableHead.propTypes = {\n\tclasses: PropTypes.object.isRequired,\n\tnumSelected: PropTypes.number.isRequired,\n\t// onRequestSort: PropTypes.func.isRequired,\n\tonSelectAllClick: PropTypes.func.isRequired,\n\t// order: PropTypes.oneOf([ 'asc', 'desc' ]).isRequired,\n\t// orderBy: PropTypes.string.isRequired,\n\trowCount: PropTypes.number.isRequired\n};\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n\t\twidth: '100%'\n\t},\n\tpaper: {\n\t\twidth: '100%',\n\t\tmarginBottom: theme.spacing(2)\n\t},\n\ttable: {\n\t\tminWidth: 750\n\t},\n\tvisuallyHidden: {\n\t\tborder: 0,\n\t\tclip: 'rect(0 0 0 0)',\n\t\theight: 1,\n\t\tmargin: -1,\n\t\toverflow: 'hidden',\n\t\tpadding: 0,\n\t\tposition: 'absolute',\n\t\ttop: 20,\n\t\twidth: 1\n\t}\n}));\n\nexport default function TablaAbonos() {\n\tconst classes = useStyles();\n\tconst [ selected, setSelected ] = useState([]);\n\tconst [ page, setPage ] = useState(0);\n\tconst [ rowsPerPage, setRowsPerPage ] = useState(10);\n\n\tconst handleSelectAllClick = (event) => {\n\t\tif (event.target.checked) {\n\t\t\tconst newSelecteds = rows.map((n) => n.name);\n\t\t\tsetSelected(newSelecteds);\n\t\t\treturn;\n\t\t}\n\t\tsetSelected([]);\n\t};\n\n\tconst handleClick = (event, name) => {\n\t\tconst selectedIndex = selected.indexOf(name);\n\t\tlet newSelected = [];\n\n\t\tif (selectedIndex === -1) {\n\t\t\tnewSelected = newSelected.concat(selected, name);\n\t\t} else if (selectedIndex === 0) {\n\t\t\tnewSelected = newSelected.concat(selected.slice(1));\n\t\t} else if (selectedIndex === selected.length - 1) {\n\t\t\tnewSelected = newSelected.concat(selected.slice(0, -1));\n\t\t} else if (selectedIndex > 0) {\n\t\t\tnewSelected = newSelected.concat(selected.slice(0, selectedIndex), selected.slice(selectedIndex + 1));\n\t\t}\n\n\t\tsetSelected(newSelected);\n\t};\n\n\tconst handleChangePage = (event, newPage) => {\n\t\tsetPage(newPage);\n\t};\n\n\tconst handleChangeRowsPerPage = (event) => {\n\t\tsetRowsPerPage(parseInt(event.target.value, 10));\n\t\tsetPage(0);\n\t};\n\n\tconst isSelected = (name) => selected.indexOf(name) !== -1;\n\n\tconst emptyRows = rowsPerPage - Math.min(rowsPerPage, rows.length - page * rowsPerPage);\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Paper className={classes.paper}>\n\t\t\t\t<TableContainer>\n\t\t\t\t\t<Table\n\t\t\t\t\t\tclassName={classes.table}\n\t\t\t\t\t\taria-labelledby=\"tableTitle\"\n\t\t\t\t\t\tstickyHeader\n\t\t\t\t\t\tsize=\"small\" \n\t\t\t\t\t\taria-label=\"a dense table\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<EnhancedTableHead\n\t\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\t\tnumSelected={selected.length}\n\t\t\t\t\t\t\tonSelectAllClick={handleSelectAllClick}\n\t\t\t\t\t\t\trowCount={rows.length}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t{rows.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage).map((row, index) => {\n\t\t\t\t\t\t\t\tconst isItemSelected = isSelected(row.name);\n\t\t\t\t\t\t\t\tconst labelId = `enhanced-table-checkbox-${index}`;\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<TableRow\n\t\t\t\t\t\t\t\t\t\thover\n\t\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\t\tonClick={(event) => handleClick(event, row.name)}\n\t\t\t\t\t\t\t\t\t\trole=\"checkbox\"\n\t\t\t\t\t\t\t\t\t\taria-checked={isItemSelected}\n\t\t\t\t\t\t\t\t\t\ttabIndex={-1}\n\t\t\t\t\t\t\t\t\t\tselected={isItemSelected}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<TableCell padding=\"checkbox\">\n\t\t\t\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\t\t\t\tchecked={isItemSelected}\n\t\t\t\t\t\t\t\t\t\t\t\tinputProps={{ 'aria-labelledby': labelId }}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t<TableCell component=\"th\" id={labelId} scope=\"row\" padding=\"none\">\n\t\t\t\t\t\t\t\t\t\t\t{row.name}\n\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t<TableCell align=\"right\">{row.calories}</TableCell>\n\t\t\t\t\t\t\t\t\t\t<TableCell align=\"right\">{row.fat}</TableCell>\n\t\t\t\t\t\t\t\t\t\t<TableCell align=\"right\">{row.carbs}</TableCell>\n\t\t\t\t\t\t\t\t\t\t<TableCell align=\"right\">\n\t\t\t\t\t\t\t\t\t\t\t<DetallesCuenta />\n\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t<TableCell align=\"right\">\n\t\t\t\t\t\t\t\t\t\t\t<LiquidarCuenta />\n\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t{emptyRows > 0 && (\n\t\t\t\t\t\t\t\t<TableRow style={{ height: 53 * emptyRows }}>\n\t\t\t\t\t\t\t\t\t<TableCell colSpan={6} />\n\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t</Table>\n\t\t\t\t</TableContainer>\n\t\t\t\t<TablePagination\n                    rowsPerPageOptions={[]}\n\t\t\t\t\tcomponent=\"div\"\n\t\t\t\t\tcount={rows.length}\n\t\t\t\t\trowsPerPage={rowsPerPage}\n\t\t\t\t\tpage={page}\n\t\t\t\t\tonChangePage={handleChangePage}\n\t\t\t\t\tonChangeRowsPerPage={handleChangeRowsPerPage}\n\t\t\t\t/>\n\t\t\t</Paper>\n\t\t</div>\n\t);\n}\n","import React, { useState } from 'react';\n\nimport CloseIcon from '@material-ui/icons/Close';\nimport { Alert } from '@material-ui/lab';\nimport { Box, Button, Dialog,  DialogContent,  DialogTitle, Slide, TextField, Typography } from '@material-ui/core'\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n    return <Slide direction=\"up\" ref={ref} {...props} />;\n  });\n\nexport default function AbonoaRecibir() {\n    //listo\n    const [open, setOpen] = useState(false);\n\n    const handleClick = () => { \n        setOpen(!open);\n    } \n\n    return (\n        <div>\n                <Button\n                    size=\"large\"\n                    variant=\"contained\" \n                    color=\"primary\"\n                    onClick={handleClick}\n                >\n                   Abonar\n                </Button>\n            <Dialog\n                open={open}\n                TransitionComponent={Transition}\n                keepMounted\n                onClose={handleClick}\n                aria-labelledby=\"alert-dialog-slide-title\"\n                aria-describedby=\"alert-dialog-slide-description\"\n            >\n                <DialogTitle id=\"alert-dialog-slide-title\">\n                    <Box display=\"flex\">\n                        <Box display=\"flex\" justifyContent=\"flex-start\">\n                            Abono a recibir por cuenta\n                        </Box>\n                        <Box ml={3} display=\"flex\" justifyContent=\"flex-end\">\n                            <Button variant=\"contained\" color=\"secondary\" onClick={handleClick} size=\"large\">\n\t\t\t\t\t\t\t\t<CloseIcon />\n\t\t\t\t\t\t\t</Button>\n                        </Box>\n                    </Box>\n                    \n                </DialogTitle>\n                <DialogContent>\n                    <Box width=\"100%\">\n                        <Typography>Cuenta No. 2501265</Typography>\n                        <TextField\n                            fullWidth\n                            size=\"small\"\n                            /* error */\n                            name=\"nombre_comercial\"\n                            id=\"form-producto-nombre-comercial\"\n                            variant=\"outlined\"\n                            value=\"$150,000.00 Mx\" \n                            /* helperText=\"Incorrect entry.\" */\n                            /* onChange={obtenerCampos} */\n                        />\n                    </Box>\n                    <Box width=\"100%\">\n                        <Typography>Cuenta No. 2501265</Typography>\n                        <TextField\n                            fullWidth\n                            size=\"small\"\n                            /* error */\n                            name=\"nombre_comercial\"\n                            id=\"form-producto-nombre-comercial\"\n                            variant=\"outlined\"\n                            value=\"$150,000.00 Mx\" \n                            /* helperText=\"Incorrect entry.\" */\n                            /* onChange={obtenerCampos} */\n                        />\n                    </Box>\n                    <Box width=\"100%\" p={1} mt={1}>\n                        <Typography>Nombre de Cliente: SUTANO</Typography>\n                    </Box>\n                    <Box width=\"100%\" p={1}>\n                        <Typography>Total a abonar:  $15,100</Typography>\n                    </Box>\n                    <Box p={1}>\n                        <Alert severity=\"info\">Si desea editar el abono del cliente, <br/>\n                        procure este sea mayor al establecido</Alert>\n                    </Box>\n                </DialogContent>\n                <Box display=\"flex\" justifyContent=\"center\" alignContent=\"center\" p={2}>\n                    <Button\n                        size=\"large\"\n                        variant=\"contained\" \n                        color=\"primary\"\n                        style={{fontSize: 16}}\n                        onClick={handleClick}\n                    >\n                        Registrar Abono\n                    </Button>\n                </Box>\n            </Dialog>\n        </div>\n    )\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport CloseIcon from '@material-ui/icons/Close';\nimport Slide from '@material-ui/core/Slide';\nimport { Box, TextField, Grid } from '@material-ui/core';\n\nimport TablaAbonos from './Components/TablaAbonos';\nimport AbonoaRecibir from './Components/AbonoPercibir';\n\nconst useStyles = makeStyles((theme) => ({\n\tappBar: {\t\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n    icon: {\n\t\twidth: 100\n\t},\n\tformInputFlex: {\n\t\tdisplay: 'flex',\n\t\t'& > *': {\n\t\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(2)}px`\n\t\t}\n\t},\n\tformInput: {\n\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(2)}px`\n\t},\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function AbonosClientes() {\n\tconst classes = useStyles();\n\tconst [ open, setOpen ] = React.useState(false);\n\n\tconst handleClickOpen = () => setOpen(!open);\n\n\treturn (\n\t\t<div>\n\t\t\t<Button fullWidth onClick={handleClickOpen}>\n\t\t\t\t<Box display=\"flex\" flexDirection=\"column\">\n\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n                        <img src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/salary.svg' alt=\"icono abono\" className={classes.icon} />\n\t\t\t\t\t</Box>\n\t\t\t\t\tAbonos de Clientes\n\t\t\t\t</Box>\n\t\t\t</Button>\n\t\t\t<Dialog fullScreen open={open} onClose={handleClickOpen} TransitionComponent={Transition}>\n\t\t\t\t<AppBar className={classes.appBar}>\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t<Typography variant=\"h6\" className={classes.title}>\n                        \tAbonos de Clientes\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\n                        <Box m={1}>\n\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"secondary\" onClick={handleClickOpen} size=\"large\">\n\t\t\t\t\t\t\t\t<CloseIcon style={{fontSize: 30}} />\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</AppBar>\n\t\t\t\t<Grid container>\n\t\t\t\t\t<Box width=\"50%\" p={2}>\n\t\t\t\t\t\t<Typography>Busqueda por cliente o por cuenta</Typography>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t/* error */\n\t\t\t\t\t\t\tname=\"nombre_comercial\"\n\t\t\t\t\t\t\tid=\"form-producto-nombre-comercial\"\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t/* value=\"\" */\n\t\t\t\t\t\t\t/* helperText=\"Incorrect entry.\" */\n\t\t\t\t\t\t\t/* onChange={obtenerCampos} */\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Box>\n\t\t\t\t\t\n\t\t\t\t\t<Box mt={5}>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tsize=\"large\"\n\t\t\t\t\t\t\tvariant=\"contained\" \n\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tBuscar\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Grid item lg={5}>\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" mt={4}>\n\t\t\t\t\t\t\t<AbonoaRecibir />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t\t<Box p={2}>\n\t\t\t\t\t<TablaAbonos />\n\t\t\t\t</Box>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n}\n","import React, { useContext } from 'react';\nimport { Box, Container, Grid } from '@material-ui/core';\nimport CuentasEmpresaSucursales from './CuentasEmpresaSucursales/CuentasEmpresaSucursales';\nimport Egresos from './Egresos/Egresos';\nimport AbonosProveedores from './Abonos/Provedores/AbonosProovedores';\nimport AbonosClientes from './Abonos/Clientes/AbonosClientes';\n// import Transferencias from './Transferencias/Transferencias';\n\nimport SnackBarMessages from '../../../components/SnackBarMessages';\nimport { TesoreriaCtx } from '../../../context/Tesoreria/tesoreriaCtx';\n\nexport default function Tesoreria() {\n\n\tconst { alert, setAlert } = useContext(TesoreriaCtx);\n\tconst permisosUsuario = JSON.parse(localStorage.getItem('sesionCafi'));\n\n\treturn (\n\t\t<Container>\n            <SnackBarMessages alert={alert} setAlert={setAlert} />\n\t\t\t<Grid container spacing={2} justify=\"center\">\n\t\t\t\t{permisosUsuario.accesos.tesoreria.cuentas_empresa.ver === false ? (null):(\n\t\t\t\t\t<Grid item lg={2}>\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t<CuentasEmpresaSucursales />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t)}\n\t\t\t\t{permisosUsuario.accesos.tesoreria.egresos.ver === false ? (null):(\n\t\t\t\t\t<Grid item lg={2}>\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t<Egresos />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t)}\n\t\t\t\t{permisosUsuario.accesos.tesoreria.abonos_proveedores.ver === false ? (null):(\n\t\t\t\t\t<Grid item lg={2}>\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t<AbonosProveedores />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t)}\n\t\t\t\t{permisosUsuario.accesos.tesoreria.abonos_clientes.ver === false ? (null):(\n\t\t\t\t\t<Grid item lg={2}>\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t<AbonosClientes />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t)}\n                {/* <Grid item lg={2}>\n\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t<Transferencias />\n\t\t\t\t\t</Box>\n\t\t\t\t</Grid> */}\n\t\t\t</Grid>\n\t\t</Container>\n\t);\n}\n","import React from 'react';\nimport { TesoreriaProvider } from '../../../context/Tesoreria/tesoreriaCtx';\nimport Tesoreria from './Tesoreria';\n\nexport default function IndexTesoreria() {\n    return (\n        <TesoreriaProvider>\n            <Tesoreria />\n        </TesoreriaProvider>\n    )\n}\n","import React, { createContext, useState } from \"react\";\n\nexport const FacturacionCtx = createContext();\n\nexport const FacturacionProvider = ({ children }) => {\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n\n  const [datosFactura, setDatosFactura] = useState({\n    serie: \"\",\n    currency: \"MXN\",\n    expedition_place: \"\",\n    folio: \"\",\n    cfdi_type: \"I\",\n    payment_form: \"\",\n    payment_method: \"\",\n    logo_url: sesion ? sesion.imagen : '',\n    date: \"0\",\n    issuer: {\n      FiscalRegime: sesion ? sesion.empresa.regimen_fiscal : \"\",\n      Rfc: sesion ? sesion.empresa.rfc : \"\",\n      Name: sesion ? sesion.empresa.nombre_fiscal : \"\",\n    },\n    receiver: {\n      Rfc: \"\",\n      Name: \"\",\n      CfdiUse: \"\",\n    },\n    items: [],\n    empresa: sesion ? sesion.empresa._id : \"\",\n    sucursal: sesion ? sesion.sucursal._id : \"\",\n  });\n\n  const [venta_factura, setVentaFactura] = useState(null);\n  const [productos, setProductos] = useState([]);\n\n  const [cp_valido, setCPValido] = useState(false);\n  const [codigo_postal, setCodigoPostal] = useState(\"\");\n  const [error_validation, setError] = useState({ status: false, message: \"\" });\n\n  return (\n    <FacturacionCtx.Provider\n      value={{\n        datosFactura,\n        setDatosFactura,\n        cp_valido,\n        setCPValido,\n        codigo_postal,\n        setCodigoPostal,\n        error_validation,\n        setError,\n        venta_factura,\n        setVentaFactura,\n        productos,\n        setProductos,\n      }}\n    >\n      {children}\n    </FacturacionCtx.Provider>\n  );\n};\n","import React from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport Box from \"@material-ui/core/Box\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport Slide from \"@material-ui/core/Slide\";\nimport { Close } from \"@material-ui/icons\";\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function ProductosSinClaveSat({ productos, open, handleClose }) {\n  return (\n    <div>\n      <Dialog\n        open={open}\n        TransitionComponent={Transition}\n        keepMounted\n        onClose={(_, reason) => {\n          if (reason !== \"backdropClick\") {\n            handleClose();\n          }\n        }}\n      >\n        <DialogTitle>\n          <Box style={{ display: \"flex\" }}>\n            <Typography variant=\"h6\">\n              Productos sin CLAVE del catalogo SAT\n            </Typography>\n            <Box flexGrow={1} />\n            <Button\n              variant=\"contained\"\n              color=\"secondary\"\n              size=\"large\"\n              onClick={() => handleClose()}\n            >\n              <Close />\n            </Button>\n          </Box>\n        </DialogTitle>\n        <DialogContent>\n          <DialogContentText>\n            Hay productos sin clave de catalogo de productos del sat, sin esta\n            clave no puede realizar facturas\n          </DialogContentText>\n          <Paper variant=\"outlined\">\n            <TableContainer style={{ maxHeight: \"40vh\" }}>\n              <Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n                <TableHead>\n                  <TableRow>\n                    <TableCell>Cdigo de barras</TableCell>\n                    <TableCell>Clave alterna</TableCell>\n                    <TableCell>Producto</TableCell>\n                  </TableRow>\n                </TableHead>\n                <TableBody>\n                  {productos.map((row, index) => {\n                    const { datos_generales } = row.id_producto;\n                    return (\n                      <TableRow key={index} role=\"checkbox\" tabIndex={-1}>\n                        <TableCell>\n                          <Typography>\n                            {datos_generales.codigo_barras}\n                          </Typography>\n                        </TableCell>\n                        <TableCell>\n                          <Typography>\n                            {datos_generales.clave_alterna}\n                          </Typography>\n                        </TableCell>\n                        <TableCell>\n                          <Typography>\n                            {datos_generales.nombre_comercial}\n                          </Typography>\n                        </TableCell>\n                      </TableRow>\n                    );\n                  })}\n                </TableBody>\n              </Table>\n            </TableContainer>\n          </Paper>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={() => handleClose()} color=\"inherit\" size=\"large\">\n            Cerrar\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n}\n","import { gql } from \"@apollo/client\";\n\nexport const CONSULTA_PRODUCTOS = gql`\n  query ObtenerConsultaGeneralVentas($empresa: ID!, $sucursal: ID!) {\n    obtenerConsultaGeneralVentas(empresa: $empresa, sucursal: $sucursal) {\n      _id\n      precio\n      cantidad\n      concepto\n      unidad\n      unidad_principal\n      codigo_barras\n      descuento {\n        porciento\n        dinero_descontado\n        precio_con_descuento\n      }\n      descuento_activo\n      default\n      id_producto {\n        datos_generales {\n          nombre_comercial\n          codigo_barras\n          tipo_producto\n          clave_alterna\n        }\n      }\n      inventario_general {\n        cantidad_existente\n        unidad_inventario\n        cantidad_existente_maxima\n        unidad_maxima\n      }\n    }\n  }\n`;\n\nexport const CONSULTA_PRODUCTO_UNITARIO = gql`\n  query ObtenerUnProductoVentas(\n    $empresa: ID!\n    $sucursal: ID!\n    $datosProductos: ID!\n  ) {\n    obtenerUnProductoVentas(\n      empresa: $empresa\n      sucursal: $sucursal\n      datosProductos: $datosProductos\n    ) {\n      _id\n      precio\n      cantidad\n      concepto\n      unidad\n      unidad_principal\n      codigo_barras\n      codigo_unidad\n      precio_unidad {\n        numero_precio\n        precio_neto\n        precio_venta\n        iva_precio\n        ieps_precio\n        unidad_mayoreo\n        precio_general\n        cantidad_unidad\n        unidad_maxima\n      }\n      descuento {\n        cantidad_unidad\n        numero_precio\n        unidad_maxima\n        precio_general\n        precio_neto\n        precio_venta\n        iva_precio\n        ieps_precio\n        utilidad\n        dinero_descontado\n        porciento\n      }\n      medida {\n        talla\n        tipo\n        _id\n      }\n      color {\n        hex\n        nombre\n        _id\n      }\n      descuento_activo\n      default\n      id_producto {\n        imagenes {\n          url_imagen\n        }\n        _id\n        datos_generales {\n          nombre_comercial\n          codigo_barras\n          tipo_producto\n          clave_alterna\n          nombre_generico\n          descripcion\n          id_categoria\n          categoria\n          subcategoria\n          id_subcategoria\n          id_departamento\n          departamento\n          id_marca\n          marca\n          clave_producto_sat {\n            Name\n            Value\n          }\n          receta_farmacia\n        }\n        precios {\n          ieps\n          ieps_activo\n          inventario {\n            inventario_minimo\n            inventario_maximo\n            unidad_de_inventario\n            codigo_unidad\n          }\n          iva\n          iva_activo\n          monedero\n          monedero_electronico\n          precio_de_compra {\n            precio_con_impuesto\n            precio_sin_impuesto\n            iva\n            ieps\n          }\n          precios_producto {\n            numero_precio\n            precio_neto\n            precio_venta\n            iva_precio\n            ieps_precio\n            unidad_mayoreo\n            utilidad\n            precio_general\n            cantidad_unidad\n            unidad_maxima\n          }\n          unidad_de_compra {\n            cantidad\n            precio_unitario_con_impuesto\n            precio_unitario_sin_impuesto\n            unidad\n            codigo_unidad\n          }\n        }\n      }\n      inventario_general {\n        cantidad_existente\n        unidad_inventario\n        cantidad_existente_maxima\n        unidad_maxima\n        codigo_unidad\n      }\n    }\n  }\n`;\n\nexport const CONSULTA_PRODUCTOS_VENTAS = gql`\n  query ObtenerProductosVentas(\n    $empresa: ID!\n    $sucursal: ID!\n    $input: ObtenerProductosVentasInput\n  ) {\n    obtenerProductosVentas(\n      empresa: $empresa\n      sucursal: $sucursal\n      input: $input\n    ) {\n      _id\n      precio\n      cantidad\n      concepto\n      unidad\n      unidad_principal\n      codigo_barras\n      descuento {\n        porciento\n        dinero_descontado\n        precio_con_descuento\n      }\n      descuento_activo\n      default\n      id_producto {\n        imagenes {\n          url_imagen\n        }\n        _id\n        datos_generales {\n          nombre_comercial\n          codigo_barras\n          tipo_producto\n          clave_alterna\n        }\n        precios {\n          ieps\n          ieps_activo\n          inventario {\n            inventario_minimo\n            inventario_maximo\n            unidad_de_inventario\n          }\n          iva\n          iva_activo\n          monedero\n          monedero_electronico\n          precio_de_compra {\n            precio_con_impuesto\n            precio_sin_impuesto\n            iva\n            ieps\n          }\n          precios_producto {\n            numero_precio\n            precio_neto\n            unidad_mayoreo\n            utilidad\n          }\n          unidad_de_compra {\n            cantidad\n            precio_unitario_con_impuesto\n            precio_unitario_sin_impuesto\n            unidad\n          }\n        }\n      }\n      inventario_general {\n        cantidad_existente\n        unidad_inventario\n        cantidad_existente_maxima\n        unidad_maxima\n      }\n    }\n  }\n`;\n\nexport const OBTENER_CLIENTES_VENTAS = gql`\n  query ObtenerClientesVentas($empresa: ID!, $sucursal: ID!) {\n    obtenerClientesVentas(empresa: $empresa, sucursal: $sucursal) {\n      _id\n      numero_cliente\n      clave_cliente\n      nombre_cliente\n      rfc\n      curp\n      telefono\n      celular\n      email\n      numero_descuento\n      limite_credito\n      dias_credito\n      razon_social\n      direccion {\n        calle\n        no_ext\n        no_int\n        codigo_postal\n        colonia\n        municipio\n        localidad\n        estado\n        pais\n      }\n      imagen\n      banco\n      numero_cuenta\n      monedero_electronico\n      credito_disponible\n    }\n  }\n`;\n\nexport const CREAR_VENTA = gql`\n  mutation createVenta(\n    $input: CrearVentasInput!\n    $empresa: ID!\n    $sucursal: ID!\n    $usuario: ID!\n    $caja: ID!\n  ) {\n    createVenta(\n      input: $input\n      empresa: $empresa\n      sucursal: $sucursal\n      usuario: $usuario\n      caja: $caja\n    ) {\n      message\n    }\n  }\n`;\n\nexport const OBTENER_VENTAS_SUCURSAL = gql`\nquery obtenerVentasSucursal($empresa: ID!, $sucursal: ID!, $filtro: String ) {\n\t\tobtenerVentasSucursal(empresa: $empresa, sucursal: $sucursal, filtro: $filtro) {\n\t\t\t_id\n      folio\n      cliente {\n        _id\n        numero_cliente\n        clave_cliente\n        nombre_cliente\n        rfc\n        telefono\n        celular\n        email\n        razon_social\n      }\n      descuento\n      ieps\n      impuestos\n      iva\n      monedero\n      subTotal\n      total\n      venta_cliente\n      credito\n      descuento_general_activo\n      id_caja{\n        _id\n        numero_caja\n        activa\n      }\n      fecha_de_vencimiento_credito\n      dias_de_credito_venta\n      empresa\n      sucursal\n      usuario{\n        _id\n        numero_usuario\n        nombre\n      }\n      productos{\n        _id\n        id_producto{\n          _id\n          datos_generales{\n            codigo_barras\n            clave_alterna\n            tipo_producto\n            nombre_comercial\n            nombre_generico\n            descripcion\n            id_categoria\n            categoria\n            subcategoria\n            id_subcategoria\n            id_departamento\n            departamento\n            id_marca\n            marca\n            clave_producto_sat{\n              Name\n              Value\n            }\n            receta_farmacia\n          }\n          precios{\n            ieps\n            ieps_activo\n            inventario{\n              inventario_minimo\n              inventario_maximo\n              unidad_de_inventario\n              codigo_unidad\n            }\n            iva\n            iva_activo\n            monedero\n            monedero_electronico\n            precio_de_compra{\n              precio_con_impuesto\n              precio_sin_impuesto\n              iva\n              ieps\n            }\n            precios_producto{\n              numero_precio\n              precio_neto\n              precio_venta\n              iva_precio\n              ieps_precio\n              unidad_mayoreo\n              utilidad\n              precio_general\n              cantidad_unidad\n              unidad_maxima\n            }\n            unidad_de_compra{\n              cantidad\n              precio_unitario_con_impuesto\n              precio_unitario_sin_impuesto\n              unidad\n              codigo_unidad\n            }\n            granel\n            litros\n          }\n          imagenes{\n            url_imagen\n            location_imagen\n            key_imagen\n            extencion_imagen\n          }\n          centro_de_costos{\n            cuenta\n            id_cuenta\n            id_subcuenta\n            subcuenta\n          }\n          precio_plazos{\n            precio_cajas{\n              plazo\n              unidad\n              codigo_unidad\n              precio\n            }\n            precio_costales{\n              plazo\n              unidad\n              codigo_unidad\n              precio\n            }\n            precio_piezas{\n              plazo\n              unidad\n              codigo_unidad\n              precio\n            }\n          }\n          unidades_de_venta{\n            _id\n            precio\n            cantidad\n            concepto\n            unidad\n            codigo_unidad\n            unidad_principal\n            codigo_barras\n            codigo_barras\n            id_producto\n            empresa\n            sucursal\n            descuento{\n              cantidad_unidad\n              numero_precio\n              unidad_maxima\n              precio_general\n              precio_neto\n              precio_venta\n              iva_precio\n              ieps_precio\n              utilidad\n              porciento\n              dinero_descontado\n            }\n            descuento_activo\n            default\n            precio_unidad{\n              numero_precio\n              precio_neto\n              precio_venta\n              iva_precio\n              ieps_precio\n              unidad_mayoreo\n              utilidad\n              precio_general\n              cantidad_unidad\n              unidad_maxima\n            }\n          }\n          inventario_general{\n            _id\n            cantidad_existente\n            unidad_inventario\n            codigo_unidad\n            cantidad_existente_maxima\n            unidad_maxima\n            id_almacen_general\n            eliminado\n          }\n          medidas_producto{\n            _id\n            cantidad\n            cantidad_nueva\n            almacen\n            codigo_barras\n            color{\n              hex\n              nombre\n              _id\n            }\n            descuento{\n              cantidad_unidad\n              numero_precio\n              unidad_maxima\n              precio_general\n              precio_neto\n              precio_venta\n              iva_precio\n              ieps_precio\n              utilidad\n              porciento\n              dinero_descontado\n            }\n            descuento_activo\n            existencia\n            medida{\n              talla\n              tipo\n              _id\n            }\n            nombre_comercial\n            precio\n            precio_unidad{\n              numero_precio\n              precio_neto\n              precio_venta\n              iva_precio\n              ieps_precio\n              unidad_mayoreo\n              utilidad\n              precio_general\n              cantidad_unidad\n              unidad_maxima\n            }\n          }\n        }\n        concepto\n        cantidad\n        iva_total\n        ieps_total\n        subtotal\n        impuestos\n        total\n        medida{\n          id_medida\n          medida\n          tipo\n        }\n        color{\n          id_color\n          color\n          hex\n        }\n        cantidad_venta\n        granel_producto{\n          granel\n          valor\n        }\n        precio\n        precio_a_vender\n        precio_actual_producto\n        default\n        unidad\n        codigo_unidad\n        id_unidad_venta\n        year_registro\n        fecha_registro\n        precio_unidad{\n          numero_precio\n          precio_neto\n          precio_venta\n          iva_precio\n          ieps_precio\n          unidad_mayoreo\n          utilidad\n          precio_general\n          cantidad_unidad\n          unidad_maxima\n        }\n        precio_actual_object{\n          cantidad_unidad\n          numero_precio\n          unidad_maxima\n          unidad_mayoreo\n          precio_general\n          precio_neto\n          precio_venta\n          iva_precio\n          ieps_precio\n          utilidad\n          porciento\n          dinero_descontado\n        }\n      }\n\t\t}\n\t}\n`;\n","import React, { Fragment, useContext, useState } from \"react\";\nimport Box from \"@material-ui/core/Box\";\nimport Button from \"@material-ui/core/Button\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Slide from \"@material-ui/core/Slide\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport Grid from \"@material-ui/core/Grid\";\nimport { makeStyles } from \"@material-ui/core\";\nimport Typography from \"@material-ui/core/Typography\";\n\nimport { Close, Search } from \"@material-ui/icons\";\nimport ErrorPage from \"../../../../../components/ErrorPage\";\nimport { useQuery } from \"@apollo/client\";\nimport { FacturacionCtx } from \"../../../../../context/Facturacion/facturacionCtx\";\nimport ProductosSinClaveSat from \"./ProductosSinClave\";\nimport { OBTENER_VENTAS_SUCURSAL } from \"../../../../../gql/Ventas/ventas_generales\";\nimport { formatoMexico } from \"../../../../../config/reuserFunctions\";\nimport { Alert } from \"@material-ui/lab\";\nimport { useDebounce } from \"use-debounce/lib\";\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nconst useStyles = makeStyles((theme) => ({\n  container: {\n    height: \"50vh\",\n  },\n}));\n\nexport default function ListaVentasFactura() {\n  const [open, setOpen] = useState(false);\n\n  const handleOpen = () => setOpen(true);\n  const handleClose = () => setOpen(false);\n\n  return (\n    <div>\n      <IconButton onClick={() => handleOpen()} size=\"small\">\n        <Search />\n      </IconButton>\n      <Dialog\n        maxWidth=\"md\"\n        fullWidth\n        open={open}\n        onClose={(_, reason) => {\n          if (reason !== \"backdropClick\") {\n            handleClose();\n          }\n        }}\n        TransitionComponent={Transition}\n      >\n        <DialogTitle>\n          <Box style={{ display: \"flex\" }}>\n            <Typography variant=\"h6\">Selecionar venta</Typography>\n            <Box flexGrow={1} />\n            <Button\n              variant=\"contained\"\n              color=\"secondary\"\n              size=\"large\"\n              onClick={() => handleClose()}\n            >\n              <Close />\n            </Button>\n          </Box>\n        </DialogTitle>\n        <DialogContent>\n          <ComponentBusquedaVenta handleClose={handleClose} />\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={() => handleClose()}>Cancelar</Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n}\n\nconst ComponentBusquedaVenta = ({ handleClose }) => {\n  const [filtro, setFiltro] = useState(\"\");\n\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n  const [open_productos, setOpenProductos] = useState(false);\n  const [productos_sin_clave, setProductosSinClave] = useState([]);\n\n  const openProductosClaves = () => setOpenProductos(true);\n  const closeProductosClaves = () => setOpenProductos(false);\n\n  const [value] = useDebounce(filtro, 500);\n\n  /* Queries */\n  const resultado_ventas = useQuery(OBTENER_VENTAS_SUCURSAL, {\n    variables: {\n      empresa: sesion.empresa._id,\n      sucursal: sesion.sucursal._id,\n      filtro: value,\n    },\n    fetchPolicy: \"network-only\",\n  });\n\n  return (\n    <Fragment>\n      <ProductosSinClaveSat\n        productos={productos_sin_clave}\n        open={open_productos}\n        handleClose={closeProductosClaves}\n      />\n      <Box mb={2}>\n        <Grid container spacing={2}>\n          <Grid item sm={8} xs={12}>\n            <TextField\n              fullWidth\n              size=\"small\"\n              placeholder=\"Buscar por: Folio, cliente, clave o nombre\"\n              variant=\"outlined\"\n              onChange={(e) => setFiltro(e.target.value)}\n              value={filtro}\n            />\n          </Grid>\n          <Grid item sm={4} xs={12}>\n            <TextField\n              fullWidth\n              size=\"small\"\n              variant=\"outlined\"\n              type=\"date\"\n              onChange={(e) => setFiltro(e.target.value)}\n            />\n          </Grid>\n        </Grid>\n      </Box>\n      <Box my={1}>\n        <Alert severity=\"info\">\n          Para seleccionar una venta haz un doble click!\n        </Alert>\n      </Box>\n      <RenderLista\n        resultado_ventas={resultado_ventas}\n        handleClose={handleClose}\n        setProductosSinClave={setProductosSinClave}\n        openProductosClaves={openProductosClaves}\n      />\n    </Fragment>\n  );\n};\n\nconst RenderLista = ({\n  resultado_ventas,\n  handleClose,\n  setProductosSinClave,\n  openProductosClaves,\n}) => {\n  const classes = useStyles();\n  const [selected, setSelected] = useState(\"\");\n  const { setVentaFactura, setProductos } = useContext(FacturacionCtx);\n  const { loading, data, error } = resultado_ventas;\n\n  if (loading)\n    return (\n      <Box\n        display=\"flex\"\n        justifyContent=\"center\"\n        alignItems=\"center\"\n        height=\"50vh\"\n      >\n        <CircularProgress />\n      </Box>\n    );\n  if (error) {\n    return <ErrorPage />;\n  }\n\n  const { obtenerVentasSucursal } = data;\n\n  const obtenerVenta = (click, data) => {\n    setSelected(data.folio);\n    if (click === 2) {\n      console.log(data);\n      const without_sat_code = data.productos.filter(\n        (res) => !res.id_producto.datos_generales.clave_producto_sat.Value\n      );\n\n      if (without_sat_code.length > 0) {\n        setProductosSinClave(without_sat_code);\n        openProductosClaves();\n        return;\n      }\n\n      const { productos, ...venta } = {...data}\n      const productos_base = [...data.productos]\n      setVentaFactura(venta);\n      setProductos(productos_base);\n      handleClose();\n    }\n  };\n\n  return (\n    <Paper variant=\"outlined\">\n      <TableContainer className={classes.container}>\n        <Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n          <TableHead>\n            <TableRow>\n              <TableCell>Folio</TableCell>\n              <TableCell>Cliente</TableCell>\n              <TableCell>Usuario</TableCell>\n              <TableCell>Caja</TableCell>\n              <TableCell>Descuento</TableCell>\n              <TableCell>Subtotal</TableCell>\n              <TableCell>Impuestos</TableCell>\n              <TableCell>Total</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {obtenerVentasSucursal.map((data, index) => {\n              return (\n                <TableRow\n                  key={index}\n                  hover\n                  role=\"checkbox\"\n                  tabIndex={-1}\n                  selected={data.folio === selected}\n                  onClick={(e) => obtenerVenta(e.detail, data)}\n                >\n                  <TableCell>{data.folio}</TableCell>\n                  <TableCell>\n                    {data.cliente !== null ? data.cliente.nombre_cliente : \"-\"}\n                  </TableCell>\n                  <TableCell>{data.usuario.nombre}</TableCell>\n                  <TableCell>{data.id_caja.numero_caja}</TableCell>\n                  <TableCell>\n                    ${data.descuento ? formatoMexico(data.descuento) : 0}\n                  </TableCell>\n                  <TableCell>${formatoMexico(data.subTotal)}</TableCell>\n                  <TableCell>${formatoMexico(data.impuestos)}</TableCell>\n                  <TableCell>${formatoMexico(data.total)}</TableCell>\n                </TableRow>\n              );\n            })}\n          </TableBody>\n        </Table>\n      </TableContainer>\n    </Paper>\n  );\n};\n","import React from \"react\";\nimport Facturama from \"../../../../../billing/Facturama/facturama.api\";\nimport { CircularProgress, InputAdornment, TextField } from \"@material-ui/core\";\nimport { FacturacionCtx } from \"../../../../../context/Facturacion/facturacionCtx\";\nimport { useDebounce } from \"use-debounce/lib\";\nimport { CheckCircle, Error } from \"@material-ui/icons\";\n\nexport default function CodigoPostal() {\n  const [loading, setLoading] = React.useState(false);\n  const {\n    cp_valido,\n    setCPValido,\n    codigo_postal,\n    setCodigoPostal,\n    error_validation,\n  } = React.useContext(FacturacionCtx);\n  const [value, setValue] = React.useState(\"\");\n\n  const [CP] = useDebounce(value, 500);\n\n  const obtenerCodigoPostal = React.useCallback(async (codigo_postal) => {\n    if (!codigo_postal) return;\n    try {\n      setLoading(true);\n      const result = await Facturama.Catalogs.PostalCodes(\n        codigo_postal,\n        function (result) {\n          return result;\n        }\n      );\n\n      if (result) {\n        setCPValido(true);\n        setLoading(false);\n        setCodigoPostal(result[0].Value);\n      }\n    } catch (error) {\n      setLoading(false);\n      setCPValido(false);\n      setCodigoPostal(\"\");\n    }\n  }, []);\n\n  React.useEffect(() => {\n    obtenerCodigoPostal(CP);\n  }, [CP]);\n\n  return (\n    <React.Fragment>\n      {/* <Typography>Cdigo Postal:</Typography> */}\n      <form onSubmit={obtenerCodigoPostal}>\n        <TextField\n          fullWidth\n          name=\"expedition_place\"\n          size=\"small\"\n          variant=\"outlined\"\n          value={value}\n          label=\"Cdigo postal\"\n          onChange={(e) => setValue(e.target.value)}\n          InputProps={{\n            endAdornment: (\n              <InputAdornment position=\"end\">\n                {value ? (\n                  loading ? (\n                    <CircularProgress size={20} />\n                  ) : cp_valido ? (\n                    <CheckCircle color=\"primary\" />\n                  ) : (\n                    <Error color=\"error\" />\n                  )\n                ) : (\n                  <div />\n                )}\n              </InputAdornment>\n            ),\n          }}\n          /* error={value ? cp_valido ? false : true : false}\n          helperText={value ? cp_valido ? \"\" : \"Introduce un CP valido\" : \"\"} */\n\n          error={\n            error_validation.status && !value\n              ? true\n              : value\n              ? cp_valido\n                ? false\n                : true\n              : false\n          }\n          helperText={\n            error_validation.status && !value\n              ? error_validation.message\n              : value\n              ? cp_valido\n                ? \"\"\n                : \"Introduce un CP valido\"\n              : \"\"\n          }\n        />\n      </form>\n    </React.Fragment>\n  );\n}\n","import React, { Fragment, useContext, useState } from \"react\";\nimport Box from \"@material-ui/core/Box\";\nimport Button from \"@material-ui/core/Button\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Slide from \"@material-ui/core/Slide\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport { makeStyles } from \"@material-ui/core\";\nimport { Close, Error, Search } from \"@material-ui/icons\";\nimport ErrorPage from \"../../../../components/ErrorPage\";\nimport { useQuery } from \"@apollo/client\";\nimport { OBTENER_CLIENTES } from \"../../../../gql/Catalogos/clientes\";\nimport { FacturacionCtx } from \"../../../../context/Facturacion/facturacionCtx\";\nimport CrearCliente from \"../../Catalogos/Cliente/CrearCliente\";\nimport { ClienteProvider } from \"../../../../context/Catalogos/crearClienteCtx\";\nimport { Alert } from \"@material-ui/lab\";\nimport { useDebounce } from \"use-debounce\";\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nconst useStyles = makeStyles((theme) => ({\n  container: {\n    height: \"50vh\",\n  },\n}));\n\nexport default function ListaClientesFacturas() {\n  const [open, setOpen] = useState(false);\n\n  const handleOpen = () => setOpen(true);\n  const handleClose = () => setOpen(false);\n\n  return (\n    <div>\n      <IconButton onClick={() => handleOpen()} size=\"small\">\n        <Search />\n      </IconButton>\n      <Dialog\n        maxWidth=\"md\"\n        fullWidth\n        open={open}\n        onClose={(_, reason) => {\n          if (reason !== \"backdropClick\") {\n            handleClose();\n          }\n        }}\n        TransitionComponent={Transition}\n      >\n        <DialogTitle>\n          <Box style={{ display: \"flex\" }}>\n            <Typography variant=\"h6\">Selecionar cliente</Typography>\n            <Box flexGrow={1} />\n            <Button\n              variant=\"contained\"\n              color=\"secondary\"\n              size=\"large\"\n              onClick={() => handleClose()}\n            >\n              <Close />\n            </Button>\n          </Box>\n        </DialogTitle>\n        <DialogContent>\n          <BuscadorClienteComponent handleClose={handleClose} />\n        </DialogContent>\n        <DialogActions>\n          <Button size=\"large\" onClick={() => handleClose()}>\n            Cancelar\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n}\n\nconst BuscadorClienteComponent = ({ handleClose }) => {\n  const [filtro, setFiltro] = useState(\"\");\n  const [openAlertRfc, setOpenAlertRfc] = useState(false);\n\n  const [value] = useDebounce(filtro, 500);\n\n  /* Queries */\n  const resultado_clientes = useQuery(OBTENER_CLIENTES, {\n    variables: { tipo: \"CLIENTE\", filtro: value },\n    fetchPolicy: \"network-only\",\n  });\n\n  const handleCloseAlertRFC = () => {\n    setOpenAlertRfc(false);\n  };\n  const openAlertRFC = () => {\n    setOpenAlertRfc(true);\n  };\n\n  return (\n    <Fragment>\n      <ClienteProvider>\n        <Dialog\n          open={openAlertRfc}\n          TransitionComponent={Transition}\n          keepMounted\n          onClose={(_, reason) => {\n            if (reason !== \"backdropClick\") {\n              handleCloseAlertRFC();\n            }\n          }}\n        >\n          <DialogContent>\n            <Alert severity=\"info\">\n              Deber registrar un RFC y RAZON SOCIAL a este cliente.\n            </Alert>\n          </DialogContent>\n          <DialogActions>\n            <Button onClick={() => handleCloseAlertRFC()} color=\"primary\">\n              Aceptar\n            </Button>\n          </DialogActions>\n        </Dialog>\n        <Box mb={2} display=\"flex\" alignItems=\"center\">\n          <TextField\n            fullWidth\n            size=\"small\"\n            placeholder=\"Buscar por: Numero de cliente, clave o nombre\"\n            variant=\"outlined\"\n            onChange={(e) => setFiltro(e.target.value)}\n            value={filtro}\n          />\n          <CrearCliente\n            tipo=\"CLIENTE\"\n            accion=\"registrar\"\n            refetch={resultado_clientes.refetch}\n          />\n        </Box>\n        <Box my={1}>\n          <Alert severity=\"info\">\n            Para seleccionar un cliente haz un doble click!\n          </Alert>\n        </Box>\n        <RenderListClientes\n          handleClose={handleClose}\n          resultado_clientes={resultado_clientes}\n          openAlertRFC={openAlertRFC}\n        />\n      </ClienteProvider>\n    </Fragment>\n  );\n};\n\nconst RenderListClientes = ({\n  handleClose,\n  resultado_clientes,\n  openAlertRFC,\n}) => {\n  const classes = useStyles();\n  const [selected, setSelected] = useState(\"\");\n  const { datosFactura, setDatosFactura } = useContext(FacturacionCtx);\n\n  const { loading, data, error, refetch } = resultado_clientes;\n\n  if (loading)\n    return (\n      <Box\n        display=\"flex\"\n        justifyContent=\"center\"\n        alignItems=\"center\"\n        height=\"50vh\"\n      >\n        <CircularProgress />\n      </Box>\n    );\n  if (error) {\n    return <ErrorPage />;\n  }\n\n  const { obtenerClientes } = data;\n\n  const obtenerClienteTabla = (click, row) => {\n    setSelected(row.nombre_cliente);\n    if (click === 2) {\n      if (!row.rfc) {\n        openAlertRFC();\n        return;\n      }\n      setDatosFactura({\n        ...datosFactura,\n        receiver: {\n          ...datosFactura.receiver,\n          Name: row.nombre_cliente,\n          Rfc: row.rfc,\n        },\n      });\n      handleClose();\n    }\n  };\n\n  return (\n    <Paper variant=\"outlined\">\n      <TableContainer className={classes.container}>\n        <Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n          <TableHead>\n            <TableRow>\n              <TableCell minwidth=\"100\">No. Cliente</TableCell>\n              <TableCell minwidth=\"100\">Clave</TableCell>\n              <TableCell minwidth=\"150\">Nombre</TableCell>\n              <TableCell minwidth=\"150\">Razon Social</TableCell>\n              <TableCell minwidth=\"150\">RFC</TableCell>\n              <TableCell minwidth=\"150\">Editar Cliente</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {obtenerClientes.map((row, index) => {\n              return (\n                <TableRow\n                  key={index}\n                  hover\n                  role=\"checkbox\"\n                  tabIndex={-1}\n                  onClick={(e) => obtenerClienteTabla(e.detail, row)}\n                  selected={row.nombre_cliente === selected}\n                >\n                  <TableCell>\n                    <Typography>{row.numero_cliente}</Typography>\n                  </TableCell>\n                  <TableCell>\n                    <Typography>{row.clave_cliente}</Typography>\n                  </TableCell>\n                  <TableCell>\n                    <Typography>{row.nombre_cliente}</Typography>\n                  </TableCell>\n                  <TableCell>\n                    <Typography>{row.razon_social}</Typography>\n                  </TableCell>\n                  <TableCell>\n                    <Typography>\n                      {row.rfc ? row.rfc : <Error color=\"primary\" />}\n                    </Typography>\n                  </TableCell>\n                  <TableCell>\n                    <CrearCliente\n                      tipo=\"CLIENTE\"\n                      accion=\"actualizar\"\n                      datos={row}\n                      refetch={refetch}\n                    />\n                  </TableCell>\n                </TableRow>\n              );\n            })}\n          </TableBody>\n        </Table>\n      </TableContainer>\n    </Paper>\n  );\n};\n","import React, { useContext, useEffect } from \"react\";\nimport Box from \"@material-ui/core/Box\";\nimport Divider from \"@material-ui/core/Divider\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport FormHelperText from \"@material-ui/core/FormHelperText\";\nimport Grid from \"@material-ui/core/Grid\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Typography from \"@material-ui/core/Typography\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Select from \"@material-ui/core/Select\";\nimport ListaVentasFactura from \"./ListaVentas/ListaVentasFactura.js\";\nimport { FacturacionCtx } from \"../../../../context/Facturacion/facturacionCtx.js\";\nimport CodigosPostales from \"./Catalogos/CodigoPostal.js\";\nimport { tipoCambio, tiposCfdi } from \"../catalogos\";\nimport ListaClientesFacturas from \"./ClientesSelect.js\";\n\nexport default function RegistroFactura({ serie_default }) {\n  const { datosFactura, setDatosFactura, error_validation, venta_factura } = useContext(\n    FacturacionCtx\n  );\n\n  useEffect(() => {\n    const { folio, serie } = serie_default[0];\n    setDatosFactura({ ...datosFactura, folio: folio.toString(), serie });\n  }, []);\n\n  const obtenerDatos = (e) => {\n    const { name, value } = e.target;\n    console.log(name, value);\n    setDatosFactura({\n      ...datosFactura,\n      [name]: value,\n    });\n  };\n\n  return (\n    <div>\n      <Grid container spacing={5}>\n        <Grid item md={6} xs={12}>\n          <Box mb={1}>\n            <Typography>\n              <b>{`Emisor: ${datosFactura.issuer.Name}`}</b>\n            </Typography>\n            <Divider />\n          </Box>\n          <Grid container spacing={2}>\n            <Grid item md={4} xs={12}>\n              <Typography>RFC</Typography>\n              <TextField\n                size=\"small\"\n                variant=\"outlined\"\n                fullWidth\n                value={datosFactura.issuer.Rfc}\n                disabled\n                error={error_validation.status && !datosFactura.issuer.Rfc}\n                helperText={\n                  error_validation.status && !datosFactura.issuer.Rfc\n                    ? error_validation.message\n                    : \"\"\n                }\n              />\n            </Grid>\n            <Grid item md={4} xs={12}>\n              <Typography>Regimen fiscal</Typography>\n              <FormControl fullWidth size=\"small\" variant=\"outlined\">\n                <TextField\n                  size=\"small\"\n                  variant=\"outlined\"\n                  fullWidth\n                  value={datosFactura.issuer.FiscalRegime}\n                  disabled\n                  error={\n                    error_validation.status && !datosFactura.issuer.FiscalRegime\n                  }\n                  helperText={\n                    error_validation.status && !datosFactura.issuer.FiscalRegime\n                      ? error_validation.message\n                      : \"\"\n                  }\n                />\n              </FormControl>\n            </Grid>\n          </Grid>\n        </Grid>\n        <Grid item md={6} xs={12}>\n          <Box mb={1}>\n            <Typography>\n              <b>Receptor</b>\n            </Typography>\n            <Divider />\n          </Box>\n          <Grid container spacing={2}>\n            <Grid item md={4} xs={12}>\n              <Typography>Cliente</Typography>\n              <TextField\n                value={datosFactura.receiver.Name}\n                placeholder=\"Selecciona un cliente\"\n                fullWidth\n                size=\"small\"\n                variant=\"outlined\"\n                InputProps={{\n                  endAdornment: (\n                    <InputAdornment position=\"end\">\n                      <ListaClientesFacturas />\n                    </InputAdornment>\n                  ),\n                  readOnly: true,\n                  disabled: true,\n                }}\n                error={error_validation.status && !datosFactura.receiver.Name}\n                helperText={\n                  error_validation.status && !datosFactura.receiver.Name\n                    ? error_validation.message\n                    : \"\"\n                }\n              />\n            </Grid>\n            <Grid item md={4} xs={12}>\n              <Typography>RFC</Typography>\n              <TextField\n                size=\"small\"\n                variant=\"outlined\"\n                fullWidth\n                value={datosFactura.receiver.Rfc}\n                disabled\n                error={error_validation.status && !datosFactura.receiver.Rfc}\n                helperText={\n                  error_validation.status && !datosFactura.receiver.Rfc\n                    ? error_validation.message\n                    : \"\"\n                }\n              />\n            </Grid>\n          </Grid>\n        </Grid>\n      </Grid>\n\n      <Box mt={1} mb={2}>\n        <Typography>\n          <b>Datos factura</b>\n        </Typography>\n        <Divider />\n      </Box>\n      <Grid container spacing={2}>\n        <Grid item xs={12} sm={4} md={3}>\n          <TextField\n            value={datosFactura.cliente}\n            placeholder=\"Selecciona venta a facturar\"\n            fullWidth\n            size=\"small\"\n            label=\"Folio Venta\"\n            variant=\"outlined\"\n            InputProps={{\n              endAdornment: (\n                <InputAdornment position=\"end\">\n                  <ListaVentasFactura />\n                </InputAdornment>\n              ),\n              readOnly: true,\n              disabled: true,\n            }}\n            value={venta_factura ? venta_factura.folio : ''}\n          />\n        </Grid>\n        <Grid item xs={12} sm={4} md={1}>\n          <TextField\n            value={datosFactura.folio}\n            label=\"Folio\"\n            fullWidth\n            size=\"small\"\n            variant=\"outlined\"\n            disabled\n            error={error_validation.status && !datosFactura.folio}\n            helperText={\n              error_validation.status && !datosFactura.folio\n                ? error_validation.message\n                : \"\"\n            }\n          />\n        </Grid>\n        <Grid item xs={12} sm={4} md={1}>\n          <TextField\n            value={datosFactura.serie}\n            label=\"Serie\"\n            fullWidth\n            size=\"small\"\n            variant=\"outlined\"\n            disabled\n            error={error_validation.status && !datosFactura.serie}\n            helperText={\n              error_validation.status && !datosFactura.serie\n                ? error_validation.message\n                : \"\"\n            }\n          />\n        </Grid>\n        <Grid item xs={12} sm={4} md={2}>\n          <FormControl\n            variant=\"outlined\"\n            fullWidth\n            size=\"small\"\n            name=\"cfdi_type\"\n            error={error_validation.status && !datosFactura.cfdi_type}\n          >\n            <InputLabel id=\"cfdi_type\">Tipo de CFDI</InputLabel>\n            <Select\n              labelId=\"cfdi_type\"\n              value={datosFactura.cfdi_type}\n              name=\"cfdi_type\"\n              onChange={obtenerDatos}\n              label=\"tipo de CFDI\"\n            >\n              <MenuItem value=\"\">\n                <em>Selecciona uno</em>\n              </MenuItem>\n              {tiposCfdi.map((res, index) => (\n                <MenuItem\n                  key={index}\n                  value={res.Value}\n                >{`${res.Value} - ${res.Name}`}</MenuItem>\n              ))}\n            </Select>\n            <FormHelperText>\n              {error_validation.status && !datosFactura.cfdi_type\n                ? error_validation.message\n                : \"\"}\n            </FormHelperText>\n          </FormControl>\n        </Grid>\n        <Grid item xs={12} sm={4} md={2}>\n          <FormControl\n            variant=\"outlined\"\n            fullWidth\n            size=\"small\"\n            name=\"currency\"\n            error={error_validation.status && !datosFactura.currency}\n          >\n            <InputLabel id=\"moneda\">Moneda</InputLabel>\n            <Select\n              labelId=\"moneda\"\n              value={datosFactura.currency}\n              name=\"currency\"\n              onChange={obtenerDatos}\n              label=\"moneda\"\n            >\n              <MenuItem value=\"\">\n                <em>Selecciona uno</em>\n              </MenuItem>\n              {tipoCambio.map((res, index) => (\n                <MenuItem\n                  key={index}\n                  value={res.Value}\n                >{`${res.Value} - ${res.Name}`}</MenuItem>\n              ))}\n            </Select>\n            <FormHelperText>\n              {error_validation.status && !datosFactura.currency\n                ? error_validation.message\n                : \"\"}\n            </FormHelperText>\n          </FormControl>\n        </Grid>\n        <Grid item xs={12} sm={4} md={3}>\n          <CodigosPostales />\n        </Grid>\n      </Grid>\n    </div>\n  );\n}\n","import React, { useContext, useState } from \"react\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport Table from \"@material-ui/core/Table\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport Slide from \"@material-ui/core/Slide\";\nimport Box from \"@material-ui/core/Box\";\nimport Divider from \"@material-ui/core/Divider\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { Close, Edit } from \"@material-ui/icons\";\nimport {\n  calculatePrices2,\n  formatoMexico,\n} from \"../../../../../config/reuserFunctions\";\nimport { FacturacionCtx } from \"../../../../../context/Facturacion/facturacionCtx\";\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function ModificarProductoFactura({ venta, producto, index }) {\n  const [open, setOpen] = useState(false);\n  const { setVentaFactura, setProductos, productos } = useContext(\n    FacturacionCtx\n  );\n\n  const [producto_base, setProductoBase] = useState({ ...producto });\n  const [venta_base, setVentaBase] = useState({ ...venta });\n\n  const [cantidad_base, setCantidad] = useState(producto_base.cantidad_venta);\n  const [precio_base, setPrecio] = useState(\n    producto_base.precio_actual_object.precio_neto\n  );\n  const [error, setError] = useState(false);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const handleCancel = () => {\n    handleClose();\n    setProductoBase(producto);\n    setVentaBase(venta);\n    setCantidad(producto.cantidad_venta);\n    setPrecio(producto.precio_actual_object.precio_neto);\n  };\n\n  const obtenerDatos = async (e) => {\n    const { name, value } = e.target;\n    if (name === \"cantidad_venta\") {\n      setCantidad(value);\n    } else {\n      setPrecio(value);\n    }\n    if (!value) return;\n    //##################\n    let venta_copy = { ...venta_base };\n    let copy_producto = { ...producto_base };\n    let { precio_actual_object, cantidad_venta, granel_producto } = {\n      ...copy_producto,\n    };\n\n    const { precios } = { ...copy_producto.id_producto };\n    //meter el precio original para restalo a la venta\n    const resta_base = await calculatePrices2({\n      newP: copy_producto,\n      cantidad: cantidad_venta,\n      granel: granel_producto,\n      precio_boolean: true,\n      precio: precio_actual_object,\n    });\n    //restal resultados a la venta\n\n    venta_copy.iva = venta_copy.iva - resta_base.ivaCalculo;\n    venta_copy.ieps = venta_copy.ieps - resta_base.iepsCalculo;\n    venta_copy.impuestos = venta_copy.impuestos - resta_base.impuestoCalculo;\n    venta_copy.subTotal = venta_copy.subTotal - resta_base.subtotalCalculo;\n    venta_copy.total = venta_copy.total - resta_base.totalCalculo;\n    venta_copy.monedero = venta_copy.monedero - resta_base.monederoCalculo;\n\n    //realizar calculos de cantidad\n    //meter el precio nuevo para sumarlo a la venta\n    let suma_nuevo;\n\n    if (name === \"cantidad_venta\") {\n      suma_nuevo = await calculatePrices2({\n        newP: copy_producto,\n        cantidad: parseFloat(value),\n        granel: granel_producto,\n        precio_boolean: true,\n        precio: precio_actual_object,\n      });\n      copy_producto.cantidad_venta = parseFloat(value);\n      setProductoBase({ ...copy_producto, [name]: parseFloat(value) });\n    } else {\n      const precio_neto = parseFloat(value);\n      //sacar impuestos\n      const { iva, ieps } = precios;\n\n      let suma_impuestos =\n        parseFloat(`0.${iva < 10 ? `0${iva}` : iva}`) +\n        parseFloat(`0.${ieps < 10 ? `0${ieps}` : ieps}`);\n\n      //sacar precio_venta\n      let PVCI = parseFloat((precio_neto / cantidad_venta).toFixed(2));\n      let PVSI = parseFloat((PVCI / (suma_impuestos + 1)).toFixed(2));\n\n      //sacar iva e ieps\n      let iva_precio = parseFloat(\n        PVSI * parseFloat(`0.${iva < 10 ? `0${iva}` : iva}`).toFixed(2)\n      );\n      let ieps_precio = parseFloat(\n        PVSI * parseFloat(`0.${ieps < 10 ? `0${ieps}` : ieps}`).toFixed(2)\n      );\n      //sacar utilidad\n      let PCSI = precios.unidad_de_compra.precio_unitario_sin_impuesto;\n      let utilidad = parseFloat((((PVSI - PCSI) / PCSI) * 100).toFixed(2));\n      let precios_nuevos = { ...precio_actual_object };\n\n      let impuestos_precio = ieps_precio + iva_precio;\n\n      precios_nuevos.ieps_precio = ieps_precio;\n      precios_nuevos.iva_precio = iva_precio;\n      precios_nuevos.precio_venta = PVSI;\n      precios_nuevos.precio_neto = PVCI;\n      precios_nuevos.utilidad = utilidad;\n      if (precio_actual_object.unidad_maxima) {\n        precio_actual_object.precio_general = precio_neto;\n      }\n\n      suma_nuevo = await calculatePrices2({\n        newP: copy_producto,\n        cantidad: cantidad_venta,\n        granel: granel_producto,\n        precio_boolean: true,\n        precio: precios_nuevos,\n      });\n      setProductoBase({\n        ...copy_producto,\n        precio_actual_object: precios_nuevos,\n        ieps_total: precios_nuevos.ieps_precio * cantidad_base,\n        iva_total: precios_nuevos.iva_precio * cantidad_base,\n        precio_a_vender: precios_nuevos.precio_neto * cantidad_base,\n        precio_actual_producto: precios_nuevos.precio_neto * cantidad_base,\n        subtotal: precios_nuevos.precio_venta * cantidad_base,\n        impuestos: impuestos_precio * cantidad_base,\n        total: precios_nuevos.precio_neto * cantidad_base,\n      });\n    }\n    //sumar resultados a la venta\n    venta_copy.iva = venta_copy.iva + suma_nuevo.ivaCalculo;\n    venta_copy.ieps = venta_copy.ieps + suma_nuevo.iepsCalculo;\n    venta_copy.impuestos = venta_copy.impuestos + suma_nuevo.impuestoCalculo;\n    venta_copy.subTotal = venta_copy.subTotal + suma_nuevo.subtotalCalculo;\n    venta_copy.total = venta_copy.total + suma_nuevo.totalCalculo;\n    venta_copy.monedero = venta_copy.monedero + suma_nuevo.monederoCalculo;\n    setVentaBase(venta_copy);\n  };\n\n  const verificarCampoVacio = (value) => {\n    if (!value) {\n      setError(true);\n    } else {\n      setError(false);\n    }\n  };\n\n  const guardarPrecios = () => {\n    if (error) return;\n    const copy_array_productos = [...productos];\n    copy_array_productos.splice(index, 1, producto_base);\n    setVentaFactura(venta_base);\n    setProductos(copy_array_productos);\n    handleClose();\n  };\n\n  return (\n    <div>\n      <IconButton size=\"small\" onClick={handleClickOpen}>\n        <Edit />\n      </IconButton>\n      <Dialog\n        open={open}\n        TransitionComponent={Transition}\n        keepMounted\n        onClose={(_, reason) => {\n          if (reason !== \"backdropClick\") {\n            handleClose();\n          }\n        }}\n        fullWidth\n        maxWidth=\"md\"\n      >\n        <DialogTitle>\n          <Box style={{ display: \"flex\" }}>\n            <Typography variant=\"h6\">\n              {producto_base.id_producto.datos_generales.nombre_comercial}\n            </Typography>\n            <Box flexGrow={1} />\n            <Button\n              variant=\"contained\"\n              color=\"secondary\"\n              size=\"large\"\n              onClick={() => handleCancel()}\n            >\n              <Close />\n            </Button>\n          </Box>\n        </DialogTitle>\n        <DialogContent>\n          <Box mb={2}>\n            <Box mb={2}>\n              <Typography>\n                <b>Producto</b>\n              </Typography>\n              <TableContainer>\n                <Table size=\"small\" aria-label=\"a dense table\">\n                  <TableHead>\n                    <TableRow>\n                      <TableCell style={{ width: 50 }}>Cantidad</TableCell>\n                      <TableCell style={{ width: 50 }}>Precio</TableCell>\n                      <TableCell style={{ width: 100 }}>Subtotal</TableCell>\n                      <TableCell style={{ width: 100 }}>Impuestos</TableCell>\n                      <TableCell style={{ width: 100 }}>Total</TableCell>\n                    </TableRow>\n                  </TableHead>\n                  <TableBody>\n                    <TableRow tabIndex={-1}>\n                      <TableCell>\n                        <TextField\n                          variant=\"outlined\"\n                          size=\"small\"\n                          value={cantidad_base}\n                          type=\"number\"\n                          name=\"cantidad_venta\"\n                          InputProps={{\n                            startAdornment: (\n                              <InputAdornment position=\"start\">\n                                {producto_base.unidad}\n                              </InputAdornment>\n                            ),\n                          }}\n                          onChange={obtenerDatos}\n                          placeholder={\n                            producto ? producto.cantidad_venta.toString() : \"\"\n                          }\n                          onBlur={(e) => verificarCampoVacio(e.target.value)}\n                          error={error && !cantidad_base}\n                        />\n                      </TableCell>\n                      <TableCell>\n                        <TextField\n                          variant=\"outlined\"\n                          size=\"small\"\n                          value={precio_base}\n                          type=\"number\"\n                          name=\"precio_neto\"\n                          InputProps={{\n                            startAdornment: (\n                              <InputAdornment position=\"start\">\n                                $\n                              </InputAdornment>\n                            ),\n                          }}\n                          onChange={obtenerDatos}\n                          placeholder={producto.precio_actual_object.precio_neto.toString()}\n                          onBlur={(e) => verificarCampoVacio(e.target.value)}\n                          error={error && !precio_base}\n                        />\n                      </TableCell>\n                      <TableCell>\n                        ${formatoMexico(producto_base.subtotal)}\n                      </TableCell>\n                      <TableCell>\n                        ${formatoMexico(producto_base.impuestos)}\n                      </TableCell>\n                      <TableCell>\n                        ${formatoMexico(producto_base.total)}\n                      </TableCell>\n                    </TableRow>\n                  </TableBody>\n                </Table>\n              </TableContainer>\n            </Box>\n          </Box>\n          <Box>\n            <Typography>\n              <b>Venta</b>\n            </Typography>\n          </Box>\n          <Divider />\n          <TableContainer>\n            <Table size=\"small\" aria-label=\"a dense table\">\n              <TableHead>\n                <TableRow>\n                  <TableCell style={{ width: 50 }}>IVA</TableCell>\n                  <TableCell style={{ width: 50 }}>IEPS</TableCell>\n                  <TableCell style={{ width: 100 }}>Subtotal</TableCell>\n                  <TableCell style={{ width: 100 }}>Impuestos</TableCell>\n                  <TableCell style={{ width: 100 }}>Total</TableCell>\n                </TableRow>\n              </TableHead>\n              <TableBody>\n                <TableRow tabIndex={-1}>\n                  <TableCell>\n                    <b>${formatoMexico(venta_base.iva)}</b>\n                  </TableCell>\n                  <TableCell>\n                    <b>${formatoMexico(venta_base.ieps)}</b>\n                  </TableCell>\n                  <TableCell>\n                    <b> ${formatoMexico(venta_base.subTotal)}</b>\n                  </TableCell>\n                  <TableCell>\n                    <b>${formatoMexico(venta_base.impuestos)}</b>\n                  </TableCell>\n                  <TableCell>\n                    <b> ${formatoMexico(venta_base.total)}</b>\n                  </TableCell>\n                </TableRow>\n              </TableBody>\n            </Table>\n          </TableContainer>\n        </DialogContent>\n        <DialogActions>\n          <Button\n            onClick={() => guardarPrecios()}\n            variant=\"contained\"\n            color=\"primary\"\n          >\n            Guardar\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n}\n","import React from \"react\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport Table from \"@material-ui/core/Table\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport Slide from \"@material-ui/core/Slide\";\nimport {\n  calculatePrices2,\n  formatoMexico,\n} from \"../../../../../config/reuserFunctions\";\nimport { useState } from \"react\";\nimport { Close } from \"@material-ui/icons\";\nimport { useContext } from \"react\";\nimport { FacturacionCtx } from \"../../../../../context/Facturacion/facturacionCtx\";\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function EliminarProductoFactura({ venta, producto, index }) {\n  const [open, setOpen] = useState(false);\n  const { setVentaFactura, setProductos, productos } = useContext(FacturacionCtx);\n  const { datos_generales } = producto.id_producto;\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const handleDelete = async () => {\n    const copy_venta = { ...venta };\n    const copy_productos = [ ...productos];\n    const { cantidad_venta, granel_producto, precio_actual_object } = producto;\n    const { iva, ieps, impuestos, subTotal, total, monedero } = copy_venta;\n    //devuelve cantidades a restar\n    const precio_resta = await calculatePrices2({\n      newP: producto,\n      cantidad: cantidad_venta,\n      granel: granel_producto,\n      precio_boolean: true,\n      precio: precio_actual_object,\n    });\n    //Restar precios a venta\n    console.log(precio_resta);\n    const {\n      ivaCalculo,\n      iepsCalculo,\n      impuestoCalculo,\n      subtotalCalculo,\n      totalCalculo,\n      monederoCalculo,\n    } = precio_resta;\n\n    copy_venta.iva = iva - ivaCalculo;\n    copy_venta.ieps = ieps - iepsCalculo;\n    copy_venta.impuestos = impuestos - impuestoCalculo;\n    copy_venta.subTotal = subTotal - subtotalCalculo;\n    copy_venta.total = total - totalCalculo;\n    copy_venta.monedero = monedero - monederoCalculo;\n\n    //remover de la lista\n    copy_productos.splice(index, 1);\n    setVentaFactura(copy_venta);\n    setProductos(copy_productos);\n    handleClose();\n  };\n\n  return (\n    <div>\n      <IconButton size=\"small\" onClick={handleClickOpen}>\n        <Close />\n      </IconButton>\n      <Dialog\n        open={open}\n        TransitionComponent={Transition}\n        keepMounted\n        onClose={(_, reason) => {\n          if (reason !== \"backdropClick\") {\n            handleClose();\n          }\n        }}\n      >\n        <DialogTitle>Est seguro de eliminar este producto?</DialogTitle>\n        <DialogContent>\n          <TableContainer>\n            <Table size=\"small\" aria-label=\"a dense table\">\n              <TableHead>\n                <TableRow>\n                  <TableCell style={{ width: 100 }}>Producto</TableCell>\n                  <TableCell style={{ width: 50 }}>Cantidad</TableCell>\n                  <TableCell style={{ width: 100 }}>Subtotal</TableCell>\n                  <TableCell style={{ width: 100 }}>Impuestos</TableCell>\n                  <TableCell style={{ width: 100 }}>Total</TableCell>\n                </TableRow>\n              </TableHead>\n              <TableBody>\n                <TableRow tabIndex={-1}>\n                  <TableCell>{datos_generales.nombre_comercial}</TableCell>\n                  <TableCell>{producto.cantidad_venta}</TableCell>\n                  <TableCell>\n                    ${formatoMexico(producto.subtotal)}\n                  </TableCell>\n                  <TableCell>\n                    ${formatoMexico(producto.impuestos)}\n                  </TableCell>\n                  <TableCell>\n                    ${formatoMexico(producto.total)}\n                  </TableCell>\n                </TableRow>\n              </TableBody>\n            </Table>\n          </TableContainer>\n        </DialogContent>\n        <DialogActions style={{ justifyContent: \"center\" }}>\n          <Button onClick={() => handleClose()} color=\"inherit\">\n            Cancelar\n          </Button>\n          <Button onClick={() => handleDelete()} color=\"secondary\">\n            Eliminar\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n}\n","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport { Box, Typography } from \"@material-ui/core\";\nimport { formatoMexico } from \"../../../../../config/reuserFunctions\";\nimport ModificarProductoFactura from \"./EditarProductoFactura\";\nimport EliminarProductoFactura from \"./EliminarProductoFactura\";\nimport { useContext } from \"react\";\nimport { FacturacionCtx } from \"../../../../../context/Facturacion/facturacionCtx\";\n\nconst useStyles = makeStyles({\n  root: {\n    width: \"100%\",\n  },\n  container: {\n    height: \"36vh\",\n  },\n});\n\nexport default function DetallesFactura() {\n  const classes = useStyles();\n  const { venta_factura, productos } = useContext(FacturacionCtx);\n\n  if (!venta_factura) {\n    return null;\n  }\n\n  return (\n    <Paper className={classes.root} variant=\"elevation\">\n      <Box textAlign=\"center\">\n        <Typography variant=\"button\">Detalles de Venta</Typography>\n      </Box>\n      <TableContainer>\n        <Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n          <TableHead>\n            <TableRow>\n              <TableCell style={{ width: 250 }}>Folio</TableCell>\n              <TableCell style={{ width: 50 }}>Cliente</TableCell>\n              <TableCell style={{ width: 50 }}>Descuento</TableCell>\n              <TableCell style={{ width: 50 }}>IVA</TableCell>\n              <TableCell style={{ width: 50 }}>IEPS</TableCell>\n              <TableCell style={{ width: 100 }}>Subtotal</TableCell>\n              <TableCell style={{ width: 100 }}>Impuestos</TableCell>\n              <TableCell style={{ width: 100 }}>Total</TableCell>\n              <TableCell style={{ width: 50 }}>Usuario</TableCell>\n              <TableCell style={{ width: 50 }}>Caja</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <TableRow hover role=\"checkbox\" tabIndex={-1}>\n              <TableCell style={{ width: 200 }}>\n                {venta_factura.folio}\n              </TableCell>\n              <TableCell style={{ width: 50 }}>\n                {venta_factura.cliente !== null\n                  ? venta_factura.cliente.nombre_cliente\n                  : \"-\"}\n              </TableCell>\n              <TableCell style={{ width: 200 }}>\n                ${formatoMexico(venta_factura.descuento)}\n              </TableCell>\n              <TableCell style={{ width: 200 }}>\n                $\n                {venta_factura.iva\n                  ? formatoMexico(venta_factura.iva)\n                  : 0}\n              </TableCell>\n              <TableCell style={{ width: 200 }}>\n                $\n                {venta_factura.ieps\n                  ? formatoMexico(venta_factura.ieps)\n                  : 0}\n              </TableCell>\n              <TableCell style={{ width: 200 }}>\n                ${formatoMexico(venta_factura.subTotal)}\n              </TableCell>\n              <TableCell style={{ width: 200 }}>\n                ${formatoMexico(venta_factura.impuestos)}\n              </TableCell>\n              <TableCell style={{ width: 200 }}>\n                ${formatoMexico(venta_factura.total)}\n              </TableCell>\n              <TableCell style={{ width: 200 }}>\n                {venta_factura.usuario.nombre}\n              </TableCell>\n              <TableCell style={{ width: 200 }}>\n                {venta_factura.id_caja.numero_caja}\n              </TableCell>\n            </TableRow>\n          </TableBody>\n        </Table>\n      </TableContainer>\n      <Box textAlign=\"center\" mt={1}>\n        <Typography variant=\"button\">Productos de Venta</Typography>\n      </Box>\n      <TableContainer className={classes.container}>\n        <Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n          <TableHead>\n            <TableRow>\n              <TableCell style={{ width: 250 }}>Producto</TableCell>\n              <TableCell style={{ width: 50 }}>Cantidad</TableCell>\n              <TableCell style={{ width: 50 }}>IVA</TableCell>\n              <TableCell style={{ width: 50 }}>IEPS</TableCell>\n              <TableCell style={{ width: 100 }}>Subtotal</TableCell>\n              <TableCell style={{ width: 100 }}>Impuestos</TableCell>\n              <TableCell style={{ width: 100 }}>Total</TableCell>\n              <TableCell style={{ width: 50 }}>Modificar</TableCell>\n              <TableCell style={{ width: 50 }}>Eliminar</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {productos.map((producto, index) => {\n              return (\n                <RowTableProductos\n                  venta={venta_factura}\n                  producto={producto}\n                  key={index}\n                  index={index}\n                />\n              );\n            })}\n          </TableBody>\n        </Table>\n      </TableContainer>\n    </Paper>\n  );\n}\n\nconst RowTableProductos = ({ venta, producto, index }) => {\n  const { datos_generales } = producto.id_producto;\n  return (\n    <TableRow tabIndex={-1}>\n      <TableCell>{datos_generales.nombre_comercial}</TableCell>\n      <TableCell>{producto.cantidad_venta}</TableCell>\n      <TableCell>${formatoMexico(producto.iva_total)}</TableCell>\n      <TableCell>${formatoMexico(producto.ieps_total)}</TableCell>\n      <TableCell>${formatoMexico(producto.subtotal)}</TableCell>\n      <TableCell>${formatoMexico(producto.impuestos)}</TableCell>\n      <TableCell>${formatoMexico(producto.total)}</TableCell>\n      <TableCell>\n        <ModificarProductoFactura\n          venta={venta}\n          producto={producto}\n          index={index}\n        />\n      </TableCell>\n      <TableCell>\n        <EliminarProductoFactura\n          venta={venta}\n          producto={producto}\n          index={index}\n        />\n      </TableCell>\n    </TableRow>\n  );\n};\n","const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n\nexport const factura_initial_state = {\n    serie: \"\",\n    currency: \"MXN\",\n    expedition_place: \"\",\n    folio: \"\",\n    cfdi_type: \"I\",\n    payment_form: \"\",\n    payment_method: \"\",\n    logo_url: sesion ? sesion.imagen : '',\n    date: \"0\",\n    issuer: {\n      FiscalRegime: sesion ? sesion.empresa.regimen_fiscal : \"\",\n      Rfc: sesion ? sesion.empresa.rfc : \"\",\n      Name: sesion ? sesion.empresa.nombre_fiscal : \"\",\n    },\n    receiver: {\n      Rfc: \"\",\n      Name: \"\",\n      CfdiUse: \"\",\n    },\n    items: [],\n    empresa: sesion ? sesion.empresa._id : \"\",\n    sucursal: sesion ? sesion.sucursal._id : \"\",\n  }","import React, { useContext, useState } from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport Slide from \"@material-ui/core/Slide\";\nimport Box from \"@material-ui/core/Box\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport FormHelperText from \"@material-ui/core/FormHelperText\";\nimport Typography from \"@material-ui/core/Typography\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Select from \"@material-ui/core/Select\";\nimport DoneIcon from \"@material-ui/icons/Done\";\nimport moment from \"moment\";\nimport { verificarDatosFactura } from \"./validacion_factura\";\nimport { factura_initial_state } from \"./initial_factura_states\";\nimport { FacturacionCtx } from \"../../../../context/Facturacion/facturacionCtx\";\nimport { CREAR_FACTURA } from \"../../../../gql/Facturacion/Facturacion\";\nimport { useMutation } from \"@apollo/client\";\nimport { formaPago, metodoPago, tiposCfdi, usosCfdi } from \"../catalogos\";\nimport { Close, Done } from \"@material-ui/icons\";\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function RealizarFactura({ setAlert }) {\n  const [open, setOpen] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const {\n    datosFactura,\n    setDatosFactura,\n    codigo_postal,\n    setCodigoPostal,\n    productos,\n    setProductosFactura,\n    setError,\n  } = useContext(FacturacionCtx);\n\n  const [CrearFactura] = useMutation(CREAR_FACTURA);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const limpiarCampos = () => {\n    setDatosFactura(factura_initial_state);\n    setProductosFactura([]);\n    setCodigoPostal(\"\");\n  };\n\n  const crearFactura = async () => {\n    try {\n      /* setLoading(true); */\n      let nuevo_obj = { ...datosFactura };\n\n      /* \n      {\n          ProductCode: \"50202306\",\n          IdentificationNumber: \"61b7bf6e3454b727a0c2e357\",\n          Description: \"COCACOLA\",\n          //Unit: \"Unidad de Servicio\",\n          UnitCode: \"XBX\",\n          UnitPrice: \"36\",\n          Quantity: \"1\",\n          Subtotal: \"36\",\n          Discount: \"5.4\",\n          Taxes: [\n            {\n              Total: \"4.89\",\n              Name: \"IVA\",\n              Base: \"30.6\",\n              Rate: \"0.16\",\n              IsRetention: \"false\",\n            },\n          ],\n          Total: \"35.49\",\n        }, */\n\n      const items = [];\n\n      productos.forEach(producto => {\n        console.log(producto);\n        let {iva, ieps} = producto.id_producto.precios;\n        let Taxes = [];\n\n        if(producto.iva_total){\n          Taxes.push({\n            Total: producto.iva_total,\n            Name: \"IVA\",\n            Base: producto.precio_a_vender,\n            Rate: `0.${iva < 10 ? `0${iva}` : iva}`,\n            IsRetention: \"true\",\n          })\n        }\n        if(producto.ieps_total){\n          Taxes.push({\n            Total: producto.ieps_total,\n            Name: \"IEPS\",\n            Base: producto.precio_a_vender,\n            Rate: `0.${ieps < 10 ? `0${ieps}` : ieps}`,\n            IsRetention: \"true\",\n          })\n        }\n        items.push(\n          {\n            ProductCode: producto.id_producto.datos_generales.clave_producto_sat.Value,\n            IdentificationNumber: producto.id_producto._id,\n            Description: producto.id_producto.datos_generales.nombre_comercial,\n            UnitCode: producto.codigo_unidad,\n            UnitPrice: producto.precio_actual_object.precio_venta,\n            Quantity: producto.cantidad_venta,\n            Subtotal: producto.subtotal,\n            Discount: producto.precio_actual_object.dinero_descontado ? producto.precio_actual_object.dinero_descontado : 0,\n            Taxes,\n            Total: producto.total\n          },\n        )\n      });\n      \nconsole.log(items);\n      return\n\n      //poner la fecha de facturacion\n      if (datosFactura.date === \"1\") {\n        nuevo_obj.date = moment()\n          .subtract(1, \"d\")\n          .format(\"YYYY-MM-DDTHH:mm:ss\");\n      } else if (datosFactura.date === \"2\") {\n        nuevo_obj.date = moment()\n          .subtract(2, \"d\")\n          .format(\"YYYY-MM-DDTHH:mm:ss\");\n      } else {\n        nuevo_obj.date = moment().format(\"YYYY-MM-DDTHH:mm:ss\");\n      }\n\n      nuevo_obj.items = productos;\n      nuevo_obj.expedition_place = codigo_postal;\n\n      /* validar todos los datos */\n      const validate = verificarDatosFactura(nuevo_obj);\n\n      console.log(nuevo_obj);\n      if (validate.length) {\n        setError({ status: true, message: validate[0].message });\n        setLoading(false);\n        return;\n      }\n      setError({ status: false, message: \"\" });\n\n      let result = await CrearFactura({\n        variables: {\n          input: nuevo_obj,\n        },\n      });\n      console.log(\"result\", result);\n      setLoading(false);\n      setAlert({\n        message: `Listo! ${result.data.crearFactura.message}`,\n        status: \"success\",\n        open: true,\n      });\n      /* limpiarCampos(); */\n    } catch (error) {\n      console.log(error);\n      console.log(error.response);\n      setLoading(false);\n      if (error.response) {\n        setAlert({\n          message: error.response,\n          status: \"error\",\n          open: true,\n        });\n      } else if (error.networkError) {\n        console.log(error.networkError.result);\n      } else if (error.graphQLErrors) {\n        console.log(error.graphQLErrors);\n      }\n    }\n  };\n\n  return (\n    <div>\n      <Button\n        color=\"primary\"\n        variant=\"contained\"\n        startIcon={<DoneIcon />}\n        size=\"large\"\n        onClick={() => handleClickOpen()}\n      >\n        Guardar\n      </Button>\n      <Dialog\n        open={open}\n        TransitionComponent={Transition}\n        keepMounted\n        onClose={(_, reason) => {\n          if (reason !== \"backdropClick\") {\n            handleClose();\n          }\n        }}\n        fullWidth\n        maxWidth=\"xs\"\n      >\n        <Box display=\"flex\" justifyContent=\"flex-end\" m={1}>\n          <Button\n            onClick={() => handleClose()}\n            size=\"large\"\n            color=\"secondary\"\n            variant=\"contained\"\n          >\n            <Close />\n          </Button>\n        </Box>\n        <DialogContent>\n          <InputsFacturaModal />\n        </DialogContent>\n        <DialogActions style={{justifyContent: \"center\"}}>\n          <Button\n            startIcon={<Done />}\n            onClick={() => crearFactura()}\n            variant=\"contained\"\n            color=\"primary\"\n          >\n            Guardar\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n}\n\nconst InputsFacturaModal = () => {\n  const { datosFactura, setDatosFactura, error_validation } = useContext(\n    FacturacionCtx\n  );\n\n  const obtenerDatos = (e) => {\n    const { name, value } = e.target;\n    console.log(name, value);\n    setDatosFactura({\n      ...datosFactura,\n      [name]: value,\n    });\n  };\n\n  const obtenerUsoCfdi = (e) => {\n    const { name, value } = e.target;\n    setDatosFactura({\n      ...datosFactura,\n      receiver: {\n        ...datosFactura.receiver,\n        [name]: value,\n      },\n    });\n  };\n\n  return (\n    <Box>\n      <Box my={1}>\n        <Typography>Fecha de facturacin</Typography>\n        <FormControl\n          variant=\"outlined\"\n          fullWidth\n          size=\"small\"\n          name=\"date\"\n          error={error_validation.status && !datosFactura.date}\n        >\n          <Select value={datosFactura.date} name=\"date\" onChange={obtenerDatos}>\n            <MenuItem value=\"\">\n              <em>Selecciona una fecha</em>\n            </MenuItem>\n            <MenuItem value=\"0\">{moment().format(\"LL\")}</MenuItem>\n            <MenuItem value=\"1\">\n              {moment().subtract(1, \"d\").format(\"LL\")}\n            </MenuItem>\n            <MenuItem value=\"2\">\n              {moment().subtract(2, \"d\").format(\"LL\")}\n            </MenuItem>\n          </Select>\n          <FormHelperText>\n            {error_validation.status && !datosFactura.date\n              ? error_validation.message\n              : \"\"}\n          </FormHelperText>\n        </FormControl>\n      </Box>\n      <Box my={1}>\n        <Typography>Forma de pago</Typography>\n        <FormControl\n          variant=\"outlined\"\n          fullWidth\n          size=\"small\"\n          name=\"payment_form\"\n          error={error_validation.status && !datosFactura.payment_form}\n        >\n          <Select\n            value={datosFactura.payment_form}\n            name=\"payment_form\"\n            onChange={obtenerDatos}\n          >\n            <MenuItem value=\"\">\n              <em>Selecciona uno</em>\n            </MenuItem>\n            {formaPago.map((res, index) => (\n              <MenuItem\n                key={index}\n                value={res.Value}\n              >{`${res.Value} - ${res.Name}`}</MenuItem>\n            ))}\n          </Select>\n          <FormHelperText>\n            {error_validation.status && !datosFactura.payment_form\n              ? error_validation.message\n              : \"\"}\n          </FormHelperText>\n        </FormControl>\n      </Box>\n      <Box my={1}>\n        <Typography>Mtodo de pago</Typography>\n        <FormControl\n          variant=\"outlined\"\n          fullWidth\n          size=\"small\"\n          name=\"payment_method\"\n          error={error_validation.status && !datosFactura.payment_method}\n        >\n          <Select\n            value={datosFactura.payment_method}\n            name=\"payment_method\"\n            onChange={obtenerDatos}\n          >\n            <MenuItem value=\"\">\n              <em>Selecciona uno</em>\n            </MenuItem>\n            {metodoPago.map((res, index) => (\n              <MenuItem\n                key={index}\n                value={res.Value}\n              >{`${res.Value} - ${res.Name}`}</MenuItem>\n            ))}\n          </Select>\n          <FormHelperText>\n            {error_validation.status && !datosFactura.payment_method\n              ? error_validation.message\n              : \"\"}\n          </FormHelperText>\n        </FormControl>\n      </Box>\n      <Box>\n        <Typography>Uso de CFDi</Typography>\n        <FormControl\n          fullWidth\n          size=\"small\"\n          variant=\"outlined\"\n          fullWidth\n          error={error_validation.status && !datosFactura.receiver.CfdiUse}\n        >\n          <Select\n            value={datosFactura.receiver.CfdiUse}\n            name=\"CfdiUse\"\n            onChange={obtenerUsoCfdi}\n          >\n            <MenuItem value=\"\">\n              <em>Selecciona uno</em>\n            </MenuItem>\n            {usosCfdi.map((res, index) => (\n              <MenuItem\n                key={index}\n                value={res.Value}\n              >{`${res.Value} - ${res.Name}`}</MenuItem>\n            ))}\n          </Select>\n          <FormHelperText>\n            {error_validation.status && !datosFactura.receiver.CfdiUse\n              ? error_validation.message\n              : \"\"}\n          </FormHelperText>\n        </FormControl>\n      </Box>\n    </Box>\n  );\n};\n","import React, { useContext } from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Slide from \"@material-ui/core/Slide\";\nimport { FacturacionCtx } from \"../../../../context/Facturacion/facturacionCtx\";\nimport { factura_initial_state } from \"./initial_factura_states\";\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function CancelarFactura({ open, setOpen, handleCloseFactura }) {\n  const {\n    setDatosFactura,\n    setCodigoPostal,\n    setProductos,\n    setVentaFactura,\n    setCPValido,\n    setError,\n  } = useContext(FacturacionCtx);\n\n  const limpiarCampos = () => {\n    setDatosFactura(factura_initial_state);\n    setVentaFactura(null);\n    setProductos([]);\n    setCodigoPostal(\"\");\n    setCPValido(false);\n    setError({ status: false, message: \"\" });\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const cancelar = () => {\n    limpiarCampos();\n    handleClose();\n    handleCloseFactura();\n  };\n\n  return (\n    <div>\n      <Dialog\n        open={open}\n        TransitionComponent={Transition}\n        keepMounted\n        onClose={() => handleClose()}\n      >\n        <DialogTitle>{\"Ests seguro de cancelar esta factura?\"}</DialogTitle>\n        <DialogActions>\n          <Button onClick={() => handleClose()}>Cerrar</Button>\n          <Button onClick={() => cancelar()} color=\"primary\">\n            Cancelar Factura\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n}\n","import React, { forwardRef, Fragment, useContext, useState } from \"react\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Box from \"@material-ui/core/Box\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport Slide from \"@material-ui/core/Slide\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Typography from \"@material-ui/core/Typography\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport { makeStyles } from \"@material-ui/core\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport Alert from \"@material-ui/lab/Alert\";\n\nimport RegistroFactura from \"./RegistroFactura\";\nimport DetallesFactura from \"./TablaVenta/TablaDetallesFactura\";\nimport { ClienteProvider } from \"../../../../context/Catalogos/crearClienteCtx\";\nimport {\n  FacturacionCtx,\n  FacturacionProvider,\n} from \"../../../../context/Facturacion/facturacionCtx\";\n\nimport { useQuery } from \"@apollo/client\";\nimport { OBTENER_SERIES } from \"../../../../gql/Facturacion/Facturacion\";\nimport ErrorPage from \"../../../../components/ErrorPage\";\nimport SnackBarMessages from \"../../../../components/SnackBarMessages\";\nimport RealizarFactura from \"./RealizarFactura\";\nimport CancelarFactura from \"./CancelarFactura\";\n\nconst useStyles = makeStyles((theme) => ({\n  appBar: {\n    position: \"relative\",\n  },\n  title: {\n    marginLeft: theme.spacing(2),\n    flex: 1,\n  },\n}));\n\nconst Transition = forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function NuevaFactura() {\n  const [open, setOpen] = useState(false);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  return (\n    <div>\n      <ClienteProvider>\n        <Button fullWidth onClick={() => handleClickOpen()}>\n          <Box display=\"flex\" flexDirection=\"column\">\n            <Box\n              display=\"flex\"\n              justifyContent=\"center\"\n              alignItems=\"center\"\n              mb={2}\n            >\n              <img\n                src=\"https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/factura-2.png\"\n                alt=\"icono Factura\"\n                style={{ width: 100 }}\n              />\n            </Box>\n            Generar nuevo CFDI\n          </Box>\n        </Button>\n        <Dialog\n          fullScreen\n          open={open}\n          onClose={() => handleClose()}\n          disableEscapeKeyDown\n          TransitionComponent={Transition}\n        >\n          <FacturacionProvider>\n            <DialogFacturaPrincipal handleClose={handleClose} />\n          </FacturacionProvider>\n        </Dialog>\n      </ClienteProvider>\n    </div>\n  );\n}\n\nconst DialogFacturaPrincipal = ({ handleClose }) => {\n  const classes = useStyles();\n  const { venta_factura } = useContext(FacturacionCtx);\n  const [openCancel, setOpenCancel] = React.useState(false);\n  const [alert, setAlert] = useState({ message: \"\", status: \"\", open: false });\n\n  const handleClickOpen = () => {\n    setOpenCancel(true);\n  };\n\n  const cancelarCFDI = () => {\n    if (venta_factura !== null) {\n      handleClickOpen();\n    } else {\n      handleClose();\n    }\n  };\n\n  return (\n    <Fragment>\n      <AppBar className={classes.appBar}>\n        <Toolbar>\n          <Typography variant=\"h6\" className={classes.title}>\n            Generar nuevo CFDI\n          </Typography>\n          <Box m={1}>\n            <Button\n              variant=\"contained\"\n              color=\"inherit\"\n              onClick={() => cancelarCFDI()}\n              color=\"secondary\"\n              size=\"large\"\n            >\n              <CloseIcon style={{ fontSize: 30 }} />\n            </Button>\n          </Box>\n        </Toolbar>\n      </AppBar>\n      <DialogContent>\n        <SnackBarMessages alert={alert} setAlert={setAlert} />\n        <FacturaModalContent />\n      </DialogContent>\n      <DialogActions>\n        <RealizarFactura setAlert={setAlert} />\n      </DialogActions>\n      <CancelarFactura\n        open={openCancel}\n        setOpen={setOpenCancel}\n        handleCloseFactura={handleClose}\n      />\n    </Fragment>\n  );\n};\n\nconst FacturaModalContent = () => {\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n\n  const { loading, data, error } = useQuery(OBTENER_SERIES, {\n    variables: {\n      sucursal: sesion.sucursal._id,\n      empresa: sesion.empresa._id,\n    },\n    fetchPolicy: \"network-only\",\n  });\n\n  if (loading) {\n    return (\n      <Box\n        display=\"flex\"\n        justifyContent=\"center\"\n        alignItems=\"center\"\n        height=\"30vh\"\n      >\n        <CircularProgress />\n      </Box>\n    );\n  }\n  if (error) {\n    return <ErrorPage error={error} />;\n  }\n\n  const { seriesCfdi } = data.obtenerSeriesCdfi;\n\n  let serie_default = [];\n  serie_default = seriesCfdi.filter((serie) => serie.default === true);\n  if (!serie_default.length) {\n    serie_default = [{ folio: \"\", serie: \"\" }];\n    console.log(serie_default);\n  }\n\n  return (\n    <Fragment>\n      {!seriesCfdi.length ? (\n        <Alert severity=\"warning\">No tienes Series CFDI registradas</Alert>\n      ) : null}\n      <Box my={2}>\n        <RegistroFactura serie_default={serie_default} />\n      </Box>\n      <DetallesFactura />\n    </Fragment>\n  );\n};\n","import React, { useState } from \"react\";\nimport {\n  Box,\n  Button,\n  Checkbox,\n  CircularProgress,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  FormControlLabel,\n  TextField,\n  Typography,\n} from \"@material-ui/core\";\nimport { Add, Close, Done } from \"@material-ui/icons\";\nimport Slide from \"@material-ui/core/Slide\";\nimport { CREAR_SERIE } from \"../../../../gql/Facturacion/Facturacion\";\nimport { useMutation } from \"@apollo/client\";\nimport SnackBarMessages from \"../../../../components/SnackBarMessages\";\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function RegistroSeries({ refetch }) {\n  const [open, setOpen] = useState(false);\n  const [datos, setDatos] = useState({ folio: \"\", serie: \"\", default: false });\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n  const [alert, setAlert] = useState({ message: \"\", status: \"\", open: false });\n  const [loading, setLoading] = useState(false);\n\n  const [crearSerieCFDI] = useMutation(CREAR_SERIE);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n    setDatos({ folio: \"\", serie: \"\", default: false });\n  };\n\n  const obtenerDatosSeries = (e) => {\n    const { name, value } = e.target;\n    setDatos({\n      ...datos,\n      [name]: value,\n    });\n  };\n\n  const obtenerPredeterminado = (e) => {\n    const { name, checked } = e.target;\n    setDatos({\n      ...datos,\n      [name]: checked,\n    });\n  };\n\n  const guardarDatosBD = async () => {\n    if (!datos.folio || !datos.serie) return;\n\n    try {\n      setLoading(true);\n      const result = await crearSerieCFDI({\n        variables: {\n          input: {\n            serie: datos.serie,\n            folio: parseInt(datos.folio),\n            default: datos.default,\n            empresa: sesion.empresa._id,\n            sucursal: sesion.sucursal._id,\n          },\n        },\n      });\n      setAlert({\n        message: `Listo! ${result.data.crearSerieCFDI.message}`,\n        status: \"success\",\n        open: true,\n      });\n      refetch();\n      setLoading(false);\n      handleClose();\n    } catch (error) {\n      setLoading(false);\n      setAlert({\n        message: `Error: ${error.message}`,\n        status: \"error\",\n        open: true,\n      });\n      console.log(error);\n      if (error.networkError) {\n        console.log(error.networkError.result);\n      } else if (error.graphQLErrors) {\n        console.log(error.graphQLErrors);\n      }\n    }\n  };\n\n  return (\n    <div>\n      <SnackBarMessages alert={alert} setAlert={setAlert} />\n      <Box display=\"flex\" justifyContent=\"flex-end\">\n        <Button\n          onClick={() => handleClickOpen()}\n          color=\"primary\"\n          variant=\"contained\"\n          size=\"large\"\n          startIcon={<Add />}\n        >\n          Nueva serie\n        </Button>\n      </Box>\n      <Dialog\n        maxWidth=\"xs\"\n        fullWidth\n        open={open}\n        onClose={() => handleClose()}\n        TransitionComponent={Transition}\n      >\n        <DialogTitle>Registrar nueva serie</DialogTitle>\n        <DialogContent>\n          <Box width=\"100%\">\n            <Typography>Serie para CDFI:</Typography>\n            <Box display=\"flex\" alignItems=\"center\">\n              <TextField\n                fullWidth\n                size=\"small\"\n                variant=\"outlined\"\n                name=\"serie\"\n                onChange={obtenerDatosSeries}\n              />\n            </Box>\n          </Box>\n          <Box width=\"100%\">\n            <Typography>Folio Inicial:</Typography>\n            <Box display=\"flex\" alignItems=\"center\">\n              <TextField\n                fullWidth\n                size=\"small\"\n                variant=\"outlined\"\n                name=\"folio\"\n                onChange={obtenerDatosSeries}\n              />\n            </Box>\n          </Box>\n          <FormControlLabel\n            style={{ marginTop: 8 }}\n            control={\n              <Checkbox\n                checked={datos.default}\n                onChange={obtenerPredeterminado}\n                name=\"default\"\n              />\n            }\n            label=\"Serie predeterminada\"\n          />\n        </DialogContent>\n        <DialogActions style={{ justifyContent: \"center\" }}>\n          <Button startIcon={<Close />} onClick={() => handleClose()}>\n            Cancelar\n          </Button>\n          <Button\n            color=\"primary\"\n            startIcon={loading ? <CircularProgress size={20} /> : <Done />}\n            disabled={!datos.serie || !datos.folio || loading}\n            onClick={() => guardarDatosBD()}\n          >\n            Guardar\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n}\n","import React, { Fragment, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport Slide from \"@material-ui/core/Slide\";\nimport { Close, Done } from \"@material-ui/icons\";\nimport { Backdrop, Checkbox, CircularProgress } from \"@material-ui/core\";\nimport SnackBarMessages from \"../../../../components/SnackBarMessages\";\nimport { useMutation } from \"@apollo/client\";\nimport {\n  ACTUALIZAR_DEFAULT_SERIE,\n  ELIMINAR_SERIE,\n} from \"../../../../gql/Facturacion/Facturacion\";\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nconst useStyles = makeStyles((theme) => ({\n  container: {\n    height: \"80vh\",\n  },\n  backdrop: {\n    zIndex: theme.zIndex.drawer + 1,\n    color: \"#fff\",\n  },\n}));\n\nexport default function ListaSeriesCDFI({ obtenerSeriesCdfi, refetch }) {\n  const classes = useStyles();\n  const [loading, setLoading] = useState(false);\n  const [alert, setAlert] = useState({ message: \"\", status: \"\", open: false });\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n\n  const { seriesCfdi } = obtenerSeriesCdfi;\n  const [modificarDefaultSerie] = useMutation(ACTUALIZAR_DEFAULT_SERIE);\n\n  const setPredeterminado = async (value, data) => {\n    setLoading(true);\n    try {\n      const result = await modificarDefaultSerie({\n        variables: {\n          id: data._id,\n          empresa: sesion.empresa._id,\n          sucursal: sesion.sucursal._id,\n        },\n      });\n      refetch();\n      setLoading(false);\n      setAlert({\n        message: `Listo! ${result.data.modificarDefaultSerie.message}`,\n        status: \"success\",\n        open: true,\n      });\n      setLoading(false);\n    } catch (error) {\n      setLoading(false);\n      setAlert({\n        message: `Error: ${error.message}`,\n        status: \"success\",\n        open: true,\n      });\n    }\n  };\n\n  return (\n    <Paper variant=\"outlined\">\n      <Backdrop className={classes.backdrop} open={loading}>\n        <CircularProgress color=\"inherit\" />\n      </Backdrop>\n      <SnackBarMessages alert={alert} setAlert={setAlert} />\n      <TableContainer className={classes.container}>\n        <Table stickyHeader>\n          <TableHead>\n            <TableRow>\n              <TableCell>Serie</TableCell>\n              <TableCell>Folio</TableCell>\n              <TableCell>Predeterminado</TableCell>\n              <TableCell padding=\"checkbox\">Eliminar</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {seriesCfdi.map((row, index) => {\n              return (\n                <TableRow hover role=\"checkbox\" tabIndex={-1} key={index}>\n                  <TableCell>{row.serie}</TableCell>\n                  <TableCell>{row.folio}</TableCell>\n                  <TableCell align=\"center\" padding=\"checkbox\">\n                    <Checkbox\n                      checked={row.default}\n                      onChange={(e) => setPredeterminado(e.target.checked, row)}\n                      name=\"checkedA\"\n                    />\n                  </TableCell>\n                  <TableCell align=\"center\" padding=\"checkbox\">\n                    {sesion.accesos.facturacion.registro_series_cdfi.eliminar === false ? (null) : (\n                      <ModalDeleteSerie\n                        row={row}\n                        refetch={refetch}\n                        setAlert={setAlert}\n                      />\n                    )}\n                  </TableCell>\n                </TableRow>\n              );\n            })}\n          </TableBody>\n        </Table>\n      </TableContainer>\n    </Paper>\n  );\n}\n\nconst ModalDeleteSerie = ({ row, refetch, setAlert }) => {\n  const [open, setOpen] = useState(false);\n  const [loading, setLoading] = useState(false);\n\n  const [eliminarSerie] = useMutation(ELIMINAR_SERIE);\n\n  const handleOpen = () => setOpen(true);\n  const handleClose = () => setOpen(false);\n\n  const eliminarSerieBD = async () => {\n    setLoading(true);\n    try {\n      const result = await eliminarSerie({\n        variables: {\n          id: row._id,\n        },\n      });\n      refetch();\n      setLoading(false);\n      handleClose();\n      setAlert({\n        message: `Listo! ${result.data.eliminarSerie.message}`,\n        status: \"success\",\n        open: true,\n      });\n      setLoading(false);\n    } catch (error) {\n      setLoading(false);\n      setAlert({\n        message: `Error: ${error.message}`,\n        status: \"success\",\n        open: true,\n      });\n    }\n  };\n\n  return (\n    <Fragment>\n      <IconButton aria-label=\"delete\" size=\"small\" onClick={() => handleOpen()} disabled={row.default}>\n        <DeleteIcon />\n      </IconButton>\n      <Dialog\n        open={open}\n        onClose={() => handleClose()}\n        TransitionComponent={Transition}\n      >\n        <DialogTitle>Se eliminara esta serie</DialogTitle>\n        <DialogActions style={{ justifyContent: \"center\" }}>\n          <Button startIcon={<Close />} onClick={() => handleClose()}>\n            Cancelar\n          </Button>\n          <Button\n            color=\"secondary\"\n            disabled={loading}\n            startIcon={loading ? <CircularProgress size={20} /> : <Done />}\n            onClick={() => eliminarSerieBD()}\n          >\n            Eliminar\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </Fragment>\n  );\n};\n","import React, { forwardRef, useState } from \"react\";\nimport {\n  AppBar,\n  Box,\n  Button,\n  CircularProgress,\n  Container,\n  Dialog,\n  makeStyles,\n  Slide,\n  Toolbar,\n  Typography,\n} from \"@material-ui/core\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport RegistroSeries from \"./RegistroSeries\";\nimport ListaSeriesCDFI from \"./ListaSeries\";\nimport { useQuery } from \"@apollo/client\";\nimport { OBTENER_SERIES } from \"../../../../gql/Facturacion/Facturacion\";\nimport ErrorPage from \"../../../../components/ErrorPage\";\nconst useStyles = makeStyles((theme) => ({\n  appBar: {\n    position: \"relative\",\n  },\n  title: {\n    marginLeft: theme.spacing(2),\n    flex: 1,\n  },\n  icon: {\n    width: 100,\n  },\n}));\n\nconst Transition = forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function SeriesCDFI() {\n  const sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\n  const classes = useStyles();\n  const [open, setOpen] = useState(false);\n\n  const handleClickOpen = () => {\n    setOpen(!open);\n  };\n\n  return (\n    <div>\n      <Button fullWidth onClick={handleClickOpen}>\n        <Box display=\"flex\" flexDirection=\"column\">\n          <Box\n            display=\"flex\"\n            justifyContent=\"center\"\n            alignItems=\"center\"\n            mb={2}\n          >\n            <img\n              src=\"https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/factura-1.png\"\n              alt=\"icono Factura\"\n              style={{ width: 100 }}\n            />\n          </Box>\n          Registrar Series CFDI\n        </Box>\n      </Button>\n      <Dialog\n        fullScreen\n        open={open}\n        onClose={handleClickOpen}\n        TransitionComponent={Transition}\n      >\n        <AppBar className={classes.appBar}>\n          <Toolbar>\n            <Typography variant=\"h6\" className={classes.title}>\n              Seleccion de Series para CFDI\n            </Typography>\n            <Box m={1}>\n              <Button color=\"secondary\" variant=\"contained\" onClick={handleClickOpen} size=\"large\">\n                <CloseIcon />\n              </Button>\n            </Box>\n          </Toolbar>\n        </AppBar>\n        <ContentSeriesCFDI />\n      </Dialog>\n    </div>\n  );\n}\n\nconst ContentSeriesCFDI = () => {\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n\n  const { loading, data, error, refetch } = useQuery(OBTENER_SERIES, {\n    variables: {\n      sucursal: sesion.sucursal._id,\n      empresa: sesion.empresa._id,\n    },\n    fetchPolicy: \"network-only\",\n  });\n\n  if (loading) {\n    return (\n      <Box\n        display=\"flex\"\n        justifyContent=\"center\"\n        alignItems=\"center\"\n        height=\"30vh\"\n      >\n        <CircularProgress />\n      </Box>\n    );\n  }\n  if (error) {\n    return <ErrorPage error={error} />;\n  }\n\n  const { obtenerSeriesCdfi } = data;\n\n  return (\n    <Container maxWidth=\"md\">\n      <Box my={2}>\n        {sesion.accesos.facturacion.registro_series_cdfi.agregar === false ? (null) : (\n          <RegistroSeries refetch={refetch} />\n        )}\n      </Box>\n      <ListaSeriesCDFI\n        obtenerSeriesCdfi={obtenerSeriesCdfi}\n        refetch={refetch}\n      />\n    </Container>\n  );\n};\n","import React, { Fragment } from \"react\";\nimport { CloudDownloadOutlined } from \"@material-ui/icons\";\nimport { Grid, Button, Box } from \"@material-ui/core\";\nimport ReactExport from \"react-export-excel\";\nimport {\n  formatoFecha,\n  formatoMexico,\n} from \"../../../../config/reuserFunctions\";\n\nconst ExcelFile = ReactExport.ExcelFile;\nconst ExcelSheet = ReactExport.ExcelFile.ExcelSheet;\nconst ExcelColumn = ReactExport.ExcelFile.ExcelColumn;\n\nexport default function ExportarProductosFacturaExcel({ compra }) {\n  const {\n    almacen,\n    proveedor,\n    fecha_registro,\n    subtotal,\n    impuestos,\n    total,\n    productos,\n  } = compra;\n\n  const compra_realizada = [\n    {\n      almacen: almacen.nombre_almacen,\n      proveedor: proveedor.nombre_cliente,\n      fecha_registro: formatoFecha(fecha_registro),\n      subtotal: formatoMexico(subtotal),\n      impuestos: formatoMexico(impuestos),\n      total: formatoMexico(total),\n    },\n  ];\n\n  const productos_detalles = productos.map((productos) => {\n    const {\n      producto,\n      medida,\n      color,\n      unidad,\n      cantidad,\n      Cantidad_regalo,\n      cantidad_total,\n      descuento_precio,\n      descuento_porcentaje,\n      subtotal,\n      impuestos,\n      total,\n    } = productos;\n    const detalle_producto = {\n      producto: producto.datos_generales.nombre_comercial,\n      medida: medida ? medida.medida : \"N/A\",\n      color: color ? color.color : \"N/A\",\n      unidad,\n      cantidad,\n      Cantidad_regalo,\n      cantidad_total,\n      descuento_precio,\n      descuento_porcentaje,\n      subtotal: formatoMexico(subtotal),\n      impuestos: formatoMexico(impuestos),\n      total: formatoMexico(total),\n    };\n\n    return detalle_producto;\n  });\n\n  return (\n    <Fragment>\n      <Grid>\n        <Grid item>\n          <ExcelFile\n            element={\n              <Box display=\"flex\" justifyContent=\"flex-end\">\n                <Button\n                  variant=\"contained\"\n                  color=\"primary\"\n                  startIcon={<CloudDownloadOutlined />}\n                >\n                  Exportar a Excel\n                </Button>\n              </Box>\n            }\n            filename={\"Detalle de compra\"}\n          >\n            <ExcelSheet data={compra_realizada} name=\"Detalle compra\">\n              <ExcelColumn label=\"Almacen\" value=\"almacen\" />\n              <ExcelColumn label=\"Proveedor\" value=\"proveedor\" />\n              <ExcelColumn label=\"Fecha de compra\" value=\"fecha_registro\" />\n              <ExcelColumn label=\"Subtotal\" value=\"subtotal\" />\n              <ExcelColumn label=\"Impuestos\" value=\"impuestos\" />\n              <ExcelColumn label=\"Total\" value=\"total\" />\n            </ExcelSheet>\n            <ExcelSheet data={productos_detalles} name=\"Productos de la compra\">\n              <ExcelColumn label=\"Producto\" value=\"producto\" />\n              <ExcelColumn label=\"Medida\" value=\"medida\" />\n              <ExcelColumn label=\"Color\" value=\"color\" />\n              <ExcelColumn label=\"Unidad\" value=\"unidad\" />\n              <ExcelColumn label=\"Cantidad\" value=\"cantidad\" />\n              <ExcelColumn label=\"Cantidad de regalo\" value=\"cantidad_regalo\" />\n              <ExcelColumn label=\"Cantidad total\" value=\"cantidad_total\" />\n              <ExcelColumn\n                label=\"Precio de descuento\"\n                value=\"descuento_precio\"\n              />\n              <ExcelColumn\n                label=\"Porcentaje de descuento\"\n                value=\"descuento_porcentaje\"\n              />\n              <ExcelColumn label=\"Subtotal\" value=\"subtotal\" />\n              <ExcelColumn label=\"Impuestos\" value=\"impuestos\" />\n              <ExcelColumn label=\"Total\" value=\"total\" />\n            </ExcelSheet>\n          </ExcelFile>\n        </Grid>\n      </Grid>\n    </Fragment>\n  );\n}\n","import React, { Fragment, useEffect, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\n\nimport Box from \"@material-ui/core/Box\";\nimport Chip from \"@material-ui/core/Chip\";\nimport Grid from \"@material-ui/core/Grid\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { useTheme } from \"@material-ui/core\";\nimport SearchOutlinedIcon from \"@material-ui/icons/SearchOutlined\";\nimport { formatoMexico } from \"../../../../config/reuserFunctions\";\nimport ExportarProductosFacturaExcel from \"./ExportarProductosFactura\";\n\nconst useStyles = makeStyles({\n  root: {\n    width: \"100%\",\n  },\n  container: {\n    height: \"50vh\",\n  },\n});\n\nexport default function DatosDeCompra({ compra }) {\n  const classes = useStyles();\n  const theme = useTheme();\n  const { productos } = compra;\n  const [busqueda, setBusqueda] = useState(\"\");\n  const [productosFiltrados, setProductosFiltrados] = useState([]);\n\n  const obtenerBusqueda = (value) => setBusqueda(value);\n\n  useEffect(() => {\n    setProductosFiltrados(\n      productos.filter((datos) => {\n        return datos.producto.datos_generales.nombre_comercial\n          .toLowerCase()\n          .includes(busqueda.toLowerCase());\n      })\n    );\n  }, [busqueda, productos]);\n\n  return (\n    <Fragment>\n      <Box mb={1} display=\"flex\">\n        <Typography style={{ marginRight: 16 }}>\n          <b>Proveedor: </b>\n          {compra.proveedor.nombre_cliente}\n        </Typography>\n        <Typography style={{ marginRight: 16 }}>\n          <b>Almacen: </b>\n          {compra.almacen.nombre_almacen}\n        </Typography>\n        <Typography style={{ marginRight: 16 }}>\n          <b>Subtotal: ${compra.subtotal}</b>\n        </Typography>\n        <Typography style={{ marginRight: 16 }}>\n          <b>Impuestos: ${compra.impuestos}</b>\n        </Typography>\n        <Typography style={{ marginRight: 16 }}>\n          <b>Total: ${compra.total}</b>\n        </Typography>\n      </Box>\n      <Box mb={2} display=\"flex\">\n        <Grid container>\n          <Grid item sm={6} xs={12}>\n            <TextField\n              fullWidth\n              size=\"small\"\n              variant=\"outlined\"\n              placeholder=\"Buscar una compra...\"\n              onChange={(e) => obtenerBusqueda(e.target.value)}\n              InputProps={{\n                startAdornment: (\n                  <InputAdornment position=\"start\">\n                    <SearchOutlinedIcon color=\"action\" />\n                  </InputAdornment>\n                ),\n              }}\n            />\n          </Grid>\n          <Grid item sm={6} xs={12}>\n            <ExportarProductosFacturaExcel compra={compra} />\n          </Grid>\n        </Grid>\n      </Box>\n      <Paper className={classes.root}>\n        <TableContainer className={classes.container}>\n          <Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n            <TableHead>\n              <TableRow>\n                <TableCell>Producto</TableCell>\n                <TableCell>Medida</TableCell>\n                <TableCell>Color</TableCell>\n                <TableCell>Unidad</TableCell>\n                <TableCell>Cantidad</TableCell>\n                <TableCell>C. regalo</TableCell>\n                <TableCell>C. total</TableCell>\n                <TableCell>Descuento</TableCell>\n                <TableCell>Subtotal</TableCell>\n                <TableCell>Impuestos</TableCell>\n                <TableCell>Total</TableCell>\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {productosFiltrados.map((datos, index) => {\n                return (\n                  <TableRow hover tabIndex={-1} key={index}>\n                    <TableCell>\n                      {datos.producto.datos_generales.nombre_comercial}\n                    </TableCell>\n                    <TableCell padding=\"checkbox\">\n                      {datos.medida && datos.medida.medida ? datos.medida.medida : \"N/A\"}\n                    </TableCell>\n                    <TableCell padding=\"checkbox\">\n                      {datos.color && datos.color.hex ? (\n                        <Chip\n                          label={datos.color.color}\n                          size=\"small\"\n                          style={{\n                            backgroundColor: datos.color.hex,\n                            color: theme.palette.getContrastText(\n                              datos.color.hex\n                            ),\n                          }}\n                        />\n                      ) : (\n                        \"N/A\"\n                      )}\n                    </TableCell>\n                    <TableCell>{datos.unidad}</TableCell>\n                    <TableCell>{datos.cantidad}</TableCell>\n                    <TableCell>{datos.cantidad_regalo}</TableCell>\n                    <TableCell>{datos.cantidad_total}</TableCell>\n                    <TableCell>{`$${datos.descuento_precio} - %${datos.descuento_porcentaje}`}</TableCell>\n                    <TableCell>\n                      <b>${formatoMexico(datos.subtotal)}</b>\n                    </TableCell>\n                    <TableCell>\n                      <b>${formatoMexico(datos.impuestos)}</b>\n                    </TableCell>\n                    <TableCell>\n                      <b>${formatoMexico(datos.total)}</b>\n                    </TableCell>\n                  </TableRow>\n                );\n              })}\n            </TableBody>\n          </Table>\n        </TableContainer>\n      </Paper>\n    </Fragment>\n  );\n}\n","import React, { Fragment, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport {\n  Dialog,\n  Typography,\n  Box,\n  Button,\n  IconButton,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n  Slide,\n} from \"@material-ui/core\";\nimport DatosDeCompra from \"./DatosFactura\";\nimport {\n  formatoFecha,\n  formatoMexico,\n} from \"../../../../config/reuserFunctions\";\nimport { AssignmentOutlined, Done } from \"@material-ui/icons\";\n\nconst useStyles = makeStyles({\n  root: {\n    width: \"100%\",\n  },\n  container: {\n    height: \"72vh\",\n  },\n});\n\nexport default function ListaFacturas({ obtenerComprasRealizadas }) {\n  const classes = useStyles();\n\n  return (\n    <Paper className={classes.root} variant=\"outlined\">\n      <TableContainer className={classes.container}>\n        <Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n          <TableHead>\n            <TableRow>\n              <TableCell>Almacen</TableCell>\n              <TableCell>Proveedor</TableCell>\n              <TableCell>Fecha de compra</TableCell>\n              <TableCell>Subtotal</TableCell>\n              <TableCell>Impuestos</TableCell>\n              <TableCell>Total</TableCell>\n              <TableCell>Productos</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {obtenerComprasRealizadas.map((compra, index) => (\n              <RenderRowsCompras key={index} compra={compra} />\n            ))}\n          </TableBody>\n        </Table>\n      </TableContainer>\n    </Paper>\n  );\n}\n\nconst RenderRowsCompras = ({ compra }) => {\n  const {\n    almacen,\n    proveedor,\n    fecha_registro,\n    subtotal,\n    impuestos,\n    total,\n  } = compra;\n\n  return (\n    <TableRow hover tabIndex={-1}>\n      <TableCell>{almacen.nombre_almacen}</TableCell>\n      <TableCell>{proveedor.nombre_cliente}</TableCell>\n      <TableCell>{formatoFecha(fecha_registro)}</TableCell>\n      <TableCell>\n        <b>${formatoMexico(subtotal)}</b>\n      </TableCell>\n      <TableCell>\n        <b>${formatoMexico(impuestos)}</b>\n      </TableCell>\n      <TableCell>\n        <b>${formatoMexico(total)}</b>\n      </TableCell>\n      <TableCell>\n        <DetallesCompra compra={compra} />\n      </TableCell>\n    </TableRow>\n  );\n};\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nconst DetallesCompra = ({ compra }) => {\n  const [open, setOpen] = useState(false);\n\n  const handleOpen = () => {\n    setOpen(!open);\n  };\n  return (\n    <Fragment>\n      <IconButton onClick={() => handleOpen()}>\n        <AssignmentOutlined />\n      </IconButton>\n      <Dialog\n        open={open}\n        onClose={handleOpen}\n        fullWidth\n        maxWidth=\"lg\"\n        TransitionComponent={Transition}\n      >\n        <DialogTitle>\n          <Box display=\"flex\">\n            <Typography variant=\"h6\" style={{ flexGrow: 1 }}>\n              Datos de compra\n            </Typography>\n            <Button\n              variant=\"text\"\n              color=\"primary\"\n              onClick={handleOpen}\n              size=\"large\"\n            >\n              <CloseIcon style={{ fontSize: 30 }} />\n            </Button>\n          </Box>\n        </DialogTitle>\n        <DialogContent>\n          <DatosDeCompra compra={compra} />\n        </DialogContent>\n        <DialogActions>\n          <Button\n            variant=\"text\"\n            color=\"primary\"\n            size=\"large\"\n            startIcon={<Done />}\n            onClick={() => handleOpen()}\n          >\n            Acpetar\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </Fragment>\n  );\n};\n","import React, { Fragment } from \"react\";\nimport { CloudDownloadOutlined } from \"@material-ui/icons\";\nimport { Grid, Button, Box } from \"@material-ui/core\";\nimport ReactExport from \"react-export-excel\";\nimport {\n  formatoFecha,\n  formatoMexico,\n} from \"../../../../config/reuserFunctions\";\n\nconst ExcelFile = ReactExport.ExcelFile;\nconst ExcelSheet = ReactExport.ExcelFile.ExcelSheet;\nconst ExcelColumn = ReactExport.ExcelFile.ExcelColumn;\n\nexport default function ExportarComprasExcel({\n  obtenerComprasRealizadas,\n  filtro,\n  filtroFecha,\n}) {\n  const compras = obtenerComprasRealizadas.map((compra) => {\n    const {\n      almacen,\n      proveedor,\n      fecha_registro,\n      subtotal,\n      impuestos,\n      total,\n    } = compra;\n    const compra_realizada = {\n      almacen: almacen.nombre_almacen,\n      proveedor: proveedor.nombre_cliente,\n      fecha_registro: formatoFecha(fecha_registro),\n      subtotal: formatoMexico(subtotal),\n      impuestos: formatoMexico(impuestos),\n      total: formatoMexico(total),\n    };\n\n    return compra_realizada;\n  });\n\n  let nombre_documento = \"\";\n  if (filtro && filtroFecha.fecha) {\n    nombre_documento = `Lista de compras realizadas desde hace ${filtroFecha.since} y filtradas por ${filtro}`;\n  } else if (filtro && !filtroFecha.fecha) {\n    nombre_documento = `Lista de compras realizadas filtradas por ${filtro}`;\n  } else if (!filtro && filtroFecha.fecha) {\n    nombre_documento = `Lista de compras realizadas desde hace ${filtroFecha.since}`;\n  } else if (!filtro && !filtroFecha.fecha) {\n    nombre_documento = `Lista de compras realizadas`;\n  }\n\n  return (\n    <Fragment>\n      <Grid>\n        <Grid item>\n          <ExcelFile\n            element={\n              <Box display=\"flex\" justifyContent=\"flex-end\">\n                <Button\n                  variant=\"contained\"\n                  color=\"primary\"\n                  startIcon={<CloudDownloadOutlined />}\n                >\n                  Exportar a Excel\n                </Button>\n              </Box>\n            }\n            filename={nombre_documento}\n          >\n            <ExcelSheet data={compras} name={nombre_documento}>\n              <ExcelColumn label=\"Almacen\" value=\"almacen\" />\n              <ExcelColumn label=\"Proveedor\" value=\"proveedor\" />\n              <ExcelColumn label=\"Fecha de compra\" value=\"fecha_registro\" />\n              <ExcelColumn label=\"Subtotal\" value=\"subtotal\" />\n              <ExcelColumn label=\"Impuestos\" value=\"impuestos\" />\n              <ExcelColumn label=\"Total\" value=\"total\" />\n            </ExcelSheet>\n          </ExcelFile>\n        </Grid>\n      </Grid>\n    </Fragment>\n  );\n}\n","import React, { Fragment, useRef, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Box from \"@material-ui/core/Box\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport Container from \"@material-ui/core/Container\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Typography from \"@material-ui/core/Typography\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport Slide from \"@material-ui/core/Slide\";\nimport Chip from \"@material-ui/core/Chip\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Select from \"@material-ui/core/Select\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Grid from \"@material-ui/core/Grid\";\nimport { FcInspection } from \"react-icons/fc\";\nimport ListaCompras from \"./ListaFacturas\";\nimport { useQuery } from \"@apollo/client\";\nimport { OBTENER_COMPRAS_REALIZADAS } from \"../../../../gql/Compras/compras\";\nimport ErrorPage from \"../../../../components/ErrorPage\";\nimport { SearchOutlined } from \"@material-ui/icons\";\nimport moment from \"moment\";\nimport ExportarComprasExcel from \"./ExportarListaFacturasExcel\";\n\nconst useStyles = makeStyles((theme) => ({\n  appBar: {\n    position: \"relative\",\n  },\n  title: {\n    marginLeft: theme.spacing(2),\n    flex: 1,\n  },\n  icon: {\n    fontSize: 100,\n  },\n  formInputFlex: {\n    display: \"flex\",\n    \"& > *\": {\n      margin: `${theme.spacing(1)}px ${theme.spacing(1)}px`,\n    },\n  },\n  formInput: {\n    margin: `${theme.spacing(1)}px ${theme.spacing(2)}px`,\n  },\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function ComprasRealizadas() {\n  const classes = useStyles();\n  const [open, setOpen] = React.useState(false);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  return (\n    <div>\n      <Button fullWidth onClick={handleClickOpen}>\n        <Box display=\"flex\" flexDirection=\"column\">\n          <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n            <Box\n              display=\"flex\"\n              justifyContent=\"center\"\n              alignItems=\"center\"\n              mb={2}\n            >\n              <img\n                src=\"https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/factura-3.png\"\n                alt=\"icono Factura\"\n                style={{ width: 100 }}\n              />\n            </Box>\n          </Box>\n          CFDis realizados\n        </Box>\n      </Button>\n      <Dialog\n        fullScreen\n        open={open}\n        onClose={handleClose}\n        TransitionComponent={Transition}\n      >\n        <AppBar className={classes.appBar}>\n          <Toolbar>\n            <Typography variant=\"h6\" className={classes.title}>\n              CFDis realizados\n            </Typography>\n            <Box m={1}>\n              <Button\n                variant=\"contained\"\n                color=\"secondary\"\n                onClick={handleClose}\n                size=\"large\"\n              >\n                <CloseIcon style={{ fontSize: 30 }} />\n              </Button>\n            </Box>\n          </Toolbar>\n        </AppBar>\n        <Container maxWidth=\"xl\">\n          <ContentDialogCompras />\n        </Container>\n      </Dialog>\n    </div>\n  );\n}\n\nconst ContentDialogCompras = () => {\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n  const [filtro, setFiltro] = useState(\"\");\n  const [filtroFecha, setFiltroFecha] = useState({ fecha: \"\", since: \"todos\" });\n  const searchfilter = useRef(null);\n  const filterDate = useRef(null);\n\n  /* Queries */\n  const { loading, data, error, refetch } = useQuery(\n    OBTENER_COMPRAS_REALIZADAS,\n    {\n      variables: {\n        empresa: sesion.empresa._id,\n        sucursal: sesion.sucursal._id,\n        fecha: filtroFecha.fecha,\n      },\n      fetchPolicy: \"network-only\",\n    }\n  );\n\n  if (loading)\n    return (\n      <Box\n        display=\"flex\"\n        flexDirection=\"column\"\n        justifyContent=\"center\"\n        alignItems=\"center\"\n        height=\"40vh\"\n      >\n        <CircularProgress />\n        <Typography variant=\"h5\">Cargando</Typography>\n      </Box>\n    );\n  if (error) {\n    return <ErrorPage error={error} altura={300} />;\n  }\n\n  let obtenerComprasRealizadas = [];\n  if (data) obtenerComprasRealizadas = data.obtenerComprasRealizadas;\n\n  const obtenerBusqueda = (e, value) => {\n    e.preventDefault();\n    refetch({ filtro: value, fecha: filtroFecha.fecha });\n    setFiltro(value);\n  };\n\n  const handleDeleteFiltro = () => {\n    refetch({ filtro: \"\", fecha: filtroFecha.fecha });\n    setFiltro(\"\");\n    searchfilter.current.value = \"\";\n  };\n  const handleDeleteFecha = () => {\n    refetch({ filtro, fecha: \"\" });\n    setFiltroFecha({ since: \"todos\", fecha: \"\" });\n    filterDate.current.value = \"todos\";\n  };\n\n  const obtenerFecha = (value) => {\n    switch (value) {\n      case \"7 dias\":\n        setFiltroFecha({\n          since: value,\n          fecha: moment().subtract(7, \"d\").format(),\n        });\n        refetch({ filtro, fecha: moment().subtract(7, \"d\").format() });\n        break;\n      case \"2 semanas\":\n        setFiltroFecha({\n          since: value,\n          fecha: moment().subtract(2, \"w\").format(),\n        });\n        refetch({ filtro, fecha: moment().subtract(2, \"w\").format() });\n        break;\n      case \"1 mes\":\n        setFiltroFecha({\n          since: value,\n          fecha: moment().subtract(1, \"M\").format(),\n        });\n        refetch({ filtro, fecha: moment().subtract(1, \"M\").format() });\n        break;\n      case \"3 meses\":\n        setFiltroFecha({\n          since: value,\n          fecha: moment().subtract(3, \"M\").format(),\n        });\n        refetch({ filtro, fecha: moment().subtract(3, \"M\").format() });\n        break;\n      case \"6 meses\":\n        setFiltroFecha({\n          since: value,\n          fecha: moment().subtract(6, \"M\").format(),\n        });\n        refetch({ filtro, fecha: moment().subtract(6, \"M\").format() });\n        break;\n      case \"8 meses\":\n        setFiltroFecha({\n          since: value,\n          fecha: moment().subtract(8, \"M\").format(),\n        });\n        refetch({ filtro, fecha: moment().subtract(8, \"M\").format() });\n        break;\n      case \"1 ao\":\n        setFiltroFecha({\n          since: value,\n          fecha: moment().subtract(1, \"y\").format(),\n        });\n        refetch({ filtro, fecha: moment().subtract(1, \"y\").format() });\n        break;\n      default:\n        setFiltroFecha({ since: \"todos\", fecha: \"\" });\n        refetch({ filtro, fecha: \"\" });\n        break;\n    }\n  };\n\n  return (\n    <Fragment>\n      <Box my={3}>\n        <Grid container spacing={2}>\n          <Grid item md={4} xs={12}>\n            <form onSubmit={(e) => obtenerBusqueda(e, e.target[0].value)}>\n              <TextField\n                inputRef={searchfilter}\n                fullWidth\n                size=\"small\"\n                variant=\"outlined\"\n                placeholder=\"Buscar una compra...\"\n                InputProps={{\n                  endAdornment: (\n                    <InputAdornment position=\"end\">\n                      <IconButton type=\"submit\" color=\"primary\" size=\"medium\">\n                        <SearchOutlined />\n                      </IconButton>\n                    </InputAdornment>\n                  ),\n                }}\n              />\n            </form>\n          </Grid>\n          <Grid item md={4} xs={12}>\n            <FormControl variant=\"outlined\" fullWidth size=\"small\">\n              <InputLabel id=\"label-select-fecha-filter\">\n                Filtrar desde...\n              </InputLabel>\n              <Select\n                inputRef={filterDate}\n                labelId=\"label-select-fecha-filter\"\n                value={filtroFecha.since}\n                onChange={(e) => obtenerFecha(e.target.value)}\n                label=\"Filtrar desde...\"\n              >\n                <MenuItem value=\"todos\">\n                  <em>Todos los registros</em>\n                </MenuItem>\n                <MenuItem value=\"7 dias\">hace 7 das</MenuItem>\n                <MenuItem value=\"2 semanas\">hace 2 semanas</MenuItem>\n                <MenuItem value=\"1 mes\">hace 1 mes</MenuItem>\n                <MenuItem value=\"3 meses\">hace 3 meses</MenuItem>\n                <MenuItem value=\"6 meses\">hace 6 meses</MenuItem>\n                <MenuItem value=\"8 meses\">hace 8 meses</MenuItem>\n                <MenuItem value=\"1 ao\">hace 1 ao</MenuItem>\n              </Select>\n            </FormControl>\n          </Grid>\n          <Grid item md={4} xs={12}>\n            <ExportarComprasExcel\n              obtenerComprasRealizadas={obtenerComprasRealizadas}\n              filtro={filtro}\n              filtroFecha={filtroFecha}\n            />\n          </Grid>\n        </Grid>\n      </Box>\n      {filtro || filtroFecha.fecha ? (\n        <Box display=\"flex\" mb={1}>\n          <Typography variant=\"h6\">Resultados de:</Typography>\n          <Box mr={1} />\n          {filtro ? (\n            <Chip\n              variant=\"outlined\"\n              size=\"medium\"\n              label={filtro}\n              onDelete={handleDeleteFiltro}\n            />\n          ) : null}\n          <Box mx={1} />\n          {filtroFecha.fecha ? (\n            <Chip\n              variant=\"outlined\"\n              size=\"medium\"\n              label={`Desde hace ${filtroFecha.since}`}\n              onDelete={handleDeleteFecha}\n            />\n          ) : null}\n        </Box>\n      ) : null}\n\n      <ListaCompras obtenerComprasRealizadas={obtenerComprasRealizadas} />\n    </Fragment>\n  );\n};\n","import React from 'react'\n\nimport { Box, Container, Grid } from '@material-ui/core'\n\nimport NuevaFactura from './NuevaFactura/NuevaFactura';\nimport SeriesCDFI from './CFDISeries/SeriesCdfi';\n/* import SellosCDFI from './CFDISellos/SellosCdfi'; */\nimport FacturasRealizadas from './FacturasRealizadas/FacturasRealizadas';\n\nexport default function Facturacion() {\n    const sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\n    return (\n        <div>\n            <Container>\n                <Grid container spacing={2} justify=\"center\">\n                    {sesion.accesos.facturacion.generar_cdfi.ver === false ? (null) : (\n                        <Grid item lg={2}>\n                            <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n                                <NuevaFactura />\n                            </Box>\n                        </Grid>\n                    )}\n                    {sesion.accesos.facturacion.cdfi_realizados.ver === false ? (null) : (\n                        <Grid item lg={2}>\n                            <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n                                <FacturasRealizadas />\n                            </Box>\n                        </Grid>\n                    )}\n                    {/* \n                    <Grid item lg={2}>\n                        <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n                            <SellosCDFI />\n                        </Box>\n                    </Grid> */}\n                    {sesion.accesos.facturacion.registro_series_cdfi.ver === false ? (null) : (\n                        <Grid item lg={2}>\n                            <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n                                <SeriesCDFI />\n                            </Box>\n                        </Grid>\n                    )}\n                    \n                </Grid>\n            </Container>\n        </div>\n    )\n}\n","import React, { useEffect, useContext } from 'react'\nimport { \n    Paper, \n    makeStyles, \n    Table, \n    TableBody, \n    TableCell, \n    TableContainer, \n    TableHead, \n    TableRow, \n    CircularProgress,\n    Box,\n    Typography,\n\tIconButton,\n\tTablePagination\n} from '@material-ui/core/';\nimport { Delete } from '@material-ui/icons';\nimport ErrorPage from '../../../../components/ErrorPage'\n\n\nimport { useQuery } from '@apollo/client';\nimport { OBTENER_ALMACENES } from '../../../../gql/Almacenes/Almacen';\nimport ContainerRegistroAlmacen from './ContainerRegistroAlmacen';\nimport { CrearAlmacenContext } from '../../../../context/Almacenes/crearAlmacen';\n\nconst useStyles = makeStyles({\n    table: {\n      minWidth: 650,\n    },\n\troot: {\n\t\twidth: '100%'\n\t}\n  });\n\n  const columns = [\n\t{ id: 1, label: 'Nombre', minWidth: 100 },\n\t{ id: 2, label: 'Encargado', minWidth: 100 },\n\t{ id: 3, label: 'Sucursal', minWidth: 150 },\n\t{ id: 4, label: 'Calle', minWidth: 150 },\n\t{ id: 5, label: 'No. exterior', minWidth: 150 },\n\t{ id: 6, label: 'No. interior', minWidth: 100 },\n\t{ id: 7, label: 'Codigo postal', minWidth: 100 },\n\t{ id: 8, label: 'Colonia', minWidth: 100 },\n\t{ id: 9, label: 'Municipio', minWidth: 50, align: 'right' },\n\t{ id: 10, label: 'Localidad', minWidth: 50, align: 'right' },\n\t{ id: 11, label: 'Estado', minWidth: 50, align: 'right' },\n\t{ id: 12, label: 'Pais', minWidth: 50, align: 'right' },\n\t{ id: 13, label: 'Editar', minWidth: 50, align: 'right' },\n\t{ id: 14, label: 'Eliminar', minWidth: 50, align: 'right' }\n];\n\nexport default function ListaAlmacen() {\n\n    const classes = useStyles();\n\tconst [ page, setPage ] = React.useState(0);\n\tconst [ rowsPerPage, setRowsPerPage ] = React.useState(10);\n\tconst { update } = useContext(CrearAlmacenContext);\n    const sesion = JSON.parse(localStorage.getItem('sesionCafi'));\t\n\t/* Queries */\n\tconst { loading, data, error, refetch } = useQuery(OBTENER_ALMACENES,{\n\t\tvariables: {\n\t\t\tid: sesion.sucursal._id\n\t\t}\n\t});\t\n\t\n\tuseEffect(\n\t\t() => {\n\t\t\trefetch();\n\t\t},\n\t\t[ update, refetch ]\n\t);\n\n\tconst handleChangePage = (event, newPage) => {\n\t\tsetPage(newPage);\n\t};\n\n\tconst handleChangeRowsPerPage = (event) => {\n\t\tsetRowsPerPage(+event.target.value);\n\t\tsetPage(0);\n\t};\n\n\tif (loading)\n\t\treturn (\n\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" height=\"30vh\">\n\t\t\t\t<CircularProgress />\n\t\t\t</Box>\n\t\t);\n\tif (error) {\n\t\treturn <ErrorPage error={error} />;\n\t}\n\n\tconst { obtenerAlmacenes } = data;\n\n    // const classes = useStyles();\n\n    return (\n\t\t<Paper className={classes.root}>\n\t\t\t<TableContainer component={Paper}>\n\t\t\t\t<Table className={classes.table} aria-label=\"simple table\">\n\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t{columns.map((column) => (\n\t\t\t\t\t\t\t\t<TableCell key={column.id} align={column.align}>\n\t\t\t\t\t\t\t\t\t{column.label}\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t</TableHead>\n\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t{obtenerAlmacenes\n\t\t\t\t\t\t\t?.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\n\t\t\t\t\t\t\t?.map((row, index) => {\n\t\t\t\t\t\t\t\treturn <RowsRender key={index} datos={row} />;\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t</TableBody>\n\t\t\t\t</Table>\n\t\t\t</TableContainer>\n\t\t\t<TablePagination\n\t\t\t\trowsPerPageOptions={[]}\n\t\t\t\tcomponent=\"div\"\n\t\t\t\tcount={obtenerAlmacenes.length}\n\t\t\t\trowsPerPage={rowsPerPage}\n\t\t\t\tpage={page}\n\t\t\t\tonChangePage={handleChangePage}\n\t\t\t\tonChangeRowsPerPage={handleChangeRowsPerPage}\n\t\t\t/>\n\t\t</Paper>\n    )\n}\n\nconst RowsRender = ({ datos }) => {\n    const sesion = JSON.parse(localStorage.getItem('sesionCafi'));\t\n\n\treturn (\n\t\t<TableRow hover role=\"checkbox\" tabIndex={-1}>\n\t\t\t<TableCell>\n\t\t\t\t<Typography>{datos.nombre_almacen}</Typography>\n\t\t\t</TableCell>\n\t\t\t<TableCell>\n\t\t\t\t<Typography>{!datos.id_usuario_encargado ? \"Sin encargado\" : datos.id_usuario_encargado.nombre}</Typography>\n\t\t\t</TableCell>\n\t\t\t<TableCell>\n\t\t\t\t<Typography>{datos.id_sucursal.nombre_sucursal}</Typography>\n\t\t\t</TableCell>\n\t\t\t<TableCell>\n\t\t\t\t<Typography>{datos.direccion.calle ? datos.direccion.calle : \"\"}</Typography>\n\t\t\t</TableCell>\n\t\t\t<TableCell>\n\t\t\t\t<Typography>{datos.direccion.no_ext ? datos.direccion.no_ext : \"\"}</Typography>\n\t\t\t</TableCell>\n\t\t\t<TableCell>\n\t\t\t\t<Typography>{datos.direccion.no_int ? datos.direccion.no_int : \"\"}</Typography>\n\t\t\t</TableCell>\n\t\t\t<TableCell>\n\t\t\t\t<Typography>{datos.direccion.codigo_postal ? datos.direccion.codigo_postal : \"\"}</Typography>\n\t\t\t</TableCell>\n\t\t\t<TableCell>\n\t\t\t\t<Typography>{datos.direccion.colonia ? datos.direccion.colonia : \"\"}</Typography>\n\t\t\t</TableCell>\n\t\t\t<TableCell>\n\t\t\t\t<Typography>{datos.direccion.municipio ? datos.direccion.municipio : \"\"}</Typography>\n\t\t\t</TableCell>\n\t\t\t<TableCell>\n\t\t\t\t<Typography>{datos.direccion.localidad ? datos.direccion.localidad : \"\"}</Typography>\n\t\t\t</TableCell>\n\t\t\t<TableCell>\n\t\t\t\t<Typography>{datos.direccion.estado ? datos.direccion.estado : \"\"}</Typography>\n\t\t\t</TableCell>\n\t\t\t<TableCell>\n\t\t\t\t<Typography>{datos.direccion.pais ? datos.direccion.pais : \"\"}</Typography>\n\t\t\t</TableCell>\n\t\t\t<TableCell width={50}>\n\t\t\t\t{sesion.accesos.almacenes.almacen.editar === false ? (null):(\n\t\t\t\t\t<ContainerRegistroAlmacen accion=\"actualizar\" datos={datos} />\n\t\t\t\t)}\n\t\t\t</TableCell>\n\t\t\t<TableCell width={50}>\n\t\t\t\t{sesion.accesos.almacenes.almacen.eliminar === false ? (null):(\n\t\t\t\t\t<IconButton color=\"secondary\">\n\t\t\t\t\t\t<Delete />\n\t\t\t\t\t</IconButton>\n\t\t\t\t)}\n\t\t\t</TableCell>\n\t\t\t{/* <TableCell width={50}>\n\t\t\t\t<ModalDetalles openDetalles={openDetalles} handleDetalles={handleDetalles} datos={datos} />\n\t\t\t</TableCell>\n\t\t\t<TableCell width={50}>\n\t\t\t\t<CrearCliente tipo=\"CLIENTE\" accion=\"actualizar\" datos={datos} />\n\t\t\t</TableCell>\n\t\t\t<TableCell width={50}>\n\t\t\t\t<IconButton color=\"secondary\">\n\t\t\t\t\t<Delete />\n\t\t\t\t</IconButton>\n\t\t\t</TableCell> */}\n\t\t</TableRow>\n\t);\n};\n","import React, { forwardRef } from 'react';\nimport { AppBar, Toolbar, Typography, Slide, Button, Box, Dialog } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { FcPlus } from 'react-icons/fc';\nimport ContainerRegistroAlmacen from './ContainerRegistroAlmacen';\nimport ListaAlmacen from './ListaAlmacen';\nimport { AlmacenProvider } from '../../../../context/Almacenes/crearAlmacen';\nimport CloseIcon from '@material-ui/icons/Close';\nconst useStyles = makeStyles((theme) => ({\n\tappBar: {\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n    icon: {\n\t\tfontSize: 100\n\t}\n}));\n\nconst Transition = forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function RegistroAlmacen() {\n    const classes = useStyles();\n\tconst [ open, setOpen ] = React.useState(false);\n\tconst sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\n\tconst handleClickOpen = () => {\n\t\tsetOpen(true);\n\t};\n\n\tconst handleClose = () => {\n\t\tsetOpen(false);\n\t};\n\n    return (\n        <div>\n\t\t\t<AlmacenProvider>\n\t\t\t\t<Button fullWidth onClick={handleClickOpen}>\n\t\t\t\t\t<Box display=\"flex\" flexDirection=\"column\">\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t<FcPlus className={classes.icon} />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\tAgregar almacen\n\t\t\t\t\t</Box>\n\t\t\t\t</Button>\n\t\t\t\t<Dialog fullScreen open={open} onClose={handleClose} TransitionComponent={Transition}>\n\t\t\t\t\t<AppBar className={classes.appBar}>\n\t\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t\t<Typography variant=\"h6\" className={classes.title}>\n\t\t\t\t\t\t\t\t\tAgregar almacen\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Box m={1}>\n\t\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"secondary\" onClick={handleClose} size=\"large\">\n\t\t\t\t\t\t\t\t\t<CloseIcon style={{fontSize: 30}} />\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Toolbar>\n\t\t\t\t\t</AppBar>\n\t\t\t\t\t\t<Box m={3} display=\"flex\" justifyContent=\"flex-end\">\n\t\t\t\t\t\t\t{sesion.accesos.almacenes.almacen.agregar === false ? (null):(\n\t\t\t\t\t\t\t\t<ContainerRegistroAlmacen accion=\"registrar\" />\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t<Box mx={4}>\n\t\t\t\t\t\t<ListaAlmacen />\n\t\t\t\t\t</Box>\n\t\t\t\t</Dialog>\n\t\t\t</AlmacenProvider>\n        </div>\n    )\n}\n","export default __webpack_public_path__ + \"static/media/almacen.31993015.svg\";","import React, { createContext, useState, useEffect, } from 'react';\n\nexport const TraspasosAlmacenContext = createContext();\n\nexport const TraspasosProvider = ({ children }) => {\n\n\n    const [ update, setUpdate ] = useState(false);\n    const [ error, setError ] = useState(false);\n    const [ openRegistro, setOpenRegistro ] = useState(false);\n    const [ productos, setProductos ] = useState([]);\n    const [ productosTo, setProductosTo ] = useState([]);\n     const [ productosEmpTo, setProductosEmpTo ] = useState([]);\n    const [ productosTras, setProductosTras ] = useState([]);\n    const [ dataExcel, setDataExcel ] = useState([]);\n\n\treturn (\n\t\t<TraspasosAlmacenContext.Provider value={\n            { \n                \n                update,\n                setUpdate,\n                error,\n                setError,\n                openRegistro,\n                setOpenRegistro,\n                productos,\n                setProductos,\n                productosTras,\n                setProductosTras,\n                productosTo,\n                setProductosTo,\n                productosEmpTo, \n                setProductosEmpTo,\n                dataExcel,\n                setDataExcel\n                \n            }\n        }>\n\t\t\t{children}\n\t\t</TraspasosAlmacenContext.Provider>\n\t);\n};\n","import React, {\n  Fragment,\n  useRef,\n  useState,\n} from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Input from \"@material-ui/core/Input\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Checkbox from \"@material-ui/core/Checkbox\";\n//import { RegProductoContext } from \"../../../../../context/Catalogos/CtxRegProducto\";\nimport {\n  Box,\n  Chip,\n  IconButton,\n  Tooltip,\n  Zoom,\n} from \"@material-ui/core\";\nimport {\n  Cached,\n  Close,\n  Edit\n} from \"@material-ui/icons\";\nimport { fade } from \"@material-ui/core/styles/colorManipulator\";\n\nconst compareFunction = (a, b) => {\n  if (a.medida.talla && b.medida.talla) {\n    return a.medida.talla.localeCompare(b.medida.talla);\n  }\n};\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: \"100%\",\n  },\n  paper: {\n    width: \"100%\",\n    marginBottom: theme.spacing(2),\n  },\n  table: {\n    minWidth: 750,\n  },\n  container: {\n    \n  },\n  tableRow: {\n    \"&.Mui-selected, &.Mui-selected:hover\": {\n      backgroundColor: fade(theme.palette.primary.main, 0.1),\n    },\n  },\n  visuallyHidden: {\n    border: 0,\n    clip: \"rect(0 0 0 0)\",\n    height: 1,\n    margin: -1,\n    overflow: \"hidden\",\n    padding: 0,\n    position: \"absolute\",\n    top: 20,\n    width: 1,\n  },\n  colorContainer: {\n    border: \"1px solid rgba(0,0,0, .3)\",\n    height: 30,\n    width: 30,\n    borderRadius: \"15%\",\n  },\n}));\n\nexport default function TablaPresentaciones({\n  datos,\n  setOnUpdate,\n  onUpdate,\n  setNew_medidas\n}) {\n  \n  const classes = useStyles();\n  //const { presentaciones, setPresentaciones } = useContext([]);\n //let mostrar_presentaciones = [];\n   let mostrar_presentaciones = [...datos].sort((a, b) =>\n    compareFunction(a, b)\n  ); \n\n  return (\n    <div className={classes.root}>\n      <Paper className={classes.paper}>\n        <TableContainer className={classes.container}>\n          <Table\n            className={classes.table}\n            aria-labelledby=\"tableTitle\"\n            size=\"small\"\n            aria-label=\"enhanced table\"\n            stickyHeader\n          >\n            <TableHead>\n              <TableRow>\n                <TableCell>Existencia</TableCell>\n                <TableCell>Cdigo de barras</TableCell>\n                <TableCell width={200}>Nombre</TableCell>\n                <TableCell padding=\"checkbox\">Medida</TableCell>\n                <TableCell padding=\"checkbox\">Color</TableCell>\n                <TableCell padding=\"checkbox\">Precio</TableCell>\n                {/* <TableCell padding=\"checkbox\">Descuento</TableCell> */}\n                {/* {!onlyPrice ? (\n                  <Fragment>\n                    <TableCell padding=\"checkbox\">Cantidad</TableCell>\n                  </Fragment>\n                ) : null} */}\n                <Fragment>\n                  <TableCell padding=\"checkbox\">Cantidad</TableCell>\n                </Fragment>\n                <TableCell padding=\"checkbox\">Editar</TableCell>\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {mostrar_presentaciones.map((producto, index) => {\n                return (\n                  <RenderPresentacionesRows\n                    key={index}\n                    producto={producto}\n                    index={index}\n                    datos={datos}\n                    setNew_medidas={setNew_medidas} \n                    setOnUpdate={setOnUpdate}\n                    onUpdate={onUpdate}\n                  />\n                );\n              })}\n            </TableBody>\n          </Table>\n        </TableContainer>\n      </Paper>\n    </div>\n  );\n}\n\nconst RenderPresentacionesRows = ({\n  producto,\n  index,\n  datos,\n  setNew_medidas,\n  from,\n  setOnUpdate,\n  onUpdate,\n  withoutPrice,\n  onlyPrice,\n}) => {\n  /* const { presentaciones, setPresentaciones, preciosP } = useContext(\n    RegProductoContext\n  ); */\n  const [disabledInput, setDisabledInput] = useState(true);\n  const classes = useStyles();\n  const textfield = useRef(null);\n\n  const copy_presentaciones = [...datos].sort((a, b) =>\n    compareFunction(a, b)\n  ); \n  const copy_element_presentacion = { ...copy_presentaciones[index] };\n  //const copy_element_presentacion = {  };\n  //const copy_element_presentacion_descuento = { ...copy_presentaciones[index].descuento };\n  const copy_element_presentacion_descuento = { };\n  const copy_producto = { ...producto };\n\n  /* if(from && from === 'compra'){\n\t\tcopy_producto.cantidad_nueva = 0\n\t} */\n\n  const handleEditCancel = () => {\n    if (!copy_producto.medida.cantidad) {\n      copy_element_presentacion.medida.cantidad = 0;\n    }\n    if (!copy_producto.nuevaCantidad) {\n      copy_element_presentacion.nuevaCantidad = 0;\n    }\n    if (!copy_producto.precio) {\n      copy_element_presentacion.precio = copy_producto.precio;\n      //copy_element_presentacion.medida.precio = 0;\n    }\n     copy_presentaciones.splice(index, 1, copy_element_presentacion);\n    setNew_medidas(copy_presentaciones); \n    setDisabledInput(true);\n  };\n\n  const obtenerDatos = (e) => {\n    const { name, value } = e.target;\n    if (name === \"cantidad\") {\n      if (!value) {\n        copy_element_presentacion.medida.cantidad = \"\";\n        copy_element_presentacion.medida.existencia = false;\n        copy_presentaciones.splice(index, 1, copy_element_presentacion);\n        setNew_medidas(setNew_medidas); \n        return;\n      }\n      copy_element_presentacion.medida.cantidad = parseFloat(value);\n      copy_element_presentacion.medida.existencia = true;\n    } else if (name === \"nuevaCantidad\") {\n      if (!value) {\n        copy_element_presentacion.nuevaCantidad = \"\";\n        copy_element_presentacion.medida.existencia = copy_producto.medida.existencia;\n        copy_presentaciones.splice(index, 1, copy_element_presentacion);\n        setNew_medidas(copy_presentaciones); \n        return;\n      }\n      copy_element_presentacion.nuevaCantidad = parseFloat(value);\n      copy_element_presentacion.medida.existencia = true;\n    } else if (name === \"precio\") {\n      if (!value) {\n        copy_element_presentacion.medida.precio = 0;\n        copy_presentaciones.splice(index, 1, copy_element_presentacion);\n        setNew_medidas(copy_presentaciones);\n        return;\n      }\n      if(copy_element_presentacion.medida.descuento_activo && copy_element_presentacion.medida.descuento_activo === true){\n        let precio_con_descuento = Math.round(\n          (value * copy_element_presentacion.medida.descuento.porciento) / 100\n        );\n        copy_element_presentacion_descuento.medida.precio_con_descuento = parseFloat(precio_con_descuento);\n        copy_element_presentacion.medida.precio = parseFloat(value);\n        copy_element_presentacion.medida.descuento = copy_element_presentacion_descuento\n      }else{\n        copy_element_presentacion.medida.precio = parseFloat(value);\n      }\n    } \n      else if (name === \"descuento\") {\n      /* if (!value) {\n        copy_element_presentacion.medida.precio = 0;\n        copy_presentaciones.splice(index, 1, copy_element_presentacion);\n        setNew_medidas(copy_presentaciones);\n        return;\n      }\n      if(copy_element_presentacion.medida.descuento_activo && copy_element_presentacion.medida.descuento_activo === true){\n        let precio_con_descuento = Math.round(\n          (value * copy_element_presentacion.medida.descuento.porciento) / 100\n        );\n        copy_element_presentacion_descuento.medida.precio_con_descuento = parseFloat(precio_con_descuento);\n        copy_element_presentacion.medida.precio = parseFloat(value);\n        copy_element_presentacion.medida.descuento = copy_element_presentacion_descuento\n      }else{\n        copy_element_presentacion.medida.precio = parseFloat(value);\n      } */\n       copy_element_presentacion.medida.descuento = value;\n         \n    }\n    else {\n      if (!value) {\n        copy_element_presentacion.medida.codigo_barras = \"\";\n        copy_presentaciones.splice(index, 1, copy_element_presentacion);\n        setNew_medidas(copy_presentaciones); \n        return;\n      }\n      copy_element_presentacion.medida.codigo_barras = value;\n    }\n     copy_presentaciones.splice(index, 1, copy_element_presentacion);\n    setNew_medidas(copy_presentaciones); \n  };\n\n  const GenCodigoBarras = () => {\n    const max = 999999999999;\n    const min = 100000000000;\n    const codigo_barras = Math.floor(\n      Math.random() * (max - min + 1) + min\n    ).toString();\n    copy_element_presentacion.medida.codigo_barras = codigo_barras;\n/*     copy_presentaciones.splice(index, 1, copy_element_presentacion);\n    setPresentaciones(copy_presentaciones); */\n  };\n\n  const actionButton = () => {\n    if (!disabledInput) {\n      handleEditCancel();\n      /* quitar del array\t */\n      onUpdate.splice(onUpdate.length - 1, 1);\n      setOnUpdate([...onUpdate]);\n    } else {\n      setDisabledInput(!disabledInput);\n      /*  agregar al array */\n      setOnUpdate([...onUpdate, index]);\n    }\n  };\n\n /*  const aplicarDescuento = (value) => {\n    copy_element_presentacion.medida.descuento_activo = value;\n/*     copy_presentaciones.splice(index, 1, copy_element_presentacion);\n    setPresentaciones(copy_presentaciones); \n  }; */\n\n  return (\n    <TableRow hover selected={!disabledInput} className={classes.tableRow}>\n      <TableCell align=\"center\" padding=\"checkbox\">\n        <Checkbox checked={copy_producto.medida.existencia} color=\"primary\" />\n      </TableCell>\n      <TableCell width={220}>\n        <Box display=\"flex\">\n          <Input\n            inputRef={textfield}\n            onChange={(e) => obtenerDatos(e)}\n            /* disabled={disabledInput} */\n            value={copy_producto.medida.codigo_barras}\n            type=\"number\"\n            name=\"codigo_barras\"\n            disabled={\n              datos.medidas_registradas && !copy_producto.medida.nuevo\n                ? true\n                : disabledInput\n            }\n          />\n          {!datos.medidas_registradas && copy_producto.medida.nuevo ? (\n            <IconButton\n              color=\"primary\"\n              size=\"small\"\n              onClick={() => GenCodigoBarras()}\n            >\n              <Cached />\n            </IconButton>\n          ) : datos.medidas_registradas && copy_producto.medida.nuevo ? (\n            <IconButton\n              color=\"primary\"\n              size=\"small\"\n              onClick={() => GenCodigoBarras()}\n            >\n              <Cached />\n            </IconButton>\n          ) : null}\n        </Box>\n      </TableCell>\n      <TableCell width={200}>{copy_producto.medida.nombre_comercial}</TableCell>\n      <TableCell padding=\"checkbox\">\n        {copy_producto.medida.medida._id ? (\n          <Chip label={copy_producto.medida.medida.talla} color=\"primary\" />\n        ) : (\n          \"\"\n        )}\n      </TableCell>\n      <TableCell padding=\"checkbox\">\n        {copy_producto.medida.color._id ? (\n          <Tooltip\n            title={copy_producto.medida.color.nombre}\n            placement=\"top\"\n            arrow\n            TransitionComponent={Zoom}\n          >\n            <div\n              className={classes.colorContainer}\n              style={{\n                backgroundColor: copy_producto.medida.color.hex,\n              }}\n            />\n          </Tooltip>\n        ) : null}\n      </TableCell>\n     \n\n         <Fragment>\n            <TableCell width={110}>\n              <Input\n                inputRef={textfield}\n                inputMode=\"numeric\"\n                type=\"number\"\n                onChange={(e) => obtenerDatos(e)}\n                disabled={disabledInput}\n                value={copy_producto.medida.precio}\n               \n                name=\"precio\"\n              />\n              \n            </TableCell>\n           {/*  <TableCell>\n              <Input\n                inputRef={textfield}\n                onChange={(e) => obtenerDatos(e)}\n                disabled={disabledInput}\n                value={copy_producto.medida.descuento}\n                type=\"tel\"\n                name=\"descuento\"\n              />\n            </TableCell> */}\n            <TableCell padding=\"checkbox\">\n              <Input\n                inputRef={textfield}\n                onChange={(e) => obtenerDatos(e)}\n                disabled={disabledInput}\n                value={copy_producto.nuevaCantidad}\n                type=\"tel\"\n                name=\"nuevaCantidad\"\n              />\n            </TableCell>\n          </Fragment>\n     \n      <TableCell padding=\"checkbox\">\n        <IconButton size=\"small\" onClick={() => actionButton()}>\n          {!disabledInput ? <Close /> : <Edit />}\n        </IconButton>\n      </TableCell>\n    </TableRow>\n  );\n};\n","import React, {\n  useState,\n  useEffect,\n  useCallback,\n} from \"react\";\nimport {\n  Typography,\n  Tooltip,\n  Slide\n} from \"@material-ui/core\";\n\n\nimport { Box, Grid } from \"@material-ui/core\";\nimport { makeStyles, useTheme } from \"@material-ui/core\";\nimport Zoom from \"@material-ui/core/Zoom\";\nimport { Done } from \"@material-ui/icons\";\nimport TablaPresentacionesNotOrigen from \"./TablePresentacionesNotOrigen\";\n\n\nimport CrearColorProducto from \"../../pages/sucursales/Catalogos/Producto/TallasColores/crearColor\";\nimport CrearTallasProducto from \"../../pages/sucursales/Catalogos/Producto/TallasColores/crearTalla\";\n\nconst useStyles = makeStyles((theme) => ({\n  colorContainer: {\n    border: \"1px solid rgba(0,0,0, .3)\",\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    height: 50,\n    width: 50,\n    margin: 1,\n    borderRadius: \"15%\",\n    cursor: \"pointer\",\n    \n  },\n}));\n\nconst GenCodigoBarras = () => {\n  return Math.floor(\n    Math.random() * (999999999999 - 100000000000 + 1) + 100000000000\n  ).toString();\n};\n\n\nexport default function ColoresTallas({\n  producto,\n  new_medidas,\n  setNew_medidas,\n  obtenerConsultasProducto,\n  refetch\n}) {\n\n    const [medidasSeleccionadas, setMedidasSeleccionadas] = useState([]);\n    const [coloresSeleccionados, setColoresSeleccionados] = useState([]);\n    /* const medidas =\n    producto.datos_generales.tipo_producto === \"ROPA\" ? [...obtenerConsultasProducto.tallas] : [...obtenerConsultasProducto.calzados]; */ \n    const [onUpdate, setOnUpdate] = useState([]);\n //console.log(data.obtenerConsultasProducto)\n  const obtenerColoresSeleccinados = useCallback(() => {\n    let colors = [];\n    let medidas = [];\n    \n    const copy_presentaciones =  [...new_medidas ];\n    \n \n//const copy_presentaciones = [];\n    /* Queries */\n \n    copy_presentaciones.forEach((element) => {\n   //console.log('obtenerColoresSeleccinados', element)\n      if (element.medida.color._id) colors.push(element.medida.color);\n      if (element.medida.medida._id) medidas.push(element.medida.medida);\n    });\n\n    var hashColor = {};\n    var hashMedida = {};\n    const colores_existentes = colors.filter((color) => {\n      var existColor = !hashColor[color._id];\n      hashColor[color._id] = true;\n      return existColor;\n    });\n    const medidas_existentes = medidas.filter((medida) => {\n      var existMedida = !hashMedida[medida._id];\n      hashMedida[medida._id] = true;\n      return existMedida;\n    });\n    //console.log('colores_existentes', colores_existentes, 'medidas_existentes', medidas_existentes)\n    setColoresSeleccionados([...colores_existentes]);\n    setMedidasSeleccionadas([...medidas_existentes]);\n   \n    \n  }, [new_medidas,setColoresSeleccionados, setMedidasSeleccionadas]);\n\n \n\n  useEffect(() => {\n    obtenerColoresSeleccinados();\n  }, [obtenerColoresSeleccinados]);\n\n  return (\n     <div>\n       <Box alignContent='center' m={5} >\n        <Grid container spacing={4}>\n         {/*  {!datos.medidas_registradas ? (\n            <Grid item md={4}>\n              <Box width=\"100%\">\n                <Typography>Almacen</Typography>\n                <Box display=\"flex\">\n                  <FormControl\n                    disabled={presentaciones.length === 0 || from === \"compra\"}\n                    variant=\"outlined\"\n                    fullWidth\n                    size=\"small\"\n                    name=\"almacen\"\n                    error={\n                      presentaciones.length > 0 && !almacen_inicial.almacen\n                    }\n                  >\n                    \n                    {presentaciones.length > 0  ? (\n                      <FormLabel>* Campo obligatorio</FormLabel>\n                    ) : null}\n                  </FormControl>\n            \n                </Box>\n              </Box>\n            </Grid>\n          ) : null} */}\n\n          <Grid item md={6}>\n            <Box\n              width=\"100%\"\n              style={\n                onUpdate.length > 0\n                  ? {\n                      pointerEvents: \"none\",\n                      opacity: 0.4,\n                    }\n                  : null\n              }\n            >\n              <Box display=\"flex\" alignItems=\"center\">\n                <Typography>\n                  {producto.datos_generales.tipo_producto === \"ROPA\"\n                    ? \"Talla\"\n                    : \"Nmero\"}\n                </Typography>\n                <Box mx={1} />\n                <CrearTallasProducto\n                  setMedidasSeleccionadas={setMedidasSeleccionadas}\n                  refetch={refetch}\n                />\n              </Box>\n              { (producto.datos_generales.tipo_producto === \"ROPA\") ? \n                  (obtenerConsultasProducto.tallas  !== undefined) ? \n                    <Grid container >\n                        {obtenerConsultasProducto.tallas.map((talla, index) => (\n                        <RenderTallas\n                            producto={producto}\n                            key={index}\n                            talla={talla}\n                            coloresSeleccionados={coloresSeleccionados}\n                            medidasSeleccionadas={medidasSeleccionadas}\n                            setMedidasSeleccionadas={setMedidasSeleccionadas}\n                            datos={new_medidas}\n                            setNew_medidas={setNew_medidas}\n                        />\n                        ))}\n                    </Grid>\n                  :\n                  <div/>\n                :\n                   (obtenerConsultasProducto.calzados  !== undefined) ? \n                      <Grid container >\n                        {obtenerConsultasProducto.calzados.map((talla, index) => (\n                        <RenderTallas\n                            producto={producto}\n                            key={index}\n                            talla={talla}\n                            coloresSeleccionados={coloresSeleccionados}\n                            medidasSeleccionadas={medidasSeleccionadas}\n                            setMedidasSeleccionadas={setMedidasSeleccionadas}\n                            datos={new_medidas}\n                            setNew_medidas={setNew_medidas}\n                        />\n                        ))}\n                    </Grid>\n                    :\n                    <div/>\n              }\n              \n            </Box>\n          </Grid>\n          <Grid item md={6}>\n            <Box\n              width=\"100%\"\n              style={\n                onUpdate.length > 0\n                  ? {\n                      pointerEvents: \"none\",\n                      opacity: 0.4,\n                    }\n                  : null\n              }\n            >\n              <Box display=\"flex\" alignItems=\"center\">\n                <Typography>Color</Typography>\n                <Box mx={1} />\n                <CrearColorProducto refetch={refetch} />\n              </Box>\n            {\n            (obtenerConsultasProducto.colores !== undefined) ? \n              <Grid container>\n                {obtenerConsultasProducto.colores.map((color, index) => (\n                  <Colores\n                    producto={producto}\n                    key={index}\n                    color={color}\n                    coloresSeleccionados={coloresSeleccionados}\n                    setColoresSeleccionados={setColoresSeleccionados}\n                    medidasSeleccionadas={medidasSeleccionadas}\n                    datos={new_medidas}\n                    setNew_medidas={setNew_medidas}\n                  />\n                ))}\n              </Grid>\n            :\n            <div/>\n            }  \n            </Box>\n          </Grid>\n        </Grid>\n        <Box mt={2} />\n        <TablaPresentacionesNotOrigen\n          datos={new_medidas}\n          setOnUpdate={setOnUpdate}\n          onUpdate={onUpdate}\n          setNew_medidas={setNew_medidas}\n        />\n      </Box>\n    </div>\n  );\n}\n\nconst RenderTallas = ({\n  producto,\n  talla,\n  coloresSeleccionados,\n  setMedidasSeleccionadas,\n  medidasSeleccionadas,\n  setNew_medidas,\n  datos,\n}) => {\n  const classes = useStyles();\n  const theme = useTheme();\n /*  const {\n    setPresentaciones,\n    presentaciones,\n    datos_generales,\n    preciosP,\n    presentaciones_eliminadas,\n    setPresentacionesEliminadas,\n  } = useContext(RegProductoContext); */\n  const [selected, setSelected] = useState(false);\n\n  const seleccionarMedidas = useCallback(() => {\n    medidasSeleccionadas.forEach((res) => {\n      if (res._id === talla._id) setSelected(true);\n    });\n  }, [talla._id, medidasSeleccionadas]);\n\n   useEffect(() => {\n    if (datos) {\n      return seleccionarMedidas();\n    }\n  }, [datos, seleccionarMedidas]); \n\n  const handleAddTallas = (value) => {\n    const medidas_seleccionadas_temp = [...medidasSeleccionadas];\n    //console.log('handleAddTallas', datos)\n    if (!selected) {\n      medidas_seleccionadas_temp.push(talla);\n      setSelected(value);\n    } else {\n      medidas_seleccionadas_temp.forEach((res, index) => {\n        if (res._id === talla._id) {\n          medidas_seleccionadas_temp.splice(index, 1);\n          setSelected(value);\n      /*     presentaciones.forEach((presentacion) => {\n            if (!presentacion.nuevo) {\n              if (presentacion.medida._id === res._id) {\n                setPresentacionesEliminadas([\n                  ...presentaciones_eliminadas,\n                  presentacion,\n                ]);\n              }\n            }\n          }); */\n        }\n      });\n    }\n\n    let presentacion_temp = [];\n    const array_medidad_finales = [...datos];\n    //const array_medidad_finales = [];\n    if (!coloresSeleccionados.length && !array_medidad_finales.length) {\n      /* SI NO HAY COLORES NI VALORES EN EL ARRAY FINAL SE AGREGA EL PRIMER ELEMENTO */\n      for (let i = 0; i < medidas_seleccionadas_temp.length; i++) {\n        const producto_medida = medidas_seleccionadas_temp[i];\n        presentacion_temp.push({\n          medida :{\n            _id: \"\",\n            existencia: false,\n            codigo_barras: GenCodigoBarras(),\n            nombre_comercial: producto.datos_generales.nombre_comercial,\n            medida: producto_medida,\n            color: { nombre: \"\", hex: \"\" },\n            precio: producto.precios.precios_producto[0].precio_neto,\n            cantidad: 0,\n            //nuevo: true\n          },\n          nuevaCantidad: 0\n          \n        });\n        \n      }\n    } else if (\n      !coloresSeleccionados.length &&\n      array_medidad_finales.length > 0\n    ) {\n      /* SI NO HAY COLORES REGISTRADOS PERO YA HAY TALLAS SE AGREGAN MAS */\n      for (let i = 0; i < medidas_seleccionadas_temp.length; i++) {\n        const producto_medida = medidas_seleccionadas_temp[i];\n        const result = array_medidad_finales.filter(\n          (res) => res.medida.medida._id === producto_medida._id\n        );\n        if (result.length) {\n          presentacion_temp.push(result[0]);\n        } else {\n          presentacion_temp.push({\n              medida :{\n              _id: \"\",\n              existencia: false,\n              codigo_barras: GenCodigoBarras(),\n              nombre_comercial: producto.datos_generales.nombre_comercial,\n              medida: producto_medida,\n              color: { nombre: \"\", hex: \"\" },\n              precio: producto.precios.precios_producto[0].precio_neto,\n              cantidad: 0,\n              //nuevo: true\n            },\n            nuevaCantidad: 0,\n    \n          });\n        }\n      }\n    } else if (\n      coloresSeleccionados.length > 0 &&\n      medidas_seleccionadas_temp.length === 1 &&\n      value\n    ) {\n      /* SI HAY COLORES SE LE AGREGA TALLA POR PRIMERA VEZ */\n      for (let i = 0; i < array_medidad_finales.length; i++) {\n        for (let k = 0; k < medidas_seleccionadas_temp.length; k++) {\n          presentacion_temp.push({\n             medida :{\n              _id: \"\",\n              existencia: array_medidad_finales[i].medida.existencia,\n              codigo_barras: array_medidad_finales[i].medida.codigo_barras,\n              nombre_comercial: array_medidad_finales[i].medida.nombre_comercial,\n              medida: medidas_seleccionadas_temp[k],\n              color: array_medidad_finales[i].medida.color,\n              precio: array_medidad_finales[i].medida.precio,\n              cantidad: array_medidad_finales[i].medida.cantidad,\n              //nuevo: true\n            },\n            nuevaCantidad: array_medidad_finales[i].nuevaCantidad,\n           \n          });\n        }\n      }\n    } else if (\n      coloresSeleccionados.length > 0 &&\n      medidas_seleccionadas_temp.length > 0\n    ) {\n      /* YA HAY COLORES Y MEDIDAS EN LAS PRESENTACIONES, SE AGREGAN NORMAL */\n      for (let i = 0; i < medidas_seleccionadas_temp.length; i++) {\n        const producto_medida = medidas_seleccionadas_temp[i];\n        for (let k = 0; k < coloresSeleccionados.length; k++) {\n          const producto_color = coloresSeleccionados[k];\n          const presentacion_existente = array_medidad_finales.filter(\n            (producto_array_final) =>\n              producto_array_final.medida.medida._id === producto_medida._id &&\n              producto_color._id === producto_array_final.medida.color._id\n          );\n          if (!presentacion_existente.length) {\n            //console.log('YA HAY COLORES Y MEDIDAS EN LAS PRESENTACIONES, SE AGREGAN NORMAL' , array_medidad_finales, producto_medida, producto_color)\n            presentacion_temp.push({\n              \n              medida :{\n                _id: \"\",\n                existencia: false,\n                codigo_barras: GenCodigoBarras(),\n                nombre_comercial: producto.datos_generales.nombre_comercial,\n                medida: producto_medida,\n                color: producto_color,\n                precio: 0,\n                cantidad: 0,\n                \n              },\n              nuevaCantidad: 0,\n            });\n          } else {\n            presentacion_temp.push(presentacion_existente[0]);\n          }\n        }\n      }\n    } else if (\n      coloresSeleccionados.length > 0 &&\n      !medidas_seleccionadas_temp.length\n    ) {\n      /* SI NO HAY TALLAS SE VUELVE A LISTAR LOS COLORES QUE YA ESTABAN EN PRESENTACIONES */\n      const presentaciones_existentes = array_medidad_finales.filter(\n        (producto) => producto.medida.medida._id\n      );\n      if (presentaciones_existentes.length) {\n        for (let x = 0; x < array_medidad_finales.length; x++) {\n          const objeto_presentaciones_final = array_medidad_finales[x];\n          presentacion_temp.push({\n              \n              medida :{\n                _id: \"\",\n                existencia: objeto_presentaciones_final.medida.existencia,\n                codigo_barras: objeto_presentaciones_final.medida.codigo_barras,\n                nombre_comercial: objeto_presentaciones_final.medida.nombre_comercial,\n                medida: objeto_presentaciones_final.medida.medida,\n                color: objeto_presentaciones_final.medida.color,\n                precio: objeto_presentaciones_final.medida.precio,\n                cantidad: objeto_presentaciones_final.medida.cantidad,\n                //nuevo: true\n              },\n              nuevaCantidad: objeto_presentaciones_final.nuevaCantidad, \n\n          \n          });\n        }\n      }\n    }\n     \n    setMedidasSeleccionadas([...medidas_seleccionadas_temp]);\n    setNew_medidas(presentacion_temp);\n  };\n\n  return (\n    <Grid item>\n      <div\n        className={classes.colorContainer}\n        onClick={() => handleAddTallas(!selected)}\n        style={\n          selected\n            ? {\n                backgroundColor: theme.palette.primary.main,\n              }\n            : null\n        }\n      >\n        <Typography\n          variant=\"button\"\n          style={{\n            color: theme.palette.getContrastText(\n              selected ? theme.palette.primary.main : \"#FFFFFF\"\n            ),\n            fontSize: 16,\n          }}\n        >\n          {talla.talla}\n        </Typography>\n      </div>\n    </Grid>\n  );\n};\n\nconst Colores = ({\n  producto,\n  color,\n  coloresSeleccionados,\n  setColoresSeleccionados,\n  medidasSeleccionadas,\n  datos,\n  setNew_medidas\n}) => {\n  const classes = useStyles();\n  const theme = useTheme();\n\n \n\n  const [selected, setSelected] = useState(false);\n\n  const seleccionarColores = useCallback(() => {\n    coloresSeleccionados.forEach((res) => {\n      if (res._id === color._id) setSelected(true);\n    });\n  }, [color._id, coloresSeleccionados]);\n \n  useEffect(() => {\n    if (producto) {\n      return seleccionarColores();\n    }\n  }, [producto, seleccionarColores]);\n\n  const obtenerColores = (value) => {\n    if (!selected) {\n      coloresSeleccionados.push(color);\n      setSelected(value);\n    } else {\n      coloresSeleccionados.forEach((res, index) => {\n        if (res._id === color._id) {\n          coloresSeleccionados.splice(index, 1);\n          setSelected(value);\n         /*  new_medidas.forEach((presentacion) => {\n            if (!presentacion.nuevo) {\n              if (presentacion.color._id === res._id) {\n                setPresentacionesEliminadas([\n                  ...presentaciones_eliminadas,\n                  presentacion,\n                ]);\n              }\n            }\n          }); */\n        }\n      });\n    }\n    let presentacion_temp = [];\n    const array_medidad_finales = [...datos];\n\n    if (!medidasSeleccionadas.length && !array_medidad_finales.length) {\n      /* SI NO HAY COLORES NI VALORES EN EL ARRAY FINAL SE AGREGA EL PRIMER ELEMENTO */\n      for (let i = 0; i < coloresSeleccionados.length; i++) {\n        const producto_color = coloresSeleccionados[i];\n        presentacion_temp.push({\n          medida :{\n              _id: \"\",\n              existencia: false,\n              codigo_barras: GenCodigoBarras(),\n              nombre_comercial: producto.datos_generales.nombre_comercial,\n              medida: {},\n              color: producto_color,\n              precio: producto.precios.precios_producto[0].precio_neto,\n              cantidad: 0,\n              //nuevo: true\n            },\n            nuevaCantidad: 0,\n        });\n      }\n    } else if (\n      !medidasSeleccionadas.length &&\n      array_medidad_finales.length > 0\n    ) {\n      /* SI YA HAY COLORES REGISTRADOS SE AGREGAN MAS */\n      for (let i = 0; i < coloresSeleccionados.length; i++) {\n        const producto_color = coloresSeleccionados[i];\n        const result = array_medidad_finales.filter(\n          (res) => res.medida.color._id === producto_color._id\n        );\n        if (result.length) {\n          presentacion_temp.push(result[0]);\n        } else {\n          presentacion_temp.push({\n             medida :{\n              _id: \"\",\n              existencia: false,\n              codigo_barras: GenCodigoBarras(),\n              nombre_comercial: producto.datos_generales.nombre_comercial,\n              medida: {},\n              color: producto_color,\n              precio: producto.precios.precios_producto[0].precio_neto,\n              cantidad: 0,\n              //nuevo: true\n            },\n            nuevaCantidad: 0,\n          });\n        }\n      }\n    } else if (\n      medidasSeleccionadas.length > 0 &&\n      coloresSeleccionados.length === 1 &&\n      value\n    ) {\n      /* SI YA HAY TALLAS SE LE AGREGA EL COLOR POR PRIMERA VEZ */\n      for (let i = 0; i < array_medidad_finales.length; i++) {\n        for (let k = 0; k < coloresSeleccionados.length; k++) {\n          presentacion_temp.push({\n            medida :{\n              _id: \"\",\n              existencia: array_medidad_finales[i].medida.existencia,\n              codigo_barras: array_medidad_finales[i].medida.codigo_barras,\n              nombre_comercial: array_medidad_finales[i].medida.nombre_comercial,\n              medida: array_medidad_finales[i].medida.medida,\n              color: coloresSeleccionados[k],\n              precio: array_medidad_finales[i].medida.precio,\n              cantidad: array_medidad_finales[i].medida.cantidad,\n              //nuevo: true\n            },\n            nuevaCantidad: array_medidad_finales[i].nuevaCantidad,\n           \n          });\n        }\n      }\n    } else if (\n      medidasSeleccionadas.length > 0 &&\n      coloresSeleccionados.length > 0\n    ) {\n      /* YA HAY TALLAS Y MEIDAS EN LAS PRESENTACIONES, SE REGISTRAN NORMAL */\n      for (let i = 0; i < coloresSeleccionados.length; i++) {\n        const producto_color = coloresSeleccionados[i];\n        for (let k = 0; k < medidasSeleccionadas.length; k++) {\n          const producto_medida = medidasSeleccionadas[k];\n          const presentacion_existente = array_medidad_finales.filter(\n            (producto_array_final) =>\n              producto_array_final.medida.medida._id === producto_medida._id &&\n              producto_color._id === producto_array_final.medida.color._id\n          );\n          if (!presentacion_existente.length) {\n            presentacion_temp.push({\n               medida :{\n                _id: \"\",\n                existencia: false,\n                codigo_barras: GenCodigoBarras(),\n                nombre_comercial: producto.datos_generales.nombre_comercial,\n                medida: producto_medida,\n                color: producto_color,\n                precio: 0,\n                cantidad: 0,\n                //nuevo: true\n              },\n              nuevaCantidad: 0,\n              \n            });\n          } else {\n            presentacion_temp.push(presentacion_existente[0]);\n          }\n        }\n      }\n    } else if (\n      medidasSeleccionadas.length > 0 &&\n      !coloresSeleccionados.length\n    ) {\n      /* SI NO HAY COLORES SE VUELVE A LISTAR LAS TALLAS QUE YA ESTABAN EN PRESENTACIONES */\n      const presentaciones_existentes = array_medidad_finales.filter(\n        (producto) => producto.medida.color._id\n      );\n      if (presentaciones_existentes.length) {\n        for (let x = 0; x < array_medidad_finales.length; x++) {\n          const objeto_presentaciones_final = array_medidad_finales[x];\n          presentacion_temp.push({\n            medida :{\n                _id: objeto_presentaciones_final.medida._id,\n                existencia: objeto_presentaciones_final.medida.existencia,\n                codigo_barras: objeto_presentaciones_final.medida.codigo_barras,\n                nombre_comercial: objeto_presentaciones_final.medida.nombre_comercial,\n                medida: objeto_presentaciones_final.medida.medida,\n                color: { nombre: \"\", hex: \"\" },\n                precio: objeto_presentaciones_final.medida.precio,\n                cantidad: objeto_presentaciones_final.medida.cantidad,\n                //nuevo: true\n              },\n            nuevaCantidad: objeto_presentaciones_final.nuevaCantidad,\n\n          });\n        }\n      }\n    }\n\n    setColoresSeleccionados([...coloresSeleccionados]);\n    setNew_medidas(presentacion_temp);\n  };\n\n  return (\n    <Grid item >\n      <Tooltip\n        title={color.nombre}\n        placement=\"top\"\n        arrow\n        TransitionComponent={Zoom}\n      >\n        <div\n          className={classes.colorContainer}\n          style={{\n            backgroundColor: color.hex,\n            color: theme.palette.getContrastText(color.hex),\n          }}\n          onClick={() => obtenerColores(!selected, color)}\n        >\n          {selected ? <Done /> : null}\n        </div>\n      </Tooltip>\n    </Grid>\n  );\n};\n","import React, { useContext,  useState, useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport {  Chip,  Tooltip, Zoom , TextField} from '@material-ui/core';\nimport { TraspasosAlmacenContext } from \"../../context/Almacenes/traspasosAlmacen\";\nimport { fade } from '@material-ui/core/styles/colorManipulator';\n\n/* const compareFunction = (a, b) => {\n\tif (a.medida.talla && b.medida.talla) {\n\t\treturn a.medida.talla.localeCompare(b.medida.talla);\n\t}\n}; */\n\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n\t\talignSelf:'center',\n\t\twidth:'90%',\n\t\tpaddingLeft: theme.spacing(2),\n    paddingRight: theme.spacing(1),\n\t\t\n\t},\n\tpaper: {\n\t\twidth: '100%',\n\t\tmarginBottom: theme.spacing(2)\n\t},\n\ttable: {\n\t\t\n\t\tminWidth: '100%',\n\t\tmaxWidth: '100%',\n\t\t\n\t},\n\t\n\ttableRow: {\n    \n\t\t'&.Mui-selected, &.Mui-selected:hover': {\n\t\t\tbackgroundColor: fade(theme.palette.primary.main, 0.1)\n\t\t}\n\t},\n    cell:{\n       align:'center'     \n    },\n\tvisuallyHidden: {\n\t\tborder: 0,\n\t\tclip: 'rect(0 0 0 0)',\n\t\theight: 1,\n\t\tmargin: -1,\n\t\toverflow: 'hidden',\n\t\tpadding: 0,\n\t\tposition: 'absolute',\n\t\ttop: 20,\n\t\twidth: 1\n\t},\n\tcolorContainer: {\n\t\tborder: '1px solid rgba(0,0,0, .3)',\n\t\theight: 30,\n\t\twidth: 30,\n\t\tborderRadius: '15%'\n\t}\n}));\n\n\n/* function stableSort(array, comparator) {\n  const stabilizedThis = array.map((el, index) => [el, index]);\n  stabilizedThis.sort((a, b) => {\n    const order = comparator(a[0], b[0]);\n    if (order !== 0) return order;\n    return a[1] - b[1];\n  });\n  return stabilizedThis.map((el) => el[0]);\n} */\n\nfunction descendingComparator(a, b, orderBy) {\n  if (b[orderBy] < a[orderBy]) {\n    return -1;\n  }\n  if (b[orderBy] > a[orderBy]) {\n    return 1;\n  }\n  return 0;\n}\n\nfunction getComparator(order, orderBy) {\n  return order === 'desc'\n    ? (a, b) => descendingComparator(a, b, orderBy)\n    : (a, b) => -descendingComparator(a, b, orderBy);\n}\n\nexport default function TablaPresentaciones({ producto, setOnUpdate, onUpdate, new_medidas, setNew_medidas }) {\n  const classes = useStyles();\n \n \n\n/*  \nconst handleChangePage = (event, newPage) => {\n    setPage(newPage);\n}; */\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Paper className={classes.paper}>\n\t\t\t\t<TableContainer style={{height:400}}>\n\t\t\t\t\t<Table\n\t\t\t\t\t\tclassName={classes.table}\n\t\t\t\t\t\taria-labelledby=\"tableTitle\"\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\taria-label=\"enhanced table\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t<TableCell >Medida</TableCell>\n\t\t\t\t\t\t\t\t<TableCell >Color</TableCell>\n\t\t\t\t\t\t\t\t<TableCell >Cantidad existente</TableCell>\n                                <TableCell >Cantidad a traspasar</TableCell>\n                            </TableRow>\n\t\t\t\t\t\t</TableHead>\n\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t{/* {stableSort(producto.medidas_producto, getComparator(order, orderBy))\n                \t\t\t.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\n\t\t\t\t\t\t\t.map((item, index) => { */}\n\t\t\t\t\t\t\t{producto.medidas_producto.map((item, index) => {\t\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<RenderPresentacionesRows\n\t\t\t\t\t\t\t\t\t\tidProducto={producto._id}\n\t\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\t\tmedida={item}\n\t\t\t\t\t\t\t\t\t\tindex={index}\n\t\t\t\t\t\t\t\t\t\tsetOnUpdate={setOnUpdate}\n\t\t\t\t\t\t\t\t\t\tonUpdate={onUpdate}\n\t\t\t\t\t\t\t\t\t\tnew_medidas={new_medidas}\n\t\t\t\t\t\t\t\t\t\tsetNew_medidas={setNew_medidas}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t</Table>\n\t\t\t\t</TableContainer>\n\t\t\t{/* \t<TablePagination\n\t\t\t\t\trowsPerPageOptions={[5, 10, 25]}\n\t\t\t\t\tcomponent=\"div\"\n\t\t\t\t\tcount={producto.medidas_producto.length}\n\t\t\t\t\trowsPerPage={rowsPerPage}\n\t\t\t\t\tpage={page}\n\t\t\t\t\tonChangePage={handleChangePage}\n\t\t\t\t\t// onRowsPerPageChange={handleChangeRowsPerPage}\n\t\t\t\t/> */}\n\t\t\t</Paper>\n\t\t</div>\n\t);\n}\n\n\nconst RenderPresentacionesRows = ({ medida, index, setOnUpdate, onUpdate,new_medidas, setNew_medidas, idProducto}) => {\n\n\tconst [ disabledInput, setDisabledInput ] = useState(true);\n\tconst classes = useStyles();\n\tconst [ cantidad, setCantidad ] = useState(0);\n\tconst [ cantidadAnt, setCantidadAnt ] = useState(0);\n\tconst copy_medida = { ...medida };\n\tconst {productosTras} = useContext(TraspasosAlmacenContext);\n\t//const [productInTras, setProductInTras] =  useState(null);\n\t//let productInTras = null;\n\t//let productInTras = productosTras.find(element => element.product_selecteded._id === idProducto);\n\t//const productosTrasContext = productosTras;\n \n\tuseEffect(() => {\n\t\tproductosTras.forEach(producto => {\n\t\t\t//console.log(\"SELECTMEDIDAS\",producto)\n\n\t\tif(producto.product_selected._id === idProducto){\n\t\t\tlet new_medidasCopia = [];\n\t\t\tlet element = null;\n\t\t\n\t\t\tfor (const med in producto.new_medidas) {\n\t\t\t\tif (Object.hasOwnProperty.call(producto.new_medidas, med)) {\n\t\t\t\t\telement = producto.new_medidas[med];\n\t\t\t\t\tnew_medidasCopia.push(element)\n\t\t\t\t\t\n\t\t\t\t\tif(medida._id === element.medida._id){\n\t\t\t\t\t\tsetCantidad( element.nuevaCantidad);\t\t\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tsetNew_medidas(producto.new_medidas);\n\t\t\treturn;\n\t\t}\n\t\t\n\t});\n\t\treturn () => {\n\t\t\t<div/>\n\t\t}\n\t}, [productosTras])\n\t\n\n\n\t\n\n\t/* if(from && from === 'compra'){\n\t\tcopy_producto.cantidad_nueva = 0\n\t} */\n\t\n\tconst obtenerDatos = (value) => {\n\t\tlet cant = (cantidadAnt > 0) ? parseInt(value - cantidadAnt)   : value;\n\t\t//console.log(\"CANT\",cantidad)\n\n\t\tif(cant <= medida.cantidad){\n\t\t\tsetCantidad(value);\n\t\t\n\t\t\tsetNew_medidas({...new_medidas, [index] : {medida:medida, nuevaCantidad: parseInt(cant)}})\n\t\t}\n\t\t/* \n\t\tconst unidades = {cantidad:} \n\t\tcopy_producto.push() */\n\t\t//Tengo que obtener los datos que se van a enviar se debe agregar un elemento al array \n\t\t\n\t\t//setPresentaciones(copy_presentaciones);\n\t};\n\n\n\treturn (\n\t\t<TableRow  selected={!disabledInput} className={classes.tableRow} >\n\t\t\t<TableCell >\n\t\t\t\t{copy_medida.medida._id ? <Chip label={copy_medida.medida.talla} color=\"primary\" /> : ''}\n\t\t\t</TableCell>\n\t\t\t<TableCell  style={{width:'20%'}}>\n\t\t\t\t{copy_medida.color._id ? (\n\t\t\t\t\t<Tooltip title={copy_medida.color.nombre} placement=\"top\" arrow TransitionComponent={Zoom}>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName={classes.colorContainer}\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\tbackgroundColor: copy_medida.color.hex\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Tooltip>\n\t\t\t\t) : null}\n\t\t\t</TableCell>\n\t\t\t\n\t\t\n\t\t\t<TableCell className={classes.cell}  style={{width:'25%'}}>\n\t\t\t\t{medida.cantidad}\n\t\t\t</TableCell>\n\t\t \n\t\t\t<TableCell  style={{width:'25%'}}>\n\t\t\t\t<TextField\n\t\t\t\t\tsize=\"small\"\n\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\tInputProps={{ inputProps: { min: 0 } }}\n\t\t\t\t\tinputMode=\"numeric\"\n\t\t\t\t\ttype=\"number\"\n\t\t\t\t\tvalue={cantidad}\n\t\t\t\t\tonChange={(value) => obtenerDatos(value.target.value)}\n\t\t\t\t\tname=\"nuevaCantidad\"\n\t\t\t\t/>\n            </TableCell>    \n\t\t</TableRow>\n\t);\n};","import React, {useContext, useEffect, useState} from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { Grid,Box, TextField } from '@material-ui/core';\nimport { lighten, makeStyles } from '@material-ui/core/styles';\nimport {Table, TableBody, TableCell, TableContainer, TableHead, TableRow, TableSortLabel} from '@material-ui/core';\nimport {Toolbar, Typography, Paper, IconButton, Tooltip, Dialog, Checkbox ,Slide, Button, DialogTitle, DialogActions} from '@material-ui/core';\nimport AddIcon from '@material-ui/icons/Add';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport EditIcon from '@material-ui/icons/Edit';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { TraspasosAlmacenContext } from \"../../context/Almacenes/traspasosAlmacen\";\nimport TallasColoresTraspasos from './TallasColoresTraspasos';\nimport TableSelectMedidas from './TableSelectMedidas';\nimport { useQuery } from '@apollo/client';\nimport {  OBTENER_CONSULTAS } from \"../../gql/Catalogos/productos\";\n\n// function createData(name, cantidad, precio) {\n//   return { name, cantidad, precio };\n// }\n\nfunction descendingComparator(a, b, orderBy) {\n  if (b[orderBy] < a[orderBy]) {\n    return -1;\n  }\n  if (b[orderBy] > a[orderBy]) {\n    return 1;\n  }\n  return 0;\n}\n\n/* function getComparator(order, orderBy) {\n  return order === 'desc'\n    ? (a, b) => descendingComparator(a, b, orderBy)\n    : (a, b) => -descendingComparator(a, b, orderBy);\n}\n\nfunction stableSort(array, comparator) {\n  const stabilizedThis = array.map((el, index) => [el, index]);\n  stabilizedThis.sort((a, b) => {\n    const order = comparator(a[0], b[0]);\n    if (order !== 0) return order;\n    return a[1] - b[1];\n  });\n  return stabilizedThis.map((el) => el[0]);\n} */\n\nconst headCells = (add) => {\n\nlet hC = (add) ? \n\n  [\n    { id: 'codeBarras', numeric: false, disablePadding: false, label: 'Cdigo de barras' },\n    { id: 'name', numeric: false, disablePadding: true, label: 'Nombre' },\n    { id: 'tipo', numeric: true, disablePadding: false, label: 'Tipo' },\n    { id: 'cantidad', numeric: true, disablePadding: false, label: 'Cantidad' },\n\n  ]\n  :\n\n  [\n    { id: 'codeBarras', numeric: false, disablePadding: false, label: 'Cdigo de barras' },\n    { id: 'name', numeric: false, disablePadding: true, label: 'Nombre' },\n    { id: 'tipo', numeric: true, disablePadding: false, label: 'Tipo' },\n    { id: 'cantidad', numeric: true, disablePadding: false, label: 'Cantidad' },\n    { id: 'solo', numeric: true, disablePadding: false, label: ' ' },\n  ]\n\n  return hC;\n}\n;\nconst getUnidadMax  = (cantidad_existente_maxima,unidadMaxima) => {\n  //console.log('getCantidad',cantidad_nueva, cantidad_medida, accion)\n  const UNIDAD_MAXIMA = {\n    'Caja' :  'Cantidad existente en cajas: ' + cantidad_existente_maxima,\n    'Costal' : 'Cantidad existente en costales: ' + cantidad_existente_maxima,\n  }  \n  return UNIDAD_MAXIMA[unidadMaxima];\n}\n\nfunction EnhancedTableHead(props) {\n  const { classes,  order, orderBy, onRequestSort } = props;\n  const createSortHandler = (property) => (event) => {\n    onRequestSort(event, property);\n  };\n  const headCellsNames =  headCells(props.add);\n  return (\n    <TableHead>\n      <TableRow>\n     \n        {headCellsNames.map((headCell) => (\n          <TableCell\n            key={headCell.id}\n            align='left'\n            // padding={headCell.disablePadding ? 'none' : 'normal'}\n            sortDirection={orderBy === headCell.id ? order : false}\n          >\n            <TableSortLabel\n              active={orderBy === headCell.id}\n              direction={orderBy === headCell.id ? order : 'asc'}\n              onClick={createSortHandler(headCell.id)}\n            >\n              {headCell.label}\n              {orderBy === headCell.id ? (\n                <span className={classes.visuallyHidden}>\n                  {order === 'desc' ? 'sorted descending' : 'sorted ascending'}\n                </span>\n              ) : null}\n            </TableSortLabel>\n          </TableCell>\n        ))}\n      </TableRow>\n    </TableHead>\n  );\n}\n\nEnhancedTableHead.propTypes = {\n  classes: PropTypes.object.isRequired,\n  // product_selected: PropTypes.object.isRequired,\n  onRequestSort: PropTypes.func.isRequired,\n  order: PropTypes.oneOf(['asc', 'desc']).isRequired,\n  orderBy: PropTypes.string.isRequired,\n  rowCount: PropTypes.number.isRequired,\n};\n\nconst useToolbarStyles = makeStyles((theme) => ({\n  root: {\n    \n    paddingLeft: theme.spacing(2),\n    paddingRight: theme.spacing(1),\n    maxWidth:650\n  },\n  input:{\n    width:180\n  }\n  ,\n  inputCantidad:{\n    width:120,\n    height:10\n  },\n  inputCantidadTable:{\n    width:'20%',\n    height:10\n  },\n  highlight:\n    theme.palette.type === 'light'\n      ? {\n          \n          color: theme.palette.secondary.main,\n          backgroundColor: lighten(theme.palette.primary.light, 0.85),\n        }\n      : {\n          color: theme.palette.text.primary,\n          backgroundColor: theme.palette.secondary.dark,\n        },\n  title: {\n    fontSize:16,\n    flex: '1',\n     display: 'flex',\n    flexWrap: 'wrap',\n  },\n}));\n\nconst DialogTallas = (props) => {\n\n  const [new_medidas, setNew_medidas] = useState([]);\n  const {setProductosTras, productosTras} = useContext(TraspasosAlmacenContext);\n \n  const setProd = () =>{\n    let newMedidasCopy = new_medidas;\n    let cantidad_total = 0;\n    \n\n     try {\n     \n       let prodSelect = null;\n    prodSelect = (props.almacenOrigen !== null) ? {\n      _id: props.product_selected._id,\n      datos_generales:  props.product_selected.datos_generales,\n      medidas_producto: props.product_selected.medidas_producto,\n      inventario_general: props.product_selected.inventario_general,\n      unidades_de_venta: props.product_selected.unidades_de_venta,\n      precios: props.product_selected.precios,\n      empresa:props.product_selected.empresa,\n      sucursal:props.product_selected.sucursal,\n      usuario: props.product_selected.usuario\n    }\n    :\n\n    {\n       _id: props.product_selected._id,\n      datos_generales:  props.product_selected.datos_generales,\n      precios: props.product_selected.precios,\n       medidas_producto: [],\n      inventario_general: [{unidad_maxima:''}],\n      unidades_de_venta: [],\n      empresa:props.product_selected.empresa,\n      sucursal:props.product_selected.sucursal,\n      usuario: props.product_selected.usuario \n    }; \n    let existe = false;\n    let copyProductosTras = productosTras;\n    let medidasTo =[];\n    //Count all new_medidas from array\n\n    for (let newMed in newMedidasCopy){ \n        cantidad_total +=  newMedidasCopy[newMed].nuevaCantidad;\n        //cantidad_total += newMedidasCopy[newMed];\n      medidasTo.push(newMedidasCopy[newMed])\n    } \n\n    if(cantidad_total > 0){\n    \n      if(copyProductosTras.length){//Check have data context\n        copyProductosTras.forEach(element => {\n          if(element.product_selected._id === props.product_selected._id){\n            existe = true;\n            ///VA A SUMAR EN LAS MEDIDAS LAS CANTIDADES\n            element.new_medidas = medidasTo;\n            element.cantidad_total = cantidad_total;\n            return;\n          }\n        });\n    \n        if(!existe){\n          //console.log(\"NO est este producto\", element.product_selected._id , props.product_selected._id );\n          let obj= {product_selected:prodSelect, new_medidas:medidasTo, cantidad_total:parseInt(cantidad_total), unidad_maxima: false}\n          copyProductosTras.push(obj)\n      \n        } \n      }else{ \n          let obj= {product_selected:prodSelect, new_medidas:medidasTo, cantidad_total:parseInt(cantidad_total), unidad_maxima: false}\n          copyProductosTras.push(obj)\n      }\n         \n      setProductosTras([...copyProductosTras])  \n      setNew_medidas([]);\n      close();\n    }  \n     } catch (error) {\n       //console.log('MANDH',error)\n     }\n    \n  }\n\n  const close= () => {\n    try {\n      props.setOpenTallas();\n      props.setproduct_selected(undefined)\n    } catch (error) {\n      //console.log(error)\n    }\n  }\n \n  useEffect(() => {\n    let new_medidasCopia = [];\n\n    productosTras.forEach(prod => {\n\t\t\n\t\tif(prod.product_selected._id ===  props.product_selected._id){\n\t\t\tlet element = null;\n        for (const med in prod.new_medidas) {\n          if (Object.hasOwnProperty.call(prod.new_medidas, med)) {\n            element = prod.new_medidas[med];\n            new_medidasCopia.push(element)\n          }\n        }\n      }\n    })  \n    setNew_medidas(new_medidasCopia);\n  }, [productosTras, props.product_selected._id])\n     \n\n  return(\n    <Dialog open={props.openTallas} TransitionComponent={Transition} fullWidth maxWidth={\"md\"} >\n        <Box m={1} display=\"flex\" justifyContent=\"flex-end\">\n                <Button variant=\"contained\" color=\"secondary\" onClick={() => close()} size=\"large\">\n                  <CloseIcon />\n                </Button>\n          </Box>\n      {\n        (props.almacenOrigen === null) ? \n          <div>\n            <TallasColoresTraspasos \n              obtenerConsultasProducto={props.obtenerConsultasProducto}\n              refetch={props.obtenerConsultasProducto.refetch}\n              producto={props.product_selected}\n              new_medidas={new_medidas} \n              setNew_medidas={setNew_medidas}\n            />\n          </div>\n        :\n        <div>\n          <TableSelectMedidas producto = {props.product_selected} new_medidas={new_medidas} setNew_medidas={setNew_medidas} add={props.add} />\n        </div> \n      }    \n      <Box display=\"flex\" justifyContent=\"flex-end\" m={1} mr={5}>\n        <Button  variant=\"contained\" color=\"primary\"style={{width:\"20%\"}} onClick={setProd} >\n          AGREGAR \n        </Button>\n      </Box>   \n    </Dialog>\n  )\n}\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nconst EnhancedTableToolbar = (props) => {\n  const classes = useToolbarStyles();\n  const [cantidadTo, setCantidadTo] = useState('');\n  const [openEnd, setOpenEnd] = useState(false);\n \n  \n  const { product_selected, setproduct_selected, tipoPieza, update } = props;\n   const {\n        setProductosTras,\n        productosTras\n    } = useContext(TraspasosAlmacenContext);\n\n\n\nconst setValueToTrans =(cantidad_total) =>{\n  try {\n    props.setError({error:false, mensaje:''})\n   \n    if(cantidad_total === 0 || cantidad_total === '') return;\n   let element = productosTras.find(element => element.product_selected._id === product_selected._id);\n  /*   let elementTablaTo = (props.almacenOrigen !== null) ? \n        productosEmpTo.find(element => element.product_selected._id === product_selected._id)\n        :\n        productosTo.find(element => element.product_selected._id === product_selected._id) */\n    if(element) {\n //console.log(cantidad_total, element)\n      let totalCantExistMasNuevaCantidad = parseFloat(cantidad_total);\n      //SUMA CANTIDAD TOTAL\n      \n      if(props.add){\n        if(product_selected.inventario_general !== undefined){\n          if( !tipoPieza.piezas ){\n            if(totalCantExistMasNuevaCantidad <=  product_selected.inventario_general[0].cantidad_existente_maxima){\n              element.cantidad_total = totalCantExistMasNuevaCantidad;\n            }else{\n              props.setError({error:true, mensaje:'La cantidad ingresada sobrepasa la cantidad existente del producto seleccionado.'})\n            }  \n          }else{\n            if(totalCantExistMasNuevaCantidad <=  product_selected.inventario_general[0].cantidad_existente){\n              element.cantidad_total = totalCantExistMasNuevaCantidad;\n            \n            }else{\n              props.setError({error:true, mensaje:'La cantidad ingresada sobrepasa la cantidad existente del producto seleccionado.'})\n            }\n          }\n        }else{\n          element.cantidad_total = totalCantExistMasNuevaCantidad;\n        /*   if(props.add){\n            elementTablaTo.inventario_general[0].cantidad_existente -= cantidad_total;\n          }else{\n            elementTablaTo.cantidad_total -= cantidad_total\n          } */\n\n          \n        }\n      }else{\n\n        element.cantidad_total = parseFloat(cantidad_total);\n      }  \n      setProductosTras([...productosTras]);\n      /*  if(props.almacenOrigen !== null){\n           setProductosEmpTo([...productosTras]);\n        }else{\n           setProductosTo([...productosTras]);\n        } */\n\n      return;\n\n\n    }else{\n      //Cuando sea el caso que no hay almacen de origen cambiar los datos que van a ir vacos\n      //\n     \n      //console.log(props.product_selected.precios)\n      let prodSelect = {\n        _id: props.product_selected._id,\n        datos_generales:  props.product_selected.datos_generales,\n        inventario_general: props.product_selected.inventario_general,\n        unidades_de_venta: props.product_selected.unidades_de_venta,\n        medidas_producto: props.product_selected.medidas_producto,\n      \n        precios: props.product_selected.precios,\n        empresa:props.product_selected.empresa,\n        sucursal:props.product_selected.sucursal,\n        usuario: props.product_selected.usuario\n      } \n    //VERIFICA CANTIDAD MAXIMA\n    if(product_selected.inventario_general !== undefined){\n      if(cantidad_total <=  product_selected.inventario_general[0].cantidad_existente){\n      \n        let obj= {product_selected:prodSelect, new_medidas:[], cantidad_total, unidad_maxima: tipoPieza.cajas};\n        setProductosTras([...productosTras, obj]);\n      }\n      else{\n        props.setError({error:true, mensaje:'La cantidad ingresada sobrepasa la cantidad existente.'})\n      }\n    }else{\n       let obj= {product_selected:prodSelect, new_medidas:[], cantidad_total, unidad_maxima: tipoPieza.cajas};\n        setProductosTras([...productosTras, obj]);\n    }\n    }\n    setproduct_selected(undefined);\n     return;\n  } catch (error) {\n     //console.log(error)\n  }\n}\n\nconst deletesItems =() =>{\n  try {\n  \n    setproduct_selected(undefined)\n    //console.log(prodSet.filter(item => item.product_selected._id !== product_selected._id))\n    setProductosTras([]);\n\n  } catch (error) {\n\n  }\n}\n\n\nuseEffect(() => {\n  try {\n    if(props.add){\n      props.setOpenTallas(true)\n    }\n    setCantidadTo(props.cant)\n    \n  } catch (error) {\n    \n  }\n  \n}, [product_selected])   \n  \n  const pressEnter = (e) => {\n    try {\n      if (e.key === \"Enter\") {\n        setValueToTrans(parseFloat(e.target.value))\n      }\n    } catch (error) {\n      \n    }\n    \n  };        \n  function onlyNumbers(value){\n    props.setError({error:false, mensaje:''})\n      //const onlyNums = value.toString().replace(/[^0-9]/g, '');\n      const intValue = (value !== '') ? parseFloat(value) : 0;\n      try {\n        if(props.almacenOrigen !== null){\n          console.log(intValue)\n          if( !tipoPieza.piezas  ){\n            if(intValue <= product_selected.inventario_general[0].cantidad_existente_maxima){\n              setCantidadTo((intValue !== 0) ? intValue : '');\n              //console.log(intValue)\n              return;\n            }else{\n              props.setError({error:true, mensaje:'La cantidad ingresada sobrepasa la cantidad existente.'})\n              return;\n            } \n          }else{\n            \n              if(intValue <= product_selected.inventario_general[0].cantidad_existente){\n                 setCantidadTo((intValue !== 0) ? intValue : '');\n                return;\n              }\n              else{\n              props.setError({error:true, mensaje:'La cantidad ingresada sobrepasa la cantidad existente.'})\n              return;\n            } \n            }\n          }else{\n          \n            setCantidadTo(intValue);\n            return;\n          }\n      } catch (error) {\n        \n      }\n    \n  }\n\n\n\n  const TipoPiezaComponent = () => {\n     try {\n     \n      const TIPO_PIEZA = {\n        'Pz' :  {unidad_maxima: null, unidad_minima: 'Pz' },\n        'Caja' : {unidad_maxima: 'Caja', unidad_minima: 'Pz' },\n        'Kg' : {unidad_maxima: null, unidad_minima: 'Kg' },\n        'Costal' : {unidad_maxima: 'Costal', unidad_minima: 'Kg' },\n        'Lt' : {unidad_maxima: null, unidad_minima: 'Lt' }\n      }\n      \n\n    \n      return (\n        <Box flexDirection={'row'} display=\"flex\">\n          <Box flexDirection={'row'}  >\n          <Checkbox checked={tipoPieza.piezas}   color=\"primary\" onChange={() => {update(); setCantidadTo(0)}} disabled={TIPO_PIEZA[product_selected.precios.unidad_de_compra.unidad].unidad_maxima === null} />\n            <Typography color=\"primary\" style={{marginLeft:10}}>{TIPO_PIEZA[product_selected.precios.unidad_de_compra.unidad].unidad_minima}</Typography> \n          </Box>\n    \n          \n        { \n          (TIPO_PIEZA[product_selected.precios.unidad_de_compra.unidad].unidad_maxima !== null) ? \n            <Box flexDirection={'row'} >\n              <Checkbox checked={tipoPieza.cajas} color=\"primary\" onChange={() => {update(); setCantidadTo(0)}}/>\n              <Typography color=\"primary\" style={{marginLeft:10}}>{TIPO_PIEZA[product_selected.precios.unidad_de_compra.unidad].unidad_maxima} </Typography> \n            </Box>\n          :\n            <div/>\n          \n          }\n      \n        </Box>\n      );\n     } catch (error) {\n       \n     }\n    \n    \n  }\n\n  return (\n    <Toolbar\n      className={clsx(classes.root, {\n        [classes.highlight]: product_selected !== undefined && props.add,\n      })}\n    \n    >\n    <Grid container>\n      {product_selected !== undefined  && props.add ? (\n        <Box style={{width:'100%'}}>\n         \n          <Typography className={classes.title} color=\"inherit\" variant=\"subtitle2\"  >\n            {product_selected.datos_generales.nombre_comercial} \n          </Typography>\n        </Box>\n      ) : (\n        <Box style={{width:'100%'}} flexDirection={'row'} display=\"flex\">\n          <Typography className={classes.title} variant=\"h6\" id=\"tableTitle\" component=\"div\">\n            {props.title}\n          </Typography>\n          {\n            (productosTras.length > 0 && !props.add) ? \n            <Tooltip title=\"Eliminar todos\">\n              <IconButton aria-label=\"delete\" onClick={() => setOpenEnd(true)} >\n                  <DeleteIcon />\n              </IconButton>\n            </Tooltip>\n            :\n            <div/>\n          }\n          \n         </Box>  \n      )}\n\n      {(product_selected !== undefined )? (\n      <Box > \n        {\n          (props.error.error) ?\n          <Typography color=\"inherit\">{props.error.mensaje}</Typography>\n          :\n          <div/>\n        } \n            {\n            (props.add ) ?\n                (product_selected.datos_generales.tipo_producto === 'OTROS') ? \n                  <Grid container  justifyContent=\"space-evenly\" ml={1}>\n                \n                      {\n                        (props.almacenOrigen === null)?\n                        \n                        <TipoPiezaComponent />\n                        :\n                        <Box flexDirection={'row'} display=\"flex\">\n                          <Box flexDirection={'row'}  >\n                            <Checkbox checked={tipoPieza.piezas}   color=\"primary\" onChange={() => {update(); setCantidadTo(0)}} disabled={props.product_selected.inventario_general[0].cantidad_existente_maxima === null} />\n                            <Typography color=\"primary\" style={{marginLeft:10}}>{props.product_selected.inventario_general[0].unidad_inventario}</Typography> \n                          </Box>\n                          {\n                            (props.product_selected.inventario_general[0].unidad_maxima !== null ) ?\n                              <Box flexDirection={'row'} >\n                                <Checkbox checked={tipoPieza.cajas} color=\"primary\" onChange={() => {update(); setCantidadTo(0)}}/>\n                                <Typography color=\"primary\" style={{marginLeft:10}}>{\"\" + props.product_selected.inventario_general[0].unidad_maxima} </Typography> \n                              </Box>\n                            :\n                              <div/>\n                          }\n                        </Box>\n                      }\n                        \n                      <Box width=\"180px\" ml={2}>\n                    \n                        <Typography color=\"primary\">Cantidad</Typography>\n                        <TextField\n                            className={classes.inputCantidad}\n                            \n                            size=\"small\"\n                            name=\"cantidad\"\n                            variant=\"outlined\"\n                            type=\"number\"\n                            InputProps={{ inputProps: { min: 0 } }}\n                            value={cantidadTo}\n    \n                            onKeyPress={pressEnter}\n                            onChange={(value) => onlyNumbers(value.target.value)}\n                            \n                        />\n                      \n                        <Tooltip title=\"Agregar\">\n                            <IconButton aria-label=\"add\" onClick={() => setValueToTrans(cantidadTo)} >\n                                <AddIcon />\n                            </IconButton>\n                        </Tooltip>\n                      </Box>\n                      {\n                        (props.almacenOrigen) ? \n                          <Box  width=\"150px\" >\n                            {\n                              (props.product_selected.inventario_general[0].cantidad_existente_maxima !== null ) ? \n                                <Typography color=\"primary\" style={{flexWrap: \"wrap\"}}>\n                                  {getUnidadMax(props.product_selected.inventario_general[0].cantidad_existente_maxima,props.product_selected.inventario_general[0].unidad_maxima)}\n                                  </Typography>\n                              :\n                              <div/>\n                            }\n                          </Box>\n                        :\n                        <div/>\n                      }\n                    </Grid>\n                   \n                  :    \n                  <div>\n                    <DialogTallas openTallas={props.openTallas} setOpenTallas={props.setOpenTallas} setproduct_selected={setproduct_selected}  product_selected={product_selected} almacenOrigen={props.almacenOrigen} obtenerConsultasProducto={props.obtenerConsultasProducto}refetch={props.refetch}/> \n                  </div> \n                :\n                <div>\n                   <DialogTallas openTallas={props.openTallas} setOpenTallas={props.setOpenTallas} setproduct_selected={setproduct_selected}  product_selected={product_selected} almacenOrigen={props.almacenOrigen} obtenerConsultasProducto={props.obtenerConsultasProducto}refetch={props.refetch}/> \n                </div>\n                /* <Grid width={'100%'} container>\n                  { (product_selected.datos_generales.tipo_producto === 'OTROS') ? \n                    <div>\n                     \n                      <Typography color=\"primary\">Cantidad</Typography>\n                      <TextField\n                          className={classes.inputCantidad}\n                          size=\"small\"\n                          name=\"cantidad\"\n                          variant=\"outlined\"\n                          type=\"number\"\n                          InputProps={{ inputProps: { min: 0 } }}\n                          value={cantidadTo}\n                          onChange={(value) => onlyNumbers(value.target.value)}\n                          \n                      />\n                    \n                      <Tooltip title=\"Agregar\">\n                          <IconButton aria-label=\"add\" onClick={() => setValueToTrans(cantidadTo)} >\n                              <AddIcon />\n                          </IconButton>\n                      </Tooltip>\n                    </div>\n                    :\n                    \n                    <DialogTallas openTallas={openTallas} setOpenTallas={setOpenTallas} setproduct_selected={setproduct_selected}  product_selected={product_selected} almacenOrigen={props.almacenOrigen} obtenerConsultasProducto={props.obtenerConsultasProducto}refetch={props.refetch}/> \n                     \n                     \n                  }\n                  <Box mt={3} >\n                  { (product_selected.datos_generales.tipo_producto !== 'OTROS') ? \n                     <Tooltip title=\"Editar\">\n                        <IconButton aria-label=\"delete\" onClick={() => editItem()} >\n                            <EditIcon />\n                        </IconButton>\n                    </Tooltip> \n                    :\n                    <div/>\n                    }\n                    <Tooltip title=\"Eliminar\">\n                        <IconButton aria-label=\"delete\" onClick={() => deleteItem()} >\n                            <DeleteIcon />\n                        </IconButton>\n                    </Tooltip>\n                  </Box> \n                </Grid> */\n            }\n                \n         \n        </Box>\n      ) : (\n        <div/>\n      )}\n      </Grid>\n      <Dialog open={openEnd} onClose={() => setOpenEnd(false)}>\n            <DialogTitle>{'Est seguro de realizar esta accin?'}</DialogTitle>\n            <DialogActions>\n                <Button onClick={() => setOpenEnd(false)} color=\"primary\">\n                    Cancelar\n                </Button>\n                <Button color=\"secondary\" autoFocus variant=\"contained\" onClick={() => deletesItems()}>\n                    Eliminar\n                </Button>\n            </DialogActions>\n        </Dialog>\n    </Toolbar>\n  );\n};\n\n// EnhancedTableToolbar.propTypes = {\n//   numSelected: PropTypes.number.isRequired,\n// };\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n   \n    marginLeft:theme.spacing(1),\n    marginRight:theme.spacing(1),\n\n\n  },\n  paper: {\n    width: '100%',\n    marginBottom: theme.spacing(2),\n  },\n  table: {\n    minWidth: 600,\n    maxWidth:600\n   \n  },\n  visuallyHidden: {\n    border: 0,\n    clip: 'rect(0 0 0 0)',\n    height: 1,\n    margin: -1,\n    overflow: 'hidden',\n    padding: 0,\n    position: 'absolute',\n    top: 20,\n    width: 1,\n  },\n}));\n\nexport default function EnhancedTable(props) {\n  const classes = useStyles();\n  const [order, setOrder] = useState('asc');\n  const [orderBy, setOrderBy] = useState('calories');\n  const [selected, setSelected] = useState(undefined);\n  const [ openTallas, setOpenTallas] = useState(false);\n  const [cant, setCant] = useState(0);\n   const [error, setError] = useState({error:false, mensaje:''});\n  //const [data, setData] = useState([]);\n  const [page, setPage] = React.useState(0);\n  const [rowsPerPage, setRowsPerPage] = useState(5);\n  const [tipoPieza, setTipoPieza] = useState({piezas: true, cajas: false});\n  const sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\n\n\n  const update = () => {\n   setTipoPieza({...tipoPieza, piezas: !tipoPieza.piezas, cajas: !tipoPieza.cajas})\n }\n \n  const {\n        productosTras, productosTo,   productosEmpTo, setProductosTras\n    } = useContext(TraspasosAlmacenContext);\n\n  const obtenerConsultasProducto = useQuery(OBTENER_CONSULTAS, {\n    variables: { empresa: sesion.empresa._id, sucursal: sesion.sucursal._id },\n  });\n\n  \n  const handleRequestSort = (event, property) => {\n    const isAsc = orderBy === property && order === 'asc';\n    setOrder(isAsc ? 'desc' : 'asc');\n    setOrderBy(property);\n  };\n\n  const handleSelectAllClick = (event) => {\n    if (event.target.checked) {\n      //const newSelecteds = data.map((n) => n.name);\n      setSelected(event.target.checked);\n      return;\n    }\n    setSelected([]);\n  };\n  const data = (!props.add) ?  productosTras  : (!props.almacenOrigen) ? productosEmpTo : productosTo  ; \n\n  const handleClick = (event, elemento, cant) => {\n  setError({error:false, mensaje:''})\n    if(elemento.datos_generales.tipo_producto === 'OTROS'){\n      let haveCant= 0;\n      productosTras.forEach(producto => {\n        if(producto.product_selected._id === elemento._id){\n      \t  \n          haveCant = producto.cantidad_total;\t\t\n        }\n      });\n      \n        setCant(props.add ? haveCant : cant)\n    }\n\n    \n    if(selected!== undefined){\n      const selectedIndex = selected._id === elemento._id;\n     \n      // let newSelected = [];\n      if(selectedIndex){\n          setSelected(undefined);\n      }else{\n          setSelected(elemento);\n      } \n    }else{\n      //console.log(elemento)\n      setSelected(elemento);\n    }\n   \n    \n  };\n    \n  const handleChangePage = (event, newPage) => {\n    setPage(newPage);\n  };\n\n  const handleChangeRowsPerPage = (event) => {\n    setRowsPerPage(parseInt(event.target.value, 10));\n    setPage(0);\n  };\n  const deleteItem =(row) =>{\n    try {\n      \n      let prodSet =  [] ;\n      \n    \n      if(productosTras.length){\n        prodSet = productosTras;\n      }\n      \n    \n      //console.log(prodSet.filter(item => item.product_selected._id !== product_selected._id))\n      setProductosTras(prodSet.filter(item => item.product_selected._id !== row._id));\n\n    } catch (error) {\n\n    }\n  }\n  const setValueToTrans =(cantidad_total) =>{\n  try {\n    //setError({error:false, mensaje:''})\n   \n    if(cantidad_total === 0 || cantidad_total === '') return;\n   let element = productosTras.find(element => element.product_selected._id === selected._id);\n  /*   let elementTablaTo = (props.almacenOrigen !== null) ? \n        productosEmpTo.find(element => element.product_selected._id === product_selected._id)\n        :\n        productosTo.find(element => element.product_selected._id === product_selected._id) */\n  if(element) {\n //console.log(cantidad_total, element)\n      let totalCantExistMasNuevaCantidad = parseFloat(cantidad_total + element.cantidad_total);\n      //SUMA CANTIDAD TOTAL\n      \n      if(props.add){\n        if(selected.inventario_general !== undefined){\n          if( !tipoPieza.piezas ){\n            if(totalCantExistMasNuevaCantidad <=  selected.inventario_general[0].cantidad_existente_maxima){\n              element.cantidad_total = totalCantExistMasNuevaCantidad;\n            }else{\n              setError({error:true, mensaje:'La cantidad ingresada sobrepasa la cantidad existente del producto seleccionado.'})\n            }  \n          }else{\n            if(totalCantExistMasNuevaCantidad <=  selected.inventario_general[0].cantidad_existente){\n              element.cantidad_total = totalCantExistMasNuevaCantidad;\n            \n            }else{\n              setError({error:true, mensaje:'La cantidad ingresada sobrepasa la cantidad existente del producto seleccionado.'})\n            }\n          }\n        }else{\n          element.cantidad_total = totalCantExistMasNuevaCantidad;\n        /*   if(props.add){\n            elementTablaTo.inventario_general[0].cantidad_existente -= cantidad_total;\n          }else{\n            elementTablaTo.cantidad_total -= cantidad_total\n          } */\n\n          \n        }\n      }else{\n\n        element.cantidad_total = parseFloat(cantidad_total);\n      }  \n      setProductosTras([...productosTras]);\n      /*  if(props.almacenOrigen !== null){\n           setProductosEmpTo([...productosTras]);\n        }else{\n           setProductosTo([...productosTras]);\n        } */\n\n      return;\n\n\n    }\n     return;\n  } catch (error) {\n     //console.log(error)\n  }\n}\n\n  \n  function onlyNumbers(value){\n   setError({error:false, mensaje:''})\n      //const onlyNums = value.toString().replace(/[^0-9]/g, '');\n      const intValue = parseFloat(value);\n      try {\n        if(props.almacenOrigen !== null){\n          if( !tipoPieza.piezas  ){\n            if(intValue <= selected.inventario_general[0].cantidad_existente_maxima){\n               setValueToTrans(intValue)\n              //console.log(intValue)\n              return;\n            } \n          }else{\n            \n              if(intValue <= selected.inventario_general[0].cantidad_existente){\n                setValueToTrans(intValue)\n                return;\n              }\n            }\n          }else{\n           \n          \n            \n            return;\n          }\n      } catch (error) {\n        \n      }\n    \n  }\n  const isSelected = (id) => {\n    //return selected.indexOf(name) !== -1;\n    \n    if(selected!== undefined){\n      const selectedIndex = selected._id === id;\n   \n      // let newSelected = [];\n      if(!selectedIndex){\n        return false;\n      }else{\n        return true;\n      } \n    }else{\n      return false;\n    }\n    \n  } \n\n  const editItem =(prod_sel) =>{\n  try {\n  \n  \n    if(prod_sel.datos_generales.tipo_producto !== 'OTROS') {\n      setOpenTallas(true);\n      //console.log(props)\n    }\n   \n  } catch (error) {\n\n  }\n}\n  const emptyRows = rowsPerPage - Math.min(rowsPerPage, data.length - page * rowsPerPage);\n  \n  return (\n    <div className={classes.root}>\n      <Paper className={classes.paper}>\n       \n        <EnhancedTableToolbar \n          product_selected={selected} \n          setproduct_selected={setSelected} \n          openTallas={openTallas}\n          setOpenTallas={setOpenTallas}\n          error={error}\n          setError={setError}\n          title={props.title} add={props.add} almacenOrigen={props.almacenOrigen} productosTras ={productosTras} tipoPieza={tipoPieza} update={update} cant={cant} obtenerConsultasProducto={(obtenerConsultasProducto.data) ? obtenerConsultasProducto.data.obtenerConsultasProducto :[]}refetch={( obtenerConsultasProducto.refetch ) ? obtenerConsultasProducto.refetch : null} />\n        <TableContainer style={{height:'50vh'}}>\n          <Table\n            className={classes.table}\n            aria-labelledby=\"tableTitle\"\n            size={'small'}\n           \n            aria-label=\"a dense table\"\n          >\n            <EnhancedTableHead\n              classes={classes}\n              product_selected={selected}\n              add = {props.add}\n              order={order}\n              orderBy={orderBy}\n              handleSelectAllClick={handleSelectAllClick}\n              onRequestSort={handleRequestSort}\n              rowCount={data.length}\n            />\n            <TableBody>\n              {data\n                .map((row, index) => {\n                \n                  const isItemSelected = isSelected((props.add === true) ? row._id: row.product_selected._id);\n                  const labelId = `enhanced-table-checkbox-${index}`;\n                \n                  if(props.add){\n                    \n                    if(props.almacenOrigen) {\n                 \n                    return (\n                      <TableRow\n                        hover\n                        onClick={(event) => handleClick(event, row)}\n                        role=\"checkbox\"\n                        aria-checked={isItemSelected}\n                        tabIndex={-1}\n                        key={(props.add === true) ? row._id : row.product_selected._id}\n                        selected={isItemSelected}\n                        \n                      >\n                        <TableCell  id={labelId} scope=\"row\">\n                          {(row.datos_generales.codigo_barras == null)? 'SIN CDIGO' : row.datos_generales.codigo_barras}\n                        </TableCell>\n                        <TableCell component=\"th\" id={labelId} scope=\"row\">\n                          {row.datos_generales.nombre_comercial}\n                        </TableCell>\n                        \n                        <TableCell align=\"left\"> {row.datos_generales.tipo_producto}</TableCell>\n                        <TableCell align=\"left\"> {row.inventario_general[0].cantidad_existente }  {row.inventario_general[0].unidad_inventario} </TableCell>\n                        \n                        \n                      \n                      </TableRow>\n                    );\n                    }else{\n                      return(\n                        <TableRow\n                        hover\n                        onClick={(event) => handleClick(event, row)}\n                        role=\"checkbox\"\n                        aria-checked={isItemSelected}\n                        tabIndex={-1}\n                        key={row._id}\n                        selected={isItemSelected}\n                        \n                      >\n                        <TableCell  id={labelId} scope=\"row\">\n                          {(row.datos_generales.codigo_barras == null)? 'SIN CDIGO' : row.datos_generales.codigo_barras}\n                        </TableCell>\n                        <TableCell component=\"th\" id={labelId} scope=\"row\">\n                          {row.datos_generales.nombre_comercial}\n                        </TableCell>\n                        <TableCell align=\"left\"> {row.datos_generales.tipo_producto}</TableCell>\n                        <TableCell align=\"left\"> N/A</TableCell>\n                      </TableRow>\n                      );\n                    }\n                  }else{\n                    \n                    return(\n                    <TableRow\n                      hover\n                      onClick={(event) => handleClick(event, row.product_selected, row.cantidad_total)}\n                      role=\"checkbox\"\n                      aria-checked={isItemSelected}\n                      tabIndex={-1}\n                       key={(props.add === true) ? row._id : row.product_selected._id}\n                      selected={isItemSelected}\n                      \n                    >\n                      <TableCell  id={labelId} component=\"th\" width={100}>\n                        {(row.product_selected.datos_generales.codigo_barras == null)? 'SIN CDIGO' : row.product_selected.datos_generales.codigo_barras}\n                      </TableCell>\n                      <TableCell id={labelId}  width={200}>\n                        {row.product_selected.datos_generales.nombre_comercial}\n                      </TableCell>\n                      <TableCell align=\"left\" > {row.product_selected.datos_generales.tipo_producto}</TableCell>\n                      {\n                        (row.product_selected.datos_generales.tipo_producto  === \"OTROS\") ? \n                          <TableCell align=\"left\"  width={20} > \n                            <TextField\n                              size=\"small\"\n                              name=\"cantidad\"\n                              variant=\"outlined\"\n                              type=\"number\"\n                              InputProps={{ inputProps: { min: 0 } }}\n                              value={row.cantidad_total}\n                              onChange={(value) => onlyNumbers(value.target.value)}\n                            \n                            />\n                          </TableCell> \n                          :\n                          <TableCell align=\"left\"> {row.cantidad_total}</TableCell> \n\n                      }\n\n                      <TableCell align=\"left\" width={10}>\n                        <Box flexDirection={'row'} display=\"flex\" style={{width:75}}>\n                          { (row.product_selected.datos_generales.tipo_producto !== 'OTROS') ? \n                          <Tooltip title=\"Editar\">\n                              <IconButton aria-label=\"edit\" onClick={() => editItem(row.product_selected)} >\n                                  <EditIcon />\n                              </IconButton>\n                          </Tooltip> \n                          :\n                          <div/>\n                          } \n                          <Tooltip title=\"Eliminar\">\n                            <IconButton aria-label=\"delete\" onClick={() => deleteItem(row.product_selected)} >\n                                <DeleteIcon />\n                            </IconButton>\n                          </Tooltip>\n                        </Box>\n                      </TableCell> \n                    </TableRow>\n                    )\n                  }\n                })}\n              {emptyRows > 0 && (\n                <TableRow style={{ height: 53 * emptyRows }}>\n                  <TableCell colSpan={6} />\n                </TableRow>\n              )}\n            </TableBody>\n          </Table>\n        </TableContainer>\n      {/*   <TablePagination\n          rowsPerPageOptions={[5, 10, 25]}\n          component=\"div\"\n          count={data.length}\n          rowsPerPage={rowsPerPage}\n          page={page}\n          onPageChange={handleChangePage}\n          labelRowsPerPage={\"\"}\n          // onRowsPerPageChange={handleChangeRowsPerPage}\n        /> */}\n       \n      </Paper>\n      \n    </div>\n  );\n}","import React, { forwardRef, useEffect, useContext, useState,useCallback } from 'react';\nimport { AppBar, Toolbar, Typography, IconButton, Slide,\n         Button, Box, Dialog, Grid, DialogActions, TextField,Divider,\n         InputLabel, Select, Input, MenuItem, FormControl, useTheme, OutlinedInput, InputAdornment,\n         Stepper, Step, StepLabel, DialogTitle } from '@material-ui/core';\nimport { Search } from \"@material-ui/icons\";\nimport { makeStyles } from '@material-ui/core/styles';\nimport moment from 'moment';\nimport 'moment/locale/es';\nimport { useDebounce } from 'use-debounce';\nimport BackdropComponent from '../../../../components/Layouts/BackDrop';\nimport {Close} from '@material-ui/icons';\n//import ErrorPage from '../../../../components/ErrorPage';\nimport SnackBarMessages from '../../../../components/SnackBarMessages';\n\nimport { FcAdvance } from 'react-icons/fc';\nimport almacenIcon from '../../../../icons/almacen.svg';\nimport TableSelectProducts from '../../../../components/Traspasos/TableSelectProducts';\n\nimport { useQuery, useMutation } from '@apollo/client';\nimport { OBTENER_CONCEPTOS_ALMACEN} from '../../../../gql/Catalogos/conceptosAlmacen';\nimport { OBTENER_ALMACENES, REALIZAR_TRASPASO, OBTENER_CATEGORIAS, OBTENER_PRODUCTOS_EMPRESA} from '../../../../gql/Almacenes/Almacen';\n\nimport { OBTENER_PRODUCTOS } from \"../../../../gql/Catalogos/productos\";\n\n\nimport { TraspasosAlmacenContext } from \"../../../../context/Almacenes/traspasosAlmacen\";\n\nconst useStyles = makeStyles((theme) => ({\n\tappBar: {\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n    icon: {\n\t\tfontSize: 50\n\t},\n    imagen: {\n        width: 50\n    },\n    formInputFlex: {\n\t\tdisplay: 'flex',\n\t\t'& > *': {\n\t\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(1)}px`\n\t\t},\n\t\t'& span': {\n\t\t\tcolor: 'red'\n\t\t}\n\t},\n    subtitle: {\n\t\tmarginLeft: '10px',\n\t\twidth:'50%',\n     \n\t},\n    boxUpData:{\n        height: 80,\n\n    },\n    formControl: {\n        margin: theme.spacing(1),\n        minWidth: 300,\n        maxWidth: 300,\n    },\n    selected2:{\n\t\twidth: '50%',\n\t\theight: 50,\n\t\t\n    },\n    selected:{\n\t\twidth: '50%',\n\t\theight: 50,\n\t\t\n    },\n    input:{\n\t\twidth:'100%'\t\n\t},\n    inputBox:{\n\t\tmargin:20,\n        marginTop:5,\n        marginBottom:10,\n       \n\t},\n    button:{\n\t\tmargin: theme.spacing(3),\n        marginTop: theme.spacing(2),\n        marginBottom: theme.spacing(0)\n\t},\n    boxControl: {\n        margin: theme.spacing(2.5),\n\t\tmarginTop: 0,\n        minWidth: \"20%\",\n        maxWidth: \"20%\",\n        minHeight: 20,\n      \n    },\n    centerControl:{\n        marginTop:10,\n      \n    },\n  \n}));\n\n\nfunction getStyles(almacen, almacenName, theme) {\n  return {\n    fontWeight:\n      almacenName.indexOf(almacen) === -1\n        ? theme.typography.fontWeightRegular\n        : theme.typography.fontWeightMedium,\n  };\n}\n\nconst Transition = forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nconst ITEM_HEIGHT = 200;\nconst ITEM_PADDING_TOP = 8;\nconst MenuProps = {\n  PaperProps: {\n    style: {\n      maxHeight: ITEM_HEIGHT * 4.5 + ITEM_PADDING_TOP,\n      width: 400,\n    },\n  },\n};\n\n\nconst transportes = [\n    'Barco',\n    'Moto',\n    'Carro',\n    'Camioneta'\n];\n\n/* function createData(name, cantidad, precio, unidad) {\n    return { name, cantidad, precio, unidad };\n}  */\n\n\nconst steps = ['Datos traspaso', 'Seleccionar productos'];\n\nexport default function Traspasos() {\n    const classes = useStyles();\n    const theme = useTheme();\n    const sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n    const {\n        setProductos,\n        setProductosTras,\n        setProductosTo,\n        setProductosEmpTo,\n        productosTras\n    } = useContext(TraspasosAlmacenContext);\n    const [ alert, setAlert ] = useState({ message: '', status: '', open: false });\n\tconst [ open, setOpen ] = useState(false);\n    const [ loading, setLoading ] = useState(false);\n    const [ filtro, setFiltro ] = useState('');\n\tconst [value] = useDebounce(filtro, 700);\n\n    const [ haveConcepto, setHaveConcepto ] = useState(false);\n    const [ conceptoTraspaso, setConceptoTraspaso ] = useState(null);\n    const [ isAlmacenOrigen, setIsAlmacenOrigen ] = useState(false);\n    const [ isAlmacenDestino, setIsAlmacenDestino ] = useState(false);\n\n    const [ almacenOrigen, setAlmacenOrigen ] = useState(null);\n    const [ almacenDestino, setAlmacenDestino ] = useState(null);\n    const [almacenesDestino, setAlmacenesDestino] =useState([])\n    const [ transporte, setTransporte ] = useState('');\n    const [ placas, setPlacas ] = useState('');\n    const [ nombreQuien, setNombreQuien ] = useState('');\n  \n    const [activeStep, setActiveStep] = useState(0);\n    const [skipped, setSkipped] = useState(new Set());\n    const [openEnd, setOpenEnd] = useState(false);\n \n    const [ CrearTraspaso ] = useMutation(REALIZAR_TRASPASO); \n\n    let conceptos= [];\n    let almacenes = [];\n    \n    const queryObtenerAlmacenes = useQuery(OBTENER_ALMACENES,{\n        variables: {\n            id: sesion.sucursal._id\n        },\n         fetchPolicy: \"network-only\"\n    });\t\n   /*  const productosAlmacenQuery = useQuery(OBTENER_PRODUCTOS_ALMACEN,{\n\t\tvariables: {\n            empresa: sesion.empresa._id,\n\t\t\tsucursal: sesion.sucursal._id,\n\t\t\tfiltro: value\n\t\t}\n\t});\t */\n\tconst dataConceptos = useQuery(OBTENER_CONCEPTOS_ALMACEN,{\n\t\tvariables: {\n\t\t\tempresa: sesion.empresa._id,\n\t\t\tsucursal: sesion.sucursal._id\n\t\t},\n         fetchPolicy: \"network-only\"\n\t});\n   \n    const categoriasQuery = useQuery(OBTENER_CATEGORIAS,{\n\t\tvariables: {\n            empresa: sesion.empresa._id,\n\t\t\tsucursal: sesion.sucursal._id,\t\n\t\t},\n        fetchPolicy: \"network-only\"\n\t});\n\n    const productosQuery = useQuery(\n    OBTENER_PRODUCTOS,\n    {\n      variables: { \n          empresa: sesion.empresa._id, \n          sucursal: sesion.sucursal._id,\n          filtro: value,\n          almacen: (almacenOrigen ) ? almacenOrigen._id : \"\",\n          existencias: true\n      },\n      fetchPolicy: \"network-only\"\n\n    }\n  );\n\n    const productosEmpresaQuery = useQuery(\n    OBTENER_PRODUCTOS_EMPRESA,\n    {\n        variables: { \n          empresa: sesion.empresa._id, \n          filtro: value,\n        },\n        fetchPolicy: \"network-only\"\n     }\n  );\n    \n    /* const obtenerAlmacenes= useCallback( () =>{\n        try {\n            console.log('obtenerAlmacenes')\n            \n        } catch (error) {\n           console.log(error)\n        }   \n    },[]); */\n\n    const obtenerProductosAlmacen = useCallback(async() =>{\n        try {\n           productosQuery.refetch();\n        } catch (error) {\n            \n        }   \n    },[productosQuery]);\n    \n   \n    \n    useEffect(() => {\n        if(almacenOrigen){\n          \n            setAlmacenesDestino(queryObtenerAlmacenes.data.obtenerAlmacenes.filter(element => element._id !== almacenOrigen._id));\n            obtenerProductosAlmacen();\n        }\n    }, [almacenOrigen ])\n\n\n    const obtenerProductosEmpresa = useCallback(async () =>{\n        try {\n             productosEmpresaQuery.refetch();\n        } catch (error) {\n            console.log('errorObtenerProductosEmpresa',error)\n        }   \n      },[productosEmpresaQuery]);\n\n   \n\n    useEffect(() => {\n        try {\n            if(conceptoTraspaso!== null){\n                if(conceptoTraspaso.origen === 'N/A'){\n                    obtenerProductosEmpresa();\n                } else{\n                    obtenerProductosAlmacen();\n                }      \n            }\n        } catch (error) {\n            console.log('conceptoTraspaso', error)\n        }\n       \n    }, [conceptoTraspaso])    \n\n /*    useEffect(() => {\n\t\t\tdataConceptos.refetch();\n\t},[ dataConceptos ]);  */\n\n     useEffect(() => {\n        \n        if(conceptoTraspaso !== null){\n            if(conceptoTraspaso.destino === 'N/A'){\n                if(almacenOrigen !== null){\n                    setHaveConcepto(true)\n                }else{\n                     setHaveConcepto(false)\n                }\n            \n            }else{\n                if(conceptoTraspaso.origen === 'N/A'){\n                    if(almacenDestino !== null){\n                        setHaveConcepto(true);\n                    }else{\n                        setHaveConcepto(false);\n                    } \n                }else{\n                    if(almacenOrigen !== null && almacenDestino !== null){\n                        setHaveConcepto(true);\n                    }else{\n                        setHaveConcepto(false);\n                    } \n                }\n                \n            }    \n        }\n       \n\t},[conceptoTraspaso, almacenOrigen, almacenDestino ]); \n\n    \n\n     \n    useEffect(\n\t\t() => {\n\t\t\t if(productosEmpresaQuery.data){\n             \n                //setProductos(productosEmpresaQuery.data.obtenerProductosPorEmpresa);\n                //console.log(productosEmpresaQuery.data)\n                setProductosEmpTo(productosEmpresaQuery.data.obtenerProductosPorEmpresa);\n            }\n    },[ productosEmpresaQuery.data, setProductosEmpTo ]);  \n\n\n    useEffect(\n\t\t() => {\n            if(productosQuery.data ){\n                setProductos(productosQuery.data.obtenerProductos);\n                setProductosTo(productosQuery.data.obtenerProductos)\n                return;\n            }    \n\t\t},\n\t\t[ productosQuery, setProductos, setProductosTo ]\n\t); \n    \n    useEffect(\n\t\t() => {\n\t\t\tsetLoading(true);\n\t\t\tcategoriasQuery.refetch();\n\t\t\tsetLoading(false);\n\t\t},\n\t\t[ categoriasQuery ]\n\t); \n  \n\n\tconst handleClickOpen = () => {\n\t\tsetOpen(true);\n\t};\n\n\tconst handleClose = () => {\n\t\tsetOpen(false);\n\t};\n\n     const handleChange = (event) => {\n        setAlmacenOrigen(event.target.value);\n       /*   productosQuery.refetch({\n            variables: { \n            \n                almacen: event.target.value._id,\n                existencias: true\n            },\n        });  */\n        setProductosTras([]);\n        return;\n    };\n\n    const handleChangeDestino = (event) => {\n        //console.log(event)\n        setAlmacenDestino(event.target.value);\n        setProductosTras([]);\n        return;\n    };\n\n     const handleChangeConcepto = (event) => {\n        try {\n            \n            let concepto = event.target.value;  \n            setAlmacenesDestino([]);\n            almacenes = [];\n            setAlmacenOrigen(null); \n            setAlmacenDestino(null);\n            if(concepto.origen === 'N/A'){\n                setAlmacenesDestino( queryObtenerAlmacenes.data.obtenerAlmacenes)\n            }else{\n                setAlmacenesDestino([])\n            }\n          \n            setIsAlmacenOrigen((concepto.origen === 'N/A') ? false:true);\n            setIsAlmacenDestino((concepto.destino === 'N/A') ? false:true);\n           \n            setConceptoTraspaso(concepto);    \n        } catch (error) {\n            //console.log(error)\n        }\n      \n    };\n    \n      const handleChangeTransporte = (event) => {\n        setTransporte(event.target.value);\n    };\n\n    const isStepOptional = (step) => {\n        return step === 1;\n    };\n\n    const isStepSkipped = (step) => {\n        return skipped.has(step);\n    };\n\n    const handleNext = () => {\n        /* if(conceptoTraspaso === null ) {setAlert({message:'No es posible continuar sin seleccionar un concepto.', status: 'error', open: true });  return}\n        if( isAlmacenOrigen && almacenOrigen === null)  {setAlert({message:'No es posible continuar sin seleccionar un almacn origen.', status: 'error', open: true });  return }   \n        if(isAlmacenDestino && almacenDestino === null) { setAlert({message:'No es posible continuar sin seleccionar un almacn destino.', status: 'error', open: true }); return}    */\n        \n        let newSkipped = skipped;\n        if (isStepSkipped(activeStep)) {\n            newSkipped = new Set(newSkipped.values());\n            newSkipped.delete(activeStep);\n        }\n\n        setActiveStep((prevActiveStep) => prevActiveStep + 1);\n        setSkipped(newSkipped);\n        \n    };\n\n    const handleBack = () => {\n        \n        setActiveStep((prevActiveStep) => prevActiveStep - 1);\n    };\n\n    /* const handleSkip = () => {\n        if (!isStepOptional(activeStep)) {\n        // You probably want to guard against something like this,\n        // it should never occur unless someone's actively trying to break something.\n        throw new Error(\"You can't skip a step that isn't optional.\");\n        }\n\n        setActiveStep((prevActiveStep) => prevActiveStep + 1);\n        setSkipped((prevSkipped) => {\n        const newSkipped = new Set(prevSkipped.values());\n        newSkipped.add(activeStep);\n        return newSkipped;\n        });\n    };\n\n    const handleReset = () => {\n        setActiveStep(0);\n    }; */\n\n\n   /*  if(categoriasQuery.data){\n\t\tcategorias = categoriasQuery.data.obtenerCategorias;\n\t}  */\n   \n    if(dataConceptos.data){\n\t\tconceptos = dataConceptos.data.obtenerConceptosAlmacen;\n\t}\n\n    if(queryObtenerAlmacenes.data){\n        almacenes = queryObtenerAlmacenes.data.obtenerAlmacenes;\n       \n    }\n\n   \n   \n   /*  const filtrarProductos = (event) => {\n        event.preventDefault();\n        if(almacenOrigen !== ''){\n            productosQuery.refetch();\n        }else{\n            productosEmpresaQuery.refetch();\n        }\n    }; */\n\n    const handleModal = () => {\n        setOpenEnd(!openEnd)\n    }\n\n    const traspasar = async () => {\n        try {\n          \n            if(productosTras.length){\n               setOpenEnd(false)\n               setLoading(true)\n                //let productTrasTo = productosTras;\n             const input =  {\n                variables: {\n                    input: {\n                        concepto_traspaso: {\n                            _id: conceptoTraspaso._id, \n                            nombre_concepto: conceptoTraspaso.nombre_concepto,\n                            destino: conceptoTraspaso.destino,\n                            origen: conceptoTraspaso.origen,\n                            editable: conceptoTraspaso.editable,\n                        },\n                        almacen_origen: (almacenOrigen !== null) ? almacenOrigen._id : '',\n                        almacen_destino: (almacenDestino !== null) ? almacenDestino._id : '',\n                        productos: productosTras,\n                        datos_transporte :{\n                            transporte: transporte,\n                            placas: placas,\n                            nombre_encargado: nombreQuien\n                        },\n                        sucursalOrigen: sesion.sucursal._id,\n                        sucursalDestino: sesion.sucursal._id,\n                        fecha_registro: moment().locale(\"es-mx\").format()\n                    },\n                    usuario: sesion._id,\n                    empresa: sesion.empresa._id\n                }\n            }  \n           \n             const traspaso =    await CrearTraspaso(input) \n           \n                //console.log(traspaso)\n                setAlert({message: traspaso.data.crearTraspaso.message, status: traspaso.data.crearTraspaso.resp, open: true })\n                if(traspaso.data.crearTraspaso.resp !== 'error'){\n                    setProductosTras([]);\n                    setAlmacenOrigen(null);\n                    setAlmacenDestino(null);\n                    setConceptoTraspaso(null);\n                    handleBack();\n                }\n                \n            }else{\n                \n                setAlert({message:'No es posible realizar un traspaso sin agregar productos.', status: 'error', open: true })\n           \n            }\n            \n           \n           \n            setLoading(false);\n        } catch (error) {\n             setLoading(false);\n             setOpenEnd(false)\n           if(error.networkError !== undefined){\n\t\t\t  console.log('traspaso networkError', error.networkError)\n            }else if(error.graphQLErrors!== undefined){\n                console.log('traspaso graphQLErrors', error.graphQLErrors)\n            }else{\n             \n              \n            }\n             setAlert({message: 'Ocurri un error al realizar el traspaso...', status: 'error', open: true })\n        }\n    }\n\n   \n\n    return (\n        <>\n        <Box sx={{ width: '100%',  }}>\n            <Button fullWidth onClick={handleClickOpen}>\n                <Box display=\"flex\" flexDirection=\"column\">\n                    <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n                        <FcAdvance className={classes.icon} />\n\t\t\t\t\t</Box>\n                    <Grid container spacing={10} justify=\"center\" >\n                        <Grid item lg={2} >\n                            <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n                                    <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n                                        <img src={almacenIcon} alt=\"icono almacen\" className={classes.imagen}/>\n                                    </Box>\n                            </Box>\n                        </Grid>\n                        <Grid item lg={2} >\n                            <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n                                <Box display=\"flex\" flexDirection=\"column\">\n                                    <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n                                        <img src={almacenIcon} alt=\"icono almacen\" className={classes.imagen} />\n                                    </Box>\n                                </Box>\n                            </Box>\n                        </Grid>\n                    </Grid>\n                    Traspasos\n                </Box>\n\t\t\t\t\t\n\t\t\t</Button>\n\t\t\t<Dialog fullScreen open={open} onClose={handleClose} TransitionComponent={Transition}>\n                <BackdropComponent loading={loading} setLoading={setLoading} />\n                <AppBar className={classes.appBar}>\n               \n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t<Typography variant=\"h6\" className={classes.title}>\n                                Traspasos\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Box mx={3}>\n                            <Box m={1}>\n                                <Button  variant=\"contained\" color=\"secondary\"onClick={handleClose}>\n                                    <Close style={{ fontSize: 30}}/>\n                                </Button>\n                            </Box>\n                        </Box>\n                        <IconButton edge=\"start\" color=\"inherit\" onClick={handleClose} aria-label=\"close\">\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</AppBar>\n                <Box style={{ width: '50%',alignSelf:'center', alignContent:'center', alignItems:'center' }}>\n                  \n                    <Stepper activeStep={activeStep}>\n                        {steps.map((label, index) => {\n                        const stepProps = {};\n                        const labelProps = {};\n                    \n                        if (isStepSkipped(index)) {\n                            stepProps.completed = false;\n                        }\n                        return (\n                            <Step key={label} {...stepProps}>\n                            <StepLabel {...labelProps}>{label}</StepLabel>\n                            </Step>\n                        );\n                        })}\n                    </Stepper>\n                </Box>\n                <Box >\n                {\n                (activeStep === 0) ? \n                    <Grid container  justify=\"center\" >\n                        <Grid item lg={6}>\n                            <Box>\n                                <Box >\n                                    <Typography className={classes.subtitle}  >\n                                        <b>Datos traspaso</b>\n                                    </Typography>\n                                    <Divider />\n                                \n                                    <Box mt={2} style={{display: 'flex', width:'100%', justifyContent: 'center'}}>\n                                        <Box m={3}>\n                                            <Typography><b>Usuario</b></Typography>\n                                            <Typography> {sesion.nombre} </Typography>\n                                        </Box>\n                                        <Box m={3}>\n                                            <Typography><b>Sucursal</b></Typography>\n                                            <Typography> {sesion.sucursal.nombre_sucursal} </Typography>\n                                        </Box>\n                                        <Box m={3}>\n                                            <Typography><b>Fecha</b></Typography>\n                                            <Typography> \t{moment().format('MM/DD/YYYY')} </Typography>\n                                        </Box>\n                                    \n                                    </Box>\n                                    <Box m={2}   style={{width:'100%', justifyContent: 'center'}}>\n                                        <Box style={{width:'100%'}}>\n                                            <FormControl className={classes.formControl}>\n                                                <InputLabel id=\"concepto-label\">Concepto traspaso</InputLabel>\n                                                <Select\n                                                labelId=\"concepto-label\"\n                                                id=\"concepto-name\"\n                                                value={(conceptoTraspaso) ? conceptoTraspaso : \"\"}\n                                                onChange={handleChangeConcepto}\n                                                input={<Input />}\n                                                MenuProps={MenuProps}\n                                                >\n                                                {conceptos.map((concepto) => {\n                                                \n                                                    return(\n                                                    <MenuItem key={concepto._id} value={concepto} >\n                                                        {concepto.nombre_concepto}\n                                                    </MenuItem>\n                                                    )})\n                                                }\n                                                </Select>\n                                            </FormControl>\n                                        </Box>\n                                    {\n                                        (conceptoTraspaso !== null) ? \n                                        <Box style={{display: 'flex'}}>\n                                            {   \n                                                \n                                                (isAlmacenOrigen) ?\n                                                <Box> \n                                                    <FormControl className={classes.formControl}>\n                                                        <InputLabel id=\"almacen-origen-label\">Almacn origen</InputLabel>\n                                                        <Select\n                                                        labelId=\"almacen-origen-label\"\n                                                        id=\"almacen-origen-name\"\n                                                        value={(almacenOrigen) ? almacenOrigen : \"\"}\n                                                        onChange={handleChange}\n                                                        input={<Input />}\n                                                        MenuProps={MenuProps}\n                                                        >\n                                                        {almacenes.map((almacen) => (\n                                                            <MenuItem key={almacen._id} value={almacen}>\n                                                                {almacen.nombre_almacen}\n                                                            </MenuItem>\n                                                        ))}\n                                                        </Select>\n                                                    </FormControl>\n                                                </Box>\n                                                :\n                                                <></>\n                                            }\n                                            \n                                            {\n                                                (isAlmacenDestino) ? \n                                                <FormControl className={classes.formControl}>\n                                                    <InputLabel id=\"almacen-destino-label\">Almacn destino</InputLabel>\n                                                    <Select\n                                                    labelId=\"almacen-destino-label\"\n                                                    id=\"almacen-destino-name\"\n                                                    value={(almacenDestino) ? almacenDestino : \"\"}\n\n                                                    onChange={handleChangeDestino}\n                                                    input={<Input />}\n                                                    MenuProps={MenuProps}\n                                                    >\n                                                    {almacenesDestino.map((almacen) => (\n                                                        <MenuItem key={almacen._id} value={almacen} >\n                                                        {almacen.nombre_almacen}\n                                                        </MenuItem>\n                                                    ))}\n                                                    </Select>\n                                                </FormControl>\n\n                                                :\n                                                <></>\n                                            }\n                                           \n                                        </Box> \n                                        :\n                                        <></>\n                                        \n                                    } \n                                    \n                                    </Box>   \n                                </Box>      \n                                <Box className={classes.centerControl}   style={{width:'100%'}} >\n                                    <Typography className={classes.subtitle}>\n                                        <b>Datos transporte traspaso</b>\n                                    </Typography>\n                                    <Divider />\n                                \n                                    <Grid  justify=\"center\" >\n                                        \n                                        <FormControl className={classes.formControl} style={{marginTop:15}}>\n                                            \n                                            <InputLabel id=\"transporte-label\">Transporte</InputLabel>\n                                            <Select\n                                            labelId=\"transporte-label\"\n                                            id=\"transporte-name\"\n                                            value={transporte}\n                                            onChange={handleChangeTransporte}\n                                            input={<Input />}\n                                            \n                                            MenuProps={MenuProps}\n                                            >\n                                            {transportes.map((trans) => (\n                                                <MenuItem key={trans} value={trans} style={getStyles(trans, transporte, theme)}>\n                                                {trans}\n                                                </MenuItem>\n                                            ))}\n                                            </Select>\n                                            \n                                        </FormControl>\n                                        <Box  justify=\"center\" >\n                                        <FormControl className={classes.formControl}>\n                                        \n                                            <Typography>\n                                                Placas\n                                            </Typography>\n                                            <TextField\n                                                fullWidth\n                                                className={classes.input}\n                                                type=\"text\"\n                                                size=\"small\"\n                                                name=\"placas\"\n                                                variant=\"outlined\"\n                                                value={placas.toUpperCase()}\n                                                \n                                                onChange={(e) => setPlacas(e.target.value)}\n                                            />\n                                        \n                                        </FormControl>\n                                        <FormControl className={classes.formControl}>\n                                        \n                                            <Typography>\n                                                Nombre de encargado de transporte\n                                            </Typography>\n                                            <TextField\n                                                fullWidth\n                                                className={classes.input}\n                                                type=\"text\"\n                                                size=\"small\"\n                                                name=\"nombreQuien\"\n                                                variant=\"outlined\"\n                                                value={nombreQuien}\n                                                \n                                                onChange={(e) => setNombreQuien(e.target.value)}\n                                            />\n                                        </FormControl>\n                                        </Box>\n                                    </Grid>\n                                </Box>\n                            </Box>\n                        </Grid>\n                    </Grid>\n                :\n                    <Box>\n                        <Box ml={1} style={{width:'100%'}}  >\n                            <Box ml={2}>\n                            <Typography className={classes.subtitle}>\n                                <b>Buscar producto</b>\n                            </Typography>\n                            <Box  style={{ width: \"35%\" }}>\n                                \n                                    <FormControl variant=\"outlined\" fullWidth size=\"small\">\n                                    <OutlinedInput\n                                        id=\"search-producto\"\n                                        type=\"text\"\n                                        value={filtro}\n                                        onChange={(e) => setFiltro(e.target.value)}\n                                        endAdornment={\n                                        <InputAdornment position=\"start\">\n                                            <IconButton\n                                            type=\"submit\"\n                                            aria-label=\"search producto\"\n                                            edge=\"end\"\n                                            >\n                                            <Search />\n                                            </IconButton>\n                                        </InputAdornment>\n                                        }\n                                    />\n                                    </FormControl>\n                                    \n                                \n                            </Box>\n                            </Box>\n                            <Box  mt={2}>\n                                <Grid container spacing={2} style={{width:'100%'}}>\n                                    <Grid item md={6}>\n                                    {\n                                        (isAlmacenOrigen) ? \n                                    \n                                        <TableSelectProducts title='Productos' add={true} almacenOrigen={almacenOrigen} />\n                                        :\n                                        <TableSelectProducts title='Productos' add={true} almacenOrigen={null} />   \n                                    }\n                                    </Grid>\n                                    <Grid item md={6}>\n                                        <TableSelectProducts title='Productos a traspasar' add={false} almacenOrigen={almacenOrigen}  />\n                                    </Grid>\n                                </Grid>\n                            </Box>\n                        </Box>\n                    </Box>\n                }\n                \n                   <DialogActions style={{justifyContent:'center'}}>\n                    <Box sx={{ flexDirection: 'row',alignSelf: 'center',  width: '15%',display: 'flex', pt: 2 }} >\n                            <Button\n                            color=\"inherit\"\n                            disabled={activeStep === 0}\n                            onClick={handleBack}\n                            sx={{ mr: 1 }}\n                            >\n                            Atrs\n                            </Button>\n                            <Box style={{ flex: '1 1 auto' }} />\n                            {/*     {isStepOptional(activeStep) && (\n                                <Button color=\"inherit\" onClick={handleSkip} sx={{ mr: 1 }}>\n                                    Skip\n                                </Button>\n                                )} */}\n                            \n                                <Button disabled={!haveConcepto} onClick={() => (activeStep < steps.length -1) ? handleNext() : handleModal()}>\n                                    {activeStep < steps.length -1   ? 'Siguiente' : 'Terminar'}\n                                </Button>\n                        \n                        </Box>\n                   </DialogActions>    \n                </Box>\n                <Dialog open={openEnd} onClose={handleModal}>\n                    <DialogTitle>{'Est seguro de realizar este traspaso?'}</DialogTitle>\n                    <DialogActions>\n                        <Button onClick={() => handleModal()} color=\"primary\">\n                            Cancelar\n                        </Button>\n                        <Button color=\"secondary\" autoFocus variant=\"contained\" onClick={() => traspasar()}>\n                            Traspasar\n                        </Button>\n                    </DialogActions>\n                </Dialog>\n               \n\t        <SnackBarMessages alert={alert} setAlert={setAlert} />  \n            \n\t\t\t</Dialog>\n            \n               \n        </Box>\n        </>\n    )\n}","import React, {useEffect, useState, useContext} from 'react';\nimport { TraspasosAlmacenContext } from \"../../../../context/Almacenes/traspasosAlmacen\";\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport Paper from '@material-ui/core/Paper';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport ErrorPage from '../../../../components/ErrorPage'\n\nimport { useQuery } from '@apollo/client';\nimport { OBTENER_ALMACENES } from '../../../../gql/Almacenes/Almacen';\n\nconst useStyles = makeStyles({\n\troot: {\n\t\twidth: '100%'\n\t},\n\tcontainer: {\n\t\t\n\t\tmaxHeight: '76vh'\n\t}\n});\n\nconst Rowrow = (rowProps) => {\n\tconst {dataExcel, setDataExcel} = useContext(TraspasosAlmacenContext);\t\n\tconst [dataExcelHere, setDataExcelHere] = useState([]);\t\n\tconst [arrayCantidades , setArrayCantidades] = useState([]);\n\tconst [row, setRow] = useState({'codigo_barras' : rowProps.producto.datos_generales.codigo_barras, \"nombre_comercial\":rowProps.producto.datos_generales.nombre_comercial, style: {\n\t\t\t\t\tfont: { sz: '12' },\n\t\t\t\t\talignment: { wrapText: true, horizontal: 'center', vertical: 'top' },\n\t\t\t\t\tborder: { bottom: { style: 'thin', color: { rgb: '000000' } } \n\t\t\t\t}}});\n\tconst [total , setTotal] = useState(0)\n\tconst [unidad_minima , setUnidad_Minima] = useState('')\n\t\t\n\t\t\n\t\tuseEffect(() => {\n\t\t\tlet tot= 0;\n\t\t\tlet r = row;\n\t\t\tlet datExc = dataExcel;\n\t\t\trowProps.obtenerAlmacenes.forEach((almacenColumna) => {\n\t\t\t\tconst existencias =\trowProps.producto.existencia_almacenes.filter((existencia) => existencia._id.almacen._id === almacenColumna._id)\n\n\t\t\t\tif(existencias.length > 0){\n\t\t\t\t\tarrayCantidades.push(existencias[0].cantidad_existente )\n\t\t\t\t\tsetUnidad_Minima((existencias[0].unidad_inventario !== null) ? existencias[0].unidad_inventario: 'pz');\n\t\t\t\t\tr = {...r, [almacenColumna._id]: existencias[0].cantidad_existente + \" \" + unidad_minima };\n\t\t\t\t\ttot +=  existencias[0].cantidad_existente;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t\n\t\t\t\telse{\n\t\t\t\t\tarrayCantidades.push(0);\n\t\t\t\t\tr = {...r, [almacenColumna._id]:0   };\t\n\t\t\t\t}\n\t\t\t});\t \n\t\t\tr = {...r, total:tot + \" \" + unidad_minima };\n\n\t\t\tsetTotal(tot)\n\t\t\tsetRow(r);\n\t\t\tdatExc.push(r);\n\t\t\t//console.log( 'DATA EXCEL LISTA PROductos' , datExc)\n\t\t\t\n\t\t\n\t\t \t\n\t\t\tif(rowProps.index === rowProps.productosLength -1){\n\t\t\t\t\n\t\t\t\tsetDataExcelHere(datExc);\n\t\t\t} \n\t\t\n\t\t}, []);\n\n\t\tuseEffect(() => {\n\t\t\n\t\t\tif(dataExcelHere){\n\t\t\t\tsetDataExcel(dataExcelHere);\n\t\t\t}\n\t\t\n\t\t}, [dataExcelHere])\n\t\t\n\t\treturn(\n\t\t\t<TableRow hover role=\"checkbox\" tabIndex={-1} key={rowProps.producto._id} >\n\t\t\t\t<TableCell style={{minWidth:60}} >{rowProps.producto.datos_generales.codigo_barras}</TableCell>\n\t\t\t\t\t\t\n\t\t\t\n\t\t\t\t<TableCell style={{minWidth:170}} >{rowProps.producto.datos_generales.nombre_comercial}</TableCell>\n\t\t\t\n\t\t\t\n\t\t\t\t{/* <TableCell style={{textAlign: 'center',}} >{(producto.datos_generales.receta_farmacia) ? \"SI\" : \"NO\"}</TableCell> */}\n\t\t\t\t{ \n\t\t\t\t\tarrayCantidades.map((cantidad, index) => {\n\t\t\t\t\t\treturn(<TableCell key={index} style={{backgroundColor:'rgba(255, 253, 150, 0.1)', color:'black',fontSize:17, textAlign:'center',minWidth:60 }}>{cantidad + \" \" + unidad_minima}</TableCell>)\t\n\t\t\t\t\t})\t\n\t\t\t\t}\n\t\t\t\t<TableCell  style={{backgroundColor:'rgba(255, 253, 150, 0.1)', color:'black', fontSize:18,fontWeight:'bold', textAlign:'center' ,minWidth:60}}>{total + \" \" + unidad_minima }</TableCell>\n\t\t\t\t\n\t\t\t</TableRow>\n\t\t)\n\t}\nexport default function ListaAlmacenes(props) {\n\tconst classes = useStyles();\n\t\n\t\n\t//const sesion = JSON.parse(localStorage.getItem('sesionCafi'));\t\n\t// const almacenesColumnas = [];\n\t// const productosRows = [];\n\t\t/* Queries */\n\t/* const { loading, error, refetch } = useQuery(OBTENER_ALMACENES,{\n\t\tvariables: {\n\t\t\tid: sesion.sucursal._id\n\t\t}\n\t});\t */\n   \n\t\n\n\t/* useEffect(\n\t\t() => {\n\t\t\trefetch();\n\t\t},\n\t\t[ refetch ]\n\t); */\n\t\n\n\t\n\t\n/* \tconst handleChangePage = (event, newPage) => {\n\t\tsetPage(newPage);\n\t};\n\n\tconst handleChangeRowsPerPage = (event) => {\n\t\tsetRowsPerPage(+event.target.value);\n\t\tsetPage(0);\n\t}; */\n\n\t/* if (loading)\n\treturn (\n\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" height=\"30vh\">\n\t\t\t<CircularProgress />\n\t\t</Box>\n\t);\n\tif (error) {\n\t\tconsole.log(error)\n\t\treturn <ErrorPage error={error} />;\n\t} */\n\n\t\n\treturn (\n\t\t<div>\n\t\t\n\t\t<Paper className={classes.root}>\n\t\t\n\t\t\t<TableContainer className={classes.container}>\n\t\t\t\t<Table stickyHeader size={'small'} aria-label=\"a dense table\">\n\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t{props.columns.map((column, index) => (\n\t\t\t\t\t\t\t\t<TableCell key={column.id} align={column.align} style={{textAlign:(index > 1)? 'center': 'left', minWidth: column.minWidth, width: column.minWidth}}>\n\t\t\t\t\t\t\t\t\t{column.label}\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t))}\t\n\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t</TableHead>\n\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t{props.productos.map((row, index) => {\n\t\t\t\t\t\t    let key =  index;\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<Rowrow producto={row} index={key} key={index} productosLength={props.productos.length} dataExcel ={props.dataExcel} setDataExcel={props.setDataExcel} obtenerAlmacenes={props.obtenerAlmacenes} />\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t\t</TableBody>\n\t\t\t\t</Table>\n\t\t\t</TableContainer>\n\t\t\t{/* <TablePagination\n\t\t\t\trowsPerPageOptions={[ 10, 25, 100 ]}\n\t\t\t\tcomponent=\"div\"\n\t\t\t\tcount={props.productos.length}\n\t\t\t\trowsPerPage={rowsPerPage}\n\t\t\t\tpage={page}\n\t\t\t\tonChangePage={handleChangePage}\n\t\t\t\tonChangeRowsPerPage={handleChangeRowsPerPage}\n\t\t\t\tlabelRowsPerPage={\"Renglones por pgina\"}\n\t\t\t/> */}\n\t\t\t\n\t\t</Paper>\n\t\t\n\t\t</div>\n\t);\n}\n","import React, { Fragment } from 'react';\nimport DescriptionOutlinedIcon from '@material-ui/icons/DescriptionOutlined';\n\n\nimport { withRouter } from 'react-router-dom';\nimport { Grid, Button } from '@material-ui/core';\nimport ExcelFile from 'react-export-excel/dist/ExcelPlugin/components/ExcelFile'\n\nimport ExcelSheet from 'react-export-excel/dist/ExcelPlugin/elements/ExcelSheet';\nimport ExcelColumn from 'react-export-excel/dist/ExcelPlugin/elements/ExcelColumn';\n\n//Este componente requiere el ArrayData, ArrayColumn, fileName\nfunction ExportarExcel(props) {\n\treturn (\n\t\t<Fragment>\n            <Grid>\n                <Grid item>\n                <ExcelFile\n\t\t\t\t\t\n\t\t\t\t\telement={\n\t\t\t\t\t\t<Button variant=\"contained\" color=\"primary\"startIcon={<DescriptionOutlinedIcon />}>\n\t\t\t\t\t\t\tExportar a Excel\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t}\n\t\t\t\t\tfilename={props.fileName}\n\t\t\t\t>\n\t\t\t\t\t<ExcelSheet data={props.data} name={props.fileName}>\n                        {props.columnName.map((element) => {\n                            return(\n                                <ExcelColumn key={element.id} label={element.label} value={element.id} />\n                            )\n                        }\n                        )}\n\t\t\t\t\t\n\t\t\t\t\t</ExcelSheet>\n\t\t\t\t</ExcelFile>\n                </Grid>\n            </Grid>\n\t\t</Fragment>\n\t);\n}\n\nexport default withRouter(ExportarExcel);","import React, { forwardRef, useContext, useState, useEffect } from 'react';\nimport { AppBar, Toolbar, Typography, IconButton,FormControl,\nSlide, Button, Box, Dialog, OutlinedInput, InputAdornment,CircularProgress} from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Search } from \"@material-ui/icons\";\nimport { useQuery } from '@apollo/client';\nimport {Close} from '@material-ui/icons';\nimport ListaProductos from './ListaProductos'\nimport ExportarExcel from '../../../../components/ExportExcel'\nimport ErrorPage from '../../../../components/ErrorPage'\nimport { useDebounce } from 'use-debounce';\nimport { TraspasosAlmacenContext } from \"../../../../context/Almacenes/traspasosAlmacen\";\nimport { OBTENER_PRODUCTOS_ALMACEN, OBTENER_CATEGORIAS,OBTENER_ALMACENES } from '../../../../gql/Almacenes/Almacen';\n\nconst useStyles = makeStyles((theme) => ({\n\tappBar: {\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n\tboxControl: {\n        margin: theme.spacing(2.5),\n\t\tmarginTop: 0,\n        minWidth: \"20%\",\n        maxWidth: \"20%\",\n    },\n    icon: {\n\t\tfontSize: 100\n\t},\n\timagen: {\n\t\twidth: 100\n\t},\n\tinputBox:{\n\t\tmargin:20\n\t},\n\tbutton:{\n\t\tmargin: theme.spacing(3),\n\t}\n}));\n\nconst Transition = forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\n\nexport default function InventariosPorAlmacen() {\n    const classes = useStyles();\n\tconst [ open, setOpen ] = useState(false);\n\t\n\tconst handleClickOpen = () => {\n\t\tsetOpen(true);\n\t};\n\n\tconst handleClose = () => {\n\t\tsetOpen(false);\n\t};\n\t\n\t\n\n    return (\n        <div>\n            <Button fullWidth onClick={handleClickOpen}>\n\t\t\t\t<Box display=\"flex\" flexDirection=\"column\">\n\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t<img src={'https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/conceptosAlmacen.svg'} alt=\"icono almacen\" className={classes.imagen}/>\n\t\t\t\t\t</Box>\n\t\t\t\t\tInventario por almacen\n\t\t\t\t</Box>\n\t\t\t</Button>\n\t\t\t<InventarioPorAlmacen open={open} handleClose={handleClose} />\n        </div>\n    )\n}\n\nconst InventarioPorAlmacen = (props) =>{\n\tconst classes = useStyles();\n\tconst [ loading, setLoading ] = useState(true);\n\t  \n\tconst [ filtro, setFiltro ] = useState('');\n\n\tconst {dataExcel, setDataExcel } = useContext(TraspasosAlmacenContext);\n\t\n\tconst [ productos, setProductos] = \tuseState([]);\n\tconst [ obtenerAlmacenes, setObtenerAlmacenes] = \tuseState([]);\n\t// const [ almacen, setAlmacen ] = React.useState('');\n\n\tconst [value] = useDebounce(filtro, 700);\n\tconst sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\n\t\n\t// let tipos = ['ROPA','CALZADO','OTROS'];\n\tconst [columns, setColumns] = useState([])\n\t\n\t \t/* Queries */\n\t//const {  data, error, refetch } = useQuery(OBTENER_PRODUCTOS_ALMACEN,{\n    const productosAlmacenQuery = useQuery(OBTENER_PRODUCTOS_ALMACEN,{\n\t\tvariables: {\n            empresa: sesion.empresa._id,\n\t\t\tsucursal: sesion.sucursal._id,\n\t\t\tfiltro: value\n\t\t}\n\t});\t\n\n\tconst categoriasQuery = useQuery(OBTENER_CATEGORIAS,{\n\t\tvariables: {\n            empresa: sesion.empresa._id,\n\t\t\tsucursal: sesion.sucursal._id,\t\n\t\t}\n\t});\n\t\n\tconst queryObtenerAlmacenes = useQuery(OBTENER_ALMACENES,{\n\t\tvariables: {\n\t\t\tid: sesion.sucursal._id\n\t\t}\n\t});\t\n\t\n\n\tuseEffect(\n\t\t() => {\n\t\t\tqueryObtenerAlmacenes.refetch();\n\t\t},\n\t\t[ queryObtenerAlmacenes.update, queryObtenerAlmacenes ]\n\t);\n\n\t\n\tuseEffect(\n\t\t() => {\n\t\t\tif(props.open){\n\t\t\t\tsetDataExcel([])\n\t\t\t\tproductosAlmacenQuery.refetch();\n\t\t\t\tqueryObtenerAlmacenes.refetch();\n\t\t\t\tsetLoading(false);\n\t\t\t}\n\t\t\t\n\t\t},\n\t\t[props.open ]\n\t);\n\t\n\tuseEffect(\n\t\t() => {\n\t\tif(productosAlmacenQuery.data){\n\t\t\t//setDataExcel([]);\n\t\t\tsetProductos(productosAlmacenQuery.data.obtenerProductosAlmacenes);\n\t\t}\n\t\t},\n\t\t[ productosAlmacenQuery.data]\n\t);\n\n\tuseEffect(\n\t\t() => {\n\t\t\tif(queryObtenerAlmacenes.data){\n\t\t\t\tconst columnsEffect = [\n\t\t\t\t\t{ id: 'codigo_barras', label: 'Cdigo de barras', minWidth: 60 , widthPx: 160, },\n\t\t\t\t\t{ id: 'nombre_comercial', label: 'Nombre comercial', minWidth: 170, widthPx: 160, }\n\t\t\t\t];\n\t\t\t\tlet almace = queryObtenerAlmacenes.data.obtenerAlmacenes;\n\t\t\t\talmace.forEach(element => {\n\t\t\t\t\t\t\t\n\t\t\t\t\tcolumnsEffect.push({ id: element._id, label: element.nombre_almacen, minWidth: 60, widthPx: 160,})\n\t\t\t\t}); \n\t\t\t\tcolumnsEffect.push({ id: 'total', label: 'Total existencias', minWidth: 60, widthPx: 160,})\n\t\t\t\tsetObtenerAlmacenes(almace);\n\t\t\t\tsetColumns(columnsEffect);\n\t\t\t}\n\t\t\t\n\t\t},\n\t\t[ queryObtenerAlmacenes.data]\n\t);\n\n\t\n\t\n\t\n\t\n\n\t \n\treturn(\n\t\t<Dialog fullScreen open={props.open} onClose={props.handleClose} TransitionComponent={Transition}>\n\t\t\t\t<AppBar className={classes.appBar}>\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t<Typography variant=\"h6\" className={classes.title}>\n                                Inventario por almacn\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Box mx={3}>\n\t\t\t\t\t\t\t<Box m={1}>\n\t\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"secondary\" onClick={props.handleClose} size=\"large\">\n\t\t\t\t\t\t\t\t\t<Close style={{ fontSize: 30}}/>\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</Box>\n                        </Box>\n                        <IconButton edge=\"start\" color=\"inherit\" onClick={props.handleClose} aria-label=\"close\">\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</AppBar>\n\t\t\t\t\t<Box mt={2}>\n\t\t\t\t\t\t<Box ml={4} >\n\t\t\t\t\t\t<Typography className={classes.subtitle}>\n                            <b>Buscar producto</b>\n                        </Typography>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box ml={4} display=\"flex\" >\n                            \n                            <Box style={{  width: \"35%\" }}>\n                                \n                                    <FormControl variant=\"outlined\" fullWidth size=\"small\">\n                                    <OutlinedInput\n                                        id=\"search-producto\"\n                                        type=\"text\"\n                                        value={filtro}\n                                        onChange={(e) => setFiltro(e.target.value)}\n                                        endAdornment={\n                                        <InputAdornment position=\"start\">\n                                            <IconButton\n                                            type=\"submit\"\n                                            aria-label=\"search producto\"\n                                            edge=\"end\"\n                                            >\n                                            <Search />\n                                            </IconButton>\n                                        </InputAdornment>\n                                        }\n                                    />\n                                    </FormControl>\n                                    \n                                \n                            </Box>\n\t\t\t\t\t\t\t{(productos.length > 0) ?\n\t\t\t\t\t\t\t\t<Box ml={4} mrstyle={{ backgroundColor:'red', alignContent:'flex-end'}}  justifyContent=\"flex-end\" alignItems=\"center\" >\n\t\t\t\t\t\t\t\t\t<Box  >\n\t\t\t\t\t\t\t\t\t\t<ExportarExcel fileName=\"Inventarios almacen\" data={dataExcel} columnName={columns} />\n\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t<div/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\n\t\t\t\t\t</Box>\t\t\t\n\n\t\t\t\t{\n\t\t\t\t\t(loading) ?\n\t\t\n\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" height=\"30vh\">\n\t\t\t\t\t\t<CircularProgress />\n\t\t\t\t\t</Box>\n\t\t\t\t\t: \n\t\t\t\t\t\t(productosAlmacenQuery.error || categoriasQuery.error) ?\n\t\t\t\t\t\t\t<ErrorPage error={productosAlmacenQuery.error} />\n\t\t\t\t\t\t:\n\t\t\t\t\t\t<Box mx={5} mt={1} >\n\t\t\t\t\t\t\t<ListaProductos productos={productos} obtenerAlmacenes={obtenerAlmacenes} columns={columns} />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t</Dialog>\n\t)\n}\n","import React from 'react';\nimport { Container, Grid, Box } from '@material-ui/core';\nimport RegistroAlmacen from './RegistroAlmacen/RegistroAlmacen';\nimport Traspasos from './Traspasos/Traspasos';\nimport InventariosPorAlmacen from './InventarioPorAlmacen/InventariosPorAlmacen';\nimport { TraspasosProvider } from \"../../../context/Almacenes/traspasosAlmacen\";\n\nexport default function Moviminetos() {\n\n\tconst sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\n\treturn (\n\t\t<Container>\n\t\t\t<Grid container spacing={3} justify=\"center\" >\n\t\t\t{sesion.accesos.almacenes.almacen.ver === false ? (null):(\n\t\t\t\t<Grid item lg={2} >\n\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t<RegistroAlmacen />\n\t\t\t\t\t</Box>\n\t\t\t\t</Grid>\n\t\t\t)}\n\t\t\t{sesion.accesos.almacenes.traspasos.ver === false ? (null):(\n\t\t\t\t<Grid item lg={2}>\n\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t<TraspasosProvider>\n\t\t\t\t\t\t\t<Traspasos />\n\t\t\t\t\t\t</TraspasosProvider>\n\t\t\t\t\t</Box>\n\t\t\t\t</Grid>\n\t\t\t)}\n\t\t\t{sesion.accesos.almacenes.inventario_almacen.ver === false ? (null):(\n\t\t\t\t<Grid item lg={2} >\n\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t<TraspasosProvider>\n\t\t\t\t\t\t\t<InventariosPorAlmacen />\n\t\t\t\t\t\t</TraspasosProvider>\n\t\t\t\t\t</Box>\n\t\t\t\t</Grid>\n\t\t\t)}\n\t\t\t</Grid>\n\t\t</Container>\n\t);\n}\n","import React, { useState } from 'react';\nimport 'moment'\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport { Box, Grid, Dialog, DialogContent, Typography, CircularProgress} from '@material-ui/core';\nimport moment from 'moment';\n\nconst columns = [\n\t{ id: 'fecha', label: 'Fecha', minWidth: 100 },\n\t{ id: 'hora', label: 'Hora', minWidth: 100 },\n\t{ id: 'movimiento', label: 'Movimieto', minWidth: 100 },\n\t{ id: 'usuario', label: 'Usuario', minWidth: 100 },\n\t{ id: 'hTurno', label: 'Horario Turno', minWidth: 100 },\t\n\t{ id: 'concepto', label: 'Concepto', minWidth: 100 },\n];\n\nconst useStyles  = makeStyles((theme) => ({\n\troot: {\n\t\twidth: '100%'\n\t},\n\tcontainer: {\n\t\theight: '70%',\n\t},\n    appBar: {\t\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n\trootBusqueda: {\n\t\tdisplay: 'flex',\n\t\tpaddingLeft: theme.spacing(2)\n\t},\n}));\n\n\nexport default function TablaHistorialFiltrado({loading, historial}) {\n\tconst classes = useStyles();\n\t\n\tif (loading)\n\t\treturn (\n\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" height=\"30vh\">\n\t\t\t\t<CircularProgress />\n\t\t\t</Box>\n\t\t);\n\t\t\n\treturn (\n\t\t<>\n\t\t\t<Box p={2}>\n\t\t\t\t<Paper className={classes.root}>\n\t\t\t\t\t<TableContainer className={classes.container}>\n\t\t\t\t\t\t<Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n\t\t\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t\t{columns.map((column) => (\n\t\t\t\t\t\t\t\t\t\t<TableCell key={column.id} align=\"center\" style={{ minWidth: column.minWidth }}>\n\t\t\t\t\t\t\t\t\t\t\t{column.label}\n\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t</TableHead>\n\t\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t\t{historial.map((row) => {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<RowsRender\n\t\t\t\t\t\t\t\t\t\t\tkey={row._id}\n\t\t\t\t\t\t\t\t\t\t\tdatos={row}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t\t</Table>\n\t\t\t\t\t</TableContainer>\n\t\t\t\t</Paper>\n\t\t\t</Box>\n\t\t</>\n\t);\n}\n\n\nfunction RowsRender({datos}) {\n\tconst [open, setOpen] = useState(false);\n\tconst handleClickOpen =()=> setOpen(!open);\n\n\tconst classes = useStyles();\n\tconsole.log(datos)\n\n\treturn(\n\t\t<>\n\t\t\t<TableRow\n\t\t\t\thover\n\t\t\t\trole=\"checkbox\"\n\t\t\t\tonClick={handleClickOpen}\n\t\t\t\ttabIndex={-1}\n\t\t\t>\n\t\t\t\t<TableCell align=\"center\">{moment(datos.fecha_movimiento.completa).format('YYYY-MM-DD')}</TableCell>\n\t\t\t\t<TableCell align=\"center\">{datos.hora_moviento.completa}</TableCell>\n\t\t\t\t<TableCell align=\"center\">{datos.tipo_movimiento}</TableCell>\n\t\t\t\t<TableCell align=\"center\">{datos.nombre_usuario_creador}</TableCell>\n\t\t\t\t<TableCell align=\"center\">{datos.horario_turno}</TableCell>\n\t\t\t\t<TableCell align=\"center\">{datos.concepto}</TableCell>\n\t\t\t</TableRow>\n\n\t\t\t<Dialog\n\t\t\t\tfullWidth={true}\n\t\t\t\tmaxWidth='xs'\n\t\t\t\topen={open} \n\t\t\t\tonClose={handleClickOpen} \n\t\t\t>\n\t\t\t\t<DialogContent>\n\t\t\t\t\t<Grid container>\n\t\t\t\t\t\t<Grid lg={12} xs={12}>\n\t\t\t\t\t\t\t<Box textAlign=\"center\" p={2}>\n\t\t\t\t\t\t\t\t<Typography variant=\"h6\">\n\t\t\t\t\t\t\t\t\tInformacin de movimiento\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid lg={12} xs={12}>\n\t\t\t\t\t\t\t<Box display=\"flex\" textAlign=\"left\" p={1}>\n\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\t<b>Fecha Movimiento: </b> {moment(datos.fecha_movimiento.completa).format('YYYY-MM-DD')}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box display=\"flex\" textAlign=\"left\" p={1}>\n\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\t<b>Hora Movimiento: </b> {datos.hora_moviento.completa}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box display=\"flex\" textAlign=\"left\" p={1}>\n\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\t<b>Usuario: </b> {datos.nombre_usuario_creador}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box display=\"flex\" textAlign=\"left\" p={1}>\n\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\t<b>Horario en Turno: </b>\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box display=\"flex\" textAlign=\"left\" p={1}>\n\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\t<b>Tipo Movimiento: </b> {datos.tipo_movimiento}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box display=\"flex\" textAlign=\"left\" p={1}>\n\t\t\t\t\t\t\t\t<Typography> \n\t\t\t\t\t\t\t\t\t<b>Concepto: </b> {datos.concepto}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box display=\"flex\" textAlign=\"left\" p={1}>\n\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\t<b>Caja: </b> {datos.numero_caja}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Paper className={classes.root}>\n\t\t\t\t\t\t\t\t<TableContainer className={classes.container}>\n\t\t\t\t\t\t\t\t\t<Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n\t\t\t\t\t\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\" style={{ minWidth: 100 }}>\n\t\t\t\t\t\t\t\t\t\t\t\t\tConcepto\n\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\" style={{ minWidth: 100 }}>\n\t\t\t\t\t\t\t\t\t\t\t\t\tMonto depositado\n\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t\t\t</TableHead>\n\t\t\t\t\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t\t\t\t\t<TableRow hover tabIndex={-1} >\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\"><b>Monto Total Efectivo:</b></TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\"><b>${datos.montos_en_caja.monto_efectivo.monto}</b></TableCell>\n\t\t\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t\t\t\t<TableRow hover tabIndex={-1} >\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">Creditos</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">${datos.montos_en_caja.monto_creditos.monto}</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t\t\t\t<TableRow hover tabIndex={-1} >\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">Tarjeta Debito</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">${datos.montos_en_caja.monto_tarjeta_debito.monto}</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t\t\t\t<TableRow hover tabIndex={-1} >\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">Tarjeta Credito</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">${datos.montos_en_caja.monto_tarjeta_credito.monto}</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t\t\t\t<TableRow hover tabIndex={-1} >\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">Monedero</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">${datos.montos_en_caja.monto_monedero.monto}</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t\t\t\t<TableRow hover tabIndex={-1} >\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">Cheques</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">${datos.montos_en_caja.monto_cheques.monto}</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t\t\t\t<TableRow hover tabIndex={-1} >\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">Transferencias</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">${datos.montos_en_caja.monto_transferencia.monto}</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t\t\t\t<TableRow hover tabIndex={-1} >\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">Vales de despensa</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">${datos.montos_en_caja.monto_vales_despensa.monto}</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t\t\t\t\t</Table>\n\t\t\t\t\t\t\t\t</TableContainer>\n\t\t\t\t\t\t\t</Paper>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t</DialogContent>\n\t\t\t</Dialog>\n\t\t</>\n\t)\n};","import React, {  useState, useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Dialog, Slide, Box, Button, Toolbar, Typography, FormControl, MenuItem, Select, Grid, TextField} from '@material-ui/core';\nimport CloseIcon from '@material-ui/icons/Close';\nimport AppBar from '@material-ui/core/AppBar';\nimport { useQuery } from '@apollo/client';\nimport { OBTENER_HISTORIAL_CAJA} from '../../../../gql/Cajas/cajas';\nimport { useDebounce } from 'use-debounce/lib';\nimport TablaHistorialFiltrado from './TablaHistorialFiltrado';\nimport SaveIcon from '@material-ui/icons/Save';\nimport ExcelFile from 'react-export-excel/dist/ExcelPlugin/components/ExcelFile';\nimport ExcelSheet from 'react-export-excel/dist/ExcelPlugin/elements/ExcelSheet';\nimport ExcelColumn from 'react-export-excel/dist/ExcelPlugin/elements/ExcelColumn';\n\nconst useStyles = makeStyles((theme) => ({\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1,\n\t},\n    appBar: {\n\t\tposition: 'relative'\n\t},\n\tformInputFlex: {\n\t\tdisplay: 'flex',\n\t\t'& > *': {\n\t\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(1)}px`\n\t\t}\n\t},\n\ticon: {\n\t\tfontSize: 40,\n\t\twidth: 40\n\t},\n    iconSave: {\n\t\tzIndex: 10,\n\t\tposition: 'fixed',\n\t\tbottom: theme.spacing(2),\n\t\tright: theme.spacing(10)\n\t}\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nconst tipos = [\n    'TODOS',\n    'VENTA',\n    'DEPOSITO',\n    'RETIRO',\n    'TRANSFERENCIA'\n];\n\nexport default function HistorialCaja(props) {\n    const classes = useStyles();\n    const sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n    const [ datosBuscar, setDatosBuscar ] = useState([]);\n    const [ datosExcel, setDatosExcel ] = useState([]);\n\tconst [ value ] = useDebounce(datosBuscar, 500);\n\n\tlet obtenerHistorialCaja = [];\n\n    /* Queries */\n\tconst {  data, refetch, loading } = useQuery(OBTENER_HISTORIAL_CAJA, {\n\t\tvariables: {\n            id_Caja: props.cajaSelected._id,\n            empresa: sesion.empresa._id,\n\t\t\tsucursal: sesion.sucursal._id,\n            input: {\n                tipo_movimiento: datosBuscar.tipo_movimiento ? datosBuscar.tipo_movimiento :  \"\",\n                fecha_incio: datosBuscar.fecha_incio ? datosBuscar.fecha_incio : \"\",\n                fecha_fin: datosBuscar.fecha_fin ? datosBuscar.fecha_fin : \"\",\n                usuario: value.usuario ? value.usuario : \"\"\n            },\n\t\t}\n\t});\n\n    useEffect(\n\t\t() => {\n\t\t\trefetch();\n\t\t},\n\t\t[ refetch ]\n\t);\n\n    let arrayExcel = [];\n\n    const agruparDatos = (datosHistorial) => {\n        datosExcel.splice(0, datosExcel.length);\n        for (let i = 0; i < datosHistorial.length; i++) {\n            arrayExcel = { \n                fecha: datosHistorial[i].fecha_movimiento.completa,\n                hora_movimiento: datosHistorial[i].hora_moviento.completa,\n                nombre: datosHistorial[i].nombre_usuario_creador,\n                horario_turno: datosHistorial[i].horario_turno,\n                tipo_movimiento: datosHistorial[i].tipo_movimiento,\n                concepto: datosHistorial[i].concepto,\n                caja: datosHistorial[i].numero_caja,\n                monto_efectivo: datosHistorial[i].montos_en_caja.monto_efectivo.monto , \n                monto_creditos: datosHistorial[i].montos_en_caja.monto_creditos.monto , \n                monto_tarjeta_debito: datosHistorial[i].montos_en_caja.monto_tarjeta_debito.monto , \n                monto_tarjeta_credito: datosHistorial[i].montos_en_caja.monto_tarjeta_credito.monto , \n                monto_monedero: datosHistorial[i].montos_en_caja.monto_monedero.monto , \n                monto_cheques: datosHistorial[i].montos_en_caja.monto_cheques.monto , \n                monto_transferencia: datosHistorial[i].montos_en_caja.monto_transferencia.monto ,\n                monto_vales_despensa: datosHistorial[i].montos_en_caja.monto_vales_despensa.monto , \n            }\n            datosExcel.push(arrayExcel);\n        };\n    };\n\n\tif(data){\n\t\tobtenerHistorialCaja = data.obtenerHistorialCaja;\n        agruparDatos(obtenerHistorialCaja);\n\t}\n\n    const handleDatos = (e) => {\n        setDatosBuscar({...datosBuscar, [e.target.name]: e.target.value})\n    };\n\n    const filtrarProductos = (event) => {\n\t\tevent.preventDefault();\n        refetch();\n\t};\n\n    const limpiarFiltros = () => {\n        setDatosBuscar([]);\n    }\n\n    return (\n        <Dialog fullScreen open={props.open} onClose={()=>{props.handleClose();}} TransitionComponent={Transition}>\n            <AppBar className={classes.appBar}>\n                <Toolbar>\n                    <Typography variant=\"h5\" className={classes.title}>\n                        Caja {props.cajaSelected.numero_caja}\n                    </Typography>\n                    <Box m={1}>\n                        <Button variant=\"contained\" color=\"secondary\" onClick={ () => {props.handleClose()} } size=\"large\">\n                            <CloseIcon style={{fontSize: 30}} />\n                        </Button>\n                    </Box>\n                </Toolbar>\n            </AppBar>\n            <Grid container>\n                <ExcelFile\n                    element={\n                        <Button\n                            variant=\"contained\"\n                            color=\"primary\"\n                            aria-label=\"Guardar\"\n                            className={classes.iconSave}\n                        >\n                            <SaveIcon className={classes.margin} />\n                            Exportar\n                        </Button>   \n                    }\n                    filename={`Reporte de Historial de Caja ${props.cajaSelected.numero_caja}`}\n                >\n                    <ExcelSheet data={datosExcel} name={`Reporte de Historial de Caja ${props.cajaSelected.numero_caja}`}>\n                        <ExcelColumn label='Usuario' value='nombre' />\n                        <ExcelColumn label='Fecha Movimiento' value='fecha' />\n                        <ExcelColumn label='Hora Movimiento' value='hora_movimiento' />\n                        <ExcelColumn label='Horario en Turno' value='horario_turno' />\n                        <ExcelColumn label='Concepto' value='concepto' />\n                        <ExcelColumn label='Tipo Movimiento' value='tipo_movimiento' />\n                        <ExcelColumn label='No. de Caja' value='caja' />\n                        <ExcelColumn label='M. en Efectivo' value='monto_efectivo' />\n                        <ExcelColumn label='M. en Creditos' value='monto_creditos' />\n                        <ExcelColumn label='M. en Tarjeta Debito' value='monto_tarjeta_debito' />\n                        <ExcelColumn label='M. en Tarjeta Credito' value='monto_tarjeta_credito' />\n                        <ExcelColumn label='M. en monedero' value='monto_monedero' />\n                        <ExcelColumn label='M. en Cheques' value='monto_cheques' />\n                        <ExcelColumn label='M. en Transferencia' value='monto_transferencia' />\n                        <ExcelColumn label='M. en Vale Despensa' value='monto_vales_despensa' />\n                    </ExcelSheet>\n                </ExcelFile>\n                <Grid item lg={12} md={12} xs={12}>\n                    <div className={classes.formInputFlex}>\n                        <Box width=\"100%\">\n                            <Typography>\n                                Movimiento\n                            </Typography>\n                            <FormControl\n                                variant=\"outlined\"\n                                fullWidth\n                                size=\"small\"\n                            >\n                                <Select\n                                    id=\"form-producto-tipo\"\n                                    name=\"tipo_movimiento\"\n                                    onChange={handleDatos}\n                                    value={datosBuscar.tipo_movimiento ? datosBuscar.tipo_movimiento : \"\"}\n                                >\n                                    <MenuItem value=\"\">\n                                        <em>Selecciona uno</em>\n                                    </MenuItem>\n                                    {tipos.map((tipo, index) => {\n                                        return(\n                                            <MenuItem key={index} value={tipo}>{tipo}</MenuItem>\n                                        )\n                                    })}\n                                </Select>\n                            </FormControl>\n                        </Box>\t\n                        <Box width=\"100%\">\n                            <Typography>\n                                Fecha inicio:\n                            </Typography>\n                            <TextField \n                                fullWidth\n                                size=\"small\"\n                                name=\"fecha_incio\"\n                                variant=\"outlined\"\n                                type=\"date\"\n                                value={datosBuscar.fecha_incio ? datosBuscar.fecha_incio : \"\"}\n                                onChange={handleDatos}\n                            />\n                        </Box>\n                        <Box width=\"100%\">\n                            <Typography>\n                                Fecha fin:\n                            </Typography>\n                            <TextField \n                                fullWidth\n                                size=\"small\"\n                                name=\"fecha_fin\"\n                                variant=\"outlined\"\n                                type=\"date\"\n                                value={datosBuscar.fecha_fin ? datosBuscar.fecha_fin : \"\"}\n                                onChange={handleDatos}\n                            />\n                        </Box>\n                        <form onSubmit={filtrarProductos} style={{ display: 'flex', alignItems: 'center', width: \"100%\" }} >\n                            <Box width=\"100%\">\n                                <Typography>\n                                    Usuario:\n                                </Typography>\n                                <TextField\n                                    fullWidth\n                                    size=\"small\"\n                                    name=\"usuario\"\n                                    variant=\"outlined\"\n                                    value={datosBuscar.usuario ? datosBuscar.usuario : \"\"}\n                                    onChange={handleDatos}\n                                />\n                            </Box>\n                        </form>\n                        <Box width=\"70%\" display=\"flex\" justifyContent=\"center\" justifyItems=\"center\" alignItems=\"center\">\n                            <Box mt={2}>\n                                <Button\n                                    color=\"primary\"\n                                    size=\"large\"\n                                    variant=\"contained\"\n                                    onClick={limpiarFiltros}\n                                >\n                                    Limpiar\n                                </Button>\n                            </Box>\n                        </Box>\n                    </div>\n                </Grid>\n                <Grid item lg={12} md={12} xs={12}>\n                    <TablaHistorialFiltrado loading={loading} historial={obtenerHistorialCaja} />\n                </Grid>  \n            </Grid>\n        </Dialog>\n    );\n}\n\n","import React from 'react';\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport CardActions from '@material-ui/core/CardActions';\nimport Avatar from '@material-ui/core/Avatar';\nimport Typography from '@material-ui/core/Typography';\nimport { red } from '@material-ui/core/colors';\nimport {Badge, Box} from '@material-ui/core';\n \nconst StyledBadge = withStyles((theme) => ({\n    badge: {\n      color :({props})=> props.color,\n      background: ({props})=> props.color,\n      boxShadow: `0 0 0 2px ${theme.palette.background.paper}`,\n      '&::after': {\n        position: 'absolute',\n        top: 0,\n        left: 0,\n        width: '100%',\n        height: '100%',\n        borderRadius: '50%',\n        animation: '$ripple 1.2s infinite ease-in-out',\n        border: '1px solid currentColor',\n        content: '\"\"',\n      },\n    },\n    '@keyframes ripple': {\n      '0%': {\n        transform: 'scale(.8)',\n        opacity: 1,\n      },\n      '100%': {\n        transform: 'scale(2.4)',\n        opacity: 0,\n      },\n    }\n  }))(Badge);\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    minWidth:230,\n    maxWidth: 230,\n    margin:5,\n    \n  },\n  media: {\n    height: 0,\n    paddingTop: '56.25%', // 16:9\n  },\n  expand: {\n    transform: 'rotate(0deg)',\n    marginLeft: 'auto',\n    transition: theme.transitions.create('transform', {\n      duration: theme.transitions.duration.shortest,\n    }),\n  },\n  expandOpen: {\n    transform: 'rotate(180deg)',\n  },\n  avatar: {\n    color: red[500],\n  },\n  textActive:{\n    position:'relative',\n    bottom:8\n  }\n}));\n\nexport default function CardCaja(props) {\n    const styleProps={\n      color: (props.activa)  ? '#44b700' : 'red'\n    }\n    const classes = useStyles();\n \n    return (\n        <div>\n            <Card className={classes.root}>\n                    <CardHeader\n                      color=\"secondary\"\n                        avatar={\n                            <StyledBadge\n                              overlap=\"circle\"\n                              props={styleProps}\n                              anchorOrigin={{\n                                vertical: 'bottom',\n                                horizontal: 'right',\n                              }}\n                              variant=\"dot\"\n                              badgeContent=\"\"\n                            >\n                            <Avatar alt=\"Cajero X\" src=\"/static/images/avatar/1.jpg\" />\n                            </StyledBadge>\n                        }\n                    />\n                    <Box m={1} mb={2}>\n                    <Typography variant=\"h4\" color=\"textSecondary\" component=\"p\" >\n                            Caja {props.name}\n                    </Typography>\n                    </Box>\n                    {/* <CardActions disableSpacing  >\n                        <Typography style={{fontWeight: 'bold'}} color=\"textSecondary\" component=\"p\">\n                           Total en caja: \n                        </Typography>\n                        <Typography style={{margin: '0px 10px', color: 'green'}} variant=\"h6\" color=\"textSecondary\" component=\"p\">\n                           $ {parseFloat(props.cantidad_efectivo_actual)}\n                        </Typography>\n                    </CardActions> */}\n                </Card>\n        </div>\n    )\n}\n","import React, {useEffect, useState} from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport CloseIcon from '@material-ui/icons/Close';\nimport Slide from '@material-ui/core/Slide';\nimport { Box, Grid  } from '@material-ui/core';\nimport HistorialCaja from './HistorialCaja';\nimport SnackBarMessages from '../../../../components/SnackBarMessages';\nimport BackdropComponent from '../../../../components/Layouts/BackDrop';\nimport CardCaja from './CardCaja';\n\nimport { OBTENER_CAJAS } from '../../../../gql/Cajas/cajas';\nimport { useQuery } from '@apollo/client';\n\nconst useStyles = makeStyles((theme) => ({\n\tappBar: {\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n\ticon: {\n\t\twidth: 100\n\t}\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function Cajas() {\n\tconst classes = useStyles();\n    const [ loading, setLoading ] = React.useState(false);\n\tconst [ open, setOpen ] = React.useState(false);\n    const [ openHistorial, setOpenHistorial ] = React.useState(false);\n    const [ alert, setAlert ] = useState({ message: '', status: '', open: false });\n    const [ cajaSelected, setCajaSelected ] = React.useState({name:''});\n    const sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n    let obtenerCajasSucursal = []; \n\n\t\n    /* Queries */\n    const {  data, refetch } = useQuery(OBTENER_CAJAS,{\n\t\tvariables: {\n            empresa: sesion.empresa._id,\n\t\t\tsucursal: sesion.sucursal._id\n\t\t}\n\t});\t\n\n    useEffect(\n\t\t() => {\n\t\t\tsetLoading(true);\n\t\t\trefetch();\n\t\t\tsetLoading(false);\n\t\t},\n\t\t[ refetch ]\n\t); \n\t\n\tif(data){\n\t\tobtenerCajasSucursal = data.obtenerCajasSucursal;\n\t}\n\tconst handleClickOpen = () => {\n\t\tsetOpen(true);\n\t};\n    const handleClickOpenHistorial = () => {\n\t\tsetOpenHistorial(true);\n\t};\n\tconst handleClose = () => {\n\t\tsetOpen(false);\n\t};\n    const handleCloseHistorial = () => {\n\t\tsetOpenHistorial(false);\n\t};\n\n\treturn (\n\t\t<div>\n            <SnackBarMessages alert={alert} setAlert={setAlert} />\t\n\t\t\t<BackdropComponent loading={loading} setLoading={setLoading} />\n\t\t\t<Button fullWidth onClick={handleClickOpen}>\n\t\t\t\t<Box display=\"flex\" flexDirection=\"column\">\n\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t<img src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/cajas.svg' alt=\"icono numero calzado\" className={classes.icon} />\n\t\t\t\t\t</Box>\n\t\t\t\t\tHistorial de Cajas\n\t\t\t\t</Box>\n\t\t\t</Button>\n\t\t\t<Dialog fullScreen open={open} onClose={handleClose} TransitionComponent={Transition}>\n\t\t\t\t<AppBar className={classes.appBar}>\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t<Typography variant=\"h6\" className={classes.title}>\n\t\t\t\t\t\t\tHistorial de Cajas\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Box m={1}>\n\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"secondary\" onClick={handleClose} size=\"large\">\n\t\t\t\t\t\t\t\t<CloseIcon style={{fontSize: 30}} />\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</AppBar>\n\t\t\t\t<Grid container spacing={1} justify=\"center\" >\n\t\t\t\t\t{obtenerCajasSucursal?.map((caja, index) => {\n\t\t\t\t\t\treturn(\n\t\t\t\t\t\t\t<Button key={index} onClick={()=>{handleClickOpenHistorial(); setCajaSelected(caja)}}>\n\t\t\t\t\t\t\t\t<CardCaja name={caja.numero_caja} activa={caja.activa} cantidad_efectivo_actual={caja.cantidad_efectivo_actual} />\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t)\t\n\t\t\t\t\t})} \n\t\t\t\t</Grid> \t\n\t\t\t</Dialog>\n            <HistorialCaja open={openHistorial} fetchCajas={refetch} handleClickOpen={handleClickOpenHistorial} cajaSelected={cajaSelected} handleClose={handleCloseHistorial} obtenerCajasSucursal={obtenerCajasSucursal} />\n\t\t</div>\n\t);\n}\n","import React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport { Box, Grid, Dialog, DialogContent, Typography, CircularProgress} from '@material-ui/core';\n\nconst columns = [\n\t{ id: 'fecha', label: 'Fecha', minWidth: 100 },\n\t{ id: 'hora', label: 'Hora', minWidth: 100 },\n\t{ id: 'usuario', label: 'Usuario', minWidth: 100 },\n\t{ id: 'hTurno', label: 'Horario Turno', minWidth: 100 },\t\n\t{ id: 'concepto', label: 'Concepto', minWidth: 100 },\n\t{ id: 'caja', label: 'Caja', minWidth: 100 },\n];\n\nconst useStyles  = makeStyles((theme) => ({\n\troot: {\n\t\twidth: '100%'\n\t},\n\tcontainer: {\n\t\tmaxHeight: 500,\n\t},\n    appBar: {\t\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n\trootBusqueda: {\n\t\tdisplay: 'flex',\n\t\tpaddingLeft: theme.spacing(2)\n\t}\n}));\n\n\nexport default function TablaTurnosFiltrados({loading, turnos}) {\n\tconst classes = useStyles();\n\t\n\tif (loading)\n\t\treturn (\n\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" height=\"30vh\">\n\t\t\t\t<CircularProgress />\n\t\t\t</Box>\n\t\t);\n\t\t\n\treturn (\n\t\t<>\n\t\t\t<Box p={2}>\n\t\t\t\t<Paper className={classes.root}>\n\t\t\t\t\t<TableContainer className={classes.container}>\n\t\t\t\t\t\t<Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n\t\t\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t\t{columns.map((column) => (\n\t\t\t\t\t\t\t\t\t\t<TableCell key={column.id} align=\"center\" style={{ minWidth: column.minWidth }}>\n\t\t\t\t\t\t\t\t\t\t\t{column.label}\n\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t</TableHead>\n\t\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t\t{turnos.map((row) => {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<RowsRender\n\t\t\t\t\t\t\t\t\t\t\tkey={row._id}\n\t\t\t\t\t\t\t\t\t\t\tturno={row}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t\t</Table>\n\t\t\t\t\t</TableContainer>\n\t\t\t\t</Paper>\n\t\t\t</Box>\n\t\t</>\n\t);\n}\n\n\nfunction RowsRender({turno}) {\n\tconst [open, setOpen] = useState(false);\n\tconst classes = useStyles();\n\tconst handleClickOpen =()=> setOpen(!open);\n\n\treturn(\n\t\t<>\n\t\t\t<TableRow\n\t\t\t\thover\n\t\t\t\trole=\"checkbox\"\n\t\t\t\tonClick={handleClickOpen}\n\t\t\t\ttabIndex={-1}\n\t\t\t\tkey={turno._id}\n\t\t\t>\n\t\t\t\t<TableCell align=\"center\">{turno.fecha_movimiento}</TableCell>\n\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t{turno.concepto === \"ABRIR TURNO\" ? (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t{turno.hora_entrada.completa}\n\t\t\t\t\t\t</>\n\t\t\t\t\t\t): (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t{turno.hora_salida.completa}\n\t\t\t\t\t\t</>\n\t\t\t\t\t)}\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell align=\"center\">{turno.usuario_en_turno.nombre}</TableCell>\n\t\t\t\t<TableCell align=\"center\">{turno.horario_en_turno}</TableCell>\n\t\t\t\t<TableCell align=\"center\">{turno.concepto}</TableCell>\n\t\t\t\t<TableCell align=\"center\">{turno.numero_caja}</TableCell>\n\t\t\t</TableRow>\n\n\t\t\t<Dialog\n\t\t\t\tfullWidth={true}\n\t\t\t\tmaxWidth='md'\n\t\t\t\topen={open} \n\t\t\t\tonClose={handleClickOpen} \n\t\t\t>\n\t\t\t\t<DialogContent>\n\t\t\t\t\t<Grid container>\n\t\t\t\t\t\t<Grid lg={12} xs={12}>\n\t\t\t\t\t\t\t<Box textAlign=\"center\" p={2}>\n\t\t\t\t\t\t\t\t<Typography variant=\"h6\">\n\t\t\t\t\t\t\t\t\tInformacin del turno\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid lg={6} xs={12}>\n\t\t\t\t\t\t\t<Box p={1}>\n\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\t<b>Usuario</b>: {turno.usuario_en_turno.nombre}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box p={1}>\n\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\t<b>Numero de caja</b>: {turno.numero_caja}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box p={1}>\n\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\t<b>Moviento de turno</b>: {turno.concepto}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box p={1}>\n\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\t<b>Horario de turno</b>: {turno.horario_en_turno}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box p={1}>\n\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\t{turno.concepto === \"ABRIR TURNO\" ? (\n\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t<b>Hora de Entrada de turno: </b>{turno.hora_entrada.completa}\n\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t): (\n\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t<b>Hora de Salida de turno: </b>{turno.hora_salida.completa}\n\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box p={1}>\n\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\t<b>Comentarios</b>: {turno.comentarios}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box p={1}>\n\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\t<b>Fecha de movimiento</b>: {turno.fecha_movimiento}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid lg={6} xs={12}>\n\t\t\t\t\t\t\t<Paper className={classes.root}>\n\t\t\t\t\t\t\t\t<TableContainer className={classes.container}>\n\t\t\t\t\t\t\t\t\t<Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n\t\t\t\t\t\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\" style={{ minWidth: 100 }}>\n\t\t\t\t\t\t\t\t\t\t\t\t\tConcepto\n\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\" style={{ minWidth: 100 }}>\n\t\t\t\t\t\t\t\t\t\t\t\t\tMonto depositado\n\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t\t\t</TableHead>\n\n\t\t\t\t\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t\t\t\t\t<TableRow hover tabIndex={-1} >\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\"><b>Monto Total Efectivo:</b></TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\"><b>${turno.montos_en_caja.monto_efectivo.monto}</b></TableCell>\n\t\t\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t\t\t\t<TableRow hover tabIndex={-1} >\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">Creditos</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">${turno.montos_en_caja.monto_creditos.monto}</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t\t\t\t<TableRow hover tabIndex={-1} >\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">Tarjeta Debito</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">${turno.montos_en_caja.monto_tarjeta_debito.monto}</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t\t\t\t<TableRow hover tabIndex={-1} >\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">Tarjeta Credito</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">${turno.montos_en_caja.monto_tarjeta_credito.monto}</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t\t\t\t<TableRow hover tabIndex={-1} >\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">Monedero</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">${turno.montos_en_caja.monto_monedero.monto}</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t\t\t\t<TableRow hover tabIndex={-1} >\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">Cheques</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">${turno.montos_en_caja.monto_cheques.monto}</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t\t\t\t<TableRow hover tabIndex={-1} >\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">Transferencias</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">${turno.montos_en_caja.monto_transferencia.monto}</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t\t\t\t<TableRow hover tabIndex={-1} >\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">Vales de despensa</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">${turno.montos_en_caja.monto_vales_despensa.monto}</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t\t\t\t\t</Table>\n\t\t\t\t\t\t\t\t</TableContainer>\n\t\t\t\t\t\t\t</Paper>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t</DialogContent>\n\t\t\t</Dialog>\n\t\t</>\n\t)\n};","import { gql } from \"@apollo/client\";\n\nexport const REGISTRAR_TURNOS = gql`\n\tmutation crearRegistroDeTurno( $input: AbrirCerrarTurnoInput, $activa: Boolean) {\n\t\tcrearRegistroDeTurno(input: $input, activa: $activa) {\n\t\t\thorario_en_turno\n\t\t\ttoken_turno_user\n\t\t\tconcepto\n\t\t\tnumero_caja\n\t\t\tid_caja\n\t\t\tcomentarios\n\t\t\thora_entrada {\n\t\t\t\thora\n\t\t\t\tminutos\n\t\t\t\tsegundos\n\t\t\t}\n\t\t\thora_salida{\n\t\t\t\thora\n\t\t\t\tminutos\n\t\t\t\tsegundos\n\t\t\t}\n\t\t\tfecha_entrada{\n\t\t\t\tyear\n\t\t\t\tmes\n\t\t\t\tdia\n\t\t\t\tno_semana_year\n\t\t\t\tno_dia_year\n\t\t\t}\n\t\t\tfecha_salida{\n\t\t\t\tyear\n\t\t\t\tmes\n\t\t\t\tdia\n\t\t\t\tno_semana_year\n\t\t\t\tno_dia_year\n\t\t\t}\n\t\t\tmontos_en_caja {\n\t\t\t\tmonto_efectivo{\n                    monto \n                }\n                monto_tarjeta_credito{\n                    monto \n                }\n                monto_tarjeta_debito{\n                    monto \n                }\n                monto_creditos{\n                    monto \n                }\n                monto_monedero{\n                    monto \n                }\n                monto_transferencia{\n                    monto \n                }\n                monto_cheques{\n                    monto \n                }\n                monto_vales_despensa{\n                    monto \n                }\n\t\t\t}\n\t\t\tusuario_en_turno {\n\t\t\t\tnumero_usuario\n\t\t\t\tnombre\n\t\t\t}\n\t\t\tempresa\n\t\t\tsucursal\n\t\t}\n\t}\n`;\n\nexport const OBTENER_HISTORIAL_TURNOS = gql`\n\tquery obtenerFiltroTurnos($input: HistorialTurnosInput, $empresa: ID!, $sucursal: ID!) {\n\t\tobtenerFiltroTurnos(input: $input, empresa: $empresa, sucursal: $sucursal) {\n\t\t\thorario_en_turno\n\t\t\tconcepto\n\t\t\tnumero_caja\n\t\t\tid_caja\n\t\t\tcomentarios\n\t\t\thora_entrada {\n\t\t\t\thora\n\t\t\t\tminutos\n\t\t\t\tsegundos\n\t\t\t\tcompleta\n\t\t\t}\n\t\t\thora_salida{\n\t\t\t\thora\n\t\t\t\tminutos\n\t\t\t\tsegundos\n\t\t\t\tcompleta\n\t\t\t}\n\t\t\tfecha_entrada{\n\t\t\t\tyear\n\t\t\t\tmes\n\t\t\t\tdia\n\t\t\t\tno_semana_year\n\t\t\t\tno_dia_year\n\t\t\t\tcompleta\n\t\t\t}\n\t\t\tfecha_salida{\n\t\t\t\tyear\n\t\t\t\tmes\n\t\t\t\tdia\n\t\t\t\tno_semana_year\n\t\t\t\tno_dia_year\n\t\t\t\tcompleta\n\t\t\t}\n\t\t\tfecha_movimiento\n\t\t\tmontos_en_caja {\n\t\t\t\tmonto_efectivo{\n                    monto \n                }\n                monto_tarjeta_credito{\n                    monto \n                }\n                monto_tarjeta_debito{\n                    monto \n                }\n                monto_creditos{\n                    monto \n                }\n                monto_monedero{\n                    monto \n                }\n                monto_transferencia{\n                    monto \n                }\n                monto_cheques{\n                    monto \n                }\n                monto_vales_despensa{\n                    monto \n                }\n\t\t\t}\n\t\t\tusuario_en_turno {\n\t\t\t\tnumero_usuario\n\t\t\t\tnombre\n\t\t\t}\n\t\t\tempresa\n\t\t\tsucursal\n\t\t}\n\t}\n`;","import React, { useEffect, useState } from 'react';\nimport { AppBar, Box, Button, Dialog, FormControl, Grid, MenuItem, Select, Slide, TextField, Toolbar, Typography } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/styles';\nimport ReactExport from 'react-export-excel'; //LIBRERIA EXCEL\nimport CloseIcon from '@material-ui/icons/Close';\nimport SaveIcon from '@material-ui/icons/Save';\nimport TablaTurnosFiltrados from './TablaTurnosFiltrados';\nimport { useQuery } from '@apollo/client';\nimport { OBTENER_CAJAS } from '../../../../gql/Cajas/cajas';\nimport { OBTENER_HISTORIAL_TURNOS } from '../../../../gql/Ventas/abrir_cerrar_turno';\nimport { useDebounce } from 'use-debounce';\nimport moment from 'moment';\nimport 'moment/locale/es';\nimport ErrorPage from '../../../../components/ErrorPage';\nmoment.locale('es');\nconst ExcelFile = ReactExport.ExcelFile; //ARCHIVO DE EXCEL\nconst ExcelSheet = ReactExport.ExcelSheet; //HOJA DE EXCEL\nconst ExcelColumn = ReactExport.ExcelColumn; //COLUMNA DE EXCEL\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nconst useStyles = makeStyles((theme) => ({\n\tappBar: {\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n\ticon: {\n\t\twidth: 100\n\t},\n    formInputFlex: {\n\t\tdisplay: 'flex',\n\t\t'& > *': {\n\t\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(1)}px`\n\t\t},\n\t\t'& .obligatorio': {\n\t\t\tcolor: 'red'\n\t\t}\n\t},\n\tformInput: {\n\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(2)}px`\n\t},\n    margin: {\n\t\tmargin: theme.spacing(1)\n\t},\n\ticonSave: {\n\t\tzIndex: 10,\n\t\tposition: 'fixed',\n\t\tbottom: theme.spacing(2),\n\t\tright: theme.spacing(10)\n\t},\n}));\n\nexport default function ReportesTurnosUsuarios() {\n    const [open, setOpen] = useState(false);\n    const handleClickOpen =()=>{setOpen(!open)};\n    const classes = useStyles();\n\n    return (\n        <>\n            <Button aria-controls=\"simple-menu\" aria-haspopup=\"true\" onClick={handleClickOpen}>\n\t\t\t\t<Box display=\"flex\" flexDirection=\"column\">\n                    <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n                        <img \n                            src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/ventas/shift.svg'\n                            alt=\"icono caja\" \n                            style={{width: 100}}\n                        />\n                    </Box>\n\t\t\t\t\tTurnos de Usuarios\n\t\t\t\t</Box>\n\t\t\t</Button>\n\t\t\t<Dialog fullScreen open={open} onClose={handleClickOpen} TransitionComponent={Transition}>\n\t\t\t\t<AppBar className={classes.appBar}>\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t<Typography variant=\"h6\" className={classes.title}>\n                            Reportes Turnos de Usuarios\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Box m={1} display=\"flex\">\n                            <Box p={1}>\n                                <Button variant=\"contained\" color=\"secondary\" onClick={handleClickOpen} size=\"large\">\n                                    <CloseIcon style={{fontSize: 30}} />\n                                </Button>\n                            </Box>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</AppBar>\n                <FiltroTablaTurnos />\n\t\t\t</Dialog> \n        </>\n    )   \n};\n\nconst FiltroTablaTurnos = () => {\n\n    const classes = useStyles();\n    const sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n    const [filtros, setFiltros] = useState([]);\n    const [ datosExcel, setDatosExcel] = useState([]);\n\tconst [value] = useDebounce(filtros, 500);\n    let historialTurnos = [];\n\n    const cajas = useQuery(OBTENER_CAJAS,{\n\t\tvariables: {\n            empresa: sesion.empresa._id,\n\t\t\tsucursal: sesion.sucursal._id,\n\t\t}\n\t});\n\n    const { loading, data, error, refetch  } = useQuery(OBTENER_HISTORIAL_TURNOS,{\n\t\tvariables: {\n            empresa: sesion.empresa._id,\n\t\t\tsucursal: sesion.sucursal._id,\n            input: {\n                horario_en_turno: filtros.horario_turno ? filtros.horario_turno : \"\",\n                usuario_en_turno: value.usuario_en_turno ? value.usuario_en_turno : \"\",\n                numero_caja: filtros.numero_caja ? filtros.numero_caja : \"\",\n                fechaInicio: filtros.fechaInicio ? filtros.fechaInicio : \"\",\n                fechaFin: filtros.fechaFin ? filtros.fechaFin : \"\"\n            }\n\t\t}\n\t});\n\n    useEffect(\n\t\t() => {\n\t\t\trefetch();\n\t\t},\n\t\t[ refetch ]\n\t);\n\n    const obtenerDatos = (e) => {  \n        setFiltros({...filtros, [e.target.name]: e.target.value.toString()});\n    };\n\n    let arrayExcel = [];\n\n    const agruparDatos = (turnos) => {\n        datosExcel.splice(0, datosExcel.length);\n        for (let i = 0; i < turnos.length; i++) {\n            arrayExcel = { \n                fecha: turnos[i].fecha_movimiento,\n                nombre: turnos[i].usuario_en_turno.nombre,\n                numero_usuario: turnos[i].usuario_en_turno.numero_usuario,\n                fecha_entrada: turnos[i].fecha_entrada.completa,\n                fecha_salida: turnos[i].fecha_salida.completa,\n                hora_entrada: turnos[i].hora_entrada.completa,\n                hora_salida: turnos[i].hora_salida.completa,\n                horario_en_turno: turnos[i].horario_en_turno,\n                concepto: turnos[i].concepto,\n                caja: turnos[i].numero_caja,\n            }\n            datosExcel.push(arrayExcel);\n        };\n    };\n\n    if(data && cajas.loading  === false){\n\t\thistorialTurnos = data.obtenerFiltroTurnos;\n        agruparDatos(historialTurnos);\n\t};\n\n\tif (error) {\n\t\treturn <ErrorPage error={error} />;\n\t}\n\n    const filtrarProductos = (event) => {\n\t\tevent.preventDefault();\n        refetch();\n\t};\n    \n    const limpiarFiltros = () => {\n        setFiltros([]);\n    };\n    \n    return(\n        <>\n        <Grid container>\n            <ExcelFile\n                element={\n                    <Button\n                        variant=\"contained\"\n                        color=\"primary\"\n                        aria-label=\"Guardar\"\n                        className={classes.iconSave}\n                    >\n                        <SaveIcon className={classes.margin} />\n                        Exportar\n                    </Button>   \n                }\n                filename=\"Reporte de Turnos Usuarios\"\n            >\n                <ExcelSheet data={datosExcel} name={'Reporte de Turnos Usuarios'}>\n                    <ExcelColumn label='No. Usuario' value='numero_usuario' />\n                    <ExcelColumn label='Usuario' value='nombre' />\n                    <ExcelColumn label='Fecha Movimiento' value='fecha' />\n                    <ExcelColumn label='Fecha Entrada' value='fecha_entrada' />\n                    <ExcelColumn label='Fecha Salida' value='fecha_salida' />\n                    <ExcelColumn label='Hora Entrada' value='hora_entrada' />\n                    <ExcelColumn label='Hora Salida' value='hora_salida' />\n                    <ExcelColumn label='Horario en Turno' value='horario_en_turno' />\n                    <ExcelColumn label='Concepto' value='concepto' />\n                    <ExcelColumn label='No. de Caja' value='caja' />\n                </ExcelSheet>\n            </ExcelFile>\n\n            <Grid item lg={12}>\n                <div className={classes.formInputFlex}>\n                    <Box width=\"100%\">\n                        <Typography>\n                            Fecha inicio:\n                        </Typography>\n                        <TextField \n                            fullWidth\n                            size=\"small\"\n                            name=\"fechaInicio\"\n                            variant=\"outlined\"\n                            type=\"date\"\n                            onChange={obtenerDatos}\n                            value={filtros.fechaInicio ? filtros.fechaInicio : \"\"}\n                        />\n                    </Box>\n                    <Box width=\"100%\">\n                        <Typography>\n                            Fecha fin:\n                        </Typography>\n                        <TextField \n                            fullWidth\n                            size=\"small\"\n                            name=\"fechaFin\"\n                            variant=\"outlined\"\n                            type=\"date\"\n                            onChange={obtenerDatos}\n                            value={filtros.fechaFin ? filtros.fechaFin : \"\"}\n                        />\n                    </Box>\n                    <form onSubmit={filtrarProductos} style={{ display: 'flex', alignItems: 'center', width: \"100%\" }}>\n                        <Box width=\"100%\">\n                            <Typography>\n                                Usuario:\n                            </Typography>\n                            <TextField\n                                fullWidth\n                                size=\"small\"\n                                name=\"usuario_en_turno\"\n                                value={filtros.usuario_en_turno ? filtros.usuario_en_turno : \"\"}\n                                variant=\"outlined\"\n                                onChange={obtenerDatos}\n                            />\n                        </Box>\n                    </form>\n                    <Box width=\"100%\">\n                        <Typography>\n                            Caja:\n                        </Typography>\n                        <FormControl\n                            variant=\"outlined\"\n                            fullWidth\n                            size=\"small\"\n                        >\n                            <Select\n                                id=\"form-producto-tipo\"\n                                name=\"numero_caja\"\n                                onChange={obtenerDatos}\n                                value={filtros.numero_caja ? filtros.numero_caja : \"\"}\n                            >\n                                <MenuItem value=\"\">\n                                    <em>Selecciona uno</em>\n                                </MenuItem>\n                                {\n                                    cajas.data?.obtenerCajasSucursal?.map((caja) =>{\n                                        return(\n                                            <MenuItem key={caja.numero_caja} value={caja.numero_caja}>\n                                                Caja {caja.numero_caja}\n                                            </MenuItem>\n                                        );\n                                    })\n                                }\n                            </Select>\n                        </FormControl>\n                    </Box>\n                    <Box width=\"100%\">\n                        <Typography>\n                            Horario de Turno:\n                        </Typography>\n                        <FormControl\n                            variant=\"outlined\"\n                            fullWidth\n                            size=\"small\"\n                        >\n                            <Select\n                                id=\"form-producto-tipo\"\n                                name=\"horario_turno\"\n                                value={filtros.horario_turno ? filtros.horario_turno : \"\"}\n                                onChange={obtenerDatos}\n                            >\n                                <MenuItem value=\"\">\n                                    <em>Selecciona uno</em>\n                                </MenuItem>\n                                <MenuItem value=\"VESPERTINO\">Vespertino</MenuItem>\n                                <MenuItem value=\"MATUTINO\">Matutino</MenuItem>\n                            </Select>\n                        </FormControl>\n                    </Box>\n                    <Box width=\"70%\" display=\"flex\" justifyContent=\"center\" justifyItems=\"center\" alignItems=\"center\">\n                        <Box mt={2}>\n                            <Button\n                                color=\"primary\"\n                                size=\"large\"\n                                variant=\"contained\"\n                                onClick={limpiarFiltros}\n                            >\n                                Limpiar\n                            </Button>\n                        </Box>\n                    </Box>\n                </div>\n            </Grid> \n           \n        </Grid>    \n        <Grid item lg={12}>\n            <TablaTurnosFiltrados loading={loading} turnos={historialTurnos} />\n        </Grid>  \n        </>\n    );\n}","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport { Box } from \"@material-ui/core\";\nimport {\n  formatoFechaCorta,\n  formatoMexico,\n} from \"../../../../config/reuserFunctions\";\nimport { formaPago } from \"../../Facturacion/catalogos\";\n\nconst columns = [\n  { label: \"Nombre producto\", minWidth: 160 },\n  { label: \"Fecha de Compra\", minWidth: 160 },\n  { label: \"Almacen\", minWidth: 100 },\n  { label: \"Proveedor\", minWidth: 100 },\n  { label: \"M. pago\", minWidth: 90 },\n  { label: \"F. pago\", minWidth: 100 },\n  { label: \"Cantidad\", minWidth: 90 },\n  { label: \"Descuento\", minWidth: 100 },\n  { label: \"Subtotal\", minWidth: 90 },\n  { label: \"Impuestos\", minWidth: 90 },\n  { label: \"Total\", minWidth: 100 },\n];\n\nconst useStyles = makeStyles((theme) => ({\n  container: {\n    maxHeight: \"70vh\",\n  },\n}));\n\nexport default function TablaComprasFiltradas({ data }) {\n  const classes = useStyles();\n\n  return (\n    <Box my={2}>\n      <Paper variant=\"outlined\">\n        <TableContainer className={classes.container}>\n          <Table size=\"small\" stickyHeader aria-label=\"a dense table\">\n            <TableHead>\n              <TableRow>\n                {columns.map((column, index) => (\n                  <TableCell\n                    key={index}\n                    /* align={column.align} */\n                    style={{ minWidth: column.minWidth }}\n                  >\n                    {column.label}\n                  </TableCell>\n                ))}\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {data.map((data, index) => {\n                const result = formaPago.filter(\n                  (res) => res.Value === data.forma_pago\n                );\n                let forma_pago = result[0];\n\n                return (\n                  <TableRow key={index} role=\"checkbox\" tabIndex={-1}>\n                    <TableCell>\n                      {data.producto.datos_generales.nombre_comercial}\n                    </TableCell>\n                    <TableCell>\n                      {formatoFechaCorta(data.fecha_registro)}\n                    </TableCell>\n                    <TableCell>{data.almacen.nombre_almacen}</TableCell>\n                    <TableCell>{data.proveedor.nombre_cliente}</TableCell>\n                    <TableCell>\n                      {data.compra_credito ? \"Crdito\" : \"Contado\"}\n                    </TableCell>\n                    <TableCell>\n                      {`${forma_pago.Value}-${forma_pago.Name}`}\n                    </TableCell>\n                    <TableCell>\n                      {`${data.cantidad_total} - ${data.unidad}`}\n                    </TableCell>\n                    <TableCell>\n                      {`%${data.descuento_porcentaje} - $${\n                        data.descuento_precio\n                          ? formatoMexico(data.descuento_precio)\n                          : 0\n                      }`}\n                    </TableCell>\n                    <TableCell>${formatoMexico(data.subtotal)}</TableCell>\n                    <TableCell>${formatoMexico(data.impuestos)}</TableCell>\n                    <TableCell>${formatoMexico(data.total)}</TableCell>\n                  </TableRow>\n                );\n              })}\n            </TableBody>\n          </Table>\n        </TableContainer>\n      </Paper>\n    </Box>\n  );\n}\n","import { gql } from \"@apollo/client\";\n\nexport const OBTENER_REPORTE_COMPRAS = gql`\n  query obtenerProductoMovimientos(\n    $empresa: ID!\n    $sucursal: ID\n    $input: ObteneReportesCompras\n  ) {\n    obtenerProductoMovimientos(\n      empresa: $empresa\n      sucursal: $sucursal\n      input: $input\n    ) {\n      _id\n      id_compra\n      id_traspaso\n      id_producto\n      id_proveedor\n      id_almacen\n      almacen {\n        id_almacen\n        nombre_almacen\n      }\n      proveedor {\n        _id\n        clave_cliente\n        numero_cliente\n        nombre_cliente\n      }\n      producto {\n        almacen_inicial {\n          almacen\n          cantidad\n          fecha_de_expiracion\n          id_almacen\n        }\n        datos_generales {\n          codigo_barras\n          clave_alterna\n          tipo_producto\n          nombre_comercial\n          nombre_generico\n          descripcion\n          id_categoria\n          categoria\n          subcategoria\n          id_subcategoria\n          id_departamento\n          departamento\n          id_marca\n          marca\n          clave_producto_sat {\n            Name\n            Value\n          }\n          receta_farmacia\n        }\n        precios {\n          ieps\n          ieps_activo\n          iva\n          iva_activo\n          monedero\n          monedero_electronico\n          granel\n          litros\n          inventario {\n            inventario_minimo\n            inventario_maximo\n            unidad_de_inventario\n            codigo_unidad\n          }\n          precio_de_compra {\n            precio_con_impuesto\n            precio_sin_impuesto\n            iva\n            ieps\n          }\n          precios_producto {\n            numero_precio\n            precio_neto\n            precio_venta\n            iva_precio\n            ieps_precio\n            unidad_mayoreo\n            utilidad\n            precio_general\n            cantidad_unidad\n            unidad_maxima\n          }\n          unidad_de_compra {\n            cantidad\n            precio_unitario_con_impuesto\n            unidad\n            codigo_unidad\n          }\n        }\n        unidades_de_venta {\n          cantidad\n          codigo_barras\n          id_producto\n          precio\n          unidad\n          unidad_principal\n          _id\n          precio_unidad {\n            numero_precio\n            precio_neto\n            precio_venta\n            iva_precio\n            ieps_precio\n            unidad_mayoreo\n            utilidad\n            precio_general\n            cantidad_unidad\n            unidad_maxima\n          }\n        }\n      }\n      concepto\n      cantidad\n      cantidad_regalo\n      unidad_regalo\n      cantidad_total\n      iva_total\n      ieps_total\n      costo\n      descuento_porcentaje\n      descuento_precio\n      compra_credito\n      forma_pago\n      impuestos\n      mantener_precio\n      subtotal\n      total\n      medida {\n        id_medida\n        medida\n        tipo\n      }\n      color {\n        id_color\n        color\n        hex\n      }\n      unidad\n      id_unidad_venta\n      empresa\n      sucursal\n      usuario\n      year_registro\n      numero_semana_year\n      numero_mes_year\n      fecha_registro\n    }\n  }\n`;\n","import React from \"react\";\nimport { Button } from \"@material-ui/core\";\nimport { RiFileExcel2Line } from \"react-icons/ri\";\nimport {\n  formatoFechaCorta,\n  formatoMexico,\n} from \"../../../../config/reuserFunctions\";\nimport { formaPago } from \"../../Facturacion/catalogos\";\n\nimport ReactExport from \"react-export-excel\";\n\nconst ExcelFile = ReactExport.ExcelFile;\nconst ExcelSheet = ReactExport.ExcelFile.ExcelSheet;\nconst ExcelColumn = ReactExport.ExcelFile.ExcelColumn;\n\nexport default function ExportarCompras({ data }) {\n  const compras = data.map((compra) => {\n    const {\n      producto,\n      fecha_registro,\n      almacen,\n      proveedor,\n      color,\n      medida,\n      cantidad,\n      unidad,\n      unidad_regalo,\n      cantidad_regalo,\n      cantidad_total,\n      compra_credito,\n      costo,\n      descuento_porcentaje,\n      descuento_precio,\n      iva_precio,\n      ieps_precio,\n      subtotal,\n      impuestos,\n      total,\n    } = compra;\n    const forma_pago_filtrada = formaPago.filter(\n      (forma) => forma.Value === compra.forma_pago\n    );\n    const forma_pago = forma_pago_filtrada[0];\n\n    const compra_realizada = {\n      producto: producto.datos_generales.nombre_comercial,\n      fecha_registro: formatoFechaCorta(fecha_registro),\n      almacen: almacen.nombre_almacen,\n      proveedor: proveedor.nombre_cliente,\n      color: color ? color.color : \"N/A\",\n      medida: medida ? `${medida.medida}/${medida.tipo}` : \"N/A\",\n      cantidad,\n      unidad,\n      unidad_regalo,\n      cantidad_regalo,\n      cantidad_total,\n      compra_credito: compra_credito === true ? \"Credito\" : \"Contado\",\n      forma_pago: `${forma_pago.Value} - ${forma_pago.Name}`,\n      costo: `$${costo ? formatoMexico(costo) : 0}`,\n      descuento_porcentaje: `%${descuento_porcentaje}`,\n      descuento_precio: `$${\n        descuento_precio ? formatoMexico(descuento_precio) : 0\n      }`,\n      iva_precio: `$${ieps_precio ? formatoMexico(ieps_precio) : 0}`,\n      subtotal: `$${subtotal ? formatoMexico(subtotal) : 0}`,\n      impuestos: `$${impuestos ? formatoMexico(impuestos) : 0}`,\n      total: `$${total ? formatoMexico(total) : 0}`,\n    };\n\n    return compra_realizada;\n  });\n  return (\n    <ExcelFile\n      element={\n        <Button color=\"primary\" startIcon={<RiFileExcel2Line />}>\n          Exportar a Excel\n        </Button>\n      }\n      filename=\"Reporte de compras\"\n    >\n      <ExcelSheet data={compras} name=\"Reporte de compras\">\n        <ExcelColumn label=\"Producto\" value=\"producto\" />\n        <ExcelColumn label=\"Fecha de compra\" value=\"fecha_registro\" />\n        <ExcelColumn label=\"Almacen\" value=\"almacen\" />\n        <ExcelColumn label=\"Proveedor\" value=\"proveedor\" />\n        <ExcelColumn label=\"Color\" value=\"color\" />\n        <ExcelColumn label=\"Medida\" value=\"medida\" />\n        <ExcelColumn label=\"Cantidad\" value=\"cantidad\" />\n        <ExcelColumn label=\"Unidad\" value=\"unidad\" />\n        <ExcelColumn label=\"Unidad de Regalo\" value=\"unidad_regalo\" />\n        <ExcelColumn label=\"Cantidad de Regalo\" value=\"cantidad_regalo\" />\n        <ExcelColumn label=\"Cantidad Total\" value=\"cantidad_total\" />\n        <ExcelColumn label=\"Metodo de Pago\" value=\"compra_credito\" />\n        <ExcelColumn label=\"Forma de pago\" value=\"forma_pago\" />\n        <ExcelColumn label=\"Costo\" value=\"costo\" />\n        <ExcelColumn\n          label=\"Descuento en Porcentaje\"\n          value=\"descuento_porcentaje\"\n        />\n        <ExcelColumn label=\"Descuento en Cantidad\" value=\"descuento_precio\" />\n        <ExcelColumn label=\"IVA\" value=\"iva_precio\" />\n        <ExcelColumn label=\"IEPS\" value=\"ieps_precio\" />\n        <ExcelColumn label=\"Subtotal\" value=\"subtotal\" />\n        <ExcelColumn label=\"Impuestos\" value=\"impuestos\" />\n        <ExcelColumn label=\"Total\" value=\"total\" />\n      </ExcelSheet>\n    </ExcelFile>\n  );\n}\n","import {\n  Box,\n  Button,\n  CircularProgress,\n  DialogContent,\n  FormControl,\n  Grid,\n  MenuItem,\n  Select,\n  TextField,\n  Typography,\n} from \"@material-ui/core\";\nimport React, { Fragment, useEffect, useState } from \"react\";\nimport TablaComprasFiltradas from \"./TablaComprasFiltradas\";\nimport { formaPago } from \"../../Facturacion/catalogos\";\nimport { useDebounce } from \"use-debounce/lib\";\nimport { OBTENER_REPORTE_COMPRAS } from \"../../../../gql/Compras/reporte_compras\";\nimport { useQuery } from \"@apollo/client\";\nimport ErrorPage from \"../../../../components/ErrorPage\";\nimport { ClearOutlined } from \"@material-ui/icons\";\nimport ExportarCompras from \"./ExportarCompras\";\n\nexport default function FiltrosCompras() {\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n\n  const { loading, data, error, refetch } = useQuery(OBTENER_REPORTE_COMPRAS, {\n    variables: {\n      empresa: sesion.empresa._id,\n      sucursal: sesion.sucursal._id,\n      input: {\n        fecha_inicio: \"\",\n        fecha_fin: \"\",\n        proveedor: \"\",\n        metodo_pago: \"\",\n        forma_pago: \"\",\n        producto: \"\",\n      },\n    },\n    fetchPolicy: \"network-only\",\n  });\n\n  if (loading) {\n    return (\n      <Box\n        display=\"flex\"\n        flexDirection=\"column\"\n        justifyContent=\"center\"\n        alignItems=\"center\"\n        height=\"80vh\"\n      >\n        <CircularProgress />\n        <Typography variant=\"h6\">Cargando...</Typography>\n      </Box>\n    );\n  }\n\n  if (error) return <ErrorPage error={error} />;\n\n  const { obtenerProductoMovimientos } = data;\n\n  return (\n    <Fragment>\n      <DialogContent>\n        <CapturaDeDatos refetch={refetch} data={obtenerProductoMovimientos} />\n        <TablaComprasFiltradas data={obtenerProductoMovimientos} />\n      </DialogContent>\n    </Fragment>\n  );\n}\n\nconst CapturaDeDatos = ({ refetch, data }) => {\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n  const [filtro, setFiltro] = useState({\n    fecha_inicio: \"\",\n    fecha_fin: \"\",\n    proveedor: \"\",\n    metodo_pago: \"\",\n    forma_pago: \"\",\n    producto: \"\",\n  });\n\n  const [values] = useDebounce(filtro, 800);\n\n  const limpiarFiltros = () => {\n    setFiltro({\n      fecha_inicio: \"\",\n      fecha_fin: \"\",\n      proveedor: \"\",\n      metodo_pago: \"\",\n      forma_pago: \"\",\n      producto: \"\",\n    });\n  };\n\n  const obtenerCamposFiltro = (e) => {\n    const { name, value } = e.target;\n    setFiltro({\n      ...filtro,\n      [name]: value,\n    });\n  };\n\n  useEffect(() => {\n    realizarBusquedaBD(values);\n  }, [values]);\n\n  const realizarBusquedaBD = (filter) => {\n    refetch({\n      empresa: sesion.empresa._id,\n      sucursal: sesion.sucursal._id,\n      input: filter,\n    });\n  };\n  return (\n    <Fragment>\n      <Grid container spacing={2}>\n        <Grid item md={2}>\n          <Typography>Fecha compra inicio:</Typography>\n          <TextField\n            fullWidth\n            size=\"small\"\n            name=\"fecha_inicio\"\n            variant=\"outlined\"\n            type=\"date\"\n            onChange={obtenerCamposFiltro}\n            value={filtro.fecha_inicio}\n          />\n        </Grid>\n        <Grid item md={2}>\n          <Typography>Fecha compra fin:</Typography>\n          <TextField\n            fullWidth\n            size=\"small\"\n            name=\"fecha_fin\"\n            variant=\"outlined\"\n            type=\"date\"\n            onChange={obtenerCamposFiltro}\n            value={filtro.fecha_fin}\n          />\n        </Grid>\n        <Grid item md={2}>\n          <Typography>Proveedor:</Typography>\n          <TextField\n            fullWidth\n            size=\"small\"\n            name=\"proveedor\"\n            variant=\"outlined\"\n            placeholder=\"Nombre, Clave o numero\"\n            onChange={obtenerCamposFiltro}\n            value={filtro.proveedor}\n          />\n        </Grid>\n        <Grid item md={2}>\n          <Typography>Mtodo de pago:</Typography>\n          <FormControl variant=\"outlined\" fullWidth size=\"small\">\n            <Select\n              name=\"metodo_pago\"\n              onChange={obtenerCamposFiltro}\n              value={filtro.metodo_pago}\n            >\n              <MenuItem value=\"\">\n                <em>Cualquier metodo</em>\n              </MenuItem>\n              <MenuItem value=\"CREDITO\">Crdito</MenuItem>\n              <MenuItem value=\"CONTADO\">Contado</MenuItem>\n            </Select>\n          </FormControl>\n        </Grid>\n        <Grid item md={2}>\n          <Typography>Forma de Pago:</Typography>\n          <FormControl variant=\"outlined\" fullWidth size=\"small\">\n            <Select\n              name=\"forma_pago\"\n              onChange={obtenerCamposFiltro}\n              value={filtro.forma_pago}\n            >\n              <MenuItem value=\"\">\n                <em>Cualquier forma</em>\n              </MenuItem>\n              {formaPago.map((res, index) => (\n                <MenuItem\n                  key={index}\n                  value={res.Value}\n                >{`${res.Value} - ${res.Name}`}</MenuItem>\n              ))}\n            </Select>\n          </FormControl>\n        </Grid>\n        <Grid item md={2}>\n          <Typography>Producto:</Typography>\n          <TextField\n            fullWidth\n            size=\"small\"\n            name=\"producto\"\n            variant=\"outlined\"\n            placeholder=\"Nombre, cdigo, clave...\"\n            onChange={obtenerCamposFiltro}\n            value={filtro.producto}\n          />\n        </Grid>\n      </Grid>\n      <Box mt={1} display=\"flex\">\n        <Button\n          color=\"primary\"\n          startIcon={<ClearOutlined />}\n          onClick={() => limpiarFiltros()}\n        >\n          Limpiar filtros\n        </Button>\n        <Box mx={1} />\n        <ExportarCompras data={data} />\n      </Box>\n    </Fragment>\n  );\n};\n","import {\n  AppBar,\n  Box,\n  Button,\n  Dialog,\n  Slide,\n  Toolbar,\n  Typography,\n} from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/styles\";\nimport React, { useState } from \"react\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport { FcPaid } from \"react-icons/fc\";\nimport FiltrosCompras from \"./FiltrosCompra\";\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nconst useStyles = makeStyles((theme) => ({\n  appBar: {\n    position: \"relative\",\n  },\n  title: {\n    marginLeft: theme.spacing(2),\n    flex: 1,\n  },\n}));\n\nexport default function ReportesCompras() {\n  const classes = useStyles();\n  const [open, setOpen] = useState(false);\n\n  const handleClickOpen = () => {\n    setOpen(!open);\n  };\n\n  return (\n    <Box>\n      <Button fullWidth onClick={handleClickOpen}>\n        <Box display=\"flex\" flexDirection=\"column\">\n          <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n            <FcPaid fontSize={100} />\n          </Box>\n          Reportes Compras\n        </Box>\n      </Button>\n      <Dialog\n        fullScreen\n        open={open}\n        onClose={handleClickOpen}\n        TransitionComponent={Transition}\n      >\n        <AppBar className={classes.appBar}>\n          <Toolbar>\n            <Typography variant=\"h6\" className={classes.title}>\n              Reportes Compras\n            </Typography>\n            <Box m={1}>\n              <Button\n                variant=\"contained\"\n                color=\"secondary\"\n                onClick={handleClickOpen}\n                size=\"large\"\n              >\n                <CloseIcon style={{ fontSize: 30 }} />\n              </Button>\n            </Box>\n          </Toolbar>\n        </AppBar>\n        <FiltrosCompras />\n      </Dialog>\n    </Box>\n  );\n}\n","import React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TablePagination from '@material-ui/core/TablePagination';\nimport TableRow from '@material-ui/core/TableRow';\nimport { Box} from '@material-ui/core';\n\nconst columns = [\n\t{ id: 'name', label: 'F. Venta', minWidth: 100 },\n\t{ id: 'code', label: 'Producto', minWidth: 100 },\n\t{ id: 'code', label: 'P. de Compra', minWidth: 100 },\t\n\t{ id: 'code', label: 'Cantidad', minWidth: 100 },\n\t{ id: 'code', label: 'Total', minWidth: 100 },\t\n\t{ id: 'code', label: 'Provedor', minWidth: 100 },\t\n\t{ id: 'code', label: 'Fomas', minWidth: 100 },\t\n\t{ id: 'code', label: 'M. de Pago', minWidth: 100 },\t\n\n];\n\nconst useStyles  = makeStyles((theme) => ({\n\troot: {\n\t\twidth: '100%'\n\t},\n\tcontainer: {\n\t\tmaxHeight: '100%'\n\t},\n    appBar: {\t\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n\trootBusqueda: {\n\t\tdisplay: 'flex',\n\t\tpaddingLeft: theme.spacing(2)\n\t},\n}));\n\nexport default function TablaVentasFiltradas() {\n\tconst classes = useStyles();\n\n\treturn (\n        <Box p={2}>\n            <Paper className={classes.root}>\n                <TableContainer className={classes.container}>\n                    <Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n                        <TableHead>\n                            <TableRow>\n                                {columns.map((column) => (\n                                    <TableCell key={column.id} align={column.align} style={{ minWidth: column.minWidth }}>\n                                        {column.label}\n                                    </TableCell>\n                                ))}\n                            </TableRow>\n                        </TableHead>\n                        <TableBody>\n                            \n                        </TableBody>\n                    </Table>\n                </TableContainer>\n            </Paper>\n        </Box>\n\t);\n}","import { AppBar, Box, Button, Dialog, FormControl, Grid, MenuItem, Select, Slide, TextField, Toolbar, Typography } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/styles';\nimport React, { useState } from 'react';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { FcPaid } from 'react-icons/fc';\nimport SaveIcon from '@material-ui/icons/Save';\nimport TablaVentasFiltradas from './TablaVentasFiltradas';\n\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nconst useStyles = makeStyles((theme) => ({\n\tappBar: {\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n\ticon: {\n\t\twidth: 100\n\t},\n    formInputFlex: {\n\t\tdisplay: 'flex',\n\t\t'& > *': {\n\t\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(1)}px`\n\t\t},\n\t\t'& .obligatorio': {\n\t\t\tcolor: 'red'\n\t\t}\n\t},\n\tformInput: {\n\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(2)}px`\n\t},\n    margin: {\n\t\tmargin: theme.spacing(1)\n\t},\n\ticonSave: {\n\t\tzIndex: 10,\n\t\tposition: 'fixed',\n\t\tbottom: theme.spacing(2),\n\t\tright: theme.spacing(10)\n\t},\n}));\n\nexport default function ReportesVentas() {\n\n    const classes = useStyles();\n\n    const [open, setOpen] = useState(false);\n\n    const handleClickOpen =()=>{setOpen(!open)};\n\n    return (\n        <>\n            <Button fullWidth onClick={handleClickOpen}>\n\t\t\t\t<Box display=\"flex\" flexDirection=\"column\">\n\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n                        <img src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/ventas/cart-add.svg' alt=\"icono ventas\" style={{width: 100}} />\n\t\t\t\t\t</Box>\n\t\t\t\t\tReportes Ventas\n\t\t\t\t</Box>\n\t\t\t</Button>\n\t\t\t<Dialog fullScreen open={open} onClose={handleClickOpen} TransitionComponent={Transition}>\n\t\t\t\t<AppBar className={classes.appBar}>\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t<Typography variant=\"h6\" className={classes.title}>\n\t\t\t\t\t\t\tReportes Ventas\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Box m={1}>\n\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"secondary\" onClick={handleClickOpen} size=\"large\">\n\t\t\t\t\t\t\t\t<CloseIcon style={{fontSize: 30}} />\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</AppBar>\n                <Grid container>\n                    <Button\n                        variant=\"contained\"\n                        color=\"primary\"\n                        aria-label=\"Guardar\"\n                        className={classes.iconSave}\n                    >\n                        <SaveIcon className={classes.margin} />\n                        Exportar\n                    </Button>\n                    <Grid item lg={12}>\n                        <div className={classes.formInputFlex}>\n                            <Box width=\"100%\">\n                                <Typography>\n                                    Fecha inicio:\n                                </Typography>\n                                <TextField \n                                    fullWidth\n                                    size=\"small\"\n                                    name=\"fechaInicio\"\n                                    variant=\"outlined\"\n                                    type=\"date\"\n                                />\n                            </Box>\n                            <Box width=\"100%\">\n                                <Typography>\n                                    Fecha fin:\n                                </Typography>\n                                <TextField \n                                    fullWidth\n                                    size=\"small\"\n                                    name=\"fechaFin\"\n                                    variant=\"outlined\"\n                                    type=\"date\"\n                                />\n                            </Box>\n                            <Box width=\"100%\">\n                                <Typography>\n                                    Clientes:\n                                </Typography>\n                                <TextField\n                                    fullWidth\n                                    size=\"small\"\n                                    name=\"provedor\"\n                                    variant=\"outlined\"\n                                />\n                            </Box>\n                            <Box width=\"100%\">\n                                <Typography>\n                                    Metodos de Pago:\n                                </Typography>\n                                <FormControl\n                                    variant=\"outlined\"\n                                    fullWidth\n                                    size=\"small\"\n                                >\n                                    <Select\n                                        id=\"form-producto-tipo\"\n                                        name=\"tipo_producto\"\n                                    >\n                                        <MenuItem value=\"\">\n                                            <em>Selecciona uno</em>\n                                        </MenuItem>\n                                        <MenuItem value=\"EFECTIVO\">Efectivo</MenuItem>\n                                        <MenuItem value=\"PUNTOS\">Puntos</MenuItem>\n                                        <MenuItem value=\"DEBITO\">T. Debito</MenuItem>\n                                        <MenuItem value=\"CREDITO\">T. Credito</MenuItem>\n                                        <MenuItem value=\"CHEQUES\">Cheques</MenuItem>\n                                    </Select>\n                                </FormControl>\n                            </Box>\n                            <Box width=\"100%\">\n                                <Typography>\n                                    Nombre Producto:\n                                </Typography>\n                                <TextField\n                                    fullWidth\n                                    size=\"small\"\n                                    name=\"provedor\"\n                                    variant=\"outlined\"\n                                />\n                            </Box>\n                        </div>\n                    </Grid> \n                    <Grid item lg={12}>\n                        <TablaVentasFiltradas />\n                    </Grid>\n                    \n                </Grid>            \n\t\t\t</Dialog> \n        </>\n    )   \n}\n","import React from \"react\";\nimport { Button } from \"@material-ui/core\";\nimport { RiFileExcel2Line } from \"react-icons/ri\";\nimport {\n  formatoFechaCorta,\n  formatoMexico,\n} from \"../../../../config/reuserFunctions\";\nimport { formaPago } from \"../../Facturacion/catalogos\";\n\nimport ReactExport from \"react-export-excel\";\n\nconst ExcelFile = ReactExport.ExcelFile;\nconst ExcelSheet = ReactExport.ExcelFile.ExcelSheet;\nconst ExcelColumn = ReactExport.ExcelFile.ExcelColumn;\n\nexport default function ExportarTraspasos({ data }) {\n  const traspasos = data.map((traspaso) => {\n    const trasp =  {\n      producto: traspaso.producto.datos_generales.nombre_comercial,\n      cantidad: traspaso.cantidad,\n      fecha:\tformatoFechaCorta(traspaso.id_traspaso.fecha_registro),\n      concepto: traspaso.id_traspaso.concepto_traspaso.nombre_concepto,\n      almacen_origen: (traspaso.almacen_origen !== null) ? traspaso.almacen_origen.nombre_almacen : '',\n      almacen_destino:(traspaso.almacen_destino !== null) ? traspaso.almacen_destino.nombre_almacen : ''\n    } ;\n  \n    return trasp;\n  });\n  return (\n    <ExcelFile\n      element={\n        <Button color=\"primary\" startIcon={<RiFileExcel2Line />}>\n          Exportar a Excel\n        </Button>\n      }\n      filename=\"Reporte de traspasos\"\n    >\t\n\n      <ExcelSheet data={traspasos} name=\"Reporte de traspasos\">\n        <ExcelColumn label=\"Producto\" value=\"producto\" />\n        <ExcelColumn label=\"Cantidad\" value=\"cantidad\" />\n        <ExcelColumn label=\"Fecha\" value=\"fecha\" />\n        <ExcelColumn label=\"Concepto\" value=\"concepto\" />\n        <ExcelColumn label=\"Almacn Origen\" value=\"almacen_origen\" />\n        <ExcelColumn label=\"Almacn Destino\" value=\"almacen_destino\" />\n        \n        \n      </ExcelSheet>\n    </ExcelFile>\n  );\n}\n","import React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport { Box} from '@material-ui/core';\nimport {\n  formatoFechaCorta,\n\n} from \"../../../../config/reuserFunctions\"; \n\nconst columns = [\n\t{ id: 'producto', label: 'Producto', minWidth: 200 },\n\t\n\t{ id: 'cantidad', label: 'Cantidad', minWidth: 50 },\n\t{ id: 'fecha', label: 'Fecha ', minWidth: 50 },\t\n\t{ id: 'concepto', label: 'Concepto ', minWidth: 100 },\n\t{ id: 'almacen_origen', label: 'Almacn Origen', minWidth: 100 },\t\n\t{ id: 'almacen_destino', label: 'Almacn Destino', minWidth: 100 },\t\n\n\n];\n\nconst useStyles  = makeStyles((theme) => ({\n\troot: {\n\t\twidth: '100%'\n\t},\n\tcontainer: {\n\t\tmaxHeight: '100%'\n\t},\n    appBar: {\t\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n\trootBusqueda: {\n\t\tdisplay: 'flex',\n\t\tpaddingLeft: theme.spacing(2)\n\t},\n}));\n\nexport default function TablaAlmacenFiltradas({data}) {\n\tconst classes = useStyles();\n\n\treturn (\n        <Box p={2}>\n            <Paper className={classes.root}>\n                <TableContainer className={classes.container}>\n                    <Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n                        <TableHead>\n                            <TableRow>\n                                {columns.map((column) => (\n                                    <TableCell key={column.id} align={column.align} style={{ minWidth: column.minWidth }}>\n                                        {column.label}\n                                    </TableCell>\n                                ))}\n                            </TableRow>\n                        </TableHead>\n                         <TableBody>\n\t\t\t\t\t\t\t{data.map((data, index) => {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<TableRow key={index} role=\"checkbox\" tabIndex={-1}>\n\t\t\t\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\t\t\t{data.producto.datos_generales.nombre_comercial}\n\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t<TableCell>{data.cantidad}</TableCell>\n\t\t\t\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\t\t\t{formatoFechaCorta(data.id_traspaso.fecha_registro)}\n\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\t\t\t{data.id_traspaso.concepto_traspaso.nombre_concepto}\n\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t<TableCell>{(data.almacen_origen !== null) ? data.almacen_origen.nombre_almacen : ''}</TableCell>\n\t\t\t\t\t\t\t\t\t<TableCell>{(data.almacen_destino !== null) ? data.almacen_destino.nombre_almacen : ''}</TableCell>\n\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</TableBody>\n                    </Table>\n                </TableContainer>\n            </Paper>\n        </Box>\n\t);\n}","import React, { useState,  Fragment } from 'react';\n\nimport { AppBar, Box, Button, Dialog, FormControl, \nGrid, MenuItem, Select, Slide, TextField, Toolbar, \nTypography } from '@material-ui/core';\nimport {CircularProgress} from \"@material-ui/core\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport { makeStyles } from '@material-ui/styles';\nimport { OBTENER_USUARIOS } from '../../../../gql/Catalogos/usuarios';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { ClearOutlined } from \"@material-ui/icons\";\nimport ExportarTraspasos from \"./ExportarTraspasos\";\nimport TablaAlmacenFiltradas from './TablaAlmacenFiltradas';\nimport { useQuery } from '@apollo/client';\n\n\nimport { OBTENER_ALMACENES, OBTENER_TRASPASOS  } from '../../../../gql/Almacenes/Almacen';\nimport { useDebounce } from 'use-debounce';\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nconst useStyles = makeStyles((theme) => ({\n\tappBar: {\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n\ticon: {\n\t\twidth: 100\n\t},\n    formInputFlex: {\n\t\tdisplay: 'flex',\n\t\t'& > *': {\n\t\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(1)}px`\n\t\t},\n\t\t'& .obligatorio': {\n\t\t\tcolor: 'red'\n\t\t}\n\t},\n\tformInput: {\n\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(2)}px`\n\t},\n    margin: {\n\t\tmargin: theme.spacing(1)\n\t},\n    CircularProgress:{\n         width: '100%',\n        height: 200,\n        marginTop:100,\n        display: 'flex',\n        justifyContent: 'center'\n    },\n\ticonSave: {\n\t\tzIndex: 10,\n\t\tposition: 'fixed',\n\t\tbottom: theme.spacing(2),\n\t\tright: theme.spacing(10)\n\t},\n}));\n\nexport default function ReportesAlmacen() {\n\n    const classes = useStyles();\n    const sesion = JSON.parse(localStorage.getItem('sesionCafi'));\t\n    const [open, setOpen] = useState(false);\n    const [almacenOrigen, setAlmacenOrigen] = useState(null);\n    const [almacenDestino, setAlmacenDestino] = useState(null);\n    const [loading, setLoading] = useState(false);\n    const [inputFilter, setFilter] = useState({\n        empresa: sesion.empresa._id,\n        sucursal: sesion.sucursal._id,\n        producto: '',\n        fecha_inicio: '',\n        fecha_final: '',\n        usuario: ''\n    });\n\n    const [encargado, setEncargado] = useState('');\n    const [value] = useDebounce(inputFilter, 1000);\n\n    let almacenes = [];\n    let traspasos = [];\n    let usuarios = [];\n\n\n    const queryObtenerAlmacenes = useQuery(OBTENER_ALMACENES,{\n        variables: {\n            id: sesion.sucursal._id\n        },\n         fetchPolicy: \"network-only\"\n    });\t\n    \n    const queryObtenerUsuarios =  useQuery(OBTENER_USUARIOS,{\n        variables: {\n            sucursal: `${sesion.sucursal._id}`\n        },\n        \n         fetchPolicy: \"network-only\"\n    })\n    const traspasosAlmacenes = useQuery(OBTENER_TRASPASOS,{\n        variables:{\n            input: value\n        },\n        fetchPolicy: \"network-only\"\n    });\t\n\t\n\n  /*   useEffect(() => {\n        try {\n            \n            traspasosAlmacenes.refetch({\n                  input: inputFilter\n            }) \n        } catch (error) {\n            console.log('traspasosAlmacenes',error)\n        }\n        \n    }, []); */\n    \n    const limpiarFiltros = () => {\n        try {\n            let filt = {\n                empresa: sesion.empresa._id,\n                sucursal: sesion.sucursal._id,\n                producto: '',\n                fecha_inicio: '',\n                fecha_final: '',\n                usuario: ''\n            };\n          \n        \n            setFilter(filt);\n            setLoading(true);\n            traspasosAlmacenes.refetch(\n                {\n                    input: filt\n                }\n            )\n            setEncargado('');\n            setAlmacenOrigen(null);\n            setAlmacenDestino(null);\n            setLoading(false);\n        } catch (error) {\n            \n        }\n  \n\n  };\n    const handleClickOpen =()=>{setOpen(!open)};\n    \n    if(queryObtenerAlmacenes.data){\n        almacenes = queryObtenerAlmacenes.data.obtenerAlmacenes;\n       \n    }\n     \n    const setDatosInput = (e) =>{\n      \n          let fil = {...inputFilter, [e.target.name]: e.target.value,almacen_destino:almacenDestino,almacen_origen : almacenOrigen}\n        setFilter(fil)\n    }\n    const setQueryAlmacenOrigen = (alm) =>{\n           \n        let almDes = (almacenDestino !== null ) ? almacenDestino._id : '';\n        \n        if(alm._id !== ''){\n             setLoading(true);\n            let fil = {...inputFilter, almacen_origen : alm._id, almacen_destino: almDes}\n        \n            traspasosAlmacenes.refetch(\n                {\n                    input: fil\n                }\n            )\n           \n        }\n         setAlmacenOrigen(alm)\n          setLoading(false);\n    }\n     const setQueryAlmacenDestino = (alm) =>{\n        let almOri = (almacenOrigen !== null ) ? almacenOrigen._id : '';  \n        if(alm._id !== ''){\n      \n            let fil = {...inputFilter, almacen_origen : almOri, almacen_destino : alm._id}\n            setLoading(true);\n            traspasosAlmacenes.refetch(\n                {\n                    input: fil\n                }\n            )\n            \n        }\n        \n        setAlmacenDestino(alm);\n         setLoading(false);\n    }\n    const setEncargadoInput = ( enc) =>{\n       try {\n            let almDes = (almacenDestino !== null ) ? almacenDestino._id : '';\n            let almOri = (almacenOrigen !== null ) ? almacenOrigen._id : '';\n            let encId = ( enc!== '' ) ? enc._id : ''; \n            let fil ={...inputFilter, usuario: encId, almacen_destino:almDes,almacen_origen : almOri};\n        \n        traspasosAlmacenes.refetch(\n                {\n                    input: fil\n                }\n            )\n         setEncargado(enc)  \n          setLoading(false);  \n       } catch (error) {\n           \n       }\n        \n    }\n\n    if(traspasosAlmacenes.data){\n       try {\n           \n            traspasos = traspasosAlmacenes.data.obtenerTraspasos;   \n       } catch (error) {\n           \n       }\n      \n       \n    }\n\n    if(queryObtenerUsuarios.data){\n        try {\n             usuarios = queryObtenerUsuarios.data.obtenerUsuarios;\n        } catch (error) {\n            \n        }\n       \n    }\n\n    return (\n        <>\n            <Button fullWidth onClick={handleClickOpen}>\n\t\t\t\t<Box display=\"flex\" flexDirection=\"column\">\n\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n                        <img \n                            src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/almacen.svg' \n                            alt=\"icono almacen\" \n                            style={{width: 100}}\n                        />\n\t\t\t\t\t</Box>\n\t\t\t\t\tReportes Almacen\n\t\t\t\t</Box>\n\t\t\t</Button>\n\t\t\t<Dialog fullScreen open={open} onClose={handleClickOpen} TransitionComponent={Transition}>\n\t\t\t\t<AppBar className={classes.appBar}>\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t<Typography variant=\"h6\" className={classes.title}>\n\t\t\t\t\t\t\tReportes Almacen\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Box m={1}>\n\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"secondary\" onClick={handleClickOpen} size=\"large\">\n\t\t\t\t\t\t\t\t<CloseIcon style={{fontSize: 30}} />\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</AppBar>\n                <Grid container>\n                    \n                    <Grid item lg={12}>\n                        <div className={classes.formInputFlex}>\n                            <Box width=\"100%\">\n                                <Typography>\n                                    Fecha inicio:\n                                </Typography>\n                                <TextField \n                                    fullWidth\n                                    size=\"small\"\n                                    name=\"fecha_inicio\"\n                                    variant=\"outlined\"\n                                    value={inputFilter.fecha_inicio}\n                                    type=\"date\"\n                                    onChange={(e) => setDatosInput(e)}\n                                />\n                            </Box>\n                            <Box width=\"100%\">\n                                <Typography>\n                                    Fecha fin:\n                                </Typography>\n                                <TextField \n                                    fullWidth\n                                    size=\"small\"\n                                    name=\"fecha_final\"\n                                    variant=\"outlined\"\n                                    type=\"date\"\n                                    onChange={(e) => setDatosInput(e)}\n                                    value={inputFilter.fecha_final}\n                                />\n                            </Box>\n                            <Box width=\"100%\">\n                                <Typography>Encargado</Typography>\n                                <Box display=\"flex\">\n                                    <Autocomplete\n                                        id=\"encargado\"\n                                        size=\"small\"\n                                        options={usuarios}\n                                       \n                                        getOptionLabel={(option) =>\n                                            option.nombre ? `${option.nombre}` : \"\"\n                                        }\n                                        fullWidth\n                                        renderInput={(params) => (\n                                            <TextField\n                                            {...params}\n                                            variant=\"outlined\"\n                                            InputProps={{\n                                                ...params.InputProps,\n                                                endAdornment: (\n                                                <Fragment>\n                                                  \n                                                    {params.InputProps.endAdornment}\n                                                </Fragment>\n                                                ),\n                                            }}\n                                            \n                                            />\n                                        )}\n                                        renderOption={(option) => (\n                                            <Fragment>\n                                            {`${option.nombre}`}\n                                            </Fragment>\n                                        )}\n                                        onChange={ (_, data) =>  setEncargadoInput(data)}\n                                        getOptionSelected={(option, value) =>\n                                            option.nombre === value.nombre\n                                        }\n             \n                                        value={(encargado.nombre) ? encargado: null }\n                                    />\n                                </Box>\n                            </Box>\n                             <Box width=\"100%\">\n                                <Typography>Producto:</Typography>\n                                <TextField\n                                    fullWidth\n                                    size=\"small\"\n                                    name=\"producto\"\n                                    variant=\"outlined\"\n                                    placeholder=\"Nombre, cdigo, clave...\"\n                                    onChange={(e) => setDatosInput(e)}\n                                    value={inputFilter.producto}\n                                />\n                            </Box>\n                           \n                            <Box width=\"100%\">\n                                <Typography>\n                                    Almacen origen:\n                                </Typography>\n                                <FormControl\n                                    variant=\"outlined\"\n                                    fullWidth\n                                    size=\"small\"\n                                >\n                                    <Select\n                                        id=\"form-almacen-origen\"\n                                        name=\"almacen_origen\"\n                                        onChange={(e) => setQueryAlmacenOrigen(e.target.value)}\n                                        value={(almacenOrigen !== null) ? almacenOrigen : ''} \n                                    >   \n                                       \n                                        {almacenes.map((almacen) => (\n                                            <MenuItem key={almacen._id} value={almacen} >\n                                                {almacen.nombre_almacen}\n                                            </MenuItem>\n                                        ))}\n                                      \n                                    </Select>\n                                </FormControl>\n                            </Box>\n                            <Box width=\"100%\">\n                                <Typography>\n                                    Almacen destino:\n                                </Typography>\n                                <FormControl\n                                    variant=\"outlined\"\n                                    fullWidth\n                                    size=\"small\"\n                                    \n                                >\n                                    <Select\n                                        id=\"form-almacen-destino\"\n                                        name=\"almacen_destino\"\n                                        onChange={(e) => setQueryAlmacenDestino(e.target.value)}\n                                        value={(almacenDestino !== null) ? almacenDestino: ''} \n                                    >\n                                     \n                                          {almacenes.map((almacen) => (\n                                            <MenuItem key={almacen._id} value={almacen} >\n                                            {almacen.nombre_almacen}\n                                            </MenuItem>\n                                        ))}\n                                       \n                                    </Select>\n                                </FormControl>\n                            </Box>\n                           \n                        </div>\n                        <div className={classes.formInputFlex}>\n                            <Box mt={1} display=\"flex\">\n                                <Button\n                                color=\"primary\"\n                                startIcon={<ClearOutlined />}\n                                onClick={() => limpiarFiltros()}\n                                >\n                                Limpiar filtros\n                                </Button>\n                                <Box mx={1} />\n                                <ExportarTraspasos data= {traspasos} />\n                            </Box>\n                        </div>    \n                    </Grid> \n                    {\n                        (traspasosAlmacenes.loading || loading) ?\n                        <div className={classes.CircularProgress}>\n                        <CircularProgress/>\n                        </div>\n                        :\n                        <Grid item lg={12}>\n                         <TablaAlmacenFiltradas data={traspasos} />\n                        </Grid>\n                    }\n                 \n                    \n                </Grid>            \n\t\t\t</Dialog> \n        </>\n    )   \n}\n","import React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport { Box, Button, CircularProgress, Dialog, DialogActions, Grid, Typography} from '@material-ui/core';\nimport { OBTENER_CORTE_CAJA } from '../../../../gql/Cajas/cajas';\nimport moment from 'moment';\nimport { useLazyQuery } from '@apollo/client';\n\nconst columns = [\n\t{label: 'Fecha Corte', minWidth: 100 },\n\t{label: 'Hora Corte', minWidth: 100 },\n\t{label: 'Usuario', minWidth: 100 },\n\t{label: 'Turno Horario', minWidth: 100 },\t\n\t{label: 'Caja', minWidth: 100 },\n\t{label: 'Sucursal', minWidth: 100 }\n];\n\nconst useStyles  = makeStyles((theme) => ({\n\troot: {\n\t\twidth: '100%'\n\t},\n\tcontainer: {\n\t\tmaxHeight: \"70vh\",\n    \t'& ::-webkit-scrollbar': {\n      \t\tdisplay: 'none'\n    \t}\n\t},\n    appBar: {\t\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n\trootBusqueda: {\n\t\tdisplay: 'flex',\n\t\tpaddingLeft: theme.spacing(2)\n\t},\n}));\n\nexport default function TablaCortesFiltradas({loading, cortes}) {\n\tconst classes = useStyles();\n\n\tif (loading)\n\treturn (\n\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" height=\"30vh\">\n\t\t\t<CircularProgress />\n\t\t</Box>\n\t);\n\n\treturn (\n        <Box p={2}>\n            <Paper className={classes.root}>\n                <TableContainer className={classes.container}>\n                    <Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n                        <TableHead>\n                            <TableRow>\n                                {columns.map((column) => (\n                                    <TableCell key={column.id} align=\"center\" style={{ minWidth: column.minWidth }}>\n                                        {column.label}\n                                    </TableCell>\n                                ))}\n                            </TableRow>\n                        </TableHead>\n\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t{cortes.map((row) => {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<RowsRender\n\t\t\t\t\t\t\t\t\t\tkey={row._id}\n\t\t\t\t\t\t\t\t\t\tcorte={row}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</TableBody>\n                    </Table>\n                </TableContainer>\n            </Paper>\n        </Box>\n\t);\n}\n\nfunction RowsRender({corte}) {\n\tconst [open, setOpen] = useState(false);\n    const sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\n\tconst [obtenerCorte, { data, error, loading }] = useLazyQuery(\n\t\tOBTENER_CORTE_CAJA,\n\t\t{\n\t\t\tvariables: { \n\t\t\t\tsucursal: sesion.sucursal._id, \n\t\t\t\tempresa: sesion.empresa._id,\n\t\t\t\tinput: { \n\t\t\t\t\tusuario: sesion._id,\n\t\t\t\t\tcaja: corte.id_caja,\n\t\t\t\t\ttoken_turno_user: corte.token_turno_user,\n\t\t\t\t\tnumber_user: sesion.numero_usuario\n\t\t\t\t} \n\t\t\t},\n\t\t  fetchPolicy: \"network-only\",\n\t\t}\n\t);\n\n\tlet montos_sistema = [];\n\n\tif(data){\n\t\tmontos_sistema = data.obtenerCorteCaja.montos_en_sistema;\n\t};\n\n\tconst handleClickOpen = () => {\n\t\tsetOpen(!open);\n\t\tobtenerCorte();\n\t};\n\n\treturn(\n\t\t<>\n\t\t\t<TableRow\n\t\t\t\thover\n\t\t\t\trole=\"checkbox\"handleClickOpen\n\t\t\t\tonClick={handleClickOpen}\n\t\t\t\ttabIndex={-1}\n\t\t\t\tkey={corte._id}\n\t\t\t>\n\t\t\t\t<TableCell align=\"center\">{corte.fecha_salida.completa}</TableCell>\n\t\t\t\t<TableCell align=\"center\">{corte.hora_salida.completa}</TableCell>\n\t\t\t\t<TableCell align=\"center\">{corte.usuario_en_turno.nombre}</TableCell>\n\t\t\t\t<TableCell align=\"center\">{corte.horario_en_turno}</TableCell>\n\t\t\t\t<TableCell align=\"center\">{corte.numero_caja}</TableCell>\n\t\t\t\t<TableCell align=\"center\">{corte.sucursal.nombre_sucursal}</TableCell>\n\t\t\t</TableRow>\n\n\t\t\t<Dialog\n\t\t\t\tfullWidth={true}\n\t\t\t\tmaxWidth='lg'\n\t\t\t\topen={open} \n\t\t\t\tonClose={handleClickOpen} \n\t\t\t>\n\t\t\t\t<InformacionCorteCaja corte={corte} montos_sistema={montos_sistema} loading={loading} />\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Box p={2} display=\"flex\" flexDirection='row-reverse'>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\tsize=\"large\"\n\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\tonClick={handleClickOpen}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tImprimir Ticket\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Box>\n\t\t\t\t</DialogActions>\n\t\t\t</Dialog>\n\t\t</>\n\t);\n};\n\nfunction InformacionCorteCaja({corte, montos_sistema, loading}) {\n\tconst classes = useStyles();\n\n\tif (loading)\n\treturn (\n\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" height=\"30vh\">\n\t\t\t<CircularProgress />\n\t\t</Box>\n\t);\n\n\treturn(\n\t\t<>\n\t\t\t<Grid item lg={12} md={12} xs={12}>\n\t\t\t\t<Box p={1} textAlign=\"center\">\n\t\t\t\t\t<Typography variant=\"h5\">\n\t\t\t\t\t\t<b>Reporte de Corte de Caja</b>\n\t\t\t\t\t</Typography>\n\t\t\t\t</Box>\n\t\t\t\t<Box p={1} textAlign=\"center\">\n\t\t\t\t\t<Typography variant=\"h6\">\n\t\t\t\t\t\t<b>Fecha y hora de Corte: </b>{moment(corte.fecha_movimiento).format('Do MMMM YYYY, h:mm:ss')}\n\t\t\t\t\t</Typography>\n\t\t\t\t</Box>\n\t\t\t</Grid>\n\t\t\t<Grid item lg={12} md={12} xs={12}>\n\t\t\t\t<Box p={2} display=\"flex\" justifyContent=\"center\">\n\t\t\t\t\t<Box p={1}>\n\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t<b>Usuario: </b> {corte.usuario_en_turno.nombre}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box p={1}>\n\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t<b>No. de usuario: </b>{corte.usuario_en_turno.numero_usuario}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</Box>\n\t\t\t\t\t\n\t\t\t\t\t<Box p={1}>\n\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t<b>Horario en turno: </b>{corte.horario_en_turno}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box p={1}>\n\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t<b>Numero de caja: </b>{corte.numero_caja}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box p={1}>\n\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t<b>Sucursal: </b>{corte.sucursal.nombre_sucursal}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</Box>\n\t\t\t\t</Box>\n\t\t\t</Grid>\n\n\t\t\t<Grid>\n\t\t\t\t<Paper className={classes.root}>\n\t\t\t\t\t<TableContainer className={classes.container}>\n\t\t\t\t\t\t<Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n\t\t\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">CONCEPTO</TableCell>\n\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">CAJERO</TableCell>\n\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">SISTEMA</TableCell>\n\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">DIFERENCIA</TableCell>\n\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t</TableHead>\n\t\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\"><b>MONTO EFECTIVO</b></TableCell>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\">${corte.montos_en_caja.monto_efectivo.monto}</TableCell>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\">${montos_sistema.monto_efectivo}</TableCell>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t\t${( corte.montos_en_caja.monto_efectivo.monto - montos_sistema.monto_efectivo)}\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\"><b>MONTO TARJETA DEBITO</b></TableCell>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\">${corte.montos_en_caja.monto_tarjeta_debito.monto}</TableCell>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\">${montos_sistema.monto_tarjeta_debito}</TableCell>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t\t${( corte.montos_en_caja.monto_tarjeta_debito.monto - montos_sistema.monto_tarjeta_debito)}\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\"><b>MONTO TARJETA DE CREDITO</b></TableCell>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\">${corte.montos_en_caja.monto_tarjeta_credito.monto}</TableCell>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\">${montos_sistema.monto_tarjeta_credito}</TableCell>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t\t${( corte.montos_en_caja.monto_tarjeta_credito.monto - montos_sistema.monto_tarjeta_credito)}\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\"><b>MONTO TRANSFERENCIAS</b></TableCell>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\">${corte.montos_en_caja.monto_transferencia.monto}</TableCell>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\">${montos_sistema.monto_transferencia}</TableCell>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t\t${( corte.montos_en_caja.monto_transferencia.monto - montos_sistema.monto_transferencia)}\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\"><b>MONTO EN MONEDERO</b></TableCell>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\">${corte.montos_en_caja.monto_monedero.monto}</TableCell>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\">${montos_sistema.monto_monedero}</TableCell>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t\t${( corte.montos_en_caja.monto_monedero.monto - montos_sistema.monto_monedero)}\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\"><b>MONTO EN CREDITOS</b></TableCell>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\">${corte.montos_en_caja.monto_creditos.monto}</TableCell>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\">${montos_sistema.monto_creditos}</TableCell>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t\t${( corte.montos_en_caja.monto_creditos.monto - montos_sistema.monto_creditos)}\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\"><b>MONTO EN CHEQUES</b></TableCell>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\">${corte.montos_en_caja.monto_cheques.monto}</TableCell>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\">${montos_sistema.monto_cheques}</TableCell>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t\t${( corte.montos_en_caja.monto_cheques.monto - montos_sistema.monto_cheques)}\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\"><b>MONTO EN VALE DE DESPENSA</b></TableCell>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\">${corte.montos_en_caja.monto_vales_despensa.monto}</TableCell>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\">${montos_sistema.monto_vales_despensa}</TableCell>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t\t${( corte.montos_en_caja.monto_vales_despensa.monto - montos_sistema.monto_vales_despensa)}\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t\t</Table>\n\t\t\t\t\t</TableContainer>\n\t\t\t\t</Paper>\n\t\t\t\t\n\t\t\t</Grid>\n\t\t</>\n\t)\n}","import { Button, makeStyles } from '@material-ui/core'\nimport React, { useState } from 'react'\nimport ExcelFile from 'react-export-excel/dist/ExcelPlugin/components/ExcelFile'\nimport SaveIcon from '@material-ui/icons/Save';\nimport ExcelSheet from 'react-export-excel/dist/ExcelPlugin/elements/ExcelSheet';\nimport ExcelColumn from 'react-export-excel/dist/ExcelPlugin/elements/ExcelColumn';\n\nconst useStyles = makeStyles((theme) => ({\n\ticon: {\n\t\tfontSize: 40,\n\t\twidth: 40\n\t},\n    iconSave: {\n\t\tzIndex: 10,\n\t\tposition: 'fixed',\n\t\tbottom: theme.spacing(2),\n\t\tright: theme.spacing(10)\n\t}\n}));\n\nexport default function ExportExcel({historialCortes}) {\n    const [ datosExcel, setDatosExcel ] = useState([]);\n\n    const classes = useStyles();\n    let arrayExcel = [];\n\n    const agruparDatos = () => {\n       \n        \n        for (let i = 0; i < historialCortes.length; i++) {\n            arrayExcel = { \n                fecha: historialCortes[i].fecha_salida.completa,\n                hora_movimiento: historialCortes[i].hora_salida.completa,\n                horario_turno: historialCortes[i].horario_en_turno,\n                sucursal: historialCortes[i].sucursal.nombre_sucursal,\n                nombre: historialCortes[i].usuario_en_turno.nombre,\n                numero_usuario: historialCortes[i].usuario_en_turno.numero_usuario,\n                concepto: \"Corte Caja\",\n                caja: historialCortes[i].numero_caja,\n                monto_efectivo: historialCortes[i].montos_en_caja.monto_efectivo.monto , \n                monto_creditos: historialCortes[i].montos_en_caja.monto_creditos.monto , \n                monto_tarjeta_debito: historialCortes[i].montos_en_caja.monto_tarjeta_debito.monto , \n                monto_tarjeta_credito: historialCortes[i].montos_en_caja.monto_tarjeta_credito.monto , \n                monto_monedero: historialCortes[i].montos_en_caja.monto_monedero.monto , \n                monto_cheques: historialCortes[i].montos_en_caja.monto_cheques.monto , \n                monto_transferencia: historialCortes[i].montos_en_caja.monto_transferencia.monto ,\n                monto_vales_despensa: historialCortes[i].montos_en_caja.monto_vales_despensa.monto ,\n            };\n            setDatosExcel(arrayExcel);\n        };\n    };\n\n\n    return (\n        <>\n            <ExcelFile\n                element={\n                    <Button\n                        variant=\"contained\"\n                        color=\"primary\"\n                        aria-label=\"Guardar\"\n                        className={classes.iconSave}\n                        onClick={() => agruparDatos()}\n                    >\n                        <SaveIcon className={classes.margin} />\n                        Exportar\n                    </Button>   \n                }\n                filename={`Reporte de Historial de Cortes`}\n            >\n                <ExcelSheet data={datosExcel} name={`Reporte de Historial de Cortes`}>\n                    <ExcelColumn label='Usuario' value='nombre' />\n                    <ExcelColumn label='No. Usuario' value='numero_usuario' />\n                    <ExcelColumn label='Sucursal' value='sucursal' />\n                    <ExcelColumn label='Fecha Corte' value='fecha' />\n                    <ExcelColumn label='Hora Corte' value='hora_movimiento' />\n                    <ExcelColumn label='Horario Turno' value='horario_turno' />\n                    <ExcelColumn label='Concepto' value='concepto' />\n                    <ExcelColumn label='No. de Caja' value='caja' />\n                    <ExcelColumn label='M. en Efectivo' value='monto_efectivo' />\n                    <ExcelColumn label='M. en Creditos' value='monto_creditos' />\n                    <ExcelColumn label='M. en Tarjeta Debito' value='monto_tarjeta_debito' />\n                    <ExcelColumn label='M. en Tarjeta Credito' value='monto_tarjeta_credito' />\n                    <ExcelColumn label='M. en Monedero' value='monto_monedero' />\n                    <ExcelColumn label='M. en Cheques' value='monto_cheques' />\n                    <ExcelColumn label='M. en Transferencia' value='monto_transferencia' />\n                    <ExcelColumn label='M. en Vale Despensa' value='monto_vales_despensa' />\n                </ExcelSheet>\n            </ExcelFile>\n        </>\n    )\n}\n","import { AppBar, Box, Button, Dialog, FormControl, Grid, MenuItem, Select, Slide, TextField, Toolbar, Typography } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/styles';\nimport React, { useState } from 'react';\nimport CloseIcon from '@material-ui/icons/Close';\nimport TablaComprasFiltradas from './TablaCortesFiltradas';\nimport ExportExcel from './ExportExcel';\n\nimport { useQuery } from '@apollo/client';\nimport { OBTENER_CAJAS, OBTENER_CORTES_CAJA } from '../../../../gql/Cajas/cajas';\nimport { useDebounce } from 'use-debounce/lib';\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nconst useStyles = makeStyles((theme) => ({\n\tappBar: {\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n\ticon: {\n\t\twidth: 100\n\t},\n    formInputFlex: {\n\t\tdisplay: 'flex',\n\t\t'& > *': {\n\t\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(1)}px`\n\t\t},\n\t\t'& .obligatorio': {\n\t\t\tcolor: 'red'\n\t\t}\n\t},\n\tformInput: {\n\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(2)}px`\n\t},\n    margin: {\n\t\tmargin: theme.spacing(1)\n\t},\n\ticonSave: {\n\t\tzIndex: 10,\n\t\tposition: 'fixed',\n\t\tbottom: theme.spacing(2),\n\t\tright: theme.spacing(10)\n\t},\n}));\n\nexport default function ReportesCortes() {\n    const sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n    const classes = useStyles();\n\n    const [ open, setOpen ] = useState(false);\n    const [ datosFiltro, setDatosFiltro ] = useState([]);\n    const [value] = useDebounce(datosFiltro, 500);\n\n    let cajas = [];\n    let historialCortes = [];\n\n    const cajasBase = useQuery(OBTENER_CAJAS,{\n\t\tvariables: {\n            empresa: sesion.empresa._id,\n\t\t\tsucursal: sesion.sucursal._id,\n\t\t}\n\t});\n\n    const { loading, data, error, refetch  }= useQuery( OBTENER_CORTES_CAJA,{\n\t\tvariables: {\n            empresa: sesion.empresa._id,\n\t\t\tsucursal: sesion.sucursal._id,\n            input: {\n                fecha_consulta: datosFiltro.fecha_consulta ? datosFiltro.fecha_consulta : \"\",\n                usuario: value.usuario ? value.usuario : \"\", \n                numero_caja: datosFiltro.numero_caja ? parseInt(datosFiltro.numero_caja) : null\n            }\n\t\t}\n\t});\n\n    if(cajasBase.loading === false && loading === false){\n        cajas = cajasBase.data.obtenerCajasSucursal;\n        historialCortes = data.obtenerCortesDeCaja;\n    }\n\n    const handleClickOpen = () => {setOpen(!open)};\n\n    const obtenerDatos = (e) => { \n        setDatosFiltro({...datosFiltro, [e.target.name]: e.target.value})\n    };\n\n    const filtrarProductos = (event) => {\n\t\tevent.preventDefault();\n        refetch();\n\t};\n    \n    const limpiarDatos = () => {\n        setDatosFiltro([]);\n    };\n    \n    return (\n        <>\n            <Button fullWidth onClick={handleClickOpen}>\n\t\t\t\t<Box display=\"flex\" flexDirection=\"column\">\n\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n                        <img \n                            src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/ventas/cash-register.svg' \n                            alt=\"icono caja\" \n                            style={{width: 100}}\n                        />\n\t\t\t\t\t</Box>\n\t\t\t\t\tReportes Cortes de caja\n\t\t\t\t</Box>\n\t\t\t</Button>\n\t\t\t<Dialog fullScreen open={open} onClose={handleClickOpen} TransitionComponent={Transition}>\n\t\t\t\t<AppBar className={classes.appBar}>\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t<Typography variant=\"h6\" className={classes.title}>\n\t\t\t\t\t\t\tReportes Cortes de caja\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Box m={1}>\n\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"secondary\" onClick={handleClickOpen} size=\"large\">\n\t\t\t\t\t\t\t\t<CloseIcon style={{fontSize: 30}} />\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</AppBar>\n                <Grid container>\n                    <ExportExcel historialCortes={historialCortes} /> \n                    \n                    <Grid item lg={12} md={12} xs={12}>\n                        <div className={classes.formInputFlex}>\n                            <Box width=\"100%\">\n                                <Typography>\n                                    Fecha de corte:\n                                </Typography>\n                                <TextField \n                                    fullWidth\n                                    size=\"small\"\n                                    name=\"fecha_consulta\"\n                                    variant=\"outlined\"\n                                    type=\"date\"\n                                    onChange={obtenerDatos}\n                                    value={datosFiltro.fecha_consulta ? datosFiltro.fecha_consulta : \"\"}\n                                />\n                            </Box>\n                            <form onSubmit={filtrarProductos} style={{ display: 'flex', alignItems: 'center', width: \"100%\" }}>\n                                <Box width=\"100%\">\n                                    <Typography>\n                                        Usuario:\n                                    </Typography>\n                                    <TextField\n                                        fullWidth\n                                        size=\"small\"\n                                        name=\"usuario\"\n                                        variant=\"outlined\"\n                                        onChange={obtenerDatos}\n                                        value={datosFiltro.usuario ? datosFiltro.usuario : \"\"}\n                                    />\n                                </Box>\n                            </form>\n                            <Box width=\"100%\">\n                                <Typography>\n                                    Caja:\n                                </Typography>\n                                <FormControl\n                                    variant=\"outlined\"\n                                    fullWidth\n                                    size=\"small\"\n                                >\n                                    <Select\n                                        id=\"form-producto-tipo\"\n                                        name=\"numero_caja\"\n                                        onChange={obtenerDatos}\n                                        value={datosFiltro.numero_caja ? datosFiltro.numero_caja : \"\"}\n                                    >\n                                        <MenuItem value=\"\">\n                                            <em>Selecciona uno</em>\n                                        </MenuItem>\n                                        {\n                                            cajas?.map((caja) =>{\n                                                return(\n                                                    <MenuItem key={caja.numero_caja} value={caja.numero_caja}>\n                                                        Caja {caja.numero_caja}\n                                                    </MenuItem>\n                                                );\n                                            })\n                                        }\n                                    </Select>\n                                </FormControl>\n                            </Box>\n                            <Box \n                                width=\"100%\" \n                                display=\"flex\" \n                                justifyContent=\"center\" \n                                alignItems=\"center\"\n                                mt={2}\n                            >\n                                <Button\n                                    color=\"primary\"\n                                    size=\"large\"\n                                    variant=\"contained\"\n                                    onClick={limpiarDatos}\n                                >\n                                    Limpiar Filtro\n                                </Button>\n                            </Box>\n                        </div>\n                    </Grid> \n                    <Grid item lg={12} md={12} xs={12}>\n                        <TablaComprasFiltradas cortes={historialCortes} loading={loading} />\n                    </Grid>\n                </Grid>            \n\t\t\t</Dialog> \n        </>\n    )   \n}\n","import React, { Fragment, useEffect, useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport { Box, Button, CircularProgress, Dialog, DialogActions, DialogContent, FormControl, Grid, MenuItem, Select, Slide, TextField, Typography } from '@material-ui/core';\nimport { useDebounce } from 'use-debounce/lib';\nimport { useQuery } from '@apollo/client';\nimport { OBTENER_HISTORIAL_EGRESOS } from '../../../../gql/Tesoreria/egresos';\nimport moment from 'moment';\nimport { formatoMexico } from '../../../../config/reuserFunctions';\n\nconst columns = [\n\t{ id: 'folio', label: 'Folio', minWidth: 170 },\n\t{ id: 'nombre', label: 'Usuario', minWidth: 170 },\n\t{ id: 'fecha', label: 'Fecha', minWidth: 170 },\n\t{ id: 'folioF', label: 'Folio Factura', minWidth: 170 },\n\t{ id: 'tipo', label: 'Tipo Compra', minWidth: 170 },\n];\n\nconst useStyles  = makeStyles((theme) => ({\n\t\troot: {\n\t\t\twidth: '100%',\n\t\t\theight: '70vh'\n\t\t},\n\tcontainer: {\n\t\tmaxHeight: '100%'\n\t},\n    appBar: {\t\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n\trootBusqueda: {\n\t\tdisplay: 'flex',\n\t\tpaddingLeft: theme.spacing(2)\n\t},\n\tformInputFlex: {\n\t\tdisplay: 'flex',\n\t\t'& > *': {\n\t\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(2)}px`\n\t\t}\n\t},\n\tformInput: {\n\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(2)}px`\n\t},\n}));\n\nexport default function ListaEgresos() {\n    const sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\n\tconst classes = useStyles();\n\tconst [datosFiltro, setDatosFiltro] = useState([]);\n\tconst [value] = useDebounce(datosFiltro, 500);\n\n\n\tconst { loading, data, error, refetch  } = useQuery( OBTENER_HISTORIAL_EGRESOS,{\n\t\tvariables: {\n\t\t\tinput: {\n                fecha_inicio: datosFiltro.fecha_inicio ? datosFiltro.fecha_inicio : \"\",\n                fecha_fin: datosFiltro.fecha_fin ? datosFiltro.fecha_fin : \"\",\n                usuario: value.usuario ? value.usuario : \"\", \n                tipo_movimiento: datosFiltro.tipo_movimiento ? (datosFiltro.tipo_movimiento === \"CREDITO\" ?  true : false) : null\n            },\n            empresa: sesion.empresa._id,\n\t\t\tsucursal: sesion.sucursal._id\n\t\t}\n\t});\n\n\n\tuseEffect(() => {\n\t\trefetch();\n\t}, [refetch]);\n\n\t\n\tlet historialEgresos = [];\n\n\tif(data){\n\t\thistorialEgresos = data.obtenerHistorialEgresos\n\t}\n\n\tconst obtenerDatos =(e)=>{\n\t\tsetDatosFiltro({...datosFiltro, [e.target.name]: e.target.value})\n    };\n\n\tconst limpiarDatos = () => {\n\t\tsetDatosFiltro([]);\n\t};\n\n\treturn (\n\t\t<Grid>\n\t\t\t<Grid item lg={12} md={12} xs={12}>\n\t\t\t\t<div className={classes.formInputFlex}>\n\t\t\t\t\t<Box width=\"100%\">\n\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\tFecha Inicio:\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\tname=\"fecha_inicio\"\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\ttype=\"date\"\n\t\t\t\t\t\t\tonChange={obtenerDatos}\n\t\t\t\t\t\t\tvalue={datosFiltro.fecha_inicio ? datosFiltro.fecha_inicio : \"\"}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box width=\"100%\">\n\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\tFecha Fin:\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\tname=\"fecha_fin\"\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\ttype=\"date\"\n\t\t\t\t\t\t\tonChange={obtenerDatos}\n\t\t\t\t\t\t\tvalue={datosFiltro.fecha_fin ? datosFiltro.fecha_fin : \"\"}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box width=\"100%\">\n\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\tUsuario:\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\tname=\"usuario\"\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\tonChange={obtenerDatos}\n\t\t\t\t\t\t\tvalue={datosFiltro.usuario ? datosFiltro.usuario : \"\"}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box width=\"100%\">\n\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\tTipo Egreso:\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\t\tid=\"form-producto-tipo\"\n\t\t\t\t\t\t\t\tname=\"tipo_movimiento\"\n\t\t\t\t\t\t\t\tonChange={obtenerDatos}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<MenuItem value=\"TODOS\">\n\t\t\t\t\t\t\t\t\t<em>Selecciona uno</em>\n\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t<MenuItem value='CONTADO'>\n\t\t\t\t\t\t\t\t\tEgreso Contado\n\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t<MenuItem value='CREDITO'>\n\t\t\t\t\t\t\t\t\tEgreso Credito\n\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t</Select>\n\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box \n\t\t\t\t\t\twidth=\"100%\" \n\t\t\t\t\t\tdisplay=\"flex\" \n\t\t\t\t\t\tjustifyContent=\"center\" \n\t\t\t\t\t\talignItems=\"center\"\n\t\t\t\t\t\tmt={2}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\tsize=\"large\"\n\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\tonClick={limpiarDatos}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tLimpiar Filtro\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Box>\n\t\t\t\t</div>\n\t\t\t</Grid> \n\t\t\t<Box p={2}>\n\t\t\t\t<Paper className={classes.root}>\n\t\t\t\t\t<TableContainer className={classes.container}>\n\t\t\t\t\t\t<Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n\t\t\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t\t{columns.map((column) => (\n\t\t\t\t\t\t\t\t\t\t<TableCell key={column.id} align={column.align} style={{ minWidth: column.minWidth }}>\n\t\t\t\t\t\t\t\t\t\t\t{column.label}\n\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t</TableHead>\n\t\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t\t{historialEgresos.map((row, index) => {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<RowsEgresos row={row} loading={loading} key={index} />\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t\t</Table>\n\t\t\t\t\t</TableContainer>\n\t\t\t\t</Paper>\n\t\t\t</Box>\n\t\t</Grid>\n\t);\n};\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nfunction RowsEgresos({row, loading}){\n\n\tconst [open, setOpen] = useState(false);\n\n\tconst handleClickOpen =()=> setOpen(!open);\n\n\tif (loading) \n\treturn (\n\t\t<Box\n\t\tdisplay=\"flex\"\n\t\tflexDirection=\"column\"\n\t\tjustifyContent=\"center\"\n\t\talignItems=\"center\"\n\t\theight=\"80vh\"\n\t\t>\n\t\t\t<CircularProgress />\n\t\t</Box>\n\t);\n\n\treturn(\n\t\t<Fragment>\n\t\t\t<Dialog\n\t\t\t\topen={open} \n\t\t\t\tTransitionComponent={Transition} \n\t\t\t\tfullWidth \n\t\t\t\tmaxWidth=\"md\"\n\t\t\t>\n\t\t\t\t<DialogCaracteristicas row={row}  />\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\tsize='large'\n\t\t\t\t\t\tonClick={handleClickOpen}\n\t\t\t\t\t>\n\t\t\t\t\t\tCerrar\n\t\t\t\t\t</Button>\n\t\t\t\t</DialogActions>\n\t\t\t</Dialog>\n\t\t\t<TableRow \n\t\t\t\thover \n\t\t\t\ttabIndex={-1} \n\t\t\t\tkey={row.code}\n\t\t\t\tonClick={handleClickOpen}\n\t\t\t>\n\t\t\t\t<TableCell>\n\t\t\t\t\t{row.folio_egreso}\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell>\n\t\t\t\t\t{row.nombre_usuario_creador}\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell>\n\t\t\t\t\t{row.fecha_compra}\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell>\n\t\t\t\t\t{row.folio_factura}\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell>\n\t\t\t\t\t{row.compra_credito === false ? \"Contado\" : \"Credito\"}\n\t\t\t\t</TableCell>\n\t\t\t</TableRow>\n\t\t</Fragment>\n\t);\n};\n\nfunction DialogCaracteristicas ({row}) {\n\n\treturn(\n\t\t<Fragment>\n\t\t\t<DialogContent>\n\t\t\t\t<Grid container>\n\t\t\t\t\t<Grid item lg={12} xs={12}>\n\t\t\t\t\t\t<Box textAlign=\"center\" p={2}>\n\t\t\t\t\t\t\t<Typography variant=\"h6\">\n\t\t\t\t\t\t\t\tInformacin de movimiento\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item lg={5} xs={12}>\n\t\t\t\t\t\t<Box display=\"flex\" textAlign=\"left\" p={1}>\n\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t<b>Fecha Compra: </b> {moment(row.fecha_compra).format('YYYY-MM-DD')}\n\t\t\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t\t\t<b>Folio movimiento: </b> {row.folio_egreso}\n\t\t\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t\t\t<b>Usuario: </b> {row.nombre_usuario_creador}\n\t\t\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t\t\t<b>Categoria: </b> {row.categoria}\n\t\t\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t\t\t<b>Sub-Categoria: </b> {row.subCategoria}\n\t\t\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t\t\t<b>Folio Factura: </b> {row.folio_factura}\n\t\t\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t\t\t<b>Empresa: </b> {row.empresa_distribuidora}\n\t\t\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t\t\t<b>Provedor: </b> {row.provedor}\n\t\t\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t\t\t<b>Metodo de pago: </b> {row.metodo_pago}\n\t\t\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t\t\t<b>Compra credito: </b> {row.compra_credito === false ? \"NO\" : \"Si\"}\n\t\t\t\t\t\t\t\t{row.compra_credito === false ? null : (\n\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t\t\t\t\t<b>Fecha Vencimiento: </b> {row.fecha_vencimiento}\n\t\t\t\t\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t\t\t\t\t<b>Saldo Pendiente: </b> {row.saldo_credito_pendiente}\n\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item lg={7} xs={12}>\n\t\t\t\t\t\t<Box textAlign=\"center\">\n\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\tProductos Adquiridos\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t<Paper style={{width: '100%', height: '30vh'}}>\n\t\t\t\t\t\t\t\t<TableContainer style={{maxHeight: '100%'}}>\n\t\t\t\t\t\t\t\t\t<Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n\t\t\t\t\t\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align='center' style={{ minWidth: 100 }}>\n\t\t\t\t\t\t\t\t\t\t\t\t\tCANTIDAD\n\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align='center' style={{ minWidth: 100 }}>\n\t\t\t\t\t\t\t\t\t\t\t\t\tPRODUCTO\n\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align='center' style={{ minWidth: 100 }}>\n\t\t\t\t\t\t\t\t\t\t\t\t\tP. UNITARIO\n\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align='center' style={{ minWidth: 100 }}>\n\t\t\t\t\t\t\t\t\t\t\t\t\tTOTAL\n\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t\t\t</TableHead>\n\t\t\t\t\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t\t\t\t\t{row?.productos.map((row, index) => {\n\t\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TableRow \n\t\t\t\t\t\t\t\t\t\t\t\t\t\thover \n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttabIndex={-1} \n\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align='center' >\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{row.cantidad_productos}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align='center' >\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{row.producto}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align='center' >\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{row.precio_unitario}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align='center' >\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{row.total}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t\t\t\t\t</Table>\n\t\t\t\t\t\t\t\t</TableContainer>\n\t\t\t\t\t\t\t</Paper>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box display='flex' justifyContent='flex-end' p={1}> \n\t\t\t\t\t\t\t<Typography variant='h6'>\n\t\t\t\t\t\t\t\tTotal: ${formatoMexico(row.saldo_total)}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</DialogContent>\n\t\t</Fragment>\n\t);\n}\n","import React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TablePagination from '@material-ui/core/TablePagination';\nimport TableRow from '@material-ui/core/TableRow';\nimport { Box, Grid, IconButton, InputBase } from '@material-ui/core';\nimport { Search } from '@material-ui/icons';\n\nconst columns = [\n\t{ id: 'name', label: 'Name', minWidth: 170 },\n\t{ id: 'code', label: 'ISO\\u00a0Code', minWidth: 100 },\n\t{\n\t\tid: 'population',\n\t\tlabel: 'Population',\n\t\tminWidth: 170,\n\t\talign: 'right',\n\t\tformat: (value) => value.toLocaleString('en-US')\n\t},\n\t{\n\t\tid: 'size',\n\t\tlabel: 'Size\\u00a0(km\\u00b2)',\n\t\tminWidth: 170,\n\t\talign: 'right',\n\t\tformat: (value) => value.toLocaleString('en-US')\n\t},\n\t{\n\t\tid: 'density',\n\t\tlabel: 'Density',\n\t\tminWidth: 170,\n\t\talign: 'right',\n\t\tformat: (value) => value.toFixed(2)\n\t}\n];\n\nfunction createData(name, code, population, size) {\n\tconst density = population / size;\n\treturn { name, code, population, size, density };\n}\n\nconst rows = [\n\tcreateData('India', 'IN', 1324171354, 3287263),\n\tcreateData('China', 'CN', 1403500365, 9596961),\n\tcreateData('Italy', 'IT', 60483973, 301340),\n\tcreateData('United States', 'US', 327167434, 9833520),\n\tcreateData('Canada', 'CA', 37602103, 9984670),\n\tcreateData('Australia', 'AU', 25475400, 7692024),\n\tcreateData('Germany', 'DE', 83019200, 357578),\n\tcreateData('Ireland', 'IE', 4857000, 70273),\n\tcreateData('Mexico', 'MX', 126577691, 1972550),\n\tcreateData('Japan', 'JP', 126317000, 377973),\n\tcreateData('France', 'FR', 67022000, 640679),\n\tcreateData('United Kingdom', 'GB', 67545757, 242495),\n\tcreateData('Russia', 'RU', 146793744, 17098246),\n\tcreateData('Nigeria', 'NG', 200962417, 923768),\n\tcreateData('Brazil', 'BR', 210147125, 8515767)\n];\n\nconst useStyles  = makeStyles((theme) => ({\n\troot: {\n\t\twidth: '100%'\n\t},\n\tcontainer: {\n\t\tmaxHeight: '100%'\n\t},\n    appBar: {\t\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n\trootBusqueda: {\n\t\tdisplay: 'flex',\n\t\tpaddingLeft: theme.spacing(2)\n\t},\n}));\n\nexport default function ListaTransferencias() {\n\tconst classes = useStyles();\n\tconst [ page, setPage ] = useState(0);\n\tconst [ rowsPerPage, setRowsPerPage ] = useState(14);\n\n\tconst handleChangePage = (event, newPage) => {\n\t\tsetPage(newPage);\n\t};\n\n\tconst handleChangeRowsPerPage = (event) => {\n\t\tsetRowsPerPage(+event.target.value);\n\t\tsetPage(0);\n\t};\n\n\treturn (\n\t\t<Grid>\n\t\t\t<div className={classes.root}>\n\t\t\t\t<Box m={2} display=\"flex\" justifyContent=\"space-between\">\n\t\t\t\t\t<Box mr={5} minWidth=\"70%\">\n\t\t\t\t\t\t<Paper className={classes.rootBusqueda}>\n\t\t\t\t\t\t\t<InputBase\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tplaceholder=\"Buscar transferencias...\"\n\t\t\t\t\t\t\t\t// onChange={(e) => setValues(e.target.value)}\n\t\t\t\t\t\t\t\t// onKeyPress={pressEnter}\n\t\t\t\t\t\t\t\t// value={values}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<IconButton>\n\t\t\t\t\t\t\t\t<Search />\n\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t</Paper>\n\t\t\t\t\t</Box>\n\t\t\t\t</Box>\n\t\t\t</div>\n\t\t<Box  p={2}>\n\t\t<Paper className={classes.root}>\n\t\t\t<TableContainer className={classes.container}>\n\t\t\t\t<Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t{columns.map((column) => (\n\t\t\t\t\t\t\t\t<TableCell key={column.id} align={column.align} style={{ minWidth: column.minWidth }}>\n\t\t\t\t\t\t\t\t\t{column.label}\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t</TableHead>\n\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t{rows.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage).map((row) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<TableRow hover role=\"checkbox\" tabIndex={-1} key={row.code}>\n\t\t\t\t\t\t\t\t\t{columns.map((column) => {\n\t\t\t\t\t\t\t\t\t\tconst value = row[column.id];\n\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t<TableCell \n                                                key={column.id} \n                                                align={column.align}\n                                            >\n\t\t\t\t\t\t\t\t\t\t\t\t{column.format && typeof value === 'number' ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolumn.format(value)\n\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t\t</TableBody>\n\t\t\t\t</Table>\n\t\t\t</TableContainer>\n\t\t\t<TablePagination\n\t\t\t\trowsPerPageOptions={[ 10, 25, 100 ]}\n\t\t\t\tcomponent=\"div\"\n\t\t\t\tcount={rows.length}\n\t\t\t\trowsPerPage={rowsPerPage}\n\t\t\t\tpage={page}\n\t\t\t\tonChangePage={handleChangePage}\n\t\t\t\tonChangeRowsPerPage={handleChangeRowsPerPage}\n\t\t\t/>\n\t\t</Paper>\n\t\t</Box>\n\t\t</Grid>\n\t);\n}\n","import React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport CloseIcon from '@material-ui/icons/Close';\nimport Slide from '@material-ui/core/Slide';\nimport { Box, ListItemIcon, Menu, MenuItem } from '@material-ui/core';\nimport {FcSurvey } from 'react-icons/fc';\n\nimport ListaEgresos from './ListaEgresos';\nimport ListaTransferencias from './ListaTransferencias';\n\nconst useStyles = makeStyles((theme) => ({\n\tappBar: {\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n    icon: {\n\t\twidth: 100\n\t},\n\troot: {\n\t\tflexGrow: 1,\n\t\twidth: '100%',\n\t\theight: '100vh',\n\t\tbackgroundColor: theme.palette.background.paper\n\t},\n\trootBusqueda: {\n\t\tdisplay: 'flex',\n\t\tpaddingLeft: theme.spacing(2)\n\t},\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function ReportesTesoreria() {\n\tconst classes = useStyles();\n\n\tconst [ventana, setVentana] = useState('');\n\tconst [ open, setOpen ] = useState(false);\n\n\tconst handleClickOpen = () => setOpen(!open);\n\n\tconst [anchorEl, setAnchorEl] = useState(null);\n\n\tconst handleClick = (event) => {\n\t\tsetAnchorEl(event.currentTarget);\n\t};\n\n\tconst handleClose = () => {\n\t\tsetAnchorEl(null);\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<Button aria-controls=\"simple-menu\" aria-haspopup=\"true\" onClick={handleClick}>\n\t\t\t\t<Box display=\"flex\" flexDirection=\"column\">\n\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" >\n                        <FcSurvey style={{fontSize: 100}}/>\n\t\t\t\t\t</Box>\n\t\t\t\t\tReportes Tesoreria\n\t\t\t\t</Box>\n\t\t\t</Button>\n\t\t\t<Menu\n\t\t\t\t id=\"customized-menu\"\n\t\t\t\tanchorEl={anchorEl}\n\t\t\t\tkeepMounted\n\t\t\t\topen={Boolean(anchorEl)}\n\t\t\t\tonClose={handleClose}\n\t\t\t>\n\t\t\t\t<MenuItem onClick={ ()=>{\n\t\t\t\t\t\thandleClickOpen()\n\t\t\t\t\t\tsetVentana('egresos')\n\t\t\t\t\t}}>\n\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t<FcSurvey style={{fontSize: 35}} />\n\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\tHistorial Egresos\n\t\t\t\t</MenuItem>\n\t\t\t\t<MenuItem onClick={ ()=>{\n\t\t\t\t\t\thandleClickOpen()\n\t\t\t\t\t\tsetVentana('transferencias')\n\t\t\t\t\t}}>\n\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t<FcSurvey style={{fontSize: 35}} />\n\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\tHistorial Transferencias\n\t\t\t\t</MenuItem>\n\t\t\t</Menu>\n\t\t\t\n\t\t\t<Dialog fullScreen open={open} onClose={handleClickOpen} TransitionComponent={Transition}>\n\t\t\t\t<AppBar className={classes.appBar}>\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t<Typography variant=\"h6\" className={classes.title}>\n\t\t\t\t\t\t\tHistotorial de {ventana}\n\t\t\t\t\t\t</Typography>\n                        <Box m={1}>\n\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"secondary\" onClick={handleClickOpen} size=\"large\">\n\t\t\t\t\t\t\t\t<CloseIcon style={{fontSize: 30}} />\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</AppBar>\n\t\t\t\t\n\t\t\t\t<Box>\n\t\t\t\t\t{\n\t\t\t\t\t\tventana === 'egresos' ? (\n\t\t\t\t\t\t\t<ListaEgresos />\n\t\t\t\t\t\t) : ventana === 'transferencias' ?(\n\t\t\t\t\t\t\t<ListaTransferencias />\t\t\t\n\t\t\t\t\t\t) :(\n\t\t\t\t\t\t\tnull\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t</Box>\n\t\t\t\t\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n}\n","import React from 'react';\nimport { Container, Grid, Box } from '@material-ui/core';\nimport Cajas from './Cajas/Cajas';\nimport ReportesTurnosUsuarios from './TurnosUsuarios/ReportesTurnosUsuarios';\nimport ReportesCompras from './Compras/ReportesCompras';\nimport ReportesVentas from './Ventas/ReportesVentas';\nimport ReportesAlmacen from './Almacenes/ReportesAlmacen';\nimport ReportesCortes from './Cortes/ReportesCortes';\nimport ReportesTesoreria from './Tesoreria/Reporte_Tesoreria';\n\nexport default function Reportes() {\n\tconst permisosUsuario = JSON.parse(localStorage.getItem('sesionCafi'));\n\n\treturn (\n\t\t<Container>\n\t\t\t<Grid container spacing={3} justify=\"center\">\n\t\t\t\t{permisosUsuario.accesos.reportes.reporte_historial_cajas.ver === false ? (null) : (\n\t\t\t\t\t<Grid item lg={2} >\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t<Cajas />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t)}\n\t\t\t\t{permisosUsuario.accesos.reportes.reporte_turnos.ver === false ? (null) : (\n\t\t\t\t\t<Grid item lg={2} >\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t<ReportesTurnosUsuarios />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t)}\n\t\t\t\t{permisosUsuario.accesos.reportes.reporte_compras.ver === false ? (null) : (\n\t\t\t\t\t<Grid item lg={2} >\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t<ReportesCompras />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t)}\n\t\t\t\t{permisosUsuario.accesos.reportes.reporte_ventas.ver === false ? (null) : (\n\t\t\t\t\t<Grid item lg={2} >\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t<ReportesVentas />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t)}\n\t\t\t\t{permisosUsuario.accesos.reportes.rerporte_almacen.ver === false ? (null) : (\n\t\t\t\t\t<Grid item lg={2} >\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t<ReportesAlmacen />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t)}\n\t\t\t\t{permisosUsuario.accesos.reportes.reporte_corte_caja.ver === false ? (null) : (\n\t\t\t\t\t<Grid item lg={2} >\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t<ReportesCortes />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t)}\n\t\t\t\t{permisosUsuario.accesos.reportes.reporte_tesoreria.ver === false ? (null) : (\n\t\t\t\t\t<Grid item lg={2} >\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t<ReportesTesoreria />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t)}\n\t\t\t</Grid>\n\t\t</Container>\n\t);\n}","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport SwipeableViews from \"react-swipeable-views\";\nimport { makeStyles, useTheme } from \"@material-ui/core/styles\";\nimport { FcShop, FcPaid, FcSurvey, FcNews } from \"react-icons/fc\";\nimport { Toolbar, Box, Tab, Tabs, AppBar } from \"@material-ui/core\";\nimport Empresa from \"./Empresa/Empresa\";\nimport Compras from \"./Compras/Compras\";\nimport Catalogos from \"./Catalogos/Catalogos\";\nimport IndexTesoreria from \"./Tesoreria/IndexTesoreria\";\nimport Facturacion from \"./Facturacion/Facturacion\";\nimport Almacenes from \"./Almacenes/Almacenes\";\nimport { withRouter } from \"react-router\";\nimport Reportes from \"./Reportes/Reportes\";\nfunction TabPanel(props) {\n  const { children, value, index, ...other } = props;\n\n  return (\n    <div\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`scrollable-force-tabpanel-${index}`}\n      aria-labelledby={`scrollable-force-tab-${index}`}\n      {...other}\n    >\n      {value === index && (\n        <Box p={3} my={6} minHeight=\"50vh\">\n          {children}\n        </Box>\n      )}\n    </div>\n  );\n}\n\nTabPanel.propTypes = {\n  children: PropTypes.node,\n  index: PropTypes.any.isRequired,\n  value: PropTypes.any.isRequired,\n};\n\nfunction a11yProps(index) {\n  return {\n    id: `scrollable-force-tab-${index}`,\n    \"aria-controls\": `scrollable-force-tabpanel-${index}`,\n  };\n}\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n    width: \"100%\",\n    height: \"100vh\",\n    backgroundColor: theme.palette.background.paper,\n  },\n  icon: {\n    fontSize: 100,\n  },\n  iconSvg: {\n    width: 100,\n  },\n  iconSvgVenta: {\n    width: 90,\n  },\n}));\n\nfunction AdminInicio(props) {\n  const classes = useStyles();\n  const theme = useTheme();\n  const [value, setValue] = React.useState(0);\n\n  const handleChange = (event, newValue) => {\n    setValue(newValue);\n  };\n  const handleChangeIndex = (index) => {\n    setValue(index);\n  };\n\n  return (\n    <div className={classes.root}>\n      <Toolbar />\n      <Box>\n        <AppBar position=\"static\" color=\"default\" elevation={0}>\n          <Tabs\n            value={value}\n            onChange={handleChange}\n            indicatorColor=\"primary\"\n            textColor=\"primary\"\n            /* centered */ variant=\"scrollable\"\n            scrollButtons=\"on\"\n          >\n            <Tab\n              label=\"Mi empresa\"\n              icon={<FcShop className={classes.icon} />}\n              {...a11yProps(0)}\n            />\n            <Tab\n              label=\"Almacenes\"\n              icon={\n                <img\n                  src=\"https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/almacen.svg\"\n                  alt=\"icono almacen\"\n                  className={classes.iconSvg}\n                />\n              }\n              {...a11yProps(1)}\n            />\n\n            <Tab\n              label=\"Compras\"\n              icon={<FcPaid className={classes.icon} />}\n              {...a11yProps(2)}\n            />\n            <Tab\n              label=\"Catalogos\"\n              icon={<FcNews className={classes.icon} />}\n              {...a11yProps(3)}\n            />\n            <Tab\n              label=\"Tesoreria\"\n              icon={\n                <img\n                  src=\"https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/money.svg\"\n                  alt=\"icono money\"\n                  className={classes.iconSvg}\n                />\n              }\n              {...a11yProps(4)}\n            />\n            <Tab\n              label=\"Reportes\"\n              icon={<FcSurvey className={classes.icon} />}\n              {...a11yProps(5)}\n            />\n\t\t\t<Tab\n              label=\"Facturacin\"\n              icon={\n                <img\n                  src=\"https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/factura.svg\"\n                  alt=\"icono factura\"\n                  className={classes.iconSvg}\n                />\n              }\n              {...a11yProps(6)}\n            />\n            <Tab\n              label=\"Ventas\"\n              icon={\n                <img\n                  src=\"https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/ventas/cart-add.svg\"\n                  alt=\"icono ventas\"\n                  className={classes.iconSvg}\n                />\n              }\n              {...a11yProps(7)}\n              onClick={() => props.history.push(\"/ventas/venta-general\")}\n            />\n          </Tabs>\n        </AppBar>\n        <SwipeableViews\n          axis={theme.direction === \"rtl\" ? \"x-reverse\" : \"x\"}\n          index={value}\n          onChangeIndex={handleChangeIndex}\n        >\n          <TabPanel value={value} index={0}>\n            <Empresa />\n          </TabPanel>\n          <TabPanel value={value} index={1}>\n            <Almacenes />\n          </TabPanel>\n          <TabPanel value={value} index={2}>\n            <Compras />\n          </TabPanel>\n          <TabPanel value={value} index={3}>\n            <Catalogos />\n          </TabPanel>\n          <TabPanel value={value} index={4}>\n            <IndexTesoreria />\n          </TabPanel>\n          <TabPanel value={value} index={5}>\n            <Reportes />\n          </TabPanel>\n\t\t  <TabPanel value={value} index={6}>\n            <Facturacion />\n          </TabPanel>\n          <TabPanel value={value} index={7}></TabPanel>\n        </SwipeableViews>\n      </Box>\n    </div>\n  );\n}\n\nexport default withRouter(AdminInicio);\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Avatar, Box, Button, Typography, Toolbar, AppBar } from '@material-ui/core';\nimport PowerSettingsNewIcon from '@material-ui/icons/PowerSettingsNew';\nimport { withRouter } from 'react-router-dom';\nimport { grey } from '@material-ui/core/colors';\n\nconst useStyles = makeStyles((theme) => ({\n\tappbar: {\n\t\tbackgroundColor: theme.palette.navbar,\n        color: grey[800]\n\t},\n\tmenuButton: {\n\t\tmarginRight: theme.spacing(2)\n\t},\n\ttitle: {\n\t\tflexGrow: 1,\n\t\tmarginLeft: theme.spacing(2),\n\t}\n}));\n\nfunction NavegacionAdmin(props) {\n\tconst classes = useStyles();\n\tconst token = localStorage.getItem('sesionCafi');\n\tconst turnoEnCurso = JSON.parse(localStorage.getItem('turnoEnCurso'));\n    const sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\tlet usuario;\n\t\n\tif (token !== null) usuario = JSON.parse(localStorage.getItem('sesionCafi'));\n\n    const signOut = () => {\n\t\tlocalStorage.removeItem('sesionCafi');\n\t\tlocalStorage.removeItem('tokenCafi');\n\t\tlocalStorage.removeItem('ListaEnEspera');\n\t\tprops.history.push('/');\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<AppBar position=\"fixed\" className={classes.appbar} elevation={0}>\n\t\t\t\t<Toolbar>\n\t\t\t\t\t<Avatar alt=\"Remy Sharp\" src={usuario.imagen} />\n\t\t\t\t\t<Box className={classes.title}>\n\t\t\t\t\t\t<Typography variant=\"h6\" color=\"inherit\">Bienvenido {`${usuario.nombre}`}</Typography>\n\t\t\t\t\t</Box>\n\t\t\t\t\t{/* <Button\n\t\t\t\t\t\tcomponent={Link}\n\t\t\t\t\t\tto=\"/home\"\n\t\t\t\t\t\tsize=\"large\"\n\t\t\t\t\t\tclassName={classes.menuButton}\n\t\t\t\t\t\tstartIcon={<HomeIcon />}\n\t\t\t\t\t>\n\t\t\t\t\t\tInicio\n\t\t\t\t\t</Button> */}\n\t\t\t\t\t{sesion.turno_en_caja_activo === true && turnoEnCurso ? (\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\tsize=\"large\"\n\t\t\t\t\t\t\t\tclassName={classes.menuButton}\n\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\tdisabled={true}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tTURNO ACTIVO\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t):(\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\tsize=\"large\"\n\t\t\t\t\t\t\t\tclassName={classes.menuButton}\n\t\t\t\t\t\t\t\tstartIcon={<PowerSettingsNewIcon />}\n\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\tonClick={signOut}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tCerrar sesin\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t</Toolbar>\n\t\t\t</AppBar>\n\t\t</div>\n\t);\n}\n\n\nexport default withRouter(NavegacionAdmin)","import { makeStyles } from '@material-ui/core/styles';\n\nconst drawerWidth = '22%';\n\nconst useStyles = makeStyles((theme) => ({\n\tappBar: {\n\t\tzIndex: theme.zIndex.drawer + 1,\n\t\t// backgroundColor: theme.palette.navbar,\n\t\tbackgroundColor: 'white',\n\t},\n\tdrawer: {\n\t\twidth: drawerWidth,\n\t\tflexShrink: 0,\n\t\tbackgroundColor: 'white',\n\t},\n\tdrawerColor:{\n\t\theight: '100%',\n\t\tbackgroundColor: 'white',\n\t},\n\tdrawerPaper: {\n\t\twidth: drawerWidth,\n\t\tbackgroundColor: theme.palette.navbar\n\t},\n\troot: {\n\t\tdisplay: 'flex',\n\t\tflexDirection: 'column',\n\t\theight: '100%'\n\t},\n\tnavigationTop:{\n\t\theight: '100%'\n\t},\n\ticonSizeSuperior: {\n\t\tfontSize: 30,\n        color: theme.palette.info.main\n\t},\n    iconSizeSecondSuperior: {\n\t\twidth: 20,\n\t},\n\ticonSizeInferior: {\n\t\tfontSize: 50,\n        color: theme.palette.info.main\n\t},\n    iconSizeSecondInferior: {\n\t\twidth: 40,\n\t},\n\ticonSizeSecondInferiorGrande: {\n\t\twidth: 100\n\t},\n\ticonSizeInferiorGrande:{\n\t\tfontSize: 110,\n        color: theme.palette.info.main\n\t},\n\tavatar: {\n\t\twidth: theme.spacing(3),\n\t\theight: theme.spacing(3),\n\t\tmarginRight: theme.spacing(1)\n\t},\n\tborderBoton:{\n\t\tminWidth: '100%',\n\t\theight: '50%',\n        border: '.6px solid #DBDBDB'\n    },\n\tborderBotonChico:{\n\t\tminWidth: '100%',\n        border: '.6px solid #DBDBDB'\n    }\n}));\n\nexport default useStyles;","import { makeStyles } from '@material-ui/core/styles';\n\n\nconst useStyles = makeStyles((theme) => ({\n\troot:{\n        marginTop: theme.spacing(2)\n    },\n    rootPrecioProductos:{\n        minHeight: '40vh',\n    },\n    containerImage:{\n        maxWidth: 150,\n        maxHeight: 150,\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        justifyItems: 'ceter'\n    },\n    imagen:{\n        maxWidth: '100%',\n        maxHeight: '100%',\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        justifyItems: 'ceter'\n    },\n    rootBusqueda: {\n        height: 35,\n\t\tdisplay: 'flex',\n\t\tpadding: theme.spacing(1),\n        // marginTop: theme.spacing(1)\n\t},\n    rootBusquedaProductos: {\n        height: 35,\n\t\tdisplay: 'flex',\n\t\tpadding: theme.spacing(1),\n        // marginTop: theme.spacing(1)\n\t},\n    rootFecha: {\n        height: 40,\n        maxWidth: 150,\n\t\tdisplay: 'flex',\n\t},\n    formInputFlex: {\n\t\tdisplay: 'flex',\n\t\t'& > *': {\n\t\t\tmargin: `${theme.spacing(1)}px ${theme.spacing(.5)}px`\n\t\t},\n\t\t'& .obligatorio': {\n\t\t\tcolor: 'red'\n\t\t},\n        paddingTop: 0,\n        alignItems: \"center\",\n        justifyItems: \"center\"\n\t},\n\tformInput: {\n\t\t// margin: `${theme.spacing(1)}px ${theme.spacing(1)}px`\n\t},\n    iconSize: {\n\t\twidth: 28,\n\t},\n    iconSizeDialogs:{\n        width: 80,\n    },\n    iconSizeDialogsPequeno:{\n        width: 50,\n    },\n    containerImagenesProducto:{\n        maxHeight: 300,\n        maxWidth: 300,\n        display: 'flex',\n        justifyItems: 'center',\n        alignContent: 'center',\n        justifyContent: 'center',\n        alignItems: 'center'\n    },\n    imagenProducto:{\n        height: '100%',\n        width: '100%'\n    },\n    borderBoton:{\n\t\tminWidth: '100%',\n\t\theight: '50%',\n        border: '.6px solid #DBDBDB'\n    },\n\tborderBotonChico:{\n\t\tminWidth: '100%',\n\t\theight: '100%',\n        border: '.6px solid #DBDBDB'\n    },\n    input: {\n        \"& input[type=number]\": {\n          \"-moz-appearance\": \"textfield\",\n        },\n        \"& input[type=number]::-webkit-outer-spin-button\": {\n          \"-webkit-appearance\": \"none\",\n          margin: 0,\n        },\n        \"& input[type=number]::-webkit-inner-spin-button\": {\n          \"-webkit-appearance\": \"none\",\n          margin: 0,\n        },\n    },\n}));\n\nexport default useStyles","import React, { createContext, useState } from 'react';\n\nexport const VentasContext = createContext();\n\nexport const VentasProvider = ({ children }) => {\n\n    const [datosProductoVentas, setDatosProductoVentas] = useState(\n        {\n            _id: null,\n            cantidad: null,\n            codigo_barras: null,\n            concepto: null,\n            default: null,\n            descuento: null,\n            descuento_activo: null,\n            id_producto: {},\n            precio: null,\n            unidad: null,\n            unidad_principal: null\n        }\n    );\n    \n    const [productosVentas, setProductosVentas] = useState([]);\n    const [datosVentas, setDatosVentas] = useState(\n        {\n            productos: [],\n            cliente: {},\n            subtotal: 0,\n            impuestos: 0,\n            total: 0,\n            usuario: {}\n        }\n    );\n\n    const [ productoCambioPrecio, setProductoCambioPrecio ] = useState({});\n    const [ precioSelectProductoVenta, setPrecioSelectProductoVenta ] = useState([]);\n    const [ clientesVentas, setClientesVentas ] = useState([]);\n    const [ turnoActivo, setTurnoActivo ] = useState();\n    const [ ubicacionTurno, setUbicacionTurno ] = useState('');\n\n    const [ update, setUpdate ] = useState(false);\n    const [ error, setError ] = useState(false);\n    const [ alert, setAlert ] = useState({ message: \"\", status: \"\", open: false });\n    const [ abrirTurnosDialog, setAbrirTurnosDialog ] = useState(false);\n    const [ updateClientVenta, setUpdateClientVenta ] = useState(false);\n\n    const [open, setOpen] = useState(false);\n\n    // const [precioSeleccionadoTabla, setPrecioSeleccionadoTabla] = useState(false);\n\n    const [updateTablaVentas, setUpdateTablaVentas] = useState(false);\n    const [openBackDrop, setOpenBackDrop] = useState(false);\n\n\treturn (\n\t\t<VentasContext.Provider value={\n            { \n                alert, \n                setAlert,\n                update,\n                setUpdate,\n                error,\n                setError,\n                datosProductoVentas,\n                setDatosProductoVentas,\n                productosVentas,\n                setProductosVentas,\n                datosVentas,\n                setDatosVentas,\n                abrirTurnosDialog, \n                setAbrirTurnosDialog,\n                setUpdateClientVenta,\n                updateClientVenta,\n                setProductoCambioPrecio,\n                productoCambioPrecio,\n                setPrecioSelectProductoVenta,\n                precioSelectProductoVenta,\n                setUpdateTablaVentas,\n                updateTablaVentas,\n                setOpen,\n                open,\n                clientesVentas, \n                setClientesVentas,\n                turnoActivo, \n                setTurnoActivo,\n                ubicacionTurno, \n                setUbicacionTurno,\n                // precioSeleccionadoTabla,\n                // setPrecioSeleccionadoTabla\n                setOpenBackDrop,\n                openBackDrop,\n            }\n        }>\n\t\t\t{children}\n\t\t</VentasContext.Provider>\n\t);\n};","import React, { useContext, useState } from 'react';\nimport { Box, Button, CircularProgress,  Dialog, DialogActions, \n    DialogContent, Divider, FormControl, Grid,  MenuItem, \n    Select, Slide, TextField, Typography } \nfrom '@material-ui/core'\nimport CloseIcon from '@material-ui/icons/Close';\nimport { ToggleButton, ToggleButtonGroup } from '@material-ui/lab';\nimport { OBTENER_CONTABILIDAD } from '../../../gql/Catalogos/contabilidad';\nimport { CREAR_HISTORIAL_CAJA, OBTENER_PRE_CORTE_CAJA } from '../../../gql/Cajas/cajas';\nimport useStyles from '../styles';\nimport moment from 'moment';\nimport 'moment/locale/es';\nimport { useMutation, useQuery } from '@apollo/client';\nimport { VentasContext } from '../../../context/Ventas/ventasContext';\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function DepositoRetiroCaja() {\n    const turnoEnCurso =JSON.parse(localStorage.getItem('turnoEnCurso'));\n\tconst sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n    const [ CrearHistorialCaja ] = useMutation(CREAR_HISTORIAL_CAJA);\n\n    moment.locale('es');\n    const classes = useStyles();\n\n    const { setAlert } = useContext(VentasContext);\n    const [open, setOpen] = useState(false);\n    const [cargando, setCargando] = useState(false);\n    const [movimiento, setMovimiento] = useState('DEPOSITO');\n    const [datosMovimiento, setDatosMovimiento] = useState([]);\n\n\tconst { loading, data } = useQuery(OBTENER_CONTABILIDAD, {\n\t\tvariables: {\n\t\t\tempresa: sesion.empresa._id,\n\t\t\tsucursal: sesion.sucursal._id\n\t\t}\n\t});\n\n    const input = { \n        horario_en_turno: \"ABRIR TURNO\",\n        id_caja: turnoEnCurso ? turnoEnCurso.id_caja : \"\",\n        id_usuario: sesion._id,\n        token_turno_user: turnoEnCurso ? turnoEnCurso.token_turno_user : \"\",\n    };\n\n    const preCorteDeCaja = useQuery(OBTENER_PRE_CORTE_CAJA, {\n        variables: { empresa: sesion.empresa._id, sucursal: sesion.sucursal._id, input: input},\n    });\n\n    const handleClickOpen = () => { \n\t\tsetOpen(!open);\n        preCorteDeCaja.refetch();\n\t};\n\n    var dineroEnCaja = 0;\n    \n    if(!data || !preCorteDeCaja.data){\n        return null;\n    } else{\n        dineroEnCaja = preCorteDeCaja.data.obtenerPreCorteCaja.monto_efectivo_precorte;\n    }\n\n    if (loading || cargando || preCorteDeCaja.loading) \n\treturn (\n\t\t<Box\n\t\tdisplay=\"flex\"\n\t\tflexDirection=\"column\"\n\t\tjustifyContent=\"center\"\n\t\talignItems=\"center\"\n\t\theight=\"80vh\"\n\t\t>\n\t\t\t<CircularProgress />\n\t\t</Box>\n\t);\n\n    window.addEventListener('keydown', Mi_funcin); \n    function Mi_funcin(e){\n        if(e.altKey && e.keyCode === 68){ \n            handleClickOpen();\n        } \n    };\n\n    const obtenerDatos = (e) =>{\n        setDatosMovimiento({...datosMovimiento, [e.target.name]: e.target.value})\n    };\n\n    const enviarDatos = async () => {\n        setCargando(true);\n        try {\n            if(!turnoEnCurso && sesion?.turno_en_caja_activo === false ){\n                setCargando(false);\n                setAlert({\n                    message: `Por el momento no hay ningun turno activo.`,\n                    status: \"error\",\n                    open: true,\n                });\n                return null;\n            }else{\n                if(!datosMovimiento.tipo_movimiento ||\n                    !datosMovimiento.monto_efectivo ||\n                    !datosMovimiento.concepto\n                ){\n                    setCargando(false);\n                    setAlert({\n                        message: `Por favor complete los datos.`,\n                        status: \"error\",\n                        open: true,\n                    });\n                    return null;\n                }else{\n                    if(datosMovimiento.tipo_movimiento === \"RETIRO\" && dineroEnCaja <  parseFloat(datosMovimiento.monto_efectivo)){\n                        setCargando(false);\n                        setAlert({\n                            message: 'Lo sentimos no hay dinero suficiente en la caja para esta accin.',\n                            status: \"error\",\n                            open: true,\n                        });\n                        return null;\n                    }\n                    const input = {\n                        tipo_movimiento: datosMovimiento.tipo_movimiento,\n                        concepto: datosMovimiento.concepto,\n                        numero_caja: parseInt(turnoEnCurso.numero_caja),\n                        id_Caja: turnoEnCurso.id_caja,\n                        horario_turno: turnoEnCurso.horario_en_turno,\n                        rol_movimiento: 'CAJA',\n                        hora_moviento: {\n                            hora: moment().format('hh'),\n                            minutos: moment().format('mm'),\n                            segundos: moment().format('ss'),\n                            completa: moment().format('HH:mm:ss')\n                        },\n                        fecha_movimiento: {\n                            year: moment().format('YYYY'),\n                            mes: moment().format('DD'),\n                            dia: moment().format('MM'),\n                            no_semana_year: moment().week().toString(),\n                            no_dia_year: moment().dayOfYear().toString(),\n                            completa: moment().locale('es-mx').format()\n                        },\n                        id_User: sesion._id,\n                        numero_usuario_creador: sesion.numero_usuario,\n                        nombre_usuario_creador: sesion.nombre,\n                        montos_en_caja: {\n                            monto_efectivo: {\n                                monto: parseFloat(datosMovimiento.monto_efectivo),\n                                metodo_pago: \"01\"\n                            },\n                            monto_tarjeta_debito: {\n                                monto: 0,\n                                metodo_pago: \"28\"\n                            },\n                            monto_tarjeta_credito: {\n                                monto: 0,\n                                metodo_pago: \"04\"\n                            },\n                            monto_creditos: {\n                                monto: 0,\n                                metodo_pago: \"99\"\n                            },\n                            monto_monedero: {\n                                monto: 0,\n                                metodo_pago: \"05\"\n                            },\n                            monto_transferencia: {\n                                monto: 0,\n                                metodo_pago: \"03\"\n                            },\n                            monto_cheques: {\n                                monto: 0,\n                                metodo_pago: \"02\"\n                            },\n                            monto_vales_despensa: {\n                                monto: 0,\n                                metodo_pago: \"08\"\n                            }\n                        },\n                        empresa: sesion.empresa._id,\n                        sucursal: sesion.sucursal._id\n                    };\n                    await CrearHistorialCaja({\n                        variables: {\n                            empresa: sesion.empresa._id,\n                            sucursal: sesion.sucursal._id,\n                            input\n                        }\n                    });\n                    setAlert({\n                        message: `Registro de movimiento exitoso.`,\n                        status: \"success\",\n                        open: true,\n                    });\n                    handleClickOpen();\n                    setCargando(false);\n                }\n            }\n        } catch (error) {\n            setCargando(false);\n            setAlert({\n                message: `Error: ${error.message}`,\n                status: \"error\",\n                open: true,\n            });\n            handleClickOpen();\n        }\n    };\n\n    const handleAlignment = (event, newAlignment) => {\n        setMovimiento(newAlignment);\n        setDatosMovimiento({...datosMovimiento, tipo_movimiento: newAlignment})\n    };\n\n    return (\n        <>\n            <Button\n                onClick={() =>{handleClickOpen();}}\n                style={{textTransform: 'none', height: '100%', width: '60%'}}\n            >\n                <Box display=\"flex\" flexDirection=\"column\">\n                    <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n                        <img \n                            src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/ventas/cash-register2.svg' \n                            alt=\"icono caja\" \n                            style={{width: 20}}\n                        />\n                    </Box>\n                    <Box>\n                        <Typography variant=\"body2\" >\n                            <b>Deposito/Retiro Caja</b>\n                        </Typography>\n                    </Box>\n                    <Box>\n                        <Typography variant=\"caption\" style={{color: '#808080'}} >\n                            <b>Alt + D</b>\n                        </Typography>\n                    </Box>\n                </Box>\n            </Button>\t\n\n            <Dialog\n\t\t\t\tmaxWidth='lg'\n\t\t\t\topen={open} \n\t\t\t\tonClose={handleClickOpen} \n\t\t\t\tTransitionComponent={Transition}\n\t\t\t>\n                <DialogContent>\n                    <Grid container item lg={12}>\n                        <Box \n                            display=\"flex\" \n                            textAlign=\"center\" \n                        >\n                            <Box\n                                display=\"flex\" \n                                justifyContent=\"center\"\n                                flexGrow={1} \n                            >\n                                <Box>\n                                    <img src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/ventas/cash-register2.svg' alt=\"icono caja\" className={classes.iconSizeDialogs} />\n                                </Box>\n                                <Box m={2} >\n                                    <Divider orientation=\"vertical\" />\n                                </Box>\n                                <Box mt={1} >\n                                    <Box>\n                                        <Typography variant=\"h6\">\n                                            Deposito / Retiro Caja\n                                        </Typography>\n                                    </Box>\n                                    <Box display=\"flex\" textAlign=\"right\">\n                                        <Box textAlign=\"right\">\n                                            <Typography variant=\"caption\">\n                                                {moment().format('MM/DD/YYYY')}\n                                            </Typography>\n                                        </Box>\n                                        <Box textAlign=\"right\" ml={2}>\n                                            <Typography variant=\"caption\">\n                                                <b>{moment().format('h:mm')} hrs.</b> \n                                            </Typography>\n                                        </Box>\n                                        <Box textAlign=\"right\" ml={2}>\n                                            <Typography variant=\"caption\">\n                                                <b>Caja: </b>{turnoEnCurso?.numero_caja}\n                                            </Typography>\n                                        </Box>\n                                    </Box>\n                                </Box>\n                            </Box>\n                            <Box ml={10} mb={7} display=\"flex\" alignItems=\"center\">\n                                <Button variant=\"contained\" color=\"secondary\" onClick={handleClickOpen} size=\"large\">\n                                    <CloseIcon />\n                                </Button>\n                            </Box>\n                        </Box>\n                        </Grid>\n                        <Grid>\n                            {sesion.turno_en_caja_activo === true ? (\n                                <>\n                                <div className={classes.formInputFlex}>\n                                    {/* <Box width=\"100%\">\n                                        <Typography>\n                                            Movimiento\n                                        </Typography>\n                                        <FormControl\n                                            variant=\"outlined\"\n                                            fullWidth\n                                            size=\"small\"\n                                        >\n                                            <Select\n                                                id=\"form-producto-tipo\"\n                                                name=\"tipo_movimiento\"\n                                                onChange={obtenerDatos}\n                                            >\n                                                <MenuItem value=\"\">\n                                                    <em>Selecciona uno</em>\n                                                </MenuItem>\n                                                <MenuItem value=\"DEPOSITO\">Deposito</MenuItem>\n                                                <MenuItem value=\"RETIRO\">Retiro</MenuItem>\n                                            </Select>\n                                        </FormControl>\n                                    </Box> */}\n                                    <Box width=\"100%\" textAlign=\"center\">\n                                        <ToggleButtonGroup \n                                            onChange={handleAlignment}\n                                            value={movimiento}\n                                            exclusive \n                                        >\n                                            <ToggleButton \n                                                value=\"DEPOSITO\" \n                                            >\n                                                <Box p={1}>\n                                                    <Typography variant=\"h4\">\n                                                        <b>DEPOSITO</b>\n                                                    </Typography>\n                                                </Box>\n                                            </ToggleButton>\n                                            <ToggleButton \n                                                value=\"RETIRO\"\n                                            >\n                                                <Box p={1}>\n                                                    <Typography variant=\"h4\">\n                                                        <b>RETIRO</b>\n                                                    </Typography>\n                                                </Box>\n                                            </ToggleButton>\n                                        </ToggleButtonGroup>\n                                    </Box>\n                                </div>\n                                <div className={classes.formInputFlex}>\n                                    <Box width=\"100%\">\n                                        <Typography>Monto:</Typography>\n                                        <Box display=\"flex\">\n                                            <TextField\n                                                fullWidth\n                                                size=\"small\"\n                                                type=\"number\"\n                                                name=\"monto_efectivo\"\n                                                onChange={obtenerDatos}\n                                                id=\"form-producto-codigo-barras\"\n                                                variant=\"outlined\"\n                                            />\n                                        </Box>\n                                    </Box>\n                                </div>\n                                <div className={classes.formInputFlex}>\n                                    <Box width=\"100%\">\n                                        <Typography>\n                                            Concepto de Movimiento:\n                                        </Typography>\n                                        <FormControl\n                                            variant=\"outlined\"\n                                            fullWidth\n                                            size=\"small\"\n                                        >\n                                            <Select\n                                                id=\"form-producto-tipo\"\n                                                onChange={obtenerDatos}\n                                                name=\"concepto\"\n                                            >\n                                                <MenuItem value=\"\">\n                                                    <em>Selecciona uno</em>\n                                                </MenuItem>\n                                                {data?.obtenerContabilidad.map((concepto)=> {\n                                                    return(\n                                                        <MenuItem value={concepto.nombre_servicio}>{concepto.nombre_servicio}</MenuItem>\n                                                    )\n                                                })}\n                                            </Select>\n                                        </FormControl>\n                                    </Box>\n                                </div>\n                                </>\n                            ) : (\n                                <Box textAlign=\"center\" p={2}>\n                                    <Typography variant=\"h6\"> \n                                        <b>Por el momento no hay un turno en sesin</b> \n                                    </Typography>\n                                </Box>\n                            )}\n                        </Grid>\n                </DialogContent>\n                <DialogActions>\n                    <Button \n                        onClick={enviarDatos} \n                        variant=\"contained\" \n                        color=\"primary\" \n                        size=\"large\"\n                    >\n                        Guardar\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        </>\n    )\n};\n","import React, { useContext, useEffect, useState } from 'react'\nimport useStyles from '../styles';\n\nimport { Box, Button,\n        DialogActions, DialogContent,  \n        FormControl, Grid, MenuItem, \n        Select, TextField, Typography \n    } from '@material-ui/core'\nimport BackdropComponent from '../../../components/Layouts/BackDrop'\nimport { useMutation, useQuery } from '@apollo/client';\nimport { OBTENER_CAJAS } from '../../../gql/Cajas/cajas';\nimport { REGISTRAR_TURNOS } from '../../../gql/Ventas/abrir_cerrar_turno';\nimport { VentasContext } from '../../../context/Ventas/ventasContext';\n\nimport moment from 'moment';\nimport 'moment/locale/es';\nmoment.locale('es');\n\nexport default function AbrirTurno({handleClickOpen, loading, type, setLoading}) {\n    const sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n    const turnoEnCurso = JSON.parse(localStorage.getItem('turnoEnCurso'));\n\n    const [ CrearRegistroDeTurno ] = useMutation(REGISTRAR_TURNOS);\n    const { setTurnoActivo, setAlert } = useContext(VentasContext);\n\n    const [ error, setError ] = useState(false);\n    const [ abrirTurno, setAbrirTurno ] = useState([]);\n    const [ numeroCaja, setNumeroCaja ] = useState('');\n    \n    const classes = useStyles();\n    let obtenerCajasSucursal = [];\n\n    const cajas = useQuery(OBTENER_CAJAS,{\n\t\tvariables: {\n            empresa: sesion.empresa._id,\n\t\t\tsucursal: sesion.sucursal._id\n\t\t}\n\t});\t\n\n    const obtenerTurno = (e) => {\n        setAbrirTurno({...abrirTurno, [e.target.name]: e.target.value});\n    };\n\n    if(cajas.data){\n\t\tobtenerCajasSucursal = cajas.data.obtenerCajasSucursal;\n\t};\n\n    let arraySesion = {\n        accesos: sesion.accesos,\n        email: sesion.email,\n        empresa: sesion.empresa,\n        estado: sesion.estado,\n        exp: sesion.exp,\n        iat: sesion.iat,\n        imagen: sesion.imagen,\n        nombre: sesion.nombre,\n        numero_usuario: sesion.numero_usuario,\n        sucursal: sesion.sucursal,\n        telefono: sesion.telefono,\n        turno_en_caja_activo: true, \n        _id: sesion._id,\n    };\n\n    useEffect(() => {\n        cajas.refetch();\n    }, [loading]);\n\n    const enviarDatos = async () => {\n        setLoading(true);\n        try {\n            if(!abrirTurno.turno_en_curso ||\n                !abrirTurno.caja_elegida ||\n                !abrirTurno.monto_abrir\n            ){\n                setError(true);\n                setLoading(false);\n                setAlert({\n                    message: `Por favor complete los datos obligatorios`,\n                    status: \"error\",\n                    open: true,\n                });\n                return;\n            }else{\n                const input = {\n                    horario_en_turno: abrirTurno.turno_en_curso,\n                    concepto: \"ABRIR TURNO\",\n                    numero_caja: numeroCaja.toString(),\n                    comentarios: abrirTurno.comentarios,\n                    id_caja: abrirTurno.caja_elegida,\n                    empresa: sesion.empresa._id,\n                    sucursal: sesion.sucursal._id,\n                    id_usuario: sesion._id,\n                    usuario_en_turno: {\n                        nombre: sesion.nombre,\n                        telefono: sesion.telefono,\n                        numero_usuario: sesion.numero_usuario.toString(),\n                        email: sesion.email,\n                    },\n                    hora_entrada: {\n                        hora: moment().format('hh'),\n                        minutos: moment().format('mm'),\n                        segundos: moment().format('ss'),\n                        completa: moment().format('HH:mm:ss')\n                    },\n                    hora_salida: {\n                        hora: \"\",\n                        minutos: \"\",\n                        segundos: \"\",\n                        completa: \"\"\n                    },\n                    fecha_entrada:{\n                        year: moment().format('YYYY'),\n                        mes: moment().format('MM'),\n                        dia: moment().format('DD'),\n                        no_semana_year: moment().week().toString(),\n                        no_dia_year: moment().dayOfYear().toString(),\n                        completa: moment().format(\"YYYY-MM-DD\")\n                    },\n                    fecha_salida:{\n                        year: \"\",\n                        mes: \"\",\n                        dia: \"\",\n                        no_semana_year: \"\",\n                        no_dia_year: \"\",\n                        completa: \"\"\n                    },\n                    fecha_movimiento: moment().locale('es-mx').format(),\n                    montos_en_caja: {\n                        monto_efectivo: {\n                            monto: parseFloat(abrirTurno.monto_abrir),\n                            metodo_pago: \"01\"\n                        },\n                        monto_tarjeta_debito: {\n                            monto: 0,\n                            metodo_pago: \"28\"\n                        },\n                        monto_tarjeta_credito: {\n                            monto: 0,\n                            metodo_pago: \"04\"\n                        },\n                        monto_creditos: {\n                            monto: 0,\n                            metodo_pago: \"99\"\n                        },\n                        monto_monedero: {\n                            monto: 0,\n                            metodo_pago: \"05\"\n                        },\n                        monto_transferencia: {\n                            monto: 0,\n                            metodo_pago: \"03\"\n                        },\n                        monto_cheques: {\n                            monto: 0,\n                            metodo_pago: \"02\"\n                        },\n                        monto_vales_despensa: {\n                            monto: 0,\n                            metodo_pago: \"08\"\n                        },\n                    }\n                };\n\n                const variableTurnoAbierto = await CrearRegistroDeTurno({\n                    variables: {\n                        activa: true,\n                        input\n                    }\n                });\n\n                if(variableTurnoAbierto.data.crearRegistroDeTurno === null){\n                    setLoading(false);\n                    cajas.refetch();\n                    setAlert({\n                        message: `Lo sentimos esta caja ya esta en uso`,\n                        status: \"error\",\n                        open: true,\n                    });\n                }else{\n                    localStorage.setItem('turnoEnCurso', JSON.stringify(variableTurnoAbierto.data.crearRegistroDeTurno));\n                    localStorage.setItem('sesionCafi', JSON.stringify(arraySesion));\n                    setTurnoActivo(true);\n                    setAlert({\n                        message: `Turno abierto con exito`,\n                        status: \"success\",\n                        open: true,\n                    });\n                    cajas.refetch();\n                    if (type !== \"FRENTE\") {\n                        handleClickOpen();\n                    };\n                }\n            }\n        } catch (error) {\n            setLoading(false);\n            setAlert({\n                message: `Error: ${error.message}`,\n                status: \"error\",\n                open: true,\n            });\n            if (type !== \"FRENTE\") {\n                handleClickOpen();\n            }\n        }\n    };\n\n    if (cajas.loading) \n\treturn (\n        <BackdropComponent loading={loading} />\n\t\t// <Box\n\t\t// display=\"flex\"\n\t\t// flexDirection=\"column\"\n\t\t// justifyContent=\"center\"\n\t\t// alignItems=\"center\"\n\t\t// height=\"80vh\"\n\t\t// >\n\t\t// \t<CircularProgress />\n\t\t// </Box>\n\t);\n\n    return (\n        <div>\n            <DialogContent>\n                <Grid>\n                    <div className={classes.formInputFlex}>\n                        <Box width=\"100%\">\n                            <Typography> Empleado:</Typography>\n                            <Box display=\"flex\">\n                                <TextField\n                                    fullWidth\n                                    size=\"small\"\n                                    name=\"nombre_usuario\"\n                                    onChange={obtenerTurno}\n                                    disabled={true}\n                                    value={sesion ? sesion.nombre : ''}\n                                    id=\"form-producto-codigo-barras\"\n                                    variant=\"outlined\"\n                                />\n                            </Box>\n                        </Box>\n                        <Box width=\"100%\">\n                            <Typography>\n                                <span className=\"obligatorio\">* </span>Turno:\n                            </Typography>\n                            <FormControl\n                                variant=\"outlined\"\n                                disabled={turnoEnCurso ? true : false}\n                                fullWidth\n                                size=\"small\"\n                            >\n                                <Select\n                                    id=\"form-producto-tipo\"\n                                    name=\"turno_en_curso\"\n                                    onChange={obtenerTurno}\n                                >\n                                    <MenuItem value=\"\">\n                                        <em>Selecciona uno</em>\n                                    </MenuItem>\n                                    <MenuItem value=\"VESPERTINO\">Vespertino</MenuItem>\n                                    <MenuItem value=\"MATUTINO\">Matutino</MenuItem>\n                                </Select>\n                            </FormControl>\n                        </Box>\n                    </div>\n                    <div className={classes.formInputFlex}>\n                        <Box width=\"100%\">\n                            <Typography>\n                                <span className=\"obligatorio\">* </span>Caja:\n                            </Typography>\n                            <FormControl\n                                variant=\"outlined\"\n                                disabled={turnoEnCurso ? true : false}\n                                fullWidth\n                                size=\"small\"\n                            >\n                                <Select\n                                    id=\"form-producto-tipo\"\n                                    name=\"caja_elegida\"\n                                    onChange={obtenerTurno}\n                                >\n                                    <MenuItem value=\"\">\n                                        <em>Selecciona uno</em>\n                                    </MenuItem>\n                                    {\n                                        obtenerCajasSucursal.map((caja) =>{\n                                            return(\n                                                caja.activa === true ? null :(\n                                                    <MenuItem key={caja.numero_caja} value={caja._id} onClick={() => setNumeroCaja(caja.numero_caja)}>\n                                                        Caja {caja.numero_caja}\n                                                    </MenuItem>\n                                                )\n                                            );\n                                        })\n                                    }\n                                </Select>\n                            </FormControl>\n                        </Box>\n                        <Box width=\"100%\">\n                            <Typography> <span className=\"obligatorio\">* </span>Monto para abrir:</Typography>\n                            <Box display=\"flex\" className={classes.input}>\n                                <TextField\n                                    fullWidth\n                                    size=\"small\"\n                                    name=\"monto_abrir\"\n                                    inputProps={{min: 0}}\n                                    type=\"number\"\n                                    onChange={obtenerTurno}\n                                    id=\"form-producto-codigo-barras\"\n                                    variant=\"outlined\"\n                                />\n                            </Box>\n                        </Box>\n                    </div>\n                    <div className={classes.formInputFlex}>\n                        <Box width=\"100%\">\n                            <Typography> Comentarios:</Typography>\n                            <Box display=\"flex\">\n                                <TextField\n                                    fullWidth\n                                    size=\"small\"\n                                    name=\"comentarios\"\n                                    multiline\n                                    rows={5}\n                                    onChange={obtenerTurno}\n                                    id=\"form-producto-codigo-barras\"\n                                    variant=\"outlined\"\n                                />\n                            </Box>\n                        </Box>\n                    </div>\n                </Grid>\n            </DialogContent>\n            <DialogActions>\n                <Box display=\"flex\" alignItems='flex-end'>\n                    <Button \n                        onClick={enviarDatos} \n                        variant=\"contained\" \n                        color=\"primary\" \n                        size=\"large\"\n                    >\n                        Guardar\n                    </Button>\n                </Box>\n            </DialogActions>\n        </div>\n    )\n}","import React, { useContext, useState } from 'react'\nimport useStyles from '../styles';\nimport { Box,  Button,  DialogActions, \n        DialogContent,  FormControl, \n        Grid, MenuItem, Select, \n        TextField, Typography \n    } from '@material-ui/core'\nimport { REGISTRAR_TURNOS } from '../../../gql/Ventas/abrir_cerrar_turno';\n\nimport moment from 'moment';\nimport 'moment/locale/es';\nimport { VentasContext } from '../../../context/Ventas/ventasContext';\nimport { useMutation } from '@apollo/client';\nimport { withRouter } from 'react-router-dom';\nmoment.locale('es');\n\nfunction  CerrarTurno(props) {\n    const { handleClickOpen, setLoading } = props;\n    const [ CrearRegistroDeTurno ] = useMutation(REGISTRAR_TURNOS);\n    const { setAlert, setTurnoActivo, ubicacionTurno } = useContext(VentasContext);\n    const [ error, setError] = useState(false);\n\n    const sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n    const turnoEnCurso = JSON.parse(localStorage.getItem('turnoEnCurso'));\n\n    const classes = useStyles();\n    const [ montoTurno, setMontoTurno ] = useState([]);\n    const [ cerrarTurno, setCerrarTurno ] = useState([]);\n\n    const obtenerCamposMontos = (e) => { \n        setMontoTurno({...montoTurno, [e.target.name]: e.target.value})\n    };\n\n    const obtenerCampos = (e) => { \n        setCerrarTurno({...cerrarTurno, [e.target.name]: e.target.value})\n    };\n    \n    const input = {\n        horario_en_turno: cerrarTurno.horario_en_turno,\n        concepto: \"CERRAR TURNO\",\n        token_turno_user: turnoEnCurso ? turnoEnCurso.token_turno_user : \"\",\n        numero_caja: turnoEnCurso ? turnoEnCurso?.numero_caja.toString() : \"\",\n        comentarios: cerrarTurno.comentarios,\n        id_caja: turnoEnCurso ? turnoEnCurso.id_caja : \"\",\n        empresa: sesion.empresa._id,\n        sucursal: sesion.sucursal._id,\n        id_usuario: sesion._id,\n        usuario_en_turno: {\n            nombre: sesion.nombre,\n            telefono: sesion.telefono,\n            numero_usuario: sesion.numero_usuario.toString(),\n            email: sesion.email,\n        },\n        hora_entrada: {\n            hora:  \"\",\n            minutos: \"\",\n            segundos:  \"\",\n            completa: \"\"\n        },\n        hora_salida: {\n            hora: moment().format('hh'),\n            minutos: moment().format('mm'),\n            segundos: moment().format('ss'),\n            completa: moment().format('HH:mm:ss')\n        },\n        fecha_entrada:{\n            year: \"\",\n            mes: \"\",\n            dia: \"\",\n            no_semana_year: \"\",\n            no_dia_year: \"\",\n            completa: \"\"\n        },\n        fecha_salida:{\n            year: moment().format('YYYY'),\n            mes: moment().format('MM'),\n            dia: moment().format('DD'),\n            no_semana_year: moment().week().toString(),\n            no_dia_year: moment().dayOfYear().toString(),\n            completa: moment().format(\"YYYY-MM-DD\")\n        },\n        fecha_movimiento: moment().locale('es-mx').format(),\n        montos_en_caja: {\n            monto_efectivo: {\n                monto:  parseFloat(montoTurno.monto_efectivo ? montoTurno.monto_efectivo : 0),\n                metodo_pago: \"01\"\n            },\n            monto_tarjeta_debito: {\n                monto: parseFloat(montoTurno.monto_tarjeta_debito ? montoTurno.monto_tarjeta_debito : 0),\n                metodo_pago: \"28\"\n            },\n            monto_tarjeta_credito: {\n                monto: parseFloat(montoTurno.monto_tarjeta_credito ? montoTurno.monto_tarjeta_credito : 0),\n                metodo_pago: \"04\"\n            },\n            monto_creditos: {\n                monto: parseFloat(montoTurno.monto_creditos ? montoTurno.monto_creditos : 0 ),\n                metodo_pago: \"99\"\n            },\n            monto_monedero: {\n                monto: parseFloat(montoTurno.monto_puntos ? montoTurno.monto_puntos : 0),\n                metodo_pago: \"05\"\n            },\n            monto_transferencia: {\n                monto: parseFloat(montoTurno.monto_transferencia ? montoTurno.monto_transferencia : 0),\n                metodo_pago: \"03\"\n            },\n            monto_cheques: {\n                monto: parseFloat(montoTurno.monto_cheques ? montoTurno.monto_cheques : 0),\n                metodo_pago: \"02\"\n            },\n            monto_vales_despensa: {\n                monto: parseFloat(montoTurno.monto_vales_despensa ? montoTurno.monto_vales_despensa : 0),\n                metodo_pago: \"08\"\n            },\n        }\n    };\n\n    let arraySesion = {\n        accesos: sesion.accesos,\n        email: sesion.email,\n        empresa: sesion.empresa,\n        estado: sesion.estado,\n        exp: sesion.exp,\n        iat: sesion.iat,\n        imagen: sesion.imagen,\n        nombre: sesion.nombre,\n        numero_usuario: sesion.numero_usuario,\n        sucursal: sesion.sucursal,\n        telefono: sesion.telefono,\n        turno_en_caja_activo: false, \n        _id: sesion._id,\n    };\n\n    const actualizarTurnoSesion  = (ubicacionTurno) => {\n        if (ubicacionTurno === 'SESION') {\n            localStorage.removeItem('sesionCafi');\n\t\t\tlocalStorage.removeItem('tokenCafi');\n            localStorage.removeItem('turnoEnCurso');\n            localStorage.removeItem('ListaEnEspera');\n            localStorage.removeItem('DatosVentas');\n\t\t\tprops.history.push('/');\n        }else{\n            localStorage.setItem('sesionCafi', JSON.stringify(arraySesion));\n            localStorage.removeItem('DatosVentas');\n            localStorage.removeItem('ListaEnEspera');\n            localStorage.removeItem('turnoEnCurso');\n        }\n    };\n\n    const enviarDatos  = async () => {\n        setLoading(true);\n        try {\n            if(!cerrarTurno.horario_en_turno){\n                setError(true);\n                setLoading(false);\n                setAlert({\n                    message: `Por favor elija que turno esta cerrando`,\n                    status: \"error\",\n                    open: true,\n                });\n                return;\n            }else{\n                await CrearRegistroDeTurno({\n                    variables: {\n                        activa: false,\n                        input\n                    }\n                });\n                setAlert({\n                    message: `Turno cerrado con exito`,\n                    status: \"success\",\n                    open: true,\n                });\n\n                actualizarTurnoSesion(ubicacionTurno);\n\n                setLoading(false);\n                handleClickOpen();\n                setTurnoActivo(true);\n            }\n        } catch (error) {\n            setAlert({\n                message: `Error: ${error.message}`,\n                status: \"error\",\n                open: true,\n            });\n            setLoading(false);\n            handleClickOpen();\n        }\n    };\n\n\n    return (\n        <>\n            <DialogContent style={{padding: 0}}>\n            <Box width=\"100%\" textAlign=\"center\">\n                <Typography variant=\"h6\">Montos a Depositar</Typography>\n            </Box>\n            <div className={classes.formInputFlex}>\n                <Box width=\"100%\" className={classes.input}>\n                    <Typography> Monto Efectivo:</Typography>\n                    <Box display=\"flex\">\n                        <TextField\n                            name=\"monto_efectivo\"\n                            variant=\"outlined\"\n                            size=\"small\"\n                            inputProps={{min: 0}}\n                            type=\"number\"\n                            defaultValue={0}\n                            color=\"primary\"\n                            onChange={obtenerCamposMontos}\n                        />\n                    </Box>\n                </Box>\n                <Box width=\"100%\" className={classes.input}>\n                    <Typography> Creditos:</Typography>\n                    <Box display=\"flex\">\n                        <TextField\n                            name=\"monto_creditos\"\n                            variant=\"outlined\"\n                            size=\"small\"\n                            inputProps={{min: 0}}\n                            type=\"number\" \n                            defaultValue={0}\n                            color=\"primary\"\n                            onChange={obtenerCamposMontos}\n                        />\n                    </Box>\n                </Box>\n            </div>\n            <div className={classes.formInputFlex}>\n                <Box width=\"100%\" className={classes.input}>\n                    <Typography> Tarjeta Debito:</Typography>\n                    <Box display=\"flex\">\n                        <TextField\n                            name=\"monto_tarjeta_debito\"\n                            variant=\"outlined\"\n                            size=\"small\"\n                            inputProps={{min: 0}}\n                            type=\"number\"\n                            defaultValue={0}\n                            color=\"primary\"\n                            onChange={obtenerCamposMontos}\n                        />\n                    </Box>\n                </Box>\n                <Box width=\"100%\" className={classes.input}>\n                    <Typography> Tarjeta Credito:</Typography>\n                    <Box display=\"flex\">\n                        <TextField\n                            name=\"monto_tarjeta_credito\"\n                            variant=\"outlined\"\n                            size=\"small\"\n                            inputProps={{min: 0}}\n                            type=\"number\"\n                            defaultValue={0}\n                            color=\"primary\"\n                            onChange={obtenerCamposMontos}\n                        />\n                    </Box>\n                </Box>\n                \n            </div>\n            <div className={classes.formInputFlex}>\n                <Box width=\"100%\" className={classes.input}>\n                    <Typography>Monedero:</Typography>\n                    <Box display=\"flex\">\n                        <TextField\n                            name=\"monto_puntos\"\n                            variant=\"outlined\"\n                            size=\"small\"\n                            inputProps={{min: 0}}\n                            type=\"number\" \n                            defaultValue={0}\n                            color=\"primary\"\n                            onChange={obtenerCamposMontos}\n                        />\n                    </Box>\n                </Box>\n                <Box width=\"100%\" className={classes.input}>\n                    <Typography>Transferencias:</Typography>\n                    <Box display=\"flex\">\n                        <TextField\n                            name=\"monto_transferencia\"\n                            variant=\"outlined\"\n                            size=\"small\"\n                            inputProps={{min: 0}}\n                            type=\"number\" \n                            defaultValue={0}\n                            color=\"primary\"\n                            onChange={obtenerCamposMontos}\n                        />\n                    </Box>\n                </Box>\n            </div>\n            <div className={classes.formInputFlex}>\n                <Box width=\"100%\" className={classes.input}>\n                    <Typography>Cheques:</Typography>\n                    <Box display=\"flex\">\n                        <TextField\n                            name=\"monto_cheques\"\n                            variant=\"outlined\"\n                            size=\"small\"\n                            inputProps={{min: 0}}\n                            type=\"number\" \n                            defaultValue={0}\n                            color=\"primary\"\n                            onChange={obtenerCamposMontos}\n                        />\n                    </Box>\n                </Box>\n                <Box width=\"100%\" className={classes.input}>\n                    <Typography>Vales de despensa:</Typography>\n                    <Box display=\"flex\">\n                        <TextField\n                            name=\"monto_vales_despensa\"\n                            variant=\"outlined\"\n                            size=\"small\"\n                            inputProps={{min: 0}}\n                            type=\"number\" \n                            defaultValue={0}\n                            color=\"primary\"\n                            onChange={obtenerCamposMontos}\n                        />\n                    </Box>\n                </Box>\n            </div>\n                <Grid container >\n                    <Grid item lg={6}>\n                        <Box mt={1} textAlign=\"center\">\n                            <Typography >\n                                <b>Monto total efectivo:  </b>\n                            </Typography>\n                        </Box>\n                    </Grid>\n                    <Grid item lg={6} justify='flex-end'>\n                        <Box mt={1} textAlign=\"center\" >\n                            <Typography>\n                                 ${montoTurno.monto_efectivo} Mx.\n                            </Typography>\n                        </Box>\n                    </Grid>\n                </Grid>\n                <div className={classes.formInputFlex}>\n                    <Box width=\"100%\">\n                        <Typography>\n                            <span className=\"obligatorio\">* </span> Turno:\n                        </Typography>\n                        <FormControl\n                            variant=\"outlined\"\n                            fullWidth\n                            size=\"small\"\n                        >\n                            <Select\n                                onChange={obtenerCampos}\n                                id=\"form-producto-tipo\"\n                                name=\"horario_en_turno\"\n                            >\n                                <MenuItem value=\"\">\n                                    <em>Selecciona uno</em>\n                                </MenuItem>\n                                <MenuItem value=\"VESPERTINO\">Vespertino</MenuItem>\n                                <MenuItem value=\"MATUTINO\">Matutino</MenuItem>\n                            </Select>\n                        </FormControl>\n                    </Box>\n                </div>\n                <div className={classes.formInputFlex}>\n                    <Box width=\"100%\">\n                        <Typography>Comentarios:</Typography>\n                        <Box display=\"flex\">\n                            <TextField\n                                fullWidth\n                                multiline\n                                onChange={obtenerCampos}\n                                rows={2}\n                                size=\"small\"\n                                name=\"comentarios\"\n                                id=\"form-producto-codigo-barras\"\n                                variant=\"outlined\"\n                            />\n                        </Box>\n                    </Box>\n                </div>\n            </DialogContent>\n            <DialogActions>\n                <Box display=\"flex\" alignItems='flex-end'>\n                    <Button \n                        onClick={enviarDatos} \n                        variant=\"contained\" \n                        color=\"primary\" \n                        size=\"large\"\n                    >\n                        Aceptar\n                    </Button>\n                </Box>\n            </DialogActions>\n        </>\n    )\n};\n\nexport default withRouter(CerrarTurno);\n","import React, { useContext, useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport {\n  AppBar,\n  Box,\n  Button,\n  Dialog,\n  DialogContent,\n  Grid,\n  makeStyles,\n  Slide,\n  Tab,\n  Tabs,\n  Typography,\n} from \"@material-ui/core\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport BackdropComponent from '../../../components/Layouts/BackDrop'\n\nimport AbrirTurno from \"./AbrirTurno\";\nimport CerrarTurno from \"./CerrarTurno\";\nimport moment from \"moment\";\nimport \"moment/locale/es\";\nimport { VentasContext } from \"../../../context/Ventas/ventasContext\";\nmoment.locale(\"es\");\n\nfunction TabPanel(props) {\n  const { children, value, index, ...other } = props;\n\n  return (\n    <div\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`tabpanel-reg-product-${index}`}\n      aria-labelledby={`reg-product-tab-${index}`}\n      {...other}\n    >\n      {value === index && (\n        <Box p={3} height=\"70vh\">\n          {children}\n        </Box>\n      )}\n    </div>\n  );\n}\n\nTabPanel.propTypes = {\n  children: PropTypes.node,\n  index: PropTypes.any.isRequired,\n  value: PropTypes.any.isRequired,\n};\n\nfunction a11yProps(index) {\n  return {\n    id: `reg-product-tab-${index}`,\n    \"aria-controls\": `tabpanel-reg-product-${index}`,\n  };\n}\n\nconst useStyles = makeStyles((theme) => ({\n  formInputFlex: {\n    display: \"flex\",\n    \"& > *\": {\n      margin: `${theme.spacing(1)}px ${theme.spacing(0)}px`,\n    },\n  },\n  formInput: {\n    margin: `${theme.spacing(1)}px ${theme.spacing(0)}px`,\n  },\n  root: {\n    flexGrow: 1,\n    width: \"100%\",\n    backgroundColor: theme.palette.background.paper,\n  },\n  iconSvg: {\n    width: 50,\n  },\n  dialogContent: {\n    padding: 0,\n  },\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function Turnos() {\n  const { abrirTurnosDialog, setAbrirTurnosDialog, setTurnoActivo } =\n    useContext(VentasContext);\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n  const turnoEnCurso = JSON.parse(localStorage.getItem(\"turnoEnCurso\"));\n\n  const classes = useStyles();\n  const [value, setValue] = useState(0);\n\n  const handleChange = (event, newValue) => {\n    setValue(newValue);\n  };\n\n  const handleClickOpen = () => {\n    setAbrirTurnosDialog(!abrirTurnosDialog);\n    setTurnoActivo(true);\n  };\n\n  window.addEventListener(\"keydown\", Mi_funcin);\n\n  function Mi_funcin(e) {\n    if (e.altKey && e.keyCode === 85) {\n      handleClickOpen();\n    }\n  }\n\n  return (\n    <>\n      <Button\n        onClick={() => handleClickOpen()}\n        style={{ textTransform: \"none\", height: \"100%\", width: \"60%\" }}\n      >\n        <Box\n          display=\"flex\"\n          flexDirection=\"column\"\n          style={{ height: \"100%\", width: \"100%\" }}\n        >\n          <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n            <img\n              src=\"https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/ventas/shift.svg\"\n              alt=\"icono caja\"\n              style={{ width: 20 }}\n            />\n          </Box>\n          <Box>\n            <Typography variant=\"body2\">\n              <b>Abrir/Cerrar turno</b>\n            </Typography>\n          </Box>\n          <Box>\n            <Typography variant=\"caption\" style={{ color: \"#808080\" }}>\n              <b>Alt + U</b>\n            </Typography>\n          </Box>\n        </Box>\n      </Button>\n\n      <Dialog\n        maxWidth=\"xs\"\n\t\tfullWidth\n        open={abrirTurnosDialog}\n        onClose={handleClickOpen}\n        TransitionComponent={Transition}\n      >\n        <AppBar position=\"static\" color=\"default\" elevation={0}>\n          <Tabs\n            value={value}\n            onChange={handleChange}\n            variant=\"scrollable\"\n            scrollButtons=\"on\"\n            indicatorColor=\"primary\"\n            textColor=\"primary\"\n            aria-label=\"scrollable force tabs example\"\n          >\n            {sesion?.turno_en_caja_activo === true && turnoEnCurso ? (\n              <Tab\n                label=\"Cerrar Turno\"\n                icon={\n                  <img\n                    src=\"https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/ventas/shift.svg\"\n                    alt=\"icono almacen\"\n                    className={classes.iconSvg}\n                  />\n                }\n                {...a11yProps(0)}\n              />\n            ) : (\n              <Tab\n                label=\"Abrir Turno\"\n                icon={\n                  <img\n                    src=\"https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/ventas/shift.svg\"\n                    alt=\"icono almacen\"\n                    className={classes.iconSvg}\n                  />\n                }\n                {...a11yProps(0)}\n              />\n            )}\n            <Grid container justify=\"flex-end\">\n              <Box mt={2} textAlign=\"right\">\n                <Box textAlign=\"right\">\n                  <Typography variant=\"caption\">\n                    {moment().format(\"L\")}\n                  </Typography>\n                </Box>\n                <Box textAlign=\"right\">\n                  <Typography variant=\"caption\">\n                    {moment().format(\"LT\")} hrs.\n                  </Typography>\n                </Box>\n                <Box textAlign=\"right\">\n                  <Typography variant=\"caption\">\n                    Caja {!turnoEnCurso ? null : turnoEnCurso.numero_caja}\n                  </Typography>\n                </Box>\n              </Box>\n            </Grid>\n            <Box mt={2} ml={3}>\n              <Button\n                variant=\"contained\"\n                color=\"secondary\"\n                onClick={handleClickOpen}\n                size=\"medium\"\n              >\n                <CloseIcon />\n              </Button>\n            </Box>\n          </Tabs>\n        </AppBar>\n        <ContenidoTurnos handleClickOpen={handleClickOpen} value={value} />\n      </Dialog>\n    </>\n  );\n}\n\nconst ContenidoTurnos = ({ handleClickOpen, value }) => {\n  const turnoEnCurso = JSON.parse(localStorage.getItem(\"turnoEnCurso\"));\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n\n  const [loading, setLoading] = useState(false);\n\n  if (loading)\n    return (\n      <BackdropComponent loading={loading} />\n    )\n\n  return (\n    <DialogContent style={{ padding: 0 }}>\n      {sesion?.turno_en_caja_activo === true && turnoEnCurso ? (\n        <TabPanel style={{ padding: 0 }} value={value} index={0}>\n          <CerrarTurno\n            setLoading={setLoading}\n            handleClickOpen={handleClickOpen}\n          />\n        </TabPanel>\n      ) : (\n        <TabPanel value={value} index={0}>\n          <AbrirTurno\n            loading={loading}\n            setLoading={setLoading}\n            handleClickOpen={handleClickOpen}\n          />\n        </TabPanel>\n      )}\n    </DialogContent>\n  );\n};\n","import React, { createContext, useState } from 'react';\n\nexport const AccesosContext = createContext();\n\nexport const AccesosProvider = ({ children }) => {\n\n    const [ abrirPanelAcceso, setAbrirPanelAcceso ] = useState(false);\n    const [ departamentos, setDepartamentos ] = useState({departamento: '', subDepartamento: '', tipo_acceso: ''});\n\n    const [ reloadAdministrador, setReloadAdministrador ] = useState(false);\n    const [ reloadProductoRapido, setReloadProductoRapido ] = useState(false);\n    const [ reloadCancelarVenta, setReloadCancelarVenta ] = useState(false);\n    const [ reloadVerPrecios, setReloadVerPrecios ] = useState(false);\n    const [ reloadVerPreCorte, setReloadVerPreCorte ] = useState(false);\n    const [ reloadEliminarVentaEspera, setReloadEliminarVentaEspera ] = useState(false);\n    const [ reloadCrearCotizacion, setReloadCrearCotizacion ] = useState(false);\n\n    return (\n\t\t<AccesosContext.Provider value={\n            { \n                departamentos, \n                setDepartamentos,\n                reloadProductoRapido, \n                setReloadProductoRapido,\n                reloadAdministrador, \n                setReloadAdministrador,\n                abrirPanelAcceso, \n                setAbrirPanelAcceso,\n                reloadCancelarVenta, \n                setReloadCancelarVenta,\n                reloadVerPrecios, \n                setReloadVerPrecios,\n                reloadVerPreCorte, \n                setReloadVerPreCorte,\n                reloadEliminarVentaEspera, \n                setReloadEliminarVentaEspera,\n                reloadCrearCotizacion, \n                setReloadCrearCotizacion\n            }\n        }>\n\t\t\t{children}\n\t\t</AccesosContext.Provider>\n\t);\n};","import React, { useContext, useEffect, useState } from 'react'\nimport { Box, Button, Dialog, DialogActions, DialogContent, Grid, Slide, Typography } from '@material-ui/core'\nimport CloseIcon from '@material-ui/icons/Close';\nimport moment from 'moment';\nimport useStyles from '../styles';\nimport 'moment/locale/es';\nimport { useQuery } from '@apollo/client';\nimport { OBTENER_PRE_CORTE_CAJA } from '../../../gql/Cajas/cajas';\nimport { AccesosContext } from '../../../context/Accesos/accesosCtx';\nmoment.locale('es');\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n    return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function PreCorteCaja() {\n    const turnoEnCurso = JSON.parse(localStorage.getItem('turnoEnCurso'));\n    const sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\n    const { \n\t\treloadVerPreCorte, \n        setReloadVerPreCorte,\n\t\tsetAbrirPanelAcceso,\n        abrirPanelAcceso,\n\t\tsetDepartamentos\n\t} = useContext(AccesosContext);\n\n    const input = { \n        horario_en_turno: \"ABRIR TURNO\",\n        id_caja: turnoEnCurso ? turnoEnCurso.id_caja : \"\",\n        id_usuario: sesion._id,\n        token_turno_user: turnoEnCurso ? turnoEnCurso.token_turno_user : \"\"\n    };\n\n    const { data, refetch} = useQuery(OBTENER_PRE_CORTE_CAJA, {\n        variables: { empresa: sesion.empresa._id, sucursal: sesion.sucursal._id, input: input},\n    });\n\n    const classes = useStyles();\n    const [open, setOpen] = useState(false);\n\n    const handleClickOpen = () => { \n        if(sesion.accesos.ventas.pre_corte.ver === true){\n\t\t\tsetOpen(!open);\n        }else{\n            setAbrirPanelAcceso(!abrirPanelAcceso);\n            setDepartamentos({departamento: 'ventas', subDepartamento: 'pre_corte', tipo_acceso: 'ver'})\n        }\n\t};\n\n    useEffect(() => {\n\t\tif (reloadVerPreCorte === true) {\t\n            setOpen(!open);\n\t\t\tsetReloadVerPreCorte(false);\n\t\t}\n\t}, [reloadVerPreCorte]);\n    \n    if(!data) return null;\n\n    window.addEventListener('keydown', Mi_funcin); \n    function Mi_funcin(e){\n        if(e.altKey && e.keyCode === 79){ \n            handleClickOpen();\n            refetch();\n        } \n    };\n\n    return (\n        <>\n            <Button\n                onClick={() =>{\n                    handleClickOpen()\n                    refetch()\n                }}\n                style={{textTransform: 'none', height: '100%', width: '60%'}}\n            >\n                <Box display=\"flex\" flexDirection=\"column\">\n                    <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n                        <img \n                            src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/ventas/cash-register.svg' \n                            alt=\"icono caja\" \n                            style={{width: 20}}\n                        />\n                    </Box>\n                    <Box>\n                        <Typography variant=\"body2\" >\n                            <b>Pre corte caja</b>\n                        </Typography>\n                    </Box>\n                    <Box>\n                        <Typography variant=\"caption\" style={{color: '#808080'}} >\n                            <b>Alt + O</b>\n                        </Typography>\n                    </Box>\n                </Box>\n            </Button>\t\n\n            <Dialog\n\t\t\t\tmaxWidth='lg'\n\t\t\t\topen={open} \n\t\t\t\tonClose={() => setOpen(!open)} \n\t\t\t\tTransitionComponent={Transition}\n\t\t\t>\n                <DialogContent>\n                    <Grid container>\n                        <Grid item lg={10}>\n                            <Box\n                                display=\"flex\" \n                                alignItems=\"center\"\n                            >\n                                <Box>\n                                    <img src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/ventas/cash-register.svg' alt=\"icono caja\" className={classes.iconSizeDialogs} />\n                                </Box>\n                                <Box ml={2}>\n                                    <Box textAlign=\"left\">\n                                        <Typography variant=\"h6\">\n                                            Pre-Corte de Caja\n                                        </Typography>\n                                    </Box>\n                                    <Box display=\"flex\">\n                                        <Box textAlign=\"right\">\n                                            <Typography variant=\"caption\">\n                                                {moment().format('MM/DD/YYYY')}\n                                            </Typography>\n                                        </Box>\n                                        <Box textAlign=\"right\" ml={2}>\n                                            <Typography variant=\"caption\">\n                                                <b>{moment().format('h:mm')} hrs.</b>\n                                            </Typography>\n                                        </Box>\n                                    </Box>\n                                </Box>\n                            </Box>\n                        </Grid>\n                        <Grid item lg={2}>\n                            <Box ml={4} display=\"flex\" alignItems=\"center\" justifyContent=\"flex-end\">\n                                <Button variant=\"contained\" color=\"secondary\" onClick={() => setOpen(!open)} size=\"large\">\n                                    <CloseIcon />\n                                </Button>\n                            </Box>\n                        </Grid>\n                    </Grid>\n                    <Grid>\n                        <Box p={2}>\n                        {sesion.turno_en_caja_activo === true && turnoEnCurso ? (\n                            <>\n                                <Box>\n                                    <Typography variant=\"subtitle1\"> \n                                        <b>Usuario: </b> {sesion.nombre}\n                                    </Typography>\n                                </Box>\n                                <Box>\n                                    <Typography variant=\"subtitle1\"> \n                                        <b>Caja: </b> {turnoEnCurso ? turnoEnCurso.numero_caja : ''}\n                                    </Typography>\n                                </Box>\n                                <Box>\n                                    <Typography variant=\"subtitle1\"> \n                                        <b>Fecha y hora al precorte: </b> \n                                    </Typography>\n                                    <Typography variant=\"subtitle1\"> \n                                        {moment().format('MMMM D YYYY, h:mm:ss a')}\n                                    </Typography>\n                                </Box>\n                                <Box textAlign=\"center\" p={2}>\n                                    <Typography variant=\"h6\"> \n                                        <b>Monto total en efectivo: </b> \n                                    </Typography>\n                                    <Typography variant=\"h3\" style={{color: \"green\"}}> \n                                        <b>${data?.obtenerPreCorteCaja?.monto_efectivo_precorte}</b> \n                                    </Typography>\n                                </Box>\n                            </>\n                        ) : (\n                            <Box textAlign=\"center\" p={2}>\n                                <Typography variant=\"h6\"> \n                                    <b>Por el momento no hay un turno en sesin</b> \n                                </Typography>\n                            </Box>\n                        )}\n                        </Box>\n                    </Grid>\n                </DialogContent>\n                \n                <DialogActions>\n                    {sesion.turno_en_caja_activo === true && turnoEnCurso ? (\n                        <Button \n                            onClick={() => setOpen(!open)} \n                            color=\"primary\"\n                            variant=\"contained\"\n                            size=\"large\"\n                            autoFocus\n                        >\n                            Imprimir\n                        </Button>\n                    ) : null }\n                </DialogActions>\n\n            </Dialog>\n        </>\n    )\n}","import React, { useContext, useState } from 'react';\nimport { Box, Button, Dialog, DialogActions, \n        DialogContent, Divider, Grid, \n        Slide, Typography \n    } from '@material-ui/core'\nimport { FcExpired } from 'react-icons/fc';\nimport moment from 'moment';\nimport 'moment/locale/es';\nimport { VentasContext } from '../../../context/Ventas/ventasContext';\nmoment.locale('es');\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function VentaEnEspera() {\n    const { updateTablaVentas, setUpdateTablaVentas } = useContext(VentasContext);\n\n    const [open, setOpen] = useState(false);\n\n    const handleClickOpen = () => { \n\t\tsetOpen(!open);\n\t};\n\n    window.addEventListener('keydown', Mi_funcin); \n    function Mi_funcin(e){\n        if(e.altKey && e.keyCode === 69){ \n            handleClickOpen();\n        } \n    };\n\n    const agregarVentaEnEspera = () => {\n        let VentaEnEspera = JSON.parse(localStorage.getItem(\"DatosVentas\"));\n        let datos = localStorage.getItem(\"ListaEnEspera\");\n        if(VentaEnEspera !== null){\n            if(datos === null){\n                localStorage.setItem('ListaEnEspera', JSON.stringify([{VentaEnEspera, fecha: moment().format('MM/DD/YYYY') }]));\n                localStorage.removeItem('DatosVentas');\n                setUpdateTablaVentas(!updateTablaVentas);\n            }else{\n                let data = JSON.parse(datos);\n                data.push({VentaEnEspera, fecha: moment().format('MM/DD/YYYY') });\n                localStorage.setItem(\"ListaEnEspera\", JSON.stringify(data));\n                localStorage.removeItem('DatosVentas');\n                setUpdateTablaVentas(!updateTablaVentas);\n            }\n        }\n    };\n\n    return (\n        <>\n           <Button\n                onClick={() => agregarVentaEnEspera()} \n                style={{textTransform: 'none', height: '100%', width: '60%'}}\n            >\n                <Box display=\"flex\" flexDirection=\"column\">\n                    <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n                        <FcExpired style={{fontSize: 25}} />\n                    </Box>\n                    <Box>\n                        <Typography variant=\"body2\" >\n                            <b>En espera</b>\n                        </Typography>\n                    </Box>\n                    <Box>\n                        <Typography variant=\"caption\" style={{color: '#808080'}} >\n                            <b>Alt + E</b>\n                        </Typography>\n                    </Box>\n                </Box>\n            </Button>\n\n            <Dialog\n\t\t\t\tmaxWidth='lg'\n\t\t\t\topen={open} \n\t\t\t\tonClose={handleClickOpen} \n\t\t\t\tTransitionComponent={Transition}\n\t\t\t>\n                <DialogContent>\n                    <Grid container item lg={12}>\n                        <Box\n                            display=\"flex\" \n                            textAlign=\"center\" \n                            justifyContent=\"center\" \n                            alignContent=\"center\" \n                            alignSelf=\"center\"\n                            justifySelf=\"center\"\n                        >\n                            <Box>\n                                <FcExpired style={{fontSize: 80}} />\n                            </Box>\n                            <Box m={2} >\n                                <Divider orientation=\"vertical\" />\n                            </Box>\n                            <Box mt={3}>\n                                <Typography variant=\"h5\">\n                                    Venta pasada a espera\n                                </Typography>\n                            </Box>\n                        </Box>\n                    </Grid>\n                </DialogContent>\n                <DialogActions>\n                    <Button \n                        onClick={() =>{handleClickOpen();}}\n                        variant=\"contained\" \n                        color=\"primary\"\n                        size=\"large\"\n                    >\n                        Aceptar\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        </>\n    )\n}\n","import React, { Fragment, useContext } from \"react\";\n\nimport {\n  Box,\n  Button,\n  Checkbox,\n  Divider,\n  FormControl,\n  FormControlLabel,\n  FormHelperText,\n  InputAdornment,\n  makeStyles,\n  MenuItem,\n  OutlinedInput,\n  Select,\n  TextField,\n  Typography,\n} from \"@material-ui/core\";\nimport { RegProductoContext } from \"../../../context/Catalogos/CtxRegProducto\";\nimport CatalogosProductosSAT from \"../../sucursales/Catalogos/Producto/DatosGenerales/CatalogoProductosSAT\";\n// import RegistroInfoAdidional from '../../sucursales/Catalogos/Producto/PreciosVenta/registrarInfoAdicional';\n\nconst useStyles = makeStyles((theme) => ({\n  formInputFlex: {\n    display: \"flex\",\n    \"& > *\": {\n      margin: `${theme.spacing(1)}px ${theme.spacing(1)}px`,\n    },\n    \"& .obligatorio\": {\n      color: \"red\",\n    },\n  },\n  formInput: {\n    margin: `${theme.spacing(1)}px ${theme.spacing(2)}px`,\n  },\n}));\n\nexport default function RegistroInformacionRapido({\n  setAbrirTallaColor,\n  setCantidad,\n  cantidad,\n  obtenerConsultasProducto,\n  refetch,\n}) {\n  const {\n    datos_generales,\n    precios,\n    setPrecios,\n    setDatosGenerales,\n    validacion,\n  } = useContext(RegProductoContext);\n  const {\n    unidadVentaXDefecto,\n    setUnidadVentaXDefecto,\n    setUnidadVentaSecundaria,\n    unidadVentaSecundaria,\n    update,\n  } = useContext(RegProductoContext);\n\n  const obtenerCampos = (e) => {\n    if (e.target.name === \"codigo_barras\") {\n      setUnidadVentaXDefecto({\n        ...unidadVentaXDefecto,\n        codigo_barras: e.target.value,\n      });\n    }\n    setDatosGenerales({\n      ...datos_generales,\n      [e.target.name]: e.target.value,\n    });\n\n    if (e.target.value === \"CALZADO\" || e.target.value === \"ROPA\") {\n      setAbrirTallaColor(true);\n    }\n  };\n\n  const checkFarmacia = (e) => {\n    setDatosGenerales({\n      ...datos_generales,\n      receta_farmacia: e.target.checked,\n    });\n  };\n\n  const obtenerChecks = (e) => {\n    if (e.target.name === \"granel\" && e.target.checked) {\n      setPrecios({\n        ...precios,\n        [e.target.name]: e.target.checked,\n        inventario: {\n          ...precios.inventario,\n          unidad_de_inventario: \"Kg\",\n          codigo_unidad: \"KGM\",\n        },\n        unidad_de_compra: {\n          ...precios.unidad_de_compra,\n          unidad: \"Kg\",\n          codigo_unidad: \"KGM\",\n        },\n      });\n      setUnidadVentaXDefecto({\n        ...unidadVentaXDefecto,\n        unidad: \"Kg\",\n        codigo_unidad: \"KGM\",\n      });\n      setUnidadVentaSecundaria({\n        ...unidadVentaSecundaria,\n        unidad: \"Costal\",\n        codigo_unidad: \"KGM\",\n      });\n    } else {\n      setPrecios({\n        ...precios,\n        [e.target.name]: e.target.checked,\n        inventario: {\n          ...precios.inventario,\n          unidad_de_inventario: \"Pz\",\n          codigo_unidad: \"H87\",\n        },\n        unidad_de_compra: {\n          ...precios.unidad_de_compra,\n          unidad: \"Pz\",\n          codigo_unidad: \"H87\",\n        },\n      });\n      setUnidadVentaXDefecto({\n        ...unidadVentaXDefecto,\n        unidad: \"Pz\",\n        codigo_unidad: \"H87\",\n      });\n      setUnidadVentaSecundaria({\n        ...unidadVentaSecundaria,\n        unidad: \"Caja\",\n        codigo_unidad: \"XBX\",\n      });\n    }\n  };\n\n  const GenCodigoBarras = () => {\n    const max = 999999999999;\n    const min = 100000000000;\n    const codigo_barras = Math.floor(\n      Math.random() * (max - min + 1) + min\n    ).toString();\n    setDatosGenerales({\n      ...datos_generales,\n      codigo_barras,\n    });\n    setUnidadVentaXDefecto({\n      ...unidadVentaXDefecto,\n      codigo_barras,\n    });\n  };\n\n  const classes = useStyles();\n\n  return (\n    <Fragment>\n      <Box>\n        <Typography>\n          <b>Informacin General</b>\n        </Typography>\n      </Box>\n      <Divider />\n      <div className={classes.formInputFlex}>\n        <Box width=\"100%\">\n          <FormControl\n            variant=\"outlined\"\n            size=\"small\"\n            name=\"codigo_barras\"\n            fullWidth\n          >\n            <Typography>Cdigo de barras</Typography>\n            <OutlinedInput\n              disabled={update && datos_generales.codigo_barras}\n              style={{ padding: 0 }}\n              id=\"form-producto-codigo-barras\"\n              name=\"codigo_barras\"\n              value={\n                datos_generales.codigo_barras\n                  ? datos_generales.codigo_barras\n                  : \"\"\n              }\n              onChange={obtenerCampos}\n              endAdornment={\n                <InputAdornment position=\"end\">\n                  <Button\n                    disabled={update && datos_generales.codigo_barras}\n                    onClick={() => GenCodigoBarras()}\n                    /* edge=\"end\" */\n                    color=\"primary\"\n                    variant=\"outlined\"\n                    size=\"large\"\n                  >\n                    Generar\n                  </Button>\n                </InputAdornment>\n              }\n            />\n          </FormControl>\n        </Box>\n        <Box width=\"100%\">\n          <Typography>\n            <span className=\"obligatorio\">* </span>Clave alterna\n          </Typography>\n          <TextField\n            fullWidth\n            size=\"small\"\n            error={validacion.error && !datos_generales.clave_alterna}\n            name=\"clave_alterna\"\n            id=\"form-producto-clave-alterna\"\n            variant=\"outlined\"\n            value={\n              datos_generales.clave_alterna ? datos_generales.clave_alterna : \"\"\n            }\n            helperText={validacion.message}\n            onChange={obtenerCampos}\n          />\n        </Box>\n\n        <Box width=\"100%\">\n          <Typography>\n            <span className=\"obligatorio\">* </span>Nombre comercial\n          </Typography>\n          <TextField\n            fullWidth\n            size=\"small\"\n            error={validacion.error && !datos_generales.nombre_comercial}\n            name=\"nombre_comercial\"\n            id=\"form-producto-nombre-comercial\"\n            variant=\"outlined\"\n            value={\n              datos_generales.nombre_comercial\n                ? datos_generales.nombre_comercial\n                : \"\"\n            }\n            helperText={validacion.message}\n            onChange={obtenerCampos}\n          />\n        </Box>\n        <Box width=\"100%\">\n          <CatalogosProductosSAT\n            refetch={refetch}\n            codigos={obtenerConsultasProducto.codigos}\n          />\n        </Box>\n      </div>\n      <div className={classes.formInputFlex}>\n        <Box width=\"100%\">\n          <Typography>\n            <span className=\"obligatorio\">* </span>Nombre genrico\n          </Typography>\n          <TextField\n            fullWidth\n            size=\"small\"\n            error={validacion.error && !datos_generales.nombre_generico}\n            name=\"nombre_generico\"\n            id=\"form-producto-nombre-generico\"\n            variant=\"outlined\"\n            value={\n              datos_generales.nombre_generico\n                ? datos_generales.nombre_generico\n                : \"\"\n            }\n            helperText={validacion.message}\n            onChange={obtenerCampos}\n          />\n        </Box>\n        <Box width=\"60%\">\n          <Typography>\n            <span className=\"obligatorio\">* </span>Tipo de producto\n          </Typography>\n          <FormControl\n            variant=\"outlined\"\n            fullWidth\n            size=\"small\"\n            error={validacion.error && !datos_generales.tipo_producto}\n          >\n            <Select\n              id=\"form-producto-tipo\"\n              name=\"tipo_producto\"\n              value={\n                datos_generales.tipo_producto\n                  ? datos_generales.tipo_producto\n                  : \"\"\n              }\n              onChange={obtenerCampos}\n            >\n              <MenuItem value=\"\">\n                <em>Selecciona uno</em>\n              </MenuItem>\n              <MenuItem value=\"ROPA\">Ropa</MenuItem>\n              <MenuItem value=\"CALZADO\">Calzado</MenuItem>\n              <MenuItem value=\"OTROS\">Otros</MenuItem>\n            </Select>\n            <FormHelperText>{validacion.message}</FormHelperText>\n          </FormControl>\n        </Box>\n        {datos_generales.tipo_producto === \"OTROS\" ? (\n          <>\n            <Box width=\"50%\">\n              <Typography>\n                <span className=\"obligatorio\">* </span>Cantidad\n              </Typography>\n              <TextField\n                fullWidth\n                size=\"small\"\n                error={validacion.error && !cantidad}\n                name=\"cantidad\"\n                type=\"number\"\n                id=\"form-producto-nombre-generico\"\n                variant=\"outlined\"\n                value={cantidad ? cantidad : \"\"}\n                helperText={validacion.message}\n                onChange={(e) => setCantidad(parseInt(e.target.value))}\n              />\n            </Box>\n            <Box width=\"80%\">\n              <Typography>Granel</Typography>\n              <FormControlLabel\n                control={<Checkbox onChange={obtenerChecks} name=\"granel\" />}\n                label=\"Vender a granel\"\n              />\n            </Box>\n            <Box width=\"80%\">\n              <Typography>Medicamento</Typography>\n              <FormControlLabel\n                control={\n                  <Checkbox\n                    // checked={datos_generales.receta_farmacia ? datos_generales.receta_farmacia : false}\n                    onChange={checkFarmacia}\n                    name=\"receta_farmacia\"\n                  />\n                }\n                label=\"Necesita receta\"\n                name=\"receta_farmacia\"\n              />\n            </Box>\n          </>\n        ) : null}\n      </div>\n    </Fragment>\n  );\n}\n","import React, { useContext, useRef, useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Input from '@material-ui/core/Input';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport { RegProductoContext } from '../../../../context/Catalogos/CtxRegProducto';\nimport { Box, Chip, IconButton, Tooltip, Zoom } from '@material-ui/core';\nimport { Cached, Close, Edit } from '@material-ui/icons';\nimport { fade } from '@material-ui/core/styles/colorManipulator';\n\nconst compareFunction = (a, b) => {\n\tif (a.medida.talla && b.medida.talla) {\n\t\treturn a.medida.talla.localeCompare(b.medida.talla);\n\t}\n};\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n\t\twidth: '100%'\n\t},\n\tpaper: {\n\t\twidth: '100%',\n\t\tmarginBottom: theme.spacing(2)\n\t},\n\ttable: {\n\t\tminWidth: 750\n\t},\n\tcontainer: {\n\t\tmaxHeight: '65vh'\n\t},\n\ttableRow: {\n\t\t'&.Mui-selected, &.Mui-selected:hover': {\n\t\t\tbackgroundColor: fade(theme.palette.primary.main, 0.1)\n\t\t}\n\t},\n\tvisuallyHidden: {\n\t\tborder: 0,\n\t\tclip: 'rect(0 0 0 0)',\n\t\theight: 1,\n\t\tmargin: -1,\n\t\toverflow: 'hidden',\n\t\tpadding: 0,\n\t\tposition: 'absolute',\n\t\ttop: 20,\n\t\twidth: 1\n\t},\n\tcolorContainer: {\n\t\tborder: '1px solid rgba(0,0,0, .3)',\n\t\theight: 30,\n\t\twidth: 30,\n\t\tborderRadius: '15%'\n\t}\n}));\n\nexport default function TablaPresentaciones({ from, setOnUpdate, onUpdate }) {\n\tconst classes = useStyles();\n\tconst { presentaciones } = useContext(RegProductoContext);\n\n\tlet mostrar_presentaciones = [ ...presentaciones ].sort((a, b) => compareFunction(a, b));\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Paper className={classes.paper}>\n\t\t\t\t<TableContainer className={classes.container}>\n\t\t\t\t\t<Table\n\t\t\t\t\t\tclassName={classes.table}\n\t\t\t\t\t\taria-labelledby=\"tableTitle\"\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\taria-label=\"enhanced table\"\n\t\t\t\t\t\tstickyHeader\n\t\t\t\t\t>\n\t\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t<TableCell>Existencia</TableCell>\n\t\t\t\t\t\t\t\t<TableCell>Cdigo de barras</TableCell>\n\t\t\t\t\t\t\t\t<TableCell width={200}>Nombre</TableCell>\n\t\t\t\t\t\t\t\t<TableCell padding=\"checkbox\">Medida</TableCell>\n\t\t\t\t\t\t\t\t<TableCell padding=\"checkbox\">Color</TableCell>\n\t\t\t\t\t\t\t\t<TableCell>Precio</TableCell>\n\t\t\t\t\t\t\t\t{from && from === 'compra' ? (\n\t\t\t\t\t\t\t\t\t<TableCell padding=\"checkbox\">Existente</TableCell>\n\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t\t<TableCell padding=\"checkbox\">Cantidad</TableCell>\n\t\t\t\t\t\t\t\t<TableCell padding=\"checkbox\">Editar</TableCell>\n\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t</TableHead>\n\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t{mostrar_presentaciones.map((producto, index) => {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<RenderPresentacionesRows\n\t\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\t\tproducto={producto}\n\t\t\t\t\t\t\t\t\t\tindex={index}\n\t\t\t\t\t\t\t\t\t\tfrom={from}\n\t\t\t\t\t\t\t\t\t\tsetOnUpdate={setOnUpdate}\n\t\t\t\t\t\t\t\t\t\tonUpdate={onUpdate}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t</Table>\n\t\t\t\t</TableContainer>\n\t\t\t</Paper>\n\t\t</div>\n\t);\n};\n\nconst RenderPresentacionesRows = ({ producto, index,  from, setOnUpdate, onUpdate }) => {\n\tconst { presentaciones, setPresentaciones, preciosP, precios } = useContext(RegProductoContext);\n\tconst [ disabledInput, setDisabledInput ] = useState(true);\n\tconst classes = useStyles();\n\tconst textfield = useRef(null);\n\n\tconst copy_presentaciones = [...presentaciones].sort((a, b) => compareFunction(a, b))\n\tconst copy_element_presentacion = { ...copy_presentaciones[index] };\n\tconst copy_producto = { ...producto };\n\n\tif(from && from === 'compra'){\n\t\tcopy_producto.cantidad = 0\n\t}\n\t\n\tconst handleEditCancel = () => {\n\t\tif (!copy_producto.cantidad) {\n\t\t\tcopy_element_presentacion.cantidad = 0;\n\t\t}\n\t\tif (!copy_producto.precio) {\n\t\t\tcopy_element_presentacion.precio = preciosP[0].precio_neto;\n\t\t}\n\t\tcopy_presentaciones.splice(index, 1, copy_element_presentacion);\n\t\tsetPresentaciones(copy_presentaciones);\n\t\tsetDisabledInput(true);\n\t};\n\n\tconst obtenerDatos = (event) => {\n\t\tconst {value, name }= event.target;\n\t\tconsole.log(name)\n\t\tif (name === 'cantidad') {\n\t\t\tif (!value) {\n\t\t\t\tcopy_element_presentacion.cantidad = '';\n\t\t\t\tcopy_element_presentacion.existencia = false;\n\t\t\t\tcopy_presentaciones.splice(index, 1, copy_element_presentacion);\n\t\t\t\tsetPresentaciones(copy_presentaciones);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tcopy_element_presentacion.cantidad = parseFloat(value);\n\t\t\tcopy_element_presentacion.existencia = true;\n\t\t} else if (name === 'precio') {\n\t\t\tlet { iva, ieps } = precios;\n\t\t\tif (!value) {\n\t\t\t\tcopy_element_presentacion.precio = '';\n\t\t\t\tcopy_presentaciones.splice(index, 1, copy_element_presentacion);\n\t\t\t\tsetPresentaciones(copy_presentaciones);\n\t\t\t\treturn;\n\t\t\t};\n\t\t\tlet precio_neto = parseFloat(value);\n\t\t\tlet varIVA = (iva < 10 ? `0${iva}` : iva);\n\t\t\tlet varIEPS = (ieps < 10 ? `0${ieps}` : ieps);\n\n\t\t\tlet suma_impuestos = parseFloat(`0.${varIVA}`) + parseFloat(`0.${varIEPS}`);\n\t\t\tlet precio_venta = parseFloat((precio_neto / (suma_impuestos+1)).toFixed(2));\n\t\t\tlet iva_precio = parseFloat((precio_venta * parseFloat(`0.${varIVA}`)).toFixed(2));\n\t\t\tlet ieps_precio = parseFloat((precio_venta * parseFloat(`0.${varIEPS}`)).toFixed(2));\n\t\t\tlet PUCSI = precios.unidad_de_compra.precio_unitario_sin_impuesto;\n\t\t\tlet utilidad = parseFloat((((precio_venta - PUCSI) / PUCSI) * 100).toFixed(2));\n\t\t\tcopy_element_presentacion.precio_unidad.precio_venta = precio_venta;\n\t\t\tcopy_element_presentacion.precio_unidad.precio_neto = precio_neto;\n\t\t\tcopy_element_presentacion.precio_unidad.utilidad = utilidad;\n\t\t\tcopy_element_presentacion.precio_unidad.iva_precio = iva_precio;\n\t\t\tcopy_element_presentacion.precio_unidad.ieps_precio = ieps_precio;\n\t\t\t\n\t\t\tcopy_element_presentacion.precio = parseFloat(value);\n\t\t} else {\n\t\t\tif (!value) {\n\t\t\t\tcopy_element_presentacion.codigo_barras = '';\n\t\t\t\tcopy_presentaciones.splice(index, 1, copy_element_presentacion);\n\t\t\t\tsetPresentaciones(copy_presentaciones);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tcopy_element_presentacion.codigo_barras = value;\n\t\t}\n\t\tcopy_presentaciones.splice(index, 1, copy_element_presentacion);\n\t\tsetPresentaciones(copy_presentaciones);\n\t};\n\n\tconst GenCodigoBarras = () => {\n\t\tconst max = 999999999999;\n\t\tconst min = 100000000000;\n\t\tconst codigo_barras = Math.floor(Math.random() * (max - min + 1) + min).toString();\n\t\tcopy_element_presentacion.codigo_barras = codigo_barras;\n\t\tcopy_presentaciones.splice(index, 1, copy_element_presentacion);\n\t\tsetPresentaciones(copy_presentaciones);\n\t};\n\n\tconst actionButton = () => {\n\t\tif (!disabledInput) {\n\t\t\thandleEditCancel();\n\t\t\t/* quitar del array\t */\n\t\t\tonUpdate.splice(onUpdate.length - 1, 1);\n\t\t\tsetOnUpdate([ ...onUpdate ]);\n\t\t} else {\n\t\t\tsetDisabledInput(!disabledInput);\n\t\t\t/*  agregar al array */\n\t\t\tsetOnUpdate([ ...onUpdate, index ]);\n\t\t}\n\t};\n\n\treturn (\n\t\t<TableRow hover selected={!disabledInput} className={classes.tableRow}>\n\t\t\t<TableCell align=\"center\">\n\t\t\t\t<Checkbox checked={copy_producto.existencia} color=\"primary\" />\n\t\t\t</TableCell>\n\t\t\t<TableCell width={220}>\n\t\t\t\t<Box display=\"flex\">\n\t\t\t\t\t<Input\n\t\t\t\t\t\tinputRef={textfield}\n\t\t\t\t\t\tonChange={(e) => obtenerDatos(e)}\n\t\t\t\t\t\t/* disabled={disabledInput} */\n\t\t\t\t\t\tvalue={copy_producto.codigo_barras}\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\tname=\"precio\"\n\t\t\t\t\t\tdisabled={!copy_producto.nuevo ? true : disabledInput}\n\t\t\t\t\t/>\n\t\t\t\t\t{ copy_producto.nuevo ? (\n\t\t\t\t\t\t<IconButton color=\"primary\" size=\"small\" onClick={() => GenCodigoBarras()}>\n\t\t\t\t\t\t\t<Cached />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t) :  copy_producto.nuevo ? (\n\t\t\t\t\t\t<IconButton color=\"primary\" size=\"small\" onClick={() => GenCodigoBarras()}>\n\t\t\t\t\t\t\t<Cached />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t) : null}\n\t\t\t\t</Box>\n\t\t\t</TableCell>\n\t\t\t<TableCell width={200}>{copy_producto.nombre_comercial}</TableCell>\n\t\t\t<TableCell padding=\"checkbox\">\n\t\t\t\t{copy_producto.medida._id ? <Chip label={copy_producto.medida.talla} color=\"primary\" /> : ''}\n\t\t\t</TableCell>\n\t\t\t<TableCell padding=\"checkbox\">\n\t\t\t\t{copy_producto.color._id ? (\n\t\t\t\t\t<Tooltip title={copy_producto.color.nombre} placement=\"top\" arrow TransitionComponent={Zoom}>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName={classes.colorContainer}\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\tbackgroundColor: copy_producto.color.hex\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Tooltip>\n\t\t\t\t) : null}\n\t\t\t</TableCell>\n\t\t\t<TableCell width={110}>\n\t\t\t\t<Input\n\t\t\t\t\tinputRef={textfield}\n\t\t\t\t\tonChange={(e) => obtenerDatos(e)}\n\t\t\t\t\tdisabled={disabledInput}\n\t\t\t\t\tvalue={copy_producto.precio}\n\t\t\t\t\ttype=\"tel\"\n\t\t\t\t\tname=\"precio\"\n\t\t\t\t/>\n\t\t\t</TableCell>\n\t\t\t{from && from === 'compra' ? (\n\t\t\t\t<TableCell padding=\"checkbox\">\n\t\t\t\t{producto.cantidad}\n\t\t\t</TableCell>\n\t\t\t) : null}\n\t\t\t<TableCell padding=\"checkbox\">\n\t\t\t\t<Input\n\t\t\t\t\tinputRef={textfield}\n\t\t\t\t\tonChange={(e) => obtenerDatos(e)}\n\t\t\t\t\tdisabled={disabledInput}\n\t\t\t\t\tvalue={copy_producto.cantidad}\n\t\t\t\t\ttype=\"tel\"\n\t\t\t\t\tname=\"cantidad\"\n\t\t\t\t/>\n\t\t\t</TableCell>\n\t\t\t<TableCell padding=\"checkbox\">\n\t\t\t\t<IconButton size=\"small\" onClick={() => actionButton()}>\n\t\t\t\t\t{!disabledInput ? <Close /> : <Edit />}\n\t\t\t\t</IconButton>\n\t\t\t</TableCell>\n\t\t</TableRow>\n\t);\n};\n","import React, { useContext, useState,  useEffect, useCallback } from 'react';\nimport { Typography, Divider, Tooltip, } from '@material-ui/core';\nimport { Box,Grid } from '@material-ui/core';\nimport { makeStyles, useTheme } from '@material-ui/core';\nimport Zoom from '@material-ui/core/Zoom';\n\nimport { Done } from '@material-ui/icons';\nimport TablaPresentaciones from './TablaPresentaciones';\nimport { RegProductoContext } from '../../../../context/Catalogos/CtxRegProducto';\n// import { AlmacenProvider } from '../../../../context/Almacenes/crearAlmacen';\n// import ContainerRegistroAlmacen from '../../../sucursales/Almacenes/RegistroAlmacen/ContainerRegistroAlmacen';\nimport CrearColorProducto from '../../../sucursales/Catalogos/Producto/TallasColores/crearColor';\nimport CrearTallasProducto from '../../../sucursales/Catalogos/Producto/TallasColores/crearTalla';\n\nconst useStyles = makeStyles((theme) => ({\n\tcolorContainer: {\n\t\tborder: '1px solid rgba(0,0,0, .3)',\n\t\tdisplay: 'flex',\n\t\tjustifyContent: 'center',\n\t\talignItems: 'center',\n\t\theight: 50,\n\t\twidth: 50,\n\t\tmargin: 1,\n\t\tborderRadius: '15%',\n\t\tcursor: 'pointer'\n\t}\n}));\n\nconst GenCodigoBarras = () => {\n\treturn Math.floor(Math.random() * (999999999999 - 100000000000 + 1) + 100000000000).toString();\n};\n\nexport default function TallasColoresRapidos({ \n\tobtenerConsultasProducto, \n\trefetch, \n\tdatos, \n\tfrom\n}) {\n\tconst {\n\t\t// almacen_inicial,\n\t\t// setAlmacenInicial,\n\t\tpresentaciones,\n\t\tdatos_generales,\n\t} = useContext(RegProductoContext);\n\tconst { colores, tallas, calzados } = obtenerConsultasProducto;\n\tconst [ medidasSeleccionadas, setMedidasSeleccionadas ] = useState([]);\n\tconst [ coloresSeleccionados, setColoresSeleccionados ] = useState([]);\n\tconst medidas = datos_generales.tipo_producto === 'ROPA' ? [ ...tallas ] : [ ...calzados ];\n\tconst [ onUpdate, setOnUpdate ] = useState([]);\n\n\tconst obtenerColoresSeleccinados = useCallback(\n\t\t() => {\n\t\t\tlet colors = [];\n\t\t\tlet medidas = [];\n\t\t\tconst copy_presentaciones = [ ...presentaciones ];\n\n\t\t\tcopy_presentaciones.forEach((element) => {\n\t\t\t\tif (element.color._id) colors.push(element.color);\n\t\t\t\tif (element.medida._id) medidas.push(element.medida);\n\t\t\t});\n\n\t\t\tvar hashColor = {};\n\t\t\tvar hashMedida = {};\n\t\t\tconst colores_existentes = colors.filter((color) => {\n\t\t\t\tvar existColor = !hashColor[color._id];\n\t\t\t\thashColor[color._id] = true;\n\t\t\t\treturn existColor;\n\t\t\t});\n\t\t\tconst medidas_existentes = medidas.filter((medida) => {\n\t\t\t\tvar existMedida = !hashMedida[medida._id];\n\t\t\t\thashMedida[medida._id] = true;\n\t\t\t\treturn existMedida;\n\t\t\t});\n\n\t\t\tsetColoresSeleccionados([ ...colores_existentes ]);\n\t\t\tsetMedidasSeleccionadas([ ...medidas_existentes ]);\n\t\t},\n\t\t[ presentaciones ]\n\t);\n\n\t// const obtenerAlmacenes = (event, child) => {\n\t// \tsetAlmacenInicial({\n\t// \t\t...almacen_inicial,\n\t// \t\t[event.target.name]: event.target.value,\n\t// \t\t[child.props.name]: child.props.id\n\t// \t});\n\t// };\n\n\tuseEffect(\n\t\t() => {\n\t\t\tobtenerColoresSeleccinados();\n\t\t},\n\t\t[ obtenerColoresSeleccinados ]\n\t);\n\n\treturn (\n\t\t<div>\n\t\t\t<Grid container spacing={2}>\n\t\t\t\t<Grid item md={9}>\n\t\t\t\t\t<TablaPresentaciones from={from} setOnUpdate={setOnUpdate} onUpdate={onUpdate} />\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item md={3}>\n\t\t\t\t\t<Box\n\t\t\t\t\t\twidth=\"100%\"\n\t\t\t\t\t\tmy={2}\n\t\t\t\t\t\tstyle={\n\t\t\t\t\t\t\tonUpdate.length > 0 ? (\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tpointerEvents: 'none',\n\t\t\t\t\t\t\t\t\topacity: 0.4\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t) : null\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Typography>{datos_generales.tipo_producto === 'ROPA' ? 'Talla' : 'Nmero'}</Typography>\n\t\t\t\t\t\t<CrearTallasProducto setMedidasSeleccionadas={setMedidasSeleccionadas} refetch={refetch} />\n\t\t\t\t\t\t<Grid container>\n\t\t\t\t\t\t\t{medidas.map((talla, index) => (\n\t\t\t\t\t\t\t\t<RenderTallas\n\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\ttalla={talla}\n\t\t\t\t\t\t\t\t\tcoloresSeleccionados={coloresSeleccionados}\n\t\t\t\t\t\t\t\t\tmedidasSeleccionadas={medidasSeleccionadas}\n\t\t\t\t\t\t\t\t\tsetMedidasSeleccionadas={setMedidasSeleccionadas}\n\t\t\t\t\t\t\t\t\t// datos={datos}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Divider />\n\t\t\t\t\t<Box\n\t\t\t\t\t\twidth=\"100%\"\n\t\t\t\t\t\tmt={1}\n\t\t\t\t\t\tstyle={\n\t\t\t\t\t\t\tonUpdate.length > 0 ? (\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tpointerEvents: 'none',\n\t\t\t\t\t\t\t\t\topacity: 0.4\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t) : null\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Typography>Color</Typography>\n\t\t\t\t\t\t<CrearColorProducto refetch={refetch} />\n\t\t\t\t\t\t<Grid container>\n\t\t\t\t\t\t\t{colores.map((color, index) => (\n\t\t\t\t\t\t\t\t<Colores\n\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\tcolor={color}\n\t\t\t\t\t\t\t\t\tcoloresSeleccionados={coloresSeleccionados}\n\t\t\t\t\t\t\t\t\tsetColoresSeleccionados={setColoresSeleccionados}\n\t\t\t\t\t\t\t\t\tmedidasSeleccionadas={medidasSeleccionadas}\n\t\t\t\t\t\t\t\t\t// datos={datos}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Box>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t</div>\n\t);\n}\n\nconst RenderTallas = ({\n\ttalla,\n\tcoloresSeleccionados,\n\tmedidasSeleccionadas,\n\tsetMedidasSeleccionadas,\n\t// datos\n}) => {\n\tconst classes = useStyles();\n\tconst theme = useTheme();\n\tconst { \n\t\tsetPresentaciones, \n\t\tpresentaciones, \n\t\tdatos_generales, \n\t\tpreciosP, \n\t\tprecios,\n\t\tpresentaciones_eliminadas, \n\t\tsetPresentacionesEliminadas \n\t} = useContext(RegProductoContext);\n\tconst [ selected, setSelected ] = useState(false);\n\n\t// const seleccionarMedidas = useCallback(\n\t// \t() => {\n\t// \t\tmedidasSeleccionadas.forEach((res) => {\n\t// \t\t\tif (res._id === talla._id) setSelected(true);\n\t// \t\t});\n\t// \t},\n\t// \t[ talla._id, medidasSeleccionadas ]\n\t// );\n\n\t// useEffect(\n\t// \t() => {\n\t// \t\tif (datos.medidas_registradas) {\n\t// \t\t\treturn seleccionarMedidas();\n\t// \t\t}\n\t// \t},\n\t// \t[ seleccionarMedidas ]\n\t// );\n\n\n\tconst handleAddTallas = (value) => {\n\t\tconst medidas_seleccionadas_temp = [ ...medidasSeleccionadas ];\n\n\t\tif (!selected) {\n\t\t\tmedidas_seleccionadas_temp.push(talla);\n\t\t\tsetSelected(value);\n\t\t} else {\n\t\t\tmedidas_seleccionadas_temp.forEach((res, index) => {\n\t\t\t\tif (res._id === talla._id) {\n\t\t\t\t\tmedidas_seleccionadas_temp.splice(index, 1);\n\t\t\t\t\tsetSelected(value);\n\t\t\t\t\tpresentaciones.forEach((presentacion) => {\n\t\t\t\t\t\tif(!presentacion.nuevo){\n\t\t\t\t\t\t\tif(presentacion.medida._id === res._id){\n\t\t\t\t\t\t\t\tsetPresentacionesEliminadas([...presentaciones_eliminadas, presentacion])\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t}\n\n\t\tlet presentacion_temp = [];\n\t\tconst array_medidad_finales = [ ...presentaciones ];\n\t\tconst { iva, ieps } = precios;\n\n\t\tif (!coloresSeleccionados.length && !array_medidad_finales.length) {\n\t\t\t/* SI NO HAY COLORES NI VALORES EN EL ARRAY FINAL SE AGREGA EL PRIMER ELEMENTO */\n\t\t\tfor (let i = 0; i < medidas_seleccionadas_temp.length; i++) {\n\t\t\t\tconst producto_medida = medidas_seleccionadas_temp[i];\n\t\t\t\tlet varIVA = (iva < 10 ? `0${iva}` : iva);\n\t\t\t\tlet varIEPS = (ieps < 10 ? `0${ieps}` : ieps);\n\t\t\t\tlet iva_precio = parseFloat(\n\t\t\t\t\t(\n\t\t\t\t\t  preciosP[0].precio_venta *\n\t\t\t\t\t  parseFloat(`0.${varIVA}`)\n\t\t\t\t\t).toFixed(2)\n\t\t\t\t  );\n\t\t\t\t  let ieps_precio = parseFloat(\n\t\t\t\t\t(\n\t\t\t\t\t  preciosP[0].precio_venta *\n\t\t\t\t\t  parseFloat(`0.${varIEPS}`)\n\t\t\t\t\t).toFixed(2)\n\t\t\t\t  );\n\t\t\t\tpresentacion_temp.push({\n\t\t\t\t\t_id: '',\n\t\t\t\t\texistencia: false,\n\t\t\t\t\tcodigo_barras: GenCodigoBarras(),\n\t\t\t\t\tnombre_comercial: datos_generales.nombre_comercial,\n\t\t\t\t\tmedida: producto_medida,\n\t\t\t\t\tcolor: { nombre: '', hex: '' },\n\t\t\t\t\tprecio: preciosP[0].precio_neto,\n\t\t\t\t\tcantidad: 0,\n\t\t\t\t\tnuevo: true,\n\t\t\t\t\tprecio_unidad: {\n\t\t\t\t\t\tnumero_precio: 1,\n\t\t\t\t\t\tprecio_venta: preciosP[0].precio_venta,\n\t\t\t\t\t\tprecio_neto: preciosP[0].precio_neto,\n\t\t\t\t\t\tunidad_mayoreo: 0,\n\t\t\t\t\t\tiva_precio: iva_precio,\n\t\t\t\t\t\tieps_precio: ieps_precio,\n\t\t\t\t\t\tutilidad: preciosP[0].utilidad,\n\t\t\t\t\t\tunidad_maxima: false,\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t}\n\t\t} else if (!coloresSeleccionados.length && array_medidad_finales.length > 0) {\n\t\t\t/* SI NO HAY COLORES REGISTRADOS PERO YA HAY TALLAS SE AGREGAN MAS */\n\t\t\tfor (let i = 0; i < medidas_seleccionadas_temp.length; i++) {\n\t\t\t\tconst producto_medida = medidas_seleccionadas_temp[i];\n\t\t\t\tconst result = array_medidad_finales.filter((res) => res.medida._id === producto_medida._id);\n\t\t\t\tlet varIVA = (iva < 10 ? `0${iva}` : iva);\n\t\t\t\tlet varIEPS = (ieps < 10 ? `0${ieps}` : ieps);\n\n\t\t\t\tlet iva_precio = parseFloat(\n\t\t\t\t\t(\n\t\t\t\t\t  preciosP[0].precio_venta *\n\t\t\t\t\t  parseFloat(`0.${varIVA}`)\n\t\t\t\t\t).toFixed(2)\n\t\t\t\t  );\n\t\t\t\t  let ieps_precio = parseFloat(\n\t\t\t\t\t(\n\t\t\t\t\t  preciosP[0].precio_venta *\n\t\t\t\t\t  parseFloat(`0.${varIEPS}`)\n\t\t\t\t\t).toFixed(2)\n\t\t\t\t  );\n\t\t\t\tif (result.length) {\n\t\t\t\t\tpresentacion_temp.push(result[0]);\n\t\t\t\t} else {\n\t\t\t\t\tpresentacion_temp.push({\n\t\t\t\t\t\t_id: '',\n\t\t\t\t\t\texistencia: false,\n\t\t\t\t\t\tcodigo_barras: GenCodigoBarras(),\n\t\t\t\t\t\tnombre_comercial: datos_generales.nombre_comercial,\n\t\t\t\t\t\tmedida: producto_medida,\n\t\t\t\t\t\tcolor: { nombre: '', hex: '' },\n\t\t\t\t\t\tprecio: preciosP[0].precio_neto,\n\t\t\t\t\t\tcantidad: 0,\n\t\t\t\t\t\tnuevo: true,\n\t\t\t\t\t\tprecio_unidad: {\n\t\t\t\t\t\t\tnumero_precio: 1,\n\t\t\t\t\t\t\tprecio_venta: preciosP[0].precio_venta,\n\t\t\t\t\t\t\tprecio_neto: preciosP[0].precio_neto,\n\t\t\t\t\t\t\tunidad_mayoreo: 0,\n\t\t\t\t\t\t\tiva_precio: iva_precio,\n\t\t\t\t\t\t\tieps_precio: ieps_precio,\n\t\t\t\t\t\t\tutilidad: preciosP[0].utilidad,\n\t\t\t\t\t\t\tunidad_maxima: false,\n\t\t\t\t\t\t},\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (coloresSeleccionados.length > 0 && medidas_seleccionadas_temp.length === 1 && value) {\n\t\t\t/* SI HAY COLORES SE LE AGREGA TALLA POR PRIMERA VEZ */\n\t\t\tfor (let i = 0; i < array_medidad_finales.length; i++) {\n\t\t\t\tfor (let k = 0; k < medidas_seleccionadas_temp.length; k++) {\n\t\t\t\t\tpresentacion_temp.push({\n\t\t\t\t\t\t_id: '',\n\t\t\t\t\t\texistencia: array_medidad_finales[i].existencia,\n\t\t\t\t\t\tcodigo_barras: array_medidad_finales[i].codigo_barras,\n\t\t\t\t\t\tnombre_comercial: array_medidad_finales[i].nombre_comercial,\n\t\t\t\t\t\tmedida: medidas_seleccionadas_temp[k],\n\t\t\t\t\t\tcolor: array_medidad_finales[i].color,\n\t\t\t\t\t\tprecio: array_medidad_finales[i].precio,\n\t\t\t\t\t\tcantidad: array_medidad_finales[i].cantidad,\n\t\t\t\t\t\tnuevo: true,\n\t\t\t\t\t\tprecio_unidad: array_medidad_finales[i].precio_unidad,\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (coloresSeleccionados.length > 0 && medidas_seleccionadas_temp.length > 0) {\n\t\t\t/* YA HAY COLORES Y MEDIDAS EN LAS PRESENTACIONES, SE AGREGAN NORMAL */\n\t\t\tfor (let i = 0; i < medidas_seleccionadas_temp.length; i++) {\n\t\t\t\tconst producto_medida = medidas_seleccionadas_temp[i];\n\t\t\t\tfor (let k = 0; k < coloresSeleccionados.length; k++) {\n\t\t\t\t\tconst producto_color = coloresSeleccionados[k];\n\t\t\t\t\tconst presentacion_existente = array_medidad_finales.filter(\n\t\t\t\t\t\t(producto_array_final) =>\n\t\t\t\t\t\t\tproducto_array_final.medida._id === producto_medida._id &&\n\t\t\t\t\t\t\tproducto_color._id === producto_array_final.color._id\n\t\t\t\t\t);\n\t\t\t\t\tlet varIVA = (iva < 10 ? `0${iva}` : iva);\n\t\t\t\t\tlet varIEPS = (ieps < 10 ? `0${ieps}` : ieps);\n\t\t\t\t\tlet iva_precio = parseFloat(\n\t\t\t\t\t\t(\n\t\t\t\t\t\t  preciosP[0].precio_venta *\n\t\t\t\t\t\t  parseFloat(`0.${varIVA}`)\n\t\t\t\t\t\t).toFixed(2)\n\t\t\t\t\t  );\n\t\t\t\t\t  let ieps_precio = parseFloat(\n\t\t\t\t\t\t(\n\t\t\t\t\t\t  preciosP[0].precio_venta *\n\t\t\t\t\t\t  parseFloat(`0.${varIEPS}`)\n\t\t\t\t\t\t).toFixed(2)\n\t\t\t\t\t  );\n\t\t\t\t\tif (!presentacion_existente.length) {\n\t\t\t\t\t\tpresentacion_temp.push({\n\t\t\t\t\t\t\t_id: '',\n\t\t\t\t\t\t\texistencia: false,\n\t\t\t\t\t\t\tcodigo_barras: GenCodigoBarras(),\n\t\t\t\t\t\t\tnombre_comercial: datos_generales.nombre_comercial,\n\t\t\t\t\t\t\tmedida: producto_medida,\n\t\t\t\t\t\t\tcolor: producto_color,\n\t\t\t\t\t\t\tprecio: preciosP[0].precio_neto,\n\t\t\t\t\t\t\tcantidad: 0,\n\t\t\t\t\t\t\tnuevo: true,\n\t\t\t\t\t\t\tprecio_unidad: {\n\t\t\t\t\t\t\t\tnumero_precio: 1,\n\t\t\t\t\t\t\t\tprecio_venta: preciosP[0].precio_venta,\n\t\t\t\t\t\t\t\tprecio_neto: preciosP[0].precio_neto,\n\t\t\t\t\t\t\t\tunidad_mayoreo: 0,\n\t\t\t\t\t\t\t\tiva_precio: iva_precio,\n\t\t\t\t\t\t\t\tieps_precio: ieps_precio,\n\t\t\t\t\t\t\t\tutilidad: preciosP[0].utilidad,\n\t\t\t\t\t\t\t\tunidad_maxima: false,\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tpresentacion_temp.push(presentacion_existente[0]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (coloresSeleccionados.length > 0 && !medidas_seleccionadas_temp.length) {\n\t\t\t/* SI NO HAY TALLAS SE VUELVE A LISTAR LOS COLORES QUE YA ESTABAN EN PRESENTACIONES */\n\t\t\tconst presentaciones_existentes = array_medidad_finales.filter((producto) => producto.medida._id);\n\t\t\tif (presentaciones_existentes.length) {\n\t\t\t\tfor (let x = 0; x < array_medidad_finales.length; x++) {\n\t\t\t\t\tconst objeto_presentaciones_final = array_medidad_finales[x];\n\t\t\t\t\tpresentacion_temp.push({\n\t\t\t\t\t\t_id: objeto_presentaciones_final._id,\n\t\t\t\t\t\texistencia: objeto_presentaciones_final.existencia,\n\t\t\t\t\t\tcodigo_barras: objeto_presentaciones_final.codigo_barras,\n\t\t\t\t\t\tnombre_comercial: objeto_presentaciones_final.nombre_comercial,\n\t\t\t\t\t\tmedida: {},\n\t\t\t\t\t\tcolor: objeto_presentaciones_final.color,\n\t\t\t\t\t\tprecio: objeto_presentaciones_final.precio,\n\t\t\t\t\t\tcantidad: objeto_presentaciones_final.cantidad,\n\t\t\t\t\t\tnuevo: true,\n\t\t\t\t\t\tprecio_unidad: objeto_presentaciones_final.precio_unidad,\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tsetMedidasSeleccionadas([ ...medidas_seleccionadas_temp ]);\n\t\tsetPresentaciones(presentacion_temp);\n\t};\n\n\treturn (\n\t\t<Grid item>\n\t\t\t<div\n\t\t\t\tclassName={classes.colorContainer}\n\t\t\t\tonClick={() => handleAddTallas(!selected)}\n\t\t\t\tstyle={\n\t\t\t\t\tselected ? (\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tbackgroundColor: theme.palette.primary.main\n\t\t\t\t\t\t}\n\t\t\t\t\t) : null\n\t\t\t\t}\n\t\t\t>\n\t\t\t\t<Typography\n\t\t\t\t\tvariant=\"button\"\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tcolor: theme.palette.getContrastText(selected ? theme.palette.primary.main : '#FFFFFF'),\n\t\t\t\t\t\tfontSize: 16\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{talla.talla}\n\t\t\t\t</Typography>\n\t\t\t</div>\n\t\t</Grid>\n\t);\n};\n\nconst Colores = ({ \n\tcolor, \n\tcoloresSeleccionados, \n\tsetColoresSeleccionados, \n\tmedidasSeleccionadas, \n\tdatos \n}) => {\n\tconst classes = useStyles();\n\tconst theme = useTheme();\n\tconst { \n\t\tpresentaciones, \n\t\tsetPresentaciones, \n\t\tdatos_generales, \n\t\tpreciosP, \n\t\tprecios,\n\t\tpresentaciones_eliminadas, \n\t\tsetPresentacionesEliminadas \n\t} = useContext(RegProductoContext);\n\n\tconst [ selected, setSelected ] = useState(false);\n\n\t// const seleccionarColores = useCallback(\n\t// \t() => {\n\t// \t\tcoloresSeleccionados.forEach((res) => {\n\t// \t\t\tif (res._id === color._id) setSelected(true);\n\t// \t\t});\n\t// \t},\n\t// \t[ color._id, coloresSeleccionados ]\n\t// );\n\n\t// useEffect(\n\t// \t() => {\n\t// \t\tif (datos.medidas_registradas) {\n\t// \t\t\treturn seleccionarColores();\n\t// \t\t}\n\t// \t},\n\t// \t[ seleccionarColores ]\n\t// );\n\n\tconst obtenerColores = (value) => {\n\t\tif (!selected) {\n\t\t\tcoloresSeleccionados.push(color);\n\t\t\tsetSelected(value);\n\t\t} else {\n\t\t\tcoloresSeleccionados.forEach((res, index) => {\n\t\t\t\tif (res._id === color._id) {\n\t\t\t\t\tcoloresSeleccionados.splice(index, 1);\n\t\t\t\t\tsetSelected(value);\n\t\t\t\t\tpresentaciones.forEach((presentacion) => {\n\t\t\t\t\t\tif(!presentacion.nuevo){\n\t\t\t\t\t\t\tif(presentacion.color._id === res._id){\n\t\t\t\t\t\t\t\tsetPresentacionesEliminadas([...presentaciones_eliminadas, presentacion])\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\tlet presentacion_temp = [];\n\t\tconst array_medidad_finales = [ ...presentaciones ];\n\t\tconst { iva, ieps } = precios;\n\n\t\tif (!medidasSeleccionadas.length && !array_medidad_finales.length) {\n\t\t\t/* SI NO HAY COLORES NI VALORES EN EL ARRAY FINAL SE AGREGA EL PRIMER ELEMENTO */\n\t\t\tfor (let i = 0; i < coloresSeleccionados.length; i++) {\n\t\t\t\tconst producto_color = coloresSeleccionados[i];\n\t\t\t\tlet varIVA = (iva < 10 ? `0${iva}` : iva);\n\t\t\t\tlet varIEPS = (ieps < 10 ? `0${ieps}` : ieps);\n\t\t\t\tlet iva_precio = parseFloat(\n\t\t\t\t\t(\n\t\t\t\t\t  preciosP[0].precio_venta *\n\t\t\t\t\t  parseFloat(`0.${varIVA}`)\n\t\t\t\t\t).toFixed(2)\n\t\t\t\t);\n\t\t\t\tlet ieps_precio = parseFloat(\n\t\t\t\t\t(\n\t\t\t\t\t\tpreciosP[0].precio_venta *\n\t\t\t\t\t\tparseFloat(`0.${varIEPS}`)\n\t\t\t\t\t).toFixed(2)\n\t\t\t\t);\n\t\t\t\tpresentacion_temp.push({\n\t\t\t\t\t_id: '',\n\t\t\t\t\texistencia: false,\n\t\t\t\t\tcodigo_barras: GenCodigoBarras(),\n\t\t\t\t\tnombre_comercial: datos_generales.nombre_comercial,\n\t\t\t\t\tmedida: {},\n\t\t\t\t\tcolor: producto_color,\n\t\t\t\t\tprecio: preciosP[0].precio_neto,\n\t\t\t\t\tcantidad: 0,\n\t\t\t\t\tnuevo: true,\n\t\t\t\t\tprecio_unidad: {\n\t\t\t\t\t\tnumero_precio: 1,\n\t\t\t\t\t\tprecio_venta: preciosP[0].precio_venta,\n\t\t\t\t\t\tprecio_neto: preciosP[0].precio_neto,\n\t\t\t\t\t\tunidad_mayoreo: 0,\n\t\t\t\t\t\tiva_precio: iva_precio,\n\t\t\t\t\t\tieps_precio: ieps_precio,\n\t\t\t\t\t\tutilidad: preciosP[0].utilidad,\n\t\t\t\t\t\tunidad_maxima: false,\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t}\n\t\t} else if (!medidasSeleccionadas.length && array_medidad_finales.length > 0) {\n\t\t\t/* SI YA HAY COLORES REGISTRADOS SE AGREGAN MAS */\n\t\t\tfor (let i = 0; i < coloresSeleccionados.length; i++) {\n\t\t\t\tconst producto_color = coloresSeleccionados[i];\n\t\t\t\tconst result = array_medidad_finales.filter((res) => res.color._id === producto_color._id);\n\t\t\t\tlet varIVA = (iva < 10 ? `0${iva}` : iva);\n\t\t\t\tlet varIEPS = (ieps < 10 ? `0${ieps}` : ieps);\n\t\t\t\tlet iva_precio = parseFloat(\n\t\t\t\t\t(\n\t\t\t\t\t  preciosP[0].precio_venta *\n\t\t\t\t\t  parseFloat(`0.${varIVA}`)\n\t\t\t\t\t).toFixed(2)\n\t\t\t\t  );\n\t\t\t\tlet ieps_precio = parseFloat(\n\t\t\t\t\t(\n\t\t\t\t\t  preciosP[0].precio_venta *\n\t\t\t\t\t  parseFloat(`0.${varIEPS}`)\n\t\t\t\t\t).toFixed(2)\n\t\t\t\t);\n\t\t\t\tif (result.length) {\n\t\t\t\t\tpresentacion_temp.push(result[0]);\n\t\t\t\t} else {\n\t\t\t\t\tpresentacion_temp.push({\n\t\t\t\t\t\t_id: '',\n\t\t\t\t\t\texistencia: false,\n\t\t\t\t\t\tcodigo_barras: GenCodigoBarras(),\n\t\t\t\t\t\tnombre_comercial: datos_generales.nombre_comercial,\n\t\t\t\t\t\tmedida: {},\n\t\t\t\t\t\tcolor: producto_color,\n\t\t\t\t\t\tprecio: preciosP[0].precio_neto,\n\t\t\t\t\t\tcantidad: 0,\n\t\t\t\t\t\tnuevo: true,\n\t\t\t\t\t\tprecio_unidad: {\n\t\t\t\t\t\t\tnumero_precio: 1,\n\t\t\t\t\t\t\tprecio_venta: preciosP[0].precio_venta,\n\t\t\t\t\t\t\tprecio_neto: preciosP[0].precio_neto,\n\t\t\t\t\t\t\tunidad_mayoreo: 0,\n\t\t\t\t\t\t\tiva_precio: iva_precio,\n\t\t\t\t\t\t\tieps_precio: ieps_precio,\n\t\t\t\t\t\t\tutilidad: preciosP[0].utilidad,\n\t\t\t\t\t\t\tunidad_maxima: false,\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (medidasSeleccionadas.length > 0 && coloresSeleccionados.length === 1 && value) {\n\t\t\t/* SI YA HAY TALLAS SE LE AGREGA EL COLOR POR PRIMERA VEZ */\n\t\t\tfor (let i = 0; i < array_medidad_finales.length; i++) {\n\t\t\t\tfor (let k = 0; k < coloresSeleccionados.length; k++) {\n\t\t\t\t\tpresentacion_temp.push({\n\t\t\t\t\t\t_id: '',\n\t\t\t\t\t\texistencia: array_medidad_finales[i].existencia,\n\t\t\t\t\t\tcodigo_barras: array_medidad_finales[i].codigo_barras,\n\t\t\t\t\t\tnombre_comercial: array_medidad_finales[i].nombre_comercial,\n\t\t\t\t\t\tmedida: array_medidad_finales[i].medida,\n\t\t\t\t\t\tcolor: coloresSeleccionados[k],\n\t\t\t\t\t\tprecio: array_medidad_finales[i].precio,\n\t\t\t\t\t\tcantidad: array_medidad_finales[i].cantidad,\n\t\t\t\t\t\tnuevo: true,\n\t\t\t\t\t\tprecio_unidad: array_medidad_finales[i].precio_unidad\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (medidasSeleccionadas.length > 0 && coloresSeleccionados.length > 0) {\n\t\t\t/* YA HAY TALLAS Y MEIDAS EN LAS PRESENTACIONES, SE REGISTRAN NORMAL */\n\t\t\tfor (let i = 0; i < coloresSeleccionados.length; i++) {\n\t\t\t\tconst producto_color = coloresSeleccionados[i];\n\t\t\t\tfor (let k = 0; k < medidasSeleccionadas.length; k++) {\n\t\t\t\t\tconst producto_medida = medidasSeleccionadas[k];\n\t\t\t\t\tconst presentacion_existente = array_medidad_finales.filter(\n\t\t\t\t\t\t(producto_array_final) =>\n\t\t\t\t\t\t\tproducto_array_final.medida._id === producto_medida._id &&\n\t\t\t\t\t\t\tproducto_color._id === producto_array_final.color._id\n\t\t\t\t\t);\n\t\t\t\t\tlet varIVA = (iva < 10 ? `0${iva}` : iva);\n\t\t\t\t\tlet varIEPS = (ieps < 10 ? `0${ieps}` : ieps);\n\t\t\t\t\tlet iva_precio = parseFloat(\n\t\t\t\t\t\t(\n\t\t\t\t\t\t  preciosP[0].precio_venta *\n\t\t\t\t\t\t  parseFloat(`0.${varIVA}`)\n\t\t\t\t\t\t).toFixed(2)\n\t\t\t\t\t  );\n\t\t\t\t\tlet ieps_precio = parseFloat(\n\t\t\t\t\t\t(\n\t\t\t\t\t\t\tpreciosP[0].precio_venta *\n\t\t\t\t\t\t\tparseFloat(`0.${varIEPS}`)\n\t\t\t\t\t\t).toFixed(2)\n\t\t\t\t\t);\n\t\t\t\t\tif (!presentacion_existente.length) {\n\t\t\t\t\t\tpresentacion_temp.push({\n\t\t\t\t\t\t\t_id: '',\n\t\t\t\t\t\t\texistencia: false,\n\t\t\t\t\t\t\tcodigo_barras: GenCodigoBarras(),\n\t\t\t\t\t\t\tnombre_comercial: datos_generales.nombre_comercial,\n\t\t\t\t\t\t\tmedida: producto_medida,\n\t\t\t\t\t\t\tcolor: producto_color,\n\t\t\t\t\t\t\tprecio: preciosP[0].precio_neto,\n\t\t\t\t\t\t\tcantidad: 0,\n\t\t\t\t\t\t\tnuevo: true,\n\t\t\t\t\t\t\tprecio_unidad: {\n\t\t\t\t\t\t\t\tnumero_precio: 1,\n\t\t\t\t\t\t\t\tprecio_venta: preciosP[0].precio_venta,\n\t\t\t\t\t\t\t\tprecio_neto: preciosP[0].precio_neto,\n\t\t\t\t\t\t\t\tunidad_mayoreo: 0,\n\t\t\t\t\t\t\t\tiva_precio: iva_precio,\n\t\t\t\t\t\t\t\tieps_precio: ieps_precio,\n\t\t\t\t\t\t\t\tutilidad: preciosP[0].utilidad,\n\t\t\t\t\t\t\t\tunidad_maxima: false,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tpresentacion_temp.push(presentacion_existente[0]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (medidasSeleccionadas.length > 0 && !coloresSeleccionados.length) {\n\t\t\t/* SI NO HAY COLORES SE VUELVE A LISTAR LAS TALLAS QUE YA ESTABAN EN PRESENTACIONES */\n\t\t\tconst presentaciones_existentes = array_medidad_finales.filter((producto) => producto.color._id);\n\t\t\tif (presentaciones_existentes.length) {\n\t\t\t\tfor (let x = 0; x < array_medidad_finales.length; x++) {\n\t\t\t\t\tconst objeto_presentaciones_final = array_medidad_finales[x];\n\t\t\t\t\tpresentacion_temp.push({\n\t\t\t\t\t\t_id: objeto_presentaciones_final._id,\n\t\t\t\t\t\texistencia: objeto_presentaciones_final.existencia,\n\t\t\t\t\t\tcodigo_barras: objeto_presentaciones_final.codigo_barras,\n\t\t\t\t\t\tnombre_comercial: objeto_presentaciones_final.nombre_comercial,\n\t\t\t\t\t\tmedida: objeto_presentaciones_final.medida,\n\t\t\t\t\t\tcolor: { nombre: '', hex: '' },\n\t\t\t\t\t\tprecio: objeto_presentaciones_final.precio,\n\t\t\t\t\t\tcantidad: objeto_presentaciones_final.cantidad,\n\t\t\t\t\t\tnuevo: true,\n\t\t\t\t\t\tprecio_unidad: objeto_presentaciones_final.precio_unidad,\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tsetColoresSeleccionados([ ...coloresSeleccionados ]);\n\t\tsetPresentaciones(presentacion_temp);\n\t};\n\n\treturn (\n\t\t<Grid item>\n\t\t\t<Tooltip title={color.nombre} placement=\"top\" arrow TransitionComponent={Zoom}>\n\t\t\t\t<div\n\t\t\t\t\tclassName={classes.colorContainer}\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tbackgroundColor: color.hex,\n\t\t\t\t\t\tcolor: theme.palette.getContrastText(color.hex)\n\t\t\t\t\t}}\n\t\t\t\t\tonClick={() => obtenerColores(!selected)}\n\t\t\t\t>\n\t\t\t\t\t{selected ? <Done /> : null}\n\t\t\t\t</div>\n\t\t\t</Tooltip>\n\t\t</Grid>\n\t);\n};\n","import React, { Fragment, useContext, useState } from \"react\";\nimport {\n  Box,\n  Button,\n  Dialog,\n  DialogActions,\n  makeStyles,\n  Slide,\n  TextField,\n  Typography,\n} from \"@material-ui/core\";\nimport { VentasContext } from \"../../context/Ventas/ventasContext\";\nimport { useApolloClient } from  \"@apollo/client\";\nimport { LOGEAR_USUARIO_ACCESOS } from \"../../gql/Catalogos/usuarios\";\nimport BackdropComponent from \"../Layouts/BackDrop\";\nimport { AccesosContext } from \"../../context/Accesos/accesosCtx\";\nimport CloseIcon from '@material-ui/icons/Close';\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nconst useStyles = makeStyles((theme) => ({\n  formInputFlex: {\n    display: \"flex\",\n    \"& > *\": {\n      margin: `${theme.spacing(1)}px ${theme.spacing(0.5)}px`,\n    },\n    \"& .obligatorio\": {\n      color: \"red\",\n    },\n    paddingTop: 0,\n    alignItems: \"center\",\n    justifyItems: \"center\",\n  },\n}));\n\nexport default function Acceso() {\n  const classes = useStyles();\n  const client = useApolloClient();\n\n  const { setAlert } = useContext(VentasContext);\n\n  const {\n    departamentos,\n    abrirPanelAcceso,\n    setAbrirPanelAcceso,\n    setReloadProductoRapido,\n    setReloadAdministrador,\n    setReloadCancelarVenta,\n    setReloadVerPrecios,\n    setReloadVerPreCorte,\n    setReloadEliminarVentaEspera,\n    setReloadCrearCotizacion,\n  } = useContext(AccesosContext);\n\n  const [datosUser, setDatosUser] = useState([]);\n  const [loading, setLoading] = useState(false);\n\n  const handleClickClose = async () => {\n    setDatosUser([]);\n    setAbrirPanelAcceso(false);\n  };\n\n  const obtenerDatos = (e) => {\n    setDatosUser({ ...datosUser, [e.target.name]: e.target.value });\n  };\n\n  const input = {\n    numero_usuario: parseInt(datosUser.numero_usuario),\n    password: datosUser.password,\n    departamento: departamentos.departamento,\n    subDepartamento: departamentos.subDepartamento,\n    tipo_acceso: departamentos.tipo_acceso,\n  };\n\n  const obtenerQuery = async () => {\n    try {\n      setLoading(true);\n      const response = await client.query({\n        query: LOGEAR_USUARIO_ACCESOS,\n        variables: { input },\n        fetchPolicy: \"network-only\",\n      });\n      if (response.data.obtenerAccesoPermiso.permiso_concedido === true) {\n        SwitchPermisos(response.data.obtenerAccesoPermiso.subDepartamento);\n        setAbrirPanelAcceso(false);\n        setLoading(false);\n        setAlert({\n          message: \"Permiso Autorizado\",\n          status: \"success\",\n          open: true,\n        });\n        setDatosUser([]);\n      }\n    } catch (error) {\n      setLoading(false);\n    }\n  };\n\n  const SwitchPermisos = (subDepartamento) => {\n    switch (subDepartamento) {\n      case \"administrador\":\n        setReloadAdministrador(true);\n        break;\n      case \"producto_rapido\":\n        setReloadProductoRapido(true);\n        break;\n      case \"cancelar_venta\":\n        setReloadCancelarVenta(true);\n        break;\n      case \"precios_productos\":\n        setReloadVerPrecios(true);\n        break;\n      case \"pre_corte\":\n        setReloadVerPreCorte(true);\n        break;\n      case \"cotizaciones\":\n        setReloadCrearCotizacion(true);\n        break;\n      case \"eliminar_ventas\":\n        setReloadEliminarVentaEspera(true);\n        break;\n      default:\n        setAlert({\n            message: \"Permiso no autorizado\",\n            status: \"error\",\n            open: true,\n        });\n        break;\n    }\n  };\n\n  return (\n    <Fragment>\n      <Dialog\n        maxWidth=\"xs\"\n        open={abrirPanelAcceso}\n        onClose={handleClickClose}\n        TransitionComponent={Transition}\n      >\n        <BackdropComponent loading={loading} />\n        <Box p={3}>\n          <Box display='flex' p={1}>\n            <Box flexGrow={1}>\n              <Typography>\n                <b>Por favor autoriza con tu usuario y contrasea</b>\n              </Typography>\n            </Box>\n            <Box >\n                <Button variant=\"contained\" color=\"secondary\" onClick={() => handleClickClose()} size=\"medium\">\n                    <CloseIcon />\n                </Button>\n            </Box>\n          </Box>\n          <div className={classes.formInputFlex}>\n            <Box width=\"100%\">\n              <Typography>\n                <b>Numero Usuario:</b>\n              </Typography>\n              <Box display=\"flex\">\n                <TextField\n                  fullWidth\n                  name=\"numero_usuario\"\n                  size=\"small\"\n                  variant=\"outlined\"\n                  onChange={obtenerDatos}\n                />\n              </Box>\n            </Box>\n          </div>\n          <div className={classes.formInputFlex}>\n            <Box width=\"100%\">\n              <Typography>\n                <b>Contrasena:</b>\n              </Typography>\n              <Box display=\"flex\">\n                <TextField\n                  fullWidth\n                  size=\"small\"\n                  type=\"password\"\n                  name=\"password\"\n                  variant=\"outlined\"\n                  onChange={obtenerDatos}\n                />\n              </Box>\n            </Box>\n          </div>\n        </Box>\n        <DialogActions>\n          <Button\n            color=\"primary\"\n            size=\"medium\"\n            variant=\"contained\"\n            onClick={() => obtenerQuery()}\n          >\n            Guardar\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </Fragment>\n  );\n}\n","import React, { useContext, useEffect, useState } from \"react\";\nimport {\n  AppBar,\n  Backdrop,\n  Badge,\n  Box,\n  Button,\n  CircularProgress,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  makeStyles,\n  Slide,\n  Tab,\n  Tabs,\n  Typography,\n} from \"@material-ui/core\";\nimport PropTypes from \"prop-types\";\nimport RegistroInfoAdidional from \"../../sucursales/Catalogos/Producto/PreciosVenta/registrarInfoAdicional\";\nimport RegistroInformacionRapido from \"./RegistroInformacionRapido\";\nimport { NavigateBefore, NavigateNext } from \"@material-ui/icons\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport DoneIcon from \"@material-ui/icons/Done\";\nimport {\n  initial_state_datos_generales,\n  initial_state_precios,\n  initial_state_preciosP,\n  initial_state_unidadVentaXDefecto,\n  initial_state_presentaciones,\n  initial_state_unidadVentaSecundaria,\n} from \"../../../context/Catalogos/initialStatesProducto\";\nimport { cleanTypenames } from \"../../../config/reuserFunctions\";\nimport TallasColoresRapidos from \"./TallasColoresRapidos/TallasColoresRapidos\";\nimport { RegProductoContext } from \"../../../context/Catalogos/CtxRegProducto\";\nimport { useMutation, useQuery } from \"@apollo/client\";\nimport {\n  CREAR_PRODUCTO_RAPIDO,\n  OBTENER_CONSULTAS,\n} from \"../../../gql/Catalogos/productos\";\nimport { VentasContext } from \"../../../context/Ventas/ventasContext\";\nimport Acceso from \"../../../components/AccesosPassword/Acceso\";\nimport { AccesosContext } from \"../../../context/Accesos/accesosCtx\";\n\nfunction TabPanel(props) {\n  const { children, value, index, ...other } = props;\n\n  return (\n    <div\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`tabpanel-reg-product-${index}`}\n      aria-labelledby={`reg-product-tab-${index}`}\n      {...other}\n    >\n      {value === index && (\n        <Box p={3} height=\"70vh\">\n          {children}\n        </Box>\n      )}\n    </div>\n  );\n}\n\nTabPanel.propTypes = {\n  children: PropTypes.node,\n  index: PropTypes.any.isRequired,\n  value: PropTypes.any.isRequired,\n};\n\nfunction a11yProps(index) {\n  return {\n    id: `reg-product-tab-${index}`,\n    \"aria-controls\": `tabpanel-reg-product-${index}`,\n  };\n}\n\nconst useStyles = makeStyles((theme) => ({\n  formInputFlex: {\n    display: \"flex\",\n    \"& > *\": {\n      margin: `${theme.spacing(1)}px ${theme.spacing(2)}px`,\n    },\n  },\n  iconSizeDialogs: {\n    width: 80,\n  },\n  formInput: {\n    margin: `${theme.spacing(1)}px ${theme.spacing(2)}px`,\n  },\n  root: {\n    flexGrow: 1,\n    width: \"100%\",\n    backgroundColor: theme.palette.background.paper,\n  },\n  iconSvg: {\n    width: 50,\n  },\n  dialogContent: {\n    padding: 0,\n  },\n  backdrop: {\n    zIndex: theme.zIndex.drawer + 1,\n    color: \"#fff\",\n  },\n  iconSizeSecondSuperior: {\n    width: 20,\n  },\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function ArticuloRapido() {\n  const classes = useStyles();\n  const [value, setValue] = useState(0);\n  const [cargando, setCargando] = useState(false);\n\n  const {\n    datos_generales,\n    setDatosGenerales,\n    precios,\n    setPrecios,\n    validacion,\n    setValidacion,\n    setPreciosP,\n    preciosP,\n    unidadesVenta,\n    setUnidadesVenta,\n    unidadVentaXDefecto,\n    setUnidadVentaXDefecto,\n    unidadVentaSecundaria,\n    setUnidadVentaSecundaria,\n    setCentroDeCostos,\n    presentaciones,\n    setPresentaciones,\n  } = useContext(RegProductoContext);\n\n  const { setAlert, open, setOpen } = useContext(VentasContext);\n\n  const {\n    reloadProductoRapido,\n    setReloadProductoRapido,\n    setAbrirPanelAcceso,\n    setDepartamentos,\n  } = useContext(AccesosContext);\n\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n  const [crearProductoRapido] = useMutation(CREAR_PRODUCTO_RAPIDO);\n\n  const { data, refetch, loading } = useQuery(OBTENER_CONSULTAS, {\n    variables: { empresa: sesion.empresa._id, sucursal: sesion.sucursal._id },\n  });\n\n  const resetInitialStates = () => {\n    setDatosGenerales(initial_state_datos_generales);\n    setPrecios(initial_state_precios);\n    setUnidadVentaXDefecto(initial_state_unidadVentaXDefecto);\n    setUnidadVentaSecundaria(initial_state_unidadVentaSecundaria);\n    setPreciosP(initial_state_preciosP);\n    setUnidadesVenta([]);\n    setCentroDeCostos({});\n    setValidacion({ error: false, message: \"\" });\n    setPresentaciones([]);\n    setValue(0);\n  };\n\n  const [abrirTallaColor, setAbrirTallaColor] = useState(false);\n\n  const [cantidad, setCantidad] = useState(0);\n\n  const handleClickOpen = () => {\n    setOpen(!open);\n    resetInitialStates();\n    setAbrirTallaColor(false);\n  };\n\n  const AceesoProductoRapido = () => {\n    if (sesion.accesos.ventas.producto_rapido.ver === true) {\n      handleClickOpen();\n    } else {\n      setAbrirPanelAcceso(true);\n      setDepartamentos({\n        departamento: \"ventas\",\n        subDepartamento: \"producto_rapido\",\n        tipo_acceso: \"ver\",\n      });\n    }\n  };\n\n  useEffect(() => {\n    if (reloadProductoRapido === true) {\n      handleClickOpen();\n      setReloadProductoRapido(false);\n    }\n  }, [reloadProductoRapido]);\n\n  useEffect(() => {\n    return () => {\n      refetch();\n    };\n  }, []);\n  window.addEventListener(\"keydown\", Mi_funcin);\n\n  function Mi_funcin(e) {\n    if (e.altKey && e.keyCode === 82) {\n      AceesoProductoRapido();\n    }\n  }\n\n  if (loading || !data) {\n    return null;\n  }\n  if (loading)\n    return (\n      <Box\n        display=\"flex\"\n        flexDirection=\"column\"\n        justifyContent=\"center\"\n        alignItems=\"center\"\n        height=\"80vh\"\n      >\n        <CircularProgress />\n        <Typography variant=\"h6\">Cargando...</Typography>\n      </Box>\n    );\n\n  const { obtenerConsultasProducto } = data;\n\n  const handleChange = (event, newValue) => {\n    setValue(newValue);\n  };\n\n  const saveData = async () => {\n    setCargando(true);\n    if (datos_generales.tipo_producto === \"OTROS\" && cantidad < 1) {\n      return setValidacion(true);\n    } else {\n      if (\n        !datos_generales.clave_alterna ||\n        !datos_generales.tipo_producto ||\n        !datos_generales.nombre_generico ||\n        !datos_generales.nombre_comercial ||\n        !precios.precio_de_compra.precio_con_impuesto ||\n        !precios.precio_de_compra.precio_sin_impuesto ||\n        !precios.unidad_de_compra.cantidad\n      ) {\n        return setValidacion(true);\n      }\n    }\n    /* if (unidadesVenta.length === 0) {\n      unidadesVenta.push(unidadVentaXDefecto);\n    } else {\n      const unidadxdefecto = unidadesVenta.filter(\n        (unidades) => unidades.default\n      );\n      if (unidadxdefecto.length === 0) unidadesVenta.push(unidadVentaXDefecto);\n    } */\n    let copy_unidadesVenta = [{...unidadVentaXDefecto}, {...unidadVentaSecundaria}];\n    precios.precios_producto = preciosP;\n\n    if (datos_generales.tipo_producto === \"OTROS\" && cantidad < 1) {\n      setPresentaciones(initial_state_presentaciones);\n      setCantidad(0);\n    }\n\n    const data = {\n      datos_generales,\n      precios,\n      unidades_de_venta: copy_unidadesVenta,\n      presentaciones,\n      cantidad,\n      empresa: sesion.empresa._id,\n      sucursal: sesion.sucursal._id,\n      usuario: sesion._id,\n    };\n\n    try {\n      const input = cleanTypenames(data);\n      const result = await crearProductoRapido({\n        variables: {\n          input,\n        },\n      });\n      resetInitialStates();\n      refetch();\n      setAlert({\n        message: `Listo ${result.data.crearProductoRapido.message}!`,\n        status: \"success\",\n        open: true,\n      });\n      setCargando(false);\n      handleClickOpen();\n    } catch (error) {\n      resetInitialStates();\n      refetch();\n      setAlert({\n        message: `Error: ${error.message}`,\n        status: \"error\",\n        open: true,\n      });\n      setCargando(false);\n      handleClickOpen();\n    }\n  };\n\n  const saveButton = (\n    <Button\n      variant=\"contained\"\n      color=\"primary\"\n      onClick={() => saveData()}\n      size=\"large\"\n      startIcon={<DoneIcon />}\n      disabled={\n        datos_generales.tipo_producto === \"OTROS\"\n          ? !datos_generales.clave_alterna ||\n            !datos_generales.tipo_producto ||\n            !datos_generales.nombre_generico ||\n            !datos_generales.nombre_comercial ||\n            !cantidad ||\n            !precios.precio_de_compra.precio_con_impuesto ||\n            !precios.precio_de_compra.precio_sin_impuesto ||\n            !precios.unidad_de_compra.cantidad\n            ? true\n            : false\n          : !datos_generales.clave_alterna ||\n            !datos_generales.tipo_producto ||\n            !datos_generales.nombre_generico ||\n            !datos_generales.nombre_comercial ||\n            !precios.precio_de_compra.precio_con_impuesto ||\n            !precios.precio_de_compra.precio_sin_impuesto ||\n            !precios.unidad_de_compra.cantidad\n          ? true\n          : false\n      }\n    >\n      Guardar\n    </Button>\n  );\n\n  const ButtonActions = () => {\n    if (value === 1) {\n      return saveButton;\n    } else {\n      if (\n        datos_generales.tipo_producto === \"OTROS\" ||\n        !datos_generales.tipo_producto\n      ) {\n        return saveButton;\n      } else {\n        return (\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={() => setValue(value + 1)}\n            size=\"large\"\n            endIcon={<NavigateNext />}\n            disableElevation\n          >\n            Siguiente\n          </Button>\n        );\n      }\n    }\n  };\n\n  return (\n    <>\n      <Acceso />\n      <Button\n        onClick={() => {\n          AceesoProductoRapido();\n        }}\n        value=\"articulo-rapido\"\n        style={{ textTransform: \"none\", height: \"100%\", width: \"60%\" }}\n      >\n        <Box display=\"flex\" flexDirection=\"column\">\n          <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n            <img\n              src=\"https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/tiempo-rapido.svg\"\n              alt=\"icono caja2\"\n              className={classes.iconSizeSecondSuperior}\n            />\n          </Box>\n          <Box>\n            <Typography variant=\"body2\">\n              <b>Producto Rapido</b>\n            </Typography>\n          </Box>\n          <Box>\n            <Typography variant=\"caption\" style={{ color: \"#808080\" }}>\n              <b>Alt + R</b>\n            </Typography>\n          </Box>\n        </Box>\n      </Button>\n      <Dialog\n        maxWidth=\"lg\"\n        open={open}\n        onClose={handleClickOpen}\n        TransitionComponent={Transition}\n      >\n        <AppBar position=\"static\" color=\"default\" elevation={0}>\n          <Box display=\"flex\">\n            <Box display=\"flex\" flexGrow={1} justifyContent=\"space-between\">\n              <Tabs\n                value={value}\n                onChange={handleChange}\n                variant=\"scrollable\"\n                scrollButtons=\"on\"\n                indicatorColor=\"primary\"\n                textColor=\"primary\"\n                aria-label=\"scrollable force tabs example\"\n              >\n                <Tab\n                  label=\"Datos generales\"\n                  icon={\n                    <Badge\n                      color=\"secondary\"\n                      badgeContent={<Typography variant=\"h6\">!</Typography>}\n                      anchorOrigin={{\n                        vertical: \"bottom\",\n                        horizontal: \"right\",\n                      }}\n                      invisible={\n                        validacion.error && validacion.vista1 ? false : true\n                      }\n                    >\n                      <img\n                        src=\"https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/portapapeles.svg\"\n                        alt=\"icono registro\"\n                        className={classes.iconSvg}\n                      />\n                    </Badge>\n                  }\n                  {...a11yProps(0)}\n                />\n                {abrirTallaColor === false ||\n                datos_generales.tipo_producto === \"OTROS\" ? null : (\n                  <Tab\n                    label=\"Tallas y colores\"\n                    icon={\n                      <Badge\n                        color=\"secondary\"\n                        badgeContent={<Typography variant=\"h6\">!</Typography>}\n                        anchorOrigin={{\n                          vertical: \"bottom\",\n                          horizontal: \"right\",\n                        }}\n                        invisible={\n                          validacion.error && validacion.vista7 ? false : true\n                        }\n                      >\n                        <img\n                          src=\"https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/tallas-colores.svg\"\n                          alt=\"icono colores\"\n                          className={classes.iconSvg}\n                        />\n                      </Badge>\n                    }\n                    {...a11yProps(6)}\n                  />\n                )}\n              </Tabs>\n            </Box>\n            <Box p={2}>\n              <Button\n                variant=\"contained\"\n                color=\"secondary\"\n                onClick={() => {\n                  handleClickOpen() \n                  resetInitialStates()\n                }}\n                size=\"large\"\n              >\n                <CloseIcon />\n              </Button>\n            </Box>\n          </Box>\n        </AppBar>\n        <DialogContent className={classes.dialogContent}>\n          <Backdrop className={classes.backdrop} open={cargando}>\n            <CircularProgress color=\"inherit\" />\n          </Backdrop>\n          <div className={classes.root}>\n            <TabPanel value={value} index={0}>\n              <RegistroInformacionRapido\n                setAbrirTallaColor={setAbrirTallaColor}\n                setCantidad={setCantidad}\n                cantidad={cantidad}\n                obtenerConsultasProducto={obtenerConsultasProducto}\n                refetch={refetch}\n              />\n              <RegistroInfoAdidional />\n            </TabPanel>\n            <TabPanel value={value} index={1}>\n              <TallasColoresRapidos\n                obtenerConsultasProducto={obtenerConsultasProducto}\n                refetch={refetch}\n              />\n            </TabPanel>\n          </div>\n        </DialogContent>\n        <DialogActions style={{ display: \"flex\", justifyContent: \"space-between\" }}>\n          <Box p={1}>\n            <Button\n              variant=\"outlined\"\n              color=\"primary\"\n              onClick={() => setValue(value - 1)}\n              size=\"large\"\n              startIcon={<NavigateBefore />}\n              disabled={value === 0}\n            >\n              Anterior\n          </Button>\n          </Box>\n          <Box p={1}>\n            <ButtonActions />\n          </Box>\n        </DialogActions>\n      </Dialog>\n    </>\n  );\n}\n","import React from 'react'\nimport { RegProductoProvider } from '../../../context/Catalogos/CtxRegProducto'\nimport ArticuloRapido from './ArticuloRapido'\n \nexport default function ProductoRapidoIndex({handleClickOpen}){\n\n    return (\n        <RegProductoProvider>\n            <ArticuloRapido handleClickOpen={handleClickOpen} />\n        </RegProductoProvider>\n    )\n}","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport { IconButton, TablePagination } from '@material-ui/core';\nimport DeleteIcon from '@material-ui/icons/Delete';\n\nconst columns = [\n\t{ id: 'folio', label: 'Folio', minWidth: 20, align: 'center' },\n\t{ id: 'cliente', label: 'Cliente', minWidth: 330 },\n\t{ id: 'fecha', label: 'Fecha', minWidth: 100, align: 'center'},\n\t{ id: 'total', label: 'Total', minWidth: 100, align: 'center'}\n];\n\nfunction createData(folio, cliente, fecha, total) {\n\treturn { folio, cliente, fecha, total};\n}\n\nconst rows = [\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10)\n];\n\nconst useStyles = makeStyles({\n\troot: {\n\t\twidth: '100%'\n\t},\n\tcontainer: {\n\t\tmaxHeight: '65vh'\n\t}\n});\n\nexport default function CotizacionesPendientes({ setOpen }) {\n\tconst classes = useStyles();\n\tconst [ page, setPage ] = React.useState(0);\n\tconst [ rowsPerPage, setRowsPerPage ] = React.useState(10);\n\n\tconst handleChangePage = (event, newPage) => {\n\t\tsetPage(newPage);\n\t};\n\n\tconst handleChangeRowsPerPage = (event) => {\n\t\tsetRowsPerPage(+event.target.value);\n\t\tsetPage(0);\n\t};\n\n\treturn (\n\t\t<Paper className={classes.root}>\n\t\t\t<TableContainer className={classes.container}>\n\t\t\t\t<Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t{columns.map((column) => (\n\t\t\t\t\t\t\t\t<TableCell key={column.id} align={column.align} style={{ width: column.minWidth }}>\n\t\t\t\t\t\t\t\t\t{column.label}\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t<TableCell align='center' style={{ width: 35 }}>\n\t\t\t\t\t\t\t\tRetomar\n\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t<TableCell align='center' style={{ width: 35 }}>\n\t\t\t\t\t\t\t\tEliminar\n\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t</TableHead>\n\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t{rows.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage).map((row) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<CotizacionesRows row={row} />\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t\t</TableBody>\n\t\t\t\t</Table>\n\t\t\t</TableContainer>\n\t\t\t<TablePagination\n\t\t\t\trowsPerPageOptions={[ 10, 25, 100 ]}\n\t\t\t\tcomponent=\"div\"\n\t\t\t\tcount={rows.length}\n\t\t\t\trowsPerPage={rowsPerPage}\n\t\t\t\tpage={page}\n\t\t\t\tonChangePage={handleChangePage}\n\t\t\t\tonChangeRowsPerPage={handleChangeRowsPerPage}\n\t\t\t/>\n\t\t</Paper>\n\t);\n};\n\n\nconst CotizacionesRows = ({row}) => {\n\n\treturn(\n\t\t<>\n\t\t\t<TableRow hover role=\"checkbox\" tabIndex={-1} key={row.code}>\n\t\t\t\t<TableCell align='center' >\n\t\t\t\t\tuno\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell >\n\t\t\t\t\tuno\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell align='center' >\n\t\t\t\t\tuno\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell align='center' >\n\t\t\t\t\tuno\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell align='center' >\n\t\t\t\t\t<IconButton aria-label=\"delete\" size='small'>\n\t\t\t\t\t\t<DeleteIcon fontSize=\"small\" />\n\t\t\t\t\t</IconButton>\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell align='center' >\n\t\t\t\t\t<IconButton aria-label=\"delete\" size='small'>\n\t\t\t\t\t\t<DeleteIcon fontSize=\"small\" />\n\t\t\t\t\t</IconButton>\n\t\t\t\t</TableCell>\n\t\t\t</TableRow>\n\t\t</>\n\t);\n\n}\n","import React, { useState } from 'react';\nimport { AppBar, Box, Button, Dialog, Slide, Typography \n} from '@material-ui/core';\n\nimport CloseIcon from '@material-ui/icons/Close';\nimport CotizacionesPendientes from './CotizacionesPendientes';\n\nimport { FcCurrencyExchange } from 'react-icons/fc';\nimport moment from 'moment';\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function ListaCotizaciones() {\n\n    const [open, setOpen] = useState(false);\n    const sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n    const turnoEnCurso = JSON.parse(localStorage.getItem('turnoEnCurso'));\n\n    const handleClickOpen =()=>{\n        setOpen(!open);\n    }\n\n    return (\n        <>\n            <Button\n                onClick={() => handleClickOpen()}\n                style={{textTransform: 'none', height: '100%', width: '60%'}}\n            >\n                <Box display=\"flex\" flexDirection=\"column\">\n                    <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n                        <FcCurrencyExchange style={{fontSize: 25}} />\n                    </Box>\n                    <Box>\n                        <Typography variant=\"body2\" >\n                            <b>Lista cotizaciones</b>\n                        </Typography>\n                    </Box>\n                    <Box>\n                        <Typography variant=\"caption\" style={{color: '#808080'}} >\n                            <b>Alt + T</b>\n                        </Typography>\n                    </Box>\n                </Box>\n            </Button>\n\n            <Dialog\n\t\t\t\tfullWidth\n\t\t\t\topen={open} \n\t\t\t\tmaxWidth={'lg'}\n\t\t\t\tonClose={() => setOpen(false)} \n\t\t\t\tTransitionComponent={Transition}\n\t\t\t>\n                <AppBar position=\"static\" color=\"default\" elevation={0}>\n                    <Box display={'flex'}>\n                        <Box display='flex' flexGrow={1} >\n                            <Box p={2} display={'flex'} alignItems={'center'}>\n                                <img \n\t\t\t\t\t\t\t\t\tsrc='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/ventas/lista-de-espera.svg' \n                                    alt=\"icono caja2\" \n                                    style={{width: 58}} \n                                />\n                            </Box>\n                            <Box p={1} display={'flex'} alignItems={'center'}>\n                                <Typography variant='h6'>\n                                    Cotizaciones pendientes\n                                </Typography>\n                            </Box>\n                        </Box>\n                        <Box mt={2} textAlign=\"right\">\n                            <Box textAlign=\"right\">\n                                <Typography variant=\"caption\">\n                                    {moment().format('L')}\n                                </Typography>\n                            </Box>\n                            <Box textAlign=\"right\">\n                                <Typography variant=\"caption\">\n                                    {moment().format('LT')} hrs.\n                                </Typography>\n                            </Box>\n                            <Box textAlign=\"right\">\n                                <Typography variant=\"caption\">\n                                    {sesion?.nombre}\n                                </Typography>\n                            </Box>\n                            <Box textAlign=\"right\">\n                                <Typography variant=\"caption\">\n                                    Caja {!turnoEnCurso ? null : turnoEnCurso.numero_caja }\n                                </Typography>\n                            </Box>\n                        </Box>\n                        <Box  p={3} >\n                            <Button variant=\"contained\" color=\"secondary\" onClick={() => setOpen(!open)} size=\"medium\">\n                                <CloseIcon />\n                            </Button>\n                        </Box>\n                    </Box>\n\t\t\t\t</AppBar>\n                <CotizacionesPendientes setOpen={setOpen} /> \n            </Dialog>\n        </>\n    );\n}\n","import React, { useState, useContext, Fragment, useEffect} from 'react';\nimport { Divider, BottomNavigation, Button } from '@material-ui/core';\nimport {  Avatar, Box, Typography } from '@material-ui/core';\nimport { withRouter } from 'react-router';\nimport { FaPowerOff } from 'react-icons/fa';\nimport useStyles from './styles';\nimport moment from 'moment';\nimport 'moment/locale/es';\n\nimport DepositoRetiroCaja from '../../pages/ventas/Operaciones/DepositoRetiroCaja';\nimport Turnos from '../../pages/ventas/AbrirCerrarTurno/Turnos';\nimport PreCorteCaja from '../../pages/ventas/Operaciones/PreCorteCaja';\nimport VentaEnEspera from '../../pages/ventas/Operaciones/VentaEnEspera';\nimport ProductoRapidoIndex from '../../pages/ventas/ArticuloRapido/indexArticuloRapido';\n\nimport SnackBarMessages from '../SnackBarMessages';\nimport { VentasContext } from '../../context/Ventas/ventasContext';\nimport Acceso from '../AccesosPassword/Acceso';\nimport { AccesosContext } from '../../context/Accesos/accesosCtx';\nimport ListaCotizaciones from '../../pages/ventas/Cotizacion/ListaCotizaciones';\n\nfunction NavegacionVentas(props) {\n\n\tconst { \n\t\talert, \n\t\tsetAlert, \n\t\tabrirTurnosDialog, \n\t\tsetAbrirTurnosDialog, \n\t\tsetUbicacionTurno,\n\t} = useContext(VentasContext);\n\n\tconst { \n\t\treloadAdministrador, \n        setReloadAdministrador,\n\t\tsetAbrirPanelAcceso,\n\t\tabrirPanelAcceso,\n\t\tsetDepartamentos\n\t} = useContext(AccesosContext);\n\n\tconst classes = useStyles();\n\tconst [ value, setValue ] = useState('venta-general');\n    const sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\tconst turnoEnCurso = JSON.parse(localStorage.getItem('turnoEnCurso'));\n\n\tmoment.locale('es');\n\n\tconst signOut = () => {\n\t\tif (sesion.turno_en_caja_activo === true && turnoEnCurso) {\n\t\t\tsetAbrirTurnosDialog(!abrirTurnosDialog);\n\t\t\tsetUbicacionTurno('SESION');\n\t\t}else{\n\t\t\tlocalStorage.removeItem('sesionCafi');\n\t\t\tlocalStorage.removeItem('tokenCafi');\n            localStorage.removeItem('DatosVentas');\n\t\t\tlocalStorage.removeItem('turnoEnCurso');\n\t\t\tlocalStorage.removeItem('ListaEnEspera');\n\t\t\tprops.history.push('/');\n\t\t}\n\t};\n\n\tfunction Mi_funcin(e){\n\t\tif( e.keyCode === 112){ \n\t\t\tAdministrador();\n\t\t}\n\t};\n\n\tfunction Administrador() {\n\t\tif(sesion.accesos.ventas.administrador.ver === true){\n\t\t\tprops.history.push('/admin');\n\t\t}else{\n\t\t\tsetAbrirPanelAcceso(!abrirPanelAcceso);\n\t\t\tsetDepartamentos({departamento: 'ventas', subDepartamento: 'administrador', tipo_acceso: 'ver'})\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tif (reloadAdministrador === true) {\t\t\t\n\t\t\tprops.history.push('/admin');\t\n\t\t\tsetReloadAdministrador(false);\n\t\t}\n\t}, [reloadAdministrador]);\n\n\twindow.addEventListener('keydown', Mi_funcin); \n\n\treturn (\n\t\t<Fragment>\n\t\t\t<Acceso setReloadAdministrador={setReloadAdministrador} />\n\t\t\t<SnackBarMessages alert={alert} setAlert={setAlert} />\n\t\t\t\t<BottomNavigation\n\t\t\t\t\tvalue={value}\n\t\t\t\t\tonChange={(event, newValue) => {\n\t\t\t\t\t\tsetValue(newValue);\n\t\t\t\t\t}}\n\t\t\t\t\tshowLabels\n\t\t\t\t\tclassName={classes.navigationTop}\n\t\t\t\t>\n\t\t\t\t\t<ProductoRapidoIndex />\n\t\t\t\t\t\t<Divider orientation=\"vertical\" />\n\t\t\t\t\t<ListaCotizaciones /> \n\t\t\t\t\t\t<Divider orientation=\"vertical\" />\n\t\t\t\t\t<DepositoRetiroCaja />\n\t\t\t\t\t\t<Divider orientation=\"vertical\" />\n\t\t\t\t\t<Turnos />\n\t\t\t\t\t\t<Divider orientation=\"vertical\" />\n\t\t\t\t\t<PreCorteCaja />\n\t\t\t\t\t\t<Divider orientation=\"vertical\" />\n\t\t\t\t\t<VentaEnEspera />\n\t\t\t\t\t\t<Divider orientation=\"vertical\" />\n\t\t\t\t\t<Button\n\t\t\t\t\t\tonClick={() => Administrador()}\n\t\t\t\t\t\tstyle={{textTransform: 'none', height: '100%', width: '60%'}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Box display=\"flex\" flexDirection=\"column\">\n\t\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t\t<img \n\t\t\t\t\t\t\t\t\tsrc='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/ventas/admin.svg' \n\t\t\t\t\t\t\t\t\talt=\"icono admin\" \n\t\t\t\t\t\t\t\t\tclassName={classes.iconSizeSecondSuperior} \n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t\t<Typography variant=\"body2\" >\n\t\t\t\t\t\t\t\t\t<b>Administrador</b>\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t\t<Typography variant=\"caption\" style={{color: '#808080'}} >\n\t\t\t\t\t\t\t\t\t<b>F1</b>\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Divider orientation=\"vertical\" />\n\t\t\t\t\t<Button\n\t\t\t\t\t\tonClick={() =>{\n\t\t\t\t\t\t\tsignOut()\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tstyle={{textTransform: 'none', height: '100%', width: '40%'}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Box display=\"flex\" flexDirection=\"column\" style={{textTransform: 'none', height: '100%', width: '100%'}}>\n\t\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t\t<FaPowerOff className={classes.iconSizeSuperior} style={{color: 'red'}} />\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t\t<Typography variant=\"body2\" >\n\t\t\t\t\t\t\t\t\t<b>Salir</b>\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Box \n\t\t\t\t\t\tdisplay=\"flex\" \n\t\t\t\t\t\tjustifyContent=\"flex-end\"\n\t\t\t\t\t\tstyle={{height: '100%', width: '100%'}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Box mr={3} display=\"flex\" alignItems=\"center\">\n\t\t\t\t\t\t\t<Avatar alt=\"Remy Sharp\" srsc=\"/static/images/avatar/1.jpg\" className={classes.avatar} />\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t\t\t<Typography color=\"textSecondary\">{sesion?.nombre}</Typography>\n\t\t\t\t\t\t\t\t\t{!turnoEnCurso?.numero_caja ? (\n\t\t\t\t\t\t\t\t\t\t\"\"\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t<Typography color=\"textSecondary\">\n\t\t\t\t\t\t\t\t\t\t\t<b>Caja: </b>{turnoEnCurso?.numero_caja}\n\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box mr={3} display=\"flex\" alignItems=\"center\">\n\t\t\t\t\t\t\t<img src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/ventas/calendario.svg' alt=\"icono admin\" className={classes.avatar} />\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t\t\t<Typography color=\"textSecondary\">\n\t\t\t\t\t\t\t\t\t\t{moment().format('MM/DD/YYYY')}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t<Typography color=\"textSecondary\">\n\t\t\t\t\t\t\t\t\t\t<b>{moment().format('h:mm')} hrs.</b> \n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Box>\n\t\t\t\t</BottomNavigation>\n\t\t</Fragment>\n\t);\n}\n\nexport default withRouter(NavegacionVentas);","import React, { useState } from 'react';\nimport { Box, Button,  Dialog, DialogActions, DialogContent, Slide, Typography } from '@material-ui/core'\nimport useStyles from '../styles';\nimport { FcDonate } from 'react-icons/fc';\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function Abonos() {\n    const classes = useStyles();\n\n    const [open, setOpen] = useState(false);\n    const handleClickOpen = () => { \n\t\tsetOpen(!open);\n\t};\n    \n    window.addEventListener('keydown', Mi_funcin); \n    function Mi_funcin(e){\n        if(e.keyCode === 117){ \n            handleClickOpen();\n        } \n    };\n\n    return (\n        <>\n            <Button \n                className={classes.borderBotonChico}\n                onClick={handleClickOpen}\n            >\n                <Box>\n                    <Box>\n                        <FcDonate style={{fontSize: 35}} />\n                    </Box>\n                    <Box>\n                        <Typography variant=\"body2\" >\n                            <b>Abonos</b>\n                        </Typography>\n                    </Box>\n                    <Box>\n                        <Typography variant=\"caption\" style={{color: '#808080'}} >\n                            <b>F6</b>\n                        </Typography>\n                    </Box>\n                </Box>\n            </Button>\n            <Dialog\n\t\t\t\tmaxWidth='lg'\n\t\t\t\topen={open} \n\t\t\t\tonClose={handleClickOpen} \n\t\t\t\tTransitionComponent={Transition}\n\t\t\t>\n                <DialogContent>\n                    Abonitos\n                </DialogContent>\n                <DialogActions>\n\n                </DialogActions>\n\n            </Dialog>\n            \n        </>\n    )\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport { Box, CircularProgress } from '@material-ui/core';\n\nconst columns = [\n\t{ id: 'clave', label: 'Clave', minWidth: 40, align: 'center' },\n\t{ id: 'codigo', label: 'C. Barras', minWidth: 40, align: 'center' },\n\t{ id: 'descripcion', label: 'Nombre/Descrip.', minWidth: 330 },\n\t{ id: 'existencia', label: 'Exist.', minWidth: 30, align: 'center'},\n\t{ id: 'unidad', label: 'Unidad', minWidth: 30, align: 'center'},\n\t{ id: 'precio', label: 'Precio', minWidth: 30, align: 'center'},\n];\n\nconst useStyles = makeStyles({\n\troot: {\n\t\twidth: '100%',\n\t\tmarginTop: 15\n\t},\n\tcontainer: {\n\t\theight: '40vh'\n\t}\n});\n\nexport default function ListaProductos({\n\tproductosBusqueda, \n\tsetProductoSeleccionado, \n\tloading\n}) {\n\n\tconst classes = useStyles();\n\n\tif (loading)\n    return (\n      <Box\n        display=\"flex\"\n        flexDirection=\"column\"\n        justifyContent=\"center\"\n        alignItems=\"center\"\n        height=\"50vh\"\n      >\n        <CircularProgress />\n      </Box>\n    );\n\n\treturn (\n\t\t<Paper className={classes.root}>\n\t\t\t<TableContainer className={classes.container}>\n\t\t\t\t<Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t{columns.map((column) => (\n\t\t\t\t\t\t\t\t<TableCell key={column.id} align={column.align} style={{ width: column.minWidth }}>\n\t\t\t\t\t\t\t\t\t{column.label}\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t</TableHead>\n\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t{productosBusqueda.map((producto) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<RowsProductos \n\t\t\t\t\t\t\t\t\tproducto={producto}\n\t\t\t\t\t\t\t\t\tsetProductoSeleccionado={setProductoSeleccionado}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t\t</TableBody>\n\t\t\t\t</Table>\n\t\t\t</TableContainer>\n\t\t</Paper>\n\t);\n};\n\nfunction RowsProductos({producto, setProductoSeleccionado}) {\n\n\treturn(\n\t\t<>\n\t\t\t<TableRow \n\t\t\t\thover \n\t\t\t\trole=\"checkbox\" \n\t\t\t\ttabIndex={-1} \n\t\t\t\tkey={producto._id}\n\t\t\t\tonClick={() => setProductoSeleccionado(producto)}\n\t\t\t>\n\t\t\t\t<TableCell align=\"center\" >\n\t\t\t\t\t{producto.id_producto.datos_generales.clave_alterna}\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t{producto.id_producto.datos_generales.codigo_barras}\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell >\n\t\t\t\t\t{producto.id_producto.datos_generales.nombre_comercial}\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t{producto.cantidad}\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t{producto.unidad}\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t{producto.precio}\n\t\t\t\t</TableCell>\n\t\t\t</TableRow>\n\t\t</>\t\n\t);\n\t\n}","import React from 'react';\nimport useStyles from '../styles';\n\nimport {\n    TableContainer,\n    Table,\n    Box,\n    TableHead,\n    TableRow,\n    TableCell,\n    TableBody,\n    Grid,\n    Typography} from '@material-ui/core'\n\nexport default function InformacionProducto({productoSeleccionado}) {\n\n    const classes = useStyles();\n\n    if (!productoSeleccionado) return null;\n\n    return (\n        <Grid container>\n            <Grid item lg={12}>\n                <div className={classes.formInputFlex}>\n                    <Box width=\"100%\">\n                        <Typography>\n                            <b>Nombre:</b>\n                        </Typography>\n                        <Box display=\"flex\">\n                            <Typography>\n                                {productoSeleccionado?.id_producto?.datos_generales?.nombre_comercial}\n                            </Typography>\n                        </Box>\n                    </Box>\n                    <Box width=\"100%\">\n                        <Typography>\n                            <b>Codigo Barras:</b>\n                        </Typography>\n                        <Box display=\"flex\">\n                            <Typography>\n                                {productoSeleccionado?.codigo_barras}\n                            </Typography>\n                        </Box>\n                    </Box>\n                    <Box width=\"70%\">\n                        <Typography>\n                            <b>Cantidad:</b>\n                        </Typography>\n                        <Box display=\"flex\">\n                            <Typography>\n                                {productoSeleccionado?.cantidad}\n                            </Typography>\n                        </Box>\n                    </Box>\n                    <Box width=\"70%\">\n                        <Typography>\n                            <b>Unidad:</b>\n                        </Typography>\n                        <Box display=\"flex\">\n                            <Typography>\n                                {productoSeleccionado?.unidad}\n                            </Typography>\n                        </Box>\n                    </Box>\n                    <Box width=\"70%\">\n                        <Typography>\n                            <b>Descuento:</b>\n                        </Typography>\n                        <Box display=\"flex\">\n                            <Typography>\n                                {productoSeleccionado?.descuento ? productoSeleccionado?.descuento.precio_neto : 0}\n                            </Typography>\n                        </Box>\n                    </Box>\n                    <Box width=\"70%\">\n                        <Typography>\n                            <b>% Descuento:</b>\n                        </Typography>\n                        <Box display=\"flex\">\n                            <Typography>\n                                {productoSeleccionado?.descuento ? productoSeleccionado?.descuento.precio_neto : 0}\n                            </Typography>\n                        </Box>\n                    </Box>\n                </div>\n            </Grid>\n            <Grid item lg={12}>\n                <PreciosDeVentaCompras precios={productoSeleccionado?.id_producto?.precios?.precios_producto} />\n            </Grid>\n        </Grid>\n    )\n}\n\n\nfunction PreciosDeVentaCompras({precios}) {\n\n    return (\n      <div>\n        <TableContainer>\n          <Table aria-label=\"simple table\" size=\"small\">\n            <TableHead>\n              <TableRow>\n                <TableCell style={{ minWidth: 150 }}>Precios de venta</TableCell>\n                {[1, 2, 3, 4, 5, 6].map((numero, index) => (\n                  <TableCell style={{ minWidth: 100 }} key={index}>\n                    {numero}\n                  </TableCell>\n                ))}\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {[\"Precio de venta\"].map((tipo, index) => (\n                <TableRow key={index}>\n                  <TableCell style={{ border: 0 }}>\n                    <b>{tipo}</b>\n                  </TableCell>\n                  {precios?.map((data, index) => (\n                    <TableCell key={index} style={{ border: 0 }}>{data?.precio_neto}</TableCell>\n                  ))}\n                </TableRow>\n              ))}\n            </TableBody>\n          </Table>\n        </TableContainer>\n      </div>\n    );\n  }\n","import React, { useState } from 'react';\nimport { Box, Button, DialogActions, Dialog, \n        DialogContent, Divider, Grid, \n        Typography, Slide, InputBase, Paper, \n        IconButton} from '@material-ui/core'\nimport PhotoLibraryIcon from '@material-ui/icons/PhotoLibrary';\nimport useStyles from '../styles';\nimport { useDebounce } from 'use-debounce/lib';\nimport { FcSearch } from 'react-icons/fc';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { Search } from '@material-ui/icons';\nimport ListaProductos from './ListaProductos';\nimport { useQuery } from '@apollo/client';\nimport { CONSULTA_PRODUCTOS_VENTAS } from '../../../gql/Ventas/ventas_generales';\nimport InformacionProducto from './InformacionProducto';\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function BuscarProducto() {\n    const classes = useStyles();\n    const sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\n    const [open, setOpen] = useState(false);\n    const [ searchProducto, setSearchProducto ] = useState([]);\n    const [ productoSeleccionado, setProductoSeleccionado ] = useState([]);\n    \n\tconst [ value ] = useDebounce(searchProducto, 500);\n\n    const { data, refetch, loading } = useQuery(CONSULTA_PRODUCTOS_VENTAS, {\n\t\tvariables: {\n            empresa: sesion.empresa._id,\n\t\t\tsucursal: sesion.sucursal._id,\n            input: {\n                producto: value.producto ? value.producto : \"\"\n            }\n\t\t}\n\t});\n    \n    let productosBusqueda = [];\n\n    if(data) productosBusqueda = data.obtenerProductosVentas;\n\n    const obtenerDatos = (e) => {\n        setSearchProducto({...searchProducto, [e.target.name]: e.target.value})\n    };\n\n    const keyUpEvent = async (e) => {\n        if (e.code === \"Enter\" || e.code === \"NumpadEnter\") {\n            setSearchProducto({...searchProducto, [e.target.name]: e.target.value});\n            refetch();\n        }   \n    };\n\n    const handleClickOpen = () => { \n        setProductoSeleccionado([]);\n        refetch();\n\t\tsetOpen(!open);\n\t};\n\n    window.addEventListener('keydown', Mi_funcin); \n    function Mi_funcin(e){\n        if(e.altKey && e.keyCode === 80){ \n            handleClickOpen();\n        }\n    };\n\n    return (\n        <>\n           <Button \n                className={classes.borderBotonChico}\n                onClick={handleClickOpen}\n            >\n                <Box>\n                    <Box>\n                        <FcSearch style={{fontSize: 45}} />\n                    </Box>\n                    <Box>\n                        <Typography variant=\"body2\" >\n                            <b>Productos</b>\n                        </Typography>\n                    </Box>\n                    <Box>\n                        <Typography variant=\"caption\" style={{color: '#808080'}} >\n                            <b>Alt + P</b>\n                        </Typography>\n                    </Box>\n                </Box>\n            </Button>\n            <Dialog\n\t\t\t\tmaxWidth='md'\n                fullWidth\n\t\t\t\topen={open} \n\t\t\t\tonClose={handleClickOpen} \n\t\t\t\tTransitionComponent={Transition}\n\t\t\t>\n                <DialogContent>\n                    <Grid container>\n                        <Grid item lg={3}>\n                            <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" width=\"100%\">\n                                {productoSeleccionado?.id_producto?.imagenes.length > 0 ? (\n                                    <Box className={classes.containerImage}>\n                                        <img \n                                            alt=\"Imagen producto\" \n                                            src={productoSeleccionado?.id_producto?.imagenes[0].url_imagen} \n                                            className={classes.imagen}\n                                        />\n                                    </Box>\n                                ) : (\n                                    <Box p={8} display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n                                        <PhotoLibraryIcon style={{fontSize: 40}} />\n                                    </Box>\n                                )}\n                            </Box>\n                        </Grid>\n                        <Grid item lg={9}>\n                            <Box display=\"flex\">\n                                <Box\n                                    display=\"flex\"\n                                    flexGrow={1}\n                                >\n                                    <Box>\n                                        <Typography variant=\"h6\">\n                                            Buscar Productos\n                                        </Typography>\n                                    </Box>\n                                </Box>\n                                <Box>\n                                    <Button variant=\"contained\" color=\"secondary\" onClick={handleClickOpen} size=\"large\">\n                                        <CloseIcon />\n                                    </Button>\n                                </Box>\n                            </Box>\n                            <div className={classes.formInputFlex}>\n                                <Box width=\"50%\">\n                                    <Paper className={classes.rootBusqueda}>\n                                        <InputBase\n                                            fullWidth\n                                            name=\"producto\"\n                                            placeholder=\"Buscar producto...\"\n                                            onChange={obtenerDatos}\n                                            onKeyUp={keyUpEvent}\n                                        />\n                                        <IconButton >\n                                            <Search />\n                                        </IconButton>\n                                    </Paper>\n                                </Box>\n                            </div>\n                        </Grid>\n                    </Grid>\n                    <InformacionProducto productoSeleccionado={productoSeleccionado} />\n                    <Grid>\n                        <ListaProductos \n                            productosBusqueda={productosBusqueda}\n                            setProductoSeleccionado={setProductoSeleccionado}\n                            loading={loading}\n                        />\n                    </Grid>\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={handleClickOpen} variant=\"contained\" color=\"primary\" size=\"large\">\n                        AGREGAR\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        </>\n    )\n};\n","import React, { useState } from \"react\";\nimport {\n  Box,\n  Button,\n  Dialog,\n  DialogContent,\n  Grid,\n  IconButton,\n  InputBase,\n  makeStyles,\n  Paper,\n  Slide,\n  Typography,\n} from \"@material-ui/core\";\nimport { Search } from \"@material-ui/icons\";\nimport ListaClientes from \"../../sucursales/Catalogos/Cliente/ListaClientes\";\nimport CrearCliente from \"../../sucursales/Catalogos/Cliente/CrearCliente\";\nimport { ClienteProvider } from \"../../../context/Catalogos/crearClienteCtx\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport { FcBusinessman } from \"react-icons/fc\";\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nconst useStyles = makeStyles((theme) => ({\n  appBar: {\n    position: \"relative\",\n  },\n  title: {\n    marginLeft: theme.spacing(2),\n    flex: 1,\n  },\n  icon: {\n    fontSize: 100,\n  },\n  root: {\n    display: \"flex\",\n    paddingLeft: theme.spacing(2),\n  },\n}));\n\nexport default function ClientesVentas() {\n  const classes = useStyles();\n\n  const [values, setValues] = useState(\"\");\n\n  const pressEnter = (e) => {\n    if (e.key === \"Enter\") setValues(e.target.defaultValue);\n  };\n\n  const [open, setOpen] = useState(false);\n\n  const handleClickOpen = () => {\n    setOpen(!open);\n  };\n\n  window.addEventListener(\"keydown\", Mi_funcin);\n  function Mi_funcin(e) {\n    if (e.altKey && e.keyCode === 67) {\n      handleClickOpen();\n    }\n  }\n\n  return (\n    <>\n      <ClienteProvider>\n        <Button\n          style={{\n            height: \"100%\",\n            width: \"100%\",\n            border: \".6px solid #DBDBDB\",\n          }}\n          onClick={handleClickOpen}\n        >\n          <Box>\n            <Box>\n              <FcBusinessman style={{ fontSize: 45 }} />\n            </Box>\n            <Box>\n              <Typography variant=\"body2\">\n                <b>Clientes</b>\n              </Typography>\n            </Box>\n            <Box>\n              <Typography variant=\"caption\" style={{ color: \"#808080\" }}>\n                <b>aLT + C</b>\n              </Typography>\n            </Box>\n          </Box>\n        </Button>\n        <Dialog\n          maxWidth=\"lg\"\n          open={open}\n          onClose={handleClickOpen}\n          TransitionComponent={Transition}\n        >\n          <DialogContent>\n            <Grid container item lg={12}>\n              <Box ml={3} display=\"flex\" flexGrow={1} alignItems=\"center\">\n                <Box>\n                  <FcBusinessman style={{ fontSize: 65 }} />\n                </Box>\n                <Typography variant=\"h6\" className={classes.title}>\n                  Clientes\n                </Typography>\n              </Box>\n              <Box mr={2}>\n                <Button\n                  variant=\"contained\"\n                  color=\"secondary\"\n                  onClick={handleClickOpen}\n                  size=\"large\"\n                >\n                  <CloseIcon style={{ fontSize: 30 }} />\n                </Button>\n              </Box>\n            </Grid>\n            <Box m={2} display=\"flex\" justifyContent=\"space-between\">\n              <Box mr={5} minWidth=\"70%\">\n                <Paper className={classes.root}>\n                  <InputBase\n                    fullWidth\n                    placeholder=\"Buscar cliente...\"\n                    onChange={(e) => setValues(e.target.value)}\n                    onKeyPress={pressEnter}\n                    value={values}\n                  />\n                  <IconButton onClick={() => setValues(values)}>\n                    <Search />\n                  </IconButton>\n                </Paper>\n              </Box>\n              <CrearCliente\n                tipo=\"CLIENTE\"\n                accion=\"registrar\"\n                ventas={true}\n                handleClickOpen={handleClickOpen}\n              />\n            </Box>\n            <Box mx={2}>\n              <ListaClientes\n                tipo=\"CLIENTE\"\n                filtro={values}\n                ventas={true}\n                handleClickOpen={handleClickOpen}\n              />\n            </Box>\n          </DialogContent>\n        </Dialog>\n      </ClienteProvider>\n    </>\n  );\n}\n","import { gql } from \"@apollo/client\";\n\nexport const CREAR_COTIZACION = gql`\nmutation crearCotizacion( $input: CrearVentasInput!, $empresa: ID!, $sucursal: ID!, $usuario: ID!, $caja: ID!) {\n    crearCotizacion(input: $input, empresa: $empresa, sucursal: $sucursal, usuario: $usuario, caja: $caja, ) {\n\t\t\tmessage\n\t\t}\n\t}\n`;","import React, { useContext, useState } from 'react';\nimport {\n    Box, Button, DialogActions, DialogContent, \n    FormControl, Grid, MenuItem, \n    Paper, \n    Select, Slider, TextField, Typography \n} from '@material-ui/core'\nimport useStyles from '../styles';\nimport MonetizationOnIcon from '@material-ui/icons/MonetizationOn';\nimport MoneyOffIcon from '@material-ui/icons/MoneyOff';\nimport moment from 'moment';\nimport 'moment/locale/es';\nimport { CREAR_COTIZACION } from \"../../../gql/Ventas/cotizaciones\";\nimport { VentasContext } from '../../../context/Ventas/ventasContext';\nimport { useMutation } from '@apollo/client';\n\nexport default function NuevaCotizacion({ setOpen }) {\n    const { setAlert } = useContext(VentasContext);\n\n    const [ CrearCotizacion ] = useMutation(CREAR_COTIZACION);\n\n    const datosVentas = JSON.parse(localStorage.getItem('DatosVentas'));\n    const turnoEnCurso = JSON.parse(localStorage.getItem('turnoEnCurso'));\n    const sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\n    const [ newCotizacion, setNewCotizacion ] = useState([]);\n    const [ preciosDescuentos, setPreciosDescuentos ] = useState([]);\n    const [ totalDescount, setTotalDescount ] = useState(preciosDescuentos ? preciosDescuentos?.descuento_general?.precio_con_descuento : 0);\n    const [ value, setValue ] =  useState(preciosDescuentos?.descuento_general?.porciento ? preciosDescuentos?.descuento_general?.porciento : 0);\n\n    let descuento_general = [];\n    var totalCompra = datosVentas?.total;\n\n    \n    const classes = useStyles();\n\n    const obtenerDatos = (e) => {\n        setNewCotizacion({...newCotizacion, [e.target.name]: e.target.value});\n    };\n\n    // const input = {\n    //     folio: \"\",\n    //     descuento: datosVentas.descuento,\n    //     ieps: datosVentas.ieps,\n    //     impuestos: datosVentas.impuestos,\n    //     iva: datosVentas.iva,\n    //     monedero: datosVentas.monedero,\n    //     subTotal: datosVentas.subTotal,\n    //     total: datosVentas.total,\n    //     venta_cliente: false,\n    //     montos_en_caja: {},\n    //     credito: false,\n    //     descuento_general_activo: preciosDescuentos?.descuento_general_activo ? preciosDescuentos?.descuento_general_activo : false,\n    //     decuento_general: preciosDescuentos?.descuento_general ? preciosDescuentos?.descuento_general :\n    //     {\n    //         \"porciento\": 0,\n    //         \"precio_con_descuento\": 0,\n    //         \"cantidad_descontado\": 0\n    //     },\n    //     dias_de_credito_venta: \"\",\n    //     fecha_de_vencimiento_credito: \"\",\n    //     fecha_vencimiento_cotizacion: newCotizacion.fecha_vencimiento,\n    //     cliente: datosVentas.cliente,\n    //     productos: datosVentas.productos,\n    //     tipo_venta: newCotizacion.tipo_venta,\n    // };\n\n    const input = {\n        \"folio\": \"12345\",\n        \"descuento\": datosVentas.descuento,\n        \"ieps\": datosVentas.ieps,\n        \"impuestos\": datosVentas.impuestos,\n        \"iva\": datosVentas.iva,\n        \"monedero\": datosVentas.monedero,\n        \"subTotal\": datosVentas.subTotal,\n        \"total\": datosVentas.total,\n        \"venta_cliente\": false,\n        \"montos_en_caja\": {},\n        \"credito\": false,\n        \"descuento_general_activo\": preciosDescuentos?.descuento_general_activo ? preciosDescuentos?.descuento_general_activo : false,\n        \"decuento_general\": preciosDescuentos?.descuento_general ? preciosDescuentos?.descuento_general :\n        {\n            \"porciento\": 0,\n            \"precio_con_descuento\": 0,\n            \"cantidad_descontado\": 0\n        },\n        \"dias_de_credito_venta\": null,\n        \"fecha_de_vencimiento_credito\": null,\n        \"fecha_vencimiento_cotizacion\": newCotizacion.fecha_vencimiento,\n        \"cliente\":{\n            \"banco\": null,\n            \"celular\": null,\n            \"clave_cliente\": \"23233\",\n            \"curp\": null,\n            \"dias_credito\": null,\n            \"direccion\":{\n                \"calle\": \"Antonio\",\n                \"no_ext\": \"1\",\n                \"no_int\": \"1\",\n                \"codigo_postal\": \"1\",\n                \"colonia\": \"Antonio\",\n                \"municipio\": \"1\",\n                \"localidad\": \"1\",\n                \"estado\": \"1\",\n                \"pais\": \"1\"\n            },\n            \"email\": \"antonio.poday@gmail.com\",\n            \"imagen\": null,\n            \"limite_credito\": null,\n            \"nombre_cliente\": \"Antonio\",\n            \"numero_cliente\": \"2323\",\n            \"razon_social\": null,\n            \"rfc\": null,\n            \"telefono\": \"1212\",\n            \"monedero_electronico\": null\n        },\n        \"productos\": [\n        {\n            \"cantidad\": 1,\n            \"cantidad_venta\": 1,\n            \"codigo_barras\": \"226216505720\",\n            \"concepto\": \"unidades\",\n            \"default\": true,\n            \"descuento\": {\n                \"porciento\": 15,\n                \"dinero_descontado\": 5.4,\n                \"precio_con_descuento\": 30.6\n            },\n            \"descuento_activo\": true,\n                \"granel_producto\": {\n                \"granel\": false,\n                \"valor\": 0\n            },\n            \"precio\": 8.25,\n            \"precio_a_vender\": 8.25,\n            \"precio_actual_producto\": 8.25,\n            \"precio_anterior\":8.25,\n            \"iva_total_producto\": 1.03,\n            \"ieps_total_producto\": 0,\n            \"impuestos_total_producto\": 1.03,\n            \"subtotal_total_producto\": 7.22,\n            \"total_total_producto\": 8.25,\n            \"unidad\": \"Caja\",\n            \"codigo_unidad\": \"XBX\",\n            \"unidad_principal\": true,\n            \"inventario_general\": [\n                {\n                    \"cantidad_existente\": 120,\n                    \"cantidad_existente_maxima\": 10,\n                    \"unidad_inventario\": \"Pz\",\n                    \"codigo_unidad\": null,\n                    \"unidad_maxima\": \"Caja\"\n                }\n            ],\n            \"id_producto\":{\n                \"_id\": \"61b7bf6e3454b727a0c2e357\",\n                \"datos_generales\": {\n                    \"clave_alterna\": \"COCA\",\n                    \"codigo_barras\": \"226216505720\",\n                    \"nombre_comercial\": \"COCACOLA\",\n                    \"tipo_producto\": \"OTROS\",\n                    \"nombre_generico\": \"COCACOLA\",\n                    \"descripcion\": null,\n                    \"id_categoria\": null,\n                    \"categoria\": null,\n                    \"subcategoria\": null,\n                    \"id_subcategoria\": null,\n                    \"id_departamento\": null,\n                    \"departamento\": null,\n                    \"id_marca\": null,\n                    \"marca\": null,\n                    \"receta_farmacia\": false,\n                    \"clave_producto_sat\":{\n                        \"Name\": \"Refrescos\",\n                        \"Value\": \"50202306\"\n                    }\n                },\n                \"imagenes\":[{\n                    \"url_imagen\": \"\"\n                }],\n                \"precios\":{\n                    \"ieps\": 10,\n                    \"ieps_activo\": false,\n                    \"inventario\": {\n                        \"inventario_maximo\": 15,\n                        \"inventario_minimo\": 5,\n                        \"unidad_de_inventario\": \"Caja\",\n                        \"codigo_unidad\": \"XBX\"\n                    },\n                    \"iva\": 16,\n                    \"iva_activo\": true,\n                    \"monedero\": false,\n                    \"monedero_electronico\": 0,\n                    \"precio_de_compra\": {\n                        \"precio_con_impuesto\": 180,\n                        \"precio_sin_impuesto\": 155.1724,\n                        \"iva\": 24.8276,\n                        \"ieps\": 0\n                    },\n                    \"precios_producto\": [\n                        {\n                            \"numero_precio\": 1,\n                            \"precio_neto\": 8.25,\n                            \"unidad_mayoreo\": 0,\n                            \"utilidad\": 10\n                        },\n                        {\n                            \"numero_precio\": 2,\n                            \"precio_neto\": 0,\n                            \"unidad_mayoreo\": 0,\n                            \"utilidad\": 0\n                        },\n                        {\n                            \"numero_precio\": 3,\n                            \"precio_neto\": 0,\n                            \"unidad_mayoreo\": 0,\n                            \"utilidad\": 0\n                        },\n                        {\n                            \"numero_precio\": 4,\n                            \"precio_neto\": 0,\n                            \"unidad_mayoreo\": 0,\n                            \"utilidad\": 0\n                        },\n                        {\n                            \"numero_precio\": 5,\n                            \"precio_neto\": 0,\n                            \"unidad_mayoreo\": 0,\n                            \"utilidad\": 0\n                        },\n                        {\n                            \"numero_precio\": 6,\n                            \"precio_neto\": 0,\n                            \"unidad_mayoreo\": 0,\n                            \"utilidad\": 0\n                        }\n                        ],\n                    \"unidad_de_compra\": {\n                        \"cantidad\": 24,\n                        \"precio_unitario_con_impuesto\": 7.5,\n                        \"precio_unitario_sin_impuesto\": 6.4655,\n                        \"unidad\": \"Caja\",\n                        \"codigo_unidad\": \"XBX\"\n                    }\n                }\n            },\n            \"medida\": null,\n            \"color\": null\n        }]\n    };\n\n    const crearCotizacion = async () => {\n        try {\n            if(!newCotizacion.fecha_vencimiento || !newCotizacion.tipo_venta){\n                setAlert({\n                    message: `Por favor completa los datos necesarios`,\n                    status: \"error\",\n                    open: true,\n                });\n                return null;\n            }else{\n                const registroCotizacion = await CrearCotizacion({\n                    variables: {\n                        input,\n                        empresa: \"60c120b6a694891f58d32a1d\",\n                        sucursal: \"60c8e180340d5d223432a916\",\n                        usuario: \"60dde52c5cda9d5510c4b7d0\",\n                        caja: \"61a5037918594a4ecdc1c7bf\"\n                    }\n                });\n                console.log(registroCotizacion);\n            }\n\n        } catch (error) {\n            console.log(error);\n            if(error.networkError.result){\n\t\t\t\tconsole.log(error.networkError.result.errors);\n\t\t\t  }else if(error.graphQLErrors){\n\t\t\t\tconsole.log(error.graphQLErrors.message);\n\t\t\t  }\n\n        }\n    };\n\n    function valuetext(e) {\n        return `${e}`;\n    };\n\n    const obtenerPorciento = (event, newValue) => {\n        setValue(newValue);\n        var porcentaje  =  parseFloat((100 - newValue).toFixed(6));\n        var descuento = parseFloat((totalCompra * porcentaje / 100).toFixed(6));\n        var dineroDescontado = parseFloat((totalCompra - descuento).toFixed(6));\n        descuento_general = {\n            \"descuento_general_activo\": true,\n            \"descuento_general\": {\n                \"porciento\": newValue,\n                \"precio_con_descuento\": descuento,\n                \"cantidad_descontado\": dineroDescontado\n            }\n        };\n        setPreciosDescuentos(descuento_general);\n        setTotalDescount(descuento);\n    };\n    \n    const obtenerPrecioText = (e) => {\n        var valorText = parseFloat(e.target.value);\n        setTotalDescount(valorText);\n        var porcentaje  = parseFloat(((valorText / totalCompra) * 100).toFixed(6));\n        var descuento = parseFloat((100 - porcentaje).toFixed(6));\n        var dineroDescontado = parseFloat((totalCompra - valorText).toFixed(6));\n\n        descuento_general = {\n            \"descuento_general_activo\": true,\n            \"descuento_general\": {\n                \"porciento\": descuento,\n                \"precio_con_descuento\": valorText,\n                \"cantidad_descontado\": dineroDescontado\n            }\n        };\n        setPreciosDescuentos(descuento_general);\n        setValue(descuento);\n    };\n\n    const eliminarDescuento = () => { \n        descuento_general = {\n            \"descuento_general_activo\": false,\n            \"descuento_general\": {\n                \"porciento\": 0,\n                \"precio_con_descuento\": 0,\n                \"cantidad_descontado\": 0\n            }\n        };\n        setValue(0);\n        setTotalDescount(0);\n        setPreciosDescuentos(descuento_general);\n    }\n\n    return (\n        <>\n            <DialogContent style={{padding: 0}} >\n                <div className={classes.formInputFlex}>\n                    <Box width=\"100%\">\n                        <Typography>\n                            Usuario:\n                        </Typography>\n                        <Box display=\"flex\">\n                            <TextField\n                                fullWidth\n                                size=\"small\"\n                                disabled={true}\n                                variant=\"outlined\"\n                                onChange={obtenerDatos}\n                                value={sesion ? sesion.nombre : \"\"}\n                            />\n                        </Box>\n                    </Box>\n                    <Box width=\"100%\">\n                        <Typography>\n                            Fecha:\n                        </Typography>\n                        <Box display=\"flex\">\n                            <TextField\n                                fullWidth\n                                size=\"small\"\n                                disabled={true}\n                                onChange={obtenerDatos}\n                                variant=\"outlined\"\n                                value={moment().format('L')}\n                            />\n                        </Box>\n                    </Box>\n                </div>\n                <div className={classes.formInputFlex}>\n                    <Box width=\"100%\">\n                        <Typography>\n                            Cliente:\n                        </Typography>\n                        <Box display=\"flex\">\n                            <TextField\n                                fullWidth\n                                size=\"small\"\n                                disabled={true}\n                                onChange={obtenerDatos}\n                                variant=\"outlined\"\n                                value={datosVentas.cliente?.nombre_cliente ? datosVentas.cliente?.nombre_cliente : \"Publico General\"}\n                            />\n                        </Box>\n                    </Box>\n                    <Box width=\"100%\">\n                        <Typography>\n                            Fecha Vencimiento:\n                        </Typography>\n                        <Box display=\"flex\">\n                            <TextField\n                                fullWidth\n                                type='date'\n                                onChange={obtenerDatos}\n                                size=\"small\"\n                                name=\"fecha_vencimiento\"\n                                variant=\"outlined\"\n                            />\n                        </Box>\n                    </Box>\n                </div>\n                <div className={classes.formInputFlex}>\n                    <Box width=\"100%\">\n                        <Typography>\n                            No. Cliente:\n                        </Typography>\n                        <Box display=\"flex\">\n                            <TextField\n                                fullWidth\n                                size=\"small\"\n                                disabled={true}\n                                onChange={obtenerDatos}\n                                variant=\"outlined\"\n                                value={datosVentas ? datosVentas.cliente?.numero_cliente : \"\"}\n                            />\n                        </Box>\n                    </Box>\n                    <Box width=\"100%\">\n                        <Typography>\n                            Tipo de Venta:\n                        </Typography>\n                        <FormControl\n                            variant=\"outlined\"\n                            fullWidth\n                            size=\"small\"\n                        >\n                            <Select\n                                id=\"form-producto-tipo\"\n                                onChange={obtenerDatos}\n                                name=\"tipo_venta\"\n                            >\n                                <MenuItem value=''>\n                                    <em>Selecciona uno</em>\n                                </MenuItem>\n                                <MenuItem value='CREDITO'>Credito</MenuItem>\n                                <MenuItem value='CONTADO'>Contado</MenuItem>\n                            </Select>\n                        </FormControl>\n                    </Box>\n                </div>\n                <Grid container>\n                    <Grid lg={6}>\n                        <Box p={1}>\n                            <Paper elevation={3} >\n                                <Box p={2} textAlign={'center'}>\n                                    <Typography variant=\"h6\">\n                                        Agregar descuento total a la venta.\n                                    </Typography>\n                                </Box>\n                                <Box textAlign={'center'} p={2}>\n                                    <div className={classes.formInputFlex}>\n                                        <Box width=\"95%\">\n                                            <Box display=\"flex\" alignItems=\"center\">\n                                                <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" p={1}>\n                                                    <img \n                                                        src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/price-tag.png' \n                                                        alt=\"icono admin\" \n                                                        style={{width: 30}}                                   \n                                                    />\n                                                </Box>\n                                                <Typography variant=\"h6\">\n                                                    Porciento descuento\n                                                </Typography>\n                                            </Box>\n                                            <Box display='flex' justifyContent=\"center\" justifyItems=\"center\" className={classes.rootSlice}>\n                                                <Slider\n                                                    getAriaValueText={valuetext}\n                                                    value={value.toFixed(2)}\n                                                    aria-labelledby=\"discrete-slider-small-steps\"\n                                                    valueLabelDisplay=\"auto\"\n                                                    onChange={obtenerPorciento} \n                                                />\n                                            </Box>\n                                        </Box>\n                                    </div>\n                                    <div className={classes.formInputFlex}>\n                                        <Box width=\"100%\">\n                                            <Typography variant=\"h6\" >\n                                                Total con descuento:\n                                            </Typography>\n                                            <Box display=\"flex\">\n                                                <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" mr={1}>\n                                                    <MoneyOffIcon style={{fontSize: 38, color: \"green\"}} />\n                                                </Box>\n                                                <TextField\n                                                    fullWidth\n                                                    size=\"small\"\n                                                    type=\"number\"\n                                                    name=\"precioConDescuento\"\n                                                    onChange={obtenerPrecioText}\n                                                    value={totalDescount}\n                                                    className={classes.input}\n                                                    variant=\"outlined\"\n                                                />\n                                            </Box>\n                                        </Box>\n                                    </div>\n                                </Box>\n                                <Box \n                                    p={1}\n                                    display=\"flex\"\n                                    flexDirection='row-reverse'\n                                >\n                                    <Button \n                                        variant=\"outlined\"\n                                        color=\"secondary\"\n                                        size=\"large\"\n                                        onClick={eliminarDescuento}\n                                    >\n                                        Eliminar Descuento\n                                    </Button>\n                                </Box>\n                            </Paper>\n                        </Box>\n                    </Grid>\n                    <Grid lg={6}>\n                        <Box mr={2} mt={2}>\n                            <Box display=\"flex\" flexDirection=\"row-reverse\" width=\"100%\">\n                                <Typography style={{fontSize: 18}}>\n                                    <b>No. Productos: </b> {datosVentas.productos.length}\n                                </Typography>\n                            </Box>\n                            <Box display=\"flex\" flexDirection=\"row-reverse\" width=\"100%\">\n                                <Typography style={{fontSize: 18}}>\n                                    <b>Sub total:</b> ${datosVentas ? (datosVentas.subTotal).toFixed(2) : 0}\n                                </Typography>\n                            </Box>\n                            <Box display=\"flex\" flexDirection=\"row-reverse\" width=\"100%\">\n                                <Typography style={{fontSize: 18}}>\n                                    <b>Impuestos:</b> ${datosVentas ? (datosVentas.impuestos).toFixed(2): 0}\n                                </Typography>\n                            </Box>\n                            <Box display=\"flex\" flexDirection=\"row-reverse\" width=\"100%\">\n                                <Typography style={{fontSize: 18}}>\n                                    <b>I.V.A.:</b> ${datosVentas ? (datosVentas.iva).toFixed(2) : 0}\n                                </Typography>\n                            </Box>\n                            <Box display=\"flex\" flexDirection=\"row-reverse\" width=\"100%\">\n                                <Typography style={{fontSize: 18}}>\n                                    <b>Descuento:</b> <b style={{color: \"green\"}}>${preciosDescuentos?.descuento_general ? (preciosDescuentos?.descuento_general?.cantidad_descontado).toFixed(2) : 0} </b>\n                                </Typography>\n                            </Box>\n                        </Box>\n                        <Box display=\"flex\" flexDirection=\"row-reverse\" p={1}>\n                            <Typography variant=\"h4\">\n                                Total: \n                                <b style={{color: \"green\"}}>\n                                    ${preciosDescuentos?.descuento_general && preciosDescuentos?.descuento_general?.precio_con_descuento > 0? \n                                    (preciosDescuentos?.descuento_general?.precio_con_descuento).toFixed(2) : (\n                                        datosVentas ? (datosVentas.total).toFixed(2) : 0\n                                    )}\n                                </b>\n                            </Typography>\n                            <Box mt={.5} mr={1}>\n                                <MonetizationOnIcon style={{fontSize: 37, color: \"green\"}} />\n                            </Box>\n                        </Box>\n                    </Grid>\n                </Grid>\n            </DialogContent>\n            <DialogActions>\n                <Button\n                    color=\"primary\"\n                    variant=\"outlined\"\n                    size=\"large\"\n                    onClick={crearCotizacion}\n                >\n                    Crear cotizacin\n                </Button>\n                <Button\n                    color=\"secondary\"\n                    variant=\"outlined\"\n                    size=\"large\"\n                    onClick={() => setOpen(false)}\n                >\n                    Cancelar\n                </Button>\n            </DialogActions>\n        </>\n    )\n};","import React, { useContext, useEffect, useState } from 'react'\nimport { AppBar, Box, Button, \n\t\tDialog, Slide, Typography \n} from '@material-ui/core'\nimport { FcCurrencyExchange } from 'react-icons/fc';\nimport NuevaCotizacion from './NuevaCotizacion';\nimport CloseIcon from '@material-ui/icons/Close';\nimport moment from 'moment';\nimport 'moment/locale/es';\nimport useStyles from '../styles';\nimport { AccesosContext } from '../../../context/Accesos/accesosCtx';\nimport { VentasContext } from '../../../context/Ventas/ventasContext';\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\nexport default function Cotizacion({type}) {\n\n\n    moment.locale('es');\n\tconst classes = useStyles();\n\n    const sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n    const turnoEnCurso = JSON.parse(localStorage.getItem('turnoEnCurso'));\n    const datosVentas = JSON.parse(localStorage.getItem('DatosVentas'));\n\tconst [tipoVentana, setTipoVentana] = useState(type);\n\n\tconst { \n\t\treloadCrearCotizacion, \n        setReloadCrearCotizacion,\n\t\tsetAbrirPanelAcceso,\n        abrirPanelAcceso,\n\t\tsetDepartamentos\n\t} = useContext(AccesosContext);\n\n\tconst { \n\t\tsetAlert, \n\t} = useContext(VentasContext);\n\n    const [open, setOpen] = useState(false);\n\n\tconst handleClickOpen = (tipo) => {\n\t\tif(!datosVentas){\n\t\t\tsetAlert({\n\t\t\t\tmessage: `Lo sentimos no hay productos que cotizar`,\n\t\t\t\tstatus: \"error\",\n\t\t\t\topen: true,\n\t\t\t});\n\t\t\treturn null;\n\t\t}else{\n\t\t\tif(sesion?.accesos.ventas.cotizaciones.ver === true){\n\t\t\t\tsetOpen(!open);\n\t\t\t}else{\n\t\t\t\tconsole.log('pedir permiso');\n\t\t\t\tsetAbrirPanelAcceso(!abrirPanelAcceso);\n\t\t\t\tsetDepartamentos({departamento: 'ventas', subDepartamento: 'cotizaciones', tipo_acceso: 'ver'})\n\t\t\t}\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tif(reloadCrearCotizacion === true){\n\t\t\tsetReloadCrearCotizacion(false);\n\t\t\tsetTipoVentana('GENERAR');\n\t\t\tsetOpen(!open);\n\t\t}\n\t}, [reloadCrearCotizacion]);\n\n    window.addEventListener('keydown', Mi_funcin); \n    function Mi_funcin(e){\n        if(e.altKey && e.keyCode === 84){ \n            handleClickOpen('', false);\n        } \n    };\n\n    return (\n        <>\n\t\t\t<Button \n\t\t\t\tclassName={classes.borderBotonChico}\n\t\t\t\tonClick={() => handleClickOpen(tipoVentana)}\n\t\t\t>\n\t\t\t\t<Box>\n\t\t\t\t\t<Box>\n\t\t\t\t\t\t<FcCurrencyExchange style={{fontSize: 50}} />\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box>\n\t\t\t\t\t\t<Typography variant=\"body2\" >\n\t\t\t\t\t\t\t<b>Generar cotizacion</b>\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</Box>\n\t\t\t\t</Box>\n\t\t\t</Button>\n        \t<Dialog\n\t\t\t\tfullWidth\n\t\t\t\topen={open} \n\t\t\t\tmaxWidth={ tipoVentana === \"GENERAR\" ? 'md':'lg' }\n\t\t\t\tonClose={() => setOpen(false)} \n\t\t\t\tTransitionComponent={Transition}\n\t\t\t>\n                <AppBar position=\"static\" color=\"default\" elevation={0}>\n\t\t\t\t\t<Box display={'flex'}>\n                        <Box display='flex' flexGrow={1} >\n                            <Box p={2} display={'flex'} alignItems={'center'}>\n\t\t\t\t\t\t\t\t<FcCurrencyExchange style={{fontSize: 60}} />\n                            </Box>\n                            <Box p={1} display={'flex'} alignItems={'center'}>\n                                <Typography variant='h6'>\n\t\t\t\t\t\t\t\t\tNueva Cotizacin\n                                </Typography>\n                            </Box>\n                        </Box>\n                        <Box mt={2} textAlign=\"right\">\n                            <Box textAlign=\"right\">\n                                <Typography variant=\"caption\">\n                                    {moment().format('L')}\n                                </Typography>\n                            </Box>\n                            <Box textAlign=\"right\">\n                                <Typography variant=\"caption\">\n                                    {moment().format('LT')} hrs.\n                                </Typography>\n                            </Box>\n                            <Box textAlign=\"right\">\n                                <Typography variant=\"caption\">\n                                    {sesion?.nombre}\n                                </Typography>\n                            </Box>\n                            <Box textAlign=\"right\">\n                                <Typography variant=\"caption\">\n                                    Caja {!turnoEnCurso ? null : turnoEnCurso.numero_caja }\n                                </Typography>\n                            </Box>\n                        </Box>\n                        <Box  p={3} >\n                            <Button variant=\"contained\" color=\"secondary\" onClick={() => setOpen(!open)} size=\"medium\">\n                                <CloseIcon />\n                            </Button>\n                        </Box>\n                    </Box>\n\t\t\t\t</AppBar>\n\t\t\t\t<Box p={2} >\n\t\t\t\t\t<NuevaCotizacion setOpen={setOpen} />\n\t\t\t\t</Box>\n\t\t\t</Dialog>\n\t\t</>\n\t)\n};\n","import React, { useContext, useEffect, useState } from 'react';\nimport { Box, Button, Dialog, DialogActions, DialogContent, Divider, Grid, Slide, Typography } from '@material-ui/core'\nimport useStyles from '../styles';\nimport { AccesosContext } from '../../../context/Accesos/accesosCtx';\nimport CloseIcon from '@material-ui/icons/Close';\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function CancelarVenta() {\n    const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n    const classes = useStyles();\n    const [open, setOpen] = useState(false);\n\n    const { \n\t\treloadCancelarVenta, \n        setReloadCancelarVenta,\n\t\tsetAbrirPanelAcceso,\n        abrirPanelAcceso,\n\t\tsetDepartamentos\n\t} = useContext(AccesosContext);\n    \n    const handleClickOpen = () => {\n        if(sesion.accesos.ventas.cancelar_venta.ver === true){\n            setOpen(!open);\n        }else{\n\t\t\tsetAbrirPanelAcceso(!abrirPanelAcceso);\n\t\t\tsetDepartamentos({departamento: 'ventas', subDepartamento: 'cancelar_venta', tipo_acceso: 'ver'})\n\t\t}\n\t};\n    \n    window.addEventListener('keydown', Mi_funcin); \n    function Mi_funcin(e){\n        if(e.keyCode === 118){ \n            handleClickOpen();\n        } \n    };\n\n    useEffect(() => {\n\t\tif (reloadCancelarVenta === true) {\t\n            setOpen(!open);\n\t\t\tsetReloadCancelarVenta(false);\n\t\t}\n\t}, [reloadCancelarVenta]);\n    \n\n    return (\n        <>\n            <Button \n                className={classes.borderBotonChico}\n                onClick={handleClickOpen}\n            >\n                <Box>\n                    <Box>\n                        <img \n                            src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/ventas/shopping-cart.svg' \n                            alt=\"icono cancelarventa\" \n                            style={{width: 35}}\n                        />\n                    </Box>\n                    <Box>\n                        <Typography variant=\"body2\" >\n                            <b>Cancelar Venta</b>\n                        </Typography>\n                    </Box>\n                    <Box>\n                        <Typography variant=\"caption\" style={{color: '#808080'}} >\n                            <b>F7</b>\n                        </Typography>\n                    </Box>\n                </Box>\n            </Button>\n            <Dialog\n\t\t\t\tmaxWidth='lg'\n\t\t\t\topen={open} \n\t\t\t\tonClose={handleClickOpen} \n\t\t\t\tTransitionComponent={Transition}\n\t\t\t>\n                <DialogContent>\n                    <Grid container item lg={12}>\n                        <Box\n                            display=\"flex\"\n                            alignItems=\"center\"\n                            justifyContent=\"center\"\n                            flexGrow={1}\n                        >\n                            <Box>\n                                <img src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/ventas/shopping-cart.svg' alt=\"icono caja\" className={classes.iconSizeDialogs} />\n                            </Box>\n                            <Box m={2} >\n                                <Divider orientation=\"vertical\" />\n                            </Box>\n                            <Box>\n                                <Typography variant=\"h5\">\n                                    Cancelar Venta\n                                </Typography>\n                            </Box>\n                        </Box>\n                        <Box ml={10} mb={7} display=\"flex\" alignItems=\"center\">\n                            <Button variant=\"contained\" color=\"secondary\" onClick={()=> setOpen(!open)} size=\"large\">\n                                <CloseIcon />\n                            </Button>\n                        </Box>\n                    </Grid>\n                    <Box p={2}>\n                        <Typography variant='h5'>\n                            Esta seguro que desea cancelar esta venta?\n                        </Typography>\n                    </Box> \n                </DialogContent>\n                <DialogActions>\n                    <Button \n                        onClick={()=>{\n                            localStorage.removeItem('DatosVentas');\n                            setOpen(!open);\n                        }} \n                        variant=\"contained\" \n                        color=\"primary\"\n                        size=\"large\"\n                        autoFocus\n                    >\n                        Aceptar\n                    </Button>\n                    {/* <Button \n                        onClick={() => setOpen(!open)} \n                        variant=\"contained\" \n                        color=\"secondary\"\n                        size=\"large\"\n                        autoFocus\n                    >\n                        Cancelar\n                    </Button> */}\n                </DialogActions>\n            </Dialog>\n        </>\n    )\n}\n","import React, { useState, useEffect, useContext } from \"react\";\nimport useStyles from \"../styles\";\n\nimport {\n  Box,\n  Button,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  Divider,\n  Grid,\n  Paper,\n  Slide,\n  TextField,\n  Typography,\n  InputAdornment,\n} from \"@material-ui/core\";\nimport { FcDonate, FcShop } from \"react-icons/fc\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport CreditCardIcon from \"@material-ui/icons/CreditCard\";\nimport LocalOfferIcon from \"@material-ui/icons/LocalOffer\";\nimport ClearIcon from \"@material-ui/icons/Clear\";\nimport { Edit } from \"@material-ui/icons\";\nimport { FcBusinessman, FcSalesPerformance } from \"react-icons/fc\";\nimport { numerosRandom } from \"../../../config/reuserFunctions\";\nimport { formaPago } from \"../../../pages/sucursales/Facturacion/catalogos\";\nimport { CREAR_VENTA } from \"../../../gql/Ventas/ventas_generales\";\nimport { useMutation } from \"@apollo/client\";\nimport moment from \"moment\";\n\nimport { VentasContext } from \"../../../context/Ventas/ventasContext\";\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function CerrarVenta() {\n  const classes = useStyles();\n  const [cambio, setCambio] = useState(false);\n\n  const abrirCajon = () => {\n    setCambio(!cambio);\n  };\n  const [open, setOpen] = useState(false);\n  const [openModalDescuento, setOpenModalDescuento] = useState(false);\n  const [recalcular, setRecalcular] = useState(false);\n  //Datos del context\n  const { updateTablaVentas, setUpdateTablaVentas, updateClientVenta, setUpdateClientVenta, openBackDrop, setOpenBackDrop } = useContext(VentasContext);\n  //States de venta\n  const [totalVenta, setTotalVenta] = useState(0);\n  const [montoPagado, setMontoPagado] = useState(0);\n  const [cambioVenta, setCambioVenta] = useState(0);\n  const [datosCliente, setDatosCliente] = useState({});\n  const [monedero, setMonedero] = useState(0);\n  const [descuentoVenta, setDescuentoVenta] = useState(0);\n  const [fechaVencimientoDate, setfechaVencimientoDate] = useState(\"\");\n  const [valorPuntoProducto, setValorPuntoProducto] = useState(0.5);\n  const [valorFinalCambioPuntos, setValorFinalCambioPuntos] = useState(0);\n  const [monederoTotal, setMonederoTotal] = useState(0);\n  const [ventaActual, setVentaActual] = useState(0);\n  const [editableClient, setEditableClient] = useState(true);\n  const [visible, setVisible] = useState(false);\n\n  //States descuento venta\n  const [descuentoAplicarVenta, setDescuentoAplicarVenta] = useState(0);\n  const [descuentoPorsentajeVenta, setDescuentoPorsentajeVenta] = useState(0);\n\n  // const [descuentoAplicadoVenta, setDescuentoAplicadoVenta] = useState(0);\n  const [ventaOriginal, setVentaOriginal] = useState(0);\n\n  const [creditoActivo, setCreditoActivo] = useState(false);\n\n  //States de los montos a pagar\n  const [efectivo, setEfectivo] = useState(0);\n  const [tarjeta, setTarjeta] = useState(0);\n  const [puntos, setPuntos] = useState(0);\n  const [transferencia, setTransferencia] = useState(0);\n  const [cheque, setCheque] = useState(0);\n\n  const [createVenta] = useMutation(CREAR_VENTA);\n\n  const handleClickOpen = () => {\n    setOpen(!open);\n    setRecalcular(!recalcular);\n    //TODO: Guardar la venta original en un context u localstorage por si se quiere resetear el descuento\n  };\n\n  const hancleClickCerrarVentaCambio = () => {\n    setCambio(!cambio);\n\n    //Limpiar el storage de ventas\n    localStorage.setItem(\n      \"DatosVentas\",\n      JSON.stringify({\n        cliente:{},\n        venta_cliente: false,\n        monedero: 0,\n        productos: [],\n        total: 0,\n        subTotal: 0,\n        impuestos: 0,\n        iva: 0,\n        ieps: 0,\n        descuento: 0,\n      })\n    );\n    //Actualizar la tabla de ventas\n    setUpdateTablaVentas(!updateTablaVentas);\n    setUpdateClientVenta(!updateClientVenta);\n    //Quitar venta a credito\n    setCreditoActivo(false);\n  };\n\n  function funcion_tecla(event) {\n    const tecla_escape = event.keyCode;\n    if (tecla_escape === 27) {\n      handleClickOpen();\n    }\n  }\n\n  const handleClickFinishVenta = async () => {\n    try {\n      //TODO: Colocar loading en el modal\n      setOpenBackDrop(!openBackDrop);\n      //Obtener datos del storage\n      const sesion = JSON.parse(localStorage.getItem(\"turnoEnCurso\"));\n      const usuario = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n      //Obtener ventad final\n      const ventaFinal = { ...ventaActual };\n      //Generar folio\n      const folio = numerosRandom(100000000000, 999999999999);\n      //Agregar folio venta\n      ventaFinal.folio = `${folio}`;\n      //Agregar los montos en caja\n      const montosEnCaja = {\n        monto_efectivo: {\n          monto: parseFloat(efectivo),\n          metodo_pago: formaPago[0].Value,\n        },\n        monto_tarjeta_debito: {\n          monto: parseFloat(tarjeta),\n          metodo_pago: formaPago[3].Value,\n        },\n        monto_tarjeta_credito: {\n          monto: 0,\n          metodo_pago: formaPago[3].Value,\n        },\n        monto_creditos: {\n          monto: 0,\n          metodo_pago: \"\",\n        },\n        monto_monedero: {\n          monto: parseFloat(puntos),\n          metodo_pago: formaPago[4].Value,\n        },\n        monto_transferencia: {\n          monto: parseFloat(transferencia),\n          metodo_pago: formaPago[2].Value,\n        },\n        monto_cheques: {\n          monto: parseFloat(cheque),\n          metodo_pago: formaPago[1].Value,\n        },\n        monto_vales_despensa: {\n          monto: 0,\n          metodo_pago: formaPago[6].Value,\n        },\n      };\n      ventaFinal.montos_en_caja = montosEnCaja;\n      //Colocamos si es venta a credito\n      ventaFinal.credito = visible;\n      //Agregar descuentos de ventas\n      ventaFinal.descuento_general_activo = false;\n      ventaFinal.decuento_general = null;\n      //Declarar dias de credito como false\n      ventaFinal.dias_de_credito_venta = datosCliente\n        ? datosCliente.dias_credito\n        : null;\n      ventaFinal.fecha_de_vencimiento_credito = fechaVencimientoDate;\n      ventaFinal.fecha_vencimiento_cotizacion = null;\n      ventaFinal.cambio = cambioVenta;\n      //Editar cliente\n      ventaFinal.editar_cliente = editableClient;\n      //Agregando los puntos finales\n      ventaFinal.puntos_totales_venta = monederoTotal;\n      //Enviar los datos\n      await createVenta({\n        variables: {\n          input: ventaFinal,\n          empresa: sesion.empresa,\n          sucursal: sesion.sucursal,\n          usuario: usuario._id,\n          caja: sesion.id_caja,\n        },\n      });\n      //TODO: Mandar mensaje de error en dado caso de que la venta sea incorrecta\n      //Cerrar modal venta\n      setOpen(!open);\n      //Mandar mensaje de cambio en dado caso de ser correcta\n      //Quitar loading\n      setOpenBackDrop(false);\n      hancleClickCerrarVentaCambio();\n      \n    } catch (error) {\n      console.log(error);\n      if (error.networkError.result) {\n        console.log(error.networkError.result.errors);\n      } else if (error.graphQLErrors) {\n        console.log(error.graphQLErrors.message);\n      }\n    }\n  };\n\n  const handlerChangeValue = (e, location) => {\n    switch (location) {\n      case \"EFECTIVO\":\n        setEfectivo(e.target.value);\n        break;\n      case \"TARJETA\":\n        setTarjeta(e.target.value);\n        break;\n\n      case \"PUNTOS\":\n        const valor = e.target.value != \"\" ? parseInt(e.target.value) : 0;\n        console.log(e.target.value, valor);\n        if (valor <= monederoTotal) {\n          const valor2 = valorPuntoProducto * parseFloat(valor);\n          setPuntos(valor);\n          // setValorFinalCambioPuntos(valor2);\n          setEfectivo(efectivo - valor2);\n          setTotalVenta(totalVenta - valor2);\n          // console.log(\"Valor efectivo >>> \", efectivo);\n          // console.log(\"Valor2 >>\", valor2);\n          // console.log(\"Faltante >>> \",efectivo - valor2);\n        }\n        break;\n      case \"TRANSFERENCIA\":\n        setTransferencia(e.target.value);\n        break;\n      case \"CHEQUE\":\n        setCheque(e.target.value);\n        break;\n      default:\n        return alert(\"Error de pago\");\n    }\n  };\n\n  window.onkeydown = funcion_tecla;\n\n  const handlerChangeDiscountVenta = (e) => {\n    const valor = e.target.value;\n    setDescuentoAplicarVenta(valor);\n    setDescuentoPorsentajeVenta(0);\n    if (valor !== \"\") {\n      const ventaSubtotal = ventaActual.subTotal;\n      const descuento =\n        ((ventaSubtotal - parseFloat(valor)) * 100) / ventaActual.subTotal -\n        100;\n      const positiveDiscount = Math.abs(descuento);\n      setDescuentoPorsentajeVenta(parseFloat(positiveDiscount.toFixed(2)));\n    }\n  };\n\n  const handleChangePorsentDiscount = (e) => {\n    const valor = e.target.value;\n    setDescuentoAplicarVenta(0);\n    setDescuentoPorsentajeVenta(valor);\n    if (valor !== \"\") {\n      const ventaSubtotal = ventaActual.subTotal;\n      const val =\n        valor < 10\n          ? parseFloat(`0.0${valor.replace(\".\", \"\")}`)\n          : parseFloat(`0.${valor.replace(\".\", \"\")}`);\n      const porsent = ventaSubtotal * val;\n      setDescuentoAplicarVenta(porsent.toFixed(2));\n    }\n  };\n\n  const handleCalculateNewDiscountVenta = () => {\n    let venta = JSON.parse(localStorage.getItem(\"DatosVentas\"));\n    //Declarar la variables necesarias (total, subTotal, impuestos, iva ieps, productosFinal)\n    let total = 0,\n      subTotal = 0,\n      impuestos = 0,\n      iva = 0,\n      ieps = 0,\n      descuento = 0;\n    let productosFinal = [];\n    //Activar loading\n\n    //Obtener productos\n    const productStorage = ventaActual.productos;\n    //Mapearlos\n    for (let i = 0; i < productStorage.length; i++) {\n      //Obtener el producto valor i\n      const product = productStorage[i];\n      let precio_actual_object = {};\n      const porsentajeNewDescuento = parseFloat(descuentoPorsentajeVenta);\n      const dineroDescontadoDescuento = parseFloat(\n        product.precio_actual_object.precio_venta *\n          parseFloat(`0.${porsentajeNewDescuento}`).toFixed(2)\n      );\n      //Calcular los nuevos precios\n      const newPrecioVentaProduct = parseFloat(\n        (\n          product.precio_actual_object.precio_venta - dineroDescontadoDescuento\n        ).toFixed(2)\n      );\n      const newIvaProduct = parseFloat(\n        (\n          newPrecioVentaProduct *\n          parseFloat(`0.${product.id_producto.precios.iva}`)\n        ).toFixed(2)\n      );\n      const newIepsProduct = parseFloat(\n        (\n          newPrecioVentaProduct *\n          parseFloat(`0.${product.id_producto.precios.ieps}`)\n        ).toFixed(2)\n      );\n      const newPrecioNetoProduct = parseFloat(\n        (newPrecioVentaProduct + newIvaProduct + newIepsProduct).toFixed(2)\n      );\n\n      const newUtilidadProduct = parseFloat(\n        (\n          ((newPrecioVentaProduct -\n            product.id_producto.precios.precio_de_compra.precio_sin_impuesto) /\n            product.id_producto.precios.precio_de_compra.precio_sin_impuesto) *\n          100\n        ).toFixed(2)\n      );\n\n      precio_actual_object = {\n        cantidad_unidad: 1,\n        dinero_descontado: dineroDescontadoDescuento,\n        ieps_precio: newIepsProduct,\n        iva_precio: newIvaProduct,\n        numero_precio: product.precio_actual_object.numero_precio,\n        porciento: product.precio_actual_object.porciento\n          ? parseFloat(\n              (\n                parseFloat(product.precio_actual_object.porciento) +\n                parseFloat(descuentoPorsentajeVenta)\n              ).toFixed(2)\n            )\n          : parseFloat(descuentoPorsentajeVenta),\n        precio_general: 0,\n        precio_neto: newPrecioNetoProduct,\n        precio_venta: newPrecioVentaProduct,\n        unidad_maxima: false,\n        utilidad: newUtilidadProduct,\n      };\n\n      if (product.precio_actual_object.unidad_maxima) {\n        //Aqui se calcula la unidad por mayoreo (Cajas y costales)\n        precio_actual_object.cantidad_unidad =\n          product.precio_actual_object.cantidad_unidad;\n        precio_actual_object.precio_general =\n          newPrecioNetoProduct *\n          parseFloat(product.precio_actual_object.cantidad_unidad);\n        precio_actual_object.unidad_maxima = true;\n      }\n      const valorGranel =\n        product.granel_producto.granel === true\n          ? parseFloat(product.granel_producto.valor)\n          : 1;\n      //Guardar el nuevo producto en el arreglo\n      const ieps_total_producto = parseFloat(\n        (\n          precio_actual_object.ieps_precio *\n          valorGranel *\n          product.cantidad_venta\n        ).toFixed(2)\n      );\n      const impuestos_total_producto = parseFloat(\n        (\n          (precio_actual_object.ieps_precio + precio_actual_object.iva_precio) *\n          valorGranel *\n          product.cantidad_venta\n        ).toFixed(2)\n      );\n      const iva_total_producto = parseFloat(\n        (\n          precio_actual_object.iva_precio *\n          valorGranel *\n          product.cantidad_venta\n        ).toFixed(2)\n      );\n      const subtotal_total_producto = parseFloat(\n        (\n          precio_actual_object.precio_venta *\n          valorGranel *\n          product.cantidad_venta\n        ).toFixed(2)\n      );\n      const total_total_producto = parseFloat(\n        (\n          precio_actual_object.precio_neto *\n          valorGranel *\n          product.cantidad_venta\n        ).toFixed(2)\n      );\n      const descuentoProducto =\n        parseFloat(precio_actual_object.dinero_descontado.toFixed(2)) *\n        valorGranel *\n        product.cantidad_venta;\n\n      productosFinal.push({\n        ...product,\n        precio_actual_object,\n        ieps_total_producto,\n        impuestos_total_producto,\n        iva_total_producto,\n        subtotal_total_producto,\n        total_total_producto,\n      });\n      //Sumar los valores\n      total += total_total_producto;\n      subTotal += subtotal_total_producto;\n      impuestos += impuestos_total_producto;\n      iva += iva_total_producto;\n      ieps += ieps_total_producto;\n      descuento += descuentoProducto;\n    }\n    localStorage.setItem(\n      \"DatosVentas\",\n      JSON.stringify({\n        ...venta,\n        productos: productosFinal,\n        total,\n        subTotal,\n        impuestos,\n        iva,\n        ieps,\n        descuento,\n      })\n    );\n    setRecalcular(!recalcular);\n    setOpenModalDescuento(!openModalDescuento);\n  };\n\n  useEffect(() => {\n    const venta = JSON.parse(localStorage.getItem(\"DatosVentas\"));\n    const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n    setVentaActual(venta);\n\n    setVentaOriginal(venta);\n    const total = venta === null ? 0 : venta.total;\n    const monederoVenta = venta === null ? 0 : venta.monedero;\n    const cliente = venta === null ? {} : venta.cliente;\n    if (cliente.numero_cliente === undefined) {\n      setCreditoActivo(true);\n    } else {\n      setCreditoActivo(false);\n    }\n    setValorPuntoProducto(parseFloat(sesion.empresa.valor_puntos));\n    setTotalVenta(total.toFixed(2));\n    setEfectivo(total.toFixed(2));\n    setDatosCliente(cliente);\n    setMonedero(parseFloat(monederoVenta));\n    setMonederoTotal(\n      !cliente.monedero_electronico\n        ? parseFloat(monederoVenta)\n        : parseFloat(cliente.monedero_electronico) + parseFloat(monederoVenta)\n    );\n    //Recargar tabla ventas\n    setUpdateTablaVentas(!updateTablaVentas);\n  }, [recalcular]);\n\n  useEffect(() => {\n    setfechaVencimientoDate(\n      moment()\n        .add(\n          datosCliente.dias_credito ? parseInt(datosCliente.dias_credito) : 0,\n          \"days\"\n        )\n        .format(\"YYYY-MM-DD\")\n    );\n  }, [datosCliente, datosCliente.dias_credito]);\n\n  useEffect(() => {\n    setMontoPagado(\n      parseFloat(efectivo) +\n        parseFloat(tarjeta) +\n        parseFloat(valorFinalCambioPuntos) +\n        parseFloat(transferencia) +\n        parseFloat(cheque)\n    );\n  }, [efectivo, tarjeta, puntos, transferencia, cheque]);\n\n  useEffect(() => {\n    setCambioVenta(montoPagado - totalVenta);\n  }, [montoPagado]);\n\n  return (\n    <>\n      <Button className={classes.borderBotonChico} onClick={handleClickOpen}>\n        <Box>\n          <Box>\n            <img\n              src=\"https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/ventas/cart.svg\"\n              alt=\"icono ventas\"\n              style={{ width: 38 }}\n            />\n          </Box>\n          <Box>\n            <Typography variant=\"body2\">\n              <b>Pagar</b>\n            </Typography>\n          </Box>\n          <Box>\n            <Typography variant=\"caption\" style={{ color: \"#808080\" }}>\n              <b>ESC</b>\n            </Typography>\n          </Box>\n        </Box>\n      </Button>\n      <Dialog\n        maxWidth=\"lg\"\n        open={open}\n        onClose={handleClickOpen}\n        TransitionComponent={Transition}\n      >\n        <DialogContent>\n          <Grid container item lg={12}>\n            <Box display=\"flex\" justifyContent=\"center\" flexGrow={1}>\n              <Box>\n                <img\n                  src=\"https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/ventas/cart.svg\"\n                  alt=\"icono ventas\"\n                  className={classes.iconSizeDialogsPequeno}\n                />\n              </Box>\n              <Box m={2}>\n                <Divider orientation=\"vertical\" />\n              </Box>\n              <Box mt={1} textAlign=\"center\">\n                <Typography variant=\"h4\">Ticket</Typography>\n              </Box>\n            </Box>\n            <Box>\n              <Button\n                variant=\"contained\"\n                color=\"secondary\"\n                onClick={handleClickOpen}\n                size=\"large\"\n              >\n                <CloseIcon />\n              </Button>\n            </Box>\n          </Grid>\n          <Grid>\n            <div className={classes.formInputFlex}>\n              <Box width=\"25%\" textAlign=\"center\">\n                <Box>\n                  <img\n                    src=\"https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/ventas/money.svg\"\n                    alt=\"icono ventas\"\n                    className={classes.iconSizeDialogsPequeno}\n                    style={{ cursor: \"pointer\" }}\n                  />\n                </Box>\n                <Typography variant=\"caption\">Efectivo</Typography>\n                <Box display=\"flex\">\n                  <TextField\n                    fullWidth\n                    size=\"small\"\n                    name=\"efectivo\"\n                    id=\"form-producto-efectivo\"\n                    variant=\"outlined\"\n                    value={efectivo}\n                    onChange={(e) => handlerChangeValue(e, \"EFECTIVO\")}\n                  />\n                </Box>\n              </Box>\n              <Box width=\"25%\" textAlign=\"center\">\n                <Box>\n                  <img\n                    src=\"https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/ventas/tarjeta-de-credito.svg\"\n                    alt=\"icono ventas\"\n                    className={classes.iconSizeDialogsPequeno}\n                    style={{ cursor: \"pointer\" }}\n                  />\n                </Box>\n                <Typography variant=\"caption\">Tarjeta</Typography>\n                <Box display=\"flex\">\n                  <TextField\n                    fullWidth\n                    size=\"small\"\n                    name=\"codigo_barras\"\n                    id=\"form-producto-codigo-barras\"\n                    variant=\"outlined\"\n                    value={tarjeta}\n                    onChange={(e) => handlerChangeValue(e, \"TARJETA\")}\n                  />\n                </Box>\n              </Box>\n              <Box width=\"25%\" textAlign=\"center\">\n                <Box>\n                  <FcShop style={{ fontSize: 50, cursor: \"pointer\" }} />\n                </Box>\n                <Typography variant=\"caption\">Puntos</Typography>\n                <Box display=\"flex\">\n                  <TextField\n                    fullWidth\n                    size=\"small\"\n                    name=\"codigo_barras\"\n                    id=\"form-producto-codigo-barras\"\n                    variant=\"outlined\"\n                    value={puntos}\n                    onChange={(e) => handlerChangeValue(e, \"PUNTOS\")}\n                  />\n                </Box>\n              </Box>\n              <Box width=\"25%\" textAlign=\"center\">\n                <Box p={0}>\n                  <img\n                    src=\"https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/transferencia-bancaria.svg\"\n                    alt=\"icono ventas\"\n                    className={classes.iconSizeDialogsPequeno}\n                    style={{ cursor: \"pointer\" }}\n                  />\n                </Box>\n                <Typography variant=\"caption\">Transferencia</Typography>\n                <Box display=\"flex\">\n                  <TextField\n                    fullWidth\n                    size=\"small\"\n                    name=\"codigo_barras\"\n                    id=\"form-producto-codigo-barras\"\n                    variant=\"outlined\"\n                    value={transferencia}\n                    onChange={(e) => handlerChangeValue(e, \"TRANSFERENCIA\")}\n                  />\n                </Box>\n              </Box>\n              <Box width=\"25%\" textAlign=\"center\">\n                <Box p={0}>\n                  <img\n                    src=\"https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/cheque.png\"\n                    alt=\"icono ventas\"\n                    className={classes.iconSizeDialogsPequeno}\n                    style={{ cursor: \"pointer\" }}\n                  />\n                </Box>\n                <Typography variant=\"caption\">Cheque</Typography>\n                <Box display=\"flex\">\n                  <TextField\n                    fullWidth\n                    size=\"small\"\n                    name=\"codigo_barras\"\n                    id=\"form-producto-codigo-barras\"\n                    variant=\"outlined\"\n                    value={cheque}\n                    onChange={(e) => handlerChangeValue(e, \"CHEQUE\")}\n                  />\n                </Box>\n              </Box>\n            </div>\n            <div className={classes.formInputFlex}>\n              <Box width=\"70%\" textAlign=\"left\">\n                <Box display=\"flex\">\n                  <Box display=\"flex\" alignItems={\"center\"} mr={2}>\n                    <Box mt={0.5} mr={0.5}>\n                      <FcBusinessman style={{ fontSize: 19 }} />\n                    </Box>\n                    <Typography variant=\"subtitle1\">\n                      <b>Cliente:</b>\n                    </Typography>\n                  </Box>\n                  <Typography variant=\"subtitle1\">\n                    {datosCliente ? datosCliente.nombre_cliente : \"Sin cliente\"}\n                  </Typography>\n                </Box>\n\n                <Box display=\"flex\">\n                  <Box display=\"flex\" alignItems={\"center\"} mr={2}>\n                    <Box mt={0.5} mr={0.5}>\n                      <FcSalesPerformance style={{ fontSize: 19 }} />\n                    </Box>\n                    <Typography variant=\"subtitle1\">\n                      <b>Puntos Generados:</b>\n                    </Typography>\n                  </Box>\n                  <Typography variant=\"subtitle1\">{monedero}</Typography>\n                </Box>\n\n                <Box display=\"flex\">\n                  <Box display=\"flex\" alignItems={\"center\"} mr={2}>\n                    <Box mt={0.5} mr={0.5}>\n                      <FcSalesPerformance style={{ fontSize: 19 }} />\n                    </Box>\n                    <Typography variant=\"subtitle1\">\n                      <b>Puntos Disponibles:</b>\n                    </Typography>\n                  </Box>\n                  <Typography variant=\"subtitle1\">\n                    {!datosCliente.monedero_electronico\n                      ? 0\n                      : datosCliente.monedero_electronico}\n                  </Typography>\n                </Box>\n\n                <Box display=\"flex\">\n                  <Box display=\"flex\" alignItems={\"center\"} mr={2}>\n                    <Box mt={0.5} mr={0.5}>\n                      <FcSalesPerformance style={{ fontSize: 19 }} />\n                    </Box>\n                    <Typography variant=\"subtitle1\">\n                      <b>Total puntos:</b>\n                    </Typography>\n                  </Box>\n                  <Typography variant=\"subtitle1\">{monederoTotal}</Typography>\n                </Box>\n\n                <Box display=\"flex\">\n                  <Box display=\"flex\" alignItems={\"center\"} mr={2}>\n                    <Box mt={0.5} mr={0.5}>\n                      <FcSalesPerformance style={{ fontSize: 19 }} />\n                    </Box>\n                    <Typography variant=\"subtitle1\">\n                      <b>Valor:</b>\n                    </Typography>\n                  </Box>\n                  <Typography variant=\"subtitle1\">${monederoTotal * valorPuntoProducto}</Typography>\n                </Box>\n              </Box>\n\n              <Box width=\"45%\" textAlign=\"right\">\n                <Box\n                  display={\"flex\"}\n                  justifyContent={\"space-between\"}\n                  alignItems=\"center\"\n                >\n                  <Typography style={{ fontSize: \"17px\" }}>\n                    <b>Monto pagado:</b>\n                  </Typography>\n                  <Typography variant=\"h6\">\n                    $ {montoPagado.toFixed(2)}\n                  </Typography>\n                </Box>\n\n                <Box\n                  display={\"flex\"}\n                  justifyContent={\"space-between\"}\n                  alignItems=\"center\"\n                >\n                  <Typography style={{ fontSize: \"17px\" }}>\n                    <b>Total:</b>\n                  </Typography>\n                  <Typography variant=\"h6\">$ {totalVenta}</Typography>\n                </Box>\n\n                <Box\n                  display={\"flex\"}\n                  justifyContent={\"space-between\"}\n                  alignItems=\"center\"\n                >\n                  <Typography style={{ fontSize: \"17px\" }}>\n                    <b>Descuento:</b>\n                  </Typography>\n                  <Typography variant=\"h6\">\n                    $ {descuentoVenta.toFixed(2)}\n                  </Typography>\n                </Box>\n\n                <Box\n                  display={\"flex\"}\n                  justifyContent={\"space-between\"}\n                  alignItems=\"center\"\n                >\n                  <Typography style={{ fontSize: \"17px\" }}>\n                    <b>Cambio:</b>\n                  </Typography>\n                  <Typography variant=\"h6\">\n                    $ {cambioVenta.toFixed(2)}\n                  </Typography>\n                </Box>\n              </Box>\n            </div>\n\n            <div style={{ display: visible ? \"block\" : \"none\" }}>\n              <div className={classes.formInputFlex}>\n                <Box width=\"20%\">\n                  <Typography variant=\"caption\">\n                    <b>Dias de Crdito:</b>\n                  </Typography>\n                  <Box display=\"flex\" alignItems=\"center\">\n                    <TextField\n                      fullWidth\n                      size=\"small\"\n                      name=\"codigo_barras\"\n                      id=\"form-producto-codigo-barras\"\n                      variant=\"outlined\"\n                      value={\n                        datosCliente.dias_credito === null\n                          ? 0\n                          : datosCliente.dias_credito\n                      }\n                      onChange={(e) =>\n                        setDatosCliente({\n                          ...datosCliente,\n                          dias_credito: e.target.value,\n                        })\n                      }\n                      disabled={editableClient}\n                    />\n                  </Box>\n                </Box>\n                <Box width=\"20%\">\n                  <Typography variant=\"caption\">\n                    <b>Lmite de Crdito:</b>\n                  </Typography>\n                  <Box display=\"flex\" alignItems=\"center\">\n                    <TextField\n                      fullWidth\n                      size=\"small\"\n                      name=\"codigo_barras\"\n                      id=\"form-producto-codigo-barras\"\n                      variant=\"outlined\"\n                      value={\n                        datosCliente.limite_credito === null\n                          ? 0\n                          : datosCliente.limite_credito\n                      }\n                      disabled={editableClient}\n                    />\n                  </Box>\n                </Box>\n                <Box width=\"20%\">\n                  <Typography variant=\"caption\">\n                    <b>Crdito Disponible:</b>\n                  </Typography>\n                  <Box display=\"flex\" alignItems=\"center\">\n                    <TextField\n                      fullWidth\n                      size=\"small\"\n                      name=\"codigo_barras\"\n                      id=\"form-producto-codigo-barras\"\n                      variant=\"outlined\"\n                      value={\n                        datosCliente.credito_disponible === null\n                          ? 0\n                          : datosCliente.credito_disponible\n                      }\n                      disabled={true}\n                    />\n                  </Box>\n                </Box>\n\n                <Box>\n                  <Box width=\"100%\" mt={2.5}>\n                    <Button\n                      color=\"primary\"\n                      variant=\"outlined\"\n                      size=\"large\"\n                      startIcon={<Edit />}\n                      onClick={() => setEditableClient(!editableClient)}\n                    >\n                      Editar\n                    </Button>\n                  </Box>\n                </Box>\n              </div>\n              <div className={classes.formInputFlex}>\n                <Box width=\"20%\">\n                  <Typography variant=\"caption\">\n                    <b>Total a Crdito:</b>\n                  </Typography>\n                  <Box display=\"flex\" alignItems=\"center\">\n                    <TextField\n                      fullWidth\n                      size=\"small\"\n                      name=\"codigo_barras\"\n                      id=\"form-producto-codigo-barras\"\n                      variant=\"outlined\"\n                      disabled={editableClient}\n                      value={totalVenta}\n                    />\n                  </Box>\n                </Box>\n\n                <Box width=\"20%\">\n                  <Typography variant=\"caption\">\n                    <b>Fecha de Vencimiento:</b>\n                  </Typography>\n                  <Box display=\"flex\" alignItems=\"center\">\n                    <TextField\n                      fullWidth\n                      size=\"small\"\n                      name=\"codigo_barras\"\n                      id=\"form-producto-codigo-barras\"\n                      variant=\"outlined\"\n                      type=\"date\"\n                      value={fechaVencimientoDate}\n                      onChange={(e) => {\n                        const modelDate = moment(e.target.value).add(1, \"days\");\n                        const hoy = moment();\n                        const diasDiff = modelDate.diff(hoy, \"days\");\n                        setfechaVencimientoDate(e.target.value);\n                        setDatosCliente({\n                          ...datosCliente,\n                          dias_credito: diasDiff,\n                        });\n                      }}\n                      disabled={editableClient}\n                    />\n                  </Box>\n                </Box>\n              </div>\n            </div>\n          </Grid>\n        </DialogContent>\n\n        <DialogActions style={{ justifyContent: \"space-between\" }}>\n          <Box display={\"flex\"} justifyContent=\"flex-start\">\n            <Box pr={1}>\n              {visible ? (\n                <Button\n                  size=\"large\"\n                  variant=\"contained\"\n                  color=\"secondary\"\n                  onClick={() => {\n                    setVisible(!visible);\n                    setEditableClient(!editableClient);\n                  }}\n                  startIcon={<ClearIcon style={{ fontSize: \"28px\" }} />}\n                >\n                  Cancelar\n                </Button>\n              ) : (\n                <Button\n                  size=\"large\"\n                  variant=\"contained\"\n                  color=\"primary\"\n                  onClick={() => setVisible(!visible)}\n                  startIcon={<CreditCardIcon style={{ fontSize: \"28px\" }} />}\n                  disabled={creditoActivo}\n                >\n                  Credito\n                </Button>\n              )}\n            </Box>\n\n            <Box>\n              <Button\n                size=\"large\"\n                variant=\"contained\"\n                color=\"primary\"\n                startIcon={<LocalOfferIcon style={{ fontSize: \"28px\" }} />}\n                onClick={() => setOpenModalDescuento(!openModalDescuento)}\n              >\n                Descuento\n              </Button>\n            </Box>\n          </Box>\n          <Button\n            onClick={() => {\n              handleClickFinishVenta();\n            }}\n            size=\"large\"\n            variant=\"contained\"\n            color=\"primary\"\n            autoFocus\n          >\n            Terminar\n          </Button>\n        </DialogActions>\n      </Dialog>\n\n      <Dialog\n        open={openModalDescuento}\n        onClose={abrirCajon}\n        TransitionComponent={Transition}\n      >\n        <DialogContent>\n          <Box textAlign=\"center\">\n            <Box textAlign=\"center\">\n              <Typography variant=\"h5\">Descuento</Typography>\n            </Box>\n          </Box>\n          <Grid item lg={12}>\n            <div className={classes.formInputFlex}>\n              <Box width=\"50%\">\n                <Typography variant=\"caption\">\n                  <b>Dinero a descontar:</b>\n                </Typography>\n                <Box display=\"flex\" alignItems=\"center\">\n                  <TextField\n                    fullWidth\n                    size=\"small\"\n                    name=\"dinero-descuento\"\n                    id=\"form-venta-dinero-descuento\"\n                    value={descuentoAplicarVenta}\n                    onChange={(e) => handlerChangeDiscountVenta(e)}\n                    variant=\"outlined\"\n                    disabled={false}\n                    InputProps={{\n                      startAdornment: (\n                        <InputAdornment position=\"start\">$</InputAdornment>\n                      ),\n                    }}\n                  />\n                </Box>\n              </Box>\n\n              <Box width=\"50%\">\n                <Typography variant=\"caption\">\n                  <b>Porsentaje:</b>\n                </Typography>\n                <Box display=\"flex\" alignItems=\"center\">\n                  <TextField\n                    fullWidth\n                    size=\"small\"\n                    name=\"codigo_barras\"\n                    id=\"form-venta-porsentaje-descuento\"\n                    variant=\"outlined\"\n                    value={descuentoPorsentajeVenta}\n                    onChange={(e) => handleChangePorsentDiscount(e)}\n                    type=\"number\"\n                    disabled={false}\n                    InputProps={{\n                      startAdornment: (\n                        <InputAdornment position=\"start\">%</InputAdornment>\n                      ),\n                    }}\n                  />\n                </Box>\n              </Box>\n            </div>\n          </Grid>\n        </DialogContent>\n\n        <DialogActions>\n          <Button\n            onClick={() => setOpenModalDescuento(!openModalDescuento)}\n            variant=\"contained\"\n            size=\"large\"\n            color=\"secondary\"\n            autoFocus\n          >\n            Cancelar\n          </Button>\n          <Button\n            onClick={() => handleCalculateNewDiscountVenta()}\n            variant=\"contained\"\n            size=\"large\"\n            color=\"primary\"\n            autoFocus\n          >\n            Aceptar\n          </Button>\n        </DialogActions>\n      </Dialog>\n\n      <Dialog\n        open={cambio}\n        onClose={() => setCambio(!cambio)}\n        TransitionComponent={Transition}\n      >\n        <DialogContent>\n          <Box textAlign=\"center\">\n            <Box>\n              <FcDonate style={{ fontSize: 80 }} />\n            </Box>\n            <Box textAlign=\"center\">\n              <Typography variant=\"h5\">Su cambio</Typography>\n            </Box>\n          </Box>\n          <Grid item lg={12}>\n            <Paper elevation={3}>\n              <Box p={3} width=\"100%\" textAlign=\"center\">\n                <Typography variant=\"h3\" style={{ color: \"red\" }}>\n                  ${cambioVenta.toFixed(2)}\n                </Typography>\n              </Box>\n            </Paper>\n          </Grid>\n        </DialogContent>\n\n        <DialogActions>\n          <Button\n            onClick={() => setCambio(!cambio)}\n            variant=\"contained\"\n            size=\"large\"\n            color=\"primary\"\n            autoFocus\n          >\n            Aceptar\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </>\n  );\n}\n","import React, { useState } from 'react';\nimport { Box, Button,  CircularProgress,  Dialog,  \n        DialogActions, DialogContent, Divider, Grid,  \n        IconButton,  InputBase,  Paper,  Slide,  \n        Typography \n    } from '@material-ui/core';\nimport ItemsCarousel from 'react-items-carousel';\nimport PhotoLibraryIcon from '@material-ui/icons/PhotoLibrary';\nimport CloseIcon from '@material-ui/icons/Close';\nimport useStyles from '../styles';\nimport ArrowBackIosIcon from '@material-ui/icons/ArrowBackIos';\nimport ArrowForwardIosIcon from '@material-ui/icons/ArrowForwardIos';\nimport { Search } from '@material-ui/icons';\nimport { useLazyQuery } from '@apollo/client';\nimport { CONSULTA_PRODUCTO_UNITARIO } from '../../../gql/Ventas/ventas_generales';\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function ConsultarPrecio() {\n    const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n    const [activeItemIndex, setActiveItemIndex] = useState(0);\n\n    const [obtenerProductos, { data, loading }] = useLazyQuery(\n        CONSULTA_PRODUCTO_UNITARIO,\n        {\n          variables: { sucursal: sesion.sucursal._id, empresa: sesion.empresa._id },\n          fetchPolicy: \"network-only\",\n        }\n    );\n\n    let productoBase = null;\n    if (data) productoBase = data.obtenerUnProductoVentas;\n\n    const [open, setOpen] = useState(false);\n    \n    const classes = useStyles();\n\n    const handleClickOpen = () => { \n\t\tsetOpen(!open);\n        productoBase = [];\n\t};\n\n    const keyUpEvent = async (event) => {\n        if (event.code === \"Enter\" || event.code === \"NumpadEnter\") {\n            const input_value = event.target.value;\n            obtenerProductos({\n                variables: {\n                    datosProductos: input_value,\n                    sucursal: sesion.sucursal._id,\n                    empresa: sesion.empresa._id\n                },\n                fetchPolicy: \"network-only\"\n            });\n        }\n    };\n\n    window.addEventListener('keydown', Mi_funcin); \n    function Mi_funcin(e){\n        if(e.keyCode === 120){ \n            handleClickOpen();\n        } \n    };\n    const chevronWidth = 40;\n\n    return (\n        <>\n            <Button \n                className={classes.borderBotonChico}\n                onClick={handleClickOpen}\n            >\n                <Box>\n                    <Box>\n                        <img \n                            src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/ventas/precios.svg' \n                            alt=\"icono ventas\" \n                            style={{width: 36}}\n                        />\n                    </Box>\n                    <Box>\n                        <Typography variant=\"body2\" >\n                            <b>Consultar Precio</b>\n                        </Typography>\n                    </Box>\n                    <Box>\n                        <Typography variant=\"caption\" style={{color: '#808080'}} >\n                            <b>F9</b>\n                        </Typography>\n                    </Box>\n                </Box>\n            </Button>\n            <Dialog\n                maxWidth='md'\n                fullWidth\n                open={open} \n\t\t\t\tonClose={handleClickOpen} \n\t\t\t\tTransitionComponent={Transition}\n            >\n                <DialogContent\n                    open={open} \n                    onClose={handleClickOpen} \n                    TransitionComponent={Transition}\n                >\n                    <Grid container item lg={12}>\n                        <Box\n                            display=\"flex\" \n                            textAlign=\"center\"\n                            flexGrow={1}\n                        >\n                            <Box>\n                                <img src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/productos.svg' alt=\"icono productos\" className={classes.iconSizeDialogs} />\n                            </Box>\n                            <Box m={2} >\n                                <Divider orientation=\"vertical\" />\n                            </Box>\n                            <Box mt={3}>\n                                <Typography variant=\"h6\">\n                                    Precio Producto\n                                </Typography>\n                            </Box>\n                        </Box>\n                        <Box displa=\"flex\" justifyContent=\"center\">\n                            <Button variant=\"contained\" color=\"secondary\" onClick={handleClickOpen} size=\"large\">\n                                <CloseIcon />\n                            </Button>\n                        </Box>\n                    </Grid>\n                    <div className={classes.formInputFlex}>\n                        <Box width=\"50%\">\n                            <Paper className={classes.rootBusquedaProductos}>\n                                <InputBase\n                                    fullWidth\n                                    onKeyUp={keyUpEvent}\n                                    placeholder=\"Buscar producto...\"\n                                />\n                                <IconButton>\n                                    <Search />\n                                </IconButton>\n                            </Paper>\n                        </Box>\n                    </div>\n                    {loading ? (\n                        <Box\n                            display=\"flex\"\n                            flexDirection=\"column\"\n                            justifyContent=\"center\"\n                            alignItems=\"center\"\n                            height=\"40vh\"\n                        >\n                            <CircularProgress />\n                        </Box>\n                    ) : (<>\n                        <Grid container>\n                            <Grid item lg={6} md={6}>\n                                    {productoBase?.id_producto?.imagenes.length > 0 ? (\n                                        <Box p={7}>\n                                        <ItemsCarousel\n                                            requestToChangeActive={setActiveItemIndex}\n                                            activeItemIndex={activeItemIndex}\n                                            numberOfCards={1}\n                                            leftChevron={\n                                                <IconButton aria-label=\"delete\" disabled color=\"primary\">\n                                                    <ArrowBackIosIcon />\n                                                </IconButton>\n                                            }\n                                            rightChevron={\n                                                <IconButton aria-label=\"delete\" disabled color=\"primary\">\n                                                    <ArrowForwardIosIcon />\n                                                </IconButton>\n                                            }\n                                            infiniteLoop={true}\n                                            outsideChevron\n                                            chevronWidth={chevronWidth}\n                                        >\n                                            {productoBase?.id_producto?.imagenes.map((image)=>{\n                                                return(\n                                                    <Box \n                                                        className={classes.containerImagenesProducto}\n                                                        display=\"flex\"\n                                                        justifyContent=\"center\"\n                                                        alignItems=\"center\"\n                                                    >\n                                                        <img \n                                                            alt=\"Imagen producto\" \n                                                            src={image.url_imagen} \n                                                            className={classes.imagenProducto}\n                                                        />\n                                                    </Box>\n                                                )\n                                            })}\n                                        </ItemsCarousel>\n                                        </Box>\n                                    ) : (\n                                        <Box p={1} mt={15} display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n                                            <PhotoLibraryIcon style={{fontSize: 40}} />\n                                        </Box>\n                                    )}\n                            </Grid>\n\n                            <Grid item lg={6} md={6}>\n                                <Paper elevation={3} className={classes.rootPrecioProductos}>\n                                    <div className={classes.formInputFlex}>\n                                        <Box width=\"100%\" textAlign=\"center\">\n                                            <Typography >\n                                                <b>{productoBase?.codigo_barras}</b>\n                                            </Typography>\n                                        </Box>\n                                    </div>\n                                    <div className={classes.formInputFlex}>\n                                        <Box width=\"100%\" textAlign=\"center\">\n                                            <Typography variant=\"h6\">\n                                                <b>{productoBase?.id_producto?.datos_generales.nombre_comercial}</b>\n                                            </Typography>\n                                        </Box>\n                                    </div>\n                                    <div className={classes.formInputFlex}>\n                                        <Box width=\"100%\" textAlign=\"center\">\n                                            <Typography>\n                                                {productoBase?.descuento_activo === true ? (<b>Precio Promocin</b>) : null}\n                                            </Typography>\n                                            <Typography variant=\"h3\">\n                                                {productoBase?.descuento_activo === true ? \n                                                    (<b style={{color: \"red\"}}>${productoBase?.descuento?.precio_con_descuento.toFixed(2)}</b>) :\n                                                    (<b style={{color: \"green\"}}>${productoBase?.precio}</b>)}\n                                            </Typography>\n                                        </Box>\n                                    </div>\n                                    {productoBase?.descuento_activo === true ? (\n                                        <div className={classes.formInputFlex}>\n                                            <Box width=\"100%\" textAlign=\"center\">\n                                                <Typography>\n                                                    <b>Precio S/D</b>\n                                                </Typography>\n                                                <Typography variant=\"h5\" style={{color: \"green\"}}>\n                                                    <b> ${productoBase?.precio} </b>\n                                                </Typography>\n                                            </Box>\n                                        </div>\n                                    ) : null}\n                                    <div className={classes.formInputFlex}>\n                                        <Box width=\"100%\" textAlign=\"center\">\n                                            <Typography >\n                                                Unidad\n                                            </Typography>\n                                            <Typography >\n                                                <b>{productoBase?.unidad}</b>\n                                            </Typography>\n                                        </Box>\n                                        <Box width=\"100%\" textAlign=\"center\">\n                                            <Typography >\n                                                Existencia\n                                            </Typography>\n                                            <Typography >\n                                                <b> {productoBase?.inventario_general ? \n                                                        productoBase?.inventario_general[0]?.cantidad_existente :\n                                                        0\n                                                    } \n                                                </b>\n                                            </Typography>\n                                        </Box>\n                                    </div>\n                                </Paper>\n                            </Grid>     \n                        </Grid>\n                    </>) } \n                </DialogContent>\n                <DialogActions>\n                    <Button \n                        onClick={handleClickOpen} \n                        variant=\"contained\" \n                        color=\"primary\" \n                        size=\"large\"\n                    >\n                        Aceptar\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        \n        </>\n    )\n}\n","import React, { useState, useContext, Fragment, useEffect } from \"react\";\nimport {\n  Box,\n  Button,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  Divider,\n  Grid,\n  Paper,\n  Slide,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n  Typography,\n  Checkbox,\n} from \"@material-ui/core\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport useStyles from \"../styles\";\nimport { VentasContext } from \"../../../context/Ventas/ventasContext\";\nimport SnackBarMessages from \"../../../components/SnackBarMessages\";\nimport { calculatePrices, findProductArray, calculatePrices2 } from \"../../../config/reuserFunctions\";\nimport { AccesosContext } from \"../../../context/Accesos/accesosCtx\";\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  \n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function PreciosProductos() {\n  const classes = useStyles();\n  const [open, setOpen] = useState(false);\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n  // const [selected, setSelected] = useState([]);\n\n  const [preciosProductos, setPreciosProductos] = useState({})\n\n  const {\n    productoCambioPrecio,\n    precioSelectProductoVenta,\n    setPrecioSelectProductoVenta,\n    setUpdateTablaVentas,\n    updateTablaVentas\n  } = useContext(VentasContext);\n\n  const { \n\t\treloadVerPrecios, \n    setReloadVerPrecios,\n\t\tsetAbrirPanelAcceso,\n    abrirPanelAcceso,\n\t\tsetDepartamentos\n\t} = useContext(AccesosContext);\n\n  const [selectPrisingProduct, setSelectPrisingProduct] = useState(\n    precioSelectProductoVenta.length > 0 ? precioSelectProductoVenta[0] : {}\n  );\n\n  const [alert, setAlert] = useState({ message: \"\", status: \"\", open: false });\n\n  const handleClickOpen = () => {\n    if(sesion.accesos.ventas.precios_productos.ver === true){\n      setOpen(!open);\n    }else{\n      setAbrirPanelAcceso(!abrirPanelAcceso);\n      setDepartamentos({departamento: 'ventas', subDepartamento: 'precios_productos', tipo_acceso: 'ver'})\n    }\n  };\n\n  useEffect(() => {\n    setPreciosProductos(productoCambioPrecio);\n  }, [productoCambioPrecio ]);\n\n  useEffect(() => {\n\t\tif (reloadVerPrecios === true) {\t\n      setOpen(!open);\n      setReloadVerPrecios(false);\n\t\t}\n\t}, [reloadVerPrecios]);\n\n  const handleAceptChangePrising = async () => {\n\n    let venta = JSON.parse(localStorage.getItem(\"DatosVentas\"));\n    let productosVentas = venta === null ? [] : venta.productos;\n    let venta_actual = venta === null ? [] : venta;\n    let venta_existente =\n      venta === null\n        ? { subTotal: 0, total: 0, impuestos: 0, iva: 0, ieps: 0, descuento: 0, monedero: 0 }\n        : venta;\n    let productosVentasTemp = productosVentas;\n\n    if (\n      selectPrisingProduct.precio_neto > 0 ||\n      precioSelectProductoVenta.length > 0\n    ) {\n\n      const newProductoPrecioNuevo = { ...productoCambioPrecio };\n      const newProductoPrecioActual = { ...productoCambioPrecio };\n\n      const producto_encontrado = await findProductArray(\n        productoCambioPrecio\n      );\n\n      if (producto_encontrado.found) {\n        const new_resta = await calculatePrices2({\n            newP: newProductoPrecioNuevo, \n            cantidad: newProductoPrecioNuevo.cantidad_venta, \n            precio_boolean: true, \n            precio: newProductoPrecioNuevo.precio_actual_object, \n            granel: newProductoPrecioNuevo.granel_producto, \n            origen: \"\" \n          });\n\n          console.log(precioSelectProductoVenta[0])\n        const new_suma = await calculatePrices2({\n          newP: newProductoPrecioActual, \n          cantidad: newProductoPrecioActual.cantidad_venta, \n          precio_boolean: true, \n          precio: precioSelectProductoVenta[0], \n          granel: newProductoPrecioActual.granel_producto, \n          origen: \"Tabla\" \n        });\n\n        newProductoPrecioActual.precio_a_vender = precioSelectProductoVenta[0].precio_neto;\n        newProductoPrecioActual.precio_seleccionado = true;\n        newProductoPrecioActual.precio_actual_producto = parseFloat((precioSelectProductoVenta[0].precio_neto).toFixed(2));\n        newProductoPrecioActual.precio_actual_object = precioSelectProductoVenta[0];\n\n        newProductoPrecioActual.iva_total_producto = parseFloat(new_suma.ivaCalculo);\n        newProductoPrecioActual.ieps_total_producto = parseFloat(new_suma.iepsCalculo);\n        newProductoPrecioActual.impuestos_total_producto = parseFloat(new_suma.impuestoCalculo);\n        newProductoPrecioActual.subtotal_total_producto = parseFloat(new_suma.subtotalCalculo);\n        newProductoPrecioActual.total_total_producto = parseFloat(new_suma.totalCalculo);\n\n        newProductoPrecioActual.precio_actual_object = {\n          cantidad_unidad: precioSelectProductoVenta[0].cantidad_unidad ? precioSelectProductoVenta[0].cantidad_unidad : null,\n          numero_precio: precioSelectProductoVenta[0].numero_precio ? precioSelectProductoVenta[0].numero_precio : null,\n          unidad_maxima: precioSelectProductoVenta[0].unidad_maxima ? precioSelectProductoVenta[0].unidad_maxima : null,\n          precio_general: precioSelectProductoVenta[0].precio_general ? precioSelectProductoVenta[0].precio_general : null,\n          precio_neto: precioSelectProductoVenta[0].precio_neto ? precioSelectProductoVenta[0].precio_neto : null,\n          precio_venta: precioSelectProductoVenta[0].precio_venta ? precioSelectProductoVenta[0].precio_venta : null,\n          iva_precio: precioSelectProductoVenta[0].iva_precio ? precioSelectProductoVenta[0].iva_precio : null,\n          ieps_precio: precioSelectProductoVenta[0].ieps_precio ? precioSelectProductoVenta[0].ieps_precio : null,\n          utilidad: precioSelectProductoVenta[0].utilidad ? precioSelectProductoVenta[0].utilidad : null,\n          porciento: precioSelectProductoVenta[0].porciento ? precioSelectProductoVenta[0].porciento : null,\n          dinero_descontado: precioSelectProductoVenta[0].dinero_descontado ? precioSelectProductoVenta[0].dinero_descontado : null,\n        };\n        \n        productosVentasTemp.splice(\n          producto_encontrado.producto_found.index,\n          1,\n          newProductoPrecioActual\n        );\n\n        console.log(\"venta >>\", venta_existente.subTotal);\n\n        console.log(\"resta >>\", new_resta.subtotalCalculo);\n\n        console.log(\"suma >>\", new_suma.subtotalCalculo)\n\n      const CalculosData = {\n        subTotal:\n          parseFloat(venta_existente.subTotal) -\n          parseFloat(new_resta.subtotalCalculo) +\n          new_suma.subtotalCalculo,\n        total:\n          parseFloat(venta_existente.total) -\n          parseFloat(new_resta.totalCalculo) +\n          new_suma.totalCalculo,\n        impuestos:\n          parseFloat(venta_existente.impuestos) -\n          parseFloat(new_resta.impuestoCalculo) +\n          new_suma.impuestoCalculo,\n        iva:\n          parseFloat(venta_existente.iva) -\n          parseFloat(new_resta.ivaCalculo) +\n          new_suma.ivaCalculo,\n        ieps:\n          parseFloat(venta_existente.ieps) -\n          parseFloat(new_resta.iepsCalculo) +\n          new_suma.iepsCalculo,\n        descuento:\n          parseFloat(venta_existente.descuento) -\n          parseFloat(new_resta.descuentoCalculo) +\n          new_suma.descuentoCalculo,\n        monedero: parseFloat(venta_existente.monedero) - parseFloat(new_resta.monederoCalculo) +\n          new_suma.monederoCalculo,\n      };\n\n      //Guardarlo en el localStorage\n      localStorage.setItem(\n        \"DatosVentas\",\n        JSON.stringify({\n          ...CalculosData,\n          cliente:\n            venta_actual.venta_cliente === true ? venta_actual.cliente : {},\n          venta_cliente:\n            venta_actual.venta_cliente === true\n              ? venta_actual.venta_cliente\n              : false,\n          productos: productosVentasTemp,\n        })\n      );\n      // newProductoPrecio = {...newProductoPrecio};\n      setUpdateTablaVentas(!updateTablaVentas);\n      setPrecioSelectProductoVenta([]);\n      setPreciosProductos({});\n      //Cerrar modal\n      handleClickOpen();\n      }else{\n        console.log(\"Producto no encontrado\")\n      }\n    } else {\n      setAlert({\n        message: \"Este precio no es valido.\",\n        status: \"error\",\n        open: true,\n      });\n    }\n  };\n\n  const handleClick = (precio) => {\n    let newSelected = [];\n    newSelected = newSelected.concat([], precio);\n    setSelectPrisingProduct(precio);\n    setPrecioSelectProductoVenta(newSelected);\n  };\n\n  const isSelected = (name) => precioSelectProductoVenta.indexOf(name) !== -1;\n\n  window.addEventListener(\"keydown\", Mi_funcin);\n\n  function Mi_funcin(e) {\n    if (e.keyCode === 114) {\n      handleClickOpen();\n    }\n  }; \n\n  return (\n    <>\n      <SnackBarMessages alert={alert} setAlert={setAlert} />\n      <Button className={classes.borderBotonChico} onClick={handleClickOpen}>\n        <Box>\n          <Box>\n            <img\n              src=\"https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/ventas/money.svg\"\n              alt=\"icono money\"\n              style={{ fontSize: 25 }}\n            />\n          </Box>\n          <Box>\n            <Typography variant=\"body2\">\n              <b>Precios</b>\n            </Typography>\n          </Box>\n          <Box>\n            <Typography variant=\"caption\" style={{ color: \"#808080\" }}>\n              <b>F3</b>\n            </Typography>\n          </Box>\n        </Box>\n      </Button>\n\n      <Dialog\n        maxWidth=\"lg\"\n        open={open}\n        onClose={() => setOpen(!open)}\n        TransitionComponent={Transition}\n      >\n        <DialogContent>\n          <Box display='flex' p={2}> \n            <Box flexGrow={1}>\n              <Typography variant=\"h6\">Precios de Producto</Typography>\n            </Box>\n            <Box>\n              <Button\n                variant=\"contained\"\n                color=\"secondary\"\n                onClick={() => setOpen(!open)}\n                size=\"large\"\n              >\n                <CloseIcon />\n              </Button>\n            </Box>\n          </Box>\n          <Grid>\n            <div className={classes.formInputFlex}>\n              <Box width=\"100%\">\n                <Typography>\n                  Nombre:{\" \"}\n                  {productoCambioPrecio\n                    ? productoCambioPrecio?.id_producto?.datos_generales\n                        ?.nombre_comercial\n                    : \"\"}\n                </Typography>\n              </Box>\n            </div>\n            <Paper className={classes.root}>\n              <TableContainer className={classes.container}>\n                <Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n                  <TableHead>\n                    <TableRow>\n                      <TableCell style={{ width: 25 }}></TableCell>\n                      <TableCell style={{ width: 20 }}>Precio</TableCell>\n                      <TableCell style={{ width: 20 }}>Precio neto</TableCell>\n                      <TableCell style={{ width: 200 }}>\n                        Unidad mayoreo\n                      </TableCell>\n                      <TableCell style={{ width: 100 }}>Utilidad</TableCell>\n                    </TableRow>\n                  </TableHead>\n                  <TableBody>\n                    {preciosProductos?.id_producto?.precios?.precios_producto?.map(\n                      (precio, index) => {\n                        const isItemSelected = isSelected(precio);\n                        const labelId = `enhanced-table-checkbox-${index}`;\n                        return (\n                          <RenderTableRows\n                            key={index}\n                            precio={precio}\n                            isItemSelected={isItemSelected}\n                            labelId={labelId}\n                            handleClick={handleClick}\n                          />\n                        );\n                      }\n                    )}\n                  </TableBody>\n                </Table>\n              </TableContainer>\n            </Paper>\n          </Grid>\n        </DialogContent>\n        <DialogActions>\n          <Button\n            onClick={() => handleAceptChangePrising()}\n            variant=\"contained\"\n            color=\"primary\"\n            size=\"large\"\n          >\n            Guardar\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </>\n  );\n}\n\nconst RenderTableRows = ({ precio, isItemSelected, labelId, handleClick }) => {\n  const doubleClick = (e) => {\n    try {\n      if (e.detail === 2) {\n        handleClick(precio);\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  return (\n    <Fragment>\n      <TableRow\n        role=\"checkbox\"\n        aria-checked={isItemSelected}\n        tabIndex={-1}\n        key={precio.numero_precio}\n        selected={isItemSelected}\n        hover\n        onClick={(e) => doubleClick(e)}\n      >\n        <TableCell padding=\"checkbox\">\n          <Checkbox\n            onClick={(event) => {\n              handleClick(precio);\n            }}\n            checked={isItemSelected}\n            inputProps={{ \"aria-labelledby\": labelId }}\n          />\n        </TableCell>\n        <TableCell align={\"center\"}>{precio.numero_precio}</TableCell>\n        <TableCell align={\"center\"}>{precio.precio_neto > 0 ? precio.precio_neto.toFixed(2) : 0}</TableCell>\n        <TableCell align={\"center\"}>{precio.unidad_mayoreo}</TableCell>\n        <TableCell align={\"center\"}>{precio.utilidad} %</TableCell>\n      </TableRow>\n    </Fragment>\n  );\n};\n","import React, { useContext, useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport { Box, Button, Dialog, DialogContent, IconButton, Typography } from '@material-ui/core';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport CloseIcon from '@material-ui/icons/Close';\nimport AutorenewIcon from '@material-ui/icons/Autorenew';\nimport { VentasContext } from '../../../context/Ventas/ventasContext';\nimport { AccesosContext } from '../../../context/Accesos/accesosCtx';\nimport { useEffect } from 'react';\n\nconst columns = [\n\t{ id: 'folio', label: 'Folio', minWidth: 20, align: 'center' },\n\t{ id: 'fecha', label: 'Fecha', minWidth: 20, align: 'center' },\n\t{ id: 'cliente', label: 'Cliente', minWidth: 330, align: 'center' },\n\t{ id: 'productos', label: 'Productos', minWidth: 20, align: 'center' },\n\t{ id: 'total', label: 'Total', minWidth: 200, align: 'center'},\n];\n\nconst useStyles = makeStyles({\n\troot: {\n\t\twidth: \"100%\"\n\t},\n\tcontainer: {\n\t\theight: \"45vh\",\n    \t'& ::-webkit-scrollbar': {\n      \t\tdisplay: 'none'\n    \t}\n\t}\n});\n\nexport default function ListaVentas() {\n\n\tconst classes = useStyles();\n\n\tlet listaEnEspera = JSON.parse(localStorage.getItem(\"ListaEnEspera\"));\n\n\treturn (\n\t\t<Paper className={classes.root}>\n\t\t\t<TableContainer className={classes.container}>\n\t\t\t\t<Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t{columns.map((column) => (\n\t\t\t\t\t\t\t\t<TableCell key={column.id} align={column.align} style={{ width: column.minWidth }}>\n\t\t\t\t\t\t\t\t\t{column.label}\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t<TableCell align='center' style={{ width: 35 }}>\n\t\t\t\t\t\t\t\tRegresar\n\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<TableCell align='center' style={{ width: 35 }}>\n\t\t\t\t\t\t\t\tEliminar\n\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t</TableHead>\n\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t{listaEnEspera?.map((row, index) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<RowsVentas venta={row} index={index} /> \n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t\t</TableBody>\n\t\t\t\t</Table>\n\t\t\t</TableContainer>\n\t\t</Paper>\n\t);\n};\n\n\nconst RowsVentas = ({ venta, index }) => {\n\n\tconst { \n\t\treloadEliminarVentaEspera, \n        setReloadEliminarVentaEspera,\n\t\tsetAbrirPanelAcceso,\n        abrirPanelAcceso,\n\t\tsetDepartamentos\n\t} = useContext(AccesosContext);\n\t\n    const { updateTablaVentas, setUpdateTablaVentas } = useContext(VentasContext);\n\tconst [ open, setOpen] = useState(false);\n\tconst [ keyIndex, setKeyIndex ] = useState('');\n    const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n\n\tlet listaEnEspera = JSON.parse(localStorage.getItem(\"ListaEnEspera\"));\n\tlet VentaEnEspera = JSON.parse(localStorage.getItem(\"DatosVentas\"));\n\n\tfunction borrarVenta(key) {\n\t\tif(sesion.accesos.ventas.eliminar_ventas.ver === true){\n\t\t\tlistaEnEspera.forEach(function(elemento, indice, array) {\n\t\t\t\tif(key === indice){\n\t\t\t\t\tlistaEnEspera.splice(key, 1);\n\t\t\t\t}\n\t\t\t});\n\t\t\tsetUpdateTablaVentas(!updateTablaVentas);\n\t\t\tlocalStorage.setItem(\"ListaEnEspera\", JSON.stringify(listaEnEspera));\n\t\t}else{\n\t\t\treturn null\n\t\t}\n    };\n\n\tconst AgregarVentaDeNuevo = (key) => {\n\t\tif(VentaEnEspera === null){\n\t\t\tlistaEnEspera.forEach((element, index) => {\n\t\t\t\tif (index === key) {\n\t\t\t\t\tlocalStorage.setItem(\"DatosVentas\", JSON.stringify(element.VentaEnEspera));\n\t\t\t\t\tlistaEnEspera.splice(key, 1);\n\t\t\t\t}\n\t\t\tlocalStorage.setItem(\"ListaEnEspera\", JSON.stringify(listaEnEspera));\n\t\t\t});\n\t\t\tsetUpdateTablaVentas(!updateTablaVentas);\n\t\t}else{\n\t\t\tsetOpen(!open);\n\t\t}\n\t};\n\n\tconst handleClickOpen = () => {\n\t\tsetOpen(!open);\n\t};\n\n\tconst verificarPermisos = (key) => {\n\t\tsetKeyIndex(key)\n\t\tif(sesion.accesos.ventas.eliminar_ventas.ver === true){\n\t\t\tsetKeyIndex(''); \n            borrarVenta(key);\n        }else{\n\t\t\tsetAbrirPanelAcceso(!abrirPanelAcceso);\n\t\t\tsetDepartamentos({departamento: 'ventas', subDepartamento: 'eliminar_ventas', tipo_acceso: 'ver'})\n\t\t}\n\t};\t\n\n\tuseEffect(() => {\n\t\tif (reloadEliminarVentaEspera === true) {\t\n\t\t\tborrarVenta(keyIndex);\n\t\t\tsetReloadEliminarVentaEspera(false);\n\t\t}\n\t}, [reloadEliminarVentaEspera]);\n\t\n\n\treturn(\n\t\t<>\n\t\t\t<TableRow \n\t\t\t\thover \n\t\t\t\ttabIndex={-1} \n\t\t\t\tkey={index} \n\t\t\t>\n\t\t\t\t<TableCell align='center'>\n\t\t\t\t\t{index + 1}\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell align='center'>\n\t\t\t\t\t{venta.fecha ? venta.fecha : \"\"}\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell align='center'>\n\t\t\t\t\t{venta.VentaEnEspera.cliente ? venta.VentaEnEspera.cliente.nombre_cliente : \"Pub. General\"}\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell align='center'>\n\t\t\t\t\t{venta.VentaEnEspera.productos.length}\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell align='center'>\n\t\t\t\t\t$ {(venta.VentaEnEspera.total).toFixed(4)}\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell align='center' >\n\t\t\t\t\t<IconButton \n\t\t\t\t\t\taria-label=\"regresar\" \n\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\tsize='small'\n\t\t\t\t\t\tonClick={() => AgregarVentaDeNuevo(index)}\n\t\t\t\t\t>\n\t\t\t\t\t\t<AutorenewIcon fontSize=\"medium\" />\n\t\t\t\t\t</IconButton>\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell align='center' >\n\t\t\t\t\t<IconButton \n\t\t\t\t\t\taria-label=\"delete\" \n\t\t\t\t\t\tsize='small'\n\t\t\t\t\t\tonClick={() => verificarPermisos(index)}\n\t\t\t\t\t>\n\t\t\t\t\t\t<DeleteIcon fontSize=\"medium\" />\n\t\t\t\t\t</IconButton>\n\t\t\t\t</TableCell>\n\t\t\t</TableRow>\n\n\t\t\t<Dialog\n\t\t\t\topen={open} \n\t\t\t\tonClose={handleClickOpen} \n\t\t\t\tfullWidth\n\t\t\t\tmaxWidth='xs'\n\t\t\t>\n\t\t\t\t\n\t\t\t\t<DialogContent>\n\t\t\t\t\t<Box p={1} display='flex'>\n\t\t\t\t\t\t<Typography variant=\"h6\">\n\t\t\t\t\t\t\tNo puedes agregar una venta, cuando ya esta una en curso.\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Box display='flex' justifyContent={'flex-end'} p={2}>\n\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"secondary\" onClick={handleClickOpen} size=\"large\">\n\t\t\t\t\t\t\t\t<CloseIcon />\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Box>\n\t\t\t\t</DialogContent>\n\t\t\t</Dialog>\n\t\t</>\n\n\t);\n}","import React, { useState } from 'react'\nimport useStyles from '../styles';\n\nimport { Box, Button, Dialog, DialogContent, Divider,Grid, Typography, Slide, Badge } from '@material-ui/core'\nimport ListaVentas from './ListaVentas';\nimport CloseIcon from '@material-ui/icons/Close';\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\nexport default function VentasEspera() {\n\tlet listaEnEspera = JSON.parse(localStorage.getItem(\"ListaEnEspera\"));\n\n    const classes = useStyles();\n    const [open, setOpen] = useState(false);\n    \n    const handleClickOpen = () => { \n\t\tsetOpen(!open);\n\t};\n\n    window.addEventListener('keydown', Mi_funcin); \n    function Mi_funcin(e){\n        if(e.altKey && e.keyCode === 76){ \n            handleClickOpen();\n        } \n    };\n\n    return (\n        <>\n            <Button \n                className={classes.borderBotonChico}\n                onClick={handleClickOpen}\n            >\n                <Box>\n                    <Box>\n                        <Badge \n                            badgeContent={listaEnEspera ? listaEnEspera.length : 0 } \n                            color=\"primary\" \n                            style={{fontSize: 45}}\n                        >\n                            <img \n                                src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/ventas/lista-de-espera.svg' \n                                alt=\"icono caja2\" \n                                style={{width: 38}} \n                            />\n                        </Badge>\n                    </Box>\n                    <Box>\n                        <Typography variant=\"body2\" >\n                            <b>Ventas en Espera</b>\n                        </Typography>\n                    </Box>\n                    <Box>\n                        <Typography variant=\"caption\" style={{color: '#808080'}} >\n                            <b>Alt + L</b>\n                        </Typography>\n                    </Box>\n                </Box>\n            </Button>\n            <Dialog\n\t\t\t\tmaxWidth='lg'\n\t\t\t\topen={open} \n\t\t\t\tonClose={handleClickOpen} \n\t\t\t\tTransitionComponent={Transition}\n\t\t\t>\n                <DialogContent>\n                    <Grid container item lg={12}>\n                        <Box\n                            display=\"flex\"\n                            flexGrow={1}\n                        >\n                            <Box>\n                                <img src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/ventas/lista-de-espera.svg' alt=\"icono caja\" className={classes.iconSizeDialogs} />\n                            </Box>\n                            <Box m={2} >\n                                <Divider orientation=\"vertical\" />\n                            </Box>\n                            <Box mt={3} >\n                                <Typography variant=\"h6\">\n                                    Ventas en espera\n                                </Typography>\n                            </Box>\n                        </Box>\n                        <Box>\n                            <Button variant=\"contained\" color=\"secondary\" onClick={handleClickOpen} size=\"large\">\n                                <CloseIcon />\n                            </Button>\n                        </Box>\n                        </Grid>\n                        <Grid>\n                            <ListaVentas />\n                        </Grid>\n                </DialogContent>\n            </Dialog>\n        </>\n    )\n}","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport { IconButton, TablePagination } from '@material-ui/core';\nimport DeleteIcon from '@material-ui/icons/Delete';\n\nconst columns = [\n\t{ id: 'folio', label: 'Folio', minWidth: 20, align: 'center' },\n\t{ id: 'cliente', label: 'Cliente', minWidth: 330 },\n\t{ id: 'fecha', label: 'Fecha.', minWidth: 100, align: 'center'},\n\t{ id: 'total', label: 'Total', minWidth: 100, align: 'center'},\n];\n\nfunction createData(folio, cliente, fecha, total) {\n\treturn { folio, cliente, fecha, total};\n}\n\nconst rows = [\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n\tcreateData(2, 'Jabon', 50, 10),\n];\n\nconst useStyles = makeStyles({\n\troot: {\n\t\twidth: '100%'\n\t},\n\tcontainer: {\n\t\tmaxHeight: '50vh'\n\t}\n});\n\nexport default function ListaVentasRealizadas() {\n\tconst classes = useStyles();\n\tconst [ page, setPage ] = React.useState(0);\n\tconst [ rowsPerPage, setRowsPerPage ] = React.useState(8);\n\n\tconst handleChangePage = (event, newPage) => {\n\t\tsetPage(newPage);\n\t};\n\n\tconst handleChangeRowsPerPage = (event) => {\n\t\tsetRowsPerPage(+event.target.value);\n\t\tsetPage(0);\n\t};\n\n\treturn (\n\t\t<Paper className={classes.root}>\n\t\t\t<TableContainer className={classes.container}>\n\t\t\t\t<Table stickyHeader size=\"small\" aria-label=\"a dense table\">\n\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t{columns.map((column) => (\n\t\t\t\t\t\t\t\t<TableCell key={column.id} align={column.align} style={{ width: column.minWidth }}>\n\t\t\t\t\t\t\t\t\t{column.label}\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t<TableCell align='center' style={{ width: 35 }}>\n\t\t\t\t\t\t\t\tEliminar\n\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t</TableHead>\n\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t{rows.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage).map((row) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<TableRow hover role=\"checkbox\" tabIndex={-1} key={row.code}>\n\t\t\t\t\t\t\t\t\t{columns.map((column) => {\n\t\t\t\t\t\t\t\t\t\tconst value = row[column.id];\n\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t<TableCell key={column.id} align={column.align}>\n\t\t\t\t\t\t\t\t\t\t\t\t{column.format && typeof value === 'number' ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolumn.format(value)\n\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t<TableCell align='center' >\n\t\t\t\t\t\t\t\t\t\t<IconButton aria-label=\"delete\" size='small'>\n\t\t\t\t\t\t\t\t\t\t\t<DeleteIcon fontSize=\"small\" />\n\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t\t</TableBody>\n\t\t\t\t</Table>\n\t\t\t</TableContainer>\n\t\t\t<TablePagination\n\t\t\t\trowsPerPageOptions={[ 10, 25, 100 ]}\n\t\t\t\tcomponent=\"div\"\n\t\t\t\tcount={rows.length}\n\t\t\t\trowsPerPage={rowsPerPage}\n\t\t\t\tpage={page}\n\t\t\t\tonChangePage={handleChangePage}\n\t\t\t\tonChangeRowsPerPage={handleChangeRowsPerPage}\n\t\t\t/>\n\t\t</Paper>\n\t);\n}","import React, { useState } from 'react'\nimport useStyles from '../styles';\n\nimport { Box, Button, Dialog, DialogActions, DialogContent, Divider,Grid, IconButton, InputBase,  Paper, Slide, Typography } from '@material-ui/core'\nimport { Search } from '@material-ui/icons';\nimport ListaVentasRealizadas from './ListaVentasRealizadas';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { FcPaid, FcSearch } from 'react-icons/fc';\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function VentasRealizadas() {\n\n    const classes = useStyles();\n\n    const [open, setOpen] = useState(false);\n    \n    const handleClickOpen = () => { \n\t\tsetOpen(!open);\n\t};\n\n    window.addEventListener('keydown', Mi_funcin); \n    function Mi_funcin(e){\n        if(e.altKey && e.keyCode === 86){ \n            handleClickOpen();\n        } \n    };\n\n    return (\n        <>\n           <Button \n                className={classes.borderBotonChico}\n                onClick={handleClickOpen}\n            >\n                <Box>\n                    <Box>\n                        <FcSearch style={{fontSize: 45}} />\n                    </Box>\n                    <Box>\n                        <Typography variant=\"body2\" >\n                            <b>Buscar Folio</b>\n                        </Typography>\n                    </Box>\n                    <Box>\n                        <Typography variant=\"caption\" style={{color: '#808080'}} >\n                            <b>Alt + V</b>\n                        </Typography>\n                    </Box>\n                </Box>\n            </Button>\n            <Dialog\n\t\t\t\tmaxWidth='lg'\n\t\t\t\topen={open} \n\t\t\t\tonClose={handleClickOpen} \n\t\t\t\tTransitionComponent={Transition}\n\t\t\t>\n\n                <DialogContent>\n                    <Grid container item lg={12}>\n                        <Box\n                            display=\"flex\"\n                            flexGrow={1}\n                        >\n                            <Box>\n                                <img src='https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/ventas/lista-de-espera.svg' alt=\"icono caja\" className={classes.iconSizeDialogs} />\n                            </Box>\n                            <Box m={2} >\n                                <Divider orientation=\"vertical\" />\n                            </Box>\n                            <Box mt={3}>\n                                <Typography variant=\"h6\">\n                                    Ventas Realizadas\n                                </Typography>\n                            </Box>\n                        </Box>\n                        <Box>\n                            <Button variant=\"contained\" color=\"secondary\" onClick={handleClickOpen} size=\"large\">\n                                <CloseIcon />\n                            </Button>\n                        </Box>\n                        </Grid>\n                        <Grid>\n                            <div className={classes.formInputFlex}>\n                                <Box width=\"100%\">\n                                    <Paper className={classes.rootBusqueda}>\n                                        <InputBase\n                                            fullWidth\n                                            placeholder=\"Buscar venta...\"\n                                        />\n                                        <IconButton >\n                                            <Search />\n                                        </IconButton>\n                                    </Paper>\n                                </Box>\n                            </div>\n                            <ListaVentasRealizadas />\n                        </Grid>\n                </DialogContent>\n            </Dialog>\n        </>\n    )\n}","import { Grid } from '@material-ui/core'\nimport React, { Fragment } from 'react'\nimport Abonos from '../../pages/ventas/Abonos/Abonos'\nimport BuscarProducto from '../../pages/ventas/BuscarProductos/BuscarProducto'\nimport ClientesVentas from '../../pages/ventas/ClientesVentas/ClientesVentas'\nimport Cotizacion from '../../pages/ventas/Cotizacion/Cotizacion'\nimport AbrirCajon from '../../pages/ventas/Operaciones/AbrirCajon'\nimport CancelarVenta from '../../pages/ventas/Operaciones/CancelarVenta'\nimport CerrarVenta from '../../pages/ventas/Operaciones/CerrarVenta'\nimport ConsultarPrecio from '../../pages/ventas/Operaciones/ConsultarPrecio'\nimport PreciosProductos from '../../pages/ventas/Operaciones/PreciosProducto'\nimport VentasEspera from '../../pages/ventas/VentasEspera/VentasEspera'\nimport VentasRealizadas from '../../pages/ventas/VentasRealizadas/VentasRealizadas'\nimport useStyles from './styles';\n\nexport default function NavegacionVentasLateral() {\n\n    const classes = useStyles();\n\n    return (\n        <Fragment>\n            <Grid \n                container \n                className={classes.drawerColor}\n            >\n                <Grid item lg={6} md={6} xs={6}>\n                    <CerrarVenta />\n                </Grid>\n                <Grid item lg={6} md={6} xs={6}>\n                    <BuscarProducto />\n                </Grid>\n                <Grid item lg={6} md={6} xs={6}>\n                    <CancelarVenta />\n                </Grid>\n                <Grid item lg={6} md={6} xs={6}>\n                    <Cotizacion type='GENERAR' />\n                </Grid>\n                <Grid item lg={6} md={6} xs={6}>\n                    <PreciosProductos />\n                </Grid>\n                <Grid item lg={6} md={6} xs={6}>\n                    <VentasEspera />\n                </Grid>\n                <Grid item lg={6} md={6} xs={6}>\n                    <ClientesVentas />\n                </Grid>\n                <Grid item lg={6} md={6} xs={6}>\n                    <VentasRealizadas />\n                </Grid>\n                <Grid item lg={6} md={6} xs={6}>\n                    <ConsultarPrecio />\n                </Grid>\n                <Grid item lg={6} md={6} xs={6}>\n                    <Abonos />\n                </Grid>\n            </Grid>\n        </Fragment>\n    )\n}\n","import React, { forwardRef, Fragment, useContext, useState } from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Slide from \"@material-ui/core/Slide\";\nimport { CircularProgress, IconButton } from \"@material-ui/core\";\nimport { Delete } from \"@material-ui/icons\";\nimport { VentasContext } from \"../../context/Ventas/ventasContext\";\n\nimport {\n  findProductArray,\n  calculatePrices2,\n} from \"../../config/reuserFunctions\";\n\nconst Transition = forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function EliminarProducto({\n  producto,\n  setNewProductoVentas,\n  newProductoVentas,\n  setDatosVentasActual,\n}) {\n  const [open, setOpen] = useState(false);\n  const [loading, setLoading] = useState(false);\n  /* const [ alert, setAlert ] = useState({ message: '', status: '', open: false }); */\n\n  const { updateTablaVentas, setUpdateTablaVentas } = useContext(VentasContext);\n\n  const handleToggleModal = () => setOpen(!open);\n\n  const eliminarProductoBD = async () => {\n    // console.log(producto);\n    let venta = JSON.parse(localStorage.getItem(\"DatosVentas\"));\n    let productosVentas = venta === null ? [] : venta.productos;\n    const venta_actual = venta === null ? [] : venta;\n    let productosVentasTemp = productosVentas;\n    let venta_existente =\n      venta === null\n        ? {\n            subTotal: 0,\n            total: 0,\n            impuestos: 0,\n            iva: 0,\n            ieps: 0,\n            descuento: 0,\n            monedero: 0,\n          }\n        : venta;\n\n    const producto_encontrado = await findProductArray(\n      producto\n    );\n    console.log(\"llego\");\n    if (producto_encontrado.found) {\n      const { cantidad_venta, ...newP } = producto;\n      console.log(\"llego\");\n\n      // newP.precio_actual_producto = newP.descuento_activo ? newP.descuento.precio_con_descuento :  newP.precio;\n      //Sacar los impuestos que se van a restar\n      // let calculoResta = await calculatePrices(newP, cantidad_venta, newP.granel_producto, newP.precio_actual_producto);\n\n      const new_resta = await calculatePrices2({\n        newP: newP,\n        cantidad: cantidad_venta,\n        precio_boolean: true,\n        precio: newP.precio_actual_object,\n        granel: newP.granel_producto,\n        origen: \"\",\n      });\n\n      productosVentasTemp.splice(producto_encontrado.producto_found.index, 1);\n      const CalculosData = {\n        subTotal:\n          parseFloat(venta_existente.subTotal) -\n          parseFloat(new_resta.subtotalCalculo),\n        total:\n          parseFloat(venta_existente.total) -\n          parseFloat(new_resta.totalCalculo),\n        impuestos:\n          parseFloat(venta_existente.impuestos) -\n          parseFloat(new_resta.impuestoCalculo),\n        iva: parseFloat(venta_existente.iva) - parseFloat(new_resta.ivaCalculo),\n        ieps:\n          parseFloat(venta_existente.ieps) - parseFloat(new_resta.iepsCalculo),\n        descuento:\n          parseFloat(venta_existente.descuento) -\n          parseFloat(new_resta.descuentoCalculo),\n        monedero:\n          parseFloat(venta_existente.monedero) -\n          parseFloat(new_resta.monederoCalculo),\n      };\n      localStorage.setItem(\n        \"DatosVentas\",\n        JSON.stringify({\n          ...CalculosData,\n          cliente:\n            venta_actual.venta_cliente === true ? venta_actual.cliente : {},\n          venta_cliente:\n            venta_actual.venta_cliente === true\n              ? venta_actual.venta_cliente\n              : false,\n          productos: productosVentasTemp,\n        })\n      );\n      setDatosVentasActual(CalculosData);\n      setUpdateTablaVentas(!updateTablaVentas);\n    }\n  };\n\n  return (\n    <Fragment>\n      {/* <SnackBarMessages alert={alert} setAlert={setAlert} /> */}\n      <IconButton size=\"small\" onClick={() => handleToggleModal()}>\n        <Delete size=\"small\" color=\"error\" />\n      </IconButton>\n      <Dialog\n        open={open}\n        TransitionComponent={Transition}\n        keepMounted\n        onClose={() => handleToggleModal()}\n        aria-labelledby=\"alert-dialog-delete-producto\"\n      >\n        <DialogTitle id=\"alert-dialog-delete-producto\">\n          {\"Ests seguro de eliminar este producto?\"}\n        </DialogTitle>\n        <DialogActions style={{ display: \"flex\", justifyContent: \"center\" }}>\n          <Button onClick={() => handleToggleModal()} color=\"inherit\">\n            Cancelar\n          </Button>\n          <Button\n            onClick={() => eliminarProductoBD()}\n            color=\"secondary\"\n            startIcon={\n              loading ? <CircularProgress color=\"inherit\" size={20} /> : null\n            }\n          >\n            Eliminar\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </Fragment>\n  );\n}\n","import React, { useState, useEffect, Fragment, useRef, useContext } from \"react\";\nimport PropTypes from \"prop-types\";\nimport clsx from \"clsx\";\nimport { lighten, makeStyles } from \"@material-ui/core/styles\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport TableSortLabel from \"@material-ui/core/TableSortLabel\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Checkbox from \"@material-ui/core/Checkbox\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport FilterListIcon from \"@material-ui/icons/FilterList\";\nimport Input from \"@material-ui/core/Input\";\nimport EliminarProductoVenta from \"./EliminarProductoVenta\";\n\nimport { useDebounce } from \"use-debounce\";\nimport {\n  findProductArray,\n  verifiPrising,\n  calculatePrices2\n} from \"../../config/reuserFunctions\";\nimport { VentasContext } from '../../context/Ventas/ventasContext';\nimport { Avatar } from \"@material-ui/core\";\n\n\nconst headCells = [\n  {\n    id: \"Cantidad\",\n    numeric: false,\n    disablePadding: true,\n    label: \"Cantidad\",\n    width: 20,\n  },\n  {\n    id: \"Descripcion\",\n    numeric: true,\n    disablePadding: false,\n    label: \"Descripcion\",\n    width: 340,\n  },\n  {\n    id: \"Existencias\",\n    numeric: true,\n    disablePadding: false,\n    label: \"Existencias\",\n    width: 40,\n  },\n  {\n    id: \"% Desc\",\n    numeric: true,\n    disablePadding: false,\n    label: \"% Desc\",\n    width: 50,\n  },\n  {\n    id: \"U. Venta\",\n    numeric: true,\n    disablePadding: false,\n    label: \"U. Venta\",\n    width: 50,\n  },\n  {\n    id: \"Precio U\",\n    numeric: true,\n    disablePadding: false,\n    label: \"Precio U\",\n    width: 100,\n  },\n  {\n    id: \"Eliminar\",\n    numeric: true,\n    disablePadding: false,\n    label: \"Eliminar\",\n    width: 10,\n  },\n];\n\nfunction EnhancedTableHead(props) {\n  const {\n    classes,\n    onSelectAllClick,\n    order,\n    orderBy,\n    numSelected,\n    rowCount,\n    onRequestSort,\n  } = props;\n  const createSortHandler = (property) => (event) => {\n    onRequestSort(event, property);\n  };\n\n  return (\n    <TableHead>\n      <TableRow>\n        <TableCell padding=\"checkbox\">\n          <Checkbox\n            indeterminate={numSelected > 0 && numSelected < rowCount}\n            checked={rowCount > 0 && numSelected === rowCount}\n            onChange={onSelectAllClick}\n            inputProps={{ \"aria-label\": \"select all desserts\" }}\n          />\n        </TableCell>\n        {headCells.map((headCell) => (\n          <TableCell\n            key={headCell.id}\n            align={headCell.numeric ? \"right\" : \"left\"}\n            padding={headCell.disablePadding ? \"none\" : \"normal\"}\n            sortDirection={orderBy === headCell.id ? order : false}\n            style={{ width: headCell.width }}\n          >\n            <TableSortLabel\n              active={orderBy === headCell.id}\n              direction={orderBy === headCell.id ? order : \"asc\"}\n              onClick={createSortHandler(headCell.id)}\n            >\n              {headCell.label}\n              {orderBy === headCell.id ? (\n                <span className={classes.visuallyHidden}>\n                  {order === \"desc\" ? \"sorted descending\" : \"sorted ascending\"}\n                </span>\n              ) : null}\n            </TableSortLabel>\n          </TableCell>\n        ))}\n      </TableRow>\n    </TableHead>\n  );\n}\n\nEnhancedTableHead.propTypes = {\n  classes: PropTypes.object.isRequired,\n  numSelected: PropTypes.number.isRequired,\n  onRequestSort: PropTypes.func.isRequired,\n  onSelectAllClick: PropTypes.func.isRequired,\n  order: PropTypes.oneOf([\"asc\", \"desc\"]).isRequired,\n  orderBy: PropTypes.string.isRequired,\n  rowCount: PropTypes.number.isRequired,\n};\n\nconst useToolbarStyles = makeStyles((theme) => ({\n  root: {\n    paddingLeft: theme.spacing(2),\n    paddingRight: theme.spacing(1),\n  },\n  highlight:\n    theme.palette.type === \"light\"\n      ? {\n          color: theme.palette.secondary.main,\n          backgroundColor: lighten(theme.palette.secondary.light, 0.85),\n        }\n      : {\n          color: theme.palette.text.primary,\n          backgroundColor: theme.palette.secondary.dark,\n        },\n  title: {\n    flex: \"1 1 100%\",\n  },\n}));\n\nconst EnhancedTableToolbar = (props) => {\n  const classes = useToolbarStyles();\n  const { numSelected } = props;\n\n  return (\n    <Toolbar\n      className={clsx(classes.root, {\n        [classes.highlight]: numSelected > 0,\n      })}\n    >\n      {numSelected > 0 ? (\n        <Typography\n          className={classes.title}\n          color=\"inherit\"\n          variant=\"subtitle1\"\n          component=\"div\"\n        >\n          {numSelected} selected\n        </Typography>\n      ) : (\n        <Typography\n          className={classes.title}\n          variant=\"h6\"\n          id=\"tableTitle\"\n          component=\"div\"\n        >\n          Nutrition\n        </Typography>\n      )}\n\n      {numSelected > 0 ? (\n        <Tooltip title=\"Delete\">\n          <IconButton aria-label=\"delete\">\n            <DeleteIcon />\n          </IconButton>\n        </Tooltip>\n      ) : (\n        <Tooltip title=\"Filter list\">\n          <IconButton aria-label=\"filter list\">\n            <FilterListIcon />\n          </IconButton>\n        </Tooltip>\n      )}\n    </Toolbar>\n  );\n};\n\nEnhancedTableToolbar.propTypes = {\n  numSelected: PropTypes.number.isRequired,\n};\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: \"100%\",\n    marginTop: 7\n  },\n  paper: {\n    width: \"100%\",\n    marginBottom: theme.spacing(2),\n  },\n  container: {\n    height: \"100%\",\n    '& ::-webkit-scrollbar': {\n      display: 'none'\n    }\n  },\n  table: {\n    minWidth: 750,\n    height: \"55vh\",\n  },\n  visuallyHidden: {\n    border: 0,\n    clip: \"rect(0 0 0 0)\",\n    height: 1,\n    margin: -1,\n    overflow: \"hidden\",\n    padding: 0,\n    position: \"absolute\",\n    top: 20,\n    width: 1,\n  },\n\n}));\n\nexport default function EnhancedTable({\n  setDatosVentasActual,\n}) {\n  const classes = useStyles();\n  const [ selected, setSelected ] = useState([]);\n\tconst sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n\n  const { setProductoCambioPrecio, setPrecioSelectProductoVenta, updateTablaVentas, setUpdateTablaVentas } = useContext(VentasContext);\n\n  const [datosTabla, setDatosTabla] = useState([]);\n\n  useEffect(() => {\n    const venta = JSON.parse(localStorage.getItem(\"DatosVentas\"));\n    setDatosTabla(venta === null ? [] : venta.productos);\n  }, [updateTablaVentas]);\n\n  const handleClick = (name) => {\n    let newSelected = [];\n    const exist = selected.indexOf(name) !== -1;\n    if(exist){\n      newSelected = [];\n    }else{\n      newSelected = newSelected.concat([], name);\n    } \n    const producto = name.id_producto.precios.precios_producto.filter((p) => p.precio_neto === name.precio_actual_producto);\n    if(producto.length > 0) setPrecioSelectProductoVenta(producto);\n    setProductoCambioPrecio(name);\n    setSelected(newSelected);\n  };\n\n  const TwoClickInRowTableBuy = (e, producto) => {\n    try {\n      let timer;\n      clearTimeout(timer);\n      if (e.detail === 2) {\n        handleClick(producto);\n        setProductoCambioPrecio(producto);\n      }\n      \n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const isSelected = (name) => {\n    return selected.indexOf(name) !== -1;\n  };\n\n  return (\n    <div className={classes.root}>\n      <Paper>\n        <TableContainer className={classes.container}>\n          <Table\n            stickyHeader\n            size=\"small\"\n            aria-labelledby=\"tableTitle\"\n            aria-label=\"a dense table\"\n          >\n            <TableHead>\n              <TableRow>\n                <TableCell style={{ width: 25, textAlign:\"center\" }}></TableCell>\n                <TableCell style={{ width: 20, textAlign:\"center\" }}>Cantidad</TableCell>\n                <TableCell style={{ width: 340 }}>Descripcion</TableCell>\n                <TableCell style={{ width: 40, textAlign:\"center\" }}>Exis.</TableCell>\n                <TableCell style={{ width: 50, textAlign:\"center\" }}><b>% Desct.</b></TableCell>\n                <TableCell style={{ width: 40, textAlign:\"center\" }}>Rx.</TableCell>\n                <TableCell style={{ width: 50, textAlign:\"center\" }}>U. Venta</TableCell>\n                <TableCell style={{ width: 100, textAlign:\"center\" }}>Precio U</TableCell>\n                <TableCell align=\"center\" style={{ width: 10 }} />\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {datosTabla?.map((producto, index) => {\n                const isItemSelected = isSelected(producto);\n                const labelId = `enhanced-table-checkbox-${index}`;\n                return (\n                  <RenderTableRows\n                    key={index}\n                    producto={producto}\n                    setUpdateTablaVentas={setUpdateTablaVentas}\n                    updateTablaVentas={updateTablaVentas}\n                    setDatosVentasActual={setDatosVentasActual}\n                    isItemSelected={isItemSelected}\n                    labelId={labelId}\n                    handleClick={handleClick}\n                    selected={selected}\n                    TwoClickInRowTableBuy={TwoClickInRowTableBuy}\n                    setSelected={setSelected}\n                  />\n                );\n              })}\n            </TableBody>\n          </Table>\n        </TableContainer>\n      </Paper>\n    </div>\n  );\n}\n\nconst RenderTableRows = ({\n  producto,\n  setUpdateTablaVentas,\n  updateTablaVentas,\n  setDatosVentasActual,\n  TwoClickInRowTableBuy,\n  handleClick,\n  isItemSelected,\n  labelId,\n  setSelected,\n  selected\n}) => {\n  // const [actuallyProduct, setActuallyProduct] = useState(producto);\n  const [newCantidadProduct, setNewCantidadProduct] = useState(\n    producto.cantidad_venta\n  );\n  \n  const [ tempAmount, setTempAmount ] = useState(producto.cantidad_venta);\n\n  const textfield = useRef(null);\n  const [value] = useDebounce(newCantidadProduct, 500);\n\n\n  useEffect(() => {\n    setTempAmount(producto.cantidad_venta);\n  }, [producto.cantidad_venta]);\n\n  useEffect(() => {\n    console.log(value);\n    CalculeDataPricing(value);\n  }, [value]);\n  \n\n  const calculateNewPricingAmount = (cantidad) => {\n    try {\n      setTempAmount(cantidad);\n      setNewCantidadProduct(cantidad);\n    } catch (error) {\n      return false;\n    }\n  }\n\n  const CalculeDataPricing = async (new_cant) => {\n    if(new_cant === \"\" || new_cant == 0){\n      setTempAmount(producto.cantidad_venta);\n    }else{\n      let venta = JSON.parse(localStorage.getItem(\"DatosVentas\"));\n      let productosVentas = venta === null ? [] : venta.productos;\n      const venta_actual = venta === null ? [] : venta;\n      let productosVentasTemp = productosVentas;\n      let venta_existente =\n        venta === null\n          ? {\n              subTotal: 0,\n              total: 0,\n              impuestos: 0,\n              iva: 0,\n              ieps: 0,\n              descuento: 0,\n              monedero: 0\n            }\n          : venta;\n\n      let CalculosData = {};\n      \n      //Buscar y obtener ese producto en el array de ventas\n      const producto_encontrado = await findProductArray(\n        producto\n      );\n      \n      if (producto_encontrado.found) {\n        const { cantidad_venta, ...newP } =\n          producto_encontrado.producto_found.producto;\n        newP.cantidad_venta = parseInt(new_cant);\n        const verify_prising = await verifiPrising(newP);\n        const newPrising = verify_prising.found ? verify_prising.object_prising : newP.precio_actual_object;\n        \n        const new_resta = await calculatePrices2({newP, cantidad: cantidad_venta, precio_boolean: true, precio: newP.precio_actual_object, granel: newP.granel_producto, origen: \"Tabla\" });\n        const new_suma = await calculatePrices2({newP, cantidad: parseInt(new_cant), precio_boolean: true, precio: newPrising, granel: newP.granel_producto, origen: \"Tabla\" });\n\n        console.log(new_resta);\n        console.log(new_suma);\n\n        newP.iva_total_producto = parseFloat(new_suma.ivaCalculo);\n        newP.ieps_total_producto = parseFloat(new_suma.iepsCalculo);\n        newP.impuestos_total_producto = parseFloat(new_suma.impuestoCalculo);\n        newP.subtotal_total_producto = parseFloat(new_suma.subtotalCalculo);\n        newP.total_total_producto = parseFloat(new_suma.totalCalculo);\n\n        if (verify_prising.found) {\n          newP.precio_a_vender = new_suma.totalCalculo;\n          newP.precio_anterior = newP.precio_actual_porducto;\n          newP.precio_actual_producto = verify_prising.pricing;\n          newP.precio_actual_object = verify_prising.object_prising;\n\n          newP.precio_actual_object = {\n            cantidad_unidad: verify_prising.object_prising.cantidad_unidad ? verify_prising.object_prising.cantidad_unidad : null,\n            numero_precio: verify_prising.object_prising.numero_precio ? verify_prising.object_prising.numero_precio : null,\n            unidad_maxima: verify_prising.object_prising.unidad_maxima ? verify_prising.object_prising.unidad_maxima : null,\n            precio_general: verify_prising.object_prising.precio_general ? verify_prising.object_prising.precio_general : null,\n            precio_neto: verify_prising.object_prising.precio_neto ? verify_prising.object_prising.precio_neto : null,\n            precio_venta: verify_prising.object_prising.precio_venta ? verify_prising.object_prising.precio_venta : null,\n            iva_precio: verify_prising.object_prising.iva_precio ? verify_prising.object_prising.iva_precio : null,\n            ieps_precio: verify_prising.object_prising.ieps_precio ? verify_prising.object_prising.ieps_precio : null,\n            utilidad: verify_prising.object_prising.utilidad ? verify_prising.object_prising.utilidad : null,\n            porciento: verify_prising.object_prising.porciento ? verify_prising.object_prising.porciento : null,\n            dinero_descontado: verify_prising.object_prising.dinero_descontado ? verify_prising.object_prising.dinero_descontado : null,\n          };\n\n        }else{\n          newP.cantidad_venta = parseInt(new_cant);\n          newP.precio_anterior = newP.precio_actual_producto;\n          newP.precio_a_vender = new_suma.totalCalculo;\n        }\n\n        productosVentasTemp.splice(\n          producto_encontrado.producto_found.index,\n          1,\n          newP\n        );\n\n        CalculosData = {\n          subTotal:\n            parseFloat(venta_existente.subTotal) -\n            parseFloat(new_resta.subtotalCalculo) +\n            new_suma.subtotalCalculo,\n          total:\n            parseFloat(venta_existente.total) -\n            parseFloat(new_resta.totalCalculo) +\n            new_suma.totalCalculo,\n          impuestos:\n            parseFloat(venta_existente.impuestos) -\n            parseFloat(new_resta.impuestoCalculo) +\n            new_suma.impuestoCalculo,\n          iva:\n            parseFloat(venta_existente.iva) -\n            parseFloat(new_resta.ivaCalculo) +\n            new_suma.ivaCalculo,\n          ieps:\n            parseFloat(venta_existente.ieps) -\n            parseFloat(new_resta.iepsCalculo) +\n            new_suma.iepsCalculo,\n          descuento:\n            parseFloat(venta_existente.descuento) -\n            parseFloat(new_resta.descuentoCalculo) +\n            new_suma.descuentoCalculo,\n          monedero:\n            parseFloat(venta_existente.monedero) -\n            parseFloat(new_resta.monederoCalculo) +\n            new_suma.monederoCalculo,\n        };\n      } else {\n        console.log(\"El producto no existe\");\n      }\n\n      localStorage.setItem(\n        \"DatosVentas\",\n        JSON.stringify({\n          ...CalculosData,\n          cliente:\n            venta_actual.venta_cliente === true ? venta_actual.cliente : {},\n          venta_cliente:\n            venta_actual.venta_cliente === true\n              ? venta_actual.venta_cliente\n              : false,\n          productos: productosVentasTemp,\n        })\n      );\n      setDatosVentasActual(CalculosData);\n      //Recargar la tabla de los productos\n      setUpdateTablaVentas(!updateTablaVentas);\n    }\n  };\n\n  return (\n    <Fragment>\n      <TableRow\n        role=\"checkbox\"\n        style={{height: '15px'}}\n        aria-checked={isItemSelected}\n        tabIndex={-1}\n        key={producto._id}\n        selected={isItemSelected}\n        hover\n        onClick={(e) => TwoClickInRowTableBuy(e,producto)}\n      >\n        <TableCell padding=\"checkbox\">\n          <Checkbox\n            onClick={(event) => {\n              if(selected.length > 0) setSelected([]);\n              handleClick(producto);\n            }}\n            checked={isItemSelected}\n            inputProps={{ \"aria-labelledby\": labelId }}\n          />\n        </TableCell>\n        <TableCell>\n          <Input\n            inputRef={textfield}\n            onChange={(e) => calculateNewPricingAmount(e.target.value)}\n            value={tempAmount}\n            type=\"number\"\n            name=\"cantidad_venta\"\n          />\n        </TableCell>\n        <TableCell>\n          {producto.id_producto.datos_generales.nombre_comercial}\n        </TableCell>\n        <TableCell  style={{ textAlign:\"center\"}} >\n          {producto.concepto === \"medida\"\n            ? producto.cantidad\n            : producto.inventario_general.map(\n                (existencia) => `${existencia.cantidad_existente}`\n              )}\n        </TableCell>\n        <TableCell  style={{ textAlign:\"center\"}} >\n          %{\" \"}\n          {producto.precio_actual_object.porciento !== null\n            ? producto.precio_actual_object.porciento\n            : 0}\n        </TableCell>\n        <TableCell style={{ textAlign:\"center\"}} >\n          {producto.id_producto.datos_generales.receta_farmacia === true\n            ? \"Si\"\n            : \"No\"}\n        </TableCell>\n        <TableCell style={{ textAlign:\"center\"}} >\n          {producto.inventario_general.map(\n            (existencia) => `${existencia.unidad_inventario}`\n          )}\n        </TableCell>\n        <TableCell style={{ textAlign:\"center\"}} >\n          $ { producto.precio_actual_object.precio_neto}\n        </TableCell>\n        <TableCell style={{ textAlign:\"center\"}} >\n          <EliminarProductoVenta\n            producto={producto}\n            setDatosVentasActual={setDatosVentasActual}\n          />\n        </TableCell>\n      </TableRow>\n    </Fragment>\n  );\n};\n","import React, { useState, useEffect, useContext } from \"react\";\nimport { OBTENER_CLIENTES_VENTAS } from \"../../gql/Ventas/ventas_generales\";\nimport { useQuery } from \"@apollo/client\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport { TextField } from \"@material-ui/core\";\n// import { BlurLinear } from \"@material-ui/icons\";\n// import { VentasContext } from \"../../context/Ventas/ventasContext\";\nimport { ClienteCtx } from '../../context/Catalogos/crearClienteCtx';\nimport { VentasContext } from \"../../context/Ventas/ventasContext\";\n\nexport default function ClientesVentas() {\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n\n  const { setUpdateClientVenta, updateClientVenta } = useContext(ClienteCtx);\n  const { setClientesVentas } = useContext(VentasContext);\n\n  const [selectClient, setSelectClient] = useState({});\n\n  // console.log(sesion.empresa._id);\n  // console.log(sesion.sucursal._id);\n\n  const { loading, data, error, refetch } = useQuery(OBTENER_CLIENTES_VENTAS, {\n    variables: {\n      empresa: sesion.empresa._id,\n      sucursal: sesion.sucursal._id,\n    },\n    fetchPolicy: \"network-only\"\n  });\n\n  // console.log(error);\n  // console.log(\"data\",data);\n  let obtenerClientes = [];\n  if (data) obtenerClientes = data.obtenerClientesVentas;\n  // console.log(obtenerClientes);\n\n  useEffect(() => {\n    const data = () => {\n      // console.log(\"llego al final\");\n      const venta = JSON.parse(localStorage.getItem(\"DatosVentas\"));\n      if (venta !== null) {\n        if(venta.cliente.nombre_cliente === undefined) {\n            setSelectClient('N/A');\n        }else{\n          setSelectClient(venta.cliente);\n          setClientesVentas(venta.cliente);\n        }\n        refetch();\n      }\n    }\n    data();\n  }, [refetch, updateClientVenta]);\n\n  const ChangeClientAutocomplate = (value) => {\n    try {\n      // console.log(value);\n      const venta = JSON.parse(localStorage.getItem(\"DatosVentas\"));\n      let venta_actual = venta === null ? {} : venta;\n      setSelectClient(value);\n      \n      // console.log(venta_actual);\n      let dataCliente = {\n          subTotal:\n            venta_actual.subTotal === undefined ? 0 : venta_actual.subTotal,\n          total: venta_actual.total === undefined ? 0 : venta_actual.total,\n          impuestos:\n            venta_actual.impuestos === undefined ? 0 : venta_actual.impuestos,\n          iva: venta_actual.iva === undefined ? 0 : venta_actual.iva,\n          ieps: venta_actual.ieps === undefined ? 0 : venta_actual.ieps,\n          descuento:\n            venta_actual.descuento === undefined ? 0 : venta_actual.descuento,\n          monedero: venta_actual.monedero === undefined ? 0 : venta_actual.monedero,\n          // tipo_cambio: venta_actual.tipo_cambio ? venta_actual.tipo_cambio : {},\n          venta_cliente: value === null ? false : true,\n          productos:\n            venta_actual.productos?.length > 0 ? venta_actual. productos : [],\n      }\n      if(value !== null) dataCliente = {...dataCliente, cliente: value, }\n      localStorage.setItem(\"DatosVentas\",JSON.stringify(dataCliente));\n      setUpdateClientVenta(!updateClientVenta);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  if (loading) return null;\n\n  return (\n    <div>\n      <Autocomplete\n        id=\"combo-box-producto-codigo\"\n        size=\"small\"\n        fullWidth\n        options={obtenerClientes}\n        getOptionLabel={(option) =>\n          option.nombre_cliente ? option.nombre_cliente : \"N/A\"\n        }\n        renderInput={(params) => <TextField {...params} variant=\"outlined\" />}\n        onChange={(_, value) => ChangeClientAutocomplate(value)}\n        getOptionSelected={(option) => option.nombre_cliente}\n        value={selectClient ? selectClient : null}\n      />\n    </div>\n  );\n}\n","import React, { useState, useEffect, useContext } from \"react\";\nimport {\n  Box,\n  FormControl,\n  Grid,\n  IconButton,\n  InputBase,\n  MenuItem,\n  Paper,\n  Select,\n  Typography,\n  CircularProgress,\n  Backdrop,\n  Portal,\n} from \"@material-ui/core\";\nimport useStyles from \"./styles\";\n\nimport {\n  /* FcRating, */ FcBusinessman,\n  FcCalendar,\n  FcSalesPerformance,\n} from \"react-icons/fc\";\nimport { FaBarcode, FaMoneyCheckAlt } from \"react-icons/fa\";\nimport { AiOutlineFieldNumber } from \"react-icons/ai\";\nimport { Search } from \"@material-ui/icons\";\nimport MonetizationOnIcon from \"@material-ui/icons/MonetizationOn\";\n\nimport TablaVentasCheckbox from \"./Tabla_ventas_checkbox\";\nimport { CONSULTA_PRODUCTO_UNITARIO } from \"../../gql/Ventas/ventas_generales\";\nimport { useLazyQuery } from \"@apollo/client\";\nimport ClientesVentas from \"./ClientesVentas\";\nimport { VentasContext } from \"../../context/Ventas/ventasContext\";\nimport SnackBarMessages from \"../../components/SnackBarMessages\";\n\nimport { Fragment } from \"react\";\n// import MonedaCambio from \"./Operaciones/MonedaCambio\";\nimport Cotizacion from \"./Cotizacion/Cotizacion\";\n\n// import Backdrop from '@mui/material/Backdrop';\n\nimport {\n  findProductArray,\n  verifiPrising,\n  calculatePrices2,\n} from \"../../config/reuserFunctions\";\n\n// import { ClienteProvider } from '../../context/Catalogos/crearClienteCtx';\n\nexport default function VentasGenerales() {\n  const sesion = JSON.parse(localStorage.getItem(\"sesionCafi\"));\n  // const productosVentas = JSON.parse(localStorage.getItem('productosVentas'));\n  const classes = useStyles();\n  // const [newProductoVentas, setNewProductoVentas] = useState(false);\n  const [granelBase, setGranelBase] = useState({\n    granel: false,\n    valor: 0,\n  });\n\n  const {\n    updateTablaVentas,\n    setUpdateTablaVentas,\n    setOpen,\n    clientesVentas,\n    openBackDrop,\n  } = useContext(VentasContext);\n\n  const [DatosVentasActual, setDatosVentasActual] = useState({\n    subTotal: 0,\n    total: 0,\n    impuestos: 0,\n    iva: 0,\n    ieps: 0,\n    descuento: 0,\n    monedero: 0,\n    // tipo_cambio: {},\n  });\n\n  const [alert, setAlert] = useState({ message: \"\", status: \"\", open: false });\n\n  const [obtenerProductos, { data, loading, error }] = useLazyQuery(\n    CONSULTA_PRODUCTO_UNITARIO,\n    {\n      fetchPolicy: \"network-only\",\n    }\n  );\n\n  const [consultaBase, setConsultaBase] = useState(false);\n\n  let productosBase = null;\n  if (error) {\n    console.log(data, loading, error.networkError);\n    console.log(data, loading, error.graphQLErrors);\n  }\n  // console.log(data,loading, error);\n  if (data) productosBase = data.obtenerUnProductoVentas;\n  // console.log(productosBase);\n\n  useEffect(() => {\n    if (error) {\n      if (error.networkError) {\n        setAlert({ message: `Error de servidor`, status: \"error\", open: true });\n      } else if (error.graphQLErrors) {\n        setAlert({\n          message: `${error.graphQLErrors[0]?.message}`,\n          status: \"error\",\n          open: true,\n        });\n      }\n    } else {\n      if (productosBase !== null) {\n        if (productosBase.cantidad !== null) {\n          agregarProductos(productosBase);\n        } else {\n          setOpen(true);\n          setAlert({\n            message: `Este producto no existe`,\n            status: \"error\",\n            open: true,\n          });\n        }\n      }\n    }\n  }, [loading]);\n\n  useEffect(() => {\n    setGranelBase({\n      granel: false,\n      valor: 0,\n    });\n    const venta = JSON.parse(localStorage.getItem(\"DatosVentas\"));\n    if (venta !== null) {\n      setDatosVentasActual({\n        subTotal: parseFloat(venta.subTotal),\n        total: parseFloat(venta.total),\n        impuestos: parseFloat(venta.impuestos),\n        iva: parseFloat(venta.iva),\n        ieps: parseFloat(venta.ieps),\n        descuento: parseFloat(venta.descuento),\n        monedero: parseFloat(venta.monedero),\n      });\n    }\n  }, [updateTablaVentas]);\n\n  const keyUpEvent = async (event) => {\n    if (event.code === \"Enter\" || event.code === \"NumpadEnter\") {\n      const input_value = event.target.value.trim();\n      const data = input_value.split(\"*\");\n      if (data.length > 1) {\n        let data_operation = isNaN(data[0]) ? data[1] : data[0];\n        let data_key = isNaN(data[0]) ? data[0] : data[1];\n        setGranelBase({\n          granel: true,\n          valor: parseFloat(data_operation),\n        });\n        obtenerProductos({\n          variables: {\n            datosProductos: data_key,\n            sucursal: sesion.sucursal._id,\n            empresa: sesion.empresa._id,\n          },\n          fetchPolicy: \"network-only\",\n        });\n        setConsultaBase(!consultaBase);\n      } else {\n        setGranelBase({\n          granel: false,\n          valor: 0,\n        });\n        obtenerProductos({\n          variables: {\n            datosProductos: input_value,\n            sucursal: sesion.sucursal._id,\n            empresa: sesion.empresa._id,\n          },\n          fetchPolicy: \"network-only\",\n        });\n        setConsultaBase(!consultaBase);\n      }\n    }\n  };\n\n  const agregarProductos = async (producto) => {\n    let venta = JSON.parse(localStorage.getItem(\"DatosVentas\"));\n    let productosVentas = venta === null ? [] : venta.productos;\n    let venta_actual = venta === null ? [] : venta;\n    let venta_existente =\n      venta === null\n        ? {\n            subTotal: 0,\n            total: 0,\n            impuestos: 0,\n            iva: 0,\n            ieps: 0,\n            descuento: 0,\n            monedero: 0,\n          }\n        : venta;\n\n    let productosVentasTemp = productosVentas;\n\n    let CalculosData = {\n      subTotal: 0,\n      total: 0,\n      impuestos: 0,\n      iva: 0,\n      ieps: 0,\n      descuento: 0,\n      monedero: 0,\n    };\n\n    const producto_encontrado = await findProductArray(producto);\n\n    if (!producto_encontrado.found && producto._id) {\n      const newP = { ...producto };\n      //Tomar el precio con descuento o normal\n      const productoPrecioFinal = newP.descuento_activo\n        ? newP.descuento.precio_neto\n        : newP.precio_unidad.precio_neto;\n\n      const new_prices = await calculatePrices2({\n        newP,\n        cantidad: 0,\n        granel: granelBase,\n        origen: \"Ventas1\",\n        precio_boolean: false,\n      });\n\n      new_prices.newP.precio_anterior = productoPrecioFinal;\n\n      new_prices.newP.iva_total_producto = parseFloat(new_prices.ivaCalculo);\n      new_prices.newP.ieps_total_producto = parseFloat(new_prices.iepsCalculo);\n      new_prices.newP.impuestos_total_producto = parseFloat(\n        new_prices.impuestoCalculo\n      );\n      new_prices.newP.subtotal_total_producto = parseFloat(\n        new_prices.subtotalCalculo\n      );\n      new_prices.newP.total_total_producto = parseFloat(\n        new_prices.totalCalculo\n      );\n\n      console.log(new_prices.newP);\n\n      productosVentasTemp.push(new_prices.newP);\n\n      CalculosData = {\n        subTotal:\n          parseFloat(venta_existente.subTotal) +\n          parseFloat(new_prices.subtotalCalculo),\n        total:\n          parseFloat(venta_existente.total) +\n          parseFloat(new_prices.totalCalculo),\n        impuestos:\n          parseFloat(venta_existente.impuestos) +\n          parseFloat(new_prices.impuestoCalculo),\n        iva:\n          parseFloat(venta_existente.iva) + parseFloat(new_prices.ivaCalculo),\n        ieps:\n          parseFloat(venta_existente.ieps) + parseFloat(new_prices.iepsCalculo),\n        descuento:\n          parseFloat(venta_existente.descuento) +\n          parseFloat(new_prices.descuentoCalculo),\n        monedero:\n          parseFloat(venta_existente.monedero) +\n          parseFloat(new_prices.monederoCalculo),\n      };\n    } else if (producto_encontrado.found && producto._id) {\n      const { cantidad_venta, ...newP } =\n        producto_encontrado.producto_found.producto;\n\n      newP.cantidad_venta = parseInt(cantidad_venta) + 1;\n\n      const verify_prising = await verifiPrising(newP);\n\n      console.log(verify_prising);\n\n      //Verificar si el precio fue encontrado\n      if (verify_prising.found) {\n        const calculo_resta = await calculatePrices2({\n          newP,\n          cantidad_venta,\n          granel: newP.granel_producto,\n          origen: \"\",\n          precio_boolean: true,\n          precio: newP.precio_actual_object,\n        });\n\n        const calculo_sumar = await calculatePrices2({\n          newP,\n          cantidad_venta: newP.cantidad_venta,\n          granel: newP.granel_producto,\n          origen: \"\",\n          precio_boolean: true,\n          precio: verify_prising.object_prising,\n        });\n\n        newP.precio_a_vender = calculo_sumar.totalCalculo;\n        newP.precio_anterior = newP.precio_actual_producto;\n        newP.precio_actual_producto = verify_prising.pricing;\n\n        console.log(calculo_sumar);\n\n        newP.iva_total_producto = parseFloat(calculo_sumar.ivaCalculo);\n        newP.ieps_total_producto = parseFloat(calculo_sumar.iepsCalculo);\n        newP.impuestos_total_producto = parseFloat(\n          calculo_sumar.impuestoCalculo\n        );\n        newP.subtotal_total_producto = parseFloat(\n          calculo_sumar.subtotalCalculo\n        );\n        newP.total_total_producto = parseFloat(calculo_sumar.totalCalculo);\n\n        console.log(newP);\n\n        newP.precio_actual_object = {\n          cantidad_unidad: verify_prising.object_prising.cantidad_unidad\n            ? verify_prising.object_prising.cantidad_unidad\n            : null,\n          numero_precio: verify_prising.object_prising.numero_precio\n            ? verify_prising.object_prising.numero_precio\n            : null,\n          unidad_maxima: verify_prising.object_prising.unidad_maxima\n            ? verify_prising.object_prising.unidad_maxima\n            : null,\n          precio_general: verify_prising.object_prising.precio_general\n            ? verify_prising.object_prising.precio_general\n            : null,\n          precio_neto: verify_prising.object_prising.precio_neto\n            ? verify_prising.object_prising.precio_neto\n            : null,\n          precio_venta: verify_prising.object_prising.precio_venta\n            ? verify_prising.object_prising.precio_venta\n            : null,\n          iva_precio: verify_prising.object_prising.iva_precio\n            ? verify_prising.object_prising.iva_precio\n            : null,\n          ieps_precio: verify_prising.object_prising.ieps_precio\n            ? verify_prising.object_prising.ieps_precio\n            : null,\n          utilidad: verify_prising.object_prising.utilidad\n            ? verify_prising.object_prising.utilidad\n            : null,\n          porciento: verify_prising.object_prising.porciento\n            ? verify_prising.object_prising.porciento\n            : null,\n          dinero_descontado: verify_prising.object_prising.dinero_descontado\n            ? verify_prising.object_prising.dinero_descontado\n            : null,\n        };\n\n        productosVentasTemp.splice(\n          producto_encontrado.producto_found.index,\n          1,\n          newP\n        );\n\n        CalculosData = {\n          subTotal:\n            parseFloat(venta_existente.subTotal) -\n            parseFloat(calculo_resta.subtotalCalculo) +\n            calculo_sumar.subtotalCalculo,\n          total:\n            parseFloat(venta_existente.total) -\n            parseFloat(calculo_resta.totalCalculo) +\n            calculo_sumar.totalCalculo,\n          impuestos:\n            parseFloat(venta_existente.impuestos) -\n            parseFloat(calculo_resta.impuestoCalculo) +\n            calculo_sumar.impuestoCalculo,\n          iva:\n            parseFloat(venta_existente.iva) -\n            parseFloat(calculo_resta.ivaCalculo) +\n            calculo_sumar.ivaCalculo,\n          ieps:\n            parseFloat(venta_existente.ieps) -\n            parseFloat(calculo_resta.iepsCalculo) +\n            calculo_sumar.iepsCalculo,\n          descuento:\n            parseFloat(venta_existente.descuento) -\n            parseFloat(calculo_resta.descuentoCalculo) +\n            calculo_sumar.descuentoCalculo,\n          monedero:\n            parseFloat(venta_existente.monedero) -\n            parseFloat(calculo_resta.monederoCalculo) +\n            calculo_sumar.monederoCalculo,\n        };\n      } else {\n        console.log(\"Entro\");\n        const productoPrecioFinal = newP.descuento_activo\n          ? newP.descuento.precio_neto\n          : newP.precio_unidad.precio_neto;\n\n        const new_prices = await calculatePrices2({\n          newP,\n          cantidad: 0,\n          granel: granelBase,\n          origen: \"Ventas2\",\n        });\n\n        new_prices.newP.precio_actual_producto = productoPrecioFinal;\n\n        console.log(new_prices);\n\n        new_prices.newP.iva_total_producto =\n          parseFloat(new_prices.ivaCalculo) * parseFloat(newP.cantidad_venta);\n        new_prices.newP.ieps_total_producto =\n          parseFloat(new_prices.iepsCalculo) * parseFloat(newP.cantidad_venta);\n        new_prices.newP.impuestos_total_producto =\n          parseFloat(new_prices.impuestoCalculo) *\n          parseFloat(newP.cantidad_venta);\n        new_prices.newP.subtotal_total_producto =\n          parseFloat(new_prices.subtotalCalculo) *\n          parseFloat(newP.cantidad_venta);\n        new_prices.newP.total_total_producto =\n          parseFloat(new_prices.totalCalculo) * parseFloat(newP.cantidad_venta);\n\n        productosVentasTemp.splice(\n          producto_encontrado.producto_found.index,\n          1,\n          new_prices.newP\n        );\n\n        CalculosData = {\n          subTotal:\n            parseFloat(venta_existente.subTotal) +\n            parseFloat(new_prices.subtotalCalculo),\n          total: parseFloat(venta_existente.total) + new_prices.totalCalculo,\n          impuestos:\n            parseFloat(venta_existente.impuestos) + new_prices.impuestoCalculo,\n          iva: parseFloat(venta_existente.iva) + new_prices.ivaCalculo,\n          ieps: parseFloat(venta_existente.ieps) + new_prices.iepsCalculo,\n          descuento:\n            parseFloat(venta_existente.descuento) + new_prices.descuentoCalculo,\n          monedero:\n            parseFloat(venta_existente.monedero) + new_prices.monederoCalculo,\n        };\n      }\n    }\n\n    localStorage.setItem(\n      \"DatosVentas\",\n      JSON.stringify({\n        ...CalculosData,\n        cliente:\n          venta_actual.venta_cliente === true ? venta_actual.cliente : {},\n        venta_cliente:\n          venta_actual.venta_cliente === true\n            ? venta_actual.venta_cliente\n            : false,\n        productos: productosVentasTemp,\n      })\n    );\n    setDatosVentasActual({\n      ...CalculosData,\n    });\n    setUpdateTablaVentas(!updateTablaVentas);\n  };\n\n  return (\n    <Fragment>\n      <SnackBarMessages alert={alert} setAlert={setAlert} />\n      <Box height=\"9%\">\n        <div className={classes.formInputFlex}>\n          <Box\n            width=\"100%\"\n            display=\"flex\"\n            justifyItems=\"center\"\n            alignSelf=\"center\"\n            justifySelf=\"center\"\n            alignItems=\"center\"\n          >\n            <Box mt={1} mr={1}>\n              <img\n                src=\"https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/ventas/busqueda-de-codigos-de-barras.svg\"\n                alt=\"iconoBander\"\n                className={classes.iconSize}\n              />\n            </Box>\n            <Box width=\"100%\">\n              <Paper className={classes.rootBusqueda}>\n                <InputBase\n                  width=\"100%\"\n                  fullWidth\n                  placeholder=\"Buscar producto...\"\n                  onKeyUp={keyUpEvent}\n                />\n                <IconButton>\n                  <Search />\n                </IconButton>\n              </Paper>\n            </Box>\n          </Box>\n          <Box\n            width=\"100%\"\n            display=\"flex\"\n            justifyItems=\"center\"\n            alignSelf=\"center\"\n            justifySelf=\"center\"\n            alignItems=\"center\"\n          >\n            <Box mt={1} mr={1}>\n              <img\n                src=\"https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/usuarios.svg\"\n                alt=\"iconoBander\"\n                className={classes.iconSize}\n              />\n            </Box>\n            <Box width=\"100%\" alignItems=\"center\">\n              <ClientesVentas sesion={sesion} />\n              {/* <Paper className={classes.rootBusqueda}>\n                  <InputBase fullWidth placeholder=\"Buscar cliente...\" />\n                  <IconButton>\n                    <Search />\n                  </IconButton>\n                </Paper> */}\n            </Box>\n          </Box>\n          {/* <Box width=\"100%\">\n              <MonedaCambio />\n            </Box> */}\n          <Box width=\"100%\" display=\"flex\">\n            <Box mr={1}>\n              <img\n                src=\"https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/ventas/publicalo.svg\"\n                alt=\"iconoBander\"\n                className={classes.iconSize}\n              />\n            </Box>\n            <Box width=\"100%\">\n              <FormControl variant=\"outlined\" fullWidth size=\"small\">\n                <Select\n                  id=\"tipo_documento\"\n                  value=\"TICKET\"\n                  name=\"tipo_documento\"\n                >\n                  <MenuItem value=\"\">\n                    <em>Selecciona uno</em>\n                  </MenuItem>\n                  <MenuItem value=\"TICKET\">TICKET</MenuItem>\n                  <MenuItem value=\"FACTURA\">FACTURA</MenuItem>\n                  <MenuItem value=\"NOTA REMISION\">NOTA REMISION</MenuItem>\n                </Select>\n              </FormControl>\n            </Box>\n          </Box>\n        </div>\n      </Box>\n\n      <Box height=\"65%\">\n        <TablaVentasCheckbox setDatosVentasActual={setDatosVentasActual} />\n      </Box>\n\n      <Box\n        display=\"flex\"\n        justifyContent=\"flex-end\"\n        flexDirection=\"column\"\n        height=\"25%\"\n      >\n        <Paper elevantion={3} style={{ padding: 2, marginTop: 2 }}>\n          <Grid container>\n            <Grid item lg={7}>\n              <Grid\n                container\n                direction=\"row\"\n                justifyContent=\"flex-end\"\n                alignItems=\"center\"\n              >\n                <Grid item lg={7}>\n                  <Box\n                    flexDirection=\"row-reverse\"\n                    display=\"flex\"\n                    alignItems=\"center\"\n                  >\n                    <Box>\n                      <Typography variant=\"subtitle1\">\n                        Cliente:{\" \"}\n                        <b style={{ fontSize: 16 }}>\n                          {clientesVentas ? clientesVentas.nombre_cliente : \"\"}\n                        </b>\n                      </Typography>\n                    </Box>\n                    <Box mt={0.5} mr={1}>\n                      <FcBusinessman style={{ fontSize: 19 }} />\n                    </Box>\n                  </Box>\n                  <Box\n                    flexDirection=\"row-reverse\"\n                    display=\"flex\"\n                    alignItems=\"center\"\n                  >\n                    <Box>\n                      <Typography variant=\"subtitle1\">\n                        Cliente.:{\" \"}\n                        <b style={{ fontSize: 16 }}>\n                          {clientesVentas ? clientesVentas.numero_cliente : \"\"}\n                        </b>\n                      </Typography>\n                    </Box>\n                    <Box mt={0.5} mr={1}>\n                      <AiOutlineFieldNumber style={{ fontSize: 22 }} />\n                    </Box>\n                  </Box>\n                  <Box\n                    flexDirection=\"row-reverse\"\n                    display=\"flex\"\n                    alignItems=\"center\"\n                  >\n                    <Box>\n                      <Typography variant=\"subtitle1\">\n                        Clave Clte.:{\" \"}\n                        <b style={{ fontSize: 16 }}>\n                          {clientesVentas ? clientesVentas.clave_cliente : \"\"}\n                        </b>\n                      </Typography>\n                    </Box>\n                    <Box mt={0.5} mr={1}>\n                      <FaBarcode style={{ fontSize: 19 }} />\n                    </Box>\n                  </Box>\n                </Grid>\n                <Grid item lg={5}>\n                  <Box\n                    flexDirection=\"row-reverse\"\n                    display=\"flex\"\n                    alignItems=\"center\"\n                  >\n                    <Box>\n                      <Typography variant=\"subtitle1\">\n                        Limite Credito:{\" \"}\n                        <b style={{ fontSize: 16 }}>\n                          ${clientesVentas ? clientesVentas.limite_credito : 0}\n                        </b>\n                      </Typography>\n                    </Box>\n                    <Box mt={0.5} mr={1}>\n                      <FaMoneyCheckAlt style={{ fontSize: 19 }} />\n                    </Box>\n                  </Box>\n                  {/* <Box\n                        flexDirection=\"row-reverse\"\n                        display=\"flex\"\n                        alignItems=\"center\"\n                      >\n                        <Box>\n                          <Typography variant=\"subtitle1\">\n                          Descs.: <b style={{fontSize: 16}}>{clientesVentas ? clientesVentas.numero_descuento : 0}%</b>\n                          </Typography>\n                        </Box>\n                        <Box mt={.5} mr={1}>\n                          <AiOutlineFieldNumber style={{fontSize: 22}} />\n                        </Box>\n                      </Box> */}\n                  P\n                  <Box\n                    flexDirection=\"row-reverse\"\n                    display=\"flex\"\n                    alignItems=\"center\"\n                  >\n                    <Box>\n                      <Typography variant=\"subtitle1\">\n                        Dias Credito:{\" \"}\n                        <b style={{ fontSize: 16 }}>\n                          {clientesVentas ? clientesVentas.dias_credito : 0}{\" \"}\n                          Dias\n                        </b>\n                      </Typography>\n                    </Box>\n                    <Box mt={0.5} mr={1}>\n                      <FcCalendar style={{ fontSize: 19 }} />\n                    </Box>\n                  </Box>\n                </Grid>\n              </Grid>\n            </Grid>\n            <Grid item lg={5}>\n              <Grid container>\n                <Grid item lg={7}>\n                  <Box\n                    display=\"flex\"\n                    alignItems=\"center\"\n                    flexDirection=\"row-reverse\"\n                  >\n                    <Box>\n                      <Typography variant=\"subtitle1\">\n                        Monedero :{\" \"}\n                        <b style={{ fontSize: 17 }}>\n                          ${\" \"}\n                          {DatosVentasActual\n                            ? DatosVentasActual?.monedero?.toFixed(2)\n                            : 0}\n                        </b>\n                      </Typography>\n                    </Box>\n                    <Box mt={0.5} mr={1}>\n                      <FcSalesPerformance style={{ fontSize: 19 }} />\n                    </Box>\n                  </Box>\n                  <Box\n                    flexDirection=\"row-reverse\"\n                    alignItems=\"center\"\n                    display=\"flex\"\n                  >\n                    <Box>\n                      <Typography variant=\"subtitle1\">\n                        Descuento:{\" \"}\n                        <b style={{ fontSize: 17 }}>\n                          $\n                          {DatosVentasActual\n                            ? DatosVentasActual?.descuento?.toFixed(2)\n                            : 0}\n                        </b>\n                      </Typography>\n                    </Box>\n                    <Box mt={0.5} mr={1}>\n                      <Box\n                        display=\"flex\"\n                        justifyContent=\"center\"\n                        alignItems=\"center\"\n                      >\n                        <img\n                          src=\"https://cafi-sistema-pos.s3.us-west-2.amazonaws.com/Iconos/price-tag.png\"\n                          alt=\"icono admin\"\n                          style={{ width: 20 }}\n                        />\n                      </Box>\n                    </Box>\n                  </Box>\n                </Grid>\n                <Grid item lg={5}>\n                  <Box flexDirection=\"row-reverse\" display=\"flex\" mr={1}>\n                    <Typography variant=\"subtitle1\">\n                      Subtotal:{\" \"}\n                      <b style={{ fontSize: 17 }}>\n                        ${\" \"}\n                        {DatosVentasActual?.subTotal\n                          ? DatosVentasActual?.subTotal?.toFixed(2)\n                          : 0}\n                      </b>\n                    </Typography>\n                  </Box>\n                  <Box display=\"flex\" flexDirection=\"row-reverse\" mr={1}>\n                    <Typography variant=\"subtitle1\">\n                      Impuestos:{\" \"}\n                      <b style={{ fontSize: 17 }}>\n                        ${\" \"}\n                        {DatosVentasActual?.impuestos\n                          ? DatosVentasActual?.impuestos?.toFixed(2)\n                          : 0}\n                      </b>\n                    </Typography>\n                  </Box>\n                  {/* <Box\n                        flexDirection=\"row-reverse\"\n                        display=\"flex\"\n                        mr={1}\n                      >\n                        <Typography variant=\"subtitle1\" >\n                          Iva: <b style={{fontSize: 17}}>$ {DatosVentasActual?.iva ? DatosVentasActual.iva.toFixed(2) : 0}</b>\n                        </Typography>\n                      </Box> */}\n                </Grid>\n              </Grid>\n            </Grid>\n          </Grid>\n          <Box display=\"flex\" flexDirection=\"row-reverse\" p={1}>\n            <Typography variant=\"h4\">\n              Total:{\" \"}\n              <b style={{ color: \"green\" }}>\n                $\n                {DatosVentasActual?.total\n                  ? DatosVentasActual?.total.toFixed(2)\n                  : 0}\n              </b>\n            </Typography>\n            <Box mt={0.5} mr={1}>\n              <MonetizationOnIcon style={{ fontSize: 37, color: \"green\" }} />\n            </Box>\n          </Box>\n        </Paper>\n      </Box>\n      <Portal>\n        <Backdrop\n          style={{zIndex: '99999'}}\n          open={openBackDrop}\n        >\n          <CircularProgress color=\"inherit\" />\n        </Backdrop>\n      </Portal>\n    </Fragment>\n  );\n}\n","import React, { useContext, useEffect, useState } from 'react'\nimport VentasGenerales from './VentasGenerales';\nimport { ClienteProvider } from '../../context/Catalogos/crearClienteCtx';\nimport AbrirTurno from '../ventas/AbrirCerrarTurno/AbrirTurno';\nimport { Box, CircularProgress, Grid, Paper, Typography } from '@material-ui/core';\nimport { VentasContext } from '../../context/Ventas/ventasContext';\n\nexport default function VentaIndex() {\n\n    const { turnoActivo, setTurnoActivo } = useContext(VentasContext);\n    const [ varActive, setVarActive ] = useState(false);\n    const turnoEnCurso = JSON.parse(localStorage.getItem('turnoEnCurso'));\n\n    useEffect(() => {\n        const sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n        setVarActive(sesion.turno_en_caja_activo);\n        setTurnoActivo(false);\n    }, [ turnoActivo ]);\n\n    return (\n        <ClienteProvider>\n            {varActive === true && turnoEnCurso ? (\n                <VentasGenerales />\n            ) : (\n                <AbrirTurnoEnVentas />\n            )}\n        </ClienteProvider>\n    )\n};\n\nfunction AbrirTurnoEnVentas() {\n\n    const [loading, setLoading] = useState(false);\n\n\tif (loading) \n\treturn (\n\t\t<Box\n\t\tdisplay=\"flex\"\n\t\tflexDirection=\"column\"\n\t\tjustifyContent=\"center\"\n\t\talignItems=\"center\"\n\t\theight=\"80vh\"\n\t\t>\n\t\t\t<CircularProgress />\n\t\t</Box>\n\t);\n\n    return(\n        <Grid\n            container\n            direction=\"row\"\n            justifyContent=\"center\"\n            alignItems=\"center\"\n        >\n            <Box mt={5} >\n                <Paper elevation={5}>\n                    <Box p={2} textAlign=\"center\">\n                        <Typography variant=\"h6\">\n                            Si deseas realizar ventas inicia tu turno primeramente.\n                        </Typography>\n                    </Box>\n                    <AbrirTurno type=\"FRENTE\" setLoading={setLoading} />\n                </Paper>\n            </Box>\n        </Grid>\n    )\n}\n","export default __webpack_public_path__ + \"static/media/logochafa.744b44f9.PNG\";","export default __webpack_public_path__ + \"static/media/admin.cecfcd64.svg\";","export default __webpack_public_path__ + \"static/media/cart-add.d563c74d.svg\";","import { Box, Button, Container, makeStyles } from '@material-ui/core';\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport logo from '../../img/logochafa.PNG';\nimport adminIcon from '../../icons/ventas/admin.svg';\nimport cartIcon from '../../icons/ventas/cart-add.svg';\nimport PowerSettingsNewRoundedIcon from '@material-ui/icons/PowerSettingsNewRounded';\n\nconst useStyles = makeStyles((theme) => ({\n\ticon: {\n\t\twidth: 150,\n        fontSize: 150\n\t},\n\n}));\n\nexport default function LayoutHome(props) {\n\tconst classes = useStyles();\n\tconst sesion = JSON.parse(localStorage.getItem('sesionCafi'));\n\n\tif (!sesion) props.history.push('/');\n\n    const signOut = () => {\n\t\tlocalStorage.removeItem('sesionCafi');\n\t\tlocalStorage.removeItem('tokenCafi');\n\t\tprops.history.push('/');\n\t};\n\n\treturn (\n\t\t<Container maxWidth=\"md\">\n\t\t\t<Box height=\"90vh\">\n\t\t\t\t<Box display=\"flex\" justifyContent=\"center\">\n\t\t\t\t\t<img alt=\"logo ab\" src={logo} />\n\t\t\t\t</Box>\n\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" my={6}>\n\t\t\t\t\t<Button component={Link} to=\"/admin/inicio\">\n\t\t\t\t\t\t<Box display=\"flex\" flexDirection=\"column\" textAlign=\"center\">\n\t\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\">\n\t\t\t\t\t\t\t\t<img src={adminIcon} alt=\"icono numero calzado\" className={classes.icon} />\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\tAdmin\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button component={Link} to=\"/ventas/venta-general\">\n\t\t\t\t\t\t<Box display=\"flex\" flexDirection=\"column\" textAlign=\"center\">\n\t\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\">\n\t\t\t\t\t\t\t\t<img src={cartIcon} alt=\"icono numero calzado\" className={classes.icon} />\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\tVentas\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Button>\n                    <Button color=\"secondary\" onClick={signOut}>\n\t\t\t\t\t\t<Box display=\"flex\" flexDirection=\"column\" textAlign=\"center\">\n\t\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\">\n\t\t\t\t\t\t\t\t<PowerSettingsNewRoundedIcon className={classes.icon} />\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\tCerrar sesion\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Button>\n\t\t\t\t</Box>\n\t\t\t</Box>\n\t\t</Container>\n\t);\n}\n","//layouts\nimport LayoutLogin from '../components/Layouts/LayoutLogin';\nimport LayoutAdmin from '../components/Layouts/LayoutAdmin';\nimport LayoutVentas from '../components/Layouts/LayoutVentas';\nimport LayoutHome from '../components/Layouts/LayoutHome';\n\n//sucursales pages\nimport AdminInicio from '../pages/sucursales/AdminInicio'\n\n//ventas pages\nimport Venta_index from '../pages/ventas/venta_index'\n\nconst routes = [\n\t{\n\t\tpath: '/',\n\t\tcomponent: LayoutLogin,\n\t\texact: true\n\t},\n\t{\n\t\tpath: '/home',\n\t\tcomponent: LayoutHome,\n\t\texact: true\n\t},\n\t{\n\t\tpath: '/admin',\n\t\tcomponent: LayoutAdmin,\n\t\texact: false,\n\t\troutes: [\n\t\t\t{\n\t\t\t\tpath: '/admin/inicio',\n\t\t\t\tcomponent: AdminInicio,\n\t\t\t\texact: true,\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tpath: '/ventas/venta-general',\n\t\tcomponent: LayoutVentas,\n\t\texact: false\n\t}\n\t\n];\n\nexport default routes;\n","export default \"data:image/jpeg;base64,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\"","import React from 'react';\nimport { RegProductoProvider } from '../../context/Catalogos/CtxRegProducto';\nimport AdminInicio from '../../pages/sucursales/AdminInicio';\nimport NavegacionAdmin from '../Navegaciones/NavegacionAdmin';\n\n\nexport default function LayoutAdmin(props) {\n    const sesion = localStorage.getItem(\"sesionCafi\");\n\n    if(!sesion) props.history.push('/');\n\n\treturn (\n\t\t<div>\n\t\t\t<RegProductoProvider>\n\t\t\t\t<NavegacionAdmin />\n\t\t\t\t<AdminInicio />\n\t\t\t</RegProductoProvider>\n\t\t</div>\n\t);\n}\n","import React from 'react';\nimport NavegacionVentas from '../Navegaciones/NavegacionVentas';\nimport NavegacionVentasLateral from '../Navegaciones/NavegacionVentasLateral';\nimport { Grid, Box } from '@material-ui/core';\nimport { VentasProvider } from '../../context/Ventas/ventasContext';\nimport VentaIndex from '../../pages/ventas/venta_index';\n\nexport default function LayoutVentas(props) {\n    const sesion = localStorage.getItem(\"sesionCafi\");\n\n    if(!sesion) props.history.push('/');\n\n\treturn (\n\t\t<Box height='100vh'>\n\t\t\t<VentasProvider>\n\t\t\t\t<Grid lg={12} style={{height: '10vh'}}>\n\t\t\t\t\t<NavegacionVentas />\n\t\t\t\t</Grid>\n\t\t\t\t<Grid container style={{height: '90vh'}}>\n\t\t\t\t\t<Grid lg={9}>\n\t\t\t\t\t\t<VentaIndex />\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid lg={3}>\n\t\t\t\t\t\t<NavegacionVentasLateral />\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</VentasProvider>\n\t\t</Box>\n\t);\n}","import { blue, grey } from '@material-ui/core/colors';\nimport { createMuiTheme } from '@material-ui/core/styles';\n\nconst theme = createMuiTheme({\n\tpalette: {\n\t\tnavbar: grey[50],\n\t\tprimary: {\n\t\t\tmain: blue[500]\n\t\t},\n\t\tsecondary: {\n\t\t\tmain: '#f50057'\n\t\t},\n\t}\n});\n\nexport default theme;\n","import {\n  ApolloClient,\n  /* createHttpLink, */ InMemoryCache,\n} from \"@apollo/client\";\nimport { createUploadLink } from \"apollo-upload-client\";\n\nconst httpLink = createUploadLink({\n\turi: 'https://cafi-punto-venta.herokuapp.com/',\n  // uri: 'http://localhost:4000/',\n});\n\nconst client = new ApolloClient({\n  connectToDevTools: true,\n  cache: new InMemoryCache({\n    addTypename: false,\n  }),\n  link: httpLink,\n});\n\nexport default client;\n","import React from 'react';\nimport { Box, CssBaseline, ThemeProvider } from '@material-ui/core';\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\nimport routes from './config/routes';\nimport theme from './config/colors';\n\nimport client from './config/apollo';\nimport { ApolloProvider } from '@apollo/client';\nimport { AccesosProvider } from './context/Accesos/accesosCtx';\n\n\nfunction App() {\n\treturn (\n\t\t<Box height='100vh' >\n\t\t\t<ApolloProvider client={client}>\n\t\t\t\t<AccesosProvider>\n\t\t\t\t\t<div className=\"App\" >\n\t\t\t\t\t\t<ThemeProvider theme={theme}>\n\t\t\t\t\t\t\t<CssBaseline />\n\t\t\t\t\t\t\t<Router>\n\t\t\t\t\t\t\t\t<Switch>{routes.map((route, index) => <RoutesWithSubRoutes key={index} {...route} />)}</Switch>\n\t\t\t\t\t\t\t</Router>\n\t\t\t\t\t\t</ThemeProvider>\n\t\t\t\t\t</div>\n\t\t\t\t</AccesosProvider>\n\t\t\t</ApolloProvider>\n\t\t</Box>\n\t);\n}\n\nfunction RoutesWithSubRoutes(route) {\n\treturn (\n\t\t<Route\n\t\t\tpath={route.path}\n\t\t\texact={route.exact}\n\t\t\trender={(props) => <route.component routes={route.routes} {...props} />}\n\t\t/>\n\t);\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport \"./index.scss\"\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}